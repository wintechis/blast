<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: blast_storage.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: blast_storage.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * @fileoverview Saving and loading block programs
 * to samples folder and local storage.
 * @author derwehr@gmail.com (Thomas Wehr)
 * @license https://www.gnu.org/licenses/agpl-3.0.de.html AGPLv3
 */
'use strict';

import {addWebBluetoothDevice} from './blast_things.js';
import {addWebHidDevice} from './blast_things.js';
import {getWebBluetoothDevices} from './blast_things.js';
import {getWebHIDDevices} from './blast_things.js';
import {getWorkspace} from './blast_interpreter.js';
import {optionalServices} from './blast_webBluetooth.js';
import {resetInterpreter} from './blast_interpreter.js';
import {resetThings} from './blast_things.js';
import {requestDevice} from './blast_webBluetooth.js';
import {throwError} from './blast_interpreter.js';


/**
 * Http-request error message.
 */
const HTTPREQUEST_ERROR = 'There was a problem with the request.\n';

/**
 * Save-success alert.
 */
const LINK_ALERT = 'Load your blocks with this link:\n\n%1';

/**
 * Hash error message.
 */
const NOT_FOUND_ERROR = 'Sorry, couldn\'t find "%1".';

/**
 * Faulty xml error message.
 */
const XML_ERROR = 'Could not load your saved file.\n' +
    'Perhaps it was created with a different version of Blast?';

/**
 * Stores the filename when loading programs for saving, default is 'BLAST.xml'.
 */
let filename = 'BLAST.xml';

/**
  * Save blocks to URI and return a link containing key to XML.
  * @param {boolean=} download optional, if true, save to file.
  */
export const link = function(download) {
  const workspace = getWorkspace();
  let xml = Blockly.Xml.workspaceToDom(workspace, true);
  // Remove x/y coordinates from XML if there's only one block stack.
  if (workspace.getTopBlocks(false).length == 1 &amp;&amp; xml.querySelector) {
    const block = xml.querySelector('block');
    if (block) {
      block.removeAttribute('x');
      block.removeAttribute('y');
    }
  }
  // Remove device id from xml.
  xml = removeDeviceId_(xml);
  // prettify xml.
  xml = Blockly.Xml.domToPrettyText(xml);

  // Save XML using filesaver.js.
  if (download === true) {
    const blob = new Blob([xml], {type: 'text/xml'});
    saveAs(blob, filename);
    return;
  }

  // Save to server.
  let path = document.getElementById('loadWorkspace-input').value;
  if (!path || path.length == 0) {
    path = 'storage/' + generatePath();
  }
  const data = Blockly.Xml.domToText(xml);
  saveXML_(path, data);
};

/**
 * Replaces device ID with user defined name in all blocks of type
 * things_webBluetooth and webHID in the xml.
 * @param {!Element} xml XML to remove device ids from.
 * @return {!Element} XML with device ids removed.
 * @private
 */
const removeDeviceId_ = function(xml) {
  const blocks = xml.querySelectorAll('block');

  for (const block of blocks) {
    const type = block.getAttribute('type');
    if (type == 'things_webBluetooth' || type == 'things_webHID') {
      // first child is the device id
      const device = block.firstElementChild;
      if (device) {
        const id = device.textContent;
        const tuples = type == 'things_webBluetooth' ? getWebBluetoothDevices() : getWebHIDDevices();
        let name;
        // get the key of the device id
        for (const [key, value] of tuples) {
          if (value === id) {
            name = key;
            break;
          }
        }
        device.textContent = name;
      }
    }
  }
  return xml;
};

/**
 * Save the current workspace to URL defined in input.
 * @param {string} path path to save workspace at.
 * @param {string} xml the xml to save.
 * @private
 */
const saveXML_ = function(path, xml) {
  Blockly.hideChaff();
  
  // Send put request.
  fetch(path, {
    method: 'PUT',
    body: xml,
  }).then((response) => {
    if (response.ok) {
      location.hash = path;
      Blockly.alert(LINK_ALERT.replace('%1', window.location.href));
    } else {
      throwError(HTTPREQUEST_ERROR);
    }
  });
};

export const load = function() {
  const url = document.getElementById('loadWorkspace-input').value;
    
  // if input is empty show warning and return.
  if (url == '') {
    Blockly.alert('Enter a URI first.');
    return;
  }

  // save filename to {@link filename}
  const fn = url.split('/').pop();
  if (fn.indexOf('.') > -1) {
    filename = fn;
  }

  retrieveXML_(url);
};

/**
   * Load XML from a file.
   * @param {Event} event A change event.
   * @return {Promise} A promise that will be resolved when the file is loaded.
   * @private
   */
export const loadXMLFromFile = function(event) {
  return new Promise(function(resolve, reject) {
    // Save filename to {@link filename}
    const fn = event.target.files[0].name;
    if (fn.indexOf('.') > -1) {
      filename = fn;
    }

    const fileReader = new FileReader();
    fileReader.onload = function(e) {
      loadXML(e.target.result);
      resolve();
    };
    fileReader.onerror = function(evt) {
      reject(evt.target.error);
    };
    fileReader.readAsText(event.target.files[0]);
  });
};

/**
 * Resets the file selector.
 */
const resetFileInput = function() {
  const fileSelector = document.getElementById('file-selector');
  if (fileSelector) {
    fileSelector.value = '';
  }

  // reset filename
  filename = 'BLAST.xml';
};

/**
 * Load blocks from URI defined in {@link Blast.Ui.uriInput}.
 * @param {string} path path to the XML to load.
 * @private
 */
const retrieveXML_ = async function(path) {
  Blockly.hideChaff();
  // stop execution
  resetInterpreter();

  resetThings();

  resetFileInput();
  
  // send GET request
  fetch(path)
      .then((response) => {
        if (response.ok) {
          return response.text();
        } else {
          throwError(NOT_FOUND_ERROR.replace('%1', path));
        }
      })
      .then(loadXML);
};

/**
 * Loads the xml into the workspace.
 * @param {string} xmlString the xml to load.
 * @private
 */
const loadXML = function(xmlString) {
  let xml;
  const workspace = getWorkspace();
  // clear blocks
  workspace.clear();
  try {
    xml = Blockly.Xml.textToDom(xmlString);
  } catch (e) {
    throwError(XML_ERROR + '\nXML: ' + xml);
    return;
  }

  // prompt to WebBluetooth/webHID device connection
  if (xml.querySelector('block[type="things_webBluetooth"]') || xml.querySelector('block[type="things_webHID"]')) {
    generatePairButtons(xml);
    // show reconnect modal
    if (document.getElementById('rcModal')) {
      document.getElementById('rcModal').style.display = 'block';
    }
    // return. will continue after reconnecting to devices
    return;
  }
          
  Blockly.Xml.domToWorkspace(xml, workspace);
  monitorChanges_(workspace);
};

/**
 * Adds pair buttons for each web bluetooth block in xml to the reconnect modal.
 * @param {!Element} xml XML to parse for devices.
 * @private
 */
const generatePairButtons = function(xml) {
  if (window.location.href.includes('mobile')) {
    window.app.openReconnectDialog();
    generatePairButtonsMobile_(xml);
  } else {
    generatePairButtonsDesktop_(xml);
  }
};

/**
 * Adds pair buttons for each web bluetooth block in xml to the reconnect modal.
 * @param {!Element} xml XML to parse for devices.
 * @private
 */
const generatePairButtonsDesktop_ = function(xml) {
  const blocks = xml.querySelectorAll('block');
  const tbody = document.getElementById('rc-tbody');
  // delete all table rows from tbody
  while (tbody.firstChild) {
    tbody.removeChild(tbody.firstChild);
  }

  const blocksAdded = [];
  // add pair button for each web bluetooth block
  for (const block of blocks) {
    const type = block.getAttribute('type');
    if (type == 'things_webBluetooth' || type == 'things_webHID') {
      // get user defined name
      const name = block.firstElementChild.textContent;
      // skip if block was already added
      if (blocksAdded.includes(name)) {
        continue;
      }

      // add new row
      const row = document.createElement('tr');
      // generate name cell html
      const nameCell = document.createElement('td');
      nameCell.appendChild(document.createTextNode(name));
      // pair cell html
      const pairCell = document.createElement('td');
      const pairButton = document.createElement('input');
      pairButton.setAttribute('type', 'button');
      pairButton.setAttribute('id', 'pairButton-' + name);
      pairButton.setAttribute('value', 'Pair');
      // pair status html
      const statusCell = document.createElement('td');
      const pairStatus = document.createElement('span');
      pairStatus.setAttribute('id', 'pairStatus-' + name);
      pairStatus.innerHTML = '&amp;#x2718;';
      pairStatus.style.color = 'red';
      pairStatus.style.fontSize = '20px';
      pairStatus.style.fontWeight = 'bold';
      pairStatus.style.marginRight = '10px';
      // add pair status to status cell
      statusCell.appendChild(pairStatus);

      // pair button click listener
      pairButton.addEventListener('click', async function() {
        if (type == 'things_webBluetooth') {
          // set webbluetooth options
          const options = {};
          options.acceptAllDevices = true;
          options.optionalServices = optionalServices;
        
          const device = await requestDevice();
          // change pair status to checkmark
          document.getElementById('pairStatus-' + name).innerHTML = '&amp;#x2714;';
          document.getElementById('pairStatus-' + name).style.color = 'green';

          // set block id to device id
          block.firstElementChild.textContent = device.id;
          
          // if all devices have been paired, enable done button
          if (allConnectedDesktop_()) {
            document.getElementById('rc-done').disabled = false;
            // add done button click listener
            document.getElementById('rc-done').addEventListener('click', () => reconnectDoneHandler_(xml));
          }
        } else if (type == 'things_webHID') {
          const filters = [];
      
          navigator.hid.requestDevice({filters})
              .then((device) => {
                if (device.length === 0) throwError('Connection failed or cancelled by User.');
                // generate a unique id for the new device
                const uid = Date.now().toString(36) + Math.random().toString(36).substr(2);
                // add device to the device map with its uid
                addWebHidDevice(uid, name, device[0]);
                // change pair status to checkmark
                document.getElementById('pairStatus-' + name).innerHTML = '&amp;#x2714;';
                document.getElementById('pairStatus-' + name).style.color = 'green';

                // set block id to device id
                block.firstElementChild.textContent = uid;
                                
                // if all devices have been paired, enable done button
                if (allConnectedDesktop_()) {
                  document.getElementById('rc-done').disabled = false;
                  // add done button click listener
                  document.getElementById('rc-done').addEventListener('click', () => reconnectDoneHandler_(xml));
                }
              })
              .catch((error) => {
                throwError('Connection failed or cancelled by User.');
                console.error(error);
              });
        }
      });

      pairCell.appendChild(pairButton);

      // add new cells to row and row to table
      row.appendChild(nameCell);
      row.appendChild(pairCell);
      row.appendChild(statusCell);
      tbody.appendChild(row);
      blocksAdded.push(name);
    }
    // add cancel button click listener
    document.getElementById('rc-cancel').addEventListener('click', () => reconnectCancelHandler_());
  }
};

/**
 * Adds pair buttons for each web bluetooth block in xml to the mobile reconnect dialog.
 * @param {!Element} xml XML to parse for devices.
 */
const generatePairButtonsMobile_ = function(xml) {
  const blocks = xml.querySelectorAll('block');
  // empty list
  const list = document.getElementById('rc-list');
  while (list.firstChild) {
    list.removeChild(list.firstChild);
  }
  const blocksAdded = [];
  // add pair button for each webBluetooth and webHID block
  for (const block of blocks) {
    const type = block.getAttribute('type');
    if (type == 'things_webBluetooth' || type == 'things_webHID') {
      // get user defined name
      const name = block.firstElementChild.textContent;
      // skip if block was already added
      if (blocksAdded.includes(name)) {
        continue;
      }
      // add new list item
      const item = document.createElement('li');
      item.setAttribute('id', 'rc-item-' + name);
      item.setAttribute('class', 'mdc-list-item');
      // add bluetooth icon to list item
      const icon = document.createElement('span');
      icon.setAttribute('id', 'rc-icon-' + name);
      icon.setAttribute('class', 'mdc-list-item__graphic material-icons');
      icon.setAttribute('aria-hidden', 'true');
      icon.innerHTML = type == 'things_webBluetooth' ? 'bluetooth_disabled' : 'usb_off';
      item.appendChild(icon);
      // add name and status to list item
      const text = document.createElement('span');
      text.setAttribute('class', 'mdc-list-item__text');
      const primaryText = document.createElement('span');
      primaryText.setAttribute('class', 'mdc-list-item__primary-text');
      primaryText.innerHTML = name;
      text.appendChild(primaryText);
      const secondaryText = document.createElement('span');
      secondaryText.setAttribute('class', 'mdc-list-item__secondary-text');
      secondaryText.setAttribute('id', 'rc-status-' + name);
      secondaryText.innerHTML = 'disconnected';
      text.appendChild(secondaryText);
      item.appendChild(text);
      // add click listener to list item
      item.addEventListener('click', async function() {
        if (type == 'things_webBluetooth') {
          // set webbluetooth options
          const options = {};
          options.acceptAllDevices = true;
          options.optionalServices = optionalServices;
                
          const device = await requestDevice();
          addWebBluetoothDevice(device.id, name);
          // change pair status to connected
          document.getElementById('rc-status-' + name).innerHTML = 'connected';
          // change icon to bluetooth connected
          document.getElementById('rc-icon-' + name).innerHTML = 'bluetooth';
          // change icon color to blue
          document.getElementById('rc-icon-' + name).style.color = '#0d30b1';

          // set block id to device id
          block.firstElementChild.textContent = device.id;
                  
          // if all devices have been paired, enable done button
          if (allConnectedMobile_()) {
            document.getElementById('rc-done').disabled = false;
            // add done button click listener
            document.getElementById('rc-done').addEventListener('click', () => reconnectDoneHandler_(xml));
          }
        } else if (type == 'things_webHID') {
          const filters = [];
      
          navigator.hid.requestDevice({filters})
              .then((device) => {
                if (device.length === 0) throwError('Connection failed or cancelled by User.');
                // generate a unique id for the new device
                const uid = Date.now().toString(36) + Math.random().toString(36).substr(2);
                // add device to the device map with its uid
                addWebHidDevice(uid, name, device[0]);
                // change pair status to connected
                document.getElementById('rc-status-' + name).innerHTML = 'connected';
                // change icon to usb connected
                document.getElementById('rc-icon-' + name).innerHTML = 'usb';
                // change icon color to blue
                document.getElementById('rc-icon-' + name).style.color = '#0d30b1';

                // set block id to device id
                block.firstElementChild.textContent = uid;
                  
                // if all devices have been paired, enable done button
                if (allConnectedMobile_()) {
                  document.getElementById('rc-done').disabled = false;
                  // add done button click listener
                  document.getElementById('rc-done').addEventListener('click', () => reconnectDoneHandler_(xml));
                }
              })
              .catch((error) => {
                throwError('Connection failed or cancelled by User.');
                console.error(error);
              });
        }
      });
      // add list item to list
      list.appendChild(item);
      blocksAdded.push(name);
    }
  }
  // Init material ui list
  window.app.initLists();
};

/**
 * Checks if all devices from the reconnect modal have been paired.
 * @return {boolean} true if all devices have been paired.
 * @private
 */
const allConnectedDesktop_ = function() {
  const blocks = document.getElementById('rc-tbody').querySelectorAll('tr');
  for (const block of blocks) {
    const pairStatus = document.getElementById('pairStatus-' + block.firstElementChild.textContent);
    if (pairStatus.innerHTML == 'âœ˜') {
      return false;
    }
  }
  return true;
};

/**
 * Checks if all devices from the reconnect modal have been paired.
 * @returns {boolean} true if all devices have been paired.
 */
const allConnectedMobile_ = function() {
  const blocks = document.getElementById('rc-list').querySelectorAll('[id=rc-status-]');
  for (const block of blocks) {
    const pairStatus = document.getElementById('rc-status-' + block.textContent);
    if (pairStatus.innerHTML == 'disconnected') {
      return false;
    }
  }
  return true;
};

/**
 * Continues loading blocks after reconnecting to web bluetooth devices.
 * @param {!Element} xml XML to load into the workspace.
 * @private
 */
const reconnectDoneHandler_ = function(xml) {
  const workspace = getWorkspace();
  if (window.location.href.includes('mobile')) {
    // hide reconnect dialog
    document.getElementById('rc-dialog').style.display = 'none';
  } else {
    // hide reconnect modal
    document.getElementById('rcModal').style.display = 'none';
  }
  // Clone rc-done button to remove click listener
  const doneButton = document.getElementById('rc-done');
  const doneButtonClone = doneButton.cloneNode(true);
  doneButtonClone.disabled = true;
  doneButton.parentNode.replaceChild(doneButtonClone, doneButton);

  // rebuild workspace from xml
  Blockly.Xml.domToWorkspace(xml, workspace);
  monitorChanges_(workspace);
};

/**
 * Cancels the reconnect modal.
 */
const reconnectCancelHandler_ = function() {
  // hide reconnect modal
  document.getElementById('rcModal').style.display = 'none';
};

/**
  * Start monitoring the workspace. If a change is made that changes the XML,
  * clear the key from the URL. Stop monitoring the workspace once such a
  * change is detected.
  * @param {!Blockly.WorkspaceSvg} workspace Workspace.
  * @private
  */
const monitorChanges_ = function(workspace) {
  const startXmlDom = Blockly.Xml.workspaceToDom(workspace);
  const startXmlText = Blockly.Xml.domToText(startXmlDom);
  /**
   * Monitors the workspace for changes to the xml
   */
  function change() {
    const xmlDom = Blockly.Xml.workspaceToDom(workspace);
    const xmlText = Blockly.Xml.domToText(xmlDom);
    if (startXmlText != xmlText) {
      window.location.hash = '';
      workspace.removeChangeListener(change);
    }
  }
  workspace.addChangeListener(change);
};

/**
 * Generates a random filename and returns its path.
 * @returns {string} path to the random filename
 * @public
 * */
const generatePath = function() {
  const result = [];
  const characters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';
  const charactersLength = characters.length;
  for ( let i = 0; i &lt; 12; i++ ) {
    result.push(characters.charAt(Math.floor(Math.random() *
 charactersLength)));
  }
  return result.join('');
};

window.addEventListener('load', function() {
  // get anchor
  const anchor = window.location.hash;
  if (anchor) {
    // remove the #.
    const path = anchor.substring(1);
    // try loading.
    try {
      retrieveXML_(path);
    } catch (e) {
      throwError('Could not load file.');
      console.error(e);
    }
  }
});
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Global</h3><ul><li><a href="global.html#%255B0%255D">[0]</a></li><li><a href="global.html#addBlock">addBlock</a></li><li><a href="global.html#addElementToOutputContainer">addElementToOutputContainer</a></li><li><a href="global.html#addEventCode">addEventCode</a></li><li><a href="global.html#addEventListener">addEventListener</a></li><li><a href="global.html#addMessage">addMessage</a></li><li><a href="global.html#addToLog">addToLog</a></li><li><a href="global.html#addWebBluetoothDevice">addWebBluetoothDevice</a></li><li><a href="global.html#addWebHidDevice">addWebHidDevice</a></li><li><a href="global.html#allConnectedMobile_">allConnectedMobile_</a></li><li><a href="global.html#allStates">allStates</a></li><li><a href="global.html#apiFunctions">apiFunctions</a></li><li><a href="global.html#asyncApiFunctions">asyncApiFunctions</a></li><li><a href="global.html#bindClick">bindClick</a></li><li><a href="global.html#cacheLEScanResults">cacheLEScanResults</a></li><li><a href="global.html#cleanUpFunctions">cleanUpFunctions</a></li><li><a href="global.html#clearIntervalEvents">clearIntervalEvents</a></li><li><a href="global.html#ClearLog">ClearLog</a></li><li><a href="global.html#ClearOutputContainer">ClearOutputContainer</a></li><li><a href="global.html#clipboard">clipboard</a></li><li><a href="global.html#connect">connect</a></li><li><a href="global.html#createWebHidButtonHandler">createWebHidButtonHandler</a></li><li><a href="global.html#currentToolbox">currentToolbox</a></li><li><a href="global.html#deviceEventHandlers">deviceEventHandlers</a></li><li><a href="global.html#disableWorkspace">disableWorkspace</a></li><li><a href="global.html#disconnect">disconnect</a></li><li><a href="global.html#enableWorkspace">enableWorkspace</a></li><li><a href="global.html#eventChecker">eventChecker</a></li><li><a href="global.html#eventCode">eventCode</a></li><li><a href="global.html#eventsFlyoutCategory">eventsFlyoutCategory</a></li><li><a href="global.html#eventsInWorkspace">eventsInWorkspace</a></li><li><a href="global.html#eventValues">eventValues</a></li><li><a href="global.html#filename">filename</a></li><li><a href="global.html#findLegalName">findLegalName</a></li><li><a href="global.html#flyoutCategoryBlocksWB">flyoutCategoryBlocksWB</a></li><li><a href="global.html#flyoutCategoryBlocksWHid">flyoutCategoryBlocksWHid</a></li><li><a href="global.html#generateCode">generateCode</a></li><li><a href="global.html#generatePairButtonsMobile_">generatePairButtonsMobile_</a></li><li><a href="global.html#generatePath">generatePath</a></li><li><a href="global.html#getActiveSlot">getActiveSlot</a></li><li><a href="global.html#getAdvertisedTxPower">getAdvertisedTxPower</a></li><li><a href="global.html#getAdvertisingData">getAdvertisingData</a></li><li><a href="global.html#getAdvertisingInterval">getAdvertisingInterval</a></li><li><a href="global.html#getCapabilities">getCapabilities</a></li><li><a href="global.html#getCategory">getCategory</a></li><li><a href="global.html#getCharacteristic">getCharacteristic</a></li><li><a href="global.html#getDefinition">getDefinition</a></li><li><a href="global.html#getDeviceById">getDeviceById</a></li><li><a href="global.html#getInterpreter">getInterpreter</a></li><li><a href="global.html#getInterrupted">getInterrupted</a></li><li><a href="global.html#getLatestCode">getLatestCode</a></li><li><a href="global.html#getLockState">getLockState</a></li><li><a href="global.html#getPrimaryService">getPrimaryService</a></li><li><a href="global.html#getPublicECDHKey">getPublicECDHKey</a></li><li><a href="global.html#getStdError">getStdError</a></li><li><a href="global.html#getStdInfo">getStdInfo</a></li><li><a href="global.html#getStdOut">getStdOut</a></li><li><a href="global.html#getThingsLog">getThingsLog</a></li><li><a href="global.html#getTxPowerLevel">getTxPowerLevel</a></li><li><a href="global.html#getWebBluetoothDevices">getWebBluetoothDevices</a></li><li><a href="global.html#getWebHIDDevices">getWebHIDDevices</a></li><li><a href="global.html#getWorkspace">getWorkspace</a></li><li><a href="global.html#hexStringToArrayBuffer">hexStringToArrayBuffer</a></li><li><a href="global.html#highlightBlock">highlightBlock</a></li><li><a href="global.html#HTTPREQUEST_ERROR">HTTPREQUEST_ERROR</a></li><li><a href="global.html#importPrettify">importPrettify</a></li><li><a href="global.html#init">init</a></li><li><a href="global.html#initApi">initApi</a></li><li><a href="global.html#initInterpreter">initInterpreter</a></li><li><a href="global.html#initStatesInterpreter">initStatesInterpreter</a></li><li><a href="global.html#initUi">initUi</a></li><li><a href="global.html#interpreter">interpreter</a></li><li><a href="global.html#interrupted">interrupted</a></li><li><a href="global.html#intervalEvents">intervalEvents</a></li><li><a href="global.html#isLEScanRunning">isLEScanRunning</a></li><li><a href="global.html#isNameUsed">isNameUsed</a></li><li><a href="global.html#latestCode">latestCode</a></li><li><a href="global.html#LEScanResults">LEScanResults</a></li><li><a href="global.html#link">link</a></li><li><a href="global.html#LINK_ALERT">LINK_ALERT</a></li><li><a href="global.html#messageOutputContainer">messageOutputContainer</a></li><li><a href="global.html#NOT_FOUND_ERROR">NOT_FOUND_ERROR</a></li><li><a href="global.html#onStatusChange">onStatusChange</a></li><li><a href="global.html#optionalServices">optionalServices</a></li><li><a href="global.html#read">read</a></li><li><a href="global.html#readHex">readHex</a></li><li><a href="global.html#readNumber">readNumber</a></li><li><a href="global.html#readText">readText</a></li><li><a href="global.html#reconnectCancelHandler_">reconnectCancelHandler_</a></li><li><a href="global.html#removeDeviceHandlers">removeDeviceHandlers</a></li><li><a href="global.html#removeEventCode">removeEventCode</a></li><li><a href="global.html#removeEventListener">removeEventListener</a></li><li><a href="global.html#rename">rename</a></li><li><a href="global.html#requestDevice">requestDevice</a></li><li><a href="global.html#resetFileInput">resetFileInput</a></li><li><a href="global.html#resetInterpreter">resetInterpreter</a></li><li><a href="global.html#resetStateInterpreter">resetStateInterpreter</a></li><li><a href="global.html#resetThings">resetThings</a></li><li><a href="global.html#resetUi">resetUi</a></li><li><a href="global.html#runButton">runButton</a></li><li><a href="global.html#runJS">runJS</a></li><li><a href="global.html#scanBlocks">scanBlocks</a></li><li><a href="global.html#setActiveSlot">setActiveSlot</a></li><li><a href="global.html#setAdvertisedTxPower">setAdvertisedTxPower</a></li><li><a href="global.html#setAdvertisingData">setAdvertisingData</a></li><li><a href="global.html#setAdvertisingInterval">setAdvertisingInterval</a></li><li><a href="global.html#setInterrupted">setInterrupted</a></li><li><a href="global.html#setStatus">setStatus</a></li><li><a href="global.html#setStdError">setStdError</a></li><li><a href="global.html#setStdInfo">setStdInfo</a></li><li><a href="global.html#setStdOut">setStdOut</a></li><li><a href="global.html#setThingsLog">setThingsLog</a></li><li><a href="global.html#setTxPowerLevel">setTxPowerLevel</a></li><li><a href="global.html#startEventChecker">startEventChecker</a></li><li><a href="global.html#startLEScan">startLEScan</a></li><li><a href="global.html#stateInterpreter">stateInterpreter</a></li><li><a href="global.html#statesInterpreterRunning">statesInterpreterRunning</a></li><li><a href="global.html#status">status</a></li><li><a href="global.html#statusContainer">statusContainer</a></li><li><a href="global.html#statusValues">statusValues</a></li><li><a href="global.html#stdErr">stdErr</a></li><li><a href="global.html#stdInfo">stdInfo</a></li><li><a href="global.html#stdOut">stdOut</a></li><li><a href="global.html#stopJS">stopJS</a></li><li><a href="global.html#stopLEScan">stopLEScan</a></li><li><a href="global.html#subscribe">subscribe</a></li><li><a href="global.html#tearDown">tearDown</a></li><li><a href="global.html#thingsFlyoutCategory">thingsFlyoutCategory</a></li><li><a href="global.html#thingsLog">thingsLog</a></li><li><a href="global.html#throwError">throwError</a></li><li><a href="global.html#UUIDS">UUIDS</a></li><li><a href="global.html#webBluetoothDevices">webBluetoothDevices</a></li><li><a href="global.html#webHidDevices">webHidDevices</a></li><li><a href="global.html#webHidNames">webHidNames</a></li><li><a href="global.html#workspace">workspace</a></li><li><a href="global.html#writeWithoutResponse">writeWithoutResponse</a></li><li><a href="global.html#writeWithResponse">writeWithResponse</a></li><li><a href="global.html#XML_ERROR">XML_ERROR</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.7</a> on Mon Jan 24 2022 10:04:12 GMT+0100 (GMT+01:00)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
