<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: blast_eddystone.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: blast_eddystone.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * @fileoverview implements eddystone-Operations using webBluetooth
 * (https://github.com/google/eddystone/tree/master/configuration-service).
 * @author derwehr@gmail.com (Thomas Wehr)
 * @license https://www.gnu.org/licenses/agpl-3.0.de.html AGPLv3
 */

'use strict';

import {read} from './blast_webBluetooth.js';
import {readHex} from './blast_webBluetooth.js';
import {readNumber} from './blast_webBluetooth.js';
import {writeWithResponse} from './blast_webBluetooth.js';
import {getThingsLog} from './blast_things.js';
import {optionalServices} from './blast_webBluetooth.js';
import {throwError} from './blast_interpreter.js';


/**
  * Eddystone Configuration Service and Characteristic UUIDs.
  */
const UUIDS = {
  CONFIG_SERVICE: 'a3c87500-8ed3-4bdf-8a39-a01bebede295',
  CAPABILITIES_CHARACTERISTIC: 'a3c87501-8ed3-4bdf-8a39-a01bebede295',
  ACTIVE_SLOT_CHARACTERISTIC: 'a3c87502-8ed3-4bdf-8a39-a01bebede295',
  ADVERTISING_INTERVAL_CHARACTERISTIC: 'a3c87503-8ed3-4bdf-8a39-a01bebede295',
  RADIO_TX_POWER_CHARACTERISTIC: 'a3c87504-8ed3-4bdf-8a39-a01bebede295',
  ADVERTISED_TX_POWER_CHARACTERISTIC: 'a3c87505-8ed3-4bdf-8a39-a01bebede295',
  LOCK_STATE_CHARACTERISTIC: 'a3c87506-8ed3-4bdf-8a39-a01bebede295',
  UNLOCK_STATE_CHARACTERISTIC: 'a3c87507-8ed3-4bdf-8a39-a01bebede295',
  PUBLIC_ECDH_KEY_CHARACTERISTIC: 'a3c87508-8ed3-4bdf-8a39-a01bebede295',
  EID_IDENTITY_KEY_CHARACTERISTIC: 'a3c87509-8ed3-4bdf-8a39-a01bebede295',
  ADV_SLOT_DATA_CHARACTERISTIC: 'a3c8750a-8ed3-4bdf-8a39-a01bebede295',
  FACTORY_RESET_CHARACTERISTIC: 'a3c8750b-8ed3-4bdf-8a39-a01bebede295',
  REMAIN_CONNECTABLE_CHARACTERISTIC: 'a3c8750c-8ed3-4bdf-8a39-a01bebede295',
};

// Add Eddystone config service to optionalServices to make it accessible.
optionalServices.push(UUIDS.CONFIG_SERVICE);

/**
  * Gets the devices Capabilities.
  * @param {BluetoothDevice.id} webBluetoothId A DOMString that uniquely identifies a device.
  * @return {!Promise} A promise that resolves when the operation is complete.
  */
const getCapabilities = async function(webBluetoothId) {
  const thingsLog = getThingsLog();
  thingsLog('Reading Eddystone capabilities...', 'Eddystone', webBluetoothId);
  // Get the capabilities.
  let capabilitiesArray = await read(
      webBluetoothId,
      UUIDS.CONFIG_SERVICE,
      UUIDS.CAPABILITIES_CHARACTERISTIC,
  );
  capabilitiesArray = new Int8Array(capabilitiesArray.buffer);
 
  // Parse the capabilities.
  const supportedTxPowerLevels = [];
  for (let i = 6; i &lt; capabilitiesArray.length; i++) {
    // elements have to be in ascending order
    const lastElem = supportedTxPowerLevels[supportedTxPowerLevels.length - 1];
    if (lastElem &amp;&amp; lastElem >= capabilitiesArray[i]) {
      break;
    }
    supportedTxPowerLevels.push(capabilitiesArray[i]);
  }
   
  const capabilities = {
    specVersion: capabilitiesArray[0],
    maxSlots: capabilitiesArray[1],
    maxEidPerSlot: capabilitiesArray[2],
    isVarriableAdvIntervalSupported: (capabilitiesArray[3] &amp; 1) !== 0,
    isVariableTxPowerSupported: (capabilitiesArray[3] &amp; 2) !== 0,
    isUIDSupported: (capabilitiesArray[5] &amp; 1) !== 0,
    isURLSupported: (capabilitiesArray[5] &amp; 2) !== 0,
    isTLMSupported: (capabilitiesArray[5] &amp; 4) !== 0,
    isEIDSupported: (capabilitiesArray[5] &amp; 8) !== 0,
    supportedTxPowerLevels: supportedTxPowerLevels,
  };

  thingsLog(`Eddystone capabilities: &lt;code>${JSON.stringify(capabilities)}&lt;/code>`, 'Eddystone', webBluetoothId);

  return capabilities;
};

/**
  * Gets the active slot of the Eddystone configuration service.
  * @param {BluetoothDevice.id} webBluetoothId A DOMString that uniquely identifies a device.
  * @return {!Promise} A promise that resolves when the operation is complete.
  */
export const getActiveSlot = async function(webBluetoothId) {
  const thingsLog = getThingsLog();
  thingsLog('Reading Eddystone active slot...', 'Eddystone', webBluetoothId);
  const activeSlot = await readNumber(
      webBluetoothId,
      UUIDS.CONFIG_SERVICE,
      UUIDS.ACTIVE_SLOT_CHARACTERISTIC,
  );
  thingsLog(`Got Eddystone active slot: &lt;code>${activeSlot}&lt;/code>`, 'Eddystone', webBluetoothId);
  return activeSlot;
};

/**
  * Sets the active slot of the Eddystone configuration service.
  * @param {BluetoothDevice.id} webBluetoothId A DOMString that uniquely identifies a device.
  * @param {number} slot The slot to set.
  * @return {!Promise} A promise that resolves when the operation is complete.
  */
export const setActiveSlot = async function(webBluetoothId, slot) {
  const thingsLog = getThingsLog();
  thingsLog(`Setting Eddystone active slot to &lt;code>${slot}&lt;/code>...`, 'Eddystone', webBluetoothId);
  // check if slot is valid
  const capabilities = await getCapabilities(webBluetoothId);
  if (slot &lt; 0 || slot >= capabilities.maxSlots) {
    throwError(
        `Eddystone slot is not valid.
         On this device the slot must be between 0 and ${capabilities.maxSlots - 1}.`,
    );
  }
 
  await writeWithResponse(
      webBluetoothId,
      UUIDS.CONFIG_SERVICE,
      UUIDS.ACTIVE_SLOT_CHARACTERISTIC,
      slot.toString(16),
  );

  thingsLog(`Eddystone active slot set to &lt;code>${slot}&lt;/code>`, 'Eddystone', webBluetoothId);
  return;
};

/**
  * Gets the advertising interval of the currently active slot.
  * @param {BluetoothDevice.id} webBluetoothId A DOMString that uniquely identifies a device.
  * @return {!Promise} A promise that resolves when the operation is complete.
  */
export const getAdvertisingInterval = async function(webBluetoothId) {
  const thingsLog = getThingsLog();
  thingsLog('Reading Eddystone advertising interval...', 'Eddystone', webBluetoothId);
  const interval = await readNumber(
      webBluetoothId,
      UUIDS.CONFIG_SERVICE,
      UUIDS.ADVERTISING_INTERVAL_CHARACTERISTIC,
  );
  thingsLog(`Got Eddystone advertising interval: &lt;code>${interval}&lt;/code>`, 'Eddystone', webBluetoothId);
  return interval;
};

/**
  * Sets the advertising interval of currently active slot.
  * @param {BluetoothDevice.id} webBluetoothId A DOMString that uniquely identifies a device.
  * @param {number} interval The advertising interval to set.
  * @return {!Promise} A promise that resolves when the operation is complete.
  */
export const setAdvertisingInterval = async function(webBluetoothId, interval) {
  const thingsLog = getThingsLog();
  thingsLog(`Setting Eddystone advertising interval to &lt;code>${interval}&lt;/code>...`, 'Eddystone', webBluetoothId);
  await writeWithResponse(
      webBluetoothId,
      UUIDS.CONFIG_SERVICE,
      UUIDS.ADVERTISING_INTERVAL_CHARACTERISTIC,
      interval.toString(16),
  );
  thingsLog(`Eddystone advertising interval set to &lt;code>${interval}&lt;/code>`, 'Eddystone', webBluetoothId);
  return;
};

/**
  * Gets the TX power level of the currently active slot.
  * @param {BluetoothDevice.id} webBluetoothId A DOMString that uniquely identifies a device.
  * @return {!Promise} A promise that resolves when the operation is complete.
  */
export const getTxPowerLevel = async function(webBluetoothId) {
  const thingsLog = getThingsLog();
  thingsLog('Reading Eddystone TX power level...', 'Eddystone', webBluetoothId);
  const txPowerLevel = await readNumber(
      webBluetoothId,
      UUIDS.CONFIG_SERVICE,
      UUIDS.RADIO_TX_POWER_CHARACTERISTIC,
  );
  thingsLog(`Got Eddystone TX power level: &lt;code>${txPowerLevel}&lt;/code>`, 'Eddystone', webBluetoothId);
  return txPowerLevel;
};

/**
  * Sets the TX power level of currently active slot.
  * @param {BluetoothDevice.id} webBluetoothId A DOMString that uniquely identifies a device.
  * @param {number} txPowerLevel The TX power level to set.
  * @return {!Promise} A promise that resolves when the operation is complete.
  */
export const setTxPowerLevel = async function(webBluetoothId, txPowerLevel) {
  const thingsLog = getThingsLog();
  thingsLog(`Setting Eddystone TX power level to &lt;code>${txPowerLevel}&lt;/code>...`, 'Eddystone', webBluetoothId);
  // check if txPowerLevel is valid
  const capabilities = await getCapabilities(webBluetoothId);
  if (capabilities.supportedTxPowerLevels.indexOf(txPowerLevel) === -1) {
    throwError(
        `Eddystone TX power level is not valid.
         On this device the TX power level must be one of ${capabilities.supportedTxPowerLevels}.`,
    );
    return;
  }
 
  await writeWithResponse(
      webBluetoothId,
      UUIDS.CONFIG_SERVICE,
      UUIDS.RADIO_TX_POWER_CHARACTERISTIC,
      txPowerLevel.toString(16),
  );
  thingsLog(`Eddystone TX power level set to &lt;code>${txPowerLevel}&lt;/code>`, 'Eddystone', webBluetoothId);
  return;
};

/**
  * Gets the advertised TX power of the currently active slot.
  * @param {BluetoothDevice.id} webBluetoothId A DOMString that uniquely identifies a device.
  * @return {!Promise} A promise that resolves when the operation is complete.
  */
export const getAdvertisedTxPower = async function(webBluetoothId) {
  const thingsLog = getThingsLog();
  thingsLog('Reading Eddystone advertised TX power...', 'Eddystone', webBluetoothId);
  const advertisedTxPower = await readNumber(
      webBluetoothId,
      UUIDS.CONFIG_SERVICE,
      UUIDS.ADVERTISED_TX_POWER_CHARACTERISTIC,
  );
  thingsLog(`Got Eddystone advertised TX power: &lt;code>${advertisedTxPower}&lt;/code>`, 'Eddystone', webBluetoothId);
  return advertisedTxPower;
};

/**
  * Sets the advertised TX power level of currently active slot.
  * @param {BluetoothDevice.id} webBluetoothId A DOMString that uniquely identifies a device.
  * @param {number} txPowerLevel The TX power level to set.
  * @return {!Promise} A promise that resolves when the operation is complete.
  */
export const setAdvertisedTxPower = async function(webBluetoothId, txPowerLevel) {
  const thingsLog = getThingsLog();
  thingsLog(`Setting Eddystone advertised TX power to &lt;code>${txPowerLevel}&lt;/code>...`, 'Eddystone', webBluetoothId);
  await writeWithResponse(
      webBluetoothId,
      UUIDS.CONFIG_SERVICE,
      UUIDS.ADVERTISED_TX_POWER_CHARACTERISTIC,
      txPowerLevel.toString(16),
  );
  thingsLog(`Eddystone advertised TX power set to &lt;code>${txPowerLevel}&lt;/code>`, 'Eddystone', webBluetoothId);
  return;
};

/**
  * Gets the lock state of the Eddystone configuration service.
  * @param {BluetoothDevice.id} webBluetoothId A DOMString that uniquely identifies a device.
  * @return {!Promise} A promise that resolves when the operation is complete.
  */
export const getLockState = async function(webBluetoothId) {
  const thingsLog = getThingsLog();
  thingsLog('Reading Eddystone lock state...', 'Eddystone', webBluetoothId);
  const lockState = await readNumber(
      webBluetoothId,
      UUIDS.CONFIG_SERVICE,
      UUIDS.LOCK_STATE_CHARACTERISTIC,
  );
  thingsLog(`Got Eddystone lock state: &lt;code>${lockState}&lt;/code>`, 'Eddystone', webBluetoothId);
  return lockState;
};

/**
  * Gets the public ECDH Key of the Eddystone configuration service.
  * @param {BluetoothDevice.id} webBluetoothId A DOMString that uniquely identifies a device.
  * @return {!Promise} A promise that resolves when the operation is complete.
  */
export const getPublicECDHKey = async function(webBluetoothId) {
  const thingsLog = getThingsLog();
  thingsLog('Reading Eddystone public ECDH key...', 'Eddystone', webBluetoothId);
  const publicECDHKey = await readHex(
      webBluetoothId,
      UUIDS.CONFIG_SERVICE,
      UUIDS.PUBLIC_ECDH_KEY_CHARACTERISTIC,
  );
  thingsLog(`Got Eddystone public ECDH key: &lt;code>${publicECDHKey}&lt;/code>`, 'Eddystone', webBluetoothId);
  return publicECDHKey;
};

/**
  * Gets the advertising data of the currently active slot.
  * @param {BluetoothDevice.id} webBluetoothId A DOMString that uniquely identifies a device.
  * @return {!Promise} A promise that resolves when the operation is complete.
  */
export const getAdvertisingData = async function(webBluetoothId) {
  const thingsLog = getThingsLog();
  thingsLog('Reading Eddystone advertising data...', 'Eddystone', webBluetoothId);
  const decodeEddystoneUid = function(advData) {
    // TX Power is the second byte of the advertised data.
    const txPower = parseInt(advData.substring(2, 4), 16);
 
    // Namespace is the next 10 bytes.
    const namespace = advData.substring(4, 24);
 
    // Instance is the next 6 bytes.
    const instance = advData.substring(25, 37);
 
    return {
      frameType: 'UID',
      txPower: txPower,
      namespace: namespace,
      instance: instance,
    };
  };
 
  const decodeEddystoneUrl = function(advData) {
    // TX Power is the second byte of the advertising data.
    const txPower = parseInt(advData.substring(2, 4), 16);
 
    // URL Scheme is the third byte of the advertising data.
    const urlScheme = advData.substring(4, 6);
    let urlPrefix = '';
    switch (urlScheme) {
      case '00':
        urlPrefix = 'http://www.';
        break;
      case '01':
        urlPrefix = 'https://www.';
        break;
      case '02':
        urlPrefix = 'http://';
        break;
      case '03':
        urlPrefix = 'https://';
        break;
      default:
        throwError('Eddystone URL scheme is not valid.');
        return;
    }
     
    const suffixes = [
      '.com/',
      '.org/',
      '.edu/',
      '.net/',
      '.info/',
      '.biz/',
      '.gov/',
      '.com',
      '.org',
      '.edu',
      '.net',
      '.info',
      '.biz',
      '.gov',
    ];
 
    // Encoded URL is the remaining bytes of the advertising data.
    const encodedUrl = advData.substring(6, advData.length);
    let url = urlPrefix;
    for (let i = 0; i &lt; encodedUrl.length; i += 2) {
      const charCode = parseInt(encodedUrl.substring(i, i + 2), 16);
      if (charCode &lt; suffixes.length) {
        url += suffixes[charCode];
      } else {
        url += String.fromCharCode(charCode);
      }
    }
         
 
    return {
      frameType: 'URL',
      txPower: txPower,
      url: url,
    };
  };
 
  const decodeEddystoneTlm = function(advData) {
    // Byte 0 is the frame type, byte 1 is the version.
    // 2nd and 3rd bytes are the Barrery Voltage, 1mV/bit.
    const batteryVoltage = parseInt(advData.substring(4, 8), 16);
 
    // 4th and 5th bytes are the beacon temperature.
    const beaconTemperature = parseInt(advData.substring(8, 10), 16) +
                                 parseInt(advData.substring(10, 12), 16) / 100;
 
    // 6th to 9th bytes are the Advertising PDU count.
    const pduCount = parseInt(advData.substring(12, 20), 16);
 
    // 10th to 13th bytes are the time since the Beacon last rebooted.
    const timeSinceReboot = parseInt(advData.substring(20, 28), 16);
 
    return {
      frameType: 'TLM',
      batteryVoltage: batteryVoltage,
      beaconTemperature: beaconTemperature,
      pduCount: pduCount,
      timeSinceReboot: timeSinceReboot,
    };
  };
 
  const advertisingData = await readHex(
      webBluetoothId,
      UUIDS.CONFIG_SERVICE,
      UUIDS.ADV_SLOT_DATA_CHARACTERISTIC,
  );

  thingsLog(`Got Eddystone advertising data: &lt;code>${advertisingData}&lt;/code>`, 'Eddystone', webBluetoothId);
 
  // Frame type is the first byte of the advertising data.
  const frameType = advertisingData.substring(0, 2);
  let data;
 
  switch (frameType) {
    case '00':
      data = decodeEddystoneUid(advertisingData);
      return data.namespace + data.instance;
    case '10':
      data = decodeEddystoneUrl(advertisingData);
      return data.url;
    case '20':
      data = decodeEddystoneTlm(advertisingData);
      return data.beaconTemperature;
    case '30':
      throwError('EID frame type is not supported by blast.');
      return;
    default:
      throwError('Eddystone frame type is not valid.');
      return;
  }
};

/**
  * Sets the advertising data of the currently active slot.
  * @param {BluetoothDevice.id} webBluetoothId A DOMString that uniquely identifies a device.
  * @param {string} frameType The frame type of the data to set.
  * @param {string} data The data to set.
  */
export const setAdvertisingData = async function(webBluetoothId, frameType, data) {
  const thingsLog = getThingsLog();
  thingsLog('Set Eddystone advertising data...', 'Eddystone', webBluetoothId);
  const encodeEddystoneUrl = function(url) {
    const URL_SCHEMES = [
      'http://www.',
      'https://www.',
      'http://',
      'https://',
    ];
 
    const URL_CODES = [
      '.com/',
      '.org/',
      '.edu/',
      '.net/',
      '.info/',
      '.biz/',
      '.gov/',
      '.com',
      '.org',
      '.edu',
      '.net',
      '.info',
      '.biz',
      '.gov',
    ];
 
    const encodedUrl = [];
    let position = 0;
    const encoder = new TextEncoder('utf-8');
 
    for (let i = 0; i &lt; URL_SCHEMES.length; i++) {
      if (url.startsWith(URL_SCHEMES[i])) {
        encodedUrl.push(i);
        position = URL_SCHEMES[i].length;
        break;
      }
    }
 
    while (position &lt; url.length) {
      const initialPosition = position;
      for (let i = 0; i &lt; URL_CODES.length; i++) {
        if (url.startsWith(URL_CODES[i], position)) {
          encodedUrl.push(i);
          position += URL_CODES[i].length;
          break;
        }
      }
      if (initialPosition === position) {
        encodedUrl.push(encoder.encode(url[position])[0]);
        position++;
      }
    }
 
    if (encodedUrl.length > 18) {
      throwError('URL is too long.');
      return;
    }
     
    // prefix the frame type
    encodedUrl.splice(0, 0, 0x10);
    return new Uint8Array(encodedUrl);
  };
  
  let encodedData;
  if (frameType === 'URL') {
    encodedData = encodeEddystoneUrl(data);
  } else if (frameType === 'UID') {
    // Checks if the UID is 32 hex chars.
    if (!/^[0-9A-Fa-f]{32}$/.test(data)) {
      throwError('Eddystone UID must be 32 hexadecimal characters.');
      return;
    }
    
    // prefix the frame type
    encodedData = '0x00' + data;
  }
     
  const response = await writeWithResponse(
      webBluetoothId,
      UUIDS.CONFIG_SERVICE,
      UUIDS.ADV_SLOT_DATA_CHARACTERISTIC,
      encodedData,
  );
  thingsLog(`Eddystone advertising data set to &lt;code>${data}&lt;/code>`, 'Eddystone', webBluetoothId);
  return response;
};
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Global</h3><ul><li><a href="global.html#%255B0%255D">[0]</a></li><li><a href="global.html#addBlock">addBlock</a></li><li><a href="global.html#addElementToOutputContainer">addElementToOutputContainer</a></li><li><a href="global.html#addEventCode">addEventCode</a></li><li><a href="global.html#addEventListener">addEventListener</a></li><li><a href="global.html#addMessage">addMessage</a></li><li><a href="global.html#addToLog">addToLog</a></li><li><a href="global.html#addWebBluetoothDevice">addWebBluetoothDevice</a></li><li><a href="global.html#addWebHidDevice">addWebHidDevice</a></li><li><a href="global.html#allConnectedMobile_">allConnectedMobile_</a></li><li><a href="global.html#allStates">allStates</a></li><li><a href="global.html#apiFunctions">apiFunctions</a></li><li><a href="global.html#asyncApiFunctions">asyncApiFunctions</a></li><li><a href="global.html#bindClick">bindClick</a></li><li><a href="global.html#cacheLEScanResults">cacheLEScanResults</a></li><li><a href="global.html#cleanUpFunctions">cleanUpFunctions</a></li><li><a href="global.html#clearIntervalEvents">clearIntervalEvents</a></li><li><a href="global.html#ClearLog">ClearLog</a></li><li><a href="global.html#ClearOutputContainer">ClearOutputContainer</a></li><li><a href="global.html#clipboard">clipboard</a></li><li><a href="global.html#connect">connect</a></li><li><a href="global.html#createWebHidButtonHandler">createWebHidButtonHandler</a></li><li><a href="global.html#currentToolbox">currentToolbox</a></li><li><a href="global.html#deviceEventHandlers">deviceEventHandlers</a></li><li><a href="global.html#disableWorkspace">disableWorkspace</a></li><li><a href="global.html#disconnect">disconnect</a></li><li><a href="global.html#enableWorkspace">enableWorkspace</a></li><li><a href="global.html#eventChecker">eventChecker</a></li><li><a href="global.html#eventCode">eventCode</a></li><li><a href="global.html#eventsFlyoutCategory">eventsFlyoutCategory</a></li><li><a href="global.html#eventsInWorkspace">eventsInWorkspace</a></li><li><a href="global.html#eventValues">eventValues</a></li><li><a href="global.html#filename">filename</a></li><li><a href="global.html#findLegalName">findLegalName</a></li><li><a href="global.html#flyoutCategoryBlocksWB">flyoutCategoryBlocksWB</a></li><li><a href="global.html#flyoutCategoryBlocksWHid">flyoutCategoryBlocksWHid</a></li><li><a href="global.html#generateCode">generateCode</a></li><li><a href="global.html#generatePairButtonsMobile_">generatePairButtonsMobile_</a></li><li><a href="global.html#generatePath">generatePath</a></li><li><a href="global.html#getActiveSlot">getActiveSlot</a></li><li><a href="global.html#getAdvertisedTxPower">getAdvertisedTxPower</a></li><li><a href="global.html#getAdvertisingData">getAdvertisingData</a></li><li><a href="global.html#getAdvertisingInterval">getAdvertisingInterval</a></li><li><a href="global.html#getCapabilities">getCapabilities</a></li><li><a href="global.html#getCategory">getCategory</a></li><li><a href="global.html#getCharacteristic">getCharacteristic</a></li><li><a href="global.html#getDefinition">getDefinition</a></li><li><a href="global.html#getDeviceById">getDeviceById</a></li><li><a href="global.html#getInterpreter">getInterpreter</a></li><li><a href="global.html#getInterrupted">getInterrupted</a></li><li><a href="global.html#getLatestCode">getLatestCode</a></li><li><a href="global.html#getLockState">getLockState</a></li><li><a href="global.html#getPrimaryService">getPrimaryService</a></li><li><a href="global.html#getPublicECDHKey">getPublicECDHKey</a></li><li><a href="global.html#getStdError">getStdError</a></li><li><a href="global.html#getStdInfo">getStdInfo</a></li><li><a href="global.html#getStdOut">getStdOut</a></li><li><a href="global.html#getThingsLog">getThingsLog</a></li><li><a href="global.html#getTxPowerLevel">getTxPowerLevel</a></li><li><a href="global.html#getWebBluetoothDevices">getWebBluetoothDevices</a></li><li><a href="global.html#getWebHIDDevices">getWebHIDDevices</a></li><li><a href="global.html#getWorkspace">getWorkspace</a></li><li><a href="global.html#hexStringToArrayBuffer">hexStringToArrayBuffer</a></li><li><a href="global.html#highlightBlock">highlightBlock</a></li><li><a href="global.html#HTTPREQUEST_ERROR">HTTPREQUEST_ERROR</a></li><li><a href="global.html#importPrettify">importPrettify</a></li><li><a href="global.html#init">init</a></li><li><a href="global.html#initApi">initApi</a></li><li><a href="global.html#initInterpreter">initInterpreter</a></li><li><a href="global.html#initStatesInterpreter">initStatesInterpreter</a></li><li><a href="global.html#initUi">initUi</a></li><li><a href="global.html#interpreter">interpreter</a></li><li><a href="global.html#interrupted">interrupted</a></li><li><a href="global.html#intervalEvents">intervalEvents</a></li><li><a href="global.html#isLEScanRunning">isLEScanRunning</a></li><li><a href="global.html#isNameUsed">isNameUsed</a></li><li><a href="global.html#latestCode">latestCode</a></li><li><a href="global.html#LEScanResults">LEScanResults</a></li><li><a href="global.html#link">link</a></li><li><a href="global.html#LINK_ALERT">LINK_ALERT</a></li><li><a href="global.html#messageOutputContainer">messageOutputContainer</a></li><li><a href="global.html#NOT_FOUND_ERROR">NOT_FOUND_ERROR</a></li><li><a href="global.html#onStatusChange">onStatusChange</a></li><li><a href="global.html#optionalServices">optionalServices</a></li><li><a href="global.html#read">read</a></li><li><a href="global.html#readHex">readHex</a></li><li><a href="global.html#readNumber">readNumber</a></li><li><a href="global.html#readText">readText</a></li><li><a href="global.html#reconnectCancelHandler_">reconnectCancelHandler_</a></li><li><a href="global.html#removeDeviceHandlers">removeDeviceHandlers</a></li><li><a href="global.html#removeEventCode">removeEventCode</a></li><li><a href="global.html#removeEventListener">removeEventListener</a></li><li><a href="global.html#rename">rename</a></li><li><a href="global.html#requestDevice">requestDevice</a></li><li><a href="global.html#resetFileInput">resetFileInput</a></li><li><a href="global.html#resetInterpreter">resetInterpreter</a></li><li><a href="global.html#resetStateInterpreter">resetStateInterpreter</a></li><li><a href="global.html#resetThings">resetThings</a></li><li><a href="global.html#resetUi">resetUi</a></li><li><a href="global.html#runButton">runButton</a></li><li><a href="global.html#runJS">runJS</a></li><li><a href="global.html#scanBlocks">scanBlocks</a></li><li><a href="global.html#setActiveSlot">setActiveSlot</a></li><li><a href="global.html#setAdvertisedTxPower">setAdvertisedTxPower</a></li><li><a href="global.html#setAdvertisingData">setAdvertisingData</a></li><li><a href="global.html#setAdvertisingInterval">setAdvertisingInterval</a></li><li><a href="global.html#setInterrupted">setInterrupted</a></li><li><a href="global.html#setStatus">setStatus</a></li><li><a href="global.html#setStdError">setStdError</a></li><li><a href="global.html#setStdInfo">setStdInfo</a></li><li><a href="global.html#setStdOut">setStdOut</a></li><li><a href="global.html#setThingsLog">setThingsLog</a></li><li><a href="global.html#setTxPowerLevel">setTxPowerLevel</a></li><li><a href="global.html#startEventChecker">startEventChecker</a></li><li><a href="global.html#startLEScan">startLEScan</a></li><li><a href="global.html#stateInterpreter">stateInterpreter</a></li><li><a href="global.html#statesInterpreterRunning">statesInterpreterRunning</a></li><li><a href="global.html#status">status</a></li><li><a href="global.html#statusContainer">statusContainer</a></li><li><a href="global.html#statusValues">statusValues</a></li><li><a href="global.html#stdErr">stdErr</a></li><li><a href="global.html#stdInfo">stdInfo</a></li><li><a href="global.html#stdOut">stdOut</a></li><li><a href="global.html#stopJS">stopJS</a></li><li><a href="global.html#stopLEScan">stopLEScan</a></li><li><a href="global.html#subscribe">subscribe</a></li><li><a href="global.html#tearDown">tearDown</a></li><li><a href="global.html#thingsFlyoutCategory">thingsFlyoutCategory</a></li><li><a href="global.html#thingsLog">thingsLog</a></li><li><a href="global.html#throwError">throwError</a></li><li><a href="global.html#UUIDS">UUIDS</a></li><li><a href="global.html#webBluetoothDevices">webBluetoothDevices</a></li><li><a href="global.html#webHidDevices">webHidDevices</a></li><li><a href="global.html#webHidNames">webHidNames</a></li><li><a href="global.html#workspace">workspace</a></li><li><a href="global.html#writeWithoutResponse">writeWithoutResponse</a></li><li><a href="global.html#writeWithResponse">writeWithResponse</a></li><li><a href="global.html#XML_ERROR">XML_ERROR</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.7</a> on Mon Jan 24 2022 10:04:12 GMT+0100 (GMT+01:00)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
