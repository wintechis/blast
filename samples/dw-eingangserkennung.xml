<xml xmlns="https://developers.google.com/blockly/xml">
  <variables>
    <variable id=",=W[8LqNnQ9+}4qLf+R|">led</variable>
    <variable id="zDrJN7@V?kI+lm+JV+u;">mac</variable>
    <variable id="(v8JMFfoz$s_5VS_y-(p">uri</variable>
    <variable id="n|A9J-b[@FayPsbPwlHn">station no</variable>
    <variable id="rYpd5$:{p(v9tv!c6H+r">rssi</variable>
    <variable id="+Rsz%T5M[!YG7_IiD$A7">values</variable>
    <variable id=":Y?=s8PaD`s[G1;nTi;~">host</variable>
    <variable id=":{8vYcDD!l*(^WH-0Iga">station</variable>
  </variables>
  <block type="variables_set" id="GvF7P!%{2V6*IziE{s?f" x="181" y="136">
    <field name="VAR" id=",=W[8LqNnQ9+}4qLf+R|">led</field>
    <value name="VALUE">
      <block type="mac" id="z2uX.NdwVv|Q,!b8DD`o">
        <field name="MAC">be586002b674</field>
      </block>
    </value>
    <next>
      <block type="variables_set" id="u$3e}gJxhey(pQ-mQTrA">
        <field name="VAR" id="zDrJN7@V?kI+lm+JV+u;">mac</field>
        <value name="VALUE">
          <block type="mac" id="Zwn+OoLU5);De,b97%.A">
            <field name="MAC">c2fc63e96628</field>
          </block>
        </value>
        <next>
          <block type="variables_set" id="b+/iDVJDcTik|jjW/`Na">
            <field name="VAR" id="(v8JMFfoz$s_5VS_y-(p">uri</field>
            <value name="VALUE">
              <block type="uri" id="j$pc91Q{/u7w]~rRT2$f">
                <field name="URI">http://192.168.178.22:8000</field>
              </block>
            </value>
            <next>
              <block type="variables_set" id="{!bp|T~TCuNiw55aQmzW">
                <field name="VAR" id="n|A9J-b[@FayPsbPwlHn">station no</field>
                <value name="VALUE">
                  <block type="number_value" id="SI:Du`I:mZ#[%1bP,Tc.">
                    <field name="NUM">1</field>
                  </block>
                </value>
                <next>
                  <block type="while_until" id="0JB!};?$99B/Hs(r1j{-">
                    <field name="MODE">WHILE</field>
                    <value name="BOOL">
                      <block type="logic_boolean" id="+0z[#50T:o+s/:5}OzPp">
                        <field name="BOOL">TRUE</field>
                      </block>
                    </value>
                    <statement name="DO">
                      <block type="variables_set" id="Dw4x:2c#%uUV7j5q)Y?8">
                        <field name="VAR" id="rYpd5$:{p(v9tv!c6H+r">rssi</field>
                        <value name="VALUE">
                          <block type="ibeacon_data" id="XtGM+.z.Xw;pj^pVl?RT">
                            <field name="value">rssi</field>
                            <value name="MAC">
                              <block type="variables_get" id="NLvZruc2cU+m;m}}9$ei">
                                <field name="VAR" id="zDrJN7@V?kI+lm+JV+u;">mac</field>
                              </block>
                            </value>
                            <value name="URI">
                              <block type="uri" id="U2Iu7D*Vd*2Aw~XoTUuY">
                                <field name="URI">http://192.168.178.22/ble/current</field>
                              </block>
                            </value>
                          </block>
                        </value>
                        <next>
                          <block type="display_text" id="[`XC^T2d}GVtQF`SVn29">
                            <value name="text">
                              <block type="variables_get" id="B9y^/s:lZ9P[(xTP[%f3">
                                <field name="VAR" id="rYpd5$:{p(v9tv!c6H+r">rssi</field>
                              </block>
                            </value>
                            <next>
                              <block type="conditional_statement" id="1;X+.7,-M}^/W7%x$YCV">
                                <value name="IF0">
                                  <block type="event" id="BmfDB6z6@W)h|Yxqccc9">
                                    <field name="startstop">BECOMES</field>
                                    <field name="operator">GT</field>
                                    <value name="measurement">
                                      <block type="variables_get" id="j^/=+Xd.!yrN!Iv`-UBM">
                                        <field name="VAR" id="rYpd5$:{p(v9tv!c6H+r">rssi</field>
                                      </block>
                                    </value>
                                    <value name="value">
                                      <block type="number_value" id="P;?$JX-c/%tnwLUa%@NO">
                                        <field name="NUM">-50</field>
                                      </block>
                                    </value>
                                  </block>
                                </value>
                                <statement name="DO0">
                                  <block type="display_text" id="0V;bc8u])R-A9~J730i?">
                                    <value name="text">
                                      <block type="string" id="XN7.LMa|{h/I~h4qL@m*">
                                        <field name="TEXT">beacon is close</field>
                                      </block>
                                    </value>
                                    <next>
                                      <block type="switch_lights" id="@|J?7:07B!1[fKY!a!yi">
                                        <field name="cb_red">TRUE</field>
                                        <field name="cb_yellow">FALSE</field>
                                        <field name="cb_green">FALSE</field>
                                        <value name="mac">
                                          <block type="variables_get" id=",%MX#+G*g!O*0P4%sHg}">
                                            <field name="VAR" id=",=W[8LqNnQ9+}4qLf+R|">led</field>
                                          </block>
                                        </value>
                                        <next>
                                          <block type="variables_set" id="K}jOLB$7H!0//^emH]9Z">
                                            <field name="VAR" id="+Rsz%T5M[!YG7_IiD$A7">values</field>
                                            <value name="VALUE">
                                              <block type="procedures_callreturn" id="w+|ucy87qqs3wiZM/XM]">
                                                <mutation name="getDwValues">
                                                  <arg name="host"></arg>
                                                  <arg name="mac"></arg>
                                                </mutation>
                                                <value name="ARG0">
                                                  <block type="variables_get" id="IapRGN/D{!:,6r$+H.H6">
                                                    <field name="VAR" id="(v8JMFfoz$s_5VS_y-(p">uri</field>
                                                  </block>
                                                </value>
                                                <value name="ARG1">
                                                  <block type="variables_get" id="efom_lU6DjD=-[l#^U=_">
                                                    <field name="VAR" id="zDrJN7@V?kI+lm+JV+u;">mac</field>
                                                  </block>
                                                </value>
                                              </block>
                                            </value>
                                            <next>
                                              <block type="display_text" id="TXC],v3K5B~JdFVtq~Gx">
                                                <value name="text">
                                                  <block type="string_join" id="klHd]?4R5q2(4%WVZhxX">
                                                    <mutation items="2"></mutation>
                                                    <value name="ADD0">
                                                      <block type="string" id="Qk8PoVSSnQw.|JL}2ljF">
                                                        <field name="TEXT">values: </field>
                                                      </block>
                                                    </value>
                                                    <value name="ADD1">
                                                      <block type="variables_get" id="K3I+6zUasZ|E;L)-m/(;">
                                                        <field name="VAR" id="+Rsz%T5M[!YG7_IiD$A7">values</field>
                                                      </block>
                                                    </value>
                                                  </block>
                                                </value>
                                                <next>
                                                  <block type="variables_set" id="vL#K8-bdfE]$FS3pC~Gr">
                                                    <field name="VAR" id=":{8vYcDD!l*(^WH-0Iga">station</field>
                                                    <value name="VALUE">
                                                      <block type="string_getSubstring" id="_)]9l:;MV;!_9v8cvLe[">
                                                        <mutation at1="true" at2="true"></mutation>
                                                        <field name="WHERE1">FROM_START</field>
                                                        <field name="WHERE2">FROM_START</field>
                                                        <value name="STRING">
                                                          <block type="variables_get" id="bWQ5L,I)GFU%_8t,@+~,">
                                                            <field name="VAR" id="+Rsz%T5M[!YG7_IiD$A7">values</field>
                                                          </block>
                                                        </value>
                                                        <value name="AT1">
                                                          <block type="number_value" id="bMfD-Ak86,Fy[9RtqTN+">
                                                            <field name="NUM">3</field>
                                                          </block>
                                                        </value>
                                                        <value name="AT2">
                                                          <block type="number_value" id="T)o`Z*).|sf~cFu3{(I|">
                                                            <field name="NUM">3</field>
                                                          </block>
                                                        </value>
                                                      </block>
                                                    </value>
                                                    <next>
                                                      <block type="conditional_statement" id="dHGX470v~SSg3vwKJeA0">
                                                        <mutation else="1"></mutation>
                                                        <value name="IF0">
                                                          <block type="logic_compare" id=";hmX)qu0p$^tpmESi@0A">
                                                            <field name="OP">NEQ</field>
                                                            <value name="A">
                                                              <block type="variables_get" id="DKctTE6CxGid.:dNH?mg">
                                                                <field name="VAR" id=":{8vYcDD!l*(^WH-0Iga">station</field>
                                                              </block>
                                                            </value>
                                                            <value name="B">
                                                              <block type="variables_get" id="l*x$ob}K0bBA#JstVUGl">
                                                                <field name="VAR" id="n|A9J-b[@FayPsbPwlHn">station no</field>
                                                              </block>
                                                            </value>
                                                          </block>
                                                        </value>
                                                        <statement name="DO0">
                                                          <block type="display_text" id="8Wm=?[?w_o{.Hyg:zdZ]">
                                                            <value name="text">
                                                              <block type="string" id="x`T[vIu^]+amH%fQfgzC">
                                                                <field name="TEXT">Wrong station number</field>
                                                              </block>
                                                            </value>
                                                            <next>
                                                              <block type="switch_lights" id="E2:*/6bxi97/`PbdB1^W">
                                                                <field name="cb_red">FALSE</field>
                                                                <field name="cb_yellow">TRUE</field>
                                                                <field name="cb_green">FALSE</field>
                                                                <value name="mac">
                                                                  <block type="variables_get" id="7hh_%FC?5FkHNQC$xO#U">
                                                                    <field name="VAR" id=",=W[8LqNnQ9+}4qLf+R|">led</field>
                                                                  </block>
                                                                </value>
                                                              </block>
                                                            </next>
                                                          </block>
                                                        </statement>
                                                        <statement name="ELSE">
                                                          <block type="variables_set" id="=2nf^!;8B5uFk6MD5dCy">
                                                            <field name="VAR" id="+Rsz%T5M[!YG7_IiD$A7">values</field>
                                                            <value name="VALUE">
                                                              <block type="string_join" id="6NbSW,^j5[`EaDkruu^u">
                                                                <mutation items="3"></mutation>
                                                                <value name="ADD0">
                                                                  <block type="string_getSubstring" id="|K]t|lBIawaN0QSQCyaZ">
                                                                    <mutation at1="false" at2="true"></mutation>
                                                                    <field name="WHERE1">FIRST</field>
                                                                    <field name="WHERE2">FROM_START</field>
                                                                    <value name="STRING">
                                                                      <block type="variables_get" id="a:yTV8KOixW$YebE#pgA">
                                                                        <field name="VAR" id="+Rsz%T5M[!YG7_IiD$A7">values</field>
                                                                      </block>
                                                                    </value>
                                                                    <value name="AT2">
                                                                      <block type="number_value" id="ICxhrNTe9cT`Q|_U($K8">
                                                                        <field name="NUM">2</field>
                                                                      </block>
                                                                    </value>
                                                                  </block>
                                                                </value>
                                                                <value name="ADD1">
                                                                  <block type="number_value" id="wGYm|u0cJ;Sy-[*SIn^@">
                                                                    <field name="NUM">2</field>
                                                                  </block>
                                                                </value>
                                                                <value name="ADD2">
                                                                  <block type="string_getSubstring" id="|XdTr_::PRCXI_u{.HjX">
                                                                    <mutation at1="true" at2="false"></mutation>
                                                                    <field name="WHERE1">FROM_START</field>
                                                                    <field name="WHERE2">LAST</field>
                                                                    <value name="STRING">
                                                                      <block type="variables_get" id="X$1jep-$v%w5gA5%Ep^I">
                                                                        <field name="VAR" id="+Rsz%T5M[!YG7_IiD$A7">values</field>
                                                                      </block>
                                                                    </value>
                                                                    <value name="AT1">
                                                                      <block type="number_value" id="=WfYW:oUbpxo:*Xz3:H{">
                                                                        <field name="NUM">4</field>
                                                                      </block>
                                                                    </value>
                                                                  </block>
                                                                </value>
                                                              </block>
                                                            </value>
                                                            <next>
                                                              <block type="procedures_callnoreturn" id="=Xc.p+;$Sor1=qs#}en4">
                                                                <mutation name="setDwValues">
                                                                  <arg name="host"></arg>
                                                                  <arg name="mac"></arg>
                                                                  <arg name="values"></arg>
                                                                </mutation>
                                                                <value name="ARG0">
                                                                  <block type="variables_get" id="`5MQj,V`$IGjn3r1c0TC">
                                                                    <field name="VAR" id="(v8JMFfoz$s_5VS_y-(p">uri</field>
                                                                  </block>
                                                                </value>
                                                                <value name="ARG1">
                                                                  <block type="variables_get" id="_)}0N]J(lL%Mkt=Ma`?8">
                                                                    <field name="VAR" id="zDrJN7@V?kI+lm+JV+u;">mac</field>
                                                                  </block>
                                                                </value>
                                                                <value name="ARG2">
                                                                  <block type="variables_get" id="$5!*fQy:U?3y_h.hS`l4">
                                                                    <field name="VAR" id="+Rsz%T5M[!YG7_IiD$A7">values</field>
                                                                  </block>
                                                                </value>
                                                                <next>
                                                                  <block type="display_text" id="}ovcf@yy!;hiyi3YEhKH">
                                                                    <value name="text">
                                                                      <block type="string_join" id="3SGaX7/3bV^yP?gYGxG-">
                                                                        <mutation items="2"></mutation>
                                                                        <value name="ADD0">
                                                                          <block type="string" id="=%MG!|,,:@xG*0Y2~UGj">
                                                                            <field name="TEXT">new values: </field>
                                                                          </block>
                                                                        </value>
                                                                        <value name="ADD1">
                                                                          <block type="variables_get" id=",_+QQ3ncICURNx!$fZ!z">
                                                                            <field name="VAR" id="+Rsz%T5M[!YG7_IiD$A7">values</field>
                                                                          </block>
                                                                        </value>
                                                                      </block>
                                                                    </value>
                                                                    <next>
                                                                      <block type="switch_lights" id="WR:Vk9oJAr1|ljbcMGGL">
                                                                        <field name="cb_red">FALSE</field>
                                                                        <field name="cb_yellow">FALSE</field>
                                                                        <field name="cb_green">TRUE</field>
                                                                        <value name="mac">
                                                                          <block type="variables_get" id="@Ch_dX%(/RCboh(e^DWe">
                                                                            <field name="VAR" id=",=W[8LqNnQ9+}4qLf+R|">led</field>
                                                                          </block>
                                                                        </value>
                                                                      </block>
                                                                    </next>
                                                                  </block>
                                                                </next>
                                                              </block>
                                                            </next>
                                                          </block>
                                                        </statement>
                                                      </block>
                                                    </next>
                                                  </block>
                                                </next>
                                              </block>
                                            </next>
                                          </block>
                                        </next>
                                      </block>
                                    </next>
                                  </block>
                                </statement>
                              </block>
                            </next>
                          </block>
                        </next>
                      </block>
                    </statement>
                  </block>
                </next>
              </block>
            </next>
          </block>
        </next>
      </block>
    </next>
  </block>
</xml>