/*! For license information please see blast.browser.js.LICENSE.txt */
var __webpack_modules__={77982:function(e,t,r){var n=r(1048).Buffer,i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&i(t,e,r);return o(t,e),t},a=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.TuyaCustomBearer=t.OAuthCredential=t.BasicKeyCredential=t.BearerCredential=t.BasicCredential=t.Credential=void 0;const c=s(r(98203)),u=s(r(10328)),l=s(r(68032));class f{}t.Credential=f,t.BasicCredential=class extends f{constructor({username:e,password:t},r){if(super(),void 0===e||void 0===t||null===e||null===t)throw new Error("No Basic credentials for Thing");this.username=e,this.password=t,this.options=r}sign(e){return a(this,void 0,void 0,(function*(){const t=e.clone();let r="authorization";return void 0!==this.options&&"header"===this.options.in&&void 0!==this.options.name&&(r=this.options.name),t.headers.set(r,"Basic "+n.from(this.username+":"+this.password).toString("base64")),t}))}},t.BearerCredential=class extends f{constructor({token:e},t){if(super(),null==e)throw new Error("No Bearer credentials for Thing");this.token=e,this.options=t}sign(e){return a(this,void 0,void 0,(function*(){const t=e.clone();let r="authorization";return"header"===this.options.in&&void 0!==this.options.name&&(r=this.options.name),t.headers.set(r,"Bearer "+this.token),t}))}},t.BasicKeyCredential=class extends f{constructor({apiKey:e},t){if(super(),null==e)throw new Error("No API key credentials for Thing");this.apiKey=e,this.options=t}sign(e){return a(this,void 0,void 0,(function*(){const t=e.clone();let r="authorization";return"header"===this.options.in&&void 0!==this.options.name&&(r=this.options.name),t.headers.append(r,this.apiKey),t}))}};class h extends f{constructor(e,t){super(),this.token=e,this.refresh=t,this.token=e}sign(e){return a(this,void 0,void 0,(function*(){if(this.token instanceof Promise){const e=this.token;this.token=yield e}let t={url:e.url,headers:{}};return t=this.token.sign(t),new c.Request(e,t)}))}refreshToken(){return a(this,void 0,void 0,(function*(){if(this.token instanceof Promise)throw new Error("Uninitialized token. You have to call sing before refresh");let e;return e=this.refresh?yield this.refresh():yield this.token.refresh(),new h(e,this.refresh)}))}}t.OAuthCredential=h,t.TuyaCustomBearer=class extends f{constructor(e,t){super(),this.key=e.key,this.secret=e.secret,this.baseUri=t.baseUri}sign(e){var t;return a(this,void 0,void 0,(function*(){const r=this.isTokenExpired();(void 0===this.token||""===this.token||r)&&(yield this.requestAndRefreshToken(r));const n=e.url,i=null===(t=e.body)||void 0===t?void 0:t.read().toString(),o=e.method,s=this.getHeaders(!0,e.headers.raw(),i,n,o);return Object.assign(s,e.headers.raw()),new c.Request(n,{method:o,body:""!==i?i:void 0,headers:s})}))}requestAndRefreshToken(e){var t,r,n,i;return a(this,void 0,void 0,(function*(){const o={headers:this.getHeaders(!1,{}),method:"GET"};let s=`${this.baseUri}/token?grant_type=1`;e&&(s=`${this.baseUri}/token/${this.refreshToken}`);const a=yield(yield(0,c.default)(s,o)).json();if(null===(t=a.success)||void 0===t||!t)throw new Error("token fetch failed");{this.token=null===(r=a.result)||void 0===r?void 0:r.access_token,this.refreshToken=null===(n=a.result)||void 0===n?void 0:n.refresh_token;const e=null===(i=a.result)||void 0===i?void 0:i.expire_time;null!=e&&(this.expireTime=new Date(Date.now()+1e3*e))}}))}getHeaders(e,t,r,n,i){var o;const s=Date.now().toString(),a=this.baseUri.replace("/v1.0",""),c=null==n?void 0:n.replace(a,""),u=this.requestSign(e,s,r,c,i);return{t:s,client_id:this.key,sign_method:"HMAC-SHA256",sign:u,access_token:null!==(o=this.token)&&void 0!==o?o:""}}requestSign(e,t,r,n="",i){var o;const s=u.createHash("sha256").update(null!=r?r:"").digest("hex");let a="/v1.0/token?grant_type=1",c="";const f=null!=i?i:"GET";if(e){c=null!==(o=this.token)&&void 0!==o?o:"";const e=l.parse(n.split("?")[1]);let t={};t=Object.assign(t,e);const r={};Object.keys(t).sort().forEach((e=>{r[e]=t[e]}));const i=l.stringify(r);a=decodeURIComponent(i?`${n.split("?")[0]}?${i}`:n)}const h=[this.key,c,t,[f,s,"",a].join("\n")].join("");return u.createHmac("sha256",this.secret).update(h).digest("hex").toUpperCase()}isTokenExpired(){return!!this.expireTime&&Date.now()>this.expireTime.getTime()}}},79090:function(e,t,r){var n=r(1048).Buffer,i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&i(t,e,r);return o(t,e),t},a=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||i(t,e,r)},c=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.HttpForm=t.HttpHeader=t.HttpsClientFactory=t.HttpClientFactory=t.HttpClient=void 0;const l=s(r(57127)),f=r(98203);var h=r(98970);Object.defineProperty(t,"HttpClient",{enumerable:!0,get:function(){return u(h).default}});var d=r(99940);Object.defineProperty(t,"HttpClientFactory",{enumerable:!0,get:function(){return u(d).default}});var p=r(97007);Object.defineProperty(t,"HttpsClientFactory",{enumerable:!0,get:function(){return u(p).default}}),a(r(98970),t),a(r(99940),t),a(r(97007),t),t.HttpHeader=class{};class y extends l.Form{}t.HttpForm=y,f.Headers.prototype.raw=function(){const e={};for(const t in this.entries())e[t[0]]=t[1].split(",");return e},f.Response.prototype.buffer=function(){return c(this,void 0,void 0,(function*(){return n.from(yield this.arrayBuffer())}))}},98970:function(e,t,r){var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(59267),s=r(50601),a=i(r(76958));class c extends a.default{generateFetchRequest(e,t,r){const i=Object.create(null,{generateFetchRequest:{get:()=>super.generateFetchRequest}});return n(this,void 0,void 0,(function*(){if((null==r?void 0:r.body)instanceof s.Readable){const e=yield o.ProtocolHelpers.readStreamFully(r.body);r.body=e}return i.generateFetchRequest.call(this,e,t,r)}))}}t.default=c},99940:function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(59267),o=n(r(98970)),s=n(r(96194)),{debug:a,warn:c}=(0,i.createLoggers)("binding-http","http-client-factory");t.default=class{constructor(e=null){this.scheme="http",this.config=null,this.oAuthManager=new s.default,this.config=e}getClient(){return this.config&&this.config.proxy&&this.config.proxy.href&&this.config.proxy.href.startsWith("https:")?(c("HttpClientFactory creating client for 'https' due to secure proxy configuration"),new o.default(this.config,!0,this.oAuthManager)):(a(`HttpClientFactory creating client for '${this.scheme}'`),new o.default(this.config))}init(){return!0}destroy(){return!0}}},76958:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t},s=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const c=o(r(4865)),u=o(r(27500)),l=r(36446),f=r(59267),h=o(r(98203)),d=r(1048),p=a(r(96194)),y=r(77982),b=r(86910),{debug:m,warn:v,error:g}=(0,f.createLoggers)("binding-http","http-client-impl");class w{constructor(e=null,t=!1,r=new p.default){this.proxyRequest=null,this.allowSelfSigned=!1,this.credential=null,this.activeSubscriptions=new Map,null!==e&&e.proxy&&e.proxy.href&&(this.proxyRequest=new h.Request(w.fixLocalhostName(e.proxy.href)),"basic"===e.proxy.scheme?(Object.prototype.hasOwnProperty.call(e.proxy,"username")&&Object.prototype.hasOwnProperty.call(e.proxy,"password")||v("HttpClient client configured for basic proxy auth, but no username/password given"),this.proxyRequest.headers.set("proxy-authorization","Basic "+d.Buffer.from(e.proxy.username+":"+e.proxy.password).toString("base64"))):"bearer"===e.proxy.scheme&&(Object.prototype.hasOwnProperty.call(e.proxy,"token")||v("HttpClient client configured for bearer proxy auth, but no token given"),this.proxyRequest.headers.set("proxy-authorization","Bearer "+e.proxy.token)),"https"===this.proxyRequest.protocol&&(t=!0),m(`HttpClient using ${t?"secure ":""}proxy ${this.proxyRequest.hostname}:${this.proxyRequest.port}`)),null!==e&&void 0!==e.allowSelfSigned&&(this.allowSelfSigned=e.allowSelfSigned,v("HttpClient allowing self-signed/untrusted certificates -- USE FOR TESTING ONLY")),this.agent=t?new u.Agent({rejectUnauthorized:!this.allowSelfSigned}):new c.Agent,this.provider=t?"https":"http",this.oauth=r}toString(){return"[HttpClient]"}readResource(e){var t;return s(this,void 0,void 0,(function*(){const r=yield this.generateFetchRequest(e,"GET");m(`HttpClient (readResource) sending ${r.method} to ${r.url}`);const n=yield this.fetch(r);this.checkFetchResponse(n),m(`HttpClient received headers: ${JSON.stringify(n.headers.raw())}`),m(`HttpClient received Content-Type: ${n.headers.get("content-type")}`);const i=f.ProtocolHelpers.toNodeStream(n.body);return new f.Content(null!==(t=n.headers.get("content-type"))&&void 0!==t?t:f.ContentSerdes.DEFAULT,i)}))}writeResource(e,t){return s(this,void 0,void 0,(function*(){const r=yield this.generateFetchRequest(e,"PUT",{headers:[["content-type",t.type]],body:t.body});m(`HttpClient (writeResource) sending ${r.method} with '${r.headers.get("Content-Type")}' to ${r.url}`);const n=yield this.fetch(r);m(`HttpClient received ${n.status} from ${n.url}`),this.checkFetchResponse(n),m(`HttpClient received headers: ${JSON.stringify(n.headers.raw())}`)}))}subscribeResource(e,t,r,n){var i;return s(this,void 0,void 0,(function*(){const o="longpoll";let s;if((null!==(i=e.subprotocol)&&void 0!==i?i:o)===o)s=new b.LongPollingSubscription(e,this);else{if("sse"!==e.subprotocol)throw new Error(`HttpClient does not support subprotocol ${e.subprotocol}`);s=new b.SSESubscription(e)}return yield s.open(t,r,n),this.activeSubscriptions.set(e.href,s),new l.Subscription((()=>{s.close()}))}))}invokeResource(e,t){var r;return s(this,void 0,void 0,(function*(){const n=null!=t?[["content-type",t.type]]:[],i=yield this.generateFetchRequest(e,"POST",{headers:n,body:null==t?void 0:t.body});m(`HttpClient (invokeResource) sending ${i.method} ${null!=t?`with '"${i.headers.get("Content-Type")}"`:""} to ${i.url}`);const o=yield this.fetch(i);m(`HttpClient received ${o.status} from ${i.url}`),m(`HttpClient received Content-Type: ${o.headers.get("content-type")}`),this.checkFetchResponse(o);const s=f.ProtocolHelpers.toNodeStream(o.body);return new f.Content(null!==(r=o.headers.get("content-type"))&&void 0!==r?r:f.ContentSerdes.DEFAULT,s)}))}unlinkResource(e){return s(this,void 0,void 0,(function*(){m(`HttpClient (unlinkResource) ${e.href}`);const t=this.activeSubscriptions.get(e.href);t?t.close():v(`HttpClient cannot unlink ${e.href} no subscription found`)}))}requestThingDescription(e){var t;return s(this,void 0,void 0,(function*(){const r=yield(0,h.default)(e,{headers:{Accept:"application/td+json"}}),n=f.ProtocolHelpers.toNodeStream(r.body);return new f.Content(null!==(t=r.headers.get("content-type"))&&void 0!==t?t:"application/td+json",n)}))}start(){return s(this,void 0,void 0,(function*(){}))}stop(){var e,t;return s(this,void 0,void 0,(function*(){null===(t=null===(e=this.agent)||void 0===e?void 0:e.destroy)||void 0===t||t.call(e)}))}setSecurity(e,t){if(void 0===e||!Array.isArray(e)||0===e.length)return v("HttpClient without security"),!1;const r=e[0];switch(r.scheme){case"basic":{const e=r;this.credential=new y.BasicCredential(t,e);break}case"bearer":{const e=r;this.credential=new y.BearerCredential(t,e);break}case"apikey":{const e=r;this.credential=new y.BasicKeyCredential(t,e);break}case"oauth2":{const e=r;"client"===e.flow?(e.flow="client_credentials",this.credential=this.oauth.handleClient(e,t)):"password"===e.flow&&(this.credential=this.oauth.handleResourceOwnerCredential(e,t));break}case"TuyaCustomBearer":this.credential=new y.TuyaCustomBearer(t,r);break;case"nosec":break;default:return g(`HttpClient cannot set security scheme '${r.scheme}'. ${e}`),!1}if(null!=r.proxy)if(null!==this.proxyRequest&&m(`HttpClient overriding client-side proxy with security proxy '${r.proxy}`),this.proxyRequest=new h.Request(w.fixLocalhostName(r.proxy)),"basic"===r.scheme){const e=t;if(void 0===e||void 0===e.username||void 0===e.password)throw new Error("No Basic credentials for Thing");this.proxyRequest.headers.set("proxy-authorization","Basic "+d.Buffer.from(e.username+":"+e.password).toString("base64"))}else if("bearer"===r.scheme){const e=t;if(void 0===t||void 0===e.token)throw new Error("No Bearer credentials for Thing");this.proxyRequest.headers.set("proxy-authorization","Bearer "+e.token)}return m(`HttpClient using security scheme '${r.scheme}'`),!0}generateFetchRequest(e,t,r={}){var n;return s(this,void 0,void 0,(function*(){const i=r,o=w.fixLocalhostName(e.href);if(i.method=e["htv:methodName"]?e["htv:methodName"]:t,i.headers=null!==(n=i.headers)&&void 0!==n?n:[],i.headers=i.headers,Array.isArray(e["htv:headers"])){m(`HttpClient got Form 'headers' ${e["htv:headers"]}`);const t=e["htv:headers"];for(const e of t)i.headers.push([e["htv:fieldName"],e["htv:fieldValue"]])}else if("object"==typeof e["htv:headers"]){m(`HttpClient got Form SINGLE-ENTRY 'headers' ${e["htv:headers"]}`);const t=e["htv:headers"];i.headers.push([t["htv:fieldName"],t["htv:fieldValue"]])}i.agent=this.agent;let s=this.proxyRequest?new h.Request(this.proxyRequest,i):new h.Request(o,i);if(this.credential&&(s=yield this.credential.sign(s)),this.proxyRequest){const e=new URL(o);s.url=s.url+e.pathname,m(`HttpClient proxy request URL: ${s.url}`),s.headers.set("host",e.hostname)}return s}))}fetch(e,t){return s(this,void 0,void 0,(function*(){const r=yield(0,h.default)(e,{body:null==t?void 0:t.body});return w.isOAuthTokenExpired(r,this.credential)?(this.credential=yield this.credential.refreshToken(),yield(0,h.default)(yield this.credential.sign(e))):r}))}checkFetchResponse(e){const t=e.status;if(t<200)throw new Error(`HttpClient received ${t} and cannot continue (not implemented, open GitHub Issue)`);if(!(t<300))throw t<400?new Error(`HttpClient received ${t} and cannot continue (not implemented, open GitHub Issue)`):t<500?new Error(`Client error: ${e.statusText}`):new Error(`Server error: ${e.statusText}`)}static isOAuthTokenExpired(e,t){return 401===e.status&&t instanceof y.OAuthCredential}static fixLocalhostName(e){const t=/^(https?:)?(\/\/)?(?:[^@\n]+@)?(www\.)?(localhost)/gm;return t.test(e)?(v("LOCALHOST FIX"),e.replace(t,"$1$2127.0.0.1")):e}}t.default=w},97007:function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(59267),o=n(r(98970)),{debug:s,warn:a}=(0,i.createLoggers)("binding-http","https-client-factory");t.default=class{constructor(e=null){this.scheme="https",this.config=null,this.config=e}getClient(){return this.config&&this.config.proxy&&this.config.proxy.href&&this.config.proxy.href.startsWith("http:")?(a("HttpsClientFactory creating client for 'http' due to insecure proxy configuration"),new o.default(this.config)):(s(`HttpsClientFactory creating client for '${this.scheme}'`),new o.default(this.config,!0))}init(){return!0}destroy(){return!0}}},96194:function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(59267),o=n(r(32399)),s=r(27500),a=r(77982);function c(e){return(t,r,n,i)=>new Promise(((o,a)=>{const c=new URL(r),u={method:t,host:c.hostname,port:parseInt(c.port),path:c.pathname+c.search,headers:i};u.rejectUnauthorized=e;const l=(0,s.request)(u);l.on("response",(e=>{e.setEncoding("utf8");const t=[];e.on("data",(e=>{t.push(e)})),e.on("end",(()=>{var r;o({status:null!==(r=e.statusCode)&&void 0!==r?r:500,body:t.toString()})}))})),l.on("error",(e=>{a(e)})),l.write(n),l.end()}))}t.default=class{constructor(){this.tokenStore=new Map}handleClient(e,t){const r=new o.default({clientId:t.clientId,clientSecret:t.clientSecret,accessTokenUri:e.token,scopes:i.Helpers.toStringArray(e.scopes),body:{}},c(!1)),n=r.credentials.getToken();return new a.OAuthCredential(n,r.credentials.getToken.bind(r.credentials))}handleResourceOwnerCredential(e,t){const r=new o.default({clientId:t.clientId,clientSecret:t.clientSecret,accessTokenUri:e.token,scopes:i.Helpers.toStringArray(e.scopes)},c(!1)).owner.getToken(t.username,t.password);return new a.OAuthCredential(r)}}},86910:function(e,t,r){var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.SSESubscription=t.LongPollingSubscription=void 0;const o=i(r(95534)),s=r(59267),a=r(50601),{debug:c}=(0,s.createLoggers)("binding-http","subscription-protocols");t.LongPollingSubscription=class{constructor(e,t){this.form=e,this.client=t,this.closed=!1,this.abortController=new AbortController}open(e,t,r){return new Promise(((i,o)=>{const a=u=>n(this,void 0,void 0,(function*(){var n;try{if(u){const e=yield this.client.generateFetchRequest(this.form,"HEAD",{timeout:1e3,signal:this.abortController.signal});(yield this.client.fetch(e)).ok&&i()}const t=yield this.client.generateFetchRequest(this.form,"GET",{timeout:36e5,signal:this.abortController.signal});c(`HttpClient (subscribeResource) sending ${t.method} to ${t.url}`);const o=yield this.client.fetch(t);if(this.client.checkFetchResponse(o),c(`HttpClient received ${o.status} from ${t.url}`),c(`HttpClient received headers: ${JSON.stringify(o.headers.raw())}`),c(`HttpClient received Content-Type: ${o.headers.get("content-type")}`),!this.closed){const t=s.ProtocolHelpers.toNodeStream(o.body);e(new s.Content(null!==(n=o.headers.get("content-type"))&&void 0!==n?n:s.ContentSerdes.DEFAULT,t)),a(!1)}r&&r()}catch(e){const n=e instanceof Error?e:new Error(JSON.stringify(e));t&&t(n),r&&r(),o(e)}}));a(!0)}))}close(){this.abortController.abort(),this.closed=!0}},t.SSESubscription=class{constructor(e){this.form=e,this.closed=!1}open(e,t,r){return new Promise(((n,i)=>{this.eventSource=new o.default(this.form.href),this.eventSource.onopen=e=>{c(`HttpClient (subscribeResource) Server-Sent Event connection is opened to ${this.form.href}`),n()},this.eventSource.onmessage=t=>{var r;c(`HttpClient received ${JSON.stringify(t)} from ${this.form.href}`);const n=new s.Content(null!==(r=this.form.contentType)&&void 0!==r?r:s.ContentSerdes.DEFAULT,a.Readable.from(JSON.stringify(t)));e(n)},this.eventSource.onerror=function(e){null==t||t(new Error(e.toString())),r&&r(),i(e.toString())}}))}close(){var e;null===(e=this.eventSource)||void 0===e||e.close()}}},99618:(e,t,r)=>{var n=r(1048).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(e){this.subMediaType=e}getMediaType(){return this.subMediaType}bytesToValue(e,t,r){return e.toString("ascii")}valueToBytes(e,t,r){let i="";return void 0!==e&&(i=JSON.stringify(e)),n.from(i,"base64")}}},18977:(e,t,r)=>{var n=r(1048).Buffer;Object.defineProperty(t,"__esModule",{value:!0});const i=r(32988),o=r(59500),{debug:s}=(0,i.createLoggers)("core","cbor-codec");t.default=class{constructor(e){this.subMediaType=null!=e?e:"application/cbor"}getMediaType(){return this.subMediaType}bytesToValue(e,t,r){s(`CborCodec parsing '${e.toString()}'`);try{return(0,o.decode)(e)}catch(t){if(0===e.byteLength)return null;throw t}}valueToBytes(e,t,r){return s("CborCodec serializing",e),void 0===e?n.alloc(0):(0,o.encode)(e)}}},93071:(e,t,r)=>{var n=r(1048).Buffer;Object.defineProperty(t,"__esModule",{value:!0});const i=r(33882),o=r(32988),{debug:s}=(0,o.createLoggers)("core","json-codec");t.default=class{constructor(e){this.subMediaType=null!=e?e:i.ContentSerdes.DEFAULT}getMediaType(){return this.subMediaType}bytesToValue(e,t,r){let n;s(`JsonCodec parsing '${e.toString()}'`);try{n=JSON.parse(e.toString())}catch(t){if(!(t instanceof SyntaxError))throw t;n=0===e.byteLength?void 0:e.toString()}return n}valueToBytes(e,t,r){s("JsonCodec serializing",e);let i="";return void 0!==e&&(i=JSON.stringify(e)),n.from(i)}}},59214:(e,t,r)=>{var n=r(1048).Buffer;Object.defineProperty(t,"__esModule",{value:!0});const i=r(32988),{debug:o}=(0,i.createLoggers)("core","netconf-codec");t.default=class{getMediaType(){return"application/netconf"}bytesToValue(e,t,r){let n;o(`NetconfCodec parsing '${e.toString()}'`);try{n=JSON.parse(e.toString())}catch(t){if(!(t instanceof SyntaxError))throw t;n=0===e.byteLength?void 0:e.toString()}return n}valueToBytes(e,t,r){o("NetconfCodec serializing",e);let i="";if(void 0!==e){const r={},n=this.getPayloadNamespaces(t,e,r,!1);i=JSON.stringify(n)}return n.from(i)}getPayloadNamespaces(e,t,r,n){if(!e)throw new Error('Missing "schema" field in TD');if(n){const n=e.properties;if(null==n)throw new Error('Missing "properties" field in TD');let i,o=!1,s="";for(const e in n){const a=n[e];if(null==t[e])throw new Error(`Payload is missing '${e}' field specified in TD`);if(!0===a["nc:attribute"]&&null!=t[e]){const n=t[e];s=n.split(":")[n.split(":").length-1],r[s]=t[e],o=!0}else null!=t[e]&&(i=t[e])}if(o)return{payload:s+"\\:"+i,NSs:r};throw new Error("Namespace not found in the payload")}if("object"===(null==e?void 0:e.type)&&null!=e.properties){let n;n=null!=e["nc:container"]?this.getPayloadNamespaces(e,t,r,!0):this.getPayloadNamespaces(e.properties,t,r,!1),t=n.payload,r=Object.assign(Object.assign({},r),n.NSs)}for(const i in e)if("object"===e[i].type||n){let n=!1;null!=e[i].properties&&null!=e[i]["nc:container"]&&(n=!0);const o=this.getPayloadNamespaces(e[i],t[i],r,n);t[i]=o.payload,r=Object.assign(Object.assign({},r),o.NSs)}return{payload:t,NSs:r}}}},13848:(e,t,r)=>{var n=r(1048).Buffer;Object.defineProperty(t,"__esModule",{value:!0});const i=r(72651),o=r(32988),s=r(83265),{debug:a,warn:c}=(0,o.createLoggers)("core","octetstream-codec");t.default=class{getMediaType(){return"application/octet-stream"}bytesToValue(e,t,r={}){var n,i,o;a("OctetstreamCodec parsing",e),a("Parameters",r);const c=!(!0===(null===(n=r.byteSeq)||void 0===n?void 0:n.includes(s.Endianness.LITTLE_ENDIAN)));let u="false"!==r.signed;const l=void 0!==(null==t?void 0:t["ex:bitOffset"])?parseInt(t["ex:bitOffset"]):0;if(null!=r.length&&parseInt(r.length)!==e.length)throw new Error("Lengths do not match, required: "+r.length+" provided: "+e.length);let f=void 0!==(null==t?void 0:t["ex:bitLength"])?parseInt(t["ex:bitLength"]):8*e.length,h=null==t?void 0:t.type;if(!h)throw new Error("Missing 'type' property in schema");if(/(short|(u)?int(8|16|32)?$|float(16|32|64)?|byte)/.test(h.toLowerCase())){const e=/(u)?(short|int|float|byte)(8|16|32|64)?/.exec(h.toLowerCase());if(e){if("u"===e[1]){if("true"===(null==r?void 0:r.signed))throw new Error("Type is unsigned but 'signed' is true");u=!1}if(h=e[2],parseInt(e[3])!==f)throw new Error(`Type is '${(null!==(i=e[1])&&void 0!==i?i:"")+e[2]+e[3]}' but 'ex:bitLength' is `+f)}}if(f>8*e.length-l)throw new Error(`'ex:bitLength' is ${f}, but buffer length at offset ${l} is ${8*e.length-l}`);switch(!0===(null===(o=null==r?void 0:r.byteSeq)||void 0===o?void 0:o.includes("BYTE_SWAP"))&&e.length>1&&e.swap16(),void 0!==l&&f<8*e.length&&(f=8*(e=this.readBits(e,l,f)).length),h){case"boolean":return!e.every((e=>0===e));case"byte":case"short":case"int":case"integer":return this.integerToValue(e,{dataLength:f,bigEndian:c,signed:u});case"float":case"double":case"number":return this.numberToValue(e,{dataLength:f,bigEndian:c});case"string":return e.toString(r.charset);case"object":if(void 0===t||void 0===t.properties)throw new Error("Missing schema for object");return this.objectToValue(e,t,r);case"null":return null;default:throw new Error("Unable to handle dataType "+h)}}integerToValue(e,t){const{dataLength:r,bigEndian:n,signed:i}=t;switch(r){case 8:return i?e.readInt8(0):e.readUInt8(0);case 16:return n?i?e.readInt16BE(0):e.readUInt16BE(0):i?e.readInt16LE(0):e.readUInt16LE(0);case 32:return n?i?e.readInt32BE(0):e.readUInt32BE(0):i?e.readInt32LE(0):e.readUInt32LE(0);default:{const t=n?i?e.readIntBE(0,r/8):e.readUIntBE(0,r/8):i?e.readIntLE(0,r/8):e.readUIntLE(0,r/8);return Number.isSafeInteger(t)||c("Result is not a safe integer"),t}}}numberToValue(e,t){const{dataLength:r,bigEndian:n}=t;switch(r){case 16:return(0,i.getFloat16)(new DataView(e.buffer),e.byteOffset,!n);case 32:return n?e.readFloatBE(0):e.readFloatLE(0);case 64:return n?e.readDoubleBE(0):e.readDoubleLE(0);default:throw new Error("Wrong buffer length for type 'number', must be 16, 32, or 64 is "+r)}}objectToValue(e,t,r={}){if("object"!==(null==t?void 0:t.type))throw new Error("Schema must be of type 'object'");const n={},i=Object.getOwnPropertyNames(t.properties);for(const o of i){const i=t.properties[o];n[o]=this.bytesToValue(e,i,r)}return n}valueToBytes(e,t,r={}){var i,o,u,l,f,h;a(`OctetstreamCodec serializing '${e}'`),null==r.length&&c("Missing 'length' parameter necessary for write. I'll do my best");const d=!(!0===(null===(i=r.byteSeq)||void 0===i?void 0:i.includes(s.Endianness.LITTLE_ENDIAN)));let p="false"!==r.signed,y=null!=r.length?parseInt(r.length):void 0,b=void 0!==(null==t?void 0:t["ex:bitLength"])?parseInt(t["ex:bitLength"]):void 0;const m=void 0!==(null==t?void 0:t["ex:bitOffset"])?parseInt(t["ex:bitOffset"]):0;let v=null!==(o=null==t?void 0:t.type)&&void 0!==o?o:void 0;if(void 0===e)throw new Error("Undefined value");if(void 0===v)throw new Error("Missing 'type' property in schema");if(/(short|(u)?int(8|16|32)?$|float(16|32|64)?|byte)/.test(v.toLowerCase())){const e=/(u)?(short|int|float|byte)(8|16|32|64)?/.exec(v.toLowerCase());if(e){if("u"===e[1]){if("true"===(null==r?void 0:r.signed))throw new Error("Type is unsigned but 'signed' is true");p=!1}if(v=e[2],void 0!==b){if(parseInt(e[3])!==b)throw new Error(`Type is '${(null!==(u=e[1])&&void 0!==u?u:"")+e[2]+e[3]}' but 'ex:bitLength' is `+b)}else b=+e[3]}}if(void 0===y)void 0!==b&&(y=Math.ceil((m+b)/8)),c("Missing 'length' parameter necessary for write. I'll do my best");else if(void 0===b)b=8*y;else if(8*y<b+m)throw new Error("Length is too short for 'ex:bitLength' and 'ex:bitOffset'");switch(v){case"boolean":if(!0===e){const e=n.alloc(null!=y?y:1,0);for(let t=m;t<m+(null!=b?b:8*e.length);++t)e[Math.floor(t/8)]|=1<<7-t%8;return e}return n.alloc(null!=y?y:1,0);case"byte":case"short":case"int":case"integer":return this.valueToInteger(e,{bitLength:b,byteLength:y,bigEndian:d,offset:m,signed:p,byteSeq:null!==(l=r.byteSeq)&&void 0!==l?l:""});case"float":case"number":return this.valueToNumber(e,{bitLength:b,byteLength:y,bigEndian:d,offset:m,byteSeq:null!==(f=r.byteSeq)&&void 0!==f?f:""});case"string":return this.valueToString(e,{bitLength:b,byteLength:y,offset:m,charset:null!==(h=r.charset)&&void 0!==h?h:"utf8"});case"object":if(void 0===t||void 0===t.properties)throw new Error("Missing schema for object");return null===e?n.alloc(0):this.valueToObject(e,t,r);case"array":case"undefined":default:throw new Error("Unable to handle dataType "+v);case"null":return n.alloc(0)}}valueToInteger(e,t){var r,i,o;const s=null!==(r=t.bitLength)&&void 0!==r?r:32,a=null!==(i=t.offset)&&void 0!==i?i:0,u=null!==(o=t.byteLength)&&void 0!==o?o:Math.ceil((a+s)/8),{bigEndian:l,signed:f,byteSeq:h}=t;if("number"!=typeof e)throw new Error("Value is not a number");Number.isSafeInteger(e)||c("Value is not a safe integer",e);const d=Math.pow(2,f?s-1:s)-1;if(f){if(e<-d-1||e>=d)throw new Error("Integer overflow when representing signed "+e+" in "+s+" bit(s)")}else if(e<0||e>=d)throw new Error("Integer overflow when representing unsigned "+e+" in "+s+" bit(s)");const p=n.alloc(u);if(0!==a)return this.writeBits(p,e,a,s,l),p;switch((null==h?void 0:h.includes("BYTE_SwAP"))&&u>1&&p.swap16(),u){case 1:f?p.writeInt8(e,0):p.writeUInt8(e,0);break;case 2:l?f?p.writeInt16BE(e,0):p.writeUInt16BE(e,0):f?p.writeInt16LE(e,0):p.writeUInt16LE(e,0);break;case 4:l?f?p.writeInt32BE(e,0):p.writeUInt32BE(e,0):f?p.writeInt32LE(e,0):p.writeUInt32LE(e,0);break;default:f&&e<0&&(e+=1<<8*s);for(let t=0;t<u;++t){const r=e%256;e/=256,p.writeInt8(r,l?u-t-1:t)}}return p}valueToNumber(e,t){var r,o,s;if("number"!=typeof e)throw new Error("Value is not a number");const a=null!==(r=t.bitLength)&&void 0!==r?r:void 0!==t.byteLength?8*t.byteLength:32,c=null!==(o=t.offset)&&void 0!==o?o:0,{bigEndian:u,byteSeq:l}=t,f=null!==(s=t.byteLength)&&void 0!==s?s:Math.ceil((c+a)/8),h=Math.floor(c/8),d=n.alloc(f);if(c%8!=0)throw new Error("Offset must be a multiple of 8");switch(l&&f>1&&d.swap16(),a){case 16:(0,i.setFloat16)(new DataView(d.buffer),h,e,!u);break;case 32:u?d.writeFloatBE(e,h):d.writeFloatLE(e,0);break;case 64:u?d.writeDoubleBE(e,h):d.writeDoubleLE(e,0);break;default:throw new Error("Wrong buffer length for type 'number', must be 16, 32, or 64 is "+a)}return d}valueToString(e,t){var r,i,o;if("string"!=typeof e)throw new Error("Value is not a string");const s=null!==(r=t.offset)&&void 0!==r?r:0,{charset:a}=t,c=String(e);if(!n.isEncoding(a))throw new Error("Invalid charset "+a);const u=n.from(c,a),l=null!==(i=t.bitLength)&&void 0!==i?i:8*u.length;if(u.length>l)throw new Error(`String is ${8*u.length} bits long, but 'ex:bitLength' is ${l}`);const f=null!==(o=t.byteLength)&&void 0!==o?o:Math.ceil((s+l)/8);if(s%8==0)return n.concat([n.alloc(f-l/8),u]);{const e=n.alloc(f);return this.copyBits(u,0,e,s,l),e}}valueToObject(e,t,r={},i){if("object"!=typeof e||null===e)throw new Error("Value is not an object");if(void 0===r.length)throw new Error("Missing 'length' parameter necessary for write");i=null!=i?i:n.alloc(parseInt(r.length));for(const n in t.properties){if(!1===Object.hasOwnProperty.call(e,n))throw new Error(`Missing property '${n}'`);const o=t.properties[n],s=e[n],a=parseInt(o["ex:bitOffset"]),c=parseInt(o["ex:bitLength"]);let u;u="object"===o.type?this.valueToObject(s,o,r,i):this.valueToBytes(s,o,r),this.copyBits(u,a,i,a,c)}return i}readBits(e,t,r){if(t<0)throw new Error("bitOffset must be >= 0");if(r<0)throw new Error("bitLength must be >= 0");if(t+r>8*e.length)throw new Error("bitOffset + bitLength must be <= buffer.length * 8");const i=n.alloc(Math.ceil(r/8));let o=Math.floor(t/8),s=t%8,a=e[o],c=0,u=0;for(let t=0;t<r;t++)c=c<<1|a>>7-s&1,s++,s>7&&(o++,s=0,a=e[o]),t+1!==r%8&&(t+1)%8!=r%8&&t!==r-1||(i[u]=c,c=0,u++);return i}writeBits(e,t,r,n,i){let o=Math.floor(r/8),s=r%8;for(let r=0;r<n;r++){const a=i?t>>n-1-r&1:t>>r&1;e[o]|=a<<(i?7-s:s),s++,8===s&&(s=0,o++)}}copyBits(e,t,r,n,i){if(t%8==0&&n%8==0&&i%8==0)e.copy(r,n/8,t/8,t+i/8);else{const o=this.readBits(e,t,i);if(o.length<=6)this.writeBits(r,o.readUIntBE(0,o.length),n,i,!0);else for(let e=0;e<o.length;e++){const t=o.readUInt8(e);this.writeBits(r,t,n+8*e,8,!0)}}}}},65070:(e,t,r)=>{var n=r(1048).Buffer;Object.defineProperty(t,"__esModule",{value:!0});const i=r(32988),{debug:o}=(0,i.createLoggers)("core","text-codec");t.default=class{constructor(e){this.subMediaType=null!=e?e:"text/plain"}getMediaType(){return this.subMediaType}bytesToValue(e,t,r){return o(`TextCodec parsing '${e.toString()}'`),e.toString(null==r?void 0:r.charset)}valueToBytes(e,t,r){o(`TextCodec serializing '${e}'`);let i,s="";if(void 0!==e&&(s="string"==typeof e?e:JSON.stringify(e)),r&&r.charset)switch(r.charset){case"ascii":i="ascii";break;case"utf8":i="utf8";break;case"utf-8":i="utf-8";break;case"utf16le":i="utf16le";break;case"ucs2":i="ucs2";break;case"ucs-2":i="ucs-2";break;case"base64":i="base64";break;case"latin1":i="latin1";break;case"binary":i="binary";break;case"hex":i="hex"}const a=n.alloc(s.length);return a.write(s,i),a}}},51575:function(e,t,r){var n,i,o,s,a,c,u,l,f=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),h=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),d=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&f(t,e,r);return h(t,e),t},p=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))},y=this&&this.__classPrivateFieldSet||function(e,t,r,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r},b=this&&this.__classPrivateFieldGet||function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)},m=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const v=d(r(57127)),g=m(r(83423)),w=m(r(33882)),_=r(68492),S=r(19190),E=r(32988),{debug:T,warn:O}=(0,E.createLoggers)("core","consumed-thing");var x;!function(e){e[e.PropertyAffordance=0]="PropertyAffordance",e[e.ActionAffordance=1]="ActionAffordance",e[e.EventAffordance=2]="EventAffordance"}(x||(x={}));class A extends v.ThingProperty{constructor(e,t){super(),n.set(this,void 0),i.set(this,void 0),y(this,n,e,"f"),y(this,i,t,"f")}}n=new WeakMap,i=new WeakMap;class M extends v.ThingAction{constructor(e,t){super(),o.set(this,void 0),s.set(this,void 0),y(this,o,e,"f"),y(this,s,t,"f")}}o=new WeakMap,s=new WeakMap;class P extends v.ThingEvent{constructor(e,t){super(),a.set(this,void 0),c.set(this,void 0),y(this,a,e,"f"),y(this,c,t,"f")}}a=new WeakMap,c=new WeakMap;class I{constructor(e,t,r){this.thing=e,this.name=t,this.client=r,this.active=!0}}function j(e,t,r,n){const i=_.parse(r.href),o=g.default.parseInteractionOptions(e,t,n).uriVariables,s=i.expand(null!=o?o:{});if(s!==r.href){const t=Object.assign({},r);t.href=s,r=t,T(`ConsumedThing '${e.title}' update form URI to ${r.href}`)}return r}class R extends I{constructor(e,t,r,n){var i;super(e,t,r),this.form=n,this.active=!1;const o=null===(i=this.thing.properties)||void 0===i?void 0:i[t].forms.indexOf(n);if(void 0===o||o<0)throw new Error(`Could not find form ${n.href} in property ${t}`);this.formIndex=o}stop(e){return p(this,void 0,void 0,(function*(){yield this.unobserveProperty(e),this.thing.observedProperties.delete(this.name)}))}unobserveProperty(e={}){var t;return p(this,void 0,void 0,(function*(){const r=this.thing.properties[this.name];if(null==r)throw new Error(`ConsumedThing '${this.thing.title}' does not have property ${this.name}`);null!==(t=e.formIndex)&&void 0!==t||(e.formIndex=this.matchingUnsubscribeForm());const{form:n}=this.thing.getClientFor(r.forms,"unobserveproperty",x.PropertyAffordance,e);if(null==n)throw new Error(`ConsumedThing '${this.thing.title}' did not get suitable form`);const i=j(this.thing,r,n,e);T(`ConsumedThing '${this.thing.title}' unobserving to ${n.href}`),yield this.client.unlinkResource(i),this.active=!1}))}matchingUnsubscribeForm(){const e=this.thing.properties[this.name].forms[this.formIndex];if(Array.isArray(e.op)&&e.op.includes("unobserveproperty"))return this.formIndex;const t=this.findFormIndexWithScoring(this.formIndex,this.thing.properties[this.name].forms,"unobserveproperty");if(-1===t)throw new Error("Could not find matching form for unsubscribe");return t}findFormIndexWithScoring(e,t,r){var n;const i=t[e];let o=0,s=-1;for(let e=0;e<t.length;e++){let a=0;const c=t[e];(c.op===r||!0===(null===(n=null==c?void 0:c.op)||void 0===n?void 0:n.includes(r))&&!0===Array.isArray(c.op))&&(a+=1),new URL(c.href).origin===new URL(i.href).origin&&(a+=1),c.contentType===i.contentType&&(a+=1),a>o&&(o=a,s=e)}return s}}class k extends I{constructor(e,t,r,n){var i;super(e,t,r),this.form=n;const o=null===(i=this.thing.events)||void 0===i?void 0:i[t].forms.indexOf(n);if(void 0===o||o<0)throw new Error(`Could not find form ${n.href} in event ${t}`);this.formIndex=o}stop(e){return p(this,void 0,void 0,(function*(){yield this.unsubscribeEvent(e),this.thing.subscribedEvents.delete(this.name)}))}unsubscribeEvent(e={}){var t;return p(this,void 0,void 0,(function*(){const r=this.thing.events[this.name];if(null==r)throw new Error(`ConsumedThing '${this.thing.title}' does not have event ${this.name}`);null!==(t=e.formIndex)&&void 0!==t||(e.formIndex=this.matchingUnsubscribeForm());const{form:n}=this.thing.getClientFor(r.forms,"unsubscribeevent",x.EventAffordance,e);if(null==n)throw new Error(`ConsumedThing '${this.thing.title}' did not get suitable form`);const i=j(this.thing,r,n,e);T(`ConsumedThing '${this.thing.title}' unsubscribing to ${n.href}`),this.client.unlinkResource(i),this.active=!1}))}matchingUnsubscribeForm(){const e=this.thing.events[this.name].forms[this.formIndex];if(null==e.op||Array.isArray(e.op)&&e.op.includes("unsubscribeevent"))return this.formIndex;const t=function(e,t,r){var n;const i=t[e];let o=0,s=-1;for(let e=0;e<t.length;e++){let a=0;const c=t[e];(c.op===r||!0===(null===(n=null==c?void 0:c.op)||void 0===n?void 0:n.includes(r))&&!0===Array.isArray(c.op))&&(a+=1),new URL(c.href).origin===new URL(i.href).origin&&(a+=1),c.contentType===i.contentType&&(a+=1),a>o&&(o=a,s=e)}return s}(this.formIndex,this.thing.events[this.name].forms,"unsubscribeevent");if(-1===t)throw new Error("Could not find matching form for unsubscribe");return t}}class C extends v.Thing{constructor(e,t={}){super(),u.set(this,void 0),l.set(this,void 0),this.subscribedEvents=new Map,this.observedProperties=new Map,y(this,u,e,"f"),y(this,l,new Map,"f"),this.properties={},this.actions={},this.events={};const r=structuredClone(t);Object.assign(this,r),this.extendInteractions()}getThingDescription(){return JSON.parse(JSON.stringify(this))}emitEvent(e,t){O("not implemented")}extendInteractions(){for(const e in this.properties){const t=g.default.extend(this.properties[e],new A(e,this));this.properties[e]=t}for(const e in this.actions){const t=g.default.extend(this.actions[e],new M(e,this));this.actions[e]=t}for(const e in this.events){const t=g.default.extend(this.events[e],new P(e,this));this.events[e]=t}}findForm(e,t,r,n,i){let o;for(const s of e){let e="";if(void 0!==s.op)e=s.op;else switch(r){case x.PropertyAffordance:e=["readproperty","writeproperty"];break;case x.ActionAffordance:e="invokeaction";break;case x.EventAffordance:e="subscribeevent"}if(-1!==e.indexOf(t)&&-1!==s.href.indexOf(n[i]+":")){o=s;break}}return o}getSecuritySchemes(e){const t=[];for(const r of e){const e=this.securityDefinitions[r+""];null!=e&&t.push(e)}return t}ensureClientSecurity(e,t){if(null!=this.securityDefinitions){const r=()=>T(`ConsumedThing '${this.title}' setting credentials for ${e} based on thing security`);null!=t&&Array.isArray(t.security)&&t.security.length>0?(r(),e.setSecurity(this.getSecuritySchemes(t.security),b(this,u,"f").retrieveCredentials(this.id))):Array.isArray(this.security)&&this.security.length>0&&(r(),e.setSecurity(this.getSecuritySchemes(this.security),b(this,u,"f").getCredentials(this.id)))}}getClientFor(e,t,r,n){if(0===e.length)throw new Error(`ConsumedThing '${this.title}' has no links for this interaction`);let i,o;if(void 0!==(null==n?void 0:n.formIndex)){if(T(`ConsumedThing '${this.title}' asked to use formIndex '${n.formIndex}'`),!(n.formIndex>=0&&n.formIndex<e.length))throw new Error(`ConsumedThing '${this.title}' missing formIndex '${n.formIndex}'`);{i=e[n.formIndex];const t=g.default.extractScheme(i.href);if(!b(this,u,"f").hasClientFor(t))throw new Error(`ConsumedThing '${this.title}' missing ClientFactory for '${t}'`);T(`ConsumedThing '${this.title}' got client for '${t}'`),o=b(this,u,"f").getClientFor(t),b(this,l,"f").get(t)||(this.ensureClientSecurity(o,i),b(this,l,"f").set(t,o))}}else{const n=e.map((e=>g.default.extractScheme(e.href))),s=n.findIndex((e=>b(this,l,"f").has(e)));if(-1!==s)T(`ConsumedThing '${this.title}' chose cached client for '${n[s]}'`),o=b(this,l,"f").get(n[s]),i=this.findForm(e,t,r,n,s);else{T(`ConsumedThing '${this.title}' has no client in cache (${s})`);const a=n.findIndex((e=>b(this,u,"f").hasClientFor(e)));if(-1===a)throw new Error(`ConsumedThing '${this.title}' missing ClientFactory for '${n}'`);o=b(this,u,"f").getClientFor(n[a]),T(`ConsumedThing '${this.title}' got new client for '${n[a]}'`),b(this,l,"f").set(n[a],o),i=this.findForm(e,t,r,n,a),this.ensureClientSecurity(o,i)}}return{client:o,form:i}}readProperty(e,t){return p(this,void 0,void 0,(function*(){const r=this.properties[e];if(null==r)throw new Error(`ConsumedThing '${this.title}' does not have property ${e}`);let{client:n,form:i}=this.getClientFor(r.forms,"readproperty",x.PropertyAffordance,t);if(null==i)throw new Error(`ConsumedThing '${this.title}' did not get suitable form`);if(null==n)throw new Error(`ConsumedThing '${this.title}' did not get suitable client for ${i.href}`);T(`ConsumedThing '${this.title}' reading ${i.href}`),i=this.handleUriVariables(r,i,t);const o=yield n.readResource(i);return new S.InteractionOutput(o,i,r)}))}_readProperties(e){return p(this,void 0,void 0,(function*(){const t=[];for(const r of e)t.push(this.readProperty(r));const r=new Map;try{const n=yield Promise.all(t);let i=0;for(const t of e)r.set(t,n[i]),i++;return r}catch(t){throw new Error(`ConsumedThing '${this.title}', failed to read properties: ${e}.\n Error: ${t}`)}}))}readAllProperties(e){const t=[];for(const r in this.properties){const n=this.properties[r],{form:i}=this.getClientFor(n.forms,"readproperty",x.PropertyAffordance,e);null!=i&&t.push(r)}return this._readProperties(t)}readMultipleProperties(e,t){return this._readProperties(e)}writeProperty(e,t,r){return p(this,void 0,void 0,(function*(){const n=this.properties[e];if(null==n)throw new Error(`ConsumedThing '${this.title}' does not have property ${e}`);let{client:i,form:o}=this.getClientFor(n.forms,"writeproperty",x.PropertyAffordance,r);if(null==o)throw new Error(`ConsumedThing '${this.title}' did not get suitable form`);if(null==i)throw new Error(`ConsumedThing '${this.title}' did not get suitable client for ${o.href}`);T(`ConsumedThing '${this.title}' writing ${o.href} with '${t}'`);const s=w.default.valueToContent(t,n,o.contentType);o=this.handleUriVariables(n,o,r),yield i.writeResource(o,s)}))}writeMultipleProperties(e,t){return p(this,void 0,void 0,(function*(){const t=[];for(const r in e){const n=e.get(r);t.push(this.writeProperty(r,n))}try{yield Promise.all(t)}catch(t){throw new Error(`ConsumedThing '${this.title}', failed to write multiple propertes: ${e}\n Error: ${t}`)}}))}invokeAction(e,t,r){var n;return p(this,void 0,void 0,(function*(){const i=this.actions[e];if(null==i)throw new Error(`ConsumedThing '${this.title}' does not have action ${e}`);let o,{client:s,form:a}=this.getClientFor(i.forms,"invokeaction",x.ActionAffordance,r);if(null==a)throw new Error(`ConsumedThing '${this.title}' did not get suitable form`);if(null==s)throw new Error(`ConsumedThing '${this.title}' did not get suitable client for ${a.href}`);T(`ConsumedThing '${this.title}' invoking ${a.href}${void 0!==t?" with '"+t+"'":""}`),void 0!==t&&(o=w.default.valueToContent(t,i.input,a.contentType)),a=this.handleUriVariables(i,a,r);const c=yield s.invokeResource(a,o);if(c.type||(c.type=null!==(n=a.contentType)&&void 0!==n?n:"application/json"),null!=a.response&&c.type!==a.response.contentType)throw new Error("Unexpected type in response");try{return new S.InteractionOutput(c,a,i.output)}catch(e){throw new Error("Received invalid content from Thing")}}))}observeProperty(e,t,r,n){return p(this,void 0,void 0,(function*(){const i=this.properties[e];if(null==i)throw new Error(`ConsumedThing '${this.title}' does not have property ${e}`);const{client:o,form:s}=this.getClientFor(i.forms,"observeproperty",x.PropertyAffordance,n);if(null==s)throw new Error(`ConsumedThing '${this.title}' did not get suitable form`);if(null==o)throw new Error(`ConsumedThing '${this.title}' did not get suitable client for ${s.href}`);if(this.observedProperties.has(e))throw new Error(`ConsumedThing '${this.title}' has already a function subscribed to ${e}. You can only observe once`);T(`ConsumedThing '${this.title}' observing to ${s.href}`);const a=this.handleUriVariables(i,s,n);yield o.subscribeResource(a,(e=>{var r;e.type||(e.type=null!==(r=s.contentType)&&void 0!==r?r:"application/json");try{t(new S.InteractionOutput(e,s,i))}catch(e){O(`Error while processing observe event for ${i.title}`),O(e)}}),(e=>{null==r||r(e)}),(()=>{}));const c=new R(this,e,o,s);return this.observedProperties.set(e,c),c}))}subscribeEvent(e,t,r,n){return p(this,void 0,void 0,(function*(){const i=this.events[e];if(null==i)throw new Error(`ConsumedThing '${this.title}' does not have event ${e}`);const{client:o,form:s}=this.getClientFor(i.forms,"subscribeevent",x.EventAffordance,n);if(null==s)throw new Error(`ConsumedThing '${this.title}' did not get suitable form`);if(null==o)throw new Error(`ConsumedThing '${this.title}' did not get suitable client for ${s.href}`);if(this.subscribedEvents.has(e))throw new Error(`ConsumedThing '${this.title}' has already a function subscribed to ${e}. You can only subscribe once`);T(`ConsumedThing '${this.title}' subscribing to ${s.href}`);const a=this.handleUriVariables(i,s,n);yield o.subscribeResource(a,(e=>{var r;e.type||(e.type=null!==(r=s.contentType)&&void 0!==r?r:"application/json");try{t(new S.InteractionOutput(e,s,i.data))}catch(e){O(`Error while processing event for ${i.title}`),O(e)}}),(e=>{null==r||r(e)}),(()=>{}));const c=new k(this,e,o,s);return this.subscribedEvents.set(e,c),c}))}handleUriVariables(e,t,r){return j(this,e,t,r)}}t.default=C,u=new WeakMap,l=new WeakMap},33882:function(e,t,r){var n=r(1048).Buffer,i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ContentSerdes=void 0;const o=r(13143),s=i(r(18977)),a=i(r(93071)),c=i(r(65070)),u=i(r(99618)),l=i(r(13848)),f=r(50601),h=r(59267),d=r(75567),p=r(32988),{debug:y,warn:b}=(0,p.createLoggers)("core","content-serdes");class m{constructor(){this.codecs=new Map,this.offered=new Set}static get(){return null==this.instance&&(this.instance=new m,this.instance.addCodec(new a.default,!0),this.instance.addCodec(new a.default("application/senml+json")),this.instance.addCodec(new a.default("application/td+json")),this.instance.addCodec(new a.default("application/ld+json")),this.instance.addCodec(new s.default,!0),this.instance.addCodec(new c.default),this.instance.addCodec(new c.default("text/html")),this.instance.addCodec(new c.default("text/css")),this.instance.addCodec(new c.default("application/xml")),this.instance.addCodec(new c.default("application/xhtml+xml")),this.instance.addCodec(new c.default("image/svg+xml")),this.instance.addCodec(new u.default("image/png")),this.instance.addCodec(new u.default("image/gif")),this.instance.addCodec(new u.default("image/jpeg")),this.instance.addCodec(new l.default)),this.instance}static getMediaType(e){return e.split(";")[0].trim()}static getMediaTypeParameters(e){const t=e.split(";").slice(1),r={};return t.forEach((e=>{const t=e.indexOf("=");t>=0?r[e.substr(0,t).trim()]=e.substr(t+1).trim():r[e.trim()]=void 0})),r}addCodec(e,t=!1){m.get().codecs.set(e.getMediaType(),e),t&&m.get().offered.add(e.getMediaType())}getSupportedMediaTypes(){return Array.from(m.get().codecs.keys())}getOfferedMediaTypes(){return Array.from(m.get().offered)}isSupported(e){const t=m.getMediaType(e);return this.codecs.has(t)}contentToValue(e,t){if(void 0===e.type){if(!(e.body.byteLength>0))return;e.type=m.DEFAULT}const r=m.getMediaType(e.type),n=m.getMediaTypeParameters(e.type);return this.codecs.has(r)?(y(`ContentSerdes deserializing from ${e.type}`),this.codecs.get(r).bytesToValue(e.body,t,n)):(b(`ContentSerdes passthrough due to unsupported media type '${r}'`),e.body.toString())}valueToContent(e,t,r=m.DEFAULT){if(void 0===e&&b("ContentSerdes valueToContent got no value"),e instanceof d.ReadableStream)return new o.Content(r,h.ProtocolHelpers.toNodeStream(e));let i;const s=m.getMediaType(r),a=m.getMediaTypeParameters(r),c=this.codecs.get(s);return c?(y(`ContentSerdes serializing to ${r}`),i=c.valueToBytes(e,t,a)):(b(`ContentSerdes passthrough due to unsupported serialization format '${r}'`),i=n.from(null===e?"":e.toString())),new o.Content(r,f.Readable.from([i]))}}t.ContentSerdes=m,m.DEFAULT="application/json",m.TD="application/td+json",m.JSON_LD="application/ld+json",t.default=m.get()},13143:function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultContent=t.Content=void 0;const i=r(33882),o=n(r(35084));class s{constructor(e,t){this.type=e,this.body=t}toBuffer(){return o.default.readStreamFully(this.body)}}t.Content=s,t.DefaultContent=class extends s{constructor(e){super(i.ContentSerdes.DEFAULT,e)}}},59267:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.createWarnLogger=t.createInfoLogger=t.createErrorLogger=t.createDebugLogger=t.createLoggers=t.ProtocolHelpers=t.Helpers=t.ExposedThing=t.ConsumedThing=t.DefaultContent=t.Content=t.NetconfCodec=t.NetconfOctetstreamCodecCodec=t.Base64Codec=t.TextCodec=t.CborCodec=t.JsonCodec=t.Servient=void 0;const s=o(r(32460));t.Servient=s.default,t.default=s.default,i(r(33882),t);var a=r(93071);Object.defineProperty(t,"JsonCodec",{enumerable:!0,get:function(){return o(a).default}});var c=r(18977);Object.defineProperty(t,"CborCodec",{enumerable:!0,get:function(){return o(c).default}});var u=r(65070);Object.defineProperty(t,"TextCodec",{enumerable:!0,get:function(){return o(u).default}});var l=r(99618);Object.defineProperty(t,"Base64Codec",{enumerable:!0,get:function(){return o(l).default}});var f=r(13848);Object.defineProperty(t,"NetconfOctetstreamCodecCodec",{enumerable:!0,get:function(){return o(f).default}});var h=r(59214);Object.defineProperty(t,"NetconfCodec",{enumerable:!0,get:function(){return o(h).default}}),i(r(83265),t);var d=r(13143);Object.defineProperty(t,"Content",{enumerable:!0,get:function(){return d.Content}}),Object.defineProperty(t,"DefaultContent",{enumerable:!0,get:function(){return d.DefaultContent}});var p=r(51575);Object.defineProperty(t,"ConsumedThing",{enumerable:!0,get:function(){return o(p).default}});var y=r(67607);Object.defineProperty(t,"ExposedThing",{enumerable:!0,get:function(){return o(y).default}});var b=r(83423);Object.defineProperty(t,"Helpers",{enumerable:!0,get:function(){return o(b).default}});var m=r(35084);Object.defineProperty(t,"ProtocolHelpers",{enumerable:!0,get:function(){return o(m).default}});var v=r(32988);Object.defineProperty(t,"createLoggers",{enumerable:!0,get:function(){return v.createLoggers}}),Object.defineProperty(t,"createDebugLogger",{enumerable:!0,get:function(){return v.createDebugLogger}}),Object.defineProperty(t,"createErrorLogger",{enumerable:!0,get:function(){return v.createErrorLogger}}),Object.defineProperty(t,"createInfoLogger",{enumerable:!0,get:function(){return v.createInfoLogger}}),Object.defineProperty(t,"createWarnLogger",{enumerable:!0,get:function(){return v.createWarnLogger}})},27171:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DataSchemaError=t.NotSupportedError=t.NotReadableError=void 0;class r extends Error{constructor(e){super(e),Object.setPrototypeOf(this,r.prototype)}}t.NotReadableError=r;class n extends Error{constructor(e){super(e),Object.setPrototypeOf(this,n.prototype)}}t.NotSupportedError=n;class i extends Error{constructor(e,t){super(e),this.value=t,Object.setPrototypeOf(this,n.prototype)}}t.DataSchemaError=i},67607:function(e,t,r){var n,i,o,s,a,c,u=r(1048).Buffer,l=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),f=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),h=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&l(t,e,r);return f(t,e),t},d=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))},p=this&&this.__classPrivateFieldSet||function(e,t,r,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r},y=this&&this.__classPrivateFieldGet||function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)},b=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const m=h(r(57127)),v=b(r(83423)),g=r(19190),w=r(50601),_=b(r(35084)),S=r(75567),E=r(59267),T=b(r(33882)),O=b(r(8893)),x=r(32988),{debug:A}=(0,x.createLoggers)("core","exposed-thing");class M extends m.Thing{constructor(e,t={}){var r,u;super(),n.set(this,new Map),i.set(this,new Map),o.set(this,new Map),s.set(this,new O.default),a.set(this,new O.default),c.set(this,void 0),p(this,c,e,"f"),this.id=null!==(r=t.id)&&void 0!==r?r:"",this.title=null!==(u=t.title)&&void 0!==u?u:"",this.security="",this.securityDefinitions={},this.properties={},this.actions={},this.events={};const l=JSON.parse(JSON.stringify(t));Object.assign(this,l),m.setContextLanguage(this,m.DEFAULT_CONTEXT_LANGUAGE,!1)}getThingDescription(){return JSON.parse(m.serializeTD(this))}emitEvent(e,t){if(null==this.events[e])throw new Error("NotFoundError for event '"+e+"'");{const r=this.events[e];y(this,a,"f").notify(r,t,r.data)}}emitPropertyChange(e){var t;return d(this,void 0,void 0,(function*(){if(null==this.properties[e])throw new Error("NotFoundError for property '"+e+"'");{const r=this.properties[e],i=null===(t=y(this,n,"f").get(e))||void 0===t?void 0:t.readHandler;if(!i)throw new Error("Can't read property readHandler is not defined. Did you forget to register a readHandler?");const o=yield i();y(this,s,"f").notify(r,o,r)}}))}expose(){return A(`ExposedThing '${this.title}' exposing all Interactions and TD`),new Promise(((e,t)=>{y(this,c,"f").expose(this).then((()=>{e()})).catch((e=>t(e)))}))}destroy(){return d(this,void 0,void 0,(function*(){A(`ExposedThing '${this.title}' destroying the thing and its interactions`),yield y(this,c,"f").destroyThing(this.id),y(this,a,"f").unregisterAll(),y(this,s,"f").unregisterAll(),y(this,o,"f").clear(),y(this,n,"f").clear(),y(this,o,"f").clear()}))}setPropertyReadHandler(e,t){if(A(`ExposedThing '${this.title}' setting read handler for '${e}'`),null==this.properties[e])throw new Error(`ExposedThing '${this.title}' has no Property '${e}'`);if(!0===this.properties[e].writeOnly)throw new Error(`ExposedThing '${this.title}' cannot set read handler for property '${e}' due to writeOnly flag`);{let r=y(this,n,"f").get(e);r?r.readHandler=t:r={readHandler:t},y(this,n,"f").set(e,r)}return this}setPropertyWriteHandler(e,t){if(A(`ExposedThing '${this.title}' setting write handler for '${e}'`),null==this.properties[e])throw new Error(`ExposedThing '${this.title}' has no Property '${e}'`);if(!0===this.properties[e].readOnly)throw new Error(`ExposedThing '${this.title}' cannot set write handler for property '${e}' due to readOnly flag`);{let r=y(this,n,"f").get(e);r?r.writeHandler=t:r={writeHandler:t},y(this,n,"f").set(e,r)}return this}setPropertyObserveHandler(e,t){if(A(`ExposedThing '${this.title}' setting property observe handler for '${e}'`),null==this.properties[e])throw new Error(`ExposedThing '${this.title}' has no Property '${e}'`);if(!0!==this.properties[e].observable)throw new Error(`ExposedThing '${this.title}' cannot set observe handler for property '${e}' since the observable flag is set to false`);{let r=y(this,n,"f").get(e);r?r.observeHandler=t:r={observeHandler:t},y(this,n,"f").set(e,r)}return this}setPropertyUnobserveHandler(e,t){if(A(`ExposedThing '${this.title}' setting property unobserve handler for '${e}'`),null==this.properties[e])throw new Error(`ExposedThing '${this.title}' has no Property '${e}'`);if(!0!==this.properties[e].observable)throw new Error(`ExposedThing '${this.title}' cannot set unobserve handler for property '${e}' due to missing observable flag`);{let r=y(this,n,"f").get(e);r?r.unobserveHandler=t:r={unobserveHandler:t},y(this,n,"f").set(e,r)}return this}setActionHandler(e,t){if(A(`ExposedThing '${this.title}' setting action handler for '${e}'`),null==this.actions[e])throw new Error(`ExposedThing '${this.title}' has no Action '${e}'`);return y(this,i,"f").set(e,t),this}setEventSubscribeHandler(e,t){if(A(`ExposedThing '${this.title}' setting event subscribe handler for '${e}'`),null==this.events[e])throw new Error(`ExposedThing '${this.title}' has no Event '${e}'`);{let r=y(this,o,"f").get(e);r?r.subscribe=t:r={subscribe:t},y(this,o,"f").set(e,r)}return this}setEventUnsubscribeHandler(e,t){if(A(`ExposedThing '${this.title}' setting event unsubscribe handler for '${e}'`),null==this.events[e])throw new Error(`ExposedThing '${this.title}' has no Event '${e}'`);{let r=y(this,o,"f").get(e);r?r.unsubscribe=t:r={unsubscribe:t},y(this,o,"f").set(e,r)}return this}handleInvokeAction(e,t,r){var n;return d(this,void 0,void 0,(function*(){if(null==this.actions[e])throw new Error(`ExposedThing '${this.title}', no action found for '${e}'`);{A(`ExposedThing '${this.title}' has Action state of '${e}'`);const o=y(this,i,"f").get(e);if(null==o)throw new Error(`ExposedThing '${this.title}' has no handler for Action '${e}'`);{A(`ExposedThing '${this.title}' calls registered handler for Action '${e}'`),v.default.validateInteractionOptions(this,this.actions[e],r);const i=null!==(n=this.actions[e].forms[r.formIndex])&&void 0!==n?n:{contentType:"application/json"},s=yield o(new g.InteractionOutput(t,i,this.actions[e].input),r);if(void 0!==s)return T.default.valueToContent(s,this.actions[e].output,i.contentType)}}}))}handleReadProperty(e,t){var r,i,o,s;return d(this,void 0,void 0,(function*(){if(null!=this.properties[e]){A(`ExposedThing '${this.title}' has Action state of '${e}'`);const a=null===(r=y(this,n,"f").get(e))||void 0===r?void 0:r.readHandler;if(null!=a){A(`ExposedThing '${this.title}' calls registered readHandler for Property '${e}'`),v.default.validateInteractionOptions(this,this.properties[e],t);const r=yield a(t),n=null!==(o=null===(i=this.properties[e])||void 0===i?void 0:i.forms[t.formIndex])&&void 0!==o?o:{contentType:"application/json"};return T.default.valueToContent(r,this.properties[e],null!==(s=null==n?void 0:n.contentType)&&void 0!==s?s:"application/json")}throw new Error(`ExposedThing '${this.title}' has no readHandler for Property '${e}'`)}throw new Error(`ExposedThing '${this.title}', no property found for '${e}'`)}))}_handleReadProperties(e,t){return d(this,void 0,void 0,(function*(){try{const r=new Map;for(const n of e){if(!this.properties[n].forms.find((e=>e.contentType===E.ContentSerdes.DEFAULT||null==e.contentType)))continue;const e=yield this.handleReadProperty(n,t);r.set(n,e)}return r}catch(t){throw new Error(`ConsumedThing '${this.title}', failed to read properties: ${e}.\n Error: ${t}`)}}))}handleReadAllProperties(e){return d(this,void 0,void 0,(function*(){const t=[];for(const e in this.properties)t.push(e);return yield this._handleReadProperties(t,e)}))}handleReadMultipleProperties(e,t){return d(this,void 0,void 0,(function*(){return yield this._handleReadProperties(e,t)}))}handleWriteProperty(e,t,r){var i,o,s;return d(this,void 0,void 0,(function*(){if(null==this.properties[e])throw new Error(`ExposedThing '${this.title}', no property found for '${e}'`);{if(!0===this.properties[e].readOnly)throw new Error(`ExposedThing '${this.title}', property '${e}' is readOnly`);v.default.validateInteractionOptions(this,this.properties[e],r);const a=null===(i=y(this,n,"f").get(e))||void 0===i?void 0:i.writeHandler,c=null!==(s=null===(o=this.properties[e])||void 0===o?void 0:o.forms[r.formIndex])&&void 0!==s?s:{};if(null==a)throw new Error(`ExposedThing '${this.title}' has no writeHandler for Property '${e}'`);yield a(new g.InteractionOutput(t,c,this.properties[e]),r)}}))}handleWriteMultipleProperties(e,t){return d(this,void 0,void 0,(function*(){const r=[];for(const n in e)this.properties[n].forms.find((e=>"application/json"===e.contentType||null==e.contentType))&&r.push(this.handleWriteProperty(n,e.get(n),t));try{yield Promise.all(r)}catch(e){throw new Error(`ExposedThing '${this.title}', failed to write multiple properties. ${e.message}`)}}))}handleSubscribeEvent(e,t,r){var n;return d(this,void 0,void 0,(function*(){if(null==this.events[e])throw new Error(`ExposedThing '${this.title}', no event found for '${e}'`);{v.default.validateInteractionOptions(this,this.events[e],r);const i=_.default.getFormIndexForOperation(this.events[e],"event","subscribeevent",r.formIndex);if(-1===i)throw new Error(`ExposedThing '${this.title}', no property listener from found for '${e}' with form index '${r.formIndex}'`);y(this,a,"f").register(this.events[e],i,t),A(`ExposedThing '${this.title}' subscribes to event '${e}'`);const s=null===(n=y(this,o,"f").get(e))||void 0===n?void 0:n.subscribe;s&&(yield s(r)),A(`ExposedThing '${this.title}' subscribes to event '${e}'`)}}))}handleUnsubscribeEvent(e,t,r){var n;if(null==this.events[e])throw new Error(`ExposedThing '${this.title}', no event found for '${e}'`);{v.default.validateInteractionOptions(this,this.events[e],r);const i=_.default.getFormIndexForOperation(this.events[e],"event","unsubscribeevent",r.formIndex);if(-1===i)throw new Error(`ExposedThing '${this.title}', no event listener from found for '${e}' with form index '${r.formIndex}'`);y(this,a,"f").unregister(this.events[e],i,t);const s=null===(n=y(this,o,"f").get(e))||void 0===n?void 0:n.unsubscribe;s&&s(r),A(`ExposedThing '${this.title}' unsubscribes from event '${e}'`)}}handleObserveProperty(e,t,r){var i;return d(this,void 0,void 0,(function*(){if(null==this.properties[e])throw new Error(`ExposedThing '${this.title}', no property found for '${e}'`);{v.default.validateInteractionOptions(this,this.properties[e],r);const o=_.default.getFormIndexForOperation(this.properties[e],"property","observeproperty",r.formIndex);if(-1===o)throw new Error(`ExposedThing '${this.title}', no property listener from found for '${e}' with form index '${r.formIndex}'`);y(this,s,"f").register(this.properties[e],o,t),A(`ExposedThing '${this.title}' subscribes to property '${e}'`);const a=null===(i=y(this,n,"f").get(e))||void 0===i?void 0:i.observeHandler;a&&(yield a(r))}}))}handleUnobserveProperty(e,t,r){var i;if(null==this.properties[e])throw new Error(`ExposedThing '${this.title}', no property found for '${e}'`);{v.default.validateInteractionOptions(this,this.properties[e],r);const o=_.default.getFormIndexForOperation(this.properties[e],"property","unobserveproperty",r.formIndex);if(-1===o)throw new Error(`ExposedThing '${this.title}', no property listener from found for '${e}' with form index '${r.formIndex}'`);y(this,s,"f").unregister(this.properties[e],o,t);const a=null===(i=y(this,n,"f").get(e))||void 0===i?void 0:i.unobserveHandler;a&&a(r)}}static interactionInputToReadable(e){let t;return t="undefined"!=typeof ReadableStream&&e instanceof ReadableStream||e instanceof S.ReadableStream?_.default.toNodeStream(e):Array.isArray(e)||"object"==typeof e?w.Readable.from(u.from(JSON.stringify(e),"utf-8")):w.Readable.from(u.from(e.toString(),"utf-8")),t}}t.default=M,n=new WeakMap,i=new WeakMap,o=new WeakMap,s=new WeakMap,a=new WeakMap,c=new WeakMap},83423:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t},s=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const c=o(r(82213)),u=o(r(57127)),l=r(33882),f=a(r(11601)),h=a(r(64914)),d=r(57127),p=r(32988),{debug:y,error:b,warn:m}=(0,p.createLoggers)("core","helpers"),v=h.default,g=new f.default({strict:!1}).addFormat("iri-reference",/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i).addFormat("uri",/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/).addFormat("date-time",/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/);class w{constructor(e){this.srv=e}static extractScheme(e){const t=new URL(e);if(y(t),null===t.protocol)throw new Error(`Protocol in url "${e}" must be valid`);const r=t.protocol.slice(0,-1);return y(`Helpers found scheme '${r}'`),r}static setStaticAddress(e){w.staticAddress=e}static getAddresses(){var e;const t=[];if(void 0!==w.staticAddress)return t.push(w.staticAddress),y(`AddressHelper uses static ${t}`),t;{const r=c.networkInterfaces();for(const n in r)null===(e=r[n])||void 0===e||e.forEach((e=>{y(`AddressHelper found ${e.address}`),!1===e.internal&&("IPv4"===e.family?t.push(e.address):0===e.scopeid&&t.push(w.toUriLiteral(e.address)))}));return 0===t.length&&t.push("localhost"),y(`AddressHelper identified ${t}`),t}}static toUriLiteral(e){return null==e?(b(`AddressHelper received invalid address '${e}'`),"{invalid address - undefined}"):(-1!==e.indexOf(":")&&(e=`[${e}]`),e)}static generateUniqueName(e){const t=e.match(/.+_([0-9]+)$/);return null!==t?e.slice(0,-t[1].length)+(1+parseInt(t[1])):e+"_2"}static toStringArray(e){return null!=e?"string"==typeof e?[e]:e:[]}fetch(e){return new Promise(((t,r)=>{const n=this.srv.getClientFor(w.extractScheme(e));y(`WoTImpl fetching TD from '${e}' with ${n}`),n.readResource(new u.Form(e,l.ContentSerdes.TD)).then((n=>s(this,void 0,void 0,(function*(){n.type!==l.ContentSerdes.TD&&n.type!==l.ContentSerdes.JSON_LD&&m(`WoTImpl received TD with media type '${n.type}' from ${e}`);const i=(yield n.toBuffer()).toString("utf-8");try{const e=JSON.parse(i);t(e)}catch(t){r(new Error(`WoTImpl fetched invalid JSON from '${e}': ${t instanceof Error?t.message:t}`))}})))).then((e=>s(this,void 0,void 0,(function*(){return yield n.stop(),e})))).catch((e=>{r(e)}))}))}static extend(e,t){const r={};for(const t in e)r[t]=e[t];for(const e in t)Object.prototype.hasOwnProperty.call(r,e)||(r[e]=t[e]);return r}static parseInteractionOutput(e){return s(this,void 0,void 0,(function*(){try{return yield e.value()}catch(e){throw b("parseInteractionOutput low-level stream not implemented"),new Error("parseInteractionOutput low-level stream not implemented")}}))}static createExposeThingInitSchema(e){const t=structuredClone(e);if(void 0!==t.required){const e=["title","@context","instance","forms","security","href","securityDefinitions"];if(Array.isArray(t.required)){const r=t.required;t.required=r.filter((t=>!e.includes(t)))}else"string"==typeof t.required&&-1!==e.indexOf(t.required)&&delete t.required}if(void 0!==t.definitions)for(const e in t.definitions)t.definitions[e]=this.createExposeThingInitSchema(t.definitions[e]);return t}static validateExposedThingInit(e){var t;if("tm:ThingModel"===e["@type"]||!0===d.ThingModelHelpers.isThingModel(e))return{valid:!1,errors:"ThingModel declaration is not supported"};const r=w.tsSchemaValidator(e);let n;return r||(n=null===(t=w.tsSchemaValidator.errors)||void 0===t?void 0:t.map((e=>e.message)).join("\n")),{valid:r,errors:n}}static parseInteractionOptions(e,t,r){var n,i;if(!this.validateInteractionOptions(e,t,r))throw new Error(`CoreHelpers one or more uriVariables were not found under neither '${t.title}' Thing Interaction nor '${e.title}' Thing`);const o=null!==(n=t.uriVariables)&&void 0!==n?n:{},s=null!==(i=e.uriVariables)&&void 0!==i?i:{},a={};(null==r?void 0:r.uriVariables)?Object.entries(r.uriVariables).forEach((e=>{(e[0]in o||e[0]in s)&&(a[e[0]]=e[1])})):r={uriVariables:{}};for(const e in s){const t=s[e];!(e in a)&&"default"in t&&(a[e]=t.default)}return r.uriVariables=a,r}static validateInteractionOptions(e,t,r){var n,i;const o=null!==(n=t.uriVariables)&&void 0!==n?n:{},s=null!==(i=e.uriVariables)&&void 0!==i?i:{};if(null==r?void 0:r.uriVariables){const e=Object.entries(r.uriVariables);for(let t=0;t<e.length;t++){const r=e[t];if(!(r[0]in o)&&!(r[0]in s))return!1}}return!0}static parseUrlParameters(e,t={},r={}){const n={};if(null==e||null==r&&null==t)return n;const i=e.split("?")[1];return null==i||(-1!==i.indexOf("&")?i.split("&"):[i]).forEach((e=>{const i=e.split("="),o=decodeURIComponent(i[0]),s=decodeURIComponent(i.length>1?i[1]:"");null!=r&&null!=r[o]?"integer"===r[o].type||"number"===r[o].type?n[o]=+s:n[o]=s:null!=t&&null!=t[o]&&("integer"===t[o].type||"number"===t[o].type?n[o]=+s:n[o]=s)})),n}static updateInteractionNameWithUriVariablePattern(e,t={},r={}){const n=encodeURIComponent(e),i=[...Object.keys(t),...Object.keys(r)];return 0===i.length?n:n+"{?"+i.map(encodeURIComponent).join(",")+"}"}}t.default=w,w.tsSchemaValidator=g.compile(w.createExposeThingInitSchema(v)),w.staticAddress=void 0},19190:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t},s=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.InteractionOutput=void 0;const c=o(r(49208)),u=r(33882),l=r(59267),f=r(27171),h=a(r(11601)),d=r(32988),{debug:p}=(0,d.createLoggers)("core","interaction-output"),y=new h.default({strict:!1});t.InteractionOutput=class{constructor(e,t,r){this.content=e,this.form=t,this.schema=r,this.dataUsed=!1}get data(){if(this._stream)return this._stream;if(this.dataUsed)throw new Error("Can't read the stream once it has been already used");return this.dataUsed=!0,this._stream=l.ProtocolHelpers.toWoTStream(this.content.body)}arrayBuffer(){return s(this,void 0,void 0,(function*(){if(this.buffer)return this.buffer;if(this.dataUsed)throw new Error("Can't read the stream once it has been already used");const e=yield this.content.toBuffer();return this.dataUsed=!0,this.buffer=e,e}))}value(){var e;return s(this,void 0,void 0,(function*(){if(null!=this.parsedValue)return this.parsedValue;if(this.dataUsed)throw new Error("Can't read the stream once it has been already used");if(!this.form||!u.ContentSerdes.get().isSupported(this.content.type)){const e=this.form?`Content type ${this.content.type} not supported`:"Missing form";throw new f.NotSupportedError(e)}const t=yield this.content.toBuffer();this.dataUsed=!0,this.buffer=t;const r=u.ContentSerdes.get().contentToValue({type:this.content.type,body:t},null!==(e=this.schema)&&void 0!==e?e:{});if(this.schema){const e=y.compile(this.schema);if(!e(r))throw p(`schema = ${c.inspect(this.schema,{depth:10,colors:!0})}`),p(`value: ${r}`),p(`Errror: ${e.errors}`),new f.DataSchemaError("Invalid value according to DataSchema",r)}return this.parsedValue=r,this.parsedValue}))}}},32988:function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.createLoggers=t.createErrorLogger=t.createWarnLogger=t.createDebugLogger=t.createInfoLogger=void 0;const i=n(r(20124));var o;function s(e,t){const r=["node-wot",...e,o[t]].join(":");return(0,i.default)(r)}function a(...e){return s(e,o.info)}function c(...e){return s(e,o.debug)}function u(...e){return s(e,o.warn)}function l(...e){return s(e,o.error)}!function(e){e[e.info=0]="info",e[e.debug=1]="debug",e[e.warn=2]="warn",e[e.error=3]="error"}(o||(o={})),t.createInfoLogger=a,t.createDebugLogger=c,t.createWarnLogger=u,t.createErrorLogger=l,t.createLoggers=function(...e){return{info:a(...e),debug:c(...e),warn:u(...e),error:l(...e)}}},35084:(e,t,r)=>{var n=r(1048).Buffer;Object.defineProperty(t,"__esModule",{value:!0});const i=r(50601),o=r(75567),s=r(32988),{debug:a,warn:c}=(0,s.createLoggers)("core","protocol-helpers");function u(e){return class extends e{set nodeStream(e){this._nodeStream=e}get nodeStream(){if(!this._nodeStream)throw new Error("ManagedStream not correctly initialized nodeStream is undefined");return this._nodeStream}set wotStream(e){this._wotStream=e}get wotStream(){if(!this._wotStream)throw new Error("ManagedStream not correctly initialized wotStream is undefined");return this._wotStream}}}const l=u(i.Readable),f=u(o.ReadableStream);function h(e){return e instanceof f||e instanceof l}t.default=class{static updatePropertyFormWithTemplate(e,t){var r;for(const n of null!==(r=t.forms)&&void 0!==r?r:[])if(n.href,null!=n.contentType)return void(e.contentType=n.contentType)}static updateActionFormWithTemplate(e,t){var r;for(const n of null!==(r=t.forms)&&void 0!==r?r:[])if(n.href,null!=n.contentType)return void(e.contentType=n.contentType)}static updateEventFormWithTemplate(e,t){var r;for(const n of null!==(r=t.forms)&&void 0!==r?r:[])if(n.href,null!=n.contentType)return void(e.contentType=n.contentType)}static getPropertyContentType(e,t,r){var n;if(null!=t&&null!=r&&null!=(null==e?void 0:e.properties)&&null!=e.properties[t]&&null!=e.properties[t].forms&&Array.isArray(e.properties[t].forms))for(const i of e.properties[t].forms)if((null===(n=i.href)||void 0===n?void 0:n.startsWith(r))&&null!=i.contentType)return i.contentType}static getActionContentType(e,t,r){var n;if(null!=t&&null!=r&&(null==e?void 0:e.actions)&&null!=e.actions&&Array.isArray(null===(n=e.actions[t])||void 0===n?void 0:n.forms))for(const n of e.actions[t].forms)if(n.href&&n.href.startsWith(r)&&null!=n.contentType)return n.contentType}static getEventContentType(e,t,r){var n;if(null!=t&&null!=r&&(null==e?void 0:e.events)&&null!=(null===(n=null==e?void 0:e.events[t])||void 0===n?void 0:n.forms)&&Array.isArray(e.events[t].forms))for(const n of e.events[t].forms)if(n.href&&n.href.startsWith(r)&&null!=n.contentType)return n.contentType}static toWoTStream(e){if(h(e))return e.wotStream;const t=new f({start:t=>{e.on("data",(e=>t.enqueue(e))),e.on("error",(e=>t.error(e))),e.on("end",(()=>t.close()))},cancel:t=>{e instanceof i.Readable&&e.destroy(t)}});return e instanceof i.Readable?t.nodeStream=e:t.nodeStream=new i.Readable(e),t}static toNodeStream(e){if(h(e))return e.nodeStream;if(e instanceof i.Readable)return e;const t=e.getReader(),r=new l({read:e=>{t.read().then((e=>{r.push(e.value),e.done&&r.push(null)}))},destroy:(r,n)=>{t.releaseLock(),e.cancel(r).then((()=>n(r)))}});return r.wotStream=e,r.nodeStream=r,r}static readStreamFully(e){return new Promise(((t,r)=>{if(null!=e){const i=[];e.on("data",(e=>i.push(e))),e.on("error",r),e.on("end",(()=>{null!=i[0]&&(i[0]instanceof Array||i[0]instanceof n||i[0]instanceof Uint8Array)?t(n.concat(i)):null!=i[0]&&"string"==typeof i[0]?t(n.from(i.join())):t(n.from(i))}))}else a("Protocol-Helper returns empty buffer for readStreamFully due to undefined stream"),t(n.alloc(0))}))}static findRequestMatchingFormIndex(e,t,r,n){if(void 0===e)return 0;let i=e.filter((e=>{const n=new URL(e.href.replace(/(\{[\S]*\})/,"")),i=void 0!==r?-1!==r.indexOf("?")?r.split("?")[0]:r:void 0;return n.protocol===t+":"&&(void 0===i||n.pathname===i)}));if(null!=n){const e=i.filter((e=>e.contentType===n));e.length>0&&(i=e)}return i.length>0?e.indexOf(i[0]):0}static getFormIndexForOperation(e,t,r,n){var i;let o=-1,s=[];switch(t){case"property":if(!0===e.readOnly&&"writeproperty"===r||!0===e.writeOnly&&"readproperty"===r)return o;!0!==e.readOnly&&s.push("writeproperty"),!0!==e.writeOnly&&s.push("readproperty");break;case"action":s=["invokeaction"];break;case"event":s=["subscribeevent","unsubscribeevent"]}if(-1!==s.indexOf(r)&&(r=void 0),void 0!==e.forms&&void 0!==n&&e.forms.length>n){const t=e.forms[n];null==t||null!=r&&!0!==(null===(i=t.op)||void 0===i?void 0:i.includes(r))||(o=n)}return void 0!==e.forms&&-1===o&&(void 0!==r?e.forms.every((t=>{var n;return!0===(null===(n=t.op)||void 0===n?void 0:n.includes(r))&&(o=e.forms.indexOf(t)),-1===o})):e.forms.every((t=>(o=e.forms.indexOf(t),!1)))),o}static getPropertyOpValues(e){const t=[];return!0!==e.readOnly&&t.push("writeproperty"),!0!==e.writeOnly&&t.push("readproperty"),0===t.length&&c("Property was declared both as readOnly and writeOnly."),!0===e.observable&&(t.push("observeproperty"),t.push("unobserveproperty")),t}}},83265:(e,t)=>{var r;Object.defineProperty(t,"__esModule",{value:!0}),t.Endianness=void 0,(r=t.Endianness||(t.Endianness={})).BIG_ENDIAN="BIG_ENDIAN",r.LITTLE_ENDIAN="LITTLE_ENDIAN",r.BIG_ENDIAN_BYTE_SWAP="BIG_ENDIAN_BYTE_SWAP",r.LITTLE_ENDIAN_BYTE_SWAP="LITTLE_ENDIAN_BYTE_SWAP"},8893:function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(r(33882));class o{constructor(){this.listeners=new Map}register(e,t,r){if(null==e.forms[t])throw new Error("Can't register the listener for affordance with formIndex. The affordance does not contain the form");let n=this.listeners.get(e);n||(n=new Map,this.listeners.set(e,n));let i=n.get(t);i||(i=[],n.set(t,i)),i.push(r)}unregister(e,t,r){const n=this.listeners.get(e);if(!n)throw new Error("Not found");const i=n.get(t);if(!i)throw new Error("Form not found");const o=i.indexOf(r);if(o<0)throw new Error("Form not found");i.splice(o,1)}unregisterAll(){this.listeners.clear()}notify(e,t,r,n){var s;const a=null!==(s=this.listeners.get(e))&&void 0!==s?s:o.EMPTY_MAP;if(void 0!==n){const o=a.get(n);if(o){const s=e.forms[n].contentType,a=i.default.valueToContent(t,r,s);return void o.forEach((e=>e(a)))}}for(const[n,o]of a){const s=e.forms[n].contentType,a=i.default.valueToContent(t,r,s);o.forEach((e=>e(a)))}}}t.default=o,o.EMPTY_MAP=new Map},32460:function(e,t,r){var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(r(21407)),s=i(r(33882)),a=r(15593),c=r(32988),{debug:u,warn:l}=(0,c.createLoggers)("core","servient");t.default=class{constructor(){this.servers=[],this.clientFactories=new Map,this.things=new Map,this.credentialStore=new Map}addMediaType(e,t=!1){s.default.addCodec(e,t)}expose(e){if(0===this.servers.length)return l("Servient has no servers to expose Things"),new Promise((e=>{e()}));u(`Servient exposing '${e.title}'`);const t=JSON.parse(JSON.stringify(e));e.forms=[];for(const t in e.properties)e.properties[t].forms=[];for(const t in e.actions)e.actions[t].forms=[];for(const t in e.events)e.events[t].forms=[];const r=[];return this.servers.forEach((n=>{r.push(n.expose(e,t))})),new Promise(((e,t)=>{Promise.all(r).then((()=>e())).catch((e=>t(e)))}))}addThing(e){return e.id||(e.id="urn:uuid:"+(0,a.v4)(),l(`Servient generating ID for '${e.title}': '${e.id}'`)),!this.things.has(e.id)&&(this.things.set(e.id,e),u(`Servient reset ID '${e.id}' with '${e.title}'`),!0)}destroyThing(e){return new Promise(((t,r)=>{if(this.things.has(e)){u(`Servient destroying thing with id '${e}'`),this.things.delete(e);const n=[];this.servers.forEach((t=>{n.push(t.destroy(e))})),Promise.all(n).then((()=>t(!0))).catch((e=>r(e)))}else l(`Servient was asked to destroy thing but failed to find thing with id '${e}'`),t(!1)}))}getThing(e){return this.things.has(e)?this.things.get(e):void 0}getThings(){u(`Servient getThings size == '${this.things.size}'`);const e={};return this.things.forEach(((t,r)=>{e[r]=t.getThingDescription()})),e}addServer(e){return this.things.forEach(((t,r)=>e.expose(t))),this.servers.push(e),!0}getServers(){return this.servers.slice(0)}addClientFactory(e){u(`Servient adding client factory for '${e.scheme}'`),this.clientFactories.set(e.scheme,e)}removeClientFactory(e){var t;return u(`Servient removing client factory for '${e}'`),null===(t=this.clientFactories.get(e))||void 0===t||t.destroy(),this.clientFactories.delete(e)}hasClientFor(e){return u(`Servient checking for '${e}' scheme in ${this.clientFactories.size} ClientFactories`),this.clientFactories.has(e)}getClientFor(e){const t=this.clientFactories.get(e);if(t)return u(`Servient creating client for scheme '${e}'`),t.getClient();throw new Error(`Servient has no ClientFactory for scheme '${e}'`)}getClientSchemes(){return Array.from(this.clientFactories.keys())}addCredentials(e){if("object"==typeof e)for(const t in e){u(`Servient storing credentials for '${t}'`);let r=this.credentialStore.get(t);r||(r=[],this.credentialStore.set(t,r)),r.push(e[t])}}getCredentials(e){u(`Servient looking up credentials for '${e}' (@deprecated)`);const t=this.credentialStore.get(e);return t&&t.length>0?t[0]:void 0}retrieveCredentials(e){return u(`Servient looking up credentials for '${e}'`),this.credentialStore.get(e)}start(){return n(this,void 0,void 0,(function*(){const e=[];return this.servers.forEach((t=>e.push(t.start(this)))),this.clientFactories.forEach((e=>e.init())),yield Promise.all(e),new o.default(this)}))}shutdown(){return n(this,void 0,void 0,(function*(){this.clientFactories.forEach((e=>e.destroy()));const e=this.servers.map((e=>e.stop()));yield Promise.all(e)}))}}},76471:function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.getLastValidationErrors=t.isThingDescription=void 0;const i=n(r(83423));t.isThingDescription=function(e){return i.default.tsSchemaValidator(e)},t.getLastValidationErrors=function(){var e;const t=null===(e=i.default.tsSchemaValidator.errors)||void 0===e?void 0:e.map((e=>e.message)).join("\n");return new Error(t)}},21407:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t},s=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))},a=this&&this.__await||function(e){return this instanceof a?(this.v=e,this):new a(e)},c=this&&this.__asyncGenerator||function(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,i=r.apply(e,t||[]),o=[];return n={},s("next"),s("throw"),s("return"),n[Symbol.asyncIterator]=function(){return this},n;function s(e){i[e]&&(n[e]=function(t){return new Promise((function(r,n){o.push([e,t,r,n])>1||c(e,t)}))})}function c(e,t){try{(r=i[e](t)).value instanceof a?Promise.resolve(r.value.v).then(u,l):f(o[0][2],r)}catch(e){f(o[0][3],e)}var r}function u(e){c("next",e)}function l(e){c("throw",e)}function f(e,t){e(t),o.shift(),o.length&&c(o[0][0],o[0][1])}},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.DataType=void 0;const l=o(r(57127)),f=u(r(67607)),h=u(r(51575)),d=u(r(83423)),p=r(32988),y=u(r(33882)),b=r(76471),{debug:m}=(0,p.createLoggers)("core","wot-impl");class v{constructor(e,t){this.filter=t,this.done=!1,this.rawThingDescriptions=e}stop(){return s(this,void 0,void 0,(function*(){this.done=!0}))}[Symbol.asyncIterator](){return c(this,arguments,(function*(){if(!(this.rawThingDescriptions instanceof Array))return this.error=new Error("Encountered an invalid output value."),this.done=!0,yield a(void 0);for(const e of this.rawThingDescriptions){if(this.done)return yield a(void 0);(0,b.isThingDescription)(e)?yield yield a(e):this.error=(0,b.getLastValidationErrors)()}this.done=!0}))}}var g;t.default=class{constructor(e){this.srv=e}discover(e){return s(this,void 0,void 0,(function*(){throw new Error("not implemented")}))}exploreDirectory(e,t){return s(this,void 0,void 0,(function*(){const r=yield this.requestThingDescription(e),n=yield this.consume(r),i=yield n.readProperty("things"),o=yield i.value();return new v(o,t)}))}requestThingDescription(e){return s(this,void 0,void 0,(function*(){const t=d.default.extractScheme(e),r=this.srv.getClientFor(t),n=yield r.requestThingDescription(e),i=y.default.contentToValue({type:n.type,body:yield n.toBuffer()},{});if((0,b.isThingDescription)(i))return i;throw(0,b.getLastValidationErrors)()}))}consume(e){return s(this,void 0,void 0,(function*(){try{const t=l.parseTD(JSON.stringify(e),!0),r=new h.default(this.srv,t);return m(`WoTImpl consuming TD ${null!=r.id?`'${r.id}'`:"without id"} to instantiate ConsumedThing '${r.title}'`),r}catch(e){throw new Error(`Cannot consume TD because ${e instanceof Error?e.message:e}`)}}))}produce(e){return new Promise(((t,r)=>{try{const r=d.default.validateExposedThingInit(e);if(!r.valid)throw new Error("Thing Description JSON schema validation failed:\n"+r.errors);const n=new f.default(this.srv,e);if(m(`WoTImpl producing new ExposedThing '${n.title}'`),!this.srv.addThing(n))throw new Error("Thing already exists: "+n.title);t(n)}catch(e){r(new Error(`Cannot produce ExposedThing because " + ${e instanceof Error?e.message:e}`))}}))}},(g=t.DataType||(t.DataType={})).boolean="boolean",g.number="number",g.integer="integer",g.string="string",g.object="object",g.array="array",g.null="null"},15593:(e,t,r)=>{r.r(t),r.d(t,{v1:()=>d,v3:()=>_,v4:()=>S,v5:()=>O});var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),i=new Uint8Array(16);function o(){if(!n)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return n(i)}for(var s=[],a=0;a<256;++a)s[a]=(a+256).toString(16).substr(1);const c=function(e,t){var r=t||0,n=s;return[n[e[r++]],n[e[r++]],n[e[r++]],n[e[r++]],"-",n[e[r++]],n[e[r++]],"-",n[e[r++]],n[e[r++]],"-",n[e[r++]],n[e[r++]],"-",n[e[r++]],n[e[r++]],n[e[r++]],n[e[r++]],n[e[r++]],n[e[r++]]].join("")};var u,l,f=0,h=0;const d=function(e,t,r){var n=t&&r||0,i=t||[],s=(e=e||{}).node||u,a=void 0!==e.clockseq?e.clockseq:l;if(null==s||null==a){var d=e.random||(e.rng||o)();null==s&&(s=u=[1|d[0],d[1],d[2],d[3],d[4],d[5]]),null==a&&(a=l=16383&(d[6]<<8|d[7]))}var p=void 0!==e.msecs?e.msecs:(new Date).getTime(),y=void 0!==e.nsecs?e.nsecs:h+1,b=p-f+(y-h)/1e4;if(b<0&&void 0===e.clockseq&&(a=a+1&16383),(b<0||p>f)&&void 0===e.nsecs&&(y=0),y>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");f=p,h=y,l=a;var m=(1e4*(268435455&(p+=122192928e5))+y)%4294967296;i[n++]=m>>>24&255,i[n++]=m>>>16&255,i[n++]=m>>>8&255,i[n++]=255&m;var v=p/4294967296*1e4&268435455;i[n++]=v>>>8&255,i[n++]=255&v,i[n++]=v>>>24&15|16,i[n++]=v>>>16&255,i[n++]=a>>>8|128,i[n++]=255&a;for(var g=0;g<6;++g)i[n+g]=s[g];return t||c(i)};function p(e,t,r){var n=function(e,n,i,o){var s=i&&o||0;if("string"==typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));for(var t=new Array(e.length),r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(e)),"string"==typeof n&&(n=function(e){var t=[];return e.replace(/[a-fA-F0-9]{2}/g,(function(e){t.push(parseInt(e,16))})),t}(n)),!Array.isArray(e))throw TypeError("value must be an array of bytes");if(!Array.isArray(n)||16!==n.length)throw TypeError("namespace must be uuid string or an Array of 16 byte values");var a=r(n.concat(e));if(a[6]=15&a[6]|t,a[8]=63&a[8]|128,i)for(var u=0;u<16;++u)i[s+u]=a[u];return i||c(a)};try{n.name=e}catch(e){}return n.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",n.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",n}function y(e,t){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}function b(e,t,r,n,i,o){return y((s=y(y(t,e),y(n,o)))<<(a=i)|s>>>32-a,r);var s,a}function m(e,t,r,n,i,o,s){return b(t&r|~t&n,e,t,i,o,s)}function v(e,t,r,n,i,o,s){return b(t&n|r&~n,e,t,i,o,s)}function g(e,t,r,n,i,o,s){return b(t^r^n,e,t,i,o,s)}function w(e,t,r,n,i,o,s){return b(r^(t|~n),e,t,i,o,s)}const _=p("v3",48,(function(e){if("string"==typeof e){var t=unescape(encodeURIComponent(e));e=new Array(t.length);for(var r=0;r<t.length;r++)e[r]=t.charCodeAt(r)}return function(e){var t,r,n,i=[],o=32*e.length,s="0123456789abcdef";for(t=0;t<o;t+=8)r=e[t>>5]>>>t%32&255,n=parseInt(s.charAt(r>>>4&15)+s.charAt(15&r),16),i.push(n);return i}(function(e,t){var r,n,i,o,s;e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;var a=1732584193,c=-271733879,u=-1732584194,l=271733878;for(r=0;r<e.length;r+=16)n=a,i=c,o=u,s=l,a=m(a,c,u,l,e[r],7,-680876936),l=m(l,a,c,u,e[r+1],12,-389564586),u=m(u,l,a,c,e[r+2],17,606105819),c=m(c,u,l,a,e[r+3],22,-1044525330),a=m(a,c,u,l,e[r+4],7,-176418897),l=m(l,a,c,u,e[r+5],12,1200080426),u=m(u,l,a,c,e[r+6],17,-1473231341),c=m(c,u,l,a,e[r+7],22,-45705983),a=m(a,c,u,l,e[r+8],7,1770035416),l=m(l,a,c,u,e[r+9],12,-1958414417),u=m(u,l,a,c,e[r+10],17,-42063),c=m(c,u,l,a,e[r+11],22,-1990404162),a=m(a,c,u,l,e[r+12],7,1804603682),l=m(l,a,c,u,e[r+13],12,-40341101),u=m(u,l,a,c,e[r+14],17,-1502002290),a=v(a,c=m(c,u,l,a,e[r+15],22,1236535329),u,l,e[r+1],5,-165796510),l=v(l,a,c,u,e[r+6],9,-1069501632),u=v(u,l,a,c,e[r+11],14,643717713),c=v(c,u,l,a,e[r],20,-373897302),a=v(a,c,u,l,e[r+5],5,-701558691),l=v(l,a,c,u,e[r+10],9,38016083),u=v(u,l,a,c,e[r+15],14,-660478335),c=v(c,u,l,a,e[r+4],20,-405537848),a=v(a,c,u,l,e[r+9],5,568446438),l=v(l,a,c,u,e[r+14],9,-1019803690),u=v(u,l,a,c,e[r+3],14,-187363961),c=v(c,u,l,a,e[r+8],20,1163531501),a=v(a,c,u,l,e[r+13],5,-1444681467),l=v(l,a,c,u,e[r+2],9,-51403784),u=v(u,l,a,c,e[r+7],14,1735328473),a=g(a,c=v(c,u,l,a,e[r+12],20,-1926607734),u,l,e[r+5],4,-378558),l=g(l,a,c,u,e[r+8],11,-2022574463),u=g(u,l,a,c,e[r+11],16,1839030562),c=g(c,u,l,a,e[r+14],23,-35309556),a=g(a,c,u,l,e[r+1],4,-1530992060),l=g(l,a,c,u,e[r+4],11,1272893353),u=g(u,l,a,c,e[r+7],16,-155497632),c=g(c,u,l,a,e[r+10],23,-1094730640),a=g(a,c,u,l,e[r+13],4,681279174),l=g(l,a,c,u,e[r],11,-358537222),u=g(u,l,a,c,e[r+3],16,-722521979),c=g(c,u,l,a,e[r+6],23,76029189),a=g(a,c,u,l,e[r+9],4,-640364487),l=g(l,a,c,u,e[r+12],11,-421815835),u=g(u,l,a,c,e[r+15],16,530742520),a=w(a,c=g(c,u,l,a,e[r+2],23,-995338651),u,l,e[r],6,-198630844),l=w(l,a,c,u,e[r+7],10,1126891415),u=w(u,l,a,c,e[r+14],15,-1416354905),c=w(c,u,l,a,e[r+5],21,-57434055),a=w(a,c,u,l,e[r+12],6,1700485571),l=w(l,a,c,u,e[r+3],10,-1894986606),u=w(u,l,a,c,e[r+10],15,-1051523),c=w(c,u,l,a,e[r+1],21,-2054922799),a=w(a,c,u,l,e[r+8],6,1873313359),l=w(l,a,c,u,e[r+15],10,-30611744),u=w(u,l,a,c,e[r+6],15,-1560198380),c=w(c,u,l,a,e[r+13],21,1309151649),a=w(a,c,u,l,e[r+4],6,-145523070),l=w(l,a,c,u,e[r+11],10,-1120210379),u=w(u,l,a,c,e[r+2],15,718787259),c=w(c,u,l,a,e[r+9],21,-343485551),a=y(a,n),c=y(c,i),u=y(u,o),l=y(l,s);return[a,c,u,l]}(function(e){var t,r=[];for(r[(e.length>>2)-1]=void 0,t=0;t<r.length;t+=1)r[t]=0;var n=8*e.length;for(t=0;t<n;t+=8)r[t>>5]|=(255&e[t/8])<<t%32;return r}(e),8*e.length))})),S=function(e,t,r){var n=t&&r||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var i=(e=e||{}).random||(e.rng||o)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,t)for(var s=0;s<16;++s)t[n+s]=i[s];return t||c(i)};function E(e,t,r,n){switch(e){case 0:return t&r^~t&n;case 1:case 3:return t^r^n;case 2:return t&r^t&n^r&n}}function T(e,t){return e<<t|e>>>32-t}const O=p("v5",80,(function(e){var t=[1518500249,1859775393,2400959708,3395469782],r=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof e){var n=unescape(encodeURIComponent(e));e=new Array(n.length);for(var i=0;i<n.length;i++)e[i]=n.charCodeAt(i)}e.push(128);var o=e.length/4+2,s=Math.ceil(o/16),a=new Array(s);for(i=0;i<s;i++){a[i]=new Array(16);for(var c=0;c<16;c++)a[i][c]=e[64*i+4*c]<<24|e[64*i+4*c+1]<<16|e[64*i+4*c+2]<<8|e[64*i+4*c+3]}for(a[s-1][14]=8*(e.length-1)/Math.pow(2,32),a[s-1][14]=Math.floor(a[s-1][14]),a[s-1][15]=8*(e.length-1)&4294967295,i=0;i<s;i++){for(var u=new Array(80),l=0;l<16;l++)u[l]=a[i][l];for(l=16;l<80;l++)u[l]=T(u[l-3]^u[l-8]^u[l-14]^u[l-16],1);var f=r[0],h=r[1],d=r[2],p=r[3],y=r[4];for(l=0;l<80;l++){var b=Math.floor(l/20),m=T(f,5)+E(b,h,d,p)+y+t[b]+u[l]>>>0;y=p,p=d,d=T(h,30)>>>0,h=f,f=m}r[0]=r[0]+f>>>0,r[1]=r[1]+h>>>0,r[2]=r[2]+d>>>0,r[3]=r[3]+p>>>0,r[4]=r[4]+y>>>0}return[r[0]>>24&255,r[0]>>16&255,r[0]>>8&255,255&r[0],r[1]>>24&255,r[1]>>16&255,r[1]>>8&255,255&r[1],r[2]>>24&255,r[2]>>16&255,r[2]>>8&255,255&r[2],r[3]>>24&255,r[3]>>16&255,r[3]>>8&255,255&r[3],r[4]>>24&255,r[4]>>16&255,r[4]>>8&255,255&r[4]]}))},82626:(e,t,r)=>{var n=r(1048).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(e){this.subMediaType=e}getMediaType(){return this.subMediaType}bytesToValue(e,t,r){return e.toString("ascii")}valueToBytes(e,t,r){let i="";return void 0!==e&&(i=JSON.stringify(e)),n.from(i,"base64")}}},71745:(e,t,r)=>{var n=r(1048).Buffer;Object.defineProperty(t,"__esModule",{value:!0});const i=r(4444),o=r(59500),{debug:s}=(0,i.createLoggers)("core","cbor-codec");t.default=class{constructor(e){this.subMediaType=null!=e?e:"application/cbor"}getMediaType(){return this.subMediaType}bytesToValue(e,t,r){s(`CborCodec parsing '${e.toString()}'`);try{return(0,o.decode)(e)}catch(t){if(0===e.byteLength)return null;throw t}}valueToBytes(e,t,r){return s("CborCodec serializing",e),void 0===e?n.alloc(0):(0,o.encode)(e)}}},45839:(e,t,r)=>{var n=r(1048).Buffer;Object.defineProperty(t,"__esModule",{value:!0});const i=r(47930),o=r(4444),{debug:s}=(0,o.createLoggers)("core","json-codec");t.default=class{constructor(e){this.subMediaType=null!=e?e:i.ContentSerdes.DEFAULT}getMediaType(){return this.subMediaType}bytesToValue(e,t,r){let n;s(`JsonCodec parsing '${e.toString()}'`);try{n=JSON.parse(e.toString())}catch(t){if(!(t instanceof SyntaxError))throw t;n=0===e.byteLength?void 0:e.toString()}return n}valueToBytes(e,t,r){s("JsonCodec serializing",e);let i="";return void 0!==e&&(i=JSON.stringify(e)),n.from(i)}}},5166:(e,t,r)=>{var n=r(1048).Buffer;Object.defineProperty(t,"__esModule",{value:!0});const i=r(4444),{debug:o}=(0,i.createLoggers)("core","netconf-codec");t.default=class{getMediaType(){return"application/netconf"}bytesToValue(e,t,r){let n;o(`NetconfCodec parsing '${e.toString()}'`);try{n=JSON.parse(e.toString())}catch(t){if(!(t instanceof SyntaxError))throw t;n=0===e.byteLength?void 0:e.toString()}return n}valueToBytes(e,t,r){o("NetconfCodec serializing",e);let i="";if(void 0!==e){const r={},n=this.getPayloadNamespaces(t,e,r,!1);i=JSON.stringify(n)}return n.from(i)}getPayloadNamespaces(e,t,r,n){if(!e)throw new Error('Missing "schema" field in TD');if(n){const n=e.properties;if(null==n)throw new Error('Missing "properties" field in TD');let i,o=!1,s="";for(const e in n){const a=n[e];if(null==t[e])throw new Error(`Payload is missing '${e}' field specified in TD`);if(!0===a["nc:attribute"]&&null!=t[e]){const n=t[e];s=n.split(":")[n.split(":").length-1],r[s]=t[e],o=!0}else null!=t[e]&&(i=t[e])}if(o)return{payload:s+"\\:"+i,NSs:r};throw new Error("Namespace not found in the payload")}if("object"===(null==e?void 0:e.type)&&null!=e.properties){let n;n=null!=e["nc:container"]?this.getPayloadNamespaces(e,t,r,!0):this.getPayloadNamespaces(e.properties,t,r,!1),t=n.payload,r=Object.assign(Object.assign({},r),n.NSs)}for(const i in e)if("object"===e[i].type||n){let n=!1;null!=e[i].properties&&null!=e[i]["nc:container"]&&(n=!0);const o=this.getPayloadNamespaces(e[i],t[i],r,n);t[i]=o.payload,r=Object.assign(Object.assign({},r),o.NSs)}return{payload:t,NSs:r}}}},70712:(e,t,r)=>{var n=r(1048).Buffer;Object.defineProperty(t,"__esModule",{value:!0});const i=r(72651),o=r(4444),s=r(66273),{debug:a,warn:c}=(0,o.createLoggers)("core","octetstream-codec");t.default=class{getMediaType(){return"application/octet-stream"}bytesToValue(e,t,r={}){var n,i,o,c;a("OctetstreamCodec parsing",e),a("Parameters",r);const u=!(!0===(null===(n=r.byteSeq)||void 0===n?void 0:n.includes(s.Endianness.LITTLE_ENDIAN)));let l="false"!==r.signed;l=null!==(i=null==t?void 0:t.signed)&&void 0!==i?i:l;const f=void 0!==(null==t?void 0:t["ex:bitOffset"])?parseInt(t["ex:bitOffset"]):0;if(null!=r.length&&parseInt(r.length)!==e.length)throw new Error("Lengths do not match, required: "+r.length+" provided: "+e.length);let h=void 0!==(null==t?void 0:t["ex:bitLength"])?parseInt(t["ex:bitLength"]):8*e.length,d=null==t?void 0:t.type;if(!d)throw new Error("Missing 'type' property in schema");if(/(short|(u)?int(8|16|32)?$|float(16|32|64)?|byte)/.test(d.toLowerCase())){const e=/(u)?(short|int|float|byte)(8|16|32|64)?/.exec(d.toLowerCase());if(e){if("u"===e[1]){if("true"===(null==r?void 0:r.signed))throw new Error("Type is unsigned but 'signed' is true");l=!1}if(d=e[2],parseInt(e[3])!==h)throw new Error(`Type is '${(null!==(o=e[1])&&void 0!==o?o:"")+e[2]+e[3]}' but 'ex:bitLength' is `+h)}}if(h>8*e.length-f)throw new Error(`'ex:bitLength' is ${h}, but buffer length at offset ${f} is ${8*e.length-f}`);switch(!0===(null===(c=null==r?void 0:r.byteSeq)||void 0===c?void 0:c.includes("BYTE_SWAP"))&&e.length>1&&e.swap16(),void 0!==f&&h<8*e.length&&(h=8*(e=this.readBits(e,f,h)).length),d){case"boolean":return!e.every((e=>0===e));case"byte":case"short":case"int":case"integer":return this.integerToValue(e,{dataLength:h,bigEndian:u,signed:l});case"float":case"double":case"number":return void 0!==(null==t?void 0:t.scale)?this.integerToValue(e,{dataLength:h,bigEndian:u,signed:l})*t.scale:this.numberToValue(e,{dataLength:h,bigEndian:u});case"string":return e.toString(r.charset);case"object":if(void 0===t||void 0===t.properties)throw new Error("Missing schema for object");return this.objectToValue(e,t,r);case"null":return null;default:throw new Error("Unable to handle dataType "+d)}}integerToValue(e,t){const{dataLength:r,bigEndian:n,signed:i}=t;switch(r){case 8:return i?e.readInt8(0):e.readUInt8(0);case 16:return n?i?e.readInt16BE(0):e.readUInt16BE(0):i?e.readInt16LE(0):e.readUInt16LE(0);case 32:return n?i?e.readInt32BE(0):e.readUInt32BE(0):i?e.readInt32LE(0):e.readUInt32LE(0);default:{const t=n?i?e.readIntBE(0,r/8):e.readUIntBE(0,r/8):i?e.readIntLE(0,r/8):e.readUIntLE(0,r/8);return Number.isSafeInteger(t)||c("Result is not a safe integer"),t}}}numberToValue(e,t){const{dataLength:r,bigEndian:n}=t;switch(r){case 16:return(0,i.getFloat16)(new DataView(e.buffer),e.byteOffset,!n);case 32:return n?e.readFloatBE(0):e.readFloatLE(0);case 64:return n?e.readDoubleBE(0):e.readDoubleLE(0);default:throw new Error("Wrong buffer length for type 'number', must be 16, 32, or 64 is "+r)}}objectToValue(e,t,r={}){if("object"!==(null==t?void 0:t.type))throw new Error("Schema must be of type 'object'");const i={},o=Object.getOwnPropertyNames(t.properties);for(const s of o){const o=t.properties[s];if("object"===o.type){const t=parseInt(o["ex:bitLength"]),a=void 0!==o["ex:bitOffset"]?parseInt(o["ex:bitOffset"]):0,c=isNaN(t)?e.length:Math.ceil(t/8),u=n.alloc(c);this.copyBits(e,a,u,0,8*c),i[s]=this.objectToValue(u,o,Object.assign(Object.assign({},r),{length:c.toString()}))}else i[s]=this.bytesToValue(e,o,r)}return i}valueToBytes(e,t,r={}){var i,o,u,l,f,h;a(`OctetstreamCodec serializing '${e}'`),null==r.length&&c("Missing 'length' parameter necessary for write. I'll do my best");const d=!(!0===(null===(i=r.byteSeq)||void 0===i?void 0:i.includes(s.Endianness.LITTLE_ENDIAN)));let p="false"!==r.signed,y=null!=r.length?parseInt(r.length):void 0,b=void 0!==(null==t?void 0:t["ex:bitLength"])?parseInt(t["ex:bitLength"]):void 0;const m=void 0!==(null==t?void 0:t["ex:bitOffset"])?parseInt(t["ex:bitOffset"]):0;let v=null!==(o=null==t?void 0:t.type)&&void 0!==o?o:void 0;if(void 0===e)throw new Error("Undefined value");if(void 0===v)throw new Error("Missing 'type' property in schema");if(/(short|(u)?int(8|16|32)?$|float(16|32|64)?|byte)/.test(v.toLowerCase())){const e=/(u)?(short|int|float|byte)(8|16|32|64)?/.exec(v.toLowerCase());if(e){if("u"===e[1]){if("true"===(null==r?void 0:r.signed))throw new Error("Type is unsigned but 'signed' is true");p=!1}if(v=e[2],void 0!==b){if(parseInt(e[3])!==b)throw new Error(`Type is '${(null!==(u=e[1])&&void 0!==u?u:"")+e[2]+e[3]}' but 'ex:bitLength' is `+b)}else b=+e[3]}}if(void 0===y)void 0!==b&&(y=Math.ceil((m+b)/8)),c("Missing 'length' parameter necessary for write. I'll do my best");else if(void 0===b)b=8*y;else if(8*y<b+m)throw new Error("Length is too short for 'ex:bitLength' and 'ex:bitOffset'");switch(v){case"boolean":if(!0===e){const e=n.alloc(null!=y?y:1,0);for(let t=m;t<m+(null!=b?b:8*e.length);++t)e[Math.floor(t/8)]|=1<<7-t%8;return e}return n.alloc(null!=y?y:1,0);case"byte":case"short":case"int":case"integer":return this.valueToInteger(e,{bitLength:b,byteLength:y,bigEndian:d,offset:m,signed:p,byteSeq:null!==(l=r.byteSeq)&&void 0!==l?l:""});case"float":case"number":return this.valueToNumber(e,{bitLength:b,byteLength:y,bigEndian:d,offset:m,byteSeq:null!==(f=r.byteSeq)&&void 0!==f?f:""});case"string":return this.valueToString(e,{bitLength:b,byteLength:y,offset:m,charset:null!==(h=r.charset)&&void 0!==h?h:"utf8"});case"object":if(void 0===t||void 0===t.properties)throw new Error("Missing schema for object");return null===e?n.alloc(0):this.valueToObject(e,t,r);case"array":case"undefined":default:throw new Error("Unable to handle dataType "+v);case"null":return n.alloc(0)}}valueToInteger(e,t){var r,i,o;const s=null!==(r=t.bitLength)&&void 0!==r?r:32,a=null!==(i=t.offset)&&void 0!==i?i:0,u=null!==(o=t.byteLength)&&void 0!==o?o:Math.ceil((a+s)/8),{bigEndian:l,signed:f,byteSeq:h}=t;if("number"!=typeof e)throw new Error("Value is not a number");Number.isSafeInteger(e)||c("Value is not a safe integer",e);const d=Math.pow(2,f?s-1:s)-1;if(f){if(e<-d-1||e>d)throw new Error("Integer overflow when representing signed "+e+" in "+s+" bit(s)")}else if(e<0||e>d)throw new Error("Integer overflow when representing unsigned "+e+" in "+s+" bit(s)");const p=n.alloc(u);if(0!==a)return this.writeBits(p,e,a,s,l),p;switch((null==h?void 0:h.includes("BYTE_SwAP"))&&u>1&&p.swap16(),u){case 1:f?p.writeInt8(e,0):p.writeUInt8(e,0);break;case 2:l?f?p.writeInt16BE(e,0):p.writeUInt16BE(e,0):f?p.writeInt16LE(e,0):p.writeUInt16LE(e,0);break;case 4:l?f?p.writeInt32BE(e,0):p.writeUInt32BE(e,0):f?p.writeInt32LE(e,0):p.writeUInt32LE(e,0);break;default:f&&e<0&&(e+=1<<8*s);for(let t=0;t<u;++t){const r=e%256;e/=256,p.writeInt8(r,l?u-t-1:t)}}return p}valueToNumber(e,t){var r,o,s;if("number"!=typeof e)throw new Error("Value is not a number");const a=null!==(r=t.bitLength)&&void 0!==r?r:void 0!==t.byteLength?8*t.byteLength:32,c=null!==(o=t.offset)&&void 0!==o?o:0,{bigEndian:u,byteSeq:l}=t,f=null!==(s=t.byteLength)&&void 0!==s?s:Math.ceil((c+a)/8),h=Math.floor(c/8),d=n.alloc(f);if(c%8!=0)throw new Error("Offset must be a multiple of 8");switch(l&&f>1&&d.swap16(),a){case 16:(0,i.setFloat16)(new DataView(d.buffer),h,e,!u);break;case 32:u?d.writeFloatBE(e,h):d.writeFloatLE(e,0);break;case 64:u?d.writeDoubleBE(e,h):d.writeDoubleLE(e,0);break;default:throw new Error("Wrong buffer length for type 'number', must be 16, 32, or 64 is "+a)}return d}valueToString(e,t){var r,i,o;if("string"!=typeof e)throw new Error("Value is not a string");const s=null!==(r=t.offset)&&void 0!==r?r:0,{charset:a}=t,c=String(e);if(!n.isEncoding(a))throw new Error("Invalid charset "+a);const u=n.from(c,a),l=null!==(i=t.bitLength)&&void 0!==i?i:8*u.length;if(u.length>l)throw new Error(`String is ${8*u.length} bits long, but 'ex:bitLength' is ${l}`);const f=null!==(o=t.byteLength)&&void 0!==o?o:Math.ceil((s+l)/8);if(s%8==0)return n.concat([n.alloc(f-l/8),u]);{const e=n.alloc(f);return this.copyBits(u,0,e,s,l),e}}valueToObject(e,t,r={},i){if("object"!=typeof e||null===e)throw new Error("Value is not an object");if(void 0===r.length)throw new Error("Missing 'length' parameter necessary for write");i=null!=i?i:n.alloc(parseInt(r.length));for(const n in t.properties){if(!1===Object.hasOwnProperty.call(e,n)){if(void 0===t.properties[n].default)throw new Error(`Missing property '${n}'`);e[n]=t.properties[n].default}const o=t.properties[n],s=e[n],a=parseInt(o["ex:bitOffset"]),c=parseInt(o["ex:bitLength"]);let u;if("object"===o.type){const e=Math.ceil(c/8).toString();u=this.valueToObject(s,o,Object.assign(Object.assign({},r),{length:e}),i)}else u=this.valueToBytes(s,o,r);this.copyBits(u,a,i,a,c)}return i}readBits(e,t,r){if(t<0)throw new Error("bitOffset must be >= 0");if(r<0)throw new Error("bitLength must be >= 0");if(t+r>8*e.length)throw new Error("bitOffset + bitLength must be <= buffer.length * 8");const i=n.alloc(Math.ceil(r/8));let o=Math.floor(t/8),s=t%8,a=e[o],c=0,u=0;for(let t=0;t<r;t++)c=c<<1|a>>7-s&1,s++,s>7&&(o++,s=0,a=e[o]),t+1!==r%8&&(t+1)%8!=r%8&&t!==r-1||(i[u]=c,c=0,u++);return i}writeBits(e,t,r,n,i){let o=Math.floor(r/8),s=r%8;for(let r=0;r<n;r++){const a=i?t>>n-1-r&1:t>>r&1;e[o]|=a<<(i?7-s:s),s++,8===s&&(s=0,o++)}}copyBits(e,t,r,n,i){if(t%8==0&&n%8==0&&i%8==0)e.copy(r,n/8,t/8,t+i/8);else{const o=this.readBits(e,t,i);if(o.length<=6)this.writeBits(r,o.readUIntBE(0,o.length),n,i,!0);else for(let e=0;e<o.length;e++){const t=o.readUInt8(e);this.writeBits(r,t,n+8*e,8,!0)}}}}},17838:(e,t,r)=>{var n=r(1048).Buffer;Object.defineProperty(t,"__esModule",{value:!0});const i=r(4444),{debug:o}=(0,i.createLoggers)("core","text-codec");t.default=class{constructor(e){this.subMediaType=null!=e?e:"text/plain"}getMediaType(){return this.subMediaType}bytesToValue(e,t,r){return o(`TextCodec parsing '${e.toString()}'`),e.toString(null==r?void 0:r.charset)}valueToBytes(e,t,r){o(`TextCodec serializing '${e}'`);let i,s="";if(void 0!==e&&(s="string"==typeof e?e:JSON.stringify(e)),r&&r.charset)switch(r.charset){case"ascii":i="ascii";break;case"utf8":i="utf8";break;case"utf-8":i="utf-8";break;case"utf16le":i="utf16le";break;case"ucs2":i="ucs2";break;case"ucs-2":i="ucs-2";break;case"base64":i="base64";break;case"latin1":i="latin1";break;case"binary":i="binary";break;case"hex":i="hex"}const a=n.alloc(s.length);return a.write(s,i),a}}},65623:function(e,t,r){var n,i,o,s,a,c,u,l,f=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),h=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),d=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&f(t,e,r);return h(t,e),t},p=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))},y=this&&this.__classPrivateFieldSet||function(e,t,r,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r},b=this&&this.__classPrivateFieldGet||function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)},m=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const v=d(r(57127)),g=m(r(23583)),w=m(r(47930)),_=r(68492),S=r(15510),E=r(4444),{debug:T,warn:O}=(0,E.createLoggers)("core","consumed-thing");var x;!function(e){e[e.PropertyAffordance=0]="PropertyAffordance",e[e.ActionAffordance=1]="ActionAffordance",e[e.EventAffordance=2]="EventAffordance"}(x||(x={}));class A extends v.ThingProperty{constructor(e,t){super(),n.set(this,void 0),i.set(this,void 0),y(this,n,e,"f"),y(this,i,t,"f")}}n=new WeakMap,i=new WeakMap;class M extends v.ThingAction{constructor(e,t){super(),o.set(this,void 0),s.set(this,void 0),y(this,o,e,"f"),y(this,s,t,"f")}}o=new WeakMap,s=new WeakMap;class P extends v.ThingEvent{constructor(e,t){super(),a.set(this,void 0),c.set(this,void 0),y(this,a,e,"f"),y(this,c,t,"f")}}a=new WeakMap,c=new WeakMap;class I{constructor(e,t,r){this.thing=e,this.name=t,this.client=r,this.active=!0}}function j(e,t,r,n){const i=_.parse(r.href),o=g.default.parseInteractionOptions(e,t,n).uriVariables,s=i.expand(null!=o?o:{});if(s!==r.href){const t=Object.assign({},r);t.href=s,r=t,T(`ConsumedThing '${e.title}' update form URI to ${r.href}`)}return r}class R extends I{constructor(e,t,r,n){var i;super(e,t,r),this.form=n,this.active=!1;const o=null===(i=this.thing.properties)||void 0===i?void 0:i[t].forms.indexOf(n);if(void 0===o||o<0)throw new Error(`Could not find form ${n.href} in property ${t}`);this.formIndex=o}stop(e){return p(this,void 0,void 0,(function*(){yield this.unobserveProperty(e),this.thing.observedProperties.delete(this.name)}))}unobserveProperty(e={}){var t;return p(this,void 0,void 0,(function*(){const r=this.thing.properties[this.name];if(null==r)throw new Error(`ConsumedThing '${this.thing.title}' does not have property ${this.name}`);null!==(t=e.formIndex)&&void 0!==t||(e.formIndex=this.matchingUnsubscribeForm());const{form:n}=this.thing.getClientFor(r.forms,"unobserveproperty",x.PropertyAffordance,e);if(null==n)throw new Error(`ConsumedThing '${this.thing.title}' did not get suitable form`);const i=j(this.thing,r,n,e);T(`ConsumedThing '${this.thing.title}' unobserving to ${n.href}`),yield this.client.unlinkResource(i),this.active=!1}))}matchingUnsubscribeForm(){const e=this.thing.properties[this.name].forms[this.formIndex];if(Array.isArray(e.op)&&e.op.includes("unobserveproperty"))return this.formIndex;const t=this.findFormIndexWithScoring(this.formIndex,this.thing.properties[this.name].forms,"unobserveproperty");if(-1===t)throw new Error("Could not find matching form for unsubscribe");return t}findFormIndexWithScoring(e,t,r){var n;const i=t[e];let o=0,s=-1;for(let e=0;e<t.length;e++){let a=0;const c=t[e];(c.op===r||!0===(null===(n=null==c?void 0:c.op)||void 0===n?void 0:n.includes(r))&&!0===Array.isArray(c.op))&&(a+=1),new URL(c.href).origin===new URL(i.href).origin&&(a+=1),c.contentType===i.contentType&&(a+=1),a>o&&(o=a,s=e)}return s}}class k extends I{constructor(e,t,r,n){var i;super(e,t,r),this.form=n;const o=null===(i=this.thing.events)||void 0===i?void 0:i[t].forms.indexOf(n);if(void 0===o||o<0)throw new Error(`Could not find form ${n.href} in event ${t}`);this.formIndex=o}stop(e){return p(this,void 0,void 0,(function*(){yield this.unsubscribeEvent(e),this.thing.subscribedEvents.delete(this.name)}))}unsubscribeEvent(e={}){var t;return p(this,void 0,void 0,(function*(){const r=this.thing.events[this.name];if(null==r)throw new Error(`ConsumedThing '${this.thing.title}' does not have event ${this.name}`);null!==(t=e.formIndex)&&void 0!==t||(e.formIndex=this.matchingUnsubscribeForm());const{form:n}=this.thing.getClientFor(r.forms,"unsubscribeevent",x.EventAffordance,e);if(null==n)throw new Error(`ConsumedThing '${this.thing.title}' did not get suitable form`);const i=j(this.thing,r,n,e);T(`ConsumedThing '${this.thing.title}' unsubscribing to ${n.href}`),this.client.unlinkResource(i),this.active=!1}))}matchingUnsubscribeForm(){const e=this.thing.events[this.name].forms[this.formIndex];if(null==e.op||Array.isArray(e.op)&&e.op.includes("unsubscribeevent"))return this.formIndex;const t=function(e,t,r){var n;const i=t[e];let o=0,s=-1;for(let e=0;e<t.length;e++){let a=0;const c=t[e];(c.op===r||!0===(null===(n=null==c?void 0:c.op)||void 0===n?void 0:n.includes(r))&&!0===Array.isArray(c.op))&&(a+=1),new URL(c.href).origin===new URL(i.href).origin&&(a+=1),c.contentType===i.contentType&&(a+=1),a>o&&(o=a,s=e)}return s}(this.formIndex,this.thing.events[this.name].forms,"unsubscribeevent");if(-1===t)throw new Error("Could not find matching form for unsubscribe");return t}}class C extends v.Thing{constructor(e,t={}){super(),u.set(this,void 0),l.set(this,void 0),this.subscribedEvents=new Map,this.observedProperties=new Map,y(this,u,e,"f"),y(this,l,new Map,"f"),this.properties={},this.actions={},this.events={};const r=structuredClone(t);Object.assign(this,r),this.extendInteractions()}getThingDescription(){return JSON.parse(JSON.stringify(this))}emitEvent(e,t){O("not implemented")}extendInteractions(){for(const e in this.properties){const t=g.default.extend(this.properties[e],new A(e,this));this.properties[e]=t}for(const e in this.actions){const t=g.default.extend(this.actions[e],new M(e,this));this.actions[e]=t}for(const e in this.events){const t=g.default.extend(this.events[e],new P(e,this));this.events[e]=t}}findForm(e,t,r,n,i){let o;for(const s of e){let e="";if(void 0!==s.op)e=s.op;else switch(r){case x.PropertyAffordance:e=["readproperty","writeproperty"];break;case x.ActionAffordance:e="invokeaction";break;case x.EventAffordance:e="subscribeevent"}if(-1!==e.indexOf(t)&&-1!==s.href.indexOf(n[i]+":")){o=s;break}}return o}getSecuritySchemes(e){const t=[];for(const r of e){const e=this.securityDefinitions[r+""];null!=e&&t.push(e)}return t}ensureClientSecurity(e,t){if(null!=this.securityDefinitions){const r=()=>T(`ConsumedThing '${this.title}' setting credentials for ${e} based on thing security`);null!=t&&Array.isArray(t.security)&&t.security.length>0?(r(),e.setSecurity(this.getSecuritySchemes(t.security),b(this,u,"f").retrieveCredentials(this.id))):Array.isArray(this.security)&&this.security.length>0&&(r(),e.setSecurity(this.getSecuritySchemes(this.security),b(this,u,"f").getCredentials(this.id)))}}getClientFor(e,t,r,n){if(0===e.length)throw new Error(`ConsumedThing '${this.title}' has no links for this interaction`);let i,o;if(void 0!==(null==n?void 0:n.formIndex)){if(T(`ConsumedThing '${this.title}' asked to use formIndex '${n.formIndex}'`),!(n.formIndex>=0&&n.formIndex<e.length))throw new Error(`ConsumedThing '${this.title}' missing formIndex '${n.formIndex}'`);{i=e[n.formIndex];const t=g.default.extractScheme(i.href);if(!b(this,u,"f").hasClientFor(t))throw new Error(`ConsumedThing '${this.title}' missing ClientFactory for '${t}'`);T(`ConsumedThing '${this.title}' got client for '${t}'`),o=b(this,u,"f").getClientFor(t),b(this,l,"f").get(t)||(this.ensureClientSecurity(o,i),b(this,l,"f").set(t,o))}}else{const n=e.map((e=>g.default.extractScheme(e.href))),s=n.findIndex((e=>b(this,l,"f").has(e)));if(-1!==s)T(`ConsumedThing '${this.title}' chose cached client for '${n[s]}'`),o=b(this,l,"f").get(n[s]),i=this.findForm(e,t,r,n,s);else{T(`ConsumedThing '${this.title}' has no client in cache (${s})`);const a=n.findIndex((e=>b(this,u,"f").hasClientFor(e)));if(-1===a)throw new Error(`ConsumedThing '${this.title}' missing ClientFactory for '${n}'`);o=b(this,u,"f").getClientFor(n[a]),T(`ConsumedThing '${this.title}' got new client for '${n[a]}'`),b(this,l,"f").set(n[a],o),i=this.findForm(e,t,r,n,a),this.ensureClientSecurity(o,i)}}return{client:o,form:i}}readProperty(e,t){return p(this,void 0,void 0,(function*(){const r=this.properties[e];if(null==r)throw new Error(`ConsumedThing '${this.title}' does not have property ${e}`);let{client:n,form:i}=this.getClientFor(r.forms,"readproperty",x.PropertyAffordance,t);if(null==i)throw new Error(`ConsumedThing '${this.title}' did not get suitable form`);if(null==n)throw new Error(`ConsumedThing '${this.title}' did not get suitable client for ${i.href}`);T(`ConsumedThing '${this.title}' reading ${i.href}`),i=this.handleUriVariables(r,i,t);const o=yield n.readResource(i);return new S.InteractionOutput(o,i,r)}))}_readProperties(e){return p(this,void 0,void 0,(function*(){const t=[];for(const r of e)t.push(this.readProperty(r));const r=new Map;try{const n=yield Promise.all(t);let i=0;for(const t of e)r.set(t,n[i]),i++;return r}catch(t){throw new Error(`ConsumedThing '${this.title}', failed to read properties: ${e}.\n Error: ${t}`)}}))}readAllProperties(e){const t=[];for(const r in this.properties){const n=this.properties[r],{form:i}=this.getClientFor(n.forms,"readproperty",x.PropertyAffordance,e);null!=i&&t.push(r)}return this._readProperties(t)}readMultipleProperties(e,t){return this._readProperties(e)}writeProperty(e,t,r){return p(this,void 0,void 0,(function*(){const n=this.properties[e];if(null==n)throw new Error(`ConsumedThing '${this.title}' does not have property ${e}`);let{client:i,form:o}=this.getClientFor(n.forms,"writeproperty",x.PropertyAffordance,r);if(null==o)throw new Error(`ConsumedThing '${this.title}' did not get suitable form`);if(null==i)throw new Error(`ConsumedThing '${this.title}' did not get suitable client for ${o.href}`);T(`ConsumedThing '${this.title}' writing ${o.href} with '${t}'`);const s=w.default.valueToContent(t,n,o.contentType);o=this.handleUriVariables(n,o,r),yield i.writeResource(o,s)}))}writeMultipleProperties(e,t){return p(this,void 0,void 0,(function*(){const t=[];for(const r in e){const n=e.get(r);t.push(this.writeProperty(r,n))}try{yield Promise.all(t)}catch(t){throw new Error(`ConsumedThing '${this.title}', failed to write multiple propertes: ${e}\n Error: ${t}`)}}))}invokeAction(e,t,r){var n;return p(this,void 0,void 0,(function*(){const i=this.actions[e];if(null==i)throw new Error(`ConsumedThing '${this.title}' does not have action ${e}`);let o,{client:s,form:a}=this.getClientFor(i.forms,"invokeaction",x.ActionAffordance,r);if(null==a)throw new Error(`ConsumedThing '${this.title}' did not get suitable form`);if(null==s)throw new Error(`ConsumedThing '${this.title}' did not get suitable client for ${a.href}`);T(`ConsumedThing '${this.title}' invoking ${a.href}${void 0!==t?" with '"+t+"'":""}`),void 0!==t&&(o=w.default.valueToContent(t,i.input,a.contentType)),a=this.handleUriVariables(i,a,r);const c=yield s.invokeResource(a,o);if(c.type||(c.type=null!==(n=a.contentType)&&void 0!==n?n:"application/json"),null!=a.response&&c.type!==a.response.contentType)throw new Error("Unexpected type in response");try{return new S.InteractionOutput(c,a,i.output)}catch(e){throw new Error("Received invalid content from Thing")}}))}observeProperty(e,t,r,n){return p(this,void 0,void 0,(function*(){const i=this.properties[e];if(null==i)throw new Error(`ConsumedThing '${this.title}' does not have property ${e}`);const{client:o,form:s}=this.getClientFor(i.forms,"observeproperty",x.PropertyAffordance,n);if(null==s)throw new Error(`ConsumedThing '${this.title}' did not get suitable form`);if(null==o)throw new Error(`ConsumedThing '${this.title}' did not get suitable client for ${s.href}`);if(this.observedProperties.has(e))throw new Error(`ConsumedThing '${this.title}' has already a function subscribed to ${e}. You can only observe once`);T(`ConsumedThing '${this.title}' observing to ${s.href}`);const a=this.handleUriVariables(i,s,n);yield o.subscribeResource(a,(e=>{var r;e.type||(e.type=null!==(r=s.contentType)&&void 0!==r?r:"application/json");try{t(new S.InteractionOutput(e,s,i))}catch(e){O(`Error while processing observe event for ${i.title}`),O(e)}}),(e=>{null==r||r(e)}),(()=>{}));const c=new R(this,e,o,s);return this.observedProperties.set(e,c),c}))}subscribeEvent(e,t,r,n){return p(this,void 0,void 0,(function*(){const i=this.events[e];if(null==i)throw new Error(`ConsumedThing '${this.title}' does not have event ${e}`);const{client:o,form:s}=this.getClientFor(i.forms,"subscribeevent",x.EventAffordance,n);if(null==s)throw new Error(`ConsumedThing '${this.title}' did not get suitable form`);if(null==o)throw new Error(`ConsumedThing '${this.title}' did not get suitable client for ${s.href}`);if(this.subscribedEvents.has(e))throw new Error(`ConsumedThing '${this.title}' has already a function subscribed to ${e}. You can only subscribe once`);T(`ConsumedThing '${this.title}' subscribing to ${s.href}`);const a=this.handleUriVariables(i,s,n);yield o.subscribeResource(a,(e=>{var r;e.type||(e.type=null!==(r=s.contentType)&&void 0!==r?r:"application/json");try{t(new S.InteractionOutput(e,s,i.data))}catch(e){O(`Error while processing event for ${i.title}`),O(e)}}),(e=>{null==r||r(e)}),(()=>{}));const c=new k(this,e,o,s);return this.subscribedEvents.set(e,c),c}))}handleUriVariables(e,t,r){return j(this,e,t,r)}}t.default=C,u=new WeakMap,l=new WeakMap},47930:function(e,t,r){var n=r(1048).Buffer,i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ContentSerdes=void 0;const o=r(53303),s=i(r(71745)),a=i(r(45839)),c=i(r(17838)),u=i(r(82626)),l=i(r(70712)),f=r(50601),h=r(62979),d=r(75567),p=r(4444),{debug:y,warn:b}=(0,p.createLoggers)("core","content-serdes");class m{constructor(){this.codecs=new Map,this.offered=new Set}static get(){return null==this.instance&&(this.instance=new m,this.instance.addCodec(new a.default,!0),this.instance.addCodec(new a.default("application/senml+json")),this.instance.addCodec(new a.default("application/td+json")),this.instance.addCodec(new a.default("application/ld+json")),this.instance.addCodec(new s.default,!0),this.instance.addCodec(new c.default),this.instance.addCodec(new c.default("text/html")),this.instance.addCodec(new c.default("text/css")),this.instance.addCodec(new c.default("application/xml")),this.instance.addCodec(new c.default("application/xhtml+xml")),this.instance.addCodec(new c.default("image/svg+xml")),this.instance.addCodec(new u.default("image/png")),this.instance.addCodec(new u.default("image/gif")),this.instance.addCodec(new u.default("image/jpeg")),this.instance.addCodec(new l.default)),this.instance}static getMediaType(e){return e.split(";")[0].trim()}static getMediaTypeParameters(e){const t=e.split(";").slice(1),r={};return t.forEach((e=>{const t=e.indexOf("=");t>=0?r[e.substr(0,t).trim()]=e.substr(t+1).trim():r[e.trim()]=void 0})),r}addCodec(e,t=!1){m.get().codecs.set(e.getMediaType(),e),t&&m.get().offered.add(e.getMediaType())}getSupportedMediaTypes(){return Array.from(m.get().codecs.keys())}getOfferedMediaTypes(){return Array.from(m.get().offered)}isSupported(e){const t=m.getMediaType(e);return this.codecs.has(t)}contentToValue(e,t){if(void 0===e.type){if(!(e.body.byteLength>0))return;e.type=m.DEFAULT}const r=m.getMediaType(e.type),n=m.getMediaTypeParameters(e.type);return this.codecs.has(r)?(y(`ContentSerdes deserializing from ${e.type}`),this.codecs.get(r).bytesToValue(e.body,t,n)):(b(`ContentSerdes passthrough due to unsupported media type '${r}'`),e.body.toString())}valueToContent(e,t,r=m.DEFAULT){if(void 0===e&&b("ContentSerdes valueToContent got no value"),e instanceof d.ReadableStream)return new o.Content(r,h.ProtocolHelpers.toNodeStream(e));let i;const s=m.getMediaType(r),a=m.getMediaTypeParameters(r),c=this.codecs.get(s);return c?(y(`ContentSerdes serializing to ${r}`),i=c.valueToBytes(e,t,a)):(b(`ContentSerdes passthrough due to unsupported serialization format '${r}'`),i=n.from(null===e?"":e.toString())),new o.Content(r,f.Readable.from([i]))}}t.ContentSerdes=m,m.DEFAULT="application/json",m.TD="application/td+json",m.JSON_LD="application/ld+json",t.default=m.get()},53303:function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultContent=t.Content=void 0;const i=r(47930),o=n(r(13196));class s{constructor(e,t){this.type=e,this.body=t}toBuffer(){return o.default.readStreamFully(this.body)}}t.Content=s,t.DefaultContent=class extends s{constructor(e){super(i.ContentSerdes.DEFAULT,e)}}},62979:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.createWarnLogger=t.createInfoLogger=t.createErrorLogger=t.createDebugLogger=t.createLoggers=t.ProtocolHelpers=t.Helpers=t.ExposedThing=t.ConsumedThing=t.DefaultContent=t.Content=t.NetconfCodec=t.NetconfOctetstreamCodecCodec=t.Base64Codec=t.TextCodec=t.CborCodec=t.JsonCodec=t.Servient=void 0;const s=o(r(8140));t.Servient=s.default,t.default=s.default,i(r(47930),t);var a=r(45839);Object.defineProperty(t,"JsonCodec",{enumerable:!0,get:function(){return o(a).default}});var c=r(71745);Object.defineProperty(t,"CborCodec",{enumerable:!0,get:function(){return o(c).default}});var u=r(17838);Object.defineProperty(t,"TextCodec",{enumerable:!0,get:function(){return o(u).default}});var l=r(82626);Object.defineProperty(t,"Base64Codec",{enumerable:!0,get:function(){return o(l).default}});var f=r(70712);Object.defineProperty(t,"NetconfOctetstreamCodecCodec",{enumerable:!0,get:function(){return o(f).default}});var h=r(5166);Object.defineProperty(t,"NetconfCodec",{enumerable:!0,get:function(){return o(h).default}}),i(r(66273),t);var d=r(53303);Object.defineProperty(t,"Content",{enumerable:!0,get:function(){return d.Content}}),Object.defineProperty(t,"DefaultContent",{enumerable:!0,get:function(){return d.DefaultContent}});var p=r(65623);Object.defineProperty(t,"ConsumedThing",{enumerable:!0,get:function(){return o(p).default}});var y=r(11639);Object.defineProperty(t,"ExposedThing",{enumerable:!0,get:function(){return o(y).default}});var b=r(23583);Object.defineProperty(t,"Helpers",{enumerable:!0,get:function(){return o(b).default}});var m=r(13196);Object.defineProperty(t,"ProtocolHelpers",{enumerable:!0,get:function(){return o(m).default}});var v=r(4444);Object.defineProperty(t,"createLoggers",{enumerable:!0,get:function(){return v.createLoggers}}),Object.defineProperty(t,"createDebugLogger",{enumerable:!0,get:function(){return v.createDebugLogger}}),Object.defineProperty(t,"createErrorLogger",{enumerable:!0,get:function(){return v.createErrorLogger}}),Object.defineProperty(t,"createInfoLogger",{enumerable:!0,get:function(){return v.createInfoLogger}}),Object.defineProperty(t,"createWarnLogger",{enumerable:!0,get:function(){return v.createWarnLogger}})},98627:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DataSchemaError=t.NotSupportedError=t.NotReadableError=void 0;class r extends Error{constructor(e){super(e),Object.setPrototypeOf(this,r.prototype)}}t.NotReadableError=r;class n extends Error{constructor(e){super(e),Object.setPrototypeOf(this,n.prototype)}}t.NotSupportedError=n;class i extends Error{constructor(e,t){super(e),this.value=t,Object.setPrototypeOf(this,n.prototype)}}t.DataSchemaError=i},11639:function(e,t,r){var n,i,o,s,a,c,u=r(1048).Buffer,l=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),f=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),h=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&l(t,e,r);return f(t,e),t},d=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))},p=this&&this.__classPrivateFieldSet||function(e,t,r,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r},y=this&&this.__classPrivateFieldGet||function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)},b=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const m=h(r(57127)),v=b(r(23583)),g=r(15510),w=r(50601),_=b(r(13196)),S=r(75567),E=r(62979),T=b(r(47930)),O=b(r(70301)),x=r(4444),{debug:A}=(0,x.createLoggers)("core","exposed-thing");class M extends m.Thing{constructor(e,t={}){var r,u;super(),n.set(this,new Map),i.set(this,new Map),o.set(this,new Map),s.set(this,new O.default),a.set(this,new O.default),c.set(this,void 0),p(this,c,e,"f"),this.id=null!==(r=t.id)&&void 0!==r?r:"",this.title=null!==(u=t.title)&&void 0!==u?u:"",this.security="",this.securityDefinitions={},this.properties={},this.actions={},this.events={};const l=JSON.parse(JSON.stringify(t));Object.assign(this,l),m.setContextLanguage(this,m.DEFAULT_CONTEXT_LANGUAGE,!1)}getThingDescription(){return JSON.parse(m.serializeTD(this))}emitEvent(e,t){if(null==this.events[e])throw new Error("NotFoundError for event '"+e+"'");{const r=this.events[e];y(this,a,"f").notify(r,t,r.data)}}emitPropertyChange(e){var t;return d(this,void 0,void 0,(function*(){if(null==this.properties[e])throw new Error("NotFoundError for property '"+e+"'");{const r=this.properties[e],i=null===(t=y(this,n,"f").get(e))||void 0===t?void 0:t.readHandler;if(!i)throw new Error("Can't read property readHandler is not defined. Did you forget to register a readHandler?");const o=yield i();y(this,s,"f").notify(r,o,r)}}))}expose(){return A(`ExposedThing '${this.title}' exposing all Interactions and TD`),new Promise(((e,t)=>{y(this,c,"f").expose(this).then((()=>{e()})).catch((e=>t(e)))}))}destroy(){return d(this,void 0,void 0,(function*(){A(`ExposedThing '${this.title}' destroying the thing and its interactions`),yield y(this,c,"f").destroyThing(this.id),y(this,a,"f").unregisterAll(),y(this,s,"f").unregisterAll(),y(this,o,"f").clear(),y(this,n,"f").clear(),y(this,o,"f").clear()}))}setPropertyReadHandler(e,t){if(A(`ExposedThing '${this.title}' setting read handler for '${e}'`),null==this.properties[e])throw new Error(`ExposedThing '${this.title}' has no Property '${e}'`);if(!0===this.properties[e].writeOnly)throw new Error(`ExposedThing '${this.title}' cannot set read handler for property '${e}' due to writeOnly flag`);{let r=y(this,n,"f").get(e);r?r.readHandler=t:r={readHandler:t},y(this,n,"f").set(e,r)}return this}setPropertyWriteHandler(e,t){if(A(`ExposedThing '${this.title}' setting write handler for '${e}'`),null==this.properties[e])throw new Error(`ExposedThing '${this.title}' has no Property '${e}'`);if(!0===this.properties[e].readOnly)throw new Error(`ExposedThing '${this.title}' cannot set write handler for property '${e}' due to readOnly flag`);{let r=y(this,n,"f").get(e);r?r.writeHandler=t:r={writeHandler:t},y(this,n,"f").set(e,r)}return this}setPropertyObserveHandler(e,t){if(A(`ExposedThing '${this.title}' setting property observe handler for '${e}'`),null==this.properties[e])throw new Error(`ExposedThing '${this.title}' has no Property '${e}'`);if(!0!==this.properties[e].observable)throw new Error(`ExposedThing '${this.title}' cannot set observe handler for property '${e}' since the observable flag is set to false`);{let r=y(this,n,"f").get(e);r?r.observeHandler=t:r={observeHandler:t},y(this,n,"f").set(e,r)}return this}setPropertyUnobserveHandler(e,t){if(A(`ExposedThing '${this.title}' setting property unobserve handler for '${e}'`),null==this.properties[e])throw new Error(`ExposedThing '${this.title}' has no Property '${e}'`);if(!0!==this.properties[e].observable)throw new Error(`ExposedThing '${this.title}' cannot set unobserve handler for property '${e}' due to missing observable flag`);{let r=y(this,n,"f").get(e);r?r.unobserveHandler=t:r={unobserveHandler:t},y(this,n,"f").set(e,r)}return this}setActionHandler(e,t){if(A(`ExposedThing '${this.title}' setting action handler for '${e}'`),null==this.actions[e])throw new Error(`ExposedThing '${this.title}' has no Action '${e}'`);return y(this,i,"f").set(e,t),this}setEventSubscribeHandler(e,t){if(A(`ExposedThing '${this.title}' setting event subscribe handler for '${e}'`),null==this.events[e])throw new Error(`ExposedThing '${this.title}' has no Event '${e}'`);{let r=y(this,o,"f").get(e);r?r.subscribe=t:r={subscribe:t},y(this,o,"f").set(e,r)}return this}setEventUnsubscribeHandler(e,t){if(A(`ExposedThing '${this.title}' setting event unsubscribe handler for '${e}'`),null==this.events[e])throw new Error(`ExposedThing '${this.title}' has no Event '${e}'`);{let r=y(this,o,"f").get(e);r?r.unsubscribe=t:r={unsubscribe:t},y(this,o,"f").set(e,r)}return this}handleInvokeAction(e,t,r){var n;return d(this,void 0,void 0,(function*(){if(null==this.actions[e])throw new Error(`ExposedThing '${this.title}', no action found for '${e}'`);{A(`ExposedThing '${this.title}' has Action state of '${e}'`);const o=y(this,i,"f").get(e);if(null==o)throw new Error(`ExposedThing '${this.title}' has no handler for Action '${e}'`);{A(`ExposedThing '${this.title}' calls registered handler for Action '${e}'`),v.default.validateInteractionOptions(this,this.actions[e],r);const i=null!==(n=this.actions[e].forms[r.formIndex])&&void 0!==n?n:{contentType:"application/json"},s=yield o(new g.InteractionOutput(t,i,this.actions[e].input),r);if(void 0!==s)return T.default.valueToContent(s,this.actions[e].output,i.contentType)}}}))}handleReadProperty(e,t){var r,i,o,s;return d(this,void 0,void 0,(function*(){if(null!=this.properties[e]){A(`ExposedThing '${this.title}' has Action state of '${e}'`);const a=null===(r=y(this,n,"f").get(e))||void 0===r?void 0:r.readHandler;if(null!=a){A(`ExposedThing '${this.title}' calls registered readHandler for Property '${e}'`),v.default.validateInteractionOptions(this,this.properties[e],t);const r=yield a(t),n=null!==(o=null===(i=this.properties[e])||void 0===i?void 0:i.forms[t.formIndex])&&void 0!==o?o:{contentType:"application/json"};return T.default.valueToContent(r,this.properties[e],null!==(s=null==n?void 0:n.contentType)&&void 0!==s?s:"application/json")}throw new Error(`ExposedThing '${this.title}' has no readHandler for Property '${e}'`)}throw new Error(`ExposedThing '${this.title}', no property found for '${e}'`)}))}_handleReadProperties(e,t){return d(this,void 0,void 0,(function*(){try{const r=new Map;for(const n of e){if(!this.properties[n].forms.find((e=>e.contentType===E.ContentSerdes.DEFAULT||null==e.contentType)))continue;const e=yield this.handleReadProperty(n,t);r.set(n,e)}return r}catch(t){throw new Error(`ConsumedThing '${this.title}', failed to read properties: ${e}.\n Error: ${t}`)}}))}handleReadAllProperties(e){return d(this,void 0,void 0,(function*(){const t=[];for(const e in this.properties)t.push(e);return yield this._handleReadProperties(t,e)}))}handleReadMultipleProperties(e,t){return d(this,void 0,void 0,(function*(){return yield this._handleReadProperties(e,t)}))}handleWriteProperty(e,t,r){var i,o,s;return d(this,void 0,void 0,(function*(){if(null==this.properties[e])throw new Error(`ExposedThing '${this.title}', no property found for '${e}'`);{if(!0===this.properties[e].readOnly)throw new Error(`ExposedThing '${this.title}', property '${e}' is readOnly`);v.default.validateInteractionOptions(this,this.properties[e],r);const a=null===(i=y(this,n,"f").get(e))||void 0===i?void 0:i.writeHandler,c=null!==(s=null===(o=this.properties[e])||void 0===o?void 0:o.forms[r.formIndex])&&void 0!==s?s:{};if(null==a)throw new Error(`ExposedThing '${this.title}' has no writeHandler for Property '${e}'`);yield a(new g.InteractionOutput(t,c,this.properties[e]),r)}}))}handleWriteMultipleProperties(e,t){return d(this,void 0,void 0,(function*(){const r=[];for(const n in e)this.properties[n].forms.find((e=>"application/json"===e.contentType||null==e.contentType))&&r.push(this.handleWriteProperty(n,e.get(n),t));try{yield Promise.all(r)}catch(e){throw new Error(`ExposedThing '${this.title}', failed to write multiple properties. ${e.message}`)}}))}handleSubscribeEvent(e,t,r){var n;return d(this,void 0,void 0,(function*(){if(null==this.events[e])throw new Error(`ExposedThing '${this.title}', no event found for '${e}'`);{v.default.validateInteractionOptions(this,this.events[e],r);const i=_.default.getFormIndexForOperation(this.events[e],"event","subscribeevent",r.formIndex);if(-1===i)throw new Error(`ExposedThing '${this.title}', no property listener from found for '${e}' with form index '${r.formIndex}'`);y(this,a,"f").register(this.events[e],i,t),A(`ExposedThing '${this.title}' subscribes to event '${e}'`);const s=null===(n=y(this,o,"f").get(e))||void 0===n?void 0:n.subscribe;s&&(yield s(r)),A(`ExposedThing '${this.title}' subscribes to event '${e}'`)}}))}handleUnsubscribeEvent(e,t,r){var n;if(null==this.events[e])throw new Error(`ExposedThing '${this.title}', no event found for '${e}'`);{v.default.validateInteractionOptions(this,this.events[e],r);const i=_.default.getFormIndexForOperation(this.events[e],"event","unsubscribeevent",r.formIndex);if(-1===i)throw new Error(`ExposedThing '${this.title}', no event listener from found for '${e}' with form index '${r.formIndex}'`);y(this,a,"f").unregister(this.events[e],i,t);const s=null===(n=y(this,o,"f").get(e))||void 0===n?void 0:n.unsubscribe;s&&s(r),A(`ExposedThing '${this.title}' unsubscribes from event '${e}'`)}}handleObserveProperty(e,t,r){var i;return d(this,void 0,void 0,(function*(){if(null==this.properties[e])throw new Error(`ExposedThing '${this.title}', no property found for '${e}'`);{v.default.validateInteractionOptions(this,this.properties[e],r);const o=_.default.getFormIndexForOperation(this.properties[e],"property","observeproperty",r.formIndex);if(-1===o)throw new Error(`ExposedThing '${this.title}', no property listener from found for '${e}' with form index '${r.formIndex}'`);y(this,s,"f").register(this.properties[e],o,t),A(`ExposedThing '${this.title}' subscribes to property '${e}'`);const a=null===(i=y(this,n,"f").get(e))||void 0===i?void 0:i.observeHandler;a&&(yield a(r))}}))}handleUnobserveProperty(e,t,r){var i;if(null==this.properties[e])throw new Error(`ExposedThing '${this.title}', no property found for '${e}'`);{v.default.validateInteractionOptions(this,this.properties[e],r);const o=_.default.getFormIndexForOperation(this.properties[e],"property","unobserveproperty",r.formIndex);if(-1===o)throw new Error(`ExposedThing '${this.title}', no property listener from found for '${e}' with form index '${r.formIndex}'`);y(this,s,"f").unregister(this.properties[e],o,t);const a=null===(i=y(this,n,"f").get(e))||void 0===i?void 0:i.unobserveHandler;a&&a(r)}}static interactionInputToReadable(e){let t;return t="undefined"!=typeof ReadableStream&&e instanceof ReadableStream||e instanceof S.ReadableStream?_.default.toNodeStream(e):Array.isArray(e)||"object"==typeof e?w.Readable.from(u.from(JSON.stringify(e),"utf-8")):w.Readable.from(u.from(e.toString(),"utf-8")),t}}t.default=M,n=new WeakMap,i=new WeakMap,o=new WeakMap,s=new WeakMap,a=new WeakMap,c=new WeakMap},23583:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t},s=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const c=o(r(82213)),u=o(r(57127)),l=r(47930),f=a(r(11601)),h=a(r(64914)),d=r(57127),p=r(4444),{debug:y,error:b,warn:m}=(0,p.createLoggers)("core","helpers"),v=h.default,g=new f.default({strict:!1}).addFormat("iri-reference",/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i).addFormat("uri",/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/).addFormat("date-time",/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/);class w{constructor(e){this.srv=e}static extractScheme(e){const t=new URL(e);if(y(t),null===t.protocol)throw new Error(`Protocol in url "${e}" must be valid`);const r=t.protocol.slice(0,-1);return y(`Helpers found scheme '${r}'`),r}static setStaticAddress(e){w.staticAddress=e}static getAddresses(){var e;const t=[];if(void 0!==w.staticAddress)return t.push(w.staticAddress),y(`AddressHelper uses static ${t}`),t;{const r=c.networkInterfaces();for(const n in r)null===(e=r[n])||void 0===e||e.forEach((e=>{y(`AddressHelper found ${e.address}`),!1===e.internal&&("IPv4"===e.family?t.push(e.address):0===e.scopeid&&t.push(w.toUriLiteral(e.address)))}));return 0===t.length&&t.push("localhost"),y(`AddressHelper identified ${t}`),t}}static toUriLiteral(e){return null==e?(b(`AddressHelper received invalid address '${e}'`),"{invalid address - undefined}"):(-1!==e.indexOf(":")&&(e=`[${e}]`),e)}static generateUniqueName(e){const t=e.match(/.+_([0-9]+)$/);return null!==t?e.slice(0,-t[1].length)+(1+parseInt(t[1])):e+"_2"}static toStringArray(e){return null!=e?"string"==typeof e?[e]:e:[]}fetch(e){return new Promise(((t,r)=>{const n=this.srv.getClientFor(w.extractScheme(e));y(`WoTImpl fetching TD from '${e}' with ${n}`),n.readResource(new u.Form(e,l.ContentSerdes.TD)).then((n=>s(this,void 0,void 0,(function*(){n.type!==l.ContentSerdes.TD&&n.type!==l.ContentSerdes.JSON_LD&&m(`WoTImpl received TD with media type '${n.type}' from ${e}`);const i=(yield n.toBuffer()).toString("utf-8");try{const e=JSON.parse(i);t(e)}catch(t){r(new Error(`WoTImpl fetched invalid JSON from '${e}': ${t instanceof Error?t.message:t}`))}})))).then((e=>s(this,void 0,void 0,(function*(){return yield n.stop(),e})))).catch((e=>{r(e)}))}))}static extend(e,t){const r={};for(const t in e)r[t]=e[t];for(const e in t)Object.prototype.hasOwnProperty.call(r,e)||(r[e]=t[e]);return r}static parseInteractionOutput(e){return s(this,void 0,void 0,(function*(){try{return yield e.value()}catch(e){throw b("parseInteractionOutput low-level stream not implemented"),new Error("parseInteractionOutput low-level stream not implemented")}}))}static createExposeThingInitSchema(e){const t=structuredClone(e);if(void 0!==t.required){const e=["title","@context","instance","forms","security","href","securityDefinitions"];if(Array.isArray(t.required)){const r=t.required;t.required=r.filter((t=>!e.includes(t)))}else"string"==typeof t.required&&-1!==e.indexOf(t.required)&&delete t.required}if(void 0!==t.definitions)for(const e in t.definitions)t.definitions[e]=this.createExposeThingInitSchema(t.definitions[e]);return t}static validateExposedThingInit(e){var t;if("tm:ThingModel"===e["@type"]||!0===d.ThingModelHelpers.isThingModel(e))return{valid:!1,errors:"ThingModel declaration is not supported"};const r=w.tsSchemaValidator(e);let n;return r||(n=null===(t=w.tsSchemaValidator.errors)||void 0===t?void 0:t.map((e=>e.message)).join("\n")),{valid:r,errors:n}}static parseInteractionOptions(e,t,r){var n,i;if(!this.validateInteractionOptions(e,t,r))throw new Error(`CoreHelpers one or more uriVariables were not found under neither '${t.title}' Thing Interaction nor '${e.title}' Thing`);const o=null!==(n=t.uriVariables)&&void 0!==n?n:{},s=null!==(i=e.uriVariables)&&void 0!==i?i:{},a={};(null==r?void 0:r.uriVariables)?Object.entries(r.uriVariables).forEach((e=>{(e[0]in o||e[0]in s)&&(a[e[0]]=e[1])})):r={uriVariables:{}};for(const e in s){const t=s[e];!(e in a)&&"default"in t&&(a[e]=t.default)}return r.uriVariables=a,r}static validateInteractionOptions(e,t,r){var n,i;const o=null!==(n=t.uriVariables)&&void 0!==n?n:{},s=null!==(i=e.uriVariables)&&void 0!==i?i:{};if(null==r?void 0:r.uriVariables){const e=Object.entries(r.uriVariables);for(let t=0;t<e.length;t++){const r=e[t];if(!(r[0]in o)&&!(r[0]in s))return!1}}return!0}static parseUrlParameters(e,t={},r={}){const n={};if(null==e||null==r&&null==t)return n;const i=e.split("?")[1];return null==i||(-1!==i.indexOf("&")?i.split("&"):[i]).forEach((e=>{const i=e.split("="),o=decodeURIComponent(i[0]),s=decodeURIComponent(i.length>1?i[1]:"");null!=r&&null!=r[o]?"integer"===r[o].type||"number"===r[o].type?n[o]=+s:n[o]=s:null!=t&&null!=t[o]&&("integer"===t[o].type||"number"===t[o].type?n[o]=+s:n[o]=s)})),n}static updateInteractionNameWithUriVariablePattern(e,t={},r={}){const n=encodeURIComponent(e),i=[...Object.keys(t),...Object.keys(r)];return 0===i.length?n:n+"{?"+i.map(encodeURIComponent).join(",")+"}"}}t.default=w,w.tsSchemaValidator=g.compile(w.createExposeThingInitSchema(v)),w.staticAddress=void 0},15510:function(e,t,r){var n,i,o,s,a=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),c=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),u=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&a(t,e,r);return c(t,e),t},l=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))},f=this&&this.__classPrivateFieldSet||function(e,t,r,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r},h=this&&this.__classPrivateFieldGet||function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)},d=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.InteractionOutput=void 0;const p=u(r(49208)),y=r(47930),b=r(62979),m=r(98627),v=d(r(11601)),g=r(4444),{debug:w}=(0,g.createLoggers)("core","interaction-output"),_=new v.default({strict:!1});t.InteractionOutput=class{constructor(e,t,r){n.set(this,void 0),i.set(this,void 0),o.set(this,void 0),s.set(this,void 0),f(this,n,e,"f"),this.form=t,this.schema=r,this.dataUsed=!1}get data(){if(h(this,s,"f"))return h(this,s,"f");if(this.dataUsed)throw new Error("Can't read the stream once it has been already used");return this.dataUsed=!0,f(this,s,b.ProtocolHelpers.toWoTStream(h(this,n,"f").body),"f")}arrayBuffer(){return l(this,void 0,void 0,(function*(){if(h(this,o,"f"))return h(this,o,"f");if(this.dataUsed)throw new Error("Can't read the stream once it has been already used");const e=yield h(this,n,"f").toBuffer();return this.dataUsed=!0,f(this,o,e,"f"),e}))}value(){return l(this,void 0,void 0,(function*(){if(void 0!==h(this,i,"f"))return h(this,i,"f");if(this.dataUsed)throw new m.NotReadableError("Can't read the stream once it has been already used");if(null==this.form)throw new m.NotReadableError("No form defined");if(null==this.schema||null==this.schema.type)throw new m.NotReadableError("No schema defined");if(!y.ContentSerdes.get().isSupported(h(this,n,"f").type)){const e=`Content type ${h(this,n,"f").type} not supported`;throw new m.NotSupportedError(e)}const e=yield h(this,n,"f").toBuffer();this.dataUsed=!0,f(this,o,e,"f");const t=y.ContentSerdes.get().contentToValue({type:h(this,n,"f").type,body:e},this.schema),r=_.compile(this.schema);if(!r(t))throw w(`schema = ${p.inspect(this.schema,{depth:10,colors:!0})}`),w(`value: ${t}`),w(`Errror: ${r.errors}`),new m.DataSchemaError("Invalid value according to DataSchema",t);return f(this,i,t,"f"),t}))}},n=new WeakMap,i=new WeakMap,o=new WeakMap,s=new WeakMap},4444:function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.createLoggers=t.createErrorLogger=t.createWarnLogger=t.createDebugLogger=t.createInfoLogger=void 0;const i=n(r(20124));var o;function s(e,t){const r=["node-wot",...e,o[t]].join(":");return(0,i.default)(r)}function a(...e){return s(e,o.info)}function c(...e){return s(e,o.debug)}function u(...e){return s(e,o.warn)}function l(...e){return s(e,o.error)}!function(e){e[e.info=0]="info",e[e.debug=1]="debug",e[e.warn=2]="warn",e[e.error=3]="error"}(o||(o={})),t.createInfoLogger=a,t.createDebugLogger=c,t.createWarnLogger=u,t.createErrorLogger=l,t.createLoggers=function(...e){return{info:a(...e),debug:c(...e),warn:u(...e),error:l(...e)}}},13196:(e,t,r)=>{var n=r(1048).Buffer;Object.defineProperty(t,"__esModule",{value:!0});const i=r(50601),o=r(75567),s=r(4444),{debug:a,warn:c}=(0,s.createLoggers)("core","protocol-helpers");function u(e){return class extends e{set nodeStream(e){this._nodeStream=e}get nodeStream(){if(!this._nodeStream)throw new Error("ManagedStream not correctly initialized nodeStream is undefined");return this._nodeStream}set wotStream(e){this._wotStream=e}get wotStream(){if(!this._wotStream)throw new Error("ManagedStream not correctly initialized wotStream is undefined");return this._wotStream}}}const l=u(i.Readable),f=u(o.ReadableStream);function h(e){return e instanceof f||e instanceof l}t.default=class{static updatePropertyFormWithTemplate(e,t){var r;for(const n of null!==(r=t.forms)&&void 0!==r?r:[])if(n.href,null!=n.contentType)return void(e.contentType=n.contentType)}static updateActionFormWithTemplate(e,t){var r;for(const n of null!==(r=t.forms)&&void 0!==r?r:[])if(n.href,null!=n.contentType)return void(e.contentType=n.contentType)}static updateEventFormWithTemplate(e,t){var r;for(const n of null!==(r=t.forms)&&void 0!==r?r:[])if(n.href,null!=n.contentType)return void(e.contentType=n.contentType)}static getPropertyContentType(e,t,r){var n;if(null!=t&&null!=r&&null!=(null==e?void 0:e.properties)&&null!=e.properties[t]&&null!=e.properties[t].forms&&Array.isArray(e.properties[t].forms))for(const i of e.properties[t].forms)if((null===(n=i.href)||void 0===n?void 0:n.startsWith(r))&&null!=i.contentType)return i.contentType}static getActionContentType(e,t,r){var n;if(null!=t&&null!=r&&(null==e?void 0:e.actions)&&null!=e.actions&&Array.isArray(null===(n=e.actions[t])||void 0===n?void 0:n.forms))for(const n of e.actions[t].forms)if(n.href&&n.href.startsWith(r)&&null!=n.contentType)return n.contentType}static getEventContentType(e,t,r){var n;if(null!=t&&null!=r&&(null==e?void 0:e.events)&&null!=(null===(n=null==e?void 0:e.events[t])||void 0===n?void 0:n.forms)&&Array.isArray(e.events[t].forms))for(const n of e.events[t].forms)if(n.href&&n.href.startsWith(r)&&null!=n.contentType)return n.contentType}static toWoTStream(e){if(h(e))return e.wotStream;const t=new f({start:t=>{e.on("data",(e=>t.enqueue(e))),e.on("error",(e=>t.error(e))),e.on("end",(()=>t.close()))},cancel:t=>{e instanceof i.Readable&&e.destroy(t)}});return e instanceof i.Readable?t.nodeStream=e:t.nodeStream=new i.Readable(e),t}static toNodeStream(e){if(h(e))return e.nodeStream;if(e instanceof i.Readable)return e;const t=e.getReader(),r=new l({read:e=>{t.read().then((e=>{r.push(e.value),e.done&&r.push(null)}))},destroy:(r,n)=>{t.releaseLock(),e.cancel(r).then((()=>n(r)))}});return r.wotStream=e,r.nodeStream=r,r}static readStreamFully(e){return new Promise(((t,r)=>{if(null!=e){const i=[];e.on("data",(e=>i.push(e))),e.on("error",r),e.on("end",(()=>{null!=i[0]&&(i[0]instanceof Array||i[0]instanceof n||i[0]instanceof Uint8Array)?t(n.concat(i)):null!=i[0]&&"string"==typeof i[0]?t(n.from(i.join())):t(n.from(i))}))}else a("Protocol-Helper returns empty buffer for readStreamFully due to undefined stream"),t(n.alloc(0))}))}static findRequestMatchingFormIndex(e,t,r,n){if(void 0===e)return 0;let i=e.filter((e=>{const n=new URL(e.href.replace(/(\{[\S]*\})/,"")),i=void 0!==r?-1!==r.indexOf("?")?r.split("?")[0]:r:void 0;return n.protocol===t+":"&&(void 0===i||n.pathname===i)}));if(null!=n){const e=i.filter((e=>e.contentType===n));e.length>0&&(i=e)}return i.length>0?e.indexOf(i[0]):0}static getFormIndexForOperation(e,t,r,n){var i;let o=-1,s=[];switch(t){case"property":if(!0===e.readOnly&&"writeproperty"===r||!0===e.writeOnly&&"readproperty"===r)return o;!0!==e.readOnly&&s.push("writeproperty"),!0!==e.writeOnly&&s.push("readproperty");break;case"action":s=["invokeaction"];break;case"event":s=["subscribeevent","unsubscribeevent"]}if(-1!==s.indexOf(r)&&(r=void 0),void 0!==e.forms&&void 0!==n&&e.forms.length>n){const t=e.forms[n];null==t||null!=r&&!0!==(null===(i=t.op)||void 0===i?void 0:i.includes(r))||(o=n)}return void 0!==e.forms&&-1===o&&(void 0!==r?e.forms.every((t=>{var n;return!0===(null===(n=t.op)||void 0===n?void 0:n.includes(r))&&(o=e.forms.indexOf(t)),-1===o})):e.forms.every((t=>(o=e.forms.indexOf(t),!1)))),o}static getPropertyOpValues(e){const t=[];return!0!==e.readOnly&&t.push("writeproperty"),!0!==e.writeOnly&&t.push("readproperty"),0===t.length&&c("Property was declared both as readOnly and writeOnly."),!0===e.observable&&(t.push("observeproperty"),t.push("unobserveproperty")),t}}},66273:(e,t)=>{var r;Object.defineProperty(t,"__esModule",{value:!0}),t.Endianness=void 0,(r=t.Endianness||(t.Endianness={})).BIG_ENDIAN="BIG_ENDIAN",r.LITTLE_ENDIAN="LITTLE_ENDIAN",r.BIG_ENDIAN_BYTE_SWAP="BIG_ENDIAN_BYTE_SWAP",r.LITTLE_ENDIAN_BYTE_SWAP="LITTLE_ENDIAN_BYTE_SWAP"},70301:function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(r(47930));class o{constructor(){this.listeners=new Map}register(e,t,r){if(null==e.forms[t])throw new Error("Can't register the listener for affordance with formIndex. The affordance does not contain the form");let n=this.listeners.get(e);n||(n=new Map,this.listeners.set(e,n));let i=n.get(t);i||(i=[],n.set(t,i)),i.push(r)}unregister(e,t,r){const n=this.listeners.get(e);if(!n)throw new Error("Not found");const i=n.get(t);if(!i)throw new Error("Form not found");const o=i.indexOf(r);if(o<0)throw new Error("Form not found");i.splice(o,1)}unregisterAll(){this.listeners.clear()}notify(e,t,r,n){var s;const a=null!==(s=this.listeners.get(e))&&void 0!==s?s:o.EMPTY_MAP;if(void 0!==n){const o=a.get(n);if(o){const s=e.forms[n].contentType,a=i.default.valueToContent(t,r,s);return void o.forEach((e=>e(a)))}}for(const[n,o]of a){const s=e.forms[n].contentType,a=i.default.valueToContent(t,r,s);o.forEach((e=>e(a)))}}}t.default=o,o.EMPTY_MAP=new Map},8140:function(e,t,r){var n,i,o=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))},s=this&&this.__classPrivateFieldGet||function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)},a=this&&this.__classPrivateFieldSet||function(e,t,r,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const u=c(r(97087)),l=c(r(47930)),f=r(24562),h=r(4444),{debug:d,warn:p}=(0,h.createLoggers)("core","servient");t.default=class{constructor(){this.servers=[],this.clientFactories=new Map,this.things=new Map,this.credentialStore=new Map,n.set(this,void 0),i.set(this,!1)}addMediaType(e,t=!1){l.default.addCodec(e,t)}expose(e){if(0===this.servers.length)return p("Servient has no servers to expose Things"),new Promise((e=>{e()}));d(`Servient exposing '${e.title}'`);const t=JSON.parse(JSON.stringify(e));e.forms=[];for(const t in e.properties)e.properties[t].forms=[];for(const t in e.actions)e.actions[t].forms=[];for(const t in e.events)e.events[t].forms=[];const r=[];return this.servers.forEach((n=>{r.push(n.expose(e,t))})),new Promise(((e,t)=>{Promise.all(r).then((()=>e())).catch((e=>t(e)))}))}addThing(e){return e.id||(e.id="urn:uuid:"+(0,f.v4)(),p(`Servient generating ID for '${e.title}': '${e.id}'`)),!this.things.has(e.id)&&(this.things.set(e.id,e),d(`Servient reset ID '${e.id}' with '${e.title}'`),!0)}destroyThing(e){return new Promise(((t,r)=>{if(this.things.has(e)){d(`Servient destroying thing with id '${e}'`),this.things.delete(e);const n=[];this.servers.forEach((t=>{n.push(t.destroy(e))})),Promise.all(n).then((()=>t(!0))).catch((e=>r(e)))}else p(`Servient was asked to destroy thing but failed to find thing with id '${e}'`),t(!1)}))}getThing(e){return this.things.has(e)?this.things.get(e):void 0}getThings(){d(`Servient getThings size == '${this.things.size}'`);const e={};return this.things.forEach(((t,r)=>{e[r]=t.getThingDescription()})),e}addServer(e){return this.things.forEach(((t,r)=>e.expose(t))),this.servers.push(e),!0}getServers(){return this.servers.slice(0)}addClientFactory(e){d(`Servient adding client factory for '${e.scheme}'`),this.clientFactories.set(e.scheme,e)}removeClientFactory(e){var t;return d(`Servient removing client factory for '${e}'`),null===(t=this.clientFactories.get(e))||void 0===t||t.destroy(),this.clientFactories.delete(e)}hasClientFor(e){return d(`Servient checking for '${e}' scheme in ${this.clientFactories.size} ClientFactories`),this.clientFactories.has(e)}getClientFor(e){const t=this.clientFactories.get(e);if(t)return d(`Servient creating client for scheme '${e}'`),t.getClient();throw new Error(`Servient has no ClientFactory for scheme '${e}'`)}getClientSchemes(){return Array.from(this.clientFactories.keys())}addCredentials(e){if("object"==typeof e)for(const t in e){d(`Servient storing credentials for '${t}'`);let r=this.credentialStore.get(t);r||(r=[],this.credentialStore.set(t,r)),r.push(e[t])}}getCredentials(e){d(`Servient looking up credentials for '${e}' (@deprecated)`);const t=this.credentialStore.get(e);return t&&t.length>0?t[0]:void 0}retrieveCredentials(e){return d(`Servient looking up credentials for '${e}'`),this.credentialStore.get(e)}start(){return o(this,void 0,void 0,(function*(){if(void 0!==s(this,n,"f"))return d("Servient started already -> nop -> returning previous WoT implementation"),s(this,n,"f");if(s(this,i,"f"))throw Error("Servient cannot be started (again) since it was already stopped");const e=[];return this.servers.forEach((t=>e.push(t.start(this)))),this.clientFactories.forEach((e=>e.init())),yield Promise.all(e),a(this,n,new u.default(this),"f")}))}shutdown(){return o(this,void 0,void 0,(function*(){if(void 0===s(this,n,"f"))throw Error("Servient cannot be shutdown, wasn't even started");if(s(this,i,"f"))return void d("Servient shutdown already -> nop");this.clientFactories.forEach((e=>e.destroy()));const e=this.servers.map((e=>e.stop()));yield Promise.all(e),a(this,i,!0,"f"),a(this,n,void 0,"f")}))}},n=new WeakMap,i=new WeakMap},6103:function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.getLastValidationErrors=t.isThingDescription=void 0;const i=n(r(23583));t.isThingDescription=function(e){return i.default.tsSchemaValidator(e)},t.getLastValidationErrors=function(){var e;const t=null===(e=i.default.tsSchemaValidator.errors)||void 0===e?void 0:e.map((e=>e.message)).join("\n");return new Error(t)}},97087:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t},s=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))},a=this&&this.__await||function(e){return this instanceof a?(this.v=e,this):new a(e)},c=this&&this.__asyncGenerator||function(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,i=r.apply(e,t||[]),o=[];return n={},s("next"),s("throw"),s("return"),n[Symbol.asyncIterator]=function(){return this},n;function s(e){i[e]&&(n[e]=function(t){return new Promise((function(r,n){o.push([e,t,r,n])>1||c(e,t)}))})}function c(e,t){try{(r=i[e](t)).value instanceof a?Promise.resolve(r.value.v).then(u,l):f(o[0][2],r)}catch(e){f(o[0][3],e)}var r}function u(e){c("next",e)}function l(e){c("throw",e)}function f(e,t){e(t),o.shift(),o.length&&c(o[0][0],o[0][1])}},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.DataType=void 0;const l=o(r(57127)),f=u(r(11639)),h=u(r(65623)),d=u(r(23583)),p=r(4444),y=u(r(47930)),b=r(6103),m=r(49208),{debug:v}=(0,p.createLoggers)("core","wot-impl");class g{constructor(e,t){this.directory=e,this.filter=t,this.filter=t,this.done=!1}stop(){return s(this,void 0,void 0,(function*(){this.done=!0}))}[Symbol.asyncIterator](){return c(this,arguments,(function*(){let e;try{const t=yield a(this.directory.readProperty("things"));e=yield a(t.value())}catch(e){return this.error=e instanceof Error?e:new Error((0,m.inspect)(e)),this.done=!0,yield a(void 0)}for(const t of e){if(this.done)return yield a(void 0);(0,b.isThingDescription)(t)?yield yield a(t):this.error=(0,b.getLastValidationErrors)()}this.done=!0}))}}var w;t.default=class{constructor(e){this.srv=e}discover(e){return s(this,void 0,void 0,(function*(){throw new Error("not implemented")}))}exploreDirectory(e,t){return s(this,void 0,void 0,(function*(){const r=yield this.requestThingDescription(e),n=yield this.consume(r);return new g(n,t)}))}requestThingDescription(e){return s(this,void 0,void 0,(function*(){const t=d.default.extractScheme(e),r=this.srv.getClientFor(t),n=yield r.requestThingDescription(e),i=y.default.contentToValue({type:n.type,body:yield n.toBuffer()},{});if((0,b.isThingDescription)(i))return i;throw(0,b.getLastValidationErrors)()}))}consume(e){return s(this,void 0,void 0,(function*(){try{const t=l.parseTD(JSON.stringify(e),!0),r=new h.default(this.srv,t);return v(`WoTImpl consuming TD ${null!=r.id?`'${r.id}'`:"without id"} to instantiate ConsumedThing '${r.title}'`),r}catch(e){throw new Error(`Cannot consume TD because ${e instanceof Error?e.message:e}`)}}))}produce(e){return new Promise(((t,r)=>{try{const r=d.default.validateExposedThingInit(e);if(!r.valid)throw new Error("Thing Description JSON schema validation failed:\n"+r.errors);const n=new f.default(this.srv,e);if(v(`WoTImpl producing new ExposedThing '${n.title}'`),!this.srv.addThing(n))throw new Error("Thing already exists: "+n.title);t(n)}catch(e){r(new Error(`Cannot produce ExposedThing because " + ${e instanceof Error?e.message:e}`))}}))}},(w=t.DataType||(t.DataType={})).boolean="boolean",w.number="number",w.integer="integer",w.string="string",w.object="object",w.array="array",w.null="null"},24562:(e,t,r)=>{r.r(t),r.d(t,{v1:()=>d,v3:()=>_,v4:()=>S,v5:()=>O});var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),i=new Uint8Array(16);function o(){if(!n)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return n(i)}for(var s=[],a=0;a<256;++a)s[a]=(a+256).toString(16).substr(1);const c=function(e,t){var r=t||0,n=s;return[n[e[r++]],n[e[r++]],n[e[r++]],n[e[r++]],"-",n[e[r++]],n[e[r++]],"-",n[e[r++]],n[e[r++]],"-",n[e[r++]],n[e[r++]],"-",n[e[r++]],n[e[r++]],n[e[r++]],n[e[r++]],n[e[r++]],n[e[r++]]].join("")};var u,l,f=0,h=0;const d=function(e,t,r){var n=t&&r||0,i=t||[],s=(e=e||{}).node||u,a=void 0!==e.clockseq?e.clockseq:l;if(null==s||null==a){var d=e.random||(e.rng||o)();null==s&&(s=u=[1|d[0],d[1],d[2],d[3],d[4],d[5]]),null==a&&(a=l=16383&(d[6]<<8|d[7]))}var p=void 0!==e.msecs?e.msecs:(new Date).getTime(),y=void 0!==e.nsecs?e.nsecs:h+1,b=p-f+(y-h)/1e4;if(b<0&&void 0===e.clockseq&&(a=a+1&16383),(b<0||p>f)&&void 0===e.nsecs&&(y=0),y>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");f=p,h=y,l=a;var m=(1e4*(268435455&(p+=122192928e5))+y)%4294967296;i[n++]=m>>>24&255,i[n++]=m>>>16&255,i[n++]=m>>>8&255,i[n++]=255&m;var v=p/4294967296*1e4&268435455;i[n++]=v>>>8&255,i[n++]=255&v,i[n++]=v>>>24&15|16,i[n++]=v>>>16&255,i[n++]=a>>>8|128,i[n++]=255&a;for(var g=0;g<6;++g)i[n+g]=s[g];return t||c(i)};function p(e,t,r){var n=function(e,n,i,o){var s=i&&o||0;if("string"==typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));for(var t=new Array(e.length),r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(e)),"string"==typeof n&&(n=function(e){var t=[];return e.replace(/[a-fA-F0-9]{2}/g,(function(e){t.push(parseInt(e,16))})),t}(n)),!Array.isArray(e))throw TypeError("value must be an array of bytes");if(!Array.isArray(n)||16!==n.length)throw TypeError("namespace must be uuid string or an Array of 16 byte values");var a=r(n.concat(e));if(a[6]=15&a[6]|t,a[8]=63&a[8]|128,i)for(var u=0;u<16;++u)i[s+u]=a[u];return i||c(a)};try{n.name=e}catch(e){}return n.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",n.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",n}function y(e,t){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}function b(e,t,r,n,i,o){return y((s=y(y(t,e),y(n,o)))<<(a=i)|s>>>32-a,r);var s,a}function m(e,t,r,n,i,o,s){return b(t&r|~t&n,e,t,i,o,s)}function v(e,t,r,n,i,o,s){return b(t&n|r&~n,e,t,i,o,s)}function g(e,t,r,n,i,o,s){return b(t^r^n,e,t,i,o,s)}function w(e,t,r,n,i,o,s){return b(r^(t|~n),e,t,i,o,s)}const _=p("v3",48,(function(e){if("string"==typeof e){var t=unescape(encodeURIComponent(e));e=new Array(t.length);for(var r=0;r<t.length;r++)e[r]=t.charCodeAt(r)}return function(e){var t,r,n,i=[],o=32*e.length,s="0123456789abcdef";for(t=0;t<o;t+=8)r=e[t>>5]>>>t%32&255,n=parseInt(s.charAt(r>>>4&15)+s.charAt(15&r),16),i.push(n);return i}(function(e,t){var r,n,i,o,s;e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;var a=1732584193,c=-271733879,u=-1732584194,l=271733878;for(r=0;r<e.length;r+=16)n=a,i=c,o=u,s=l,a=m(a,c,u,l,e[r],7,-680876936),l=m(l,a,c,u,e[r+1],12,-389564586),u=m(u,l,a,c,e[r+2],17,606105819),c=m(c,u,l,a,e[r+3],22,-1044525330),a=m(a,c,u,l,e[r+4],7,-176418897),l=m(l,a,c,u,e[r+5],12,1200080426),u=m(u,l,a,c,e[r+6],17,-1473231341),c=m(c,u,l,a,e[r+7],22,-45705983),a=m(a,c,u,l,e[r+8],7,1770035416),l=m(l,a,c,u,e[r+9],12,-1958414417),u=m(u,l,a,c,e[r+10],17,-42063),c=m(c,u,l,a,e[r+11],22,-1990404162),a=m(a,c,u,l,e[r+12],7,1804603682),l=m(l,a,c,u,e[r+13],12,-40341101),u=m(u,l,a,c,e[r+14],17,-1502002290),a=v(a,c=m(c,u,l,a,e[r+15],22,1236535329),u,l,e[r+1],5,-165796510),l=v(l,a,c,u,e[r+6],9,-1069501632),u=v(u,l,a,c,e[r+11],14,643717713),c=v(c,u,l,a,e[r],20,-373897302),a=v(a,c,u,l,e[r+5],5,-701558691),l=v(l,a,c,u,e[r+10],9,38016083),u=v(u,l,a,c,e[r+15],14,-660478335),c=v(c,u,l,a,e[r+4],20,-405537848),a=v(a,c,u,l,e[r+9],5,568446438),l=v(l,a,c,u,e[r+14],9,-1019803690),u=v(u,l,a,c,e[r+3],14,-187363961),c=v(c,u,l,a,e[r+8],20,1163531501),a=v(a,c,u,l,e[r+13],5,-1444681467),l=v(l,a,c,u,e[r+2],9,-51403784),u=v(u,l,a,c,e[r+7],14,1735328473),a=g(a,c=v(c,u,l,a,e[r+12],20,-1926607734),u,l,e[r+5],4,-378558),l=g(l,a,c,u,e[r+8],11,-2022574463),u=g(u,l,a,c,e[r+11],16,1839030562),c=g(c,u,l,a,e[r+14],23,-35309556),a=g(a,c,u,l,e[r+1],4,-1530992060),l=g(l,a,c,u,e[r+4],11,1272893353),u=g(u,l,a,c,e[r+7],16,-155497632),c=g(c,u,l,a,e[r+10],23,-1094730640),a=g(a,c,u,l,e[r+13],4,681279174),l=g(l,a,c,u,e[r],11,-358537222),u=g(u,l,a,c,e[r+3],16,-722521979),c=g(c,u,l,a,e[r+6],23,76029189),a=g(a,c,u,l,e[r+9],4,-640364487),l=g(l,a,c,u,e[r+12],11,-421815835),u=g(u,l,a,c,e[r+15],16,530742520),a=w(a,c=g(c,u,l,a,e[r+2],23,-995338651),u,l,e[r],6,-198630844),l=w(l,a,c,u,e[r+7],10,1126891415),u=w(u,l,a,c,e[r+14],15,-1416354905),c=w(c,u,l,a,e[r+5],21,-57434055),a=w(a,c,u,l,e[r+12],6,1700485571),l=w(l,a,c,u,e[r+3],10,-1894986606),u=w(u,l,a,c,e[r+10],15,-1051523),c=w(c,u,l,a,e[r+1],21,-2054922799),a=w(a,c,u,l,e[r+8],6,1873313359),l=w(l,a,c,u,e[r+15],10,-30611744),u=w(u,l,a,c,e[r+6],15,-1560198380),c=w(c,u,l,a,e[r+13],21,1309151649),a=w(a,c,u,l,e[r+4],6,-145523070),l=w(l,a,c,u,e[r+11],10,-1120210379),u=w(u,l,a,c,e[r+2],15,718787259),c=w(c,u,l,a,e[r+9],21,-343485551),a=y(a,n),c=y(c,i),u=y(u,o),l=y(l,s);return[a,c,u,l]}(function(e){var t,r=[];for(r[(e.length>>2)-1]=void 0,t=0;t<r.length;t+=1)r[t]=0;var n=8*e.length;for(t=0;t<n;t+=8)r[t>>5]|=(255&e[t/8])<<t%32;return r}(e),8*e.length))})),S=function(e,t,r){var n=t&&r||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var i=(e=e||{}).random||(e.rng||o)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,t)for(var s=0;s<16;++s)t[n+s]=i[s];return t||c(i)};function E(e,t,r,n){switch(e){case 0:return t&r^~t&n;case 1:case 3:return t^r^n;case 2:return t&r^t&n^r&n}}function T(e,t){return e<<t|e>>>32-t}const O=p("v5",80,(function(e){var t=[1518500249,1859775393,2400959708,3395469782],r=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof e){var n=unescape(encodeURIComponent(e));e=new Array(n.length);for(var i=0;i<n.length;i++)e[i]=n.charCodeAt(i)}e.push(128);var o=e.length/4+2,s=Math.ceil(o/16),a=new Array(s);for(i=0;i<s;i++){a[i]=new Array(16);for(var c=0;c<16;c++)a[i][c]=e[64*i+4*c]<<24|e[64*i+4*c+1]<<16|e[64*i+4*c+2]<<8|e[64*i+4*c+3]}for(a[s-1][14]=8*(e.length-1)/Math.pow(2,32),a[s-1][14]=Math.floor(a[s-1][14]),a[s-1][15]=8*(e.length-1)&4294967295,i=0;i<s;i++){for(var u=new Array(80),l=0;l<16;l++)u[l]=a[i][l];for(l=16;l<80;l++)u[l]=T(u[l-3]^u[l-8]^u[l-14]^u[l-16],1);var f=r[0],h=r[1],d=r[2],p=r[3],y=r[4];for(l=0;l<80;l++){var b=Math.floor(l/20),m=T(f,5)+E(b,h,d,p)+y+t[b]+u[l]>>>0;y=p,p=d,d=T(h,30)>>>0,h=f,f=m}r[0]=r[0]+f>>>0,r[1]=r[1]+h>>>0,r[2]=r[2]+d>>>0,r[3]=r[3]+p>>>0,r[4]=r[4]+y>>>0}return[r[0]>>24&255,r[0]>>16&255,r[0]>>8&255,255&r[0],r[1]>>24&255,r[1]>>16&255,r[1]>>8&255,255&r[1],r[2]>>24&255,r[2]>>16&255,r[2]>>8&255,255&r[2],r[3]>>24&255,r[3]>>16&255,r[3]>>8&255,255&r[3],r[4]>>24&255,r[4]>>16&255,r[4]>>8&255,255&r[4]]}))},51601:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.setContextLanguage=t.findPort=t.findProtocol=void 0,t.findProtocol=function(e){const t=e.base,r=t.indexOf(":");return t.substring(0,r)},t.findPort=function(e){const t=e.base,r=t.indexOf(":",6),n=t.indexOf("/",r),i=t.substring(r+1,n);return parseInt(i)},t.setContextLanguage=function(e,t,r){if(Array.isArray(e["@context"])){const n=e["@context"];let i=!1;for(const e of n)"object"==typeof e&&void 0!==e["@language"]&&(r&&(e["@language"]=t),i=!0);i||n.push({"@language":t})}}},70785:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.serializeTD=t.parseTD=void 0;const a=o(r(44086)),c=o(r(51601)),u=r(61204),l=r(79731),f=s(r(20124)),h="node-wot:td-tools:td-parser",d=(0,f.default)(`${h}:debug`),p=(0,f.default)(`${h}:warn`);t.parseTD=function(e,t){d(`parseTD() parsing\n\`\`\`\n${e}\n\`\`\``);const r=JSON.parse(e.replace(/^\uFEFF/,""));if(void 0===r["@context"])r["@context"]=[a.DEFAULT_CONTEXT_V1,a.DEFAULT_CONTEXT_V11];else if(Array.isArray(r["@context"])){let e=r["@context"];const t=e.indexOf(a.DEFAULT_CONTEXT_V1),n=e.indexOf(a.DEFAULT_CONTEXT_V11);-1===t&&-1===n?(e.unshift(a.DEFAULT_CONTEXT_V11),e.unshift(a.DEFAULT_CONTEXT_V1)):(-1!==t&&-1!==n?(e=e.filter((function(e){return e!==a.DEFAULT_CONTEXT_V1})),e=e.filter((function(e){return e!==a.DEFAULT_CONTEXT_V11})),e.unshift(a.DEFAULT_CONTEXT_V11),e.unshift(a.DEFAULT_CONTEXT_V1)):(-1!==t&&0!==t&&(e=e.filter((function(e){return e!==a.DEFAULT_CONTEXT_V1})),e.unshift(a.DEFAULT_CONTEXT_V1)),-1!==n&&0!==n&&(e=e.filter((function(e){return e!==a.DEFAULT_CONTEXT_V11})),e.unshift(a.DEFAULT_CONTEXT_V11))),r["@context"]=e)}else if(r["@context"]!==a.DEFAULT_CONTEXT_V1&&r["@context"]!==a.DEFAULT_CONTEXT_V11){const e=r["@context"];r["@context"]=[a.DEFAULT_CONTEXT_V1,a.DEFAULT_CONTEXT_V11,e]}if(c.setContextLanguage(r,a.DEFAULT_CONTEXT_LANGUAGE,!1),void 0===r["@type"])r["@type"]=a.DEFAULT_THING_TYPE;else if(Array.isArray(r["@type"])){const e=r["@type"];-1===e.indexOf(a.DEFAULT_THING_TYPE)&&e.unshift(a.DEFAULT_THING_TYPE)}else if(r["@type"]!==a.DEFAULT_THING_TYPE){const e=r["@type"];r["@type"]=[a.DEFAULT_THING_TYPE,e]}if(void 0!==r.properties&&r.properties instanceof Object)for(const e in r.properties){const t=r.properties[e];void 0!==t.readOnly&&"boolean"==typeof t.readOnly||(t.readOnly=!1),void 0!==t.writeOnly&&"boolean"==typeof t.writeOnly||(t.writeOnly=!1),void 0!==t.observable&&"boolean"==typeof t.observable||(t.observable=!1)}if(void 0!==r.actions&&r.actions instanceof Object)for(const e in r.actions){const t=r.actions[e];void 0!==t.safe&&"boolean"==typeof t.safe||(t.safe=!1),void 0!==t.idempotent&&"boolean"==typeof t.idempotent||(t.idempotent=!1)}"object"==typeof r.properties&&null!==r.properties||(r.properties={}),"object"==typeof r.actions&&null!==r.actions||(r.actions={}),"object"==typeof r.events&&null!==r.events||(r.events={}),void 0===r.security&&p("parseTD() found no security metadata"),"string"==typeof r.security&&(r.security=[r.security]);const n=[];for(const e in r.properties){const t=r.properties[e];if(!t.forms)throw new Error(`Property '${e}' has no forms field`);for(const i of t.forms){if(!i.href)throw new Error(`Form of Property '${e}' has no href field`);if(!u(i.href)&&null==r.base)throw new Error(`Form of Property '${e}' has relative URI while TD has no base field`);n.push(i)}}for(const e in r.actions){const t=r.actions[e];if(!t.forms)throw new Error(`Action '${e}' has no forms field`);for(const i of t.forms){if(!i.href)throw new Error(`Form of Action '${e}' has no href field`);if(!u(i.href)&&null==r.base)throw new Error(`Form of Action '${e}' has relative URI while TD has no base field`);n.push(i)}}for(const e in r.events){const t=r.events[e];if(!t.forms)throw new Error(`Event '${e}' has no forms field`);for(const i of t.forms){if(!i.href)throw new Error(`Form of Event '${e}' has no href field`);if(!u(i.href)&&null==r.base)throw new Error(`Form of Event '${e}' has relative URI while TD has no base field`);n.push(i)}}if(Object.prototype.hasOwnProperty.call(r,"base")&&(void 0===t||!0===t)){d("parseTD() normalizing 'base' into 'forms'");for(const e of n)e.href.match(/^([a-z0-9+-.]+:).+/i)||(d(`parseTDString() applying base '${r.base}' to '${e.href}'`),e.href=l.buildAbsoluteURL(r.base,e.href))}return r},t.serializeTD=function(e){var t;const r=JSON.parse(JSON.stringify(e));if(null!=r.security&&0!==r.security.length||(r.securityDefinitions={nosec_sc:{scheme:"nosec"}},r.security=["nosec_sc"]),0===(null===(t=r.forms)||void 0===t?void 0:t.length)&&delete r.forms,null!=r.properties&&0===Object.keys(r.properties).length)delete r.properties;else if(null!=r.properties)for(const e in r.properties){const t=r.properties[e];void 0!==t.readOnly&&"boolean"==typeof t.readOnly||(t.readOnly=!1),void 0!==t.writeOnly&&"boolean"==typeof t.writeOnly||(t.writeOnly=!1),void 0!==t.observable&&"boolean"==typeof t.observable||(t.observable=!1)}if(null!=r.actions&&0===Object.keys(r.actions).length)delete r.actions;else if(null!=r.actions)for(const e in r.actions){const t=r.actions[e];void 0!==t.idempotent&&"boolean"==typeof t.idempotent||(t.idempotent=!1),void 0!==t.safe&&"boolean"==typeof t.safe||(t.safe=!1)}return null!=r.events&&0===Object.keys(r.events).length&&delete r.events,0===(null==r?void 0:r.links.length)&&delete r.links,JSON.stringify(r)}},57127:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Thing=void 0;var s=r(44086);Object.defineProperty(t,"Thing",{enumerable:!0,get:function(){return o(s).default}}),i(r(44086),t),i(r(70785),t),i(r(51601),t),i(r(39361),t),i(r(35119),t)},44086:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ThingEvent=t.ThingAction=t.ThingProperty=t.BaseSchema=t.Form=t.DEFAULT_THING_TYPE=t.DEFAULT_CONTEXT_LANGUAGE=t.DEFAULT_CONTEXT_V11=t.DEFAULT_CONTEXT_V1=void 0,t.DEFAULT_CONTEXT_V1="https://www.w3.org/2019/wot/td/v1",t.DEFAULT_CONTEXT_V11="https://www.w3.org/2022/wot/td/v1.1",t.DEFAULT_CONTEXT_LANGUAGE="en",t.DEFAULT_THING_TYPE="Thing",t.default=class{constructor(){this["@context"]=[t.DEFAULT_CONTEXT_V1,t.DEFAULT_CONTEXT_V11],this["@type"]=t.DEFAULT_THING_TYPE,this.title="",this.securityDefinitions={},this.security="",this.properties={},this.actions={},this.events={},this.links=[]}},t.Form=class{constructor(e,t){this.href=e,null!=t&&(this.contentType=t)}};class r{}t.BaseSchema=r,t.ThingProperty=class extends r{},t.ThingAction=class{},t.ThingEvent=class{}},39361:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t},s=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ThingModelHelpers=void 0;const c=a(r(11601)),u=o(r(4865)),l=o(r(27500)),f=o(r(64038)),h=r(73286),d=a(r(15494)),p=a(r(20124)),y="node-wot:td-tools:thing-model-helpers",b=(0,p.default)(`${y}:debug`),m=(0,p.default)(`${y}:error`),v=d.default,g=new c.default({strict:!1}).addFormat("iri-reference",/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i).addFormat("uri-reference",/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i).addFormat("uri",/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/).addFormat("json-pointer",/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/).addFormat("date-time",/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/);class w{constructor(e){this.deps=[],this.resolver=void 0,e&&(this.resolver=e)}static isThingModel(e){if(null==e)return!1;if("object"!=typeof e||Array.isArray(e))return!1;const t=e;if(Array.isArray(t["@type"])){if(t["@type"].filter((e=>"tm:ThingModel"===e)).length>0)return!0}else if("tm:ThingModel"===t["@type"])return!0;return Object.keys(this.getThingModelRef(t)).length>0||(!(!("links"in t)||!Array.isArray(t.links)||null==t.links.find((e=>"tm:extends"===e.rel)))||(!(void 0===t.properties||!this.isThingModel(t.properties))||!(void 0===t.actions||!this.isThingModel(t.actions))||!(void 0===t.events||!this.isThingModel(t.events))))}static getModelVersion(e){var t;return"object"==typeof(null==e?void 0:e.version)&&"string"==typeof(null===(t=null==e?void 0:e.version)||void 0===t?void 0:t.model)?e.version.model:void 0}static validateThingModel(e){var t;const r=w.tsSchemaValidator(e);let n;return r||(n=null===(t=w.tsSchemaValidator.errors)||void 0===t?void 0:t.map((e=>e.message)).join("\n")),{valid:r,errors:n}}getPartialTDs(e,t){return s(this,void 0,void 0,(function*(){return(yield this._getPartialTDs(e,t)).map((e=>{const t=e;return t["@type"]instanceof Array?t["@type"]=t["@type"].map((e=>"tm:ThingModel"===e?"Thing":e)):t["@type"]="Thing",t}))}))}fetchModel(e){return s(this,void 0,void 0,(function*(){let t;if(this.addDependency(e),t=this.resolver?yield this.resolver.fetch(e):yield this.localFetch(e),!w.isThingModel(t))throw new Error(`Data at ${e} is not a Thing Model`);return t}))}localFetch(e){switch(e.split("://")[0]){case"file":{const t=e.split("://")[1];return new Promise(((e,r)=>{f.readFile(t,{encoding:"utf-8"},(function(t,n){t?r(t):e(JSON.parse(n))}))}))}case"http":return new Promise(((t,r)=>{u.get(e,(n=>{null!=n.statusCode&&200===n.statusCode||r(new Error(`http status code not 200 but ${n.statusCode} for ${e}`)),n.setEncoding("utf8");let i="";n.on("data",(e=>{i+=e})),n.on("end",(()=>{try{const e=JSON.parse(i);b(`https fetched: ${e}`),t(e)}catch(e){m(e)}}))})).on("error",(e=>{r(e)}))}));case"https":return new Promise(((t,r)=>{l.get(e,(n=>{null!=n.statusCode&&200===n.statusCode||r(new Error(`https status code not 200 but ${n.statusCode} for ${e}`)),n.setEncoding("utf8");let i="";n.on("data",(e=>{i+=e})),n.on("end",(()=>{try{const e=JSON.parse(i);b(`https fetched: ${e}`),t(e)}catch(e){m(e)}}))})).on("error",(e=>{r(e)}))}))}return null}_getPartialTDs(e,t){return s(this,void 0,void 0,(function*(){if(!w.isThingModel(e))throw new Error(`${e} is not a Thing Model`);let r=w.validateThingModel(e);if(!1===r.valid||void 0!==r.errors)throw new Error(r.errors);if(r=this.checkPlaceholderMap(e,null==t?void 0:t.map),!1===r.valid||void 0!==r.errors)throw new Error(r.errors);const n=yield this.fetchAffordances(e);return yield this.composeModel(e,n,t)}))}fetchAffordances(e){var t;return s(this,void 0,void 0,(function*(){const r={},n=w.getThingModelLinks(e,"tm:extends");if(n.length>0){r.extends=[];for(const e of n){let t=yield this.fetchModel(e.href);[t]=yield this._getPartialTDs(t),r.extends.push(t)}}const i=["properties","actions","events"];r.imports=[];for(const n of i){const i=w.getThingModelRef(e[n]);if(Object.keys(i).length>0)for(const o in i){const s=i[o],a=this.parseTmRef(s);if(null==a.uri)throw new Error(`Missing remote path in ${s}`);let c=yield this.fetchModel(a.uri);[c]=yield this._getPartialTDs(c),delete e[n][o]["tm:ref"];const u=null!==(t=this.getRefAffordance(a,c))&&void 0!==t?t:{};a.name=o,r.imports.push(Object.assign({affordance:u},a))}}const o=w.getThingModelLinks(e,"tm:submodel");if(o.length>0){r.submodel={};for(const e of o){const t=yield this.fetchModel(e.href);r.submodel[e.href]=t}}return r}))}composeModel(e,t,r){var n,i,o,a,c;return s(this,void 0,void 0,(function*(){let s=[];const u=(null!==(n=e.title)&&void 0!==n?n:"").replace(/ /g,"");r||(r={}),null==r.baseUrl&&(r.baseUrl=".");const l=this.returnNewTMHref(r.baseUrl,u),f=this.returnNewTDHref(r.baseUrl,u);if("extends"in t){const r=null!==(i=t.extends)&&void 0!==i?i:[];for(const t of r)e=w.extendThingModel(t,e);e.links=null===(o=e.links)||void 0===o?void 0:o.filter((e=>"tm:extends"!==e.rel))}if("imports"in t){const r=null!==(a=t.imports)&&void 0!==a?a:[];for(const t of r)e=w.importAffordance(t.type,t.name,t.affordance,e)}if("submodel"in t){const n=t.submodel;for(const t in n){const i=n[t];if(!0===r.selfComposition){if(!e.links)throw new Error("You used self composition but links are missing; they are needed to extract the instance name");const n=e.links.findIndex((e=>e.href===t)),o=e.links[n].instanceName;if(null==o)throw new Error("Self composition is not possible without instance names");const[s]=yield this._getPartialTDs(i,r),a=["properties","actions","events"];for(const t of a)for(const r in s[t]){const n=`${o}_${r}`;t in e||(e[t]={}),e[t][n]=s[t][r]}}else{const n=(null!==(c=i.title)&&void 0!==c?c:"").replace(/ /g,""),o=this.returnNewTDHref(r.baseUrl,n);i.links||(i.links=[]),i.links.push({rel:"collection",href:f,type:"application/td+json"});const a=yield this._getPartialTDs(i,r);s.push(...a),e=w.formatSubmodelLink(e,t,o)}}}return e.links&&!0!==r.selfComposition||(e.links=[]),e.links.push({rel:"type",href:l,type:"application/tm+json"}),"version"in e&&delete e.version,r.map&&(e=this.fillPlaceholder(e,r.map)),s.unshift(e),s=s.map((e=>this.fillPlaceholder(e,null==r?void 0:r.map))),this.deps.length>0&&this.removeDependency(),s}))}static getThingModelRef(e){const t={};if(null==e)return t;for(const r in e)for(const n in e[r])"tm:ref"===n&&(t[r]=e[r]["tm:ref"]);return t}static getThingModelLinks(e,t){let r=[];return"links"in e&&Array.isArray(e.links)&&(r=e.links),r.filter((e=>e.rel===t))}static extendThingModel(e,t){let r={};const n=e.properties,i=e.actions,o=e.events;if(r=Object.assign(Object.assign({},e),t),n){r.properties||(r.properties={});for(const e in n)t.properties&&null!=t.properties[e]?r.properties[e]=Object.assign(Object.assign({},n[e]),t.properties[e]):r.properties[e]=n[e]}if(i){r.actions||(r.actions={});for(const e in i)t.actions&&e in t.actions?r.actions[e]=Object.assign(Object.assign({},i[e]),t.actions[e]):r.actions[e]=i[e]}if(o){r.events||(r.events={});for(const e in o)t.events&&e in t.events?r.events[e]=Object.assign(Object.assign({},o[e]),t.events[e]):r.events[e]=o[e]}return r}static importAffordance(e,t,r,n){n[e]||(n[e]={});const i=n[e][t];n[e][t]=Object.assign(Object.assign({},r),i);for(const r in n[e][t])void 0===n[e][t][r]&&delete n[e][t][r];return n}static formatSubmodelLink(e,t,r){if(!e.links)throw new Error("Links are missing");const n=e.links.findIndex((e=>e.href===t));if(-1===n)throw new Error("Link not found");const i=e.links[n];return"instanceName"in i&&delete i.instanceName,e.links[n]=Object.assign(Object.assign({},i),{href:r,type:"application/td+json",rel:"item"}),e}parseTmRef(e){const t=e.split("#")[0],r=e.split("#")[1];return{uri:t,type:r.split("/")[1],name:r.split("/")[2]}}getRefAffordance(e,t){const r=e.type,n=e.name;if(!(r in t))return;const i=t[r];return n in i?i[n]:void 0}fillPlaceholder(e,t={}){const r=new h.JsonPlaceholderReplacer;return r.addVariableMap(t),r.replace(e)}checkPlaceholderMap(e,t={}){var r;let n=null!==(r=JSON.stringify(e).match(new RegExp("{{.*?}}","g")))&&void 0!==r?r:[];n=n.map((e=>e.replace("{{","").replace("}}","")));let i,o=!0;return(null==n?void 0:n.length)>0&&null==t?(o=!1,i=`No map provided for model ${e.title}`):n.length>0&&n.every((r=>r in t||(i=`Missing required fields in map for model ${e.title}`,o=!1,!1))),{valid:o,errors:i}}returnNewTMHref(e,t){return`${e}/${t}.tm.jsonld`}returnNewTDHref(e,t){return`${e}/${t}.td.jsonld`}addDependency(e){if(this.deps.indexOf(e)>-1)throw new Error(`Circular dependency found for ${e}`);this.deps.push(e)}removeDependency(e){null!=e?this.deps=this.deps.filter((t=>t!==e)):this.deps.pop()}}t.ThingModelHelpers=w,w.tsSchemaValidator=g.compile(v)},35119:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.AssetInterfaceDescriptionUtil=void 0;const a=o(r(70785)),c=s(r(20124)),u=r(61204),l=r(79731),f="node-wot:td-tools:asset-interface-description-util",h=(0,c.default)(`${f}:debug`),d=(0,c.default)(`${f}:info`),p=(0,c.default)(`${f}:error`);t.AssetInterfaceDescriptionUtil=class{transformAAS2TD(e,t,r){const n=this.getSubmodelInformation(e,r);return this._transform(n,t)}transformSM2TD(e,t,r){const n=JSON.parse(e),i={actions:new Map,events:new Map,properties:new Map,endpointMetadataArray:[],thing:new Map};return this.processSubmodel(i,n,r),this._transform(i,t)}transformTD2AAS(e,t){const r=this.transformTD2SM(e,t),n=JSON.parse(r),i=n.id,o={assetAdministrationShells:[{idShort:this.sanitizeIdShort("SampleAAS"),id:"https://example.com/ids/aas/7474_9002_6022_1115",assetInformation:{assetKind:"Type"},submodels:[{type:"ModelReference",keys:[{type:"Submodel",value:i}]}],modelType:"AssetAdministrationShell"}],submodels:[n],conceptDescriptions:[]};return JSON.stringify(o)}transformTD2SM(e,t){var r;const n=a.parseTD(e),i=null!==(r=n.id)&&void 0!==r?r:"ID"+Math.random();d("TD "+n.title+" parsed..."),void 0!==t&&0!==t.length||(t=this.getProtocolPrefixes(n));const o=[];for(const e of t){const t=this.sanitizeIdShort(void 0===e?"Interface":"Interface"+e.toUpperCase()),r=[this.createSemanticId("https://www.w3.org/2019/wot/td")];if(void 0!==e){const t=e.toLocaleLowerCase();let n;t.includes("modbus")?n="http://www.w3.org/2011/modbus":t.includes("mqtt")?n="http://www.w3.org/2011/mqtt":t.includes("http")&&(n="http://www.w3.org/2011/http"),void 0!==n&&r.push(this.createSemanticId(n))}const s={idShort:t,semanticId:this.createSemanticId("https://admin-shell.io/idta/AssetInterfacesDescription/1/0/Interface"),supplementalSemanticIds:r,value:[{idShort:"title",valueType:"xs:string",value:n.title,modelType:"Property",semanticId:this.createSemanticId("https://www.w3.org/2019/wot/td#title")},this.createEndpointMetadata(n,e,i,t),this.createInterfaceMetadata(n,e)],modelType:"SubmodelElementCollection"};o.push(s)}const s={idShort:"AssetInterfacesDescription",id:i,kind:"Instance",semanticId:this.createSemanticId("https://admin-shell.io/idta/AssetInterfacesDescription/1/0/Submodel"),description:[{language:"en",text:n.title}],submodelElements:o,modelType:"Submodel"};return JSON.stringify(s)}transformToTD(e,t,r){return this.transformAAS2TD(e,t,r)}createSemanticId(e){return{type:"ExternalReference",keys:[{type:"GlobalReference",value:e}]}}replaceCharAt(e,t,r){return t>e.length-1?e:e.substring(0,t)+r+e.substring(t+1)}sanitizeIdShort(e){if(null!=e)for(let t=0;t<e.length;t++){const r=e.charCodeAt(t);0!==t&&r===" ".charCodeAt(0)||r>="0".charCodeAt(0)&&r<="9".charCodeAt(0)||r>="A".charCodeAt(0)&&r<="Z".charCodeAt(0)||r>="a".charCodeAt(0)&&r<="z".charCodeAt(0)||(e=this.replaceCharAt(e,t,"_"))}return e}getSimpleValueTypeXsd(e){if("boolean"==typeof e)return"xs:boolean";if("number"==typeof e){const t=Number(e);return Number.isInteger(t)?t<=2147483647&&t>=-2147483648?"xs:int":"xs:integer":"xs:double"}return"xs:string"}getProtocolPrefixes(e){const t=[];if(e.properties)for(const r in e.properties){const n=e.properties[r];this.updateProtocolPrefixes(n.forms,t)}if(e.actions)for(const r in e.actions){const n=e.actions[r];this.updateProtocolPrefixes(n.forms,t)}if(e.events)for(const r in e.events){const n=e.events[r];this.updateProtocolPrefixes(n.forms,t)}return t}updateProtocolPrefixes(e,t){if(null!=e)for(const r of e)if(null!=r.href){const e=r.href.indexOf(":");if(e>0){const n=r.href.substring(0,e);t.includes(n)||t.push(n)}}}getBaseFromEndpointMetadata(e){if((null==e?void 0:e.value)instanceof Array)for(const t of e.value)if("base"===t.idShort)return t.value;return"undefined"}getContentTypeFromEndpointMetadata(e){if((null==e?void 0:e.value)instanceof Array)for(const t of e.value)if("contentType"===t.idShort)return t.value;return""}updateRootMetadata(e,t){const r={},n=[];if((null==t?void 0:t.value)instanceof Array)for(const i of t.value)if("base"===i.idShort)e.base=i.value;else if("securityDefinitions"===i.idShort){if(i.value instanceof Array)for(const e of i.value)if(null!=e.idShort&&e.value instanceof Array)for(const t of e.value)if("scheme"===t.idShort&&null!=t.value){const n={scheme:t.value};r[e.idShort]=n}}else if("security"===i.idShort&&i.value instanceof Array)for(const e of i.value)if(null!=e.value&&e.value.keys instanceof Array){const t=e.value.keys[e.value.keys.length-1];null!=t.value&&n.push(t.value)}e.securityDefinitions=r,e.security=n}createInteractionForm(e,t){const r={href:this.getBaseFromEndpointMetadata(e.endpointMetadata),contentType:this.getContentTypeFromEndpointMetadata(e.endpointMetadata)};if(t&&p("security at form level not added/present"),e.interaction.value instanceof Array)for(const t of e.interaction.value)if("forms"===t.idShort&&t.value instanceof Array)for(const e of t.value)if("href"===e.idShort){if(null!=e.value){const t=e.value;u(t)?r.href=t:r.href&&r.href.length>0?r.href.endsWith("/")&&t.startsWith("/")?r.href=r.href+t.substring(1):r.href.endsWith("/")||t.startsWith("/")?r.href=r.href+t:r.href=r.href+"/"+t:r.href=t}}else if("string"==typeof e.idShort&&e.idShort.length>0&&null!=e.value){const t=e.idShort.replace("_",":");if(r[t]=e.value,null!=e.valueType&&null!=e.valueType.dataObjectType&&null!=e.valueType.dataObjectType.name&&"string"==typeof e.valueType.dataObjectType.name)switch(e.valueType.dataObjectType.name){case"boolean":r[t]="true"===r[e.value];break;case"float":case"double":case"decimal":case"integer":case"nonPositiveInteger":case"negativeInteger":case"long":case"int":case"short":case"byte":case"nonNegativeInteger":case"unsignedLong":case"unsignedInt":case"unsignedShort":case"unsignedByte":case"positiveInteger":r[t]=Number(r[e.value])}}return r}processSubmodel(e,t,r){if(t instanceof Object&&null!=t.idShort&&"AssetInterfacesDescription"===t.idShort&&t.submodelElements instanceof Array)for(const n of t.submodelElements)if(n instanceof Object){if(h("SubmodelElement.idShort: "+n.idShort),"string"==typeof r&&r.length>0&&!new RegExp(r).test(n.idShort)){d("submodel not of interest");continue}this.processSubmodelElement(e,n)}}processSubmodelElement(e,t){var r,n,i;if(t.value instanceof Array){let o={};for(const r of t.value)r instanceof Object&&("EndpointMetadata"===r.idShort?(d("EndpointMetadata"),o=r,e.endpointMetadataArray.push(o)):"InterfaceMetadata"===r.idShort||"externalDescriptor"===r.idShort||e.thing.set(r.idShort,r.value));for(const s of t.value)if(s instanceof Object&&"InterfaceMetadata"===s.idShort&&(d("InterfaceMetadata"),s.value instanceof Array))for(const t of s.value)if("properties"===t.idShort){if(t.value instanceof Array)for(const n of t.value){d("Property: "+n.idShort),e.properties.has(n.idShort)||e.properties.set(n.idShort,[]);const t={endpointMetadata:o,interaction:n};null===(r=e.properties.get(n.idShort))||void 0===r||r.push(t)}}else if("actions"===t.idShort){if(t.value instanceof Array)for(const r of t.value){d("Action: "+r.idShort),e.actions.has(r.idShort)||e.actions.set(r.idShort,[]);const t={endpointMetadata:o,interaction:r};null===(n=e.actions.get(r.idShort))||void 0===n||n.push(t)}}else if("events"===t.idShort&&t.value instanceof Array)for(const r of t.value){d("Event: "+r.idShort),e.events.has(r.idShort)||e.events.set(r.idShort,[]);const t={endpointMetadata:o,interaction:r};null===(i=e.events.get(r.idShort))||void 0===i||i.push(t)}}}getSubmodelInformation(e,t){const r=JSON.parse(e),n={actions:new Map,events:new Map,properties:new Map,endpointMetadataArray:[],thing:new Map};if(r instanceof Object&&null!=r.submodels&&r.submodels instanceof Array)for(const e of r.submodels)this.processSubmodel(n,e,t);return n}_transform(e,t){const r=null!=t?JSON.parse(t):{};for(const[t,n]of e.thing)"string"==typeof n&&(r[t]=n);null==r["@context"]&&(r["@context"]="https://www.w3.org/2022/wot/td/v1.1"),r.title||(r.title="?TODO?"),null==r.securityDefinitions&&(r.securityDefinitions={});const n=new Map;for(const t of e.endpointMetadataArray){const e=[];this.updateRootMetadata(r,t);for(const[t,n]of Object.entries(r.securityDefinitions))e.push(t);n.set(t,e)}if(h("########### PROPERTIES ("+e.properties.size+")"),e.properties.size>0){r.properties={};for(const[t,i]of e.properties.entries()){d("Property"+t+" = "+i),r.properties[t]={},r.properties[t].forms=[];for(const o of i){for(const e in o.interaction)if("description"===e){const n=o.interaction[e],i={};if(n instanceof Array)for(const e of n)if(null!=e.language&&null!=e.text){const t=e.language,r=e.text;i[t]=r}r.properties[t].descriptions=i}else if("value"===e&&o.interaction.value instanceof Array)for(const e of o.interaction.value)if("type"===e.idShort)"float"===e.value?r.properties[t].type="number":r.properties[t].type=e.value;else if("range"===e.idShort)null!=e.min&&(r.properties[t].min=e.min),null!=e.max&&(r.properties[t].max=e.max);else if("observable"===e.idShort)r.properties[t].observable="true"===e.value;else if("readOnly"===e.idShort)r.properties[t].readOnly="true"===e.value;else if("writeOnly"===e.idShort)r.properties[t].writeOnly="true"===e.value;else if("min_max"===e.idShort)null==r.properties[t].type&&(r.properties[t].type="number"),null!=e.min&&(r.properties[t].minimum=Number(e.min)),null!=e.max&&(r.properties[t].maximum=Number(e.max));else if("itemsRange"===e.idShort)null==r.properties[t].type&&(r.properties[t].type="array"),null!=e.min&&(r.properties[t].minItems=Number(e.min)),null!=e.max&&(r.properties[t].maxItems=Number(e.max));else if("lengthRange"===e.idShort)null==r.properties[t].type&&(r.properties[t].type="string"),null!=e.min&&(r.properties[t].minLength=Number(e.min)),null!=e.max&&(r.properties[t].maxLength=Number(e.max));else if("forms"===e.idShort);else{const n=e.idShort;r.properties[t][n]=e.value}o.endpointMetadata&&(o.secNamesForEndpoint=n.get(o.endpointMetadata));const i=this.createInteractionForm(o,e.endpointMetadataArray.length>1);r.properties[t].forms.push(i)}}}if(h("########### ACTIONS ("+e.actions.size+")"),e.actions.size>0){r.actions={};for(const[t,i]of e.actions.entries()){d("Action"+t+" = "+i),r.actions[t]={},r.actions[t].forms=[];for(const o of i){o.endpointMetadata&&(o.secNamesForEndpoint=n.get(o.endpointMetadata));const i=this.createInteractionForm(o,e.endpointMetadataArray.length>1);r.properties[t].forms.push(i)}}}if(h("########### EVENTS ("+e.events.size+")"),e.events.size>0){r.events={};for(const[t,i]of e.events.entries()){d("Event "+t+" = "+i),r.events[t]={},r.events[t].forms=[];for(const o of i){o.endpointMetadata&&(o.secNamesForEndpoint=n.get(o.endpointMetadata));const i=this.createInteractionForm(o,e.endpointMetadataArray.length>1);r.properties[t].forms.push(i)}}}return JSON.stringify(r)}createEndpointMetadata(e,t,r,n){var i;const o=[];let s=null!==(i=e.base)&&void 0!==i?i:"NO_BASE";if(null==e.base&&e.properties)for(const r in e.properties){const n=e.properties[r],i=this.getFormForProtocol(n,t);if(void 0!==(null==i?void 0:i.href)){const e=l.parseURL(i.href);if(null!=e){e.path=e.params=e.query=e.fragment="",s=l.buildURLFromParts(e);continue}}}o.push({idShort:"base",semanticId:this.createSemanticId("https://www.w3.org/2019/wot/td#baseURI"),valueType:"xs:anyURI",value:s,modelType:"Property"});const a=[];if(null!=e.security)for(const t of e.security)a.push({value:{type:"ModelReference",keys:[{type:"Submodel",value:r},{type:"SubmodelElementCollection",value:n},{type:"SubmodelElementCollection",value:"EndpointMetadata"},{type:"SubmodelElementCollection",value:"securityDefinitions"},{type:"SubmodelElementCollection",value:t}]},modelType:"ReferenceElement"});o.push({idShort:"security",semanticId:this.createSemanticId("https://www.w3.org/2019/wot/td#hasSecurityConfiguration"),typeValueListElement:"ReferenceElement",value:a,modelType:"SubmodelElementList"});const c=[];for(const t in e.securityDefinitions){const r=e.securityDefinitions[t],n=[];n.push({idShort:"scheme",semanticId:this.createSemanticId("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),valueType:"xs:string",value:r.scheme,modelType:"Property"}),null!=r.proxy&&n.push({idShort:"proxy",semanticId:this.createSemanticId("https://www.w3.org/2019/wot/security#proxy"),valueType:"xs:string",value:r.proxy,modelType:"Property"}),null!=r.name&&n.push({idShort:"name",semanticId:this.createSemanticId("https://www.w3.org/2019/wot/security#name"),valueType:"xs:string",value:r.name,modelType:"Property"}),null!=r.in&&n.push({idShort:"in",semanticId:this.createSemanticId("https://www.w3.org/2019/wot/security#in"),valueType:"xs:string",value:r.in,modelType:"Property"}),null!=r.qop&&n.push({idShort:"qop",semanticId:this.createSemanticId("https://www.w3.org/2019/wot/security#qop"),valueType:"xs:string",value:r.qop,modelType:"Property"}),null!=r.authorization&&n.push({idShort:"authorization",semanticId:this.createSemanticId("https://www.w3.org/2019/wot/security#authorization"),valueType:"xs:string",value:r.authorization,modelType:"Property"}),null!=r.alg&&n.push({idShort:"alg",semanticId:this.createSemanticId("https://www.w3.org/2019/wot/security#alg"),valueType:"xs:string",value:r.alg,modelType:"Property"}),null!=r.format&&n.push({idShort:"format",semanticId:this.createSemanticId("https://www.w3.org/2019/wot/security#format"),valueType:"xs:string",value:r.format,modelType:"Property"}),null!=r.identity&&n.push({idShort:"identity",semanticId:this.createSemanticId("https://www.w3.org/2019/wot/security#identity"),valueType:"xs:string",value:r.identity,modelType:"Property"}),null!=r.token&&n.push({idShort:"token",semanticId:this.createSemanticId("https://www.w3.org/2019/wot/security#token"),valueType:"xs:string",value:r.token,modelType:"Property"}),null!=r.refresh&&n.push({idShort:"refresh",semanticId:this.createSemanticId("https://www.w3.org/2019/wot/security#refresh"),valueType:"xs:string",value:r.refresh,modelType:"Property"}),null!=r.scopes&&n.push({idShort:"scopes",semanticId:this.createSemanticId("https://www.w3.org/2019/wot/security#scopes"),valueType:"xs:string",value:r.scopes,modelType:"Property"}),null!=r.flow&&n.push({idShort:"flow",semanticId:this.createSemanticId("https://www.w3.org/2019/wot/security#flow"),valueType:"xs:string",value:r.flow,modelType:"Property"}),c.push({idShort:t,value:n,modelType:"SubmodelElementCollection"})}return o.push({idShort:"securityDefinitions",semanticId:this.createSemanticId("https://www.w3.org/2019/wot/td#definesSecurityScheme"),value:c,modelType:"SubmodelElementCollection"}),{idShort:"EndpointMetadata",semanticId:this.createSemanticId("https://admin-shell.io/idta/AssetInterfacesDescription/1/0/EndpointMetadata"),value:o,modelType:"SubmodelElementCollection"}}getFormForProtocol(e,t){let r;if(e.forms)for(const n of e.forms)if(null!=n.href&&n.href.startsWith(t)){r=n;break}return r}hasOp(e,t){if(null!=e.op){if("string"==typeof e.op&&e.op===t)return!0;if(Array.isArray(e.op)&&e.op.includes(t))return!0}return!1}addRequiredAidTermsForForm(e,t){if(null!=e&&null!=t)if(t.startsWith("http")){const t="htv:methodName";null==e[t]&&(this.hasOp(e,"readproperty")||this.hasOp(e,"readallproperties")||this.hasOp(e,"readmultipleproperties")?e[t]="GET":this.hasOp(e,"writeproperty")||this.hasOp(e,"writeallproperties")||this.hasOp(e,"writemultipleproperties")?e[t]="PUT":this.hasOp(e,"invokeaction")&&(e[t]="POST"))}else if(t.startsWith("modbus")){const t="modbus:function";null==e[t]&&(this.hasOp(e,"writeproperty")||this.hasOp(e,"invokeaction")?e[t]="writeSingleCoil":this.hasOp(e,"readallproperties")||this.hasOp(e,"readmultipleproperties")?e[t]="readHoldingRegisters":(this.hasOp(e,"writeallproperties")||this.hasOp(e,"writemultipleproperties"))&&(e[t]="writeMultipleHoldingRegisters"))}else if(t.startsWith("mqtt")){const t="mqv:controlPacket";null==e[t]&&(this.hasOp(e,"readproperty")||this.hasOp(e,"observeproperty")||this.hasOp(e,"readallproperties")||this.hasOp(e,"readmultipleproperties")||this.hasOp(e,"subscribeevent")?e[t]="subscribe":this.hasOp(e,"writeproperty")||this.hasOp(e,"writeallproperties")||this.hasOp(e,"writemultipleproperties")||this.hasOp(e,"invokeaction")?e[t]="publish":(this.hasOp(e,"unobserveproperty")||this.hasOp(e,"unsubscribeevent"))&&(e[t]="unsubscribe"))}}createInterfaceMetadata(e,t){const r=[];if(t){if(e.properties)for(const n in e.properties){const i=e.properties[n],o=this.getFormForProtocol(i,t);if(void 0===o)continue;const s=[];if(null!=i.type){if(s.push({idShort:"type",semanticId:this.createSemanticId("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),valueType:"xs:string",value:i.type,modelType:"Property"}),null!=i.minimum||null!=i.maximum){const e={idShort:"min_max",semanticId:this.createSemanticId("https://admin-shell.io/idta/AssetInterfacesDescription/1/0/minMaxRange"),supplementalSemanticIds:[],valueType:0==="integer".localeCompare(i.type)?"xs:integer":"xs:double",modelType:"Range"};null!=i.minimum&&(e.min=i.minimum.toString(),e.supplementalSemanticIds.push(this.createSemanticId("https://www.w3.org/2019/wot/json-schema#minimum"))),null!=i.maximum&&(e.max=i.maximum.toString(),e.supplementalSemanticIds.push(this.createSemanticId("https://www.w3.org/2019/wot/json-schema#maximum"))),s.push(e)}if(null!=i.minItems||null!=i.maxItems){const e={idShort:"itemsRange",semanticId:this.createSemanticId("https://admin-shell.io/idta/AssetInterfacesDescription/1/0/itemsRange"),supplementalSemanticIds:[],valueType:"xs:integer",modelType:"Range"};null!=i.minItems&&(e.min=i.minItems.toString(),e.supplementalSemanticIds.push(this.createSemanticId("https://www.w3.org/2019/wot/json-schema#minItems"))),null!=i.maxItems&&(e.max=i.maxItems.toString(),e.supplementalSemanticIds.push(this.createSemanticId("https://www.w3.org/2019/wot/json-schema#maxItems"))),s.push(e)}if(null!=i.minLength||null!=i.maxLength){const e={idShort:"lengthRange",semanticId:this.createSemanticId("https://admin-shell.io/idta/AssetInterfacesDescription/1/0/lengthRange"),supplementalSemanticIds:[],valueType:"xs:integer",modelType:"Range"};null!=i.minLength&&(e.min=i.minLength.toString(),e.supplementalSemanticIds.push(this.createSemanticId("https://www.w3.org/2019/wot/json-schema#minLength"))),null!=i.maxLength&&(e.max=i.maxLength.toString(),e.supplementalSemanticIds.push(this.createSemanticId("https://www.w3.org/2019/wot/json-schema#maxLength"))),s.push(e)}}if(null!=i.title&&s.push({idShort:"title",semanticId:this.createSemanticId("https://www.w3.org/2019/wot/td#title"),valueType:"xs:string",value:i.title,modelType:"Property"}),i.description,null!=i.observable&&!0===i.observable&&s.push({idShort:"observable",semanticId:this.createSemanticId("https://www.w3.org/2019/wot/td#isObservable"),valueType:"xs:boolean",value:`${i.observable}`,modelType:"Property"}),null!=i.contentMediaType&&s.push({idShort:"contentMediaType",semanticId:this.createSemanticId("https://www.w3.org/2019/wot/json-schema#contentMediaType"),valueType:"xs:string",value:i.contentMediaType,modelType:"Property"}),null!=i.const&&s.push({idShort:"const",valueType:"xs:string",value:i.const,modelType:"Property"}),null!=i.default&&s.push({idShort:"default",semanticId:this.createSemanticId("https://www.w3.org/2019/wot/json-schema#default"),valueType:this.getSimpleValueTypeXsd(i.default),value:i.default,modelType:"Property"}),null!=i.unit&&s.push({idShort:"unit",valueType:"xs:string",value:i.unit,modelType:"Property"}),null!=o){const r=[];this.addRequiredAidTermsForForm(o,t);for(let t in o){let n,i=o[t];"href"===t&&null!=e.base&&e.base.length>0&&"string"==typeof i&&i.startsWith(e.base)&&(i=i.substring(e.base.length)),"href"===t?n="https://www.w3.org/2019/wot/hypermedia#hasTarget":"contentType"===t?n="https://www.w3.org/2019/wot/hypermedia#forContentType":"htv:methodName"===t?n="https://www.w3.org/2011/http#methodName":"htv:headers"===t?n="https://www.w3.org/2011/http#headers":"htv:fieldName"===t?n="https://www.w3.org/2011/http#fieldName":"htv:fieldValue"===t?n="https://www.w3.org/2011/http#fieldValue":"modbus:function"===t?n="https://www.w3.org/2019/wot/modbus#Function":"modbus:entity"===t?n="https://www.w3.org/2019/wot/modbus#Entity":"modbus:zeroBasedAddressing"===t?n="https://www.w3.org/2019/wot/modbus#hasZeroBasedAddressingFlag":"modbus:timeout"===t?n="https://www.w3.org/2019/wot/modbus#hasTimeout":"modbus:pollingTime"===t?n="https://www.w3.org/2019/wot/modbus#hasPollingTime":"modbus:type"===t?n="https://www.w3.org/2019/wot/modbus#type":"mqv:retain"===t?n="https://www.w3.org/2019/wot/mqtt#hasRetainFlag":"mqv:controlPacket"===t?n="https://www.w3.org/2019/wot/mqtt#ControlPacket":"mqv:qos"===t&&(n="https://www.w3.org/2019/wot/mqtt#hasQoSFlag"),t=t.replace(":","_"),"string"!=typeof i&&"number"!=typeof i&&"boolean"!=typeof i||void 0!==n&&r.push({idShort:t,semanticId:this.createSemanticId(n),valueType:this.getSimpleValueTypeXsd(i),value:i.toString(),modelType:"Property"})}s.push({idShort:"forms",semanticId:this.createSemanticId("https://www.w3.org/2019/wot/td#hasForm"),value:r,modelType:"SubmodelElementCollection"})}let a;if(i.descriptions){a=[];for(const e in i.descriptions){const t=i.descriptions[e];a.push({language:e,text:t})}}else null!=i.description&&(a=[],a.push({language:"en",text:i.description}));r.push({idShort:n,description:a,semanticId:this.createSemanticId("https://admin-shell.io/idta/AssetInterfaceDescription/1/0/PropertyDefinition"),supplementalSemanticIds:[this.createSemanticId("https://www.w3.org/2019/wot/td#name")],value:s,modelType:"SubmodelElementCollection"})}e.actions,e.events}const n=[];return n.push({idShort:"properties",semanticId:this.createSemanticId("https://www.w3.org/2019/wot/td#PropertyAffordance"),value:r,modelType:"SubmodelElementCollection"}),n.push({idShort:"actions",value:[],modelType:"SubmodelElementCollection"}),n.push({idShort:"events",value:[],modelType:"SubmodelElementCollection"}),{idShort:"InterfaceMetadata",semanticId:this.createSemanticId("https://admin-shell.io/idta/AssetInterfacesDescription/1/0/InterfaceMetadata"),supplementalSemanticIds:[this.createSemanticId("https://www.w3.org/2019/wot/td#InteractionAffordance")],value:n,modelType:"SubmodelElementCollection"}}}},67083:e=>{const{AbortController:t,AbortSignal:r}="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0;e.exports=t,e.exports.AbortSignal=r,e.exports.default=t},11601:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.MissingRefError=t.ValidationError=t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=t.Ajv=void 0;const n=r(65319),i=r(2431),o=r(11672),s=r(33928),a=["/properties"],c="http://json-schema.org/draft-07/schema";class u extends n.default{_addVocabularies(){super._addVocabularies(),i.default.forEach((e=>this.addVocabulary(e))),this.opts.discriminator&&this.addKeyword(o.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const e=this.opts.$data?this.$dataMetaSchema(s,a):s;this.addMetaSchema(e,c,!1),this.refs["http://json-schema.org/schema"]=c}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(c)?c:void 0)}}t.Ajv=u,e.exports=t=u,e.exports.Ajv=u,Object.defineProperty(t,"__esModule",{value:!0}),t.default=u;var l=r(96223);Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return l.KeywordCxt}});var f=r(17898);Object.defineProperty(t,"_",{enumerable:!0,get:function(){return f._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return f.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return f.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return f.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return f.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return f.CodeGen}});var h=r(95031);Object.defineProperty(t,"ValidationError",{enumerable:!0,get:function(){return h.default}});var d=r(85748);Object.defineProperty(t,"MissingRefError",{enumerable:!0,get:function(){return d.default}})},83277:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.regexpCode=t.getEsmExportName=t.getProperty=t.safeStringify=t.stringify=t.strConcat=t.addCodeArg=t.str=t._=t.nil=t._Code=t.Name=t.IDENTIFIER=t._CodeOrName=void 0;class r{}t._CodeOrName=r,t.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class n extends r{constructor(e){if(super(),!t.IDENTIFIER.test(e))throw new Error("CodeGen: name must be a valid identifier");this.str=e}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}t.Name=n;class i extends r{constructor(e){super(),this._items="string"==typeof e?[e]:e}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const e=this._items[0];return""===e||'""'===e}get str(){var e;return null!==(e=this._str)&&void 0!==e?e:this._str=this._items.reduce(((e,t)=>`${e}${t}`),"")}get names(){var e;return null!==(e=this._names)&&void 0!==e?e:this._names=this._items.reduce(((e,t)=>(t instanceof n&&(e[t.str]=(e[t.str]||0)+1),e)),{})}}function o(e,...t){const r=[e[0]];let n=0;for(;n<t.length;)c(r,t[n]),r.push(e[++n]);return new i(r)}t._Code=i,t.nil=new i(""),t._=o;const s=new i("+");function a(e,...t){const r=[l(e[0])];let n=0;for(;n<t.length;)r.push(s),c(r,t[n]),r.push(s,l(e[++n]));return function(e){let t=1;for(;t<e.length-1;){if(e[t]===s){const r=u(e[t-1],e[t+1]);if(void 0!==r){e.splice(t-1,3,r);continue}e[t++]="+"}t++}}(r),new i(r)}function c(e,t){var r;t instanceof i?e.push(...t._items):t instanceof n?e.push(t):e.push("number"==typeof(r=t)||"boolean"==typeof r||null===r?r:l(Array.isArray(r)?r.join(","):r))}function u(e,t){if('""'===t)return e;if('""'===e)return t;if("string"==typeof e){if(t instanceof n||'"'!==e[e.length-1])return;return"string"!=typeof t?`${e.slice(0,-1)}${t}"`:'"'===t[0]?e.slice(0,-1)+t.slice(1):void 0}return"string"!=typeof t||'"'!==t[0]||e instanceof n?void 0:`"${e}${t.slice(1)}`}function l(e){return JSON.stringify(e).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}t.str=a,t.addCodeArg=c,t.strConcat=function(e,t){return t.emptyStr()?e:e.emptyStr()?t:a`${e}${t}`},t.stringify=function(e){return new i(l(e))},t.safeStringify=l,t.getProperty=function(e){return"string"==typeof e&&t.IDENTIFIER.test(e)?new i(`.${e}`):o`[${e}]`},t.getEsmExportName=function(e){if("string"==typeof e&&t.IDENTIFIER.test(e))return new i(`${e}`);throw new Error(`CodeGen: invalid export name: ${e}, use explicit $id name mapping`)},t.regexpCode=function(e){return new i(e.toString())}},17898:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.or=t.and=t.not=t.CodeGen=t.operators=t.varKinds=t.ValueScopeName=t.ValueScope=t.Scope=t.Name=t.regexpCode=t.stringify=t.getProperty=t.nil=t.strConcat=t.str=t._=void 0;const n=r(83277),i=r(76930);var o=r(83277);Object.defineProperty(t,"_",{enumerable:!0,get:function(){return o._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return o.str}}),Object.defineProperty(t,"strConcat",{enumerable:!0,get:function(){return o.strConcat}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return o.nil}}),Object.defineProperty(t,"getProperty",{enumerable:!0,get:function(){return o.getProperty}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return o.stringify}}),Object.defineProperty(t,"regexpCode",{enumerable:!0,get:function(){return o.regexpCode}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return o.Name}});var s=r(76930);Object.defineProperty(t,"Scope",{enumerable:!0,get:function(){return s.Scope}}),Object.defineProperty(t,"ValueScope",{enumerable:!0,get:function(){return s.ValueScope}}),Object.defineProperty(t,"ValueScopeName",{enumerable:!0,get:function(){return s.ValueScopeName}}),Object.defineProperty(t,"varKinds",{enumerable:!0,get:function(){return s.varKinds}}),t.operators={GT:new n._Code(">"),GTE:new n._Code(">="),LT:new n._Code("<"),LTE:new n._Code("<="),EQ:new n._Code("==="),NEQ:new n._Code("!=="),NOT:new n._Code("!"),OR:new n._Code("||"),AND:new n._Code("&&"),ADD:new n._Code("+")};class a{optimizeNodes(){return this}optimizeNames(e,t){return this}}class c extends a{constructor(e,t,r){super(),this.varKind=e,this.name=t,this.rhs=r}render({es5:e,_n:t}){const r=e?i.varKinds.var:this.varKind,n=void 0===this.rhs?"":` = ${this.rhs}`;return`${r} ${this.name}${n};`+t}optimizeNames(e,t){if(e[this.name.str])return this.rhs&&(this.rhs=j(this.rhs,e,t)),this}get names(){return this.rhs instanceof n._CodeOrName?this.rhs.names:{}}}class u extends a{constructor(e,t,r){super(),this.lhs=e,this.rhs=t,this.sideEffects=r}render({_n:e}){return`${this.lhs} = ${this.rhs};`+e}optimizeNames(e,t){if(!(this.lhs instanceof n.Name)||e[this.lhs.str]||this.sideEffects)return this.rhs=j(this.rhs,e,t),this}get names(){return I(this.lhs instanceof n.Name?{}:{...this.lhs.names},this.rhs)}}class l extends u{constructor(e,t,r,n){super(e,r,n),this.op=t}render({_n:e}){return`${this.lhs} ${this.op}= ${this.rhs};`+e}}class f extends a{constructor(e){super(),this.label=e,this.names={}}render({_n:e}){return`${this.label}:`+e}}class h extends a{constructor(e){super(),this.label=e,this.names={}}render({_n:e}){return`break${this.label?` ${this.label}`:""};`+e}}class d extends a{constructor(e){super(),this.error=e}render({_n:e}){return`throw ${this.error};`+e}get names(){return this.error.names}}class p extends a{constructor(e){super(),this.code=e}render({_n:e}){return`${this.code};`+e}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(e,t){return this.code=j(this.code,e,t),this}get names(){return this.code instanceof n._CodeOrName?this.code.names:{}}}class y extends a{constructor(e=[]){super(),this.nodes=e}render(e){return this.nodes.reduce(((t,r)=>t+r.render(e)),"")}optimizeNodes(){const{nodes:e}=this;let t=e.length;for(;t--;){const r=e[t].optimizeNodes();Array.isArray(r)?e.splice(t,1,...r):r?e[t]=r:e.splice(t,1)}return e.length>0?this:void 0}optimizeNames(e,t){const{nodes:r}=this;let n=r.length;for(;n--;){const i=r[n];i.optimizeNames(e,t)||(R(e,i.names),r.splice(n,1))}return r.length>0?this:void 0}get names(){return this.nodes.reduce(((e,t)=>P(e,t.names)),{})}}class b extends y{render(e){return"{"+e._n+super.render(e)+"}"+e._n}}class m extends y{}class v extends b{}v.kind="else";class g extends b{constructor(e,t){super(t),this.condition=e}render(e){let t=`if(${this.condition})`+super.render(e);return this.else&&(t+="else "+this.else.render(e)),t}optimizeNodes(){super.optimizeNodes();const e=this.condition;if(!0===e)return this.nodes;let t=this.else;if(t){const e=t.optimizeNodes();t=this.else=Array.isArray(e)?new v(e):e}return t?!1===e?t instanceof g?t:t.nodes:this.nodes.length?this:new g(k(e),t instanceof g?[t]:t.nodes):!1!==e&&this.nodes.length?this:void 0}optimizeNames(e,t){var r;if(this.else=null===(r=this.else)||void 0===r?void 0:r.optimizeNames(e,t),super.optimizeNames(e,t)||this.else)return this.condition=j(this.condition,e,t),this}get names(){const e=super.names;return I(e,this.condition),this.else&&P(e,this.else.names),e}}g.kind="if";class w extends b{}w.kind="for";class _ extends w{constructor(e){super(),this.iteration=e}render(e){return`for(${this.iteration})`+super.render(e)}optimizeNames(e,t){if(super.optimizeNames(e,t))return this.iteration=j(this.iteration,e,t),this}get names(){return P(super.names,this.iteration.names)}}class S extends w{constructor(e,t,r,n){super(),this.varKind=e,this.name=t,this.from=r,this.to=n}render(e){const t=e.es5?i.varKinds.var:this.varKind,{name:r,from:n,to:o}=this;return`for(${t} ${r}=${n}; ${r}<${o}; ${r}++)`+super.render(e)}get names(){const e=I(super.names,this.from);return I(e,this.to)}}class E extends w{constructor(e,t,r,n){super(),this.loop=e,this.varKind=t,this.name=r,this.iterable=n}render(e){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(e)}optimizeNames(e,t){if(super.optimizeNames(e,t))return this.iterable=j(this.iterable,e,t),this}get names(){return P(super.names,this.iterable.names)}}class T extends b{constructor(e,t,r){super(),this.name=e,this.args=t,this.async=r}render(e){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(e)}}T.kind="func";class O extends y{render(e){return"return "+super.render(e)}}O.kind="return";class x extends b{render(e){let t="try"+super.render(e);return this.catch&&(t+=this.catch.render(e)),this.finally&&(t+=this.finally.render(e)),t}optimizeNodes(){var e,t;return super.optimizeNodes(),null===(e=this.catch)||void 0===e||e.optimizeNodes(),null===(t=this.finally)||void 0===t||t.optimizeNodes(),this}optimizeNames(e,t){var r,n;return super.optimizeNames(e,t),null===(r=this.catch)||void 0===r||r.optimizeNames(e,t),null===(n=this.finally)||void 0===n||n.optimizeNames(e,t),this}get names(){const e=super.names;return this.catch&&P(e,this.catch.names),this.finally&&P(e,this.finally.names),e}}class A extends b{constructor(e){super(),this.error=e}render(e){return`catch(${this.error})`+super.render(e)}}A.kind="catch";class M extends b{render(e){return"finally"+super.render(e)}}function P(e,t){for(const r in t)e[r]=(e[r]||0)+(t[r]||0);return e}function I(e,t){return t instanceof n._CodeOrName?P(e,t.names):e}function j(e,t,r){return e instanceof n.Name?o(e):(i=e)instanceof n._Code&&i._items.some((e=>e instanceof n.Name&&1===t[e.str]&&void 0!==r[e.str]))?new n._Code(e._items.reduce(((e,t)=>(t instanceof n.Name&&(t=o(t)),t instanceof n._Code?e.push(...t._items):e.push(t),e)),[])):e;var i;function o(e){const n=r[e.str];return void 0===n||1!==t[e.str]?e:(delete t[e.str],n)}}function R(e,t){for(const r in t)e[r]=(e[r]||0)-(t[r]||0)}function k(e){return"boolean"==typeof e||"number"==typeof e||null===e?!e:n._`!${L(e)}`}M.kind="finally",t.CodeGen=class{constructor(e,t={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...t,_n:t.lines?"\n":""},this._extScope=e,this._scope=new i.Scope({parent:e}),this._nodes=[new m]}toString(){return this._root.render(this.opts)}name(e){return this._scope.name(e)}scopeName(e){return this._extScope.name(e)}scopeValue(e,t){const r=this._extScope.value(e,t);return(this._values[r.prefix]||(this._values[r.prefix]=new Set)).add(r),r}getScopeValue(e,t){return this._extScope.getValue(e,t)}scopeRefs(e){return this._extScope.scopeRefs(e,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(e,t,r,n){const i=this._scope.toName(t);return void 0!==r&&n&&(this._constants[i.str]=r),this._leafNode(new c(e,i,r)),i}const(e,t,r){return this._def(i.varKinds.const,e,t,r)}let(e,t,r){return this._def(i.varKinds.let,e,t,r)}var(e,t,r){return this._def(i.varKinds.var,e,t,r)}assign(e,t,r){return this._leafNode(new u(e,t,r))}add(e,r){return this._leafNode(new l(e,t.operators.ADD,r))}code(e){return"function"==typeof e?e():e!==n.nil&&this._leafNode(new p(e)),this}object(...e){const t=["{"];for(const[r,i]of e)t.length>1&&t.push(","),t.push(r),(r!==i||this.opts.es5)&&(t.push(":"),(0,n.addCodeArg)(t,i));return t.push("}"),new n._Code(t)}if(e,t,r){if(this._blockNode(new g(e)),t&&r)this.code(t).else().code(r).endIf();else if(t)this.code(t).endIf();else if(r)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(e){return this._elseNode(new g(e))}else(){return this._elseNode(new v)}endIf(){return this._endBlockNode(g,v)}_for(e,t){return this._blockNode(e),t&&this.code(t).endFor(),this}for(e,t){return this._for(new _(e),t)}forRange(e,t,r,n,o=(this.opts.es5?i.varKinds.var:i.varKinds.let)){const s=this._scope.toName(e);return this._for(new S(o,s,t,r),(()=>n(s)))}forOf(e,t,r,o=i.varKinds.const){const s=this._scope.toName(e);if(this.opts.es5){const e=t instanceof n.Name?t:this.var("_arr",t);return this.forRange("_i",0,n._`${e}.length`,(t=>{this.var(s,n._`${e}[${t}]`),r(s)}))}return this._for(new E("of",o,s,t),(()=>r(s)))}forIn(e,t,r,o=(this.opts.es5?i.varKinds.var:i.varKinds.const)){if(this.opts.ownProperties)return this.forOf(e,n._`Object.keys(${t})`,r);const s=this._scope.toName(e);return this._for(new E("in",o,s,t),(()=>r(s)))}endFor(){return this._endBlockNode(w)}label(e){return this._leafNode(new f(e))}break(e){return this._leafNode(new h(e))}return(e){const t=new O;if(this._blockNode(t),this.code(e),1!==t.nodes.length)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(O)}try(e,t,r){if(!t&&!r)throw new Error('CodeGen: "try" without "catch" and "finally"');const n=new x;if(this._blockNode(n),this.code(e),t){const e=this.name("e");this._currNode=n.catch=new A(e),t(e)}return r&&(this._currNode=n.finally=new M,this.code(r)),this._endBlockNode(A,M)}throw(e){return this._leafNode(new d(e))}block(e,t){return this._blockStarts.push(this._nodes.length),e&&this.code(e).endBlock(t),this}endBlock(e){const t=this._blockStarts.pop();if(void 0===t)throw new Error("CodeGen: not in self-balancing block");const r=this._nodes.length-t;if(r<0||void 0!==e&&r!==e)throw new Error(`CodeGen: wrong number of nodes: ${r} vs ${e} expected`);return this._nodes.length=t,this}func(e,t=n.nil,r,i){return this._blockNode(new T(e,t,r)),i&&this.code(i).endFunc(),this}endFunc(){return this._endBlockNode(T)}optimize(e=1){for(;e-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(e){return this._currNode.nodes.push(e),this}_blockNode(e){this._currNode.nodes.push(e),this._nodes.push(e)}_endBlockNode(e,t){const r=this._currNode;if(r instanceof e||t&&r instanceof t)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${t?`${e.kind}/${t.kind}`:e.kind}"`)}_elseNode(e){const t=this._currNode;if(!(t instanceof g))throw new Error('CodeGen: "else" without "if"');return this._currNode=t.else=e,this}get _root(){return this._nodes[0]}get _currNode(){const e=this._nodes;return e[e.length-1]}set _currNode(e){const t=this._nodes;t[t.length-1]=e}},t.not=k;const C=N(t.operators.AND);t.and=function(...e){return e.reduce(C)};const $=N(t.operators.OR);function N(e){return(t,r)=>t===n.nil?r:r===n.nil?t:n._`${L(t)} ${e} ${L(r)}`}function L(e){return e instanceof n.Name?e:n._`(${e})`}t.or=function(...e){return e.reduce($)}},76930:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ValueScope=t.ValueScopeName=t.Scope=t.varKinds=t.UsedValueState=void 0;const n=r(83277);class i extends Error{constructor(e){super(`CodeGen: "code" for ${e} not defined`),this.value=e.value}}var o;!function(e){e[e.Started=0]="Started",e[e.Completed=1]="Completed"}(o||(t.UsedValueState=o={})),t.varKinds={const:new n.Name("const"),let:new n.Name("let"),var:new n.Name("var")};class s{constructor({prefixes:e,parent:t}={}){this._names={},this._prefixes=e,this._parent=t}toName(e){return e instanceof n.Name?e:this.name(e)}name(e){return new n.Name(this._newName(e))}_newName(e){return`${e}${(this._names[e]||this._nameGroup(e)).index++}`}_nameGroup(e){var t,r;if((null===(r=null===(t=this._parent)||void 0===t?void 0:t._prefixes)||void 0===r?void 0:r.has(e))||this._prefixes&&!this._prefixes.has(e))throw new Error(`CodeGen: prefix "${e}" is not allowed in this scope`);return this._names[e]={prefix:e,index:0}}}t.Scope=s;class a extends n.Name{constructor(e,t){super(t),this.prefix=e}setValue(e,{property:t,itemIndex:r}){this.value=e,this.scopePath=n._`.${new n.Name(t)}[${r}]`}}t.ValueScopeName=a;const c=n._`\n`;t.ValueScope=class extends s{constructor(e){super(e),this._values={},this._scope=e.scope,this.opts={...e,_n:e.lines?c:n.nil}}get(){return this._scope}name(e){return new a(e,this._newName(e))}value(e,t){var r;if(void 0===t.ref)throw new Error("CodeGen: ref must be passed in value");const n=this.toName(e),{prefix:i}=n,o=null!==(r=t.key)&&void 0!==r?r:t.ref;let s=this._values[i];if(s){const e=s.get(o);if(e)return e}else s=this._values[i]=new Map;s.set(o,n);const a=this._scope[i]||(this._scope[i]=[]),c=a.length;return a[c]=t.ref,n.setValue(t,{property:i,itemIndex:c}),n}getValue(e,t){const r=this._values[e];if(r)return r.get(t)}scopeRefs(e,t=this._values){return this._reduceValues(t,(t=>{if(void 0===t.scopePath)throw new Error(`CodeGen: name "${t}" has no value`);return n._`${e}${t.scopePath}`}))}scopeCode(e=this._values,t,r){return this._reduceValues(e,(e=>{if(void 0===e.value)throw new Error(`CodeGen: name "${e}" has no value`);return e.value.code}),t,r)}_reduceValues(e,r,s={},a){let c=n.nil;for(const u in e){const l=e[u];if(!l)continue;const f=s[u]=s[u]||new Map;l.forEach((e=>{if(f.has(e))return;f.set(e,o.Started);let s=r(e);if(s){const r=this.opts.es5?t.varKinds.var:t.varKinds.const;c=n._`${c}${r} ${e} = ${s};${this.opts._n}`}else{if(!(s=null==a?void 0:a(e)))throw new i(e);c=n._`${c}${s}${this.opts._n}`}f.set(e,o.Completed)}))}return c}}},49409:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.extendErrors=t.resetErrorsCount=t.reportExtraError=t.reportError=t.keyword$DataError=t.keywordError=void 0;const n=r(17898),i=r(50458),o=r(63036);function s(e,t){const r=e.const("err",t);e.if(n._`${o.default.vErrors} === null`,(()=>e.assign(o.default.vErrors,n._`[${r}]`)),n._`${o.default.vErrors}.push(${r})`),e.code(n._`${o.default.errors}++`)}function a(e,t){const{gen:r,validateName:i,schemaEnv:o}=e;o.$async?r.throw(n._`new ${e.ValidationError}(${t})`):(r.assign(n._`${i}.errors`,t),r.return(!1))}t.keywordError={message:({keyword:e})=>n.str`must pass "${e}" keyword validation`},t.keyword$DataError={message:({keyword:e,schemaType:t})=>t?n.str`"${e}" keyword must be ${t} ($data)`:n.str`"${e}" keyword is invalid ($data)`},t.reportError=function(e,r=t.keywordError,i,o){const{it:c}=e,{gen:l,compositeRule:f,allErrors:h}=c,d=u(e,r,i);(null!=o?o:f||h)?s(l,d):a(c,n._`[${d}]`)},t.reportExtraError=function(e,r=t.keywordError,n){const{it:i}=e,{gen:c,compositeRule:l,allErrors:f}=i;s(c,u(e,r,n)),l||f||a(i,o.default.vErrors)},t.resetErrorsCount=function(e,t){e.assign(o.default.errors,t),e.if(n._`${o.default.vErrors} !== null`,(()=>e.if(t,(()=>e.assign(n._`${o.default.vErrors}.length`,t)),(()=>e.assign(o.default.vErrors,null)))))},t.extendErrors=function({gen:e,keyword:t,schemaValue:r,data:i,errsCount:s,it:a}){if(void 0===s)throw new Error("ajv implementation error");const c=e.name("err");e.forRange("i",s,o.default.errors,(s=>{e.const(c,n._`${o.default.vErrors}[${s}]`),e.if(n._`${c}.instancePath === undefined`,(()=>e.assign(n._`${c}.instancePath`,(0,n.strConcat)(o.default.instancePath,a.errorPath)))),e.assign(n._`${c}.schemaPath`,n.str`${a.errSchemaPath}/${t}`),a.opts.verbose&&(e.assign(n._`${c}.schema`,r),e.assign(n._`${c}.data`,i))}))};const c={keyword:new n.Name("keyword"),schemaPath:new n.Name("schemaPath"),params:new n.Name("params"),propertyName:new n.Name("propertyName"),message:new n.Name("message"),schema:new n.Name("schema"),parentSchema:new n.Name("parentSchema")};function u(e,t,r){const{createErrors:i}=e.it;return!1===i?n._`{}`:function(e,t,r={}){const{gen:i,it:s}=e,a=[l(s,r),f(e,r)];return function(e,{params:t,message:r},i){const{keyword:s,data:a,schemaValue:u,it:l}=e,{opts:f,propertyName:h,topSchemaRef:d,schemaPath:p}=l;i.push([c.keyword,s],[c.params,"function"==typeof t?t(e):t||n._`{}`]),f.messages&&i.push([c.message,"function"==typeof r?r(e):r]),f.verbose&&i.push([c.schema,u],[c.parentSchema,n._`${d}${p}`],[o.default.data,a]),h&&i.push([c.propertyName,h])}(e,t,a),i.object(...a)}(e,t,r)}function l({errorPath:e},{instancePath:t}){const r=t?n.str`${e}${(0,i.getErrorPath)(t,i.Type.Str)}`:e;return[o.default.instancePath,(0,n.strConcat)(o.default.instancePath,r)]}function f({keyword:e,it:{errSchemaPath:t}},{schemaPath:r,parentSchema:o}){let s=o?t:n.str`${t}/${e}`;return r&&(s=n.str`${s}${(0,i.getErrorPath)(r,i.Type.Str)}`),[c.schemaPath,s]}},49392:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.resolveSchema=t.getCompilingSchema=t.resolveRef=t.compileSchema=t.SchemaEnv=void 0;const n=r(17898),i=r(95031),o=r(63036),s=r(14856),a=r(50458),c=r(96223);class u{constructor(e){var t;let r;this.refs={},this.dynamicAnchors={},"object"==typeof e.schema&&(r=e.schema),this.schema=e.schema,this.schemaId=e.schemaId,this.root=e.root||this,this.baseId=null!==(t=e.baseId)&&void 0!==t?t:(0,s.normalizeId)(null==r?void 0:r[e.schemaId||"$id"]),this.schemaPath=e.schemaPath,this.localRefs=e.localRefs,this.meta=e.meta,this.$async=null==r?void 0:r.$async,this.refs={}}}function l(e){const t=h.call(this,e);if(t)return t;const r=(0,s.getFullPath)(this.opts.uriResolver,e.root.baseId),{es5:a,lines:u}=this.opts.code,{ownProperties:l}=this.opts,f=new n.CodeGen(this.scope,{es5:a,lines:u,ownProperties:l});let d;e.$async&&(d=f.scopeValue("Error",{ref:i.default,code:n._`require("ajv/dist/runtime/validation_error").default`}));const p=f.scopeName("validate");e.validateName=p;const y={gen:f,allErrors:this.opts.allErrors,data:o.default.data,parentData:o.default.parentData,parentDataProperty:o.default.parentDataProperty,dataNames:[o.default.data],dataPathArr:[n.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:f.scopeValue("schema",!0===this.opts.code.source?{ref:e.schema,code:(0,n.stringify)(e.schema)}:{ref:e.schema}),validateName:p,ValidationError:d,schema:e.schema,schemaEnv:e,rootId:r,baseId:e.baseId||r,schemaPath:n.nil,errSchemaPath:e.schemaPath||(this.opts.jtd?"":"#"),errorPath:n._`""`,opts:this.opts,self:this};let b;try{this._compilations.add(e),(0,c.validateFunctionCode)(y),f.optimize(this.opts.code.optimize);const t=f.toString();b=`${f.scopeRefs(o.default.scope)}return ${t}`,this.opts.code.process&&(b=this.opts.code.process(b,e));const r=new Function(`${o.default.self}`,`${o.default.scope}`,b)(this,this.scope.get());if(this.scope.value(p,{ref:r}),r.errors=null,r.schema=e.schema,r.schemaEnv=e,e.$async&&(r.$async=!0),!0===this.opts.code.source&&(r.source={validateName:p,validateCode:t,scopeValues:f._values}),this.opts.unevaluated){const{props:e,items:t}=y;r.evaluated={props:e instanceof n.Name?void 0:e,items:t instanceof n.Name?void 0:t,dynamicProps:e instanceof n.Name,dynamicItems:t instanceof n.Name},r.source&&(r.source.evaluated=(0,n.stringify)(r.evaluated))}return e.validate=r,e}catch(t){throw delete e.validate,delete e.validateName,b&&this.logger.error("Error compiling schema, function code:",b),t}finally{this._compilations.delete(e)}}function f(e){return(0,s.inlineRef)(e.schema,this.opts.inlineRefs)?e.schema:e.validate?e:l.call(this,e)}function h(e){for(const n of this._compilations)if(r=e,(t=n).schema===r.schema&&t.root===r.root&&t.baseId===r.baseId)return n;var t,r}function d(e,t){let r;for(;"string"==typeof(r=this.refs[t]);)t=r;return r||this.schemas[t]||p.call(this,e,t)}function p(e,t){const r=this.opts.uriResolver.parse(t),n=(0,s._getFullPath)(this.opts.uriResolver,r);let i=(0,s.getFullPath)(this.opts.uriResolver,e.baseId,void 0);if(Object.keys(e.schema).length>0&&n===i)return b.call(this,r,e);const o=(0,s.normalizeId)(n),a=this.refs[o]||this.schemas[o];if("string"==typeof a){const t=p.call(this,e,a);if("object"!=typeof(null==t?void 0:t.schema))return;return b.call(this,r,t)}if("object"==typeof(null==a?void 0:a.schema)){if(a.validate||l.call(this,a),o===(0,s.normalizeId)(t)){const{schema:t}=a,{schemaId:r}=this.opts,n=t[r];return n&&(i=(0,s.resolveUrl)(this.opts.uriResolver,i,n)),new u({schema:t,schemaId:r,root:e,baseId:i})}return b.call(this,r,a)}}t.SchemaEnv=u,t.compileSchema=l,t.resolveRef=function(e,t,r){var n;r=(0,s.resolveUrl)(this.opts.uriResolver,t,r);const i=e.refs[r];if(i)return i;let o=d.call(this,e,r);if(void 0===o){const i=null===(n=e.localRefs)||void 0===n?void 0:n[r],{schemaId:s}=this.opts;i&&(o=new u({schema:i,schemaId:s,root:e,baseId:t}))}return void 0!==o?e.refs[r]=f.call(this,o):void 0},t.getCompilingSchema=h,t.resolveSchema=p;const y=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function b(e,{baseId:t,schema:r,root:n}){var i;if("/"!==(null===(i=e.fragment)||void 0===i?void 0:i[0]))return;for(const n of e.fragment.slice(1).split("/")){if("boolean"==typeof r)return;const e=r[(0,a.unescapeFragment)(n)];if(void 0===e)return;const i="object"==typeof(r=e)&&r[this.opts.schemaId];!y.has(n)&&i&&(t=(0,s.resolveUrl)(this.opts.uriResolver,t,i))}let o;if("boolean"!=typeof r&&r.$ref&&!(0,a.schemaHasRulesButRef)(r,this.RULES)){const e=(0,s.resolveUrl)(this.opts.uriResolver,t,r.$ref);o=p.call(this,n,e)}const{schemaId:c}=this.opts;return o=o||new u({schema:r,schemaId:c,root:n,baseId:t}),o.schema!==o.root.schema?o:void 0}},63036:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(17898),i={data:new n.Name("data"),valCxt:new n.Name("valCxt"),instancePath:new n.Name("instancePath"),parentData:new n.Name("parentData"),parentDataProperty:new n.Name("parentDataProperty"),rootData:new n.Name("rootData"),dynamicAnchors:new n.Name("dynamicAnchors"),vErrors:new n.Name("vErrors"),errors:new n.Name("errors"),this:new n.Name("this"),self:new n.Name("self"),scope:new n.Name("scope"),json:new n.Name("json"),jsonPos:new n.Name("jsonPos"),jsonLen:new n.Name("jsonLen"),jsonPart:new n.Name("jsonPart")};t.default=i},85748:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(14856);class i extends Error{constructor(e,t,r,i){super(i||`can't resolve reference ${r} from id ${t}`),this.missingRef=(0,n.resolveUrl)(e,t,r),this.missingSchema=(0,n.normalizeId)((0,n.getFullPath)(e,this.missingRef))}}t.default=i},14856:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getSchemaRefs=t.resolveUrl=t.normalizeId=t._getFullPath=t.getFullPath=t.inlineRef=void 0;const n=r(50458),i=r(38792),o=r(67614),s=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);t.inlineRef=function(e,t=!0){return"boolean"==typeof e||(!0===t?!c(e):!!t&&u(e)<=t)};const a=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function c(e){for(const t in e){if(a.has(t))return!0;const r=e[t];if(Array.isArray(r)&&r.some(c))return!0;if("object"==typeof r&&c(r))return!0}return!1}function u(e){let t=0;for(const r in e){if("$ref"===r)return 1/0;if(t++,!s.has(r)&&("object"==typeof e[r]&&(0,n.eachItem)(e[r],(e=>t+=u(e))),t===1/0))return 1/0}return t}function l(e,t="",r){!1!==r&&(t=d(t));const n=e.parse(t);return f(e,n)}function f(e,t){return e.serialize(t).split("#")[0]+"#"}t.getFullPath=l,t._getFullPath=f;const h=/#\/?$/;function d(e){return e?e.replace(h,""):""}t.normalizeId=d,t.resolveUrl=function(e,t,r){return r=d(r),e.resolve(t,r)};const p=/^[a-z_][-a-z0-9._]*$/i;t.getSchemaRefs=function(e,t){if("boolean"==typeof e)return{};const{schemaId:r,uriResolver:n}=this.opts,s=d(e[r]||t),a={"":s},c=l(n,s,!1),u={},f=new Set;return o(e,{allKeys:!0},((e,t,n,i)=>{if(void 0===i)return;const o=c+t;let s=a[i];function l(t){const r=this.opts.uriResolver.resolve;if(t=d(s?r(s,t):t),f.has(t))throw y(t);f.add(t);let n=this.refs[t];return"string"==typeof n&&(n=this.refs[n]),"object"==typeof n?h(e,n.schema,t):t!==d(o)&&("#"===t[0]?(h(e,u[t],t),u[t]=e):this.refs[t]=o),t}function b(e){if("string"==typeof e){if(!p.test(e))throw new Error(`invalid anchor "${e}"`);l.call(this,`#${e}`)}}"string"==typeof e[r]&&(s=l.call(this,e[r])),b.call(this,e.$anchor),b.call(this,e.$dynamicAnchor),a[t]=s})),u;function h(e,t,r){if(void 0!==t&&!i(e,t))throw y(r)}function y(e){return new Error(`reference "${e}" resolves to more than one schema`)}}},90383:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getRules=t.isJSONType=void 0;const r=new Set(["string","number","integer","boolean","null","object","array"]);t.isJSONType=function(e){return"string"==typeof e&&r.has(e)},t.getRules=function(){const e={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...e,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},e.number,e.string,e.array,e.object],post:{rules:[]},all:{},keywords:{}}}},50458:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.checkStrictMode=t.getErrorPath=t.Type=t.useFunc=t.setEvaluated=t.evaluatedPropsToName=t.mergeEvaluated=t.eachItem=t.unescapeJsonPointer=t.escapeJsonPointer=t.escapeFragment=t.unescapeFragment=t.schemaRefOrVal=t.schemaHasRulesButRef=t.schemaHasRules=t.checkUnknownRules=t.alwaysValidSchema=t.toHash=void 0;const n=r(17898),i=r(83277);function o(e,t=e.schema){const{opts:r,self:n}=e;if(!r.strictSchema)return;if("boolean"==typeof t)return;const i=n.RULES.keywords;for(const r in t)i[r]||p(e,`unknown keyword: "${r}"`)}function s(e,t){if("boolean"==typeof e)return!e;for(const r in e)if(t[r])return!0;return!1}function a(e){return"number"==typeof e?`${e}`:e.replace(/~/g,"~0").replace(/\//g,"~1")}function c(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function u({mergeNames:e,mergeToName:t,mergeValues:r,resultToName:i}){return(o,s,a,c)=>{const u=void 0===a?s:a instanceof n.Name?(s instanceof n.Name?e(o,s,a):t(o,s,a),a):s instanceof n.Name?(t(o,a,s),s):r(s,a);return c!==n.Name||u instanceof n.Name?u:i(o,u)}}function l(e,t){if(!0===t)return e.var("props",!0);const r=e.var("props",n._`{}`);return void 0!==t&&f(e,r,t),r}function f(e,t,r){Object.keys(r).forEach((r=>e.assign(n._`${t}${(0,n.getProperty)(r)}`,!0)))}t.toHash=function(e){const t={};for(const r of e)t[r]=!0;return t},t.alwaysValidSchema=function(e,t){return"boolean"==typeof t?t:0===Object.keys(t).length||(o(e,t),!s(t,e.self.RULES.all))},t.checkUnknownRules=o,t.schemaHasRules=s,t.schemaHasRulesButRef=function(e,t){if("boolean"==typeof e)return!e;for(const r in e)if("$ref"!==r&&t.all[r])return!0;return!1},t.schemaRefOrVal=function({topSchemaRef:e,schemaPath:t},r,i,o){if(!o){if("number"==typeof r||"boolean"==typeof r)return r;if("string"==typeof r)return n._`${r}`}return n._`${e}${t}${(0,n.getProperty)(i)}`},t.unescapeFragment=function(e){return c(decodeURIComponent(e))},t.escapeFragment=function(e){return encodeURIComponent(a(e))},t.escapeJsonPointer=a,t.unescapeJsonPointer=c,t.eachItem=function(e,t){if(Array.isArray(e))for(const r of e)t(r);else t(e)},t.mergeEvaluated={props:u({mergeNames:(e,t,r)=>e.if(n._`${r} !== true && ${t} !== undefined`,(()=>{e.if(n._`${t} === true`,(()=>e.assign(r,!0)),(()=>e.assign(r,n._`${r} || {}`).code(n._`Object.assign(${r}, ${t})`)))})),mergeToName:(e,t,r)=>e.if(n._`${r} !== true`,(()=>{!0===t?e.assign(r,!0):(e.assign(r,n._`${r} || {}`),f(e,r,t))})),mergeValues:(e,t)=>!0===e||{...e,...t},resultToName:l}),items:u({mergeNames:(e,t,r)=>e.if(n._`${r} !== true && ${t} !== undefined`,(()=>e.assign(r,n._`${t} === true ? true : ${r} > ${t} ? ${r} : ${t}`))),mergeToName:(e,t,r)=>e.if(n._`${r} !== true`,(()=>e.assign(r,!0===t||n._`${r} > ${t} ? ${r} : ${t}`))),mergeValues:(e,t)=>!0===e||Math.max(e,t),resultToName:(e,t)=>e.var("items",t)})},t.evaluatedPropsToName=l,t.setEvaluated=f;const h={};var d;function p(e,t,r=e.opts.strictSchema){if(r){if(t=`strict mode: ${t}`,!0===r)throw new Error(t);e.self.logger.warn(t)}}t.useFunc=function(e,t){return e.scopeValue("func",{ref:t,code:h[t.code]||(h[t.code]=new i._Code(t.code))})},function(e){e[e.Num=0]="Num",e[e.Str=1]="Str"}(d||(t.Type=d={})),t.getErrorPath=function(e,t,r){if(e instanceof n.Name){const i=t===d.Num;return r?i?n._`"[" + ${e} + "]"`:n._`"['" + ${e} + "']"`:i?n._`"/" + ${e}`:n._`"/" + ${e}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return r?(0,n.getProperty)(e).toString():"/"+a(e)},t.checkStrictMode=p},74758:(e,t)=>{function r(e,t){return t.rules.some((t=>n(e,t)))}function n(e,t){var r;return void 0!==e[t.keyword]||(null===(r=t.definition.implements)||void 0===r?void 0:r.some((t=>void 0!==e[t])))}Object.defineProperty(t,"__esModule",{value:!0}),t.shouldUseRule=t.shouldUseGroup=t.schemaHasRulesForType=void 0,t.schemaHasRulesForType=function({schema:e,self:t},n){const i=t.RULES.types[n];return i&&!0!==i&&r(e,i)},t.shouldUseGroup=r,t.shouldUseRule=n},15948:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.boolOrEmptySchema=t.topBoolOrEmptySchema=void 0;const n=r(49409),i=r(17898),o=r(63036),s={message:"boolean schema is false"};function a(e,t){const{gen:r,data:i}=e,o={gen:r,keyword:"false schema",data:i,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:e};(0,n.reportError)(o,s,void 0,t)}t.topBoolOrEmptySchema=function(e){const{gen:t,schema:r,validateName:n}=e;!1===r?a(e,!1):"object"==typeof r&&!0===r.$async?t.return(o.default.data):(t.assign(i._`${n}.errors`,null),t.return(!0))},t.boolOrEmptySchema=function(e,t){const{gen:r,schema:n}=e;!1===n?(r.var(t,!1),a(e)):r.var(t,!0)}},69003:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.reportTypeError=t.checkDataTypes=t.checkDataType=t.coerceAndCheckDataType=t.getJSONTypes=t.getSchemaTypes=t.DataType=void 0;const n=r(90383),i=r(74758),o=r(49409),s=r(17898),a=r(50458);var c;function u(e){const t=Array.isArray(e)?e:e?[e]:[];if(t.every(n.isJSONType))return t;throw new Error("type must be JSONType or JSONType[]: "+t.join(","))}!function(e){e[e.Correct=0]="Correct",e[e.Wrong=1]="Wrong"}(c||(t.DataType=c={})),t.getSchemaTypes=function(e){const t=u(e.type);if(t.includes("null")){if(!1===e.nullable)throw new Error("type: null contradicts nullable: false")}else{if(!t.length&&void 0!==e.nullable)throw new Error('"nullable" cannot be used without "type"');!0===e.nullable&&t.push("null")}return t},t.getJSONTypes=u,t.coerceAndCheckDataType=function(e,t){const{gen:r,data:n,opts:o}=e,a=function(e,t){return t?e.filter((e=>l.has(e)||"array"===t&&"array"===e)):[]}(t,o.coerceTypes),u=t.length>0&&!(0===a.length&&1===t.length&&(0,i.schemaHasRulesForType)(e,t[0]));if(u){const i=h(t,n,o.strictNumbers,c.Wrong);r.if(i,(()=>{a.length?function(e,t,r){const{gen:n,data:i,opts:o}=e,a=n.let("dataType",s._`typeof ${i}`),c=n.let("coerced",s._`undefined`);"array"===o.coerceTypes&&n.if(s._`${a} == 'object' && Array.isArray(${i}) && ${i}.length == 1`,(()=>n.assign(i,s._`${i}[0]`).assign(a,s._`typeof ${i}`).if(h(t,i,o.strictNumbers),(()=>n.assign(c,i))))),n.if(s._`${c} !== undefined`);for(const e of r)(l.has(e)||"array"===e&&"array"===o.coerceTypes)&&u(e);function u(e){switch(e){case"string":return void n.elseIf(s._`${a} == "number" || ${a} == "boolean"`).assign(c,s._`"" + ${i}`).elseIf(s._`${i} === null`).assign(c,s._`""`);case"number":return void n.elseIf(s._`${a} == "boolean" || ${i} === null
              || (${a} == "string" && ${i} && ${i} == +${i})`).assign(c,s._`+${i}`);case"integer":return void n.elseIf(s._`${a} === "boolean" || ${i} === null
              || (${a} === "string" && ${i} && ${i} == +${i} && !(${i} % 1))`).assign(c,s._`+${i}`);case"boolean":return void n.elseIf(s._`${i} === "false" || ${i} === 0 || ${i} === null`).assign(c,!1).elseIf(s._`${i} === "true" || ${i} === 1`).assign(c,!0);case"null":return n.elseIf(s._`${i} === "" || ${i} === 0 || ${i} === false`),void n.assign(c,null);case"array":n.elseIf(s._`${a} === "string" || ${a} === "number"
              || ${a} === "boolean" || ${i} === null`).assign(c,s._`[${i}]`)}}n.else(),p(e),n.endIf(),n.if(s._`${c} !== undefined`,(()=>{n.assign(i,c),function({gen:e,parentData:t,parentDataProperty:r},n){e.if(s._`${t} !== undefined`,(()=>e.assign(s._`${t}[${r}]`,n)))}(e,c)}))}(e,t,a):p(e)}))}return u};const l=new Set(["string","number","integer","boolean","null"]);function f(e,t,r,n=c.Correct){const i=n===c.Correct?s.operators.EQ:s.operators.NEQ;let o;switch(e){case"null":return s._`${t} ${i} null`;case"array":o=s._`Array.isArray(${t})`;break;case"object":o=s._`${t} && typeof ${t} == "object" && !Array.isArray(${t})`;break;case"integer":o=a(s._`!(${t} % 1) && !isNaN(${t})`);break;case"number":o=a();break;default:return s._`typeof ${t} ${i} ${e}`}return n===c.Correct?o:(0,s.not)(o);function a(e=s.nil){return(0,s.and)(s._`typeof ${t} == "number"`,e,r?s._`isFinite(${t})`:s.nil)}}function h(e,t,r,n){if(1===e.length)return f(e[0],t,r,n);let i;const o=(0,a.toHash)(e);if(o.array&&o.object){const e=s._`typeof ${t} != "object"`;i=o.null?e:s._`!${t} || ${e}`,delete o.null,delete o.array,delete o.object}else i=s.nil;o.number&&delete o.integer;for(const e in o)i=(0,s.and)(i,f(e,t,r,n));return i}t.checkDataType=f,t.checkDataTypes=h;const d={message:({schema:e})=>`must be ${e}`,params:({schema:e,schemaValue:t})=>"string"==typeof e?s._`{type: ${e}}`:s._`{type: ${t}}`};function p(e){const t=function(e){const{gen:t,data:r,schema:n}=e,i=(0,a.schemaRefOrVal)(e,n,"type");return{gen:t,keyword:"type",data:r,schema:n.type,schemaCode:i,schemaValue:i,parentSchema:n,params:{},it:e}}(e);(0,o.reportError)(t,d)}t.reportTypeError=p},96841:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.assignDefaults=void 0;const n=r(17898),i=r(50458);function o(e,t,r){const{gen:o,compositeRule:s,data:a,opts:c}=e;if(void 0===r)return;const u=n._`${a}${(0,n.getProperty)(t)}`;if(s)return void(0,i.checkStrictMode)(e,`default is ignored for: ${u}`);let l=n._`${u} === undefined`;"empty"===c.useDefaults&&(l=n._`${l} || ${u} === null || ${u} === ""`),o.if(l,n._`${u} = ${(0,n.stringify)(r)}`)}t.assignDefaults=function(e,t){const{properties:r,items:n}=e.schema;if("object"===t&&r)for(const t in r)o(e,t,r[t].default);else"array"===t&&Array.isArray(n)&&n.forEach(((t,r)=>o(e,r,t.default)))}},96223:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getData=t.KeywordCxt=t.validateFunctionCode=void 0;const n=r(15948),i=r(69003),o=r(74758),s=r(69003),a=r(96841),c=r(49348),u=r(53322),l=r(17898),f=r(63036),h=r(14856),d=r(50458),p=r(49409);function y({gen:e,validateName:t,schema:r,schemaEnv:n,opts:i},o){i.code.es5?e.func(t,l._`${f.default.data}, ${f.default.valCxt}`,n.$async,(()=>{e.code(l._`"use strict"; ${b(r,i)}`),function(e,t){e.if(f.default.valCxt,(()=>{e.var(f.default.instancePath,l._`${f.default.valCxt}.${f.default.instancePath}`),e.var(f.default.parentData,l._`${f.default.valCxt}.${f.default.parentData}`),e.var(f.default.parentDataProperty,l._`${f.default.valCxt}.${f.default.parentDataProperty}`),e.var(f.default.rootData,l._`${f.default.valCxt}.${f.default.rootData}`),t.dynamicRef&&e.var(f.default.dynamicAnchors,l._`${f.default.valCxt}.${f.default.dynamicAnchors}`)}),(()=>{e.var(f.default.instancePath,l._`""`),e.var(f.default.parentData,l._`undefined`),e.var(f.default.parentDataProperty,l._`undefined`),e.var(f.default.rootData,f.default.data),t.dynamicRef&&e.var(f.default.dynamicAnchors,l._`{}`)}))}(e,i),e.code(o)})):e.func(t,l._`${f.default.data}, ${function(e){return l._`{${f.default.instancePath}="", ${f.default.parentData}, ${f.default.parentDataProperty}, ${f.default.rootData}=${f.default.data}${e.dynamicRef?l._`, ${f.default.dynamicAnchors}={}`:l.nil}}={}`}(i)}`,n.$async,(()=>e.code(b(r,i)).code(o)))}function b(e,t){const r="object"==typeof e&&e[t.schemaId];return r&&(t.code.source||t.code.process)?l._`/*# sourceURL=${r} */`:l.nil}function m({schema:e,self:t}){if("boolean"==typeof e)return!e;for(const r in e)if(t.RULES.all[r])return!0;return!1}function v(e){return"boolean"!=typeof e.schema}function g(e){(0,d.checkUnknownRules)(e),function(e){const{schema:t,errSchemaPath:r,opts:n,self:i}=e;t.$ref&&n.ignoreKeywordsWithRef&&(0,d.schemaHasRulesButRef)(t,i.RULES)&&i.logger.warn(`$ref: keywords ignored in schema at path "${r}"`)}(e)}function w(e,t){if(e.opts.jtd)return S(e,[],!1,t);const r=(0,i.getSchemaTypes)(e.schema);S(e,r,!(0,i.coerceAndCheckDataType)(e,r),t)}function _({gen:e,schemaEnv:t,schema:r,errSchemaPath:n,opts:i}){const o=r.$comment;if(!0===i.$comment)e.code(l._`${f.default.self}.logger.log(${o})`);else if("function"==typeof i.$comment){const r=l.str`${n}/$comment`,i=e.scopeValue("root",{ref:t.root});e.code(l._`${f.default.self}.opts.$comment(${o}, ${r}, ${i}.schema)`)}}function S(e,t,r,n){const{gen:i,schema:a,data:c,allErrors:u,opts:h,self:p}=e,{RULES:y}=p;function b(d){(0,o.shouldUseGroup)(a,d)&&(d.type?(i.if((0,s.checkDataType)(d.type,c,h.strictNumbers)),E(e,d),1===t.length&&t[0]===d.type&&r&&(i.else(),(0,s.reportTypeError)(e)),i.endIf()):E(e,d),u||i.if(l._`${f.default.errors} === ${n||0}`))}!a.$ref||!h.ignoreKeywordsWithRef&&(0,d.schemaHasRulesButRef)(a,y)?(h.jtd||function(e,t){!e.schemaEnv.meta&&e.opts.strictTypes&&(function(e,t){t.length&&(e.dataTypes.length?(t.forEach((t=>{T(e.dataTypes,t)||O(e,`type "${t}" not allowed by context "${e.dataTypes.join(",")}"`)})),function(e,t){const r=[];for(const n of e.dataTypes)T(t,n)?r.push(n):t.includes("integer")&&"number"===n&&r.push("integer");e.dataTypes=r}(e,t)):e.dataTypes=t)}(e,t),e.opts.allowUnionTypes||function(e,t){t.length>1&&(2!==t.length||!t.includes("null"))&&O(e,"use allowUnionTypes to allow union type keyword")}(e,t),function(e,t){const r=e.self.RULES.all;for(const n in r){const i=r[n];if("object"==typeof i&&(0,o.shouldUseRule)(e.schema,i)){const{type:r}=i.definition;r.length&&!r.some((e=>{return n=e,(r=t).includes(n)||"number"===n&&r.includes("integer");var r,n}))&&O(e,`missing type "${r.join(",")}" for keyword "${n}"`)}}}(e,e.dataTypes))}(e,t),i.block((()=>{for(const e of y.rules)b(e);b(y.post)}))):i.block((()=>A(e,"$ref",y.all.$ref.definition)))}function E(e,t){const{gen:r,schema:n,opts:{useDefaults:i}}=e;i&&(0,a.assignDefaults)(e,t.type),r.block((()=>{for(const r of t.rules)(0,o.shouldUseRule)(n,r)&&A(e,r.keyword,r.definition,t.type)}))}function T(e,t){return e.includes(t)||"integer"===t&&e.includes("number")}function O(e,t){t+=` at "${e.schemaEnv.baseId+e.errSchemaPath}" (strictTypes)`,(0,d.checkStrictMode)(e,t,e.opts.strictTypes)}t.validateFunctionCode=function(e){v(e)&&(g(e),m(e))?function(e){const{schema:t,opts:r,gen:n}=e;y(e,(()=>{r.$comment&&t.$comment&&_(e),function(e){const{schema:t,opts:r}=e;void 0!==t.default&&r.useDefaults&&r.strictSchema&&(0,d.checkStrictMode)(e,"default is ignored in the schema root")}(e),n.let(f.default.vErrors,null),n.let(f.default.errors,0),r.unevaluated&&function(e){const{gen:t,validateName:r}=e;e.evaluated=t.const("evaluated",l._`${r}.evaluated`),t.if(l._`${e.evaluated}.dynamicProps`,(()=>t.assign(l._`${e.evaluated}.props`,l._`undefined`))),t.if(l._`${e.evaluated}.dynamicItems`,(()=>t.assign(l._`${e.evaluated}.items`,l._`undefined`)))}(e),w(e),function(e){const{gen:t,schemaEnv:r,validateName:n,ValidationError:i,opts:o}=e;r.$async?t.if(l._`${f.default.errors} === 0`,(()=>t.return(f.default.data)),(()=>t.throw(l._`new ${i}(${f.default.vErrors})`))):(t.assign(l._`${n}.errors`,f.default.vErrors),o.unevaluated&&function({gen:e,evaluated:t,props:r,items:n}){r instanceof l.Name&&e.assign(l._`${t}.props`,r),n instanceof l.Name&&e.assign(l._`${t}.items`,n)}(e),t.return(l._`${f.default.errors} === 0`))}(e)}))}(e):y(e,(()=>(0,n.topBoolOrEmptySchema)(e)))};class x{constructor(e,t,r){if((0,c.validateKeywordUsage)(e,t,r),this.gen=e.gen,this.allErrors=e.allErrors,this.keyword=r,this.data=e.data,this.schema=e.schema[r],this.$data=t.$data&&e.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,d.schemaRefOrVal)(e,this.schema,r,this.$data),this.schemaType=t.schemaType,this.parentSchema=e.schema,this.params={},this.it=e,this.def=t,this.$data)this.schemaCode=e.gen.const("vSchema",I(this.$data,e));else if(this.schemaCode=this.schemaValue,!(0,c.validSchemaType)(this.schema,t.schemaType,t.allowUndefined))throw new Error(`${r} value must be ${JSON.stringify(t.schemaType)}`);("code"in t?t.trackErrors:!1!==t.errors)&&(this.errsCount=e.gen.const("_errs",f.default.errors))}result(e,t,r){this.failResult((0,l.not)(e),t,r)}failResult(e,t,r){this.gen.if(e),r?r():this.error(),t?(this.gen.else(),t(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(e,t){this.failResult((0,l.not)(e),void 0,t)}fail(e){if(void 0===e)return this.error(),void(this.allErrors||this.gen.if(!1));this.gen.if(e),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(e){if(!this.$data)return this.fail(e);const{schemaCode:t}=this;this.fail(l._`${t} !== undefined && (${(0,l.or)(this.invalid$data(),e)})`)}error(e,t,r){if(t)return this.setParams(t),this._error(e,r),void this.setParams({});this._error(e,r)}_error(e,t){(e?p.reportExtraError:p.reportError)(this,this.def.error,t)}$dataError(){(0,p.reportError)(this,this.def.$dataError||p.keyword$DataError)}reset(){if(void 0===this.errsCount)throw new Error('add "trackErrors" to keyword definition');(0,p.resetErrorsCount)(this.gen,this.errsCount)}ok(e){this.allErrors||this.gen.if(e)}setParams(e,t){t?Object.assign(this.params,e):this.params=e}block$data(e,t,r=l.nil){this.gen.block((()=>{this.check$data(e,r),t()}))}check$data(e=l.nil,t=l.nil){if(!this.$data)return;const{gen:r,schemaCode:n,schemaType:i,def:o}=this;r.if((0,l.or)(l._`${n} === undefined`,t)),e!==l.nil&&r.assign(e,!0),(i.length||o.validateSchema)&&(r.elseIf(this.invalid$data()),this.$dataError(),e!==l.nil&&r.assign(e,!1)),r.else()}invalid$data(){const{gen:e,schemaCode:t,schemaType:r,def:n,it:i}=this;return(0,l.or)(function(){if(r.length){if(!(t instanceof l.Name))throw new Error("ajv implementation error");const e=Array.isArray(r)?r:[r];return l._`${(0,s.checkDataTypes)(e,t,i.opts.strictNumbers,s.DataType.Wrong)}`}return l.nil}(),function(){if(n.validateSchema){const r=e.scopeValue("validate$data",{ref:n.validateSchema});return l._`!${r}(${t})`}return l.nil}())}subschema(e,t){const r=(0,u.getSubschema)(this.it,e);(0,u.extendSubschemaData)(r,this.it,e),(0,u.extendSubschemaMode)(r,e);const i={...this.it,...r,items:void 0,props:void 0};return function(e,t){v(e)&&(g(e),m(e))?function(e,t){const{schema:r,gen:n,opts:i}=e;i.$comment&&r.$comment&&_(e),function(e){const t=e.schema[e.opts.schemaId];t&&(e.baseId=(0,h.resolveUrl)(e.opts.uriResolver,e.baseId,t))}(e),function(e){if(e.schema.$async&&!e.schemaEnv.$async)throw new Error("async schema in sync schema")}(e);const o=n.const("_errs",f.default.errors);w(e,o),n.var(t,l._`${o} === ${f.default.errors}`)}(e,t):(0,n.boolOrEmptySchema)(e,t)}(i,t),i}mergeEvaluated(e,t){const{it:r,gen:n}=this;r.opts.unevaluated&&(!0!==r.props&&void 0!==e.props&&(r.props=d.mergeEvaluated.props(n,e.props,r.props,t)),!0!==r.items&&void 0!==e.items&&(r.items=d.mergeEvaluated.items(n,e.items,r.items,t)))}mergeValidEvaluated(e,t){const{it:r,gen:n}=this;if(r.opts.unevaluated&&(!0!==r.props||!0!==r.items))return n.if(t,(()=>this.mergeEvaluated(e,l.Name))),!0}}function A(e,t,r,n){const i=new x(e,r,t);"code"in r?r.code(i,n):i.$data&&r.validate?(0,c.funcKeywordCode)(i,r):"macro"in r?(0,c.macroKeywordCode)(i,r):(r.compile||r.validate)&&(0,c.funcKeywordCode)(i,r)}t.KeywordCxt=x;const M=/^\/(?:[^~]|~0|~1)*$/,P=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function I(e,{dataLevel:t,dataNames:r,dataPathArr:n}){let i,o;if(""===e)return f.default.rootData;if("/"===e[0]){if(!M.test(e))throw new Error(`Invalid JSON-pointer: ${e}`);i=e,o=f.default.rootData}else{const s=P.exec(e);if(!s)throw new Error(`Invalid JSON-pointer: ${e}`);const a=+s[1];if(i=s[2],"#"===i){if(a>=t)throw new Error(c("property/index",a));return n[t-a]}if(a>t)throw new Error(c("data",a));if(o=r[t-a],!i)return o}let s=o;const a=i.split("/");for(const e of a)e&&(o=l._`${o}${(0,l.getProperty)((0,d.unescapeJsonPointer)(e))}`,s=l._`${s} && ${o}`);return s;function c(e,r){return`Cannot access ${e} ${r} levels up, current level is ${t}`}}t.getData=I},49348:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.validateKeywordUsage=t.validSchemaType=t.funcKeywordCode=t.macroKeywordCode=void 0;const n=r(17898),i=r(63036),o=r(94450),s=r(49409);function a(e){const{gen:t,data:r,it:i}=e;t.if(i.parentData,(()=>t.assign(r,n._`${i.parentData}[${i.parentDataProperty}]`)))}function c(e,t,r){if(void 0===r)throw new Error(`keyword "${t}" failed to compile`);return e.scopeValue("keyword","function"==typeof r?{ref:r}:{ref:r,code:(0,n.stringify)(r)})}t.macroKeywordCode=function(e,t){const{gen:r,keyword:i,schema:o,parentSchema:s,it:a}=e,u=t.macro.call(a.self,o,s,a),l=c(r,i,u);!1!==a.opts.validateSchema&&a.self.validateSchema(u,!0);const f=r.name("valid");e.subschema({schema:u,schemaPath:n.nil,errSchemaPath:`${a.errSchemaPath}/${i}`,topSchemaRef:l,compositeRule:!0},f),e.pass(f,(()=>e.error(!0)))},t.funcKeywordCode=function(e,t){var r;const{gen:u,keyword:l,schema:f,parentSchema:h,$data:d,it:p}=e;!function({schemaEnv:e},t){if(t.async&&!e.$async)throw new Error("async keyword in sync schema")}(p,t);const y=!d&&t.compile?t.compile.call(p.self,f,h,p):t.validate,b=c(u,l,y),m=u.let("valid");function v(r=(t.async?n._`await `:n.nil)){const s=p.opts.passContext?i.default.this:i.default.self,a=!("compile"in t&&!d||!1===t.schema);u.assign(m,n._`${r}${(0,o.callValidateCode)(e,b,s,a)}`,t.modifying)}function g(e){var r;u.if((0,n.not)(null!==(r=t.valid)&&void 0!==r?r:m),e)}e.block$data(m,(function(){if(!1===t.errors)v(),t.modifying&&a(e),g((()=>e.error()));else{const r=t.async?function(){const e=u.let("ruleErrs",null);return u.try((()=>v(n._`await `)),(t=>u.assign(m,!1).if(n._`${t} instanceof ${p.ValidationError}`,(()=>u.assign(e,n._`${t}.errors`)),(()=>u.throw(t))))),e}():function(){const e=n._`${b}.errors`;return u.assign(e,null),v(n.nil),e}();t.modifying&&a(e),g((()=>function(e,t){const{gen:r}=e;r.if(n._`Array.isArray(${t})`,(()=>{r.assign(i.default.vErrors,n._`${i.default.vErrors} === null ? ${t} : ${i.default.vErrors}.concat(${t})`).assign(i.default.errors,n._`${i.default.vErrors}.length`),(0,s.extendErrors)(e)}),(()=>e.error()))}(e,r)))}})),e.ok(null!==(r=t.valid)&&void 0!==r?r:m)},t.validSchemaType=function(e,t,r=!1){return!t.length||t.some((t=>"array"===t?Array.isArray(e):"object"===t?e&&"object"==typeof e&&!Array.isArray(e):typeof e==t||r&&void 0===e))},t.validateKeywordUsage=function({schema:e,opts:t,self:r,errSchemaPath:n},i,o){if(Array.isArray(i.keyword)?!i.keyword.includes(o):i.keyword!==o)throw new Error("ajv implementation error");const s=i.dependencies;if(null==s?void 0:s.some((t=>!Object.prototype.hasOwnProperty.call(e,t))))throw new Error(`parent schema must have dependencies of ${o}: ${s.join(",")}`);if(i.validateSchema&&!i.validateSchema(e[o])){const e=`keyword "${o}" value is invalid at path "${n}": `+r.errorsText(i.validateSchema.errors);if("log"!==t.validateSchema)throw new Error(e);r.logger.error(e)}}},53322:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.extendSubschemaMode=t.extendSubschemaData=t.getSubschema=void 0;const n=r(17898),i=r(50458);t.getSubschema=function(e,{keyword:t,schemaProp:r,schema:o,schemaPath:s,errSchemaPath:a,topSchemaRef:c}){if(void 0!==t&&void 0!==o)throw new Error('both "keyword" and "schema" passed, only one allowed');if(void 0!==t){const o=e.schema[t];return void 0===r?{schema:o,schemaPath:n._`${e.schemaPath}${(0,n.getProperty)(t)}`,errSchemaPath:`${e.errSchemaPath}/${t}`}:{schema:o[r],schemaPath:n._`${e.schemaPath}${(0,n.getProperty)(t)}${(0,n.getProperty)(r)}`,errSchemaPath:`${e.errSchemaPath}/${t}/${(0,i.escapeFragment)(r)}`}}if(void 0!==o){if(void 0===s||void 0===a||void 0===c)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:o,schemaPath:s,topSchemaRef:c,errSchemaPath:a}}throw new Error('either "keyword" or "schema" must be passed')},t.extendSubschemaData=function(e,t,{dataProp:r,dataPropType:o,data:s,dataTypes:a,propertyName:c}){if(void 0!==s&&void 0!==r)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:u}=t;if(void 0!==r){const{errorPath:s,dataPathArr:a,opts:c}=t;l(u.let("data",n._`${t.data}${(0,n.getProperty)(r)}`,!0)),e.errorPath=n.str`${s}${(0,i.getErrorPath)(r,o,c.jsPropertySyntax)}`,e.parentDataProperty=n._`${r}`,e.dataPathArr=[...a,e.parentDataProperty]}function l(r){e.data=r,e.dataLevel=t.dataLevel+1,e.dataTypes=[],t.definedProperties=new Set,e.parentData=t.data,e.dataNames=[...t.dataNames,r]}void 0!==s&&(l(s instanceof n.Name?s:u.let("data",s,!0)),void 0!==c&&(e.propertyName=c)),a&&(e.dataTypes=a)},t.extendSubschemaMode=function(e,{jtdDiscriminator:t,jtdMetadata:r,compositeRule:n,createErrors:i,allErrors:o}){void 0!==n&&(e.compositeRule=n),void 0!==i&&(e.createErrors=i),void 0!==o&&(e.allErrors=o),e.jtdDiscriminator=t,e.jtdMetadata=r}},65319:(e,t,r)=>{var n=r(4364);Object.defineProperty(t,"__esModule",{value:!0}),t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=void 0;var i=r(96223);Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return i.KeywordCxt}});var o=r(17898);Object.defineProperty(t,"_",{enumerable:!0,get:function(){return o._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return o.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return o.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return o.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return o.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return o.CodeGen}});const s=r(95031),a=r(85748),c=r(90383),u=r(49392),l=r(17898),f=r(14856),h=r(69003),d=r(50458),p=r(93770),y=r(7903),b=(e,t)=>new RegExp(e,t);b.code="new RegExp";const m=["removeAdditional","useDefaults","coerceTypes"],v=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),g={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},w={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'};function _(e){var t,r,n,i,o,s,a,c,u,l,f,h,d,p,m,v,g,w,_,S,E,T,O,x,A;const M=e.strict,P=null===(t=e.code)||void 0===t?void 0:t.optimize,I=!0===P||void 0===P?1:P||0,j=null!==(n=null===(r=e.code)||void 0===r?void 0:r.regExp)&&void 0!==n?n:b,R=null!==(i=e.uriResolver)&&void 0!==i?i:y.default;return{strictSchema:null===(s=null!==(o=e.strictSchema)&&void 0!==o?o:M)||void 0===s||s,strictNumbers:null===(c=null!==(a=e.strictNumbers)&&void 0!==a?a:M)||void 0===c||c,strictTypes:null!==(l=null!==(u=e.strictTypes)&&void 0!==u?u:M)&&void 0!==l?l:"log",strictTuples:null!==(h=null!==(f=e.strictTuples)&&void 0!==f?f:M)&&void 0!==h?h:"log",strictRequired:null!==(p=null!==(d=e.strictRequired)&&void 0!==d?d:M)&&void 0!==p&&p,code:e.code?{...e.code,optimize:I,regExp:j}:{optimize:I,regExp:j},loopRequired:null!==(m=e.loopRequired)&&void 0!==m?m:200,loopEnum:null!==(v=e.loopEnum)&&void 0!==v?v:200,meta:null===(g=e.meta)||void 0===g||g,messages:null===(w=e.messages)||void 0===w||w,inlineRefs:null===(_=e.inlineRefs)||void 0===_||_,schemaId:null!==(S=e.schemaId)&&void 0!==S?S:"$id",addUsedSchema:null===(E=e.addUsedSchema)||void 0===E||E,validateSchema:null===(T=e.validateSchema)||void 0===T||T,validateFormats:null===(O=e.validateFormats)||void 0===O||O,unicodeRegExp:null===(x=e.unicodeRegExp)||void 0===x||x,int32range:null===(A=e.int32range)||void 0===A||A,uriResolver:R}}class S{constructor(e={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,e=this.opts={...e,..._(e)};const{es5:t,lines:r}=this.opts.code;this.scope=new l.ValueScope({scope:{},prefixes:v,es5:t,lines:r}),this.logger=function(e){if(!1===e)return P;if(void 0===e)return n;if(e.log&&e.warn&&e.error)return e;throw new Error("logger must implement log, warn and error methods")}(e.logger);const i=e.validateFormats;e.validateFormats=!1,this.RULES=(0,c.getRules)(),E.call(this,g,e,"NOT SUPPORTED"),E.call(this,w,e,"DEPRECATED","warn"),this._metaOpts=M.call(this),e.formats&&x.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),e.keywords&&A.call(this,e.keywords),"object"==typeof e.meta&&this.addMetaSchema(e.meta),O.call(this),e.validateFormats=i}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:e,meta:t,schemaId:r}=this.opts;let n=p;"id"===r&&(n={...p},n.id=n.$id,delete n.$id),t&&e&&this.addMetaSchema(n,n[r],!1)}defaultMeta(){const{meta:e,schemaId:t}=this.opts;return this.opts.defaultMeta="object"==typeof e?e[t]||e:void 0}validate(e,t){let r;if("string"==typeof e){if(r=this.getSchema(e),!r)throw new Error(`no schema with key or ref "${e}"`)}else r=this.compile(e);const n=r(t);return"$async"in r||(this.errors=r.errors),n}compile(e,t){const r=this._addSchema(e,t);return r.validate||this._compileSchemaEnv(r)}compileAsync(e,t){if("function"!=typeof this.opts.loadSchema)throw new Error("options.loadSchema should be a function");const{loadSchema:r}=this.opts;return n.call(this,e,t);async function n(e,t){await i.call(this,e.$schema);const r=this._addSchema(e,t);return r.validate||o.call(this,r)}async function i(e){e&&!this.getSchema(e)&&await n.call(this,{$ref:e},!0)}async function o(e){try{return this._compileSchemaEnv(e)}catch(t){if(!(t instanceof a.default))throw t;return s.call(this,t),await c.call(this,t.missingSchema),o.call(this,e)}}function s({missingSchema:e,missingRef:t}){if(this.refs[e])throw new Error(`AnySchema ${e} is loaded but ${t} cannot be resolved`)}async function c(e){const r=await u.call(this,e);this.refs[e]||await i.call(this,r.$schema),this.refs[e]||this.addSchema(r,e,t)}async function u(e){const t=this._loading[e];if(t)return t;try{return await(this._loading[e]=r(e))}finally{delete this._loading[e]}}}addSchema(e,t,r,n=this.opts.validateSchema){if(Array.isArray(e)){for(const t of e)this.addSchema(t,void 0,r,n);return this}let i;if("object"==typeof e){const{schemaId:t}=this.opts;if(i=e[t],void 0!==i&&"string"!=typeof i)throw new Error(`schema ${t} must be string`)}return t=(0,f.normalizeId)(t||i),this._checkUnique(t),this.schemas[t]=this._addSchema(e,r,t,n,!0),this}addMetaSchema(e,t,r=this.opts.validateSchema){return this.addSchema(e,t,!0,r),this}validateSchema(e,t){if("boolean"==typeof e)return!0;let r;if(r=e.$schema,void 0!==r&&"string"!=typeof r)throw new Error("$schema must be a string");if(r=r||this.opts.defaultMeta||this.defaultMeta(),!r)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const n=this.validate(r,e);if(!n&&t){const e="schema is invalid: "+this.errorsText();if("log"!==this.opts.validateSchema)throw new Error(e);this.logger.error(e)}return n}getSchema(e){let t;for(;"string"==typeof(t=T.call(this,e));)e=t;if(void 0===t){const{schemaId:r}=this.opts,n=new u.SchemaEnv({schema:{},schemaId:r});if(t=u.resolveSchema.call(this,n,e),!t)return;this.refs[e]=t}return t.validate||this._compileSchemaEnv(t)}removeSchema(e){if(e instanceof RegExp)return this._removeAllSchemas(this.schemas,e),this._removeAllSchemas(this.refs,e),this;switch(typeof e){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const t=T.call(this,e);return"object"==typeof t&&this._cache.delete(t.schema),delete this.schemas[e],delete this.refs[e],this}case"object":{const t=e;this._cache.delete(t);let r=e[this.opts.schemaId];return r&&(r=(0,f.normalizeId)(r),delete this.schemas[r],delete this.refs[r]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(e){for(const t of e)this.addKeyword(t);return this}addKeyword(e,t){let r;if("string"==typeof e)r=e,"object"==typeof t&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),t.keyword=r);else{if("object"!=typeof e||void 0!==t)throw new Error("invalid addKeywords parameters");if(r=(t=e).keyword,Array.isArray(r)&&!r.length)throw new Error("addKeywords: keyword must be string or non-empty array")}if(j.call(this,r,t),!t)return(0,d.eachItem)(r,(e=>R.call(this,e))),this;C.call(this,t);const n={...t,type:(0,h.getJSONTypes)(t.type),schemaType:(0,h.getJSONTypes)(t.schemaType)};return(0,d.eachItem)(r,0===n.type.length?e=>R.call(this,e,n):e=>n.type.forEach((t=>R.call(this,e,n,t)))),this}getKeyword(e){const t=this.RULES.all[e];return"object"==typeof t?t.definition:!!t}removeKeyword(e){const{RULES:t}=this;delete t.keywords[e],delete t.all[e];for(const r of t.rules){const t=r.rules.findIndex((t=>t.keyword===e));t>=0&&r.rules.splice(t,1)}return this}addFormat(e,t){return"string"==typeof t&&(t=new RegExp(t)),this.formats[e]=t,this}errorsText(e=this.errors,{separator:t=", ",dataVar:r="data"}={}){return e&&0!==e.length?e.map((e=>`${r}${e.instancePath} ${e.message}`)).reduce(((e,r)=>e+t+r)):"No errors"}$dataMetaSchema(e,t){const r=this.RULES.all;e=JSON.parse(JSON.stringify(e));for(const n of t){const t=n.split("/").slice(1);let i=e;for(const e of t)i=i[e];for(const e in r){const t=r[e];if("object"!=typeof t)continue;const{$data:n}=t.definition,o=i[e];n&&o&&(i[e]=N(o))}}return e}_removeAllSchemas(e,t){for(const r in e){const n=e[r];t&&!t.test(r)||("string"==typeof n?delete e[r]:n&&!n.meta&&(this._cache.delete(n.schema),delete e[r]))}}_addSchema(e,t,r,n=this.opts.validateSchema,i=this.opts.addUsedSchema){let o;const{schemaId:s}=this.opts;if("object"==typeof e)o=e[s];else{if(this.opts.jtd)throw new Error("schema must be object");if("boolean"!=typeof e)throw new Error("schema must be object or boolean")}let a=this._cache.get(e);if(void 0!==a)return a;r=(0,f.normalizeId)(o||r);const c=f.getSchemaRefs.call(this,e,r);return a=new u.SchemaEnv({schema:e,schemaId:s,meta:t,baseId:r,localRefs:c}),this._cache.set(a.schema,a),i&&!r.startsWith("#")&&(r&&this._checkUnique(r),this.refs[r]=a),n&&this.validateSchema(e,!0),a}_checkUnique(e){if(this.schemas[e]||this.refs[e])throw new Error(`schema with key or id "${e}" already exists`)}_compileSchemaEnv(e){if(e.meta?this._compileMetaSchema(e):u.compileSchema.call(this,e),!e.validate)throw new Error("ajv implementation error");return e.validate}_compileMetaSchema(e){const t=this.opts;this.opts=this._metaOpts;try{u.compileSchema.call(this,e)}finally{this.opts=t}}}function E(e,t,r,n="error"){for(const i in e){const o=i;o in t&&this.logger[n](`${r}: option ${i}. ${e[o]}`)}}function T(e){return e=(0,f.normalizeId)(e),this.schemas[e]||this.refs[e]}function O(){const e=this.opts.schemas;if(e)if(Array.isArray(e))this.addSchema(e);else for(const t in e)this.addSchema(e[t],t)}function x(){for(const e in this.opts.formats){const t=this.opts.formats[e];t&&this.addFormat(e,t)}}function A(e){if(Array.isArray(e))this.addVocabulary(e);else{this.logger.warn("keywords option as map is deprecated, pass array");for(const t in e){const r=e[t];r.keyword||(r.keyword=t),this.addKeyword(r)}}}function M(){const e={...this.opts};for(const t of m)delete e[t];return e}S.ValidationError=s.default,S.MissingRefError=a.default,t.default=S;const P={log(){},warn(){},error(){}},I=/^[a-z_$][a-z0-9_$:-]*$/i;function j(e,t){const{RULES:r}=this;if((0,d.eachItem)(e,(e=>{if(r.keywords[e])throw new Error(`Keyword ${e} is already defined`);if(!I.test(e))throw new Error(`Keyword ${e} has invalid name`)})),t&&t.$data&&!("code"in t)&&!("validate"in t))throw new Error('$data keyword must have "code" or "validate" function')}function R(e,t,r){var n;const i=null==t?void 0:t.post;if(r&&i)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:o}=this;let s=i?o.post:o.rules.find((({type:e})=>e===r));if(s||(s={type:r,rules:[]},o.rules.push(s)),o.keywords[e]=!0,!t)return;const a={keyword:e,definition:{...t,type:(0,h.getJSONTypes)(t.type),schemaType:(0,h.getJSONTypes)(t.schemaType)}};t.before?k.call(this,s,a,t.before):s.rules.push(a),o.all[e]=a,null===(n=t.implements)||void 0===n||n.forEach((e=>this.addKeyword(e)))}function k(e,t,r){const n=e.rules.findIndex((e=>e.keyword===r));n>=0?e.rules.splice(n,0,t):(e.rules.push(t),this.logger.warn(`rule ${r} is not defined`))}function C(e){let{metaSchema:t}=e;void 0!==t&&(e.$data&&this.opts.$data&&(t=N(t)),e.validateSchema=this.compile(t,!0))}const $={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function N(e){return{anyOf:[e,$]}}},72725:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(38792);n.code='require("ajv/dist/runtime/equal").default',t.default=n},26308:(e,t)=>{function r(e){const t=e.length;let r,n=0,i=0;for(;i<t;)n++,r=e.charCodeAt(i++),r>=55296&&r<=56319&&i<t&&(r=e.charCodeAt(i),56320==(64512&r)&&i++);return n}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r,r.code='require("ajv/dist/runtime/ucs2length").default'},7903:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(2862);n.code='require("ajv/dist/runtime/uri").default',t.default=n},95031:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});class r extends Error{constructor(e){super("validation failed"),this.errors=e,this.ajv=this.validation=!0}}t.default=r},93426:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.validateAdditionalItems=void 0;const n=r(17898),i=r(50458),o={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:{message:({params:{len:e}})=>n.str`must NOT have more than ${e} items`,params:({params:{len:e}})=>n._`{limit: ${e}}`},code(e){const{parentSchema:t,it:r}=e,{items:n}=t;Array.isArray(n)?s(e,n):(0,i.checkStrictMode)(r,'"additionalItems" is ignored when "items" is not an array of schemas')}};function s(e,t){const{gen:r,schema:o,data:s,keyword:a,it:c}=e;c.items=!0;const u=r.const("len",n._`${s}.length`);if(!1===o)e.setParams({len:t.length}),e.pass(n._`${u} <= ${t.length}`);else if("object"==typeof o&&!(0,i.alwaysValidSchema)(c,o)){const o=r.var("valid",n._`${u} <= ${t.length}`);r.if((0,n.not)(o),(()=>function(o){r.forRange("i",t.length,u,(t=>{e.subschema({keyword:a,dataProp:t,dataPropType:i.Type.Num},o),c.allErrors||r.if((0,n.not)(o),(()=>r.break()))}))}(o))),e.ok(o)}}t.validateAdditionalItems=s,t.default=o},92697:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(94450),i=r(17898),o=r(63036),s=r(50458),a={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:{message:"must NOT have additional properties",params:({params:e})=>i._`{additionalProperty: ${e.additionalProperty}}`},code(e){const{gen:t,schema:r,parentSchema:a,data:c,errsCount:u,it:l}=e;if(!u)throw new Error("ajv implementation error");const{allErrors:f,opts:h}=l;if(l.props=!0,"all"!==h.removeAdditional&&(0,s.alwaysValidSchema)(l,r))return;const d=(0,n.allSchemaProperties)(a.properties),p=(0,n.allSchemaProperties)(a.patternProperties);function y(e){t.code(i._`delete ${c}[${e}]`)}function b(n){if("all"===h.removeAdditional||h.removeAdditional&&!1===r)y(n);else{if(!1===r)return e.setParams({additionalProperty:n}),e.error(),void(f||t.break());if("object"==typeof r&&!(0,s.alwaysValidSchema)(l,r)){const r=t.name("valid");"failing"===h.removeAdditional?(m(n,r,!1),t.if((0,i.not)(r),(()=>{e.reset(),y(n)}))):(m(n,r),f||t.if((0,i.not)(r),(()=>t.break())))}}}function m(t,r,n){const i={keyword:"additionalProperties",dataProp:t,dataPropType:s.Type.Str};!1===n&&Object.assign(i,{compositeRule:!0,createErrors:!1,allErrors:!1}),e.subschema(i,r)}t.forIn("key",c,(r=>{d.length||p.length?t.if(function(r){let o;if(d.length>8){const e=(0,s.schemaRefOrVal)(l,a.properties,"properties");o=(0,n.isOwnProperty)(t,e,r)}else o=d.length?(0,i.or)(...d.map((e=>i._`${r} === ${e}`))):i.nil;return p.length&&(o=(0,i.or)(o,...p.map((t=>i._`${(0,n.usePattern)(e,t)}.test(${r})`)))),(0,i.not)(o)}(r),(()=>b(r))):b(r)})),e.ok(i._`${u} === ${o.default.errors}`)}};t.default=a},79355:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(50458),i={keyword:"allOf",schemaType:"array",code(e){const{gen:t,schema:r,it:i}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");const o=t.name("valid");r.forEach(((t,r)=>{if((0,n.alwaysValidSchema)(i,t))return;const s=e.subschema({keyword:"allOf",schemaProp:r},o);e.ok(o),e.mergeEvaluated(s)}))}};t.default=i},19430:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:r(94450).validateUnion,error:{message:"must match a schema in anyOf"}};t.default=n},35724:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(17898),i=r(50458),o={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:{message:({params:{min:e,max:t}})=>void 0===t?n.str`must contain at least ${e} valid item(s)`:n.str`must contain at least ${e} and no more than ${t} valid item(s)`,params:({params:{min:e,max:t}})=>void 0===t?n._`{minContains: ${e}}`:n._`{minContains: ${e}, maxContains: ${t}}`},code(e){const{gen:t,schema:r,parentSchema:o,data:s,it:a}=e;let c,u;const{minContains:l,maxContains:f}=o;a.opts.next?(c=void 0===l?1:l,u=f):c=1;const h=t.const("len",n._`${s}.length`);if(e.setParams({min:c,max:u}),void 0===u&&0===c)return void(0,i.checkStrictMode)(a,'"minContains" == 0 without "maxContains": "contains" keyword ignored');if(void 0!==u&&c>u)return(0,i.checkStrictMode)(a,'"minContains" > "maxContains" is always invalid'),void e.fail();if((0,i.alwaysValidSchema)(a,r)){let t=n._`${h} >= ${c}`;return void 0!==u&&(t=n._`${t} && ${h} <= ${u}`),void e.pass(t)}a.items=!0;const d=t.name("valid");function p(){const e=t.name("_valid"),r=t.let("count",0);y(e,(()=>t.if(e,(()=>function(e){t.code(n._`${e}++`),void 0===u?t.if(n._`${e} >= ${c}`,(()=>t.assign(d,!0).break())):(t.if(n._`${e} > ${u}`,(()=>t.assign(d,!1).break())),1===c?t.assign(d,!0):t.if(n._`${e} >= ${c}`,(()=>t.assign(d,!0))))}(r)))))}function y(r,n){t.forRange("i",0,h,(t=>{e.subschema({keyword:"contains",dataProp:t,dataPropType:i.Type.Num,compositeRule:!0},r),n()}))}void 0===u&&1===c?y(d,(()=>t.if(d,(()=>t.break())))):0===c?(t.let(d,!0),void 0!==u&&t.if(n._`${s}.length > 0`,p)):(t.let(d,!1),p()),e.result(d,(()=>e.reset()))}};t.default=o},99868:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.validateSchemaDeps=t.validatePropertyDeps=t.error=void 0;const n=r(17898),i=r(50458),o=r(94450);t.error={message:({params:{property:e,depsCount:t,deps:r}})=>{const i=1===t?"property":"properties";return n.str`must have ${i} ${r} when property ${e} is present`},params:({params:{property:e,depsCount:t,deps:r,missingProperty:i}})=>n._`{property: ${e},
    missingProperty: ${i},
    depsCount: ${t},
    deps: ${r}}`};const s={keyword:"dependencies",type:"object",schemaType:"object",error:t.error,code(e){const[t,r]=function({schema:e}){const t={},r={};for(const n in e)"__proto__"!==n&&((Array.isArray(e[n])?t:r)[n]=e[n]);return[t,r]}(e);a(e,t),c(e,r)}};function a(e,t=e.schema){const{gen:r,data:i,it:s}=e;if(0===Object.keys(t).length)return;const a=r.let("missing");for(const c in t){const u=t[c];if(0===u.length)continue;const l=(0,o.propertyInData)(r,i,c,s.opts.ownProperties);e.setParams({property:c,depsCount:u.length,deps:u.join(", ")}),s.allErrors?r.if(l,(()=>{for(const t of u)(0,o.checkReportMissingProp)(e,t)})):(r.if(n._`${l} && (${(0,o.checkMissingProp)(e,u,a)})`),(0,o.reportMissingProp)(e,a),r.else())}}function c(e,t=e.schema){const{gen:r,data:n,keyword:s,it:a}=e,c=r.name("valid");for(const u in t)(0,i.alwaysValidSchema)(a,t[u])||(r.if((0,o.propertyInData)(r,n,u,a.opts.ownProperties),(()=>{const t=e.subschema({keyword:s,schemaProp:u},c);e.mergeValidEvaluated(t,c)}),(()=>r.var(c,!0))),e.ok(c))}t.validatePropertyDeps=a,t.validateSchemaDeps=c,t.default=s},70510:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(17898),i=r(50458),o={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:{message:({params:e})=>n.str`must match "${e.ifClause}" schema`,params:({params:e})=>n._`{failingKeyword: ${e.ifClause}}`},code(e){const{gen:t,parentSchema:r,it:o}=e;void 0===r.then&&void 0===r.else&&(0,i.checkStrictMode)(o,'"if" without "then" and "else" is ignored');const a=s(o,"then"),c=s(o,"else");if(!a&&!c)return;const u=t.let("valid",!0),l=t.name("_valid");if(function(){const t=e.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},l);e.mergeEvaluated(t)}(),e.reset(),a&&c){const r=t.let("ifClause");e.setParams({ifClause:r}),t.if(l,f("then",r),f("else",r))}else a?t.if(l,f("then")):t.if((0,n.not)(l),f("else"));function f(r,i){return()=>{const o=e.subschema({keyword:r},l);t.assign(u,l),e.mergeValidEvaluated(o,u),i?t.assign(i,n._`${r}`):e.setParams({ifClause:r})}}e.pass(u,(()=>e.error(!0)))}};function s(e,t){const r=e.schema[t];return void 0!==r&&!(0,i.alwaysValidSchema)(e,r)}t.default=o},18225:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(93426),i=r(61349),o=r(44153),s=r(19753),a=r(35724),c=r(99868),u=r(67486),l=r(92697),f=r(19660),h=r(98422),d=r(65532),p=r(19430),y=r(98768),b=r(79355),m=r(70510),v=r(45255);t.default=function(e=!1){const t=[d.default,p.default,y.default,b.default,m.default,v.default,u.default,l.default,c.default,f.default,h.default];return e?t.push(i.default,s.default):t.push(n.default,o.default),t.push(a.default),t}},44153:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.validateTuple=void 0;const n=r(17898),i=r(50458),o=r(94450),s={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(e){const{schema:t,it:r}=e;if(Array.isArray(t))return a(e,"additionalItems",t);r.items=!0,(0,i.alwaysValidSchema)(r,t)||e.ok((0,o.validateArray)(e))}};function a(e,t,r=e.schema){const{gen:o,parentSchema:s,data:a,keyword:c,it:u}=e;!function(e){const{opts:n,errSchemaPath:o}=u,s=r.length,a=s===e.minItems&&(s===e.maxItems||!1===e[t]);if(n.strictTuples&&!a){const e=`"${c}" is ${s}-tuple, but minItems or maxItems/${t} are not specified or different at path "${o}"`;(0,i.checkStrictMode)(u,e,n.strictTuples)}}(s),u.opts.unevaluated&&r.length&&!0!==u.items&&(u.items=i.mergeEvaluated.items(o,r.length,u.items));const l=o.name("valid"),f=o.const("len",n._`${a}.length`);r.forEach(((t,r)=>{(0,i.alwaysValidSchema)(u,t)||(o.if(n._`${f} > ${r}`,(()=>e.subschema({keyword:c,schemaProp:r,dataProp:r},l))),e.ok(l))}))}t.validateTuple=a,t.default=s},19753:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(17898),i=r(50458),o=r(94450),s=r(93426),a={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:{message:({params:{len:e}})=>n.str`must NOT have more than ${e} items`,params:({params:{len:e}})=>n._`{limit: ${e}}`},code(e){const{schema:t,parentSchema:r,it:n}=e,{prefixItems:a}=r;n.items=!0,(0,i.alwaysValidSchema)(n,t)||(a?(0,s.validateAdditionalItems)(e,a):e.ok((0,o.validateArray)(e)))}};t.default=a},65532:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(50458),i={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(e){const{gen:t,schema:r,it:i}=e;if((0,n.alwaysValidSchema)(i,r))return void e.fail();const o=t.name("valid");e.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},o),e.failResult(o,(()=>e.reset()),(()=>e.error()))},error:{message:"must NOT be valid"}};t.default=i},98768:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(17898),i=r(50458),o={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:{message:"must match exactly one schema in oneOf",params:({params:e})=>n._`{passingSchemas: ${e.passing}}`},code(e){const{gen:t,schema:r,parentSchema:o,it:s}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(s.opts.discriminator&&o.discriminator)return;const a=r,c=t.let("valid",!1),u=t.let("passing",null),l=t.name("_valid");e.setParams({passing:u}),t.block((function(){a.forEach(((r,o)=>{let a;(0,i.alwaysValidSchema)(s,r)?t.var(l,!0):a=e.subschema({keyword:"oneOf",schemaProp:o,compositeRule:!0},l),o>0&&t.if(n._`${l} && ${c}`).assign(c,!1).assign(u,n._`[${u}, ${o}]`).else(),t.if(l,(()=>{t.assign(c,!0),t.assign(u,o),a&&e.mergeEvaluated(a,n.Name)}))}))})),e.result(c,(()=>e.reset()),(()=>e.error(!0)))}};t.default=o},98422:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(94450),i=r(17898),o=r(50458),s=r(50458),a={keyword:"patternProperties",type:"object",schemaType:"object",code(e){const{gen:t,schema:r,data:a,parentSchema:c,it:u}=e,{opts:l}=u,f=(0,n.allSchemaProperties)(r),h=f.filter((e=>(0,o.alwaysValidSchema)(u,r[e])));if(0===f.length||h.length===f.length&&(!u.opts.unevaluated||!0===u.props))return;const d=l.strictSchema&&!l.allowMatchingProperties&&c.properties,p=t.name("valid");!0===u.props||u.props instanceof i.Name||(u.props=(0,s.evaluatedPropsToName)(t,u.props));const{props:y}=u;function b(e){for(const t in d)new RegExp(e).test(t)&&(0,o.checkStrictMode)(u,`property ${t} matches pattern ${e} (use allowMatchingProperties)`)}function m(r){t.forIn("key",a,(o=>{t.if(i._`${(0,n.usePattern)(e,r)}.test(${o})`,(()=>{const n=h.includes(r);n||e.subschema({keyword:"patternProperties",schemaProp:r,dataProp:o,dataPropType:s.Type.Str},p),u.opts.unevaluated&&!0!==y?t.assign(i._`${y}[${o}]`,!0):n||u.allErrors||t.if((0,i.not)(p),(()=>t.break()))}))}))}!function(){for(const e of f)d&&b(e),u.allErrors?m(e):(t.var(p,!0),m(e),t.if(p))}()}};t.default=a},61349:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(44153),i={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:e=>(0,n.validateTuple)(e,"items")};t.default=i},19660:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(96223),i=r(94450),o=r(50458),s=r(92697),a={keyword:"properties",type:"object",schemaType:"object",code(e){const{gen:t,schema:r,parentSchema:a,data:c,it:u}=e;"all"===u.opts.removeAdditional&&void 0===a.additionalProperties&&s.default.code(new n.KeywordCxt(u,s.default,"additionalProperties"));const l=(0,i.allSchemaProperties)(r);for(const e of l)u.definedProperties.add(e);u.opts.unevaluated&&l.length&&!0!==u.props&&(u.props=o.mergeEvaluated.props(t,(0,o.toHash)(l),u.props));const f=l.filter((e=>!(0,o.alwaysValidSchema)(u,r[e])));if(0===f.length)return;const h=t.name("valid");for(const r of f)d(r)?p(r):(t.if((0,i.propertyInData)(t,c,r,u.opts.ownProperties)),p(r),u.allErrors||t.else().var(h,!0),t.endIf()),e.it.definedProperties.add(r),e.ok(h);function d(e){return u.opts.useDefaults&&!u.compositeRule&&void 0!==r[e].default}function p(t){e.subschema({keyword:"properties",schemaProp:t,dataProp:t},h)}}};t.default=a},67486:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(17898),i=r(50458),o={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:{message:"property name must be valid",params:({params:e})=>n._`{propertyName: ${e.propertyName}}`},code(e){const{gen:t,schema:r,data:o,it:s}=e;if((0,i.alwaysValidSchema)(s,r))return;const a=t.name("valid");t.forIn("key",o,(r=>{e.setParams({propertyName:r}),e.subschema({keyword:"propertyNames",data:r,dataTypes:["string"],propertyName:r,compositeRule:!0},a),t.if((0,n.not)(a),(()=>{e.error(!0),s.allErrors||t.break()}))})),e.ok(a)}};t.default=o},45255:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(50458),i={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:e,parentSchema:t,it:r}){void 0===t.if&&(0,n.checkStrictMode)(r,`"${e}" without "if" is ignored`)}};t.default=i},94450:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.validateUnion=t.validateArray=t.usePattern=t.callValidateCode=t.schemaProperties=t.allSchemaProperties=t.noPropertyInData=t.propertyInData=t.isOwnProperty=t.hasPropFunc=t.reportMissingProp=t.checkMissingProp=t.checkReportMissingProp=void 0;const n=r(17898),i=r(50458),o=r(63036),s=r(50458);function a(e){return e.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:n._`Object.prototype.hasOwnProperty`})}function c(e,t,r){return n._`${a(e)}.call(${t}, ${r})`}function u(e,t,r,i){const o=n._`${t}${(0,n.getProperty)(r)} === undefined`;return i?(0,n.or)(o,(0,n.not)(c(e,t,r))):o}function l(e){return e?Object.keys(e).filter((e=>"__proto__"!==e)):[]}t.checkReportMissingProp=function(e,t){const{gen:r,data:i,it:o}=e;r.if(u(r,i,t,o.opts.ownProperties),(()=>{e.setParams({missingProperty:n._`${t}`},!0),e.error()}))},t.checkMissingProp=function({gen:e,data:t,it:{opts:r}},i,o){return(0,n.or)(...i.map((i=>(0,n.and)(u(e,t,i,r.ownProperties),n._`${o} = ${i}`))))},t.reportMissingProp=function(e,t){e.setParams({missingProperty:t},!0),e.error()},t.hasPropFunc=a,t.isOwnProperty=c,t.propertyInData=function(e,t,r,i){const o=n._`${t}${(0,n.getProperty)(r)} !== undefined`;return i?n._`${o} && ${c(e,t,r)}`:o},t.noPropertyInData=u,t.allSchemaProperties=l,t.schemaProperties=function(e,t){return l(t).filter((r=>!(0,i.alwaysValidSchema)(e,t[r])))},t.callValidateCode=function({schemaCode:e,data:t,it:{gen:r,topSchemaRef:i,schemaPath:s,errorPath:a},it:c},u,l,f){const h=f?n._`${e}, ${t}, ${i}${s}`:t,d=[[o.default.instancePath,(0,n.strConcat)(o.default.instancePath,a)],[o.default.parentData,c.parentData],[o.default.parentDataProperty,c.parentDataProperty],[o.default.rootData,o.default.rootData]];c.opts.dynamicRef&&d.push([o.default.dynamicAnchors,o.default.dynamicAnchors]);const p=n._`${h}, ${r.object(...d)}`;return l!==n.nil?n._`${u}.call(${l}, ${p})`:n._`${u}(${p})`};const f=n._`new RegExp`;t.usePattern=function({gen:e,it:{opts:t}},r){const i=t.unicodeRegExp?"u":"",{regExp:o}=t.code,a=o(r,i);return e.scopeValue("pattern",{key:a.toString(),ref:a,code:n._`${"new RegExp"===o.code?f:(0,s.useFunc)(e,o)}(${r}, ${i})`})},t.validateArray=function(e){const{gen:t,data:r,keyword:o,it:s}=e,a=t.name("valid");if(s.allErrors){const e=t.let("valid",!0);return c((()=>t.assign(e,!1))),e}return t.var(a,!0),c((()=>t.break())),a;function c(s){const c=t.const("len",n._`${r}.length`);t.forRange("i",0,c,(r=>{e.subschema({keyword:o,dataProp:r,dataPropType:i.Type.Num},a),t.if((0,n.not)(a),s)}))}},t.validateUnion=function(e){const{gen:t,schema:r,keyword:o,it:s}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(r.some((e=>(0,i.alwaysValidSchema)(s,e)))&&!s.opts.unevaluated)return;const a=t.let("valid",!1),c=t.name("_valid");t.block((()=>r.forEach(((r,i)=>{const s=e.subschema({keyword:o,schemaProp:i,compositeRule:!0},c);t.assign(a,n._`${a} || ${c}`),e.mergeValidEvaluated(s,c)||t.if((0,n.not)(a))})))),e.result(a,(()=>e.reset()),(()=>e.error(!0)))}},73946:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});const r={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};t.default=r},3839:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(73946),i=r(26138),o=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",n.default,i.default];t.default=o},26138:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.callRef=t.getValidate=void 0;const n=r(85748),i=r(94450),o=r(17898),s=r(63036),a=r(49392),c=r(50458),u={keyword:"$ref",schemaType:"string",code(e){const{gen:t,schema:r,it:i}=e,{baseId:s,schemaEnv:c,validateName:u,opts:h,self:d}=i,{root:p}=c;if(("#"===r||"#/"===r)&&s===p.baseId)return function(){if(c===p)return f(e,u,c,c.$async);const r=t.scopeValue("root",{ref:p});return f(e,o._`${r}.validate`,p,p.$async)}();const y=a.resolveRef.call(d,p,s,r);if(void 0===y)throw new n.default(i.opts.uriResolver,s,r);return y instanceof a.SchemaEnv?function(t){const r=l(e,t);f(e,r,t,t.$async)}(y):function(n){const i=t.scopeValue("schema",!0===h.code.source?{ref:n,code:(0,o.stringify)(n)}:{ref:n}),s=t.name("valid"),a=e.subschema({schema:n,dataTypes:[],schemaPath:o.nil,topSchemaRef:i,errSchemaPath:r},s);e.mergeEvaluated(a),e.ok(s)}(y)}};function l(e,t){const{gen:r}=e;return t.validate?r.scopeValue("validate",{ref:t.validate}):o._`${r.scopeValue("wrapper",{ref:t})}.validate`}function f(e,t,r,n){const{gen:a,it:u}=e,{allErrors:l,schemaEnv:f,opts:h}=u,d=h.passContext?s.default.this:o.nil;function p(e){const t=o._`${e}.errors`;a.assign(s.default.vErrors,o._`${s.default.vErrors} === null ? ${t} : ${s.default.vErrors}.concat(${t})`),a.assign(s.default.errors,o._`${s.default.vErrors}.length`)}function y(e){var t;if(!u.opts.unevaluated)return;const n=null===(t=null==r?void 0:r.validate)||void 0===t?void 0:t.evaluated;if(!0!==u.props)if(n&&!n.dynamicProps)void 0!==n.props&&(u.props=c.mergeEvaluated.props(a,n.props,u.props));else{const t=a.var("props",o._`${e}.evaluated.props`);u.props=c.mergeEvaluated.props(a,t,u.props,o.Name)}if(!0!==u.items)if(n&&!n.dynamicItems)void 0!==n.items&&(u.items=c.mergeEvaluated.items(a,n.items,u.items));else{const t=a.var("items",o._`${e}.evaluated.items`);u.items=c.mergeEvaluated.items(a,t,u.items,o.Name)}}n?function(){if(!f.$async)throw new Error("async schema referenced by sync schema");const r=a.let("valid");a.try((()=>{a.code(o._`await ${(0,i.callValidateCode)(e,t,d)}`),y(t),l||a.assign(r,!0)}),(e=>{a.if(o._`!(${e} instanceof ${u.ValidationError})`,(()=>a.throw(e))),p(e),l||a.assign(r,!1)})),e.ok(r)}():e.result((0,i.callValidateCode)(e,t,d),(()=>y(t)),(()=>p(t)))}t.getValidate=l,t.callRef=f,t.default=u},11672:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(17898),i=r(88925),o=r(49392),s=r(50458),a={keyword:"discriminator",type:"object",schemaType:"object",error:{message:({params:{discrError:e,tagName:t}})=>e===i.DiscrError.Tag?`tag "${t}" must be string`:`value of tag "${t}" must be in oneOf`,params:({params:{discrError:e,tag:t,tagName:r}})=>n._`{error: ${e}, tag: ${r}, tagValue: ${t}}`},code(e){const{gen:t,data:r,schema:a,parentSchema:c,it:u}=e,{oneOf:l}=c;if(!u.opts.discriminator)throw new Error("discriminator: requires discriminator option");const f=a.propertyName;if("string"!=typeof f)throw new Error("discriminator: requires propertyName");if(a.mapping)throw new Error("discriminator: mapping is not supported");if(!l)throw new Error("discriminator: requires oneOf keyword");const h=t.let("valid",!1),d=t.const("tag",n._`${r}${(0,n.getProperty)(f)}`);function p(r){const i=t.name("valid"),o=e.subschema({keyword:"oneOf",schemaProp:r},i);return e.mergeEvaluated(o,n.Name),i}t.if(n._`typeof ${d} == "string"`,(()=>function(){const r=function(){var e;const t={},r=i(c);let n=!0;for(let t=0;t<l.length;t++){let c=l[t];(null==c?void 0:c.$ref)&&!(0,s.schemaHasRulesButRef)(c,u.self.RULES)&&(c=o.resolveRef.call(u.self,u.schemaEnv.root,u.baseId,null==c?void 0:c.$ref),c instanceof o.SchemaEnv&&(c=c.schema));const h=null===(e=null==c?void 0:c.properties)||void 0===e?void 0:e[f];if("object"!=typeof h)throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${f}"`);n=n&&(r||i(c)),a(h,t)}if(!n)throw new Error(`discriminator: "${f}" must be required`);return t;function i({required:e}){return Array.isArray(e)&&e.includes(f)}function a(e,t){if(e.const)h(e.const,t);else{if(!e.enum)throw new Error(`discriminator: "properties/${f}" must have "const" or "enum"`);for(const r of e.enum)h(r,t)}}function h(e,r){if("string"!=typeof e||e in t)throw new Error(`discriminator: "${f}" values must be unique strings`);t[e]=r}}();t.if(!1);for(const e in r)t.elseIf(n._`${d} === ${e}`),t.assign(h,p(r[e]));t.else(),e.error(!1,{discrError:i.DiscrError.Mapping,tag:d,tagName:f}),t.endIf()}()),(()=>e.error(!1,{discrError:i.DiscrError.Tag,tag:d,tagName:f}))),e.ok(h)}};t.default=a},88925:(e,t)=>{var r;Object.defineProperty(t,"__esModule",{value:!0}),t.DiscrError=void 0,function(e){e.Tag="tag",e.Mapping="mapping"}(r||(t.DiscrError=r={}))},2431:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(3839),i=r(17851),o=r(18225),s=r(26699),a=r(34882),c=[n.default,i.default,(0,o.default)(),s.default,a.metadataVocabulary,a.contentVocabulary];t.default=c},37072:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(17898),i={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:{message:({schemaCode:e})=>n.str`must match format "${e}"`,params:({schemaCode:e})=>n._`{format: ${e}}`},code(e,t){const{gen:r,data:i,$data:o,schema:s,schemaCode:a,it:c}=e,{opts:u,errSchemaPath:l,schemaEnv:f,self:h}=c;u.validateFormats&&(o?function(){const o=r.scopeValue("formats",{ref:h.formats,code:u.code.formats}),s=r.const("fDef",n._`${o}[${a}]`),c=r.let("fType"),l=r.let("format");r.if(n._`typeof ${s} == "object" && !(${s} instanceof RegExp)`,(()=>r.assign(c,n._`${s}.type || "string"`).assign(l,n._`${s}.validate`)),(()=>r.assign(c,n._`"string"`).assign(l,s))),e.fail$data((0,n.or)(!1===u.strictSchema?n.nil:n._`${a} && !${l}`,function(){const e=f.$async?n._`(${s}.async ? await ${l}(${i}) : ${l}(${i}))`:n._`${l}(${i})`,r=n._`(typeof ${l} == "function" ? ${e} : ${l}.test(${i}))`;return n._`${l} && ${l} !== true && ${c} === ${t} && !${r}`}()))}():function(){const o=h.formats[s];if(!o)return void function(){if(!1!==u.strictSchema)throw new Error(e());function e(){return`unknown format "${s}" ignored in schema at path "${l}"`}h.logger.warn(e())}();if(!0===o)return;const[a,c,d]=function(e){const t=e instanceof RegExp?(0,n.regexpCode)(e):u.code.formats?n._`${u.code.formats}${(0,n.getProperty)(s)}`:void 0,i=r.scopeValue("formats",{key:s,ref:e,code:t});return"object"!=typeof e||e instanceof RegExp?["string",e,i]:[e.type||"string",e.validate,n._`${i}.validate`]}(o);a===t&&e.pass(function(){if("object"==typeof o&&!(o instanceof RegExp)&&o.async){if(!f.$async)throw new Error("async format in sync schema");return n._`await ${d}(${i})`}return"function"==typeof c?n._`${d}(${i})`:n._`${d}.test(${i})`}())}())}};t.default=i},26699:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=[r(37072).default];t.default=n},34882:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.contentVocabulary=t.metadataVocabulary=void 0,t.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],t.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]},79520:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(17898),i=r(50458),o=r(72725),s={keyword:"const",$data:!0,error:{message:"must be equal to constant",params:({schemaCode:e})=>n._`{allowedValue: ${e}}`},code(e){const{gen:t,data:r,$data:s,schemaCode:a,schema:c}=e;s||c&&"object"==typeof c?e.fail$data(n._`!${(0,i.useFunc)(t,o.default)}(${r}, ${a})`):e.fail(n._`${c} !== ${r}`)}};t.default=s},36742:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(17898),i=r(50458),o=r(72725),s={keyword:"enum",schemaType:"array",$data:!0,error:{message:"must be equal to one of the allowed values",params:({schemaCode:e})=>n._`{allowedValues: ${e}}`},code(e){const{gen:t,data:r,$data:s,schema:a,schemaCode:c,it:u}=e;if(!s&&0===a.length)throw new Error("enum must have non-empty array");const l=a.length>=u.opts.loopEnum;let f;const h=()=>null!=f?f:f=(0,i.useFunc)(t,o.default);let d;if(l||s)d=t.let("valid"),e.block$data(d,(function(){t.assign(d,!1),t.forOf("v",c,(e=>t.if(n._`${h()}(${r}, ${e})`,(()=>t.assign(d,!0).break()))))}));else{if(!Array.isArray(a))throw new Error("ajv implementation error");const e=t.const("vSchema",c);d=(0,n.or)(...a.map(((t,i)=>function(e,t){const i=a[t];return"object"==typeof i&&null!==i?n._`${h()}(${r}, ${e}[${t}])`:n._`${r} === ${i}`}(e,i))))}e.pass(d)}};t.default=s},17851:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(72333),i=r(21230),o=r(3936),s=r(81005),a=r(71589),c=r(29594),u=r(38558),l=r(44058),f=r(79520),h=r(36742),d=[n.default,i.default,o.default,s.default,a.default,c.default,u.default,l.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},f.default,h.default];t.default=d},38558:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(17898),i={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:{message({keyword:e,schemaCode:t}){const r="maxItems"===e?"more":"fewer";return n.str`must NOT have ${r} than ${t} items`},params:({schemaCode:e})=>n._`{limit: ${e}}`},code(e){const{keyword:t,data:r,schemaCode:i}=e,o="maxItems"===t?n.operators.GT:n.operators.LT;e.fail$data(n._`${r}.length ${o} ${i}`)}};t.default=i},3936:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(17898),i=r(50458),o=r(26308),s={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:{message({keyword:e,schemaCode:t}){const r="maxLength"===e?"more":"fewer";return n.str`must NOT have ${r} than ${t} characters`},params:({schemaCode:e})=>n._`{limit: ${e}}`},code(e){const{keyword:t,data:r,schemaCode:s,it:a}=e,c="maxLength"===t?n.operators.GT:n.operators.LT,u=!1===a.opts.unicode?n._`${r}.length`:n._`${(0,i.useFunc)(e.gen,o.default)}(${r})`;e.fail$data(n._`${u} ${c} ${s}`)}};t.default=s},72333:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(17898),i=n.operators,o={maximum:{okStr:"<=",ok:i.LTE,fail:i.GT},minimum:{okStr:">=",ok:i.GTE,fail:i.LT},exclusiveMaximum:{okStr:"<",ok:i.LT,fail:i.GTE},exclusiveMinimum:{okStr:">",ok:i.GT,fail:i.LTE}},s={message:({keyword:e,schemaCode:t})=>n.str`must be ${o[e].okStr} ${t}`,params:({keyword:e,schemaCode:t})=>n._`{comparison: ${o[e].okStr}, limit: ${t}}`},a={keyword:Object.keys(o),type:"number",schemaType:"number",$data:!0,error:s,code(e){const{keyword:t,data:r,schemaCode:i}=e;e.fail$data(n._`${r} ${o[t].fail} ${i} || isNaN(${r})`)}};t.default=a},71589:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(17898),i={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:{message({keyword:e,schemaCode:t}){const r="maxProperties"===e?"more":"fewer";return n.str`must NOT have ${r} than ${t} properties`},params:({schemaCode:e})=>n._`{limit: ${e}}`},code(e){const{keyword:t,data:r,schemaCode:i}=e,o="maxProperties"===t?n.operators.GT:n.operators.LT;e.fail$data(n._`Object.keys(${r}).length ${o} ${i}`)}};t.default=i},21230:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(17898),i={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:{message:({schemaCode:e})=>n.str`must be multiple of ${e}`,params:({schemaCode:e})=>n._`{multipleOf: ${e}}`},code(e){const{gen:t,data:r,schemaCode:i,it:o}=e,s=o.opts.multipleOfPrecision,a=t.let("res"),c=s?n._`Math.abs(Math.round(${a}) - ${a}) > 1e-${s}`:n._`${a} !== parseInt(${a})`;e.fail$data(n._`(${i} === 0 || (${a} = ${r}/${i}, ${c}))`)}};t.default=i},81005:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(94450),i=r(17898),o={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:{message:({schemaCode:e})=>i.str`must match pattern "${e}"`,params:({schemaCode:e})=>i._`{pattern: ${e}}`},code(e){const{data:t,$data:r,schema:o,schemaCode:s,it:a}=e,c=a.opts.unicodeRegExp?"u":"",u=r?i._`(new RegExp(${s}, ${c}))`:(0,n.usePattern)(e,o);e.fail$data(i._`!${u}.test(${t})`)}};t.default=o},29594:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(94450),i=r(17898),o=r(50458),s={keyword:"required",type:"object",schemaType:"array",$data:!0,error:{message:({params:{missingProperty:e}})=>i.str`must have required property '${e}'`,params:({params:{missingProperty:e}})=>i._`{missingProperty: ${e}}`},code(e){const{gen:t,schema:r,schemaCode:s,data:a,$data:c,it:u}=e,{opts:l}=u;if(!c&&0===r.length)return;const f=r.length>=l.loopRequired;if(u.allErrors?function(){if(f||c)e.block$data(i.nil,h);else for(const t of r)(0,n.checkReportMissingProp)(e,t)}():function(){const o=t.let("missing");if(f||c){const r=t.let("valid",!0);e.block$data(r,(()=>function(r,o){e.setParams({missingProperty:r}),t.forOf(r,s,(()=>{t.assign(o,(0,n.propertyInData)(t,a,r,l.ownProperties)),t.if((0,i.not)(o),(()=>{e.error(),t.break()}))}),i.nil)}(o,r))),e.ok(r)}else t.if((0,n.checkMissingProp)(e,r,o)),(0,n.reportMissingProp)(e,o),t.else()}(),l.strictRequired){const t=e.parentSchema.properties,{definedProperties:n}=e.it;for(const e of r)if(void 0===(null==t?void 0:t[e])&&!n.has(e)){const t=`required property "${e}" is not defined at "${u.schemaEnv.baseId+u.errSchemaPath}" (strictRequired)`;(0,o.checkStrictMode)(u,t,u.opts.strictRequired)}}function h(){t.forOf("prop",s,(r=>{e.setParams({missingProperty:r}),t.if((0,n.noPropertyInData)(t,a,r,l.ownProperties),(()=>e.error()))}))}}};t.default=s},44058:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(69003),i=r(17898),o=r(50458),s=r(72725),a={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:{message:({params:{i:e,j:t}})=>i.str`must NOT have duplicate items (items ## ${t} and ${e} are identical)`,params:({params:{i:e,j:t}})=>i._`{i: ${e}, j: ${t}}`},code(e){const{gen:t,data:r,$data:a,schema:c,parentSchema:u,schemaCode:l,it:f}=e;if(!a&&!c)return;const h=t.let("valid"),d=u.items?(0,n.getSchemaTypes)(u.items):[];function p(o,s){const a=t.name("item"),c=(0,n.checkDataTypes)(d,a,f.opts.strictNumbers,n.DataType.Wrong),u=t.const("indices",i._`{}`);t.for(i._`;${o}--;`,(()=>{t.let(a,i._`${r}[${o}]`),t.if(c,i._`continue`),d.length>1&&t.if(i._`typeof ${a} == "string"`,i._`${a} += "_"`),t.if(i._`typeof ${u}[${a}] == "number"`,(()=>{t.assign(s,i._`${u}[${a}]`),e.error(),t.assign(h,!1).break()})).code(i._`${u}[${a}] = ${o}`)}))}function y(n,a){const c=(0,o.useFunc)(t,s.default),u=t.name("outer");t.label(u).for(i._`;${n}--;`,(()=>t.for(i._`${a} = ${n}; ${a}--;`,(()=>t.if(i._`${c}(${r}[${n}], ${r}[${a}])`,(()=>{e.error(),t.assign(h,!1).break(u)}))))))}e.block$data(h,(function(){const n=t.let("i",i._`${r}.length`),o=t.let("j");e.setParams({i:n,j:o}),t.assign(h,!0),t.if(i._`${n} > 1`,(()=>(d.length>0&&!d.some((e=>"object"===e||"array"===e))?p:y)(n,o)))}),i._`${l} === false`),e.ok(h)}};t.default=a},67614:e=>{var t=e.exports=function(e,t,n){"function"==typeof t&&(n=t,t={}),r(t,"function"==typeof(n=t.cb||n)?n:n.pre||function(){},n.post||function(){},e,"",e)};function r(e,n,i,o,s,a,c,u,l,f){if(o&&"object"==typeof o&&!Array.isArray(o)){for(var h in n(o,s,a,c,u,l,f),o){var d=o[h];if(Array.isArray(d)){if(h in t.arrayKeywords)for(var p=0;p<d.length;p++)r(e,n,i,d[p],s+"/"+h+"/"+p,a,s,h,o,p)}else if(h in t.propsKeywords){if(d&&"object"==typeof d)for(var y in d)r(e,n,i,d[y],s+"/"+h+"/"+y.replace(/~/g,"~0").replace(/\//g,"~1"),a,s,h,o,y)}else(h in t.keywords||e.allKeys&&!(h in t.skipKeywords))&&r(e,n,i,d,s+"/"+h,a,s,h,o)}i(o,s,a,c,u,l,f)}}t.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0},t.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},t.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},t.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0}},12267:(e,t,r)=>{var n=t;n.bignum=r(82823),n.define=r(70424).define,n.base=r(81284),n.constants=r(34962),n.decoders=r(98720),n.encoders=r(87912)},70424:(e,t,r)=>{var n=r(12267),i=r(35615);function o(e,t){this.name=e,this.body=t,this.decoders={},this.encoders={}}t.define=function(e,t){return new o(e,t)},o.prototype._createNamed=function(e){var t;try{t=r(95940).runInThisContext("(function "+this.name+"(entity) {\n  this._initNamed(entity);\n})")}catch(e){t=function(e){this._initNamed(e)}}return i(t,e),t.prototype._initNamed=function(t){e.call(this,t)},new t(this)},o.prototype._getDecoder=function(e){return e=e||"der",this.decoders.hasOwnProperty(e)||(this.decoders[e]=this._createNamed(n.decoders[e])),this.decoders[e]},o.prototype.decode=function(e,t,r){return this._getDecoder(t).decode(e,r)},o.prototype._getEncoder=function(e){return e=e||"der",this.encoders.hasOwnProperty(e)||(this.encoders[e]=this._createNamed(n.encoders[e])),this.encoders[e]},o.prototype.encode=function(e,t,r){return this._getEncoder(t).encode(e,r)}},9428:(e,t,r)=>{var n=r(35615),i=r(81284).Reporter,o=r(1048).Buffer;function s(e,t){i.call(this,t),o.isBuffer(e)?(this.base=e,this.offset=0,this.length=e.length):this.error("Input not Buffer")}function a(e,t){if(Array.isArray(e))this.length=0,this.value=e.map((function(e){return e instanceof a||(e=new a(e,t)),this.length+=e.length,e}),this);else if("number"==typeof e){if(!(0<=e&&e<=255))return t.error("non-byte EncoderBuffer value");this.value=e,this.length=1}else if("string"==typeof e)this.value=e,this.length=o.byteLength(e);else{if(!o.isBuffer(e))return t.error("Unsupported type: "+typeof e);this.value=e,this.length=e.length}}n(s,i),t.t=s,s.prototype.save=function(){return{offset:this.offset,reporter:i.prototype.save.call(this)}},s.prototype.restore=function(e){var t=new s(this.base);return t.offset=e.offset,t.length=this.offset,this.offset=e.offset,i.prototype.restore.call(this,e.reporter),t},s.prototype.isEmpty=function(){return this.offset===this.length},s.prototype.readUInt8=function(e){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(e||"DecoderBuffer overrun")},s.prototype.skip=function(e,t){if(!(this.offset+e<=this.length))return this.error(t||"DecoderBuffer overrun");var r=new s(this.base);return r._reporterState=this._reporterState,r.offset=this.offset,r.length=this.offset+e,this.offset+=e,r},s.prototype.raw=function(e){return this.base.slice(e?e.offset:this.offset,this.length)},t.d=a,a.prototype.join=function(e,t){return e||(e=new o(this.length)),t||(t=0),0===this.length||(Array.isArray(this.value)?this.value.forEach((function(r){r.join(e,t),t+=r.length})):("number"==typeof this.value?e[t]=this.value:"string"==typeof this.value?e.write(this.value,t):o.isBuffer(this.value)&&this.value.copy(e,t),t+=this.length)),e}},81284:(e,t,r)=>{var n=t;n.Reporter=r(49963).a,n.DecoderBuffer=r(9428).t,n.EncoderBuffer=r(9428).d,n.Node=r(67410)},67410:(e,t,r)=>{var n=r(81284).Reporter,i=r(81284).EncoderBuffer,o=r(81284).DecoderBuffer,s=r(7784),a=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],c=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(a);function u(e,t){var r={};this._baseState=r,r.enc=e,r.parent=t||null,r.children=null,r.tag=null,r.args=null,r.reverseArgs=null,r.choice=null,r.optional=!1,r.any=!1,r.obj=!1,r.use=null,r.useDecoder=null,r.key=null,r.default=null,r.explicit=null,r.implicit=null,r.contains=null,r.parent||(r.children=[],this._wrap())}e.exports=u;var l=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];u.prototype.clone=function(){var e=this._baseState,t={};l.forEach((function(r){t[r]=e[r]}));var r=new this.constructor(t.parent);return r._baseState=t,r},u.prototype._wrap=function(){var e=this._baseState;c.forEach((function(t){this[t]=function(){var r=new this.constructor(this);return e.children.push(r),r[t].apply(r,arguments)}}),this)},u.prototype._init=function(e){var t=this._baseState;s(null===t.parent),e.call(this),t.children=t.children.filter((function(e){return e._baseState.parent===this}),this),s.equal(t.children.length,1,"Root node can have only one child")},u.prototype._useArgs=function(e){var t=this._baseState,r=e.filter((function(e){return e instanceof this.constructor}),this);e=e.filter((function(e){return!(e instanceof this.constructor)}),this),0!==r.length&&(s(null===t.children),t.children=r,r.forEach((function(e){e._baseState.parent=this}),this)),0!==e.length&&(s(null===t.args),t.args=e,t.reverseArgs=e.map((function(e){if("object"!=typeof e||e.constructor!==Object)return e;var t={};return Object.keys(e).forEach((function(r){r==(0|r)&&(r|=0);var n=e[r];t[n]=r})),t})))},["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"].forEach((function(e){u.prototype[e]=function(){var t=this._baseState;throw new Error(e+" not implemented for encoding: "+t.enc)}})),a.forEach((function(e){u.prototype[e]=function(){var t=this._baseState,r=Array.prototype.slice.call(arguments);return s(null===t.tag),t.tag=e,this._useArgs(r),this}})),u.prototype.use=function(e){s(e);var t=this._baseState;return s(null===t.use),t.use=e,this},u.prototype.optional=function(){return this._baseState.optional=!0,this},u.prototype.def=function(e){var t=this._baseState;return s(null===t.default),t.default=e,t.optional=!0,this},u.prototype.explicit=function(e){var t=this._baseState;return s(null===t.explicit&&null===t.implicit),t.explicit=e,this},u.prototype.implicit=function(e){var t=this._baseState;return s(null===t.explicit&&null===t.implicit),t.implicit=e,this},u.prototype.obj=function(){var e=this._baseState,t=Array.prototype.slice.call(arguments);return e.obj=!0,0!==t.length&&this._useArgs(t),this},u.prototype.key=function(e){var t=this._baseState;return s(null===t.key),t.key=e,this},u.prototype.any=function(){return this._baseState.any=!0,this},u.prototype.choice=function(e){var t=this._baseState;return s(null===t.choice),t.choice=e,this._useArgs(Object.keys(e).map((function(t){return e[t]}))),this},u.prototype.contains=function(e){var t=this._baseState;return s(null===t.use),t.contains=e,this},u.prototype._decode=function(e,t){var r=this._baseState;if(null===r.parent)return e.wrapResult(r.children[0]._decode(e,t));var n,i=r.default,s=!0,a=null;if(null!==r.key&&(a=e.enterKey(r.key)),r.optional){var c=null;if(null!==r.explicit?c=r.explicit:null!==r.implicit?c=r.implicit:null!==r.tag&&(c=r.tag),null!==c||r.any){if(s=this._peekTag(e,c,r.any),e.isError(s))return s}else{var u=e.save();try{null===r.choice?this._decodeGeneric(r.tag,e,t):this._decodeChoice(e,t),s=!0}catch(e){s=!1}e.restore(u)}}if(r.obj&&s&&(n=e.enterObject()),s){if(null!==r.explicit){var l=this._decodeTag(e,r.explicit);if(e.isError(l))return l;e=l}var f=e.offset;if(null===r.use&&null===r.choice){r.any&&(u=e.save());var h=this._decodeTag(e,null!==r.implicit?r.implicit:r.tag,r.any);if(e.isError(h))return h;r.any?i=e.raw(u):e=h}if(t&&t.track&&null!==r.tag&&t.track(e.path(),f,e.length,"tagged"),t&&t.track&&null!==r.tag&&t.track(e.path(),e.offset,e.length,"content"),r.any||(i=null===r.choice?this._decodeGeneric(r.tag,e,t):this._decodeChoice(e,t)),e.isError(i))return i;if(r.any||null!==r.choice||null===r.children||r.children.forEach((function(r){r._decode(e,t)})),r.contains&&("octstr"===r.tag||"bitstr"===r.tag)){var d=new o(i);i=this._getUse(r.contains,e._reporterState.obj)._decode(d,t)}}return r.obj&&s&&(i=e.leaveObject(n)),null===r.key||null===i&&!0!==s?null!==a&&e.exitKey(a):e.leaveKey(a,r.key,i),i},u.prototype._decodeGeneric=function(e,t,r){var n=this._baseState;return"seq"===e||"set"===e?null:"seqof"===e||"setof"===e?this._decodeList(t,e,n.args[0],r):/str$/.test(e)?this._decodeStr(t,e,r):"objid"===e&&n.args?this._decodeObjid(t,n.args[0],n.args[1],r):"objid"===e?this._decodeObjid(t,null,null,r):"gentime"===e||"utctime"===e?this._decodeTime(t,e,r):"null_"===e?this._decodeNull(t,r):"bool"===e?this._decodeBool(t,r):"objDesc"===e?this._decodeStr(t,e,r):"int"===e||"enum"===e?this._decodeInt(t,n.args&&n.args[0],r):null!==n.use?this._getUse(n.use,t._reporterState.obj)._decode(t,r):t.error("unknown tag: "+e)},u.prototype._getUse=function(e,t){var r=this._baseState;return r.useDecoder=this._use(e,t),s(null===r.useDecoder._baseState.parent),r.useDecoder=r.useDecoder._baseState.children[0],r.implicit!==r.useDecoder._baseState.implicit&&(r.useDecoder=r.useDecoder.clone(),r.useDecoder._baseState.implicit=r.implicit),r.useDecoder},u.prototype._decodeChoice=function(e,t){var r=this._baseState,n=null,i=!1;return Object.keys(r.choice).some((function(o){var s=e.save(),a=r.choice[o];try{var c=a._decode(e,t);if(e.isError(c))return!1;n={type:o,value:c},i=!0}catch(t){return e.restore(s),!1}return!0}),this),i?n:e.error("Choice not matched")},u.prototype._createEncoderBuffer=function(e){return new i(e,this.reporter)},u.prototype._encode=function(e,t,r){var n=this._baseState;if(null===n.default||n.default!==e){var i=this._encodeValue(e,t,r);if(void 0!==i&&!this._skipDefault(i,t,r))return i}},u.prototype._encodeValue=function(e,t,r){var i=this._baseState;if(null===i.parent)return i.children[0]._encode(e,t||new n);var o=null;if(this.reporter=t,i.optional&&void 0===e){if(null===i.default)return;e=i.default}var s=null,a=!1;if(i.any)o=this._createEncoderBuffer(e);else if(i.choice)o=this._encodeChoice(e,t);else if(i.contains)s=this._getUse(i.contains,r)._encode(e,t),a=!0;else if(i.children)s=i.children.map((function(r){if("null_"===r._baseState.tag)return r._encode(null,t,e);if(null===r._baseState.key)return t.error("Child should have a key");var n=t.enterKey(r._baseState.key);if("object"!=typeof e)return t.error("Child expected, but input is not object");var i=r._encode(e[r._baseState.key],t,e);return t.leaveKey(n),i}),this).filter((function(e){return e})),s=this._createEncoderBuffer(s);else if("seqof"===i.tag||"setof"===i.tag){if(!i.args||1!==i.args.length)return t.error("Too many args for : "+i.tag);if(!Array.isArray(e))return t.error("seqof/setof, but data is not Array");var c=this.clone();c._baseState.implicit=null,s=this._createEncoderBuffer(e.map((function(r){var n=this._baseState;return this._getUse(n.args[0],e)._encode(r,t)}),c))}else null!==i.use?o=this._getUse(i.use,r)._encode(e,t):(s=this._encodePrimitive(i.tag,e),a=!0);if(!i.any&&null===i.choice){var u=null!==i.implicit?i.implicit:i.tag,l=null===i.implicit?"universal":"context";null===u?null===i.use&&t.error("Tag could be omitted only for .use()"):null===i.use&&(o=this._encodeComposite(u,a,l,s))}return null!==i.explicit&&(o=this._encodeComposite(i.explicit,!1,"context",o)),o},u.prototype._encodeChoice=function(e,t){var r=this._baseState,n=r.choice[e.type];return n||s(!1,e.type+" not found in "+JSON.stringify(Object.keys(r.choice))),n._encode(e.value,t)},u.prototype._encodePrimitive=function(e,t){var r=this._baseState;if(/str$/.test(e))return this._encodeStr(t,e);if("objid"===e&&r.args)return this._encodeObjid(t,r.reverseArgs[0],r.args[1]);if("objid"===e)return this._encodeObjid(t,null,null);if("gentime"===e||"utctime"===e)return this._encodeTime(t,e);if("null_"===e)return this._encodeNull();if("int"===e||"enum"===e)return this._encodeInt(t,r.args&&r.reverseArgs[0]);if("bool"===e)return this._encodeBool(t);if("objDesc"===e)return this._encodeStr(t,e);throw new Error("Unsupported tag: "+e)},u.prototype._isNumstr=function(e){return/^[0-9 ]*$/.test(e)},u.prototype._isPrintstr=function(e){return/^[A-Za-z0-9 '\(\)\+,\-\.\/:=\?]*$/.test(e)}},49963:(e,t,r)=>{var n=r(35615);function i(e){this._reporterState={obj:null,path:[],options:e||{},errors:[]}}function o(e,t){this.path=e,this.rethrow(t)}t.a=i,i.prototype.isError=function(e){return e instanceof o},i.prototype.save=function(){var e=this._reporterState;return{obj:e.obj,pathLen:e.path.length}},i.prototype.restore=function(e){var t=this._reporterState;t.obj=e.obj,t.path=t.path.slice(0,e.pathLen)},i.prototype.enterKey=function(e){return this._reporterState.path.push(e)},i.prototype.exitKey=function(e){var t=this._reporterState;t.path=t.path.slice(0,e-1)},i.prototype.leaveKey=function(e,t,r){var n=this._reporterState;this.exitKey(e),null!==n.obj&&(n.obj[t]=r)},i.prototype.path=function(){return this._reporterState.path.join("/")},i.prototype.enterObject=function(){var e=this._reporterState,t=e.obj;return e.obj={},t},i.prototype.leaveObject=function(e){var t=this._reporterState,r=t.obj;return t.obj=e,r},i.prototype.error=function(e){var t,r=this._reporterState,n=e instanceof o;if(t=n?e:new o(r.path.map((function(e){return"["+JSON.stringify(e)+"]"})).join(""),e.message||e,e.stack),!r.options.partial)throw t;return n||r.errors.push(t),t},i.prototype.wrapResult=function(e){var t=this._reporterState;return t.options.partial?{result:this.isError(e)?null:e,errors:t.errors}:e},n(o,Error),o.prototype.rethrow=function(e){if(this.message=e+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,o),!this.stack)try{throw new Error(this.message)}catch(e){this.stack=e.stack}return this}},76457:(e,t,r)=>{var n=r(34962);t.tagClass={0:"universal",1:"application",2:"context",3:"private"},t.tagClassByName=n._reverse(t.tagClass),t.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},t.tagByName=n._reverse(t.tag)},34962:(e,t,r)=>{var n=t;n._reverse=function(e){var t={};return Object.keys(e).forEach((function(r){(0|r)==r&&(r|=0);var n=e[r];t[n]=r})),t},n.der=r(76457)},23975:(e,t,r)=>{var n=r(35615),i=r(12267),o=i.base,s=i.bignum,a=i.constants.der;function c(e){this.enc="der",this.name=e.name,this.entity=e,this.tree=new u,this.tree._init(e.body)}function u(e){o.Node.call(this,"der",e)}function l(e,t){var r=e.readUInt8(t);if(e.isError(r))return r;var n=a.tagClass[r>>6],i=!(32&r);if(31&~r)r&=31;else{var o=r;for(r=0;!(128&~o);){if(o=e.readUInt8(t),e.isError(o))return o;r<<=7,r|=127&o}}return{cls:n,primitive:i,tag:r,tagStr:a.tag[r]}}function f(e,t,r){var n=e.readUInt8(r);if(e.isError(n))return n;if(!t&&128===n)return null;if(!(128&n))return n;var i=127&n;if(i>4)return e.error("length octect is too long");n=0;for(var o=0;o<i;o++){n<<=8;var s=e.readUInt8(r);if(e.isError(s))return s;n|=s}return n}e.exports=c,c.prototype.decode=function(e,t){return e instanceof o.DecoderBuffer||(e=new o.DecoderBuffer(e,t)),this.tree._decode(e,t)},n(u,o.Node),u.prototype._peekTag=function(e,t,r){if(e.isEmpty())return!1;var n=e.save(),i=l(e,'Failed to peek tag: "'+t+'"');return e.isError(i)?i:(e.restore(n),i.tag===t||i.tagStr===t||i.tagStr+"of"===t||r)},u.prototype._decodeTag=function(e,t,r){var n=l(e,'Failed to decode tag of "'+t+'"');if(e.isError(n))return n;var i=f(e,n.primitive,'Failed to get length of "'+t+'"');if(e.isError(i))return i;if(!r&&n.tag!==t&&n.tagStr!==t&&n.tagStr+"of"!==t)return e.error('Failed to match tag: "'+t+'"');if(n.primitive||null!==i)return e.skip(i,'Failed to match body of: "'+t+'"');var o=e.save(),s=this._skipUntilEnd(e,'Failed to skip indefinite length body: "'+this.tag+'"');return e.isError(s)?s:(i=e.offset-o.offset,e.restore(o),e.skip(i,'Failed to match body of: "'+t+'"'))},u.prototype._skipUntilEnd=function(e,t){for(;;){var r=l(e,t);if(e.isError(r))return r;var n,i=f(e,r.primitive,t);if(e.isError(i))return i;if(n=r.primitive||null!==i?e.skip(i):this._skipUntilEnd(e,t),e.isError(n))return n;if("end"===r.tagStr)break}},u.prototype._decodeList=function(e,t,r,n){for(var i=[];!e.isEmpty();){var o=this._peekTag(e,"end");if(e.isError(o))return o;var s=r.decode(e,"der",n);if(e.isError(s)&&o)break;i.push(s)}return i},u.prototype._decodeStr=function(e,t){if("bitstr"===t){var r=e.readUInt8();return e.isError(r)?r:{unused:r,data:e.raw()}}if("bmpstr"===t){var n=e.raw();if(n.length%2==1)return e.error("Decoding of string type: bmpstr length mismatch");for(var i="",o=0;o<n.length/2;o++)i+=String.fromCharCode(n.readUInt16BE(2*o));return i}if("numstr"===t){var s=e.raw().toString("ascii");return this._isNumstr(s)?s:e.error("Decoding of string type: numstr unsupported characters")}if("octstr"===t)return e.raw();if("objDesc"===t)return e.raw();if("printstr"===t){var a=e.raw().toString("ascii");return this._isPrintstr(a)?a:e.error("Decoding of string type: printstr unsupported characters")}return/str$/.test(t)?e.raw().toString():e.error("Decoding of string type: "+t+" unsupported")},u.prototype._decodeObjid=function(e,t,r){for(var n,i=[],o=0;!e.isEmpty();){var s=e.readUInt8();o<<=7,o|=127&s,128&s||(i.push(o),o=0)}128&s&&i.push(o);var a=i[0]/40|0,c=i[0]%40;if(n=r?i:[a,c].concat(i.slice(1)),t){var u=t[n.join(" ")];void 0===u&&(u=t[n.join(".")]),void 0!==u&&(n=u)}return n},u.prototype._decodeTime=function(e,t){var r=e.raw().toString();if("gentime"===t)var n=0|r.slice(0,4),i=0|r.slice(4,6),o=0|r.slice(6,8),s=0|r.slice(8,10),a=0|r.slice(10,12),c=0|r.slice(12,14);else{if("utctime"!==t)return e.error("Decoding "+t+" time is not supported yet");n=0|r.slice(0,2),i=0|r.slice(2,4),o=0|r.slice(4,6),s=0|r.slice(6,8),a=0|r.slice(8,10),c=0|r.slice(10,12),n=n<70?2e3+n:1900+n}return Date.UTC(n,i-1,o,s,a,c,0)},u.prototype._decodeNull=function(e){return null},u.prototype._decodeBool=function(e){var t=e.readUInt8();return e.isError(t)?t:0!==t},u.prototype._decodeInt=function(e,t){var r=e.raw(),n=new s(r);return t&&(n=t[n.toString(10)]||n),n},u.prototype._use=function(e,t){return"function"==typeof e&&(e=e(t)),e._getDecoder("der").tree}},98720:(e,t,r)=>{var n=t;n.der=r(23975),n.pem=r(13850)},13850:(e,t,r)=>{var n=r(35615),i=r(1048).Buffer,o=r(23975);function s(e){o.call(this,e),this.enc="pem"}n(s,o),e.exports=s,s.prototype.decode=function(e,t){for(var r=e.toString().split(/[\r\n]+/g),n=t.label.toUpperCase(),s=/^-----(BEGIN|END) ([^-]+)-----$/,a=-1,c=-1,u=0;u<r.length;u++){var l=r[u].match(s);if(null!==l&&l[2]===n){if(-1!==a){if("END"!==l[1])break;c=u;break}if("BEGIN"!==l[1])break;a=u}}if(-1===a||-1===c)throw new Error("PEM section not found for: "+n);var f=r.slice(a+1,c).join("");f.replace(/[^a-z0-9\+\/=]+/gi,"");var h=new i(f,"base64");return o.prototype.decode.call(this,h,t)}},35775:(e,t,r)=>{var n=r(35615),i=r(1048).Buffer,o=r(12267),s=o.base,a=o.constants.der;function c(e){this.enc="der",this.name=e.name,this.entity=e,this.tree=new u,this.tree._init(e.body)}function u(e){s.Node.call(this,"der",e)}function l(e){return e<10?"0"+e:e}e.exports=c,c.prototype.encode=function(e,t){return this.tree._encode(e,t).join()},n(u,s.Node),u.prototype._encodeComposite=function(e,t,r,n){var o,s=function(e,t,r,n){var i;if("seqof"===e?e="seq":"setof"===e&&(e="set"),a.tagByName.hasOwnProperty(e))i=a.tagByName[e];else{if("number"!=typeof e||(0|e)!==e)return n.error("Unknown tag: "+e);i=e}return i>=31?n.error("Multi-octet tag encoding unsupported"):(t||(i|=32),i|=a.tagClassByName[r||"universal"]<<6)}(e,t,r,this.reporter);if(n.length<128)return(o=new i(2))[0]=s,o[1]=n.length,this._createEncoderBuffer([o,n]);for(var c=1,u=n.length;u>=256;u>>=8)c++;(o=new i(2+c))[0]=s,o[1]=128|c,u=1+c;for(var l=n.length;l>0;u--,l>>=8)o[u]=255&l;return this._createEncoderBuffer([o,n])},u.prototype._encodeStr=function(e,t){if("bitstr"===t)return this._createEncoderBuffer([0|e.unused,e.data]);if("bmpstr"===t){for(var r=new i(2*e.length),n=0;n<e.length;n++)r.writeUInt16BE(e.charCodeAt(n),2*n);return this._createEncoderBuffer(r)}return"numstr"===t?this._isNumstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: numstr supports only digits and space"):"printstr"===t?this._isPrintstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(t)||"objDesc"===t?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: "+t+" unsupported")},u.prototype._encodeObjid=function(e,t,r){if("string"==typeof e){if(!t)return this.reporter.error("string objid given, but no values map found");if(!t.hasOwnProperty(e))return this.reporter.error("objid not found in values map");e=t[e].split(/[\s\.]+/g);for(var n=0;n<e.length;n++)e[n]|=0}else if(Array.isArray(e))for(e=e.slice(),n=0;n<e.length;n++)e[n]|=0;if(!Array.isArray(e))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(e));if(!r){if(e[1]>=40)return this.reporter.error("Second objid identifier OOB");e.splice(0,2,40*e[0]+e[1])}var o=0;for(n=0;n<e.length;n++){var s=e[n];for(o++;s>=128;s>>=7)o++}var a=new i(o),c=a.length-1;for(n=e.length-1;n>=0;n--)for(s=e[n],a[c--]=127&s;(s>>=7)>0;)a[c--]=128|127&s;return this._createEncoderBuffer(a)},u.prototype._encodeTime=function(e,t){var r,n=new Date(e);return"gentime"===t?r=[l(n.getFullYear()),l(n.getUTCMonth()+1),l(n.getUTCDate()),l(n.getUTCHours()),l(n.getUTCMinutes()),l(n.getUTCSeconds()),"Z"].join(""):"utctime"===t?r=[l(n.getFullYear()%100),l(n.getUTCMonth()+1),l(n.getUTCDate()),l(n.getUTCHours()),l(n.getUTCMinutes()),l(n.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+t+" time is not supported yet"),this._encodeStr(r,"octstr")},u.prototype._encodeNull=function(){return this._createEncoderBuffer("")},u.prototype._encodeInt=function(e,t){if("string"==typeof e){if(!t)return this.reporter.error("String int or enum given, but no values map");if(!t.hasOwnProperty(e))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(e));e=t[e]}if("number"!=typeof e&&!i.isBuffer(e)){var r=e.toArray();!e.sign&&128&r[0]&&r.unshift(0),e=new i(r)}if(i.isBuffer(e)){var n=e.length;0===e.length&&n++;var o=new i(n);return e.copy(o),0===e.length&&(o[0]=0),this._createEncoderBuffer(o)}if(e<128)return this._createEncoderBuffer(e);if(e<256)return this._createEncoderBuffer([0,e]);n=1;for(var s=e;s>=256;s>>=8)n++;for(s=(o=new Array(n)).length-1;s>=0;s--)o[s]=255&e,e>>=8;return 128&o[0]&&o.unshift(0),this._createEncoderBuffer(new i(o))},u.prototype._encodeBool=function(e){return this._createEncoderBuffer(e?255:0)},u.prototype._use=function(e,t){return"function"==typeof e&&(e=e(t)),e._getEncoder("der").tree},u.prototype._skipDefault=function(e,t,r){var n,i=this._baseState;if(null===i.default)return!1;var o=e.join();if(void 0===i.defaultBuffer&&(i.defaultBuffer=this._encodeValue(i.default,t,r).join()),o.length!==i.defaultBuffer.length)return!1;for(n=0;n<o.length;n++)if(o[n]!==i.defaultBuffer[n])return!1;return!0}},87912:(e,t,r)=>{var n=t;n.der=r(35775),n.pem=r(48962)},48962:(e,t,r)=>{var n=r(35615),i=r(35775);function o(e){i.call(this,e),this.enc="pem"}n(o,i),e.exports=o,o.prototype.encode=function(e,t){for(var r=i.prototype.encode.call(this,e).toString("base64"),n=["-----BEGIN "+t.label+"-----"],o=0;o<r.length;o+=64)n.push(r.slice(o,o+64));return n.push("-----END "+t.label+"-----"),n.join("\n")}},26093:(e,t,r)=>{var n=r(39907),i=r(4364);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(void 0,i=function(e,t){if("object"!==o(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(n.key),"symbol"===o(i)?i:String(i)),n)}var i}function a(e,t,r){return t&&s(e.prototype,t),r&&s(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var c,u,l=r(41342).codes,f=l.ERR_AMBIGUOUS_ARGUMENT,h=l.ERR_INVALID_ARG_TYPE,d=l.ERR_INVALID_ARG_VALUE,p=l.ERR_INVALID_RETURN_VALUE,y=l.ERR_MISSING_ARGS,b=r(49801),m=r(49208).inspect,v=r(49208).types,g=v.isPromise,w=v.isRegExp,_=r(23225)(),S=r(61937)(),E=r(79818)("RegExp.prototype.test");function T(){var e=r(5656);c=e.isDeepEqual,u=e.isDeepStrictEqual}new Map;var O=!1,x=e.exports=I,A={};function M(e){if(e.message instanceof Error)throw e.message;throw new b(e)}function P(e,t,r,n){if(!r){var i=!1;if(0===t)i=!0,n="No value argument passed to `assert.ok()`";else if(n instanceof Error)throw n;var o=new b({actual:r,expected:!0,message:n,operator:"==",stackStartFn:e});throw o.generatedMessage=i,o}}function I(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];P.apply(void 0,[I,t.length].concat(t))}x.fail=function e(t,r,o,s,a){var c,u=arguments.length;if(0===u?c="Failed":1===u?(o=t,t=void 0):(!1===O&&(O=!0,(n.emitWarning?n.emitWarning:i.warn.bind(i))("assert.fail() with more than one argument is deprecated. Please use assert.strictEqual() instead or only pass a message.","DeprecationWarning","DEP0094")),2===u&&(s="!=")),o instanceof Error)throw o;var l={actual:t,expected:r,operator:void 0===s?"fail":s,stackStartFn:a||e};void 0!==o&&(l.message=o);var f=new b(l);throw c&&(f.message=c,f.generatedMessage=!0),f},x.AssertionError=b,x.ok=I,x.equal=function e(t,r,n){if(arguments.length<2)throw new y("actual","expected");t!=r&&M({actual:t,expected:r,message:n,operator:"==",stackStartFn:e})},x.notEqual=function e(t,r,n){if(arguments.length<2)throw new y("actual","expected");t==r&&M({actual:t,expected:r,message:n,operator:"!=",stackStartFn:e})},x.deepEqual=function e(t,r,n){if(arguments.length<2)throw new y("actual","expected");void 0===c&&T(),c(t,r)||M({actual:t,expected:r,message:n,operator:"deepEqual",stackStartFn:e})},x.notDeepEqual=function e(t,r,n){if(arguments.length<2)throw new y("actual","expected");void 0===c&&T(),c(t,r)&&M({actual:t,expected:r,message:n,operator:"notDeepEqual",stackStartFn:e})},x.deepStrictEqual=function e(t,r,n){if(arguments.length<2)throw new y("actual","expected");void 0===c&&T(),u(t,r)||M({actual:t,expected:r,message:n,operator:"deepStrictEqual",stackStartFn:e})},x.notDeepStrictEqual=function e(t,r,n){if(arguments.length<2)throw new y("actual","expected");void 0===c&&T(),u(t,r)&&M({actual:t,expected:r,message:n,operator:"notDeepStrictEqual",stackStartFn:e})},x.strictEqual=function e(t,r,n){if(arguments.length<2)throw new y("actual","expected");S(t,r)||M({actual:t,expected:r,message:n,operator:"strictEqual",stackStartFn:e})},x.notStrictEqual=function e(t,r,n){if(arguments.length<2)throw new y("actual","expected");S(t,r)&&M({actual:t,expected:r,message:n,operator:"notStrictEqual",stackStartFn:e})};var j=a((function e(t,r,n){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),r.forEach((function(e){e in t&&(void 0!==n&&"string"==typeof n[e]&&w(t[e])&&E(t[e],n[e])?i[e]=n[e]:i[e]=t[e])}))}));function R(e,t,r,n){if("function"!=typeof t){if(w(t))return E(t,e);if(2===arguments.length)throw new h("expected",["Function","RegExp"],t);if("object"!==o(e)||null===e){var i=new b({actual:e,expected:t,message:r,operator:"deepStrictEqual",stackStartFn:n});throw i.operator=n.name,i}var s=Object.keys(t);if(t instanceof Error)s.push("name","message");else if(0===s.length)throw new d("error",t,"may not be an empty object");return void 0===c&&T(),s.forEach((function(i){"string"==typeof e[i]&&w(t[i])&&E(t[i],e[i])||function(e,t,r,n,i,o){if(!(r in e)||!u(e[r],t[r])){if(!n){var s=new j(e,i),a=new j(t,i,e),c=new b({actual:s,expected:a,operator:"deepStrictEqual",stackStartFn:o});throw c.actual=e,c.expected=t,c.operator=o.name,c}M({actual:e,expected:t,message:n,operator:o.name,stackStartFn:o})}}(e,t,i,r,s,n)})),!0}return void 0!==t.prototype&&e instanceof t||!Error.isPrototypeOf(t)&&!0===t.call({},e)}function k(e){if("function"!=typeof e)throw new h("fn","Function",e);try{e()}catch(e){return e}return A}function C(e){return g(e)||null!==e&&"object"===o(e)&&"function"==typeof e.then&&"function"==typeof e.catch}function $(e){return Promise.resolve().then((function(){var t;if("function"==typeof e){if(!C(t=e()))throw new p("instance of Promise","promiseFn",t)}else{if(!C(e))throw new h("promiseFn",["Function","Promise"],e);t=e}return Promise.resolve().then((function(){return t})).then((function(){return A})).catch((function(e){return e}))}))}function N(e,t,r,n){if("string"==typeof r){if(4===arguments.length)throw new h("error",["Object","Error","Function","RegExp"],r);if("object"===o(t)&&null!==t){if(t.message===r)throw new f("error/message",'The error message "'.concat(t.message,'" is identical to the message.'))}else if(t===r)throw new f("error/message",'The error "'.concat(t,'" is identical to the message.'));n=r,r=void 0}else if(null!=r&&"object"!==o(r)&&"function"!=typeof r)throw new h("error",["Object","Error","Function","RegExp"],r);if(t===A){var i="";r&&r.name&&(i+=" (".concat(r.name,")")),i+=n?": ".concat(n):".";var s="rejects"===e.name?"rejection":"exception";M({actual:void 0,expected:r,operator:e.name,message:"Missing expected ".concat(s).concat(i),stackStartFn:e})}if(r&&!R(t,r,n,e))throw t}function L(e,t,r,n){if(t!==A){if("string"==typeof r&&(n=r,r=void 0),!r||R(t,r)){var i=n?": ".concat(n):".",o="doesNotReject"===e.name?"rejection":"exception";M({actual:t,expected:r,operator:e.name,message:"Got unwanted ".concat(o).concat(i,"\n")+'Actual message: "'.concat(t&&t.message,'"'),stackStartFn:e})}throw t}}function B(e,t,r,n,i){if(!w(t))throw new h("regexp","RegExp",t);var s="match"===i;if("string"!=typeof e||E(t,e)!==s){if(r instanceof Error)throw r;var a=!r;r=r||("string"!=typeof e?'The "string" argument must be of type string. Received type '+"".concat(o(e)," (").concat(m(e),")"):(s?"The input did not match the regular expression ":"The input was expected to not match the regular expression ")+"".concat(m(t),". Input:\n\n").concat(m(e),"\n"));var c=new b({actual:e,expected:t,message:r,operator:i,stackStartFn:n});throw c.generatedMessage=a,c}}function D(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];P.apply(void 0,[D,t.length].concat(t))}x.throws=function e(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];N.apply(void 0,[e,k(t)].concat(n))},x.rejects=function e(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return $(t).then((function(t){return N.apply(void 0,[e,t].concat(n))}))},x.doesNotThrow=function e(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];L.apply(void 0,[e,k(t)].concat(n))},x.doesNotReject=function e(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return $(t).then((function(t){return L.apply(void 0,[e,t].concat(n))}))},x.ifError=function e(t){if(null!=t){var r="ifError got unwanted exception: ";"object"===o(t)&&"string"==typeof t.message?0===t.message.length&&t.constructor?r+=t.constructor.name:r+=t.message:r+=m(t);var n=new b({actual:t,expected:null,operator:"ifError",message:r,stackStartFn:e}),i=t.stack;if("string"==typeof i){var s=i.split("\n");s.shift();for(var a=n.stack.split("\n"),c=0;c<s.length;c++){var u=a.indexOf(s[c]);if(-1!==u){a=a.slice(0,u);break}}n.stack="".concat(a.join("\n"),"\n").concat(s.join("\n"))}throw n}},x.match=function e(t,r,n){B(t,r,n,e,"match")},x.doesNotMatch=function e(t,r,n){B(t,r,n,e,"doesNotMatch")},x.strict=_(D,x,{equal:x.strictEqual,deepEqual:x.deepStrictEqual,notEqual:x.notStrictEqual,notDeepEqual:x.notDeepStrictEqual}),x.strict.strict=x.strict},49801:(e,t,r)=>{var n=r(39907);function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){var n,i,o;n=e,i=t,o=r[t],(i=a(i))in n?Object.defineProperty(n,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[i]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,a(n.key),n)}}function a(e){var t=function(e,t){if("object"!==y(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==y(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===y(t)?t:String(t)}function c(e,t){if(t&&("object"===y(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return u(e)}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(e){var t="function"==typeof Map?new Map:void 0;return l=function(e){if(null===e||(r=e,-1===Function.toString.call(r).indexOf("[native code]")))return e;var r;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return f(e,arguments,p(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),d(n,e)},l(e)}function f(e,t,r){return f=h()?Reflect.construct.bind():function(e,t,r){var n=[null];n.push.apply(n,t);var i=new(Function.bind.apply(e,n));return r&&d(i,r.prototype),i},f.apply(null,arguments)}function h(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function d(e,t){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},d(e,t)}function p(e){return p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},p(e)}function y(e){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y(e)}var b=r(49208).inspect,m=r(41342).codes.ERR_INVALID_ARG_TYPE;function v(e,t,r){return(void 0===r||r>e.length)&&(r=e.length),e.substring(r-t.length,r)===t}var g="",w="",_="",S="",E={deepStrictEqual:"Expected values to be strictly deep-equal:",strictEqual:"Expected values to be strictly equal:",strictEqualObject:'Expected "actual" to be reference-equal to "expected":',deepEqual:"Expected values to be loosely deep-equal:",equal:"Expected values to be loosely equal:",notDeepStrictEqual:'Expected "actual" not to be strictly deep-equal to:',notStrictEqual:'Expected "actual" to be strictly unequal to:',notStrictEqualObject:'Expected "actual" not to be reference-equal to "expected":',notDeepEqual:'Expected "actual" not to be loosely deep-equal to:',notEqual:'Expected "actual" to be loosely unequal to:',notIdentical:"Values identical but not reference-equal:"};function T(e){var t=Object.keys(e),r=Object.create(Object.getPrototypeOf(e));return t.forEach((function(t){r[t]=e[t]})),Object.defineProperty(r,"message",{value:e.message}),r}function O(e){return b(e,{compact:!1,customInspect:!1,depth:1e3,maxArrayLength:1/0,showHidden:!1,breakLength:1/0,showProxy:!1,sorted:!0,getters:!0})}var x=function(e,t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d(e,t)}(x,e);var r,i,a,l,f=(r=x,i=h(),function(){var e,t=p(r);if(i){var n=p(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return c(this,e)});function x(e){var t;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,x),"object"!==y(e)||null===e)throw new m("options","Object",e);var r=e.message,i=e.operator,o=e.stackStartFn,s=e.actual,a=e.expected,l=Error.stackTraceLimit;if(Error.stackTraceLimit=0,null!=r)t=f.call(this,String(r));else if(n.stderr&&n.stderr.isTTY&&(n.stderr&&n.stderr.getColorDepth&&1!==n.stderr.getColorDepth()?(g="[34m",w="[32m",S="[39m",_="[31m"):(g="",w="",S="",_="")),"object"===y(s)&&null!==s&&"object"===y(a)&&null!==a&&"stack"in s&&s instanceof Error&&"stack"in a&&a instanceof Error&&(s=T(s),a=T(a)),"deepStrictEqual"===i||"strictEqual"===i)t=f.call(this,function(e,t,r){var i="",o="",s=0,a="",c=!1,u=O(e),l=u.split("\n"),f=O(t).split("\n"),h=0,d="";if("strictEqual"===r&&"object"===y(e)&&"object"===y(t)&&null!==e&&null!==t&&(r="strictEqualObject"),1===l.length&&1===f.length&&l[0]!==f[0]){var p=l[0].length+f[0].length;if(p<=10){if(!("object"===y(e)&&null!==e||"object"===y(t)&&null!==t||0===e&&0===t))return"".concat(E[r],"\n\n")+"".concat(l[0]," !== ").concat(f[0],"\n")}else if("strictEqualObject"!==r&&p<(n.stderr&&n.stderr.isTTY?n.stderr.columns:80)){for(;l[0][h]===f[0][h];)h++;h>2&&(d="\n  ".concat(function(e,t){if(t=Math.floor(t),0==e.length||0==t)return"";var r=e.length*t;for(t=Math.floor(Math.log(t)/Math.log(2));t;)e+=e,t--;return e+e.substring(0,r-e.length)}(" ",h),"^"),h=0)}}for(var b=l[l.length-1],m=f[f.length-1];b===m&&(h++<2?a="\n  ".concat(b).concat(a):i=b,l.pop(),f.pop(),0!==l.length&&0!==f.length);)b=l[l.length-1],m=f[f.length-1];var T=Math.max(l.length,f.length);if(0===T){var x=u.split("\n");if(x.length>30)for(x[26]="".concat(g,"...").concat(S);x.length>27;)x.pop();return"".concat(E.notIdentical,"\n\n").concat(x.join("\n"),"\n")}h>3&&(a="\n".concat(g,"...").concat(S).concat(a),c=!0),""!==i&&(a="\n  ".concat(i).concat(a),i="");var A=0,M=E[r]+"\n".concat(w,"+ actual").concat(S," ").concat(_,"- expected").concat(S),P=" ".concat(g,"...").concat(S," Lines skipped");for(h=0;h<T;h++){var I=h-s;if(l.length<h+1)I>1&&h>2&&(I>4?(o+="\n".concat(g,"...").concat(S),c=!0):I>3&&(o+="\n  ".concat(f[h-2]),A++),o+="\n  ".concat(f[h-1]),A++),s=h,i+="\n".concat(_,"-").concat(S," ").concat(f[h]),A++;else if(f.length<h+1)I>1&&h>2&&(I>4?(o+="\n".concat(g,"...").concat(S),c=!0):I>3&&(o+="\n  ".concat(l[h-2]),A++),o+="\n  ".concat(l[h-1]),A++),s=h,o+="\n".concat(w,"+").concat(S," ").concat(l[h]),A++;else{var j=f[h],R=l[h],k=R!==j&&(!v(R,",")||R.slice(0,-1)!==j);k&&v(j,",")&&j.slice(0,-1)===R&&(k=!1,R+=","),k?(I>1&&h>2&&(I>4?(o+="\n".concat(g,"...").concat(S),c=!0):I>3&&(o+="\n  ".concat(l[h-2]),A++),o+="\n  ".concat(l[h-1]),A++),s=h,o+="\n".concat(w,"+").concat(S," ").concat(R),i+="\n".concat(_,"-").concat(S," ").concat(j),A+=2):(o+=i,i="",1!==I&&0!==h||(o+="\n  ".concat(R),A++))}if(A>20&&h<T-2)return"".concat(M).concat(P,"\n").concat(o,"\n").concat(g,"...").concat(S).concat(i,"\n")+"".concat(g,"...").concat(S)}return"".concat(M).concat(c?P:"","\n").concat(o).concat(i).concat(a).concat(d)}(s,a,i));else if("notDeepStrictEqual"===i||"notStrictEqual"===i){var h=E[i],d=O(s).split("\n");if("notStrictEqual"===i&&"object"===y(s)&&null!==s&&(h=E.notStrictEqualObject),d.length>30)for(d[26]="".concat(g,"...").concat(S);d.length>27;)d.pop();t=1===d.length?f.call(this,"".concat(h," ").concat(d[0])):f.call(this,"".concat(h,"\n\n").concat(d.join("\n"),"\n"))}else{var p=O(s),b="",A=E[i];"notDeepEqual"===i||"notEqual"===i?(p="".concat(E[i],"\n\n").concat(p)).length>1024&&(p="".concat(p.slice(0,1021),"...")):(b="".concat(O(a)),p.length>512&&(p="".concat(p.slice(0,509),"...")),b.length>512&&(b="".concat(b.slice(0,509),"...")),"deepEqual"===i||"equal"===i?p="".concat(A,"\n\n").concat(p,"\n\nshould equal\n\n"):b=" ".concat(i," ").concat(b)),t=f.call(this,"".concat(p).concat(b))}return Error.stackTraceLimit=l,t.generatedMessage=!r,Object.defineProperty(u(t),"name",{value:"AssertionError [ERR_ASSERTION]",enumerable:!1,writable:!0,configurable:!0}),t.code="ERR_ASSERTION",t.actual=s,t.expected=a,t.operator=i,Error.captureStackTrace&&Error.captureStackTrace(u(t),o),t.stack,t.name="AssertionError",c(t)}return a=x,(l=[{key:"toString",value:function(){return"".concat(this.name," [").concat(this.code,"]: ").concat(this.message)}},{key:t,value:function(e,t){return b(this,o(o({},t),{},{customInspect:!1,depth:0}))}}])&&s(a.prototype,l),Object.defineProperty(a,"prototype",{writable:!1}),x}(l(Error),b.custom);e.exports=x},41342:(e,t,r)=>{function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function i(e,t){return i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},i(e,t)}function o(e){return o=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},o(e)}var s,a,c={};function u(e,t,r){r||(r=Error);var s=function(r){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&i(e,t)}(l,r);var s,a,c,u=(a=l,c=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=o(a);if(c){var r=o(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function l(r,n,i){var o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),o=u.call(this,function(e,r,n){return"string"==typeof t?t:t(e,r,n)}(r,n,i)),o.code=e,o}return s=l,Object.defineProperty(s,"prototype",{writable:!1}),s}(r);c[e]=s}function l(e,t){if(Array.isArray(e)){var r=e.length;return e=e.map((function(e){return String(e)})),r>2?"one of ".concat(t," ").concat(e.slice(0,r-1).join(", "),", or ")+e[r-1]:2===r?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}return"of ".concat(t," ").concat(String(e))}u("ERR_AMBIGUOUS_ARGUMENT",'The "%s" argument is ambiguous. %s',TypeError),u("ERR_INVALID_ARG_TYPE",(function(e,t,i){var o,a,c,u,f;if(void 0===s&&(s=r(26093)),s("string"==typeof e,"'name' must be a string"),"string"==typeof t&&(a="not ",t.substr(0,4)===a)?(o="must not be",t=t.replace(/^not /,"")):o="must be",function(e,t,r){return(void 0===r||r>e.length)&&(r=e.length),e.substring(r-9,r)===t}(e," argument"))c="The ".concat(e," ").concat(o," ").concat(l(t,"type"));else{var h=("number"!=typeof f&&(f=0),f+1>(u=e).length||-1===u.indexOf(".",f)?"argument":"property");c='The "'.concat(e,'" ').concat(h," ").concat(o," ").concat(l(t,"type"))}return c+". Received type ".concat(n(i))}),TypeError),u("ERR_INVALID_ARG_VALUE",(function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"is invalid";void 0===a&&(a=r(49208));var i=a.inspect(t);return i.length>128&&(i="".concat(i.slice(0,128),"...")),"The argument '".concat(e,"' ").concat(n,". Received ").concat(i)}),TypeError,RangeError),u("ERR_INVALID_RETURN_VALUE",(function(e,t,r){var i;return i=r&&r.constructor&&r.constructor.name?"instance of ".concat(r.constructor.name):"type ".concat(n(r)),"Expected ".concat(e,' to be returned from the "').concat(t,'"')+" function but got ".concat(i,".")}),TypeError),u("ERR_MISSING_ARGS",(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];void 0===s&&(s=r(26093)),s(t.length>0,"At least one arg needs to be specified");var i="The ",o=t.length;switch(t=t.map((function(e){return'"'.concat(e,'"')})),o){case 1:i+="".concat(t[0]," argument");break;case 2:i+="".concat(t[0]," and ").concat(t[1]," arguments");break;default:i+=t.slice(0,o-1).join(", "),i+=", and ".concat(t[o-1]," arguments")}return"".concat(i," must be specified")}),TypeError),e.exports.codes=c},5656:(e,t,r)=>{function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,s,a=[],c=!0,u=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(a.push(n.value),a.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=r.return&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?i(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}var s=void 0!==/a/g.flags,a=function(e){var t=[];return e.forEach((function(e){return t.push(e)})),t},c=function(e){var t=[];return e.forEach((function(e,r){return t.push([r,e])})),t},u=Object.is?Object.is:r(55968),l=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols:function(){return[]},f=Number.isNaN?Number.isNaN:r(7838);function h(e){return e.call.bind(e)}var d=h(Object.prototype.hasOwnProperty),p=h(Object.prototype.propertyIsEnumerable),y=h(Object.prototype.toString),b=r(49208).types,m=b.isAnyArrayBuffer,v=b.isArrayBufferView,g=b.isDate,w=b.isMap,_=b.isRegExp,S=b.isSet,E=b.isNativeError,T=b.isBoxedPrimitive,O=b.isNumberObject,x=b.isStringObject,A=b.isBooleanObject,M=b.isBigIntObject,P=b.isSymbolObject,I=b.isFloat32Array,j=b.isFloat64Array;function R(e){if(0===e.length||e.length>10)return!0;for(var t=0;t<e.length;t++){var r=e.charCodeAt(t);if(r<48||r>57)return!0}return 10===e.length&&e>=Math.pow(2,32)}function k(e){return Object.keys(e).filter(R).concat(l(e).filter(Object.prototype.propertyIsEnumerable.bind(e)))}function C(e,t){if(e===t)return 0;for(var r=e.length,n=t.length,i=0,o=Math.min(r,n);i<o;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0}var $=0,N=1,L=2,B=3;function D(e,t,r,n){if(e===t)return 0!==e||!r||u(e,t);if(r){if("object"!==o(e))return"number"==typeof e&&f(e)&&f(t);if("object"!==o(t)||null===e||null===t)return!1;if(Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1}else{if(null===e||"object"!==o(e))return(null===t||"object"!==o(t))&&e==t;if(null===t||"object"!==o(t))return!1}var i,a,c,l,h=y(e);if(h!==y(t))return!1;if(Array.isArray(e)){if(e.length!==t.length)return!1;var d=k(e),p=k(t);return d.length===p.length&&U(e,t,r,n,N,d)}if("[object Object]"===h&&(!w(e)&&w(t)||!S(e)&&S(t)))return!1;if(g(e)){if(!g(t)||Date.prototype.getTime.call(e)!==Date.prototype.getTime.call(t))return!1}else if(_(e)){if(!_(t)||(c=e,l=t,!(s?c.source===l.source&&c.flags===l.flags:RegExp.prototype.toString.call(c)===RegExp.prototype.toString.call(l))))return!1}else if(E(e)||e instanceof Error){if(e.message!==t.message||e.name!==t.name)return!1}else{if(v(e)){if(r||!I(e)&&!j(e)){if(!function(e,t){return e.byteLength===t.byteLength&&0===C(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),new Uint8Array(t.buffer,t.byteOffset,t.byteLength))}(e,t))return!1}else if(!function(e,t){if(e.byteLength!==t.byteLength)return!1;for(var r=0;r<e.byteLength;r++)if(e[r]!==t[r])return!1;return!0}(e,t))return!1;var b=k(e),R=k(t);return b.length===R.length&&U(e,t,r,n,$,b)}if(S(e))return!(!S(t)||e.size!==t.size)&&U(e,t,r,n,L);if(w(e))return!(!w(t)||e.size!==t.size)&&U(e,t,r,n,B);if(m(e)){if(a=t,(i=e).byteLength!==a.byteLength||0!==C(new Uint8Array(i),new Uint8Array(a)))return!1}else if(T(e)&&!function(e,t){return O(e)?O(t)&&u(Number.prototype.valueOf.call(e),Number.prototype.valueOf.call(t)):x(e)?x(t)&&String.prototype.valueOf.call(e)===String.prototype.valueOf.call(t):A(e)?A(t)&&Boolean.prototype.valueOf.call(e)===Boolean.prototype.valueOf.call(t):M(e)?M(t)&&BigInt.prototype.valueOf.call(e)===BigInt.prototype.valueOf.call(t):P(t)&&Symbol.prototype.valueOf.call(e)===Symbol.prototype.valueOf.call(t)}(e,t))return!1}return U(e,t,r,n,$)}function F(e,t){return t.filter((function(t){return p(e,t)}))}function U(e,t,r,i,s,u){if(5===arguments.length){u=Object.keys(e);var f=Object.keys(t);if(u.length!==f.length)return!1}for(var h=0;h<u.length;h++)if(!d(t,u[h]))return!1;if(r&&5===arguments.length){var y=l(e);if(0!==y.length){var b=0;for(h=0;h<y.length;h++){var m=y[h];if(p(e,m)){if(!p(t,m))return!1;u.push(m),b++}else if(p(t,m))return!1}var v=l(t);if(y.length!==v.length&&F(t,v).length!==b)return!1}else{var g=l(t);if(0!==g.length&&0!==F(t,g).length)return!1}}if(0===u.length&&(s===$||s===N&&0===e.length||0===e.size))return!0;if(void 0===i)i={val1:new Map,val2:new Map,position:0};else{var w=i.val1.get(e);if(void 0!==w){var _=i.val2.get(t);if(void 0!==_)return w===_}i.position++}i.val1.set(e,i.position),i.val2.set(t,i.position);var S=function(e,t,r,i,s,u){var l=0;if(u===L){if(!function(e,t,r,n){for(var i=null,s=a(e),c=0;c<s.length;c++){var u=s[c];if("object"===o(u)&&null!==u)null===i&&(i=new Set),i.add(u);else if(!t.has(u)){if(r)return!1;if(!z(e,t,u))return!1;null===i&&(i=new Set),i.add(u)}}if(null!==i){for(var l=a(t),f=0;f<l.length;f++){var h=l[f];if("object"===o(h)&&null!==h){if(!q(i,h,r,n))return!1}else if(!r&&!e.has(h)&&!q(i,h,r,n))return!1}return 0===i.size}return!0}(e,t,r,s))return!1}else if(u===B){if(!function(e,t,r,i){for(var s=null,a=c(e),u=0;u<a.length;u++){var l=n(a[u],2),f=l[0],h=l[1];if("object"===o(f)&&null!==f)null===s&&(s=new Set),s.add(f);else{var d=t.get(f);if(void 0===d&&!t.has(f)||!D(h,d,r,i)){if(r)return!1;if(!V(e,t,f,h,i))return!1;null===s&&(s=new Set),s.add(f)}}}if(null!==s){for(var p=c(t),y=0;y<p.length;y++){var b=n(p[y],2),m=b[0],v=b[1];if("object"===o(m)&&null!==m){if(!H(s,e,m,v,r,i))return!1}else if(!(r||e.has(m)&&D(e.get(m),v,!1,i)||H(s,e,m,v,!1,i)))return!1}return 0===s.size}return!0}(e,t,r,s))return!1}else if(u===N)for(;l<e.length;l++){if(!d(e,l)){if(d(t,l))return!1;for(var f=Object.keys(e);l<f.length;l++){var h=f[l];if(!d(t,h)||!D(e[h],t[h],r,s))return!1}return f.length===Object.keys(t).length}if(!d(t,l)||!D(e[l],t[l],r,s))return!1}for(l=0;l<i.length;l++){var p=i[l];if(!D(e[p],t[p],r,s))return!1}return!0}(e,t,r,u,i,s);return i.val1.delete(e),i.val2.delete(t),S}function q(e,t,r,n){for(var i=a(e),o=0;o<i.length;o++){var s=i[o];if(D(t,s,r,n))return e.delete(s),!0}return!1}function W(e){switch(o(e)){case"undefined":return null;case"object":return;case"symbol":return!1;case"string":e=+e;case"number":if(f(e))return!1}return!0}function z(e,t,r){var n=W(r);return null!=n?n:t.has(n)&&!e.has(n)}function V(e,t,r,n,i){var o=W(r);if(null!=o)return o;var s=t.get(o);return!(void 0===s&&!t.has(o)||!D(n,s,!1,i))&&!e.has(o)&&D(n,s,!1,i)}function H(e,t,r,n,i,o){for(var s=a(e),c=0;c<s.length;c++){var u=s[c];if(D(r,u,i,o)&&D(n,t.get(u),i,o))return e.delete(u),!0}return!1}e.exports={isDeepEqual:function(e,t){return D(e,t,!1)},isDeepStrictEqual:function(e,t){return D(e,t,!0)}}},7991:(e,t)=>{t.byteLength=function(e){var t=a(e),r=t[0],n=t[1];return 3*(r+n)/4-n},t.toByteArray=function(e){var t,r,o=a(e),s=o[0],c=o[1],u=new i(function(e,t,r){return 3*(t+r)/4-r}(0,s,c)),l=0,f=c>0?s-4:s;for(r=0;r<f;r+=4)t=n[e.charCodeAt(r)]<<18|n[e.charCodeAt(r+1)]<<12|n[e.charCodeAt(r+2)]<<6|n[e.charCodeAt(r+3)],u[l++]=t>>16&255,u[l++]=t>>8&255,u[l++]=255&t;return 2===c&&(t=n[e.charCodeAt(r)]<<2|n[e.charCodeAt(r+1)]>>4,u[l++]=255&t),1===c&&(t=n[e.charCodeAt(r)]<<10|n[e.charCodeAt(r+1)]<<4|n[e.charCodeAt(r+2)]>>2,u[l++]=t>>8&255,u[l++]=255&t),u},t.fromByteArray=function(e){for(var t,n=e.length,i=n%3,o=[],s=16383,a=0,u=n-i;a<u;a+=s)o.push(c(e,a,a+s>u?u:a+s));return 1===i?(t=e[n-1],o.push(r[t>>2]+r[t<<4&63]+"==")):2===i&&(t=(e[n-2]<<8)+e[n-1],o.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"=")),o.join("")};for(var r=[],n=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0;s<64;++s)r[s]=o[s],n[o.charCodeAt(s)]=s;function a(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function c(e,t,n){for(var i,o,s=[],a=t;a<n;a+=3)i=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]),s.push(r[(o=i)>>18&63]+r[o>>12&63]+r[o>>6&63]+r[63&o]);return s.join("")}n["-".charCodeAt(0)]=62,n["_".charCodeAt(0)]=63},82823:function(e,t,r){!function(e,t){function n(e,t){if(!e)throw new Error(t||"Assertion failed")}function i(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}function o(e,t,r){if(o.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(r=t,t=10),this._init(e||0,t||10,r||"be"))}var s;"object"==typeof e?e.exports=o:t.BN=o,o.BN=o,o.wordSize=26;try{s="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:r(8379).Buffer}catch(e){}function a(e,t){var r=e.charCodeAt(t);return r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:r-48&15}function c(e,t,r){var n=a(e,r);return r-1>=t&&(n|=a(e,r-1)<<4),n}function u(e,t,r,n){for(var i=0,o=Math.min(e.length,r),s=t;s<o;s++){var a=e.charCodeAt(s)-48;i*=n,i+=a>=49?a-49+10:a>=17?a-17+10:a}return i}o.isBN=function(e){return e instanceof o||null!==e&&"object"==typeof e&&e.constructor.wordSize===o.wordSize&&Array.isArray(e.words)},o.max=function(e,t){return e.cmp(t)>0?e:t},o.min=function(e,t){return e.cmp(t)<0?e:t},o.prototype._init=function(e,t,r){if("number"==typeof e)return this._initNumber(e,t,r);if("object"==typeof e)return this._initArray(e,t,r);"hex"===t&&(t=16),n(t===(0|t)&&t>=2&&t<=36);var i=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<e.length&&(16===t?this._parseHex(e,i,r):(this._parseBase(e,t,i),"le"===r&&this._initArray(this.toArray(),t,r)))},o.prototype._initNumber=function(e,t,r){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(n(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),t,r)},o.prototype._initArray=function(e,t,r){if(n("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,s,a=0;if("be"===r)for(i=e.length-1,o=0;i>=0;i-=3)s=e[i]|e[i-1]<<8|e[i-2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);else if("le"===r)for(i=0,o=0;i<e.length;i+=3)s=e[i]|e[i+1]<<8|e[i+2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);return this.strip()},o.prototype._parseHex=function(e,t,r){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var i,o=0,s=0;if("be"===r)for(n=e.length-1;n>=t;n-=2)i=c(e,t,n)<<o,this.words[s]|=67108863&i,o>=18?(o-=18,s+=1,this.words[s]|=i>>>26):o+=8;else for(n=(e.length-t)%2==0?t+1:t;n<e.length;n+=2)i=c(e,t,n)<<o,this.words[s]|=67108863&i,o>=18?(o-=18,s+=1,this.words[s]|=i>>>26):o+=8;this.strip()},o.prototype._parseBase=function(e,t,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=t)n++;n--,i=i/t|0;for(var o=e.length-r,s=o%n,a=Math.min(o,o-s)+r,c=0,l=r;l<a;l+=n)c=u(e,l,l+n,t),this.imuln(i),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(0!==s){var f=1;for(c=u(e,l,e.length,t),l=0;l<s;l++)f*=t;this.imuln(f),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}this.strip()},o.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},o.prototype.clone=function(){var e=new o(null);return this.copy(e),e},o.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var l=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],f=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],h=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function d(e,t,r){r.negative=t.negative^e.negative;var n=e.length+t.length|0;r.length=n,n=n-1|0;var i=0|e.words[0],o=0|t.words[0],s=i*o,a=67108863&s,c=s/67108864|0;r.words[0]=a;for(var u=1;u<n;u++){for(var l=c>>>26,f=67108863&c,h=Math.min(u,t.length-1),d=Math.max(0,u-e.length+1);d<=h;d++){var p=u-d|0;l+=(s=(i=0|e.words[p])*(o=0|t.words[d])+f)/67108864|0,f=67108863&s}r.words[u]=0|f,c=0|l}return 0!==c?r.words[u]=0|c:r.length--,r.strip()}o.prototype.toString=function(e,t){var r;if(t=0|t||1,16===(e=e||10)||"hex"===e){r="";for(var i=0,o=0,s=0;s<this.length;s++){var a=this.words[s],c=(16777215&(a<<i|o)).toString(16);r=0!=(o=a>>>24-i&16777215)||s!==this.length-1?l[6-c.length]+c+r:c+r,(i+=2)>=26&&(i-=26,s--)}for(0!==o&&(r=o.toString(16)+r);r.length%t!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(e===(0|e)&&e>=2&&e<=36){var u=f[e],d=h[e];r="";var p=this.clone();for(p.negative=0;!p.isZero();){var y=p.modn(d).toString(e);r=(p=p.idivn(d)).isZero()?y+r:l[u-y.length]+y+r}for(this.isZero()&&(r="0"+r);r.length%t!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}n(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(e,t){return n(void 0!==s),this.toArrayLike(s,e,t)},o.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},o.prototype.toArrayLike=function(e,t,r){var i=this.byteLength(),o=r||Math.max(1,i);n(i<=o,"byte array longer than desired length"),n(o>0,"Requested array length <= 0"),this.strip();var s,a,c="le"===t,u=new e(o),l=this.clone();if(c){for(a=0;!l.isZero();a++)s=l.andln(255),l.iushrn(8),u[a]=s;for(;a<o;a++)u[a]=0}else{for(a=0;a<o-i;a++)u[a]=0;for(a=0;!l.isZero();a++)s=l.andln(255),l.iushrn(8),u[o-a-1]=s}return u},Math.clz32?o.prototype._countBits=function(e){return 32-Math.clz32(e)}:o.prototype._countBits=function(e){var t=e,r=0;return t>=4096&&(r+=13,t>>>=13),t>=64&&(r+=7,t>>>=7),t>=8&&(r+=4,t>>>=4),t>=2&&(r+=2,t>>>=2),r+t},o.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,r=0;return 8191&t||(r+=13,t>>>=13),127&t||(r+=7,t>>>=7),15&t||(r+=4,t>>>=4),3&t||(r+=2,t>>>=2),1&t||r++,r},o.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var r=this._zeroBits(this.words[t]);if(e+=r,26!==r)break}return e},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},o.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this.strip()},o.prototype.ior=function(e){return n(!(this.negative|e.negative)),this.iuor(e)},o.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},o.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},o.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var r=0;r<t.length;r++)this.words[r]=this.words[r]&e.words[r];return this.length=t.length,this.strip()},o.prototype.iand=function(e){return n(!(this.negative|e.negative)),this.iuand(e)},o.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},o.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},o.prototype.iuxor=function(e){var t,r;this.length>e.length?(t=this,r=e):(t=e,r=this);for(var n=0;n<r.length;n++)this.words[n]=t.words[n]^r.words[n];if(this!==t)for(;n<t.length;n++)this.words[n]=t.words[n];return this.length=t.length,this.strip()},o.prototype.ixor=function(e){return n(!(this.negative|e.negative)),this.iuxor(e)},o.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},o.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},o.prototype.inotn=function(e){n("number"==typeof e&&e>=0);var t=0|Math.ceil(e/26),r=e%26;this._expand(t),r>0&&t--;for(var i=0;i<t;i++)this.words[i]=67108863&~this.words[i];return r>0&&(this.words[i]=~this.words[i]&67108863>>26-r),this.strip()},o.prototype.notn=function(e){return this.clone().inotn(e)},o.prototype.setn=function(e,t){n("number"==typeof e&&e>=0);var r=e/26|0,i=e%26;return this._expand(r+1),this.words[r]=t?this.words[r]|1<<i:this.words[r]&~(1<<i),this.strip()},o.prototype.iadd=function(e){var t,r,n;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(r=this,n=e):(r=e,n=this);for(var i=0,o=0;o<n.length;o++)t=(0|r.words[o])+(0|n.words[o])+i,this.words[o]=67108863&t,i=t>>>26;for(;0!==i&&o<r.length;o++)t=(0|r.words[o])+i,this.words[o]=67108863&t,i=t>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},o.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},o.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var r,n,i=this.cmp(e);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=e):(r=e,n=this);for(var o=0,s=0;s<n.length;s++)o=(t=(0|r.words[s])-(0|n.words[s])+o)>>26,this.words[s]=67108863&t;for(;0!==o&&s<r.length;s++)o=(t=(0|r.words[s])+o)>>26,this.words[s]=67108863&t;if(0===o&&s<r.length&&r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this.length=Math.max(this.length,s),r!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(e){return this.clone().isub(e)};var p=function(e,t,r){var n,i,o,s=e.words,a=t.words,c=r.words,u=0,l=0|s[0],f=8191&l,h=l>>>13,d=0|s[1],p=8191&d,y=d>>>13,b=0|s[2],m=8191&b,v=b>>>13,g=0|s[3],w=8191&g,_=g>>>13,S=0|s[4],E=8191&S,T=S>>>13,O=0|s[5],x=8191&O,A=O>>>13,M=0|s[6],P=8191&M,I=M>>>13,j=0|s[7],R=8191&j,k=j>>>13,C=0|s[8],$=8191&C,N=C>>>13,L=0|s[9],B=8191&L,D=L>>>13,F=0|a[0],U=8191&F,q=F>>>13,W=0|a[1],z=8191&W,V=W>>>13,H=0|a[2],G=8191&H,K=H>>>13,Y=0|a[3],J=8191&Y,X=Y>>>13,Z=0|a[4],Q=8191&Z,ee=Z>>>13,te=0|a[5],re=8191&te,ne=te>>>13,ie=0|a[6],oe=8191&ie,se=ie>>>13,ae=0|a[7],ce=8191&ae,ue=ae>>>13,le=0|a[8],fe=8191&le,he=le>>>13,de=0|a[9],pe=8191&de,ye=de>>>13;r.negative=e.negative^t.negative,r.length=19;var be=(u+(n=Math.imul(f,U))|0)+((8191&(i=(i=Math.imul(f,q))+Math.imul(h,U)|0))<<13)|0;u=((o=Math.imul(h,q))+(i>>>13)|0)+(be>>>26)|0,be&=67108863,n=Math.imul(p,U),i=(i=Math.imul(p,q))+Math.imul(y,U)|0,o=Math.imul(y,q);var me=(u+(n=n+Math.imul(f,z)|0)|0)+((8191&(i=(i=i+Math.imul(f,V)|0)+Math.imul(h,z)|0))<<13)|0;u=((o=o+Math.imul(h,V)|0)+(i>>>13)|0)+(me>>>26)|0,me&=67108863,n=Math.imul(m,U),i=(i=Math.imul(m,q))+Math.imul(v,U)|0,o=Math.imul(v,q),n=n+Math.imul(p,z)|0,i=(i=i+Math.imul(p,V)|0)+Math.imul(y,z)|0,o=o+Math.imul(y,V)|0;var ve=(u+(n=n+Math.imul(f,G)|0)|0)+((8191&(i=(i=i+Math.imul(f,K)|0)+Math.imul(h,G)|0))<<13)|0;u=((o=o+Math.imul(h,K)|0)+(i>>>13)|0)+(ve>>>26)|0,ve&=67108863,n=Math.imul(w,U),i=(i=Math.imul(w,q))+Math.imul(_,U)|0,o=Math.imul(_,q),n=n+Math.imul(m,z)|0,i=(i=i+Math.imul(m,V)|0)+Math.imul(v,z)|0,o=o+Math.imul(v,V)|0,n=n+Math.imul(p,G)|0,i=(i=i+Math.imul(p,K)|0)+Math.imul(y,G)|0,o=o+Math.imul(y,K)|0;var ge=(u+(n=n+Math.imul(f,J)|0)|0)+((8191&(i=(i=i+Math.imul(f,X)|0)+Math.imul(h,J)|0))<<13)|0;u=((o=o+Math.imul(h,X)|0)+(i>>>13)|0)+(ge>>>26)|0,ge&=67108863,n=Math.imul(E,U),i=(i=Math.imul(E,q))+Math.imul(T,U)|0,o=Math.imul(T,q),n=n+Math.imul(w,z)|0,i=(i=i+Math.imul(w,V)|0)+Math.imul(_,z)|0,o=o+Math.imul(_,V)|0,n=n+Math.imul(m,G)|0,i=(i=i+Math.imul(m,K)|0)+Math.imul(v,G)|0,o=o+Math.imul(v,K)|0,n=n+Math.imul(p,J)|0,i=(i=i+Math.imul(p,X)|0)+Math.imul(y,J)|0,o=o+Math.imul(y,X)|0;var we=(u+(n=n+Math.imul(f,Q)|0)|0)+((8191&(i=(i=i+Math.imul(f,ee)|0)+Math.imul(h,Q)|0))<<13)|0;u=((o=o+Math.imul(h,ee)|0)+(i>>>13)|0)+(we>>>26)|0,we&=67108863,n=Math.imul(x,U),i=(i=Math.imul(x,q))+Math.imul(A,U)|0,o=Math.imul(A,q),n=n+Math.imul(E,z)|0,i=(i=i+Math.imul(E,V)|0)+Math.imul(T,z)|0,o=o+Math.imul(T,V)|0,n=n+Math.imul(w,G)|0,i=(i=i+Math.imul(w,K)|0)+Math.imul(_,G)|0,o=o+Math.imul(_,K)|0,n=n+Math.imul(m,J)|0,i=(i=i+Math.imul(m,X)|0)+Math.imul(v,J)|0,o=o+Math.imul(v,X)|0,n=n+Math.imul(p,Q)|0,i=(i=i+Math.imul(p,ee)|0)+Math.imul(y,Q)|0,o=o+Math.imul(y,ee)|0;var _e=(u+(n=n+Math.imul(f,re)|0)|0)+((8191&(i=(i=i+Math.imul(f,ne)|0)+Math.imul(h,re)|0))<<13)|0;u=((o=o+Math.imul(h,ne)|0)+(i>>>13)|0)+(_e>>>26)|0,_e&=67108863,n=Math.imul(P,U),i=(i=Math.imul(P,q))+Math.imul(I,U)|0,o=Math.imul(I,q),n=n+Math.imul(x,z)|0,i=(i=i+Math.imul(x,V)|0)+Math.imul(A,z)|0,o=o+Math.imul(A,V)|0,n=n+Math.imul(E,G)|0,i=(i=i+Math.imul(E,K)|0)+Math.imul(T,G)|0,o=o+Math.imul(T,K)|0,n=n+Math.imul(w,J)|0,i=(i=i+Math.imul(w,X)|0)+Math.imul(_,J)|0,o=o+Math.imul(_,X)|0,n=n+Math.imul(m,Q)|0,i=(i=i+Math.imul(m,ee)|0)+Math.imul(v,Q)|0,o=o+Math.imul(v,ee)|0,n=n+Math.imul(p,re)|0,i=(i=i+Math.imul(p,ne)|0)+Math.imul(y,re)|0,o=o+Math.imul(y,ne)|0;var Se=(u+(n=n+Math.imul(f,oe)|0)|0)+((8191&(i=(i=i+Math.imul(f,se)|0)+Math.imul(h,oe)|0))<<13)|0;u=((o=o+Math.imul(h,se)|0)+(i>>>13)|0)+(Se>>>26)|0,Se&=67108863,n=Math.imul(R,U),i=(i=Math.imul(R,q))+Math.imul(k,U)|0,o=Math.imul(k,q),n=n+Math.imul(P,z)|0,i=(i=i+Math.imul(P,V)|0)+Math.imul(I,z)|0,o=o+Math.imul(I,V)|0,n=n+Math.imul(x,G)|0,i=(i=i+Math.imul(x,K)|0)+Math.imul(A,G)|0,o=o+Math.imul(A,K)|0,n=n+Math.imul(E,J)|0,i=(i=i+Math.imul(E,X)|0)+Math.imul(T,J)|0,o=o+Math.imul(T,X)|0,n=n+Math.imul(w,Q)|0,i=(i=i+Math.imul(w,ee)|0)+Math.imul(_,Q)|0,o=o+Math.imul(_,ee)|0,n=n+Math.imul(m,re)|0,i=(i=i+Math.imul(m,ne)|0)+Math.imul(v,re)|0,o=o+Math.imul(v,ne)|0,n=n+Math.imul(p,oe)|0,i=(i=i+Math.imul(p,se)|0)+Math.imul(y,oe)|0,o=o+Math.imul(y,se)|0;var Ee=(u+(n=n+Math.imul(f,ce)|0)|0)+((8191&(i=(i=i+Math.imul(f,ue)|0)+Math.imul(h,ce)|0))<<13)|0;u=((o=o+Math.imul(h,ue)|0)+(i>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,n=Math.imul($,U),i=(i=Math.imul($,q))+Math.imul(N,U)|0,o=Math.imul(N,q),n=n+Math.imul(R,z)|0,i=(i=i+Math.imul(R,V)|0)+Math.imul(k,z)|0,o=o+Math.imul(k,V)|0,n=n+Math.imul(P,G)|0,i=(i=i+Math.imul(P,K)|0)+Math.imul(I,G)|0,o=o+Math.imul(I,K)|0,n=n+Math.imul(x,J)|0,i=(i=i+Math.imul(x,X)|0)+Math.imul(A,J)|0,o=o+Math.imul(A,X)|0,n=n+Math.imul(E,Q)|0,i=(i=i+Math.imul(E,ee)|0)+Math.imul(T,Q)|0,o=o+Math.imul(T,ee)|0,n=n+Math.imul(w,re)|0,i=(i=i+Math.imul(w,ne)|0)+Math.imul(_,re)|0,o=o+Math.imul(_,ne)|0,n=n+Math.imul(m,oe)|0,i=(i=i+Math.imul(m,se)|0)+Math.imul(v,oe)|0,o=o+Math.imul(v,se)|0,n=n+Math.imul(p,ce)|0,i=(i=i+Math.imul(p,ue)|0)+Math.imul(y,ce)|0,o=o+Math.imul(y,ue)|0;var Te=(u+(n=n+Math.imul(f,fe)|0)|0)+((8191&(i=(i=i+Math.imul(f,he)|0)+Math.imul(h,fe)|0))<<13)|0;u=((o=o+Math.imul(h,he)|0)+(i>>>13)|0)+(Te>>>26)|0,Te&=67108863,n=Math.imul(B,U),i=(i=Math.imul(B,q))+Math.imul(D,U)|0,o=Math.imul(D,q),n=n+Math.imul($,z)|0,i=(i=i+Math.imul($,V)|0)+Math.imul(N,z)|0,o=o+Math.imul(N,V)|0,n=n+Math.imul(R,G)|0,i=(i=i+Math.imul(R,K)|0)+Math.imul(k,G)|0,o=o+Math.imul(k,K)|0,n=n+Math.imul(P,J)|0,i=(i=i+Math.imul(P,X)|0)+Math.imul(I,J)|0,o=o+Math.imul(I,X)|0,n=n+Math.imul(x,Q)|0,i=(i=i+Math.imul(x,ee)|0)+Math.imul(A,Q)|0,o=o+Math.imul(A,ee)|0,n=n+Math.imul(E,re)|0,i=(i=i+Math.imul(E,ne)|0)+Math.imul(T,re)|0,o=o+Math.imul(T,ne)|0,n=n+Math.imul(w,oe)|0,i=(i=i+Math.imul(w,se)|0)+Math.imul(_,oe)|0,o=o+Math.imul(_,se)|0,n=n+Math.imul(m,ce)|0,i=(i=i+Math.imul(m,ue)|0)+Math.imul(v,ce)|0,o=o+Math.imul(v,ue)|0,n=n+Math.imul(p,fe)|0,i=(i=i+Math.imul(p,he)|0)+Math.imul(y,fe)|0,o=o+Math.imul(y,he)|0;var Oe=(u+(n=n+Math.imul(f,pe)|0)|0)+((8191&(i=(i=i+Math.imul(f,ye)|0)+Math.imul(h,pe)|0))<<13)|0;u=((o=o+Math.imul(h,ye)|0)+(i>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,n=Math.imul(B,z),i=(i=Math.imul(B,V))+Math.imul(D,z)|0,o=Math.imul(D,V),n=n+Math.imul($,G)|0,i=(i=i+Math.imul($,K)|0)+Math.imul(N,G)|0,o=o+Math.imul(N,K)|0,n=n+Math.imul(R,J)|0,i=(i=i+Math.imul(R,X)|0)+Math.imul(k,J)|0,o=o+Math.imul(k,X)|0,n=n+Math.imul(P,Q)|0,i=(i=i+Math.imul(P,ee)|0)+Math.imul(I,Q)|0,o=o+Math.imul(I,ee)|0,n=n+Math.imul(x,re)|0,i=(i=i+Math.imul(x,ne)|0)+Math.imul(A,re)|0,o=o+Math.imul(A,ne)|0,n=n+Math.imul(E,oe)|0,i=(i=i+Math.imul(E,se)|0)+Math.imul(T,oe)|0,o=o+Math.imul(T,se)|0,n=n+Math.imul(w,ce)|0,i=(i=i+Math.imul(w,ue)|0)+Math.imul(_,ce)|0,o=o+Math.imul(_,ue)|0,n=n+Math.imul(m,fe)|0,i=(i=i+Math.imul(m,he)|0)+Math.imul(v,fe)|0,o=o+Math.imul(v,he)|0;var xe=(u+(n=n+Math.imul(p,pe)|0)|0)+((8191&(i=(i=i+Math.imul(p,ye)|0)+Math.imul(y,pe)|0))<<13)|0;u=((o=o+Math.imul(y,ye)|0)+(i>>>13)|0)+(xe>>>26)|0,xe&=67108863,n=Math.imul(B,G),i=(i=Math.imul(B,K))+Math.imul(D,G)|0,o=Math.imul(D,K),n=n+Math.imul($,J)|0,i=(i=i+Math.imul($,X)|0)+Math.imul(N,J)|0,o=o+Math.imul(N,X)|0,n=n+Math.imul(R,Q)|0,i=(i=i+Math.imul(R,ee)|0)+Math.imul(k,Q)|0,o=o+Math.imul(k,ee)|0,n=n+Math.imul(P,re)|0,i=(i=i+Math.imul(P,ne)|0)+Math.imul(I,re)|0,o=o+Math.imul(I,ne)|0,n=n+Math.imul(x,oe)|0,i=(i=i+Math.imul(x,se)|0)+Math.imul(A,oe)|0,o=o+Math.imul(A,se)|0,n=n+Math.imul(E,ce)|0,i=(i=i+Math.imul(E,ue)|0)+Math.imul(T,ce)|0,o=o+Math.imul(T,ue)|0,n=n+Math.imul(w,fe)|0,i=(i=i+Math.imul(w,he)|0)+Math.imul(_,fe)|0,o=o+Math.imul(_,he)|0;var Ae=(u+(n=n+Math.imul(m,pe)|0)|0)+((8191&(i=(i=i+Math.imul(m,ye)|0)+Math.imul(v,pe)|0))<<13)|0;u=((o=o+Math.imul(v,ye)|0)+(i>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,n=Math.imul(B,J),i=(i=Math.imul(B,X))+Math.imul(D,J)|0,o=Math.imul(D,X),n=n+Math.imul($,Q)|0,i=(i=i+Math.imul($,ee)|0)+Math.imul(N,Q)|0,o=o+Math.imul(N,ee)|0,n=n+Math.imul(R,re)|0,i=(i=i+Math.imul(R,ne)|0)+Math.imul(k,re)|0,o=o+Math.imul(k,ne)|0,n=n+Math.imul(P,oe)|0,i=(i=i+Math.imul(P,se)|0)+Math.imul(I,oe)|0,o=o+Math.imul(I,se)|0,n=n+Math.imul(x,ce)|0,i=(i=i+Math.imul(x,ue)|0)+Math.imul(A,ce)|0,o=o+Math.imul(A,ue)|0,n=n+Math.imul(E,fe)|0,i=(i=i+Math.imul(E,he)|0)+Math.imul(T,fe)|0,o=o+Math.imul(T,he)|0;var Me=(u+(n=n+Math.imul(w,pe)|0)|0)+((8191&(i=(i=i+Math.imul(w,ye)|0)+Math.imul(_,pe)|0))<<13)|0;u=((o=o+Math.imul(_,ye)|0)+(i>>>13)|0)+(Me>>>26)|0,Me&=67108863,n=Math.imul(B,Q),i=(i=Math.imul(B,ee))+Math.imul(D,Q)|0,o=Math.imul(D,ee),n=n+Math.imul($,re)|0,i=(i=i+Math.imul($,ne)|0)+Math.imul(N,re)|0,o=o+Math.imul(N,ne)|0,n=n+Math.imul(R,oe)|0,i=(i=i+Math.imul(R,se)|0)+Math.imul(k,oe)|0,o=o+Math.imul(k,se)|0,n=n+Math.imul(P,ce)|0,i=(i=i+Math.imul(P,ue)|0)+Math.imul(I,ce)|0,o=o+Math.imul(I,ue)|0,n=n+Math.imul(x,fe)|0,i=(i=i+Math.imul(x,he)|0)+Math.imul(A,fe)|0,o=o+Math.imul(A,he)|0;var Pe=(u+(n=n+Math.imul(E,pe)|0)|0)+((8191&(i=(i=i+Math.imul(E,ye)|0)+Math.imul(T,pe)|0))<<13)|0;u=((o=o+Math.imul(T,ye)|0)+(i>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,n=Math.imul(B,re),i=(i=Math.imul(B,ne))+Math.imul(D,re)|0,o=Math.imul(D,ne),n=n+Math.imul($,oe)|0,i=(i=i+Math.imul($,se)|0)+Math.imul(N,oe)|0,o=o+Math.imul(N,se)|0,n=n+Math.imul(R,ce)|0,i=(i=i+Math.imul(R,ue)|0)+Math.imul(k,ce)|0,o=o+Math.imul(k,ue)|0,n=n+Math.imul(P,fe)|0,i=(i=i+Math.imul(P,he)|0)+Math.imul(I,fe)|0,o=o+Math.imul(I,he)|0;var Ie=(u+(n=n+Math.imul(x,pe)|0)|0)+((8191&(i=(i=i+Math.imul(x,ye)|0)+Math.imul(A,pe)|0))<<13)|0;u=((o=o+Math.imul(A,ye)|0)+(i>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,n=Math.imul(B,oe),i=(i=Math.imul(B,se))+Math.imul(D,oe)|0,o=Math.imul(D,se),n=n+Math.imul($,ce)|0,i=(i=i+Math.imul($,ue)|0)+Math.imul(N,ce)|0,o=o+Math.imul(N,ue)|0,n=n+Math.imul(R,fe)|0,i=(i=i+Math.imul(R,he)|0)+Math.imul(k,fe)|0,o=o+Math.imul(k,he)|0;var je=(u+(n=n+Math.imul(P,pe)|0)|0)+((8191&(i=(i=i+Math.imul(P,ye)|0)+Math.imul(I,pe)|0))<<13)|0;u=((o=o+Math.imul(I,ye)|0)+(i>>>13)|0)+(je>>>26)|0,je&=67108863,n=Math.imul(B,ce),i=(i=Math.imul(B,ue))+Math.imul(D,ce)|0,o=Math.imul(D,ue),n=n+Math.imul($,fe)|0,i=(i=i+Math.imul($,he)|0)+Math.imul(N,fe)|0,o=o+Math.imul(N,he)|0;var Re=(u+(n=n+Math.imul(R,pe)|0)|0)+((8191&(i=(i=i+Math.imul(R,ye)|0)+Math.imul(k,pe)|0))<<13)|0;u=((o=o+Math.imul(k,ye)|0)+(i>>>13)|0)+(Re>>>26)|0,Re&=67108863,n=Math.imul(B,fe),i=(i=Math.imul(B,he))+Math.imul(D,fe)|0,o=Math.imul(D,he);var ke=(u+(n=n+Math.imul($,pe)|0)|0)+((8191&(i=(i=i+Math.imul($,ye)|0)+Math.imul(N,pe)|0))<<13)|0;u=((o=o+Math.imul(N,ye)|0)+(i>>>13)|0)+(ke>>>26)|0,ke&=67108863;var Ce=(u+(n=Math.imul(B,pe))|0)+((8191&(i=(i=Math.imul(B,ye))+Math.imul(D,pe)|0))<<13)|0;return u=((o=Math.imul(D,ye))+(i>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,c[0]=be,c[1]=me,c[2]=ve,c[3]=ge,c[4]=we,c[5]=_e,c[6]=Se,c[7]=Ee,c[8]=Te,c[9]=Oe,c[10]=xe,c[11]=Ae,c[12]=Me,c[13]=Pe,c[14]=Ie,c[15]=je,c[16]=Re,c[17]=ke,c[18]=Ce,0!==u&&(c[19]=u,r.length++),r};function y(e,t,r){return(new b).mulp(e,t,r)}function b(e,t){this.x=e,this.y=t}Math.imul||(p=d),o.prototype.mulTo=function(e,t){var r,n=this.length+e.length;return r=10===this.length&&10===e.length?p(this,e,t):n<63?d(this,e,t):n<1024?function(e,t,r){r.negative=t.negative^e.negative,r.length=e.length+t.length;for(var n=0,i=0,o=0;o<r.length-1;o++){var s=i;i=0;for(var a=67108863&n,c=Math.min(o,t.length-1),u=Math.max(0,o-e.length+1);u<=c;u++){var l=o-u,f=(0|e.words[l])*(0|t.words[u]),h=67108863&f;a=67108863&(h=h+a|0),i+=(s=(s=s+(f/67108864|0)|0)+(h>>>26)|0)>>>26,s&=67108863}r.words[o]=a,n=s,s=i}return 0!==n?r.words[o]=n:r.length--,r.strip()}(this,e,t):y(this,e,t),r},b.prototype.makeRBT=function(e){for(var t=new Array(e),r=o.prototype._countBits(e)-1,n=0;n<e;n++)t[n]=this.revBin(n,r,e);return t},b.prototype.revBin=function(e,t,r){if(0===e||e===r-1)return e;for(var n=0,i=0;i<t;i++)n|=(1&e)<<t-i-1,e>>=1;return n},b.prototype.permute=function(e,t,r,n,i,o){for(var s=0;s<o;s++)n[s]=t[e[s]],i[s]=r[e[s]]},b.prototype.transform=function(e,t,r,n,i,o){this.permute(o,e,t,r,n,i);for(var s=1;s<i;s<<=1)for(var a=s<<1,c=Math.cos(2*Math.PI/a),u=Math.sin(2*Math.PI/a),l=0;l<i;l+=a)for(var f=c,h=u,d=0;d<s;d++){var p=r[l+d],y=n[l+d],b=r[l+d+s],m=n[l+d+s],v=f*b-h*m;m=f*m+h*b,b=v,r[l+d]=p+b,n[l+d]=y+m,r[l+d+s]=p-b,n[l+d+s]=y-m,d!==a&&(v=c*f-u*h,h=c*h+u*f,f=v)}},b.prototype.guessLen13b=function(e,t){var r=1|Math.max(t,e),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},b.prototype.conjugate=function(e,t,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=e[n];e[n]=e[r-n-1],e[r-n-1]=i,i=t[n],t[n]=-t[r-n-1],t[r-n-1]=-i}},b.prototype.normalize13b=function(e,t){for(var r=0,n=0;n<t/2;n++){var i=8192*Math.round(e[2*n+1]/t)+Math.round(e[2*n]/t)+r;e[n]=67108863&i,r=i<67108864?0:i/67108864|0}return e},b.prototype.convert13b=function(e,t,r,i){for(var o=0,s=0;s<t;s++)o+=0|e[s],r[2*s]=8191&o,o>>>=13,r[2*s+1]=8191&o,o>>>=13;for(s=2*t;s<i;++s)r[s]=0;n(0===o),n(!(-8192&o))},b.prototype.stub=function(e){for(var t=new Array(e),r=0;r<e;r++)t[r]=0;return t},b.prototype.mulp=function(e,t,r){var n=2*this.guessLen13b(e.length,t.length),i=this.makeRBT(n),o=this.stub(n),s=new Array(n),a=new Array(n),c=new Array(n),u=new Array(n),l=new Array(n),f=new Array(n),h=r.words;h.length=n,this.convert13b(e.words,e.length,s,n),this.convert13b(t.words,t.length,u,n),this.transform(s,o,a,c,n,i),this.transform(u,o,l,f,n,i);for(var d=0;d<n;d++){var p=a[d]*l[d]-c[d]*f[d];c[d]=a[d]*f[d]+c[d]*l[d],a[d]=p}return this.conjugate(a,c,n),this.transform(a,c,h,o,n,i),this.conjugate(h,o,n),this.normalize13b(h,n),r.negative=e.negative^t.negative,r.length=e.length+t.length,r.strip()},o.prototype.mul=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},o.prototype.mulf=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),y(this,e,t)},o.prototype.imul=function(e){return this.clone().mulTo(e,this)},o.prototype.imuln=function(e){n("number"==typeof e),n(e<67108864);for(var t=0,r=0;r<this.length;r++){var i=(0|this.words[r])*e,o=(67108863&i)+(67108863&t);t>>=26,t+=i/67108864|0,t+=o>>>26,this.words[r]=67108863&o}return 0!==t&&(this.words[r]=t,this.length++),this},o.prototype.muln=function(e){return this.clone().imuln(e)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),r=0;r<t.length;r++){var n=r/26|0,i=r%26;t[r]=(e.words[n]&1<<i)>>>i}return t}(e);if(0===t.length)return new o(1);for(var r=this,n=0;n<t.length&&0===t[n];n++,r=r.sqr());if(++n<t.length)for(var i=r.sqr();n<t.length;n++,i=i.sqr())0!==t[n]&&(r=r.mul(i));return r},o.prototype.iushln=function(e){n("number"==typeof e&&e>=0);var t,r=e%26,i=(e-r)/26,o=67108863>>>26-r<<26-r;if(0!==r){var s=0;for(t=0;t<this.length;t++){var a=this.words[t]&o,c=(0|this.words[t])-a<<r;this.words[t]=c|s,s=a>>>26-r}s&&(this.words[t]=s,this.length++)}if(0!==i){for(t=this.length-1;t>=0;t--)this.words[t+i]=this.words[t];for(t=0;t<i;t++)this.words[t]=0;this.length+=i}return this.strip()},o.prototype.ishln=function(e){return n(0===this.negative),this.iushln(e)},o.prototype.iushrn=function(e,t,r){var i;n("number"==typeof e&&e>=0),i=t?(t-t%26)/26:0;var o=e%26,s=Math.min((e-o)/26,this.length),a=67108863^67108863>>>o<<o,c=r;if(i-=s,i=Math.max(0,i),c){for(var u=0;u<s;u++)c.words[u]=this.words[u];c.length=s}if(0===s);else if(this.length>s)for(this.length-=s,u=0;u<this.length;u++)this.words[u]=this.words[u+s];else this.words[0]=0,this.length=1;var l=0;for(u=this.length-1;u>=0&&(0!==l||u>=i);u--){var f=0|this.words[u];this.words[u]=l<<26-o|f>>>o,l=f&a}return c&&0!==l&&(c.words[c.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(e,t,r){return n(0===this.negative),this.iushrn(e,t,r)},o.prototype.shln=function(e){return this.clone().ishln(e)},o.prototype.ushln=function(e){return this.clone().iushln(e)},o.prototype.shrn=function(e){return this.clone().ishrn(e)},o.prototype.ushrn=function(e){return this.clone().iushrn(e)},o.prototype.testn=function(e){n("number"==typeof e&&e>=0);var t=e%26,r=(e-t)/26,i=1<<t;return!(this.length<=r||!(this.words[r]&i))},o.prototype.imaskn=function(e){n("number"==typeof e&&e>=0);var t=e%26,r=(e-t)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==t&&r++,this.length=Math.min(r,this.length),0!==t){var i=67108863^67108863>>>t<<t;this.words[this.length-1]&=i}return this.strip()},o.prototype.maskn=function(e){return this.clone().imaskn(e)},o.prototype.iaddn=function(e){return n("number"==typeof e),n(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},o.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},o.prototype.isubn=function(e){if(n("number"==typeof e),n(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this.strip()},o.prototype.addn=function(e){return this.clone().iaddn(e)},o.prototype.subn=function(e){return this.clone().isubn(e)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(e,t,r){var i,o,s=e.length+r;this._expand(s);var a=0;for(i=0;i<e.length;i++){o=(0|this.words[i+r])+a;var c=(0|e.words[i])*t;a=((o-=67108863&c)>>26)-(c/67108864|0),this.words[i+r]=67108863&o}for(;i<this.length-r;i++)a=(o=(0|this.words[i+r])+a)>>26,this.words[i+r]=67108863&o;if(0===a)return this.strip();for(n(-1===a),a=0,i=0;i<this.length;i++)a=(o=-(0|this.words[i])+a)>>26,this.words[i]=67108863&o;return this.negative=1,this.strip()},o.prototype._wordDiv=function(e,t){var r=(this.length,e.length),n=this.clone(),i=e,s=0|i.words[i.length-1];0!=(r=26-this._countBits(s))&&(i=i.ushln(r),n.iushln(r),s=0|i.words[i.length-1]);var a,c=n.length-i.length;if("mod"!==t){(a=new o(null)).length=c+1,a.words=new Array(a.length);for(var u=0;u<a.length;u++)a.words[u]=0}var l=n.clone()._ishlnsubmul(i,1,c);0===l.negative&&(n=l,a&&(a.words[c]=1));for(var f=c-1;f>=0;f--){var h=67108864*(0|n.words[i.length+f])+(0|n.words[i.length+f-1]);for(h=Math.min(h/s|0,67108863),n._ishlnsubmul(i,h,f);0!==n.negative;)h--,n.negative=0,n._ishlnsubmul(i,1,f),n.isZero()||(n.negative^=1);a&&(a.words[f]=h)}return a&&a.strip(),n.strip(),"div"!==t&&0!==r&&n.iushrn(r),{div:a||null,mod:n}},o.prototype.divmod=function(e,t,r){return n(!e.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===e.negative?(a=this.neg().divmod(e,t),"mod"!==t&&(i=a.div.neg()),"div"!==t&&(s=a.mod.neg(),r&&0!==s.negative&&s.iadd(e)),{div:i,mod:s}):0===this.negative&&0!==e.negative?(a=this.divmod(e.neg(),t),"mod"!==t&&(i=a.div.neg()),{div:i,mod:a.mod}):this.negative&e.negative?(a=this.neg().divmod(e.neg(),t),"div"!==t&&(s=a.mod.neg(),r&&0!==s.negative&&s.isub(e)),{div:a.div,mod:s}):e.length>this.length||this.cmp(e)<0?{div:new o(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new o(this.modn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new o(this.modn(e.words[0]))}:this._wordDiv(e,t);var i,s,a},o.prototype.div=function(e){return this.divmod(e,"div",!1).div},o.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},o.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},o.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var r=0!==t.div.negative?t.mod.isub(e):t.mod,n=e.ushrn(1),i=e.andln(1),o=r.cmp(n);return o<0||1===i&&0===o?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},o.prototype.modn=function(e){n(e<=67108863);for(var t=(1<<26)%e,r=0,i=this.length-1;i>=0;i--)r=(t*r+(0|this.words[i]))%e;return r},o.prototype.idivn=function(e){n(e<=67108863);for(var t=0,r=this.length-1;r>=0;r--){var i=(0|this.words[r])+67108864*t;this.words[r]=i/e|0,t=i%e}return this.strip()},o.prototype.divn=function(e){return this.clone().idivn(e)},o.prototype.egcd=function(e){n(0===e.negative),n(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i=new o(1),s=new o(0),a=new o(0),c=new o(1),u=0;t.isEven()&&r.isEven();)t.iushrn(1),r.iushrn(1),++u;for(var l=r.clone(),f=t.clone();!t.isZero();){for(var h=0,d=1;!(t.words[0]&d)&&h<26;++h,d<<=1);if(h>0)for(t.iushrn(h);h-- >0;)(i.isOdd()||s.isOdd())&&(i.iadd(l),s.isub(f)),i.iushrn(1),s.iushrn(1);for(var p=0,y=1;!(r.words[0]&y)&&p<26;++p,y<<=1);if(p>0)for(r.iushrn(p);p-- >0;)(a.isOdd()||c.isOdd())&&(a.iadd(l),c.isub(f)),a.iushrn(1),c.iushrn(1);t.cmp(r)>=0?(t.isub(r),i.isub(a),s.isub(c)):(r.isub(t),a.isub(i),c.isub(s))}return{a,b:c,gcd:r.iushln(u)}},o.prototype._invmp=function(e){n(0===e.negative),n(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i,s=new o(1),a=new o(0),c=r.clone();t.cmpn(1)>0&&r.cmpn(1)>0;){for(var u=0,l=1;!(t.words[0]&l)&&u<26;++u,l<<=1);if(u>0)for(t.iushrn(u);u-- >0;)s.isOdd()&&s.iadd(c),s.iushrn(1);for(var f=0,h=1;!(r.words[0]&h)&&f<26;++f,h<<=1);if(f>0)for(r.iushrn(f);f-- >0;)a.isOdd()&&a.iadd(c),a.iushrn(1);t.cmp(r)>=0?(t.isub(r),s.isub(a)):(r.isub(t),a.isub(s))}return(i=0===t.cmpn(1)?s:a).cmpn(0)<0&&i.iadd(e),i},o.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),r=e.clone();t.negative=0,r.negative=0;for(var n=0;t.isEven()&&r.isEven();n++)t.iushrn(1),r.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=t.cmp(r);if(i<0){var o=t;t=r,r=o}else if(0===i||0===r.cmpn(1))break;t.isub(r)}return r.iushln(n)},o.prototype.invm=function(e){return this.egcd(e).a.umod(e)},o.prototype.isEven=function(){return!(1&this.words[0])},o.prototype.isOdd=function(){return!(1&~this.words[0])},o.prototype.andln=function(e){return this.words[0]&e},o.prototype.bincn=function(e){n("number"==typeof e);var t=e%26,r=(e-t)/26,i=1<<t;if(this.length<=r)return this._expand(r+1),this.words[r]|=i,this;for(var o=i,s=r;0!==o&&s<this.length;s++){var a=0|this.words[s];o=(a+=o)>>>26,a&=67108863,this.words[s]=a}return 0!==o&&(this.words[s]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(e){var t,r=e<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this.strip(),this.length>1)t=1;else{r&&(e=-e),n(e<=67108863,"Number is too big");var i=0|this.words[0];t=i===e?0:i<e?-1:1}return 0!==this.negative?0|-t:t},o.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},o.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|e.words[r];if(n!==i){n<i?t=-1:n>i&&(t=1);break}}return t},o.prototype.gtn=function(e){return 1===this.cmpn(e)},o.prototype.gt=function(e){return 1===this.cmp(e)},o.prototype.gten=function(e){return this.cmpn(e)>=0},o.prototype.gte=function(e){return this.cmp(e)>=0},o.prototype.ltn=function(e){return-1===this.cmpn(e)},o.prototype.lt=function(e){return-1===this.cmp(e)},o.prototype.lten=function(e){return this.cmpn(e)<=0},o.prototype.lte=function(e){return this.cmp(e)<=0},o.prototype.eqn=function(e){return 0===this.cmpn(e)},o.prototype.eq=function(e){return 0===this.cmp(e)},o.red=function(e){return new E(e)},o.prototype.toRed=function(e){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},o.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(e){return this.red=e,this},o.prototype.forceRed=function(e){return n(!this.red,"Already a number in reduction context"),this._forceRed(e)},o.prototype.redAdd=function(e){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},o.prototype.redIAdd=function(e){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},o.prototype.redSub=function(e){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},o.prototype.redISub=function(e){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},o.prototype.redShl=function(e){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},o.prototype.redMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},o.prototype.redIMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},o.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(e){return n(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var m={k256:null,p224:null,p192:null,p25519:null};function v(e,t){this.name=e,this.p=new o(t,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function g(){v.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function w(){v.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function _(){v.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function S(){v.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function E(e){if("string"==typeof e){var t=o._prime(e);this.m=t.p,this.prime=t}else n(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function T(e){E.call(this,e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}v.prototype._tmp=function(){var e=new o(null);return e.words=new Array(Math.ceil(this.n/13)),e},v.prototype.ireduce=function(e){var t,r=e;do{this.split(r,this.tmp),t=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(t>this.n);var n=t<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},v.prototype.split=function(e,t){e.iushrn(this.n,0,t)},v.prototype.imulK=function(e){return e.imul(this.k)},i(g,v),g.prototype.split=function(e,t){for(var r=4194303,n=Math.min(e.length,9),i=0;i<n;i++)t.words[i]=e.words[i];if(t.length=n,e.length<=9)return e.words[0]=0,void(e.length=1);var o=e.words[9];for(t.words[t.length++]=o&r,i=10;i<e.length;i++){var s=0|e.words[i];e.words[i-10]=(s&r)<<4|o>>>22,o=s}o>>>=22,e.words[i-10]=o,0===o&&e.length>10?e.length-=10:e.length-=9},g.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,r=0;r<e.length;r++){var n=0|e.words[r];t+=977*n,e.words[r]=67108863&t,t=64*n+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},i(w,v),i(_,v),i(S,v),S.prototype.imulK=function(e){for(var t=0,r=0;r<e.length;r++){var n=19*(0|e.words[r])+t,i=67108863&n;n>>>=26,e.words[r]=i,t=n}return 0!==t&&(e.words[e.length++]=t),e},o._prime=function(e){if(m[e])return m[e];var t;if("k256"===e)t=new g;else if("p224"===e)t=new w;else if("p192"===e)t=new _;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new S}return m[e]=t,t},E.prototype._verify1=function(e){n(0===e.negative,"red works only with positives"),n(e.red,"red works only with red numbers")},E.prototype._verify2=function(e,t){n(!(e.negative|t.negative),"red works only with positives"),n(e.red&&e.red===t.red,"red works only with red numbers")},E.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):e.umod(this.m)._forceRed(this)},E.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},E.prototype.add=function(e,t){this._verify2(e,t);var r=e.add(t);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},E.prototype.iadd=function(e,t){this._verify2(e,t);var r=e.iadd(t);return r.cmp(this.m)>=0&&r.isub(this.m),r},E.prototype.sub=function(e,t){this._verify2(e,t);var r=e.sub(t);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},E.prototype.isub=function(e,t){this._verify2(e,t);var r=e.isub(t);return r.cmpn(0)<0&&r.iadd(this.m),r},E.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},E.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},E.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},E.prototype.isqr=function(e){return this.imul(e,e.clone())},E.prototype.sqr=function(e){return this.mul(e,e)},E.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(n(t%2==1),3===t){var r=this.m.add(new o(1)).iushrn(2);return this.pow(e,r)}for(var i=this.m.subn(1),s=0;!i.isZero()&&0===i.andln(1);)s++,i.iushrn(1);n(!i.isZero());var a=new o(1).toRed(this),c=a.redNeg(),u=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new o(2*l*l).toRed(this);0!==this.pow(l,u).cmp(c);)l.redIAdd(c);for(var f=this.pow(l,i),h=this.pow(e,i.addn(1).iushrn(1)),d=this.pow(e,i),p=s;0!==d.cmp(a);){for(var y=d,b=0;0!==y.cmp(a);b++)y=y.redSqr();n(b<p);var m=this.pow(f,new o(1).iushln(p-b-1));h=h.redMul(m),f=m.redSqr(),d=d.redMul(f),p=b}return h},E.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},E.prototype.pow=function(e,t){if(t.isZero())return new o(1).toRed(this);if(0===t.cmpn(1))return e.clone();var r=new Array(16);r[0]=new o(1).toRed(this),r[1]=e;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],e);var i=r[0],s=0,a=0,c=t.bitLength()%26;for(0===c&&(c=26),n=t.length-1;n>=0;n--){for(var u=t.words[n],l=c-1;l>=0;l--){var f=u>>l&1;i!==r[0]&&(i=this.sqr(i)),0!==f||0!==s?(s<<=1,s|=f,(4==++a||0===n&&0===l)&&(i=this.mul(i,r[s]),a=0,s=0)):a=0}c=26}return i},E.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},E.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},o.mont=function(e){return new T(e)},i(T,E),T.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},T.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},T.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var r=e.imul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},T.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new o(0)._forceRed(this);var r=e.mul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),s=i;return i.cmp(this.m)>=0?s=i.isub(this.m):i.cmpn(0)<0&&(s=i.iadd(this.m)),s._forceRed(this)},T.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(e=r.nmd(e),this)},47048:(e,t,r)=>{var n;function i(e){this.rand=e}if(e.exports=function(e){return n||(n=new i(null)),n.generate(e)},e.exports.Rand=i,i.prototype.generate=function(e){return this._rand(e)},i.prototype._rand=function(e){if(this.rand.getBytes)return this.rand.getBytes(e);for(var t=new Uint8Array(e),r=0;r<t.length;r++)t[r]=this.rand.getByte();return t},"object"==typeof self)self.crypto&&self.crypto.getRandomValues?i.prototype._rand=function(e){var t=new Uint8Array(e);return self.crypto.getRandomValues(t),t}:self.msCrypto&&self.msCrypto.getRandomValues?i.prototype._rand=function(e){var t=new Uint8Array(e);return self.msCrypto.getRandomValues(t),t}:"object"==typeof window&&(i.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var o=r(93553);if("function"!=typeof o.randomBytes)throw new Error("Not supported");i.prototype._rand=function(e){return o.randomBytes(e)}}catch(e){}},60921:(e,t,r)=>{var n=r(25636).Buffer;function i(e){n.isBuffer(e)||(e=n.from(e));for(var t=e.length/4|0,r=new Array(t),i=0;i<t;i++)r[i]=e.readUInt32BE(4*i);return r}function o(e){for(;0<e.length;e++)e[0]=0}function s(e,t,r,n,i){for(var o,s,a,c,u=r[0],l=r[1],f=r[2],h=r[3],d=e[0]^t[0],p=e[1]^t[1],y=e[2]^t[2],b=e[3]^t[3],m=4,v=1;v<i;v++)o=u[d>>>24]^l[p>>>16&255]^f[y>>>8&255]^h[255&b]^t[m++],s=u[p>>>24]^l[y>>>16&255]^f[b>>>8&255]^h[255&d]^t[m++],a=u[y>>>24]^l[b>>>16&255]^f[d>>>8&255]^h[255&p]^t[m++],c=u[b>>>24]^l[d>>>16&255]^f[p>>>8&255]^h[255&y]^t[m++],d=o,p=s,y=a,b=c;return o=(n[d>>>24]<<24|n[p>>>16&255]<<16|n[y>>>8&255]<<8|n[255&b])^t[m++],s=(n[p>>>24]<<24|n[y>>>16&255]<<16|n[b>>>8&255]<<8|n[255&d])^t[m++],a=(n[y>>>24]<<24|n[b>>>16&255]<<16|n[d>>>8&255]<<8|n[255&p])^t[m++],c=(n[b>>>24]<<24|n[d>>>16&255]<<16|n[p>>>8&255]<<8|n[255&y])^t[m++],[o>>>=0,s>>>=0,a>>>=0,c>>>=0]}var a=[0,1,2,4,8,16,32,64,128,27,54],c=function(){for(var e=new Array(256),t=0;t<256;t++)e[t]=t<128?t<<1:t<<1^283;for(var r=[],n=[],i=[[],[],[],[]],o=[[],[],[],[]],s=0,a=0,c=0;c<256;++c){var u=a^a<<1^a<<2^a<<3^a<<4;u=u>>>8^255&u^99,r[s]=u,n[u]=s;var l=e[s],f=e[l],h=e[f],d=257*e[u]^16843008*u;i[0][s]=d<<24|d>>>8,i[1][s]=d<<16|d>>>16,i[2][s]=d<<8|d>>>24,i[3][s]=d,d=16843009*h^65537*f^257*l^16843008*s,o[0][u]=d<<24|d>>>8,o[1][u]=d<<16|d>>>16,o[2][u]=d<<8|d>>>24,o[3][u]=d,0===s?s=a=1:(s=l^e[e[e[h^l]]],a^=e[e[a]])}return{SBOX:r,INV_SBOX:n,SUB_MIX:i,INV_SUB_MIX:o}}();function u(e){this._key=i(e),this._reset()}u.blockSize=16,u.keySize=32,u.prototype.blockSize=u.blockSize,u.prototype.keySize=u.keySize,u.prototype._reset=function(){for(var e=this._key,t=e.length,r=t+6,n=4*(r+1),i=[],o=0;o<t;o++)i[o]=e[o];for(o=t;o<n;o++){var s=i[o-1];o%t==0?(s=s<<8|s>>>24,s=c.SBOX[s>>>24]<<24|c.SBOX[s>>>16&255]<<16|c.SBOX[s>>>8&255]<<8|c.SBOX[255&s],s^=a[o/t|0]<<24):t>6&&o%t==4&&(s=c.SBOX[s>>>24]<<24|c.SBOX[s>>>16&255]<<16|c.SBOX[s>>>8&255]<<8|c.SBOX[255&s]),i[o]=i[o-t]^s}for(var u=[],l=0;l<n;l++){var f=n-l,h=i[f-(l%4?0:4)];u[l]=l<4||f<=4?h:c.INV_SUB_MIX[0][c.SBOX[h>>>24]]^c.INV_SUB_MIX[1][c.SBOX[h>>>16&255]]^c.INV_SUB_MIX[2][c.SBOX[h>>>8&255]]^c.INV_SUB_MIX[3][c.SBOX[255&h]]}this._nRounds=r,this._keySchedule=i,this._invKeySchedule=u},u.prototype.encryptBlockRaw=function(e){return s(e=i(e),this._keySchedule,c.SUB_MIX,c.SBOX,this._nRounds)},u.prototype.encryptBlock=function(e){var t=this.encryptBlockRaw(e),r=n.allocUnsafe(16);return r.writeUInt32BE(t[0],0),r.writeUInt32BE(t[1],4),r.writeUInt32BE(t[2],8),r.writeUInt32BE(t[3],12),r},u.prototype.decryptBlock=function(e){var t=(e=i(e))[1];e[1]=e[3],e[3]=t;var r=s(e,this._invKeySchedule,c.INV_SUB_MIX,c.INV_SBOX,this._nRounds),o=n.allocUnsafe(16);return o.writeUInt32BE(r[0],0),o.writeUInt32BE(r[3],4),o.writeUInt32BE(r[2],8),o.writeUInt32BE(r[1],12),o},u.prototype.scrub=function(){o(this._keySchedule),o(this._invKeySchedule),o(this._key)},e.exports.AES=u},4029:(e,t,r)=>{var n=r(60921),i=r(25636).Buffer,o=r(47589),s=r(35615),a=r(24803),c=r(72444),u=r(62379);function l(e,t,r,s){o.call(this);var c=i.alloc(4,0);this._cipher=new n.AES(t);var l=this._cipher.encryptBlock(c);this._ghash=new a(l),r=function(e,t,r){if(12===t.length)return e._finID=i.concat([t,i.from([0,0,0,1])]),i.concat([t,i.from([0,0,0,2])]);var n=new a(r),o=t.length,s=o%16;n.update(t),s&&(s=16-s,n.update(i.alloc(s,0))),n.update(i.alloc(8,0));var c=8*o,l=i.alloc(8);l.writeUIntBE(c,0,8),n.update(l),e._finID=n.state;var f=i.from(e._finID);return u(f),f}(this,r,l),this._prev=i.from(r),this._cache=i.allocUnsafe(0),this._secCache=i.allocUnsafe(0),this._decrypt=s,this._alen=0,this._len=0,this._mode=e,this._authTag=null,this._called=!1}s(l,o),l.prototype._update=function(e){if(!this._called&&this._alen){var t=16-this._alen%16;t<16&&(t=i.alloc(t,0),this._ghash.update(t))}this._called=!0;var r=this._mode.encrypt(this,e);return this._decrypt?this._ghash.update(e):this._ghash.update(r),this._len+=e.length,r},l.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var e=c(this._ghash.final(8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt&&function(e,t){var r=0;e.length!==t.length&&r++;for(var n=Math.min(e.length,t.length),i=0;i<n;++i)r+=e[i]^t[i];return r}(e,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=e,this._cipher.scrub()},l.prototype.getAuthTag=function(){if(this._decrypt||!i.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},l.prototype.setAuthTag=function(e){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=e},l.prototype.setAAD=function(e){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(e),this._alen+=e.length},e.exports=l},50178:(e,t,r)=>{var n=r(90692),i=r(42096),o=r(50006);t.createCipher=t.Cipher=n.createCipher,t.createCipheriv=t.Cipheriv=n.createCipheriv,t.createDecipher=t.Decipher=i.createDecipher,t.createDecipheriv=t.Decipheriv=i.createDecipheriv,t.listCiphers=t.getCiphers=function(){return Object.keys(o)}},42096:(e,t,r)=>{var n=r(4029),i=r(25636).Buffer,o=r(78197),s=r(17695),a=r(47589),c=r(60921),u=r(28981);function l(e,t,r){a.call(this),this._cache=new f,this._last=void 0,this._cipher=new c.AES(t),this._prev=i.from(r),this._mode=e,this._autopadding=!0}function f(){this.cache=i.allocUnsafe(0)}function h(e,t,r){var a=o[e.toLowerCase()];if(!a)throw new TypeError("invalid suite type");if("string"==typeof r&&(r=i.from(r)),"GCM"!==a.mode&&r.length!==a.iv)throw new TypeError("invalid iv length "+r.length);if("string"==typeof t&&(t=i.from(t)),t.length!==a.key/8)throw new TypeError("invalid key length "+t.length);return"stream"===a.type?new s(a.module,t,r,!0):"auth"===a.type?new n(a.module,t,r,!0):new l(a.module,t,r)}r(35615)(l,a),l.prototype._update=function(e){var t,r;this._cache.add(e);for(var n=[];t=this._cache.get(this._autopadding);)r=this._mode.decrypt(this,t),n.push(r);return i.concat(n)},l.prototype._final=function(){var e=this._cache.flush();if(this._autopadding)return function(e){var t=e[15];if(t<1||t>16)throw new Error("unable to decrypt data");for(var r=-1;++r<t;)if(e[r+(16-t)]!==t)throw new Error("unable to decrypt data");if(16!==t)return e.slice(0,16-t)}(this._mode.decrypt(this,e));if(e)throw new Error("data not multiple of block length")},l.prototype.setAutoPadding=function(e){return this._autopadding=!!e,this},f.prototype.add=function(e){this.cache=i.concat([this.cache,e])},f.prototype.get=function(e){var t;if(e){if(this.cache.length>16)return t=this.cache.slice(0,16),this.cache=this.cache.slice(16),t}else if(this.cache.length>=16)return t=this.cache.slice(0,16),this.cache=this.cache.slice(16),t;return null},f.prototype.flush=function(){if(this.cache.length)return this.cache},t.createDecipher=function(e,t){var r=o[e.toLowerCase()];if(!r)throw new TypeError("invalid suite type");var n=u(t,!1,r.key,r.iv);return h(e,n.key,n.iv)},t.createDecipheriv=h},90692:(e,t,r)=>{var n=r(78197),i=r(4029),o=r(25636).Buffer,s=r(17695),a=r(47589),c=r(60921),u=r(28981);function l(e,t,r){a.call(this),this._cache=new h,this._cipher=new c.AES(t),this._prev=o.from(r),this._mode=e,this._autopadding=!0}r(35615)(l,a),l.prototype._update=function(e){var t,r;this._cache.add(e);for(var n=[];t=this._cache.get();)r=this._mode.encrypt(this,t),n.push(r);return o.concat(n)};var f=o.alloc(16,16);function h(){this.cache=o.allocUnsafe(0)}function d(e,t,r){var a=n[e.toLowerCase()];if(!a)throw new TypeError("invalid suite type");if("string"==typeof t&&(t=o.from(t)),t.length!==a.key/8)throw new TypeError("invalid key length "+t.length);if("string"==typeof r&&(r=o.from(r)),"GCM"!==a.mode&&r.length!==a.iv)throw new TypeError("invalid iv length "+r.length);return"stream"===a.type?new s(a.module,t,r):"auth"===a.type?new i(a.module,t,r):new l(a.module,t,r)}l.prototype._final=function(){var e=this._cache.flush();if(this._autopadding)return e=this._mode.encrypt(this,e),this._cipher.scrub(),e;if(!e.equals(f))throw this._cipher.scrub(),new Error("data not multiple of block length")},l.prototype.setAutoPadding=function(e){return this._autopadding=!!e,this},h.prototype.add=function(e){this.cache=o.concat([this.cache,e])},h.prototype.get=function(){if(this.cache.length>15){var e=this.cache.slice(0,16);return this.cache=this.cache.slice(16),e}return null},h.prototype.flush=function(){for(var e=16-this.cache.length,t=o.allocUnsafe(e),r=-1;++r<e;)t.writeUInt8(e,r);return o.concat([this.cache,t])},t.createCipheriv=d,t.createCipher=function(e,t){var r=n[e.toLowerCase()];if(!r)throw new TypeError("invalid suite type");var i=u(t,!1,r.key,r.iv);return d(e,i.key,i.iv)}},24803:(e,t,r)=>{var n=r(25636).Buffer,i=n.alloc(16,0);function o(e){var t=n.allocUnsafe(16);return t.writeUInt32BE(e[0]>>>0,0),t.writeUInt32BE(e[1]>>>0,4),t.writeUInt32BE(e[2]>>>0,8),t.writeUInt32BE(e[3]>>>0,12),t}function s(e){this.h=e,this.state=n.alloc(16,0),this.cache=n.allocUnsafe(0)}s.prototype.ghash=function(e){for(var t=-1;++t<e.length;)this.state[t]^=e[t];this._multiply()},s.prototype._multiply=function(){for(var e,t,r,n=[(e=this.h).readUInt32BE(0),e.readUInt32BE(4),e.readUInt32BE(8),e.readUInt32BE(12)],i=[0,0,0,0],s=-1;++s<128;){for(!!(this.state[~~(s/8)]&1<<7-s%8)&&(i[0]^=n[0],i[1]^=n[1],i[2]^=n[2],i[3]^=n[3]),r=!!(1&n[3]),t=3;t>0;t--)n[t]=n[t]>>>1|(1&n[t-1])<<31;n[0]=n[0]>>>1,r&&(n[0]=n[0]^225<<24)}this.state=o(i)},s.prototype.update=function(e){var t;for(this.cache=n.concat([this.cache,e]);this.cache.length>=16;)t=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(t)},s.prototype.final=function(e,t){return this.cache.length&&this.ghash(n.concat([this.cache,i],16)),this.ghash(o([0,e,0,t])),this.state},e.exports=s},62379:e=>{e.exports=function(e){for(var t,r=e.length;r--;){if(255!==(t=e.readUInt8(r))){t++,e.writeUInt8(t,r);break}e.writeUInt8(0,r)}}},15923:(e,t,r)=>{var n=r(72444);t.encrypt=function(e,t){var r=n(t,e._prev);return e._prev=e._cipher.encryptBlock(r),e._prev},t.decrypt=function(e,t){var r=e._prev;e._prev=t;var i=e._cipher.decryptBlock(t);return n(i,r)}},82840:(e,t,r)=>{var n=r(25636).Buffer,i=r(72444);function o(e,t,r){var o=t.length,s=i(t,e._cache);return e._cache=e._cache.slice(o),e._prev=n.concat([e._prev,r?t:s]),s}t.encrypt=function(e,t,r){for(var i,s=n.allocUnsafe(0);t.length;){if(0===e._cache.length&&(e._cache=e._cipher.encryptBlock(e._prev),e._prev=n.allocUnsafe(0)),!(e._cache.length<=t.length)){s=n.concat([s,o(e,t,r)]);break}i=e._cache.length,s=n.concat([s,o(e,t.slice(0,i),r)]),t=t.slice(i)}return s}},43081:(e,t,r)=>{var n=r(25636).Buffer;function i(e,t,r){for(var n,i,s=-1,a=0;++s<8;)n=t&1<<7-s?128:0,a+=(128&(i=e._cipher.encryptBlock(e._prev)[0]^n))>>s%8,e._prev=o(e._prev,r?n:i);return a}function o(e,t){var r=e.length,i=-1,o=n.allocUnsafe(e.length);for(e=n.concat([e,n.from([t])]);++i<r;)o[i]=e[i]<<1|e[i+1]>>7;return o}t.encrypt=function(e,t,r){for(var o=t.length,s=n.allocUnsafe(o),a=-1;++a<o;)s[a]=i(e,t[a],r);return s}},73250:(e,t,r)=>{var n=r(25636).Buffer;function i(e,t,r){var i=e._cipher.encryptBlock(e._prev)[0]^t;return e._prev=n.concat([e._prev.slice(1),n.from([r?t:i])]),i}t.encrypt=function(e,t,r){for(var o=t.length,s=n.allocUnsafe(o),a=-1;++a<o;)s[a]=i(e,t[a],r);return s}},97306:(e,t,r)=>{var n=r(72444),i=r(25636).Buffer,o=r(62379);function s(e){var t=e._cipher.encryptBlockRaw(e._prev);return o(e._prev),t}t.encrypt=function(e,t){var r=Math.ceil(t.length/16),o=e._cache.length;e._cache=i.concat([e._cache,i.allocUnsafe(16*r)]);for(var a=0;a<r;a++){var c=s(e),u=o+16*a;e._cache.writeUInt32BE(c[0],u+0),e._cache.writeUInt32BE(c[1],u+4),e._cache.writeUInt32BE(c[2],u+8),e._cache.writeUInt32BE(c[3],u+12)}var l=e._cache.slice(0,t.length);return e._cache=e._cache.slice(t.length),n(t,l)}},77347:(e,t)=>{t.encrypt=function(e,t){return e._cipher.encryptBlock(t)},t.decrypt=function(e,t){return e._cipher.decryptBlock(t)}},78197:(e,t,r)=>{var n={ECB:r(77347),CBC:r(15923),CFB:r(82840),CFB8:r(73250),CFB1:r(43081),OFB:r(43228),CTR:r(97306),GCM:r(97306)},i=r(50006);for(var o in i)i[o].module=n[i[o].mode];e.exports=i},43228:(e,t,r)=>{var n=r(1048).Buffer,i=r(72444);function o(e){return e._prev=e._cipher.encryptBlock(e._prev),e._prev}t.encrypt=function(e,t){for(;e._cache.length<t.length;)e._cache=n.concat([e._cache,o(e)]);var r=e._cache.slice(0,t.length);return e._cache=e._cache.slice(t.length),i(t,r)}},17695:(e,t,r)=>{var n=r(60921),i=r(25636).Buffer,o=r(47589);function s(e,t,r,s){o.call(this),this._cipher=new n.AES(t),this._prev=i.from(r),this._cache=i.allocUnsafe(0),this._secCache=i.allocUnsafe(0),this._decrypt=s,this._mode=e}r(35615)(s,o),s.prototype._update=function(e){return this._mode.encrypt(this,e,this._decrypt)},s.prototype._final=function(){this._cipher.scrub()},e.exports=s},67172:(e,t,r)=>{var n=r(70681),i=r(50178),o=r(78197),s=r(15913),a=r(28981);function c(e,t,r){if(e=e.toLowerCase(),o[e])return i.createCipheriv(e,t,r);if(s[e])return new n({key:t,iv:r,mode:e});throw new TypeError("invalid suite type")}function u(e,t,r){if(e=e.toLowerCase(),o[e])return i.createDecipheriv(e,t,r);if(s[e])return new n({key:t,iv:r,mode:e,decrypt:!0});throw new TypeError("invalid suite type")}t.createCipher=t.Cipher=function(e,t){var r,n;if(e=e.toLowerCase(),o[e])r=o[e].key,n=o[e].iv;else{if(!s[e])throw new TypeError("invalid suite type");r=8*s[e].key,n=s[e].iv}var i=a(t,!1,r,n);return c(e,i.key,i.iv)},t.createCipheriv=t.Cipheriv=c,t.createDecipher=t.Decipher=function(e,t){var r,n;if(e=e.toLowerCase(),o[e])r=o[e].key,n=o[e].iv;else{if(!s[e])throw new TypeError("invalid suite type");r=8*s[e].key,n=s[e].iv}var i=a(t,!1,r,n);return u(e,i.key,i.iv)},t.createDecipheriv=t.Decipheriv=u,t.listCiphers=t.getCiphers=function(){return Object.keys(s).concat(i.getCiphers())}},70681:(e,t,r)=>{var n=r(47589),i=r(52431),o=r(35615),s=r(25636).Buffer,a={"des-ede3-cbc":i.CBC.instantiate(i.EDE),"des-ede3":i.EDE,"des-ede-cbc":i.CBC.instantiate(i.EDE),"des-ede":i.EDE,"des-cbc":i.CBC.instantiate(i.DES),"des-ecb":i.DES};function c(e){n.call(this);var t,r=e.mode.toLowerCase(),i=a[r];t=e.decrypt?"decrypt":"encrypt";var o=e.key;s.isBuffer(o)||(o=s.from(o)),"des-ede"!==r&&"des-ede-cbc"!==r||(o=s.concat([o,o.slice(0,8)]));var c=e.iv;s.isBuffer(c)||(c=s.from(c)),this._des=i.create({key:o,iv:c,type:t})}a.des=a["des-cbc"],a.des3=a["des-ede3-cbc"],e.exports=c,o(c,n),c.prototype._update=function(e){return s.from(this._des.update(e))},c.prototype._final=function(){return s.from(this._des.final())}},15913:(e,t)=>{t["des-ecb"]={key:8,iv:0},t["des-cbc"]=t.des={key:8,iv:8},t["des-ede3-cbc"]=t.des3={key:24,iv:8},t["des-ede3"]={key:24,iv:0},t["des-ede-cbc"]={key:16,iv:8},t["des-ede"]={key:16,iv:0}},84215:(e,t,r)=>{var n=r(1048).Buffer,i=r(58930),o=r(22644);function s(e){var t,r=e.modulus.byteLength();do{t=new i(o(r))}while(t.cmp(e.modulus)>=0||!t.umod(e.prime1)||!t.umod(e.prime2));return t}function a(e,t){var r=function(e){var t=s(e);return{blinder:t.toRed(i.mont(e.modulus)).redPow(new i(e.publicExponent)).fromRed(),unblinder:t.invm(e.modulus)}}(t),o=t.modulus.byteLength(),a=new i(e).mul(r.blinder).umod(t.modulus),c=a.toRed(i.mont(t.prime1)),u=a.toRed(i.mont(t.prime2)),l=t.coefficient,f=t.prime1,h=t.prime2,d=c.redPow(t.exponent1).fromRed(),p=u.redPow(t.exponent2).fromRed(),y=d.isub(p).imul(l).umod(f).imul(h);return p.iadd(y).imul(r.unblinder).umod(t.modulus).toArrayLike(n,"be",o)}a.getr=s,e.exports=a},58930:function(e,t,r){!function(e,t){function n(e,t){if(!e)throw new Error(t||"Assertion failed")}function i(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}function o(e,t,r){if(o.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(r=t,t=10),this._init(e||0,t||10,r||"be"))}var s;"object"==typeof e?e.exports=o:t.BN=o,o.BN=o,o.wordSize=26;try{s="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:r(14432).Buffer}catch(e){}function a(e,t){var r=e.charCodeAt(t);return r>=48&&r<=57?r-48:r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:void n(!1,"Invalid character in "+e)}function c(e,t,r){var n=a(e,r);return r-1>=t&&(n|=a(e,r-1)<<4),n}function u(e,t,r,i){for(var o=0,s=0,a=Math.min(e.length,r),c=t;c<a;c++){var u=e.charCodeAt(c)-48;o*=i,s=u>=49?u-49+10:u>=17?u-17+10:u,n(u>=0&&s<i,"Invalid character"),o+=s}return o}function l(e,t){e.words=t.words,e.length=t.length,e.negative=t.negative,e.red=t.red}if(o.isBN=function(e){return e instanceof o||null!==e&&"object"==typeof e&&e.constructor.wordSize===o.wordSize&&Array.isArray(e.words)},o.max=function(e,t){return e.cmp(t)>0?e:t},o.min=function(e,t){return e.cmp(t)<0?e:t},o.prototype._init=function(e,t,r){if("number"==typeof e)return this._initNumber(e,t,r);if("object"==typeof e)return this._initArray(e,t,r);"hex"===t&&(t=16),n(t===(0|t)&&t>=2&&t<=36);var i=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<e.length&&(16===t?this._parseHex(e,i,r):(this._parseBase(e,t,i),"le"===r&&this._initArray(this.toArray(),t,r)))},o.prototype._initNumber=function(e,t,r){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(n(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),t,r)},o.prototype._initArray=function(e,t,r){if(n("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,s,a=0;if("be"===r)for(i=e.length-1,o=0;i>=0;i-=3)s=e[i]|e[i-1]<<8|e[i-2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);else if("le"===r)for(i=0,o=0;i<e.length;i+=3)s=e[i]|e[i+1]<<8|e[i+2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);return this._strip()},o.prototype._parseHex=function(e,t,r){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var i,o=0,s=0;if("be"===r)for(n=e.length-1;n>=t;n-=2)i=c(e,t,n)<<o,this.words[s]|=67108863&i,o>=18?(o-=18,s+=1,this.words[s]|=i>>>26):o+=8;else for(n=(e.length-t)%2==0?t+1:t;n<e.length;n+=2)i=c(e,t,n)<<o,this.words[s]|=67108863&i,o>=18?(o-=18,s+=1,this.words[s]|=i>>>26):o+=8;this._strip()},o.prototype._parseBase=function(e,t,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=t)n++;n--,i=i/t|0;for(var o=e.length-r,s=o%n,a=Math.min(o,o-s)+r,c=0,l=r;l<a;l+=n)c=u(e,l,l+n,t),this.imuln(i),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(0!==s){var f=1;for(c=u(e,l,e.length,t),l=0;l<s;l++)f*=t;this.imuln(f),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}this._strip()},o.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},o.prototype._move=function(e){l(e,this)},o.prototype.clone=function(){var e=new o(null);return this.copy(e),e},o.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},o.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!=typeof Symbol&&"function"==typeof Symbol.for)try{o.prototype[Symbol.for("nodejs.util.inspect.custom")]=f}catch(e){o.prototype.inspect=f}else o.prototype.inspect=f;function f(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var h=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],d=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],p=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function y(e,t,r){r.negative=t.negative^e.negative;var n=e.length+t.length|0;r.length=n,n=n-1|0;var i=0|e.words[0],o=0|t.words[0],s=i*o,a=67108863&s,c=s/67108864|0;r.words[0]=a;for(var u=1;u<n;u++){for(var l=c>>>26,f=67108863&c,h=Math.min(u,t.length-1),d=Math.max(0,u-e.length+1);d<=h;d++){var p=u-d|0;l+=(s=(i=0|e.words[p])*(o=0|t.words[d])+f)/67108864|0,f=67108863&s}r.words[u]=0|f,c=0|l}return 0!==c?r.words[u]=0|c:r.length--,r._strip()}o.prototype.toString=function(e,t){var r;if(t=0|t||1,16===(e=e||10)||"hex"===e){r="";for(var i=0,o=0,s=0;s<this.length;s++){var a=this.words[s],c=(16777215&(a<<i|o)).toString(16);o=a>>>24-i&16777215,(i+=2)>=26&&(i-=26,s--),r=0!==o||s!==this.length-1?h[6-c.length]+c+r:c+r}for(0!==o&&(r=o.toString(16)+r);r.length%t!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(e===(0|e)&&e>=2&&e<=36){var u=d[e],l=p[e];r="";var f=this.clone();for(f.negative=0;!f.isZero();){var y=f.modrn(l).toString(e);r=(f=f.idivn(l)).isZero()?y+r:h[u-y.length]+y+r}for(this.isZero()&&(r="0"+r);r.length%t!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}n(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},o.prototype.toJSON=function(){return this.toString(16,2)},s&&(o.prototype.toBuffer=function(e,t){return this.toArrayLike(s,e,t)}),o.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},o.prototype.toArrayLike=function(e,t,r){this._strip();var i=this.byteLength(),o=r||Math.max(1,i);n(i<=o,"byte array longer than desired length"),n(o>0,"Requested array length <= 0");var s=function(e,t){return e.allocUnsafe?e.allocUnsafe(t):new e(t)}(e,o);return this["_toArrayLike"+("le"===t?"LE":"BE")](s,i),s},o.prototype._toArrayLikeLE=function(e,t){for(var r=0,n=0,i=0,o=0;i<this.length;i++){var s=this.words[i]<<o|n;e[r++]=255&s,r<e.length&&(e[r++]=s>>8&255),r<e.length&&(e[r++]=s>>16&255),6===o?(r<e.length&&(e[r++]=s>>24&255),n=0,o=0):(n=s>>>24,o+=2)}if(r<e.length)for(e[r++]=n;r<e.length;)e[r++]=0},o.prototype._toArrayLikeBE=function(e,t){for(var r=e.length-1,n=0,i=0,o=0;i<this.length;i++){var s=this.words[i]<<o|n;e[r--]=255&s,r>=0&&(e[r--]=s>>8&255),r>=0&&(e[r--]=s>>16&255),6===o?(r>=0&&(e[r--]=s>>24&255),n=0,o=0):(n=s>>>24,o+=2)}if(r>=0)for(e[r--]=n;r>=0;)e[r--]=0},Math.clz32?o.prototype._countBits=function(e){return 32-Math.clz32(e)}:o.prototype._countBits=function(e){var t=e,r=0;return t>=4096&&(r+=13,t>>>=13),t>=64&&(r+=7,t>>>=7),t>=8&&(r+=4,t>>>=4),t>=2&&(r+=2,t>>>=2),r+t},o.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,r=0;return 8191&t||(r+=13,t>>>=13),127&t||(r+=7,t>>>=7),15&t||(r+=4,t>>>=4),3&t||(r+=2,t>>>=2),1&t||r++,r},o.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var r=this._zeroBits(this.words[t]);if(e+=r,26!==r)break}return e},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},o.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this._strip()},o.prototype.ior=function(e){return n(!(this.negative|e.negative)),this.iuor(e)},o.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},o.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},o.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var r=0;r<t.length;r++)this.words[r]=this.words[r]&e.words[r];return this.length=t.length,this._strip()},o.prototype.iand=function(e){return n(!(this.negative|e.negative)),this.iuand(e)},o.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},o.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},o.prototype.iuxor=function(e){var t,r;this.length>e.length?(t=this,r=e):(t=e,r=this);for(var n=0;n<r.length;n++)this.words[n]=t.words[n]^r.words[n];if(this!==t)for(;n<t.length;n++)this.words[n]=t.words[n];return this.length=t.length,this._strip()},o.prototype.ixor=function(e){return n(!(this.negative|e.negative)),this.iuxor(e)},o.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},o.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},o.prototype.inotn=function(e){n("number"==typeof e&&e>=0);var t=0|Math.ceil(e/26),r=e%26;this._expand(t),r>0&&t--;for(var i=0;i<t;i++)this.words[i]=67108863&~this.words[i];return r>0&&(this.words[i]=~this.words[i]&67108863>>26-r),this._strip()},o.prototype.notn=function(e){return this.clone().inotn(e)},o.prototype.setn=function(e,t){n("number"==typeof e&&e>=0);var r=e/26|0,i=e%26;return this._expand(r+1),this.words[r]=t?this.words[r]|1<<i:this.words[r]&~(1<<i),this._strip()},o.prototype.iadd=function(e){var t,r,n;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(r=this,n=e):(r=e,n=this);for(var i=0,o=0;o<n.length;o++)t=(0|r.words[o])+(0|n.words[o])+i,this.words[o]=67108863&t,i=t>>>26;for(;0!==i&&o<r.length;o++)t=(0|r.words[o])+i,this.words[o]=67108863&t,i=t>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},o.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},o.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var r,n,i=this.cmp(e);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=e):(r=e,n=this);for(var o=0,s=0;s<n.length;s++)o=(t=(0|r.words[s])-(0|n.words[s])+o)>>26,this.words[s]=67108863&t;for(;0!==o&&s<r.length;s++)o=(t=(0|r.words[s])+o)>>26,this.words[s]=67108863&t;if(0===o&&s<r.length&&r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this.length=Math.max(this.length,s),r!==this&&(this.negative=1),this._strip()},o.prototype.sub=function(e){return this.clone().isub(e)};var b=function(e,t,r){var n,i,o,s=e.words,a=t.words,c=r.words,u=0,l=0|s[0],f=8191&l,h=l>>>13,d=0|s[1],p=8191&d,y=d>>>13,b=0|s[2],m=8191&b,v=b>>>13,g=0|s[3],w=8191&g,_=g>>>13,S=0|s[4],E=8191&S,T=S>>>13,O=0|s[5],x=8191&O,A=O>>>13,M=0|s[6],P=8191&M,I=M>>>13,j=0|s[7],R=8191&j,k=j>>>13,C=0|s[8],$=8191&C,N=C>>>13,L=0|s[9],B=8191&L,D=L>>>13,F=0|a[0],U=8191&F,q=F>>>13,W=0|a[1],z=8191&W,V=W>>>13,H=0|a[2],G=8191&H,K=H>>>13,Y=0|a[3],J=8191&Y,X=Y>>>13,Z=0|a[4],Q=8191&Z,ee=Z>>>13,te=0|a[5],re=8191&te,ne=te>>>13,ie=0|a[6],oe=8191&ie,se=ie>>>13,ae=0|a[7],ce=8191&ae,ue=ae>>>13,le=0|a[8],fe=8191&le,he=le>>>13,de=0|a[9],pe=8191&de,ye=de>>>13;r.negative=e.negative^t.negative,r.length=19;var be=(u+(n=Math.imul(f,U))|0)+((8191&(i=(i=Math.imul(f,q))+Math.imul(h,U)|0))<<13)|0;u=((o=Math.imul(h,q))+(i>>>13)|0)+(be>>>26)|0,be&=67108863,n=Math.imul(p,U),i=(i=Math.imul(p,q))+Math.imul(y,U)|0,o=Math.imul(y,q);var me=(u+(n=n+Math.imul(f,z)|0)|0)+((8191&(i=(i=i+Math.imul(f,V)|0)+Math.imul(h,z)|0))<<13)|0;u=((o=o+Math.imul(h,V)|0)+(i>>>13)|0)+(me>>>26)|0,me&=67108863,n=Math.imul(m,U),i=(i=Math.imul(m,q))+Math.imul(v,U)|0,o=Math.imul(v,q),n=n+Math.imul(p,z)|0,i=(i=i+Math.imul(p,V)|0)+Math.imul(y,z)|0,o=o+Math.imul(y,V)|0;var ve=(u+(n=n+Math.imul(f,G)|0)|0)+((8191&(i=(i=i+Math.imul(f,K)|0)+Math.imul(h,G)|0))<<13)|0;u=((o=o+Math.imul(h,K)|0)+(i>>>13)|0)+(ve>>>26)|0,ve&=67108863,n=Math.imul(w,U),i=(i=Math.imul(w,q))+Math.imul(_,U)|0,o=Math.imul(_,q),n=n+Math.imul(m,z)|0,i=(i=i+Math.imul(m,V)|0)+Math.imul(v,z)|0,o=o+Math.imul(v,V)|0,n=n+Math.imul(p,G)|0,i=(i=i+Math.imul(p,K)|0)+Math.imul(y,G)|0,o=o+Math.imul(y,K)|0;var ge=(u+(n=n+Math.imul(f,J)|0)|0)+((8191&(i=(i=i+Math.imul(f,X)|0)+Math.imul(h,J)|0))<<13)|0;u=((o=o+Math.imul(h,X)|0)+(i>>>13)|0)+(ge>>>26)|0,ge&=67108863,n=Math.imul(E,U),i=(i=Math.imul(E,q))+Math.imul(T,U)|0,o=Math.imul(T,q),n=n+Math.imul(w,z)|0,i=(i=i+Math.imul(w,V)|0)+Math.imul(_,z)|0,o=o+Math.imul(_,V)|0,n=n+Math.imul(m,G)|0,i=(i=i+Math.imul(m,K)|0)+Math.imul(v,G)|0,o=o+Math.imul(v,K)|0,n=n+Math.imul(p,J)|0,i=(i=i+Math.imul(p,X)|0)+Math.imul(y,J)|0,o=o+Math.imul(y,X)|0;var we=(u+(n=n+Math.imul(f,Q)|0)|0)+((8191&(i=(i=i+Math.imul(f,ee)|0)+Math.imul(h,Q)|0))<<13)|0;u=((o=o+Math.imul(h,ee)|0)+(i>>>13)|0)+(we>>>26)|0,we&=67108863,n=Math.imul(x,U),i=(i=Math.imul(x,q))+Math.imul(A,U)|0,o=Math.imul(A,q),n=n+Math.imul(E,z)|0,i=(i=i+Math.imul(E,V)|0)+Math.imul(T,z)|0,o=o+Math.imul(T,V)|0,n=n+Math.imul(w,G)|0,i=(i=i+Math.imul(w,K)|0)+Math.imul(_,G)|0,o=o+Math.imul(_,K)|0,n=n+Math.imul(m,J)|0,i=(i=i+Math.imul(m,X)|0)+Math.imul(v,J)|0,o=o+Math.imul(v,X)|0,n=n+Math.imul(p,Q)|0,i=(i=i+Math.imul(p,ee)|0)+Math.imul(y,Q)|0,o=o+Math.imul(y,ee)|0;var _e=(u+(n=n+Math.imul(f,re)|0)|0)+((8191&(i=(i=i+Math.imul(f,ne)|0)+Math.imul(h,re)|0))<<13)|0;u=((o=o+Math.imul(h,ne)|0)+(i>>>13)|0)+(_e>>>26)|0,_e&=67108863,n=Math.imul(P,U),i=(i=Math.imul(P,q))+Math.imul(I,U)|0,o=Math.imul(I,q),n=n+Math.imul(x,z)|0,i=(i=i+Math.imul(x,V)|0)+Math.imul(A,z)|0,o=o+Math.imul(A,V)|0,n=n+Math.imul(E,G)|0,i=(i=i+Math.imul(E,K)|0)+Math.imul(T,G)|0,o=o+Math.imul(T,K)|0,n=n+Math.imul(w,J)|0,i=(i=i+Math.imul(w,X)|0)+Math.imul(_,J)|0,o=o+Math.imul(_,X)|0,n=n+Math.imul(m,Q)|0,i=(i=i+Math.imul(m,ee)|0)+Math.imul(v,Q)|0,o=o+Math.imul(v,ee)|0,n=n+Math.imul(p,re)|0,i=(i=i+Math.imul(p,ne)|0)+Math.imul(y,re)|0,o=o+Math.imul(y,ne)|0;var Se=(u+(n=n+Math.imul(f,oe)|0)|0)+((8191&(i=(i=i+Math.imul(f,se)|0)+Math.imul(h,oe)|0))<<13)|0;u=((o=o+Math.imul(h,se)|0)+(i>>>13)|0)+(Se>>>26)|0,Se&=67108863,n=Math.imul(R,U),i=(i=Math.imul(R,q))+Math.imul(k,U)|0,o=Math.imul(k,q),n=n+Math.imul(P,z)|0,i=(i=i+Math.imul(P,V)|0)+Math.imul(I,z)|0,o=o+Math.imul(I,V)|0,n=n+Math.imul(x,G)|0,i=(i=i+Math.imul(x,K)|0)+Math.imul(A,G)|0,o=o+Math.imul(A,K)|0,n=n+Math.imul(E,J)|0,i=(i=i+Math.imul(E,X)|0)+Math.imul(T,J)|0,o=o+Math.imul(T,X)|0,n=n+Math.imul(w,Q)|0,i=(i=i+Math.imul(w,ee)|0)+Math.imul(_,Q)|0,o=o+Math.imul(_,ee)|0,n=n+Math.imul(m,re)|0,i=(i=i+Math.imul(m,ne)|0)+Math.imul(v,re)|0,o=o+Math.imul(v,ne)|0,n=n+Math.imul(p,oe)|0,i=(i=i+Math.imul(p,se)|0)+Math.imul(y,oe)|0,o=o+Math.imul(y,se)|0;var Ee=(u+(n=n+Math.imul(f,ce)|0)|0)+((8191&(i=(i=i+Math.imul(f,ue)|0)+Math.imul(h,ce)|0))<<13)|0;u=((o=o+Math.imul(h,ue)|0)+(i>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,n=Math.imul($,U),i=(i=Math.imul($,q))+Math.imul(N,U)|0,o=Math.imul(N,q),n=n+Math.imul(R,z)|0,i=(i=i+Math.imul(R,V)|0)+Math.imul(k,z)|0,o=o+Math.imul(k,V)|0,n=n+Math.imul(P,G)|0,i=(i=i+Math.imul(P,K)|0)+Math.imul(I,G)|0,o=o+Math.imul(I,K)|0,n=n+Math.imul(x,J)|0,i=(i=i+Math.imul(x,X)|0)+Math.imul(A,J)|0,o=o+Math.imul(A,X)|0,n=n+Math.imul(E,Q)|0,i=(i=i+Math.imul(E,ee)|0)+Math.imul(T,Q)|0,o=o+Math.imul(T,ee)|0,n=n+Math.imul(w,re)|0,i=(i=i+Math.imul(w,ne)|0)+Math.imul(_,re)|0,o=o+Math.imul(_,ne)|0,n=n+Math.imul(m,oe)|0,i=(i=i+Math.imul(m,se)|0)+Math.imul(v,oe)|0,o=o+Math.imul(v,se)|0,n=n+Math.imul(p,ce)|0,i=(i=i+Math.imul(p,ue)|0)+Math.imul(y,ce)|0,o=o+Math.imul(y,ue)|0;var Te=(u+(n=n+Math.imul(f,fe)|0)|0)+((8191&(i=(i=i+Math.imul(f,he)|0)+Math.imul(h,fe)|0))<<13)|0;u=((o=o+Math.imul(h,he)|0)+(i>>>13)|0)+(Te>>>26)|0,Te&=67108863,n=Math.imul(B,U),i=(i=Math.imul(B,q))+Math.imul(D,U)|0,o=Math.imul(D,q),n=n+Math.imul($,z)|0,i=(i=i+Math.imul($,V)|0)+Math.imul(N,z)|0,o=o+Math.imul(N,V)|0,n=n+Math.imul(R,G)|0,i=(i=i+Math.imul(R,K)|0)+Math.imul(k,G)|0,o=o+Math.imul(k,K)|0,n=n+Math.imul(P,J)|0,i=(i=i+Math.imul(P,X)|0)+Math.imul(I,J)|0,o=o+Math.imul(I,X)|0,n=n+Math.imul(x,Q)|0,i=(i=i+Math.imul(x,ee)|0)+Math.imul(A,Q)|0,o=o+Math.imul(A,ee)|0,n=n+Math.imul(E,re)|0,i=(i=i+Math.imul(E,ne)|0)+Math.imul(T,re)|0,o=o+Math.imul(T,ne)|0,n=n+Math.imul(w,oe)|0,i=(i=i+Math.imul(w,se)|0)+Math.imul(_,oe)|0,o=o+Math.imul(_,se)|0,n=n+Math.imul(m,ce)|0,i=(i=i+Math.imul(m,ue)|0)+Math.imul(v,ce)|0,o=o+Math.imul(v,ue)|0,n=n+Math.imul(p,fe)|0,i=(i=i+Math.imul(p,he)|0)+Math.imul(y,fe)|0,o=o+Math.imul(y,he)|0;var Oe=(u+(n=n+Math.imul(f,pe)|0)|0)+((8191&(i=(i=i+Math.imul(f,ye)|0)+Math.imul(h,pe)|0))<<13)|0;u=((o=o+Math.imul(h,ye)|0)+(i>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,n=Math.imul(B,z),i=(i=Math.imul(B,V))+Math.imul(D,z)|0,o=Math.imul(D,V),n=n+Math.imul($,G)|0,i=(i=i+Math.imul($,K)|0)+Math.imul(N,G)|0,o=o+Math.imul(N,K)|0,n=n+Math.imul(R,J)|0,i=(i=i+Math.imul(R,X)|0)+Math.imul(k,J)|0,o=o+Math.imul(k,X)|0,n=n+Math.imul(P,Q)|0,i=(i=i+Math.imul(P,ee)|0)+Math.imul(I,Q)|0,o=o+Math.imul(I,ee)|0,n=n+Math.imul(x,re)|0,i=(i=i+Math.imul(x,ne)|0)+Math.imul(A,re)|0,o=o+Math.imul(A,ne)|0,n=n+Math.imul(E,oe)|0,i=(i=i+Math.imul(E,se)|0)+Math.imul(T,oe)|0,o=o+Math.imul(T,se)|0,n=n+Math.imul(w,ce)|0,i=(i=i+Math.imul(w,ue)|0)+Math.imul(_,ce)|0,o=o+Math.imul(_,ue)|0,n=n+Math.imul(m,fe)|0,i=(i=i+Math.imul(m,he)|0)+Math.imul(v,fe)|0,o=o+Math.imul(v,he)|0;var xe=(u+(n=n+Math.imul(p,pe)|0)|0)+((8191&(i=(i=i+Math.imul(p,ye)|0)+Math.imul(y,pe)|0))<<13)|0;u=((o=o+Math.imul(y,ye)|0)+(i>>>13)|0)+(xe>>>26)|0,xe&=67108863,n=Math.imul(B,G),i=(i=Math.imul(B,K))+Math.imul(D,G)|0,o=Math.imul(D,K),n=n+Math.imul($,J)|0,i=(i=i+Math.imul($,X)|0)+Math.imul(N,J)|0,o=o+Math.imul(N,X)|0,n=n+Math.imul(R,Q)|0,i=(i=i+Math.imul(R,ee)|0)+Math.imul(k,Q)|0,o=o+Math.imul(k,ee)|0,n=n+Math.imul(P,re)|0,i=(i=i+Math.imul(P,ne)|0)+Math.imul(I,re)|0,o=o+Math.imul(I,ne)|0,n=n+Math.imul(x,oe)|0,i=(i=i+Math.imul(x,se)|0)+Math.imul(A,oe)|0,o=o+Math.imul(A,se)|0,n=n+Math.imul(E,ce)|0,i=(i=i+Math.imul(E,ue)|0)+Math.imul(T,ce)|0,o=o+Math.imul(T,ue)|0,n=n+Math.imul(w,fe)|0,i=(i=i+Math.imul(w,he)|0)+Math.imul(_,fe)|0,o=o+Math.imul(_,he)|0;var Ae=(u+(n=n+Math.imul(m,pe)|0)|0)+((8191&(i=(i=i+Math.imul(m,ye)|0)+Math.imul(v,pe)|0))<<13)|0;u=((o=o+Math.imul(v,ye)|0)+(i>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,n=Math.imul(B,J),i=(i=Math.imul(B,X))+Math.imul(D,J)|0,o=Math.imul(D,X),n=n+Math.imul($,Q)|0,i=(i=i+Math.imul($,ee)|0)+Math.imul(N,Q)|0,o=o+Math.imul(N,ee)|0,n=n+Math.imul(R,re)|0,i=(i=i+Math.imul(R,ne)|0)+Math.imul(k,re)|0,o=o+Math.imul(k,ne)|0,n=n+Math.imul(P,oe)|0,i=(i=i+Math.imul(P,se)|0)+Math.imul(I,oe)|0,o=o+Math.imul(I,se)|0,n=n+Math.imul(x,ce)|0,i=(i=i+Math.imul(x,ue)|0)+Math.imul(A,ce)|0,o=o+Math.imul(A,ue)|0,n=n+Math.imul(E,fe)|0,i=(i=i+Math.imul(E,he)|0)+Math.imul(T,fe)|0,o=o+Math.imul(T,he)|0;var Me=(u+(n=n+Math.imul(w,pe)|0)|0)+((8191&(i=(i=i+Math.imul(w,ye)|0)+Math.imul(_,pe)|0))<<13)|0;u=((o=o+Math.imul(_,ye)|0)+(i>>>13)|0)+(Me>>>26)|0,Me&=67108863,n=Math.imul(B,Q),i=(i=Math.imul(B,ee))+Math.imul(D,Q)|0,o=Math.imul(D,ee),n=n+Math.imul($,re)|0,i=(i=i+Math.imul($,ne)|0)+Math.imul(N,re)|0,o=o+Math.imul(N,ne)|0,n=n+Math.imul(R,oe)|0,i=(i=i+Math.imul(R,se)|0)+Math.imul(k,oe)|0,o=o+Math.imul(k,se)|0,n=n+Math.imul(P,ce)|0,i=(i=i+Math.imul(P,ue)|0)+Math.imul(I,ce)|0,o=o+Math.imul(I,ue)|0,n=n+Math.imul(x,fe)|0,i=(i=i+Math.imul(x,he)|0)+Math.imul(A,fe)|0,o=o+Math.imul(A,he)|0;var Pe=(u+(n=n+Math.imul(E,pe)|0)|0)+((8191&(i=(i=i+Math.imul(E,ye)|0)+Math.imul(T,pe)|0))<<13)|0;u=((o=o+Math.imul(T,ye)|0)+(i>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,n=Math.imul(B,re),i=(i=Math.imul(B,ne))+Math.imul(D,re)|0,o=Math.imul(D,ne),n=n+Math.imul($,oe)|0,i=(i=i+Math.imul($,se)|0)+Math.imul(N,oe)|0,o=o+Math.imul(N,se)|0,n=n+Math.imul(R,ce)|0,i=(i=i+Math.imul(R,ue)|0)+Math.imul(k,ce)|0,o=o+Math.imul(k,ue)|0,n=n+Math.imul(P,fe)|0,i=(i=i+Math.imul(P,he)|0)+Math.imul(I,fe)|0,o=o+Math.imul(I,he)|0;var Ie=(u+(n=n+Math.imul(x,pe)|0)|0)+((8191&(i=(i=i+Math.imul(x,ye)|0)+Math.imul(A,pe)|0))<<13)|0;u=((o=o+Math.imul(A,ye)|0)+(i>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,n=Math.imul(B,oe),i=(i=Math.imul(B,se))+Math.imul(D,oe)|0,o=Math.imul(D,se),n=n+Math.imul($,ce)|0,i=(i=i+Math.imul($,ue)|0)+Math.imul(N,ce)|0,o=o+Math.imul(N,ue)|0,n=n+Math.imul(R,fe)|0,i=(i=i+Math.imul(R,he)|0)+Math.imul(k,fe)|0,o=o+Math.imul(k,he)|0;var je=(u+(n=n+Math.imul(P,pe)|0)|0)+((8191&(i=(i=i+Math.imul(P,ye)|0)+Math.imul(I,pe)|0))<<13)|0;u=((o=o+Math.imul(I,ye)|0)+(i>>>13)|0)+(je>>>26)|0,je&=67108863,n=Math.imul(B,ce),i=(i=Math.imul(B,ue))+Math.imul(D,ce)|0,o=Math.imul(D,ue),n=n+Math.imul($,fe)|0,i=(i=i+Math.imul($,he)|0)+Math.imul(N,fe)|0,o=o+Math.imul(N,he)|0;var Re=(u+(n=n+Math.imul(R,pe)|0)|0)+((8191&(i=(i=i+Math.imul(R,ye)|0)+Math.imul(k,pe)|0))<<13)|0;u=((o=o+Math.imul(k,ye)|0)+(i>>>13)|0)+(Re>>>26)|0,Re&=67108863,n=Math.imul(B,fe),i=(i=Math.imul(B,he))+Math.imul(D,fe)|0,o=Math.imul(D,he);var ke=(u+(n=n+Math.imul($,pe)|0)|0)+((8191&(i=(i=i+Math.imul($,ye)|0)+Math.imul(N,pe)|0))<<13)|0;u=((o=o+Math.imul(N,ye)|0)+(i>>>13)|0)+(ke>>>26)|0,ke&=67108863;var Ce=(u+(n=Math.imul(B,pe))|0)+((8191&(i=(i=Math.imul(B,ye))+Math.imul(D,pe)|0))<<13)|0;return u=((o=Math.imul(D,ye))+(i>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,c[0]=be,c[1]=me,c[2]=ve,c[3]=ge,c[4]=we,c[5]=_e,c[6]=Se,c[7]=Ee,c[8]=Te,c[9]=Oe,c[10]=xe,c[11]=Ae,c[12]=Me,c[13]=Pe,c[14]=Ie,c[15]=je,c[16]=Re,c[17]=ke,c[18]=Ce,0!==u&&(c[19]=u,r.length++),r};function m(e,t,r){r.negative=t.negative^e.negative,r.length=e.length+t.length;for(var n=0,i=0,o=0;o<r.length-1;o++){var s=i;i=0;for(var a=67108863&n,c=Math.min(o,t.length-1),u=Math.max(0,o-e.length+1);u<=c;u++){var l=o-u,f=(0|e.words[l])*(0|t.words[u]),h=67108863&f;a=67108863&(h=h+a|0),i+=(s=(s=s+(f/67108864|0)|0)+(h>>>26)|0)>>>26,s&=67108863}r.words[o]=a,n=s,s=i}return 0!==n?r.words[o]=n:r.length--,r._strip()}function v(e,t,r){return m(e,t,r)}function g(e,t){this.x=e,this.y=t}Math.imul||(b=y),o.prototype.mulTo=function(e,t){var r=this.length+e.length;return 10===this.length&&10===e.length?b(this,e,t):r<63?y(this,e,t):r<1024?m(this,e,t):v(this,e,t)},g.prototype.makeRBT=function(e){for(var t=new Array(e),r=o.prototype._countBits(e)-1,n=0;n<e;n++)t[n]=this.revBin(n,r,e);return t},g.prototype.revBin=function(e,t,r){if(0===e||e===r-1)return e;for(var n=0,i=0;i<t;i++)n|=(1&e)<<t-i-1,e>>=1;return n},g.prototype.permute=function(e,t,r,n,i,o){for(var s=0;s<o;s++)n[s]=t[e[s]],i[s]=r[e[s]]},g.prototype.transform=function(e,t,r,n,i,o){this.permute(o,e,t,r,n,i);for(var s=1;s<i;s<<=1)for(var a=s<<1,c=Math.cos(2*Math.PI/a),u=Math.sin(2*Math.PI/a),l=0;l<i;l+=a)for(var f=c,h=u,d=0;d<s;d++){var p=r[l+d],y=n[l+d],b=r[l+d+s],m=n[l+d+s],v=f*b-h*m;m=f*m+h*b,b=v,r[l+d]=p+b,n[l+d]=y+m,r[l+d+s]=p-b,n[l+d+s]=y-m,d!==a&&(v=c*f-u*h,h=c*h+u*f,f=v)}},g.prototype.guessLen13b=function(e,t){var r=1|Math.max(t,e),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},g.prototype.conjugate=function(e,t,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=e[n];e[n]=e[r-n-1],e[r-n-1]=i,i=t[n],t[n]=-t[r-n-1],t[r-n-1]=-i}},g.prototype.normalize13b=function(e,t){for(var r=0,n=0;n<t/2;n++){var i=8192*Math.round(e[2*n+1]/t)+Math.round(e[2*n]/t)+r;e[n]=67108863&i,r=i<67108864?0:i/67108864|0}return e},g.prototype.convert13b=function(e,t,r,i){for(var o=0,s=0;s<t;s++)o+=0|e[s],r[2*s]=8191&o,o>>>=13,r[2*s+1]=8191&o,o>>>=13;for(s=2*t;s<i;++s)r[s]=0;n(0===o),n(!(-8192&o))},g.prototype.stub=function(e){for(var t=new Array(e),r=0;r<e;r++)t[r]=0;return t},g.prototype.mulp=function(e,t,r){var n=2*this.guessLen13b(e.length,t.length),i=this.makeRBT(n),o=this.stub(n),s=new Array(n),a=new Array(n),c=new Array(n),u=new Array(n),l=new Array(n),f=new Array(n),h=r.words;h.length=n,this.convert13b(e.words,e.length,s,n),this.convert13b(t.words,t.length,u,n),this.transform(s,o,a,c,n,i),this.transform(u,o,l,f,n,i);for(var d=0;d<n;d++){var p=a[d]*l[d]-c[d]*f[d];c[d]=a[d]*f[d]+c[d]*l[d],a[d]=p}return this.conjugate(a,c,n),this.transform(a,c,h,o,n,i),this.conjugate(h,o,n),this.normalize13b(h,n),r.negative=e.negative^t.negative,r.length=e.length+t.length,r._strip()},o.prototype.mul=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},o.prototype.mulf=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),v(this,e,t)},o.prototype.imul=function(e){return this.clone().mulTo(e,this)},o.prototype.imuln=function(e){var t=e<0;t&&(e=-e),n("number"==typeof e),n(e<67108864);for(var r=0,i=0;i<this.length;i++){var o=(0|this.words[i])*e,s=(67108863&o)+(67108863&r);r>>=26,r+=o/67108864|0,r+=s>>>26,this.words[i]=67108863&s}return 0!==r&&(this.words[i]=r,this.length++),t?this.ineg():this},o.prototype.muln=function(e){return this.clone().imuln(e)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),r=0;r<t.length;r++){var n=r/26|0,i=r%26;t[r]=e.words[n]>>>i&1}return t}(e);if(0===t.length)return new o(1);for(var r=this,n=0;n<t.length&&0===t[n];n++,r=r.sqr());if(++n<t.length)for(var i=r.sqr();n<t.length;n++,i=i.sqr())0!==t[n]&&(r=r.mul(i));return r},o.prototype.iushln=function(e){n("number"==typeof e&&e>=0);var t,r=e%26,i=(e-r)/26,o=67108863>>>26-r<<26-r;if(0!==r){var s=0;for(t=0;t<this.length;t++){var a=this.words[t]&o,c=(0|this.words[t])-a<<r;this.words[t]=c|s,s=a>>>26-r}s&&(this.words[t]=s,this.length++)}if(0!==i){for(t=this.length-1;t>=0;t--)this.words[t+i]=this.words[t];for(t=0;t<i;t++)this.words[t]=0;this.length+=i}return this._strip()},o.prototype.ishln=function(e){return n(0===this.negative),this.iushln(e)},o.prototype.iushrn=function(e,t,r){var i;n("number"==typeof e&&e>=0),i=t?(t-t%26)/26:0;var o=e%26,s=Math.min((e-o)/26,this.length),a=67108863^67108863>>>o<<o,c=r;if(i-=s,i=Math.max(0,i),c){for(var u=0;u<s;u++)c.words[u]=this.words[u];c.length=s}if(0===s);else if(this.length>s)for(this.length-=s,u=0;u<this.length;u++)this.words[u]=this.words[u+s];else this.words[0]=0,this.length=1;var l=0;for(u=this.length-1;u>=0&&(0!==l||u>=i);u--){var f=0|this.words[u];this.words[u]=l<<26-o|f>>>o,l=f&a}return c&&0!==l&&(c.words[c.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},o.prototype.ishrn=function(e,t,r){return n(0===this.negative),this.iushrn(e,t,r)},o.prototype.shln=function(e){return this.clone().ishln(e)},o.prototype.ushln=function(e){return this.clone().iushln(e)},o.prototype.shrn=function(e){return this.clone().ishrn(e)},o.prototype.ushrn=function(e){return this.clone().iushrn(e)},o.prototype.testn=function(e){n("number"==typeof e&&e>=0);var t=e%26,r=(e-t)/26,i=1<<t;return!(this.length<=r||!(this.words[r]&i))},o.prototype.imaskn=function(e){n("number"==typeof e&&e>=0);var t=e%26,r=(e-t)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==t&&r++,this.length=Math.min(r,this.length),0!==t){var i=67108863^67108863>>>t<<t;this.words[this.length-1]&=i}return this._strip()},o.prototype.maskn=function(e){return this.clone().imaskn(e)},o.prototype.iaddn=function(e){return n("number"==typeof e),n(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<=e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},o.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},o.prototype.isubn=function(e){if(n("number"==typeof e),n(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this._strip()},o.prototype.addn=function(e){return this.clone().iaddn(e)},o.prototype.subn=function(e){return this.clone().isubn(e)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(e,t,r){var i,o,s=e.length+r;this._expand(s);var a=0;for(i=0;i<e.length;i++){o=(0|this.words[i+r])+a;var c=(0|e.words[i])*t;a=((o-=67108863&c)>>26)-(c/67108864|0),this.words[i+r]=67108863&o}for(;i<this.length-r;i++)a=(o=(0|this.words[i+r])+a)>>26,this.words[i+r]=67108863&o;if(0===a)return this._strip();for(n(-1===a),a=0,i=0;i<this.length;i++)a=(o=-(0|this.words[i])+a)>>26,this.words[i]=67108863&o;return this.negative=1,this._strip()},o.prototype._wordDiv=function(e,t){var r=(this.length,e.length),n=this.clone(),i=e,s=0|i.words[i.length-1];0!=(r=26-this._countBits(s))&&(i=i.ushln(r),n.iushln(r),s=0|i.words[i.length-1]);var a,c=n.length-i.length;if("mod"!==t){(a=new o(null)).length=c+1,a.words=new Array(a.length);for(var u=0;u<a.length;u++)a.words[u]=0}var l=n.clone()._ishlnsubmul(i,1,c);0===l.negative&&(n=l,a&&(a.words[c]=1));for(var f=c-1;f>=0;f--){var h=67108864*(0|n.words[i.length+f])+(0|n.words[i.length+f-1]);for(h=Math.min(h/s|0,67108863),n._ishlnsubmul(i,h,f);0!==n.negative;)h--,n.negative=0,n._ishlnsubmul(i,1,f),n.isZero()||(n.negative^=1);a&&(a.words[f]=h)}return a&&a._strip(),n._strip(),"div"!==t&&0!==r&&n.iushrn(r),{div:a||null,mod:n}},o.prototype.divmod=function(e,t,r){return n(!e.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===e.negative?(a=this.neg().divmod(e,t),"mod"!==t&&(i=a.div.neg()),"div"!==t&&(s=a.mod.neg(),r&&0!==s.negative&&s.iadd(e)),{div:i,mod:s}):0===this.negative&&0!==e.negative?(a=this.divmod(e.neg(),t),"mod"!==t&&(i=a.div.neg()),{div:i,mod:a.mod}):this.negative&e.negative?(a=this.neg().divmod(e.neg(),t),"div"!==t&&(s=a.mod.neg(),r&&0!==s.negative&&s.isub(e)),{div:a.div,mod:s}):e.length>this.length||this.cmp(e)<0?{div:new o(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new o(this.modrn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new o(this.modrn(e.words[0]))}:this._wordDiv(e,t);var i,s,a},o.prototype.div=function(e){return this.divmod(e,"div",!1).div},o.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},o.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},o.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var r=0!==t.div.negative?t.mod.isub(e):t.mod,n=e.ushrn(1),i=e.andln(1),o=r.cmp(n);return o<0||1===i&&0===o?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},o.prototype.modrn=function(e){var t=e<0;t&&(e=-e),n(e<=67108863);for(var r=(1<<26)%e,i=0,o=this.length-1;o>=0;o--)i=(r*i+(0|this.words[o]))%e;return t?-i:i},o.prototype.modn=function(e){return this.modrn(e)},o.prototype.idivn=function(e){var t=e<0;t&&(e=-e),n(e<=67108863);for(var r=0,i=this.length-1;i>=0;i--){var o=(0|this.words[i])+67108864*r;this.words[i]=o/e|0,r=o%e}return this._strip(),t?this.ineg():this},o.prototype.divn=function(e){return this.clone().idivn(e)},o.prototype.egcd=function(e){n(0===e.negative),n(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i=new o(1),s=new o(0),a=new o(0),c=new o(1),u=0;t.isEven()&&r.isEven();)t.iushrn(1),r.iushrn(1),++u;for(var l=r.clone(),f=t.clone();!t.isZero();){for(var h=0,d=1;!(t.words[0]&d)&&h<26;++h,d<<=1);if(h>0)for(t.iushrn(h);h-- >0;)(i.isOdd()||s.isOdd())&&(i.iadd(l),s.isub(f)),i.iushrn(1),s.iushrn(1);for(var p=0,y=1;!(r.words[0]&y)&&p<26;++p,y<<=1);if(p>0)for(r.iushrn(p);p-- >0;)(a.isOdd()||c.isOdd())&&(a.iadd(l),c.isub(f)),a.iushrn(1),c.iushrn(1);t.cmp(r)>=0?(t.isub(r),i.isub(a),s.isub(c)):(r.isub(t),a.isub(i),c.isub(s))}return{a,b:c,gcd:r.iushln(u)}},o.prototype._invmp=function(e){n(0===e.negative),n(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i,s=new o(1),a=new o(0),c=r.clone();t.cmpn(1)>0&&r.cmpn(1)>0;){for(var u=0,l=1;!(t.words[0]&l)&&u<26;++u,l<<=1);if(u>0)for(t.iushrn(u);u-- >0;)s.isOdd()&&s.iadd(c),s.iushrn(1);for(var f=0,h=1;!(r.words[0]&h)&&f<26;++f,h<<=1);if(f>0)for(r.iushrn(f);f-- >0;)a.isOdd()&&a.iadd(c),a.iushrn(1);t.cmp(r)>=0?(t.isub(r),s.isub(a)):(r.isub(t),a.isub(s))}return(i=0===t.cmpn(1)?s:a).cmpn(0)<0&&i.iadd(e),i},o.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),r=e.clone();t.negative=0,r.negative=0;for(var n=0;t.isEven()&&r.isEven();n++)t.iushrn(1),r.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=t.cmp(r);if(i<0){var o=t;t=r,r=o}else if(0===i||0===r.cmpn(1))break;t.isub(r)}return r.iushln(n)},o.prototype.invm=function(e){return this.egcd(e).a.umod(e)},o.prototype.isEven=function(){return!(1&this.words[0])},o.prototype.isOdd=function(){return!(1&~this.words[0])},o.prototype.andln=function(e){return this.words[0]&e},o.prototype.bincn=function(e){n("number"==typeof e);var t=e%26,r=(e-t)/26,i=1<<t;if(this.length<=r)return this._expand(r+1),this.words[r]|=i,this;for(var o=i,s=r;0!==o&&s<this.length;s++){var a=0|this.words[s];o=(a+=o)>>>26,a&=67108863,this.words[s]=a}return 0!==o&&(this.words[s]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(e){var t,r=e<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this._strip(),this.length>1)t=1;else{r&&(e=-e),n(e<=67108863,"Number is too big");var i=0|this.words[0];t=i===e?0:i<e?-1:1}return 0!==this.negative?0|-t:t},o.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},o.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|e.words[r];if(n!==i){n<i?t=-1:n>i&&(t=1);break}}return t},o.prototype.gtn=function(e){return 1===this.cmpn(e)},o.prototype.gt=function(e){return 1===this.cmp(e)},o.prototype.gten=function(e){return this.cmpn(e)>=0},o.prototype.gte=function(e){return this.cmp(e)>=0},o.prototype.ltn=function(e){return-1===this.cmpn(e)},o.prototype.lt=function(e){return-1===this.cmp(e)},o.prototype.lten=function(e){return this.cmpn(e)<=0},o.prototype.lte=function(e){return this.cmp(e)<=0},o.prototype.eqn=function(e){return 0===this.cmpn(e)},o.prototype.eq=function(e){return 0===this.cmp(e)},o.red=function(e){return new x(e)},o.prototype.toRed=function(e){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},o.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(e){return this.red=e,this},o.prototype.forceRed=function(e){return n(!this.red,"Already a number in reduction context"),this._forceRed(e)},o.prototype.redAdd=function(e){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},o.prototype.redIAdd=function(e){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},o.prototype.redSub=function(e){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},o.prototype.redISub=function(e){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},o.prototype.redShl=function(e){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},o.prototype.redMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},o.prototype.redIMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},o.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(e){return n(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var w={k256:null,p224:null,p192:null,p25519:null};function _(e,t){this.name=e,this.p=new o(t,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function S(){_.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function E(){_.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function T(){_.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function O(){_.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function x(e){if("string"==typeof e){var t=o._prime(e);this.m=t.p,this.prime=t}else n(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function A(e){x.call(this,e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}_.prototype._tmp=function(){var e=new o(null);return e.words=new Array(Math.ceil(this.n/13)),e},_.prototype.ireduce=function(e){var t,r=e;do{this.split(r,this.tmp),t=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(t>this.n);var n=t<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},_.prototype.split=function(e,t){e.iushrn(this.n,0,t)},_.prototype.imulK=function(e){return e.imul(this.k)},i(S,_),S.prototype.split=function(e,t){for(var r=4194303,n=Math.min(e.length,9),i=0;i<n;i++)t.words[i]=e.words[i];if(t.length=n,e.length<=9)return e.words[0]=0,void(e.length=1);var o=e.words[9];for(t.words[t.length++]=o&r,i=10;i<e.length;i++){var s=0|e.words[i];e.words[i-10]=(s&r)<<4|o>>>22,o=s}o>>>=22,e.words[i-10]=o,0===o&&e.length>10?e.length-=10:e.length-=9},S.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,r=0;r<e.length;r++){var n=0|e.words[r];t+=977*n,e.words[r]=67108863&t,t=64*n+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},i(E,_),i(T,_),i(O,_),O.prototype.imulK=function(e){for(var t=0,r=0;r<e.length;r++){var n=19*(0|e.words[r])+t,i=67108863&n;n>>>=26,e.words[r]=i,t=n}return 0!==t&&(e.words[e.length++]=t),e},o._prime=function(e){if(w[e])return w[e];var t;if("k256"===e)t=new S;else if("p224"===e)t=new E;else if("p192"===e)t=new T;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new O}return w[e]=t,t},x.prototype._verify1=function(e){n(0===e.negative,"red works only with positives"),n(e.red,"red works only with red numbers")},x.prototype._verify2=function(e,t){n(!(e.negative|t.negative),"red works only with positives"),n(e.red&&e.red===t.red,"red works only with red numbers")},x.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):(l(e,e.umod(this.m)._forceRed(this)),e)},x.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},x.prototype.add=function(e,t){this._verify2(e,t);var r=e.add(t);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},x.prototype.iadd=function(e,t){this._verify2(e,t);var r=e.iadd(t);return r.cmp(this.m)>=0&&r.isub(this.m),r},x.prototype.sub=function(e,t){this._verify2(e,t);var r=e.sub(t);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},x.prototype.isub=function(e,t){this._verify2(e,t);var r=e.isub(t);return r.cmpn(0)<0&&r.iadd(this.m),r},x.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},x.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},x.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},x.prototype.isqr=function(e){return this.imul(e,e.clone())},x.prototype.sqr=function(e){return this.mul(e,e)},x.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(n(t%2==1),3===t){var r=this.m.add(new o(1)).iushrn(2);return this.pow(e,r)}for(var i=this.m.subn(1),s=0;!i.isZero()&&0===i.andln(1);)s++,i.iushrn(1);n(!i.isZero());var a=new o(1).toRed(this),c=a.redNeg(),u=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new o(2*l*l).toRed(this);0!==this.pow(l,u).cmp(c);)l.redIAdd(c);for(var f=this.pow(l,i),h=this.pow(e,i.addn(1).iushrn(1)),d=this.pow(e,i),p=s;0!==d.cmp(a);){for(var y=d,b=0;0!==y.cmp(a);b++)y=y.redSqr();n(b<p);var m=this.pow(f,new o(1).iushln(p-b-1));h=h.redMul(m),f=m.redSqr(),d=d.redMul(f),p=b}return h},x.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},x.prototype.pow=function(e,t){if(t.isZero())return new o(1).toRed(this);if(0===t.cmpn(1))return e.clone();var r=new Array(16);r[0]=new o(1).toRed(this),r[1]=e;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],e);var i=r[0],s=0,a=0,c=t.bitLength()%26;for(0===c&&(c=26),n=t.length-1;n>=0;n--){for(var u=t.words[n],l=c-1;l>=0;l--){var f=u>>l&1;i!==r[0]&&(i=this.sqr(i)),0!==f||0!==s?(s<<=1,s|=f,(4==++a||0===n&&0===l)&&(i=this.mul(i,r[s]),a=0,s=0)):a=0}c=26}return i},x.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},x.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},o.mont=function(e){return new A(e)},i(A,x),A.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},A.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},A.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var r=e.imul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},A.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new o(0)._forceRed(this);var r=e.mul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),s=i;return i.cmp(this.m)>=0?s=i.isub(this.m):i.cmpn(0)<0&&(s=i.iadd(this.m)),s._forceRed(this)},A.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(e=r.nmd(e),this)},83982:(e,t,r)=>{e.exports=r(4716)},59553:(e,t,r)=>{var n=r(25636).Buffer,i=r(13257),o=r(31316),s=r(35615),a=r(32188),c=r(46680),u=r(4716);function l(e){o.Writable.call(this);var t=u[e];if(!t)throw new Error("Unknown message digest");this._hashType=t.hash,this._hash=i(t.hash),this._tag=t.id,this._signType=t.sign}function f(e){o.Writable.call(this);var t=u[e];if(!t)throw new Error("Unknown message digest");this._hash=i(t.hash),this._tag=t.id,this._signType=t.sign}function h(e){return new l(e)}function d(e){return new f(e)}Object.keys(u).forEach((function(e){u[e].id=n.from(u[e].id,"hex"),u[e.toLowerCase()]=u[e]})),s(l,o.Writable),l.prototype._write=function(e,t,r){this._hash.update(e),r()},l.prototype.update=function(e,t){return this._hash.update("string"==typeof e?n.from(e,t):e),this},l.prototype.sign=function(e,t){this.end();var r=this._hash.digest(),n=a(r,e,this._hashType,this._signType,this._tag);return t?n.toString(t):n},s(f,o.Writable),f.prototype._write=function(e,t,r){this._hash.update(e),r()},f.prototype.update=function(e,t){return this._hash.update("string"==typeof e?n.from(e,t):e),this},f.prototype.verify=function(e,t,r){var i="string"==typeof t?n.from(t,r):t;this.end();var o=this._hash.digest();return c(i,o,e,this._signType,this._tag)},e.exports={Sign:h,Verify:d,createSign:h,createVerify:d}},32188:(e,t,r)=>{var n=r(25636).Buffer,i=r(45262),o=r(84215),s=r(13360).ec,a=r(96671),c=r(15069),u=r(36646);function l(e,t,r,o){if((e=n.from(e.toArray())).length<t.byteLength()){var s=n.alloc(t.byteLength()-e.length);e=n.concat([s,e])}var a=r.length,c=function(e,t){e=(e=f(e,t)).mod(t);var r=n.from(e.toArray());if(r.length<t.byteLength()){var i=n.alloc(t.byteLength()-r.length);r=n.concat([i,r])}return r}(r,t),u=n.alloc(a);u.fill(1);var l=n.alloc(a);return l=i(o,l).update(u).update(n.from([0])).update(e).update(c).digest(),u=i(o,l).update(u).digest(),{k:l=i(o,l).update(u).update(n.from([1])).update(e).update(c).digest(),v:u=i(o,l).update(u).digest()}}function f(e,t){var r=new a(e),n=(e.length<<3)-t.bitLength();return n>0&&r.ishrn(n),r}function h(e,t,r){var o,s;do{for(o=n.alloc(0);8*o.length<e.bitLength();)t.v=i(r,t.k).update(t.v).digest(),o=n.concat([o,t.v]);s=f(o,e),t.k=i(r,t.k).update(t.v).update(n.from([0])).digest(),t.v=i(r,t.k).update(t.v).digest()}while(-1!==s.cmp(e));return s}function d(e,t,r,n){return e.toRed(a.mont(r)).redPow(t).fromRed().mod(n)}e.exports=function(e,t,r,i,p){var y=c(t);if(y.curve){if("ecdsa"!==i&&"ecdsa/rsa"!==i)throw new Error("wrong private key type");return function(e,t){var r=u[t.curve.join(".")];if(!r)throw new Error("unknown curve "+t.curve.join("."));var i=new s(r).keyFromPrivate(t.privateKey).sign(e);return n.from(i.toDER())}(e,y)}if("dsa"===y.type){if("dsa"!==i)throw new Error("wrong private key type");return function(e,t,r){for(var i,o=t.params.priv_key,s=t.params.p,c=t.params.q,u=t.params.g,p=new a(0),y=f(e,c).mod(c),b=!1,m=l(o,c,e,r);!1===b;)p=d(u,i=h(c,m,r),s,c),0===(b=i.invm(c).imul(y.add(o.mul(p))).mod(c)).cmpn(0)&&(b=!1,p=new a(0));return function(e,t){e=e.toArray(),t=t.toArray(),128&e[0]&&(e=[0].concat(e)),128&t[0]&&(t=[0].concat(t));var r=[48,e.length+t.length+4,2,e.length];return r=r.concat(e,[2,t.length],t),n.from(r)}(p,b)}(e,y,r)}if("rsa"!==i&&"ecdsa/rsa"!==i)throw new Error("wrong private key type");if(void 0!==t.padding&&1!==t.padding)throw new Error("illegal or unsupported padding mode");e=n.concat([p,e]);for(var b=y.modulus.byteLength(),m=[0,1];e.length+m.length+1<b;)m.push(255);m.push(0);for(var v=-1;++v<e.length;)m.push(e[v]);return o(m,y)},e.exports.getKey=l,e.exports.makeKey=h},46680:(e,t,r)=>{var n=r(25636).Buffer,i=r(96671),o=r(13360).ec,s=r(15069),a=r(36646);function c(e,t){if(e.cmpn(0)<=0)throw new Error("invalid sig");if(e.cmp(t)>=0)throw new Error("invalid sig")}e.exports=function(e,t,r,u,l){var f=s(r);if("ec"===f.type){if("ecdsa"!==u&&"ecdsa/rsa"!==u)throw new Error("wrong public key type");return function(e,t,r){var n=a[r.data.algorithm.curve.join(".")];if(!n)throw new Error("unknown curve "+r.data.algorithm.curve.join("."));var i=new o(n),s=r.data.subjectPrivateKey.data;return i.verify(t,e,s)}(e,t,f)}if("dsa"===f.type){if("dsa"!==u)throw new Error("wrong public key type");return function(e,t,r){var n=r.data.p,o=r.data.q,a=r.data.g,u=r.data.pub_key,l=s.signature.decode(e,"der"),f=l.s,h=l.r;c(f,o),c(h,o);var d=i.mont(n),p=f.invm(o);return 0===a.toRed(d).redPow(new i(t).mul(p).mod(o)).fromRed().mul(u.toRed(d).redPow(h.mul(p).mod(o)).fromRed()).mod(n).mod(o).cmp(h)}(e,t,f)}if("rsa"!==u&&"ecdsa/rsa"!==u)throw new Error("wrong public key type");t=n.concat([l,t]);for(var h=f.modulus.byteLength(),d=[1],p=0;t.length+d.length+2<h;)d.push(255),p+=1;d.push(0);for(var y=-1;++y<t.length;)d.push(t[y]);d=n.from(d);var b=i.mont(f.modulus);e=(e=new i(e).toRed(b)).redPow(new i(f.publicExponent)),e=n.from(e.fromRed().toArray());var m=p<8?1:0;for(h=Math.min(e.length,d.length),e.length!==d.length&&(m=1),y=-1;++y<h;)m|=e[y]^d[y];return 0===m}},96671:function(e,t,r){!function(e,t){function n(e,t){if(!e)throw new Error(t||"Assertion failed")}function i(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}function o(e,t,r){if(o.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(r=t,t=10),this._init(e||0,t||10,r||"be"))}var s;"object"==typeof e?e.exports=o:t.BN=o,o.BN=o,o.wordSize=26;try{s="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:r(47331).Buffer}catch(e){}function a(e,t){var r=e.charCodeAt(t);return r>=48&&r<=57?r-48:r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:void n(!1,"Invalid character in "+e)}function c(e,t,r){var n=a(e,r);return r-1>=t&&(n|=a(e,r-1)<<4),n}function u(e,t,r,i){for(var o=0,s=0,a=Math.min(e.length,r),c=t;c<a;c++){var u=e.charCodeAt(c)-48;o*=i,s=u>=49?u-49+10:u>=17?u-17+10:u,n(u>=0&&s<i,"Invalid character"),o+=s}return o}function l(e,t){e.words=t.words,e.length=t.length,e.negative=t.negative,e.red=t.red}if(o.isBN=function(e){return e instanceof o||null!==e&&"object"==typeof e&&e.constructor.wordSize===o.wordSize&&Array.isArray(e.words)},o.max=function(e,t){return e.cmp(t)>0?e:t},o.min=function(e,t){return e.cmp(t)<0?e:t},o.prototype._init=function(e,t,r){if("number"==typeof e)return this._initNumber(e,t,r);if("object"==typeof e)return this._initArray(e,t,r);"hex"===t&&(t=16),n(t===(0|t)&&t>=2&&t<=36);var i=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<e.length&&(16===t?this._parseHex(e,i,r):(this._parseBase(e,t,i),"le"===r&&this._initArray(this.toArray(),t,r)))},o.prototype._initNumber=function(e,t,r){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(n(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),t,r)},o.prototype._initArray=function(e,t,r){if(n("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,s,a=0;if("be"===r)for(i=e.length-1,o=0;i>=0;i-=3)s=e[i]|e[i-1]<<8|e[i-2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);else if("le"===r)for(i=0,o=0;i<e.length;i+=3)s=e[i]|e[i+1]<<8|e[i+2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);return this._strip()},o.prototype._parseHex=function(e,t,r){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var i,o=0,s=0;if("be"===r)for(n=e.length-1;n>=t;n-=2)i=c(e,t,n)<<o,this.words[s]|=67108863&i,o>=18?(o-=18,s+=1,this.words[s]|=i>>>26):o+=8;else for(n=(e.length-t)%2==0?t+1:t;n<e.length;n+=2)i=c(e,t,n)<<o,this.words[s]|=67108863&i,o>=18?(o-=18,s+=1,this.words[s]|=i>>>26):o+=8;this._strip()},o.prototype._parseBase=function(e,t,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=t)n++;n--,i=i/t|0;for(var o=e.length-r,s=o%n,a=Math.min(o,o-s)+r,c=0,l=r;l<a;l+=n)c=u(e,l,l+n,t),this.imuln(i),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(0!==s){var f=1;for(c=u(e,l,e.length,t),l=0;l<s;l++)f*=t;this.imuln(f),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}this._strip()},o.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},o.prototype._move=function(e){l(e,this)},o.prototype.clone=function(){var e=new o(null);return this.copy(e),e},o.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},o.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!=typeof Symbol&&"function"==typeof Symbol.for)try{o.prototype[Symbol.for("nodejs.util.inspect.custom")]=f}catch(e){o.prototype.inspect=f}else o.prototype.inspect=f;function f(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var h=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],d=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],p=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function y(e,t,r){r.negative=t.negative^e.negative;var n=e.length+t.length|0;r.length=n,n=n-1|0;var i=0|e.words[0],o=0|t.words[0],s=i*o,a=67108863&s,c=s/67108864|0;r.words[0]=a;for(var u=1;u<n;u++){for(var l=c>>>26,f=67108863&c,h=Math.min(u,t.length-1),d=Math.max(0,u-e.length+1);d<=h;d++){var p=u-d|0;l+=(s=(i=0|e.words[p])*(o=0|t.words[d])+f)/67108864|0,f=67108863&s}r.words[u]=0|f,c=0|l}return 0!==c?r.words[u]=0|c:r.length--,r._strip()}o.prototype.toString=function(e,t){var r;if(t=0|t||1,16===(e=e||10)||"hex"===e){r="";for(var i=0,o=0,s=0;s<this.length;s++){var a=this.words[s],c=(16777215&(a<<i|o)).toString(16);o=a>>>24-i&16777215,(i+=2)>=26&&(i-=26,s--),r=0!==o||s!==this.length-1?h[6-c.length]+c+r:c+r}for(0!==o&&(r=o.toString(16)+r);r.length%t!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(e===(0|e)&&e>=2&&e<=36){var u=d[e],l=p[e];r="";var f=this.clone();for(f.negative=0;!f.isZero();){var y=f.modrn(l).toString(e);r=(f=f.idivn(l)).isZero()?y+r:h[u-y.length]+y+r}for(this.isZero()&&(r="0"+r);r.length%t!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}n(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},o.prototype.toJSON=function(){return this.toString(16,2)},s&&(o.prototype.toBuffer=function(e,t){return this.toArrayLike(s,e,t)}),o.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},o.prototype.toArrayLike=function(e,t,r){this._strip();var i=this.byteLength(),o=r||Math.max(1,i);n(i<=o,"byte array longer than desired length"),n(o>0,"Requested array length <= 0");var s=function(e,t){return e.allocUnsafe?e.allocUnsafe(t):new e(t)}(e,o);return this["_toArrayLike"+("le"===t?"LE":"BE")](s,i),s},o.prototype._toArrayLikeLE=function(e,t){for(var r=0,n=0,i=0,o=0;i<this.length;i++){var s=this.words[i]<<o|n;e[r++]=255&s,r<e.length&&(e[r++]=s>>8&255),r<e.length&&(e[r++]=s>>16&255),6===o?(r<e.length&&(e[r++]=s>>24&255),n=0,o=0):(n=s>>>24,o+=2)}if(r<e.length)for(e[r++]=n;r<e.length;)e[r++]=0},o.prototype._toArrayLikeBE=function(e,t){for(var r=e.length-1,n=0,i=0,o=0;i<this.length;i++){var s=this.words[i]<<o|n;e[r--]=255&s,r>=0&&(e[r--]=s>>8&255),r>=0&&(e[r--]=s>>16&255),6===o?(r>=0&&(e[r--]=s>>24&255),n=0,o=0):(n=s>>>24,o+=2)}if(r>=0)for(e[r--]=n;r>=0;)e[r--]=0},Math.clz32?o.prototype._countBits=function(e){return 32-Math.clz32(e)}:o.prototype._countBits=function(e){var t=e,r=0;return t>=4096&&(r+=13,t>>>=13),t>=64&&(r+=7,t>>>=7),t>=8&&(r+=4,t>>>=4),t>=2&&(r+=2,t>>>=2),r+t},o.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,r=0;return 8191&t||(r+=13,t>>>=13),127&t||(r+=7,t>>>=7),15&t||(r+=4,t>>>=4),3&t||(r+=2,t>>>=2),1&t||r++,r},o.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var r=this._zeroBits(this.words[t]);if(e+=r,26!==r)break}return e},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},o.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this._strip()},o.prototype.ior=function(e){return n(!(this.negative|e.negative)),this.iuor(e)},o.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},o.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},o.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var r=0;r<t.length;r++)this.words[r]=this.words[r]&e.words[r];return this.length=t.length,this._strip()},o.prototype.iand=function(e){return n(!(this.negative|e.negative)),this.iuand(e)},o.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},o.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},o.prototype.iuxor=function(e){var t,r;this.length>e.length?(t=this,r=e):(t=e,r=this);for(var n=0;n<r.length;n++)this.words[n]=t.words[n]^r.words[n];if(this!==t)for(;n<t.length;n++)this.words[n]=t.words[n];return this.length=t.length,this._strip()},o.prototype.ixor=function(e){return n(!(this.negative|e.negative)),this.iuxor(e)},o.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},o.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},o.prototype.inotn=function(e){n("number"==typeof e&&e>=0);var t=0|Math.ceil(e/26),r=e%26;this._expand(t),r>0&&t--;for(var i=0;i<t;i++)this.words[i]=67108863&~this.words[i];return r>0&&(this.words[i]=~this.words[i]&67108863>>26-r),this._strip()},o.prototype.notn=function(e){return this.clone().inotn(e)},o.prototype.setn=function(e,t){n("number"==typeof e&&e>=0);var r=e/26|0,i=e%26;return this._expand(r+1),this.words[r]=t?this.words[r]|1<<i:this.words[r]&~(1<<i),this._strip()},o.prototype.iadd=function(e){var t,r,n;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(r=this,n=e):(r=e,n=this);for(var i=0,o=0;o<n.length;o++)t=(0|r.words[o])+(0|n.words[o])+i,this.words[o]=67108863&t,i=t>>>26;for(;0!==i&&o<r.length;o++)t=(0|r.words[o])+i,this.words[o]=67108863&t,i=t>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},o.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},o.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var r,n,i=this.cmp(e);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=e):(r=e,n=this);for(var o=0,s=0;s<n.length;s++)o=(t=(0|r.words[s])-(0|n.words[s])+o)>>26,this.words[s]=67108863&t;for(;0!==o&&s<r.length;s++)o=(t=(0|r.words[s])+o)>>26,this.words[s]=67108863&t;if(0===o&&s<r.length&&r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this.length=Math.max(this.length,s),r!==this&&(this.negative=1),this._strip()},o.prototype.sub=function(e){return this.clone().isub(e)};var b=function(e,t,r){var n,i,o,s=e.words,a=t.words,c=r.words,u=0,l=0|s[0],f=8191&l,h=l>>>13,d=0|s[1],p=8191&d,y=d>>>13,b=0|s[2],m=8191&b,v=b>>>13,g=0|s[3],w=8191&g,_=g>>>13,S=0|s[4],E=8191&S,T=S>>>13,O=0|s[5],x=8191&O,A=O>>>13,M=0|s[6],P=8191&M,I=M>>>13,j=0|s[7],R=8191&j,k=j>>>13,C=0|s[8],$=8191&C,N=C>>>13,L=0|s[9],B=8191&L,D=L>>>13,F=0|a[0],U=8191&F,q=F>>>13,W=0|a[1],z=8191&W,V=W>>>13,H=0|a[2],G=8191&H,K=H>>>13,Y=0|a[3],J=8191&Y,X=Y>>>13,Z=0|a[4],Q=8191&Z,ee=Z>>>13,te=0|a[5],re=8191&te,ne=te>>>13,ie=0|a[6],oe=8191&ie,se=ie>>>13,ae=0|a[7],ce=8191&ae,ue=ae>>>13,le=0|a[8],fe=8191&le,he=le>>>13,de=0|a[9],pe=8191&de,ye=de>>>13;r.negative=e.negative^t.negative,r.length=19;var be=(u+(n=Math.imul(f,U))|0)+((8191&(i=(i=Math.imul(f,q))+Math.imul(h,U)|0))<<13)|0;u=((o=Math.imul(h,q))+(i>>>13)|0)+(be>>>26)|0,be&=67108863,n=Math.imul(p,U),i=(i=Math.imul(p,q))+Math.imul(y,U)|0,o=Math.imul(y,q);var me=(u+(n=n+Math.imul(f,z)|0)|0)+((8191&(i=(i=i+Math.imul(f,V)|0)+Math.imul(h,z)|0))<<13)|0;u=((o=o+Math.imul(h,V)|0)+(i>>>13)|0)+(me>>>26)|0,me&=67108863,n=Math.imul(m,U),i=(i=Math.imul(m,q))+Math.imul(v,U)|0,o=Math.imul(v,q),n=n+Math.imul(p,z)|0,i=(i=i+Math.imul(p,V)|0)+Math.imul(y,z)|0,o=o+Math.imul(y,V)|0;var ve=(u+(n=n+Math.imul(f,G)|0)|0)+((8191&(i=(i=i+Math.imul(f,K)|0)+Math.imul(h,G)|0))<<13)|0;u=((o=o+Math.imul(h,K)|0)+(i>>>13)|0)+(ve>>>26)|0,ve&=67108863,n=Math.imul(w,U),i=(i=Math.imul(w,q))+Math.imul(_,U)|0,o=Math.imul(_,q),n=n+Math.imul(m,z)|0,i=(i=i+Math.imul(m,V)|0)+Math.imul(v,z)|0,o=o+Math.imul(v,V)|0,n=n+Math.imul(p,G)|0,i=(i=i+Math.imul(p,K)|0)+Math.imul(y,G)|0,o=o+Math.imul(y,K)|0;var ge=(u+(n=n+Math.imul(f,J)|0)|0)+((8191&(i=(i=i+Math.imul(f,X)|0)+Math.imul(h,J)|0))<<13)|0;u=((o=o+Math.imul(h,X)|0)+(i>>>13)|0)+(ge>>>26)|0,ge&=67108863,n=Math.imul(E,U),i=(i=Math.imul(E,q))+Math.imul(T,U)|0,o=Math.imul(T,q),n=n+Math.imul(w,z)|0,i=(i=i+Math.imul(w,V)|0)+Math.imul(_,z)|0,o=o+Math.imul(_,V)|0,n=n+Math.imul(m,G)|0,i=(i=i+Math.imul(m,K)|0)+Math.imul(v,G)|0,o=o+Math.imul(v,K)|0,n=n+Math.imul(p,J)|0,i=(i=i+Math.imul(p,X)|0)+Math.imul(y,J)|0,o=o+Math.imul(y,X)|0;var we=(u+(n=n+Math.imul(f,Q)|0)|0)+((8191&(i=(i=i+Math.imul(f,ee)|0)+Math.imul(h,Q)|0))<<13)|0;u=((o=o+Math.imul(h,ee)|0)+(i>>>13)|0)+(we>>>26)|0,we&=67108863,n=Math.imul(x,U),i=(i=Math.imul(x,q))+Math.imul(A,U)|0,o=Math.imul(A,q),n=n+Math.imul(E,z)|0,i=(i=i+Math.imul(E,V)|0)+Math.imul(T,z)|0,o=o+Math.imul(T,V)|0,n=n+Math.imul(w,G)|0,i=(i=i+Math.imul(w,K)|0)+Math.imul(_,G)|0,o=o+Math.imul(_,K)|0,n=n+Math.imul(m,J)|0,i=(i=i+Math.imul(m,X)|0)+Math.imul(v,J)|0,o=o+Math.imul(v,X)|0,n=n+Math.imul(p,Q)|0,i=(i=i+Math.imul(p,ee)|0)+Math.imul(y,Q)|0,o=o+Math.imul(y,ee)|0;var _e=(u+(n=n+Math.imul(f,re)|0)|0)+((8191&(i=(i=i+Math.imul(f,ne)|0)+Math.imul(h,re)|0))<<13)|0;u=((o=o+Math.imul(h,ne)|0)+(i>>>13)|0)+(_e>>>26)|0,_e&=67108863,n=Math.imul(P,U),i=(i=Math.imul(P,q))+Math.imul(I,U)|0,o=Math.imul(I,q),n=n+Math.imul(x,z)|0,i=(i=i+Math.imul(x,V)|0)+Math.imul(A,z)|0,o=o+Math.imul(A,V)|0,n=n+Math.imul(E,G)|0,i=(i=i+Math.imul(E,K)|0)+Math.imul(T,G)|0,o=o+Math.imul(T,K)|0,n=n+Math.imul(w,J)|0,i=(i=i+Math.imul(w,X)|0)+Math.imul(_,J)|0,o=o+Math.imul(_,X)|0,n=n+Math.imul(m,Q)|0,i=(i=i+Math.imul(m,ee)|0)+Math.imul(v,Q)|0,o=o+Math.imul(v,ee)|0,n=n+Math.imul(p,re)|0,i=(i=i+Math.imul(p,ne)|0)+Math.imul(y,re)|0,o=o+Math.imul(y,ne)|0;var Se=(u+(n=n+Math.imul(f,oe)|0)|0)+((8191&(i=(i=i+Math.imul(f,se)|0)+Math.imul(h,oe)|0))<<13)|0;u=((o=o+Math.imul(h,se)|0)+(i>>>13)|0)+(Se>>>26)|0,Se&=67108863,n=Math.imul(R,U),i=(i=Math.imul(R,q))+Math.imul(k,U)|0,o=Math.imul(k,q),n=n+Math.imul(P,z)|0,i=(i=i+Math.imul(P,V)|0)+Math.imul(I,z)|0,o=o+Math.imul(I,V)|0,n=n+Math.imul(x,G)|0,i=(i=i+Math.imul(x,K)|0)+Math.imul(A,G)|0,o=o+Math.imul(A,K)|0,n=n+Math.imul(E,J)|0,i=(i=i+Math.imul(E,X)|0)+Math.imul(T,J)|0,o=o+Math.imul(T,X)|0,n=n+Math.imul(w,Q)|0,i=(i=i+Math.imul(w,ee)|0)+Math.imul(_,Q)|0,o=o+Math.imul(_,ee)|0,n=n+Math.imul(m,re)|0,i=(i=i+Math.imul(m,ne)|0)+Math.imul(v,re)|0,o=o+Math.imul(v,ne)|0,n=n+Math.imul(p,oe)|0,i=(i=i+Math.imul(p,se)|0)+Math.imul(y,oe)|0,o=o+Math.imul(y,se)|0;var Ee=(u+(n=n+Math.imul(f,ce)|0)|0)+((8191&(i=(i=i+Math.imul(f,ue)|0)+Math.imul(h,ce)|0))<<13)|0;u=((o=o+Math.imul(h,ue)|0)+(i>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,n=Math.imul($,U),i=(i=Math.imul($,q))+Math.imul(N,U)|0,o=Math.imul(N,q),n=n+Math.imul(R,z)|0,i=(i=i+Math.imul(R,V)|0)+Math.imul(k,z)|0,o=o+Math.imul(k,V)|0,n=n+Math.imul(P,G)|0,i=(i=i+Math.imul(P,K)|0)+Math.imul(I,G)|0,o=o+Math.imul(I,K)|0,n=n+Math.imul(x,J)|0,i=(i=i+Math.imul(x,X)|0)+Math.imul(A,J)|0,o=o+Math.imul(A,X)|0,n=n+Math.imul(E,Q)|0,i=(i=i+Math.imul(E,ee)|0)+Math.imul(T,Q)|0,o=o+Math.imul(T,ee)|0,n=n+Math.imul(w,re)|0,i=(i=i+Math.imul(w,ne)|0)+Math.imul(_,re)|0,o=o+Math.imul(_,ne)|0,n=n+Math.imul(m,oe)|0,i=(i=i+Math.imul(m,se)|0)+Math.imul(v,oe)|0,o=o+Math.imul(v,se)|0,n=n+Math.imul(p,ce)|0,i=(i=i+Math.imul(p,ue)|0)+Math.imul(y,ce)|0,o=o+Math.imul(y,ue)|0;var Te=(u+(n=n+Math.imul(f,fe)|0)|0)+((8191&(i=(i=i+Math.imul(f,he)|0)+Math.imul(h,fe)|0))<<13)|0;u=((o=o+Math.imul(h,he)|0)+(i>>>13)|0)+(Te>>>26)|0,Te&=67108863,n=Math.imul(B,U),i=(i=Math.imul(B,q))+Math.imul(D,U)|0,o=Math.imul(D,q),n=n+Math.imul($,z)|0,i=(i=i+Math.imul($,V)|0)+Math.imul(N,z)|0,o=o+Math.imul(N,V)|0,n=n+Math.imul(R,G)|0,i=(i=i+Math.imul(R,K)|0)+Math.imul(k,G)|0,o=o+Math.imul(k,K)|0,n=n+Math.imul(P,J)|0,i=(i=i+Math.imul(P,X)|0)+Math.imul(I,J)|0,o=o+Math.imul(I,X)|0,n=n+Math.imul(x,Q)|0,i=(i=i+Math.imul(x,ee)|0)+Math.imul(A,Q)|0,o=o+Math.imul(A,ee)|0,n=n+Math.imul(E,re)|0,i=(i=i+Math.imul(E,ne)|0)+Math.imul(T,re)|0,o=o+Math.imul(T,ne)|0,n=n+Math.imul(w,oe)|0,i=(i=i+Math.imul(w,se)|0)+Math.imul(_,oe)|0,o=o+Math.imul(_,se)|0,n=n+Math.imul(m,ce)|0,i=(i=i+Math.imul(m,ue)|0)+Math.imul(v,ce)|0,o=o+Math.imul(v,ue)|0,n=n+Math.imul(p,fe)|0,i=(i=i+Math.imul(p,he)|0)+Math.imul(y,fe)|0,o=o+Math.imul(y,he)|0;var Oe=(u+(n=n+Math.imul(f,pe)|0)|0)+((8191&(i=(i=i+Math.imul(f,ye)|0)+Math.imul(h,pe)|0))<<13)|0;u=((o=o+Math.imul(h,ye)|0)+(i>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,n=Math.imul(B,z),i=(i=Math.imul(B,V))+Math.imul(D,z)|0,o=Math.imul(D,V),n=n+Math.imul($,G)|0,i=(i=i+Math.imul($,K)|0)+Math.imul(N,G)|0,o=o+Math.imul(N,K)|0,n=n+Math.imul(R,J)|0,i=(i=i+Math.imul(R,X)|0)+Math.imul(k,J)|0,o=o+Math.imul(k,X)|0,n=n+Math.imul(P,Q)|0,i=(i=i+Math.imul(P,ee)|0)+Math.imul(I,Q)|0,o=o+Math.imul(I,ee)|0,n=n+Math.imul(x,re)|0,i=(i=i+Math.imul(x,ne)|0)+Math.imul(A,re)|0,o=o+Math.imul(A,ne)|0,n=n+Math.imul(E,oe)|0,i=(i=i+Math.imul(E,se)|0)+Math.imul(T,oe)|0,o=o+Math.imul(T,se)|0,n=n+Math.imul(w,ce)|0,i=(i=i+Math.imul(w,ue)|0)+Math.imul(_,ce)|0,o=o+Math.imul(_,ue)|0,n=n+Math.imul(m,fe)|0,i=(i=i+Math.imul(m,he)|0)+Math.imul(v,fe)|0,o=o+Math.imul(v,he)|0;var xe=(u+(n=n+Math.imul(p,pe)|0)|0)+((8191&(i=(i=i+Math.imul(p,ye)|0)+Math.imul(y,pe)|0))<<13)|0;u=((o=o+Math.imul(y,ye)|0)+(i>>>13)|0)+(xe>>>26)|0,xe&=67108863,n=Math.imul(B,G),i=(i=Math.imul(B,K))+Math.imul(D,G)|0,o=Math.imul(D,K),n=n+Math.imul($,J)|0,i=(i=i+Math.imul($,X)|0)+Math.imul(N,J)|0,o=o+Math.imul(N,X)|0,n=n+Math.imul(R,Q)|0,i=(i=i+Math.imul(R,ee)|0)+Math.imul(k,Q)|0,o=o+Math.imul(k,ee)|0,n=n+Math.imul(P,re)|0,i=(i=i+Math.imul(P,ne)|0)+Math.imul(I,re)|0,o=o+Math.imul(I,ne)|0,n=n+Math.imul(x,oe)|0,i=(i=i+Math.imul(x,se)|0)+Math.imul(A,oe)|0,o=o+Math.imul(A,se)|0,n=n+Math.imul(E,ce)|0,i=(i=i+Math.imul(E,ue)|0)+Math.imul(T,ce)|0,o=o+Math.imul(T,ue)|0,n=n+Math.imul(w,fe)|0,i=(i=i+Math.imul(w,he)|0)+Math.imul(_,fe)|0,o=o+Math.imul(_,he)|0;var Ae=(u+(n=n+Math.imul(m,pe)|0)|0)+((8191&(i=(i=i+Math.imul(m,ye)|0)+Math.imul(v,pe)|0))<<13)|0;u=((o=o+Math.imul(v,ye)|0)+(i>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,n=Math.imul(B,J),i=(i=Math.imul(B,X))+Math.imul(D,J)|0,o=Math.imul(D,X),n=n+Math.imul($,Q)|0,i=(i=i+Math.imul($,ee)|0)+Math.imul(N,Q)|0,o=o+Math.imul(N,ee)|0,n=n+Math.imul(R,re)|0,i=(i=i+Math.imul(R,ne)|0)+Math.imul(k,re)|0,o=o+Math.imul(k,ne)|0,n=n+Math.imul(P,oe)|0,i=(i=i+Math.imul(P,se)|0)+Math.imul(I,oe)|0,o=o+Math.imul(I,se)|0,n=n+Math.imul(x,ce)|0,i=(i=i+Math.imul(x,ue)|0)+Math.imul(A,ce)|0,o=o+Math.imul(A,ue)|0,n=n+Math.imul(E,fe)|0,i=(i=i+Math.imul(E,he)|0)+Math.imul(T,fe)|0,o=o+Math.imul(T,he)|0;var Me=(u+(n=n+Math.imul(w,pe)|0)|0)+((8191&(i=(i=i+Math.imul(w,ye)|0)+Math.imul(_,pe)|0))<<13)|0;u=((o=o+Math.imul(_,ye)|0)+(i>>>13)|0)+(Me>>>26)|0,Me&=67108863,n=Math.imul(B,Q),i=(i=Math.imul(B,ee))+Math.imul(D,Q)|0,o=Math.imul(D,ee),n=n+Math.imul($,re)|0,i=(i=i+Math.imul($,ne)|0)+Math.imul(N,re)|0,o=o+Math.imul(N,ne)|0,n=n+Math.imul(R,oe)|0,i=(i=i+Math.imul(R,se)|0)+Math.imul(k,oe)|0,o=o+Math.imul(k,se)|0,n=n+Math.imul(P,ce)|0,i=(i=i+Math.imul(P,ue)|0)+Math.imul(I,ce)|0,o=o+Math.imul(I,ue)|0,n=n+Math.imul(x,fe)|0,i=(i=i+Math.imul(x,he)|0)+Math.imul(A,fe)|0,o=o+Math.imul(A,he)|0;var Pe=(u+(n=n+Math.imul(E,pe)|0)|0)+((8191&(i=(i=i+Math.imul(E,ye)|0)+Math.imul(T,pe)|0))<<13)|0;u=((o=o+Math.imul(T,ye)|0)+(i>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,n=Math.imul(B,re),i=(i=Math.imul(B,ne))+Math.imul(D,re)|0,o=Math.imul(D,ne),n=n+Math.imul($,oe)|0,i=(i=i+Math.imul($,se)|0)+Math.imul(N,oe)|0,o=o+Math.imul(N,se)|0,n=n+Math.imul(R,ce)|0,i=(i=i+Math.imul(R,ue)|0)+Math.imul(k,ce)|0,o=o+Math.imul(k,ue)|0,n=n+Math.imul(P,fe)|0,i=(i=i+Math.imul(P,he)|0)+Math.imul(I,fe)|0,o=o+Math.imul(I,he)|0;var Ie=(u+(n=n+Math.imul(x,pe)|0)|0)+((8191&(i=(i=i+Math.imul(x,ye)|0)+Math.imul(A,pe)|0))<<13)|0;u=((o=o+Math.imul(A,ye)|0)+(i>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,n=Math.imul(B,oe),i=(i=Math.imul(B,se))+Math.imul(D,oe)|0,o=Math.imul(D,se),n=n+Math.imul($,ce)|0,i=(i=i+Math.imul($,ue)|0)+Math.imul(N,ce)|0,o=o+Math.imul(N,ue)|0,n=n+Math.imul(R,fe)|0,i=(i=i+Math.imul(R,he)|0)+Math.imul(k,fe)|0,o=o+Math.imul(k,he)|0;var je=(u+(n=n+Math.imul(P,pe)|0)|0)+((8191&(i=(i=i+Math.imul(P,ye)|0)+Math.imul(I,pe)|0))<<13)|0;u=((o=o+Math.imul(I,ye)|0)+(i>>>13)|0)+(je>>>26)|0,je&=67108863,n=Math.imul(B,ce),i=(i=Math.imul(B,ue))+Math.imul(D,ce)|0,o=Math.imul(D,ue),n=n+Math.imul($,fe)|0,i=(i=i+Math.imul($,he)|0)+Math.imul(N,fe)|0,o=o+Math.imul(N,he)|0;var Re=(u+(n=n+Math.imul(R,pe)|0)|0)+((8191&(i=(i=i+Math.imul(R,ye)|0)+Math.imul(k,pe)|0))<<13)|0;u=((o=o+Math.imul(k,ye)|0)+(i>>>13)|0)+(Re>>>26)|0,Re&=67108863,n=Math.imul(B,fe),i=(i=Math.imul(B,he))+Math.imul(D,fe)|0,o=Math.imul(D,he);var ke=(u+(n=n+Math.imul($,pe)|0)|0)+((8191&(i=(i=i+Math.imul($,ye)|0)+Math.imul(N,pe)|0))<<13)|0;u=((o=o+Math.imul(N,ye)|0)+(i>>>13)|0)+(ke>>>26)|0,ke&=67108863;var Ce=(u+(n=Math.imul(B,pe))|0)+((8191&(i=(i=Math.imul(B,ye))+Math.imul(D,pe)|0))<<13)|0;return u=((o=Math.imul(D,ye))+(i>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,c[0]=be,c[1]=me,c[2]=ve,c[3]=ge,c[4]=we,c[5]=_e,c[6]=Se,c[7]=Ee,c[8]=Te,c[9]=Oe,c[10]=xe,c[11]=Ae,c[12]=Me,c[13]=Pe,c[14]=Ie,c[15]=je,c[16]=Re,c[17]=ke,c[18]=Ce,0!==u&&(c[19]=u,r.length++),r};function m(e,t,r){r.negative=t.negative^e.negative,r.length=e.length+t.length;for(var n=0,i=0,o=0;o<r.length-1;o++){var s=i;i=0;for(var a=67108863&n,c=Math.min(o,t.length-1),u=Math.max(0,o-e.length+1);u<=c;u++){var l=o-u,f=(0|e.words[l])*(0|t.words[u]),h=67108863&f;a=67108863&(h=h+a|0),i+=(s=(s=s+(f/67108864|0)|0)+(h>>>26)|0)>>>26,s&=67108863}r.words[o]=a,n=s,s=i}return 0!==n?r.words[o]=n:r.length--,r._strip()}function v(e,t,r){return m(e,t,r)}function g(e,t){this.x=e,this.y=t}Math.imul||(b=y),o.prototype.mulTo=function(e,t){var r=this.length+e.length;return 10===this.length&&10===e.length?b(this,e,t):r<63?y(this,e,t):r<1024?m(this,e,t):v(this,e,t)},g.prototype.makeRBT=function(e){for(var t=new Array(e),r=o.prototype._countBits(e)-1,n=0;n<e;n++)t[n]=this.revBin(n,r,e);return t},g.prototype.revBin=function(e,t,r){if(0===e||e===r-1)return e;for(var n=0,i=0;i<t;i++)n|=(1&e)<<t-i-1,e>>=1;return n},g.prototype.permute=function(e,t,r,n,i,o){for(var s=0;s<o;s++)n[s]=t[e[s]],i[s]=r[e[s]]},g.prototype.transform=function(e,t,r,n,i,o){this.permute(o,e,t,r,n,i);for(var s=1;s<i;s<<=1)for(var a=s<<1,c=Math.cos(2*Math.PI/a),u=Math.sin(2*Math.PI/a),l=0;l<i;l+=a)for(var f=c,h=u,d=0;d<s;d++){var p=r[l+d],y=n[l+d],b=r[l+d+s],m=n[l+d+s],v=f*b-h*m;m=f*m+h*b,b=v,r[l+d]=p+b,n[l+d]=y+m,r[l+d+s]=p-b,n[l+d+s]=y-m,d!==a&&(v=c*f-u*h,h=c*h+u*f,f=v)}},g.prototype.guessLen13b=function(e,t){var r=1|Math.max(t,e),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},g.prototype.conjugate=function(e,t,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=e[n];e[n]=e[r-n-1],e[r-n-1]=i,i=t[n],t[n]=-t[r-n-1],t[r-n-1]=-i}},g.prototype.normalize13b=function(e,t){for(var r=0,n=0;n<t/2;n++){var i=8192*Math.round(e[2*n+1]/t)+Math.round(e[2*n]/t)+r;e[n]=67108863&i,r=i<67108864?0:i/67108864|0}return e},g.prototype.convert13b=function(e,t,r,i){for(var o=0,s=0;s<t;s++)o+=0|e[s],r[2*s]=8191&o,o>>>=13,r[2*s+1]=8191&o,o>>>=13;for(s=2*t;s<i;++s)r[s]=0;n(0===o),n(!(-8192&o))},g.prototype.stub=function(e){for(var t=new Array(e),r=0;r<e;r++)t[r]=0;return t},g.prototype.mulp=function(e,t,r){var n=2*this.guessLen13b(e.length,t.length),i=this.makeRBT(n),o=this.stub(n),s=new Array(n),a=new Array(n),c=new Array(n),u=new Array(n),l=new Array(n),f=new Array(n),h=r.words;h.length=n,this.convert13b(e.words,e.length,s,n),this.convert13b(t.words,t.length,u,n),this.transform(s,o,a,c,n,i),this.transform(u,o,l,f,n,i);for(var d=0;d<n;d++){var p=a[d]*l[d]-c[d]*f[d];c[d]=a[d]*f[d]+c[d]*l[d],a[d]=p}return this.conjugate(a,c,n),this.transform(a,c,h,o,n,i),this.conjugate(h,o,n),this.normalize13b(h,n),r.negative=e.negative^t.negative,r.length=e.length+t.length,r._strip()},o.prototype.mul=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},o.prototype.mulf=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),v(this,e,t)},o.prototype.imul=function(e){return this.clone().mulTo(e,this)},o.prototype.imuln=function(e){var t=e<0;t&&(e=-e),n("number"==typeof e),n(e<67108864);for(var r=0,i=0;i<this.length;i++){var o=(0|this.words[i])*e,s=(67108863&o)+(67108863&r);r>>=26,r+=o/67108864|0,r+=s>>>26,this.words[i]=67108863&s}return 0!==r&&(this.words[i]=r,this.length++),t?this.ineg():this},o.prototype.muln=function(e){return this.clone().imuln(e)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),r=0;r<t.length;r++){var n=r/26|0,i=r%26;t[r]=e.words[n]>>>i&1}return t}(e);if(0===t.length)return new o(1);for(var r=this,n=0;n<t.length&&0===t[n];n++,r=r.sqr());if(++n<t.length)for(var i=r.sqr();n<t.length;n++,i=i.sqr())0!==t[n]&&(r=r.mul(i));return r},o.prototype.iushln=function(e){n("number"==typeof e&&e>=0);var t,r=e%26,i=(e-r)/26,o=67108863>>>26-r<<26-r;if(0!==r){var s=0;for(t=0;t<this.length;t++){var a=this.words[t]&o,c=(0|this.words[t])-a<<r;this.words[t]=c|s,s=a>>>26-r}s&&(this.words[t]=s,this.length++)}if(0!==i){for(t=this.length-1;t>=0;t--)this.words[t+i]=this.words[t];for(t=0;t<i;t++)this.words[t]=0;this.length+=i}return this._strip()},o.prototype.ishln=function(e){return n(0===this.negative),this.iushln(e)},o.prototype.iushrn=function(e,t,r){var i;n("number"==typeof e&&e>=0),i=t?(t-t%26)/26:0;var o=e%26,s=Math.min((e-o)/26,this.length),a=67108863^67108863>>>o<<o,c=r;if(i-=s,i=Math.max(0,i),c){for(var u=0;u<s;u++)c.words[u]=this.words[u];c.length=s}if(0===s);else if(this.length>s)for(this.length-=s,u=0;u<this.length;u++)this.words[u]=this.words[u+s];else this.words[0]=0,this.length=1;var l=0;for(u=this.length-1;u>=0&&(0!==l||u>=i);u--){var f=0|this.words[u];this.words[u]=l<<26-o|f>>>o,l=f&a}return c&&0!==l&&(c.words[c.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},o.prototype.ishrn=function(e,t,r){return n(0===this.negative),this.iushrn(e,t,r)},o.prototype.shln=function(e){return this.clone().ishln(e)},o.prototype.ushln=function(e){return this.clone().iushln(e)},o.prototype.shrn=function(e){return this.clone().ishrn(e)},o.prototype.ushrn=function(e){return this.clone().iushrn(e)},o.prototype.testn=function(e){n("number"==typeof e&&e>=0);var t=e%26,r=(e-t)/26,i=1<<t;return!(this.length<=r||!(this.words[r]&i))},o.prototype.imaskn=function(e){n("number"==typeof e&&e>=0);var t=e%26,r=(e-t)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==t&&r++,this.length=Math.min(r,this.length),0!==t){var i=67108863^67108863>>>t<<t;this.words[this.length-1]&=i}return this._strip()},o.prototype.maskn=function(e){return this.clone().imaskn(e)},o.prototype.iaddn=function(e){return n("number"==typeof e),n(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<=e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},o.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},o.prototype.isubn=function(e){if(n("number"==typeof e),n(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this._strip()},o.prototype.addn=function(e){return this.clone().iaddn(e)},o.prototype.subn=function(e){return this.clone().isubn(e)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(e,t,r){var i,o,s=e.length+r;this._expand(s);var a=0;for(i=0;i<e.length;i++){o=(0|this.words[i+r])+a;var c=(0|e.words[i])*t;a=((o-=67108863&c)>>26)-(c/67108864|0),this.words[i+r]=67108863&o}for(;i<this.length-r;i++)a=(o=(0|this.words[i+r])+a)>>26,this.words[i+r]=67108863&o;if(0===a)return this._strip();for(n(-1===a),a=0,i=0;i<this.length;i++)a=(o=-(0|this.words[i])+a)>>26,this.words[i]=67108863&o;return this.negative=1,this._strip()},o.prototype._wordDiv=function(e,t){var r=(this.length,e.length),n=this.clone(),i=e,s=0|i.words[i.length-1];0!=(r=26-this._countBits(s))&&(i=i.ushln(r),n.iushln(r),s=0|i.words[i.length-1]);var a,c=n.length-i.length;if("mod"!==t){(a=new o(null)).length=c+1,a.words=new Array(a.length);for(var u=0;u<a.length;u++)a.words[u]=0}var l=n.clone()._ishlnsubmul(i,1,c);0===l.negative&&(n=l,a&&(a.words[c]=1));for(var f=c-1;f>=0;f--){var h=67108864*(0|n.words[i.length+f])+(0|n.words[i.length+f-1]);for(h=Math.min(h/s|0,67108863),n._ishlnsubmul(i,h,f);0!==n.negative;)h--,n.negative=0,n._ishlnsubmul(i,1,f),n.isZero()||(n.negative^=1);a&&(a.words[f]=h)}return a&&a._strip(),n._strip(),"div"!==t&&0!==r&&n.iushrn(r),{div:a||null,mod:n}},o.prototype.divmod=function(e,t,r){return n(!e.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===e.negative?(a=this.neg().divmod(e,t),"mod"!==t&&(i=a.div.neg()),"div"!==t&&(s=a.mod.neg(),r&&0!==s.negative&&s.iadd(e)),{div:i,mod:s}):0===this.negative&&0!==e.negative?(a=this.divmod(e.neg(),t),"mod"!==t&&(i=a.div.neg()),{div:i,mod:a.mod}):this.negative&e.negative?(a=this.neg().divmod(e.neg(),t),"div"!==t&&(s=a.mod.neg(),r&&0!==s.negative&&s.isub(e)),{div:a.div,mod:s}):e.length>this.length||this.cmp(e)<0?{div:new o(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new o(this.modrn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new o(this.modrn(e.words[0]))}:this._wordDiv(e,t);var i,s,a},o.prototype.div=function(e){return this.divmod(e,"div",!1).div},o.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},o.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},o.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var r=0!==t.div.negative?t.mod.isub(e):t.mod,n=e.ushrn(1),i=e.andln(1),o=r.cmp(n);return o<0||1===i&&0===o?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},o.prototype.modrn=function(e){var t=e<0;t&&(e=-e),n(e<=67108863);for(var r=(1<<26)%e,i=0,o=this.length-1;o>=0;o--)i=(r*i+(0|this.words[o]))%e;return t?-i:i},o.prototype.modn=function(e){return this.modrn(e)},o.prototype.idivn=function(e){var t=e<0;t&&(e=-e),n(e<=67108863);for(var r=0,i=this.length-1;i>=0;i--){var o=(0|this.words[i])+67108864*r;this.words[i]=o/e|0,r=o%e}return this._strip(),t?this.ineg():this},o.prototype.divn=function(e){return this.clone().idivn(e)},o.prototype.egcd=function(e){n(0===e.negative),n(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i=new o(1),s=new o(0),a=new o(0),c=new o(1),u=0;t.isEven()&&r.isEven();)t.iushrn(1),r.iushrn(1),++u;for(var l=r.clone(),f=t.clone();!t.isZero();){for(var h=0,d=1;!(t.words[0]&d)&&h<26;++h,d<<=1);if(h>0)for(t.iushrn(h);h-- >0;)(i.isOdd()||s.isOdd())&&(i.iadd(l),s.isub(f)),i.iushrn(1),s.iushrn(1);for(var p=0,y=1;!(r.words[0]&y)&&p<26;++p,y<<=1);if(p>0)for(r.iushrn(p);p-- >0;)(a.isOdd()||c.isOdd())&&(a.iadd(l),c.isub(f)),a.iushrn(1),c.iushrn(1);t.cmp(r)>=0?(t.isub(r),i.isub(a),s.isub(c)):(r.isub(t),a.isub(i),c.isub(s))}return{a,b:c,gcd:r.iushln(u)}},o.prototype._invmp=function(e){n(0===e.negative),n(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i,s=new o(1),a=new o(0),c=r.clone();t.cmpn(1)>0&&r.cmpn(1)>0;){for(var u=0,l=1;!(t.words[0]&l)&&u<26;++u,l<<=1);if(u>0)for(t.iushrn(u);u-- >0;)s.isOdd()&&s.iadd(c),s.iushrn(1);for(var f=0,h=1;!(r.words[0]&h)&&f<26;++f,h<<=1);if(f>0)for(r.iushrn(f);f-- >0;)a.isOdd()&&a.iadd(c),a.iushrn(1);t.cmp(r)>=0?(t.isub(r),s.isub(a)):(r.isub(t),a.isub(s))}return(i=0===t.cmpn(1)?s:a).cmpn(0)<0&&i.iadd(e),i},o.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),r=e.clone();t.negative=0,r.negative=0;for(var n=0;t.isEven()&&r.isEven();n++)t.iushrn(1),r.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=t.cmp(r);if(i<0){var o=t;t=r,r=o}else if(0===i||0===r.cmpn(1))break;t.isub(r)}return r.iushln(n)},o.prototype.invm=function(e){return this.egcd(e).a.umod(e)},o.prototype.isEven=function(){return!(1&this.words[0])},o.prototype.isOdd=function(){return!(1&~this.words[0])},o.prototype.andln=function(e){return this.words[0]&e},o.prototype.bincn=function(e){n("number"==typeof e);var t=e%26,r=(e-t)/26,i=1<<t;if(this.length<=r)return this._expand(r+1),this.words[r]|=i,this;for(var o=i,s=r;0!==o&&s<this.length;s++){var a=0|this.words[s];o=(a+=o)>>>26,a&=67108863,this.words[s]=a}return 0!==o&&(this.words[s]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(e){var t,r=e<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this._strip(),this.length>1)t=1;else{r&&(e=-e),n(e<=67108863,"Number is too big");var i=0|this.words[0];t=i===e?0:i<e?-1:1}return 0!==this.negative?0|-t:t},o.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},o.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|e.words[r];if(n!==i){n<i?t=-1:n>i&&(t=1);break}}return t},o.prototype.gtn=function(e){return 1===this.cmpn(e)},o.prototype.gt=function(e){return 1===this.cmp(e)},o.prototype.gten=function(e){return this.cmpn(e)>=0},o.prototype.gte=function(e){return this.cmp(e)>=0},o.prototype.ltn=function(e){return-1===this.cmpn(e)},o.prototype.lt=function(e){return-1===this.cmp(e)},o.prototype.lten=function(e){return this.cmpn(e)<=0},o.prototype.lte=function(e){return this.cmp(e)<=0},o.prototype.eqn=function(e){return 0===this.cmpn(e)},o.prototype.eq=function(e){return 0===this.cmp(e)},o.red=function(e){return new x(e)},o.prototype.toRed=function(e){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},o.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(e){return this.red=e,this},o.prototype.forceRed=function(e){return n(!this.red,"Already a number in reduction context"),this._forceRed(e)},o.prototype.redAdd=function(e){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},o.prototype.redIAdd=function(e){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},o.prototype.redSub=function(e){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},o.prototype.redISub=function(e){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},o.prototype.redShl=function(e){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},o.prototype.redMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},o.prototype.redIMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},o.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(e){return n(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var w={k256:null,p224:null,p192:null,p25519:null};function _(e,t){this.name=e,this.p=new o(t,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function S(){_.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function E(){_.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function T(){_.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function O(){_.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function x(e){if("string"==typeof e){var t=o._prime(e);this.m=t.p,this.prime=t}else n(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function A(e){x.call(this,e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}_.prototype._tmp=function(){var e=new o(null);return e.words=new Array(Math.ceil(this.n/13)),e},_.prototype.ireduce=function(e){var t,r=e;do{this.split(r,this.tmp),t=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(t>this.n);var n=t<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},_.prototype.split=function(e,t){e.iushrn(this.n,0,t)},_.prototype.imulK=function(e){return e.imul(this.k)},i(S,_),S.prototype.split=function(e,t){for(var r=4194303,n=Math.min(e.length,9),i=0;i<n;i++)t.words[i]=e.words[i];if(t.length=n,e.length<=9)return e.words[0]=0,void(e.length=1);var o=e.words[9];for(t.words[t.length++]=o&r,i=10;i<e.length;i++){var s=0|e.words[i];e.words[i-10]=(s&r)<<4|o>>>22,o=s}o>>>=22,e.words[i-10]=o,0===o&&e.length>10?e.length-=10:e.length-=9},S.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,r=0;r<e.length;r++){var n=0|e.words[r];t+=977*n,e.words[r]=67108863&t,t=64*n+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},i(E,_),i(T,_),i(O,_),O.prototype.imulK=function(e){for(var t=0,r=0;r<e.length;r++){var n=19*(0|e.words[r])+t,i=67108863&n;n>>>=26,e.words[r]=i,t=n}return 0!==t&&(e.words[e.length++]=t),e},o._prime=function(e){if(w[e])return w[e];var t;if("k256"===e)t=new S;else if("p224"===e)t=new E;else if("p192"===e)t=new T;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new O}return w[e]=t,t},x.prototype._verify1=function(e){n(0===e.negative,"red works only with positives"),n(e.red,"red works only with red numbers")},x.prototype._verify2=function(e,t){n(!(e.negative|t.negative),"red works only with positives"),n(e.red&&e.red===t.red,"red works only with red numbers")},x.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):(l(e,e.umod(this.m)._forceRed(this)),e)},x.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},x.prototype.add=function(e,t){this._verify2(e,t);var r=e.add(t);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},x.prototype.iadd=function(e,t){this._verify2(e,t);var r=e.iadd(t);return r.cmp(this.m)>=0&&r.isub(this.m),r},x.prototype.sub=function(e,t){this._verify2(e,t);var r=e.sub(t);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},x.prototype.isub=function(e,t){this._verify2(e,t);var r=e.isub(t);return r.cmpn(0)<0&&r.iadd(this.m),r},x.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},x.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},x.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},x.prototype.isqr=function(e){return this.imul(e,e.clone())},x.prototype.sqr=function(e){return this.mul(e,e)},x.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(n(t%2==1),3===t){var r=this.m.add(new o(1)).iushrn(2);return this.pow(e,r)}for(var i=this.m.subn(1),s=0;!i.isZero()&&0===i.andln(1);)s++,i.iushrn(1);n(!i.isZero());var a=new o(1).toRed(this),c=a.redNeg(),u=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new o(2*l*l).toRed(this);0!==this.pow(l,u).cmp(c);)l.redIAdd(c);for(var f=this.pow(l,i),h=this.pow(e,i.addn(1).iushrn(1)),d=this.pow(e,i),p=s;0!==d.cmp(a);){for(var y=d,b=0;0!==y.cmp(a);b++)y=y.redSqr();n(b<p);var m=this.pow(f,new o(1).iushln(p-b-1));h=h.redMul(m),f=m.redSqr(),d=d.redMul(f),p=b}return h},x.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},x.prototype.pow=function(e,t){if(t.isZero())return new o(1).toRed(this);if(0===t.cmpn(1))return e.clone();var r=new Array(16);r[0]=new o(1).toRed(this),r[1]=e;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],e);var i=r[0],s=0,a=0,c=t.bitLength()%26;for(0===c&&(c=26),n=t.length-1;n>=0;n--){for(var u=t.words[n],l=c-1;l>=0;l--){var f=u>>l&1;i!==r[0]&&(i=this.sqr(i)),0!==f||0!==s?(s<<=1,s|=f,(4==++a||0===n&&0===l)&&(i=this.mul(i,r[s]),a=0,s=0)):a=0}c=26}return i},x.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},x.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},o.mont=function(e){return new A(e)},i(A,x),A.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},A.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},A.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var r=e.imul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},A.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new o(0)._forceRed(this);var r=e.mul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),s=i;return i.cmp(this.m)>=0?s=i.isub(this.m):i.cmpn(0)<0&&(s=i.iadd(this.m)),s._forceRed(this)},A.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(e=r.nmd(e),this)},75705:(e,t,r)=>{var n=r(33254),i=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};e.exports=f;var o=Object.create(r(32239));o.inherits=r(35615);var s=r(73103),a=r(26851);o.inherits(f,s);for(var c=i(a.prototype),u=0;u<c.length;u++){var l=c[u];f.prototype[l]||(f.prototype[l]=a.prototype[l])}function f(e){if(!(this instanceof f))return new f(e);s.call(this,e),a.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",h)}function h(){this.allowHalfOpen||this._writableState.ended||n.nextTick(d,this)}function d(e){e.end()}Object.defineProperty(f.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(f.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),f.prototype._destroy=function(e,t){this.push(null),this.end(),n.nextTick(t,e)}},95501:(e,t,r)=>{e.exports=o;var n=r(25071),i=Object.create(r(32239));function o(e){if(!(this instanceof o))return new o(e);n.call(this,e)}i.inherits=r(35615),i.inherits(o,n),o.prototype._transform=function(e,t,r){r(null,e)}},73103:(e,t,r)=>{var n=r(39907),i=r(33254);e.exports=g;var o,s=r(56815);g.ReadableState=v,r(50046).EventEmitter;var a=function(e,t){return e.listeners(t).length},c=r(68560),u=r(22021).Buffer,l=(void 0!==r.g?r.g:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).Uint8Array||function(){},f=Object.create(r(32239));f.inherits=r(35615);var h=r(18231),d=void 0;d=h&&h.debuglog?h.debuglog("stream"):function(){};var p,y=r(33279),b=r(95879);f.inherits(g,c);var m=["error","close","destroy","pause","resume"];function v(e,t){e=e||{};var n=t instanceof(o=o||r(75705));this.objectMode=!!e.objectMode,n&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var i=e.highWaterMark,s=e.readableHighWaterMark,a=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:n&&(s||0===s)?s:a,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new y,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(p||(p=r(9360).I),this.decoder=new p(e.encoding),this.encoding=e.encoding)}function g(e){if(o=o||r(75705),!(this instanceof g))return new g(e);this._readableState=new v(e,this),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),c.call(this)}function w(e,t,r,n,i){var o,s=e._readableState;return null===t?(s.reading=!1,function(e,t){if(!t.ended){if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,T(e)}}(e,s)):(i||(o=function(e,t){var r,n;return n=t,u.isBuffer(n)||n instanceof l||"string"==typeof t||void 0===t||e.objectMode||(r=new TypeError("Invalid non-string/buffer chunk")),r}(s,t)),o?e.emit("error",o):s.objectMode||t&&t.length>0?("string"==typeof t||s.objectMode||Object.getPrototypeOf(t)===u.prototype||(t=function(e){return u.from(e)}(t)),n?s.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):_(e,s,t,!0):s.ended?e.emit("error",new Error("stream.push() after EOF")):(s.reading=!1,s.decoder&&!r?(t=s.decoder.write(t),s.objectMode||0!==t.length?_(e,s,t,!1):x(e,s)):_(e,s,t,!1))):n||(s.reading=!1)),function(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}(s)}function _(e,t,r,n){t.flowing&&0===t.length&&!t.sync?(e.emit("data",r),e.read(0)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&T(e)),x(e,t)}Object.defineProperty(g.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),g.prototype.destroy=b.destroy,g.prototype._undestroy=b.undestroy,g.prototype._destroy=function(e,t){this.push(null),t(e)},g.prototype.push=function(e,t){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof e&&((t=t||n.defaultEncoding)!==n.encoding&&(e=u.from(e,t),t=""),r=!0),w(this,e,t,!1,r)},g.prototype.unshift=function(e){return w(this,e,null,!0,!1)},g.prototype.isPaused=function(){return!1===this._readableState.flowing},g.prototype.setEncoding=function(e){return p||(p=r(9360).I),this._readableState.decoder=new p(e),this._readableState.encoding=e,this};var S=8388608;function E(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=S?e=S:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function T(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(d("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?i.nextTick(O,e):O(e))}function O(e){d("emit readable"),e.emit("readable"),I(e)}function x(e,t){t.readingMore||(t.readingMore=!0,i.nextTick(A,e,t))}function A(e,t){for(var r=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(d("maybeReadMore read 0"),e.read(0),r!==t.length);)r=t.length;t.readingMore=!1}function M(e){d("readable nexttick read 0"),e.read(0)}function P(e,t){t.reading||(d("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),I(e),t.flowing&&!t.reading&&e.read(0)}function I(e){var t=e._readableState;for(d("flow",t.flowing);t.flowing&&null!==e.read(););}function j(e,t){return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):r=function(e,t,r){var n;return e<t.head.data.length?(n=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):n=e===t.head.data.length?t.shift():r?function(e,t){var r=t.head,n=1,i=r.data;for(e-=i.length;r=r.next;){var o=r.data,s=e>o.length?o.length:e;if(s===o.length?i+=o:i+=o.slice(0,e),0==(e-=s)){s===o.length?(++n,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=o.slice(s));break}++n}return t.length-=n,i}(e,t):function(e,t){var r=u.allocUnsafe(e),n=t.head,i=1;for(n.data.copy(r),e-=n.data.length;n=n.next;){var o=n.data,s=e>o.length?o.length:e;if(o.copy(r,r.length-e,0,s),0==(e-=s)){s===o.length?(++i,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=o.slice(s));break}++i}return t.length-=i,r}(e,t),n}(e,t.buffer,t.decoder),r);var r}function R(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,i.nextTick(k,t,e))}function k(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function C(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}g.prototype.read=function(e){d("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return d("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?R(this):T(this),null;if(0===(e=E(e,t))&&t.ended)return 0===t.length&&R(this),null;var n,i=t.needReadable;return d("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&d("length less than watermark",i=!0),t.ended||t.reading?d("reading or ended",i=!1):i&&(d("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=E(r,t))),null===(n=e>0?j(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&R(this)),null!==n&&this.emit("data",n),n},g.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},g.prototype.pipe=function(e,t){var r=this,o=this._readableState;switch(o.pipesCount){case 0:o.pipes=e;break;case 1:o.pipes=[o.pipes,e];break;default:o.pipes.push(e)}o.pipesCount+=1,d("pipe count=%d opts=%j",o.pipesCount,t);var c=t&&!1===t.end||e===n.stdout||e===n.stderr?v:u;function u(){d("onend"),e.end()}o.endEmitted?i.nextTick(c):r.once("end",c),e.on("unpipe",(function t(n,i){d("onunpipe"),n===r&&i&&!1===i.hasUnpiped&&(i.hasUnpiped=!0,d("cleanup"),e.removeListener("close",b),e.removeListener("finish",m),e.removeListener("drain",l),e.removeListener("error",y),e.removeListener("unpipe",t),r.removeListener("end",u),r.removeListener("end",v),r.removeListener("data",p),f=!0,!o.awaitDrain||e._writableState&&!e._writableState.needDrain||l())}));var l=function(e){return function(){var t=e._readableState;d("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&a(e,"data")&&(t.flowing=!0,I(e))}}(r);e.on("drain",l);var f=!1,h=!1;function p(t){d("ondata"),h=!1,!1!==e.write(t)||h||((1===o.pipesCount&&o.pipes===e||o.pipesCount>1&&-1!==C(o.pipes,e))&&!f&&(d("false write response, pause",o.awaitDrain),o.awaitDrain++,h=!0),r.pause())}function y(t){d("onerror",t),v(),e.removeListener("error",y),0===a(e,"error")&&e.emit("error",t)}function b(){e.removeListener("finish",m),v()}function m(){d("onfinish"),e.removeListener("close",b),v()}function v(){d("unpipe"),r.unpipe(e)}return r.on("data",p),function(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?s(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}(e,"error",y),e.once("close",b),e.once("finish",m),e.emit("pipe",r),o.flowing||(d("pipe resume"),r.resume()),e},g.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r)),this;if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)n[o].emit("unpipe",this,{hasUnpiped:!1});return this}var s=C(t.pipes,e);return-1===s||(t.pipes.splice(s,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r)),this},g.prototype.on=function(e,t){var r=c.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var n=this._readableState;n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.emittedReadable=!1,n.reading?n.length&&T(this):i.nextTick(M,this))}return r},g.prototype.addListener=g.prototype.on,g.prototype.resume=function(){var e=this._readableState;return e.flowing||(d("resume"),e.flowing=!0,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,i.nextTick(P,e,t))}(this,e)),this},g.prototype.pause=function(){return d("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(d("pause"),this._readableState.flowing=!1,this.emit("pause")),this},g.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;for(var i in e.on("end",(function(){if(d("wrapped end"),r.decoder&&!r.ended){var e=r.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(i){d("wrapped data"),r.decoder&&(i=r.decoder.write(i)),r.objectMode&&null==i||(r.objectMode||i&&i.length)&&(t.push(i)||(n=!0,e.pause()))})),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var o=0;o<m.length;o++)e.on(m[o],this.emit.bind(this,m[o]));return this._read=function(t){d("wrapped _read",t),n&&(n=!1,e.resume())},this},Object.defineProperty(g.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),g._fromList=j},25071:(e,t,r)=>{e.exports=s;var n=r(75705),i=Object.create(r(32239));function o(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(!n)return this.emit("error",new Error("write callback called multiple times"));r.writechunk=null,r.writecb=null,null!=t&&this.push(t),n(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function s(e){if(!(this instanceof s))return new s(e);n.call(this,e),this._transformState={afterTransform:o.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",a)}function a(){var e=this;"function"==typeof this._flush?this._flush((function(t,r){c(e,t,r)})):c(this,null,null)}function c(e,t,r){if(t)return e.emit("error",t);if(null!=r&&e.push(r),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}i.inherits=r(35615),i.inherits(s,n),s.prototype.push=function(e,t){return this._transformState.needTransform=!1,n.prototype.push.call(this,e,t)},s.prototype._transform=function(e,t,r){throw new Error("_transform() is not implemented")},s.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},s.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},s.prototype._destroy=function(e,t){var r=this;n.prototype._destroy.call(this,e,(function(e){t(e),r.emit("close")}))}},26851:(e,t,r)=>{var n=r(39907),i=r(33254);function o(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,r){var n=e.entry;for(e.entry=null;n;){var i=n.callback;t.pendingcb--,i(undefined),n=n.next}t.corkedRequestsFree.next=e}(t,e)}}e.exports=m;var s,a=!n.browser&&["v0.10","v0.9."].indexOf(n.version.slice(0,5))>-1?setImmediate:i.nextTick;m.WritableState=b;var c=Object.create(r(32239));c.inherits=r(35615);var u,l={deprecate:r(66732)},f=r(68560),h=r(22021).Buffer,d=(void 0!==r.g?r.g:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).Uint8Array||function(){},p=r(95879);function y(){}function b(e,t){s=s||r(75705),e=e||{};var n=t instanceof s;this.objectMode=!!e.objectMode,n&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var c=e.highWaterMark,u=e.writableHighWaterMark,l=this.objectMode?16:16384;this.highWaterMark=c||0===c?c:n&&(u||0===u)?u:l,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var f=!1===e.decodeStrings;this.decodeStrings=!f,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var r=e._writableState,n=r.sync,o=r.writecb;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(r),t)!function(e,t,r,n,o){--t.pendingcb,r?(i.nextTick(o,n),i.nextTick(E,e,t),e._writableState.errorEmitted=!0,e.emit("error",n)):(o(n),e._writableState.errorEmitted=!0,e.emit("error",n),E(e,t))}(e,r,n,t,o);else{var s=_(r);s||r.corked||r.bufferProcessing||!r.bufferedRequest||w(e,r),n?a(g,e,r,s,o):g(e,r,s,o)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new o(this)}function m(e){if(s=s||r(75705),!(u.call(m,this)||this instanceof s))return new m(e);this._writableState=new b(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),f.call(this)}function v(e,t,r,n,i,o,s){t.writelen=n,t.writecb=s,t.writing=!0,t.sync=!0,r?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function g(e,t,r,n){r||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,n(),E(e,t)}function w(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=t.bufferedRequestCount,i=new Array(n),s=t.corkedRequestsFree;s.entry=r;for(var a=0,c=!0;r;)i[a]=r,r.isBuf||(c=!1),r=r.next,a+=1;i.allBuffers=c,v(e,t,!0,t.length,i,"",s.finish),t.pendingcb++,t.lastBufferedRequest=null,s.next?(t.corkedRequestsFree=s.next,s.next=null):t.corkedRequestsFree=new o(t),t.bufferedRequestCount=0}else{for(;r;){var u=r.chunk,l=r.encoding,f=r.callback;if(v(e,t,!1,t.objectMode?1:u.length,u,l,f),r=r.next,t.bufferedRequestCount--,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}function _(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function S(e,t){e._final((function(r){t.pendingcb--,r&&e.emit("error",r),t.prefinished=!0,e.emit("prefinish"),E(e,t)}))}function E(e,t){var r=_(t);return r&&(function(e,t){t.prefinished||t.finalCalled||("function"==typeof e._final?(t.pendingcb++,t.finalCalled=!0,i.nextTick(S,e,t)):(t.prefinished=!0,e.emit("prefinish")))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),r}c.inherits(m,f),b.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(b.prototype,"buffer",{get:l.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(u=Function.prototype[Symbol.hasInstance],Object.defineProperty(m,Symbol.hasInstance,{value:function(e){return!!u.call(this,e)||this===m&&e&&e._writableState instanceof b}})):u=function(e){return e instanceof this},m.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},m.prototype.write=function(e,t,r){var n,o=this._writableState,s=!1,a=!o.objectMode&&(n=e,h.isBuffer(n)||n instanceof d);return a&&!h.isBuffer(e)&&(e=function(e){return h.from(e)}(e)),"function"==typeof t&&(r=t,t=null),a?t="buffer":t||(t=o.defaultEncoding),"function"!=typeof r&&(r=y),o.ended?function(e,t){var r=new Error("write after end");e.emit("error",r),i.nextTick(t,r)}(this,r):(a||function(e,t,r,n){var o=!0,s=!1;return null===r?s=new TypeError("May not write null values to stream"):"string"==typeof r||void 0===r||t.objectMode||(s=new TypeError("Invalid non-string/buffer chunk")),s&&(e.emit("error",s),i.nextTick(n,s),o=!1),o}(this,o,e,r))&&(o.pendingcb++,s=function(e,t,r,n,i,o){if(!r){var s=function(e,t,r){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=h.from(t,r)),t}(t,n,i);n!==s&&(r=!0,i="buffer",n=s)}var a=t.objectMode?1:n.length;t.length+=a;var c=t.length<t.highWaterMark;if(c||(t.needDrain=!0),t.writing||t.corked){var u=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:o,next:null},u?u.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else v(e,t,!1,a,n,i,o);return c}(this,o,a,e,t,r)),s},m.prototype.cork=function(){this._writableState.corked++},m.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||w(this,e))},m.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(m.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),m.prototype._write=function(e,t,r){r(new Error("_write() is not implemented"))},m.prototype._writev=null,m.prototype.end=function(e,t,r){var n=this._writableState;"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!=e&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),n.ending||function(e,t,r){t.ending=!0,E(e,t),r&&(t.finished?i.nextTick(r):e.once("finish",r)),t.ended=!0,e.writable=!1}(this,n,r)},Object.defineProperty(m.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),m.prototype.destroy=p.destroy,m.prototype._undestroy=p.undestroy,m.prototype._destroy=function(e,t){this.end(),t(e)}},33279:(e,t,r)=>{var n=r(22021).Buffer,i=r(96331);e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},e.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},e.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r},e.prototype.concat=function(e){if(0===this.length)return n.alloc(0);for(var t,r,i=n.allocUnsafe(e>>>0),o=this.head,s=0;o;)t=i,r=s,o.data.copy(t,r),s+=o.data.length,o=o.next;return i},e}(),i&&i.inspect&&i.inspect.custom&&(e.exports.prototype[i.inspect.custom]=function(){var e=i.inspect({length:this.length});return this.constructor.name+" "+e})},95879:(e,t,r)=>{var n=r(33254);function i(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var r=this,o=this._readableState&&this._readableState.destroyed,s=this._writableState&&this._writableState.destroyed;return o||s?(t?t(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,n.nextTick(i,this,e)):n.nextTick(i,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!t&&e?r._writableState?r._writableState.errorEmitted||(r._writableState.errorEmitted=!0,n.nextTick(i,r,e)):n.nextTick(i,r,e):t&&t(e)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},68560:(e,t,r)=>{e.exports=r(50046).EventEmitter},22021:(e,t,r)=>{var n=r(1048),i=n.Buffer;function o(e,t){for(var r in e)t[r]=e[r]}function s(e,t,r){return i(e,t,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=n:(o(n,t),t.Buffer=s),o(i,s),s.from=function(e,t,r){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,r)},s.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError("Argument must be a number");var n=i(e);return void 0!==t?"string"==typeof r?n.fill(t,r):n.fill(t):n.fill(0),n},s.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},s.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n.SlowBuffer(e)}},31316:(e,t,r)=>{(t=e.exports=r(73103)).Stream=t,t.Readable=t,t.Writable=r(26851),t.Duplex=r(75705),t.Transform=r(25071),t.PassThrough=r(95501)},9360:(e,t,r)=>{var n=r(59210).Buffer,i=n.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(n.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=c,this.end=u,t=4;break;case"utf8":this.fillLast=a,t=4;break;case"base64":this.text=l,this.end=f,t=3;break;default:return this.write=h,void(this.end=d)}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(t)}function s(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function a(e){var t=this.lastTotal-this.lastNeed,r=function(e,t,r){if(128!=(192&t[0]))return e.lastNeed=0,"�";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"�";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,"�"}}(this,e);return void 0!==r?r:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function c(e,t){if((e.length-t)%2==0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function u(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function l(e,t){var r=(e.length-t)%3;return 0===r?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function f(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function h(e){return e.toString(this.encoding)}function d(e){return e&&e.length?this.write(e):""}t.I=o,o.prototype.write=function(e){if(0===e.length)return"";var t,r;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},o.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"�":t},o.prototype.text=function(e,t){var r=function(e,t,r){var n=t.length-1;if(n<r)return 0;var i=s(t[n]);return i>=0?(i>0&&(e.lastNeed=i-1),i):--n<r||-2===i?0:(i=s(t[n]))>=0?(i>0&&(e.lastNeed=i-2),i):--n<r||-2===i?0:(i=s(t[n]))>=0?(i>0&&(2===i?i=0:e.lastNeed=i-3),i):0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)},o.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},59210:(e,t,r)=>{var n=r(1048),i=n.Buffer;function o(e,t){for(var r in e)t[r]=e[r]}function s(e,t,r){return i(e,t,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=n:(o(n,t),t.Buffer=s),o(i,s),s.from=function(e,t,r){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,r)},s.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError("Argument must be a number");var n=i(e);return void 0!==t?"string"==typeof r?n.fill(t,r):n.fill(t):n.fill(0),n},s.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},s.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n.SlowBuffer(e)}},72444:(e,t,r)=>{var n=r(1048).Buffer;e.exports=function(e,t){for(var r=Math.min(e.length,t.length),i=new n(r),o=0;o<r;++o)i[o]=e[o]^t[o];return i}},1048:(e,t,r)=>{var n=r(4364);const i=r(7991),o=r(39318),s="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=u,t.SlowBuffer=function(e){return+e!=e&&(e=0),u.alloc(+e)},t.INSPECT_MAX_BYTES=50;const a=2147483647;function c(e){if(e>a)throw new RangeError('The value "'+e+'" is invalid for option "size"');const t=new Uint8Array(e);return Object.setPrototypeOf(t,u.prototype),t}function u(e,t,r){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return h(e)}return l(e,t,r)}function l(e,t,r){if("string"==typeof e)return function(e,t){if("string"==typeof t&&""!==t||(t="utf8"),!u.isEncoding(t))throw new TypeError("Unknown encoding: "+t);const r=0|b(e,t);let n=c(r);const i=n.write(e,t);return i!==r&&(n=n.slice(0,i)),n}(e,t);if(ArrayBuffer.isView(e))return function(e){if(J(e,Uint8Array)){const t=new Uint8Array(e);return p(t.buffer,t.byteOffset,t.byteLength)}return d(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(J(e,ArrayBuffer)||e&&J(e.buffer,ArrayBuffer))return p(e,t,r);if("undefined"!=typeof SharedArrayBuffer&&(J(e,SharedArrayBuffer)||e&&J(e.buffer,SharedArrayBuffer)))return p(e,t,r);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');const n=e.valueOf&&e.valueOf();if(null!=n&&n!==e)return u.from(n,t,r);const i=function(e){if(u.isBuffer(e)){const t=0|y(e.length),r=c(t);return 0===r.length||e.copy(r,0,0,t),r}return void 0!==e.length?"number"!=typeof e.length||X(e.length)?c(0):d(e):"Buffer"===e.type&&Array.isArray(e.data)?d(e.data):void 0}(e);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return u.from(e[Symbol.toPrimitive]("string"),t,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function f(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function h(e){return f(e),c(e<0?0:0|y(e))}function d(e){const t=e.length<0?0:0|y(e.length),r=c(t);for(let n=0;n<t;n+=1)r[n]=255&e[n];return r}function p(e,t,r){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw new RangeError('"length" is outside of buffer bounds');let n;return n=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),Object.setPrototypeOf(n,u.prototype),n}function y(e){if(e>=a)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a.toString(16)+" bytes");return 0|e}function b(e,t){if(u.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||J(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);const r=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;let i=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return G(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return K(e).length;default:if(i)return n?-1:G(e).length;t=(""+t).toLowerCase(),i=!0}}function m(e,t,r){let n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return j(this,t,r);case"utf8":case"utf-8":return A(this,t,r);case"ascii":return P(this,t,r);case"latin1":case"binary":return I(this,t,r);case"base64":return x(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function v(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function g(e,t,r,n,i){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),X(r=+r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof t&&(t=u.from(t,n)),u.isBuffer(t))return 0===t.length?-1:w(e,t,r,n,i);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):w(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function w(e,t,r,n,i){let o,s=1,a=e.length,c=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;s=2,a/=2,c/=2,r/=2}function u(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(i){let n=-1;for(o=r;o<a;o++)if(u(e,o)===u(t,-1===n?0:o-n)){if(-1===n&&(n=o),o-n+1===c)return n*s}else-1!==n&&(o-=o-n),n=-1}else for(r+c>a&&(r=a-c),o=r;o>=0;o--){let r=!0;for(let n=0;n<c;n++)if(u(e,o+n)!==u(t,n)){r=!1;break}if(r)return o}return-1}function _(e,t,r,n){r=Number(r)||0;const i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;const o=t.length;let s;for(n>o/2&&(n=o/2),s=0;s<n;++s){const n=parseInt(t.substr(2*s,2),16);if(X(n))return s;e[r+s]=n}return s}function S(e,t,r,n){return Y(G(t,e.length-r),e,r,n)}function E(e,t,r,n){return Y(function(e){const t=[];for(let r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function T(e,t,r,n){return Y(K(t),e,r,n)}function O(e,t,r,n){return Y(function(e,t){let r,n,i;const o=[];for(let s=0;s<e.length&&!((t-=2)<0);++s)r=e.charCodeAt(s),n=r>>8,i=r%256,o.push(i),o.push(n);return o}(t,e.length-r),e,r,n)}function x(e,t,r){return 0===t&&r===e.length?i.fromByteArray(e):i.fromByteArray(e.slice(t,r))}function A(e,t,r){r=Math.min(e.length,r);const n=[];let i=t;for(;i<r;){const t=e[i];let o=null,s=t>239?4:t>223?3:t>191?2:1;if(i+s<=r){let r,n,a,c;switch(s){case 1:t<128&&(o=t);break;case 2:r=e[i+1],128==(192&r)&&(c=(31&t)<<6|63&r,c>127&&(o=c));break;case 3:r=e[i+1],n=e[i+2],128==(192&r)&&128==(192&n)&&(c=(15&t)<<12|(63&r)<<6|63&n,c>2047&&(c<55296||c>57343)&&(o=c));break;case 4:r=e[i+1],n=e[i+2],a=e[i+3],128==(192&r)&&128==(192&n)&&128==(192&a)&&(c=(15&t)<<18|(63&r)<<12|(63&n)<<6|63&a,c>65535&&c<1114112&&(o=c))}}null===o?(o=65533,s=1):o>65535&&(o-=65536,n.push(o>>>10&1023|55296),o=56320|1023&o),n.push(o),i+=s}return function(e){const t=e.length;if(t<=M)return String.fromCharCode.apply(String,e);let r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=M));return r}(n)}t.kMaxLength=a,u.TYPED_ARRAY_SUPPORT=function(){try{const e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),u.TYPED_ARRAY_SUPPORT||void 0===n||"function"!=typeof n.error||n.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.byteOffset}}),u.poolSize=8192,u.from=function(e,t,r){return l(e,t,r)},Object.setPrototypeOf(u.prototype,Uint8Array.prototype),Object.setPrototypeOf(u,Uint8Array),u.alloc=function(e,t,r){return function(e,t,r){return f(e),e<=0?c(e):void 0!==t?"string"==typeof r?c(e).fill(t,r):c(e).fill(t):c(e)}(e,t,r)},u.allocUnsafe=function(e){return h(e)},u.allocUnsafeSlow=function(e){return h(e)},u.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==u.prototype},u.compare=function(e,t){if(J(e,Uint8Array)&&(e=u.from(e,e.offset,e.byteLength)),J(t,Uint8Array)&&(t=u.from(t,t.offset,t.byteLength)),!u.isBuffer(e)||!u.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let r=e.length,n=t.length;for(let i=0,o=Math.min(r,n);i<o;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},u.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return u.alloc(0);let r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;const n=u.allocUnsafe(t);let i=0;for(r=0;r<e.length;++r){let t=e[r];if(J(t,Uint8Array))i+t.length>n.length?(u.isBuffer(t)||(t=u.from(t)),t.copy(n,i)):Uint8Array.prototype.set.call(n,t,i);else{if(!u.isBuffer(t))throw new TypeError('"list" argument must be an Array of Buffers');t.copy(n,i)}i+=t.length}return n},u.byteLength=b,u.prototype._isBuffer=!0,u.prototype.swap16=function(){const e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)v(this,t,t+1);return this},u.prototype.swap32=function(){const e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)v(this,t,t+3),v(this,t+1,t+2);return this},u.prototype.swap64=function(){const e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)v(this,t,t+7),v(this,t+1,t+6),v(this,t+2,t+5),v(this,t+3,t+4);return this},u.prototype.toString=function(){const e=this.length;return 0===e?"":0===arguments.length?A(this,0,e):m.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(e){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===u.compare(this,e)},u.prototype.inspect=function(){let e="";const r=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"},s&&(u.prototype[s]=u.prototype.inspect),u.prototype.compare=function(e,t,r,n,i){if(J(e,Uint8Array)&&(e=u.from(e,e.offset,e.byteLength)),!u.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(this===e)return 0;let o=(i>>>=0)-(n>>>=0),s=(r>>>=0)-(t>>>=0);const a=Math.min(o,s),c=this.slice(n,i),l=e.slice(t,r);for(let e=0;e<a;++e)if(c[e]!==l[e]){o=c[e],s=l[e];break}return o<s?-1:s<o?1:0},u.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},u.prototype.indexOf=function(e,t,r){return g(this,e,t,r,!0)},u.prototype.lastIndexOf=function(e,t,r){return g(this,e,t,r,!1)},u.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}const i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");let o=!1;for(;;)switch(n){case"hex":return _(this,e,t,r);case"utf8":case"utf-8":return S(this,e,t,r);case"ascii":case"latin1":case"binary":return E(this,e,t,r);case"base64":return T(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,e,t,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const M=4096;function P(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function I(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function j(e,t,r){const n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);let i="";for(let n=t;n<r;++n)i+=Z[e[n]];return i}function R(e,t,r){const n=e.slice(t,r);let i="";for(let e=0;e<n.length-1;e+=2)i+=String.fromCharCode(n[e]+256*n[e+1]);return i}function k(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function C(e,t,r,n,i,o){if(!u.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function $(e,t,r,n,i){W(t,n,i,e,r,7);let o=Number(t&BigInt(4294967295));e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o;let s=Number(t>>BigInt(32)&BigInt(4294967295));return e[r++]=s,s>>=8,e[r++]=s,s>>=8,e[r++]=s,s>>=8,e[r++]=s,r}function N(e,t,r,n,i){W(t,n,i,e,r,7);let o=Number(t&BigInt(4294967295));e[r+7]=o,o>>=8,e[r+6]=o,o>>=8,e[r+5]=o,o>>=8,e[r+4]=o;let s=Number(t>>BigInt(32)&BigInt(4294967295));return e[r+3]=s,s>>=8,e[r+2]=s,s>>=8,e[r+1]=s,s>>=8,e[r]=s,r+8}function L(e,t,r,n,i,o){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function B(e,t,r,n,i){return t=+t,r>>>=0,i||L(e,0,r,4),o.write(e,t,r,n,23,4),r+4}function D(e,t,r,n,i){return t=+t,r>>>=0,i||L(e,0,r,8),o.write(e,t,r,n,52,8),r+8}u.prototype.slice=function(e,t){const r=this.length;(e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);const n=this.subarray(e,t);return Object.setPrototypeOf(n,u.prototype),n},u.prototype.readUintLE=u.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||k(e,t,this.length);let n=this[e],i=1,o=0;for(;++o<t&&(i*=256);)n+=this[e+o]*i;return n},u.prototype.readUintBE=u.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||k(e,t,this.length);let n=this[e+--t],i=1;for(;t>0&&(i*=256);)n+=this[e+--t]*i;return n},u.prototype.readUint8=u.prototype.readUInt8=function(e,t){return e>>>=0,t||k(e,1,this.length),this[e]},u.prototype.readUint16LE=u.prototype.readUInt16LE=function(e,t){return e>>>=0,t||k(e,2,this.length),this[e]|this[e+1]<<8},u.prototype.readUint16BE=u.prototype.readUInt16BE=function(e,t){return e>>>=0,t||k(e,2,this.length),this[e]<<8|this[e+1]},u.prototype.readUint32LE=u.prototype.readUInt32LE=function(e,t){return e>>>=0,t||k(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},u.prototype.readUint32BE=u.prototype.readUInt32BE=function(e,t){return e>>>=0,t||k(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},u.prototype.readBigUInt64LE=Q((function(e){z(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||V(e,this.length-8);const n=t+256*this[++e]+65536*this[++e]+this[++e]*2**24,i=this[++e]+256*this[++e]+65536*this[++e]+r*2**24;return BigInt(n)+(BigInt(i)<<BigInt(32))})),u.prototype.readBigUInt64BE=Q((function(e){z(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||V(e,this.length-8);const n=t*2**24+65536*this[++e]+256*this[++e]+this[++e],i=this[++e]*2**24+65536*this[++e]+256*this[++e]+r;return(BigInt(n)<<BigInt(32))+BigInt(i)})),u.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||k(e,t,this.length);let n=this[e],i=1,o=0;for(;++o<t&&(i*=256);)n+=this[e+o]*i;return i*=128,n>=i&&(n-=Math.pow(2,8*t)),n},u.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||k(e,t,this.length);let n=t,i=1,o=this[e+--n];for(;n>0&&(i*=256);)o+=this[e+--n]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*t)),o},u.prototype.readInt8=function(e,t){return e>>>=0,t||k(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},u.prototype.readInt16LE=function(e,t){e>>>=0,t||k(e,2,this.length);const r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt16BE=function(e,t){e>>>=0,t||k(e,2,this.length);const r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt32LE=function(e,t){return e>>>=0,t||k(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},u.prototype.readInt32BE=function(e,t){return e>>>=0,t||k(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},u.prototype.readBigInt64LE=Q((function(e){z(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||V(e,this.length-8);const n=this[e+4]+256*this[e+5]+65536*this[e+6]+(r<<24);return(BigInt(n)<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+this[++e]*2**24)})),u.prototype.readBigInt64BE=Q((function(e){z(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||V(e,this.length-8);const n=(t<<24)+65536*this[++e]+256*this[++e]+this[++e];return(BigInt(n)<<BigInt(32))+BigInt(this[++e]*2**24+65536*this[++e]+256*this[++e]+r)})),u.prototype.readFloatLE=function(e,t){return e>>>=0,t||k(e,4,this.length),o.read(this,e,!0,23,4)},u.prototype.readFloatBE=function(e,t){return e>>>=0,t||k(e,4,this.length),o.read(this,e,!1,23,4)},u.prototype.readDoubleLE=function(e,t){return e>>>=0,t||k(e,8,this.length),o.read(this,e,!0,52,8)},u.prototype.readDoubleBE=function(e,t){return e>>>=0,t||k(e,8,this.length),o.read(this,e,!1,52,8)},u.prototype.writeUintLE=u.prototype.writeUIntLE=function(e,t,r,n){e=+e,t>>>=0,r>>>=0,n||C(this,e,t,r,Math.pow(2,8*r)-1,0);let i=1,o=0;for(this[t]=255&e;++o<r&&(i*=256);)this[t+o]=e/i&255;return t+r},u.prototype.writeUintBE=u.prototype.writeUIntBE=function(e,t,r,n){e=+e,t>>>=0,r>>>=0,n||C(this,e,t,r,Math.pow(2,8*r)-1,0);let i=r-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+r},u.prototype.writeUint8=u.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||C(this,e,t,1,255,0),this[t]=255&e,t+1},u.prototype.writeUint16LE=u.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||C(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},u.prototype.writeUint16BE=u.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||C(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},u.prototype.writeUint32LE=u.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||C(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},u.prototype.writeUint32BE=u.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||C(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},u.prototype.writeBigUInt64LE=Q((function(e,t=0){return $(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),u.prototype.writeBigUInt64BE=Q((function(e,t=0){return N(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),u.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t>>>=0,!n){const n=Math.pow(2,8*r-1);C(this,e,t,r,n-1,-n)}let i=0,o=1,s=0;for(this[t]=255&e;++i<r&&(o*=256);)e<0&&0===s&&0!==this[t+i-1]&&(s=1),this[t+i]=(e/o|0)-s&255;return t+r},u.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t>>>=0,!n){const n=Math.pow(2,8*r-1);C(this,e,t,r,n-1,-n)}let i=r-1,o=1,s=0;for(this[t+i]=255&e;--i>=0&&(o*=256);)e<0&&0===s&&0!==this[t+i+1]&&(s=1),this[t+i]=(e/o|0)-s&255;return t+r},u.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||C(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},u.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||C(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},u.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||C(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},u.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||C(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},u.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||C(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},u.prototype.writeBigInt64LE=Q((function(e,t=0){return $(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),u.prototype.writeBigInt64BE=Q((function(e,t=0){return N(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),u.prototype.writeFloatLE=function(e,t,r){return B(this,e,t,!0,r)},u.prototype.writeFloatBE=function(e,t,r){return B(this,e,t,!1,r)},u.prototype.writeDoubleLE=function(e,t,r){return D(this,e,t,!0,r)},u.prototype.writeDoubleBE=function(e,t,r){return D(this,e,t,!1,r)},u.prototype.copy=function(e,t,r,n){if(!u.isBuffer(e))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);const i=n-r;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,r,n):Uint8Array.prototype.set.call(e,this.subarray(r,n),t),i},u.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!u.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===e.length){const t=e.charCodeAt(0);("utf8"===n&&t<128||"latin1"===n)&&(e=t)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;let i;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(i=t;i<r;++i)this[i]=e;else{const o=u.isBuffer(e)?e:u.from(e,n),s=o.length;if(0===s)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<r-t;++i)this[i+t]=o[i%s]}return this};const F={};function U(e,t,r){F[e]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function q(e){let t="",r=e.length;const n="-"===e[0]?1:0;for(;r>=n+4;r-=3)t=`_${e.slice(r-3,r)}${t}`;return`${e.slice(0,r)}${t}`}function W(e,t,r,n,i,o){if(e>r||e<t){const n="bigint"==typeof t?"n":"";let i;throw i=o>3?0===t||t===BigInt(0)?`>= 0${n} and < 2${n} ** ${8*(o+1)}${n}`:`>= -(2${n} ** ${8*(o+1)-1}${n}) and < 2 ** ${8*(o+1)-1}${n}`:`>= ${t}${n} and <= ${r}${n}`,new F.ERR_OUT_OF_RANGE("value",i,e)}!function(e,t,r){z(t,"offset"),void 0!==e[t]&&void 0!==e[t+r]||V(t,e.length-(r+1))}(n,i,o)}function z(e,t){if("number"!=typeof e)throw new F.ERR_INVALID_ARG_TYPE(t,"number",e)}function V(e,t,r){if(Math.floor(e)!==e)throw z(e,r),new F.ERR_OUT_OF_RANGE(r||"offset","an integer",e);if(t<0)throw new F.ERR_BUFFER_OUT_OF_BOUNDS;throw new F.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${t}`,e)}U("ERR_BUFFER_OUT_OF_BOUNDS",(function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),U("ERR_INVALID_ARG_TYPE",(function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`}),TypeError),U("ERR_OUT_OF_RANGE",(function(e,t,r){let n=`The value of "${e}" is out of range.`,i=r;return Number.isInteger(r)&&Math.abs(r)>2**32?i=q(String(r)):"bigint"==typeof r&&(i=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(i=q(i)),i+="n"),n+=` It must be ${t}. Received ${i}`,n}),RangeError);const H=/[^+/0-9A-Za-z-_]/g;function G(e,t){let r;t=t||1/0;const n=e.length;let i=null;const o=[];for(let s=0;s<n;++s){if(r=e.charCodeAt(s),r>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(s+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function K(e){return i.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(H,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function Y(e,t,r,n){let i;for(i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}function J(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function X(e){return e!=e}const Z=function(){const e="0123456789abcdef",t=new Array(256);for(let r=0;r<16;++r){const n=16*r;for(let i=0;i<16;++i)t[n+i]=e[r]+e[i]}return t}();function Q(e){return"undefined"==typeof BigInt?ee:e}function ee(){throw new Error("BigInt not supported")}},30049:e=>{e.exports={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}},79818:(e,t,r)=>{var n=r(528),i=r(28498),o=i(n("String.prototype.indexOf"));e.exports=function(e,t){var r=n(e,!!t);return"function"==typeof r&&o(e,".prototype.")>-1?i(r):r}},28498:(e,t,r)=>{var n=r(79138),i=r(528),o=r(26108),s=r(3468),a=i("%Function.prototype.apply%"),c=i("%Function.prototype.call%"),u=i("%Reflect.apply%",!0)||n.call(c,a),l=r(64940),f=i("%Math.max%");e.exports=function(e){if("function"!=typeof e)throw new s("a function is required");var t=u(n,c,arguments);return o(t,1+f(0,e.length-(arguments.length-1)),!0)};var h=function(){return u(n,a,arguments)};l?l(e.exports,"apply",{value:h}):e.exports.apply=h},59500:(e,t,r)=>{t.Commented=r(8722),t.Diagnose=r(89676),t.Decoder=r(80834),t.Encoder=r(12670),t.Simple=r(33446),t.Tagged=r(98420),t.Map=r(99588),t.comment=t.Commented.comment,t.decodeAll=t.Decoder.decodeAll,t.decodeFirst=t.Decoder.decodeFirst,t.decodeAllSync=t.Decoder.decodeAllSync,t.decodeFirstSync=t.Decoder.decodeFirstSync,t.diagnose=t.Diagnose.diagnose,t.encode=t.Encoder.encode,t.encodeCanonical=t.Encoder.encodeCanonical,t.encodeOne=t.Encoder.encodeOne,t.encodeAsync=t.Encoder.encodeAsync,t.decode=t.Decoder.decodeFirstSync,t.leveldb={decode:t.Decoder.decodeFirstSync,encode:t.Encoder.encode,buffer:!0,name:"cbor"},t.reset=function(){t.Encoder.reset(),t.Tagged.reset()}},8722:(e,t,r)=>{const n=r(50601),i=r(7679),o=r(80834),s=r(29963),{MT:a,NUMBYTES:c,SYMS:u}=r(86815),{Buffer:l}=r(1048);function f(e){return e>1?"s":""}class h extends n.Transform{constructor(e={}){const{depth:t=1,max_depth:r=10,no_summary:n=!1,tags:i={},preferWeb:a,encoding:c,...u}=e;super({...u,readableObjectMode:!1,writableObjectMode:!1}),this.depth=t,this.max_depth=r,this.all=new s,i[24]||(i[24]=this._tag_24.bind(this)),this.parser=new o({tags:i,max_depth:r,preferWeb:a,encoding:c}),this.parser.on("value",this._on_value.bind(this)),this.parser.on("start",this._on_start.bind(this)),this.parser.on("start-string",this._on_start_string.bind(this)),this.parser.on("stop",this._on_stop.bind(this)),this.parser.on("more-bytes",this._on_more.bind(this)),this.parser.on("error",this._on_error.bind(this)),n||this.parser.on("data",this._on_data.bind(this)),this.parser.bs.on("read",this._on_read.bind(this))}_tag_24(e){const t=new h({depth:this.depth+1,no_summary:!0});t.on("data",(e=>this.push(e))),t.on("error",(e=>this.emit("error",e))),t.end(e)}_transform(e,t,r){this.parser.write(e,t,r)}_flush(e){return this.parser._flush(e)}static comment(e,t={},r=null){if(null==e)throw new Error("input required");({options:t,cb:r}=function(e,t){switch(typeof e){case"function":return{options:{},cb:e};case"string":return{options:{encoding:e},cb:t};case"number":return{options:{max_depth:e},cb:t};case"object":return{options:e||{},cb:t};default:throw new TypeError("Unknown option type")}}(t,r));const n=new s,{encoding:o="hex",...a}=t,c=new h(a);let u=null;return"function"==typeof r?(c.on("end",(()=>{r(null,n.toString("utf8"))})),c.on("error",r)):u=new Promise(((e,t)=>{c.on("end",(()=>{e(n.toString("utf8"))})),c.on("error",t)})),c.pipe(n),i.guessEncoding(e,o).pipe(c),u}_on_error(e){this.push("ERROR: "),this.push(e.toString()),this.push("\n")}_on_read(e){this.all.write(e);const t=e.toString("hex");this.push(new Array(this.depth+1).join("  ")),this.push(t);let r=2*(this.max_depth-this.depth)-t.length;r<1&&(r=1),this.push(new Array(r+1).join(" ")),this.push("-- ")}_on_more(e,t,r,n){let i="";switch(this.depth++,e){case a.POS_INT:i="Positive number,";break;case a.NEG_INT:i="Negative number,";break;case a.ARRAY:i="Array, length";break;case a.MAP:i="Map, count";break;case a.BYTE_STRING:i="Bytes, length";break;case a.UTF8_STRING:i="String, length";break;case a.SIMPLE_FLOAT:i=1===t?"Simple value,":"Float,"}this.push(`${i} next ${t} byte${f(t)}\n`)}_on_start_string(e,t,r,n){let i="";switch(this.depth++,e){case a.BYTE_STRING:i=`Bytes, length: ${t}`;break;case a.UTF8_STRING:i=`String, length: ${t.toString()}`}this.push(`${i}\n`)}_on_start(e,t,r,n){switch(this.depth++,r){case a.ARRAY:this.push(`[${n}], `);break;case a.MAP:n%2?this.push(`{Val:${Math.floor(n/2)}}, `):this.push(`{Key:${Math.floor(n/2)}}, `)}switch(e){case a.TAG:this.push(`Tag #${t}`),24===t&&this.push(" Encoded CBOR data item");break;case a.ARRAY:t===u.STREAM?this.push("Array (streaming)"):this.push(`Array, ${t} item${f(t)}`);break;case a.MAP:t===u.STREAM?this.push("Map (streaming)"):this.push(`Map, ${t} pair${f(t)}`);break;case a.BYTE_STRING:this.push("Bytes (streaming)");break;case a.UTF8_STRING:this.push("String (streaming)")}this.push("\n")}_on_stop(e){this.depth--}_on_value(e,t,r,n){if(e!==u.BREAK)switch(t){case a.ARRAY:this.push(`[${r}], `);break;case a.MAP:r%2?this.push(`{Val:${Math.floor(r/2)}}, `):this.push(`{Key:${Math.floor(r/2)}}, `)}const o=i.cborValueToString(e,-1/0);switch("string"==typeof e||l.isBuffer(e)?(e.length>0&&(this.push(o),this.push("\n")),this.depth--):(this.push(o),this.push("\n")),n){case c.ONE:case c.TWO:case c.FOUR:case c.EIGHT:this.depth--}}_on_data(){this.push("0x"),this.push(this.all.read().toString("hex")),this.push("\n")}}e.exports=h},86815:(e,t)=>{t.MT={POS_INT:0,NEG_INT:1,BYTE_STRING:2,UTF8_STRING:3,ARRAY:4,MAP:5,TAG:6,SIMPLE_FLOAT:7},t.TAG={DATE_STRING:0,DATE_EPOCH:1,POS_BIGINT:2,NEG_BIGINT:3,DECIMAL_FRAC:4,BIGFLOAT:5,BASE64URL_EXPECTED:21,BASE64_EXPECTED:22,BASE16_EXPECTED:23,CBOR:24,URI:32,BASE64URL:33,BASE64:34,REGEXP:35,MIME:36,SET:258},t.NUMBYTES={ZERO:0,ONE:24,TWO:25,FOUR:26,EIGHT:27,INDEFINITE:31},t.SIMPLE={FALSE:20,TRUE:21,NULL:22,UNDEFINED:23},t.SYMS={NULL:Symbol.for("github.com/hildjj/node-cbor/null"),UNDEFINED:Symbol.for("github.com/hildjj/node-cbor/undef"),PARENT:Symbol.for("github.com/hildjj/node-cbor/parent"),BREAK:Symbol.for("github.com/hildjj/node-cbor/break"),STREAM:Symbol.for("github.com/hildjj/node-cbor/stream")},t.SHIFT32=4294967296,t.BI={MINUS_ONE:BigInt(-1),NEG_MAX:BigInt(-1)-BigInt(Number.MAX_SAFE_INTEGER),MAXINT32:BigInt("0xffffffff"),MAXINT64:BigInt("0xffffffffffffffff"),SHIFT32:BigInt(t.SHIFT32)}},80834:(e,t,r)=>{const n=r(81936),i=r(98420),o=r(33446),s=r(7679),a=r(29963),c=(r(50601),r(86815)),{MT:u,NUMBYTES:l,SYMS:f,BI:h}=c,{Buffer:d}=r(1048),p=Symbol("count"),y=Symbol("major type"),b=Symbol("error"),m=Symbol("not found");function v(e,t,r){const n=[];return n[p]=r,n[f.PARENT]=e,n[y]=t,n}function g(e,t){const r=new a;return r[p]=-1,r[f.PARENT]=e,r[y]=t,r}class w extends Error{constructor(e,t){super(`Unexpected data: 0x${e.toString(16)}`),this.name="UnexpectedDataError",this.byte=e,this.value=t}}function _(e,t){switch(typeof e){case"function":return{options:{},cb:e};case"string":return{options:{encoding:e},cb:t};case"object":return{options:e||{},cb:t};default:throw new TypeError("Unknown option type")}}class S extends n{constructor(e={}){const{tags:t={},max_depth:r=-1,preferWeb:n=!1,required:i=!1,encoding:o="hex",extendedResults:s=!1,preventDuplicateKeys:c=!1,...u}=e;super({defaultEncoding:o,...u}),this.running=!0,this.max_depth=r,this.tags=t,this.preferWeb=n,this.extendedResults=s,this.required=i,this.preventDuplicateKeys=c,s&&(this.bs.on("read",this._onRead.bind(this)),this.valueBytes=new a)}static nullcheck(e){switch(e){case f.NULL:return null;case f.UNDEFINED:return;case m:throw new Error("Value not found");default:return e}}static decodeFirstSync(e,t={}){if(null==e)throw new TypeError("input required");({options:t}=_(t));const{encoding:r="hex",...n}=t,i=new S(n),o=s.guessEncoding(e,r),a=i._parse();let c=a.next();for(;!c.done;){const e=o.read(c.value);if(null==e||e.length!==c.value)throw new Error("Insufficient data");i.extendedResults&&i.valueBytes.write(e),c=a.next(e)}let u=null;if(i.extendedResults)u=c.value,u.unused=o.read();else if(u=S.nullcheck(c.value),o.length>0){const e=o.read(1);throw o.unshift(e),new w(e[0],u)}return u}static decodeAllSync(e,t={}){if(null==e)throw new TypeError("input required");({options:t}=_(t));const{encoding:r="hex",...n}=t,i=new S(n),o=s.guessEncoding(e,r),a=[];for(;o.length>0;){const e=i._parse();let t=e.next();for(;!t.done;){const r=o.read(t.value);if(null==r||r.length!==t.value)throw new Error("Insufficient data");i.extendedResults&&i.valueBytes.write(r),t=e.next(r)}a.push(S.nullcheck(t.value))}return a}static decodeFirst(e,t={},r=null){if(null==e)throw new TypeError("input required");({options:t,cb:r}=_(t,r));const{encoding:n="hex",required:i=!1,...o}=t,a=new S(o);let c=m;const u=s.guessEncoding(e,n),l=new Promise(((e,t)=>{a.on("data",(e=>{c=S.nullcheck(e),a.close()})),a.once("error",(r=>a.extendedResults&&r instanceof w?(c.unused=a.bs.slice(),e(c)):(c!==m&&(r.value=c),c=b,a.close(),t(r)))),a.once("end",(()=>{switch(c){case m:return i?t(new Error("No CBOR found")):e(c);case b:return;default:return e(c)}}))}));return"function"==typeof r&&l.then((e=>r(null,e)),r),u.pipe(a),l}static decodeAll(e,t={},r=null){if(null==e)throw new TypeError("input required");({options:t,cb:r}=_(t,r));const{encoding:n="hex",...i}=t,o=new S(i),a=[];o.on("data",(e=>a.push(S.nullcheck(e))));const c=new Promise(((e,t)=>{o.on("error",t),o.on("end",(()=>e(a)))}));return"function"==typeof r&&c.then((e=>r(void 0,e)),(e=>r(e,void 0))),s.guessEncoding(e,n).pipe(o),c}close(){this.running=!1,this.__fresh=!0}_onRead(e){this.valueBytes.write(e)}*_parse(){let e=null,t=0,r=null;for(;;){if(this.max_depth>=0&&t>this.max_depth)throw new Error(`Maximum depth ${this.max_depth} exceeded`);const[n]=yield 1;if(!this.running)throw this.bs.unshift(d.from([n])),new w(n);const c=n>>5,b=31&n,m=null==e?void 0:e[y],_=null==e?void 0:e.length;switch(b){case l.ONE:this.emit("more-bytes",c,1,m,_),[r]=yield 1;break;case l.TWO:case l.FOUR:case l.EIGHT:{const e=1<<b-24;this.emit("more-bytes",c,e,m,_);const t=yield e;r=c===u.SIMPLE_FLOAT?t:s.parseCBORint(b,t);break}case 28:case 29:case 30:throw this.running=!1,new Error(`Additional info not implemented: ${b}`);case l.INDEFINITE:switch(c){case u.POS_INT:case u.NEG_INT:case u.TAG:throw new Error(`Invalid indefinite encoding for MT ${c}`)}r=-1;break;default:r=b}switch(c){case u.POS_INT:break;case u.NEG_INT:r=r===Number.MAX_SAFE_INTEGER?h.NEG_MAX:"bigint"==typeof r?h.MINUS_ONE-r:-1-r;break;case u.BYTE_STRING:case u.UTF8_STRING:switch(r){case 0:this.emit("start-string",c,r,m,_),r=c===u.UTF8_STRING?"":this.preferWeb?new Uint8Array(0):d.allocUnsafe(0);break;case-1:this.emit("start",c,f.STREAM,m,_),e=g(e,c),t++;continue;default:this.emit("start-string",c,r,m,_),r=yield r,c===u.UTF8_STRING?r=s.utf8(r):this.preferWeb&&(r=new Uint8Array(r.buffer,r.byteOffset,r.length))}break;case u.ARRAY:case u.MAP:switch(r){case 0:r=c===u.MAP?{}:[];break;case-1:this.emit("start",c,f.STREAM,m,_),e=v(e,c,-1),t++;continue;default:this.emit("start",c,r,m,_),e=v(e,c,r*(c-3)),t++;continue}break;case u.TAG:this.emit("start",c,r,m,_),e=v(e,c,1),e.push(r),t++;continue;case u.SIMPLE_FLOAT:if("number"==typeof r){if(b===l.ONE&&r<32)throw new Error(`Invalid two-byte encoding of simple value ${r}`);const t=null!=e;r=o.decode(r,t,t&&e[p]<0)}else r=s.parseCBORfloat(r)}this.emit("value",r,m,_,b);let E=!1;for(;null!=e;){if(r===f.BREAK)e[p]=1;else if(Array.isArray(e))e.push(r);else{const t=e[y];if(null!=t&&t!==c)throw this.running=!1,new Error("Invalid major type in indefinite encoding");e.write(r)}if(0!=--e[p]){E=!0;break}if(--t,delete e[p],Array.isArray(e))switch(e[y]){case u.ARRAY:r=e;break;case u.MAP:{let t=!0;if(e.length%2!=0)throw new Error(`Invalid map length: ${e.length}`);for(let r=0,n=e.length;r<n;r+=2)if("string"!=typeof e[r]||"__proto__"===e[r]){t=!1;break}if(t){r={};for(let t=0,n=e.length;t<n;t+=2){if(this.preventDuplicateKeys&&Object.prototype.hasOwnProperty.call(r,e[t]))throw new Error("Duplicate keys in a map");r[e[t]]=e[t+1]}}else{r=new Map;for(let t=0,n=e.length;t<n;t+=2){if(this.preventDuplicateKeys&&r.has(e[t]))throw new Error("Duplicate keys in a map");r.set(e[t],e[t+1])}}break}case u.TAG:r=new i(e[0],e[1]).convert(this.tags)}else if(e instanceof a)switch(e[y]){case u.BYTE_STRING:r=e.slice(),this.preferWeb&&(r=new Uint8Array(r.buffer,r.byteOffset,r.length));break;case u.UTF8_STRING:r=e.toString("utf-8")}this.emit("stop",e[y]);const n=e;e=e[f.PARENT],delete n[f.PARENT],delete n[y]}if(!E){if(this.extendedResults){const e=this.valueBytes.slice(),t={value:S.nullcheck(r),bytes:e,length:e.length};return this.valueBytes=new a,t}return r}}}}S.NOT_FOUND=m,e.exports=S},89676:(e,t,r)=>{const n=r(50601),i=r(80834),o=r(7679),s=r(29963),{MT:a,SYMS:c}=r(86815);class u extends n.Transform{constructor(e={}){const{separator:t="\n",stream_errors:r=!1,tags:n,max_depth:o,preferWeb:s,encoding:a,...c}=e;super({...c,readableObjectMode:!1,writableObjectMode:!1}),this.float_bytes=-1,this.separator=t,this.stream_errors=r,this.parser=new i({tags:n,max_depth:o,preferWeb:s,encoding:a}),this.parser.on("more-bytes",this._on_more.bind(this)),this.parser.on("value",this._on_value.bind(this)),this.parser.on("start",this._on_start.bind(this)),this.parser.on("stop",this._on_stop.bind(this)),this.parser.on("data",this._on_data.bind(this)),this.parser.on("error",this._on_error.bind(this))}_transform(e,t,r){return this.parser.write(e,t,r)}_flush(e){return this.parser._flush((t=>this.stream_errors?(t&&this._on_error(t),e()):e(t)))}static diagnose(e,t={},r=null){if(null==e)throw new TypeError("input required");({options:t,cb:r}=function(e,t){switch(typeof e){case"function":return{options:{},cb:e};case"string":return{options:{encoding:e},cb:t};case"object":return{options:e||{},cb:t};default:throw new TypeError("Unknown option type")}}(t,r));const{encoding:n="hex",...i}=t,a=new s,c=new u(i);let l=null;return"function"==typeof r?(c.on("end",(()=>r(null,a.toString("utf8")))),c.on("error",r)):l=new Promise(((e,t)=>{c.on("end",(()=>e(a.toString("utf8")))),c.on("error",t)})),c.pipe(a),o.guessEncoding(e,n).pipe(c),l}_on_error(e){this.stream_errors?this.push(e.toString()):this.emit("error",e)}_on_more(e,t,r,n){e===a.SIMPLE_FLOAT&&(this.float_bytes={2:1,4:2,8:3}[t])}_fore(e,t){switch(e){case a.BYTE_STRING:case a.UTF8_STRING:case a.ARRAY:t>0&&this.push(", ");break;case a.MAP:t>0&&(t%2?this.push(": "):this.push(", "))}}_on_value(e,t,r){if(e===c.BREAK)return;this._fore(t,r);const n=this.float_bytes;this.float_bytes=-1,this.push(o.cborValueToString(e,n))}_on_start(e,t,r,n){switch(this._fore(r,n),e){case a.TAG:this.push(`${t}(`);break;case a.ARRAY:this.push("[");break;case a.MAP:this.push("{");break;case a.BYTE_STRING:case a.UTF8_STRING:this.push("(")}t===c.STREAM&&this.push("_ ")}_on_stop(e){switch(e){case a.TAG:this.push(")");break;case a.ARRAY:this.push("]");break;case a.MAP:this.push("}");break;case a.BYTE_STRING:case a.UTF8_STRING:this.push(")")}}_on_data(){this.push(this.separator)}}e.exports=u},12670:(e,t,r)=>{const n=r(50601),i=r(29963),o=r(7679),s=r(86815),{MT:a,NUMBYTES:c,SHIFT32:u,SIMPLE:l,SYMS:f,TAG:h,BI:d}=s,{Buffer:p}=r(1048),y=a.SIMPLE_FLOAT<<5|c.TWO,b=a.SIMPLE_FLOAT<<5|c.FOUR,m=a.SIMPLE_FLOAT<<5|c.EIGHT,v=a.SIMPLE_FLOAT<<5|l.TRUE,g=a.SIMPLE_FLOAT<<5|l.FALSE,w=a.SIMPLE_FLOAT<<5|l.UNDEFINED,_=a.SIMPLE_FLOAT<<5|l.NULL,S=p.from([255]),E=p.from("f97e00","hex"),T=p.from("f9fc00","hex"),O=p.from("f97c00","hex"),x=p.from("f98000","hex"),A={};let M={};class P extends n.Transform{constructor(e={}){const{canonical:t=!1,encodeUndefined:r,disallowUndefinedKeys:n=!1,dateType:i="number",collapseBigIntegers:o=!1,detectLoops:s=!1,omitUndefinedProperties:a=!1,genTypes:c=[],...u}=e;if(super({...u,readableObjectMode:!1,writableObjectMode:!0}),this.canonical=t,this.encodeUndefined=r,this.disallowUndefinedKeys=n,this.dateType=function(e){if(!e)return"number";switch(e.toLowerCase()){case"number":return"number";case"float":return"float";case"int":case"integer":return"int";case"string":return"string"}throw new TypeError(`dateType invalid, got "${e}"`)}(i),this.collapseBigIntegers=!!this.canonical||o,this.detectLoops=void 0,"boolean"==typeof s)s&&(this.detectLoops=new WeakSet);else{if(!(s instanceof WeakSet))throw new TypeError("detectLoops must be boolean or WeakSet");this.detectLoops=s}if(this.omitUndefinedProperties=a,this.semanticTypes={...P.SEMANTIC_TYPES},Array.isArray(c))for(let e=0,t=c.length;e<t;e+=2)this.addSemanticType(c[e],c[e+1]);else for(const[e,t]of Object.entries(c))this.addSemanticType(e,t)}_transform(e,t,r){return r(!1===this.pushAny(e)?new Error("Push Error"):void 0)}_flush(e){return e()}_pushUInt8(e){const t=p.allocUnsafe(1);return t.writeUInt8(e,0),this.push(t)}_pushUInt16BE(e){const t=p.allocUnsafe(2);return t.writeUInt16BE(e,0),this.push(t)}_pushUInt32BE(e){const t=p.allocUnsafe(4);return t.writeUInt32BE(e,0),this.push(t)}_pushFloatBE(e){const t=p.allocUnsafe(4);return t.writeFloatBE(e,0),this.push(t)}_pushDoubleBE(e){const t=p.allocUnsafe(8);return t.writeDoubleBE(e,0),this.push(t)}_pushNaN(){return this.push(E)}_pushInfinity(e){const t=e<0?T:O;return this.push(t)}_pushFloat(e){if(this.canonical){const t=p.allocUnsafe(2);if(o.writeHalf(t,e))return this._pushUInt8(y)&&this.push(t)}return Math.fround(e)===e?this._pushUInt8(b)&&this._pushFloatBE(e):this._pushUInt8(m)&&this._pushDoubleBE(e)}_pushInt(e,t,r){const n=t<<5;if(e<24)return this._pushUInt8(n|e);if(e<=255)return this._pushUInt8(n|c.ONE)&&this._pushUInt8(e);if(e<=65535)return this._pushUInt8(n|c.TWO)&&this._pushUInt16BE(e);if(e<=4294967295)return this._pushUInt8(n|c.FOUR)&&this._pushUInt32BE(e);let i=Number.MAX_SAFE_INTEGER;return t===a.NEG_INT&&i--,e<=i?this._pushUInt8(n|c.EIGHT)&&this._pushUInt32BE(Math.floor(e/u))&&this._pushUInt32BE(e%u):t===a.NEG_INT?this._pushFloat(r):this._pushFloat(e)}_pushIntNum(e){return Object.is(e,-0)?this.push(x):e<0?this._pushInt(-e-1,a.NEG_INT,e):this._pushInt(e,a.POS_INT)}_pushNumber(e){return isNaN(e)?this._pushNaN():isFinite(e)?Math.round(e)===e?this._pushIntNum(e):this._pushFloat(e):this._pushInfinity(e)}_pushString(e){const t=p.byteLength(e,"utf8");return this._pushInt(t,a.UTF8_STRING)&&this.push(e,"utf8")}_pushBoolean(e){return this._pushUInt8(e?v:g)}_pushUndefined(e){switch(typeof this.encodeUndefined){case"undefined":return this._pushUInt8(w);case"function":return this.pushAny(this.encodeUndefined(e));case"object":{const e=o.bufferishToBuffer(this.encodeUndefined);if(e)return this.push(e)}}return this.pushAny(this.encodeUndefined)}_pushNull(e){return this._pushUInt8(_)}_pushTag(e){return this._pushInt(e,a.TAG)}_pushJSBigint(e){let t=a.POS_INT,r=h.POS_BIGINT;if(e<0&&(e=-e+d.MINUS_ONE,t=a.NEG_INT,r=h.NEG_BIGINT),this.collapseBigIntegers&&e<=d.MAXINT64)return e<=4294967295?this._pushInt(Number(e),t):this._pushUInt8(t<<5|c.EIGHT)&&this._pushUInt32BE(Number(e/d.SHIFT32))&&this._pushUInt32BE(Number(e%d.SHIFT32));let n=e.toString(16);n.length%2&&(n=`0${n}`);const i=p.from(n,"hex");return this._pushTag(r)&&P._pushBuffer(this,i)}_pushObject(e,t){if(!e)return this._pushNull(e);if(!(t={indefinite:!1,skipTypes:!1,...t}).indefinite&&this.detectLoops){if(this.detectLoops.has(e))throw new Error("Loop detected while CBOR encoding.\nCall removeLoopDetectors before resuming.");this.detectLoops.add(e)}if(!t.skipTypes){const t=e.encodeCBOR;if("function"==typeof t)return t.call(e,this);const r=this.semanticTypes[e.constructor.name];if(r)return r.call(e,this,e)}const r=Object.keys(e).filter((t=>{const r=typeof e[t];return"function"!==r&&(!this.omitUndefinedProperties||"undefined"!==r)})),n={};if(this.canonical&&r.sort(((e,t)=>{const r=n[e]||(n[e]=P.encode(e)),i=n[t]||(n[t]=P.encode(t));return r.compare(i)})),t.indefinite){if(!this._pushUInt8(a.MAP<<5|c.INDEFINITE))return!1}else if(!this._pushInt(r.length,a.MAP))return!1;let i=null;for(let t=0,o=r.length;t<o;t++){const o=r[t];if(this.canonical&&(i=n[o])){if(!this.push(i))return!1}else if(!this._pushString(o))return!1;if(!this.pushAny(e[o]))return!1}if(t.indefinite){if(!this.push(S))return!1}else this.detectLoops&&this.detectLoops.delete(e);return!0}_encodeAll(e){const t=new i({highWaterMark:this.readableHighWaterMark});this.pipe(t);for(const t of e)this.pushAny(t);return this.end(),t.read()}addSemanticType(e,t){const r="string"==typeof e?e:e.name,n=this.semanticTypes[r];if(t){if("function"!=typeof t)throw new TypeError("fun must be of type function");this.semanticTypes[r]=t}else n&&delete this.semanticTypes[r];return n}pushAny(e){switch(typeof e){case"number":return this._pushNumber(e);case"bigint":return this._pushJSBigint(e);case"string":return this._pushString(e);case"boolean":return this._pushBoolean(e);case"undefined":return this._pushUndefined(e);case"object":return this._pushObject(e);case"symbol":switch(e){case f.NULL:return this._pushNull(null);case f.UNDEFINED:return this._pushUndefined(void 0);default:throw new TypeError(`Unknown symbol: ${e.toString()}`)}default:throw new TypeError(`Unknown type: ${typeof e}, ${"function"==typeof e.toString?e.toString():""}`)}}static pushArray(e,t,r){r={indefinite:!1,...r};const n=t.length;if(r.indefinite){if(!e._pushUInt8(a.ARRAY<<5|c.INDEFINITE))return!1}else if(!e._pushInt(n,a.ARRAY))return!1;for(let r=0;r<n;r++)if(!e.pushAny(t[r]))return!1;return!(r.indefinite&&!e.push(S))}removeLoopDetectors(){return!!this.detectLoops&&(this.detectLoops=new WeakSet,!0)}static _pushDate(e,t){switch(e.dateType){case"string":return e._pushTag(h.DATE_STRING)&&e._pushString(t.toISOString());case"int":return e._pushTag(h.DATE_EPOCH)&&e._pushIntNum(Math.round(t.getTime()/1e3));case"float":return e._pushTag(h.DATE_EPOCH)&&e._pushFloat(t.getTime()/1e3);default:return e._pushTag(h.DATE_EPOCH)&&e.pushAny(t.getTime()/1e3)}}static _pushBuffer(e,t){return e._pushInt(t.length,a.BYTE_STRING)&&e.push(t)}static _pushNoFilter(e,t){return P._pushBuffer(e,t.slice())}static _pushRegexp(e,t){return e._pushTag(h.REGEXP)&&e.pushAny(t.source)}static _pushSet(e,t){if(!e._pushTag(h.SET))return!1;if(!e._pushInt(t.size,a.ARRAY))return!1;for(const r of t)if(!e.pushAny(r))return!1;return!0}static _pushURL(e,t){return e._pushTag(h.URI)&&e.pushAny(t.toString())}static _pushBoxed(e,t){return e.pushAny(t.valueOf())}static _pushMap(e,t,r){r={indefinite:!1,...r};let n=[...t.entries()];if(e.omitUndefinedProperties&&(n=n.filter((([e,t])=>void 0!==t))),r.indefinite){if(!e._pushUInt8(a.MAP<<5|c.INDEFINITE))return!1}else if(!e._pushInt(n.length,a.MAP))return!1;if(e.canonical){const t=new P({genTypes:e.semanticTypes,canonical:e.canonical,detectLoops:Boolean(e.detectLoops),dateType:e.dateType,disallowUndefinedKeys:e.disallowUndefinedKeys,collapseBigIntegers:e.collapseBigIntegers}),r=new i({highWaterMark:e.readableHighWaterMark});t.pipe(r),n.sort((([e],[n])=>{t.pushAny(e);const i=r.read();t.pushAny(n);const o=r.read();return i.compare(o)}));for(const[t,r]of n){if(e.disallowUndefinedKeys&&void 0===t)throw new Error("Invalid Map key: undefined");if(!e.pushAny(t)||!e.pushAny(r))return!1}}else for(const[t,r]of n){if(e.disallowUndefinedKeys&&void 0===t)throw new Error("Invalid Map key: undefined");if(!e.pushAny(t)||!e.pushAny(r))return!1}return!(r.indefinite&&!e.push(S))}static _pushTypedArray(e,t){let r=64,n=t.BYTES_PER_ELEMENT;const{name:i}=t.constructor;return i.startsWith("Float")?(r|=16,n/=2):i.includes("U")||(r|=8),(i.includes("Clamped")||1!==n&&!o.isBigEndian())&&(r|=4),r|={1:0,2:1,4:2,8:3}[n],!!e._pushTag(r)&&P._pushBuffer(e,p.from(t.buffer,t.byteOffset,t.byteLength))}static _pushArrayBuffer(e,t){return P._pushBuffer(e,p.from(t))}static encodeIndefinite(e,t,r={}){if(null==t){if(null==this)throw new Error("No object to encode");t=this}const{chunkSize:n=4096}=r;let i=!0;const s=typeof t;let u=null;if("string"===s){i=i&&e._pushUInt8(a.UTF8_STRING<<5|c.INDEFINITE);let r=0;for(;r<t.length;){const o=r+n;i=i&&e._pushString(t.slice(r,o)),r=o}i=i&&e.push(S)}else if(u=o.bufferishToBuffer(t)){i=i&&e._pushUInt8(a.BYTE_STRING<<5|c.INDEFINITE);let t=0;for(;t<u.length;){const r=t+n;i=i&&P._pushBuffer(e,u.slice(t,r)),t=r}i=i&&e.push(S)}else if(Array.isArray(t))i=i&&P.pushArray(e,t,{indefinite:!0});else if(t instanceof Map)i=i&&P._pushMap(e,t,{indefinite:!0});else{if("object"!==s)throw new Error("Invalid indefinite encoding");i=i&&e._pushObject(t,{indefinite:!0,skipTypes:!0})}return i}static encode(...e){return(new P)._encodeAll(e)}static encodeCanonical(...e){return new P({canonical:!0})._encodeAll(e)}static encodeOne(e,t){return new P(t)._encodeAll([e])}static encodeAsync(e,t){return new Promise(((r,n)=>{const i=[],o=new P(t);o.on("data",(e=>i.push(e))),o.on("error",n),o.on("finish",(()=>r(p.concat(i)))),o.pushAny(e),o.end()}))}static get SEMANTIC_TYPES(){return M}static set SEMANTIC_TYPES(e){M=e}static reset(){P.SEMANTIC_TYPES={...A}}}Object.assign(A,{Array:P.pushArray,Date:P._pushDate,Buffer:P._pushBuffer,[p.name]:P._pushBuffer,Map:P._pushMap,NoFilter:P._pushNoFilter,[i.name]:P._pushNoFilter,RegExp:P._pushRegexp,Set:P._pushSet,ArrayBuffer:P._pushArrayBuffer,Uint8ClampedArray:P._pushTypedArray,Uint8Array:P._pushTypedArray,Uint16Array:P._pushTypedArray,Uint32Array:P._pushTypedArray,Int8Array:P._pushTypedArray,Int16Array:P._pushTypedArray,Int32Array:P._pushTypedArray,Float32Array:P._pushTypedArray,Float64Array:P._pushTypedArray,URL:P._pushURL,Boolean:P._pushBoxed,Number:P._pushBoxed,String:P._pushBoxed}),"undefined"!=typeof BigUint64Array&&(A[BigUint64Array.name]=P._pushTypedArray),"undefined"!=typeof BigInt64Array&&(A[BigInt64Array.name]=P._pushTypedArray),P.reset(),e.exports=P},99588:(e,t,r)=>{const{Buffer:n}=r(1048),i=r(12670),o=r(80834),{MT:s}=r(86815);class a extends Map{constructor(e){super(e)}static _encode(e){return i.encodeCanonical(e).toString("base64")}static _decode(e){return o.decodeFirstSync(e,"base64")}get(e){return super.get(a._encode(e))}set(e,t){return super.set(a._encode(e),t)}delete(e){return super.delete(a._encode(e))}has(e){return super.has(a._encode(e))}*keys(){for(const e of super.keys())yield a._decode(e)}*entries(){for(const e of super.entries())yield[a._decode(e[0]),e[1]]}[Symbol.iterator](){return this.entries()}forEach(e,t){if("function"!=typeof e)throw new TypeError("Must be function");for(const t of super.entries())e.call(this,t[1],a._decode(t[0]),this)}encodeCBOR(e){if(!e._pushInt(this.size,s.MAP))return!1;if(e.canonical){const t=Array.from(super.entries()).map((e=>[n.from(e[0],"base64"),e[1]]));t.sort(((e,t)=>e[0].compare(t[0])));for(const r of t)if(!e.push(r[0])||!e.pushAny(r[1]))return!1}else for(const t of super.entries())if(!e.push(n.from(t[0],"base64"))||!e.pushAny(t[1]))return!1;return!0}}e.exports=a},33446:(e,t,r)=>{const{MT:n,SIMPLE:i,SYMS:o}=r(86815);class s{constructor(e){if("number"!=typeof e)throw new Error("Invalid Simple type: "+typeof e);if(e<0||e>255||(0|e)!==e)throw new Error(`value must be a small positive integer: ${e}`);this.value=e}toString(){return`simple(${this.value})`}[Symbol.for("nodejs.util.inspect.custom")](e,t){return`simple(${this.value})`}encodeCBOR(e){return e._pushInt(this.value,n.SIMPLE_FLOAT)}static isSimple(e){return e instanceof s}static decode(e,t=!0,r=!1){switch(e){case i.FALSE:return!1;case i.TRUE:return!0;case i.NULL:return t?null:o.NULL;case i.UNDEFINED:if(t)return;return o.UNDEFINED;case-1:if(!t||!r)throw new Error("Invalid BREAK");return o.BREAK;default:return new s(e)}}}e.exports=s},98420:(e,t,r)=>{const n=r(86815),i=r(7679),o=Symbol("INTERNAL_JSON");function s(e,t){if(i.isBufferish(e))e.toJSON=t;else if(Array.isArray(e))for(const r of e)s(r,t);else if(e&&"object"==typeof e&&(!(e instanceof p)||e.tag<21||e.tag>23))for(const r of Object.values(e))s(r,t)}function a(){return i.base64(this)}function c(){return i.base64url(this)}function u(){return this.toString("hex")}const l={0:e=>new Date(e),1:e=>new Date(1e3*e),2:e=>i.bufferToBigInt(e),3:e=>n.BI.MINUS_ONE-i.bufferToBigInt(e),21:(e,t)=>(i.isBufferish(e)?t[o]=c:s(e,c),t),22:(e,t)=>(i.isBufferish(e)?t[o]=a:s(e,a),t),23:(e,t)=>(i.isBufferish(e)?t[o]=u:s(e,u),t),32:e=>new URL(e),33:(e,t)=>{if(!e.match(/^[a-zA-Z0-9_-]+$/))throw new Error("Invalid base64url characters");const r=e.length%4;if(1===r)throw new Error("Invalid base64url length");if(2===r){if(-1==="AQgw".indexOf(e[e.length-1]))throw new Error("Invalid base64 padding")}else if(3===r&&-1==="AEIMQUYcgkosw048".indexOf(e[e.length-1]))throw new Error("Invalid base64 padding");return t},34:(e,t)=>{const r=e.match(/^[a-zA-Z0-9+/]+(?<padding>={0,2})$/);if(!r)throw new Error("Invalid base64 characters");if(e.length%4!=0)throw new Error("Invalid base64 length");if("="===r.groups.padding){if(-1==="AQgw".indexOf(e[e.length-2]))throw new Error("Invalid base64 padding")}else if("=="===r.groups.padding&&-1==="AEIMQUYcgkosw048".indexOf(e[e.length-3]))throw new Error("Invalid base64 padding");return t},35:e=>new RegExp(e),258:e=>new Set(e)},f={64:Uint8Array,65:Uint16Array,66:Uint32Array,68:Uint8ClampedArray,69:Uint16Array,70:Uint32Array,72:Int8Array,73:Int16Array,74:Int32Array,77:Int16Array,78:Int32Array,81:Float32Array,82:Float64Array,85:Float32Array,86:Float64Array};function h(e,t){if(!i.isBufferish(e))throw new TypeError("val not a buffer");const{tag:r}=t,n=f[r];if(!n)throw new Error(`Invalid typed array tag: ${r}`);const o=2**(((16&r)>>4)+(3&r));return!(4&r)!==i.isBigEndian()&&o>1&&function(e,t,r,n){const i=new DataView(e),[o,s]={2:[i.getUint16,i.setUint16],4:[i.getUint32,i.setUint32],8:[i.getBigUint64,i.setBigUint64]}[t],a=r+n;for(let e=r;e<a;e+=t)s.call(i,e,o.call(i,e,!0))}(e.buffer,o,e.byteOffset,e.byteLength),new n(e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength))}"undefined"!=typeof BigUint64Array&&(f[67]=BigUint64Array,f[71]=BigUint64Array),"undefined"!=typeof BigInt64Array&&(f[75]=BigInt64Array,f[79]=BigInt64Array);for(const e of Object.keys(f))l[e]=h;let d={};class p{constructor(e,t,r){if(this.tag=e,this.value=t,this.err=r,"number"!=typeof this.tag)throw new Error(`Invalid tag type (${typeof this.tag})`);if(this.tag<0||(0|this.tag)!==this.tag)throw new Error(`Tag must be a positive integer: ${this.tag}`)}toJSON(){if(this[o])return this[o].call(this.value);const e={tag:this.tag,value:this.value};return this.err&&(e.err=this.err),e}toString(){return`${this.tag}(${JSON.stringify(this.value)})`}encodeCBOR(e){return e._pushTag(this.tag),e.pushAny(this.value)}convert(e){let t=null==e?void 0:e[this.tag];if("function"!=typeof t&&(t=p.TAGS[this.tag],"function"!=typeof t))return this;try{return t.call(this,this.value,this)}catch(e){return e&&e.message&&e.message.length>0?this.err=e.message:this.err=e,this}}static get TAGS(){return d}static set TAGS(e){d=e}static reset(){p.TAGS={...l}}}p.INTERNAL_JSON=o,p.reset(),e.exports=p},7679:(e,t,r)=>{const{Buffer:n}=r(1048),i=r(29963),o=r(50601),s=r(86815),{NUMBYTES:a,SHIFT32:c,BI:u,SYMS:l}=s,f=new TextDecoder("utf8",{fatal:!0,ignoreBOM:!0});t.utf8=e=>f.decode(e),t.utf8.checksUTF8=!0,t.isBufferish=function(e){return e&&"object"==typeof e&&(n.isBuffer(e)||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof ArrayBuffer||e instanceof DataView)},t.bufferishToBuffer=function(e){return n.isBuffer(e)?e:ArrayBuffer.isView(e)?n.from(e.buffer,e.byteOffset,e.byteLength):e instanceof ArrayBuffer?n.from(e):null},t.parseCBORint=function(e,t){switch(e){case a.ONE:return t.readUInt8(0);case a.TWO:return t.readUInt16BE(0);case a.FOUR:return t.readUInt32BE(0);case a.EIGHT:{const e=t.readUInt32BE(0),r=t.readUInt32BE(4);return e>2097151?BigInt(e)*u.SHIFT32+BigInt(r):e*c+r}default:throw new Error(`Invalid additional info for int: ${e}`)}},t.writeHalf=function(e,t){const r=n.allocUnsafe(4);r.writeFloatBE(t,0);const i=r.readUInt32BE(0);if(8191&i)return!1;let o=i>>16&32768;const s=i>>23&255,a=8388607&i;if(s>=113&&s<=142)o+=(s-112<<10)+(a>>13);else{if(!(s>=103&&s<113))return!1;if(a&(1<<126-s)-1)return!1;o+=a+8388608>>126-s}return e.writeUInt16BE(o),!0},t.parseHalf=function(e){const t=128&e[0]?-1:1,r=(124&e[0])>>2,n=(3&e[0])<<8|e[1];return r?31===r?t*(n?NaN:1/0):t*2**(r-25)*(1024+n):5.960464477539063e-8*t*n},t.parseCBORfloat=function(e){switch(e.length){case 2:return t.parseHalf(e);case 4:return e.readFloatBE(0);case 8:return e.readDoubleBE(0);default:throw new Error(`Invalid float size: ${e.length}`)}},t.hex=function(e){return n.from(e.replace(/^0x/,""),"hex")},t.bin=function(e){let t=0,r=(e=e.replace(/\s/g,"")).length%8||8;const i=[];for(;r<=e.length;)i.push(parseInt(e.slice(t,r),2)),t=r,r+=8;return n.from(i)},t.arrayEqual=function(e,t){return null==e&&null==t||null!=e&&null!=t&&e.length===t.length&&e.every(((e,r)=>e===t[r]))},t.bufferToBigInt=function(e){return BigInt(`0x${e.toString("hex")}`)},t.cborValueToString=function(e,r=-1){switch(typeof e){case"symbol":{switch(e){case l.NULL:return"null";case l.UNDEFINED:return"undefined";case l.BREAK:return"BREAK"}if(e.description)return e.description;const t=e.toString().match(/^Symbol\((?<name>.*)\)/);return t&&t.groups.name?t.groups.name:"Symbol"}case"string":return JSON.stringify(e);case"bigint":return e.toString();case"number":{const t=Object.is(e,-0)?"-0":String(e);return r>0?`${t}_${r}`:t}case"object":{const n=t.bufferishToBuffer(e);if(n){const e=n.toString("hex");return r===-1/0?e:`h'${e}'`}return"function"==typeof e[Symbol.for("nodejs.util.inspect.custom")]?e[Symbol.for("nodejs.util.inspect.custom")]():Array.isArray(e)?"[]":"{}"}}return String(e)},t.guessEncoding=function(e,r){if("string"==typeof e)return new i(e,null==r?"hex":r);const n=t.bufferishToBuffer(e);if(n)return new i(n);if((s=e)instanceof o.Readable||["read","on","pipe"].every((e=>"function"==typeof s[e])))return e;var s;throw new Error("Unknown input type")};const h={"=":"","+":"-","/":"_"};t.base64url=function(e){return t.bufferishToBuffer(e).toString("base64").replace(/[=+/]/g,(e=>h[e]))},t.base64=function(e){return t.bufferishToBuffer(e).toString("base64")},t.isBigEndian=function(){const e=new Uint8Array(4);return!((new Uint32Array(e.buffer)[0]=1)&e[0])}},81936:(e,t,r)=>{const n=r(50601),i=r(29963);class o extends n.Transform{constructor(e){super(e),this._writableState.objectMode=!1,this._readableState.objectMode=!0,this.bs=new i,this.__restart()}_transform(e,t,r){for(this.bs.write(e);this.bs.length>=this.__needed;){let e=null;const t=null===this.__needed?void 0:this.bs.read(this.__needed);try{e=this.__parser.next(t)}catch(e){return r(e)}this.__needed&&(this.__fresh=!1),e.done?(this.push(e.value),this.__restart()):this.__needed=e.value||1/0}return r()}*_parse(){throw new Error("Must be implemented in subclass")}__restart(){this.__needed=null,this.__parser=this._parse(),this.__fresh=!0}_flush(e){e(this.__fresh?null:new Error("unexpected end of input"))}}e.exports=o},47589:(e,t,r)=>{var n=r(25636).Buffer,i=r(50601).Transform,o=r(18888).StringDecoder;function s(e){i.call(this),this.hashMode="string"==typeof e,this.hashMode?this[e]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}r(35615)(s,i),s.prototype.update=function(e,t,r){"string"==typeof e&&(e=n.from(e,t));var i=this._update(e);return this.hashMode?this:(r&&(i=this._toString(i,r)),i)},s.prototype.setAutoPadding=function(){},s.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},s.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},s.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},s.prototype._transform=function(e,t,r){var n;try{this.hashMode?this._update(e):this.push(this._update(e))}catch(e){n=e}finally{r(n)}},s.prototype._flush=function(e){var t;try{this.push(this.__final())}catch(e){t=e}e(t)},s.prototype._finalOrDigest=function(e){var t=this.__final()||n.alloc(0);return e&&(t=this._toString(t,e,!0)),t},s.prototype._toString=function(e,t,r){if(this._decoder||(this._decoder=new o(t),this._encoding=t),this._encoding!==t)throw new Error("can't switch encodings");var n=this._decoder.write(e);return r&&(n+=this._decoder.end()),n},e.exports=s},32399:(e,t,r)=>{var n=r(7770).Buffer,i=r(10567),o=r(1184);const s="https://example.org/";var a;a="function"==typeof n?function(e){return n.from(e).toString("base64")}:window.btoa.bind(window),e.exports=m;var c={Accept:"application/json, application/x-www-form-urlencoded","Content-Type":"application/x-www-form-urlencoded"},u={invalid_request:["The request is missing a required parameter, includes an","invalid parameter value, includes a parameter more than","once, or is otherwise malformed."].join(" "),invalid_client:["Client authentication failed (e.g., unknown client, no","client authentication included, or unsupported","authentication method)."].join(" "),invalid_grant:["The provided authorization grant (e.g., authorization","code, resource owner credentials) or refresh token is","invalid, expired, revoked, does not match the redirection","URI used in the authorization request, or was issued to","another client."].join(" "),unauthorized_client:["The client is not authorized to request an authorization","code using this method."].join(" "),unsupported_grant_type:["The authorization grant type is not supported by the","authorization server."].join(" "),access_denied:["The resource owner or authorization server denied the request."].join(" "),unsupported_response_type:["The authorization server does not support obtaining","an authorization code using this method."].join(" "),invalid_scope:["The requested scope is invalid, unknown, or malformed."].join(" "),server_error:["The authorization server encountered an unexpected","condition that prevented it from fulfilling the request.","(This error code is needed because a 500 Internal Server","Error HTTP status code cannot be returned to the client","via an HTTP redirect.)"].join(" "),temporarily_unavailable:["The authorization server is currently unable to handle","the request due to a temporary overloading or maintenance","of the server."].join(" ")};function l(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];if(null==e[r])throw new TypeError('Expected "'+r+'" to exist')}}function f(e){var t=u[e.error]||e.error_description||e.error;if(t){var r=new Error(t);return r.body=e,r.code="EAUTH",r}}function h(e){return Array.isArray(e)?e.join(" "):y(e)}function d(e,t){l(e,"clientId","authorizationUri");const r={client_id:e.clientId,redirect_uri:e.redirectUri,response_type:t,state:e.state};void 0!==e.scopes&&(r.scope=h(e.scopes));const n=e.authorizationUri.includes("?")?"&":"?";return e.authorizationUri+n+i.stringify(Object.assign(r,e.query))}function p(e,t){return"Basic "+a(y(e)+":"+y(t))}function y(e){return null==e?"":String(e)}function b(e,t){return{url:e.url,method:e.method,body:Object.assign({},e.body,t.body),query:Object.assign({},e.query,t.query),headers:Object.assign({},e.headers,t.headers)}}function m(e,t){this.options=e,this.request=t||o,this.code=new S(this),this.token=new w(this),this.owner=new g(this),this.credentials=new _(this),this.jwt=new E(this)}function v(e,t){this.client=e,this.data=t,this.tokenType=t.token_type&&t.token_type.toLowerCase(),this.accessToken=t.access_token,this.refreshToken=t.refresh_token,this.expiresIn(Number(t.expires_in))}function g(e){this.client=e}function w(e){this.client=e}function _(e){this.client=e}function S(e){this.client=e}function E(e){this.client=e}m.Token=v,m.prototype.createToken=function(e,t,r,n){var i=Object.assign({},n,"string"==typeof e?{access_token:e}:e,"string"==typeof t?{refresh_token:t}:t,"string"==typeof r?{token_type:r}:r);return new m.Token(this,i)},m.prototype._request=function(e){var t=e.url,r=i.stringify(e.body),n=i.stringify(e.query);return n&&(t+=(-1===t.indexOf("?")?"?":"&")+n),this.request(e.method,t,r,e.headers).then((function(e){var t=function(e){try{return JSON.parse(e)}catch(t){return i.parse(e)}}(e.body),r=f(t);if(r)return Promise.reject(r);if(e.status<200||e.status>=399){var n=new Error("HTTP status "+e.status);return n.status=e.status,n.body=e.body,n.code="ESTATUS",Promise.reject(n)}return t}))},v.prototype.expiresIn=function(e){if("number"==typeof e)this.expires=new Date,this.expires.setSeconds(this.expires.getSeconds()+e);else{if(!(e instanceof Date))throw new TypeError("Unknown duration: "+e);this.expires=new Date(e.getTime())}return this.expires},v.prototype.sign=function(e){if(!this.accessToken)throw new Error("Unable to sign without access token");if(e.headers=e.headers||{},"bearer"===this.tokenType)e.headers.Authorization="Bearer "+this.accessToken;else{var t=e.url.split("#"),r="access_token="+this.accessToken,n=t[0].replace(/[?&]access_token=[^&#]/,""),i=t[1]?"#"+t[1]:"";e.url=n+(n.indexOf("?")>-1?"&":"?")+r+i,e.headers.Pragma="no-store",e.headers["Cache-Control"]="no-store"}return e},v.prototype.refresh=function(e){var t=this,r=Object.assign({},this.client.options,e);return this.refreshToken?this.client._request(b({url:r.accessTokenUri,method:"POST",headers:Object.assign({},c,{Authorization:p(r.clientId,r.clientSecret)}),body:{refresh_token:this.refreshToken,grant_type:"refresh_token"}},r)).then((function(e){return t.client.createToken(Object.assign({},t.data,e))})):Promise.reject(new Error("No refresh token"))},v.prototype.expired=function(){return Date.now()>this.expires.getTime()},g.prototype.getToken=function(e,t,r){var n=this,i=Object.assign({},this.client.options,r);const o={username:e,password:t,grant_type:"password"};return void 0!==i.scopes&&(o.scope=h(i.scopes)),this.client._request(b({url:i.accessTokenUri,method:"POST",headers:Object.assign({},c,{Authorization:p(i.clientId,i.clientSecret)}),body:o},i)).then((function(e){return n.client.createToken(e)}))},w.prototype.getUri=function(e){return d(Object.assign({},this.client.options,e),"token")},w.prototype.getToken=function(e,t){var r=Object.assign({},this.client.options,t),n="object"==typeof e?e:new URL(e,s),o=new URL(r.redirectUri,s);if("string"==typeof n.pathname&&n.pathname!==o.pathname)return Promise.reject(new TypeError("Redirected path should match configured path, but got: "+n.pathname));if(!n.hash&&!n.search)return Promise.reject(new TypeError("Unable to process uri: "+e));var a=Object.assign({},"string"==typeof n.search?i.parse(n.search.substr(1)):n.search||{},"string"==typeof n.hash?i.parse(n.hash.substr(1)):n.hash||{}),c=f(a);return c?Promise.reject(c):null!=r.state&&a.state!==r.state?Promise.reject(new TypeError("Invalid state: "+a.state)):Promise.resolve(this.client.createToken(a))},_.prototype.getToken=function(e){var t=this,r=Object.assign({},this.client.options,e);l(r,"clientId","clientSecret","accessTokenUri");const n={grant_type:"client_credentials"};return void 0!==r.scopes&&(n.scope=h(r.scopes)),this.client._request(b({url:r.accessTokenUri,method:"POST",headers:Object.assign({},c,{Authorization:p(r.clientId,r.clientSecret)}),body:n},r)).then((function(e){return t.client.createToken(e)}))},S.prototype.getUri=function(e){return d(Object.assign({},this.client.options,e),"code")},S.prototype.getToken=function(e,t){var r=this,n=Object.assign({},this.client.options,t);l(n,"clientId","accessTokenUri");var o="object"==typeof e?e:new URL(e,s);if("string"==typeof n.redirectUri&&"string"==typeof o.pathname&&o.pathname!==new URL(n.redirectUri,s).pathname)return Promise.reject(new TypeError("Redirected path should match configured path, but got: "+o.pathname));if(!o.search||!o.search.substr(1))return Promise.reject(new TypeError("Unable to process uri: "+e));var a="string"==typeof o.search?i.parse(o.search.substr(1)):o.search||{},u=f(a);if(u)return Promise.reject(u);if(null!=n.state&&a.state!==n.state)return Promise.reject(new TypeError("Invalid state: "+a.state));if(!a.code)return Promise.reject(new TypeError("Missing code, unable to request token"));var h=Object.assign({},c),d={code:a.code,grant_type:"authorization_code",redirect_uri:n.redirectUri};return n.clientSecret?h.Authorization=p(n.clientId,n.clientSecret):d.client_id=n.clientId,this.client._request(b({url:n.accessTokenUri,method:"POST",headers:h,body:d},n)).then((function(e){return r.client.createToken(e)}))},E.prototype.getToken=function(e,t){var r=this,n=Object.assign({},this.client.options,t),i=Object.assign({},c);l(n,"accessTokenUri"),n.clientId&&(i.Authorization=p(n.clientId,n.clientSecret));const o={grant_type:"urn:ietf:params:oauth:grant-type:jwt-bearer",assertion:e};return void 0!==n.scopes&&(o.scope=h(n.scopes)),this.client._request(b({url:n.accessTokenUri,method:"POST",headers:i,body:o},n)).then((function(e){return r.client.createToken(e)}))}},1184:e=>{e.exports=function(e,t,r,n){return new Promise((function(i,o){var s=new window.XMLHttpRequest;s.open(e,t),s.onload=function(){return i({status:s.status,body:s.responseText})},s.onerror=s.onabort=function(){return o(new Error(s.statusText||"XHR aborted: "+t))},Object.keys(n).forEach((function(e){s.setRequestHeader(e,n[e])})),s.send(r)}))}},4364:(e,t,r)=>{var n=r(49208),i=r(26093);function o(){return(new Date).getTime()}var s,a=Array.prototype.slice,c={};s=void 0!==r.g&&r.g.console?r.g.console:"undefined"!=typeof window&&window.console?window.console:{};for(var u=[[function(){},"log"],[function(){s.log.apply(s,arguments)},"info"],[function(){s.log.apply(s,arguments)},"warn"],[function(){s.warn.apply(s,arguments)},"error"],[function(e){c[e]=o()},"time"],[function(e){var t=c[e];if(!t)throw new Error("No such label: "+e);delete c[e];var r=o()-t;s.log(e+": "+r+"ms")},"timeEnd"],[function(){var e=new Error;e.name="Trace",e.message=n.format.apply(null,arguments),s.error(e.stack)},"trace"],[function(e){s.log(n.inspect(e)+"\n")},"dir"],[function(e){if(!e){var t=a.call(arguments,1);i.ok(!1,n.format.apply(null,t))}},"assert"]],l=0;l<u.length;l++){var f=u[l],h=f[0],d=f[1];s[d]||(s[d]=h)}e.exports=s},32239:(e,t,r)=>{function n(e){return Object.prototype.toString.call(e)}t.isArray=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===n(e)},t.isBoolean=function(e){return"boolean"==typeof e},t.isNull=function(e){return null===e},t.isNullOrUndefined=function(e){return null==e},t.isNumber=function(e){return"number"==typeof e},t.isString=function(e){return"string"==typeof e},t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=function(e){return void 0===e},t.isRegExp=function(e){return"[object RegExp]"===n(e)},t.isObject=function(e){return"object"==typeof e&&null!==e},t.isDate=function(e){return"[object Date]"===n(e)},t.isError=function(e){return"[object Error]"===n(e)||e instanceof Error},t.isFunction=function(e){return"function"==typeof e},t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=r(1048).Buffer.isBuffer},45517:(e,t,r)=>{var n=r(1048).Buffer,i=r(13360),o=r(82823);e.exports=function(e){return new a(e)};var s={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};function a(e){this.curveType=s[e],this.curveType||(this.curveType={name:e}),this.curve=new i.ec(this.curveType.name),this.keys=void 0}function c(e,t,r){Array.isArray(e)||(e=e.toArray());var i=new n(e);if(r&&i.length<r){var o=new n(r-i.length);o.fill(0),i=n.concat([o,i])}return t?i.toString(t):i}s.p224=s.secp224r1,s.p256=s.secp256r1=s.prime256v1,s.p192=s.secp192r1=s.prime192v1,s.p384=s.secp384r1,s.p521=s.secp521r1,a.prototype.generateKeys=function(e,t){return this.keys=this.curve.genKeyPair(),this.getPublicKey(e,t)},a.prototype.computeSecret=function(e,t,r){return t=t||"utf8",n.isBuffer(e)||(e=new n(e,t)),c(this.curve.keyFromPublic(e).getPublic().mul(this.keys.getPrivate()).getX(),r,this.curveType.byteLength)},a.prototype.getPublicKey=function(e,t){var r=this.keys.getPublic("compressed"===t,!0);return"hybrid"===t&&(r[r.length-1]%2?r[0]=7:r[0]=6),c(r,e)},a.prototype.getPrivateKey=function(e){return c(this.keys.getPrivate(),e)},a.prototype.setPublicKey=function(e,t){return t=t||"utf8",n.isBuffer(e)||(e=new n(e,t)),this.keys._importPublic(e),this},a.prototype.setPrivateKey=function(e,t){t=t||"utf8",n.isBuffer(e)||(e=new n(e,t));var r=new o(e);return r=r.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(r),this}},13257:(e,t,r)=>{var n=r(35615),i=r(63275),o=r(25586),s=r(13229),a=r(47589);function c(e){a.call(this,"digest"),this._hash=e}n(c,a),c.prototype._update=function(e){this._hash.update(e)},c.prototype._final=function(){return this._hash.digest()},e.exports=function(e){return"md5"===(e=e.toLowerCase())?new i:"rmd160"===e||"ripemd160"===e?new o:new c(s(e))}},94277:(e,t,r)=>{var n=r(63275);e.exports=function(e){return(new n).update(e).digest()}},45262:(e,t,r)=>{var n=r(35615),i=r(1719),o=r(47589),s=r(25636).Buffer,a=r(94277),c=r(25586),u=r(13229),l=s.alloc(128);function f(e,t){o.call(this,"digest"),"string"==typeof t&&(t=s.from(t));var r="sha512"===e||"sha384"===e?128:64;this._alg=e,this._key=t,t.length>r?t=("rmd160"===e?new c:u(e)).update(t).digest():t.length<r&&(t=s.concat([t,l],r));for(var n=this._ipad=s.allocUnsafe(r),i=this._opad=s.allocUnsafe(r),a=0;a<r;a++)n[a]=54^t[a],i[a]=92^t[a];this._hash="rmd160"===e?new c:u(e),this._hash.update(n)}n(f,o),f.prototype._update=function(e){this._hash.update(e)},f.prototype._final=function(){var e=this._hash.digest();return("rmd160"===this._alg?new c:u(this._alg)).update(this._opad).update(e).digest()},e.exports=function(e,t){return"rmd160"===(e=e.toLowerCase())||"ripemd160"===e?new f("rmd160",t):"md5"===e?new i(a,t):new f(e,t)}},1719:(e,t,r)=>{var n=r(35615),i=r(25636).Buffer,o=r(47589),s=i.alloc(128),a=64;function c(e,t){o.call(this,"digest"),"string"==typeof t&&(t=i.from(t)),this._alg=e,this._key=t,t.length>a?t=e(t):t.length<a&&(t=i.concat([t,s],a));for(var r=this._ipad=i.allocUnsafe(a),n=this._opad=i.allocUnsafe(a),c=0;c<a;c++)r[c]=54^t[c],n[c]=92^t[c];this._hash=[r]}n(c,o),c.prototype._update=function(e){this._hash.push(e)},c.prototype._final=function(){var e=this._alg(i.concat(this._hash));return this._alg(i.concat([this._opad,e]))},e.exports=c},10328:(e,t,r)=>{t.randomBytes=t.rng=t.pseudoRandomBytes=t.prng=r(22644),t.createHash=t.Hash=r(13257),t.createHmac=t.Hmac=r(45262);var n=r(83982),i=Object.keys(n),o=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(i);t.getHashes=function(){return o};var s=r(88619);t.pbkdf2=s.pbkdf2,t.pbkdf2Sync=s.pbkdf2Sync;var a=r(67172);t.Cipher=a.Cipher,t.createCipher=a.createCipher,t.Cipheriv=a.Cipheriv,t.createCipheriv=a.createCipheriv,t.Decipher=a.Decipher,t.createDecipher=a.createDecipher,t.Decipheriv=a.Decipheriv,t.createDecipheriv=a.createDecipheriv,t.getCiphers=a.getCiphers,t.listCiphers=a.listCiphers;var c=r(27019);t.DiffieHellmanGroup=c.DiffieHellmanGroup,t.createDiffieHellmanGroup=c.createDiffieHellmanGroup,t.getDiffieHellman=c.getDiffieHellman,t.createDiffieHellman=c.createDiffieHellman,t.DiffieHellman=c.DiffieHellman;var u=r(59553);t.createSign=u.createSign,t.Sign=u.Sign,t.createVerify=u.createVerify,t.Verify=u.Verify,t.createECDH=r(45517);var l=r(44055);t.publicEncrypt=l.publicEncrypt,t.privateEncrypt=l.privateEncrypt,t.publicDecrypt=l.publicDecrypt,t.privateDecrypt=l.privateDecrypt;var f=r(69904);t.randomFill=f.randomFill,t.randomFillSync=f.randomFillSync,t.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join("\n"))},t.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}},28437:e=>{var t=1e3,r=60*t,n=60*r,i=24*n,o=7*i;function s(e,t,r,n){var i=t>=1.5*r;return Math.round(e/r)+" "+n+(i?"s":"")}e.exports=function(e,a){a=a||{};var c,u,l=typeof e;if("string"===l&&e.length>0)return function(e){if(!((e=String(e)).length>100)){var s=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(s){var a=parseFloat(s[1]);switch((s[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*a;case"weeks":case"week":case"w":return a*o;case"days":case"day":case"d":return a*i;case"hours":case"hour":case"hrs":case"hr":case"h":return a*n;case"minutes":case"minute":case"mins":case"min":case"m":return a*r;case"seconds":case"second":case"secs":case"sec":case"s":return a*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return a;default:return}}}}(e);if("number"===l&&isFinite(e))return a.long?(c=e,(u=Math.abs(c))>=i?s(c,u,i,"day"):u>=n?s(c,u,n,"hour"):u>=r?s(c,u,r,"minute"):u>=t?s(c,u,t,"second"):c+" ms"):function(e){var o=Math.abs(e);return o>=i?Math.round(e/i)+"d":o>=n?Math.round(e/n)+"h":o>=r?Math.round(e/r)+"m":o>=t?Math.round(e/t)+"s":e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},20124:(e,t,r)=>{var n=r(4364),i=r(39907);t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const r="color: "+this.color;t.splice(1,0,r,"color: inherit");let n=0,i=0;t[0].replace(/%[a-zA-Z%]/g,(e=>{"%%"!==e&&(n++,"%c"===e&&(i=n))})),t.splice(i,0,r)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch(e){}return!e&&void 0!==i&&"env"in i&&(e=i.env.DEBUG),e},t.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},t.storage=function(){try{return localStorage}catch(e){}}(),t.destroy=(()=>{let e=!1;return()=>{e||(e=!0,n.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=n.debug||n.log||(()=>{}),e.exports=r(27891)(t);const{formatters:o}=e.exports;o.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}},27891:(e,t,r)=>{var n=r(4364);e.exports=function(e){function t(e){let r,n,o,s=null;function a(...e){if(!a.enabled)return;const n=a,i=Number(new Date),o=i-(r||i);n.diff=o,n.prev=r,n.curr=i,r=i,e[0]=t.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let s=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,((r,i)=>{if("%%"===r)return"%";s++;const o=t.formatters[i];if("function"==typeof o){const t=e[s];r=o.call(n,t),e.splice(s,1),s--}return r})),t.formatArgs.call(n,e),(n.log||t.log).apply(n,e)}return a.namespace=e,a.useColors=t.useColors(),a.color=t.selectColor(e),a.extend=i,a.destroy=t.destroy,Object.defineProperty(a,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==s?s:(n!==t.namespaces&&(n=t.namespaces,o=t.enabled(e)),o),set:e=>{s=e}}),"function"==typeof t.init&&t.init(a),a}function i(e,r){const n=t(this.namespace+(void 0===r?":":r)+e);return n.log=this.log,n}function o(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return t.debug=t,t.default=t,t.coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){const e=[...t.names.map(o),...t.skips.map(o).map((e=>"-"+e))].join(",");return t.enable(""),e},t.enable=function(e){let r;t.save(e),t.namespaces=e,t.names=[],t.skips=[];const n=("string"==typeof e?e:"").split(/[\s,]+/),i=n.length;for(r=0;r<i;r++)n[r]&&("-"===(e=n[r].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.slice(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){if("*"===e[e.length-1])return!0;let r,n;for(r=0,n=t.skips.length;r<n;r++)if(t.skips[r].test(e))return!1;for(r=0,n=t.names.length;r<n;r++)if(t.names[r].test(e))return!0;return!1},t.humanize=r(28437),t.destroy=function(){n.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach((r=>{t[r]=e[r]})),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){let r=0;for(let t=0;t<e.length;t++)r=(r<<5)-r+e.charCodeAt(t),r|=0;return t.colors[Math.abs(r)%t.colors.length]},t.enable(t.load()),t}},28605:e=>{var t="%[a-f0-9]{2}",r=new RegExp("("+t+")|([^%]+?)","gi"),n=new RegExp("("+t+")+","gi");function i(e,t){try{return[decodeURIComponent(e.join(""))]}catch(e){}if(1===e.length)return e;t=t||1;var r=e.slice(0,t),n=e.slice(t);return Array.prototype.concat.call([],i(r),i(n))}function o(e){try{return decodeURIComponent(e)}catch(o){for(var t=e.match(r)||[],n=1;n<t.length;n++)t=(e=i(t,n).join("")).match(r)||[];return e}}e.exports=function(e){if("string"!=typeof e)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return function(e){for(var t={"%FE%FF":"��","%FF%FE":"��"},r=n.exec(e);r;){try{t[r[0]]=decodeURIComponent(r[0])}catch(e){var i=o(r[0]);i!==r[0]&&(t[r[0]]=i)}r=n.exec(e)}t["%C2"]="�";for(var s=Object.keys(t),a=0;a<s.length;a++){var c=s[a];e=e.replace(new RegExp(c,"g"),t[c])}return e}(e)}}},70686:(e,t,r)=>{var n=r(64940),i=r(5731),o=r(3468),s=r(69336);e.exports=function(e,t,r){if(!e||"object"!=typeof e&&"function"!=typeof e)throw new o("`obj` must be an object or a function`");if("string"!=typeof t&&"symbol"!=typeof t)throw new o("`property` must be a string or a symbol`");if(arguments.length>3&&"boolean"!=typeof arguments[3]&&null!==arguments[3])throw new o("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&"boolean"!=typeof arguments[4]&&null!==arguments[4])throw new o("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&"boolean"!=typeof arguments[5]&&null!==arguments[5])throw new o("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&"boolean"!=typeof arguments[6])throw new o("`loose`, if provided, must be a boolean");var a=arguments.length>3?arguments[3]:null,c=arguments.length>4?arguments[4]:null,u=arguments.length>5?arguments[5]:null,l=arguments.length>6&&arguments[6],f=!!s&&s(e,t);if(n)n(e,t,{configurable:null===u&&f?f.configurable:!u,enumerable:null===a&&f?f.enumerable:!a,value:r,writable:null===c&&f?f.writable:!c});else{if(!l&&(a||c||u))throw new i("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.");e[t]=r}}},41857:(e,t,r)=>{var n=r(49228),i="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),o=Object.prototype.toString,s=Array.prototype.concat,a=r(70686),c=r(17239)(),u=function(e,t,r,n){if(t in e)if(!0===n){if(e[t]===r)return}else if("function"!=typeof(i=n)||"[object Function]"!==o.call(i)||!n())return;var i;c?a(e,t,r,!0):a(e,t,r)},l=function(e,t){var r=arguments.length>2?arguments[2]:{},o=n(t);i&&(o=s.call(o,Object.getOwnPropertySymbols(t)));for(var a=0;a<o.length;a+=1)u(e,o[a],t[o[a]],r[o[a]])};l.supportsDescriptors=!!c,e.exports=l},52431:(e,t,r)=>{t.utils=r(46769),t.Cipher=r(9341),t.DES=r(73768),t.CBC=r(54914),t.EDE=r(33352)},54914:(e,t,r)=>{var n=r(7784),i=r(35615),o={};function s(e){n.equal(e.length,8,"Invalid IV length"),this.iv=new Array(8);for(var t=0;t<this.iv.length;t++)this.iv[t]=e[t]}t.instantiate=function(e){function t(t){e.call(this,t),this._cbcInit()}i(t,e);for(var r=Object.keys(o),n=0;n<r.length;n++){var s=r[n];t.prototype[s]=o[s]}return t.create=function(e){return new t(e)},t},o._cbcInit=function(){var e=new s(this.options.iv);this._cbcState=e},o._update=function(e,t,r,n){var i=this._cbcState,o=this.constructor.super_.prototype,s=i.iv;if("encrypt"===this.type){for(var a=0;a<this.blockSize;a++)s[a]^=e[t+a];for(o._update.call(this,s,0,r,n),a=0;a<this.blockSize;a++)s[a]=r[n+a]}else{for(o._update.call(this,e,t,r,n),a=0;a<this.blockSize;a++)r[n+a]^=s[a];for(a=0;a<this.blockSize;a++)s[a]=e[t+a]}}},9341:(e,t,r)=>{var n=r(7784);function i(e){this.options=e,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0,this.padding=!1!==e.padding}e.exports=i,i.prototype._init=function(){},i.prototype.update=function(e){return 0===e.length?[]:"decrypt"===this.type?this._updateDecrypt(e):this._updateEncrypt(e)},i.prototype._buffer=function(e,t){for(var r=Math.min(this.buffer.length-this.bufferOff,e.length-t),n=0;n<r;n++)this.buffer[this.bufferOff+n]=e[t+n];return this.bufferOff+=r,r},i.prototype._flushBuffer=function(e,t){return this._update(this.buffer,0,e,t),this.bufferOff=0,this.blockSize},i.prototype._updateEncrypt=function(e){var t=0,r=0,n=(this.bufferOff+e.length)/this.blockSize|0,i=new Array(n*this.blockSize);0!==this.bufferOff&&(t+=this._buffer(e,t),this.bufferOff===this.buffer.length&&(r+=this._flushBuffer(i,r)));for(var o=e.length-(e.length-t)%this.blockSize;t<o;t+=this.blockSize)this._update(e,t,i,r),r+=this.blockSize;for(;t<e.length;t++,this.bufferOff++)this.buffer[this.bufferOff]=e[t];return i},i.prototype._updateDecrypt=function(e){for(var t=0,r=0,n=Math.ceil((this.bufferOff+e.length)/this.blockSize)-1,i=new Array(n*this.blockSize);n>0;n--)t+=this._buffer(e,t),r+=this._flushBuffer(i,r);return t+=this._buffer(e,t),i},i.prototype.final=function(e){var t,r;return e&&(t=this.update(e)),r="encrypt"===this.type?this._finalEncrypt():this._finalDecrypt(),t?t.concat(r):r},i.prototype._pad=function(e,t){if(0===t)return!1;for(;t<e.length;)e[t++]=0;return!0},i.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var e=new Array(this.blockSize);return this._update(this.buffer,0,e,0),e},i.prototype._unpad=function(e){return e},i.prototype._finalDecrypt=function(){n.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var e=new Array(this.blockSize);return this._flushBuffer(e,0),this._unpad(e)}},73768:(e,t,r)=>{var n=r(7784),i=r(35615),o=r(46769),s=r(9341);function a(){this.tmp=new Array(2),this.keys=null}function c(e){s.call(this,e);var t=new a;this._desState=t,this.deriveKeys(t,e.key)}i(c,s),e.exports=c,c.create=function(e){return new c(e)};var u=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];c.prototype.deriveKeys=function(e,t){e.keys=new Array(32),n.equal(t.length,this.blockSize,"Invalid key length");var r=o.readUInt32BE(t,0),i=o.readUInt32BE(t,4);o.pc1(r,i,e.tmp,0),r=e.tmp[0],i=e.tmp[1];for(var s=0;s<e.keys.length;s+=2){var a=u[s>>>1];r=o.r28shl(r,a),i=o.r28shl(i,a),o.pc2(r,i,e.keys,s)}},c.prototype._update=function(e,t,r,n){var i=this._desState,s=o.readUInt32BE(e,t),a=o.readUInt32BE(e,t+4);o.ip(s,a,i.tmp,0),s=i.tmp[0],a=i.tmp[1],"encrypt"===this.type?this._encrypt(i,s,a,i.tmp,0):this._decrypt(i,s,a,i.tmp,0),s=i.tmp[0],a=i.tmp[1],o.writeUInt32BE(r,s,n),o.writeUInt32BE(r,a,n+4)},c.prototype._pad=function(e,t){if(!1===this.padding)return!1;for(var r=e.length-t,n=t;n<e.length;n++)e[n]=r;return!0},c.prototype._unpad=function(e){if(!1===this.padding)return e;for(var t=e[e.length-1],r=e.length-t;r<e.length;r++)n.equal(e[r],t);return e.slice(0,e.length-t)},c.prototype._encrypt=function(e,t,r,n,i){for(var s=t,a=r,c=0;c<e.keys.length;c+=2){var u=e.keys[c],l=e.keys[c+1];o.expand(a,e.tmp,0),u^=e.tmp[0],l^=e.tmp[1];var f=o.substitute(u,l),h=a;a=(s^o.permute(f))>>>0,s=h}o.rip(a,s,n,i)},c.prototype._decrypt=function(e,t,r,n,i){for(var s=r,a=t,c=e.keys.length-2;c>=0;c-=2){var u=e.keys[c],l=e.keys[c+1];o.expand(s,e.tmp,0),u^=e.tmp[0],l^=e.tmp[1];var f=o.substitute(u,l),h=s;s=(a^o.permute(f))>>>0,a=h}o.rip(s,a,n,i)}},33352:(e,t,r)=>{var n=r(7784),i=r(35615),o=r(9341),s=r(73768);function a(e,t){n.equal(t.length,24,"Invalid key length");var r=t.slice(0,8),i=t.slice(8,16),o=t.slice(16,24);this.ciphers="encrypt"===e?[s.create({type:"encrypt",key:r}),s.create({type:"decrypt",key:i}),s.create({type:"encrypt",key:o})]:[s.create({type:"decrypt",key:o}),s.create({type:"encrypt",key:i}),s.create({type:"decrypt",key:r})]}function c(e){o.call(this,e);var t=new a(this.type,this.options.key);this._edeState=t}i(c,o),e.exports=c,c.create=function(e){return new c(e)},c.prototype._update=function(e,t,r,n){var i=this._edeState;i.ciphers[0]._update(e,t,r,n),i.ciphers[1]._update(r,n,r,n),i.ciphers[2]._update(r,n,r,n)},c.prototype._pad=s.prototype._pad,c.prototype._unpad=s.prototype._unpad},46769:(e,t)=>{t.readUInt32BE=function(e,t){return(e[0+t]<<24|e[1+t]<<16|e[2+t]<<8|e[3+t])>>>0},t.writeUInt32BE=function(e,t,r){e[0+r]=t>>>24,e[1+r]=t>>>16&255,e[2+r]=t>>>8&255,e[3+r]=255&t},t.ip=function(e,t,r,n){for(var i=0,o=0,s=6;s>=0;s-=2){for(var a=0;a<=24;a+=8)i<<=1,i|=t>>>a+s&1;for(a=0;a<=24;a+=8)i<<=1,i|=e>>>a+s&1}for(s=6;s>=0;s-=2){for(a=1;a<=25;a+=8)o<<=1,o|=t>>>a+s&1;for(a=1;a<=25;a+=8)o<<=1,o|=e>>>a+s&1}r[n+0]=i>>>0,r[n+1]=o>>>0},t.rip=function(e,t,r,n){for(var i=0,o=0,s=0;s<4;s++)for(var a=24;a>=0;a-=8)i<<=1,i|=t>>>a+s&1,i<<=1,i|=e>>>a+s&1;for(s=4;s<8;s++)for(a=24;a>=0;a-=8)o<<=1,o|=t>>>a+s&1,o<<=1,o|=e>>>a+s&1;r[n+0]=i>>>0,r[n+1]=o>>>0},t.pc1=function(e,t,r,n){for(var i=0,o=0,s=7;s>=5;s--){for(var a=0;a<=24;a+=8)i<<=1,i|=t>>a+s&1;for(a=0;a<=24;a+=8)i<<=1,i|=e>>a+s&1}for(a=0;a<=24;a+=8)i<<=1,i|=t>>a+s&1;for(s=1;s<=3;s++){for(a=0;a<=24;a+=8)o<<=1,o|=t>>a+s&1;for(a=0;a<=24;a+=8)o<<=1,o|=e>>a+s&1}for(a=0;a<=24;a+=8)o<<=1,o|=e>>a+s&1;r[n+0]=i>>>0,r[n+1]=o>>>0},t.r28shl=function(e,t){return e<<t&268435455|e>>>28-t};var r=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];t.pc2=function(e,t,n,i){for(var o=0,s=0,a=r.length>>>1,c=0;c<a;c++)o<<=1,o|=e>>>r[c]&1;for(c=a;c<r.length;c++)s<<=1,s|=t>>>r[c]&1;n[i+0]=o>>>0,n[i+1]=s>>>0},t.expand=function(e,t,r){var n=0,i=0;n=(1&e)<<5|e>>>27;for(var o=23;o>=15;o-=4)n<<=6,n|=e>>>o&63;for(o=11;o>=3;o-=4)i|=e>>>o&63,i<<=6;i|=(31&e)<<1|e>>>31,t[r+0]=n>>>0,t[r+1]=i>>>0};var n=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];t.substitute=function(e,t){for(var r=0,i=0;i<4;i++)r<<=4,r|=n[64*i+(e>>>18-6*i&63)];for(i=0;i<4;i++)r<<=4,r|=n[256+64*i+(t>>>18-6*i&63)];return r>>>0};var i=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];t.permute=function(e){for(var t=0,r=0;r<i.length;r++)t<<=1,t|=e>>>i[r]&1;return t>>>0},t.padSplit=function(e,t,r){for(var n=e.toString(2);n.length<t;)n="0"+n;for(var i=[],o=0;o<t;o+=r)i.push(n.slice(o,o+r));return i.join(" ")}},27019:(e,t,r)=>{var n=r(1048).Buffer,i=r(18521),o=r(18632),s=r(36551),a={binary:!0,hex:!0,base64:!0};t.DiffieHellmanGroup=t.createDiffieHellmanGroup=t.getDiffieHellman=function(e){var t=new n(o[e].prime,"hex"),r=new n(o[e].gen,"hex");return new s(t,r)},t.createDiffieHellman=t.DiffieHellman=function e(t,r,o,c){return n.isBuffer(r)||void 0===a[r]?e(t,"binary",r,o):(r=r||"binary",c=c||"binary",o=o||new n([2]),n.isBuffer(o)||(o=new n(o,c)),"number"==typeof t?new s(i(t,o),o,!0):(n.isBuffer(t)||(t=new n(t,r)),new s(t,o,!0)))}},36551:(e,t,r)=>{var n=r(1048).Buffer,i=r(82823),o=new(r(21929)),s=new i(24),a=new i(11),c=new i(10),u=new i(3),l=new i(7),f=r(18521),h=r(22644);function d(e,t){return t=t||"utf8",n.isBuffer(e)||(e=new n(e,t)),this._pub=new i(e),this}function p(e,t){return t=t||"utf8",n.isBuffer(e)||(e=new n(e,t)),this._priv=new i(e),this}e.exports=b;var y={};function b(e,t,r){this.setGenerator(t),this.__prime=new i(e),this._prime=i.mont(this.__prime),this._primeLen=e.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,r?(this.setPublicKey=d,this.setPrivateKey=p):this._primeCode=8}function m(e,t){var r=new n(e.toArray());return t?r.toString(t):r}Object.defineProperty(b.prototype,"verifyError",{enumerable:!0,get:function(){return"number"!=typeof this._primeCode&&(this._primeCode=function(e,t){var r=t.toString("hex"),n=[r,e.toString(16)].join("_");if(n in y)return y[n];var i,h=0;if(e.isEven()||!f.simpleSieve||!f.fermatTest(e)||!o.test(e))return h+=1,h+="02"===r||"05"===r?8:4,y[n]=h,h;switch(o.test(e.shrn(1))||(h+=2),r){case"02":e.mod(s).cmp(a)&&(h+=8);break;case"05":(i=e.mod(c)).cmp(u)&&i.cmp(l)&&(h+=8);break;default:h+=4}return y[n]=h,h}(this.__prime,this.__gen)),this._primeCode}}),b.prototype.generateKeys=function(){return this._priv||(this._priv=new i(h(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},b.prototype.computeSecret=function(e){var t=(e=(e=new i(e)).toRed(this._prime)).redPow(this._priv).fromRed(),r=new n(t.toArray()),o=this.getPrime();if(r.length<o.length){var s=new n(o.length-r.length);s.fill(0),r=n.concat([s,r])}return r},b.prototype.getPublicKey=function(e){return m(this._pub,e)},b.prototype.getPrivateKey=function(e){return m(this._priv,e)},b.prototype.getPrime=function(e){return m(this.__prime,e)},b.prototype.getGenerator=function(e){return m(this._gen,e)},b.prototype.setGenerator=function(e,t){return t=t||"utf8",n.isBuffer(e)||(e=new n(e,t)),this.__gen=e,this._gen=new i(e),this}},18521:(e,t,r)=>{var n=r(22644);e.exports=v,v.simpleSieve=b,v.fermatTest=m;var i=r(82823),o=new i(24),s=new(r(21929)),a=new i(1),c=new i(2),u=new i(5),l=(new i(16),new i(8),new i(10)),f=new i(3),h=(new i(7),new i(11)),d=new i(4),p=(new i(12),null);function y(){if(null!==p)return p;var e=[];e[0]=2;for(var t=1,r=3;r<1048576;r+=2){for(var n=Math.ceil(Math.sqrt(r)),i=0;i<t&&e[i]<=n&&r%e[i]!=0;i++);t!==i&&e[i]<=n||(e[t++]=r)}return p=e,e}function b(e){for(var t=y(),r=0;r<t.length;r++)if(0===e.modn(t[r]))return 0===e.cmpn(t[r]);return!0}function m(e){var t=i.mont(e);return 0===c.toRed(t).redPow(e.subn(1)).fromRed().cmpn(1)}function v(e,t){if(e<16)return new i(2===t||5===t?[140,123]:[140,39]);var r,p;for(t=new i(t);;){for(r=new i(n(Math.ceil(e/8)));r.bitLength()>e;)r.ishrn(1);if(r.isEven()&&r.iadd(a),r.testn(1)||r.iadd(c),t.cmp(c)){if(!t.cmp(u))for(;r.mod(l).cmp(f);)r.iadd(d)}else for(;r.mod(o).cmp(h);)r.iadd(d);if(b(p=r.shrn(1))&&b(r)&&m(p)&&m(r)&&s.test(p)&&s.test(r))return r}}},13360:(e,t,r)=>{var n=t;n.version=r(30183).rE,n.utils=r(41874),n.rand=r(47048),n.curve=r(7131),n.curves=r(86443),n.ec=r(15064),n.eddsa=r(84807)},85174:(e,t,r)=>{var n=r(82823),i=r(41874),o=i.getNAF,s=i.getJSF,a=i.assert;function c(e,t){this.type=e,this.p=new n(t.p,16),this.red=t.prime?n.red(t.prime):n.mont(this.p),this.zero=new n(0).toRed(this.red),this.one=new n(1).toRed(this.red),this.two=new n(2).toRed(this.red),this.n=t.n&&new n(t.n,16),this.g=t.g&&this.pointFromJSON(t.g,t.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function u(e,t){this.curve=e,this.type=t,this.precomputed=null}e.exports=c,c.prototype.point=function(){throw new Error("Not implemented")},c.prototype.validate=function(){throw new Error("Not implemented")},c.prototype._fixedNafMul=function(e,t){a(e.precomputed);var r=e._getDoubles(),n=o(t,1,this._bitLength),i=(1<<r.step+1)-(r.step%2==0?2:1);i/=3;var s,c,u=[];for(s=0;s<n.length;s+=r.step){c=0;for(var l=s+r.step-1;l>=s;l--)c=(c<<1)+n[l];u.push(c)}for(var f=this.jpoint(null,null,null),h=this.jpoint(null,null,null),d=i;d>0;d--){for(s=0;s<u.length;s++)(c=u[s])===d?h=h.mixedAdd(r.points[s]):c===-d&&(h=h.mixedAdd(r.points[s].neg()));f=f.add(h)}return f.toP()},c.prototype._wnafMul=function(e,t){var r=4,n=e._getNAFPoints(r);r=n.wnd;for(var i=n.points,s=o(t,r,this._bitLength),c=this.jpoint(null,null,null),u=s.length-1;u>=0;u--){for(var l=0;u>=0&&0===s[u];u--)l++;if(u>=0&&l++,c=c.dblp(l),u<0)break;var f=s[u];a(0!==f),c="affine"===e.type?f>0?c.mixedAdd(i[f-1>>1]):c.mixedAdd(i[-f-1>>1].neg()):f>0?c.add(i[f-1>>1]):c.add(i[-f-1>>1].neg())}return"affine"===e.type?c.toP():c},c.prototype._wnafMulAdd=function(e,t,r,n,i){var a,c,u,l=this._wnafT1,f=this._wnafT2,h=this._wnafT3,d=0;for(a=0;a<n;a++){var p=(u=t[a])._getNAFPoints(e);l[a]=p.wnd,f[a]=p.points}for(a=n-1;a>=1;a-=2){var y=a-1,b=a;if(1===l[y]&&1===l[b]){var m=[t[y],null,null,t[b]];0===t[y].y.cmp(t[b].y)?(m[1]=t[y].add(t[b]),m[2]=t[y].toJ().mixedAdd(t[b].neg())):0===t[y].y.cmp(t[b].y.redNeg())?(m[1]=t[y].toJ().mixedAdd(t[b]),m[2]=t[y].add(t[b].neg())):(m[1]=t[y].toJ().mixedAdd(t[b]),m[2]=t[y].toJ().mixedAdd(t[b].neg()));var v=[-3,-1,-5,-7,0,7,5,1,3],g=s(r[y],r[b]);for(d=Math.max(g[0].length,d),h[y]=new Array(d),h[b]=new Array(d),c=0;c<d;c++){var w=0|g[0][c],_=0|g[1][c];h[y][c]=v[3*(w+1)+(_+1)],h[b][c]=0,f[y]=m}}else h[y]=o(r[y],l[y],this._bitLength),h[b]=o(r[b],l[b],this._bitLength),d=Math.max(h[y].length,d),d=Math.max(h[b].length,d)}var S=this.jpoint(null,null,null),E=this._wnafT4;for(a=d;a>=0;a--){for(var T=0;a>=0;){var O=!0;for(c=0;c<n;c++)E[c]=0|h[c][a],0!==E[c]&&(O=!1);if(!O)break;T++,a--}if(a>=0&&T++,S=S.dblp(T),a<0)break;for(c=0;c<n;c++){var x=E[c];0!==x&&(x>0?u=f[c][x-1>>1]:x<0&&(u=f[c][-x-1>>1].neg()),S="affine"===u.type?S.mixedAdd(u):S.add(u))}}for(a=0;a<n;a++)f[a]=null;return i?S:S.toP()},c.BasePoint=u,u.prototype.eq=function(){throw new Error("Not implemented")},u.prototype.validate=function(){return this.curve.validate(this)},c.prototype.decodePoint=function(e,t){e=i.toArray(e,t);var r=this.p.byteLength();if((4===e[0]||6===e[0]||7===e[0])&&e.length-1==2*r)return 6===e[0]?a(e[e.length-1]%2==0):7===e[0]&&a(e[e.length-1]%2==1),this.point(e.slice(1,1+r),e.slice(1+r,1+2*r));if((2===e[0]||3===e[0])&&e.length-1===r)return this.pointFromX(e.slice(1,1+r),3===e[0]);throw new Error("Unknown point format")},u.prototype.encodeCompressed=function(e){return this.encode(e,!0)},u.prototype._encode=function(e){var t=this.curve.p.byteLength(),r=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",t))},u.prototype.encode=function(e,t){return i.encode(this._encode(t),e)},u.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this},u.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return!!t&&t.points.length>=Math.ceil((e.bitLength()+1)/t.step)},u.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],n=this,i=0;i<t;i+=e){for(var o=0;o<e;o++)n=n.dbl();r.push(n)}return{step:e,points:r}},u.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],r=(1<<e)-1,n=1===r?null:this.dbl(),i=1;i<r;i++)t[i]=t[i-1].add(n);return{wnd:e,points:t}},u.prototype._getBeta=function(){return null},u.prototype.dblp=function(e){for(var t=this,r=0;r<e;r++)t=t.dbl();return t}},21547:(e,t,r)=>{var n=r(41874),i=r(82823),o=r(35615),s=r(85174),a=n.assert;function c(e){this.twisted=1!=(0|e.a),this.mOneA=this.twisted&&-1==(0|e.a),this.extended=this.mOneA,s.call(this,"edwards",e),this.a=new i(e.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new i(e.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new i(e.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),a(!this.twisted||0===this.c.fromRed().cmpn(1)),this.oneC=1==(0|e.c)}function u(e,t,r,n,o){s.BasePoint.call(this,e,"projective"),null===t&&null===r&&null===n?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new i(t,16),this.y=new i(r,16),this.z=n?new i(n,16):this.curve.one,this.t=o&&new i(o,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}o(c,s),e.exports=c,c.prototype._mulA=function(e){return this.mOneA?e.redNeg():this.a.redMul(e)},c.prototype._mulC=function(e){return this.oneC?e:this.c.redMul(e)},c.prototype.jpoint=function(e,t,r,n){return this.point(e,t,r,n)},c.prototype.pointFromX=function(e,t){(e=new i(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr(),n=this.c2.redSub(this.a.redMul(r)),o=this.one.redSub(this.c2.redMul(this.d).redMul(r)),s=n.redMul(o.redInvm()),a=s.redSqrt();if(0!==a.redSqr().redSub(s).cmp(this.zero))throw new Error("invalid point");var c=a.fromRed().isOdd();return(t&&!c||!t&&c)&&(a=a.redNeg()),this.point(e,a)},c.prototype.pointFromY=function(e,t){(e=new i(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr(),n=r.redSub(this.c2),o=r.redMul(this.d).redMul(this.c2).redSub(this.a),s=n.redMul(o.redInvm());if(0===s.cmp(this.zero)){if(t)throw new Error("invalid point");return this.point(this.zero,e)}var a=s.redSqrt();if(0!==a.redSqr().redSub(s).cmp(this.zero))throw new Error("invalid point");return a.fromRed().isOdd()!==t&&(a=a.redNeg()),this.point(a,e)},c.prototype.validate=function(e){if(e.isInfinity())return!0;e.normalize();var t=e.x.redSqr(),r=e.y.redSqr(),n=t.redMul(this.a).redAdd(r),i=this.c2.redMul(this.one.redAdd(this.d.redMul(t).redMul(r)));return 0===n.cmp(i)},o(u,s.BasePoint),c.prototype.pointFromJSON=function(e){return u.fromJSON(this,e)},c.prototype.point=function(e,t,r,n){return new u(this,e,t,r,n)},u.fromJSON=function(e,t){return new u(e,t[0],t[1],t[2])},u.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},u.prototype.isInfinity=function(){return 0===this.x.cmpn(0)&&(0===this.y.cmp(this.z)||this.zOne&&0===this.y.cmp(this.curve.c))},u.prototype._extDbl=function(){var e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr();r=r.redIAdd(r);var n=this.curve._mulA(e),i=this.x.redAdd(this.y).redSqr().redISub(e).redISub(t),o=n.redAdd(t),s=o.redSub(r),a=n.redSub(t),c=i.redMul(s),u=o.redMul(a),l=i.redMul(a),f=s.redMul(o);return this.curve.point(c,u,f,l)},u.prototype._projDbl=function(){var e,t,r,n,i,o,s=this.x.redAdd(this.y).redSqr(),a=this.x.redSqr(),c=this.y.redSqr();if(this.curve.twisted){var u=(n=this.curve._mulA(a)).redAdd(c);this.zOne?(e=s.redSub(a).redSub(c).redMul(u.redSub(this.curve.two)),t=u.redMul(n.redSub(c)),r=u.redSqr().redSub(u).redSub(u)):(i=this.z.redSqr(),o=u.redSub(i).redISub(i),e=s.redSub(a).redISub(c).redMul(o),t=u.redMul(n.redSub(c)),r=u.redMul(o))}else n=a.redAdd(c),i=this.curve._mulC(this.z).redSqr(),o=n.redSub(i).redSub(i),e=this.curve._mulC(s.redISub(n)).redMul(o),t=this.curve._mulC(n).redMul(a.redISub(c)),r=n.redMul(o);return this.curve.point(e,t,r)},u.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},u.prototype._extAdd=function(e){var t=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),r=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),n=this.t.redMul(this.curve.dd).redMul(e.t),i=this.z.redMul(e.z.redAdd(e.z)),o=r.redSub(t),s=i.redSub(n),a=i.redAdd(n),c=r.redAdd(t),u=o.redMul(s),l=a.redMul(c),f=o.redMul(c),h=s.redMul(a);return this.curve.point(u,l,h,f)},u.prototype._projAdd=function(e){var t,r,n=this.z.redMul(e.z),i=n.redSqr(),o=this.x.redMul(e.x),s=this.y.redMul(e.y),a=this.curve.d.redMul(o).redMul(s),c=i.redSub(a),u=i.redAdd(a),l=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(o).redISub(s),f=n.redMul(c).redMul(l);return this.curve.twisted?(t=n.redMul(u).redMul(s.redSub(this.curve._mulA(o))),r=c.redMul(u)):(t=n.redMul(u).redMul(s.redSub(o)),r=this.curve._mulC(c).redMul(u)),this.curve.point(f,t,r)},u.prototype.add=function(e){return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)},u.prototype.mul=function(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)},u.prototype.mulAdd=function(e,t,r){return this.curve._wnafMulAdd(1,[this,t],[e,r],2,!1)},u.prototype.jmulAdd=function(e,t,r){return this.curve._wnafMulAdd(1,[this,t],[e,r],2,!0)},u.prototype.normalize=function(){if(this.zOne)return this;var e=this.z.redInvm();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this},u.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},u.prototype.getX=function(){return this.normalize(),this.x.fromRed()},u.prototype.getY=function(){return this.normalize(),this.y.fromRed()},u.prototype.eq=function(e){return this===e||0===this.getX().cmp(e.getX())&&0===this.getY().cmp(e.getY())},u.prototype.eqXToP=function(e){var t=e.toRed(this.curve.red).redMul(this.z);if(0===this.x.cmp(t))return!0;for(var r=e.clone(),n=this.curve.redN.redMul(this.z);;){if(r.iadd(this.curve.n),r.cmp(this.curve.p)>=0)return!1;if(t.redIAdd(n),0===this.x.cmp(t))return!0}},u.prototype.toP=u.prototype.normalize,u.prototype.mixedAdd=u.prototype.add},7131:(e,t,r)=>{var n=t;n.base=r(85174),n.short=r(60277),n.mont=r(63245),n.edwards=r(21547)},63245:(e,t,r)=>{var n=r(82823),i=r(35615),o=r(85174),s=r(41874);function a(e){o.call(this,"mont",e),this.a=new n(e.a,16).toRed(this.red),this.b=new n(e.b,16).toRed(this.red),this.i4=new n(4).toRed(this.red).redInvm(),this.two=new n(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function c(e,t,r){o.BasePoint.call(this,e,"projective"),null===t&&null===r?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new n(t,16),this.z=new n(r,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}i(a,o),e.exports=a,a.prototype.validate=function(e){var t=e.normalize().x,r=t.redSqr(),n=r.redMul(t).redAdd(r.redMul(this.a)).redAdd(t);return 0===n.redSqrt().redSqr().cmp(n)},i(c,o.BasePoint),a.prototype.decodePoint=function(e,t){return this.point(s.toArray(e,t),1)},a.prototype.point=function(e,t){return new c(this,e,t)},a.prototype.pointFromJSON=function(e){return c.fromJSON(this,e)},c.prototype.precompute=function(){},c.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},c.fromJSON=function(e,t){return new c(e,t[0],t[1]||e.one)},c.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},c.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},c.prototype.dbl=function(){var e=this.x.redAdd(this.z).redSqr(),t=this.x.redSub(this.z).redSqr(),r=e.redSub(t),n=e.redMul(t),i=r.redMul(t.redAdd(this.curve.a24.redMul(r)));return this.curve.point(n,i)},c.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},c.prototype.diffAdd=function(e,t){var r=this.x.redAdd(this.z),n=this.x.redSub(this.z),i=e.x.redAdd(e.z),o=e.x.redSub(e.z).redMul(r),s=i.redMul(n),a=t.z.redMul(o.redAdd(s).redSqr()),c=t.x.redMul(o.redISub(s).redSqr());return this.curve.point(a,c)},c.prototype.mul=function(e){for(var t=e.clone(),r=this,n=this.curve.point(null,null),i=[];0!==t.cmpn(0);t.iushrn(1))i.push(t.andln(1));for(var o=i.length-1;o>=0;o--)0===i[o]?(r=r.diffAdd(n,this),n=n.dbl()):(n=r.diffAdd(n,this),r=r.dbl());return n},c.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},c.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},c.prototype.eq=function(e){return 0===this.getX().cmp(e.getX())},c.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},c.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},60277:(e,t,r)=>{var n=r(41874),i=r(82823),o=r(35615),s=r(85174),a=n.assert;function c(e){s.call(this,"short",e),this.a=new i(e.a,16).toRed(this.red),this.b=new i(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(e),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function u(e,t,r,n){s.BasePoint.call(this,e,"affine"),null===t&&null===r?(this.x=null,this.y=null,this.inf=!0):(this.x=new i(t,16),this.y=new i(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function l(e,t,r,n){s.BasePoint.call(this,e,"jacobian"),null===t&&null===r&&null===n?(this.x=this.curve.one,this.y=this.curve.one,this.z=new i(0)):(this.x=new i(t,16),this.y=new i(r,16),this.z=new i(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}o(c,s),e.exports=c,c.prototype._getEndomorphism=function(e){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var t,r;if(e.beta)t=new i(e.beta,16).toRed(this.red);else{var n=this._getEndoRoots(this.p);t=(t=n[0].cmp(n[1])<0?n[0]:n[1]).toRed(this.red)}if(e.lambda)r=new i(e.lambda,16);else{var o=this._getEndoRoots(this.n);0===this.g.mul(o[0]).x.cmp(this.g.x.redMul(t))?r=o[0]:(r=o[1],a(0===this.g.mul(r).x.cmp(this.g.x.redMul(t))))}return{beta:t,lambda:r,basis:e.basis?e.basis.map((function(e){return{a:new i(e.a,16),b:new i(e.b,16)}})):this._getEndoBasis(r)}}},c.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:i.mont(e),r=new i(2).toRed(t).redInvm(),n=r.redNeg(),o=new i(3).toRed(t).redNeg().redSqrt().redMul(r);return[n.redAdd(o).fromRed(),n.redSub(o).fromRed()]},c.prototype._getEndoBasis=function(e){for(var t,r,n,o,s,a,c,u,l,f=this.n.ushrn(Math.floor(this.n.bitLength()/2)),h=e,d=this.n.clone(),p=new i(1),y=new i(0),b=new i(0),m=new i(1),v=0;0!==h.cmpn(0);){var g=d.div(h);u=d.sub(g.mul(h)),l=b.sub(g.mul(p));var w=m.sub(g.mul(y));if(!n&&u.cmp(f)<0)t=c.neg(),r=p,n=u.neg(),o=l;else if(n&&2==++v)break;c=u,d=h,h=u,b=p,p=l,m=y,y=w}s=u.neg(),a=l;var _=n.sqr().add(o.sqr());return s.sqr().add(a.sqr()).cmp(_)>=0&&(s=t,a=r),n.negative&&(n=n.neg(),o=o.neg()),s.negative&&(s=s.neg(),a=a.neg()),[{a:n,b:o},{a:s,b:a}]},c.prototype._endoSplit=function(e){var t=this.endo.basis,r=t[0],n=t[1],i=n.b.mul(e).divRound(this.n),o=r.b.neg().mul(e).divRound(this.n),s=i.mul(r.a),a=o.mul(n.a),c=i.mul(r.b),u=o.mul(n.b);return{k1:e.sub(s).sub(a),k2:c.add(u).neg()}},c.prototype.pointFromX=function(e,t){(e=new i(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),n=r.redSqrt();if(0!==n.redSqr().redSub(r).cmp(this.zero))throw new Error("invalid point");var o=n.fromRed().isOdd();return(t&&!o||!t&&o)&&(n=n.redNeg()),this.point(e,n)},c.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,r=e.y,n=this.a.redMul(t),i=t.redSqr().redMul(t).redIAdd(n).redIAdd(this.b);return 0===r.redSqr().redISub(i).cmpn(0)},c.prototype._endoWnafMulAdd=function(e,t,r){for(var n=this._endoWnafT1,i=this._endoWnafT2,o=0;o<e.length;o++){var s=this._endoSplit(t[o]),a=e[o],c=a._getBeta();s.k1.negative&&(s.k1.ineg(),a=a.neg(!0)),s.k2.negative&&(s.k2.ineg(),c=c.neg(!0)),n[2*o]=a,n[2*o+1]=c,i[2*o]=s.k1,i[2*o+1]=s.k2}for(var u=this._wnafMulAdd(1,n,i,2*o,r),l=0;l<2*o;l++)n[l]=null,i[l]=null;return u},o(u,s.BasePoint),c.prototype.point=function(e,t,r){return new u(this,e,t,r)},c.prototype.pointFromJSON=function(e,t){return u.fromJSON(this,e,t)},u.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var r=this.curve,n=function(e){return r.point(e.x.redMul(r.endo.beta),e.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(n)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(n)}}}return t}},u.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},u.fromJSON=function(e,t,r){"string"==typeof t&&(t=JSON.parse(t));var n=e.point(t[0],t[1],r);if(!t[2])return n;function i(t){return e.point(t[0],t[1],r)}var o=t[2];return n.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[n].concat(o.doubles.points.map(i))},naf:o.naf&&{wnd:o.naf.wnd,points:[n].concat(o.naf.points.map(i))}},n},u.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},u.prototype.isInfinity=function(){return this.inf},u.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(0===this.x.cmp(e.x))return this.curve.point(null,null);var t=this.y.redSub(e.y);0!==t.cmpn(0)&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var r=t.redSqr().redISub(this.x).redISub(e.x),n=t.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,n)},u.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(0===e.cmpn(0))return this.curve.point(null,null);var t=this.curve.a,r=this.x.redSqr(),n=e.redInvm(),i=r.redAdd(r).redIAdd(r).redIAdd(t).redMul(n),o=i.redSqr().redISub(this.x.redAdd(this.x)),s=i.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,s)},u.prototype.getX=function(){return this.x.fromRed()},u.prototype.getY=function(){return this.y.fromRed()},u.prototype.mul=function(e){return e=new i(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)},u.prototype.mulAdd=function(e,t,r){var n=[this,t],i=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i):this.curve._wnafMulAdd(1,n,i,2)},u.prototype.jmulAdd=function(e,t,r){var n=[this,t],i=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i,!0):this.curve._wnafMulAdd(1,n,i,2,!0)},u.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||0===this.x.cmp(e.x)&&0===this.y.cmp(e.y))},u.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var r=this.precomputed,n=function(e){return e.neg()};t.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(n)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(n)}}}return t},u.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},o(l,s.BasePoint),c.prototype.jpoint=function(e,t,r){return new l(this,e,t,r)},l.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),r=this.x.redMul(t),n=this.y.redMul(t).redMul(e);return this.curve.point(r,n)},l.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},l.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),r=this.z.redSqr(),n=this.x.redMul(t),i=e.x.redMul(r),o=this.y.redMul(t.redMul(e.z)),s=e.y.redMul(r.redMul(this.z)),a=n.redSub(i),c=o.redSub(s);if(0===a.cmpn(0))return 0!==c.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var u=a.redSqr(),l=u.redMul(a),f=n.redMul(u),h=c.redSqr().redIAdd(l).redISub(f).redISub(f),d=c.redMul(f.redISub(h)).redISub(o.redMul(l)),p=this.z.redMul(e.z).redMul(a);return this.curve.jpoint(h,d,p)},l.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),r=this.x,n=e.x.redMul(t),i=this.y,o=e.y.redMul(t).redMul(this.z),s=r.redSub(n),a=i.redSub(o);if(0===s.cmpn(0))return 0!==a.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var c=s.redSqr(),u=c.redMul(s),l=r.redMul(c),f=a.redSqr().redIAdd(u).redISub(l).redISub(l),h=a.redMul(l.redISub(f)).redISub(i.redMul(u)),d=this.z.redMul(s);return this.curve.jpoint(f,h,d)},l.prototype.dblp=function(e){if(0===e)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var t;if(this.curve.zeroA||this.curve.threeA){var r=this;for(t=0;t<e;t++)r=r.dbl();return r}var n=this.curve.a,i=this.curve.tinv,o=this.x,s=this.y,a=this.z,c=a.redSqr().redSqr(),u=s.redAdd(s);for(t=0;t<e;t++){var l=o.redSqr(),f=u.redSqr(),h=f.redSqr(),d=l.redAdd(l).redIAdd(l).redIAdd(n.redMul(c)),p=o.redMul(f),y=d.redSqr().redISub(p.redAdd(p)),b=p.redISub(y),m=d.redMul(b);m=m.redIAdd(m).redISub(h);var v=u.redMul(a);t+1<e&&(c=c.redMul(h)),o=y,a=v,u=m}return this.curve.jpoint(o,u.redMul(i),a)},l.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},l.prototype._zeroDbl=function(){var e,t,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),s=this.x.redAdd(i).redSqr().redISub(n).redISub(o);s=s.redIAdd(s);var a=n.redAdd(n).redIAdd(n),c=a.redSqr().redISub(s).redISub(s),u=o.redIAdd(o);u=(u=u.redIAdd(u)).redIAdd(u),e=c,t=a.redMul(s.redISub(c)).redISub(u),r=this.y.redAdd(this.y)}else{var l=this.x.redSqr(),f=this.y.redSqr(),h=f.redSqr(),d=this.x.redAdd(f).redSqr().redISub(l).redISub(h);d=d.redIAdd(d);var p=l.redAdd(l).redIAdd(l),y=p.redSqr(),b=h.redIAdd(h);b=(b=b.redIAdd(b)).redIAdd(b),e=y.redISub(d).redISub(d),t=p.redMul(d.redISub(e)).redISub(b),r=(r=this.y.redMul(this.z)).redIAdd(r)}return this.curve.jpoint(e,t,r)},l.prototype._threeDbl=function(){var e,t,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),s=this.x.redAdd(i).redSqr().redISub(n).redISub(o);s=s.redIAdd(s);var a=n.redAdd(n).redIAdd(n).redIAdd(this.curve.a),c=a.redSqr().redISub(s).redISub(s);e=c;var u=o.redIAdd(o);u=(u=u.redIAdd(u)).redIAdd(u),t=a.redMul(s.redISub(c)).redISub(u),r=this.y.redAdd(this.y)}else{var l=this.z.redSqr(),f=this.y.redSqr(),h=this.x.redMul(f),d=this.x.redSub(l).redMul(this.x.redAdd(l));d=d.redAdd(d).redIAdd(d);var p=h.redIAdd(h),y=(p=p.redIAdd(p)).redAdd(p);e=d.redSqr().redISub(y),r=this.y.redAdd(this.z).redSqr().redISub(f).redISub(l);var b=f.redSqr();b=(b=(b=b.redIAdd(b)).redIAdd(b)).redIAdd(b),t=d.redMul(p.redISub(e)).redISub(b)}return this.curve.jpoint(e,t,r)},l.prototype._dbl=function(){var e=this.curve.a,t=this.x,r=this.y,n=this.z,i=n.redSqr().redSqr(),o=t.redSqr(),s=r.redSqr(),a=o.redAdd(o).redIAdd(o).redIAdd(e.redMul(i)),c=t.redAdd(t),u=(c=c.redIAdd(c)).redMul(s),l=a.redSqr().redISub(u.redAdd(u)),f=u.redISub(l),h=s.redSqr();h=(h=(h=h.redIAdd(h)).redIAdd(h)).redIAdd(h);var d=a.redMul(f).redISub(h),p=r.redAdd(r).redMul(n);return this.curve.jpoint(l,d,p)},l.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr(),n=t.redSqr(),i=e.redAdd(e).redIAdd(e),o=i.redSqr(),s=this.x.redAdd(t).redSqr().redISub(e).redISub(n),a=(s=(s=(s=s.redIAdd(s)).redAdd(s).redIAdd(s)).redISub(o)).redSqr(),c=n.redIAdd(n);c=(c=(c=c.redIAdd(c)).redIAdd(c)).redIAdd(c);var u=i.redIAdd(s).redSqr().redISub(o).redISub(a).redISub(c),l=t.redMul(u);l=(l=l.redIAdd(l)).redIAdd(l);var f=this.x.redMul(a).redISub(l);f=(f=f.redIAdd(f)).redIAdd(f);var h=this.y.redMul(u.redMul(c.redISub(u)).redISub(s.redMul(a)));h=(h=(h=h.redIAdd(h)).redIAdd(h)).redIAdd(h);var d=this.z.redAdd(s).redSqr().redISub(r).redISub(a);return this.curve.jpoint(f,h,d)},l.prototype.mul=function(e,t){return e=new i(e,t),this.curve._wnafMul(this,e)},l.prototype.eq=function(e){if("affine"===e.type)return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),r=e.z.redSqr();if(0!==this.x.redMul(r).redISub(e.x.redMul(t)).cmpn(0))return!1;var n=t.redMul(this.z),i=r.redMul(e.z);return 0===this.y.redMul(i).redISub(e.y.redMul(n)).cmpn(0)},l.prototype.eqXToP=function(e){var t=this.z.redSqr(),r=e.toRed(this.curve.red).redMul(t);if(0===this.x.cmp(r))return!0;for(var n=e.clone(),i=this.curve.redN.redMul(t);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(i),0===this.x.cmp(r))return!0}},l.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},l.prototype.isInfinity=function(){return 0===this.z.cmpn(0)}},86443:(e,t,r)=>{var n,i=t,o=r(99499),s=r(7131),a=r(41874).assert;function c(e){"short"===e.type?this.curve=new s.short(e):"edwards"===e.type?this.curve=new s.edwards(e):this.curve=new s.mont(e),this.g=this.curve.g,this.n=this.curve.n,this.hash=e.hash,a(this.g.validate(),"Invalid curve"),a(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function u(e,t){Object.defineProperty(i,e,{configurable:!0,enumerable:!0,get:function(){var r=new c(t);return Object.defineProperty(i,e,{configurable:!0,enumerable:!0,value:r}),r}})}i.PresetCurve=c,u("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:o.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),u("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:o.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),u("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:o.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),u("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:o.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),u("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:o.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),u("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:o.sha256,gRed:!1,g:["9"]}),u("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:o.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{n=r(83986)}catch(e){n=void 0}u("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:o.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",n]})},15064:(e,t,r)=>{var n=r(82823),i=r(84742),o=r(41874),s=r(86443),a=r(47048),c=o.assert,u=r(47531),l=r(57782);function f(e){if(!(this instanceof f))return new f(e);"string"==typeof e&&(c(Object.prototype.hasOwnProperty.call(s,e),"Unknown curve "+e),e=s[e]),e instanceof s.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),this.hash=e.hash||e.curve.hash}e.exports=f,f.prototype.keyPair=function(e){return new u(this,e)},f.prototype.keyFromPrivate=function(e,t){return u.fromPrivate(this,e,t)},f.prototype.keyFromPublic=function(e,t){return u.fromPublic(this,e,t)},f.prototype.genKeyPair=function(e){e||(e={});for(var t=new i({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||a(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),r=this.n.byteLength(),o=this.n.sub(new n(2));;){var s=new n(t.generate(r));if(!(s.cmp(o)>0))return s.iaddn(1),this.keyFromPrivate(s)}},f.prototype._truncateToN=function(e,t){var r=8*e.byteLength()-this.n.bitLength();return r>0&&(e=e.ushrn(r)),!t&&e.cmp(this.n)>=0?e.sub(this.n):e},f.prototype.sign=function(e,t,r,o){"object"==typeof r&&(o=r,r=null),o||(o={}),t=this.keyFromPrivate(t,r),e=this._truncateToN(new n(e,16));for(var s=this.n.byteLength(),a=t.getPrivate().toArray("be",s),c=e.toArray("be",s),u=new i({hash:this.hash,entropy:a,nonce:c,pers:o.pers,persEnc:o.persEnc||"utf8"}),f=this.n.sub(new n(1)),h=0;;h++){var d=o.k?o.k(h):new n(u.generate(this.n.byteLength()));if(!((d=this._truncateToN(d,!0)).cmpn(1)<=0||d.cmp(f)>=0)){var p=this.g.mul(d);if(!p.isInfinity()){var y=p.getX(),b=y.umod(this.n);if(0!==b.cmpn(0)){var m=d.invm(this.n).mul(b.mul(t.getPrivate()).iadd(e));if(0!==(m=m.umod(this.n)).cmpn(0)){var v=(p.getY().isOdd()?1:0)|(0!==y.cmp(b)?2:0);return o.canonical&&m.cmp(this.nh)>0&&(m=this.n.sub(m),v^=1),new l({r:b,s:m,recoveryParam:v})}}}}}},f.prototype.verify=function(e,t,r,i){e=this._truncateToN(new n(e,16)),r=this.keyFromPublic(r,i);var o=(t=new l(t,"hex")).r,s=t.s;if(o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;if(s.cmpn(1)<0||s.cmp(this.n)>=0)return!1;var a,c=s.invm(this.n),u=c.mul(e).umod(this.n),f=c.mul(o).umod(this.n);return this.curve._maxwellTrick?!(a=this.g.jmulAdd(u,r.getPublic(),f)).isInfinity()&&a.eqXToP(o):!(a=this.g.mulAdd(u,r.getPublic(),f)).isInfinity()&&0===a.getX().umod(this.n).cmp(o)},f.prototype.recoverPubKey=function(e,t,r,i){c((3&r)===r,"The recovery param is more than two bits"),t=new l(t,i);var o=this.n,s=new n(e),a=t.r,u=t.s,f=1&r,h=r>>1;if(a.cmp(this.curve.p.umod(this.curve.n))>=0&&h)throw new Error("Unable to find sencond key candinate");a=h?this.curve.pointFromX(a.add(this.curve.n),f):this.curve.pointFromX(a,f);var d=t.r.invm(o),p=o.sub(s).mul(d).umod(o),y=u.mul(d).umod(o);return this.g.mulAdd(p,a,y)},f.prototype.getKeyRecoveryParam=function(e,t,r,n){if(null!==(t=new l(t,n)).recoveryParam)return t.recoveryParam;for(var i=0;i<4;i++){var o;try{o=this.recoverPubKey(e,t,i)}catch(e){continue}if(o.eq(r))return i}throw new Error("Unable to find valid recovery factor")}},47531:(e,t,r)=>{var n=r(82823),i=r(41874).assert;function o(e,t){this.ec=e,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}e.exports=o,o.fromPublic=function(e,t,r){return t instanceof o?t:new o(e,{pub:t,pubEnc:r})},o.fromPrivate=function(e,t,r){return t instanceof o?t:new o(e,{priv:t,privEnc:r})},o.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},o.prototype.getPublic=function(e,t){return"string"==typeof e&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t?this.pub.encode(t,e):this.pub},o.prototype.getPrivate=function(e){return"hex"===e?this.priv.toString(16,2):this.priv},o.prototype._importPrivate=function(e,t){this.priv=new n(e,t||16),this.priv=this.priv.umod(this.ec.curve.n)},o.prototype._importPublic=function(e,t){if(e.x||e.y)return"mont"===this.ec.curve.type?i(e.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||i(e.x&&e.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(e.x,e.y));this.pub=this.ec.curve.decodePoint(e,t)},o.prototype.derive=function(e){return e.validate()||i(e.validate(),"public point not validated"),e.mul(this.priv).getX()},o.prototype.sign=function(e,t,r){return this.ec.sign(e,this,t,r)},o.prototype.verify=function(e,t){return this.ec.verify(e,t,this)},o.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},57782:(e,t,r)=>{var n=r(82823),i=r(41874),o=i.assert;function s(e,t){if(e instanceof s)return e;this._importDER(e,t)||(o(e.r&&e.s,"Signature without r or s"),this.r=new n(e.r,16),this.s=new n(e.s,16),void 0===e.recoveryParam?this.recoveryParam=null:this.recoveryParam=e.recoveryParam)}function a(){this.place=0}function c(e,t){var r=e[t.place++];if(!(128&r))return r;var n=15&r;if(0===n||n>4)return!1;for(var i=0,o=0,s=t.place;o<n;o++,s++)i<<=8,i|=e[s],i>>>=0;return!(i<=127)&&(t.place=s,i)}function u(e){for(var t=0,r=e.length-1;!e[t]&&!(128&e[t+1])&&t<r;)t++;return 0===t?e:e.slice(t)}function l(e,t){if(t<128)e.push(t);else{var r=1+(Math.log(t)/Math.LN2>>>3);for(e.push(128|r);--r;)e.push(t>>>(r<<3)&255);e.push(t)}}e.exports=s,s.prototype._importDER=function(e,t){e=i.toArray(e,t);var r=new a;if(48!==e[r.place++])return!1;var o=c(e,r);if(!1===o)return!1;if(o+r.place!==e.length)return!1;if(2!==e[r.place++])return!1;var s=c(e,r);if(!1===s)return!1;var u=e.slice(r.place,s+r.place);if(r.place+=s,2!==e[r.place++])return!1;var l=c(e,r);if(!1===l)return!1;if(e.length!==l+r.place)return!1;var f=e.slice(r.place,l+r.place);if(0===u[0]){if(!(128&u[1]))return!1;u=u.slice(1)}if(0===f[0]){if(!(128&f[1]))return!1;f=f.slice(1)}return this.r=new n(u),this.s=new n(f),this.recoveryParam=null,!0},s.prototype.toDER=function(e){var t=this.r.toArray(),r=this.s.toArray();for(128&t[0]&&(t=[0].concat(t)),128&r[0]&&(r=[0].concat(r)),t=u(t),r=u(r);!(r[0]||128&r[1]);)r=r.slice(1);var n=[2];l(n,t.length),(n=n.concat(t)).push(2),l(n,r.length);var o=n.concat(r),s=[48];return l(s,o.length),s=s.concat(o),i.encode(s,e)}},84807:(e,t,r)=>{var n=r(99499),i=r(86443),o=r(41874),s=o.assert,a=o.parseBytes,c=r(54672),u=r(18401);function l(e){if(s("ed25519"===e,"only tested with ed25519 so far"),!(this instanceof l))return new l(e);e=i[e].curve,this.curve=e,this.g=e.g,this.g.precompute(e.n.bitLength()+1),this.pointClass=e.point().constructor,this.encodingLength=Math.ceil(e.n.bitLength()/8),this.hash=n.sha512}e.exports=l,l.prototype.sign=function(e,t){e=a(e);var r=this.keyFromSecret(t),n=this.hashInt(r.messagePrefix(),e),i=this.g.mul(n),o=this.encodePoint(i),s=this.hashInt(o,r.pubBytes(),e).mul(r.priv()),c=n.add(s).umod(this.curve.n);return this.makeSignature({R:i,S:c,Rencoded:o})},l.prototype.verify=function(e,t,r){e=a(e),t=this.makeSignature(t);var n=this.keyFromPublic(r),i=this.hashInt(t.Rencoded(),n.pubBytes(),e),o=this.g.mul(t.S());return t.R().add(n.pub().mul(i)).eq(o)},l.prototype.hashInt=function(){for(var e=this.hash(),t=0;t<arguments.length;t++)e.update(arguments[t]);return o.intFromLE(e.digest()).umod(this.curve.n)},l.prototype.keyFromPublic=function(e){return c.fromPublic(this,e)},l.prototype.keyFromSecret=function(e){return c.fromSecret(this,e)},l.prototype.makeSignature=function(e){return e instanceof u?e:new u(this,e)},l.prototype.encodePoint=function(e){var t=e.getY().toArray("le",this.encodingLength);return t[this.encodingLength-1]|=e.getX().isOdd()?128:0,t},l.prototype.decodePoint=function(e){var t=(e=o.parseBytes(e)).length-1,r=e.slice(0,t).concat(-129&e[t]),n=!!(128&e[t]),i=o.intFromLE(r);return this.curve.pointFromY(i,n)},l.prototype.encodeInt=function(e){return e.toArray("le",this.encodingLength)},l.prototype.decodeInt=function(e){return o.intFromLE(e)},l.prototype.isPoint=function(e){return e instanceof this.pointClass}},54672:(e,t,r)=>{var n=r(41874),i=n.assert,o=n.parseBytes,s=n.cachedProperty;function a(e,t){this.eddsa=e,this._secret=o(t.secret),e.isPoint(t.pub)?this._pub=t.pub:this._pubBytes=o(t.pub)}a.fromPublic=function(e,t){return t instanceof a?t:new a(e,{pub:t})},a.fromSecret=function(e,t){return t instanceof a?t:new a(e,{secret:t})},a.prototype.secret=function(){return this._secret},s(a,"pubBytes",(function(){return this.eddsa.encodePoint(this.pub())})),s(a,"pub",(function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())})),s(a,"privBytes",(function(){var e=this.eddsa,t=this.hash(),r=e.encodingLength-1,n=t.slice(0,e.encodingLength);return n[0]&=248,n[r]&=127,n[r]|=64,n})),s(a,"priv",(function(){return this.eddsa.decodeInt(this.privBytes())})),s(a,"hash",(function(){return this.eddsa.hash().update(this.secret()).digest()})),s(a,"messagePrefix",(function(){return this.hash().slice(this.eddsa.encodingLength)})),a.prototype.sign=function(e){return i(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)},a.prototype.verify=function(e,t){return this.eddsa.verify(e,t,this)},a.prototype.getSecret=function(e){return i(this._secret,"KeyPair is public only"),n.encode(this.secret(),e)},a.prototype.getPublic=function(e){return n.encode(this.pubBytes(),e)},e.exports=a},18401:(e,t,r)=>{var n=r(82823),i=r(41874),o=i.assert,s=i.cachedProperty,a=i.parseBytes;function c(e,t){this.eddsa=e,"object"!=typeof t&&(t=a(t)),Array.isArray(t)&&(t={R:t.slice(0,e.encodingLength),S:t.slice(e.encodingLength)}),o(t.R&&t.S,"Signature without R or S"),e.isPoint(t.R)&&(this._R=t.R),t.S instanceof n&&(this._S=t.S),this._Rencoded=Array.isArray(t.R)?t.R:t.Rencoded,this._Sencoded=Array.isArray(t.S)?t.S:t.Sencoded}s(c,"S",(function(){return this.eddsa.decodeInt(this.Sencoded())})),s(c,"R",(function(){return this.eddsa.decodePoint(this.Rencoded())})),s(c,"Rencoded",(function(){return this.eddsa.encodePoint(this.R())})),s(c,"Sencoded",(function(){return this.eddsa.encodeInt(this.S())})),c.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},c.prototype.toHex=function(){return i.encode(this.toBytes(),"hex").toUpperCase()},e.exports=c},83986:e=>{e.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},41874:(e,t,r)=>{var n=t,i=r(82823),o=r(7784),s=r(89042);n.assert=o,n.toArray=s.toArray,n.zero2=s.zero2,n.toHex=s.toHex,n.encode=s.encode,n.getNAF=function(e,t,r){var n,i=new Array(Math.max(e.bitLength(),r)+1);for(n=0;n<i.length;n+=1)i[n]=0;var o=1<<t+1,s=e.clone();for(n=0;n<i.length;n++){var a,c=s.andln(o-1);s.isOdd()?(a=c>(o>>1)-1?(o>>1)-c:c,s.isubn(a)):a=0,i[n]=a,s.iushrn(1)}return i},n.getJSF=function(e,t){var r=[[],[]];e=e.clone(),t=t.clone();for(var n,i=0,o=0;e.cmpn(-i)>0||t.cmpn(-o)>0;){var s,a,c=e.andln(3)+i&3,u=t.andln(3)+o&3;3===c&&(c=-1),3===u&&(u=-1),s=1&c?3!=(n=e.andln(7)+i&7)&&5!==n||2!==u?c:-c:0,r[0].push(s),a=1&u?3!=(n=t.andln(7)+o&7)&&5!==n||2!==c?u:-u:0,r[1].push(a),2*i===s+1&&(i=1-i),2*o===a+1&&(o=1-o),e.iushrn(1),t.iushrn(1)}return r},n.cachedProperty=function(e,t,r){var n="_"+t;e.prototype[t]=function(){return void 0!==this[n]?this[n]:this[n]=r.call(this)}},n.parseBytes=function(e){return"string"==typeof e?n.toArray(e,"hex"):e},n.intFromLE=function(e){return new i(e,"hex","le")}},64940:(e,t,r)=>{var n=r(528)("%Object.defineProperty%",!0)||!1;if(n)try{n({},"a",{value:1})}catch(e){n=!1}e.exports=n},29110:e=>{e.exports=EvalError},29838:e=>{e.exports=Error},61155:e=>{e.exports=RangeError},94943:e=>{e.exports=ReferenceError},5731:e=>{e.exports=SyntaxError},3468:e=>{e.exports=TypeError},32140:e=>{e.exports=URIError},50046:(e,t,r)=>{var n,i=r(4364),o="object"==typeof Reflect?Reflect:null,s=o&&"function"==typeof o.apply?o.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)};n=o&&"function"==typeof o.ownKeys?o.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var a=Number.isNaN||function(e){return e!=e};function c(){c.init.call(this)}e.exports=c,e.exports.once=function(e,t){return new Promise((function(r,n){function i(r){e.removeListener(t,o),n(r)}function o(){"function"==typeof e.removeListener&&e.removeListener("error",i),r([].slice.call(arguments))}v(e,t,o,{once:!0}),"error"!==t&&function(e,t,r){"function"==typeof e.on&&v(e,"error",t,{once:!0})}(e,i)}))},c.EventEmitter=c,c.prototype._events=void 0,c.prototype._eventsCount=0,c.prototype._maxListeners=void 0;var u=10;function l(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function f(e){return void 0===e._maxListeners?c.defaultMaxListeners:e._maxListeners}function h(e,t,r,n){var o,s,a,c;if(l(r),void 0===(s=e._events)?(s=e._events=Object.create(null),e._eventsCount=0):(void 0!==s.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),s=e._events),a=s[t]),void 0===a)a=s[t]=r,++e._eventsCount;else if("function"==typeof a?a=s[t]=n?[r,a]:[a,r]:n?a.unshift(r):a.push(r),(o=f(e))>0&&a.length>o&&!a.warned){a.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=e,u.type=t,u.count=a.length,c=u,i&&i.warn&&i.warn(c)}return e}function d(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function p(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},i=d.bind(n);return i.listener=r,n.wrapFn=i,i}function y(e,t,r){var n=e._events;if(void 0===n)return[];var i=n[t];return void 0===i?[]:"function"==typeof i?r?[i.listener||i]:[i]:r?function(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}(i):m(i,i.length)}function b(e){var t=this._events;if(void 0!==t){var r=t[e];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function m(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}function v(e,t,r,n){if("function"==typeof e.on)n.once?e.once(t,r):e.on(t,r);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function i(o){n.once&&e.removeEventListener(t,i),r(o)}))}}Object.defineProperty(c,"defaultMaxListeners",{enumerable:!0,get:function(){return u},set:function(e){if("number"!=typeof e||e<0||a(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");u=e}}),c.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},c.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||a(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},c.prototype.getMaxListeners=function(){return f(this)},c.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var n="error"===e,i=this._events;if(void 0!==i)n=n&&void 0===i.error;else if(!n)return!1;if(n){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var a=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var c=i[e];if(void 0===c)return!1;if("function"==typeof c)s(c,this,t);else{var u=c.length,l=m(c,u);for(r=0;r<u;++r)s(l[r],this,t)}return!0},c.prototype.addListener=function(e,t){return h(this,e,t,!1)},c.prototype.on=c.prototype.addListener,c.prototype.prependListener=function(e,t){return h(this,e,t,!0)},c.prototype.once=function(e,t){return l(t),this.on(e,p(this,e,t)),this},c.prototype.prependOnceListener=function(e,t){return l(t),this.prependListener(e,p(this,e,t)),this},c.prototype.removeListener=function(e,t){var r,n,i,o,s;if(l(t),void 0===(n=this._events))return this;if(void 0===(r=n[e]))return this;if(r===t||r.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!=typeof r){for(i=-1,o=r.length-1;o>=0;o--)if(r[o]===t||r[o].listener===t){s=r[o].listener,i=o;break}if(i<0)return this;0===i?r.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(r,i),1===r.length&&(n[e]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",e,s||t)}return this},c.prototype.off=c.prototype.removeListener,c.prototype.removeAllListeners=function(e){var t,r,n;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[e]),this;if(0===arguments.length){var i,o=Object.keys(r);for(n=0;n<o.length;++n)"removeListener"!==(i=o[n])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=r[e]))this.removeListener(e,t);else if(void 0!==t)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this},c.prototype.listeners=function(e){return y(this,e,!0)},c.prototype.rawListeners=function(e){return y(this,e,!1)},c.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):b.call(e,t)},c.prototype.listenerCount=b,c.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]}},95534:(e,t,r)=>{var n=r(39907),i=r(1048).Buffer,o=r(75442).parse,s=r(50046),a=r(27500),c=r(4865),u=r(49208),l=["pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","secureProtocol","servername","checkServerIdentity"],f=[239,187,191],h=262144,d=/^(cookie|authorization)$/i;function p(e,t){var r=p.CONNECTING,s=t&&t.headers,u=!1;Object.defineProperty(this,"readyState",{get:function(){return r}}),Object.defineProperty(this,"url",{get:function(){return e}});var m,v=this;function g(t){r!==p.CLOSED&&(r=p.CONNECTING,x("error",new y("error",{message:t})),T&&(e=T,T=null,u=!1),setTimeout((function(){r!==p.CONNECTING||v.connectionInProgress||(v.connectionInProgress=!0,O())}),v.reconnectInterval))}v.reconnectInterval=1e3,v.connectionInProgress=!1;var w="";s&&s["Last-Event-ID"]&&(w=s["Last-Event-ID"],delete s["Last-Event-ID"]);var _=!1,S="",E="",T=null;function O(){var b=o(e),S="https:"===b.protocol;if(b.headers={"Cache-Control":"no-cache",Accept:"text/event-stream"},w&&(b.headers["Last-Event-ID"]=w),s){var E=u?function(e){var t={};for(var r in e)d.test(r)||(t[r]=e[r]);return t}(s):s;for(var M in E){var P=E[M];P&&(b.headers[M]=P)}}if(b.rejectUnauthorized=!(t&&!t.rejectUnauthorized),t&&void 0!==t.createConnection&&(b.createConnection=t.createConnection),t&&t.proxy){var I=o(t.proxy);S="https:"===I.protocol,b.protocol=S?"https:":"http:",b.path=e,b.headers.Host=b.host,b.hostname=I.hostname,b.host=I.host,b.port=I.port}if(t&&t.https)for(var j in t.https)if(-1!==l.indexOf(j)){var R=t.https[j];void 0!==R&&(b[j]=R)}t&&void 0!==t.withCredentials&&(b.withCredentials=t.withCredentials),m=(S?a:c).request(b,(function(t){if(v.connectionInProgress=!1,500===t.statusCode||502===t.statusCode||503===t.statusCode||504===t.statusCode)return x("error",new y("error",{status:t.statusCode,message:t.statusMessage})),void g();if(301===t.statusCode||302===t.statusCode||307===t.statusCode){var o=t.headers.location;if(!o)return void x("error",new y("error",{status:t.statusCode,message:t.statusMessage}));var s=new URL(e).origin,a=new URL(o).origin;return u=s!==a,307===t.statusCode&&(T=e),e=o,void n.nextTick(O)}if(200!==t.statusCode)return x("error",new y("error",{status:t.statusCode,message:t.statusMessage})),v.close();var c,l;r=p.OPEN,t.on("close",(function(){t.removeAllListeners("close"),t.removeAllListeners("end"),g()})),t.on("end",(function(){t.removeAllListeners("close"),t.removeAllListeners("end"),g()})),x("open",new y("open"));var d=0,b=-1,m=0,w=0;t.on("data",(function(e){c?(e.length>c.length-w&&((m=2*c.length+e.length)>h&&(m=c.length+e.length+h),l=i.alloc(m),c.copy(l,0,0,w),c=l),e.copy(c,w),w+=e.length):(function(e){return f.every((function(t,r){return e[r]===t}))}(c=e)&&(c=c.slice(f.length)),w=c.length);for(var t=0,r=w;t<r;){_&&(10===c[t]&&++t,_=!1);for(var n,o=-1,s=b,a=d;o<0&&a<r;++a)58===(n=c[a])?s<0&&(s=a-t):13===n?(_=!0,o=a-t):10===n&&(o=a-t);if(o<0){d=r-t,b=s;break}d=0,b=-1,A(c,t,s,o),t+=o+1}t===r?(c=void 0,w=0):t>0&&(c=c.slice(t,w),w=c.length)}))})),m.on("error",(function(e){v.connectionInProgress=!1,g(e.message)})),m.setNoDelay&&m.setNoDelay(!0),m.end()}function x(){v.listeners(arguments[0]).length>0&&v.emit.apply(v,arguments)}function A(t,r,n,i){if(0===i){if(S.length>0){var o=E||"message";x(o,new b(o,{data:S.slice(0,-1),lastEventId:w,origin:new URL(e).origin})),S=""}E=void 0}else if(n>0){var s,a=n<0,c=t.slice(r,r+(a?i:n)).toString();r+=s=a?i:32!==t[r+n+1]?n+1:n+2;var u=i-s,l=t.slice(r,r+u).toString();if("data"===c)S+=l+"\n";else if("event"===c)E=l;else if("id"===c)w=l;else if("retry"===c){var f=parseInt(l,10);Number.isNaN(f)||(v.reconnectInterval=f)}}}O(),this._close=function(){r!==p.CLOSED&&(r=p.CLOSED,m.abort&&m.abort(),m.xhr&&m.xhr.abort&&m.xhr.abort())}}function y(e,t){if(Object.defineProperty(this,"type",{writable:!1,value:e,enumerable:!0}),t)for(var r in t)t.hasOwnProperty(r)&&Object.defineProperty(this,r,{writable:!1,value:t[r],enumerable:!0})}function b(e,t){for(var r in Object.defineProperty(this,"type",{writable:!1,value:e,enumerable:!0}),t)t.hasOwnProperty(r)&&Object.defineProperty(this,r,{writable:!1,value:t[r],enumerable:!0})}e.exports=p,u.inherits(p,s.EventEmitter),p.prototype.constructor=p,["open","error","message"].forEach((function(e){Object.defineProperty(p.prototype,"on"+e,{get:function(){var t=this.listeners(e)[0];return t?t._listener?t._listener:t:void 0},set:function(t){this.removeAllListeners(e),this.addEventListener(e,t)}})})),Object.defineProperty(p,"CONNECTING",{enumerable:!0,value:0}),Object.defineProperty(p,"OPEN",{enumerable:!0,value:1}),Object.defineProperty(p,"CLOSED",{enumerable:!0,value:2}),p.prototype.CONNECTING=0,p.prototype.OPEN=1,p.prototype.CLOSED=2,p.prototype.close=function(){this._close()},p.prototype.addEventListener=function(e,t){"function"==typeof t&&(t._listener=t,this.on(e,t))},p.prototype.dispatchEvent=function(e){if(!e.type)throw new Error("UNSPECIFIED_EVENT_TYPE_ERR");this.emit(e.type,e.detail)},p.prototype.removeEventListener=function(e,t){"function"==typeof t&&(t._listener=void 0,this.removeListener(e,t))}},28981:(e,t,r)=>{var n=r(25636).Buffer,i=r(63275);e.exports=function(e,t,r,o){if(n.isBuffer(e)||(e=n.from(e,"binary")),t&&(n.isBuffer(t)||(t=n.from(t,"binary")),8!==t.length))throw new RangeError("salt should be Buffer with 8 byte length");for(var s=r/8,a=n.alloc(s),c=n.alloc(o||0),u=n.alloc(0);s>0||o>0;){var l=new i;l.update(u),l.update(e),t&&l.update(t),u=l.digest();var f=0;if(s>0){var h=a.length-s;f=Math.min(s,u.length),u.copy(a,h,0,f),s-=f}if(f<u.length&&o>0){var d=c.length-o,p=Math.min(o,u.length-f);u.copy(c,d,f,f+p),o-=p}}return u.fill(0),{key:a,iv:c}}},38792:e=>{e.exports=function e(t,r){if(t===r)return!0;if(t&&r&&"object"==typeof t&&"object"==typeof r){if(t.constructor!==r.constructor)return!1;var n,i,o;if(Array.isArray(t)){if((n=t.length)!=r.length)return!1;for(i=n;0!=i--;)if(!e(t[i],r[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if((n=(o=Object.keys(t)).length)!==Object.keys(r).length)return!1;for(i=n;0!=i--;)if(!Object.prototype.hasOwnProperty.call(r,o[i]))return!1;for(i=n;0!=i--;){var s=o[i];if(!e(t[s],r[s]))return!1}return!0}return t!=t&&r!=r}},80705:(e,t,r)=>{var n=r(89617),i=Object.prototype.toString,o=Object.prototype.hasOwnProperty;e.exports=function(e,t,r){if(!n(t))throw new TypeError("iterator must be a function");var s;arguments.length>=3&&(s=r),"[object Array]"===i.call(e)?function(e,t,r){for(var n=0,i=e.length;n<i;n++)o.call(e,n)&&(null==r?t(e[n],n,e):t.call(r,e[n],n,e))}(e,t,s):"string"==typeof e?function(e,t,r){for(var n=0,i=e.length;n<i;n++)null==r?t(e.charAt(n),n,e):t.call(r,e.charAt(n),n,e)}(e,t,s):function(e,t,r){for(var n in e)o.call(e,n)&&(null==r?t(e[n],n,e):t.call(r,e[n],n,e))}(e,t,s)}},28794:e=>{var t=Object.prototype.toString,r=Math.max,n=function(e,t){for(var r=[],n=0;n<e.length;n+=1)r[n]=e[n];for(var i=0;i<t.length;i+=1)r[i+e.length]=t[i];return r};e.exports=function(e){var i=this;if("function"!=typeof i||"[object Function]"!==t.apply(i))throw new TypeError("Function.prototype.bind called on incompatible "+i);for(var o,s=function(e,t){for(var r=[],n=1,i=0;n<e.length;n+=1,i+=1)r[i]=e[n];return r}(arguments),a=r(0,i.length-s.length),c=[],u=0;u<a;u++)c[u]="$"+u;if(o=Function("binder","return function ("+function(e,t){for(var r="",n=0;n<e.length;n+=1)r+=e[n],n+1<e.length&&(r+=",");return r}(c)+"){ return binder.apply(this,arguments); }")((function(){if(this instanceof o){var t=i.apply(this,n(s,arguments));return Object(t)===t?t:this}return i.apply(e,n(s,arguments))})),i.prototype){var l=function(){};l.prototype=i.prototype,o.prototype=new l,l.prototype=null}return o}},79138:(e,t,r)=>{var n=r(28794);e.exports=Function.prototype.bind||n},528:(e,t,r)=>{var n,i=r(29838),o=r(29110),s=r(61155),a=r(94943),c=r(5731),u=r(3468),l=r(32140),f=Function,h=function(e){try{return f('"use strict"; return ('+e+").constructor;")()}catch(e){}},d=Object.getOwnPropertyDescriptor;if(d)try{d({},"")}catch(e){d=null}var p=function(){throw new u},y=d?function(){try{return p}catch(e){try{return d(arguments,"callee").get}catch(e){return p}}}():p,b=r(53558)(),m=r(66869)(),v=Object.getPrototypeOf||(m?function(e){return e.__proto__}:null),g={},w="undefined"!=typeof Uint8Array&&v?v(Uint8Array):n,_={__proto__:null,"%AggregateError%":"undefined"==typeof AggregateError?n:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?n:ArrayBuffer,"%ArrayIteratorPrototype%":b&&v?v([][Symbol.iterator]()):n,"%AsyncFromSyncIteratorPrototype%":n,"%AsyncFunction%":g,"%AsyncGenerator%":g,"%AsyncGeneratorFunction%":g,"%AsyncIteratorPrototype%":g,"%Atomics%":"undefined"==typeof Atomics?n:Atomics,"%BigInt%":"undefined"==typeof BigInt?n:BigInt,"%BigInt64Array%":"undefined"==typeof BigInt64Array?n:BigInt64Array,"%BigUint64Array%":"undefined"==typeof BigUint64Array?n:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?n:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":i,"%eval%":eval,"%EvalError%":o,"%Float32Array%":"undefined"==typeof Float32Array?n:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?n:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?n:FinalizationRegistry,"%Function%":f,"%GeneratorFunction%":g,"%Int8Array%":"undefined"==typeof Int8Array?n:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?n:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?n:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":b&&v?v(v([][Symbol.iterator]())):n,"%JSON%":"object"==typeof JSON?JSON:n,"%Map%":"undefined"==typeof Map?n:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&b&&v?v((new Map)[Symbol.iterator]()):n,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?n:Promise,"%Proxy%":"undefined"==typeof Proxy?n:Proxy,"%RangeError%":s,"%ReferenceError%":a,"%Reflect%":"undefined"==typeof Reflect?n:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?n:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&b&&v?v((new Set)[Symbol.iterator]()):n,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?n:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":b&&v?v(""[Symbol.iterator]()):n,"%Symbol%":b?Symbol:n,"%SyntaxError%":c,"%ThrowTypeError%":y,"%TypedArray%":w,"%TypeError%":u,"%Uint8Array%":"undefined"==typeof Uint8Array?n:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?n:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?n:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?n:Uint32Array,"%URIError%":l,"%WeakMap%":"undefined"==typeof WeakMap?n:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?n:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?n:WeakSet};if(v)try{null.error}catch(e){var S=v(v(e));_["%Error.prototype%"]=S}var E=function e(t){var r;if("%AsyncFunction%"===t)r=h("async function () {}");else if("%GeneratorFunction%"===t)r=h("function* () {}");else if("%AsyncGeneratorFunction%"===t)r=h("async function* () {}");else if("%AsyncGenerator%"===t){var n=e("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if("%AsyncIteratorPrototype%"===t){var i=e("%AsyncGenerator%");i&&v&&(r=v(i.prototype))}return _[t]=r,r},T={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},O=r(79138),x=r(78554),A=O.call(Function.call,Array.prototype.concat),M=O.call(Function.apply,Array.prototype.splice),P=O.call(Function.call,String.prototype.replace),I=O.call(Function.call,String.prototype.slice),j=O.call(Function.call,RegExp.prototype.exec),R=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,k=/\\(\\)?/g,C=function(e,t){var r,n=e;if(x(T,n)&&(n="%"+(r=T[n])[0]+"%"),x(_,n)){var i=_[n];if(i===g&&(i=E(n)),void 0===i&&!t)throw new u("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:r,name:n,value:i}}throw new c("intrinsic "+e+" does not exist!")};e.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new u("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new u('"allowMissing" argument must be a boolean');if(null===j(/^%?[^%]*%?$/,e))throw new c("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=function(e){var t=I(e,0,1),r=I(e,-1);if("%"===t&&"%"!==r)throw new c("invalid intrinsic syntax, expected closing `%`");if("%"===r&&"%"!==t)throw new c("invalid intrinsic syntax, expected opening `%`");var n=[];return P(e,R,(function(e,t,r,i){n[n.length]=r?P(i,k,"$1"):t||e})),n}(e),n=r.length>0?r[0]:"",i=C("%"+n+"%",t),o=i.name,s=i.value,a=!1,l=i.alias;l&&(n=l[0],M(r,A([0,1],l)));for(var f=1,h=!0;f<r.length;f+=1){var p=r[f],y=I(p,0,1),b=I(p,-1);if(('"'===y||"'"===y||"`"===y||'"'===b||"'"===b||"`"===b)&&y!==b)throw new c("property names with quotes must have matching quotes");if("constructor"!==p&&h||(a=!0),x(_,o="%"+(n+="."+p)+"%"))s=_[o];else if(null!=s){if(!(p in s)){if(!t)throw new u("base intrinsic for "+e+" exists, but the property is not available.");return}if(d&&f+1>=r.length){var m=d(s,p);s=(h=!!m)&&"get"in m&&!("originalValue"in m.get)?m.get:s[p]}else h=x(s,p),s=s[p];h&&!a&&(_[o]=s)}}return s}},69336:(e,t,r)=>{var n=r(528)("%Object.getOwnPropertyDescriptor%",!0);if(n)try{n([],"length")}catch(e){n=null}e.exports=n},17239:(e,t,r)=>{var n=r(64940),i=function(){return!!n};i.hasArrayLengthDefineBug=function(){if(!n)return null;try{return 1!==n([],"length",{value:1}).length}catch(e){return!0}},e.exports=i},66869:e=>{var t={__proto__:null,foo:{}},r=Object;e.exports=function(){return{__proto__:t}.foo===t.foo&&!(t instanceof r)}},53558:(e,t,r)=>{var n="undefined"!=typeof Symbol&&Symbol,i=r(62908);e.exports=function(){return"function"==typeof n&&"function"==typeof Symbol&&"symbol"==typeof n("foo")&&"symbol"==typeof Symbol("bar")&&i()}},62908:e=>{e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),r=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(r))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var n=Object.getOwnPropertySymbols(e);if(1!==n.length||n[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var i=Object.getOwnPropertyDescriptor(e,t);if(42!==i.value||!0!==i.enumerable)return!1}return!0}},51913:(e,t,r)=>{var n=r(62908);e.exports=function(){return n()&&!!Symbol.toStringTag}},21848:(e,t,r)=>{var n=r(25636).Buffer,i=r(89122).Transform;function o(e){i.call(this),this._block=n.allocUnsafe(e),this._blockSize=e,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}r(35615)(o,i),o.prototype._transform=function(e,t,r){var n=null;try{this.update(e,t)}catch(e){n=e}r(n)},o.prototype._flush=function(e){var t=null;try{this.push(this.digest())}catch(e){t=e}e(t)},o.prototype.update=function(e,t){if(function(e,t){if(!n.isBuffer(e)&&"string"!=typeof e)throw new TypeError("Data must be a string or a buffer")}(e),this._finalized)throw new Error("Digest already called");n.isBuffer(e)||(e=n.from(e,t));for(var r=this._block,i=0;this._blockOffset+e.length-i>=this._blockSize;){for(var o=this._blockOffset;o<this._blockSize;)r[o++]=e[i++];this._update(),this._blockOffset=0}for(;i<e.length;)r[this._blockOffset++]=e[i++];for(var s=0,a=8*e.length;a>0;++s)this._length[s]+=a,(a=this._length[s]/4294967296|0)>0&&(this._length[s]-=4294967296*a);return this},o.prototype._update=function(){throw new Error("_update is not implemented")},o.prototype.digest=function(e){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var t=this._digest();void 0!==e&&(t=t.toString(e)),this._block.fill(0),this._blockOffset=0;for(var r=0;r<4;++r)this._length[r]=0;return t},o.prototype._digest=function(){throw new Error("_digest is not implemented")},e.exports=o},72989:e=>{var t={};function r(e,r,n){n||(n=Error);var i=function(e){var t,n;function i(t,n,i){return e.call(this,function(e,t,n){return"string"==typeof r?r:r(e,t,n)}(t,n,i))||this}return n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,i}(n);i.prototype.name=n.name,i.prototype.code=e,t[e]=i}function n(e,t){if(Array.isArray(e)){var r=e.length;return e=e.map((function(e){return String(e)})),r>2?"one of ".concat(t," ").concat(e.slice(0,r-1).join(", "),", or ")+e[r-1]:2===r?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}return"of ".concat(t," ").concat(String(e))}r("ERR_INVALID_OPT_VALUE",(function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'}),TypeError),r("ERR_INVALID_ARG_TYPE",(function(e,t,r){var i,o,s,a,c;if("string"==typeof t&&(o="not ",t.substr(0,4)===o)?(i="must not be",t=t.replace(/^not /,"")):i="must be",function(e,t,r){return(void 0===r||r>e.length)&&(r=e.length),e.substring(r-9,r)===t}(e," argument"))s="The ".concat(e," ").concat(i," ").concat(n(t,"type"));else{var u=("number"!=typeof c&&(c=0),c+1>(a=e).length||-1===a.indexOf(".",c)?"argument":"property");s='The "'.concat(e,'" ').concat(u," ").concat(i," ").concat(n(t,"type"))}return s+". Received type ".concat(typeof r)}),TypeError),r("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),r("ERR_METHOD_NOT_IMPLEMENTED",(function(e){return"The "+e+" method is not implemented"})),r("ERR_STREAM_PREMATURE_CLOSE","Premature close"),r("ERR_STREAM_DESTROYED",(function(e){return"Cannot call "+e+" after a stream was destroyed"})),r("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),r("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),r("ERR_STREAM_WRITE_AFTER_END","write after end"),r("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),r("ERR_UNKNOWN_ENCODING",(function(e){return"Unknown encoding: "+e}),TypeError),r("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),e.exports.F=t},76271:(e,t,r)=>{var n=r(39907),i=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};e.exports=l;var o=r(57325),s=r(92877);r(35615)(l,o);for(var a=i(s.prototype),c=0;c<a.length;c++){var u=a[c];l.prototype[u]||(l.prototype[u]=s.prototype[u])}function l(e){if(!(this instanceof l))return new l(e);o.call(this,e),s.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",f)))}function f(){this._writableState.ended||n.nextTick(h,this)}function h(e){e.end()}Object.defineProperty(l.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(l.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(l.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(l.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}})},93171:(e,t,r)=>{e.exports=i;var n=r(22897);function i(e){if(!(this instanceof i))return new i(e);n.call(this,e)}r(35615)(i,n),i.prototype._transform=function(e,t,r){r(null,e)}},57325:(e,t,r)=>{var n,i=r(39907);e.exports=O,O.ReadableState=T,r(50046).EventEmitter;var o,s=function(e,t){return e.listeners(t).length},a=r(63426),c=r(1048).Buffer,u=(void 0!==r.g?r.g:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).Uint8Array||function(){},l=r(94893);o=l&&l.debuglog?l.debuglog("stream"):function(){};var f,h,d,p=r(88792),y=r(85153),b=r(71930).getHighWaterMark,m=r(72989).F,v=m.ERR_INVALID_ARG_TYPE,g=m.ERR_STREAM_PUSH_AFTER_EOF,w=m.ERR_METHOD_NOT_IMPLEMENTED,_=m.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;r(35615)(O,a);var S=y.errorOrDestroy,E=["error","close","destroy","pause","resume"];function T(e,t,i){n=n||r(76271),e=e||{},"boolean"!=typeof i&&(i=t instanceof n),this.objectMode=!!e.objectMode,i&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=b(this,e,"readableHighWaterMark",i),this.buffer=new p,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(f||(f=r(18888).StringDecoder),this.decoder=new f(e.encoding),this.encoding=e.encoding)}function O(e){if(n=n||r(76271),!(this instanceof O))return new O(e);var t=this instanceof n;this._readableState=new T(e,this,t),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),a.call(this)}function x(e,t,r,n,i){o("readableAddChunk",t);var s,a=e._readableState;if(null===t)a.reading=!1,function(e,t){if(o("onEofChunk"),!t.ended){if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,t.sync?I(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,j(e)))}}(e,a);else if(i||(s=function(e,t){var r,n;return n=t,c.isBuffer(n)||n instanceof u||"string"==typeof t||void 0===t||e.objectMode||(r=new v("chunk",["string","Buffer","Uint8Array"],t)),r}(a,t)),s)S(e,s);else if(a.objectMode||t&&t.length>0)if("string"==typeof t||a.objectMode||Object.getPrototypeOf(t)===c.prototype||(t=function(e){return c.from(e)}(t)),n)a.endEmitted?S(e,new _):A(e,a,t,!0);else if(a.ended)S(e,new g);else{if(a.destroyed)return!1;a.reading=!1,a.decoder&&!r?(t=a.decoder.write(t),a.objectMode||0!==t.length?A(e,a,t,!1):R(e,a)):A(e,a,t,!1)}else n||(a.reading=!1,R(e,a));return!a.ended&&(a.length<a.highWaterMark||0===a.length)}function A(e,t,r,n){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",r)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&I(e)),R(e,t)}Object.defineProperty(O.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),O.prototype.destroy=y.destroy,O.prototype._undestroy=y.undestroy,O.prototype._destroy=function(e,t){t(e)},O.prototype.push=function(e,t){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof e&&((t=t||n.defaultEncoding)!==n.encoding&&(e=c.from(e,t),t=""),r=!0),x(this,e,t,!1,r)},O.prototype.unshift=function(e){return x(this,e,null,!0,!1)},O.prototype.isPaused=function(){return!1===this._readableState.flowing},O.prototype.setEncoding=function(e){f||(f=r(18888).StringDecoder);var t=new f(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var n=this._readableState.buffer.head,i="";null!==n;)i+=t.write(n.data),n=n.next;return this._readableState.buffer.clear(),""!==i&&this._readableState.buffer.push(i),this._readableState.length=i.length,this};var M=1073741824;function P(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=M?e=M:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function I(e){var t=e._readableState;o("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(o("emitReadable",t.flowing),t.emittedReadable=!0,i.nextTick(j,e))}function j(e){var t=e._readableState;o("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,L(e)}function R(e,t){t.readingMore||(t.readingMore=!0,i.nextTick(k,e,t))}function k(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var r=t.length;if(o("maybeReadMore read 0"),e.read(0),r===t.length)break}t.readingMore=!1}function C(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function $(e){o("readable nexttick read 0"),e.read(0)}function N(e,t){o("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),L(e),t.flowing&&!t.reading&&e.read(0)}function L(e){var t=e._readableState;for(o("flow",t.flowing);t.flowing&&null!==e.read(););}function B(e,t){return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):r=t.buffer.consume(e,t.decoder),r);var r}function D(e){var t=e._readableState;o("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,i.nextTick(F,t,e))}function F(e,t){if(o("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var r=t._writableState;(!r||r.autoDestroy&&r.finished)&&t.destroy()}}function U(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}O.prototype.read=function(e){o("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return o("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?D(this):I(this),null;if(0===(e=P(e,t))&&t.ended)return 0===t.length&&D(this),null;var n,i=t.needReadable;return o("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&o("length less than watermark",i=!0),t.ended||t.reading?o("reading or ended",i=!1):i&&(o("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=P(r,t))),null===(n=e>0?B(e,t):null)?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&D(this)),null!==n&&this.emit("data",n),n},O.prototype._read=function(e){S(this,new w("_read()"))},O.prototype.pipe=function(e,t){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=e;break;case 1:n.pipes=[n.pipes,e];break;default:n.pipes.push(e)}n.pipesCount+=1,o("pipe count=%d opts=%j",n.pipesCount,t);var a=t&&!1===t.end||e===i.stdout||e===i.stderr?y:c;function c(){o("onend"),e.end()}n.endEmitted?i.nextTick(a):r.once("end",a),e.on("unpipe",(function t(i,s){o("onunpipe"),i===r&&s&&!1===s.hasUnpiped&&(s.hasUnpiped=!0,o("cleanup"),e.removeListener("close",d),e.removeListener("finish",p),e.removeListener("drain",u),e.removeListener("error",h),e.removeListener("unpipe",t),r.removeListener("end",c),r.removeListener("end",y),r.removeListener("data",f),l=!0,!n.awaitDrain||e._writableState&&!e._writableState.needDrain||u())}));var u=function(e){return function(){var t=e._readableState;o("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&s(e,"data")&&(t.flowing=!0,L(e))}}(r);e.on("drain",u);var l=!1;function f(t){o("ondata");var i=e.write(t);o("dest.write",i),!1===i&&((1===n.pipesCount&&n.pipes===e||n.pipesCount>1&&-1!==U(n.pipes,e))&&!l&&(o("false write response, pause",n.awaitDrain),n.awaitDrain++),r.pause())}function h(t){o("onerror",t),y(),e.removeListener("error",h),0===s(e,"error")&&S(e,t)}function d(){e.removeListener("finish",p),y()}function p(){o("onfinish"),e.removeListener("close",d),y()}function y(){o("unpipe"),r.unpipe(e)}return r.on("data",f),function(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}(e,"error",h),e.once("close",d),e.once("finish",p),e.emit("pipe",r),n.flowing||(o("pipe resume"),r.resume()),e},O.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r)),this;if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)n[o].emit("unpipe",this,{hasUnpiped:!1});return this}var s=U(t.pipes,e);return-1===s||(t.pipes.splice(s,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r)),this},O.prototype.on=function(e,t){var r=a.prototype.on.call(this,e,t),n=this._readableState;return"data"===e?(n.readableListening=this.listenerCount("readable")>0,!1!==n.flowing&&this.resume()):"readable"===e&&(n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,o("on readable",n.length,n.reading),n.length?I(this):n.reading||i.nextTick($,this))),r},O.prototype.addListener=O.prototype.on,O.prototype.removeListener=function(e,t){var r=a.prototype.removeListener.call(this,e,t);return"readable"===e&&i.nextTick(C,this),r},O.prototype.removeAllListeners=function(e){var t=a.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||i.nextTick(C,this),t},O.prototype.resume=function(){var e=this._readableState;return e.flowing||(o("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,i.nextTick(N,e,t))}(this,e)),e.paused=!1,this},O.prototype.pause=function(){return o("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(o("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},O.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;for(var i in e.on("end",(function(){if(o("wrapped end"),r.decoder&&!r.ended){var e=r.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(i){o("wrapped data"),r.decoder&&(i=r.decoder.write(i)),r.objectMode&&null==i||(r.objectMode||i&&i.length)&&(t.push(i)||(n=!0,e.pause()))})),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var s=0;s<E.length;s++)e.on(E[s],this.emit.bind(this,E[s]));return this._read=function(t){o("wrapped _read",t),n&&(n=!1,e.resume())},this},"function"==typeof Symbol&&(O.prototype[Symbol.asyncIterator]=function(){return void 0===h&&(h=r(74772)),h(this)}),Object.defineProperty(O.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(O.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(O.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),O._fromList=B,Object.defineProperty(O.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(O.from=function(e,t){return void 0===d&&(d=r(32866)),d(O,e,t)})},22897:(e,t,r)=>{e.exports=l;var n=r(72989).F,i=n.ERR_METHOD_NOT_IMPLEMENTED,o=n.ERR_MULTIPLE_CALLBACK,s=n.ERR_TRANSFORM_ALREADY_TRANSFORMING,a=n.ERR_TRANSFORM_WITH_LENGTH_0,c=r(76271);function u(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(null===n)return this.emit("error",new o);r.writechunk=null,r.writecb=null,null!=t&&this.push(t),n(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function l(e){if(!(this instanceof l))return new l(e);c.call(this,e),this._transformState={afterTransform:u.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",f)}function f(){var e=this;"function"!=typeof this._flush||this._readableState.destroyed?h(this,null,null):this._flush((function(t,r){h(e,t,r)}))}function h(e,t,r){if(t)return e.emit("error",t);if(null!=r&&e.push(r),e._writableState.length)throw new a;if(e._transformState.transforming)throw new s;return e.push(null)}r(35615)(l,c),l.prototype.push=function(e,t){return this._transformState.needTransform=!1,c.prototype.push.call(this,e,t)},l.prototype._transform=function(e,t,r){r(new i("_transform()"))},l.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},l.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},l.prototype._destroy=function(e,t){c.prototype._destroy.call(this,e,(function(e){t(e)}))}},92877:(e,t,r)=>{var n,i=r(39907);function o(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,r){var n=e.entry;for(e.entry=null;n;){var i=n.callback;t.pendingcb--,i(undefined),n=n.next}t.corkedRequestsFree.next=e}(t,e)}}e.exports=O,O.WritableState=T;var s,a={deprecate:r(66732)},c=r(63426),u=r(1048).Buffer,l=(void 0!==r.g?r.g:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).Uint8Array||function(){},f=r(85153),h=r(71930).getHighWaterMark,d=r(72989).F,p=d.ERR_INVALID_ARG_TYPE,y=d.ERR_METHOD_NOT_IMPLEMENTED,b=d.ERR_MULTIPLE_CALLBACK,m=d.ERR_STREAM_CANNOT_PIPE,v=d.ERR_STREAM_DESTROYED,g=d.ERR_STREAM_NULL_VALUES,w=d.ERR_STREAM_WRITE_AFTER_END,_=d.ERR_UNKNOWN_ENCODING,S=f.errorOrDestroy;function E(){}function T(e,t,s){n=n||r(76271),e=e||{},"boolean"!=typeof s&&(s=t instanceof n),this.objectMode=!!e.objectMode,s&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=h(this,e,"writableHighWaterMark",s),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var a=!1===e.decodeStrings;this.decodeStrings=!a,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var r=e._writableState,n=r.sync,o=r.writecb;if("function"!=typeof o)throw new b;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(r),t)!function(e,t,r,n,o){--t.pendingcb,r?(i.nextTick(o,n),i.nextTick(j,e,t),e._writableState.errorEmitted=!0,S(e,n)):(o(n),e._writableState.errorEmitted=!0,S(e,n),j(e,t))}(e,r,n,t,o);else{var s=P(r)||e.destroyed;s||r.corked||r.bufferProcessing||!r.bufferedRequest||M(e,r),n?i.nextTick(A,e,r,s,o):A(e,r,s,o)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new o(this)}function O(e){var t=this instanceof(n=n||r(76271));if(!t&&!s.call(O,this))return new O(e);this._writableState=new T(e,this,t),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),c.call(this)}function x(e,t,r,n,i,o,s){t.writelen=n,t.writecb=s,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new v("write")):r?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function A(e,t,r,n){r||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,n(),j(e,t)}function M(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=t.bufferedRequestCount,i=new Array(n),s=t.corkedRequestsFree;s.entry=r;for(var a=0,c=!0;r;)i[a]=r,r.isBuf||(c=!1),r=r.next,a+=1;i.allBuffers=c,x(e,t,!0,t.length,i,"",s.finish),t.pendingcb++,t.lastBufferedRequest=null,s.next?(t.corkedRequestsFree=s.next,s.next=null):t.corkedRequestsFree=new o(t),t.bufferedRequestCount=0}else{for(;r;){var u=r.chunk,l=r.encoding,f=r.callback;if(x(e,t,!1,t.objectMode?1:u.length,u,l,f),r=r.next,t.bufferedRequestCount--,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}function P(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function I(e,t){e._final((function(r){t.pendingcb--,r&&S(e,r),t.prefinished=!0,e.emit("prefinish"),j(e,t)}))}function j(e,t){var r=P(t);if(r&&(function(e,t){t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,i.nextTick(I,e,t)))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var n=e._readableState;(!n||n.autoDestroy&&n.endEmitted)&&e.destroy()}return r}r(35615)(O,c),T.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(T.prototype,"buffer",{get:a.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(s=Function.prototype[Symbol.hasInstance],Object.defineProperty(O,Symbol.hasInstance,{value:function(e){return!!s.call(this,e)||this===O&&e&&e._writableState instanceof T}})):s=function(e){return e instanceof this},O.prototype.pipe=function(){S(this,new m)},O.prototype.write=function(e,t,r){var n,o=this._writableState,s=!1,a=!o.objectMode&&(n=e,u.isBuffer(n)||n instanceof l);return a&&!u.isBuffer(e)&&(e=function(e){return u.from(e)}(e)),"function"==typeof t&&(r=t,t=null),a?t="buffer":t||(t=o.defaultEncoding),"function"!=typeof r&&(r=E),o.ending?function(e,t){var r=new w;S(e,r),i.nextTick(t,r)}(this,r):(a||function(e,t,r,n){var o;return null===r?o=new g:"string"==typeof r||t.objectMode||(o=new p("chunk",["string","Buffer"],r)),!o||(S(e,o),i.nextTick(n,o),!1)}(this,o,e,r))&&(o.pendingcb++,s=function(e,t,r,n,i,o){if(!r){var s=function(e,t,r){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=u.from(t,r)),t}(t,n,i);n!==s&&(r=!0,i="buffer",n=s)}var a=t.objectMode?1:n.length;t.length+=a;var c=t.length<t.highWaterMark;if(c||(t.needDrain=!0),t.writing||t.corked){var l=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:o,next:null},l?l.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else x(e,t,!1,a,n,i,o);return c}(this,o,a,e,t,r)),s},O.prototype.cork=function(){this._writableState.corked++},O.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||M(this,e))},O.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new _(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(O.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(O.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),O.prototype._write=function(e,t,r){r(new y("_write()"))},O.prototype._writev=null,O.prototype.end=function(e,t,r){var n=this._writableState;return"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!=e&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),n.ending||function(e,t,r){t.ending=!0,j(e,t),r&&(t.finished?i.nextTick(r):e.once("finish",r)),t.ended=!0,e.writable=!1}(this,n,r),this},Object.defineProperty(O.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(O.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),O.prototype.destroy=f.destroy,O.prototype._undestroy=f.undestroy,O.prototype._destroy=function(e,t){t(e)}},74772:(e,t,r)=>{var n,i=r(39907);function o(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var s=r(56495),a=Symbol("lastResolve"),c=Symbol("lastReject"),u=Symbol("error"),l=Symbol("ended"),f=Symbol("lastPromise"),h=Symbol("handlePromise"),d=Symbol("stream");function p(e,t){return{value:e,done:t}}function y(e){var t=e[a];if(null!==t){var r=e[d].read();null!==r&&(e[f]=null,e[a]=null,e[c]=null,t(p(r,!1)))}}function b(e){i.nextTick(y,e)}var m=Object.getPrototypeOf((function(){})),v=Object.setPrototypeOf((o(n={get stream(){return this[d]},next:function(){var e=this,t=this[u];if(null!==t)return Promise.reject(t);if(this[l])return Promise.resolve(p(void 0,!0));if(this[d].destroyed)return new Promise((function(t,r){i.nextTick((function(){e[u]?r(e[u]):t(p(void 0,!0))}))}));var r,n=this[f];if(n)r=new Promise(function(e,t){return function(r,n){e.then((function(){t[l]?r(p(void 0,!0)):t[h](r,n)}),n)}}(n,this));else{var o=this[d].read();if(null!==o)return Promise.resolve(p(o,!1));r=new Promise(this[h])}return this[f]=r,r}},Symbol.asyncIterator,(function(){return this})),o(n,"return",(function(){var e=this;return new Promise((function(t,r){e[d].destroy(null,(function(e){e?r(e):t(p(void 0,!0))}))}))})),n),m);e.exports=function(e){var t,r=Object.create(v,(o(t={},d,{value:e,writable:!0}),o(t,a,{value:null,writable:!0}),o(t,c,{value:null,writable:!0}),o(t,u,{value:null,writable:!0}),o(t,l,{value:e._readableState.endEmitted,writable:!0}),o(t,h,{value:function(e,t){var n=r[d].read();n?(r[f]=null,r[a]=null,r[c]=null,e(p(n,!1))):(r[a]=e,r[c]=t)},writable:!0}),t));return r[f]=null,s(e,(function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=r[c];return null!==t&&(r[f]=null,r[a]=null,r[c]=null,t(e)),void(r[u]=e)}var n=r[a];null!==n&&(r[f]=null,r[a]=null,r[c]=null,n(p(void 0,!0))),r[l]=!0})),e.on("readable",b.bind(null,r)),r}},88792:(e,t,r)=>{function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function o(e,t,r){return(t=a(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,a(n.key),n)}}function a(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}var c=r(1048).Buffer,u=r(14981).inspect,l=u&&u.custom||"inspect";e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}var t,r;return t=e,(r=[{key:"push",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r}},{key:"concat",value:function(e){if(0===this.length)return c.alloc(0);for(var t,r,n,i=c.allocUnsafe(e>>>0),o=this.head,s=0;o;)t=o.data,r=i,n=s,c.prototype.copy.call(t,r,n),s+=o.data.length,o=o.next;return i}},{key:"consume",value:function(e,t){var r;return e<this.head.data.length?(r=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):r=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),r}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,r=1,n=t.data;for(e-=n.length;t=t.next;){var i=t.data,o=e>i.length?i.length:e;if(o===i.length?n+=i:n+=i.slice(0,e),0==(e-=o)){o===i.length?(++r,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=i.slice(o));break}++r}return this.length-=r,n}},{key:"_getBuffer",value:function(e){var t=c.allocUnsafe(e),r=this.head,n=1;for(r.data.copy(t),e-=r.data.length;r=r.next;){var i=r.data,o=e>i.length?i.length:e;if(i.copy(t,t.length-e,0,o),0==(e-=o)){o===i.length?(++n,r.next?this.head=r.next:this.head=this.tail=null):(this.head=r,r.data=i.slice(o));break}++n}return this.length-=n,t}},{key:l,value:function(e,t){return u(this,i(i({},t),{},{depth:0,customInspect:!1}))}}])&&s(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}()},85153:(e,t,r)=>{var n=r(39907);function i(e,t){s(e,t),o(e)}function o(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function s(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var r=this,a=this._readableState&&this._readableState.destroyed,c=this._writableState&&this._writableState.destroyed;return a||c?(t?t(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,n.nextTick(s,this,e)):n.nextTick(s,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!t&&e?r._writableState?r._writableState.errorEmitted?n.nextTick(o,r):(r._writableState.errorEmitted=!0,n.nextTick(i,r,e)):n.nextTick(i,r,e):t?(n.nextTick(o,r),t(e)):n.nextTick(o,r)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(e,t){var r=e._readableState,n=e._writableState;r&&r.autoDestroy||n&&n.autoDestroy?e.destroy(t):e.emit("error",t)}}},56495:(e,t,r)=>{var n=r(72989).F.ERR_STREAM_PREMATURE_CLOSE;function i(){}e.exports=function e(t,r,o){if("function"==typeof r)return e(t,null,r);r||(r={}),o=function(e){var t=!1;return function(){if(!t){t=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];e.apply(this,n)}}}(o||i);var s=r.readable||!1!==r.readable&&t.readable,a=r.writable||!1!==r.writable&&t.writable,c=function(){t.writable||l()},u=t._writableState&&t._writableState.finished,l=function(){a=!1,u=!0,s||o.call(t)},f=t._readableState&&t._readableState.endEmitted,h=function(){s=!1,f=!0,a||o.call(t)},d=function(e){o.call(t,e)},p=function(){var e;return s&&!f?(t._readableState&&t._readableState.ended||(e=new n),o.call(t,e)):a&&!u?(t._writableState&&t._writableState.ended||(e=new n),o.call(t,e)):void 0},y=function(){t.req.on("finish",l)};return function(e){return e.setHeader&&"function"==typeof e.abort}(t)?(t.on("complete",l),t.on("abort",p),t.req?y():t.on("request",y)):a&&!t._writableState&&(t.on("end",c),t.on("close",c)),t.on("end",h),t.on("finish",l),!1!==r.error&&t.on("error",d),t.on("close",p),function(){t.removeListener("complete",l),t.removeListener("abort",p),t.removeListener("request",y),t.req&&t.req.removeListener("finish",l),t.removeListener("end",c),t.removeListener("close",c),t.removeListener("finish",l),t.removeListener("end",h),t.removeListener("error",d),t.removeListener("close",p)}}},32866:e=>{e.exports=function(){throw new Error("Readable.from is not available in the browser")}},32669:(e,t,r)=>{var n,i=r(72989).F,o=i.ERR_MISSING_ARGS,s=i.ERR_STREAM_DESTROYED;function a(e){if(e)throw e}function c(e){e()}function u(e,t){return e.pipe(t)}e.exports=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var l,f=function(e){return e.length?"function"!=typeof e[e.length-1]?a:e.pop():a}(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new o("streams");var h=t.map((function(e,i){var o=i<t.length-1;return function(e,t,i,o){o=function(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}(o);var a=!1;e.on("close",(function(){a=!0})),void 0===n&&(n=r(56495)),n(e,{readable:t,writable:i},(function(e){if(e)return o(e);a=!0,o()}));var c=!1;return function(t){if(!a&&!c)return c=!0,function(e){return e.setHeader&&"function"==typeof e.abort}(e)?e.abort():"function"==typeof e.destroy?e.destroy():void o(t||new s("pipe"))}}(e,o,i>0,(function(e){l||(l=e),e&&h.forEach(c),o||(h.forEach(c),f(l))}))}));return t.reduce(u)}},71930:(e,t,r)=>{var n=r(72989).F.ERR_INVALID_OPT_VALUE;e.exports={getHighWaterMark:function(e,t,r,i){var o=function(e,t,r){return null!=e.highWaterMark?e.highWaterMark:t?e[r]:null}(t,i,r);if(null!=o){if(!isFinite(o)||Math.floor(o)!==o||o<0)throw new n(i?r:"highWaterMark",o);return Math.floor(o)}return e.objectMode?16:16384}}},63426:(e,t,r)=>{e.exports=r(50046).EventEmitter},89122:(e,t,r)=>{(t=e.exports=r(57325)).Stream=t,t.Readable=t,t.Writable=r(92877),t.Duplex=r(76271),t.Transform=r(22897),t.PassThrough=r(93171),t.finished=r(56495),t.pipeline=r(32669)},99499:(e,t,r)=>{var n=t;n.utils=r(70461),n.common=r(32191),n.sha=r(75746),n.ripemd=r(74169),n.hmac=r(11825),n.sha1=n.sha.sha1,n.sha256=n.sha.sha256,n.sha224=n.sha.sha224,n.sha384=n.sha.sha384,n.sha512=n.sha.sha512,n.ripemd160=n.ripemd.ripemd160},32191:(e,t,r)=>{var n=r(70461),i=r(7784);function o(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}t.BlockHash=o,o.prototype.update=function(e,t){if(e=n.toArray(e,t),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){var r=(e=this.pending).length%this._delta8;this.pending=e.slice(e.length-r,e.length),0===this.pending.length&&(this.pending=null),e=n.join32(e,0,e.length-r,this.endian);for(var i=0;i<e.length;i+=this._delta32)this._update(e,i,i+this._delta32)}return this},o.prototype.digest=function(e){return this.update(this._pad()),i(null===this.pending),this._digest(e)},o.prototype._pad=function(){var e=this.pendingTotal,t=this._delta8,r=t-(e+this.padLength)%t,n=new Array(r+this.padLength);n[0]=128;for(var i=1;i<r;i++)n[i]=0;if(e<<=3,"big"===this.endian){for(var o=8;o<this.padLength;o++)n[i++]=0;n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=e>>>24&255,n[i++]=e>>>16&255,n[i++]=e>>>8&255,n[i++]=255&e}else for(n[i++]=255&e,n[i++]=e>>>8&255,n[i++]=e>>>16&255,n[i++]=e>>>24&255,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,o=8;o<this.padLength;o++)n[i++]=0;return n}},11825:(e,t,r)=>{var n=r(70461),i=r(7784);function o(e,t,r){if(!(this instanceof o))return new o(e,t,r);this.Hash=e,this.blockSize=e.blockSize/8,this.outSize=e.outSize/8,this.inner=null,this.outer=null,this._init(n.toArray(t,r))}e.exports=o,o.prototype._init=function(e){e.length>this.blockSize&&(e=(new this.Hash).update(e).digest()),i(e.length<=this.blockSize);for(var t=e.length;t<this.blockSize;t++)e.push(0);for(t=0;t<e.length;t++)e[t]^=54;for(this.inner=(new this.Hash).update(e),t=0;t<e.length;t++)e[t]^=106;this.outer=(new this.Hash).update(e)},o.prototype.update=function(e,t){return this.inner.update(e,t),this},o.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)}},74169:(e,t,r)=>{var n=r(70461),i=r(32191),o=n.rotl32,s=n.sum32,a=n.sum32_3,c=n.sum32_4,u=i.BlockHash;function l(){if(!(this instanceof l))return new l;u.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function f(e,t,r,n){return e<=15?t^r^n:e<=31?t&r|~t&n:e<=47?(t|~r)^n:e<=63?t&n|r&~n:t^(r|~n)}function h(e){return e<=15?0:e<=31?1518500249:e<=47?1859775393:e<=63?2400959708:2840853838}function d(e){return e<=15?1352829926:e<=31?1548603684:e<=47?1836072691:e<=63?2053994217:0}n.inherits(l,u),t.ripemd160=l,l.blockSize=512,l.outSize=160,l.hmacStrength=192,l.padLength=64,l.prototype._update=function(e,t){for(var r=this.h[0],n=this.h[1],i=this.h[2],u=this.h[3],l=this.h[4],v=r,g=n,w=i,_=u,S=l,E=0;E<80;E++){var T=s(o(c(r,f(E,n,i,u),e[p[E]+t],h(E)),b[E]),l);r=l,l=u,u=o(i,10),i=n,n=T,T=s(o(c(v,f(79-E,g,w,_),e[y[E]+t],d(E)),m[E]),S),v=S,S=_,_=o(w,10),w=g,g=T}T=a(this.h[1],i,_),this.h[1]=a(this.h[2],u,S),this.h[2]=a(this.h[3],l,v),this.h[3]=a(this.h[4],r,g),this.h[4]=a(this.h[0],n,w),this.h[0]=T},l.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h,"little"):n.split32(this.h,"little")};var p=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],y=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],b=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],m=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},75746:(e,t,r)=>{t.sha1=r(12986),t.sha224=r(75393),t.sha256=r(50536),t.sha384=r(52348),t.sha512=r(92157)},12986:(e,t,r)=>{var n=r(70461),i=r(32191),o=r(600),s=n.rotl32,a=n.sum32,c=n.sum32_5,u=o.ft_1,l=i.BlockHash,f=[1518500249,1859775393,2400959708,3395469782];function h(){if(!(this instanceof h))return new h;l.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}n.inherits(h,l),e.exports=h,h.blockSize=512,h.outSize=160,h.hmacStrength=80,h.padLength=64,h.prototype._update=function(e,t){for(var r=this.W,n=0;n<16;n++)r[n]=e[t+n];for(;n<r.length;n++)r[n]=s(r[n-3]^r[n-8]^r[n-14]^r[n-16],1);var i=this.h[0],o=this.h[1],l=this.h[2],h=this.h[3],d=this.h[4];for(n=0;n<r.length;n++){var p=~~(n/20),y=c(s(i,5),u(p,o,l,h),d,r[n],f[p]);d=h,h=l,l=s(o,30),o=i,i=y}this.h[0]=a(this.h[0],i),this.h[1]=a(this.h[1],o),this.h[2]=a(this.h[2],l),this.h[3]=a(this.h[3],h),this.h[4]=a(this.h[4],d)},h.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},75393:(e,t,r)=>{var n=r(70461),i=r(50536);function o(){if(!(this instanceof o))return new o;i.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}n.inherits(o,i),e.exports=o,o.blockSize=512,o.outSize=224,o.hmacStrength=192,o.padLength=64,o.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h.slice(0,7),"big"):n.split32(this.h.slice(0,7),"big")}},50536:(e,t,r)=>{var n=r(70461),i=r(32191),o=r(600),s=r(7784),a=n.sum32,c=n.sum32_4,u=n.sum32_5,l=o.ch32,f=o.maj32,h=o.s0_256,d=o.s1_256,p=o.g0_256,y=o.g1_256,b=i.BlockHash,m=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function v(){if(!(this instanceof v))return new v;b.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=m,this.W=new Array(64)}n.inherits(v,b),e.exports=v,v.blockSize=512,v.outSize=256,v.hmacStrength=192,v.padLength=64,v.prototype._update=function(e,t){for(var r=this.W,n=0;n<16;n++)r[n]=e[t+n];for(;n<r.length;n++)r[n]=c(y(r[n-2]),r[n-7],p(r[n-15]),r[n-16]);var i=this.h[0],o=this.h[1],b=this.h[2],m=this.h[3],v=this.h[4],g=this.h[5],w=this.h[6],_=this.h[7];for(s(this.k.length===r.length),n=0;n<r.length;n++){var S=u(_,d(v),l(v,g,w),this.k[n],r[n]),E=a(h(i),f(i,o,b));_=w,w=g,g=v,v=a(m,S),m=b,b=o,o=i,i=a(S,E)}this.h[0]=a(this.h[0],i),this.h[1]=a(this.h[1],o),this.h[2]=a(this.h[2],b),this.h[3]=a(this.h[3],m),this.h[4]=a(this.h[4],v),this.h[5]=a(this.h[5],g),this.h[6]=a(this.h[6],w),this.h[7]=a(this.h[7],_)},v.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},52348:(e,t,r)=>{var n=r(70461),i=r(92157);function o(){if(!(this instanceof o))return new o;i.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}n.inherits(o,i),e.exports=o,o.blockSize=1024,o.outSize=384,o.hmacStrength=192,o.padLength=128,o.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h.slice(0,12),"big"):n.split32(this.h.slice(0,12),"big")}},92157:(e,t,r)=>{var n=r(70461),i=r(32191),o=r(7784),s=n.rotr64_hi,a=n.rotr64_lo,c=n.shr64_hi,u=n.shr64_lo,l=n.sum64,f=n.sum64_hi,h=n.sum64_lo,d=n.sum64_4_hi,p=n.sum64_4_lo,y=n.sum64_5_hi,b=n.sum64_5_lo,m=i.BlockHash,v=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function g(){if(!(this instanceof g))return new g;m.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=v,this.W=new Array(160)}function w(e,t,r,n,i){var o=e&r^~e&i;return o<0&&(o+=4294967296),o}function _(e,t,r,n,i,o){var s=t&n^~t&o;return s<0&&(s+=4294967296),s}function S(e,t,r,n,i){var o=e&r^e&i^r&i;return o<0&&(o+=4294967296),o}function E(e,t,r,n,i,o){var s=t&n^t&o^n&o;return s<0&&(s+=4294967296),s}function T(e,t){var r=s(e,t,28)^s(t,e,2)^s(t,e,7);return r<0&&(r+=4294967296),r}function O(e,t){var r=a(e,t,28)^a(t,e,2)^a(t,e,7);return r<0&&(r+=4294967296),r}function x(e,t){var r=a(e,t,14)^a(e,t,18)^a(t,e,9);return r<0&&(r+=4294967296),r}function A(e,t){var r=s(e,t,1)^s(e,t,8)^c(e,t,7);return r<0&&(r+=4294967296),r}function M(e,t){var r=a(e,t,1)^a(e,t,8)^u(e,t,7);return r<0&&(r+=4294967296),r}function P(e,t){var r=a(e,t,19)^a(t,e,29)^u(e,t,6);return r<0&&(r+=4294967296),r}n.inherits(g,m),e.exports=g,g.blockSize=1024,g.outSize=512,g.hmacStrength=192,g.padLength=128,g.prototype._prepareBlock=function(e,t){for(var r=this.W,n=0;n<32;n++)r[n]=e[t+n];for(;n<r.length;n+=2){var i=(b=r[n-4],m=r[n-3],v=void 0,(v=s(b,m,19)^s(m,b,29)^c(b,m,6))<0&&(v+=4294967296),v),o=P(r[n-4],r[n-3]),a=r[n-14],u=r[n-13],l=A(r[n-30],r[n-29]),f=M(r[n-30],r[n-29]),h=r[n-32],y=r[n-31];r[n]=d(i,o,a,u,l,f,h,y),r[n+1]=p(i,o,a,u,l,f,h,y)}var b,m,v},g.prototype._update=function(e,t){this._prepareBlock(e,t);var r,n,i,a=this.W,c=this.h[0],u=this.h[1],d=this.h[2],p=this.h[3],m=this.h[4],v=this.h[5],g=this.h[6],A=this.h[7],M=this.h[8],P=this.h[9],I=this.h[10],j=this.h[11],R=this.h[12],k=this.h[13],C=this.h[14],$=this.h[15];o(this.k.length===a.length);for(var N=0;N<a.length;N+=2){var L=C,B=$,D=(i=void 0,(i=s(r=M,n=P,14)^s(r,n,18)^s(n,r,9))<0&&(i+=4294967296),i),F=x(M,P),U=w(M,0,I,0,R),q=_(0,P,0,j,0,k),W=this.k[N],z=this.k[N+1],V=a[N],H=a[N+1],G=y(L,B,D,F,U,q,W,z,V,H),K=b(L,B,D,F,U,q,W,z,V,H);L=T(c,u),B=O(c,u),D=S(c,0,d,0,m),F=E(0,u,0,p,0,v);var Y=f(L,B,D,F),J=h(L,B,D,F);C=R,$=k,R=I,k=j,I=M,j=P,M=f(g,A,G,K),P=h(A,A,G,K),g=m,A=v,m=d,v=p,d=c,p=u,c=f(G,K,Y,J),u=h(G,K,Y,J)}l(this.h,0,c,u),l(this.h,2,d,p),l(this.h,4,m,v),l(this.h,6,g,A),l(this.h,8,M,P),l(this.h,10,I,j),l(this.h,12,R,k),l(this.h,14,C,$)},g.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},600:(e,t,r)=>{var n=r(70461).rotr32;function i(e,t,r){return e&t^~e&r}function o(e,t,r){return e&t^e&r^t&r}function s(e,t,r){return e^t^r}t.ft_1=function(e,t,r,n){return 0===e?i(t,r,n):1===e||3===e?s(t,r,n):2===e?o(t,r,n):void 0},t.ch32=i,t.maj32=o,t.p32=s,t.s0_256=function(e){return n(e,2)^n(e,13)^n(e,22)},t.s1_256=function(e){return n(e,6)^n(e,11)^n(e,25)},t.g0_256=function(e){return n(e,7)^n(e,18)^e>>>3},t.g1_256=function(e){return n(e,17)^n(e,19)^e>>>10}},70461:(e,t,r)=>{var n=r(7784),i=r(35615);function o(e,t){return 55296==(64512&e.charCodeAt(t))&&!(t<0||t+1>=e.length)&&56320==(64512&e.charCodeAt(t+1))}function s(e){return(e>>>24|e>>>8&65280|e<<8&16711680|(255&e)<<24)>>>0}function a(e){return 1===e.length?"0"+e:e}function c(e){return 7===e.length?"0"+e:6===e.length?"00"+e:5===e.length?"000"+e:4===e.length?"0000"+e:3===e.length?"00000"+e:2===e.length?"000000"+e:1===e.length?"0000000"+e:e}t.inherits=i,t.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if("string"==typeof e)if(t){if("hex"===t)for((e=e.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(e="0"+e),i=0;i<e.length;i+=2)r.push(parseInt(e[i]+e[i+1],16))}else for(var n=0,i=0;i<e.length;i++){var s=e.charCodeAt(i);s<128?r[n++]=s:s<2048?(r[n++]=s>>6|192,r[n++]=63&s|128):o(e,i)?(s=65536+((1023&s)<<10)+(1023&e.charCodeAt(++i)),r[n++]=s>>18|240,r[n++]=s>>12&63|128,r[n++]=s>>6&63|128,r[n++]=63&s|128):(r[n++]=s>>12|224,r[n++]=s>>6&63|128,r[n++]=63&s|128)}else for(i=0;i<e.length;i++)r[i]=0|e[i];return r},t.toHex=function(e){for(var t="",r=0;r<e.length;r++)t+=a(e[r].toString(16));return t},t.htonl=s,t.toHex32=function(e,t){for(var r="",n=0;n<e.length;n++){var i=e[n];"little"===t&&(i=s(i)),r+=c(i.toString(16))}return r},t.zero2=a,t.zero8=c,t.join32=function(e,t,r,i){var o=r-t;n(o%4==0);for(var s=new Array(o/4),a=0,c=t;a<s.length;a++,c+=4){var u;u="big"===i?e[c]<<24|e[c+1]<<16|e[c+2]<<8|e[c+3]:e[c+3]<<24|e[c+2]<<16|e[c+1]<<8|e[c],s[a]=u>>>0}return s},t.split32=function(e,t){for(var r=new Array(4*e.length),n=0,i=0;n<e.length;n++,i+=4){var o=e[n];"big"===t?(r[i]=o>>>24,r[i+1]=o>>>16&255,r[i+2]=o>>>8&255,r[i+3]=255&o):(r[i+3]=o>>>24,r[i+2]=o>>>16&255,r[i+1]=o>>>8&255,r[i]=255&o)}return r},t.rotr32=function(e,t){return e>>>t|e<<32-t},t.rotl32=function(e,t){return e<<t|e>>>32-t},t.sum32=function(e,t){return e+t>>>0},t.sum32_3=function(e,t,r){return e+t+r>>>0},t.sum32_4=function(e,t,r,n){return e+t+r+n>>>0},t.sum32_5=function(e,t,r,n,i){return e+t+r+n+i>>>0},t.sum64=function(e,t,r,n){var i=e[t],o=n+e[t+1]>>>0,s=(o<n?1:0)+r+i;e[t]=s>>>0,e[t+1]=o},t.sum64_hi=function(e,t,r,n){return(t+n>>>0<t?1:0)+e+r>>>0},t.sum64_lo=function(e,t,r,n){return t+n>>>0},t.sum64_4_hi=function(e,t,r,n,i,o,s,a){var c=0,u=t;return c+=(u=u+n>>>0)<t?1:0,c+=(u=u+o>>>0)<o?1:0,e+r+i+s+(c+=(u=u+a>>>0)<a?1:0)>>>0},t.sum64_4_lo=function(e,t,r,n,i,o,s,a){return t+n+o+a>>>0},t.sum64_5_hi=function(e,t,r,n,i,o,s,a,c,u){var l=0,f=t;return l+=(f=f+n>>>0)<t?1:0,l+=(f=f+o>>>0)<o?1:0,l+=(f=f+a>>>0)<a?1:0,e+r+i+s+c+(l+=(f=f+u>>>0)<u?1:0)>>>0},t.sum64_5_lo=function(e,t,r,n,i,o,s,a,c,u){return t+n+o+a+u>>>0},t.rotr64_hi=function(e,t,r){return(t<<32-r|e>>>r)>>>0},t.rotr64_lo=function(e,t,r){return(e<<32-r|t>>>r)>>>0},t.shr64_hi=function(e,t,r){return e>>>r},t.shr64_lo=function(e,t,r){return(e<<32-r|t>>>r)>>>0}},78554:(e,t,r)=>{var n=Function.prototype.call,i=Object.prototype.hasOwnProperty,o=r(79138);e.exports=o.call(n,i)},84742:(e,t,r)=>{var n=r(99499),i=r(89042),o=r(7784);function s(e){if(!(this instanceof s))return new s(e);this.hash=e.hash,this.predResist=!!e.predResist,this.outLen=this.hash.outSize,this.minEntropy=e.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var t=i.toArray(e.entropy,e.entropyEnc||"hex"),r=i.toArray(e.nonce,e.nonceEnc||"hex"),n=i.toArray(e.pers,e.persEnc||"hex");o(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(t,r,n)}e.exports=s,s.prototype._init=function(e,t,r){var n=e.concat(t).concat(r);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(n),this._reseed=1,this.reseedInterval=281474976710656},s.prototype._hmac=function(){return new n.hmac(this.hash,this.K)},s.prototype._update=function(e){var t=this._hmac().update(this.V).update([0]);e&&(t=t.update(e)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())},s.prototype.reseed=function(e,t,r,n){"string"!=typeof t&&(n=r,r=t,t=null),e=i.toArray(e,t),r=i.toArray(r,n),o(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(r||[])),this._reseed=1},s.prototype.generate=function(e,t,r,n){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!=typeof t&&(n=r,r=t,t=null),r&&(r=i.toArray(r,n||"hex"),this._update(r));for(var o=[];o.length<e;)this.V=this._hmac().update(this.V).digest(),o=o.concat(this.V);var s=o.slice(0,e);return this._update(r),this._reseed++,i.encode(s,t)}},27500:(e,t,r)=>{var n=r(4865),i=r(75442),o=e.exports;for(var s in n)n.hasOwnProperty(s)&&(o[s]=n[s]);function a(e){if("string"==typeof e&&(e=i.parse(e)),e.protocol||(e.protocol="https:"),"https:"!==e.protocol)throw new Error('Protocol "'+e.protocol+'" not supported. Expected "https:"');return e}o.request=function(e,t){return e=a(e),n.request.call(this,e,t)},o.get=function(e,t){return e=a(e),n.get.call(this,e,t)}},39318:(e,t)=>{t.read=function(e,t,r,n,i){var o,s,a=8*i-n-1,c=(1<<a)-1,u=c>>1,l=-7,f=r?i-1:0,h=r?-1:1,d=e[t+f];for(f+=h,o=d&(1<<-l)-1,d>>=-l,l+=a;l>0;o=256*o+e[t+f],f+=h,l-=8);for(s=o&(1<<-l)-1,o>>=-l,l+=n;l>0;s=256*s+e[t+f],f+=h,l-=8);if(0===o)o=1-u;else{if(o===c)return s?NaN:1/0*(d?-1:1);s+=Math.pow(2,n),o-=u}return(d?-1:1)*s*Math.pow(2,o-n)},t.write=function(e,t,r,n,i,o){var s,a,c,u=8*o-i-1,l=(1<<u)-1,f=l>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=n?0:o-1,p=n?1:-1,y=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=l):(s=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-s))<1&&(s--,c*=2),(t+=s+f>=1?h/c:h*Math.pow(2,1-f))*c>=2&&(s++,c/=2),s+f>=l?(a=0,s=l):s+f>=1?(a=(t*c-1)*Math.pow(2,i),s+=f):(a=t*Math.pow(2,f-1)*Math.pow(2,i),s=0));i>=8;e[r+d]=255&a,d+=p,a/=256,i-=8);for(s=s<<i|a,u+=i;u>0;e[r+d]=255&s,d+=p,s/=256,u-=8);e[r+d-p]|=128*y}},35615:e=>{"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}},61204:e=>{e.exports=e=>{if("string"!=typeof e)throw new TypeError(`Expected a \`string\`, got \`${typeof e}\``);return!/^[a-zA-Z]:\\/.test(e)&&/^[a-zA-Z][a-zA-Z\d+\-.]*:/.test(e)}},55387:(e,t,r)=>{var n=r(51913)(),i=r(79818)("Object.prototype.toString"),o=function(e){return!(n&&e&&"object"==typeof e&&Symbol.toStringTag in e)&&"[object Arguments]"===i(e)},s=function(e){return!!o(e)||null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Array]"!==i(e)&&"[object Function]"===i(e.callee)},a=function(){return o(arguments)}();o.isLegacyArguments=s,e.exports=a?o:s},89617:e=>{var t,r,n=Function.prototype.toString,i="object"==typeof Reflect&&null!==Reflect&&Reflect.apply;if("function"==typeof i&&"function"==typeof Object.defineProperty)try{t=Object.defineProperty({},"length",{get:function(){throw r}}),r={},i((function(){throw 42}),null,t)}catch(e){e!==r&&(i=null)}else i=null;var o=/^\s*class\b/,s=function(e){try{var t=n.call(e);return o.test(t)}catch(e){return!1}},a=function(e){try{return!s(e)&&(n.call(e),!0)}catch(e){return!1}},c=Object.prototype.toString,u="function"==typeof Symbol&&!!Symbol.toStringTag,l=!(0 in[,]),f=function(){return!1};if("object"==typeof document){var h=document.all;c.call(h)===c.call(document.all)&&(f=function(e){if((l||!e)&&(void 0===e||"object"==typeof e))try{var t=c.call(e);return("[object HTMLAllCollection]"===t||"[object HTML document.all class]"===t||"[object HTMLCollection]"===t||"[object Object]"===t)&&null==e("")}catch(e){}return!1})}e.exports=i?function(e){if(f(e))return!0;if(!e)return!1;if("function"!=typeof e&&"object"!=typeof e)return!1;try{i(e,null,t)}catch(e){if(e!==r)return!1}return!s(e)&&a(e)}:function(e){if(f(e))return!0;if(!e)return!1;if("function"!=typeof e&&"object"!=typeof e)return!1;if(u)return a(e);if(s(e))return!1;var t=c.call(e);return!("[object Function]"!==t&&"[object GeneratorFunction]"!==t&&!/^\[object HTML/.test(t))&&a(e)}},2625:(e,t,r)=>{var n,i=Object.prototype.toString,o=Function.prototype.toString,s=/^\s*(?:function)?\*/,a=r(51913)(),c=Object.getPrototypeOf;e.exports=function(e){if("function"!=typeof e)return!1;if(s.test(o.call(e)))return!0;if(!a)return"[object GeneratorFunction]"===i.call(e);if(!c)return!1;if(void 0===n){var t=function(){if(!a)return!1;try{return Function("return function*() {}")()}catch(e){}}();n=!!t&&c(t)}return c(e)===n}},98006:e=>{e.exports=function(e){return e!=e}},7838:(e,t,r)=>{var n=r(28498),i=r(41857),o=r(98006),s=r(41591),a=r(61641),c=n(s(),Number);i(c,{getPolyfill:s,implementation:o,shim:a}),e.exports=c},41591:(e,t,r)=>{var n=r(98006);e.exports=function(){return Number.isNaN&&Number.isNaN(NaN)&&!Number.isNaN("a")?Number.isNaN:n}},61641:(e,t,r)=>{var n=r(41857),i=r(41591);e.exports=function(){var e=i();return n(Number,{isNaN:e},{isNaN:function(){return Number.isNaN!==e}}),e}},95943:(e,t,r)=>{var n=r(52730);e.exports=function(e){return!!n(e)}},56815:e=>{var t={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==t.call(e)}},73286:function(e,t,r){e=r.nmd(e);var n=r(39907),i=r(4364),o=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&o(t,e,r);return s(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.JsonPlaceholderReplacer=void 0;var c=r(26257);Object.defineProperty(t,"JsonPlaceholderReplacer",{enumerable:!0,get:function(){return c.JsonPlaceholderReplacer}});const u=r(26257),l=a(r(93701));if(r.c[r.s]===e){n.exitCode=n.argv.length;const e=new u.JsonPlaceholderReplacer;n.argv.filter(((e,t)=>t>2)).map((t=>e.addVariableMap(JSON.parse(l.readFileSync(t).toString()))));const t=l.readFileSync(n.argv[2]).toString(),r=e.replace(JSON.parse(t));i.log(JSON.stringify(r,null,4)),n.exitCode=0}},26257:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.JsonPlaceholderReplacer=void 0;const r=[{begin:"{{",end:"}}"},{begin:"<<",end:">>"}];t.JsonPlaceholderReplacer=class{constructor(...e){this.variablesMap=[],0===e.length&&(e=r);const t=e=>e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&");this.delimiterTags=e.map((e=>Object.assign(Object.assign({},e),{escapedBeginning:t(e.begin),escapedEnding:t(e.end)})))}addVariableMap(e){return"string"==typeof e?this.variablesMap.push(JSON.parse(e)):this.variablesMap.push(e),this}replace(e){return this.replaceChildren(e)}replaceChildren(e){for(const t in e){const r=e[t];"object"==typeof r?e[t]=this.replaceChildren(r):void 0!==r&&(e[t]=this.replaceValue(r.toString()))}return e}replaceValue(e){const t=this.delimiterTags.map((e=>`^${e.begin}[^${e.end}]+${e.end}$`)).join("|"),r=!new RegExp(t).test(e),n=this.delimiterTags.reduce(((e,t)=>{const n=new RegExp(`(${t.escapedBeginning}[^${t.escapedEnding}]+${t.escapedEnding})`,"g");return e.replace(n,this.replacer(r)(t))}),e);try{return JSON.parse(n)}catch(e){return n}}replacer(e){return t=>r=>{const n=r.substr(t.begin.length,r.length-(t.begin.length+t.end.length)),i=this.checkInEveryMap(n);if(void 0===i)return r;if(!e)return i;const o=JSON.parse(i);return"object"==typeof o?JSON.stringify(o):o}}checkInEveryMap(e){let t;return this.variablesMap.forEach((r=>t=this.navigateThroughMap(r,e))),t}navigateThroughMap(e,t){if(void 0===e)return;const r=e[t];if(void 0!==r)return JSON.stringify(r);let n=t.split(".");const i=n[0];return n.shift(),this.navigateThroughMap(e[i],n.join("."))}}},63275:(e,t,r)=>{var n=r(35615),i=r(21848),o=r(25636).Buffer,s=new Array(16);function a(){i.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function c(e,t){return e<<t|e>>>32-t}function u(e,t,r,n,i,o,s){return c(e+(t&r|~t&n)+i+o|0,s)+t|0}function l(e,t,r,n,i,o,s){return c(e+(t&n|r&~n)+i+o|0,s)+t|0}function f(e,t,r,n,i,o,s){return c(e+(t^r^n)+i+o|0,s)+t|0}function h(e,t,r,n,i,o,s){return c(e+(r^(t|~n))+i+o|0,s)+t|0}n(a,i),a.prototype._update=function(){for(var e=s,t=0;t<16;++t)e[t]=this._block.readInt32LE(4*t);var r=this._a,n=this._b,i=this._c,o=this._d;r=u(r,n,i,o,e[0],3614090360,7),o=u(o,r,n,i,e[1],3905402710,12),i=u(i,o,r,n,e[2],606105819,17),n=u(n,i,o,r,e[3],3250441966,22),r=u(r,n,i,o,e[4],4118548399,7),o=u(o,r,n,i,e[5],1200080426,12),i=u(i,o,r,n,e[6],2821735955,17),n=u(n,i,o,r,e[7],4249261313,22),r=u(r,n,i,o,e[8],1770035416,7),o=u(o,r,n,i,e[9],2336552879,12),i=u(i,o,r,n,e[10],4294925233,17),n=u(n,i,o,r,e[11],2304563134,22),r=u(r,n,i,o,e[12],1804603682,7),o=u(o,r,n,i,e[13],4254626195,12),i=u(i,o,r,n,e[14],2792965006,17),r=l(r,n=u(n,i,o,r,e[15],1236535329,22),i,o,e[1],4129170786,5),o=l(o,r,n,i,e[6],3225465664,9),i=l(i,o,r,n,e[11],643717713,14),n=l(n,i,o,r,e[0],3921069994,20),r=l(r,n,i,o,e[5],3593408605,5),o=l(o,r,n,i,e[10],38016083,9),i=l(i,o,r,n,e[15],3634488961,14),n=l(n,i,o,r,e[4],3889429448,20),r=l(r,n,i,o,e[9],568446438,5),o=l(o,r,n,i,e[14],3275163606,9),i=l(i,o,r,n,e[3],4107603335,14),n=l(n,i,o,r,e[8],1163531501,20),r=l(r,n,i,o,e[13],2850285829,5),o=l(o,r,n,i,e[2],4243563512,9),i=l(i,o,r,n,e[7],1735328473,14),r=f(r,n=l(n,i,o,r,e[12],2368359562,20),i,o,e[5],4294588738,4),o=f(o,r,n,i,e[8],2272392833,11),i=f(i,o,r,n,e[11],1839030562,16),n=f(n,i,o,r,e[14],4259657740,23),r=f(r,n,i,o,e[1],2763975236,4),o=f(o,r,n,i,e[4],1272893353,11),i=f(i,o,r,n,e[7],4139469664,16),n=f(n,i,o,r,e[10],3200236656,23),r=f(r,n,i,o,e[13],681279174,4),o=f(o,r,n,i,e[0],3936430074,11),i=f(i,o,r,n,e[3],3572445317,16),n=f(n,i,o,r,e[6],76029189,23),r=f(r,n,i,o,e[9],3654602809,4),o=f(o,r,n,i,e[12],3873151461,11),i=f(i,o,r,n,e[15],530742520,16),r=h(r,n=f(n,i,o,r,e[2],3299628645,23),i,o,e[0],4096336452,6),o=h(o,r,n,i,e[7],1126891415,10),i=h(i,o,r,n,e[14],2878612391,15),n=h(n,i,o,r,e[5],4237533241,21),r=h(r,n,i,o,e[12],1700485571,6),o=h(o,r,n,i,e[3],2399980690,10),i=h(i,o,r,n,e[10],4293915773,15),n=h(n,i,o,r,e[1],2240044497,21),r=h(r,n,i,o,e[8],1873313359,6),o=h(o,r,n,i,e[15],4264355552,10),i=h(i,o,r,n,e[6],2734768916,15),n=h(n,i,o,r,e[13],1309151649,21),r=h(r,n,i,o,e[4],4149444226,6),o=h(o,r,n,i,e[11],3174756917,10),i=h(i,o,r,n,e[2],718787259,15),n=h(n,i,o,r,e[9],3951481745,21),this._a=this._a+r|0,this._b=this._b+n|0,this._c=this._c+i|0,this._d=this._d+o|0},a.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var e=o.allocUnsafe(16);return e.writeInt32LE(this._a,0),e.writeInt32LE(this._b,4),e.writeInt32LE(this._c,8),e.writeInt32LE(this._d,12),e},e.exports=a},21929:(e,t,r)=>{var n=r(82823),i=r(47048);function o(e){this.rand=e||new i.Rand}e.exports=o,o.create=function(e){return new o(e)},o.prototype._randbelow=function(e){var t=e.bitLength(),r=Math.ceil(t/8);do{var i=new n(this.rand.generate(r))}while(i.cmp(e)>=0);return i},o.prototype._randrange=function(e,t){var r=t.sub(e);return e.add(this._randbelow(r))},o.prototype.test=function(e,t,r){var i=e.bitLength(),o=n.mont(e),s=new n(1).toRed(o);t||(t=Math.max(1,i/48|0));for(var a=e.subn(1),c=0;!a.testn(c);c++);for(var u=e.shrn(c),l=a.toRed(o);t>0;t--){var f=this._randrange(new n(2),a);r&&r(f);var h=f.toRed(o).redPow(u);if(0!==h.cmp(s)&&0!==h.cmp(l)){for(var d=1;d<c;d++){if(0===(h=h.redSqr()).cmp(s))return!1;if(0===h.cmp(l))break}if(d===c)return!1}}return!0},o.prototype.getDivisor=function(e,t){var r=e.bitLength(),i=n.mont(e),o=new n(1).toRed(i);t||(t=Math.max(1,r/48|0));for(var s=e.subn(1),a=0;!s.testn(a);a++);for(var c=e.shrn(a),u=s.toRed(i);t>0;t--){var l=this._randrange(new n(2),s),f=e.gcd(l);if(0!==f.cmpn(1))return f;var h=l.toRed(i).redPow(c);if(0!==h.cmp(o)&&0!==h.cmp(u)){for(var d=1;d<a;d++){if(0===(h=h.redSqr()).cmp(o))return h.fromRed().subn(1).gcd(e);if(0===h.cmp(u))break}if(d===a)return(h=h.redSqr()).fromRed().subn(1).gcd(e)}}return!1}},7784:e=>{function t(e,t){if(!e)throw new Error(t||"Assertion failed")}e.exports=t,t.equal=function(e,t,r){if(e!=t)throw new Error(r||"Assertion failed: "+e+" != "+t)}},89042:(e,t)=>{var r=t;function n(e){return 1===e.length?"0"+e:e}function i(e){for(var t="",r=0;r<e.length;r++)t+=n(e[r].toString(16));return t}r.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if("string"!=typeof e){for(var n=0;n<e.length;n++)r[n]=0|e[n];return r}if("hex"===t)for((e=e.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(e="0"+e),n=0;n<e.length;n+=2)r.push(parseInt(e[n]+e[n+1],16));else for(n=0;n<e.length;n++){var i=e.charCodeAt(n),o=i>>8,s=255&i;o?r.push(o,s):r.push(s)}return r},r.zero2=n,r.toHex=i,r.encode=function(e,t){return"hex"===t?i(e):e}},98203:(e,t,r)=>{var n=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==r.g)return r.g;throw new Error("unable to locate global object")}();e.exports=t=n.fetch,n.fetch&&(t.default=n.fetch.bind(n)),t.Headers=n.Headers,t.Request=n.Request,t.Response=n.Response},29963:(e,t,r)=>{const n=r(50601),{Buffer:i}=r(1048),o=new TextDecoder("utf8",{fatal:!0,ignoreBOM:!0});class s extends n.Transform{constructor(e,t,r={}){let n=null,o=null;switch(typeof e){case"object":i.isBuffer(e)?n=e:e&&(r=e);break;case"string":n=e;break;case"undefined":break;default:throw new TypeError("Invalid input")}switch(typeof t){case"object":t&&(r=t);break;case"string":o=t;break;case"undefined":break;default:throw new TypeError("Invalid inputEncoding")}if(!r||"object"!=typeof r)throw new TypeError("Invalid options");null==n&&(n=r.input),null==o&&(o=r.inputEncoding),delete r.input,delete r.inputEncoding;const s=null==r.watchPipe||r.watchPipe;delete r.watchPipe;const a=Boolean(r.readError);delete r.readError,super(r),this.readError=a,s&&this.on("pipe",(e=>{const t=e._readableState.objectMode;if(this.length>0&&t!==this._readableState.objectMode)throw new Error("Do not switch objectMode in the middle of the stream");this._readableState.objectMode=t,this._writableState.objectMode=t})),null!=n&&this.end(n,o)}static isNoFilter(e){return e instanceof this}static compare(e,t){if(!(e instanceof this))throw new TypeError("Arguments must be NoFilters");return e===t?0:e.compare(t)}static concat(e,t){if(!Array.isArray(e))throw new TypeError("list argument must be an Array of NoFilters");if(0===e.length||0===t)return i.alloc(0);null==t&&(t=e.reduce(((e,t)=>{if(!(t instanceof s))throw new TypeError("list argument must be an Array of NoFilters");return e+t.length}),0));let r=!0,n=!0;const o=e.map((e=>{if(!(e instanceof s))throw new TypeError("list argument must be an Array of NoFilters");const t=e.slice();return i.isBuffer(t)?n=!1:r=!1,t}));if(r)return i.concat(o,t);if(n)return[].concat(...o).slice(0,t);throw new Error("Concatenating mixed object and byte streams not supported")}_transform(e,t,r){this._readableState.objectMode||i.isBuffer(e)||(e=i.from(e,t)),this.push(e),r()}_bufArray(){let e=this._readableState.buffer;if(!Array.isArray(e)){let t=e.head;for(e=[];null!=t;)e.push(t.data),t=t.next}return e}read(e){const t=super.read(e);if(null!=t){if(this.emit("read",t),this.readError&&t.length<e)throw new Error(`Read ${t.length}, wanted ${e}`)}else if(this.readError)throw new Error(`No data available, wanted ${e}`);return t}readFull(e){let t=null,r=null,n=null;return new Promise(((i,o)=>{this.length>=e?i(this.read(e)):this.writableFinished?o(new Error(`Stream finished before ${e} bytes were available`)):(t=t=>{this.length>=e&&i(this.read(e))},r=()=>{o(new Error(`Stream finished before ${e} bytes were available`))},n=o,this.on("readable",t),this.on("error",n),this.on("finish",r))})).finally((()=>{t&&(this.removeListener("readable",t),this.removeListener("error",n),this.removeListener("finish",r))}))}promise(e){let t=!1;return new Promise(((r,n)=>{this.on("finish",(()=>{const n=this.read();null==e||t||(t=!0,e(null,n)),r(n)})),this.on("error",(r=>{null==e||t||(t=!0,e(r)),n(r)}))}))}compare(e){if(!(e instanceof s))throw new TypeError("Arguments must be NoFilters");if(this===e)return 0;const t=this.slice(),r=e.slice();if(i.isBuffer(t)&&i.isBuffer(r))return t.compare(r);throw new Error("Cannot compare streams in object mode")}equals(e){return 0===this.compare(e)}slice(e,t){if(this._readableState.objectMode)return this._bufArray().slice(e,t);const r=this._bufArray();switch(r.length){case 0:return i.alloc(0);case 1:return r[0].slice(e,t);default:return i.concat(r).slice(e,t)}}get(e){return this.slice()[e]}toJSON(){const e=this.slice();return i.isBuffer(e)?e.toJSON():e}toString(e,t,r){const n=this.slice(t,r);return i.isBuffer(n)?e&&"utf8"!==e?n.toString(e):o.decode(n):JSON.stringify(n)}[Symbol.for("nodejs.util.inspect.custom")](e,t){const r=this._bufArray().map((e=>i.isBuffer(e)?t.stylize(e.toString("hex"),"string"):JSON.stringify(e))).join(", ");return`${this.constructor.name} [${r}]`}get length(){return this._readableState.length}writeBigInt(e){let t=e.toString(16);if(e<0){const r=BigInt(Math.floor(t.length/2));t=(e=(BigInt(1)<<r*BigInt(8))+e).toString(16)}return t.length%2&&(t=`0${t}`),this.push(i.from(t,"hex"))}readUBigInt(e){const t=this.read(e);return i.isBuffer(t)?BigInt(`0x${t.toString("hex")}`):null}readBigInt(e){const t=this.read(e);if(!i.isBuffer(t))return null;let r=BigInt(`0x${t.toString("hex")}`);return 128&t[0]&&(r-=BigInt(1)<<BigInt(t.length)*BigInt(8)),r}writeUInt8(e){const t=i.from([e]);return this.push(t)}writeUInt16LE(e){const t=i.alloc(2);return t.writeUInt16LE(e),this.push(t)}writeUInt16BE(e){const t=i.alloc(2);return t.writeUInt16BE(e),this.push(t)}writeUInt32LE(e){const t=i.alloc(4);return t.writeUInt32LE(e),this.push(t)}writeUInt32BE(e){const t=i.alloc(4);return t.writeUInt32BE(e),this.push(t)}writeInt8(e){const t=i.from([e]);return this.push(t)}writeInt16LE(e){const t=i.alloc(2);return t.writeUInt16LE(e),this.push(t)}writeInt16BE(e){const t=i.alloc(2);return t.writeUInt16BE(e),this.push(t)}writeInt32LE(e){const t=i.alloc(4);return t.writeUInt32LE(e),this.push(t)}writeInt32BE(e){const t=i.alloc(4);return t.writeUInt32BE(e),this.push(t)}writeFloatLE(e){const t=i.alloc(4);return t.writeFloatLE(e),this.push(t)}writeFloatBE(e){const t=i.alloc(4);return t.writeFloatBE(e),this.push(t)}writeDoubleLE(e){const t=i.alloc(8);return t.writeDoubleLE(e),this.push(t)}writeDoubleBE(e){const t=i.alloc(8);return t.writeDoubleBE(e),this.push(t)}writeBigInt64LE(e){const t=i.alloc(8);return t.writeBigInt64LE(e),this.push(t)}writeBigInt64BE(e){const t=i.alloc(8);return t.writeBigInt64BE(e),this.push(t)}writeBigUInt64LE(e){const t=i.alloc(8);return t.writeBigUInt64LE(e),this.push(t)}writeBigUInt64BE(e){const t=i.alloc(8);return t.writeBigUInt64BE(e),this.push(t)}readUInt8(){const e=this.read(1);return i.isBuffer(e)?e.readUInt8():null}readUInt16LE(){const e=this.read(2);return i.isBuffer(e)?e.readUInt16LE():null}readUInt16BE(){const e=this.read(2);return i.isBuffer(e)?e.readUInt16BE():null}readUInt32LE(){const e=this.read(4);return i.isBuffer(e)?e.readUInt32LE():null}readUInt32BE(){const e=this.read(4);return i.isBuffer(e)?e.readUInt32BE():null}readInt8(){const e=this.read(1);return i.isBuffer(e)?e.readInt8():null}readInt16LE(){const e=this.read(2);return i.isBuffer(e)?e.readInt16LE():null}readInt16BE(){const e=this.read(2);return i.isBuffer(e)?e.readInt16BE():null}readInt32LE(){const e=this.read(4);return i.isBuffer(e)?e.readInt32LE():null}readInt32BE(){const e=this.read(4);return i.isBuffer(e)?e.readInt32BE():null}readFloatLE(){const e=this.read(4);return i.isBuffer(e)?e.readFloatLE():null}readFloatBE(){const e=this.read(4);return i.isBuffer(e)?e.readFloatBE():null}readDoubleLE(){const e=this.read(8);return i.isBuffer(e)?e.readDoubleLE():null}readDoubleBE(){const e=this.read(8);return i.isBuffer(e)?e.readDoubleBE():null}readBigInt64LE(){const e=this.read(8);return i.isBuffer(e)?e.readBigInt64LE():null}readBigInt64BE(){const e=this.read(8);return i.isBuffer(e)?e.readBigInt64BE():null}readBigUInt64LE(){const e=this.read(8);return i.isBuffer(e)?e.readBigUInt64LE():null}readBigUInt64BE(){const e=this.read(8);return i.isBuffer(e)?e.readBigUInt64BE():null}}e.exports=s},48660:(e,t,r)=>{var n="function"==typeof Map&&Map.prototype,i=Object.getOwnPropertyDescriptor&&n?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,o=n&&i&&"function"==typeof i.get?i.get:null,s=n&&Map.prototype.forEach,a="function"==typeof Set&&Set.prototype,c=Object.getOwnPropertyDescriptor&&a?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,u=a&&c&&"function"==typeof c.get?c.get:null,l=a&&Set.prototype.forEach,f="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,h="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,d="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,p=Boolean.prototype.valueOf,y=Object.prototype.toString,b=Function.prototype.toString,m=String.prototype.match,v=String.prototype.slice,g=String.prototype.replace,w=String.prototype.toUpperCase,_=String.prototype.toLowerCase,S=RegExp.prototype.test,E=Array.prototype.concat,T=Array.prototype.join,O=Array.prototype.slice,x=Math.floor,A="function"==typeof BigInt?BigInt.prototype.valueOf:null,M=Object.getOwnPropertySymbols,P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,I="function"==typeof Symbol&&"object"==typeof Symbol.iterator,j="function"==typeof Symbol&&Symbol.toStringTag&&(Symbol.toStringTag,1)?Symbol.toStringTag:null,R=Object.prototype.propertyIsEnumerable,k=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(e){return e.__proto__}:null);function C(e,t){if(e===1/0||e===-1/0||e!=e||e&&e>-1e3&&e<1e3||S.call(/e/,t))return t;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof e){var n=e<0?-x(-e):x(e);if(n!==e){var i=String(n),o=v.call(t,i.length+1);return g.call(i,r,"$&_")+"."+g.call(g.call(o,/([0-9]{3})/g,"$&_"),/_$/,"")}}return g.call(t,r,"$&_")}var $=r(86973),N=$.custom,L=q(N)?N:null;function B(e,t,r){var n="double"===(r.quoteStyle||t)?'"':"'";return n+e+n}function D(e){return g.call(String(e),/"/g,"&quot;")}function F(e){return!("[object Array]"!==V(e)||j&&"object"==typeof e&&j in e)}function U(e){return!("[object RegExp]"!==V(e)||j&&"object"==typeof e&&j in e)}function q(e){if(I)return e&&"object"==typeof e&&e instanceof Symbol;if("symbol"==typeof e)return!0;if(!e||"object"!=typeof e||!P)return!1;try{return P.call(e),!0}catch(e){}return!1}e.exports=function e(t,n,i,a){var c=n||{};if(z(c,"quoteStyle")&&"single"!==c.quoteStyle&&"double"!==c.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(z(c,"maxStringLength")&&("number"==typeof c.maxStringLength?c.maxStringLength<0&&c.maxStringLength!==1/0:null!==c.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var y=!z(c,"customInspect")||c.customInspect;if("boolean"!=typeof y&&"symbol"!==y)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(z(c,"indent")&&null!==c.indent&&"\t"!==c.indent&&!(parseInt(c.indent,10)===c.indent&&c.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(z(c,"numericSeparator")&&"boolean"!=typeof c.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var w=c.numericSeparator;if(void 0===t)return"undefined";if(null===t)return"null";if("boolean"==typeof t)return t?"true":"false";if("string"==typeof t)return G(t,c);if("number"==typeof t){if(0===t)return 1/0/t>0?"0":"-0";var S=String(t);return w?C(t,S):S}if("bigint"==typeof t){var x=String(t)+"n";return w?C(t,x):x}var M=void 0===c.depth?5:c.depth;if(void 0===i&&(i=0),i>=M&&M>0&&"object"==typeof t)return F(t)?"[Array]":"[Object]";var N,W=function(e,t){var r;if("\t"===e.indent)r="\t";else{if(!("number"==typeof e.indent&&e.indent>0))return null;r=T.call(Array(e.indent+1)," ")}return{base:r,prev:T.call(Array(t+1),r)}}(c,i);if(void 0===a)a=[];else if(H(a,t)>=0)return"[Circular]";function K(t,r,n){if(r&&(a=O.call(a)).push(r),n){var o={depth:c.depth};return z(c,"quoteStyle")&&(o.quoteStyle=c.quoteStyle),e(t,o,i+1,a)}return e(t,c,i+1,a)}if("function"==typeof t&&!U(t)){var ee=function(e){if(e.name)return e.name;var t=m.call(b.call(e),/^function\s*([\w$]+)/);return t?t[1]:null}(t),te=Q(t,K);return"[Function"+(ee?": "+ee:" (anonymous)")+"]"+(te.length>0?" { "+T.call(te,", ")+" }":"")}if(q(t)){var re=I?g.call(String(t),/^(Symbol\(.*\))_[^)]*$/,"$1"):P.call(t);return"object"!=typeof t||I?re:Y(re)}if((N=t)&&"object"==typeof N&&("undefined"!=typeof HTMLElement&&N instanceof HTMLElement||"string"==typeof N.nodeName&&"function"==typeof N.getAttribute)){for(var ne="<"+_.call(String(t.nodeName)),ie=t.attributes||[],oe=0;oe<ie.length;oe++)ne+=" "+ie[oe].name+"="+B(D(ie[oe].value),"double",c);return ne+=">",t.childNodes&&t.childNodes.length&&(ne+="..."),ne+"</"+_.call(String(t.nodeName))+">"}if(F(t)){if(0===t.length)return"[]";var se=Q(t,K);return W&&!function(e){for(var t=0;t<e.length;t++)if(H(e[t],"\n")>=0)return!1;return!0}(se)?"["+Z(se,W)+"]":"[ "+T.call(se,", ")+" ]"}if(function(e){return!("[object Error]"!==V(e)||j&&"object"==typeof e&&j in e)}(t)){var ae=Q(t,K);return"cause"in Error.prototype||!("cause"in t)||R.call(t,"cause")?0===ae.length?"["+String(t)+"]":"{ ["+String(t)+"] "+T.call(ae,", ")+" }":"{ ["+String(t)+"] "+T.call(E.call("[cause]: "+K(t.cause),ae),", ")+" }"}if("object"==typeof t&&y){if(L&&"function"==typeof t[L]&&$)return $(t,{depth:M-i});if("symbol"!==y&&"function"==typeof t.inspect)return t.inspect()}if(function(e){if(!o||!e||"object"!=typeof e)return!1;try{o.call(e);try{u.call(e)}catch(e){return!0}return e instanceof Map}catch(e){}return!1}(t)){var ce=[];return s&&s.call(t,(function(e,r){ce.push(K(r,t,!0)+" => "+K(e,t))})),X("Map",o.call(t),ce,W)}if(function(e){if(!u||!e||"object"!=typeof e)return!1;try{u.call(e);try{o.call(e)}catch(e){return!0}return e instanceof Set}catch(e){}return!1}(t)){var ue=[];return l&&l.call(t,(function(e){ue.push(K(e,t))})),X("Set",u.call(t),ue,W)}if(function(e){if(!f||!e||"object"!=typeof e)return!1;try{f.call(e,f);try{h.call(e,h)}catch(e){return!0}return e instanceof WeakMap}catch(e){}return!1}(t))return J("WeakMap");if(function(e){if(!h||!e||"object"!=typeof e)return!1;try{h.call(e,h);try{f.call(e,f)}catch(e){return!0}return e instanceof WeakSet}catch(e){}return!1}(t))return J("WeakSet");if(function(e){if(!d||!e||"object"!=typeof e)return!1;try{return d.call(e),!0}catch(e){}return!1}(t))return J("WeakRef");if(function(e){return!("[object Number]"!==V(e)||j&&"object"==typeof e&&j in e)}(t))return Y(K(Number(t)));if(function(e){if(!e||"object"!=typeof e||!A)return!1;try{return A.call(e),!0}catch(e){}return!1}(t))return Y(K(A.call(t)));if(function(e){return!("[object Boolean]"!==V(e)||j&&"object"==typeof e&&j in e)}(t))return Y(p.call(t));if(function(e){return!("[object String]"!==V(e)||j&&"object"==typeof e&&j in e)}(t))return Y(K(String(t)));if("undefined"!=typeof window&&t===window)return"{ [object Window] }";if(t===r.g)return"{ [object globalThis] }";if(!function(e){return!("[object Date]"!==V(e)||j&&"object"==typeof e&&j in e)}(t)&&!U(t)){var le=Q(t,K),fe=k?k(t)===Object.prototype:t instanceof Object||t.constructor===Object,he=t instanceof Object?"":"null prototype",de=!fe&&j&&Object(t)===t&&j in t?v.call(V(t),8,-1):he?"Object":"",pe=(fe||"function"!=typeof t.constructor?"":t.constructor.name?t.constructor.name+" ":"")+(de||he?"["+T.call(E.call([],de||[],he||[]),": ")+"] ":"");return 0===le.length?pe+"{}":W?pe+"{"+Z(le,W)+"}":pe+"{ "+T.call(le,", ")+" }"}return String(t)};var W=Object.prototype.hasOwnProperty||function(e){return e in this};function z(e,t){return W.call(e,t)}function V(e){return y.call(e)}function H(e,t){if(e.indexOf)return e.indexOf(t);for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}function G(e,t){if(e.length>t.maxStringLength){var r=e.length-t.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return G(v.call(e,0,t.maxStringLength),t)+n}return B(g.call(g.call(e,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,K),"single",t)}function K(e){var t=e.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return r?"\\"+r:"\\x"+(t<16?"0":"")+w.call(t.toString(16))}function Y(e){return"Object("+e+")"}function J(e){return e+" { ? }"}function X(e,t,r,n){return e+" ("+t+") {"+(n?Z(r,n):T.call(r,", "))+"}"}function Z(e,t){if(0===e.length)return"";var r="\n"+t.prev+t.base;return r+T.call(e,","+r)+"\n"+t.prev}function Q(e,t){var r=F(e),n=[];if(r){n.length=e.length;for(var i=0;i<e.length;i++)n[i]=z(e,i)?t(e[i],e):""}var o,s="function"==typeof M?M(e):[];if(I){o={};for(var a=0;a<s.length;a++)o["$"+s[a]]=s[a]}for(var c in e)z(e,c)&&(r&&String(Number(c))===c&&c<e.length||I&&o["$"+c]instanceof Symbol||(S.call(/[^\w$]/,c)?n.push(t(c,e)+": "+t(e[c],e)):n.push(c+": "+t(e[c],e))));if("function"==typeof M)for(var u=0;u<s.length;u++)R.call(e,s[u])&&n.push("["+t(s[u])+"]: "+t(e[s[u]],e));return n}},82372:e=>{var t=function(e){return e!=e};e.exports=function(e,r){return 0===e&&0===r?1/e==1/r:e===r||!(!t(e)||!t(r))}},55968:(e,t,r)=>{var n=r(41857),i=r(28498),o=r(82372),s=r(61937),a=r(85087),c=i(s(),Object);n(c,{getPolyfill:s,implementation:o,shim:a}),e.exports=c},61937:(e,t,r)=>{var n=r(82372);e.exports=function(){return"function"==typeof Object.is?Object.is:n}},85087:(e,t,r)=>{var n=r(61937),i=r(41857);e.exports=function(){var e=n();return i(Object,{is:e},{is:function(){return Object.is!==e}}),e}},78160:(e,t,r)=>{var n;if(!Object.keys){var i=Object.prototype.hasOwnProperty,o=Object.prototype.toString,s=r(50968),a=Object.prototype.propertyIsEnumerable,c=!a.call({toString:null},"toString"),u=a.call((function(){}),"prototype"),l=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],f=function(e){var t=e.constructor;return t&&t.prototype===e},h={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},d=function(){if("undefined"==typeof window)return!1;for(var e in window)try{if(!h["$"+e]&&i.call(window,e)&&null!==window[e]&&"object"==typeof window[e])try{f(window[e])}catch(e){return!0}}catch(e){return!0}return!1}();n=function(e){var t=null!==e&&"object"==typeof e,r="[object Function]"===o.call(e),n=s(e),a=t&&"[object String]"===o.call(e),h=[];if(!t&&!r&&!n)throw new TypeError("Object.keys called on a non-object");var p=u&&r;if(a&&e.length>0&&!i.call(e,0))for(var y=0;y<e.length;++y)h.push(String(y));if(n&&e.length>0)for(var b=0;b<e.length;++b)h.push(String(b));else for(var m in e)p&&"prototype"===m||!i.call(e,m)||h.push(String(m));if(c)for(var v=function(e){if("undefined"==typeof window||!d)return f(e);try{return f(e)}catch(e){return!1}}(e),g=0;g<l.length;++g)v&&"constructor"===l[g]||!i.call(e,l[g])||h.push(l[g]);return h}}e.exports=n},49228:(e,t,r)=>{var n=Array.prototype.slice,i=r(50968),o=Object.keys,s=o?function(e){return o(e)}:r(78160),a=Object.keys;s.shim=function(){if(Object.keys){var e=function(){var e=Object.keys(arguments);return e&&e.length===arguments.length}(1,2);e||(Object.keys=function(e){return i(e)?a(n.call(e)):a(e)})}else Object.keys=s;return Object.keys||s},e.exports=s},50968:e=>{var t=Object.prototype.toString;e.exports=function(e){var r=t.call(e),n="[object Arguments]"===r;return n||(n="[object Array]"!==r&&null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Function]"===t.call(e.callee)),n}},25164:(e,t,r)=>{var n=r(49228),i=r(62908)(),o=r(79818),s=Object,a=o("Array.prototype.push"),c=o("Object.prototype.propertyIsEnumerable"),u=i?Object.getOwnPropertySymbols:null;e.exports=function(e,t){if(null==e)throw new TypeError("target must be an object");var r=s(e);if(1===arguments.length)return r;for(var o=1;o<arguments.length;++o){var l=s(arguments[o]),f=n(l),h=i&&(Object.getOwnPropertySymbols||u);if(h)for(var d=h(l),p=0;p<d.length;++p){var y=d[p];c(l,y)&&a(f,y)}for(var b=0;b<f.length;++b){var m=f[b];if(c(l,m)){var v=l[m];r[m]=v}}}return r}},23225:(e,t,r)=>{var n=r(25164);e.exports=function(){return Object.assign?function(){if(!Object.assign)return!1;for(var e="abcdefghijklmnopqrst",t=e.split(""),r={},n=0;n<t.length;++n)r[t[n]]=t[n];var i=Object.assign({},r),o="";for(var s in i)o+=s;return e!==o}()||function(){if(!Object.assign||!Object.preventExtensions)return!1;var e=Object.preventExtensions({1:2});try{Object.assign(e,"xy")}catch(t){return"y"===e[1]}return!1}()?n:Object.assign:n}},82213:(e,t)=>{t.endianness=function(){return"LE"},t.hostname=function(){return"undefined"!=typeof location?location.hostname:""},t.loadavg=function(){return[]},t.uptime=function(){return 0},t.freemem=function(){return Number.MAX_VALUE},t.totalmem=function(){return Number.MAX_VALUE},t.cpus=function(){return[]},t.type=function(){return"Browser"},t.release=function(){return"undefined"!=typeof navigator?navigator.appVersion:""},t.networkInterfaces=t.getNetworkInterfaces=function(){return{}},t.arch=function(){return"javascript"},t.platform=function(){return"browser"},t.tmpdir=t.tmpDir=function(){return"/tmp"},t.EOL="\n",t.homedir=function(){return"/"}},89540:(e,t,r)=>{var n=r(12267);t.certificate=r(77770);var i=n.define("RSAPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())}));t.RSAPrivateKey=i;var o=n.define("RSAPublicKey",(function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())}));t.RSAPublicKey=o;var s=n.define("AlgorithmIdentifier",(function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())})),a=n.define("SubjectPublicKeyInfo",(function(){this.seq().obj(this.key("algorithm").use(s),this.key("subjectPublicKey").bitstr())}));t.PublicKey=a;var c=n.define("PrivateKeyInfo",(function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(s),this.key("subjectPrivateKey").octstr())}));t.PrivateKey=c;var u=n.define("EncryptedPrivateKeyInfo",(function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())}));t.EncryptedPrivateKey=u;var l=n.define("DSAPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())}));t.DSAPrivateKey=l,t.DSAparam=n.define("DSAparam",(function(){this.int()}));var f=n.define("ECParameters",(function(){this.choice({namedCurve:this.objid()})})),h=n.define("ECPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(f),this.key("publicKey").optional().explicit(1).bitstr())}));t.ECPrivateKey=h,t.signature=n.define("signature",(function(){this.seq().obj(this.key("r").int(),this.key("s").int())}))},77770:(e,t,r)=>{var n=r(12267),i=n.define("Time",(function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})})),o=n.define("AttributeTypeValue",(function(){this.seq().obj(this.key("type").objid(),this.key("value").any())})),s=n.define("AlgorithmIdentifier",(function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())})),a=n.define("SubjectPublicKeyInfo",(function(){this.seq().obj(this.key("algorithm").use(s),this.key("subjectPublicKey").bitstr())})),c=n.define("RelativeDistinguishedName",(function(){this.setof(o)})),u=n.define("RDNSequence",(function(){this.seqof(c)})),l=n.define("Name",(function(){this.choice({rdnSequence:this.use(u)})})),f=n.define("Validity",(function(){this.seq().obj(this.key("notBefore").use(i),this.key("notAfter").use(i))})),h=n.define("Extension",(function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())})),d=n.define("TBSCertificate",(function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(s),this.key("issuer").use(l),this.key("validity").use(f),this.key("subject").use(l),this.key("subjectPublicKeyInfo").use(a),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(h).optional())})),p=n.define("X509Certificate",(function(){this.seq().obj(this.key("tbsCertificate").use(d),this.key("signatureAlgorithm").use(s),this.key("signatureValue").bitstr())}));e.exports=p},72982:(e,t,r)=>{var n=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,i=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,o=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,s=r(28981),a=r(50178),c=r(25636).Buffer;e.exports=function(e,t){var r,u=e.toString(),l=u.match(n);if(l){var f="aes"+l[1],h=c.from(l[2],"hex"),d=c.from(l[3].replace(/[\r\n]/g,""),"base64"),p=s(t,h.slice(0,8),parseInt(l[1],10)).key,y=[],b=a.createDecipheriv(f,p,h);y.push(b.update(d)),y.push(b.final()),r=c.concat(y)}else{var m=u.match(o);r=c.from(m[2].replace(/[\r\n]/g,""),"base64")}return{tag:u.match(i)[1],data:r}}},15069:(e,t,r)=>{var n=r(89540),i=r(81892),o=r(72982),s=r(50178),a=r(88619),c=r(25636).Buffer;function u(e){var t;"object"!=typeof e||c.isBuffer(e)||(t=e.passphrase,e=e.key),"string"==typeof e&&(e=c.from(e));var r,u,l=o(e,t),f=l.tag,h=l.data;switch(f){case"CERTIFICATE":u=n.certificate.decode(h,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(u||(u=n.PublicKey.decode(h,"der")),r=u.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return n.RSAPublicKey.decode(u.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return u.subjectPrivateKey=u.subjectPublicKey,{type:"ec",data:u};case"1.2.840.10040.4.1":return u.algorithm.params.pub_key=n.DSAparam.decode(u.subjectPublicKey.data,"der"),{type:"dsa",data:u.algorithm.params};default:throw new Error("unknown key id "+r)}case"ENCRYPTED PRIVATE KEY":h=function(e,t){var r=e.algorithm.decrypt.kde.kdeparams.salt,n=parseInt(e.algorithm.decrypt.kde.kdeparams.iters.toString(),10),o=i[e.algorithm.decrypt.cipher.algo.join(".")],u=e.algorithm.decrypt.cipher.iv,l=e.subjectPrivateKey,f=parseInt(o.split("-")[1],10)/8,h=a.pbkdf2Sync(t,r,n,f,"sha1"),d=s.createDecipheriv(o,h,u),p=[];return p.push(d.update(l)),p.push(d.final()),c.concat(p)}(h=n.EncryptedPrivateKey.decode(h,"der"),t);case"PRIVATE KEY":switch(r=(u=n.PrivateKey.decode(h,"der")).algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return n.RSAPrivateKey.decode(u.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:u.algorithm.curve,privateKey:n.ECPrivateKey.decode(u.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return u.algorithm.params.priv_key=n.DSAparam.decode(u.subjectPrivateKey,"der"),{type:"dsa",params:u.algorithm.params};default:throw new Error("unknown key id "+r)}case"RSA PUBLIC KEY":return n.RSAPublicKey.decode(h,"der");case"RSA PRIVATE KEY":return n.RSAPrivateKey.decode(h,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:n.DSAPrivateKey.decode(h,"der")};case"EC PRIVATE KEY":return{curve:(h=n.ECPrivateKey.decode(h,"der")).parameters.value,privateKey:h.privateKey};default:throw new Error("unknown key type "+f)}}u.signature=n.signature,e.exports=u},88619:(e,t,r)=>{t.pbkdf2=r(58399),t.pbkdf2Sync=r(84789)},58399:(e,t,r)=>{var n,i,o=r(25636).Buffer,s=r(9697),a=r(39858),c=r(84789),u=r(94021),l=r.g.crypto&&r.g.crypto.subtle,f={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},h=[];function d(){return i||(i=r.g.process&&r.g.process.nextTick?r.g.process.nextTick:r.g.queueMicrotask?r.g.queueMicrotask:r.g.setImmediate?r.g.setImmediate:r.g.setTimeout)}function p(e,t,r,n,i){return l.importKey("raw",e,{name:"PBKDF2"},!1,["deriveBits"]).then((function(e){return l.deriveBits({name:"PBKDF2",salt:t,iterations:r,hash:{name:i}},e,n<<3)})).then((function(e){return o.from(e)}))}e.exports=function(e,t,i,y,b,m){"function"==typeof b&&(m=b,b=void 0);var v=f[(b=b||"sha1").toLowerCase()];if(v&&"function"==typeof r.g.Promise){if(s(i,y),e=u(e,a,"Password"),t=u(t,a,"Salt"),"function"!=typeof m)throw new Error("No callback provided to pbkdf2");!function(e,t){e.then((function(e){d()((function(){t(null,e)}))}),(function(e){d()((function(){t(e)}))}))}(function(e){if(r.g.process&&!r.g.process.browser)return Promise.resolve(!1);if(!l||!l.importKey||!l.deriveBits)return Promise.resolve(!1);if(void 0!==h[e])return h[e];var t=p(n=n||o.alloc(8),n,10,128,e).then((function(){return!0})).catch((function(){return!1}));return h[e]=t,t}(v).then((function(r){return r?p(e,t,i,y,v):c(e,t,i,y,b)})),m)}else d()((function(){var r;try{r=c(e,t,i,y,b)}catch(e){return m(e)}m(null,r)}))}},39858:(e,t,r)=>{var n,i=r(39907);n=r.g.process&&r.g.process.browser?"utf-8":r.g.process&&r.g.process.version?parseInt(i.version.split(".")[0].slice(1),10)>=6?"utf-8":"binary":"utf-8",e.exports=n},9697:e=>{var t=Math.pow(2,30)-1;e.exports=function(e,r){if("number"!=typeof e)throw new TypeError("Iterations not a number");if(e<0)throw new TypeError("Bad iterations");if("number"!=typeof r)throw new TypeError("Key length not a number");if(r<0||r>t||r!=r)throw new TypeError("Bad key length")}},84789:(e,t,r)=>{var n=r(94277),i=r(25586),o=r(13229),s=r(25636).Buffer,a=r(9697),c=r(39858),u=r(94021),l=s.alloc(128),f={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function h(e,t,r){var a=function(e){return"rmd160"===e||"ripemd160"===e?function(e){return(new i).update(e).digest()}:"md5"===e?n:function(t){return o(e).update(t).digest()}}(e),c="sha512"===e||"sha384"===e?128:64;t.length>c?t=a(t):t.length<c&&(t=s.concat([t,l],c));for(var u=s.allocUnsafe(c+f[e]),h=s.allocUnsafe(c+f[e]),d=0;d<c;d++)u[d]=54^t[d],h[d]=92^t[d];var p=s.allocUnsafe(c+r+4);u.copy(p,0,0,c),this.ipad1=p,this.ipad2=u,this.opad=h,this.alg=e,this.blocksize=c,this.hash=a,this.size=f[e]}h.prototype.run=function(e,t){return e.copy(t,this.blocksize),this.hash(t).copy(this.opad,this.blocksize),this.hash(this.opad)},e.exports=function(e,t,r,n,i){a(r,n);var o=new h(i=i||"sha1",e=u(e,c,"Password"),(t=u(t,c,"Salt")).length),l=s.allocUnsafe(n),d=s.allocUnsafe(t.length+4);t.copy(d,0,0,t.length);for(var p=0,y=f[i],b=Math.ceil(n/y),m=1;m<=b;m++){d.writeUInt32BE(m,t.length);for(var v=o.run(d,o.ipad1),g=v,w=1;w<r;w++){g=o.run(g,o.ipad2);for(var _=0;_<y;_++)v[_]^=g[_]}v.copy(l,p),p+=y}return l}},94021:(e,t,r)=>{var n=r(25636).Buffer;e.exports=function(e,t,r){if(n.isBuffer(e))return e;if("string"==typeof e)return n.from(e,t);if(ArrayBuffer.isView(e))return n.from(e.buffer);throw new TypeError(r+" must be a string, a Buffer, a typed array or a DataView")}},69501:e=>{e.exports=["Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"]},33254:(e,t,r)=>{var n=r(39907);void 0===n||!n.version||0===n.version.indexOf("v0.")||0===n.version.indexOf("v1.")&&0!==n.version.indexOf("v1.8.")?e.exports={nextTick:function(e,t,r,i){if("function"!=typeof e)throw new TypeError('"callback" argument must be a function');var o,s,a=arguments.length;switch(a){case 0:case 1:return n.nextTick(e);case 2:return n.nextTick((function(){e.call(null,t)}));case 3:return n.nextTick((function(){e.call(null,t,r)}));case 4:return n.nextTick((function(){e.call(null,t,r,i)}));default:for(o=new Array(a-1),s=0;s<o.length;)o[s++]=arguments[s];return n.nextTick((function(){e.apply(null,o)}))}}}:e.exports=n},39907:e=>{var t,r,n=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function s(e){if(t===setTimeout)return setTimeout(e,0);if((t===i||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(r){try{return t.call(null,e,0)}catch(r){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:i}catch(e){t=i}try{r="function"==typeof clearTimeout?clearTimeout:o}catch(e){r=o}}();var a,c=[],u=!1,l=-1;function f(){u&&a&&(u=!1,a.length?c=a.concat(c):l=-1,c.length&&h())}function h(){if(!u){var e=s(f);u=!0;for(var t=c.length;t;){for(a=c,c=[];++l<t;)a&&a[l].run();l=-1,t=c.length}a=null,u=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===o||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{return r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function d(e,t){this.fun=e,this.array=t}function p(){}n.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];c.push(new d(e,t)),1!==c.length||u||s(h)},d.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=p,n.addListener=p,n.once=p,n.off=p,n.removeListener=p,n.removeAllListeners=p,n.emit=p,n.prependListener=p,n.prependOnceListener=p,n.listeners=function(e){return[]},n.binding=function(e){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(e){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},44055:(e,t,r)=>{t.publicEncrypt=r(43737),t.privateDecrypt=r(9107),t.privateEncrypt=function(e,r){return t.publicEncrypt(e,r,!0)},t.publicDecrypt=function(e,r){return t.privateDecrypt(e,r,!0)}},82965:(e,t,r)=>{var n=r(13257),i=r(25636).Buffer;function o(e){var t=i.allocUnsafe(4);return t.writeUInt32BE(e,0),t}e.exports=function(e,t){for(var r,s=i.alloc(0),a=0;s.length<t;)r=o(a++),s=i.concat([s,n("sha1").update(e).update(r).digest()]);return s.slice(0,t)}},9107:(e,t,r)=>{var n=r(15069),i=r(82965),o=r(46358),s=r(82823),a=r(84215),c=r(13257),u=r(55810),l=r(25636).Buffer;e.exports=function(e,t,r){var f;f=e.padding?e.padding:r?1:4;var h,d=n(e),p=d.modulus.byteLength();if(t.length>p||new s(t).cmp(d.modulus)>=0)throw new Error("decryption error");h=r?u(new s(t),d):a(t,d);var y=l.alloc(p-h.length);if(h=l.concat([y,h],p),4===f)return function(e,t){var r=e.modulus.byteLength(),n=c("sha1").update(l.alloc(0)).digest(),s=n.length;if(0!==t[0])throw new Error("decryption error");var a=t.slice(1,s+1),u=t.slice(s+1),f=o(a,i(u,s)),h=o(u,i(f,r-s-1));if(function(e,t){e=l.from(e),t=l.from(t);var r=0,n=e.length;e.length!==t.length&&(r++,n=Math.min(e.length,t.length));for(var i=-1;++i<n;)r+=e[i]^t[i];return r}(n,h.slice(0,s)))throw new Error("decryption error");for(var d=s;0===h[d];)d++;if(1!==h[d++])throw new Error("decryption error");return h.slice(d)}(d,h);if(1===f)return function(e,t,r){for(var n=t.slice(0,2),i=2,o=0;0!==t[i++];)if(i>=t.length){o++;break}var s=t.slice(2,i-1);if(("0002"!==n.toString("hex")&&!r||"0001"!==n.toString("hex")&&r)&&o++,s.length<8&&o++,o)throw new Error("decryption error");return t.slice(i)}(0,h,r);if(3===f)return h;throw new Error("unknown padding")}},43737:(e,t,r)=>{var n=r(15069),i=r(22644),o=r(13257),s=r(82965),a=r(46358),c=r(82823),u=r(55810),l=r(84215),f=r(25636).Buffer;e.exports=function(e,t,r){var h;h=e.padding?e.padding:r?1:4;var d,p=n(e);if(4===h)d=function(e,t){var r=e.modulus.byteLength(),n=t.length,u=o("sha1").update(f.alloc(0)).digest(),l=u.length,h=2*l;if(n>r-h-2)throw new Error("message too long");var d=f.alloc(r-n-h-2),p=r-l-1,y=i(l),b=a(f.concat([u,d,f.alloc(1,1),t],p),s(y,p)),m=a(y,s(b,l));return new c(f.concat([f.alloc(1),m,b],r))}(p,t);else if(1===h)d=function(e,t,r){var n,o=t.length,s=e.modulus.byteLength();if(o>s-11)throw new Error("message too long");return n=r?f.alloc(s-o-3,255):function(e){for(var t,r=f.allocUnsafe(e),n=0,o=i(2*e),s=0;n<e;)s===o.length&&(o=i(2*e),s=0),(t=o[s++])&&(r[n++]=t);return r}(s-o-3),new c(f.concat([f.from([0,r?1:2]),n,f.alloc(1),t],s))}(p,t,r);else{if(3!==h)throw new Error("unknown padding");if((d=new c(t)).cmp(p.modulus)>=0)throw new Error("data too long for modulus")}return r?l(d,p):u(d,p)}},55810:(e,t,r)=>{var n=r(82823),i=r(25636).Buffer;e.exports=function(e,t){return i.from(e.toRed(n.mont(t.modulus)).redPow(new n(t.publicExponent)).fromRed().toArray())}},46358:e=>{e.exports=function(e,t){for(var r=e.length,n=-1;++n<r;)e[n]^=t[n];return e}},68032:(e,t,r)=>{const n=r(7269),i=r(28605),o=r(72851),s=r(19090),a=Symbol("encodeFragmentIdentifier");function c(e){if("string"!=typeof e||1!==e.length)throw new TypeError("arrayFormatSeparator must be single character string")}function u(e,t){return t.encode?t.strict?n(e):encodeURIComponent(e):e}function l(e,t){return t.decode?i(e):e}function f(e){return Array.isArray(e)?e.sort():"object"==typeof e?f(Object.keys(e)).sort(((e,t)=>Number(e)-Number(t))).map((t=>e[t])):e}function h(e){const t=e.indexOf("#");return-1!==t&&(e=e.slice(0,t)),e}function d(e){const t=(e=h(e)).indexOf("?");return-1===t?"":e.slice(t+1)}function p(e,t){return t.parseNumbers&&!Number.isNaN(Number(e))&&"string"==typeof e&&""!==e.trim()?e=Number(e):!t.parseBooleans||null===e||"true"!==e.toLowerCase()&&"false"!==e.toLowerCase()||(e="true"===e.toLowerCase()),e}function y(e,t){c((t=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},t)).arrayFormatSeparator);const r=function(e){let t;switch(e.arrayFormat){case"index":return(e,r,n)=>{t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===n[e]&&(n[e]={}),n[e][t[1]]=r):n[e]=r};case"bracket":return(e,r,n)=>{t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==n[e]?n[e]=[].concat(n[e],r):n[e]=[r]:n[e]=r};case"colon-list-separator":return(e,r,n)=>{t=/(:list)$/.exec(e),e=e.replace(/:list$/,""),t?void 0!==n[e]?n[e]=[].concat(n[e],r):n[e]=[r]:n[e]=r};case"comma":case"separator":return(t,r,n)=>{const i="string"==typeof r&&r.includes(e.arrayFormatSeparator),o="string"==typeof r&&!i&&l(r,e).includes(e.arrayFormatSeparator);r=o?l(r,e):r;const s=i||o?r.split(e.arrayFormatSeparator).map((t=>l(t,e))):null===r?r:l(r,e);n[t]=s};case"bracket-separator":return(t,r,n)=>{const i=/(\[\])$/.test(t);if(t=t.replace(/\[\]$/,""),!i)return void(n[t]=r?l(r,e):r);const o=null===r?[]:r.split(e.arrayFormatSeparator).map((t=>l(t,e)));void 0!==n[t]?n[t]=[].concat(n[t],o):n[t]=o};default:return(e,t,r)=>{void 0!==r[e]?r[e]=[].concat(r[e],t):r[e]=t}}}(t),n=Object.create(null);if("string"!=typeof e)return n;if(!(e=e.trim().replace(/^[?#&]/,"")))return n;for(const i of e.split("&")){if(""===i)continue;let[e,s]=o(t.decode?i.replace(/\+/g," "):i,"=");s=void 0===s?null:["comma","separator","bracket-separator"].includes(t.arrayFormat)?s:l(s,t),r(l(e,t),s,n)}for(const e of Object.keys(n)){const r=n[e];if("object"==typeof r&&null!==r)for(const e of Object.keys(r))r[e]=p(r[e],t);else n[e]=p(r,t)}return!1===t.sort?n:(!0===t.sort?Object.keys(n).sort():Object.keys(n).sort(t.sort)).reduce(((e,t)=>{const r=n[t];return Boolean(r)&&"object"==typeof r&&!Array.isArray(r)?e[t]=f(r):e[t]=r,e}),Object.create(null))}t.extract=d,t.parse=y,t.stringify=(e,t)=>{if(!e)return"";c((t=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},t)).arrayFormatSeparator);const r=r=>t.skipNull&&null==e[r]||t.skipEmptyString&&""===e[r],n=function(e){switch(e.arrayFormat){case"index":return t=>(r,n)=>{const i=r.length;return void 0===n||e.skipNull&&null===n||e.skipEmptyString&&""===n?r:null===n?[...r,[u(t,e),"[",i,"]"].join("")]:[...r,[u(t,e),"[",u(i,e),"]=",u(n,e)].join("")]};case"bracket":return t=>(r,n)=>void 0===n||e.skipNull&&null===n||e.skipEmptyString&&""===n?r:null===n?[...r,[u(t,e),"[]"].join("")]:[...r,[u(t,e),"[]=",u(n,e)].join("")];case"colon-list-separator":return t=>(r,n)=>void 0===n||e.skipNull&&null===n||e.skipEmptyString&&""===n?r:null===n?[...r,[u(t,e),":list="].join("")]:[...r,[u(t,e),":list=",u(n,e)].join("")];case"comma":case"separator":case"bracket-separator":{const t="bracket-separator"===e.arrayFormat?"[]=":"=";return r=>(n,i)=>void 0===i||e.skipNull&&null===i||e.skipEmptyString&&""===i?n:(i=null===i?"":i,0===n.length?[[u(r,e),t,u(i,e)].join("")]:[[n,u(i,e)].join(e.arrayFormatSeparator)])}default:return t=>(r,n)=>void 0===n||e.skipNull&&null===n||e.skipEmptyString&&""===n?r:null===n?[...r,u(t,e)]:[...r,[u(t,e),"=",u(n,e)].join("")]}}(t),i={};for(const t of Object.keys(e))r(t)||(i[t]=e[t]);const o=Object.keys(i);return!1!==t.sort&&o.sort(t.sort),o.map((r=>{const i=e[r];return void 0===i?"":null===i?u(r,t):Array.isArray(i)?0===i.length&&"bracket-separator"===t.arrayFormat?u(r,t)+"[]":i.reduce(n(r),[]).join("&"):u(r,t)+"="+u(i,t)})).filter((e=>e.length>0)).join("&")},t.parseUrl=(e,t)=>{t=Object.assign({decode:!0},t);const[r,n]=o(e,"#");return Object.assign({url:r.split("?")[0]||"",query:y(d(e),t)},t&&t.parseFragmentIdentifier&&n?{fragmentIdentifier:l(n,t)}:{})},t.stringifyUrl=(e,r)=>{r=Object.assign({encode:!0,strict:!0,[a]:!0},r);const n=h(e.url).split("?")[0]||"",i=t.extract(e.url),o=t.parse(i,{sort:!1}),s=Object.assign(o,e.query);let c=t.stringify(s,r);c&&(c=`?${c}`);let l=function(e){let t="";const r=e.indexOf("#");return-1!==r&&(t=e.slice(r)),t}(e.url);return e.fragmentIdentifier&&(l=`#${r[a]?u(e.fragmentIdentifier,r):e.fragmentIdentifier}`),`${n}${c}${l}`},t.pick=(e,r,n)=>{n=Object.assign({parseFragmentIdentifier:!0,[a]:!1},n);const{url:i,query:o,fragmentIdentifier:c}=t.parseUrl(e,n);return t.stringifyUrl({url:i,query:s(o,r),fragmentIdentifier:c},n)},t.exclude=(e,r,n)=>{const i=Array.isArray(r)?e=>!r.includes(e):(e,t)=>!r(e,t);return t.pick(e,i,n)}},19090:e=>{e.exports=function(e,t){for(var r={},n=Object.keys(e),i=Array.isArray(t),o=0;o<n.length;o++){var s=n[o],a=e[s];(i?-1!==t.indexOf(s):t(s,a,e))&&(r[s]=a)}return r}},53609:e=>{function t(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,n,i,o){n=n||"&",i=i||"=";var s={};if("string"!=typeof e||0===e.length)return s;var a=/\+/g;e=e.split(n);var c=1e3;o&&"number"==typeof o.maxKeys&&(c=o.maxKeys);var u=e.length;c>0&&u>c&&(u=c);for(var l=0;l<u;++l){var f,h,d,p,y=e[l].replace(a,"%20"),b=y.indexOf(i);b>=0?(f=y.substr(0,b),h=y.substr(b+1)):(f=y,h=""),d=decodeURIComponent(f),p=decodeURIComponent(h),t(s,d)?r(s[d])?s[d].push(p):s[d]=[s[d],p]:s[d]=p}return s};var r=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},86081:e=>{var t=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,o,s,a){return o=o||"&",s=s||"=",null===e&&(e=void 0),"object"==typeof e?n(i(e),(function(i){var a=encodeURIComponent(t(i))+s;return r(e[i])?n(e[i],(function(e){return a+encodeURIComponent(t(e))})).join(o):a+encodeURIComponent(t(e[i]))})).join(o):a?encodeURIComponent(t(a))+s+encodeURIComponent(t(e)):""};var r=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function n(e,t){if(e.map)return e.map(t);for(var r=[],n=0;n<e.length;n++)r.push(t(e[n],n));return r}var i=Object.keys||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return t}},10567:(e,t,r)=>{t.decode=t.parse=r(53609),t.encode=t.stringify=r(86081)},22644:(e,t,r)=>{var n=r(39907),i=65536,o=r(25636).Buffer,s=r.g.crypto||r.g.msCrypto;s&&s.getRandomValues?e.exports=function(e,t){if(e>4294967295)throw new RangeError("requested too many random bytes");var r=o.allocUnsafe(e);if(e>0)if(e>i)for(var a=0;a<e;a+=i)s.getRandomValues(r.slice(a,a+i));else s.getRandomValues(r);return"function"==typeof t?n.nextTick((function(){t(null,r)})):r}:e.exports=function(){throw new Error("Secure random number generation is not supported by this browser.\nUse Chrome, Firefox or Internet Explorer 11")}},69904:(e,t,r)=>{var n=r(39907);function i(){throw new Error("secure random number generation not supported by this browser\nuse chrome, FireFox or Internet Explorer 11")}var o=r(25636),s=r(22644),a=o.Buffer,c=o.kMaxLength,u=r.g.crypto||r.g.msCrypto,l=Math.pow(2,32)-1;function f(e,t){if("number"!=typeof e||e!=e)throw new TypeError("offset must be a number");if(e>l||e<0)throw new TypeError("offset must be a uint32");if(e>c||e>t)throw new RangeError("offset out of range")}function h(e,t,r){if("number"!=typeof e||e!=e)throw new TypeError("size must be a number");if(e>l||e<0)throw new TypeError("size must be a uint32");if(e+t>r||e>c)throw new RangeError("buffer too small")}function d(e,t,r,i){if(n.browser){var o=e.buffer,a=new Uint8Array(o,t,r);return u.getRandomValues(a),i?void n.nextTick((function(){i(null,e)})):e}if(!i)return s(r).copy(e,t),e;s(r,(function(r,n){if(r)return i(r);n.copy(e,t),i(null,e)}))}u&&u.getRandomValues||!n.browser?(t.randomFill=function(e,t,n,i){if(!(a.isBuffer(e)||e instanceof r.g.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if("function"==typeof t)i=t,t=0,n=e.length;else if("function"==typeof n)i=n,n=e.length-t;else if("function"!=typeof i)throw new TypeError('"cb" argument must be a function');return f(t,e.length),h(n,t,e.length),d(e,t,n,i)},t.randomFillSync=function(e,t,n){if(void 0===t&&(t=0),!(a.isBuffer(e)||e instanceof r.g.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return f(t,e.length),void 0===n&&(n=e.length-t),h(n,t,e.length),d(e,t,n)}):(t.randomFill=i,t.randomFillSync=i)},21434:(e,t,r)=>{const{SymbolDispose:n}=r(51473),{AbortError:i,codes:o}=r(52590),{isNodeStream:s,isWebStream:a,kControllerErrorFunction:c}=r(92520),u=r(94869),{ERR_INVALID_ARG_TYPE:l}=o;let f;e.exports.addAbortSignal=function(t,r){if(((e,t)=>{if("object"!=typeof e||!("aborted"in e))throw new l("signal","AbortSignal",e)})(t),!s(r)&&!a(r))throw new l("stream",["ReadableStream","WritableStream","Stream"],r);return e.exports.addAbortSignalNoValidate(t,r)},e.exports.addAbortSignalNoValidate=function(e,t){if("object"!=typeof e||!("aborted"in e))return t;const o=s(t)?()=>{t.destroy(new i(void 0,{cause:e.reason}))}:()=>{t[c](new i(void 0,{cause:e.reason}))};if(e.aborted)o();else{f=f||r(46609).addAbortListener;const i=f(e,o);u(t,i[n])}return t}},82:(e,t,r)=>{const{StringPrototypeSlice:n,SymbolIterator:i,TypedArrayPrototypeSet:o,Uint8Array:s}=r(51473),{Buffer:a}=r(1048),{inspect:c}=r(46609);e.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(e){const t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}unshift(e){const t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}shift(){if(0===this.length)return;const e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}clear(){this.head=this.tail=null,this.length=0}join(e){if(0===this.length)return"";let t=this.head,r=""+t.data;for(;null!==(t=t.next);)r+=e+t.data;return r}concat(e){if(0===this.length)return a.alloc(0);const t=a.allocUnsafe(e>>>0);let r=this.head,n=0;for(;r;)o(t,r.data,n),n+=r.data.length,r=r.next;return t}consume(e,t){const r=this.head.data;if(e<r.length){const t=r.slice(0,e);return this.head.data=r.slice(e),t}return e===r.length?this.shift():t?this._getString(e):this._getBuffer(e)}first(){return this.head.data}*[i](){for(let e=this.head;e;e=e.next)yield e.data}_getString(e){let t="",r=this.head,i=0;do{const o=r.data;if(!(e>o.length)){e===o.length?(t+=o,++i,r.next?this.head=r.next:this.head=this.tail=null):(t+=n(o,0,e),this.head=r,r.data=n(o,e));break}t+=o,e-=o.length,++i}while(null!==(r=r.next));return this.length-=i,t}_getBuffer(e){const t=a.allocUnsafe(e),r=e;let n=this.head,i=0;do{const a=n.data;if(!(e>a.length)){e===a.length?(o(t,a,r-e),++i,n.next?this.head=n.next:this.head=this.tail=null):(o(t,new s(a.buffer,a.byteOffset,e),r-e),this.head=n,n.data=a.slice(e));break}o(t,a,r-e),e-=a.length,++i}while(null!==(n=n.next));return this.length-=i,t}[Symbol.for("nodejs.util.inspect.custom")](e,t){return c(this,{...t,depth:0,customInspect:!1})}}},67369:(e,t,r)=>{const{pipeline:n}=r(16815),i=r(86279),{destroyer:o}=r(16527),{isNodeStream:s,isReadable:a,isWritable:c,isWebStream:u,isTransformStream:l,isWritableStream:f,isReadableStream:h}=r(92520),{AbortError:d,codes:{ERR_INVALID_ARG_VALUE:p,ERR_MISSING_ARGS:y}}=r(52590),b=r(94869);e.exports=function(...e){if(0===e.length)throw new y("streams");if(1===e.length)return i.from(e[0]);const t=[...e];if("function"==typeof e[0]&&(e[0]=i.from(e[0])),"function"==typeof e[e.length-1]){const t=e.length-1;e[t]=i.from(e[t])}for(let r=0;r<e.length;++r)if(s(e[r])||u(e[r])){if(r<e.length-1&&!(a(e[r])||h(e[r])||l(e[r])))throw new p(`streams[${r}]`,t[r],"must be readable");if(r>0&&!(c(e[r])||f(e[r])||l(e[r])))throw new p(`streams[${r}]`,t[r],"must be writable")}let r,m,v,g,w;const _=e[0],S=n(e,(function(e){const t=g;g=null,t?t(e):e?w.destroy(e):T||E||w.destroy()})),E=!!(c(_)||f(_)||l(_)),T=!!(a(S)||h(S)||l(S));if(w=new i({writableObjectMode:!(null==_||!_.writableObjectMode),readableObjectMode:!(null==S||!S.readableObjectMode),writable:E,readable:T}),E){if(s(_))w._write=function(e,t,n){_.write(e,t)?n():r=n},w._final=function(e){_.end(),m=e},_.on("drain",(function(){if(r){const e=r;r=null,e()}}));else if(u(_)){const e=(l(_)?_.writable:_).getWriter();w._write=async function(t,r,n){try{await e.ready,e.write(t).catch((()=>{})),n()}catch(e){n(e)}},w._final=async function(t){try{await e.ready,e.close().catch((()=>{})),m=t}catch(e){t(e)}}}const e=l(S)?S.readable:S;b(e,(()=>{if(m){const e=m;m=null,e()}}))}if(T)if(s(S))S.on("readable",(function(){if(v){const e=v;v=null,e()}})),S.on("end",(function(){w.push(null)})),w._read=function(){for(;;){const e=S.read();if(null===e)return void(v=w._read);if(!w.push(e))return}};else if(u(S)){const e=(l(S)?S.readable:S).getReader();w._read=async function(){for(;;)try{const{value:t,done:r}=await e.read();if(!w.push(t))return;if(r)return void w.push(null)}catch{return}}}return w._destroy=function(e,t){e||null===g||(e=new d),v=null,r=null,m=null,null===g?t(e):(g=t,s(S)&&o(S,e))},w}},16527:(e,t,r)=>{const n=r(39907),{aggregateTwoErrors:i,codes:{ERR_MULTIPLE_CALLBACK:o},AbortError:s}=r(52590),{Symbol:a}=r(51473),{kIsDestroyed:c,isDestroyed:u,isFinished:l,isServerRequest:f}=r(92520),h=a("kDestroy"),d=a("kConstruct");function p(e,t,r){e&&(e.stack,t&&!t.errored&&(t.errored=e),r&&!r.errored&&(r.errored=e))}function y(e,t,r){let i=!1;function o(t){if(i)return;i=!0;const o=e._readableState,s=e._writableState;p(t,s,o),s&&(s.closed=!0),o&&(o.closed=!0),"function"==typeof r&&r(t),t?n.nextTick(b,e,t):n.nextTick(m,e)}try{e._destroy(t||null,o)}catch(t){o(t)}}function b(e,t){v(e,t),m(e)}function m(e){const t=e._readableState,r=e._writableState;r&&(r.closeEmitted=!0),t&&(t.closeEmitted=!0),(null!=r&&r.emitClose||null!=t&&t.emitClose)&&e.emit("close")}function v(e,t){const r=e._readableState,n=e._writableState;null!=n&&n.errorEmitted||null!=r&&r.errorEmitted||(n&&(n.errorEmitted=!0),r&&(r.errorEmitted=!0),e.emit("error",t))}function g(e,t,r){const i=e._readableState,o=e._writableState;if(null!=o&&o.destroyed||null!=i&&i.destroyed)return this;null!=i&&i.autoDestroy||null!=o&&o.autoDestroy?e.destroy(t):t&&(t.stack,o&&!o.errored&&(o.errored=t),i&&!i.errored&&(i.errored=t),r?n.nextTick(v,e,t):v(e,t))}function w(e){let t=!1;function r(r){if(t)return void g(e,null!=r?r:new o);t=!0;const i=e._readableState,s=e._writableState,a=s||i;i&&(i.constructed=!0),s&&(s.constructed=!0),a.destroyed?e.emit(h,r):r?g(e,r,!0):n.nextTick(_,e)}try{e._construct((e=>{n.nextTick(r,e)}))}catch(e){n.nextTick(r,e)}}function _(e){e.emit(d)}function S(e){return(null==e?void 0:e.setHeader)&&"function"==typeof e.abort}function E(e){e.emit("close")}function T(e,t){e.emit("error",t),n.nextTick(E,e)}e.exports={construct:function(e,t){if("function"!=typeof e._construct)return;const r=e._readableState,i=e._writableState;r&&(r.constructed=!1),i&&(i.constructed=!1),e.once(d,t),e.listenerCount(d)>1||n.nextTick(w,e)},destroyer:function(e,t){e&&!u(e)&&(t||l(e)||(t=new s),f(e)?(e.socket=null,e.destroy(t)):S(e)?e.abort():S(e.req)?e.req.abort():"function"==typeof e.destroy?e.destroy(t):"function"==typeof e.close?e.close():t?n.nextTick(T,e,t):n.nextTick(E,e),e.destroyed||(e[c]=!0))},destroy:function(e,t){const r=this._readableState,n=this._writableState,o=n||r;return null!=n&&n.destroyed||null!=r&&r.destroyed?("function"==typeof t&&t(),this):(p(e,n,r),n&&(n.destroyed=!0),r&&(r.destroyed=!0),o.constructed?y(this,e,t):this.once(h,(function(r){y(this,i(r,e),t)})),this)},undestroy:function(){const e=this._readableState,t=this._writableState;e&&(e.constructed=!0,e.closed=!1,e.closeEmitted=!1,e.destroyed=!1,e.errored=null,e.errorEmitted=!1,e.reading=!1,e.ended=!1===e.readable,e.endEmitted=!1===e.readable),t&&(t.constructed=!0,t.destroyed=!1,t.closed=!1,t.closeEmitted=!1,t.errored=null,t.errorEmitted=!1,t.finalCalled=!1,t.prefinished=!1,t.ended=!1===t.writable,t.ending=!1===t.writable,t.finished=!1===t.writable)},errorOrDestroy:g}},86279:(e,t,r)=>{const{ObjectDefineProperties:n,ObjectGetOwnPropertyDescriptor:i,ObjectKeys:o,ObjectSetPrototypeOf:s}=r(51473);e.exports=u;const a=r(11509),c=r(65605);s(u.prototype,a.prototype),s(u,a);{const e=o(c.prototype);for(let t=0;t<e.length;t++){const r=e[t];u.prototype[r]||(u.prototype[r]=c.prototype[r])}}function u(e){if(!(this instanceof u))return new u(e);a.call(this,e),c.call(this,e),e?(this.allowHalfOpen=!1!==e.allowHalfOpen,!1===e.readable&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),!1===e.writable&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}let l,f;function h(){return void 0===l&&(l={}),l}n(u.prototype,{writable:{__proto__:null,...i(c.prototype,"writable")},writableHighWaterMark:{__proto__:null,...i(c.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...i(c.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...i(c.prototype,"writableBuffer")},writableLength:{__proto__:null,...i(c.prototype,"writableLength")},writableFinished:{__proto__:null,...i(c.prototype,"writableFinished")},writableCorked:{__proto__:null,...i(c.prototype,"writableCorked")},writableEnded:{__proto__:null,...i(c.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...i(c.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set(e){this._readableState&&this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}}),u.fromWeb=function(e,t){return h().newStreamDuplexFromReadableWritablePair(e,t)},u.toWeb=function(e){return h().newReadableWritablePairFromDuplex(e)},u.from=function(e){return f||(f=r(85397)),f(e,"body")}},85397:(e,t,r)=>{const n=r(39907),i=r(1048),{isReadable:o,isWritable:s,isIterable:a,isNodeStream:c,isReadableNodeStream:u,isWritableNodeStream:l,isDuplexNodeStream:f,isReadableStream:h,isWritableStream:d}=r(92520),p=r(94869),{AbortError:y,codes:{ERR_INVALID_ARG_TYPE:b,ERR_INVALID_RETURN_VALUE:m}}=r(52590),{destroyer:v}=r(16527),g=r(86279),w=r(11509),_=r(65605),{createDeferredPromise:S}=r(46609),E=r(81613),T=globalThis.Blob||i.Blob,O=void 0!==T?function(e){return e instanceof T}:function(e){return!1},x=globalThis.AbortController||r(67083).AbortController,{FunctionPrototypeCall:A}=r(51473);class M extends g{constructor(e){super(e),!1===(null==e?void 0:e.readable)&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),!1===(null==e?void 0:e.writable)&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}}function P(e){const t=e.readable&&"function"!=typeof e.readable.read?w.wrap(e.readable):e.readable,r=e.writable;let n,i,a,c,u,l=!!o(t),f=!!s(r);function h(e){const t=c;c=null,t?t(e):e&&u.destroy(e)}return u=new M({readableObjectMode:!(null==t||!t.readableObjectMode),writableObjectMode:!(null==r||!r.writableObjectMode),readable:l,writable:f}),f&&(p(r,(e=>{f=!1,e&&v(t,e),h(e)})),u._write=function(e,t,i){r.write(e,t)?i():n=i},u._final=function(e){r.end(),i=e},r.on("drain",(function(){if(n){const e=n;n=null,e()}})),r.on("finish",(function(){if(i){const e=i;i=null,e()}}))),l&&(p(t,(e=>{l=!1,e&&v(t,e),h(e)})),t.on("readable",(function(){if(a){const e=a;a=null,e()}})),t.on("end",(function(){u.push(null)})),u._read=function(){for(;;){const e=t.read();if(null===e)return void(a=u._read);if(!u.push(e))return}}),u._destroy=function(e,o){e||null===c||(e=new y),a=null,n=null,i=null,null===c?o(e):(c=o,v(r,e),v(t,e))},u}e.exports=function e(t,r){if(f(t))return t;if(u(t))return P({readable:t});if(l(t))return P({writable:t});if(c(t))return P({writable:!1,readable:!1});if(h(t))return P({readable:w.fromWeb(t)});if(d(t))return P({writable:_.fromWeb(t)});if("function"==typeof t){const{value:e,write:i,final:o,destroy:s}=function(e){let{promise:t,resolve:r}=S();const i=new x,o=i.signal;return{value:e(async function*(){for(;;){const e=t;t=null;const{chunk:i,done:s,cb:a}=await e;if(n.nextTick(a),s)return;if(o.aborted)throw new y(void 0,{cause:o.reason});({promise:t,resolve:r}=S()),yield i}}(),{signal:o}),write(e,t,n){const i=r;r=null,i({chunk:e,done:!1,cb:n})},final(e){const t=r;r=null,t({done:!0,cb:e})},destroy(e,t){i.abort(),t(e)}}}(t);if(a(e))return E(M,e,{objectMode:!0,write:i,final:o,destroy:s});const c=null==e?void 0:e.then;if("function"==typeof c){let t;const r=A(c,e,(e=>{if(null!=e)throw new m("nully","body",e)}),(e=>{v(t,e)}));return t=new M({objectMode:!0,readable:!1,write:i,final(e){o((async()=>{try{await r,n.nextTick(e,null)}catch(t){n.nextTick(e,t)}}))},destroy:s})}throw new m("Iterable, AsyncIterable or AsyncFunction",r,e)}if(O(t))return e(t.arrayBuffer());if(a(t))return E(M,t,{objectMode:!0,writable:!1});if(h(null==t?void 0:t.readable)&&d(null==t?void 0:t.writable))return M.fromWeb(t);if("object"==typeof(null==t?void 0:t.writable)||"object"==typeof(null==t?void 0:t.readable))return P({readable:null!=t&&t.readable?u(null==t?void 0:t.readable)?null==t?void 0:t.readable:e(t.readable):void 0,writable:null!=t&&t.writable?l(null==t?void 0:t.writable)?null==t?void 0:t.writable:e(t.writable):void 0});const i=null==t?void 0:t.then;if("function"==typeof i){let e;return A(i,t,(t=>{null!=t&&e.push(t),e.push(null)}),(t=>{v(e,t)})),e=new M({objectMode:!0,writable:!1,read(){}})}throw new b(r,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],t)}},94869:(e,t,r)=>{const n=r(39907),{AbortError:i,codes:o}=r(52590),{ERR_INVALID_ARG_TYPE:s,ERR_STREAM_PREMATURE_CLOSE:a}=o,{kEmptyObject:c,once:u}=r(46609),{validateAbortSignal:l,validateFunction:f,validateObject:h,validateBoolean:d}=r(77840),{Promise:p,PromisePrototypeThen:y,SymbolDispose:b}=r(51473),{isClosed:m,isReadable:v,isReadableNodeStream:g,isReadableStream:w,isReadableFinished:_,isReadableErrored:S,isWritable:E,isWritableNodeStream:T,isWritableStream:O,isWritableFinished:x,isWritableErrored:A,isNodeStream:M,willEmitClose:P,kIsClosedPromise:I}=r(92520);let j;const R=()=>{};function k(e,t,o){var d,p;if(2===arguments.length?(o=t,t=c):null==t?t=c:h(t,"options"),f(o,"callback"),l(t.signal,"options.signal"),o=u(o),w(e)||O(e))return function(e,t,o){let s=!1,a=R;if(t.signal)if(a=()=>{s=!0,o.call(e,new i(void 0,{cause:t.signal.reason}))},t.signal.aborted)n.nextTick(a);else{j=j||r(46609).addAbortListener;const n=j(t.signal,a),i=o;o=u(((...t)=>{n[b](),i.apply(e,t)}))}const c=(...t)=>{s||n.nextTick((()=>o.apply(e,t)))};return y(e[I].promise,c,c),R}(e,t,o);if(!M(e))throw new s("stream",["ReadableStream","WritableStream","Stream"],e);const k=null!==(d=t.readable)&&void 0!==d?d:g(e),C=null!==(p=t.writable)&&void 0!==p?p:T(e),$=e._writableState,N=e._readableState,L=()=>{e.writable||F()};let B=P(e)&&g(e)===k&&T(e)===C,D=x(e,!1);const F=()=>{D=!0,e.destroyed&&(B=!1),(!B||e.readable&&!k)&&(k&&!U||o.call(e))};let U=_(e,!1);const q=()=>{U=!0,e.destroyed&&(B=!1),(!B||e.writable&&!C)&&(C&&!D||o.call(e))},W=t=>{o.call(e,t)};let z=m(e);const V=()=>{z=!0;const t=A(e)||S(e);return t&&"boolean"!=typeof t?o.call(e,t):k&&!U&&g(e,!0)&&!_(e,!1)?o.call(e,new a):!C||D||x(e,!1)?void o.call(e):o.call(e,new a)},H=()=>{z=!0;const t=A(e)||S(e);if(t&&"boolean"!=typeof t)return o.call(e,t);o.call(e)},G=()=>{e.req.on("finish",F)};!function(e){return e.setHeader&&"function"==typeof e.abort}(e)?C&&!$&&(e.on("end",L),e.on("close",L)):(e.on("complete",F),B||e.on("abort",V),e.req?G():e.on("request",G)),B||"boolean"!=typeof e.aborted||e.on("aborted",V),e.on("end",q),e.on("finish",F),!1!==t.error&&e.on("error",W),e.on("close",V),z?n.nextTick(V):null!=$&&$.errorEmitted||null!=N&&N.errorEmitted?B||n.nextTick(H):(k||B&&!v(e)||!D&&!1!==E(e))&&(C||B&&!E(e)||!U&&!1!==v(e))?N&&e.req&&e.aborted&&n.nextTick(H):n.nextTick(H);const K=()=>{o=R,e.removeListener("aborted",V),e.removeListener("complete",F),e.removeListener("abort",V),e.removeListener("request",G),e.req&&e.req.removeListener("finish",F),e.removeListener("end",L),e.removeListener("close",L),e.removeListener("finish",F),e.removeListener("end",q),e.removeListener("error",W),e.removeListener("close",V)};if(t.signal&&!z){const s=()=>{const r=o;K(),r.call(e,new i(void 0,{cause:t.signal.reason}))};if(t.signal.aborted)n.nextTick(s);else{j=j||r(46609).addAbortListener;const n=j(t.signal,s),i=o;o=u(((...t)=>{n[b](),i.apply(e,t)}))}}return K}e.exports=k,e.exports.finished=function(e,t){var r;let n=!1;return null===t&&(t=c),null!==(r=t)&&void 0!==r&&r.cleanup&&(d(t.cleanup,"cleanup"),n=t.cleanup),new p(((r,i)=>{const o=k(e,t,(e=>{n&&o(),e?i(e):r()}))}))}},81613:(e,t,r)=>{const n=r(39907),{PromisePrototypeThen:i,SymbolAsyncIterator:o,SymbolIterator:s}=r(51473),{Buffer:a}=r(1048),{ERR_INVALID_ARG_TYPE:c,ERR_STREAM_NULL_VALUES:u}=r(52590).codes;e.exports=function(e,t,r){let l,f;if("string"==typeof t||t instanceof a)return new e({objectMode:!0,...r,read(){this.push(t),this.push(null)}});if(t&&t[o])f=!0,l=t[o]();else{if(!t||!t[s])throw new c("iterable",["Iterable"],t);f=!1,l=t[s]()}const h=new e({objectMode:!0,highWaterMark:1,...r});let d=!1;return h._read=function(){d||(d=!0,async function(){for(;;){try{const{value:e,done:t}=f?await l.next():l.next();if(t)h.push(null);else{const t=e&&"function"==typeof e.then?await e:e;if(null===t)throw d=!1,new u;if(h.push(t))continue;d=!1}}catch(e){h.destroy(e)}break}}())},h._destroy=function(e,t){i(async function(e){const t=null!=e,r="function"==typeof l.throw;if(t&&r){const{value:t,done:r}=await l.throw(e);if(await t,r)return}if("function"==typeof l.return){const{value:e}=await l.return();await e}}(e),(()=>n.nextTick(t,e)),(r=>n.nextTick(t,r||e)))},h}},23054:(e,t,r)=>{const{ArrayIsArray:n,ObjectSetPrototypeOf:i}=r(51473),{EventEmitter:o}=r(50046);function s(e){o.call(this,e)}function a(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?n(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}i(s.prototype,o.prototype),i(s,o),s.prototype.pipe=function(e,t){const r=this;function n(t){e.writable&&!1===e.write(t)&&r.pause&&r.pause()}function i(){r.readable&&r.resume&&r.resume()}r.on("data",n),e.on("drain",i),e._isStdio||t&&!1===t.end||(r.on("end",c),r.on("close",u));let s=!1;function c(){s||(s=!0,e.end())}function u(){s||(s=!0,"function"==typeof e.destroy&&e.destroy())}function l(e){f(),0===o.listenerCount(this,"error")&&this.emit("error",e)}function f(){r.removeListener("data",n),e.removeListener("drain",i),r.removeListener("end",c),r.removeListener("close",u),r.removeListener("error",l),e.removeListener("error",l),r.removeListener("end",f),r.removeListener("close",f),e.removeListener("close",f)}return a(r,"error",l),a(e,"error",l),r.on("end",f),r.on("close",f),e.on("close",f),e.emit("pipe",r),e},e.exports={Stream:s,prependListener:a}},64708:(e,t,r)=>{const n=globalThis.AbortController||r(67083).AbortController,{codes:{ERR_INVALID_ARG_VALUE:i,ERR_INVALID_ARG_TYPE:o,ERR_MISSING_ARGS:s,ERR_OUT_OF_RANGE:a},AbortError:c}=r(52590),{validateAbortSignal:u,validateInteger:l,validateObject:f}=r(77840),h=r(51473).Symbol("kWeak"),d=r(51473).Symbol("kResistStopPropagation"),{finished:p}=r(94869),y=r(67369),{addAbortSignalNoValidate:b}=r(21434),{isWritable:m,isNodeStream:v}=r(92520),{deprecate:g}=r(46609),{ArrayPrototypePush:w,Boolean:_,MathFloor:S,Number:E,NumberIsNaN:T,Promise:O,PromiseReject:x,PromiseResolve:A,PromisePrototypeThen:M,Symbol:P}=r(51473),I=P("kEmpty"),j=P("kEof");function R(e,t){if("function"!=typeof e)throw new o("fn",["Function","AsyncFunction"],e);null!=t&&f(t,"options"),null!=(null==t?void 0:t.signal)&&u(t.signal,"options.signal");let n=1;null!=(null==t?void 0:t.concurrency)&&(n=S(t.concurrency));let i=n-1;return null!=(null==t?void 0:t.highWaterMark)&&(i=S(t.highWaterMark)),l(n,"options.concurrency",1),l(i,"options.highWaterMark",0),i+=n,async function*(){const o=r(46609).AbortSignalAny([null==t?void 0:t.signal].filter(_)),s=this,a=[],u={signal:o};let l,f,h=!1,d=0;function p(){h=!0,y()}function y(){d-=1,b()}function b(){f&&!h&&d<n&&a.length<i&&(f(),f=null)}!async function(){try{for await(let t of s){if(h)return;if(o.aborted)throw new c;try{if(t=e(t,u),t===I)continue;t=A(t)}catch(e){t=x(e)}d+=1,M(t,y,p),a.push(t),l&&(l(),l=null),!h&&(a.length>=i||d>=n)&&await new O((e=>{f=e}))}a.push(j)}catch(e){const t=x(e);M(t,y,p),a.push(t)}finally{h=!0,l&&(l(),l=null)}}();try{for(;;){for(;a.length>0;){const e=await a[0];if(e===j)return;if(o.aborted)throw new c;e!==I&&(yield e),a.shift(),b()}await new O((e=>{l=e}))}}finally{h=!0,f&&(f(),f=null)}}.call(this)}async function k(e,t=void 0){for await(const r of C.call(this,e,t))return!0;return!1}function C(e,t){if("function"!=typeof e)throw new o("fn",["Function","AsyncFunction"],e);return R.call(this,(async function(t,r){return await e(t,r)?t:I}),t)}class $ extends s{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}}function N(e){if(e=E(e),T(e))return 0;if(e<0)throw new a("number",">= 0",e);return e}e.exports.streamReturningOperators={asIndexedPairs:g((function(e=void 0){return null!=e&&f(e,"options"),null!=(null==e?void 0:e.signal)&&u(e.signal,"options.signal"),async function*(){let t=0;for await(const n of this){var r;if(null!=e&&null!==(r=e.signal)&&void 0!==r&&r.aborted)throw new c({cause:e.signal.reason});yield[t++,n]}}.call(this)}),"readable.asIndexedPairs will be removed in a future version."),drop:function(e,t=void 0){return null!=t&&f(t,"options"),null!=(null==t?void 0:t.signal)&&u(t.signal,"options.signal"),e=N(e),async function*(){var r;if(null!=t&&null!==(r=t.signal)&&void 0!==r&&r.aborted)throw new c;for await(const r of this){var n;if(null!=t&&null!==(n=t.signal)&&void 0!==n&&n.aborted)throw new c;e--<=0&&(yield r)}}.call(this)},filter:C,flatMap:function(e,t){const r=R.call(this,e,t);return async function*(){for await(const e of r)yield*e}.call(this)},map:R,take:function(e,t=void 0){return null!=t&&f(t,"options"),null!=(null==t?void 0:t.signal)&&u(t.signal,"options.signal"),e=N(e),async function*(){var r;if(null!=t&&null!==(r=t.signal)&&void 0!==r&&r.aborted)throw new c;for await(const r of this){var n;if(null!=t&&null!==(n=t.signal)&&void 0!==n&&n.aborted)throw new c;if(e-- >0&&(yield r),e<=0)return}}.call(this)},compose:function(e,t){if(null!=t&&f(t,"options"),null!=(null==t?void 0:t.signal)&&u(t.signal,"options.signal"),v(e)&&!m(e))throw new i("stream",e,"must be writable");const r=y(this,e);return null!=t&&t.signal&&b(t.signal,r),r}},e.exports.promiseReturningOperators={every:async function(e,t=void 0){if("function"!=typeof e)throw new o("fn",["Function","AsyncFunction"],e);return!await k.call(this,(async(...t)=>!await e(...t)),t)},forEach:async function(e,t){if("function"!=typeof e)throw new o("fn",["Function","AsyncFunction"],e);for await(const r of R.call(this,(async function(t,r){return await e(t,r),I}),t));},reduce:async function(e,t,r){var i;if("function"!=typeof e)throw new o("reducer",["Function","AsyncFunction"],e);null!=r&&f(r,"options"),null!=(null==r?void 0:r.signal)&&u(r.signal,"options.signal");let s=arguments.length>1;if(null!=r&&null!==(i=r.signal)&&void 0!==i&&i.aborted){const e=new c(void 0,{cause:r.signal.reason});throw this.once("error",(()=>{})),await p(this.destroy(e)),e}const a=new n,l=a.signal;if(null!=r&&r.signal){const e={once:!0,[h]:this,[d]:!0};r.signal.addEventListener("abort",(()=>a.abort()),e)}let y=!1;try{for await(const n of this){var b;if(y=!0,null!=r&&null!==(b=r.signal)&&void 0!==b&&b.aborted)throw new c;s?t=await e(t,n,{signal:l}):(t=n,s=!0)}if(!y&&!s)throw new $}finally{a.abort()}return t},toArray:async function(e){null!=e&&f(e,"options"),null!=(null==e?void 0:e.signal)&&u(e.signal,"options.signal");const t=[];for await(const n of this){var r;if(null!=e&&null!==(r=e.signal)&&void 0!==r&&r.aborted)throw new c(void 0,{cause:e.signal.reason});w(t,n)}return t},some:k,find:async function(e,t){for await(const r of C.call(this,e,t))return r}}},76587:(e,t,r)=>{const{ObjectSetPrototypeOf:n}=r(51473);e.exports=o;const i=r(32073);function o(e){if(!(this instanceof o))return new o(e);i.call(this,e)}n(o.prototype,i.prototype),n(o,i),o.prototype._transform=function(e,t,r){r(null,e)}},16815:(e,t,r)=>{const n=r(39907),{ArrayIsArray:i,Promise:o,SymbolAsyncIterator:s,SymbolDispose:a}=r(51473),c=r(94869),{once:u}=r(46609),l=r(16527),f=r(86279),{aggregateTwoErrors:h,codes:{ERR_INVALID_ARG_TYPE:d,ERR_INVALID_RETURN_VALUE:p,ERR_MISSING_ARGS:y,ERR_STREAM_DESTROYED:b,ERR_STREAM_PREMATURE_CLOSE:m},AbortError:v}=r(52590),{validateFunction:g,validateAbortSignal:w}=r(77840),{isIterable:_,isReadable:S,isReadableNodeStream:E,isNodeStream:T,isTransformStream:O,isWebStream:x,isReadableStream:A,isReadableFinished:M}=r(92520),P=globalThis.AbortController||r(67083).AbortController;let I,j,R;function k(e,t,r){let n=!1;return e.on("close",(()=>{n=!0})),{destroy:t=>{n||(n=!0,l.destroyer(e,t||new b("pipe")))},cleanup:c(e,{readable:t,writable:r},(e=>{n=!e}))}}function C(e){if(_(e))return e;if(E(e))return async function*(e){j||(j=r(11509)),yield*j.prototype[s].call(e)}(e);throw new d("val",["Readable","Iterable","AsyncIterable"],e)}async function $(e,t,r,{end:n}){let i,s=null;const a=e=>{if(e&&(i=e),s){const e=s;s=null,e()}},u=()=>new o(((e,t)=>{i?t(i):s=()=>{i?t(i):e()}}));t.on("drain",a);const l=c(t,{readable:!1},a);try{t.writableNeedDrain&&await u();for await(const r of e)t.write(r)||await u();n&&(t.end(),await u()),r()}catch(e){r(i!==e?h(i,e):e)}finally{l(),t.off("drain",a)}}async function N(e,t,r,{end:n}){O(t)&&(t=t.writable);const i=t.getWriter();try{for await(const t of e)await i.ready,i.write(t).catch((()=>{}));await i.ready,n&&await i.close(),r()}catch(e){try{await i.abort(e),r(e)}catch(e){r(e)}}}function L(e,t,o){if(1===e.length&&i(e[0])&&(e=e[0]),e.length<2)throw new y("streams");const s=new P,c=s.signal,u=null==o?void 0:o.signal,l=[];function h(){F(new v)}let b,m,g;w(u,"options.signal"),R=R||r(46609).addAbortListener,u&&(b=R(u,h));const M=[];let j,L=0;function D(e){F(e,0==--L)}function F(e,r){var i;if(!e||m&&"ERR_STREAM_PREMATURE_CLOSE"!==m.code||(m=e),m||r){for(;M.length;)M.shift()(m);null===(i=b)||void 0===i||i[a](),s.abort(),r&&(m||l.forEach((e=>e())),n.nextTick(t,m,g))}}for(let W=0;W<e.length;W++){const z=e[W],V=W<e.length-1,H=W>0,G=V||!1!==(null==o?void 0:o.end),K=W===e.length-1;if(T(z)){if(G){const{destroy:J,cleanup:X}=k(z,V,H);M.push(J),S(z)&&K&&l.push(X)}function Y(e){e&&"AbortError"!==e.name&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code&&D(e)}z.on("error",Y),S(z)&&K&&l.push((()=>{z.removeListener("error",Y)}))}if(0===W)if("function"==typeof z){if(j=z({signal:c}),!_(j))throw new p("Iterable, AsyncIterable or Stream","source",j)}else j=_(z)||E(z)||O(z)?z:f.from(z);else if("function"==typeof z){var U;if(j=O(j)?C(null===(U=j)||void 0===U?void 0:U.readable):C(j),j=z(j,{signal:c}),V){if(!_(j,!0))throw new p("AsyncIterable",`transform[${W-1}]`,j)}else{var q;I||(I=r(76587));const Z=new I({objectMode:!0}),Q=null===(q=j)||void 0===q?void 0:q.then;if("function"==typeof Q)L++,Q.call(j,(e=>{g=e,null!=e&&Z.write(e),G&&Z.end(),n.nextTick(D)}),(e=>{Z.destroy(e),n.nextTick(D,e)}));else if(_(j,!0))L++,$(j,Z,D,{end:G});else{if(!A(j)&&!O(j))throw new p("AsyncIterable or Promise","destination",j);{const re=j.readable||j;L++,$(re,Z,D,{end:G})}}j=Z;const{destroy:ee,cleanup:te}=k(j,!1,!0);M.push(ee),K&&l.push(te)}}else if(T(z)){if(E(j)){L+=2;const ne=B(j,z,D,{end:G});S(z)&&K&&l.push(ne)}else if(O(j)||A(j)){const ie=j.readable||j;L++,$(ie,z,D,{end:G})}else{if(!_(j))throw new d("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],j);L++,$(j,z,D,{end:G})}j=z}else if(x(z)){if(E(j))L++,N(C(j),z,D,{end:G});else if(A(j)||_(j))L++,N(j,z,D,{end:G});else{if(!O(j))throw new d("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],j);L++,N(j.readable,z,D,{end:G})}j=z}else j=f.from(z)}return(null!=c&&c.aborted||null!=u&&u.aborted)&&n.nextTick(h),j}function B(e,t,r,{end:i}){let o=!1;if(t.on("close",(()=>{o||r(new m)})),e.pipe(t,{end:!1}),i){function s(){o=!0,t.end()}M(e)?n.nextTick(s):e.once("end",s)}else r();return c(e,{readable:!0,writable:!1},(t=>{const n=e._readableState;t&&"ERR_STREAM_PREMATURE_CLOSE"===t.code&&n&&n.ended&&!n.errored&&!n.errorEmitted?e.once("end",r).once("error",r):r(t)})),c(t,{readable:!1,writable:!0},r)}e.exports={pipelineImpl:L,pipeline:function(...e){return L(e,u(function(e){return g(e[e.length-1],"streams[stream.length - 1]"),e.pop()}(e)))}}},11509:(e,t,r)=>{const n=r(39907),{ArrayPrototypeIndexOf:i,NumberIsInteger:o,NumberIsNaN:s,NumberParseInt:a,ObjectDefineProperties:c,ObjectKeys:u,ObjectSetPrototypeOf:l,Promise:f,SafeSet:h,SymbolAsyncDispose:d,SymbolAsyncIterator:p,Symbol:y}=r(51473);e.exports=Y,Y.ReadableState=K;const{EventEmitter:b}=r(50046),{Stream:m,prependListener:v}=r(23054),{Buffer:g}=r(1048),{addAbortSignal:w}=r(21434),_=r(94869);let S=r(46609).debuglog("stream",(e=>{S=e}));const E=r(82),T=r(16527),{getHighWaterMark:O,getDefaultHighWaterMark:x}=r(89952),{aggregateTwoErrors:A,codes:{ERR_INVALID_ARG_TYPE:M,ERR_METHOD_NOT_IMPLEMENTED:P,ERR_OUT_OF_RANGE:I,ERR_STREAM_PUSH_AFTER_EOF:j,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:R},AbortError:k}=r(52590),{validateObject:C}=r(77840),$=y("kPaused"),{StringDecoder:N}=r(18888),L=r(81613);l(Y.prototype,m.prototype),l(Y,m);const B=()=>{},{errorOrDestroy:D}=T,F=1,U=16,q=32,W=64,z=2048,V=4096,H=65536;function G(e){return{enumerable:!1,get(){return!!(this.state&e)},set(t){t?this.state|=e:this.state&=~e}}}function K(e,t,n){"boolean"!=typeof n&&(n=t instanceof r(86279)),this.state=z|V|U|q,e&&e.objectMode&&(this.state|=F),n&&e&&e.readableObjectMode&&(this.state|=F),this.highWaterMark=e?O(this,e,"readableHighWaterMark",n):x(!1),this.buffer=new E,this.length=0,this.pipes=[],this.flowing=null,this[$]=null,e&&!1===e.emitClose&&(this.state&=~z),e&&!1===e.autoDestroy&&(this.state&=~V),this.errored=null,this.defaultEncoding=e&&e.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,e&&e.encoding&&(this.decoder=new N(e.encoding),this.encoding=e.encoding)}function Y(e){if(!(this instanceof Y))return new Y(e);const t=this instanceof r(86279);this._readableState=new K(e,this,t),e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.construct&&(this._construct=e.construct),e.signal&&!t&&w(e.signal,this)),m.call(this,e),T.construct(this,(()=>{this._readableState.needReadable&&te(this,this._readableState)}))}function J(e,t,r,n){S("readableAddChunk",t);const i=e._readableState;let o;if(i.state&F||("string"==typeof t?(r=r||i.defaultEncoding,i.encoding!==r&&(n&&i.encoding?t=g.from(t,r).toString(i.encoding):(t=g.from(t,r),r=""))):t instanceof g?r="":m._isUint8Array(t)?(t=m._uint8ArrayToBuffer(t),r=""):null!=t&&(o=new M("chunk",["string","Buffer","Uint8Array"],t))),o)D(e,o);else if(null===t)i.state&=-9,function(e,t){if(S("onEofChunk"),!t.ended){if(t.decoder){const e=t.decoder.end();e&&e.length&&(t.buffer.push(e),t.length+=t.objectMode?1:e.length)}t.ended=!0,t.sync?Q(e):(t.needReadable=!1,t.emittedReadable=!0,ee(e))}}(e,i);else if(i.state&F||t&&t.length>0)if(n)if(4&i.state)D(e,new R);else{if(i.destroyed||i.errored)return!1;X(e,i,t,!0)}else if(i.ended)D(e,new j);else{if(i.destroyed||i.errored)return!1;i.state&=-9,i.decoder&&!r?(t=i.decoder.write(t),i.objectMode||0!==t.length?X(e,i,t,!1):te(e,i)):X(e,i,t,!1)}else n||(i.state&=-9,te(e,i));return!i.ended&&(i.length<i.highWaterMark||0===i.length)}function X(e,t,r,n){t.flowing&&0===t.length&&!t.sync&&e.listenerCount("data")>0?(t.state&H?t.awaitDrainWriters.clear():t.awaitDrainWriters=null,t.dataEmitted=!0,e.emit("data",r)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.state&W&&Q(e)),te(e,t)}function Z(e,t){return e<=0||0===t.length&&t.ended?0:t.state&F?1:s(e)?t.flowing&&t.length?t.buffer.first().length:t.length:e<=t.length?e:t.ended?t.length:0}function Q(e){const t=e._readableState;S("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(S("emitReadable",t.flowing),t.emittedReadable=!0,n.nextTick(ee,e))}function ee(e){const t=e._readableState;S("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||t.errored||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,se(e)}function te(e,t){!t.readingMore&&t.constructed&&(t.readingMore=!0,n.nextTick(re,e,t))}function re(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){const r=t.length;if(S("maybeReadMore read 0"),e.read(0),r===t.length)break}t.readingMore=!1}function ne(e){const t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!1===t[$]?t.flowing=!0:e.listenerCount("data")>0?e.resume():t.readableListening||(t.flowing=null)}function ie(e){S("readable nexttick read 0"),e.read(0)}function oe(e,t){S("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),se(e),t.flowing&&!t.reading&&e.read(0)}function se(e){const t=e._readableState;for(S("flow",t.flowing);t.flowing&&null!==e.read(););}function ae(e,t){"function"!=typeof e.read&&(e=Y.wrap(e,{objectMode:!0}));const r=async function*(e,t){let r,n=B;function i(t){this===e?(n(),n=B):n=t}e.on("readable",i);const o=_(e,{writable:!1},(e=>{r=e?A(r,e):null,n(),n=B}));try{for(;;){const t=e.destroyed?null:e.read();if(null!==t)yield t;else{if(r)throw r;if(null===r)return;await new f(i)}}}catch(e){throw r=A(r,e),r}finally{!r&&!1===(null==t?void 0:t.destroyOnReturn)||void 0!==r&&!e._readableState.autoDestroy?(e.off("readable",i),o()):T.destroyer(e,null)}}(e,t);return r.stream=e,r}function ce(e,t){if(0===t.length)return null;let r;return t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):r=t.buffer.consume(e,t.decoder),r}function ue(e){const t=e._readableState;S("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,n.nextTick(le,t,e))}function le(e,t){if(S("endReadableNT",e.endEmitted,e.length),!e.errored&&!e.closeEmitted&&!e.endEmitted&&0===e.length)if(e.endEmitted=!0,t.emit("end"),t.writable&&!1===t.allowHalfOpen)n.nextTick(fe,t);else if(e.autoDestroy){const e=t._writableState;(!e||e.autoDestroy&&(e.finished||!1===e.writable))&&t.destroy()}}function fe(e){e.writable&&!e.writableEnded&&!e.destroyed&&e.end()}let he;function de(){return void 0===he&&(he={}),he}c(K.prototype,{objectMode:G(F),ended:G(2),endEmitted:G(4),reading:G(8),constructed:G(U),sync:G(q),needReadable:G(W),emittedReadable:G(128),readableListening:G(256),resumeScheduled:G(512),errorEmitted:G(1024),emitClose:G(z),autoDestroy:G(V),destroyed:G(8192),closed:G(16384),closeEmitted:G(32768),multiAwaitDrain:G(H),readingMore:G(1<<17),dataEmitted:G(1<<18)}),Y.prototype.destroy=T.destroy,Y.prototype._undestroy=T.undestroy,Y.prototype._destroy=function(e,t){t(e)},Y.prototype[b.captureRejectionSymbol]=function(e){this.destroy(e)},Y.prototype[d]=function(){let e;return this.destroyed||(e=this.readableEnded?null:new k,this.destroy(e)),new f(((t,r)=>_(this,(n=>n&&n!==e?r(n):t(null)))))},Y.prototype.push=function(e,t){return J(this,e,t,!1)},Y.prototype.unshift=function(e,t){return J(this,e,t,!0)},Y.prototype.isPaused=function(){const e=this._readableState;return!0===e[$]||!1===e.flowing},Y.prototype.setEncoding=function(e){const t=new N(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;const r=this._readableState.buffer;let n="";for(const e of r)n+=t.write(e);return r.clear(),""!==n&&r.push(n),this._readableState.length=n.length,this},Y.prototype.read=function(e){S("read",e),void 0===e?e=NaN:o(e)||(e=a(e,10));const t=this._readableState,r=e;if(e>t.highWaterMark&&(t.highWaterMark=function(e){if(e>1073741824)throw new I("size","<= 1GiB",e);return e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,++e}(e)),0!==e&&(t.state&=-129),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return S("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?ue(this):Q(this),null;if(0===(e=Z(e,t))&&t.ended)return 0===t.length&&ue(this),null;let n,i=!!(t.state&W);if(S("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&(i=!0,S("length less than watermark",i)),t.ended||t.reading||t.destroyed||t.errored||!t.constructed)i=!1,S("reading, ended or constructing",i);else if(i){S("do read"),t.state|=8|q,0===t.length&&(t.state|=W);try{this._read(t.highWaterMark)}catch(e){D(this,e)}t.state&=~q,t.reading||(e=Z(r,t))}return n=e>0?ce(e,t):null,null===n?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.multiAwaitDrain?t.awaitDrainWriters.clear():t.awaitDrainWriters=null),0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&ue(this)),null===n||t.errorEmitted||t.closeEmitted||(t.dataEmitted=!0,this.emit("data",n)),n},Y.prototype._read=function(e){throw new P("_read()")},Y.prototype.pipe=function(e,t){const r=this,i=this._readableState;1===i.pipes.length&&(i.multiAwaitDrain||(i.multiAwaitDrain=!0,i.awaitDrainWriters=new h(i.awaitDrainWriters?[i.awaitDrainWriters]:[]))),i.pipes.push(e),S("pipe count=%d opts=%j",i.pipes.length,t);const o=t&&!1===t.end||e===n.stdout||e===n.stderr?y:s;function s(){S("onend"),e.end()}let a;i.endEmitted?n.nextTick(o):r.once("end",o),e.on("unpipe",(function t(n,o){S("onunpipe"),n===r&&o&&!1===o.hasUnpiped&&(o.hasUnpiped=!0,S("cleanup"),e.removeListener("close",d),e.removeListener("finish",p),a&&e.removeListener("drain",a),e.removeListener("error",f),e.removeListener("unpipe",t),r.removeListener("end",s),r.removeListener("end",y),r.removeListener("data",l),c=!0,a&&i.awaitDrainWriters&&(!e._writableState||e._writableState.needDrain)&&a())}));let c=!1;function u(){c||(1===i.pipes.length&&i.pipes[0]===e?(S("false write response, pause",0),i.awaitDrainWriters=e,i.multiAwaitDrain=!1):i.pipes.length>1&&i.pipes.includes(e)&&(S("false write response, pause",i.awaitDrainWriters.size),i.awaitDrainWriters.add(e)),r.pause()),a||(a=function(e,t){return function(){const r=e._readableState;r.awaitDrainWriters===t?(S("pipeOnDrain",1),r.awaitDrainWriters=null):r.multiAwaitDrain&&(S("pipeOnDrain",r.awaitDrainWriters.size),r.awaitDrainWriters.delete(t)),r.awaitDrainWriters&&0!==r.awaitDrainWriters.size||!e.listenerCount("data")||e.resume()}}(r,e),e.on("drain",a))}function l(t){S("ondata");const r=e.write(t);S("dest.write",r),!1===r&&u()}function f(t){if(S("onerror",t),y(),e.removeListener("error",f),0===e.listenerCount("error")){const r=e._writableState||e._readableState;r&&!r.errorEmitted?D(e,t):e.emit("error",t)}}function d(){e.removeListener("finish",p),y()}function p(){S("onfinish"),e.removeListener("close",d),y()}function y(){S("unpipe"),r.unpipe(e)}return r.on("data",l),v(e,"error",f),e.once("close",d),e.once("finish",p),e.emit("pipe",r),!0===e.writableNeedDrain?u():i.flowing||(S("pipe resume"),r.resume()),e},Y.prototype.unpipe=function(e){const t=this._readableState;if(0===t.pipes.length)return this;if(!e){const e=t.pipes;t.pipes=[],this.pause();for(let t=0;t<e.length;t++)e[t].emit("unpipe",this,{hasUnpiped:!1});return this}const r=i(t.pipes,e);return-1===r||(t.pipes.splice(r,1),0===t.pipes.length&&this.pause(),e.emit("unpipe",this,{hasUnpiped:!1})),this},Y.prototype.on=function(e,t){const r=m.prototype.on.call(this,e,t),i=this._readableState;return"data"===e?(i.readableListening=this.listenerCount("readable")>0,!1!==i.flowing&&this.resume()):"readable"===e&&(i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,S("on readable",i.length,i.reading),i.length?Q(this):i.reading||n.nextTick(ie,this))),r},Y.prototype.addListener=Y.prototype.on,Y.prototype.removeListener=function(e,t){const r=m.prototype.removeListener.call(this,e,t);return"readable"===e&&n.nextTick(ne,this),r},Y.prototype.off=Y.prototype.removeListener,Y.prototype.removeAllListeners=function(e){const t=m.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||n.nextTick(ne,this),t},Y.prototype.resume=function(){const e=this._readableState;return e.flowing||(S("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,n.nextTick(oe,e,t))}(this,e)),e[$]=!1,this},Y.prototype.pause=function(){return S("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(S("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[$]=!0,this},Y.prototype.wrap=function(e){let t=!1;e.on("data",(r=>{!this.push(r)&&e.pause&&(t=!0,e.pause())})),e.on("end",(()=>{this.push(null)})),e.on("error",(e=>{D(this,e)})),e.on("close",(()=>{this.destroy()})),e.on("destroy",(()=>{this.destroy()})),this._read=()=>{t&&e.resume&&(t=!1,e.resume())};const r=u(e);for(let t=1;t<r.length;t++){const n=r[t];void 0===this[n]&&"function"==typeof e[n]&&(this[n]=e[n].bind(e))}return this},Y.prototype[p]=function(){return ae(this)},Y.prototype.iterator=function(e){return void 0!==e&&C(e,"options"),ae(this,e)},c(Y.prototype,{readable:{__proto__:null,get(){const e=this._readableState;return!(!e||!1===e.readable||e.destroyed||e.errorEmitted||e.endEmitted)},set(e){this._readableState&&(this._readableState.readable=!!e)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!(!1===this._readableState.readable||!this._readableState.destroyed&&!this._readableState.errored||this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.objectMode}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return!!this._readableState&&this._readableState.closed}},destroyed:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.destroyed},set(e){this._readableState&&(this._readableState.destroyed=e)}},readableEnded:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.endEmitted}}}),c(K.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return!1!==this[$]},set(e){this[$]=!!e}}}),Y._fromList=ce,Y.from=function(e,t){return L(Y,e,t)},Y.fromWeb=function(e,t){return de().newStreamReadableFromReadableStream(e,t)},Y.toWeb=function(e,t){return de().newReadableStreamFromStreamReadable(e,t)},Y.wrap=function(e,t){var r,n;return new Y({objectMode:null===(r=null!==(n=e.readableObjectMode)&&void 0!==n?n:e.objectMode)||void 0===r||r,...t,destroy(t,r){T.destroyer(e,t),r(t)}}).wrap(e)}},89952:(e,t,r)=>{const{MathFloor:n,NumberIsInteger:i}=r(51473),{validateInteger:o}=r(77840),{ERR_INVALID_ARG_VALUE:s}=r(52590).codes;let a=16384,c=16;function u(e){return e?c:a}e.exports={getHighWaterMark:function(e,t,r,o){const a=function(e,t,r){return null!=e.highWaterMark?e.highWaterMark:t?e[r]:null}(t,o,r);if(null!=a){if(!i(a)||a<0)throw new s(o?`options.${r}`:"options.highWaterMark",a);return n(a)}return u(e.objectMode)},getDefaultHighWaterMark:u,setDefaultHighWaterMark:function(e,t){o(t,"value",0),e?c=t:a=t}}},32073:(e,t,r)=>{const{ObjectSetPrototypeOf:n,Symbol:i}=r(51473);e.exports=u;const{ERR_METHOD_NOT_IMPLEMENTED:o}=r(52590).codes,s=r(86279),{getHighWaterMark:a}=r(89952);n(u.prototype,s.prototype),n(u,s);const c=i("kCallback");function u(e){if(!(this instanceof u))return new u(e);const t=e?a(this,e,"readableHighWaterMark",!0):null;0===t&&(e={...e,highWaterMark:null,readableHighWaterMark:t,writableHighWaterMark:e.writableHighWaterMark||0}),s.call(this,e),this._readableState.sync=!1,this[c]=null,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",f)}function l(e){"function"!=typeof this._flush||this.destroyed?(this.push(null),e&&e()):this._flush(((t,r)=>{t?e?e(t):this.destroy(t):(null!=r&&this.push(r),this.push(null),e&&e())}))}function f(){this._final!==l&&l.call(this)}u.prototype._final=l,u.prototype._transform=function(e,t,r){throw new o("_transform()")},u.prototype._write=function(e,t,r){const n=this._readableState,i=this._writableState,o=n.length;this._transform(e,t,((e,t)=>{e?r(e):(null!=t&&this.push(t),i.ended||o===n.length||n.length<n.highWaterMark?r():this[c]=r)}))},u.prototype._read=function(){if(this[c]){const e=this[c];this[c]=null,e()}}},92520:(e,t,r)=>{const{SymbolAsyncIterator:n,SymbolIterator:i,SymbolFor:o}=r(51473),s=o("nodejs.stream.destroyed"),a=o("nodejs.stream.errored"),c=o("nodejs.stream.readable"),u=o("nodejs.stream.writable"),l=o("nodejs.stream.disturbed"),f=o("nodejs.webstream.isClosedPromise"),h=o("nodejs.webstream.controllerErrorFunction");function d(e,t=!1){var r;return!(!e||"function"!=typeof e.pipe||"function"!=typeof e.on||t&&("function"!=typeof e.pause||"function"!=typeof e.resume)||e._writableState&&!1===(null===(r=e._readableState)||void 0===r?void 0:r.readable)||e._writableState&&!e._readableState)}function p(e){var t;return!(!e||"function"!=typeof e.write||"function"!=typeof e.on||e._readableState&&!1===(null===(t=e._writableState)||void 0===t?void 0:t.writable))}function y(e){return e&&(e._readableState||e._writableState||"function"==typeof e.write&&"function"==typeof e.on||"function"==typeof e.pipe&&"function"==typeof e.on)}function b(e){return!(!e||y(e)||"function"!=typeof e.pipeThrough||"function"!=typeof e.getReader||"function"!=typeof e.cancel)}function m(e){return!(!e||y(e)||"function"!=typeof e.getWriter||"function"!=typeof e.abort)}function v(e){return!(!e||y(e)||"object"!=typeof e.readable||"object"!=typeof e.writable)}function g(e){if(!y(e))return null;const t=e._writableState,r=e._readableState,n=t||r;return!!(e.destroyed||e[s]||null!=n&&n.destroyed)}function w(e){if(!p(e))return null;if(!0===e.writableEnded)return!0;const t=e._writableState;return(null==t||!t.errored)&&("boolean"!=typeof(null==t?void 0:t.ended)?null:t.ended)}function _(e,t){if(!d(e))return null;const r=e._readableState;return(null==r||!r.errored)&&("boolean"!=typeof(null==r?void 0:r.endEmitted)?null:!!(r.endEmitted||!1===t&&!0===r.ended&&0===r.length))}function S(e){return e&&null!=e[c]?e[c]:"boolean"!=typeof(null==e?void 0:e.readable)?null:!g(e)&&d(e)&&e.readable&&!_(e)}function E(e){return e&&null!=e[u]?e[u]:"boolean"!=typeof(null==e?void 0:e.writable)?null:!g(e)&&p(e)&&e.writable&&!w(e)}function T(e){return"boolean"==typeof e._closed&&"boolean"==typeof e._defaultKeepAlive&&"boolean"==typeof e._removedConnection&&"boolean"==typeof e._removedContLen}function O(e){return"boolean"==typeof e._sent100&&T(e)}e.exports={isDestroyed:g,kIsDestroyed:s,isDisturbed:function(e){var t;return!(!e||!(null!==(t=e[l])&&void 0!==t?t:e.readableDidRead||e.readableAborted))},kIsDisturbed:l,isErrored:function(e){var t,r,n,i,o,s,c,u,l,f;return!(!e||!(null!==(t=null!==(r=null!==(n=null!==(i=null!==(o=null!==(s=e[a])&&void 0!==s?s:e.readableErrored)&&void 0!==o?o:e.writableErrored)&&void 0!==i?i:null===(c=e._readableState)||void 0===c?void 0:c.errorEmitted)&&void 0!==n?n:null===(u=e._writableState)||void 0===u?void 0:u.errorEmitted)&&void 0!==r?r:null===(l=e._readableState)||void 0===l?void 0:l.errored)&&void 0!==t?t:null===(f=e._writableState)||void 0===f?void 0:f.errored))},kIsErrored:a,isReadable:S,kIsReadable:c,kIsClosedPromise:f,kControllerErrorFunction:h,kIsWritable:u,isClosed:function(e){if(!y(e))return null;if("boolean"==typeof e.closed)return e.closed;const t=e._writableState,r=e._readableState;return"boolean"==typeof(null==t?void 0:t.closed)||"boolean"==typeof(null==r?void 0:r.closed)?(null==t?void 0:t.closed)||(null==r?void 0:r.closed):"boolean"==typeof e._closed&&T(e)?e._closed:null},isDuplexNodeStream:function(e){return!(!e||"function"!=typeof e.pipe||!e._readableState||"function"!=typeof e.on||"function"!=typeof e.write)},isFinished:function(e,t){return y(e)?!(!g(e)&&(!1!==(null==t?void 0:t.readable)&&S(e)||!1!==(null==t?void 0:t.writable)&&E(e))):null},isIterable:function(e,t){return null!=e&&(!0===t?"function"==typeof e[n]:!1===t?"function"==typeof e[i]:"function"==typeof e[n]||"function"==typeof e[i])},isReadableNodeStream:d,isReadableStream:b,isReadableEnded:function(e){if(!d(e))return null;if(!0===e.readableEnded)return!0;const t=e._readableState;return!(!t||t.errored)&&("boolean"!=typeof(null==t?void 0:t.ended)?null:t.ended)},isReadableFinished:_,isReadableErrored:function(e){var t,r;return y(e)?e.readableErrored?e.readableErrored:null!==(t=null===(r=e._readableState)||void 0===r?void 0:r.errored)&&void 0!==t?t:null:null},isNodeStream:y,isWebStream:function(e){return b(e)||m(e)||v(e)},isWritable:E,isWritableNodeStream:p,isWritableStream:m,isWritableEnded:w,isWritableFinished:function(e,t){if(!p(e))return null;if(!0===e.writableFinished)return!0;const r=e._writableState;return(null==r||!r.errored)&&("boolean"!=typeof(null==r?void 0:r.finished)?null:!!(r.finished||!1===t&&!0===r.ended&&0===r.length))},isWritableErrored:function(e){var t,r;return y(e)?e.writableErrored?e.writableErrored:null!==(t=null===(r=e._writableState)||void 0===r?void 0:r.errored)&&void 0!==t?t:null:null},isServerRequest:function(e){var t;return"boolean"==typeof e._consuming&&"boolean"==typeof e._dumped&&void 0===(null===(t=e.req)||void 0===t?void 0:t.upgradeOrConnect)},isServerResponse:O,willEmitClose:function(e){if(!y(e))return null;const t=e._writableState,r=e._readableState,n=t||r;return!n&&O(e)||!!(n&&n.autoDestroy&&n.emitClose&&!1===n.closed)},isTransformStream:v}},65605:(e,t,r)=>{const n=r(39907),{ArrayPrototypeSlice:i,Error:o,FunctionPrototypeSymbolHasInstance:s,ObjectDefineProperty:a,ObjectDefineProperties:c,ObjectSetPrototypeOf:u,StringPrototypeToLowerCase:l,Symbol:f,SymbolHasInstance:h}=r(51473);e.exports=C,C.WritableState=R;const{EventEmitter:d}=r(50046),p=r(23054).Stream,{Buffer:y}=r(1048),b=r(16527),{addAbortSignal:m}=r(21434),{getHighWaterMark:v,getDefaultHighWaterMark:g}=r(89952),{ERR_INVALID_ARG_TYPE:w,ERR_METHOD_NOT_IMPLEMENTED:_,ERR_MULTIPLE_CALLBACK:S,ERR_STREAM_CANNOT_PIPE:E,ERR_STREAM_DESTROYED:T,ERR_STREAM_ALREADY_FINISHED:O,ERR_STREAM_NULL_VALUES:x,ERR_STREAM_WRITE_AFTER_END:A,ERR_UNKNOWN_ENCODING:M}=r(52590).codes,{errorOrDestroy:P}=b;function I(){}u(C.prototype,p.prototype),u(C,p);const j=f("kOnFinished");function R(e,t,n){"boolean"!=typeof n&&(n=t instanceof r(86279)),this.objectMode=!(!e||!e.objectMode),n&&(this.objectMode=this.objectMode||!(!e||!e.writableObjectMode)),this.highWaterMark=e?v(this,e,"writableHighWaterMark",n):g(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;const i=!(!e||!1!==e.decodeStrings);this.decodeStrings=!i,this.defaultEncoding=e&&e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=B.bind(void 0,t),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,k(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!e||!1!==e.emitClose,this.autoDestroy=!e||!1!==e.autoDestroy,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[j]=[]}function k(e){e.buffered=[],e.bufferedIndex=0,e.allBuffers=!0,e.allNoop=!0}function C(e){const t=this instanceof r(86279);if(!t&&!s(C,this))return new C(e);this._writableState=new R(e,this,t),e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final),"function"==typeof e.construct&&(this._construct=e.construct),e.signal&&m(e.signal,this)),p.call(this,e),b.construct(this,(()=>{const e=this._writableState;e.writing||q(this,e),z(this,e)}))}function $(e,t,r,i){const o=e._writableState;if("function"==typeof r)i=r,r=o.defaultEncoding;else{if(r){if("buffer"!==r&&!y.isEncoding(r))throw new M(r)}else r=o.defaultEncoding;"function"!=typeof i&&(i=I)}if(null===t)throw new x;if(!o.objectMode)if("string"==typeof t)!1!==o.decodeStrings&&(t=y.from(t,r),r="buffer");else if(t instanceof y)r="buffer";else{if(!p._isUint8Array(t))throw new w("chunk",["string","Buffer","Uint8Array"],t);t=p._uint8ArrayToBuffer(t),r="buffer"}let s;return o.ending?s=new A:o.destroyed&&(s=new T("write")),s?(n.nextTick(i,s),P(e,s,!0),s):(o.pendingcb++,function(e,t,r,n,i){const o=t.objectMode?1:r.length;t.length+=o;const s=t.length<t.highWaterMark;return s||(t.needDrain=!0),t.writing||t.corked||t.errored||!t.constructed?(t.buffered.push({chunk:r,encoding:n,callback:i}),t.allBuffers&&"buffer"!==n&&(t.allBuffers=!1),t.allNoop&&i!==I&&(t.allNoop=!1)):(t.writelen=o,t.writecb=i,t.writing=!0,t.sync=!0,e._write(r,n,t.onwrite),t.sync=!1),s&&!t.errored&&!t.destroyed}(e,o,t,r,i))}function N(e,t,r,n,i,o,s){t.writelen=n,t.writecb=s,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new T("write")):r?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function L(e,t,r,n){--t.pendingcb,n(r),U(t),P(e,r)}function B(e,t){const r=e._writableState,i=r.sync,o=r.writecb;"function"==typeof o?(r.writing=!1,r.writecb=null,r.length-=r.writelen,r.writelen=0,t?(t.stack,r.errored||(r.errored=t),e._readableState&&!e._readableState.errored&&(e._readableState.errored=t),i?n.nextTick(L,e,r,t,o):L(e,r,t,o)):(r.buffered.length>r.bufferedIndex&&q(e,r),i?null!==r.afterWriteTickInfo&&r.afterWriteTickInfo.cb===o?r.afterWriteTickInfo.count++:(r.afterWriteTickInfo={count:1,cb:o,stream:e,state:r},n.nextTick(D,r.afterWriteTickInfo)):F(e,r,1,o))):P(e,new S)}function D({stream:e,state:t,count:r,cb:n}){return t.afterWriteTickInfo=null,F(e,t,r,n)}function F(e,t,r,n){for(!t.ending&&!e.destroyed&&0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"));r-- >0;)t.pendingcb--,n();t.destroyed&&U(t),z(e,t)}function U(e){if(e.writing)return;for(let r=e.bufferedIndex;r<e.buffered.length;++r){var t;const{chunk:n,callback:i}=e.buffered[r],o=e.objectMode?1:n.length;e.length-=o,i(null!==(t=e.errored)&&void 0!==t?t:new T("write"))}const r=e[j].splice(0);for(let t=0;t<r.length;t++){var n;r[t](null!==(n=e.errored)&&void 0!==n?n:new T("end"))}k(e)}function q(e,t){if(t.corked||t.bufferProcessing||t.destroyed||!t.constructed)return;const{buffered:r,bufferedIndex:n,objectMode:o}=t,s=r.length-n;if(!s)return;let a=n;if(t.bufferProcessing=!0,s>1&&e._writev){t.pendingcb-=s-1;const n=t.allNoop?I:e=>{for(let t=a;t<r.length;++t)r[t].callback(e)},o=t.allNoop&&0===a?r:i(r,a);o.allBuffers=t.allBuffers,N(e,t,!0,t.length,o,"",n),k(t)}else{do{const{chunk:n,encoding:i,callback:s}=r[a];r[a++]=null,N(e,t,!1,o?1:n.length,n,i,s)}while(a<r.length&&!t.writing);a===r.length?k(t):a>256?(r.splice(0,a),t.bufferedIndex=0):t.bufferedIndex=a}t.bufferProcessing=!1}function W(e){return e.ending&&!e.destroyed&&e.constructed&&0===e.length&&!e.errored&&0===e.buffered.length&&!e.finished&&!e.writing&&!e.errorEmitted&&!e.closeEmitted}function z(e,t,r){W(t)&&(function(e,t){t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.finalCalled=!0,function(e,t){let r=!1;function i(i){if(r)P(e,null!=i?i:S());else if(r=!0,t.pendingcb--,i){const r=t[j].splice(0);for(let e=0;e<r.length;e++)r[e](i);P(e,i,t.sync)}else W(t)&&(t.prefinished=!0,e.emit("prefinish"),t.pendingcb++,n.nextTick(V,e,t))}t.sync=!0,t.pendingcb++;try{e._final(i)}catch(e){i(e)}t.sync=!1}(e,t)))}(e,t),0===t.pendingcb&&(r?(t.pendingcb++,n.nextTick(((e,t)=>{W(t)?V(e,t):t.pendingcb--}),e,t)):W(t)&&(t.pendingcb++,V(e,t))))}function V(e,t){t.pendingcb--,t.finished=!0;const r=t[j].splice(0);for(let e=0;e<r.length;e++)r[e]();if(e.emit("finish"),t.autoDestroy){const t=e._readableState;(!t||t.autoDestroy&&(t.endEmitted||!1===t.readable))&&e.destroy()}}R.prototype.getBuffer=function(){return i(this.buffered,this.bufferedIndex)},a(R.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}}),a(C,h,{__proto__:null,value:function(e){return!!s(this,e)||this===C&&e&&e._writableState instanceof R}}),C.prototype.pipe=function(){P(this,new E)},C.prototype.write=function(e,t,r){return!0===$(this,e,t,r)},C.prototype.cork=function(){this._writableState.corked++},C.prototype.uncork=function(){const e=this._writableState;e.corked&&(e.corked--,e.writing||q(this,e))},C.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=l(e)),!y.isEncoding(e))throw new M(e);return this._writableState.defaultEncoding=e,this},C.prototype._write=function(e,t,r){if(!this._writev)throw new _("_write()");this._writev([{chunk:e,encoding:t}],r)},C.prototype._writev=null,C.prototype.end=function(e,t,r){const i=this._writableState;let s;if("function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!=e){const r=$(this,e,t);r instanceof o&&(s=r)}return i.corked&&(i.corked=1,this.uncork()),s||(i.errored||i.ending?i.finished?s=new O("end"):i.destroyed&&(s=new T("end")):(i.ending=!0,z(this,i,!0),i.ended=!0)),"function"==typeof r&&(s||i.finished?n.nextTick(r,s):i[j].push(r)),this},c(C.prototype,{closed:{__proto__:null,get(){return!!this._writableState&&this._writableState.closed}},destroyed:{__proto__:null,get(){return!!this._writableState&&this._writableState.destroyed},set(e){this._writableState&&(this._writableState.destroyed=e)}},writable:{__proto__:null,get(){const e=this._writableState;return!(!e||!1===e.writable||e.destroyed||e.errored||e.ending||e.ended)},set(e){this._writableState&&(this._writableState.writable=!!e)}},writableFinished:{__proto__:null,get(){return!!this._writableState&&this._writableState.finished}},writableObjectMode:{__proto__:null,get(){return!!this._writableState&&this._writableState.objectMode}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return!!this._writableState&&this._writableState.ending}},writableNeedDrain:{__proto__:null,get(){const e=this._writableState;return!!e&&!e.destroyed&&!e.ending&&e.needDrain}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!(!1===this._writableState.writable||!this._writableState.destroyed&&!this._writableState.errored||this._writableState.finished)}}});const H=b.destroy;let G;function K(){return void 0===G&&(G={}),G}C.prototype.destroy=function(e,t){const r=this._writableState;return!r.destroyed&&(r.bufferedIndex<r.buffered.length||r[j].length)&&n.nextTick(U,r),H.call(this,e,t),this},C.prototype._undestroy=b.undestroy,C.prototype._destroy=function(e,t){t(e)},C.prototype[d.captureRejectionSymbol]=function(e){this.destroy(e)},C.fromWeb=function(e,t){return K().newStreamWritableFromWritableStream(e,t)},C.toWeb=function(e){return K().newWritableStreamFromStreamWritable(e)}},77840:(e,t,r)=>{const{ArrayIsArray:n,ArrayPrototypeIncludes:i,ArrayPrototypeJoin:o,ArrayPrototypeMap:s,NumberIsInteger:a,NumberIsNaN:c,NumberMAX_SAFE_INTEGER:u,NumberMIN_SAFE_INTEGER:l,NumberParseInt:f,ObjectPrototypeHasOwnProperty:h,RegExpPrototypeExec:d,String:p,StringPrototypeToUpperCase:y,StringPrototypeTrim:b}=r(51473),{hideStackFrames:m,codes:{ERR_SOCKET_BAD_PORT:v,ERR_INVALID_ARG_TYPE:g,ERR_INVALID_ARG_VALUE:w,ERR_OUT_OF_RANGE:_,ERR_UNKNOWN_SIGNAL:S}}=r(52590),{normalizeEncoding:E}=r(46609),{isAsyncFunction:T,isArrayBufferView:O}=r(46609).types,x={},A=/^[0-7]+$/,M=m(((e,t,r=l,n=u)=>{if("number"!=typeof e)throw new g(t,"number",e);if(!a(e))throw new _(t,"an integer",e);if(e<r||e>n)throw new _(t,`>= ${r} && <= ${n}`,e)})),P=m(((e,t,r=-2147483648,n=2147483647)=>{if("number"!=typeof e)throw new g(t,"number",e);if(!a(e))throw new _(t,"an integer",e);if(e<r||e>n)throw new _(t,`>= ${r} && <= ${n}`,e)})),I=m(((e,t,r=!1)=>{if("number"!=typeof e)throw new g(t,"number",e);if(!a(e))throw new _(t,"an integer",e);const n=r?1:0,i=4294967295;if(e<n||e>i)throw new _(t,`>= ${n} && <= ${i}`,e)}));function j(e,t){if("string"!=typeof e)throw new g(t,"string",e)}const R=m(((e,t,r)=>{if(!i(r,e)){const n=o(s(r,(e=>"string"==typeof e?`'${e}'`:p(e))),", ");throw new w(t,e,"must be one of: "+n)}}));function k(e,t){if("boolean"!=typeof e)throw new g(t,"boolean",e)}function C(e,t,r){return null!=e&&h(e,t)?e[t]:r}const $=m(((e,t,r=null)=>{const i=C(r,"allowArray",!1),o=C(r,"allowFunction",!1);if(!C(r,"nullable",!1)&&null===e||!i&&n(e)||"object"!=typeof e&&(!o||"function"!=typeof e))throw new g(t,"Object",e)})),N=m(((e,t)=>{if(null!=e&&"object"!=typeof e&&"function"!=typeof e)throw new g(t,"a dictionary",e)})),L=m(((e,t,r=0)=>{if(!n(e))throw new g(t,"Array",e);if(e.length<r)throw new w(t,e,`must be longer than ${r}`)})),B=m(((e,t="buffer")=>{if(!O(e))throw new g(t,["Buffer","TypedArray","DataView"],e)})),D=m(((e,t)=>{if(void 0!==e&&(null===e||"object"!=typeof e||!("aborted"in e)))throw new g(t,"AbortSignal",e)})),F=m(((e,t)=>{if("function"!=typeof e)throw new g(t,"Function",e)})),U=m(((e,t)=>{if("function"!=typeof e||T(e))throw new g(t,"Function",e)})),q=m(((e,t)=>{if(void 0!==e)throw new g(t,"undefined",e)})),W=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function z(e,t){if(void 0===e||!d(W,e))throw new w(t,e,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}e.exports={isInt32:function(e){return e===(0|e)},isUint32:function(e){return e===e>>>0},parseFileMode:function(e,t,r){if(void 0===e&&(e=r),"string"==typeof e){if(null===d(A,e))throw new w(t,e,"must be a 32-bit unsigned integer or an octal string");e=f(e,8)}return I(e,t),e},validateArray:L,validateStringArray:function(e,t){L(e,t);for(let r=0;r<e.length;r++)j(e[r],`${t}[${r}]`)},validateBooleanArray:function(e,t){L(e,t);for(let r=0;r<e.length;r++)k(e[r],`${t}[${r}]`)},validateAbortSignalArray:function(e,t){L(e,t);for(let r=0;r<e.length;r++){const n=e[r],i=`${t}[${r}]`;if(null==n)throw new g(i,"AbortSignal",n);D(n,i)}},validateBoolean:k,validateBuffer:B,validateDictionary:N,validateEncoding:function(e,t){const r=E(t),n=e.length;if("hex"===r&&n%2!=0)throw new w("encoding",t,`is invalid for data of length ${n}`)},validateFunction:F,validateInt32:P,validateInteger:M,validateNumber:function(e,t,r=void 0,n){if("number"!=typeof e)throw new g(t,"number",e);if(null!=r&&e<r||null!=n&&e>n||(null!=r||null!=n)&&c(e))throw new _(t,`${null!=r?`>= ${r}`:""}${null!=r&&null!=n?" && ":""}${null!=n?`<= ${n}`:""}`,e)},validateObject:$,validateOneOf:R,validatePlainFunction:U,validatePort:function(e,t="Port",r=!0){if("number"!=typeof e&&"string"!=typeof e||"string"==typeof e&&0===b(e).length||+e!=+e>>>0||e>65535||0===e&&!r)throw new v(t,e,r);return 0|e},validateSignalName:function(e,t="signal"){if(j(e,t),void 0===x[e]){if(void 0!==x[y(e)])throw new S(e+" (signals must use all capital letters)");throw new S(e)}},validateString:j,validateUint32:I,validateUndefined:q,validateUnion:function(e,t,r){if(!i(r,e))throw new g(t,`('${o(r,"|")}')`,e)},validateAbortSignal:D,validateLinkHeaderValue:function(e){if("string"==typeof e)return z(e,"hints"),e;if(n(e)){const t=e.length;let r="";if(0===t)return r;for(let n=0;n<t;n++){const i=e[n];z(i,"hints"),r+=i,n!==t-1&&(r+=", ")}return r}throw new w("hints",e,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}}},52590:(e,t,r)=>{const{format:n,inspect:i,AggregateError:o}=r(46609),s=globalThis.AggregateError||o,a=Symbol("kIsNodeError"),c=["string","function","number","object","Function","Object","boolean","bigint","symbol"],u=/^([A-Z][a-z0-9]*)+$/,l={};function f(e,t){if(!e)throw new l.ERR_INTERNAL_ASSERTION(t)}function h(e){let t="",r=e.length;const n="-"===e[0]?1:0;for(;r>=n+4;r-=3)t=`_${e.slice(r-3,r)}${t}`;return`${e.slice(0,r)}${t}`}function d(e,t,r){r||(r=Error);class i extends r{constructor(...r){super(function(e,t,r){if("function"==typeof t)return f(t.length<=r.length,`Code: ${e}; The provided arguments length (${r.length}) does not match the required ones (${t.length}).`),t(...r);const i=(t.match(/%[dfijoOs]/g)||[]).length;return f(i===r.length,`Code: ${e}; The provided arguments length (${r.length}) does not match the required ones (${i}).`),0===r.length?t:n(t,...r)}(e,t,r))}toString(){return`${this.name} [${e}]: ${this.message}`}}Object.defineProperties(i.prototype,{name:{value:r.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${e}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),i.prototype.code=e,i.prototype[a]=!0,l[e]=i}function p(e){const t="__node_internal_"+e.name;return Object.defineProperty(e,"name",{value:t}),e}class y extends Error{constructor(e="The operation was aborted",t=void 0){if(void 0!==t&&"object"!=typeof t)throw new l.ERR_INVALID_ARG_TYPE("options","Object",t);super(e,t),this.code="ABORT_ERR",this.name="AbortError"}}d("ERR_ASSERTION","%s",Error),d("ERR_INVALID_ARG_TYPE",((e,t,r)=>{f("string"==typeof e,"'name' must be a string"),Array.isArray(t)||(t=[t]);let n="The ";e.endsWith(" argument")?n+=`${e} `:n+=`"${e}" ${e.includes(".")?"property":"argument"} `,n+="must be ";const o=[],s=[],a=[];for(const e of t)f("string"==typeof e,"All expected entries have to be of type string"),c.includes(e)?o.push(e.toLowerCase()):u.test(e)?s.push(e):(f("object"!==e,'The value "object" should be written as "Object"'),a.push(e));if(s.length>0){const e=o.indexOf("object");-1!==e&&(o.splice(o,e,1),s.push("Object"))}if(o.length>0){switch(o.length){case 1:n+=`of type ${o[0]}`;break;case 2:n+=`one of type ${o[0]} or ${o[1]}`;break;default:{const e=o.pop();n+=`one of type ${o.join(", ")}, or ${e}`}}(s.length>0||a.length>0)&&(n+=" or ")}if(s.length>0){switch(s.length){case 1:n+=`an instance of ${s[0]}`;break;case 2:n+=`an instance of ${s[0]} or ${s[1]}`;break;default:{const e=s.pop();n+=`an instance of ${s.join(", ")}, or ${e}`}}a.length>0&&(n+=" or ")}switch(a.length){case 0:break;case 1:a[0].toLowerCase()!==a[0]&&(n+="an "),n+=`${a[0]}`;break;case 2:n+=`one of ${a[0]} or ${a[1]}`;break;default:{const e=a.pop();n+=`one of ${a.join(", ")}, or ${e}`}}if(null==r)n+=`. Received ${r}`;else if("function"==typeof r&&r.name)n+=`. Received function ${r.name}`;else if("object"==typeof r){var l;null!==(l=r.constructor)&&void 0!==l&&l.name?n+=`. Received an instance of ${r.constructor.name}`:n+=`. Received ${i(r,{depth:-1})}`}else{let e=i(r,{colors:!1});e.length>25&&(e=`${e.slice(0,25)}...`),n+=`. Received type ${typeof r} (${e})`}return n}),TypeError),d("ERR_INVALID_ARG_VALUE",((e,t,r="is invalid")=>{let n=i(t);return n.length>128&&(n=n.slice(0,128)+"..."),`The ${e.includes(".")?"property":"argument"} '${e}' ${r}. Received ${n}`}),TypeError),d("ERR_INVALID_RETURN_VALUE",((e,t,r)=>{var n;return`Expected ${e} to be returned from the "${t}" function but got ${null!=r&&null!==(n=r.constructor)&&void 0!==n&&n.name?`instance of ${r.constructor.name}`:"type "+typeof r}.`}),TypeError),d("ERR_MISSING_ARGS",((...e)=>{let t;f(e.length>0,"At least one arg needs to be specified");const r=e.length;switch(e=(Array.isArray(e)?e:[e]).map((e=>`"${e}"`)).join(" or "),r){case 1:t+=`The ${e[0]} argument`;break;case 2:t+=`The ${e[0]} and ${e[1]} arguments`;break;default:{const r=e.pop();t+=`The ${e.join(", ")}, and ${r} arguments`}}return`${t} must be specified`}),TypeError),d("ERR_OUT_OF_RANGE",((e,t,r)=>{let n;return f(t,'Missing "range" argument'),Number.isInteger(r)&&Math.abs(r)>2**32?n=h(String(r)):"bigint"==typeof r?(n=String(r),(r>2n**32n||r<-(2n**32n))&&(n=h(n)),n+="n"):n=i(r),`The value of "${e}" is out of range. It must be ${t}. Received ${n}`}),RangeError),d("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),d("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),d("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),d("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),d("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),d("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),d("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),d("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),d("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),d("ERR_STREAM_WRITE_AFTER_END","write after end",Error),d("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),e.exports={AbortError:y,aggregateTwoErrors:p((function(e,t){if(e&&t&&e!==t){if(Array.isArray(t.errors))return t.errors.push(e),t;const r=new s([t,e],t.message);return r.code=t.code,r}return e||t})),hideStackFrames:p,codes:l}},51473:e=>{e.exports={ArrayIsArray:e=>Array.isArray(e),ArrayPrototypeIncludes:(e,t)=>e.includes(t),ArrayPrototypeIndexOf:(e,t)=>e.indexOf(t),ArrayPrototypeJoin:(e,t)=>e.join(t),ArrayPrototypeMap:(e,t)=>e.map(t),ArrayPrototypePop:(e,t)=>e.pop(t),ArrayPrototypePush:(e,t)=>e.push(t),ArrayPrototypeSlice:(e,t,r)=>e.slice(t,r),Error,FunctionPrototypeCall:(e,t,...r)=>e.call(t,...r),FunctionPrototypeSymbolHasInstance:(e,t)=>Function.prototype[Symbol.hasInstance].call(e,t),MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties:(e,t)=>Object.defineProperties(e,t),ObjectDefineProperty:(e,t,r)=>Object.defineProperty(e,t,r),ObjectGetOwnPropertyDescriptor:(e,t)=>Object.getOwnPropertyDescriptor(e,t),ObjectKeys:e=>Object.keys(e),ObjectSetPrototypeOf:(e,t)=>Object.setPrototypeOf(e,t),Promise,PromisePrototypeCatch:(e,t)=>e.catch(t),PromisePrototypeThen:(e,t,r)=>e.then(t,r),PromiseReject:e=>Promise.reject(e),PromiseResolve:e=>Promise.resolve(e),ReflectApply:Reflect.apply,RegExpPrototypeTest:(e,t)=>e.test(t),SafeSet:Set,String,StringPrototypeSlice:(e,t,r)=>e.slice(t,r),StringPrototypeToLowerCase:e=>e.toLowerCase(),StringPrototypeToUpperCase:e=>e.toUpperCase(),StringPrototypeTrim:e=>e.trim(),Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet:(e,t,r)=>e.set(t,r),Boolean,Uint8Array}},46609:(e,t,r)=>{const n=r(1048),{kResistStopPropagation:i,SymbolDispose:o}=r(51473),s=globalThis.AbortSignal||r(67083).AbortSignal,a=globalThis.AbortController||r(67083).AbortController,c=Object.getPrototypeOf((async function(){})).constructor,u=globalThis.Blob||n.Blob,l=void 0!==u?function(e){return e instanceof u}:function(e){return!1},f=(e,t)=>{if(void 0!==e&&(null===e||"object"!=typeof e||!("aborted"in e)))throw new ERR_INVALID_ARG_TYPE(t,"AbortSignal",e)};class h extends Error{constructor(e){if(!Array.isArray(e))throw new TypeError("Expected input to be an Array, got "+typeof e);let t="";for(let r=0;r<e.length;r++)t+=`    ${e[r].stack}\n`;super(t),this.name="AggregateError",this.errors=e}}e.exports={AggregateError:h,kEmptyObject:Object.freeze({}),once(e){let t=!1;return function(...r){t||(t=!0,e.apply(this,r))}},createDeferredPromise:function(){let e,t;return{promise:new Promise(((r,n)=>{e=r,t=n})),resolve:e,reject:t}},promisify:e=>new Promise(((t,r)=>{e(((e,...n)=>e?r(e):t(...n)))})),debuglog:()=>function(){},format:(e,...t)=>e.replace(/%([sdifj])/g,(function(...[e,r]){const n=t.shift();return"f"===r?n.toFixed(6):"j"===r?JSON.stringify(n):"s"===r&&"object"==typeof n?`${n.constructor!==Object?n.constructor.name:""} {}`.trim():n.toString()})),inspect(e){switch(typeof e){case"string":if(e.includes("'")){if(!e.includes('"'))return`"${e}"`;if(!e.includes("`")&&!e.includes("${"))return`\`${e}\``}return`'${e}'`;case"number":return isNaN(e)?"NaN":Object.is(e,-0)?String(e):e;case"bigint":return`${String(e)}n`;case"boolean":case"undefined":return String(e);case"object":return"{}"}},types:{isAsyncFunction:e=>e instanceof c,isArrayBufferView:e=>ArrayBuffer.isView(e)},isBlob:l,deprecate:(e,t)=>e,addAbortListener:r(50046).addAbortListener||function(e,t){if(void 0===e)throw new ERR_INVALID_ARG_TYPE("signal","AbortSignal",e);let r;return f(e,"signal"),((e,t)=>{if("function"!=typeof e)throw new ERR_INVALID_ARG_TYPE("listener","Function",e)})(t),e.aborted?queueMicrotask((()=>t())):(e.addEventListener("abort",t,{__proto__:null,once:!0,[i]:!0}),r=()=>{e.removeEventListener("abort",t)}),{__proto__:null,[o](){var e;null===(e=r)||void 0===e||e()}}},AbortSignalAny:s.any||function(e){if(1===e.length)return e[0];const t=new a,r=()=>t.abort();return e.forEach((e=>{f(e,"signals"),e.addEventListener("abort",r,{once:!0})})),t.signal.addEventListener("abort",(()=>{e.forEach((e=>e.removeEventListener("abort",r)))}),{once:!0}),t.signal}},e.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")},50601:(e,t,r)=>{const{Buffer:n}=r(1048),{ObjectDefineProperty:i,ObjectKeys:o,ReflectApply:s}=r(51473),{promisify:{custom:a}}=r(46609),{streamReturningOperators:c,promiseReturningOperators:u}=r(64708),{codes:{ERR_ILLEGAL_CONSTRUCTOR:l}}=r(52590),f=r(67369),{setDefaultHighWaterMark:h,getDefaultHighWaterMark:d}=r(89952),{pipeline:p}=r(16815),{destroyer:y}=r(16527),b=r(94869),m=r(2010),v=r(92520),g=e.exports=r(23054).Stream;g.isDestroyed=v.isDestroyed,g.isDisturbed=v.isDisturbed,g.isErrored=v.isErrored,g.isReadable=v.isReadable,g.isWritable=v.isWritable,g.Readable=r(11509);for(const _ of o(c)){const S=c[_];function E(...e){if(new.target)throw l();return g.Readable.from(s(S,this,e))}i(E,"name",{__proto__:null,value:S.name}),i(E,"length",{__proto__:null,value:S.length}),i(g.Readable.prototype,_,{__proto__:null,value:E,enumerable:!1,configurable:!0,writable:!0})}for(const T of o(u)){const O=u[T];function x(...e){if(new.target)throw l();return s(O,this,e)}i(x,"name",{__proto__:null,value:O.name}),i(x,"length",{__proto__:null,value:O.length}),i(g.Readable.prototype,T,{__proto__:null,value:x,enumerable:!1,configurable:!0,writable:!0})}g.Writable=r(65605),g.Duplex=r(86279),g.Transform=r(32073),g.PassThrough=r(76587),g.pipeline=p;const{addAbortSignal:w}=r(21434);g.addAbortSignal=w,g.finished=b,g.destroy=y,g.compose=f,g.setDefaultHighWaterMark=h,g.getDefaultHighWaterMark=d,i(g,"promises",{__proto__:null,configurable:!0,enumerable:!0,get:()=>m}),i(p,a,{__proto__:null,enumerable:!0,get:()=>m.pipeline}),i(b,a,{__proto__:null,enumerable:!0,get:()=>m.finished}),g.Stream=g,g._isUint8Array=function(e){return e instanceof Uint8Array},g._uint8ArrayToBuffer=function(e){return n.from(e.buffer,e.byteOffset,e.byteLength)}},2010:(e,t,r)=>{const{ArrayPrototypePop:n,Promise:i}=r(51473),{isIterable:o,isNodeStream:s,isWebStream:a}=r(92520),{pipelineImpl:c}=r(16815),{finished:u}=r(94869);r(50601),e.exports={finished:u,pipeline:function(...e){return new i(((t,r)=>{let i,u;const l=e[e.length-1];if(l&&"object"==typeof l&&!s(l)&&!o(l)&&!a(l)){const t=n(e);i=t.signal,u=t.end}c(e,((e,n)=>{e?r(e):t(n)}),{signal:i,end:u})}))}}},25586:(e,t,r)=>{var n=r(1048).Buffer,i=r(35615),o=r(21848),s=new Array(16),a=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],c=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],u=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],l=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],f=[0,1518500249,1859775393,2400959708,2840853838],h=[1352829926,1548603684,1836072691,2053994217,0];function d(){o.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function p(e,t){return e<<t|e>>>32-t}function y(e,t,r,n,i,o,s,a){return p(e+(t^r^n)+o+s|0,a)+i|0}function b(e,t,r,n,i,o,s,a){return p(e+(t&r|~t&n)+o+s|0,a)+i|0}function m(e,t,r,n,i,o,s,a){return p(e+((t|~r)^n)+o+s|0,a)+i|0}function v(e,t,r,n,i,o,s,a){return p(e+(t&n|r&~n)+o+s|0,a)+i|0}function g(e,t,r,n,i,o,s,a){return p(e+(t^(r|~n))+o+s|0,a)+i|0}i(d,o),d.prototype._update=function(){for(var e=s,t=0;t<16;++t)e[t]=this._block.readInt32LE(4*t);for(var r=0|this._a,n=0|this._b,i=0|this._c,o=0|this._d,d=0|this._e,w=0|this._a,_=0|this._b,S=0|this._c,E=0|this._d,T=0|this._e,O=0;O<80;O+=1){var x,A;O<16?(x=y(r,n,i,o,d,e[a[O]],f[0],u[O]),A=g(w,_,S,E,T,e[c[O]],h[0],l[O])):O<32?(x=b(r,n,i,o,d,e[a[O]],f[1],u[O]),A=v(w,_,S,E,T,e[c[O]],h[1],l[O])):O<48?(x=m(r,n,i,o,d,e[a[O]],f[2],u[O]),A=m(w,_,S,E,T,e[c[O]],h[2],l[O])):O<64?(x=v(r,n,i,o,d,e[a[O]],f[3],u[O]),A=b(w,_,S,E,T,e[c[O]],h[3],l[O])):(x=g(r,n,i,o,d,e[a[O]],f[4],u[O]),A=y(w,_,S,E,T,e[c[O]],h[4],l[O])),r=d,d=o,o=p(i,10),i=n,n=x,w=T,T=E,E=p(S,10),S=_,_=A}var M=this._b+i+E|0;this._b=this._c+o+T|0,this._c=this._d+d+w|0,this._d=this._e+r+_|0,this._e=this._a+n+S|0,this._a=M},d.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var e=n.alloc?n.alloc(20):new n(20);return e.writeInt32LE(this._a,0),e.writeInt32LE(this._b,4),e.writeInt32LE(this._c,8),e.writeInt32LE(this._d,12),e.writeInt32LE(this._e,16),e},e.exports=d},60751:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(99731),o=r(36446),s=function(e){function t(){e.apply(this,arguments),this.value=null,this.hasNext=!1,this.hasCompleted=!1}return n(t,e),t.prototype._subscribe=function(t){return this.hasError?(t.error(this.thrownError),o.Subscription.EMPTY):this.hasCompleted&&this.hasNext?(t.next(this.value),t.complete(),o.Subscription.EMPTY):e.prototype._subscribe.call(this,t)},t.prototype.next=function(e){this.hasCompleted||(this.value=e,this.hasNext=!0)},t.prototype.error=function(t){this.hasCompleted||e.prototype.error.call(this,t)},t.prototype.complete=function(){this.hasCompleted=!0,this.hasNext&&e.prototype.next.call(this,this.value),e.prototype.complete.call(this)},t}(i.Subject);t.AsyncSubject=s},69797:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(99731),o=r(49830),s=function(e){function t(t){e.call(this),this._value=t}return n(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),t.prototype._subscribe=function(t){var r=e.prototype._subscribe.call(this,t);return r&&!r.closed&&t.next(this._value),r},t.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new o.ObjectUnsubscribedError;return this._value},t.prototype.next=function(t){e.prototype.next.call(this,this._value=t)},t}(i.Subject);t.BehaviorSubject=s},98261:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=function(e){function t(t,r,n){e.call(this),this.parent=t,this.outerValue=r,this.outerIndex=n,this.index=0}return n(t,e),t.prototype._next=function(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)},t.prototype._error=function(e){this.parent.notifyError(e,this),this.unsubscribe()},t.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},t}(r(42741).Subscriber);t.InnerSubscriber=i},25944:(e,t,r)=>{var n=r(91638),i=function(){function e(e,t,r){this.kind=e,this.value=t,this.error=r,this.hasValue="N"===e}return e.prototype.observe=function(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}},e.prototype.do=function(e,t,r){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return r&&r()}},e.prototype.accept=function(e,t,r){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,r)},e.prototype.toObservable=function(){switch(this.kind){case"N":return n.Observable.of(this.value);case"E":return n.Observable.throw(this.error);case"C":return n.Observable.empty()}throw new Error("unexpected notification kind value")},e.createNext=function(t){return void 0!==t?new e("N",t):e.undefinedValueNotification},e.createError=function(t){return new e("E",void 0,t)},e.createComplete=function(){return e.completeNotification},e.completeNotification=new e("C"),e.undefinedValueNotification=new e("N",void 0),e}();t.Notification=i},91638:(e,t,r)=>{var n=r(26854),i=r(32477),o=r(85999),s=r(44114),a=function(){function e(e){this._isScalar=!1,e&&(this._subscribe=e)}return e.prototype.lift=function(t){var r=new e;return r.source=this,r.operator=t,r},e.prototype.subscribe=function(e,t,r){var n=this.operator,o=i.toSubscriber(e,t,r);if(n?n.call(o,this.source):o.add(this.source||!o.syncErrorThrowable?this._subscribe(o):this._trySubscribe(o)),o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.syncErrorThrown=!0,e.syncErrorValue=t,e.error(t)}},e.prototype.forEach=function(e,t){var r=this;if(t||(n.root.Rx&&n.root.Rx.config&&n.root.Rx.config.Promise?t=n.root.Rx.config.Promise:n.root.Promise&&(t=n.root.Promise)),!t)throw new Error("no Promise impl found");return new t((function(t,n){var i;i=r.subscribe((function(t){if(i)try{e(t)}catch(e){n(e),i.unsubscribe()}else e(t)}),n,t)}))},e.prototype._subscribe=function(e){return this.source.subscribe(e)},e.prototype[o.observable]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return 0===e.length?this:s.pipeFromArray(e)(this)},e.prototype.toPromise=function(e){var t=this;if(e||(n.root.Rx&&n.root.Rx.config&&n.root.Rx.config.Promise?e=n.root.Rx.config.Promise:n.root.Promise&&(e=n.root.Promise)),!e)throw new Error("no Promise impl found");return new e((function(e,r){var n;t.subscribe((function(e){return n=e}),(function(e){return r(e)}),(function(){return e(n)}))}))},e.create=function(t){return new e(t)},e}();t.Observable=a},98009:(e,t)=>{t.empty={closed:!0,next:function(e){},error:function(e){throw e},complete:function(){}}},234:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=function(e){function t(){e.apply(this,arguments)}return n(t,e),t.prototype.notifyNext=function(e,t,r,n,i){this.destination.next(t)},t.prototype.notifyError=function(e,t){this.destination.error(e)},t.prototype.notifyComplete=function(e){this.destination.complete()},t}(r(42741).Subscriber);t.OuterSubscriber=i},91578:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(99731),o=r(27670),s=r(36446),a=r(84176),c=r(49830),u=r(66630),l=function(e){function t(t,r,n){void 0===t&&(t=Number.POSITIVE_INFINITY),void 0===r&&(r=Number.POSITIVE_INFINITY),e.call(this),this.scheduler=n,this._events=[],this._bufferSize=t<1?1:t,this._windowTime=r<1?1:r}return n(t,e),t.prototype.next=function(t){var r=this._getNow();this._events.push(new f(r,t)),this._trimBufferThenGetEvents(),e.prototype.next.call(this,t)},t.prototype._subscribe=function(e){var t,r=this._trimBufferThenGetEvents(),n=this.scheduler;if(this.closed)throw new c.ObjectUnsubscribedError;this.hasError||this.isStopped?t=s.Subscription.EMPTY:(this.observers.push(e),t=new u.SubjectSubscription(this,e)),n&&e.add(e=new a.ObserveOnSubscriber(e,n));for(var i=r.length,o=0;o<i&&!e.closed;o++)e.next(r[o].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),t},t.prototype._getNow=function(){return(this.scheduler||o.queue).now()},t.prototype._trimBufferThenGetEvents=function(){for(var e=this._getNow(),t=this._bufferSize,r=this._windowTime,n=this._events,i=n.length,o=0;o<i&&!(e-n[o].time<r);)o++;return i>t&&(o=Math.max(o,i-t)),o>0&&n.splice(0,o),n},t}(i.Subject);t.ReplaySubject=l;var f=function(e,t){this.time=e,this.value=t}},32489:(e,t,r)=>{var n=r(99731);t.Subject=n.Subject,t.AnonymousSubject=n.AnonymousSubject;var i=r(91638);t.Observable=i.Observable,r(91837),r(23221),r(33659),r(17573),r(72117),r(44780),r(37477),r(84657),r(52661),r(75327),r(61252),r(54334),r(15462),r(98516),r(13325),r(37996),r(7995),r(73664),r(96698),r(21816),r(79764),r(92337),r(7453),r(97440),r(18690),r(25742),r(19397),r(14512),r(5653),r(50989),r(70268),r(71356),r(83651),r(47786),r(20402),r(92886),r(17923),r(97754),r(6671),r(27427),r(89356),r(56341),r(91104),r(41909),r(98263),r(8727),r(47438),r(26262),r(14813),r(3963),r(80966),r(50877),r(70114),r(62429),r(2020),r(98719),r(53493),r(48945),r(46674),r(58770),r(50253),r(18681),r(29527),r(21618),r(24818),r(91501),r(29451),r(72314),r(10127),r(8181),r(40418),r(17228),r(2789),r(71612),r(3789),r(36201),r(13292),r(46090),r(67845),r(19235),r(42450),r(59898),r(76997),r(91183),r(83237),r(51324),r(71775),r(97263),r(62788),r(89429),r(25061),r(48106),r(12310),r(77724),r(75137),r(57039),r(69351),r(33543),r(39380),r(20034),r(88949),r(32993),r(78597),r(39748),r(69772),r(56897),r(19466),r(43758),r(27699),r(28961),r(6685),r(44025),r(41632),r(25390),r(24315),r(65910),r(18015),r(63287),r(14328),r(11482),r(74142),r(86198),r(19043),r(95235),r(49814),r(250),r(82865),r(91139),r(16716);var o=r(36446);t.Subscription=o.Subscription;var s=r(42741);t.Subscriber=s.Subscriber;var a=r(60751);t.AsyncSubject=a.AsyncSubject;var c=r(91578);t.ReplaySubject=c.ReplaySubject;var u=r(69797);t.BehaviorSubject=u.BehaviorSubject;var l=r(74230);t.ConnectableObservable=l.ConnectableObservable;var f=r(25944);t.Notification=f.Notification;var h=r(64871);t.EmptyError=h.EmptyError;var d=r(5169);t.ArgumentOutOfRangeError=d.ArgumentOutOfRangeError;var p=r(49830);t.ObjectUnsubscribedError=p.ObjectUnsubscribedError;var y=r(73297);t.TimeoutError=y.TimeoutError;var b=r(36860);t.UnsubscriptionError=b.UnsubscriptionError;var m=r(37882);t.TimeInterval=m.TimeInterval;var v=r(20153);t.Timestamp=v.Timestamp;var g=r(82517);t.TestScheduler=g.TestScheduler;var w=r(83446);t.VirtualTimeScheduler=w.VirtualTimeScheduler;var _=r(491);t.AjaxResponse=_.AjaxResponse,t.AjaxError=_.AjaxError,t.AjaxTimeoutError=_.AjaxTimeoutError;var S=r(44114);t.pipe=S.pipe;var E=r(16732),T=r(19545),O=r(27670),x=r(43190),A=r(22522),M=r(78380),P=r(85999),I=r(16878);t.operators=I;var j={asap:E.asap,queue:O.queue,animationFrame:x.animationFrame,async:T.async};t.Scheduler=j;var R={rxSubscriber:A.rxSubscriber,observable:P.observable,iterator:M.iterator};t.Symbol=R},62570:(e,t)=>{var r=function(){function e(t,r){void 0===r&&(r=e.now),this.SchedulerAction=t,this.now=r}return e.prototype.schedule=function(e,t,r){return void 0===t&&(t=0),new this.SchedulerAction(this,e).schedule(r,t)},e.now=Date.now?Date.now:function(){return+new Date},e}();t.Scheduler=r},99731:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(91638),o=r(42741),s=r(36446),a=r(49830),c=r(66630),u=r(22522),l=function(e){function t(t){e.call(this,t),this.destination=t}return n(t,e),t}(o.Subscriber);t.SubjectSubscriber=l;var f=function(e){function t(){e.call(this),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}return n(t,e),t.prototype[u.rxSubscriber]=function(){return new l(this)},t.prototype.lift=function(e){var t=new h(this,this);return t.operator=e,t},t.prototype.next=function(e){if(this.closed)throw new a.ObjectUnsubscribedError;if(!this.isStopped)for(var t=this.observers,r=t.length,n=t.slice(),i=0;i<r;i++)n[i].next(e)},t.prototype.error=function(e){if(this.closed)throw new a.ObjectUnsubscribedError;this.hasError=!0,this.thrownError=e,this.isStopped=!0;for(var t=this.observers,r=t.length,n=t.slice(),i=0;i<r;i++)n[i].error(e);this.observers.length=0},t.prototype.complete=function(){if(this.closed)throw new a.ObjectUnsubscribedError;this.isStopped=!0;for(var e=this.observers,t=e.length,r=e.slice(),n=0;n<t;n++)r[n].complete();this.observers.length=0},t.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},t.prototype._trySubscribe=function(t){if(this.closed)throw new a.ObjectUnsubscribedError;return e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){if(this.closed)throw new a.ObjectUnsubscribedError;return this.hasError?(e.error(this.thrownError),s.Subscription.EMPTY):this.isStopped?(e.complete(),s.Subscription.EMPTY):(this.observers.push(e),new c.SubjectSubscription(this,e))},t.prototype.asObservable=function(){var e=new i.Observable;return e.source=this,e},t.create=function(e,t){return new h(e,t)},t}(i.Observable);t.Subject=f;var h=function(e){function t(t,r){e.call(this),this.destination=t,this.source=r}return n(t,e),t.prototype.next=function(e){var t=this.destination;t&&t.next&&t.next(e)},t.prototype.error=function(e){var t=this.destination;t&&t.error&&this.destination.error(e)},t.prototype.complete=function(){var e=this.destination;e&&e.complete&&this.destination.complete()},t.prototype._subscribe=function(e){return this.source?this.source.subscribe(e):s.Subscription.EMPTY},t}(f);t.AnonymousSubject=h},66630:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=function(e){function t(t,r){e.call(this),this.subject=t,this.subscriber=r,this.closed=!1}return n(t,e),t.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var e=this.subject,t=e.observers;if(this.subject=null,t&&0!==t.length&&!e.isStopped&&!e.closed){var r=t.indexOf(this.subscriber);-1!==r&&t.splice(r,1)}}},t}(r(36446).Subscription);t.SubjectSubscription=i},42741:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(95786),o=r(36446),s=r(98009),a=r(22522),c=function(e){function t(t,r,n){switch(e.call(this),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=s.empty;break;case 1:if(!t){this.destination=s.empty;break}if("object"==typeof t){if(l(t)){var i=t[a.rxSubscriber]();this.syncErrorThrowable=i.syncErrorThrowable,this.destination=i,i.add(this)}else this.syncErrorThrowable=!0,this.destination=new u(this,t);break}default:this.syncErrorThrowable=!0,this.destination=new u(this,t,r,n)}}return n(t,e),t.prototype[a.rxSubscriber]=function(){return this},t.create=function(e,r,n){var i=new t(e,r,n);return i.syncErrorThrowable=!1,i},t.prototype.next=function(e){this.isStopped||this._next(e)},t.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this))},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){this.destination.error(e),this.unsubscribe()},t.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},t.prototype._unsubscribeAndRecycle=function(){var e=this._parent,t=this._parents;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=e,this._parents=t,this},t}(o.Subscription);t.Subscriber=c;var u=function(e){function t(t,r,n,o){var a;e.call(this),this._parentSubscriber=t;var c=this;i.isFunction(r)?a=r:r&&(a=r.next,n=r.error,o=r.complete,r!==s.empty&&(c=Object.create(r),i.isFunction(c.unsubscribe)&&this.add(c.unsubscribe.bind(c)),c.unsubscribe=this.unsubscribe.bind(this))),this._context=c,this._next=a,this._error=n,this._complete=o}return n(t,e),t.prototype.next=function(e){if(!this.isStopped&&this._next){var t=this._parentSubscriber;t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}},t.prototype.error=function(e){if(!this.isStopped){var t=this._parentSubscriber;if(this._error)t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else{if(!t.syncErrorThrowable)throw this.unsubscribe(),e;t.syncErrorValue=e,t.syncErrorThrown=!0,this.unsubscribe()}}},t.prototype.complete=function(){var e=this;if(!this.isStopped){var t=this._parentSubscriber;if(this._complete){var r=function(){return e._complete.call(e._context)};t.syncErrorThrowable?(this.__tryOrSetError(t,r),this.unsubscribe()):(this.__tryOrUnsub(r),this.unsubscribe())}else this.unsubscribe()}},t.prototype.__tryOrUnsub=function(e,t){try{e.call(this._context,t)}catch(e){throw this.unsubscribe(),e}},t.prototype.__tryOrSetError=function(e,t,r){try{t.call(this._context,r)}catch(t){return e.syncErrorValue=t,e.syncErrorThrown=!0,!0}return!1},t.prototype._unsubscribe=function(){var e=this._parentSubscriber;this._context=null,this._parentSubscriber=null,e.unsubscribe()},t}(c);function l(e){return e instanceof c||"syncErrorThrowable"in e&&e[a.rxSubscriber]}},36446:(e,t,r)=>{var n=r(18033),i=r(19469),o=r(95786),s=r(36786),a=r(70817),c=r(36860),u=function(){function e(e){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,e&&(this._unsubscribe=e)}var t;return e.prototype.unsubscribe=function(){var e,t=!1;if(!this.closed){var r=this,u=r._parent,f=r._parents,h=r._unsubscribe,d=r._subscriptions;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;for(var p=-1,y=f?f.length:0;u;)u.remove(this),u=++p<y&&f[p]||null;if(o.isFunction(h)&&s.tryCatch(h).call(this)===a.errorObject&&(t=!0,e=e||(a.errorObject.e instanceof c.UnsubscriptionError?l(a.errorObject.e.errors):[a.errorObject.e])),n.isArray(d))for(p=-1,y=d.length;++p<y;){var b=d[p];if(i.isObject(b)&&s.tryCatch(b.unsubscribe).call(b)===a.errorObject){t=!0,e=e||[];var m=a.errorObject.e;m instanceof c.UnsubscriptionError?e=e.concat(l(m.errors)):e.push(m)}}if(t)throw new c.UnsubscriptionError(e)}},e.prototype.add=function(t){if(!t||t===e.EMPTY)return e.EMPTY;if(t===this)return this;var r=t;switch(typeof t){case"function":r=new e(t);case"object":if(r.closed||"function"!=typeof r.unsubscribe)return r;if(this.closed)return r.unsubscribe(),r;if("function"!=typeof r._addParent){var n=r;(r=new e)._subscriptions=[n]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}return(this._subscriptions||(this._subscriptions=[])).push(r),r._addParent(this),r},e.prototype.remove=function(e){var t=this._subscriptions;if(t){var r=t.indexOf(e);-1!==r&&t.splice(r,1)}},e.prototype._addParent=function(e){var t=this._parent,r=this._parents;t&&t!==e?r?-1===r.indexOf(e)&&r.push(e):this._parents=[e]:this._parent=e},e.EMPTY=((t=new e).closed=!0,t),e}();function l(e){return e.reduce((function(e,t){return e.concat(t instanceof c.UnsubscriptionError?t.errors:t)}),[])}t.Subscription=u},91837:(e,t,r)=>{var n=r(91638),i=r(62521);n.Observable.bindCallback=i.bindCallback},23221:(e,t,r)=>{var n=r(91638),i=r(37265);n.Observable.bindNodeCallback=i.bindNodeCallback},33659:(e,t,r)=>{var n=r(91638),i=r(44847);n.Observable.combineLatest=i.combineLatest},17573:(e,t,r)=>{var n=r(91638),i=r(23497);n.Observable.concat=i.concat},72117:(e,t,r)=>{var n=r(91638),i=r(46137);n.Observable.defer=i.defer},25742:(e,t,r)=>{var n=r(91638),i=r(34202);n.Observable.ajax=i.ajax},19397:(e,t,r)=>{var n=r(91638),i=r(26433);n.Observable.webSocket=i.webSocket},44780:(e,t,r)=>{var n=r(91638),i=r(89624);n.Observable.empty=i.empty},37477:(e,t,r)=>{var n=r(91638),i=r(67233);n.Observable.forkJoin=i.forkJoin},84657:(e,t,r)=>{var n=r(91638),i=r(97205);n.Observable.from=i.from},52661:(e,t,r)=>{var n=r(91638),i=r(49305);n.Observable.fromEvent=i.fromEvent},75327:(e,t,r)=>{var n=r(91638),i=r(18379);n.Observable.fromEventPattern=i.fromEventPattern},61252:(e,t,r)=>{var n=r(91638),i=r(55704);n.Observable.fromPromise=i.fromPromise},54334:(e,t,r)=>{var n=r(91638),i=r(80794);n.Observable.generate=i.generate},15462:(e,t,r)=>{var n=r(91638),i=r(58474);n.Observable.if=i._if},98516:(e,t,r)=>{var n=r(91638),i=r(46328);n.Observable.interval=i.interval},13325:(e,t,r)=>{var n=r(91638),i=r(90257);n.Observable.merge=i.merge},7995:(e,t,r)=>{var n=r(91638),i=r(83711);n.Observable.never=i.never},73664:(e,t,r)=>{var n=r(91638),i=r(70700);n.Observable.of=i.of},96698:(e,t,r)=>{var n=r(91638),i=r(19638);n.Observable.onErrorResumeNext=i.onErrorResumeNext},21816:(e,t,r)=>{var n=r(91638),i=r(15788);n.Observable.pairs=i.pairs},37996:(e,t,r)=>{var n=r(91638),i=r(2944);n.Observable.race=i.race},79764:(e,t,r)=>{var n=r(91638),i=r(64752);n.Observable.range=i.range},7453:(e,t,r)=>{var n=r(91638),i=r(21481);n.Observable.throw=i._throw},97440:(e,t,r)=>{var n=r(91638),i=r(6956);n.Observable.timer=i.timer},92337:(e,t,r)=>{var n=r(91638),i=r(69549);n.Observable.using=i.using},18690:(e,t,r)=>{var n=r(91638),i=r(36454);n.Observable.zip=i.zip},29527:(e,t,r)=>{var n=r(91638),i=r(6043);n.Observable.prototype.audit=i.audit},21618:(e,t,r)=>{var n=r(91638),i=r(82750);n.Observable.prototype.auditTime=i.auditTime},14512:(e,t,r)=>{var n=r(91638),i=r(27540);n.Observable.prototype.buffer=i.buffer},5653:(e,t,r)=>{var n=r(91638),i=r(15457);n.Observable.prototype.bufferCount=i.bufferCount},50989:(e,t,r)=>{var n=r(91638),i=r(59321);n.Observable.prototype.bufferTime=i.bufferTime},70268:(e,t,r)=>{var n=r(91638),i=r(19808);n.Observable.prototype.bufferToggle=i.bufferToggle},71356:(e,t,r)=>{var n=r(91638),i=r(85928);n.Observable.prototype.bufferWhen=i.bufferWhen},83651:(e,t,r)=>{var n=r(91638),i=r(64407);n.Observable.prototype.catch=i._catch,n.Observable.prototype._catch=i._catch},47786:(e,t,r)=>{var n=r(91638),i=r(34286);n.Observable.prototype.combineAll=i.combineAll},20402:(e,t,r)=>{var n=r(91638),i=r(67070);n.Observable.prototype.combineLatest=i.combineLatest},92886:(e,t,r)=>{var n=r(91638),i=r(85986);n.Observable.prototype.concat=i.concat},17923:(e,t,r)=>{var n=r(91638),i=r(9991);n.Observable.prototype.concatAll=i.concatAll},97754:(e,t,r)=>{var n=r(91638),i=r(35910);n.Observable.prototype.concatMap=i.concatMap},6671:(e,t,r)=>{var n=r(91638),i=r(95067);n.Observable.prototype.concatMapTo=i.concatMapTo},27427:(e,t,r)=>{var n=r(91638),i=r(32335);n.Observable.prototype.count=i.count},56341:(e,t,r)=>{var n=r(91638),i=r(47753);n.Observable.prototype.debounce=i.debounce},91104:(e,t,r)=>{var n=r(91638),i=r(31292);n.Observable.prototype.debounceTime=i.debounceTime},41909:(e,t,r)=>{var n=r(91638),i=r(13385);n.Observable.prototype.defaultIfEmpty=i.defaultIfEmpty},98263:(e,t,r)=>{var n=r(91638),i=r(32603);n.Observable.prototype.delay=i.delay},8727:(e,t,r)=>{var n=r(91638),i=r(41459);n.Observable.prototype.delayWhen=i.delayWhen},89356:(e,t,r)=>{var n=r(91638),i=r(30144);n.Observable.prototype.dematerialize=i.dematerialize},47438:(e,t,r)=>{var n=r(91638),i=r(14530);n.Observable.prototype.distinct=i.distinct},26262:(e,t,r)=>{var n=r(91638),i=r(57530);n.Observable.prototype.distinctUntilChanged=i.distinctUntilChanged},14813:(e,t,r)=>{var n=r(91638),i=r(54545);n.Observable.prototype.distinctUntilKeyChanged=i.distinctUntilKeyChanged},3963:(e,t,r)=>{var n=r(91638),i=r(29551);n.Observable.prototype.do=i._do,n.Observable.prototype._do=i._do},62429:(e,t,r)=>{var n=r(91638),i=r(67689);n.Observable.prototype.elementAt=i.elementAt},29451:(e,t,r)=>{var n=r(91638),i=r(70447);n.Observable.prototype.every=i.every},80966:(e,t,r)=>{var n=r(91638),i=r(8922);n.Observable.prototype.exhaust=i.exhaust},50877:(e,t,r)=>{var n=r(91638),i=r(23230);n.Observable.prototype.exhaustMap=i.exhaustMap},70114:(e,t,r)=>{var n=r(91638),i=r(98398);n.Observable.prototype.expand=i.expand},2020:(e,t,r)=>{var n=r(91638),i=r(64472);n.Observable.prototype.filter=i.filter},98719:(e,t,r)=>{var n=r(91638),i=r(45051);n.Observable.prototype.finally=i._finally,n.Observable.prototype._finally=i._finally},53493:(e,t,r)=>{var n=r(91638),i=r(50529);n.Observable.prototype.find=i.find},48945:(e,t,r)=>{var n=r(91638),i=r(12125);n.Observable.prototype.findIndex=i.findIndex},46674:(e,t,r)=>{var n=r(91638),i=r(82782);n.Observable.prototype.first=i.first},58770:(e,t,r)=>{var n=r(91638),i=r(14038);n.Observable.prototype.groupBy=i.groupBy},50253:(e,t,r)=>{var n=r(91638),i=r(14169);n.Observable.prototype.ignoreElements=i.ignoreElements},18681:(e,t,r)=>{var n=r(91638),i=r(32973);n.Observable.prototype.isEmpty=i.isEmpty},24818:(e,t,r)=>{var n=r(91638),i=r(46726);n.Observable.prototype.last=i.last},91501:(e,t,r)=>{var n=r(91638),i=r(66881);n.Observable.prototype.let=i.letProto,n.Observable.prototype.letBind=i.letProto},72314:(e,t,r)=>{var n=r(91638),i=r(66222);n.Observable.prototype.map=i.map},10127:(e,t,r)=>{var n=r(91638),i=r(89171);n.Observable.prototype.mapTo=i.mapTo},8181:(e,t,r)=>{var n=r(91638),i=r(29945);n.Observable.prototype.materialize=i.materialize},40418:(e,t,r)=>{var n=r(91638),i=r(63238);n.Observable.prototype.max=i.max},17228:(e,t,r)=>{var n=r(91638),i=r(25864);n.Observable.prototype.merge=i.merge},2789:(e,t,r)=>{var n=r(91638),i=r(83737);n.Observable.prototype.mergeAll=i.mergeAll},71612:(e,t,r)=>{var n=r(91638),i=r(43048);n.Observable.prototype.mergeMap=i.mergeMap,n.Observable.prototype.flatMap=i.mergeMap},3789:(e,t,r)=>{var n=r(91638),i=r(99881);n.Observable.prototype.flatMapTo=i.mergeMapTo,n.Observable.prototype.mergeMapTo=i.mergeMapTo},36201:(e,t,r)=>{var n=r(91638),i=r(12413);n.Observable.prototype.mergeScan=i.mergeScan},13292:(e,t,r)=>{var n=r(91638),i=r(92312);n.Observable.prototype.min=i.min},46090:(e,t,r)=>{var n=r(91638),i=r(85086);n.Observable.prototype.multicast=i.multicast},67845:(e,t,r)=>{var n=r(91638),i=r(8865);n.Observable.prototype.observeOn=i.observeOn},19235:(e,t,r)=>{var n=r(91638),i=r(95815);n.Observable.prototype.onErrorResumeNext=i.onErrorResumeNext},42450:(e,t,r)=>{var n=r(91638),i=r(69318);n.Observable.prototype.pairwise=i.pairwise},59898:(e,t,r)=>{var n=r(91638),i=r(18614);n.Observable.prototype.partition=i.partition},76997:(e,t,r)=>{var n=r(91638),i=r(64481);n.Observable.prototype.pluck=i.pluck},91183:(e,t,r)=>{var n=r(91638),i=r(69627);n.Observable.prototype.publish=i.publish},83237:(e,t,r)=>{var n=r(91638),i=r(27289);n.Observable.prototype.publishBehavior=i.publishBehavior},71775:(e,t,r)=>{var n=r(91638),i=r(30699);n.Observable.prototype.publishLast=i.publishLast},51324:(e,t,r)=>{var n=r(91638),i=r(96328);n.Observable.prototype.publishReplay=i.publishReplay},97263:(e,t,r)=>{var n=r(91638),i=r(2571);n.Observable.prototype.race=i.race},62788:(e,t,r)=>{var n=r(91638),i=r(43560);n.Observable.prototype.reduce=i.reduce},89429:(e,t,r)=>{var n=r(91638),i=r(21425);n.Observable.prototype.repeat=i.repeat},25061:(e,t,r)=>{var n=r(91638),i=r(27769);n.Observable.prototype.repeatWhen=i.repeatWhen},48106:(e,t,r)=>{var n=r(91638),i=r(46006);n.Observable.prototype.retry=i.retry},12310:(e,t,r)=>{var n=r(91638),i=r(24058);n.Observable.prototype.retryWhen=i.retryWhen},77724:(e,t,r)=>{var n=r(91638),i=r(66408);n.Observable.prototype.sample=i.sample},75137:(e,t,r)=>{var n=r(91638),i=r(98373);n.Observable.prototype.sampleTime=i.sampleTime},57039:(e,t,r)=>{var n=r(91638),i=r(45899);n.Observable.prototype.scan=i.scan},69351:(e,t,r)=>{var n=r(91638),i=r(58563);n.Observable.prototype.sequenceEqual=i.sequenceEqual},33543:(e,t,r)=>{var n=r(91638),i=r(13739);n.Observable.prototype.share=i.share},39380:(e,t,r)=>{var n=r(91638),i=r(85944);n.Observable.prototype.shareReplay=i.shareReplay},20034:(e,t,r)=>{var n=r(91638),i=r(20246);n.Observable.prototype.single=i.single},88949:(e,t,r)=>{var n=r(91638),i=r(98441);n.Observable.prototype.skip=i.skip},32993:(e,t,r)=>{var n=r(91638),i=r(44469);n.Observable.prototype.skipLast=i.skipLast},78597:(e,t,r)=>{var n=r(91638),i=r(11169);n.Observable.prototype.skipUntil=i.skipUntil},39748:(e,t,r)=>{var n=r(91638),i=r(79272);n.Observable.prototype.skipWhile=i.skipWhile},69772:(e,t,r)=>{var n=r(91638),i=r(81112);n.Observable.prototype.startWith=i.startWith},56897:(e,t,r)=>{var n=r(91638),i=r(72109);n.Observable.prototype.subscribeOn=i.subscribeOn},19466:(e,t,r)=>{var n=r(91638),i=r(29806);n.Observable.prototype.switch=i._switch,n.Observable.prototype._switch=i._switch},43758:(e,t,r)=>{var n=r(91638),i=r(17810);n.Observable.prototype.switchMap=i.switchMap},27699:(e,t,r)=>{var n=r(91638),i=r(46455);n.Observable.prototype.switchMapTo=i.switchMapTo},28961:(e,t,r)=>{var n=r(91638),i=r(35093);n.Observable.prototype.take=i.take},6685:(e,t,r)=>{var n=r(91638),i=r(91681);n.Observable.prototype.takeLast=i.takeLast},44025:(e,t,r)=>{var n=r(91638),i=r(56293);n.Observable.prototype.takeUntil=i.takeUntil},41632:(e,t,r)=>{var n=r(91638),i=r(17444);n.Observable.prototype.takeWhile=i.takeWhile},25390:(e,t,r)=>{var n=r(91638),i=r(12658);n.Observable.prototype.throttle=i.throttle},24315:(e,t,r)=>{var n=r(91638),i=r(90244);n.Observable.prototype.throttleTime=i.throttleTime},65910:(e,t,r)=>{var n=r(91638),i=r(37882);n.Observable.prototype.timeInterval=i.timeInterval},18015:(e,t,r)=>{var n=r(91638),i=r(46363);n.Observable.prototype.timeout=i.timeout},63287:(e,t,r)=>{var n=r(91638),i=r(5619);n.Observable.prototype.timeoutWith=i.timeoutWith},14328:(e,t,r)=>{var n=r(91638),i=r(91036);n.Observable.prototype.timestamp=i.timestamp},11482:(e,t,r)=>{var n=r(91638),i=r(98950);n.Observable.prototype.toArray=i.toArray},74142:()=>{},86198:(e,t,r)=>{var n=r(91638),i=r(63442);n.Observable.prototype.window=i.window},19043:(e,t,r)=>{var n=r(91638),i=r(56263);n.Observable.prototype.windowCount=i.windowCount},95235:(e,t,r)=>{var n=r(91638),i=r(59159);n.Observable.prototype.windowTime=i.windowTime},49814:(e,t,r)=>{var n=r(91638),i=r(35506);n.Observable.prototype.windowToggle=i.windowToggle},250:(e,t,r)=>{var n=r(91638),i=r(45918);n.Observable.prototype.windowWhen=i.windowWhen},82865:(e,t,r)=>{var n=r(91638),i=r(90557);n.Observable.prototype.withLatestFrom=i.withLatestFrom},91139:(e,t,r)=>{var n=r(91638),i=r(79823);n.Observable.prototype.zip=i.zipProto},16716:(e,t,r)=>{var n=r(91638),i=r(32112);n.Observable.prototype.zipAll=i.zipAll},11006:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(91638),o=r(97156),s=r(56777),a=function(e){function t(t,r){e.call(this),this.arrayLike=t,this.scheduler=r,r||1!==t.length||(this._isScalar=!0,this.value=t[0])}return n(t,e),t.create=function(e,r){var n=e.length;return 0===n?new s.EmptyObservable:1===n?new o.ScalarObservable(e[0],r):new t(e,r)},t.dispatch=function(e){var t=e.arrayLike,r=e.index,n=e.length,i=e.subscriber;i.closed||(r>=n?i.complete():(i.next(t[r]),e.index=r+1,this.schedule(e)))},t.prototype._subscribe=function(e){var r=this.arrayLike,n=this.scheduler,i=r.length;if(n)return n.schedule(t.dispatch,0,{arrayLike:r,index:0,length:i,subscriber:e});for(var o=0;o<i&&!e.closed;o++)e.next(r[o]);e.complete()},t}(i.Observable);t.ArrayLikeObservable=a},80757:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(91638),o=r(97156),s=r(56777),a=r(57733),c=function(e){function t(t,r){e.call(this),this.array=t,this.scheduler=r,r||1!==t.length||(this._isScalar=!0,this.value=t[0])}return n(t,e),t.create=function(e,r){return new t(e,r)},t.of=function(){for(var e=[],r=0;r<arguments.length;r++)e[r-0]=arguments[r];var n=e[e.length-1];a.isScheduler(n)?e.pop():n=null;var i=e.length;return i>1?new t(e,n):1===i?new o.ScalarObservable(e[0],n):new s.EmptyObservable(n)},t.dispatch=function(e){var t=e.array,r=e.index,n=e.count,i=e.subscriber;r>=n?i.complete():(i.next(t[r]),i.closed||(e.index=r+1,this.schedule(e)))},t.prototype._subscribe=function(e){var r=this.array,n=r.length,i=this.scheduler;if(i)return i.schedule(t.dispatch,0,{array:r,index:0,count:n,subscriber:e});for(var o=0;o<n&&!e.closed;o++)e.next(r[o]);e.complete()},t}(i.Observable);t.ArrayObservable=c},76891:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(91638),o=r(36786),s=r(70817),a=r(60751),c=function(e){function t(t,r,n,i,o){e.call(this),this.callbackFunc=t,this.selector=r,this.args=n,this.context=i,this.scheduler=o}return n(t,e),t.create=function(e,r,n){return void 0===r&&(r=void 0),function(){for(var i=[],o=0;o<arguments.length;o++)i[o-0]=arguments[o];return new t(e,r,i,this,n)}},t.prototype._subscribe=function(e){var r=this.callbackFunc,n=this.args,i=this.scheduler,c=this.subject;if(i)return i.schedule(t.dispatch,0,{source:this,subscriber:e,context:this.context});if(!c){c=this.subject=new a.AsyncSubject;var u=function e(){for(var t=[],r=0;r<arguments.length;r++)t[r-0]=arguments[r];var n=e.source,i=n.selector,a=n.subject;if(i){var c=o.tryCatch(i).apply(this,t);c===s.errorObject?a.error(s.errorObject.e):(a.next(c),a.complete())}else a.next(t.length<=1?t[0]:t),a.complete()};u.source=this,o.tryCatch(r).apply(this.context,n.concat(u))===s.errorObject&&c.error(s.errorObject.e)}return c.subscribe(e)},t.dispatch=function(e){var t=this,r=e.source,n=e.subscriber,i=e.context,c=r.callbackFunc,f=r.args,h=r.scheduler,d=r.subject;if(!d){d=r.subject=new a.AsyncSubject;var p=function e(){for(var r=[],n=0;n<arguments.length;n++)r[n-0]=arguments[n];var i=e.source,a=i.selector,c=i.subject;if(a){var f=o.tryCatch(a).apply(this,r);f===s.errorObject?t.add(h.schedule(l,0,{err:s.errorObject.e,subject:c})):t.add(h.schedule(u,0,{value:f,subject:c}))}else{var d=r.length<=1?r[0]:r;t.add(h.schedule(u,0,{value:d,subject:c}))}};p.source=r,o.tryCatch(c).apply(i,f.concat(p))===s.errorObject&&d.error(s.errorObject.e)}t.add(d.subscribe(n))},t}(i.Observable);function u(e){var t=e.value,r=e.subject;r.next(t),r.complete()}function l(e){var t=e.err;e.subject.error(t)}t.BoundCallbackObservable=c},67431:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(91638),o=r(36786),s=r(70817),a=r(60751),c=function(e){function t(t,r,n,i,o){e.call(this),this.callbackFunc=t,this.selector=r,this.args=n,this.context=i,this.scheduler=o}return n(t,e),t.create=function(e,r,n){return void 0===r&&(r=void 0),function(){for(var i=[],o=0;o<arguments.length;o++)i[o-0]=arguments[o];return new t(e,r,i,this,n)}},t.prototype._subscribe=function(e){var t=this.callbackFunc,r=this.args,n=this.scheduler,i=this.subject;if(n)return n.schedule(u,0,{source:this,subscriber:e,context:this.context});if(!i){i=this.subject=new a.AsyncSubject;var c=function e(){for(var t=[],r=0;r<arguments.length;r++)t[r-0]=arguments[r];var n=e.source,i=n.selector,a=n.subject,c=t.shift();if(c)a.error(c);else if(i){var u=o.tryCatch(i).apply(this,t);u===s.errorObject?a.error(s.errorObject.e):(a.next(u),a.complete())}else a.next(t.length<=1?t[0]:t),a.complete()};c.source=this,o.tryCatch(t).apply(this.context,r.concat(c))===s.errorObject&&i.error(s.errorObject.e)}return i.subscribe(e)},t}(i.Observable);function u(e){var t=this,r=e.source,n=e.subscriber,i=e.context,c=r,u=c.callbackFunc,h=c.args,d=c.scheduler,p=r.subject;if(!p){p=r.subject=new a.AsyncSubject;var y=function e(){for(var r=[],n=0;n<arguments.length;n++)r[n-0]=arguments[n];var i=e.source,a=i.selector,c=i.subject,u=r.shift();if(u)t.add(d.schedule(f,0,{err:u,subject:c}));else if(a){var h=o.tryCatch(a).apply(this,r);h===s.errorObject?t.add(d.schedule(f,0,{err:s.errorObject.e,subject:c})):t.add(d.schedule(l,0,{value:h,subject:c}))}else{var p=r.length<=1?r[0]:r;t.add(d.schedule(l,0,{value:p,subject:c}))}};y.source=r,o.tryCatch(u).apply(i,h.concat(y))===s.errorObject&&t.add(d.schedule(f,0,{err:s.errorObject.e,subject:p}))}t.add(p.subscribe(n))}function l(e){var t=e.value,r=e.subject;r.next(t),r.complete()}function f(e){var t=e.err;e.subject.error(t)}t.BoundNodeCallbackObservable=c},74230:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(99731),o=r(91638),s=r(42741),a=r(36446),c=r(54361),u=function(e){function t(t,r){e.call(this),this.source=t,this.subjectFactory=r,this._refCount=0,this._isComplete=!1}return n(t,e),t.prototype._subscribe=function(e){return this.getSubject().subscribe(e)},t.prototype.getSubject=function(){var e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject},t.prototype.connect=function(){var e=this._connection;return e||(this._isComplete=!1,(e=this._connection=new a.Subscription).add(this.source.subscribe(new f(this.getSubject(),this))),e.closed?(this._connection=null,e=a.Subscription.EMPTY):this._connection=e),e},t.prototype.refCount=function(){return c.refCount()(this)},t}(o.Observable);t.ConnectableObservable=u;var l=u.prototype;t.connectableObservableDescriptor={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:l._subscribe},_isComplete:{value:l._isComplete,writable:!0},getSubject:{value:l.getSubject},connect:{value:l.connect},refCount:{value:l.refCount}};var f=function(e){function t(t,r){e.call(this,t),this.connectable=r}return n(t,e),t.prototype._error=function(t){this._unsubscribe(),e.prototype._error.call(this,t)},t.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){var e=this.connectable;if(e){this.connectable=null;var t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}},t}(i.SubjectSubscriber);!function(e){function t(t,r){e.call(this,t),this.connectable=r}n(t,e),t.prototype._unsubscribe=function(){var e=this.connectable;if(e){this.connectable=null;var t=e._refCount;if(t<=0)this.connection=null;else if(e._refCount=t-1,t>1)this.connection=null;else{var r=this.connection,n=e._connection;this.connection=null,!n||r&&n!==r||n.unsubscribe()}}else this.connection=null}}(s.Subscriber)},82276:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(91638),o=r(740),s=r(234),a=function(e){function t(t){e.call(this),this.observableFactory=t}return n(t,e),t.create=function(e){return new t(e)},t.prototype._subscribe=function(e){return new c(e,this.observableFactory)},t}(i.Observable);t.DeferObservable=a;var c=function(e){function t(t,r){e.call(this,t),this.factory=r,this.tryDefer()}return n(t,e),t.prototype.tryDefer=function(){try{this._callFactory()}catch(e){this._error(e)}},t.prototype._callFactory=function(){var e=this.factory();e&&this.add(o.subscribeToResult(this,e))},t}(s.OuterSubscriber)},56777:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=function(e){function t(t){e.call(this),this.scheduler=t}return n(t,e),t.create=function(e){return new t(e)},t.dispatch=function(e){e.subscriber.complete()},t.prototype._subscribe=function(e){var r=this.scheduler;if(r)return r.schedule(t.dispatch,0,{subscriber:e});e.complete()},t}(r(91638).Observable);t.EmptyObservable=i},27554:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=function(e){function t(t,r){e.call(this),this.error=t,this.scheduler=r}return n(t,e),t.create=function(e,r){return new t(e,r)},t.dispatch=function(e){var t=e.error;e.subscriber.error(t)},t.prototype._subscribe=function(e){var r=this.error,n=this.scheduler;if(e.syncErrorThrowable=!0,n)return n.schedule(t.dispatch,0,{error:r,subscriber:e});e.error(r)},t}(r(91638).Observable);t.ErrorObservable=i},43372:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(91638),o=r(56777),s=r(18033),a=r(740),c=r(234),u=function(e){function t(t,r){e.call(this),this.sources=t,this.resultSelector=r}return n(t,e),t.create=function(){for(var e=[],r=0;r<arguments.length;r++)e[r-0]=arguments[r];if(null===e||0===arguments.length)return new o.EmptyObservable;var n=null;return"function"==typeof e[e.length-1]&&(n=e.pop()),1===e.length&&s.isArray(e[0])&&(e=e[0]),0===e.length?new o.EmptyObservable:new t(e,n)},t.prototype._subscribe=function(e){return new l(e,this.sources,this.resultSelector)},t}(i.Observable);t.ForkJoinObservable=u;var l=function(e){function t(t,r,n){e.call(this,t),this.sources=r,this.resultSelector=n,this.completed=0,this.haveValues=0;var i=r.length;this.total=i,this.values=new Array(i);for(var o=0;o<i;o++){var s=r[o],c=a.subscribeToResult(this,s,null,o);c&&(c.outerIndex=o,this.add(c))}}return n(t,e),t.prototype.notifyNext=function(e,t,r,n,i){this.values[r]=t,i._hasValue||(i._hasValue=!0,this.haveValues++)},t.prototype.notifyComplete=function(e){var t=this.destination,r=this,n=r.haveValues,i=r.resultSelector,o=r.values,s=o.length;if(e._hasValue){if(this.completed++,this.completed===s){if(n===s){var a=i?i.apply(this,o):o;t.next(a)}t.complete()}}else t.complete()},t}(c.OuterSubscriber)},83140:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(91638),o=r(36786),s=r(95786),a=r(70817),c=r(36446),u=Object.prototype.toString,l=function(e){function t(t,r,n,i){e.call(this),this.sourceObj=t,this.eventName=r,this.selector=n,this.options=i}return n(t,e),t.create=function(e,r,n,i){return s.isFunction(n)&&(i=n,n=void 0),new t(e,r,i,n)},t.setupSubscription=function(e,r,n,i,o){var s;if(function(e){return!!e&&"[object NodeList]"===u.call(e)}(e)||function(e){return!!e&&"[object HTMLCollection]"===u.call(e)}(e))for(var a=0,l=e.length;a<l;a++)t.setupSubscription(e[a],r,n,i,o);else if(function(e){return!!e&&"function"==typeof e.addEventListener&&"function"==typeof e.removeEventListener}(e)){var f=e;e.addEventListener(r,n,o),s=function(){return f.removeEventListener(r,n,o)}}else if(function(e){return!!e&&"function"==typeof e.on&&"function"==typeof e.off}(e)){var h=e;e.on(r,n),s=function(){return h.off(r,n)}}else{if(!function(e){return!!e&&"function"==typeof e.addListener&&"function"==typeof e.removeListener}(e))throw new TypeError("Invalid event target");var d=e;e.addListener(r,n),s=function(){return d.removeListener(r,n)}}i.add(new c.Subscription(s))},t.prototype._subscribe=function(e){var r=this.sourceObj,n=this.eventName,i=this.options,s=this.selector,c=s?function(){for(var t=[],r=0;r<arguments.length;r++)t[r-0]=arguments[r];var n=o.tryCatch(s).apply(void 0,t);n===a.errorObject?e.error(a.errorObject.e):e.next(n)}:function(t){return e.next(t)};t.setupSubscription(r,n,c,e,i)},t}(i.Observable);t.FromEventObservable=l},51766:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(95786),o=r(91638),s=r(36446),a=function(e){function t(t,r,n){e.call(this),this.addHandler=t,this.removeHandler=r,this.selector=n}return n(t,e),t.create=function(e,r,n){return new t(e,r,n)},t.prototype._subscribe=function(e){var t=this,r=this.removeHandler,n=this.selector?function(){for(var r=[],n=0;n<arguments.length;n++)r[n-0]=arguments[n];t._callSelector(e,r)}:function(t){e.next(t)},o=this._callAddHandler(n,e);i.isFunction(r)&&e.add(new s.Subscription((function(){r(n,o)})))},t.prototype._callSelector=function(e,t){try{var r=this.selector.apply(this,t);e.next(r)}catch(t){e.error(t)}},t.prototype._callAddHandler=function(e,t){try{return this.addHandler(e)||null}catch(e){t.error(e)}},t}(o.Observable);t.FromEventPatternObservable=a},23576:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(18033),o=r(37166),s=r(35117),a=r(69493),c=r(43270),u=r(80757),l=r(11006),f=r(78380),h=r(91638),d=r(84176),p=r(85999),y=function(e){function t(t,r){e.call(this,null),this.ish=t,this.scheduler=r}return n(t,e),t.create=function(e,r){if(null!=e){if("function"==typeof e[p.observable])return e instanceof h.Observable&&!r?e:new t(e,r);if(i.isArray(e))return new u.ArrayObservable(e,r);if(s.isPromise(e))return new a.PromiseObservable(e,r);if("function"==typeof e[f.iterator]||"string"==typeof e)return new c.IteratorObservable(e,r);if(o.isArrayLike(e))return new l.ArrayLikeObservable(e,r)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")},t.prototype._subscribe=function(e){var t=this.ish,r=this.scheduler;return null==r?t[p.observable]().subscribe(e):t[p.observable]().subscribe(new d.ObserveOnSubscriber(e,r,0))},t}(h.Observable);t.FromObservable=y},28907:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(91638),o=r(57733),s=function(e){return e},a=function(e){function t(t,r,n,i,o){e.call(this),this.initialState=t,this.condition=r,this.iterate=n,this.resultSelector=i,this.scheduler=o}return n(t,e),t.create=function(e,r,n,i,a){return 1==arguments.length?new t(e.initialState,e.condition,e.iterate,e.resultSelector||s,e.scheduler):void 0===i||o.isScheduler(i)?new t(e,r,n,s,i):new t(e,r,n,i,a)},t.prototype._subscribe=function(e){var r=this.initialState;if(this.scheduler)return this.scheduler.schedule(t.dispatch,0,{subscriber:e,iterate:this.iterate,condition:this.condition,resultSelector:this.resultSelector,state:r});for(var n=this,i=n.condition,o=n.resultSelector,s=n.iterate;;){if(i){var a=void 0;try{a=i(r)}catch(t){return void e.error(t)}if(!a){e.complete();break}}var c=void 0;try{c=o(r)}catch(t){return void e.error(t)}if(e.next(c),e.closed)break;try{r=s(r)}catch(t){return void e.error(t)}}},t.dispatch=function(e){var t=e.subscriber,r=e.condition;if(!t.closed){if(e.needIterate)try{e.state=e.iterate(e.state)}catch(e){return void t.error(e)}else e.needIterate=!0;if(r){var n=void 0;try{n=r(e.state)}catch(e){return void t.error(e)}if(!n)return void t.complete();if(t.closed)return}var i;try{i=e.resultSelector(e.state)}catch(e){return void t.error(e)}if(!t.closed&&(t.next(i),!t.closed))return this.schedule(e)}},t}(i.Observable);t.GenerateObservable=a},10235:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(91638),o=r(740),s=r(234),a=function(e){function t(t,r,n){e.call(this),this.condition=t,this.thenSource=r,this.elseSource=n}return n(t,e),t.create=function(e,r,n){return new t(e,r,n)},t.prototype._subscribe=function(e){var t=this,r=t.condition,n=t.thenSource,i=t.elseSource;return new c(e,r,n,i)},t}(i.Observable);t.IfObservable=a;var c=function(e){function t(t,r,n,i){e.call(this,t),this.condition=r,this.thenSource=n,this.elseSource=i,this.tryIf()}return n(t,e),t.prototype.tryIf=function(){var e=this,t=e.condition,r=e.thenSource,n=e.elseSource;try{var i=t()?r:n;i?this.add(o.subscribeToResult(this,i)):this._complete()}catch(e){this._error(e)}},t}(s.OuterSubscriber)},41257:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(11239),o=r(91638),s=r(19545),a=function(e){function t(t,r){void 0===t&&(t=0),void 0===r&&(r=s.async),e.call(this),this.period=t,this.scheduler=r,(!i.isNumeric(t)||t<0)&&(this.period=0),r&&"function"==typeof r.schedule||(this.scheduler=s.async)}return n(t,e),t.create=function(e,r){return void 0===e&&(e=0),void 0===r&&(r=s.async),new t(e,r)},t.dispatch=function(e){var t=e.index,r=e.subscriber,n=e.period;r.next(t),r.closed||(e.index+=1,this.schedule(e,n))},t.prototype._subscribe=function(e){var r=this.period,n=this.scheduler;e.add(n.schedule(t.dispatch,r,{index:0,subscriber:e,period:r}))},t}(o.Observable);t.IntervalObservable=a},43270:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(26854),o=r(91638),s=r(78380),a=function(e){function t(t,r){if(e.call(this),this.scheduler=r,null==t)throw new Error("iterator cannot be null.");this.iterator=function(e){var t=e[s.iterator];if(!t&&"string"==typeof e)return new c(e);if(!t&&void 0!==e.length)return new u(e);if(!t)throw new TypeError("object is not iterable");return e[s.iterator]()}(t)}return n(t,e),t.create=function(e,r){return new t(e,r)},t.dispatch=function(e){var t=e.index,r=e.hasError,n=e.iterator,i=e.subscriber;if(r)i.error(e.error);else{var o=n.next();o.done?i.complete():(i.next(o.value),e.index=t+1,i.closed?"function"==typeof n.return&&n.return():this.schedule(e))}},t.prototype._subscribe=function(e){var r=this.iterator,n=this.scheduler;if(n)return n.schedule(t.dispatch,0,{index:0,iterator:r,subscriber:e});for(;;){var i=r.next();if(i.done){e.complete();break}if(e.next(i.value),e.closed){"function"==typeof r.return&&r.return();break}}},t}(o.Observable);t.IteratorObservable=a;var c=function(){function e(e,t,r){void 0===t&&(t=0),void 0===r&&(r=e.length),this.str=e,this.idx=t,this.len=r}return e.prototype[s.iterator]=function(){return this},e.prototype.next=function(){return this.idx<this.len?{done:!1,value:this.str.charAt(this.idx++)}:{done:!0,value:void 0}},e}(),u=function(){function e(e,t,r){void 0===t&&(t=0),void 0===r&&(r=function(e){var t,r=+e.length;return isNaN(r)?0:0!==r&&("number"==typeof(t=r)&&i.root.isFinite(t))?(r=function(e){var t=+e;return 0===t||isNaN(t)?t:t<0?-1:1}(r)*Math.floor(Math.abs(r)),r<=0?0:r>l?l:r):r}(e)),this.arr=e,this.idx=t,this.len=r}return e.prototype[s.iterator]=function(){return this},e.prototype.next=function(){return this.idx<this.len?{done:!1,value:this.arr[this.idx++]}:{done:!0,value:void 0}},e}(),l=Math.pow(2,53)-1},4754:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(91638),o=r(77694),s=function(e){function t(){e.call(this)}return n(t,e),t.create=function(){return new t},t.prototype._subscribe=function(e){o.noop()},t}(i.Observable);t.NeverObservable=s},68229:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)};function i(e){var t=e.obj,r=e.keys,n=e.length,i=e.index,o=e.subscriber;if(i!==n){var s=r[i];o.next([s,t[s]]),e.index=i+1,this.schedule(e)}else o.complete()}var o=function(e){function t(t,r){e.call(this),this.obj=t,this.scheduler=r,this.keys=Object.keys(t)}return n(t,e),t.create=function(e,r){return new t(e,r)},t.prototype._subscribe=function(e){var t=this.keys,r=this.scheduler,n=t.length;if(r)return r.schedule(i,0,{obj:this.obj,keys:t,length:n,index:0,subscriber:e});for(var o=0;o<n;o++){var s=t[o];e.next([s,this.obj[s]])}e.complete()},t}(r(91638).Observable);t.PairsObservable=o},69493:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(26854),o=function(e){function t(t,r){e.call(this),this.promise=t,this.scheduler=r}return n(t,e),t.create=function(e,r){return new t(e,r)},t.prototype._subscribe=function(e){var t=this,r=this.promise,n=this.scheduler;if(null==n)this._isScalar?e.closed||(e.next(this.value),e.complete()):r.then((function(r){t.value=r,t._isScalar=!0,e.closed||(e.next(r),e.complete())}),(function(t){e.closed||e.error(t)})).then(null,(function(e){i.root.setTimeout((function(){throw e}))}));else if(this._isScalar){if(!e.closed)return n.schedule(s,0,{value:this.value,subscriber:e})}else r.then((function(r){t.value=r,t._isScalar=!0,e.closed||e.add(n.schedule(s,0,{value:r,subscriber:e}))}),(function(t){e.closed||e.add(n.schedule(a,0,{err:t,subscriber:e}))})).then(null,(function(e){i.root.setTimeout((function(){throw e}))}))},t}(r(91638).Observable);function s(e){var t=e.value,r=e.subscriber;r.closed||(r.next(t),r.complete())}function a(e){var t=e.err,r=e.subscriber;r.closed||r.error(t)}t.PromiseObservable=o},55265:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=function(e){function t(t,r,n){e.call(this),this.start=t,this._count=r,this.scheduler=n}return n(t,e),t.create=function(e,r,n){return void 0===e&&(e=0),void 0===r&&(r=0),new t(e,r,n)},t.dispatch=function(e){var t=e.start,r=e.index,n=e.count,i=e.subscriber;r>=n?i.complete():(i.next(t),i.closed||(e.index=r+1,e.start=t+1,this.schedule(e)))},t.prototype._subscribe=function(e){var r=0,n=this.start,i=this._count,o=this.scheduler;if(o)return o.schedule(t.dispatch,0,{index:r,count:i,start:n,subscriber:e});for(;;){if(r++>=i){e.complete();break}if(e.next(n++),e.closed)break}},t}(r(91638).Observable);t.RangeObservable=i},97156:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=function(e){function t(t,r){e.call(this),this.value=t,this.scheduler=r,this._isScalar=!0,r&&(this._isScalar=!1)}return n(t,e),t.create=function(e,r){return new t(e,r)},t.dispatch=function(e){var t=e.done,r=e.value,n=e.subscriber;t?n.complete():(n.next(r),n.closed||(e.done=!0,this.schedule(e)))},t.prototype._subscribe=function(e){var r=this.value,n=this.scheduler;if(n)return n.schedule(t.dispatch,0,{done:!1,value:r,subscriber:e});e.next(r),e.closed||e.complete()},t}(r(91638).Observable);t.ScalarObservable=i},6441:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(91638),o=r(16732),s=r(11239),a=function(e){function t(t,r,n){void 0===r&&(r=0),void 0===n&&(n=o.asap),e.call(this),this.source=t,this.delayTime=r,this.scheduler=n,(!s.isNumeric(r)||r<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=o.asap)}return n(t,e),t.create=function(e,r,n){return void 0===r&&(r=0),void 0===n&&(n=o.asap),new t(e,r,n)},t.dispatch=function(e){var t=e.source,r=e.subscriber;return this.add(t.subscribe(r))},t.prototype._subscribe=function(e){var r=this.delayTime,n=this.source;return this.scheduler.schedule(t.dispatch,r,{source:n,subscriber:e})},t}(i.Observable);t.SubscribeOnObservable=a},37925:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(11239),o=r(91638),s=r(19545),a=r(57733),c=r(69410),u=function(e){function t(t,r,n){void 0===t&&(t=0),e.call(this),this.period=-1,this.dueTime=0,i.isNumeric(r)?this.period=Number(r)<1?1:Number(r):a.isScheduler(r)&&(n=r),a.isScheduler(n)||(n=s.async),this.scheduler=n,this.dueTime=c.isDate(t)?+t-this.scheduler.now():t}return n(t,e),t.create=function(e,r,n){return void 0===e&&(e=0),new t(e,r,n)},t.dispatch=function(e){var t=e.index,r=e.period,n=e.subscriber;if(n.next(t),!n.closed){if(-1===r)return n.complete();e.index=t+1,this.schedule(e,r)}},t.prototype._subscribe=function(e){var r=this,n=r.period,i=r.dueTime;return r.scheduler.schedule(t.dispatch,i,{index:0,period:n,subscriber:e})},t}(o.Observable);t.TimerObservable=u},32816:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(91638),o=r(740),s=r(234),a=function(e){function t(t,r){e.call(this),this.resourceFactory=t,this.observableFactory=r}return n(t,e),t.create=function(e,r){return new t(e,r)},t.prototype._subscribe=function(e){var t,r=this.resourceFactory,n=this.observableFactory;try{return t=r(),new c(e,t,n)}catch(t){e.error(t)}},t}(i.Observable);t.UsingObservable=a;var c=function(e){function t(t,r,n){e.call(this,t),this.resource=r,this.observableFactory=n,t.add(r),this.tryUse()}return n(t,e),t.prototype.tryUse=function(){try{var e=this.observableFactory.call(this,this.resource);e&&this.add(o.subscribeToResult(this,e))}catch(e){this._error(e)}},t}(s.OuterSubscriber)},62521:(e,t,r)=>{var n=r(76891);t.bindCallback=n.BoundCallbackObservable.create},37265:(e,t,r)=>{var n=r(67431);t.bindNodeCallback=n.BoundNodeCallbackObservable.create},44847:(e,t,r)=>{var n=r(57733),i=r(18033),o=r(80757),s=r(86119);t.combineLatest=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];var r=null,a=null;return n.isScheduler(e[e.length-1])&&(a=e.pop()),"function"==typeof e[e.length-1]&&(r=e.pop()),1===e.length&&i.isArray(e[0])&&(e=e[0]),new o.ArrayObservable(e,a).lift(new s.CombineLatestOperator(r))}},23497:(e,t,r)=>{var n=r(57733),i=r(70700),o=r(97205),s=r(17646);t.concat=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return 1===e.length||2===e.length&&n.isScheduler(e[1])?o.from(e[0]):s.concatAll()(i.of.apply(void 0,e))}},46137:(e,t,r)=>{var n=r(82276);t.defer=n.DeferObservable.create},491:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(26854),o=r(36786),s=r(70817),a=r(91638),c=r(42741),u=r(15471);function l(){if(i.root.XMLHttpRequest)return new i.root.XMLHttpRequest;if(i.root.XDomainRequest)return new i.root.XDomainRequest;throw new Error("CORS is not supported by your browser")}function f(e,t){return void 0===t&&(t=null),new v({method:"GET",url:e,headers:t})}function h(e,t,r){return new v({method:"POST",url:e,body:t,headers:r})}function d(e,t){return new v({method:"DELETE",url:e,headers:t})}function p(e,t,r){return new v({method:"PUT",url:e,body:t,headers:r})}function y(e,t,r){return new v({method:"PATCH",url:e,body:t,headers:r})}t.ajaxGet=f,t.ajaxPost=h,t.ajaxDelete=d,t.ajaxPut=p,t.ajaxPatch=y;var b=u.map((function(e,t){return e.response}));function m(e,t){return b(new v({method:"GET",url:e,responseType:"json",headers:t}))}t.ajaxGetJSON=m;var v=function(e){function t(t){e.call(this);var r={async:!0,createXHR:function(){return this.crossDomain?l.call(this):function(){if(i.root.XMLHttpRequest)return new i.root.XMLHttpRequest;var e=void 0;try{for(var t=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],r=0;r<3;r++)try{if(e=t[r],new i.root.ActiveXObject(e))break}catch(e){}return new i.root.ActiveXObject(e)}catch(e){throw new Error("XMLHttpRequest is not supported by your browser")}}()},crossDomain:!1,withCredentials:!1,headers:{},method:"GET",responseType:"json",timeout:0};if("string"==typeof t)r.url=t;else for(var n in t)t.hasOwnProperty(n)&&(r[n]=t[n]);this.request=r}var r;return n(t,e),t.prototype._subscribe=function(e){return new g(e,this.request)},t.create=((r=function(e){return new t(e)}).get=f,r.post=h,r.delete=d,r.put=p,r.patch=y,r.getJSON=m,r),t}(a.Observable);t.AjaxObservable=v;var g=function(e){function t(t,r){e.call(this,t),this.request=r,this.done=!1;var n=r.headers=r.headers||{};r.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest"),"Content-Type"in n||i.root.FormData&&r.body instanceof i.root.FormData||void 0===r.body||(n["Content-Type"]="application/x-www-form-urlencoded; charset=UTF-8"),r.body=this.serializeBody(r.body,r.headers["Content-Type"]),this.send()}return n(t,e),t.prototype.next=function(e){this.done=!0;var t=this,r=t.xhr,n=t.request,i=t.destination,o=new w(e,r,n);i.next(o)},t.prototype.send=function(){var e=this.request,t=this.request,r=t.user,n=t.method,i=t.url,a=t.async,c=t.password,u=t.headers,l=t.body,f=e.createXHR,h=o.tryCatch(f).call(e);if(h===s.errorObject)this.error(s.errorObject.e);else{if(this.xhr=h,this.setupEvents(h,e),(r?o.tryCatch(h.open).call(h,n,i,a,r,c):o.tryCatch(h.open).call(h,n,i,a))===s.errorObject)return this.error(s.errorObject.e),null;if(a&&(h.timeout=e.timeout,h.responseType=e.responseType),"withCredentials"in h&&(h.withCredentials=!!e.withCredentials),this.setHeaders(h,u),(l?o.tryCatch(h.send).call(h,l):o.tryCatch(h.send).call(h))===s.errorObject)return this.error(s.errorObject.e),null}return h},t.prototype.serializeBody=function(e,t){if(!e||"string"==typeof e)return e;if(i.root.FormData&&e instanceof i.root.FormData)return e;if(t){var r=t.indexOf(";");-1!==r&&(t=t.substring(0,r))}switch(t){case"application/x-www-form-urlencoded":return Object.keys(e).map((function(t){return encodeURI(t)+"="+encodeURI(e[t])})).join("&");case"application/json":return JSON.stringify(e);default:return e}},t.prototype.setHeaders=function(e,t){for(var r in t)t.hasOwnProperty(r)&&e.setRequestHeader(r,t[r])},t.prototype.setupEvents=function(e,t){var r,n,o=t.progressSubscriber;function s(e){var t=s,r=t.subscriber,n=t.progressSubscriber,i=t.request;n&&n.error(e),r.error(new E(this,i))}(e.ontimeout=s,s.request=t,s.subscriber=this,s.progressSubscriber=o,e.upload&&"withCredentials"in e)&&(o&&(r=function(e){r.progressSubscriber.next(e)},i.root.XDomainRequest?e.onprogress=r:e.upload.onprogress=r,r.progressSubscriber=o),n=function(e){var t=n,r=t.progressSubscriber,i=t.subscriber,o=t.request;r&&r.error(e),i.error(new _("ajax error",this,o))},e.onerror=n,n.request=t,n.subscriber=this,n.progressSubscriber=o);function a(e){var t=a,r=t.subscriber,n=t.progressSubscriber,i=t.request;if(4===this.readyState){var o=1223===this.status?204:this.status,s="text"===this.responseType?this.response||this.responseText:this.response;0===o&&(o=s?200:0),200<=o&&o<300?(n&&n.complete(),r.next(e),r.complete()):(n&&n.error(e),r.error(new _("ajax error "+o,this,i)))}}e.onreadystatechange=a,a.subscriber=this,a.progressSubscriber=o,a.request=t},t.prototype.unsubscribe=function(){var t=this.done,r=this.xhr;!t&&r&&4!==r.readyState&&"function"==typeof r.abort&&r.abort(),e.prototype.unsubscribe.call(this)},t}(c.Subscriber);t.AjaxSubscriber=g;var w=function(e,t,r){this.originalEvent=e,this.xhr=t,this.request=r,this.status=t.status,this.responseType=t.responseType||r.responseType,this.response=S(this.responseType,t)};t.AjaxResponse=w;var _=function(e){function t(t,r,n){e.call(this,t),this.message=t,this.xhr=r,this.request=n,this.status=r.status,this.responseType=r.responseType||n.responseType,this.response=S(this.responseType,r)}return n(t,e),t}(Error);function S(e,t){switch(e){case"json":return"response"in t?t.responseType?t.response:JSON.parse(t.response||t.responseText||"null"):JSON.parse(t.responseText||"null");case"xml":return t.responseXML;default:return"response"in t?t.response:t.responseText}}t.AjaxError=_;var E=function(e){function t(t,r){e.call(this,"ajax timeout",t,r)}return n(t,e),t}(_);t.AjaxTimeoutError=E},83069:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(99731),o=r(42741),s=r(91638),a=r(36446),c=r(26854),u=r(91578),l=r(36786),f=r(70817),h=r(9099),d=function(e){function t(t,r){if(t instanceof s.Observable)e.call(this,r,t);else{if(e.call(this),this.WebSocketCtor=c.root.WebSocket,this._output=new i.Subject,"string"==typeof t?this.url=t:h.assign(this,t),!this.WebSocketCtor)throw new Error("no WebSocket constructor can be found");this.destination=new u.ReplaySubject}}return n(t,e),t.prototype.resultSelector=function(e){return JSON.parse(e.data)},t.create=function(e){return new t(e)},t.prototype.lift=function(e){var r=new t(this,this.destination);return r.operator=e,r},t.prototype._resetState=function(){this.socket=null,this.source||(this.destination=new u.ReplaySubject),this._output=new i.Subject},t.prototype.multiplex=function(e,t,r){var n=this;return new s.Observable((function(i){var o=l.tryCatch(e)();o===f.errorObject?i.error(f.errorObject.e):n.next(o);var s=n.subscribe((function(e){var t=l.tryCatch(r)(e);t===f.errorObject?i.error(f.errorObject.e):t&&i.next(e)}),(function(e){return i.error(e)}),(function(){return i.complete()}));return function(){var e=l.tryCatch(t)();e===f.errorObject?i.error(f.errorObject.e):n.next(e),s.unsubscribe()}}))},t.prototype._connectSocket=function(){var e=this,t=this.WebSocketCtor,r=this._output,n=null;try{n=this.protocol?new t(this.url,this.protocol):new t(this.url),this.socket=n,this.binaryType&&(this.socket.binaryType=this.binaryType)}catch(e){return void r.error(e)}var i=new a.Subscription((function(){e.socket=null,n&&1===n.readyState&&n.close()}));n.onopen=function(t){var s=e.openObserver;s&&s.next(t);var a=e.destination;e.destination=o.Subscriber.create((function(e){return 1===n.readyState&&n.send(e)}),(function(t){var i=e.closingObserver;i&&i.next(void 0),t&&t.code?n.close(t.code,t.reason):r.error(new TypeError("WebSocketSubject.error must be called with an object with an error code, and an optional reason: { code: number, reason: string }")),e._resetState()}),(function(){var t=e.closingObserver;t&&t.next(void 0),n.close(),e._resetState()})),a&&a instanceof u.ReplaySubject&&i.add(a.subscribe(e.destination))},n.onerror=function(t){e._resetState(),r.error(t)},n.onclose=function(t){e._resetState();var n=e.closeObserver;n&&n.next(t),t.wasClean?r.complete():r.error(t)},n.onmessage=function(t){var n=l.tryCatch(e.resultSelector)(t);n===f.errorObject?r.error(f.errorObject.e):r.next(n)}},t.prototype._subscribe=function(e){var t=this,r=this.source;if(r)return r.subscribe(e);this.socket||this._connectSocket();var n=new a.Subscription;return n.add(this._output.subscribe(e)),n.add((function(){var e=t.socket;0===t._output.observers.length&&(e&&1===e.readyState&&e.close(),t._resetState())})),n},t.prototype.unsubscribe=function(){var t=this.source,r=this.socket;r&&1===r.readyState&&(r.close(),this._resetState()),e.prototype.unsubscribe.call(this),t||(this.destination=new u.ReplaySubject)},t}(i.AnonymousSubject);t.WebSocketSubject=d},34202:(e,t,r)=>{var n=r(491);t.ajax=n.AjaxObservable.create},26433:(e,t,r)=>{var n=r(83069);t.webSocket=n.WebSocketSubject.create},89624:(e,t,r)=>{var n=r(56777);t.empty=n.EmptyObservable.create},67233:(e,t,r)=>{var n=r(43372);t.forkJoin=n.ForkJoinObservable.create},97205:(e,t,r)=>{var n=r(23576);t.from=n.FromObservable.create},49305:(e,t,r)=>{var n=r(83140);t.fromEvent=n.FromEventObservable.create},18379:(e,t,r)=>{var n=r(51766);t.fromEventPattern=n.FromEventPatternObservable.create},55704:(e,t,r)=>{var n=r(69493);t.fromPromise=n.PromiseObservable.create},80794:(e,t,r)=>{var n=r(28907);t.generate=n.GenerateObservable.create},58474:(e,t,r)=>{var n=r(10235);t._if=n.IfObservable.create},46328:(e,t,r)=>{var n=r(41257);t.interval=n.IntervalObservable.create},90257:(e,t,r)=>{var n=r(91638),i=r(80757),o=r(57733),s=r(57638);t.merge=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];var r=Number.POSITIVE_INFINITY,a=null,c=e[e.length-1];return o.isScheduler(c)?(a=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(r=e.pop())):"number"==typeof c&&(r=e.pop()),null===a&&1===e.length&&e[0]instanceof n.Observable?e[0]:s.mergeAll(r)(new i.ArrayObservable(e,a))}},83711:(e,t,r)=>{var n=r(4754);t.never=n.NeverObservable.create},70700:(e,t,r)=>{var n=r(80757);t.of=n.ArrayObservable.of},19638:(e,t,r)=>{var n=r(89662);t.onErrorResumeNext=n.onErrorResumeNextStatic},15788:(e,t,r)=>{var n=r(68229);t.pairs=n.PairsObservable.create},2944:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(18033),o=r(80757),s=r(234),a=r(740);t.race=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];if(1===e.length){if(!i.isArray(e[0]))return e[0];e=e[0]}return new o.ArrayObservable(e).lift(new c)};var c=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new u(e))},e}();t.RaceOperator=c;var u=function(e){function t(t){e.call(this,t),this.hasFirst=!1,this.observables=[],this.subscriptions=[]}return n(t,e),t.prototype._next=function(e){this.observables.push(e)},t.prototype._complete=function(){var e=this.observables,t=e.length;if(0===t)this.destination.complete();else{for(var r=0;r<t&&!this.hasFirst;r++){var n=e[r],i=a.subscribeToResult(this,n,n,r);this.subscriptions&&this.subscriptions.push(i),this.add(i)}this.observables=null}},t.prototype.notifyNext=function(e,t,r,n,i){if(!this.hasFirst){this.hasFirst=!0;for(var o=0;o<this.subscriptions.length;o++)if(o!==r){var s=this.subscriptions[o];s.unsubscribe(),this.remove(s)}this.subscriptions=null}this.destination.next(t)},t}(s.OuterSubscriber);t.RaceSubscriber=u},64752:(e,t,r)=>{var n=r(55265);t.range=n.RangeObservable.create},21481:(e,t,r)=>{var n=r(27554);t._throw=n.ErrorObservable.create},6956:(e,t,r)=>{var n=r(37925);t.timer=n.TimerObservable.create},69549:(e,t,r)=>{var n=r(32816);t.using=n.UsingObservable.create},36454:(e,t,r)=>{var n=r(98702);t.zip=n.zipStatic},6043:(e,t,r)=>{var n=r(52266);t.audit=function(e){return n.audit(e)(this)}},82750:(e,t,r)=>{var n=r(19545),i=r(49103);t.auditTime=function(e,t){return void 0===t&&(t=n.async),i.auditTime(e,t)(this)}},27540:(e,t,r)=>{var n=r(54319);t.buffer=function(e){return n.buffer(e)(this)}},15457:(e,t,r)=>{var n=r(54980);t.bufferCount=function(e,t){return void 0===t&&(t=null),n.bufferCount(e,t)(this)}},59321:(e,t,r)=>{var n=r(19545),i=r(57733),o=r(82826);t.bufferTime=function(e){var t=arguments.length,r=n.async;i.isScheduler(arguments[arguments.length-1])&&(r=arguments[arguments.length-1],t--);var s=null;t>=2&&(s=arguments[1]);var a=Number.POSITIVE_INFINITY;return t>=3&&(a=arguments[2]),o.bufferTime(e,s,a,r)(this)}},19808:(e,t,r)=>{var n=r(48579);t.bufferToggle=function(e,t){return n.bufferToggle(e,t)(this)}},85928:(e,t,r)=>{var n=r(39247);t.bufferWhen=function(e){return n.bufferWhen(e)(this)}},64407:(e,t,r)=>{var n=r(35606);t._catch=function(e){return n.catchError(e)(this)}},34286:(e,t,r)=>{var n=r(13937);t.combineAll=function(e){return n.combineAll(e)(this)}},67070:(e,t,r)=>{var n=r(86119);t.combineLatest=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return n.combineLatest.apply(void 0,e)(this)}},85986:(e,t,r)=>{var n=r(18177),i=r(23497);t.concatStatic=i.concat,t.concat=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return n.concat.apply(void 0,e)(this)}},9991:(e,t,r)=>{var n=r(17646);t.concatAll=function(){return n.concatAll()(this)}},35910:(e,t,r)=>{var n=r(99599);t.concatMap=function(e,t){return n.concatMap(e,t)(this)}},95067:(e,t,r)=>{var n=r(82498);t.concatMapTo=function(e,t){return n.concatMapTo(e,t)(this)}},32335:(e,t,r)=>{var n=r(62366);t.count=function(e){return n.count(e)(this)}},47753:(e,t,r)=>{var n=r(96586);t.debounce=function(e){return n.debounce(e)(this)}},31292:(e,t,r)=>{var n=r(19545),i=r(69039);t.debounceTime=function(e,t){return void 0===t&&(t=n.async),i.debounceTime(e,t)(this)}},13385:(e,t,r)=>{var n=r(73258);t.defaultIfEmpty=function(e){return void 0===e&&(e=null),n.defaultIfEmpty(e)(this)}},32603:(e,t,r)=>{var n=r(19545),i=r(63506);t.delay=function(e,t){return void 0===t&&(t=n.async),i.delay(e,t)(this)}},41459:(e,t,r)=>{var n=r(43454);t.delayWhen=function(e,t){return n.delayWhen(e,t)(this)}},30144:(e,t,r)=>{var n=r(74049);t.dematerialize=function(){return n.dematerialize()(this)}},14530:(e,t,r)=>{var n=r(90885);t.distinct=function(e,t){return n.distinct(e,t)(this)}},57530:(e,t,r)=>{var n=r(90937);t.distinctUntilChanged=function(e,t){return n.distinctUntilChanged(e,t)(this)}},54545:(e,t,r)=>{var n=r(92188);t.distinctUntilKeyChanged=function(e,t){return n.distinctUntilKeyChanged(e,t)(this)}},29551:(e,t,r)=>{var n=r(55324);t._do=function(e,t,r){return n.tap(e,t,r)(this)}},67689:(e,t,r)=>{var n=r(27176);t.elementAt=function(e,t){return n.elementAt(e,t)(this)}},70447:(e,t,r)=>{var n=r(89046);t.every=function(e,t){return n.every(e,t)(this)}},8922:(e,t,r)=>{var n=r(1823);t.exhaust=function(){return n.exhaust()(this)}},23230:(e,t,r)=>{var n=r(93281);t.exhaustMap=function(e,t){return n.exhaustMap(e,t)(this)}},98398:(e,t,r)=>{var n=r(27325);t.expand=function(e,t,r){return void 0===t&&(t=Number.POSITIVE_INFINITY),void 0===r&&(r=void 0),t=(t||0)<1?Number.POSITIVE_INFINITY:t,n.expand(e,t,r)(this)}},64472:(e,t,r)=>{var n=r(3103);t.filter=function(e,t){return n.filter(e,t)(this)}},45051:(e,t,r)=>{var n=r(82259);t._finally=function(e){return n.finalize(e)(this)}},50529:(e,t,r)=>{var n=r(58114);t.find=function(e,t){return n.find(e,t)(this)}},12125:(e,t,r)=>{var n=r(47388);t.findIndex=function(e,t){return n.findIndex(e,t)(this)}},82782:(e,t,r)=>{var n=r(62131);t.first=function(e,t,r){return n.first(e,t,r)(this)}},14038:(e,t,r)=>{var n=r(45479);t.GroupedObservable=n.GroupedObservable,t.groupBy=function(e,t,r,i){return n.groupBy(e,t,r,i)(this)}},14169:(e,t,r)=>{var n=r(10714);t.ignoreElements=function(){return n.ignoreElements()(this)}},32973:(e,t,r)=>{var n=r(68028);t.isEmpty=function(){return n.isEmpty()(this)}},46726:(e,t,r)=>{var n=r(40221);t.last=function(e,t,r){return n.last(e,t,r)(this)}},66881:(e,t)=>{t.letProto=function(e){return e(this)}},66222:(e,t,r)=>{var n=r(15471);t.map=function(e,t){return n.map(e,t)(this)}},89171:(e,t,r)=>{var n=r(6242);t.mapTo=function(e){return n.mapTo(e)(this)}},29945:(e,t,r)=>{var n=r(56504);t.materialize=function(){return n.materialize()(this)}},63238:(e,t,r)=>{var n=r(93799);t.max=function(e){return n.max(e)(this)}},25864:(e,t,r)=>{var n=r(1769),i=r(90257);t.mergeStatic=i.merge,t.merge=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return n.merge.apply(void 0,e)(this)}},83737:(e,t,r)=>{var n=r(57638);t.mergeAll=function(e){return void 0===e&&(e=Number.POSITIVE_INFINITY),n.mergeAll(e)(this)}},43048:(e,t,r)=>{var n=r(35671);t.mergeMap=function(e,t,r){return void 0===r&&(r=Number.POSITIVE_INFINITY),n.mergeMap(e,t,r)(this)}},99881:(e,t,r)=>{var n=r(20154);t.mergeMapTo=function(e,t,r){return void 0===r&&(r=Number.POSITIVE_INFINITY),n.mergeMapTo(e,t,r)(this)}},12413:(e,t,r)=>{var n=r(62552);t.mergeScan=function(e,t,r){return void 0===r&&(r=Number.POSITIVE_INFINITY),n.mergeScan(e,t,r)(this)}},92312:(e,t,r)=>{var n=r(41565);t.min=function(e){return n.min(e)(this)}},85086:(e,t,r)=>{var n=r(77375);t.multicast=function(e,t){return n.multicast(e,t)(this)}},8865:(e,t,r)=>{var n=r(84176);t.observeOn=function(e,t){return void 0===t&&(t=0),n.observeOn(e,t)(this)}},95815:(e,t,r)=>{var n=r(89662);t.onErrorResumeNext=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return n.onErrorResumeNext.apply(void 0,e)(this)}},69318:(e,t,r)=>{var n=r(8945);t.pairwise=function(){return n.pairwise()(this)}},18614:(e,t,r)=>{var n=r(92043);t.partition=function(e,t){return n.partition(e,t)(this)}},64481:(e,t,r)=>{var n=r(42704);t.pluck=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return n.pluck.apply(void 0,e)(this)}},69627:(e,t,r)=>{var n=r(93902);t.publish=function(e){return n.publish(e)(this)}},27289:(e,t,r)=>{var n=r(17924);t.publishBehavior=function(e){return n.publishBehavior(e)(this)}},30699:(e,t,r)=>{var n=r(75450);t.publishLast=function(){return n.publishLast()(this)}},96328:(e,t,r)=>{var n=r(83821);t.publishReplay=function(e,t,r,i){return n.publishReplay(e,t,r,i)(this)}},2571:(e,t,r)=>{var n=r(79896),i=r(2944);t.raceStatic=i.race,t.race=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return n.race.apply(void 0,e)(this)}},43560:(e,t,r)=>{var n=r(80147);t.reduce=function(e,t){return arguments.length>=2?n.reduce(e,t)(this):n.reduce(e)(this)}},21425:(e,t,r)=>{var n=r(84794);t.repeat=function(e){return void 0===e&&(e=-1),n.repeat(e)(this)}},27769:(e,t,r)=>{var n=r(28358);t.repeatWhen=function(e){return n.repeatWhen(e)(this)}},46006:(e,t,r)=>{var n=r(32616);t.retry=function(e){return void 0===e&&(e=-1),n.retry(e)(this)}},24058:(e,t,r)=>{var n=r(8147);t.retryWhen=function(e){return n.retryWhen(e)(this)}},66408:(e,t,r)=>{var n=r(75715);t.sample=function(e){return n.sample(e)(this)}},98373:(e,t,r)=>{var n=r(19545),i=r(6182);t.sampleTime=function(e,t){return void 0===t&&(t=n.async),i.sampleTime(e,t)(this)}},45899:(e,t,r)=>{var n=r(83392);t.scan=function(e,t){return arguments.length>=2?n.scan(e,t)(this):n.scan(e)(this)}},58563:(e,t,r)=>{var n=r(1542);t.sequenceEqual=function(e,t){return n.sequenceEqual(e,t)(this)}},13739:(e,t,r)=>{var n=r(92590);t.share=function(){return n.share()(this)}},85944:(e,t,r)=>{var n=r(92621);t.shareReplay=function(e,t,r){return n.shareReplay(e,t,r)(this)}},20246:(e,t,r)=>{var n=r(28153);t.single=function(e){return n.single(e)(this)}},98441:(e,t,r)=>{var n=r(286);t.skip=function(e){return n.skip(e)(this)}},44469:(e,t,r)=>{var n=r(73194);t.skipLast=function(e){return n.skipLast(e)(this)}},11169:(e,t,r)=>{var n=r(80284);t.skipUntil=function(e){return n.skipUntil(e)(this)}},79272:(e,t,r)=>{var n=r(90241);t.skipWhile=function(e){return n.skipWhile(e)(this)}},81112:(e,t,r)=>{var n=r(66253);t.startWith=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return n.startWith.apply(void 0,e)(this)}},72109:(e,t,r)=>{var n=r(51312);t.subscribeOn=function(e,t){return void 0===t&&(t=0),n.subscribeOn(e,t)(this)}},29806:(e,t,r)=>{var n=r(9510);t._switch=function(){return n.switchAll()(this)}},17810:(e,t,r)=>{var n=r(87543);t.switchMap=function(e,t){return n.switchMap(e,t)(this)}},46455:(e,t,r)=>{var n=r(44250);t.switchMapTo=function(e,t){return n.switchMapTo(e,t)(this)}},35093:(e,t,r)=>{var n=r(11454);t.take=function(e){return n.take(e)(this)}},91681:(e,t,r)=>{var n=r(50314);t.takeLast=function(e){return n.takeLast(e)(this)}},56293:(e,t,r)=>{var n=r(2748);t.takeUntil=function(e){return n.takeUntil(e)(this)}},17444:(e,t,r)=>{var n=r(67617);t.takeWhile=function(e){return n.takeWhile(e)(this)}},12658:(e,t,r)=>{var n=r(69613);t.throttle=function(e,t){return void 0===t&&(t=n.defaultThrottleConfig),n.throttle(e,t)(this)}},90244:(e,t,r)=>{var n=r(19545),i=r(69613),o=r(90808);t.throttleTime=function(e,t,r){return void 0===t&&(t=n.async),void 0===r&&(r=i.defaultThrottleConfig),o.throttleTime(e,t,r)(this)}},37882:(e,t,r)=>{var n=r(19545),i=r(44169);t.TimeInterval=i.TimeInterval,t.timeInterval=function(e){return void 0===e&&(e=n.async),i.timeInterval(e)(this)}},46363:(e,t,r)=>{var n=r(19545),i=r(99858);t.timeout=function(e,t){return void 0===t&&(t=n.async),i.timeout(e,t)(this)}},5619:(e,t,r)=>{var n=r(19545),i=r(52334);t.timeoutWith=function(e,t,r){return void 0===r&&(r=n.async),i.timeoutWith(e,t,r)(this)}},91036:(e,t,r)=>{var n=r(19545),i=r(20153);t.timestamp=function(e){return void 0===e&&(e=n.async),i.timestamp(e)(this)}},98950:(e,t,r)=>{var n=r(45687);t.toArray=function(){return n.toArray()(this)}},63442:(e,t,r)=>{var n=r(71861);t.window=function(e){return n.window(e)(this)}},56263:(e,t,r)=>{var n=r(34154);t.windowCount=function(e,t){return void 0===t&&(t=0),n.windowCount(e,t)(this)}},59159:(e,t,r)=>{var n=r(19545),i=r(11239),o=r(57733),s=r(53600);t.windowTime=function(e){var t=n.async,r=null,a=Number.POSITIVE_INFINITY;return o.isScheduler(arguments[3])&&(t=arguments[3]),o.isScheduler(arguments[2])?t=arguments[2]:i.isNumeric(arguments[2])&&(a=arguments[2]),o.isScheduler(arguments[1])?t=arguments[1]:i.isNumeric(arguments[1])&&(r=arguments[1]),s.windowTime(e,r,a,t)(this)}},35506:(e,t,r)=>{var n=r(21341);t.windowToggle=function(e,t){return n.windowToggle(e,t)(this)}},45918:(e,t,r)=>{var n=r(99589);t.windowWhen=function(e){return n.windowWhen(e)(this)}},90557:(e,t,r)=>{var n=r(95250);t.withLatestFrom=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return n.withLatestFrom.apply(void 0,e)(this)}},79823:(e,t,r)=>{var n=r(98702);t.zipProto=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return n.zip.apply(void 0,e)(this)}},32112:(e,t,r)=>{var n=r(93195);t.zipAll=function(e){return n.zipAll(e)(this)}},16878:(e,t,r)=>{var n=r(52266);t.audit=n.audit;var i=r(49103);t.auditTime=i.auditTime;var o=r(54319);t.buffer=o.buffer;var s=r(54980);t.bufferCount=s.bufferCount;var a=r(82826);t.bufferTime=a.bufferTime;var c=r(48579);t.bufferToggle=c.bufferToggle;var u=r(39247);t.bufferWhen=u.bufferWhen;var l=r(35606);t.catchError=l.catchError;var f=r(13937);t.combineAll=f.combineAll;var h=r(86119);t.combineLatest=h.combineLatest;var d=r(18177);t.concat=d.concat;var p=r(17646);t.concatAll=p.concatAll;var y=r(99599);t.concatMap=y.concatMap;var b=r(82498);t.concatMapTo=b.concatMapTo;var m=r(62366);t.count=m.count;var v=r(96586);t.debounce=v.debounce;var g=r(69039);t.debounceTime=g.debounceTime;var w=r(73258);t.defaultIfEmpty=w.defaultIfEmpty;var _=r(63506);t.delay=_.delay;var S=r(43454);t.delayWhen=S.delayWhen;var E=r(74049);t.dematerialize=E.dematerialize;var T=r(90885);t.distinct=T.distinct;var O=r(90937);t.distinctUntilChanged=O.distinctUntilChanged;var x=r(92188);t.distinctUntilKeyChanged=x.distinctUntilKeyChanged;var A=r(27176);t.elementAt=A.elementAt;var M=r(89046);t.every=M.every;var P=r(1823);t.exhaust=P.exhaust;var I=r(93281);t.exhaustMap=I.exhaustMap;var j=r(27325);t.expand=j.expand;var R=r(3103);t.filter=R.filter;var k=r(82259);t.finalize=k.finalize;var C=r(58114);t.find=C.find;var $=r(47388);t.findIndex=$.findIndex;var N=r(62131);t.first=N.first;var L=r(45479);t.groupBy=L.groupBy;var B=r(10714);t.ignoreElements=B.ignoreElements;var D=r(68028);t.isEmpty=D.isEmpty;var F=r(40221);t.last=F.last;var U=r(15471);t.map=U.map;var q=r(6242);t.mapTo=q.mapTo;var W=r(56504);t.materialize=W.materialize;var z=r(93799);t.max=z.max;var V=r(1769);t.merge=V.merge;var H=r(57638);t.mergeAll=H.mergeAll;var G=r(35671);t.mergeMap=G.mergeMap;var K=r(35671);t.flatMap=K.mergeMap;var Y=r(20154);t.mergeMapTo=Y.mergeMapTo;var J=r(62552);t.mergeScan=J.mergeScan;var X=r(41565);t.min=X.min;var Z=r(77375);t.multicast=Z.multicast;var Q=r(84176);t.observeOn=Q.observeOn;var ee=r(89662);t.onErrorResumeNext=ee.onErrorResumeNext;var te=r(8945);t.pairwise=te.pairwise;var re=r(92043);t.partition=re.partition;var ne=r(42704);t.pluck=ne.pluck;var ie=r(93902);t.publish=ie.publish;var oe=r(17924);t.publishBehavior=oe.publishBehavior;var se=r(75450);t.publishLast=se.publishLast;var ae=r(83821);t.publishReplay=ae.publishReplay;var ce=r(79896);t.race=ce.race;var ue=r(80147);t.reduce=ue.reduce;var le=r(84794);t.repeat=le.repeat;var fe=r(28358);t.repeatWhen=fe.repeatWhen;var he=r(32616);t.retry=he.retry;var de=r(8147);t.retryWhen=de.retryWhen;var pe=r(54361);t.refCount=pe.refCount;var ye=r(75715);t.sample=ye.sample;var be=r(6182);t.sampleTime=be.sampleTime;var me=r(83392);t.scan=me.scan;var ve=r(1542);t.sequenceEqual=ve.sequenceEqual;var ge=r(92590);t.share=ge.share;var we=r(92621);t.shareReplay=we.shareReplay;var _e=r(28153);t.single=_e.single;var Se=r(286);t.skip=Se.skip;var Ee=r(73194);t.skipLast=Ee.skipLast;var Te=r(80284);t.skipUntil=Te.skipUntil;var Oe=r(90241);t.skipWhile=Oe.skipWhile;var xe=r(66253);t.startWith=xe.startWith;var Ae=r(9510);t.switchAll=Ae.switchAll;var Me=r(87543);t.switchMap=Me.switchMap;var Pe=r(44250);t.switchMapTo=Pe.switchMapTo;var Ie=r(11454);t.take=Ie.take;var je=r(50314);t.takeLast=je.takeLast;var Re=r(2748);t.takeUntil=Re.takeUntil;var ke=r(67617);t.takeWhile=ke.takeWhile;var Ce=r(55324);t.tap=Ce.tap;var $e=r(69613);t.throttle=$e.throttle;var Ne=r(90808);t.throttleTime=Ne.throttleTime;var Le=r(44169);t.timeInterval=Le.timeInterval;var Be=r(99858);t.timeout=Be.timeout;var De=r(52334);t.timeoutWith=De.timeoutWith;var Fe=r(20153);t.timestamp=Fe.timestamp;var Ue=r(45687);t.toArray=Ue.toArray;var qe=r(71861);t.window=qe.window;var We=r(34154);t.windowCount=We.windowCount;var ze=r(53600);t.windowTime=ze.windowTime;var Ve=r(21341);t.windowToggle=Ve.windowToggle;var He=r(99589);t.windowWhen=He.windowWhen;var Ge=r(95250);t.withLatestFrom=Ge.withLatestFrom;var Ke=r(98702);t.zip=Ke.zip;var Ye=r(93195);t.zipAll=Ye.zipAll},52266:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(36786),o=r(70817),s=r(234),a=r(740);t.audit=function(e){return function(t){return t.lift(new c(e))}};var c=function(){function e(e){this.durationSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.durationSelector))},e}(),u=function(e){function t(t,r){e.call(this,t),this.durationSelector=r,this.hasValue=!1}return n(t,e),t.prototype._next=function(e){if(this.value=e,this.hasValue=!0,!this.throttled){var t=i.tryCatch(this.durationSelector)(e);if(t===o.errorObject)this.destination.error(o.errorObject.e);else{var r=a.subscribeToResult(this,t);r.closed?this.clearThrottle():this.add(this.throttled=r)}}},t.prototype.clearThrottle=function(){var e=this,t=e.value,r=e.hasValue,n=e.throttled;n&&(this.remove(n),this.throttled=null,n.unsubscribe()),r&&(this.value=null,this.hasValue=!1,this.destination.next(t))},t.prototype.notifyNext=function(e,t,r,n){this.clearThrottle()},t.prototype.notifyComplete=function(){this.clearThrottle()},t}(s.OuterSubscriber)},49103:(e,t,r)=>{var n=r(19545),i=r(52266),o=r(6956);t.auditTime=function(e,t){return void 0===t&&(t=n.async),i.audit((function(){return o.timer(e,t)}))}},54319:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(234),o=r(740);t.buffer=function(e){return function(t){return t.lift(new s(e))}};var s=function(){function e(e){this.closingNotifier=e}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.closingNotifier))},e}(),a=function(e){function t(t,r){e.call(this,t),this.buffer=[],this.add(o.subscribeToResult(this,r))}return n(t,e),t.prototype._next=function(e){this.buffer.push(e)},t.prototype.notifyNext=function(e,t,r,n,i){var o=this.buffer;this.buffer=[],this.destination.next(o)},t}(i.OuterSubscriber)},54980:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(42741);t.bufferCount=function(e,t){return void 0===t&&(t=null),function(r){return r.lift(new o(e,t))}};var o=function(){function e(e,t){this.bufferSize=e,this.startBufferEvery=t,this.subscriberClass=t&&e!==t?a:s}return e.prototype.call=function(e,t){return t.subscribe(new this.subscriberClass(e,this.bufferSize,this.startBufferEvery))},e}(),s=function(e){function t(t,r){e.call(this,t),this.bufferSize=r,this.buffer=[]}return n(t,e),t.prototype._next=function(e){var t=this.buffer;t.push(e),t.length==this.bufferSize&&(this.destination.next(t),this.buffer=[])},t.prototype._complete=function(){var t=this.buffer;t.length>0&&this.destination.next(t),e.prototype._complete.call(this)},t}(i.Subscriber),a=function(e){function t(t,r,n){e.call(this,t),this.bufferSize=r,this.startBufferEvery=n,this.buffers=[],this.count=0}return n(t,e),t.prototype._next=function(e){var t=this,r=t.bufferSize,n=t.startBufferEvery,i=t.buffers,o=t.count;this.count++,o%n==0&&i.push([]);for(var s=i.length;s--;){var a=i[s];a.push(e),a.length===r&&(i.splice(s,1),this.destination.next(a))}},t.prototype._complete=function(){for(var t=this.buffers,r=this.destination;t.length>0;){var n=t.shift();n.length>0&&r.next(n)}e.prototype._complete.call(this)},t}(i.Subscriber)},82826:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(19545),o=r(42741),s=r(57733);t.bufferTime=function(e){var t=arguments.length,r=i.async;s.isScheduler(arguments[arguments.length-1])&&(r=arguments[arguments.length-1],t--);var n=null;t>=2&&(n=arguments[1]);var o=Number.POSITIVE_INFINITY;return t>=3&&(o=arguments[2]),function(t){return t.lift(new a(e,n,o,r))}};var a=function(){function e(e,t,r,n){this.bufferTimeSpan=e,this.bufferCreationInterval=t,this.maxBufferSize=r,this.scheduler=n}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.bufferTimeSpan,this.bufferCreationInterval,this.maxBufferSize,this.scheduler))},e}(),c=function(){this.buffer=[]},u=function(e){function t(t,r,n,i,o){e.call(this,t),this.bufferTimeSpan=r,this.bufferCreationInterval=n,this.maxBufferSize=i,this.scheduler=o,this.contexts=[];var s=this.openContext();if(this.timespanOnly=null==n||n<0,this.timespanOnly){var a={subscriber:this,context:s,bufferTimeSpan:r};this.add(s.closeAction=o.schedule(l,r,a))}else{var c={subscriber:this,context:s},u={bufferTimeSpan:r,bufferCreationInterval:n,subscriber:this,scheduler:o};this.add(s.closeAction=o.schedule(h,r,c)),this.add(o.schedule(f,n,u))}}return n(t,e),t.prototype._next=function(e){for(var t,r=this.contexts,n=r.length,i=0;i<n;i++){var o=r[i],s=o.buffer;s.push(e),s.length==this.maxBufferSize&&(t=o)}t&&this.onBufferFull(t)},t.prototype._error=function(t){this.contexts.length=0,e.prototype._error.call(this,t)},t.prototype._complete=function(){for(var t=this.contexts,r=this.destination;t.length>0;){var n=t.shift();r.next(n.buffer)}e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){this.contexts=null},t.prototype.onBufferFull=function(e){this.closeContext(e);var t=e.closeAction;if(t.unsubscribe(),this.remove(t),!this.closed&&this.timespanOnly){e=this.openContext();var r=this.bufferTimeSpan,n={subscriber:this,context:e,bufferTimeSpan:r};this.add(e.closeAction=this.scheduler.schedule(l,r,n))}},t.prototype.openContext=function(){var e=new c;return this.contexts.push(e),e},t.prototype.closeContext=function(e){this.destination.next(e.buffer);var t=this.contexts;(t?t.indexOf(e):-1)>=0&&t.splice(t.indexOf(e),1)},t}(o.Subscriber);function l(e){var t=e.subscriber,r=e.context;r&&t.closeContext(r),t.closed||(e.context=t.openContext(),e.context.closeAction=this.schedule(e,e.bufferTimeSpan))}function f(e){var t=e.bufferCreationInterval,r=e.bufferTimeSpan,n=e.subscriber,i=e.scheduler,o=n.openContext();n.closed||(n.add(o.closeAction=i.schedule(h,r,{subscriber:n,context:o})),this.schedule(e,t))}function h(e){var t=e.subscriber,r=e.context;t.closeContext(r)}},48579:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(36446),o=r(740),s=r(234);t.bufferToggle=function(e,t){return function(r){return r.lift(new a(e,t))}};var a=function(){function e(e,t){this.openings=e,this.closingSelector=t}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.openings,this.closingSelector))},e}(),c=function(e){function t(t,r,n){e.call(this,t),this.openings=r,this.closingSelector=n,this.contexts=[],this.add(o.subscribeToResult(this,r))}return n(t,e),t.prototype._next=function(e){for(var t=this.contexts,r=t.length,n=0;n<r;n++)t[n].buffer.push(e)},t.prototype._error=function(t){for(var r=this.contexts;r.length>0;){var n=r.shift();n.subscription.unsubscribe(),n.buffer=null,n.subscription=null}this.contexts=null,e.prototype._error.call(this,t)},t.prototype._complete=function(){for(var t=this.contexts;t.length>0;){var r=t.shift();this.destination.next(r.buffer),r.subscription.unsubscribe(),r.buffer=null,r.subscription=null}this.contexts=null,e.prototype._complete.call(this)},t.prototype.notifyNext=function(e,t,r,n,i){e?this.closeBuffer(e):this.openBuffer(t)},t.prototype.notifyComplete=function(e){this.closeBuffer(e.context)},t.prototype.openBuffer=function(e){try{var t=this.closingSelector.call(this,e);t&&this.trySubscribe(t)}catch(e){this._error(e)}},t.prototype.closeBuffer=function(e){var t=this.contexts;if(t&&e){var r=e.buffer,n=e.subscription;this.destination.next(r),t.splice(t.indexOf(e),1),this.remove(n),n.unsubscribe()}},t.prototype.trySubscribe=function(e){var t=this.contexts,r=new i.Subscription,n={buffer:[],subscription:r};t.push(n);var s=o.subscribeToResult(this,e,n);!s||s.closed?this.closeBuffer(n):(s.context=n,this.add(s),r.add(s))},t}(s.OuterSubscriber)},39247:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(36446),o=r(36786),s=r(70817),a=r(234),c=r(740);t.bufferWhen=function(e){return function(t){return t.lift(new u(e))}};var u=function(){function e(e){this.closingSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new l(e,this.closingSelector))},e}(),l=function(e){function t(t,r){e.call(this,t),this.closingSelector=r,this.subscribing=!1,this.openBuffer()}return n(t,e),t.prototype._next=function(e){this.buffer.push(e)},t.prototype._complete=function(){var t=this.buffer;t&&this.destination.next(t),e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){this.buffer=null,this.subscribing=!1},t.prototype.notifyNext=function(e,t,r,n,i){this.openBuffer()},t.prototype.notifyComplete=function(){this.subscribing?this.complete():this.openBuffer()},t.prototype.openBuffer=function(){var e=this.closingSubscription;e&&(this.remove(e),e.unsubscribe());var t=this.buffer;this.buffer&&this.destination.next(t),this.buffer=[];var r=o.tryCatch(this.closingSelector)();r===s.errorObject?this.error(s.errorObject.e):(e=new i.Subscription,this.closingSubscription=e,this.add(e),this.subscribing=!0,e.add(c.subscribeToResult(this,r)),this.subscribing=!1)},t}(a.OuterSubscriber)},35606:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(234),o=r(740);t.catchError=function(e){return function(t){var r=new s(e),n=t.lift(r);return r.caught=n}};var s=function(){function e(e){this.selector=e}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.selector,this.caught))},e}(),a=function(e){function t(t,r,n){e.call(this,t),this.selector=r,this.caught=n}return n(t,e),t.prototype.error=function(t){if(!this.isStopped){var r=void 0;try{r=this.selector(t,this.caught)}catch(t){return void e.prototype.error.call(this,t)}this._unsubscribeAndRecycle(),this.add(o.subscribeToResult(this,r))}},t}(i.OuterSubscriber)},13937:(e,t,r)=>{var n=r(86119);t.combineAll=function(e){return function(t){return t.lift(new n.CombineLatestOperator(e))}}},86119:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(80757),o=r(18033),s=r(234),a=r(740),c={};t.combineLatest=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];var r=null;return"function"==typeof e[e.length-1]&&(r=e.pop()),1===e.length&&o.isArray(e[0])&&(e=e[0].slice()),function(t){return t.lift.call(new i.ArrayObservable([t].concat(e)),new u(r))}};var u=function(){function e(e){this.project=e}return e.prototype.call=function(e,t){return t.subscribe(new l(e,this.project))},e}();t.CombineLatestOperator=u;var l=function(e){function t(t,r){e.call(this,t),this.project=r,this.active=0,this.values=[],this.observables=[]}return n(t,e),t.prototype._next=function(e){this.values.push(c),this.observables.push(e)},t.prototype._complete=function(){var e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(var r=0;r<t;r++){var n=e[r];this.add(a.subscribeToResult(this,n,n,r))}}},t.prototype.notifyComplete=function(e){0==(this.active-=1)&&this.destination.complete()},t.prototype.notifyNext=function(e,t,r,n,i){var o=this.values,s=o[r],a=this.toRespond?s===c?--this.toRespond:this.toRespond:0;o[r]=t,0===a&&(this.project?this._tryProject(o):this.destination.next(o.slice()))},t.prototype._tryProject=function(e){var t;try{t=this.project.apply(this,e)}catch(e){return void this.destination.error(e)}this.destination.next(t)},t}(s.OuterSubscriber);t.CombineLatestSubscriber=l},18177:(e,t,r)=>{var n=r(23497),i=r(23497);t.concatStatic=i.concat,t.concat=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return function(t){return t.lift.call(n.concat.apply(void 0,[t].concat(e)))}}},17646:(e,t,r)=>{var n=r(57638);t.concatAll=function(){return n.mergeAll(1)}},99599:(e,t,r)=>{var n=r(35671);t.concatMap=function(e,t){return n.mergeMap(e,t,1)}},82498:(e,t,r)=>{var n=r(99599);t.concatMapTo=function(e,t){return n.concatMap((function(){return e}),t)}},62366:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(42741);t.count=function(e){return function(t){return t.lift(new o(e,t))}};var o=function(){function e(e,t){this.predicate=e,this.source=t}return e.prototype.call=function(e,t){return t.subscribe(new s(e,this.predicate,this.source))},e}(),s=function(e){function t(t,r,n){e.call(this,t),this.predicate=r,this.source=n,this.count=0,this.index=0}return n(t,e),t.prototype._next=function(e){this.predicate?this._tryPredicate(e):this.count++},t.prototype._tryPredicate=function(e){var t;try{t=this.predicate(e,this.index++,this.source)}catch(e){return void this.destination.error(e)}t&&this.count++},t.prototype._complete=function(){this.destination.next(this.count),this.destination.complete()},t}(i.Subscriber)},96586:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(234),o=r(740);t.debounce=function(e){return function(t){return t.lift(new s(e))}};var s=function(){function e(e){this.durationSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.durationSelector))},e}(),a=function(e){function t(t,r){e.call(this,t),this.durationSelector=r,this.hasValue=!1,this.durationSubscription=null}return n(t,e),t.prototype._next=function(e){try{var t=this.durationSelector.call(this,e);t&&this._tryNext(e,t)}catch(e){this.destination.error(e)}},t.prototype._complete=function(){this.emitValue(),this.destination.complete()},t.prototype._tryNext=function(e,t){var r=this.durationSubscription;this.value=e,this.hasValue=!0,r&&(r.unsubscribe(),this.remove(r)),(r=o.subscribeToResult(this,t)).closed||this.add(this.durationSubscription=r)},t.prototype.notifyNext=function(e,t,r,n,i){this.emitValue()},t.prototype.notifyComplete=function(){this.emitValue()},t.prototype.emitValue=function(){if(this.hasValue){var t=this.value,r=this.durationSubscription;r&&(this.durationSubscription=null,r.unsubscribe(),this.remove(r)),this.value=null,this.hasValue=!1,e.prototype._next.call(this,t)}},t}(i.OuterSubscriber)},69039:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(42741),o=r(19545);t.debounceTime=function(e,t){return void 0===t&&(t=o.async),function(r){return r.lift(new s(e,t))}};var s=function(){function e(e,t){this.dueTime=e,this.scheduler=t}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.dueTime,this.scheduler))},e}(),a=function(e){function t(t,r,n){e.call(this,t),this.dueTime=r,this.scheduler=n,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}return n(t,e),t.prototype._next=function(e){this.clearDebounce(),this.lastValue=e,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(c,this.dueTime,this))},t.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},t.prototype.debouncedNext=function(){this.clearDebounce(),this.hasValue&&(this.destination.next(this.lastValue),this.lastValue=null,this.hasValue=!1)},t.prototype.clearDebounce=function(){var e=this.debouncedSubscription;null!==e&&(this.remove(e),e.unsubscribe(),this.debouncedSubscription=null)},t}(i.Subscriber);function c(e){e.debouncedNext()}},73258:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(42741);t.defaultIfEmpty=function(e){return void 0===e&&(e=null),function(t){return t.lift(new o(e))}};var o=function(){function e(e){this.defaultValue=e}return e.prototype.call=function(e,t){return t.subscribe(new s(e,this.defaultValue))},e}(),s=function(e){function t(t,r){e.call(this,t),this.defaultValue=r,this.isEmpty=!0}return n(t,e),t.prototype._next=function(e){this.isEmpty=!1,this.destination.next(e)},t.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},t}(i.Subscriber)},63506:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(19545),o=r(69410),s=r(42741),a=r(25944);t.delay=function(e,t){void 0===t&&(t=i.async);var r=o.isDate(e)?+e-t.now():Math.abs(e);return function(e){return e.lift(new c(r,t))}};var c=function(){function e(e,t){this.delay=e,this.scheduler=t}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.delay,this.scheduler))},e}(),u=function(e){function t(t,r,n){e.call(this,t),this.delay=r,this.scheduler=n,this.queue=[],this.active=!1,this.errored=!1}return n(t,e),t.dispatch=function(e){for(var t=e.source,r=t.queue,n=e.scheduler,i=e.destination;r.length>0&&r[0].time-n.now()<=0;)r.shift().notification.observe(i);if(r.length>0){var o=Math.max(0,r[0].time-n.now());this.schedule(e,o)}else this.unsubscribe(),t.active=!1},t.prototype._schedule=function(e){this.active=!0,this.add(e.schedule(t.dispatch,this.delay,{source:this,destination:this.destination,scheduler:e}))},t.prototype.scheduleNotification=function(e){if(!0!==this.errored){var t=this.scheduler,r=new l(t.now()+this.delay,e);this.queue.push(r),!1===this.active&&this._schedule(t)}},t.prototype._next=function(e){this.scheduleNotification(a.Notification.createNext(e))},t.prototype._error=function(e){this.errored=!0,this.queue=[],this.destination.error(e)},t.prototype._complete=function(){this.scheduleNotification(a.Notification.createComplete())},t}(s.Subscriber),l=function(e,t){this.time=e,this.notification=t}},43454:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(42741),o=r(91638),s=r(234),a=r(740);t.delayWhen=function(e,t){return t?function(r){return new l(r,t).lift(new c(e))}:function(t){return t.lift(new c(e))}};var c=function(){function e(e){this.delayDurationSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.delayDurationSelector))},e}(),u=function(e){function t(t,r){e.call(this,t),this.delayDurationSelector=r,this.completed=!1,this.delayNotifierSubscriptions=[],this.values=[]}return n(t,e),t.prototype.notifyNext=function(e,t,r,n,i){this.destination.next(e),this.removeSubscription(i),this.tryComplete()},t.prototype.notifyError=function(e,t){this._error(e)},t.prototype.notifyComplete=function(e){var t=this.removeSubscription(e);t&&this.destination.next(t),this.tryComplete()},t.prototype._next=function(e){try{var t=this.delayDurationSelector(e);t&&this.tryDelay(t,e)}catch(e){this.destination.error(e)}},t.prototype._complete=function(){this.completed=!0,this.tryComplete()},t.prototype.removeSubscription=function(e){e.unsubscribe();var t=this.delayNotifierSubscriptions.indexOf(e),r=null;return-1!==t&&(r=this.values[t],this.delayNotifierSubscriptions.splice(t,1),this.values.splice(t,1)),r},t.prototype.tryDelay=function(e,t){var r=a.subscribeToResult(this,e,t);r&&!r.closed&&(this.add(r),this.delayNotifierSubscriptions.push(r)),this.values.push(t)},t.prototype.tryComplete=function(){this.completed&&0===this.delayNotifierSubscriptions.length&&this.destination.complete()},t}(s.OuterSubscriber),l=function(e){function t(t,r){e.call(this),this.source=t,this.subscriptionDelay=r}return n(t,e),t.prototype._subscribe=function(e){this.subscriptionDelay.subscribe(new f(e,this.source))},t}(o.Observable),f=function(e){function t(t,r){e.call(this),this.parent=t,this.source=r,this.sourceSubscribed=!1}return n(t,e),t.prototype._next=function(e){this.subscribeToSource()},t.prototype._error=function(e){this.unsubscribe(),this.parent.error(e)},t.prototype._complete=function(){this.subscribeToSource()},t.prototype.subscribeToSource=function(){this.sourceSubscribed||(this.sourceSubscribed=!0,this.unsubscribe(),this.source.subscribe(this.parent))},t}(i.Subscriber)},74049:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(42741);t.dematerialize=function(){return function(e){return e.lift(new o)}};var o=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new s(e))},e}(),s=function(e){function t(t){e.call(this,t)}return n(t,e),t.prototype._next=function(e){e.observe(this.destination)},t}(i.Subscriber)},90885:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(234),o=r(740),s=r(1752);t.distinct=function(e,t){return function(r){return r.lift(new a(e,t))}};var a=function(){function e(e,t){this.keySelector=e,this.flushes=t}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.keySelector,this.flushes))},e}(),c=function(e){function t(t,r,n){e.call(this,t),this.keySelector=r,this.values=new s.Set,n&&this.add(o.subscribeToResult(this,n))}return n(t,e),t.prototype.notifyNext=function(e,t,r,n,i){this.values.clear()},t.prototype.notifyError=function(e,t){this._error(e)},t.prototype._next=function(e){this.keySelector?this._useKeySelector(e):this._finalizeNext(e,e)},t.prototype._useKeySelector=function(e){var t,r=this.destination;try{t=this.keySelector(e)}catch(e){return void r.error(e)}this._finalizeNext(t,e)},t.prototype._finalizeNext=function(e,t){var r=this.values;r.has(e)||(r.add(e),this.destination.next(t))},t}(i.OuterSubscriber);t.DistinctSubscriber=c},90937:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(42741),o=r(36786),s=r(70817);t.distinctUntilChanged=function(e,t){return function(r){return r.lift(new a(e,t))}};var a=function(){function e(e,t){this.compare=e,this.keySelector=t}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.compare,this.keySelector))},e}(),c=function(e){function t(t,r,n){e.call(this,t),this.keySelector=n,this.hasKey=!1,"function"==typeof r&&(this.compare=r)}return n(t,e),t.prototype.compare=function(e,t){return e===t},t.prototype._next=function(e){var t=e;if(this.keySelector&&(t=o.tryCatch(this.keySelector)(e))===s.errorObject)return this.destination.error(s.errorObject.e);var r=!1;if(this.hasKey){if((r=o.tryCatch(this.compare)(this.key,t))===s.errorObject)return this.destination.error(s.errorObject.e)}else this.hasKey=!0;!1===Boolean(r)&&(this.key=t,this.destination.next(e))},t}(i.Subscriber)},92188:(e,t,r)=>{var n=r(90937);t.distinctUntilKeyChanged=function(e,t){return n.distinctUntilChanged((function(r,n){return t?t(r[e],n[e]):r[e]===n[e]}))}},27176:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(42741),o=r(5169);t.elementAt=function(e,t){return function(r){return r.lift(new s(e,t))}};var s=function(){function e(e,t){if(this.index=e,this.defaultValue=t,e<0)throw new o.ArgumentOutOfRangeError}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.index,this.defaultValue))},e}(),a=function(e){function t(t,r,n){e.call(this,t),this.index=r,this.defaultValue=n}return n(t,e),t.prototype._next=function(e){0==this.index--&&(this.destination.next(e),this.destination.complete())},t.prototype._complete=function(){var e=this.destination;this.index>=0&&(void 0!==this.defaultValue?e.next(this.defaultValue):e.error(new o.ArgumentOutOfRangeError)),e.complete()},t}(i.Subscriber)},89046:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(42741);t.every=function(e,t){return function(r){return r.lift(new o(e,t,r))}};var o=function(){function e(e,t,r){this.predicate=e,this.thisArg=t,this.source=r}return e.prototype.call=function(e,t){return t.subscribe(new s(e,this.predicate,this.thisArg,this.source))},e}(),s=function(e){function t(t,r,n,i){e.call(this,t),this.predicate=r,this.thisArg=n,this.source=i,this.index=0,this.thisArg=n||this}return n(t,e),t.prototype.notifyComplete=function(e){this.destination.next(e),this.destination.complete()},t.prototype._next=function(e){var t=!1;try{t=this.predicate.call(this.thisArg,e,this.index++,this.source)}catch(e){return void this.destination.error(e)}t||this.notifyComplete(!1)},t.prototype._complete=function(){this.notifyComplete(!0)},t}(i.Subscriber)},1823:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(234),o=r(740);t.exhaust=function(){return function(e){return e.lift(new s)}};var s=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new a(e))},e}(),a=function(e){function t(t){e.call(this,t),this.hasCompleted=!1,this.hasSubscription=!1}return n(t,e),t.prototype._next=function(e){this.hasSubscription||(this.hasSubscription=!0,this.add(o.subscribeToResult(this,e)))},t.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()},t.prototype.notifyComplete=function(e){this.remove(e),this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},t}(i.OuterSubscriber)},93281:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(234),o=r(740);t.exhaustMap=function(e,t){return function(r){return r.lift(new s(e,t))}};var s=function(){function e(e,t){this.project=e,this.resultSelector=t}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.project,this.resultSelector))},e}(),a=function(e){function t(t,r,n){e.call(this,t),this.project=r,this.resultSelector=n,this.hasSubscription=!1,this.hasCompleted=!1,this.index=0}return n(t,e),t.prototype._next=function(e){this.hasSubscription||this.tryNext(e)},t.prototype.tryNext=function(e){var t=this.index++,r=this.destination;try{var n=this.project(e,t);this.hasSubscription=!0,this.add(o.subscribeToResult(this,n,e,t))}catch(e){r.error(e)}},t.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()},t.prototype.notifyNext=function(e,t,r,n,i){var o=this.resultSelector,s=this.destination;o?this.trySelectResult(e,t,r,n):s.next(t)},t.prototype.trySelectResult=function(e,t,r,n){var i=this.resultSelector,o=this.destination;try{var s=i(e,t,r,n);o.next(s)}catch(e){o.error(e)}},t.prototype.notifyError=function(e){this.destination.error(e)},t.prototype.notifyComplete=function(e){this.remove(e),this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},t}(i.OuterSubscriber)},27325:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(36786),o=r(70817),s=r(234),a=r(740);t.expand=function(e,t,r){return void 0===t&&(t=Number.POSITIVE_INFINITY),void 0===r&&(r=void 0),t=(t||0)<1?Number.POSITIVE_INFINITY:t,function(n){return n.lift(new c(e,t,r))}};var c=function(){function e(e,t,r){this.project=e,this.concurrent=t,this.scheduler=r}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.project,this.concurrent,this.scheduler))},e}();t.ExpandOperator=c;var u=function(e){function t(t,r,n,i){e.call(this,t),this.project=r,this.concurrent=n,this.scheduler=i,this.index=0,this.active=0,this.hasCompleted=!1,n<Number.POSITIVE_INFINITY&&(this.buffer=[])}return n(t,e),t.dispatch=function(e){var t=e.subscriber,r=e.result,n=e.value,i=e.index;t.subscribeToProjection(r,n,i)},t.prototype._next=function(e){var r=this.destination;if(r.closed)this._complete();else{var n=this.index++;if(this.active<this.concurrent){r.next(e);var s=i.tryCatch(this.project)(e,n);if(s===o.errorObject)r.error(o.errorObject.e);else if(this.scheduler){var a={subscriber:this,result:s,value:e,index:n};this.add(this.scheduler.schedule(t.dispatch,0,a))}else this.subscribeToProjection(s,e,n)}else this.buffer.push(e)}},t.prototype.subscribeToProjection=function(e,t,r){this.active++,this.add(a.subscribeToResult(this,e,t,r))},t.prototype._complete=function(){this.hasCompleted=!0,this.hasCompleted&&0===this.active&&this.destination.complete()},t.prototype.notifyNext=function(e,t,r,n,i){this._next(t)},t.prototype.notifyComplete=function(e){var t=this.buffer;this.remove(e),this.active--,t&&t.length>0&&this._next(t.shift()),this.hasCompleted&&0===this.active&&this.destination.complete()},t}(s.OuterSubscriber);t.ExpandSubscriber=u},3103:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(42741);t.filter=function(e,t){return function(r){return r.lift(new o(e,t))}};var o=function(){function e(e,t){this.predicate=e,this.thisArg=t}return e.prototype.call=function(e,t){return t.subscribe(new s(e,this.predicate,this.thisArg))},e}(),s=function(e){function t(t,r,n){e.call(this,t),this.predicate=r,this.thisArg=n,this.count=0}return n(t,e),t.prototype._next=function(e){var t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(e){return void this.destination.error(e)}t&&this.destination.next(e)},t}(i.Subscriber)},82259:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(42741),o=r(36446);t.finalize=function(e){return function(t){return t.lift(new s(e))}};var s=function(){function e(e){this.callback=e}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.callback))},e}(),a=function(e){function t(t,r){e.call(this,t),this.add(new o.Subscription(r))}return n(t,e),t}(i.Subscriber)},58114:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(42741);t.find=function(e,t){if("function"!=typeof e)throw new TypeError("predicate is not a function");return function(r){return r.lift(new o(e,r,!1,t))}};var o=function(){function e(e,t,r,n){this.predicate=e,this.source=t,this.yieldIndex=r,this.thisArg=n}return e.prototype.call=function(e,t){return t.subscribe(new s(e,this.predicate,this.source,this.yieldIndex,this.thisArg))},e}();t.FindValueOperator=o;var s=function(e){function t(t,r,n,i,o){e.call(this,t),this.predicate=r,this.source=n,this.yieldIndex=i,this.thisArg=o,this.index=0}return n(t,e),t.prototype.notifyComplete=function(e){var t=this.destination;t.next(e),t.complete()},t.prototype._next=function(e){var t=this.predicate,r=this.thisArg,n=this.index++;try{t.call(r||this,e,n,this.source)&&this.notifyComplete(this.yieldIndex?n:e)}catch(e){this.destination.error(e)}},t.prototype._complete=function(){this.notifyComplete(this.yieldIndex?-1:void 0)},t}(i.Subscriber);t.FindValueSubscriber=s},47388:(e,t,r)=>{var n=r(58114);t.findIndex=function(e,t){return function(r){return r.lift(new n.FindValueOperator(e,r,!0,t))}}},62131:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(42741),o=r(64871);t.first=function(e,t,r){return function(n){return n.lift(new s(e,t,r,n))}};var s=function(){function e(e,t,r,n){this.predicate=e,this.resultSelector=t,this.defaultValue=r,this.source=n}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.predicate,this.resultSelector,this.defaultValue,this.source))},e}(),a=function(e){function t(t,r,n,i,o){e.call(this,t),this.predicate=r,this.resultSelector=n,this.defaultValue=i,this.source=o,this.index=0,this.hasCompleted=!1,this._emitted=!1}return n(t,e),t.prototype._next=function(e){var t=this.index++;this.predicate?this._tryPredicate(e,t):this._emit(e,t)},t.prototype._tryPredicate=function(e,t){var r;try{r=this.predicate(e,t,this.source)}catch(e){return void this.destination.error(e)}r&&this._emit(e,t)},t.prototype._emit=function(e,t){this.resultSelector?this._tryResultSelector(e,t):this._emitFinal(e)},t.prototype._tryResultSelector=function(e,t){var r;try{r=this.resultSelector(e,t)}catch(e){return void this.destination.error(e)}this._emitFinal(r)},t.prototype._emitFinal=function(e){var t=this.destination;this._emitted||(this._emitted=!0,t.next(e),t.complete(),this.hasCompleted=!0)},t.prototype._complete=function(){var e=this.destination;this.hasCompleted||void 0===this.defaultValue?this.hasCompleted||e.error(new o.EmptyError):(e.next(this.defaultValue),e.complete())},t}(i.Subscriber)},45479:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(42741),o=r(36446),s=r(91638),a=r(99731),c=r(57122),u=r(78724);t.groupBy=function(e,t,r,n){return function(i){return i.lift(new l(e,t,r,n))}};var l=function(){function e(e,t,r,n){this.keySelector=e,this.elementSelector=t,this.durationSelector=r,this.subjectSelector=n}return e.prototype.call=function(e,t){return t.subscribe(new f(e,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))},e}(),f=function(e){function t(t,r,n,i,o){e.call(this,t),this.keySelector=r,this.elementSelector=n,this.durationSelector=i,this.subjectSelector=o,this.groups=null,this.attemptedToUnsubscribe=!1,this.count=0}return n(t,e),t.prototype._next=function(e){var t;try{t=this.keySelector(e)}catch(e){return void this.error(e)}this._group(e,t)},t.prototype._group=function(e,t){var r=this.groups;r||(r=this.groups="string"==typeof t?new u.FastMap:new c.Map);var n,i=r.get(t);if(this.elementSelector)try{n=this.elementSelector(e)}catch(e){this.error(e)}else n=e;if(!i){i=this.subjectSelector?this.subjectSelector():new a.Subject,r.set(t,i);var o=new d(t,i,this);if(this.destination.next(o),this.durationSelector){var s=void 0;try{s=this.durationSelector(new d(t,i))}catch(e){return void this.error(e)}this.add(s.subscribe(new h(t,i,this)))}}i.closed||i.next(n)},t.prototype._error=function(e){var t=this.groups;t&&(t.forEach((function(t,r){t.error(e)})),t.clear()),this.destination.error(e)},t.prototype._complete=function(){var e=this.groups;e&&(e.forEach((function(e,t){e.complete()})),e.clear()),this.destination.complete()},t.prototype.removeGroup=function(e){this.groups.delete(e)},t.prototype.unsubscribe=function(){this.closed||(this.attemptedToUnsubscribe=!0,0===this.count&&e.prototype.unsubscribe.call(this))},t}(i.Subscriber),h=function(e){function t(t,r,n){e.call(this,r),this.key=t,this.group=r,this.parent=n}return n(t,e),t.prototype._next=function(e){this.complete()},t.prototype._unsubscribe=function(){var e=this.parent,t=this.key;this.key=this.parent=null,e&&e.removeGroup(t)},t}(i.Subscriber),d=function(e){function t(t,r,n){e.call(this),this.key=t,this.groupSubject=r,this.refCountSubscription=n}return n(t,e),t.prototype._subscribe=function(e){var t=new o.Subscription,r=this.refCountSubscription,n=this.groupSubject;return r&&!r.closed&&t.add(new p(r)),t.add(n.subscribe(e)),t},t}(s.Observable);t.GroupedObservable=d;var p=function(e){function t(t){e.call(this),this.parent=t,t.count++}return n(t,e),t.prototype.unsubscribe=function(){var t=this.parent;t.closed||this.closed||(e.prototype.unsubscribe.call(this),t.count-=1,0===t.count&&t.attemptedToUnsubscribe&&t.unsubscribe())},t}(o.Subscription)},10714:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(42741),o=r(77694);t.ignoreElements=function(){return function(e){return e.lift(new s)}};var s=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new a(e))},e}(),a=function(e){function t(){e.apply(this,arguments)}return n(t,e),t.prototype._next=function(e){o.noop()},t}(i.Subscriber)},68028:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(42741);t.isEmpty=function(){return function(e){return e.lift(new o)}};var o=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new s(e))},e}(),s=function(e){function t(t){e.call(this,t)}return n(t,e),t.prototype.notifyComplete=function(e){var t=this.destination;t.next(e),t.complete()},t.prototype._next=function(e){this.notifyComplete(!1)},t.prototype._complete=function(){this.notifyComplete(!0)},t}(i.Subscriber)},40221:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(42741),o=r(64871);t.last=function(e,t,r){return function(n){return n.lift(new s(e,t,r,n))}};var s=function(){function e(e,t,r,n){this.predicate=e,this.resultSelector=t,this.defaultValue=r,this.source=n}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.predicate,this.resultSelector,this.defaultValue,this.source))},e}(),a=function(e){function t(t,r,n,i,o){e.call(this,t),this.predicate=r,this.resultSelector=n,this.defaultValue=i,this.source=o,this.hasValue=!1,this.index=0,void 0!==i&&(this.lastValue=i,this.hasValue=!0)}return n(t,e),t.prototype._next=function(e){var t=this.index++;if(this.predicate)this._tryPredicate(e,t);else{if(this.resultSelector)return void this._tryResultSelector(e,t);this.lastValue=e,this.hasValue=!0}},t.prototype._tryPredicate=function(e,t){var r;try{r=this.predicate(e,t,this.source)}catch(e){return void this.destination.error(e)}if(r){if(this.resultSelector)return void this._tryResultSelector(e,t);this.lastValue=e,this.hasValue=!0}},t.prototype._tryResultSelector=function(e,t){var r;try{r=this.resultSelector(e,t)}catch(e){return void this.destination.error(e)}this.lastValue=r,this.hasValue=!0},t.prototype._complete=function(){var e=this.destination;this.hasValue?(e.next(this.lastValue),e.complete()):e.error(new o.EmptyError)},t}(i.Subscriber)},15471:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(42741);t.map=function(e,t){return function(r){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return r.lift(new o(e,t))}};var o=function(){function e(e,t){this.project=e,this.thisArg=t}return e.prototype.call=function(e,t){return t.subscribe(new s(e,this.project,this.thisArg))},e}();t.MapOperator=o;var s=function(e){function t(t,r,n){e.call(this,t),this.project=r,this.count=0,this.thisArg=n||this}return n(t,e),t.prototype._next=function(e){var t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(e){return void this.destination.error(e)}this.destination.next(t)},t}(i.Subscriber)},6242:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(42741);t.mapTo=function(e){return function(t){return t.lift(new o(e))}};var o=function(){function e(e){this.value=e}return e.prototype.call=function(e,t){return t.subscribe(new s(e,this.value))},e}(),s=function(e){function t(t,r){e.call(this,t),this.value=r}return n(t,e),t.prototype._next=function(e){this.destination.next(this.value)},t}(i.Subscriber)},56504:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(42741),o=r(25944);t.materialize=function(){return function(e){return e.lift(new s)}};var s=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new a(e))},e}(),a=function(e){function t(t){e.call(this,t)}return n(t,e),t.prototype._next=function(e){this.destination.next(o.Notification.createNext(e))},t.prototype._error=function(e){var t=this.destination;t.next(o.Notification.createError(e)),t.complete()},t.prototype._complete=function(){var e=this.destination;e.next(o.Notification.createComplete()),e.complete()},t}(i.Subscriber)},93799:(e,t,r)=>{var n=r(80147);t.max=function(e){var t="function"==typeof e?function(t,r){return e(t,r)>0?t:r}:function(e,t){return e>t?e:t};return n.reduce(t)}},1769:(e,t,r)=>{var n=r(90257),i=r(90257);t.mergeStatic=i.merge,t.merge=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return function(t){return t.lift.call(n.merge.apply(void 0,[t].concat(e)))}}},57638:(e,t,r)=>{var n=r(35671),i=r(75344);t.mergeAll=function(e){return void 0===e&&(e=Number.POSITIVE_INFINITY),n.mergeMap(i.identity,null,e)}},35671:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(740),o=r(234);t.mergeMap=function(e,t,r){return void 0===r&&(r=Number.POSITIVE_INFINITY),function(n){return"number"==typeof t&&(r=t,t=null),n.lift(new s(e,t,r))}};var s=function(){function e(e,t,r){void 0===r&&(r=Number.POSITIVE_INFINITY),this.project=e,this.resultSelector=t,this.concurrent=r}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.project,this.resultSelector,this.concurrent))},e}();t.MergeMapOperator=s;var a=function(e){function t(t,r,n,i){void 0===i&&(i=Number.POSITIVE_INFINITY),e.call(this,t),this.project=r,this.resultSelector=n,this.concurrent=i,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}return n(t,e),t.prototype._next=function(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)},t.prototype._tryNext=function(e){var t,r=this.index++;try{t=this.project(e,r)}catch(e){return void this.destination.error(e)}this.active++,this._innerSub(t,e,r)},t.prototype._innerSub=function(e,t,r){this.add(i.subscribeToResult(this,e,t,r))},t.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete()},t.prototype.notifyNext=function(e,t,r,n,i){this.resultSelector?this._notifyResultSelector(e,t,r,n):this.destination.next(t)},t.prototype._notifyResultSelector=function(e,t,r,n){var i;try{i=this.resultSelector(e,t,r,n)}catch(e){return void this.destination.error(e)}this.destination.next(i)},t.prototype.notifyComplete=function(e){var t=this.buffer;this.remove(e),this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},t}(o.OuterSubscriber);t.MergeMapSubscriber=a},20154:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(234),o=r(740);t.mergeMapTo=function(e,t,r){return void 0===r&&(r=Number.POSITIVE_INFINITY),"number"==typeof t&&(r=t,t=null),function(n){return n.lift(new s(e,t,r))}};var s=function(){function e(e,t,r){void 0===r&&(r=Number.POSITIVE_INFINITY),this.ish=e,this.resultSelector=t,this.concurrent=r}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.ish,this.resultSelector,this.concurrent))},e}();t.MergeMapToOperator=s;var a=function(e){function t(t,r,n,i){void 0===i&&(i=Number.POSITIVE_INFINITY),e.call(this,t),this.ish=r,this.resultSelector=n,this.concurrent=i,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}return n(t,e),t.prototype._next=function(e){if(this.active<this.concurrent){var t=this.resultSelector,r=this.index++,n=this.ish,i=this.destination;this.active++,this._innerSub(n,i,t,e,r)}else this.buffer.push(e)},t.prototype._innerSub=function(e,t,r,n,i){this.add(o.subscribeToResult(this,e,n,i))},t.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete()},t.prototype.notifyNext=function(e,t,r,n,i){var o=this.resultSelector,s=this.destination;o?this.trySelectResult(e,t,r,n):s.next(t)},t.prototype.trySelectResult=function(e,t,r,n){var i,o=this.resultSelector,s=this.destination;try{i=o(e,t,r,n)}catch(e){return void s.error(e)}s.next(i)},t.prototype.notifyError=function(e){this.destination.error(e)},t.prototype.notifyComplete=function(e){var t=this.buffer;this.remove(e),this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},t}(i.OuterSubscriber);t.MergeMapToSubscriber=a},62552:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(36786),o=r(70817),s=r(740),a=r(234);t.mergeScan=function(e,t,r){return void 0===r&&(r=Number.POSITIVE_INFINITY),function(n){return n.lift(new c(e,t,r))}};var c=function(){function e(e,t,r){this.accumulator=e,this.seed=t,this.concurrent=r}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.accumulator,this.seed,this.concurrent))},e}();t.MergeScanOperator=c;var u=function(e){function t(t,r,n,i){e.call(this,t),this.accumulator=r,this.acc=n,this.concurrent=i,this.hasValue=!1,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}return n(t,e),t.prototype._next=function(e){if(this.active<this.concurrent){var t=this.index++,r=i.tryCatch(this.accumulator)(this.acc,e),n=this.destination;r===o.errorObject?n.error(o.errorObject.e):(this.active++,this._innerSub(r,e,t))}else this.buffer.push(e)},t.prototype._innerSub=function(e,t,r){this.add(s.subscribeToResult(this,e,t,r))},t.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&(!1===this.hasValue&&this.destination.next(this.acc),this.destination.complete())},t.prototype.notifyNext=function(e,t,r,n,i){var o=this.destination;this.acc=t,this.hasValue=!0,o.next(t)},t.prototype.notifyComplete=function(e){var t=this.buffer;this.remove(e),this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&(!1===this.hasValue&&this.destination.next(this.acc),this.destination.complete())},t}(a.OuterSubscriber);t.MergeScanSubscriber=u},41565:(e,t,r)=>{var n=r(80147);t.min=function(e){var t="function"==typeof e?function(t,r){return e(t,r)<0?t:r}:function(e,t){return e<t?e:t};return n.reduce(t)}},77375:(e,t,r)=>{var n=r(74230);t.multicast=function(e,t){return function(r){var o;if(o="function"==typeof e?e:function(){return e},"function"==typeof t)return r.lift(new i(o,t));var s=Object.create(r,n.connectableObservableDescriptor);return s.source=r,s.subjectFactory=o,s}};var i=function(){function e(e,t){this.subjectFactory=e,this.selector=t}return e.prototype.call=function(e,t){var r=this.selector,n=this.subjectFactory(),i=r(n).subscribe(e);return i.add(t.subscribe(n)),i},e}();t.MulticastOperator=i},84176:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(42741),o=r(25944);t.observeOn=function(e,t){return void 0===t&&(t=0),function(r){return r.lift(new s(e,t))}};var s=function(){function e(e,t){void 0===t&&(t=0),this.scheduler=e,this.delay=t}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.scheduler,this.delay))},e}();t.ObserveOnOperator=s;var a=function(e){function t(t,r,n){void 0===n&&(n=0),e.call(this,t),this.scheduler=r,this.delay=n}return n(t,e),t.dispatch=function(e){var t=e.notification,r=e.destination;t.observe(r),this.unsubscribe()},t.prototype.scheduleMessage=function(e){this.add(this.scheduler.schedule(t.dispatch,this.delay,new c(e,this.destination)))},t.prototype._next=function(e){this.scheduleMessage(o.Notification.createNext(e))},t.prototype._error=function(e){this.scheduleMessage(o.Notification.createError(e))},t.prototype._complete=function(){this.scheduleMessage(o.Notification.createComplete())},t}(i.Subscriber);t.ObserveOnSubscriber=a;var c=function(e,t){this.notification=e,this.destination=t};t.ObserveOnMessage=c},89662:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(23576),o=r(18033),s=r(234),a=r(740);t.onErrorResumeNext=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return 1===e.length&&o.isArray(e[0])&&(e=e[0]),function(t){return t.lift(new c(e))}},t.onErrorResumeNextStatic=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];var r;return 1===e.length&&o.isArray(e[0])&&(e=e[0]),r=e.shift(),new i.FromObservable(r,null).lift(new c(e))};var c=function(){function e(e){this.nextSources=e}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.nextSources))},e}(),u=function(e){function t(t,r){e.call(this,t),this.destination=t,this.nextSources=r}return n(t,e),t.prototype.notifyError=function(e,t){this.subscribeToNextSource()},t.prototype.notifyComplete=function(e){this.subscribeToNextSource()},t.prototype._error=function(e){this.subscribeToNextSource()},t.prototype._complete=function(){this.subscribeToNextSource()},t.prototype.subscribeToNextSource=function(){var e=this.nextSources.shift();e?this.add(a.subscribeToResult(this,e)):this.destination.complete()},t}(s.OuterSubscriber)},8945:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(42741);t.pairwise=function(){return function(e){return e.lift(new o)}};var o=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new s(e))},e}(),s=function(e){function t(t){e.call(this,t),this.hasPrev=!1}return n(t,e),t.prototype._next=function(e){this.hasPrev?this.destination.next([this.prev,e]):this.hasPrev=!0,this.prev=e},t}(i.Subscriber)},92043:(e,t,r)=>{var n=r(3653),i=r(3103);t.partition=function(e,t){return function(r){return[i.filter(e,t)(r),i.filter(n.not(e,t))(r)]}}},42704:(e,t,r)=>{var n=r(15471);t.pluck=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];var r=e.length;if(0===r)throw new Error("list of properties cannot be empty.");return function(t){return n.map(function(e,t){return function(r){for(var n=r,i=0;i<t;i++){var o=n[e[i]];if(void 0===o)return;n=o}return n}}(e,r))(t)}}},93902:(e,t,r)=>{var n=r(99731),i=r(77375);t.publish=function(e){return e?i.multicast((function(){return new n.Subject}),e):i.multicast(new n.Subject)}},17924:(e,t,r)=>{var n=r(69797),i=r(77375);t.publishBehavior=function(e){return function(t){return i.multicast(new n.BehaviorSubject(e))(t)}}},75450:(e,t,r)=>{var n=r(60751),i=r(77375);t.publishLast=function(){return function(e){return i.multicast(new n.AsyncSubject)(e)}}},83821:(e,t,r)=>{var n=r(91578),i=r(77375);t.publishReplay=function(e,t,r,o){r&&"function"!=typeof r&&(o=r);var s="function"==typeof r?r:void 0,a=new n.ReplaySubject(e,t,o);return function(e){return i.multicast((function(){return a}),s)(e)}}},79896:(e,t,r)=>{var n=r(18033),i=r(2944);t.race=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return function(t){return 1===e.length&&n.isArray(e[0])&&(e=e[0]),t.lift.call(i.race.apply(void 0,[t].concat(e)))}}},80147:(e,t,r)=>{var n=r(83392),i=r(50314),o=r(73258),s=r(44114);t.reduce=function(e,t){return arguments.length>=2?function(r){return s.pipe(n.scan(e,t),i.takeLast(1),o.defaultIfEmpty(t))(r)}:function(t){return s.pipe(n.scan((function(t,r,n){return e(t,r,n+1)})),i.takeLast(1))(t)}}},54361:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(42741);t.refCount=function(){return function(e){return e.lift(new o(e))}};var o=function(){function e(e){this.connectable=e}return e.prototype.call=function(e,t){var r=this.connectable;r._refCount++;var n=new s(e,r),i=t.subscribe(n);return n.closed||(n.connection=r.connect()),i},e}(),s=function(e){function t(t,r){e.call(this,t),this.connectable=r}return n(t,e),t.prototype._unsubscribe=function(){var e=this.connectable;if(e){this.connectable=null;var t=e._refCount;if(t<=0)this.connection=null;else if(e._refCount=t-1,t>1)this.connection=null;else{var r=this.connection,n=e._connection;this.connection=null,!n||r&&n!==r||n.unsubscribe()}}else this.connection=null},t}(i.Subscriber)},84794:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(42741),o=r(56777);t.repeat=function(e){return void 0===e&&(e=-1),function(t){return 0===e?new o.EmptyObservable:e<0?t.lift(new s(-1,t)):t.lift(new s(e-1,t))}};var s=function(){function e(e,t){this.count=e,this.source=t}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.count,this.source))},e}(),a=function(e){function t(t,r,n){e.call(this,t),this.count=r,this.source=n}return n(t,e),t.prototype.complete=function(){if(!this.isStopped){var t=this.source,r=this.count;if(0===r)return e.prototype.complete.call(this);r>-1&&(this.count=r-1),t.subscribe(this._unsubscribeAndRecycle())}},t}(i.Subscriber)},28358:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(99731),o=r(36786),s=r(70817),a=r(234),c=r(740);t.repeatWhen=function(e){return function(t){return t.lift(new u(e))}};var u=function(){function e(e){this.notifier=e}return e.prototype.call=function(e,t){return t.subscribe(new l(e,this.notifier,t))},e}(),l=function(e){function t(t,r,n){e.call(this,t),this.notifier=r,this.source=n,this.sourceIsBeingSubscribedTo=!0}return n(t,e),t.prototype.notifyNext=function(e,t,r,n,i){this.sourceIsBeingSubscribedTo=!0,this.source.subscribe(this)},t.prototype.notifyComplete=function(t){if(!1===this.sourceIsBeingSubscribedTo)return e.prototype.complete.call(this)},t.prototype.complete=function(){if(this.sourceIsBeingSubscribedTo=!1,!this.isStopped){if(this.retries||this.subscribeToRetries(),!this.retriesSubscription||this.retriesSubscription.closed)return e.prototype.complete.call(this);this._unsubscribeAndRecycle(),this.notifications.next()}},t.prototype._unsubscribe=function(){var e=this.notifications,t=this.retriesSubscription;e&&(e.unsubscribe(),this.notifications=null),t&&(t.unsubscribe(),this.retriesSubscription=null),this.retries=null},t.prototype._unsubscribeAndRecycle=function(){var t=this,r=t.notifications,n=t.retries,i=t.retriesSubscription;return this.notifications=null,this.retries=null,this.retriesSubscription=null,e.prototype._unsubscribeAndRecycle.call(this),this.notifications=r,this.retries=n,this.retriesSubscription=i,this},t.prototype.subscribeToRetries=function(){this.notifications=new i.Subject;var t=o.tryCatch(this.notifier)(this.notifications);if(t===s.errorObject)return e.prototype.complete.call(this);this.retries=t,this.retriesSubscription=c.subscribeToResult(this,t)},t}(a.OuterSubscriber)},32616:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(42741);t.retry=function(e){return void 0===e&&(e=-1),function(t){return t.lift(new o(e,t))}};var o=function(){function e(e,t){this.count=e,this.source=t}return e.prototype.call=function(e,t){return t.subscribe(new s(e,this.count,this.source))},e}(),s=function(e){function t(t,r,n){e.call(this,t),this.count=r,this.source=n}return n(t,e),t.prototype.error=function(t){if(!this.isStopped){var r=this.source,n=this.count;if(0===n)return e.prototype.error.call(this,t);n>-1&&(this.count=n-1),r.subscribe(this._unsubscribeAndRecycle())}},t}(i.Subscriber)},8147:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(99731),o=r(36786),s=r(70817),a=r(234),c=r(740);t.retryWhen=function(e){return function(t){return t.lift(new u(e,t))}};var u=function(){function e(e,t){this.notifier=e,this.source=t}return e.prototype.call=function(e,t){return t.subscribe(new l(e,this.notifier,this.source))},e}(),l=function(e){function t(t,r,n){e.call(this,t),this.notifier=r,this.source=n}return n(t,e),t.prototype.error=function(t){if(!this.isStopped){var r=this.errors,n=this.retries,a=this.retriesSubscription;if(n)this.errors=null,this.retriesSubscription=null;else{if(r=new i.Subject,(n=o.tryCatch(this.notifier)(r))===s.errorObject)return e.prototype.error.call(this,s.errorObject.e);a=c.subscribeToResult(this,n)}this._unsubscribeAndRecycle(),this.errors=r,this.retries=n,this.retriesSubscription=a,r.next(t)}},t.prototype._unsubscribe=function(){var e=this.errors,t=this.retriesSubscription;e&&(e.unsubscribe(),this.errors=null),t&&(t.unsubscribe(),this.retriesSubscription=null),this.retries=null},t.prototype.notifyNext=function(e,t,r,n,i){var o=this,s=o.errors,a=o.retries,c=o.retriesSubscription;this.errors=null,this.retries=null,this.retriesSubscription=null,this._unsubscribeAndRecycle(),this.errors=s,this.retries=a,this.retriesSubscription=c,this.source.subscribe(this)},t}(a.OuterSubscriber)},75715:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(234),o=r(740);t.sample=function(e){return function(t){return t.lift(new s(e))}};var s=function(){function e(e){this.notifier=e}return e.prototype.call=function(e,t){var r=new a(e),n=t.subscribe(r);return n.add(o.subscribeToResult(r,this.notifier)),n},e}(),a=function(e){function t(){e.apply(this,arguments),this.hasValue=!1}return n(t,e),t.prototype._next=function(e){this.value=e,this.hasValue=!0},t.prototype.notifyNext=function(e,t,r,n,i){this.emitValue()},t.prototype.notifyComplete=function(){this.emitValue()},t.prototype.emitValue=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.value))},t}(i.OuterSubscriber)},6182:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(42741),o=r(19545);t.sampleTime=function(e,t){return void 0===t&&(t=o.async),function(r){return r.lift(new s(e,t))}};var s=function(){function e(e,t){this.period=e,this.scheduler=t}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.period,this.scheduler))},e}(),a=function(e){function t(t,r,n){e.call(this,t),this.period=r,this.scheduler=n,this.hasValue=!1,this.add(n.schedule(c,r,{subscriber:this,period:r}))}return n(t,e),t.prototype._next=function(e){this.lastValue=e,this.hasValue=!0},t.prototype.notifyNext=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.lastValue))},t}(i.Subscriber);function c(e){var t=e.subscriber,r=e.period;t.notifyNext(),this.schedule(e,r)}},83392:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(42741);t.scan=function(e,t){var r=!1;return arguments.length>=2&&(r=!0),function(n){return n.lift(new o(e,t,r))}};var o=function(){function e(e,t,r){void 0===r&&(r=!1),this.accumulator=e,this.seed=t,this.hasSeed=r}return e.prototype.call=function(e,t){return t.subscribe(new s(e,this.accumulator,this.seed,this.hasSeed))},e}(),s=function(e){function t(t,r,n,i){e.call(this,t),this.accumulator=r,this._seed=n,this.hasSeed=i,this.index=0}return n(t,e),Object.defineProperty(t.prototype,"seed",{get:function(){return this._seed},set:function(e){this.hasSeed=!0,this._seed=e},enumerable:!0,configurable:!0}),t.prototype._next=function(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)},t.prototype._tryNext=function(e){var t,r=this.index++;try{t=this.accumulator(this.seed,e,r)}catch(e){this.destination.error(e)}this.seed=t,this.destination.next(t)},t}(i.Subscriber)},1542:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(42741),o=r(36786),s=r(70817);t.sequenceEqual=function(e,t){return function(r){return r.lift(new a(e,t))}};var a=function(){function e(e,t){this.compareTo=e,this.comparor=t}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.compareTo,this.comparor))},e}();t.SequenceEqualOperator=a;var c=function(e){function t(t,r,n){e.call(this,t),this.compareTo=r,this.comparor=n,this._a=[],this._b=[],this._oneComplete=!1,this.add(r.subscribe(new u(t,this)))}return n(t,e),t.prototype._next=function(e){this._oneComplete&&0===this._b.length?this.emit(!1):(this._a.push(e),this.checkValues())},t.prototype._complete=function(){this._oneComplete?this.emit(0===this._a.length&&0===this._b.length):this._oneComplete=!0},t.prototype.checkValues=function(){for(var e=this,t=e._a,r=e._b,n=e.comparor;t.length>0&&r.length>0;){var i=t.shift(),a=r.shift(),c=!1;n?(c=o.tryCatch(n)(i,a))===s.errorObject&&this.destination.error(s.errorObject.e):c=i===a,c||this.emit(!1)}},t.prototype.emit=function(e){var t=this.destination;t.next(e),t.complete()},t.prototype.nextB=function(e){this._oneComplete&&0===this._a.length?this.emit(!1):(this._b.push(e),this.checkValues())},t}(i.Subscriber);t.SequenceEqualSubscriber=c;var u=function(e){function t(t,r){e.call(this,t),this.parent=r}return n(t,e),t.prototype._next=function(e){this.parent.nextB(e)},t.prototype._error=function(e){this.parent.error(e)},t.prototype._complete=function(){this.parent._complete()},t}(i.Subscriber)},92590:(e,t,r)=>{var n=r(77375),i=r(54361),o=r(99731);function s(){return new o.Subject}t.share=function(){return function(e){return i.refCount()(n.multicast(s)(e))}}},92621:(e,t,r)=>{var n=r(91578);t.shareReplay=function(e,t,r){return function(i){return i.lift(function(e,t,r){var i,o,s=0,a=!1,c=!1;return function(u){s++,i&&!a||(a=!1,i=new n.ReplaySubject(e,t,r),o=u.subscribe({next:function(e){i.next(e)},error:function(e){a=!0,i.error(e)},complete:function(){c=!0,i.complete()}}));var l=i.subscribe(this);return function(){s--,l.unsubscribe(),o&&0===s&&c&&o.unsubscribe()}}}(e,t,r))}}},28153:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(42741),o=r(64871);t.single=function(e){return function(t){return t.lift(new s(e,t))}};var s=function(){function e(e,t){this.predicate=e,this.source=t}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.predicate,this.source))},e}(),a=function(e){function t(t,r,n){e.call(this,t),this.predicate=r,this.source=n,this.seenValue=!1,this.index=0}return n(t,e),t.prototype.applySingleValue=function(e){this.seenValue?this.destination.error("Sequence contains more than one element"):(this.seenValue=!0,this.singleValue=e)},t.prototype._next=function(e){var t=this.index++;this.predicate?this.tryNext(e,t):this.applySingleValue(e)},t.prototype.tryNext=function(e,t){try{this.predicate(e,t,this.source)&&this.applySingleValue(e)}catch(e){this.destination.error(e)}},t.prototype._complete=function(){var e=this.destination;this.index>0?(e.next(this.seenValue?this.singleValue:void 0),e.complete()):e.error(new o.EmptyError)},t}(i.Subscriber)},286:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(42741);t.skip=function(e){return function(t){return t.lift(new o(e))}};var o=function(){function e(e){this.total=e}return e.prototype.call=function(e,t){return t.subscribe(new s(e,this.total))},e}(),s=function(e){function t(t,r){e.call(this,t),this.total=r,this.count=0}return n(t,e),t.prototype._next=function(e){++this.count>this.total&&this.destination.next(e)},t}(i.Subscriber)},73194:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(42741),o=r(5169);t.skipLast=function(e){return function(t){return t.lift(new s(e))}};var s=function(){function e(e){if(this._skipCount=e,this._skipCount<0)throw new o.ArgumentOutOfRangeError}return e.prototype.call=function(e,t){return 0===this._skipCount?t.subscribe(new i.Subscriber(e)):t.subscribe(new a(e,this._skipCount))},e}(),a=function(e){function t(t,r){e.call(this,t),this._skipCount=r,this._count=0,this._ring=new Array(r)}return n(t,e),t.prototype._next=function(e){var t=this._skipCount,r=this._count++;if(r<t)this._ring[r]=e;else{var n=r%t,i=this._ring,o=i[n];i[n]=e,this.destination.next(o)}},t}(i.Subscriber)},80284:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(234),o=r(740);t.skipUntil=function(e){return function(t){return t.lift(new s(e))}};var s=function(){function e(e){this.notifier=e}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.notifier))},e}(),a=function(e){function t(t,r){e.call(this,t),this.hasValue=!1,this.isInnerStopped=!1,this.add(o.subscribeToResult(this,r))}return n(t,e),t.prototype._next=function(t){this.hasValue&&e.prototype._next.call(this,t)},t.prototype._complete=function(){this.isInnerStopped?e.prototype._complete.call(this):this.unsubscribe()},t.prototype.notifyNext=function(e,t,r,n,i){this.hasValue=!0},t.prototype.notifyComplete=function(){this.isInnerStopped=!0,this.isStopped&&e.prototype._complete.call(this)},t}(i.OuterSubscriber)},90241:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(42741);t.skipWhile=function(e){return function(t){return t.lift(new o(e))}};var o=function(){function e(e){this.predicate=e}return e.prototype.call=function(e,t){return t.subscribe(new s(e,this.predicate))},e}(),s=function(e){function t(t,r){e.call(this,t),this.predicate=r,this.skipping=!0,this.index=0}return n(t,e),t.prototype._next=function(e){var t=this.destination;this.skipping&&this.tryCallPredicate(e),this.skipping||t.next(e)},t.prototype.tryCallPredicate=function(e){try{var t=this.predicate(e,this.index++);this.skipping=Boolean(t)}catch(e){this.destination.error(e)}},t}(i.Subscriber)},66253:(e,t,r)=>{var n=r(80757),i=r(97156),o=r(56777),s=r(23497),a=r(57733);t.startWith=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return function(t){var r=e[e.length-1];a.isScheduler(r)?e.pop():r=null;var c=e.length;return 1===c?s.concat(new i.ScalarObservable(e[0],r),t):c>1?s.concat(new n.ArrayObservable(e,r),t):s.concat(new o.EmptyObservable(r),t)}}},51312:(e,t,r)=>{var n=r(6441);t.subscribeOn=function(e,t){return void 0===t&&(t=0),function(r){return r.lift(new i(e,t))}};var i=function(){function e(e,t){this.scheduler=e,this.delay=t}return e.prototype.call=function(e,t){return new n.SubscribeOnObservable(t,this.delay,this.scheduler).subscribe(e)},e}()},9510:(e,t,r)=>{var n=r(87543),i=r(75344);t.switchAll=function(){return n.switchMap(i.identity)}},87543:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(234),o=r(740);t.switchMap=function(e,t){return function(r){return r.lift(new s(e,t))}};var s=function(){function e(e,t){this.project=e,this.resultSelector=t}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.project,this.resultSelector))},e}(),a=function(e){function t(t,r,n){e.call(this,t),this.project=r,this.resultSelector=n,this.index=0}return n(t,e),t.prototype._next=function(e){var t,r=this.index++;try{t=this.project(e,r)}catch(e){return void this.destination.error(e)}this._innerSub(t,e,r)},t.prototype._innerSub=function(e,t,r){var n=this.innerSubscription;n&&n.unsubscribe(),this.add(this.innerSubscription=o.subscribeToResult(this,e,t,r))},t.prototype._complete=function(){var t=this.innerSubscription;t&&!t.closed||e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){this.innerSubscription=null},t.prototype.notifyComplete=function(t){this.remove(t),this.innerSubscription=null,this.isStopped&&e.prototype._complete.call(this)},t.prototype.notifyNext=function(e,t,r,n,i){this.resultSelector?this._tryNotifyNext(e,t,r,n):this.destination.next(t)},t.prototype._tryNotifyNext=function(e,t,r,n){var i;try{i=this.resultSelector(e,t,r,n)}catch(e){return void this.destination.error(e)}this.destination.next(i)},t}(i.OuterSubscriber)},44250:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(234),o=r(740);t.switchMapTo=function(e,t){return function(r){return r.lift(new s(e,t))}};var s=function(){function e(e,t){this.observable=e,this.resultSelector=t}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.observable,this.resultSelector))},e}(),a=function(e){function t(t,r,n){e.call(this,t),this.inner=r,this.resultSelector=n,this.index=0}return n(t,e),t.prototype._next=function(e){var t=this.innerSubscription;t&&t.unsubscribe(),this.add(this.innerSubscription=o.subscribeToResult(this,this.inner,e,this.index++))},t.prototype._complete=function(){var t=this.innerSubscription;t&&!t.closed||e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){this.innerSubscription=null},t.prototype.notifyComplete=function(t){this.remove(t),this.innerSubscription=null,this.isStopped&&e.prototype._complete.call(this)},t.prototype.notifyNext=function(e,t,r,n,i){var o=this.resultSelector,s=this.destination;o?this.tryResultSelector(e,t,r,n):s.next(t)},t.prototype.tryResultSelector=function(e,t,r,n){var i,o=this.resultSelector,s=this.destination;try{i=o(e,t,r,n)}catch(e){return void s.error(e)}s.next(i)},t}(i.OuterSubscriber)},11454:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(42741),o=r(5169),s=r(56777);t.take=function(e){return function(t){return 0===e?new s.EmptyObservable:t.lift(new a(e))}};var a=function(){function e(e){if(this.total=e,this.total<0)throw new o.ArgumentOutOfRangeError}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.total))},e}(),c=function(e){function t(t,r){e.call(this,t),this.total=r,this.count=0}return n(t,e),t.prototype._next=function(e){var t=this.total,r=++this.count;r<=t&&(this.destination.next(e),r===t&&(this.destination.complete(),this.unsubscribe()))},t}(i.Subscriber)},50314:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(42741),o=r(5169),s=r(56777);t.takeLast=function(e){return function(t){return 0===e?new s.EmptyObservable:t.lift(new a(e))}};var a=function(){function e(e){if(this.total=e,this.total<0)throw new o.ArgumentOutOfRangeError}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.total))},e}(),c=function(e){function t(t,r){e.call(this,t),this.total=r,this.ring=new Array,this.count=0}return n(t,e),t.prototype._next=function(e){var t=this.ring,r=this.total,n=this.count++;t.length<r?t.push(e):t[n%r]=e},t.prototype._complete=function(){var e=this.destination,t=this.count;if(t>0)for(var r=this.count>=this.total?this.total:this.count,n=this.ring,i=0;i<r;i++){var o=t++%r;e.next(n[o])}e.complete()},t}(i.Subscriber)},2748:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(234),o=r(740);t.takeUntil=function(e){return function(t){return t.lift(new s(e))}};var s=function(){function e(e){this.notifier=e}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.notifier))},e}(),a=function(e){function t(t,r){e.call(this,t),this.notifier=r,this.add(o.subscribeToResult(this,r))}return n(t,e),t.prototype.notifyNext=function(e,t,r,n,i){this.complete()},t.prototype.notifyComplete=function(){},t}(i.OuterSubscriber)},67617:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(42741);t.takeWhile=function(e){return function(t){return t.lift(new o(e))}};var o=function(){function e(e){this.predicate=e}return e.prototype.call=function(e,t){return t.subscribe(new s(e,this.predicate))},e}(),s=function(e){function t(t,r){e.call(this,t),this.predicate=r,this.index=0}return n(t,e),t.prototype._next=function(e){var t,r=this.destination;try{t=this.predicate(e,this.index++)}catch(e){return void r.error(e)}this.nextOrComplete(e,t)},t.prototype.nextOrComplete=function(e,t){var r=this.destination;Boolean(t)?r.next(e):r.complete()},t}(i.Subscriber)},55324:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(42741);t.tap=function(e,t,r){return function(n){return n.lift(new o(e,t,r))}};var o=function(){function e(e,t,r){this.nextOrObserver=e,this.error=t,this.complete=r}return e.prototype.call=function(e,t){return t.subscribe(new s(e,this.nextOrObserver,this.error,this.complete))},e}(),s=function(e){function t(t,r,n,o){e.call(this,t);var s=new i.Subscriber(r,n,o);s.syncErrorThrowable=!0,this.add(s),this.safeSubscriber=s}return n(t,e),t.prototype._next=function(e){var t=this.safeSubscriber;t.next(e),t.syncErrorThrown?this.destination.error(t.syncErrorValue):this.destination.next(e)},t.prototype._error=function(e){var t=this.safeSubscriber;t.error(e),t.syncErrorThrown?this.destination.error(t.syncErrorValue):this.destination.error(e)},t.prototype._complete=function(){var e=this.safeSubscriber;e.complete(),e.syncErrorThrown?this.destination.error(e.syncErrorValue):this.destination.complete()},t}(i.Subscriber)},69613:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(234),o=r(740);t.defaultThrottleConfig={leading:!0,trailing:!1},t.throttle=function(e,r){return void 0===r&&(r=t.defaultThrottleConfig),function(t){return t.lift(new s(e,r.leading,r.trailing))}};var s=function(){function e(e,t,r){this.durationSelector=e,this.leading=t,this.trailing=r}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.durationSelector,this.leading,this.trailing))},e}(),a=function(e){function t(t,r,n,i){e.call(this,t),this.destination=t,this.durationSelector=r,this._leading=n,this._trailing=i,this._hasTrailingValue=!1}return n(t,e),t.prototype._next=function(e){if(this.throttled)this._trailing&&(this._hasTrailingValue=!0,this._trailingValue=e);else{var t=this.tryDurationSelector(e);t&&this.add(this.throttled=o.subscribeToResult(this,t)),this._leading&&(this.destination.next(e),this._trailing&&(this._hasTrailingValue=!0,this._trailingValue=e))}},t.prototype.tryDurationSelector=function(e){try{return this.durationSelector(e)}catch(e){return this.destination.error(e),null}},t.prototype._unsubscribe=function(){var e=this,t=e.throttled;e._trailingValue,e._hasTrailingValue,e._trailing,this._trailingValue=null,this._hasTrailingValue=!1,t&&(this.remove(t),this.throttled=null,t.unsubscribe())},t.prototype._sendTrailing=function(){var e=this,t=e.destination,r=e.throttled,n=e._trailing,i=e._trailingValue,o=e._hasTrailingValue;r&&n&&o&&(t.next(i),this._trailingValue=null,this._hasTrailingValue=!1)},t.prototype.notifyNext=function(e,t,r,n,i){this._sendTrailing(),this._unsubscribe()},t.prototype.notifyComplete=function(){this._sendTrailing(),this._unsubscribe()},t}(i.OuterSubscriber)},90808:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(42741),o=r(19545),s=r(69613);t.throttleTime=function(e,t,r){return void 0===t&&(t=o.async),void 0===r&&(r=s.defaultThrottleConfig),function(n){return n.lift(new a(e,t,r.leading,r.trailing))}};var a=function(){function e(e,t,r,n){this.duration=e,this.scheduler=t,this.leading=r,this.trailing=n}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.duration,this.scheduler,this.leading,this.trailing))},e}(),c=function(e){function t(t,r,n,i,o){e.call(this,t),this.duration=r,this.scheduler=n,this.leading=i,this.trailing=o,this._hasTrailingValue=!1,this._trailingValue=null}return n(t,e),t.prototype._next=function(e){this.throttled?this.trailing&&(this._trailingValue=e,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(u,this.duration,{subscriber:this})),this.leading&&this.destination.next(e))},t.prototype.clearThrottle=function(){var e=this.throttled;e&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),e.unsubscribe(),this.remove(e),this.throttled=null)},t}(i.Subscriber);function u(e){e.subscriber.clearThrottle()}},44169:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(42741),o=r(19545);t.timeInterval=function(e){return void 0===e&&(e=o.async),function(t){return t.lift(new a(e))}};var s=function(e,t){this.value=e,this.interval=t};t.TimeInterval=s;var a=function(){function e(e){this.scheduler=e}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.scheduler))},e}(),c=function(e){function t(t,r){e.call(this,t),this.scheduler=r,this.lastTime=0,this.lastTime=r.now()}return n(t,e),t.prototype._next=function(e){var t=this.scheduler.now(),r=t-this.lastTime;this.lastTime=t,this.destination.next(new s(e,r))},t}(i.Subscriber)},99858:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(19545),o=r(69410),s=r(42741),a=r(73297);t.timeout=function(e,t){void 0===t&&(t=i.async);var r=o.isDate(e),n=r?+e-t.now():Math.abs(e);return function(e){return e.lift(new c(n,r,t,new a.TimeoutError))}};var c=function(){function e(e,t,r,n){this.waitFor=e,this.absoluteTimeout=t,this.scheduler=r,this.errorInstance=n}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.absoluteTimeout,this.waitFor,this.scheduler,this.errorInstance))},e}(),u=function(e){function t(t,r,n,i,o){e.call(this,t),this.absoluteTimeout=r,this.waitFor=n,this.scheduler=i,this.errorInstance=o,this.action=null,this.scheduleTimeout()}return n(t,e),t.dispatchTimeout=function(e){e.error(e.errorInstance)},t.prototype.scheduleTimeout=function(){var e=this.action;e?this.action=e.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(t.dispatchTimeout,this.waitFor,this))},t.prototype._next=function(t){this.absoluteTimeout||this.scheduleTimeout(),e.prototype._next.call(this,t)},t.prototype._unsubscribe=function(){this.action=null,this.scheduler=null,this.errorInstance=null},t}(s.Subscriber)},52334:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(19545),o=r(69410),s=r(234),a=r(740);t.timeoutWith=function(e,t,r){return void 0===r&&(r=i.async),function(n){var i=o.isDate(e),s=i?+e-r.now():Math.abs(e);return n.lift(new c(s,i,t,r))}};var c=function(){function e(e,t,r,n){this.waitFor=e,this.absoluteTimeout=t,this.withObservable=r,this.scheduler=n}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))},e}(),u=function(e){function t(t,r,n,i,o){e.call(this,t),this.absoluteTimeout=r,this.waitFor=n,this.withObservable=i,this.scheduler=o,this.action=null,this.scheduleTimeout()}return n(t,e),t.dispatchTimeout=function(e){var t=e.withObservable;e._unsubscribeAndRecycle(),e.add(a.subscribeToResult(e,t))},t.prototype.scheduleTimeout=function(){var e=this.action;e?this.action=e.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(t.dispatchTimeout,this.waitFor,this))},t.prototype._next=function(t){this.absoluteTimeout||this.scheduleTimeout(),e.prototype._next.call(this,t)},t.prototype._unsubscribe=function(){this.action=null,this.scheduler=null,this.withObservable=null},t}(s.OuterSubscriber)},20153:(e,t,r)=>{var n=r(19545),i=r(15471);t.timestamp=function(e){return void 0===e&&(e=n.async),i.map((function(t){return new o(t,e.now())}))};var o=function(e,t){this.value=e,this.timestamp=t};t.Timestamp=o},45687:(e,t,r)=>{var n=r(80147);function i(e,t,r){return 0===r?[t]:(e.push(t),e)}t.toArray=function(){return n.reduce(i,[])}},71861:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(99731),o=r(234),s=r(740);t.window=function(e){return function(t){return t.lift(new a(e))}};var a=function(){function e(e){this.windowBoundaries=e}return e.prototype.call=function(e,t){var r=new c(e),n=t.subscribe(r);return n.closed||r.add(s.subscribeToResult(r,this.windowBoundaries)),n},e}(),c=function(e){function t(t){e.call(this,t),this.window=new i.Subject,t.next(this.window)}return n(t,e),t.prototype.notifyNext=function(e,t,r,n,i){this.openWindow()},t.prototype.notifyError=function(e,t){this._error(e)},t.prototype.notifyComplete=function(e){this._complete()},t.prototype._next=function(e){this.window.next(e)},t.prototype._error=function(e){this.window.error(e),this.destination.error(e)},t.prototype._complete=function(){this.window.complete(),this.destination.complete()},t.prototype._unsubscribe=function(){this.window=null},t.prototype.openWindow=function(){var e=this.window;e&&e.complete();var t=this.destination,r=this.window=new i.Subject;t.next(r)},t}(o.OuterSubscriber)},34154:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(42741),o=r(99731);t.windowCount=function(e,t){return void 0===t&&(t=0),function(r){return r.lift(new s(e,t))}};var s=function(){function e(e,t){this.windowSize=e,this.startWindowEvery=t}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.windowSize,this.startWindowEvery))},e}(),a=function(e){function t(t,r,n){e.call(this,t),this.destination=t,this.windowSize=r,this.startWindowEvery=n,this.windows=[new o.Subject],this.count=0,t.next(this.windows[0])}return n(t,e),t.prototype._next=function(e){for(var t=this.startWindowEvery>0?this.startWindowEvery:this.windowSize,r=this.destination,n=this.windowSize,i=this.windows,s=i.length,a=0;a<s&&!this.closed;a++)i[a].next(e);var c=this.count-n+1;if(c>=0&&c%t==0&&!this.closed&&i.shift().complete(),++this.count%t==0&&!this.closed){var u=new o.Subject;i.push(u),r.next(u)}},t.prototype._error=function(e){var t=this.windows;if(t)for(;t.length>0&&!this.closed;)t.shift().error(e);this.destination.error(e)},t.prototype._complete=function(){var e=this.windows;if(e)for(;e.length>0&&!this.closed;)e.shift().complete();this.destination.complete()},t.prototype._unsubscribe=function(){this.count=0,this.windows=null},t}(i.Subscriber)},53600:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(99731),o=r(19545),s=r(42741),a=r(11239),c=r(57733);t.windowTime=function(e){var t=o.async,r=null,n=Number.POSITIVE_INFINITY;return c.isScheduler(arguments[3])&&(t=arguments[3]),c.isScheduler(arguments[2])?t=arguments[2]:a.isNumeric(arguments[2])&&(n=arguments[2]),c.isScheduler(arguments[1])?t=arguments[1]:a.isNumeric(arguments[1])&&(r=arguments[1]),function(i){return i.lift(new u(e,r,n,t))}};var u=function(){function e(e,t,r,n){this.windowTimeSpan=e,this.windowCreationInterval=t,this.maxWindowSize=r,this.scheduler=n}return e.prototype.call=function(e,t){return t.subscribe(new f(e,this.windowTimeSpan,this.windowCreationInterval,this.maxWindowSize,this.scheduler))},e}(),l=function(e){function t(){e.apply(this,arguments),this._numberOfNextedValues=0}return n(t,e),t.prototype.next=function(t){this._numberOfNextedValues++,e.prototype.next.call(this,t)},Object.defineProperty(t.prototype,"numberOfNextedValues",{get:function(){return this._numberOfNextedValues},enumerable:!0,configurable:!0}),t}(i.Subject),f=function(e){function t(t,r,n,i,o){e.call(this,t),this.destination=t,this.windowTimeSpan=r,this.windowCreationInterval=n,this.maxWindowSize=i,this.scheduler=o,this.windows=[];var s=this.openWindow();if(null!==n&&n>=0){var a={subscriber:this,window:s,context:null},c={windowTimeSpan:r,windowCreationInterval:n,subscriber:this,scheduler:o};this.add(o.schedule(p,r,a)),this.add(o.schedule(d,n,c))}else{var u={subscriber:this,window:s,windowTimeSpan:r};this.add(o.schedule(h,r,u))}}return n(t,e),t.prototype._next=function(e){for(var t=this.windows,r=t.length,n=0;n<r;n++){var i=t[n];i.closed||(i.next(e),i.numberOfNextedValues>=this.maxWindowSize&&this.closeWindow(i))}},t.prototype._error=function(e){for(var t=this.windows;t.length>0;)t.shift().error(e);this.destination.error(e)},t.prototype._complete=function(){for(var e=this.windows;e.length>0;){var t=e.shift();t.closed||t.complete()}this.destination.complete()},t.prototype.openWindow=function(){var e=new l;return this.windows.push(e),this.destination.next(e),e},t.prototype.closeWindow=function(e){e.complete();var t=this.windows;t.splice(t.indexOf(e),1)},t}(s.Subscriber);function h(e){var t=e.subscriber,r=e.windowTimeSpan,n=e.window;n&&t.closeWindow(n),e.window=t.openWindow(),this.schedule(e,r)}function d(e){var t=e.windowTimeSpan,r=e.subscriber,n=e.scheduler,i=e.windowCreationInterval,o=r.openWindow(),s=this,a={action:s,subscription:null},c={subscriber:r,window:o,context:a};a.subscription=n.schedule(p,t,c),s.add(a.subscription),s.schedule(e,i)}function p(e){var t=e.subscriber,r=e.window,n=e.context;n&&n.action&&n.subscription&&n.action.remove(n.subscription),t.closeWindow(r)}},21341:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(99731),o=r(36446),s=r(36786),a=r(70817),c=r(234),u=r(740);t.windowToggle=function(e,t){return function(r){return r.lift(new l(e,t))}};var l=function(){function e(e,t){this.openings=e,this.closingSelector=t}return e.prototype.call=function(e,t){return t.subscribe(new f(e,this.openings,this.closingSelector))},e}(),f=function(e){function t(t,r,n){e.call(this,t),this.openings=r,this.closingSelector=n,this.contexts=[],this.add(this.openSubscription=u.subscribeToResult(this,r,r))}return n(t,e),t.prototype._next=function(e){var t=this.contexts;if(t)for(var r=t.length,n=0;n<r;n++)t[n].window.next(e)},t.prototype._error=function(t){var r=this.contexts;if(this.contexts=null,r)for(var n=r.length,i=-1;++i<n;){var o=r[i];o.window.error(t),o.subscription.unsubscribe()}e.prototype._error.call(this,t)},t.prototype._complete=function(){var t=this.contexts;if(this.contexts=null,t)for(var r=t.length,n=-1;++n<r;){var i=t[n];i.window.complete(),i.subscription.unsubscribe()}e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){var e=this.contexts;if(this.contexts=null,e)for(var t=e.length,r=-1;++r<t;){var n=e[r];n.window.unsubscribe(),n.subscription.unsubscribe()}},t.prototype.notifyNext=function(e,t,r,n,c){if(e===this.openings){var l=this.closingSelector,f=s.tryCatch(l)(t);if(f===a.errorObject)return this.error(a.errorObject.e);var h=new i.Subject,d=new o.Subscription,p={window:h,subscription:d};this.contexts.push(p);var y=u.subscribeToResult(this,f,p);y.closed?this.closeWindow(this.contexts.length-1):(y.context=p,d.add(y)),this.destination.next(h)}else this.closeWindow(this.contexts.indexOf(e))},t.prototype.notifyError=function(e){this.error(e)},t.prototype.notifyComplete=function(e){e!==this.openSubscription&&this.closeWindow(this.contexts.indexOf(e.context))},t.prototype.closeWindow=function(e){if(-1!==e){var t=this.contexts,r=t[e],n=r.window,i=r.subscription;t.splice(e,1),n.complete(),i.unsubscribe()}},t}(c.OuterSubscriber)},99589:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(99731),o=r(36786),s=r(70817),a=r(234),c=r(740);t.windowWhen=function(e){return function(t){return t.lift(new u(e))}};var u=function(){function e(e){this.closingSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new l(e,this.closingSelector))},e}(),l=function(e){function t(t,r){e.call(this,t),this.destination=t,this.closingSelector=r,this.openWindow()}return n(t,e),t.prototype.notifyNext=function(e,t,r,n,i){this.openWindow(i)},t.prototype.notifyError=function(e,t){this._error(e)},t.prototype.notifyComplete=function(e){this.openWindow(e)},t.prototype._next=function(e){this.window.next(e)},t.prototype._error=function(e){this.window.error(e),this.destination.error(e),this.unsubscribeClosingNotification()},t.prototype._complete=function(){this.window.complete(),this.destination.complete(),this.unsubscribeClosingNotification()},t.prototype.unsubscribeClosingNotification=function(){this.closingNotification&&this.closingNotification.unsubscribe()},t.prototype.openWindow=function(e){void 0===e&&(e=null),e&&(this.remove(e),e.unsubscribe());var t=this.window;t&&t.complete();var r=this.window=new i.Subject;this.destination.next(r);var n=o.tryCatch(this.closingSelector)();if(n===s.errorObject){var a=s.errorObject.e;this.destination.error(a),this.window.error(a)}else this.add(this.closingNotification=c.subscribeToResult(this,n))},t}(a.OuterSubscriber)},95250:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(234),o=r(740);t.withLatestFrom=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return function(t){var r;"function"==typeof e[e.length-1]&&(r=e.pop());var n=e;return t.lift(new s(n,r))}};var s=function(){function e(e,t){this.observables=e,this.project=t}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.observables,this.project))},e}(),a=function(e){function t(t,r,n){e.call(this,t),this.observables=r,this.project=n,this.toRespond=[];var i=r.length;this.values=new Array(i);for(var s=0;s<i;s++)this.toRespond.push(s);for(s=0;s<i;s++){var a=r[s];this.add(o.subscribeToResult(this,a,a,s))}}return n(t,e),t.prototype.notifyNext=function(e,t,r,n,i){this.values[r]=t;var o=this.toRespond;if(o.length>0){var s=o.indexOf(r);-1!==s&&o.splice(s,1)}},t.prototype.notifyComplete=function(){},t.prototype._next=function(e){if(0===this.toRespond.length){var t=[e].concat(this.values);this.project?this._tryProject(t):this.destination.next(t)}},t.prototype._tryProject=function(e){var t;try{t=this.project.apply(this,e)}catch(e){return void this.destination.error(e)}this.destination.next(t)},t}(i.OuterSubscriber)},98702:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(80757),o=r(18033),s=r(42741),a=r(234),c=r(740),u=r(78380);function l(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];var r=e[e.length-1];return"function"==typeof r&&e.pop(),new i.ArrayObservable(e).lift(new f(r))}t.zip=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return function(t){return t.lift.call(l.apply(void 0,[t].concat(e)))}},t.zipStatic=l;var f=function(){function e(e){this.project=e}return e.prototype.call=function(e,t){return t.subscribe(new h(e,this.project))},e}();t.ZipOperator=f;var h=function(e){function t(t,r,n){void 0===n&&(n=Object.create(null)),e.call(this,t),this.iterators=[],this.active=0,this.project="function"==typeof r?r:null,this.values=n}return n(t,e),t.prototype._next=function(e){var t=this.iterators;o.isArray(e)?t.push(new p(e)):"function"==typeof e[u.iterator]?t.push(new d(e[u.iterator]())):t.push(new y(this.destination,this,e))},t.prototype._complete=function(){var e=this.iterators,t=e.length;if(0!==t){this.active=t;for(var r=0;r<t;r++){var n=e[r];n.stillUnsubscribed?this.add(n.subscribe(n,r)):this.active--}}else this.destination.complete()},t.prototype.notifyInactive=function(){this.active--,0===this.active&&this.destination.complete()},t.prototype.checkIterators=function(){for(var e=this.iterators,t=e.length,r=this.destination,n=0;n<t;n++)if("function"==typeof(s=e[n]).hasValue&&!s.hasValue())return;var i=!1,o=[];for(n=0;n<t;n++){var s,a=(s=e[n]).next();if(s.hasCompleted()&&(i=!0),a.done)return void r.complete();o.push(a.value)}this.project?this._tryProject(o):r.next(o),i&&r.complete()},t.prototype._tryProject=function(e){var t;try{t=this.project.apply(this,e)}catch(e){return void this.destination.error(e)}this.destination.next(t)},t}(s.Subscriber);t.ZipSubscriber=h;var d=function(){function e(e){this.iterator=e,this.nextResult=e.next()}return e.prototype.hasValue=function(){return!0},e.prototype.next=function(){var e=this.nextResult;return this.nextResult=this.iterator.next(),e},e.prototype.hasCompleted=function(){var e=this.nextResult;return e&&e.done},e}(),p=function(){function e(e){this.array=e,this.index=0,this.length=0,this.length=e.length}return e.prototype[u.iterator]=function(){return this},e.prototype.next=function(e){var t=this.index++,r=this.array;return t<this.length?{value:r[t],done:!1}:{value:null,done:!0}},e.prototype.hasValue=function(){return this.array.length>this.index},e.prototype.hasCompleted=function(){return this.array.length===this.index},e}(),y=function(e){function t(t,r,n){e.call(this,t),this.parent=r,this.observable=n,this.stillUnsubscribed=!0,this.buffer=[],this.isComplete=!1}return n(t,e),t.prototype[u.iterator]=function(){return this},t.prototype.next=function(){var e=this.buffer;return 0===e.length&&this.isComplete?{value:null,done:!0}:{value:e.shift(),done:!1}},t.prototype.hasValue=function(){return this.buffer.length>0},t.prototype.hasCompleted=function(){return 0===this.buffer.length&&this.isComplete},t.prototype.notifyComplete=function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},t.prototype.notifyNext=function(e,t,r,n,i){this.buffer.push(t),this.parent.checkIterators()},t.prototype.subscribe=function(e,t){return c.subscribeToResult(this,this.observable,this,t)},t}(a.OuterSubscriber)},93195:(e,t,r)=>{var n=r(98702);t.zipAll=function(e){return function(t){return t.lift(new n.ZipOperator(e))}}},54575:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=function(e){function t(t,r){e.call(this)}return n(t,e),t.prototype.schedule=function(e,t){return void 0===t&&(t=0),this},t}(r(36446).Subscription);t.Action=i},51140:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(94787),o=r(10961),s=function(e){function t(t,r){e.call(this,t,r),this.scheduler=t,this.work=r}return n(t,e),t.prototype.requestAsyncId=function(t,r,n){return void 0===n&&(n=0),null!==n&&n>0?e.prototype.requestAsyncId.call(this,t,r,n):(t.actions.push(this),t.scheduled||(t.scheduled=o.AnimationFrame.requestAnimationFrame(t.flush.bind(t,null))))},t.prototype.recycleAsyncId=function(t,r,n){if(void 0===n&&(n=0),null!==n&&n>0||null===n&&this.delay>0)return e.prototype.recycleAsyncId.call(this,t,r,n);0===t.actions.length&&(o.AnimationFrame.cancelAnimationFrame(r),t.scheduled=void 0)},t}(i.AsyncAction);t.AnimationFrameAction=s},28621:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=function(e){function t(){e.apply(this,arguments)}return n(t,e),t.prototype.flush=function(e){this.active=!0,this.scheduled=void 0;var t,r=this.actions,n=-1,i=r.length;e=e||r.shift();do{if(t=e.execute(e.state,e.delay))break}while(++n<i&&(e=r.shift()));if(this.active=!1,t){for(;++n<i&&(e=r.shift());)e.unsubscribe();throw t}},t}(r(75184).AsyncScheduler);t.AnimationFrameScheduler=i},20798:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(73037),o=function(e){function t(t,r){e.call(this,t,r),this.scheduler=t,this.work=r}return n(t,e),t.prototype.requestAsyncId=function(t,r,n){return void 0===n&&(n=0),null!==n&&n>0?e.prototype.requestAsyncId.call(this,t,r,n):(t.actions.push(this),t.scheduled||(t.scheduled=i.Immediate.setImmediate(t.flush.bind(t,null))))},t.prototype.recycleAsyncId=function(t,r,n){if(void 0===n&&(n=0),null!==n&&n>0||null===n&&this.delay>0)return e.prototype.recycleAsyncId.call(this,t,r,n);0===t.actions.length&&(i.Immediate.clearImmediate(r),t.scheduled=void 0)},t}(r(94787).AsyncAction);t.AsapAction=o},10155:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=function(e){function t(){e.apply(this,arguments)}return n(t,e),t.prototype.flush=function(e){this.active=!0,this.scheduled=void 0;var t,r=this.actions,n=-1,i=r.length;e=e||r.shift();do{if(t=e.execute(e.state,e.delay))break}while(++n<i&&(e=r.shift()));if(this.active=!1,t){for(;++n<i&&(e=r.shift());)e.unsubscribe();throw t}},t}(r(75184).AsyncScheduler);t.AsapScheduler=i},94787:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(26854),o=function(e){function t(t,r){e.call(this,t,r),this.scheduler=t,this.work=r,this.pending=!1}return n(t,e),t.prototype.schedule=function(e,t){if(void 0===t&&(t=0),this.closed)return this;this.state=e,this.pending=!0;var r=this.id,n=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(n,r,t)),this.delay=t,this.id=this.id||this.requestAsyncId(n,this.id,t),this},t.prototype.requestAsyncId=function(e,t,r){return void 0===r&&(r=0),i.root.setInterval(e.flush.bind(e,this),r)},t.prototype.recycleAsyncId=function(e,t,r){if(void 0===r&&(r=0),null!==r&&this.delay===r&&!1===this.pending)return t;i.root.clearInterval(t)},t.prototype.execute=function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(e,t){var r=!1,n=void 0;try{this.work(e)}catch(e){r=!0,n=!!e&&e||new Error(e)}if(r)return this.unsubscribe(),n},t.prototype._unsubscribe=function(){var e=this.id,t=this.scheduler,r=t.actions,n=r.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==n&&r.splice(n,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null},t}(r(54575).Action);t.AsyncAction=o},75184:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=function(e){function t(){e.apply(this,arguments),this.actions=[],this.active=!1,this.scheduled=void 0}return n(t,e),t.prototype.flush=function(e){var t=this.actions;if(this.active)t.push(e);else{var r;this.active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}},t}(r(62570).Scheduler);t.AsyncScheduler=i},19524:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=function(e){function t(t,r){e.call(this,t,r),this.scheduler=t,this.work=r}return n(t,e),t.prototype.schedule=function(t,r){return void 0===r&&(r=0),r>0?e.prototype.schedule.call(this,t,r):(this.delay=r,this.state=t,this.scheduler.flush(this),this)},t.prototype.execute=function(t,r){return r>0||this.closed?e.prototype.execute.call(this,t,r):this._execute(t,r)},t.prototype.requestAsyncId=function(t,r,n){return void 0===n&&(n=0),null!==n&&n>0||null===n&&this.delay>0?e.prototype.requestAsyncId.call(this,t,r,n):t.flush(this)},t}(r(94787).AsyncAction);t.QueueAction=i},41133:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=function(e){function t(){e.apply(this,arguments)}return n(t,e),t}(r(75184).AsyncScheduler);t.QueueScheduler=i},83446:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(94787),o=function(e){function t(t,r){var n=this;void 0===t&&(t=s),void 0===r&&(r=Number.POSITIVE_INFINITY),e.call(this,t,(function(){return n.frame})),this.maxFrames=r,this.frame=0,this.index=-1}return n(t,e),t.prototype.flush=function(){for(var e,t,r=this.actions,n=this.maxFrames;(t=r.shift())&&(this.frame=t.delay)<=n&&!(e=t.execute(t.state,t.delay)););if(e){for(;t=r.shift();)t.unsubscribe();throw e}},t.frameTimeFactor=10,t}(r(75184).AsyncScheduler);t.VirtualTimeScheduler=o;var s=function(e){function t(t,r,n){void 0===n&&(n=t.index+=1),e.call(this,t,r),this.scheduler=t,this.work=r,this.index=n,this.active=!0,this.index=t.index=n}return n(t,e),t.prototype.schedule=function(r,n){if(void 0===n&&(n=0),!this.id)return e.prototype.schedule.call(this,r,n);this.active=!1;var i=new t(this.scheduler,this.work);return this.add(i),i.schedule(r,n)},t.prototype.requestAsyncId=function(e,r,n){void 0===n&&(n=0),this.delay=e.frame+n;var i=e.actions;return i.push(this),i.sort(t.sortActions),!0},t.prototype.recycleAsyncId=function(e,t,r){void 0===r&&(r=0)},t.prototype._execute=function(t,r){if(!0===this.active)return e.prototype._execute.call(this,t,r)},t.sortActions=function(e,t){return e.delay===t.delay?e.index===t.index?0:e.index>t.index?1:-1:e.delay>t.delay?1:-1},t}(i.AsyncAction);t.VirtualAction=s},43190:(e,t,r)=>{var n=r(51140),i=r(28621);t.animationFrame=new i.AnimationFrameScheduler(n.AnimationFrameAction)},16732:(e,t,r)=>{var n=r(20798),i=r(10155);t.asap=new i.AsapScheduler(n.AsapAction)},19545:(e,t,r)=>{var n=r(94787),i=r(75184);t.async=new i.AsyncScheduler(n.AsyncAction)},27670:(e,t,r)=>{var n=r(19524),i=r(41133);t.queue=new i.QueueScheduler(n.QueueAction)},78380:(e,t,r)=>{var n=r(26854);function i(e){var t=e.Symbol;if("function"==typeof t)return t.iterator||(t.iterator=t("iterator polyfill")),t.iterator;var r=e.Set;if(r&&"function"==typeof(new r)["@@iterator"])return"@@iterator";var n=e.Map;if(n)for(var i=Object.getOwnPropertyNames(n.prototype),o=0;o<i.length;++o){var s=i[o];if("entries"!==s&&"size"!==s&&n.prototype[s]===n.prototype.entries)return s}return"@@iterator"}t.symbolIteratorPonyfill=i,t.iterator=i(n.root),t.$$iterator=t.iterator},85999:(e,t,r)=>{var n=r(26854);function i(e){var t,r=e.Symbol;return"function"==typeof r?r.observable?t=r.observable:(t=r("observable"),r.observable=t):t="@@observable",t}t.getSymbolObservable=i,t.observable=i(n.root),t.$$observable=t.observable},22522:(e,t,r)=>{var n=r(26854).root.Symbol;t.rxSubscriber="function"==typeof n&&"function"==typeof n.for?n.for("rxSubscriber"):"@@rxSubscriber",t.$$rxSubscriber=t.rxSubscriber},10173:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(91638),o=r(36446),s=r(32620),a=r(88770),c=function(e){function t(t,r){e.call(this,(function(e){var t=this,r=t.logSubscribedFrame();return e.add(new o.Subscription((function(){t.logUnsubscribedFrame(r)}))),t.scheduleMessages(e),e})),this.messages=t,this.subscriptions=[],this.scheduler=r}return n(t,e),t.prototype.scheduleMessages=function(e){for(var t=this.messages.length,r=0;r<t;r++){var n=this.messages[r];e.add(this.scheduler.schedule((function(e){var t=e.message,r=e.subscriber;t.notification.observe(r)}),n.frame,{message:n,subscriber:e}))}},t}(i.Observable);t.ColdObservable=c,a.applyMixins(c,[s.SubscriptionLoggable])},81598:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(99731),o=r(36446),s=r(32620),a=r(88770),c=function(e){function t(t,r){e.call(this),this.messages=t,this.subscriptions=[],this.scheduler=r}return n(t,e),t.prototype._subscribe=function(t){var r=this,n=r.logSubscribedFrame();return t.add(new o.Subscription((function(){r.logUnsubscribedFrame(n)}))),e.prototype._subscribe.call(this,t)},t.prototype.setup=function(){for(var e=this,t=e.messages.length,r=0;r<t;r++)!function(){var t=e.messages[r];e.scheduler.schedule((function(){t.notification.observe(e)}),t.frame)}()},t}(i.Subject);t.HotObservable=c,a.applyMixins(c,[s.SubscriptionLoggable])},5905:(e,t)=>{t.SubscriptionLog=function(e,t){void 0===t&&(t=Number.POSITIVE_INFINITY),this.subscribedFrame=e,this.unsubscribedFrame=t}},32620:(e,t,r)=>{var n=r(5905),i=function(){function e(){this.subscriptions=[]}return e.prototype.logSubscribedFrame=function(){return this.subscriptions.push(new n.SubscriptionLog(this.scheduler.now())),this.subscriptions.length-1},e.prototype.logUnsubscribedFrame=function(e){var t=this.subscriptions,r=t[e];t[e]=new n.SubscriptionLog(r.subscribedFrame,this.scheduler.now())},e}();t.SubscriptionLoggable=i},82517:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(91638),o=r(25944),s=r(10173),a=r(81598),c=r(5905),u=r(83446),l=function(e){function t(t){e.call(this,u.VirtualAction,750),this.assertDeepEqual=t,this.hotObservables=[],this.coldObservables=[],this.flushTests=[]}return n(t,e),t.prototype.createTime=function(e){var r=e.indexOf("|");if(-1===r)throw new Error('marble diagram for time should have a completion marker "|"');return r*t.frameTimeFactor},t.prototype.createColdObservable=function(e,r,n){if(-1!==e.indexOf("^"))throw new Error('cold observable cannot have subscription offset "^"');if(-1!==e.indexOf("!"))throw new Error('cold observable cannot have unsubscription marker "!"');var i=t.parseMarbles(e,r,n),o=new s.ColdObservable(i,this);return this.coldObservables.push(o),o},t.prototype.createHotObservable=function(e,r,n){if(-1!==e.indexOf("!"))throw new Error('hot observable cannot have unsubscription marker "!"');var i=t.parseMarbles(e,r,n),o=new a.HotObservable(i,this);return this.hotObservables.push(o),o},t.prototype.materializeInnerObservable=function(e,t){var r=this,n=[];return e.subscribe((function(e){n.push({frame:r.frame-t,notification:o.Notification.createNext(e)})}),(function(e){n.push({frame:r.frame-t,notification:o.Notification.createError(e)})}),(function(){n.push({frame:r.frame-t,notification:o.Notification.createComplete()})})),n},t.prototype.expectObservable=function(e,r){var n=this;void 0===r&&(r=null);var s,a=[],c={actual:a,ready:!1},u=t.parseMarblesAsSubscriptions(r).unsubscribedFrame;return this.schedule((function(){s=e.subscribe((function(e){var t=e;e instanceof i.Observable&&(t=n.materializeInnerObservable(t,n.frame)),a.push({frame:n.frame,notification:o.Notification.createNext(t)})}),(function(e){a.push({frame:n.frame,notification:o.Notification.createError(e)})}),(function(){a.push({frame:n.frame,notification:o.Notification.createComplete()})}))}),0),u!==Number.POSITIVE_INFINITY&&this.schedule((function(){return s.unsubscribe()}),u),this.flushTests.push(c),{toBe:function(e,r,n){c.ready=!0,c.expected=t.parseMarbles(e,r,n,!0)}}},t.prototype.expectSubscriptions=function(e){var r={actual:e,ready:!1};return this.flushTests.push(r),{toBe:function(e){var n="string"==typeof e?[e]:e;r.ready=!0,r.expected=n.map((function(e){return t.parseMarblesAsSubscriptions(e)}))}}},t.prototype.flush=function(){for(var t=this.hotObservables;t.length>0;)t.shift().setup();e.prototype.flush.call(this);for(var r=this.flushTests.filter((function(e){return e.ready}));r.length>0;){var n=r.shift();this.assertDeepEqual(n.actual,n.expected)}},t.parseMarblesAsSubscriptions=function(e){if("string"!=typeof e)return new c.SubscriptionLog(Number.POSITIVE_INFINITY);for(var t=e.length,r=-1,n=Number.POSITIVE_INFINITY,i=Number.POSITIVE_INFINITY,o=0;o<t;o++){var s=o*this.frameTimeFactor,a=e[o];switch(a){case"-":case" ":break;case"(":r=s;break;case")":r=-1;break;case"^":if(n!==Number.POSITIVE_INFINITY)throw new Error("found a second subscription point '^' in a subscription marble diagram. There can only be one.");n=r>-1?r:s;break;case"!":if(i!==Number.POSITIVE_INFINITY)throw new Error("found a second subscription point '^' in a subscription marble diagram. There can only be one.");i=r>-1?r:s;break;default:throw new Error("there can only be '^' and '!' markers in a subscription marble diagram. Found instead '"+a+"'.")}}return i<0?new c.SubscriptionLog(n):new c.SubscriptionLog(n,i)},t.parseMarbles=function(e,t,r,n){if(void 0===n&&(n=!1),-1!==e.indexOf("!"))throw new Error('conventional marble diagrams cannot have the unsubscription marker "!"');for(var i=e.length,a=[],c=e.indexOf("^"),u=-1===c?0:c*-this.frameTimeFactor,l="object"!=typeof t?function(e){return e}:function(e){return n&&t[e]instanceof s.ColdObservable?t[e].messages:t[e]},f=-1,h=0;h<i;h++){var d=h*this.frameTimeFactor+u,p=void 0,y=e[h];switch(y){case"-":case" ":case"^":break;case"(":f=d;break;case")":f=-1;break;case"|":p=o.Notification.createComplete();break;case"#":p=o.Notification.createError(r||"error");break;default:p=o.Notification.createNext(l(y))}p&&a.push({frame:f>-1?f:d,notification:p})}return a},t}(u.VirtualTimeScheduler);t.TestScheduler=l},10961:(e,t,r)=>{var n=r(26854),i=function(e){e.requestAnimationFrame?(this.cancelAnimationFrame=e.cancelAnimationFrame.bind(e),this.requestAnimationFrame=e.requestAnimationFrame.bind(e)):e.mozRequestAnimationFrame?(this.cancelAnimationFrame=e.mozCancelAnimationFrame.bind(e),this.requestAnimationFrame=e.mozRequestAnimationFrame.bind(e)):e.webkitRequestAnimationFrame?(this.cancelAnimationFrame=e.webkitCancelAnimationFrame.bind(e),this.requestAnimationFrame=e.webkitRequestAnimationFrame.bind(e)):e.msRequestAnimationFrame?(this.cancelAnimationFrame=e.msCancelAnimationFrame.bind(e),this.requestAnimationFrame=e.msRequestAnimationFrame.bind(e)):e.oRequestAnimationFrame?(this.cancelAnimationFrame=e.oCancelAnimationFrame.bind(e),this.requestAnimationFrame=e.oRequestAnimationFrame.bind(e)):(this.cancelAnimationFrame=e.clearTimeout.bind(e),this.requestAnimationFrame=function(t){return e.setTimeout(t,1e3/60)})};t.RequestAnimationFrameDefinition=i,t.AnimationFrame=new i(n.root)},5169:function(e,t){var r=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},n=function(e){function t(){var t=e.call(this,"argument out of range");this.name=t.name="ArgumentOutOfRangeError",this.stack=t.stack,this.message=t.message}return r(t,e),t}(Error);t.ArgumentOutOfRangeError=n},64871:function(e,t){var r=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},n=function(e){function t(){var t=e.call(this,"no elements in sequence");this.name=t.name="EmptyError",this.stack=t.stack,this.message=t.message}return r(t,e),t}(Error);t.EmptyError=n},78724:(e,t)=>{var r=function(){function e(){this.values={}}return e.prototype.delete=function(e){return this.values[e]=null,!0},e.prototype.set=function(e,t){return this.values[e]=t,this},e.prototype.get=function(e){return this.values[e]},e.prototype.forEach=function(e,t){var r=this.values;for(var n in r)r.hasOwnProperty(n)&&null!==r[n]&&e.call(t,r[n],n)},e.prototype.clear=function(){this.values={}},e}();t.FastMap=r},73037:(e,t,r)=>{var n=r(26854),i=function(){function e(e){if(this.root=e,e.setImmediate&&"function"==typeof e.setImmediate)this.setImmediate=e.setImmediate.bind(e),this.clearImmediate=e.clearImmediate.bind(e);else{this.nextHandle=1,this.tasksByHandle={},this.currentlyRunningATask=!1,this.canUseProcessNextTick()?this.setImmediate=this.createProcessNextTickSetImmediate():this.canUsePostMessage()?this.setImmediate=this.createPostMessageSetImmediate():this.canUseMessageChannel()?this.setImmediate=this.createMessageChannelSetImmediate():this.canUseReadyStateChange()?this.setImmediate=this.createReadyStateChangeSetImmediate():this.setImmediate=this.createSetTimeoutSetImmediate();var t=function e(t){delete e.instance.tasksByHandle[t]};t.instance=this,this.clearImmediate=t}}return e.prototype.identify=function(e){return this.root.Object.prototype.toString.call(e)},e.prototype.canUseProcessNextTick=function(){return"[object process]"===this.identify(this.root.process)},e.prototype.canUseMessageChannel=function(){return Boolean(this.root.MessageChannel)},e.prototype.canUseReadyStateChange=function(){var e=this.root.document;return Boolean(e&&"onreadystatechange"in e.createElement("script"))},e.prototype.canUsePostMessage=function(){var e=this.root;if(e.postMessage&&!e.importScripts){var t=!0,r=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=r,t}return!1},e.prototype.partiallyApplied=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var n=function e(){var t=e.handler,r=e.args;"function"==typeof t?t.apply(void 0,r):new Function(""+t)()};return n.handler=e,n.args=t,n},e.prototype.addFromSetImmediateArguments=function(e){return this.tasksByHandle[this.nextHandle]=this.partiallyApplied.apply(void 0,e),this.nextHandle++},e.prototype.createProcessNextTickSetImmediate=function(){var e=function e(){var t=e.instance,r=t.addFromSetImmediateArguments(arguments);return t.root.process.nextTick(t.partiallyApplied(t.runIfPresent,r)),r};return e.instance=this,e},e.prototype.createPostMessageSetImmediate=function(){var e=this.root,t="setImmediate$"+e.Math.random()+"$",r=function r(n){var i=r.instance;n.source===e&&"string"==typeof n.data&&0===n.data.indexOf(t)&&i.runIfPresent(+n.data.slice(t.length))};r.instance=this,e.addEventListener("message",r,!1);var n=function e(){var t=e.messagePrefix,r=e.instance,n=r.addFromSetImmediateArguments(arguments);return r.root.postMessage(t+n,"*"),n};return n.instance=this,n.messagePrefix=t,n},e.prototype.runIfPresent=function(e){if(this.currentlyRunningATask)this.root.setTimeout(this.partiallyApplied(this.runIfPresent,e),0);else{var t=this.tasksByHandle[e];if(t){this.currentlyRunningATask=!0;try{t()}finally{this.clearImmediate(e),this.currentlyRunningATask=!1}}}},e.prototype.createMessageChannelSetImmediate=function(){var e=this,t=new this.root.MessageChannel;t.port1.onmessage=function(t){var r=t.data;e.runIfPresent(r)};var r=function e(){var t=e.channel,r=e.instance.addFromSetImmediateArguments(arguments);return t.port2.postMessage(r),r};return r.channel=t,r.instance=this,r},e.prototype.createReadyStateChangeSetImmediate=function(){var e=function e(){var t=e.instance,r=t.root.document,n=r.documentElement,i=t.addFromSetImmediateArguments(arguments),o=r.createElement("script");return o.onreadystatechange=function(){t.runIfPresent(i),o.onreadystatechange=null,n.removeChild(o),o=null},n.appendChild(o),i};return e.instance=this,e},e.prototype.createSetTimeoutSetImmediate=function(){var e=function e(){var t=e.instance,r=t.addFromSetImmediateArguments(arguments);return t.root.setTimeout(t.partiallyApplied(t.runIfPresent,r),0),r};return e.instance=this,e},e}();t.ImmediateDefinition=i,t.Immediate=new i(n.root)},57122:(e,t,r)=>{var n=r(26854),i=r(17253);t.Map=n.root.Map||i.MapPolyfill},17253:(e,t)=>{var r=function(){function e(){this.size=0,this._values=[],this._keys=[]}return e.prototype.get=function(e){var t=this._keys.indexOf(e);return-1===t?void 0:this._values[t]},e.prototype.set=function(e,t){var r=this._keys.indexOf(e);return-1===r?(this._keys.push(e),this._values.push(t),this.size++):this._values[r]=t,this},e.prototype.delete=function(e){var t=this._keys.indexOf(e);return-1!==t&&(this._values.splice(t,1),this._keys.splice(t,1),this.size--,!0)},e.prototype.clear=function(){this._keys.length=0,this._values.length=0,this.size=0},e.prototype.forEach=function(e,t){for(var r=0;r<this.size;r++)e.call(t,this._values[r],this._keys[r])},e}();t.MapPolyfill=r},49830:function(e,t){var r=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},n=function(e){function t(){var t=e.call(this,"object unsubscribed");this.name=t.name="ObjectUnsubscribedError",this.stack=t.stack,this.message=t.message}return r(t,e),t}(Error);t.ObjectUnsubscribedError=n},1752:(e,t,r)=>{var n=r(26854);function i(){return function(){function e(){this._values=[]}return e.prototype.add=function(e){this.has(e)||this._values.push(e)},e.prototype.has=function(e){return-1!==this._values.indexOf(e)},Object.defineProperty(e.prototype,"size",{get:function(){return this._values.length},enumerable:!0,configurable:!0}),e.prototype.clear=function(){this._values.length=0},e}()}t.minimalSetImpl=i,t.Set=n.root.Set||i()},73297:function(e,t){var r=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},n=function(e){function t(){var t=e.call(this,"Timeout has occurred");this.name=t.name="TimeoutError",this.stack=t.stack,this.message=t.message}return r(t,e),t}(Error);t.TimeoutError=n},36860:function(e,t){var r=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},n=function(e){function t(t){e.call(this),this.errors=t;var r=Error.call(this,t?t.length+" errors occurred during unsubscription:\n  "+t.map((function(e,t){return t+1+") "+e.toString()})).join("\n  "):"");this.name=r.name="UnsubscriptionError",this.stack=r.stack,this.message=r.message}return r(t,e),t}(Error);t.UnsubscriptionError=n},88770:(e,t)=>{t.applyMixins=function(e,t){for(var r=0,n=t.length;r<n;r++)for(var i=t[r],o=Object.getOwnPropertyNames(i.prototype),s=0,a=o.length;s<a;s++){var c=o[s];e.prototype[c]=i.prototype[c]}}},9099:(e,t,r)=>{var n=r(26854);function i(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];for(var n=t.length,i=0;i<n;i++){var o=t[i];for(var s in o)o.hasOwnProperty(s)&&(e[s]=o[s])}return e}function o(e){return e.Object.assign||i}t.assignImpl=i,t.getAssign=o,t.assign=o(n.root)},70817:(e,t)=>{t.errorObject={e:{}}},75344:(e,t)=>{t.identity=function(e){return e}},18033:(e,t)=>{t.isArray=Array.isArray||function(e){return e&&"number"==typeof e.length}},37166:(e,t)=>{t.isArrayLike=function(e){return e&&"number"==typeof e.length}},69410:(e,t)=>{t.isDate=function(e){return e instanceof Date&&!isNaN(+e)}},95786:(e,t)=>{t.isFunction=function(e){return"function"==typeof e}},11239:(e,t,r)=>{var n=r(18033);t.isNumeric=function(e){return!n.isArray(e)&&e-parseFloat(e)+1>=0}},19469:(e,t)=>{t.isObject=function(e){return null!=e&&"object"==typeof e}},35117:(e,t)=>{t.isPromise=function(e){return e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}},57733:(e,t)=>{t.isScheduler=function(e){return e&&"function"==typeof e.schedule}},77694:(e,t)=>{t.noop=function(){}},3653:(e,t)=>{t.not=function(e,t){function r(){return!r.pred.apply(r.thisArg,arguments)}return r.pred=e,r.thisArg=t,r}},44114:(e,t,r)=>{var n=r(77694);function i(e){return e?1===e.length?e[0]:function(t){return e.reduce((function(e,t){return t(e)}),t)}:n.noop}t.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return i(e)},t.pipeFromArray=i},26854:(e,t,r)=>{var n="undefined"!=typeof window&&window,i="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,o=void 0!==r.g&&r.g,s=n||o||i;t.root=s,function(){if(!s)throw new Error("RxJS could not find any global context (window, self, global)")}()},740:(e,t,r)=>{var n=r(26854),i=r(37166),o=r(35117),s=r(19469),a=r(91638),c=r(78380),u=r(98261),l=r(85999);t.subscribeToResult=function(e,t,r,f){var h=new u.InnerSubscriber(e,r,f);if(h.closed)return null;if(t instanceof a.Observable)return t._isScalar?(h.next(t.value),h.complete(),null):(h.syncErrorThrowable=!0,t.subscribe(h));if(i.isArrayLike(t)){for(var d=0,p=t.length;d<p&&!h.closed;d++)h.next(t[d]);h.closed||h.complete()}else{if(o.isPromise(t))return t.then((function(e){h.closed||(h.next(e),h.complete())}),(function(e){return h.error(e)})).then(null,(function(e){n.root.setTimeout((function(){throw e}))})),h;if(t&&"function"==typeof t[c.iterator])for(var y=t[c.iterator]();;){var b=y.next();if(b.done){h.complete();break}if(h.next(b.value),h.closed)break}else if(t&&"function"==typeof t[l.observable]){var m=t[l.observable]();if("function"==typeof m.subscribe)return m.subscribe(new u.InnerSubscriber(e,r,f));h.error(new TypeError("Provided object does not correctly implement Symbol.observable"))}else{var v="You provided "+(s.isObject(t)?"an invalid object":"'"+t+"'")+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.";h.error(new TypeError(v))}}return null}},32477:(e,t,r)=>{var n=r(42741),i=r(22522),o=r(98009);t.toSubscriber=function(e,t,r){if(e){if(e instanceof n.Subscriber)return e;if(e[i.rxSubscriber])return e[i.rxSubscriber]()}return e||t||r?new n.Subscriber(e,t,r):new n.Subscriber(o.empty)}},36786:(e,t,r)=>{var n,i=r(70817);function o(){try{return n.apply(this,arguments)}catch(e){return i.errorObject.e=e,i.errorObject}}t.tryCatch=function(e){return n=e,o}},25636:(e,t,r)=>{var n=r(1048),i=n.Buffer;function o(e,t){for(var r in e)t[r]=e[r]}function s(e,t,r){return i(e,t,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=n:(o(n,t),t.Buffer=s),s.prototype=Object.create(i.prototype),o(i,s),s.from=function(e,t,r){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,r)},s.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError("Argument must be a number");var n=i(e);return void 0!==t?"string"==typeof r?n.fill(t,r):n.fill(t):n.fill(0),n},s.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},s.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n.SlowBuffer(e)}},26108:(e,t,r)=>{var n=r(528),i=r(70686),o=r(17239)(),s=r(69336),a=r(3468),c=n("%Math.floor%");e.exports=function(e,t){if("function"!=typeof e)throw new a("`fn` is not a function");if("number"!=typeof t||t<0||t>4294967295||c(t)!==t)throw new a("`length` must be a positive 32-bit integer");var r=arguments.length>2&&!!arguments[2],n=!0,u=!0;if("length"in e&&s){var l=s(e,"length");l&&!l.configurable&&(n=!1),l&&!l.writable&&(u=!1)}return(n||u||!r)&&(o?i(e,"length",t,!0,!0):i(e,"length",t)),e}},1229:(e,t,r)=>{var n=r(25636).Buffer;function i(e,t){this._block=n.alloc(e),this._finalSize=t,this._blockSize=e,this._len=0}i.prototype.update=function(e,t){"string"==typeof e&&(t=t||"utf8",e=n.from(e,t));for(var r=this._block,i=this._blockSize,o=e.length,s=this._len,a=0;a<o;){for(var c=s%i,u=Math.min(o-a,i-c),l=0;l<u;l++)r[c+l]=e[a+l];a+=u,(s+=u)%i==0&&this._update(r)}return this._len+=o,this},i.prototype.digest=function(e){var t=this._len%this._blockSize;this._block[t]=128,this._block.fill(0,t+1),t>=this._finalSize&&(this._update(this._block),this._block.fill(0));var r=8*this._len;if(r<=4294967295)this._block.writeUInt32BE(r,this._blockSize-4);else{var n=(4294967295&r)>>>0,i=(r-n)/4294967296;this._block.writeUInt32BE(i,this._blockSize-8),this._block.writeUInt32BE(n,this._blockSize-4)}this._update(this._block);var o=this._hash();return e?o.toString(e):o},i.prototype._update=function(){throw new Error("_update must be implemented by subclass")},e.exports=i},13229:(e,t,r)=>{var n=e.exports=function(e){e=e.toLowerCase();var t=n[e];if(!t)throw new Error(e+" is not supported (we accept pull requests)");return new t};n.sha=r(93675),n.sha1=r(28980),n.sha224=r(20947),n.sha256=r(52826),n.sha384=r(19922),n.sha512=r(13699)},93675:(e,t,r)=>{var n=r(35615),i=r(1229),o=r(25636).Buffer,s=[1518500249,1859775393,-1894007588,-899497514],a=new Array(80);function c(){this.init(),this._w=a,i.call(this,64,56)}function u(e){return e<<30|e>>>2}function l(e,t,r,n){return 0===e?t&r|~t&n:2===e?t&r|t&n|r&n:t^r^n}n(c,i),c.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},c.prototype._update=function(e){for(var t,r=this._w,n=0|this._a,i=0|this._b,o=0|this._c,a=0|this._d,c=0|this._e,f=0;f<16;++f)r[f]=e.readInt32BE(4*f);for(;f<80;++f)r[f]=r[f-3]^r[f-8]^r[f-14]^r[f-16];for(var h=0;h<80;++h){var d=~~(h/20),p=0|((t=n)<<5|t>>>27)+l(d,i,o,a)+c+r[h]+s[d];c=a,a=o,o=u(i),i=n,n=p}this._a=n+this._a|0,this._b=i+this._b|0,this._c=o+this._c|0,this._d=a+this._d|0,this._e=c+this._e|0},c.prototype._hash=function(){var e=o.allocUnsafe(20);return e.writeInt32BE(0|this._a,0),e.writeInt32BE(0|this._b,4),e.writeInt32BE(0|this._c,8),e.writeInt32BE(0|this._d,12),e.writeInt32BE(0|this._e,16),e},e.exports=c},28980:(e,t,r)=>{var n=r(35615),i=r(1229),o=r(25636).Buffer,s=[1518500249,1859775393,-1894007588,-899497514],a=new Array(80);function c(){this.init(),this._w=a,i.call(this,64,56)}function u(e){return e<<5|e>>>27}function l(e){return e<<30|e>>>2}function f(e,t,r,n){return 0===e?t&r|~t&n:2===e?t&r|t&n|r&n:t^r^n}n(c,i),c.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},c.prototype._update=function(e){for(var t,r=this._w,n=0|this._a,i=0|this._b,o=0|this._c,a=0|this._d,c=0|this._e,h=0;h<16;++h)r[h]=e.readInt32BE(4*h);for(;h<80;++h)r[h]=(t=r[h-3]^r[h-8]^r[h-14]^r[h-16])<<1|t>>>31;for(var d=0;d<80;++d){var p=~~(d/20),y=u(n)+f(p,i,o,a)+c+r[d]+s[p]|0;c=a,a=o,o=l(i),i=n,n=y}this._a=n+this._a|0,this._b=i+this._b|0,this._c=o+this._c|0,this._d=a+this._d|0,this._e=c+this._e|0},c.prototype._hash=function(){var e=o.allocUnsafe(20);return e.writeInt32BE(0|this._a,0),e.writeInt32BE(0|this._b,4),e.writeInt32BE(0|this._c,8),e.writeInt32BE(0|this._d,12),e.writeInt32BE(0|this._e,16),e},e.exports=c},20947:(e,t,r)=>{var n=r(35615),i=r(52826),o=r(1229),s=r(25636).Buffer,a=new Array(64);function c(){this.init(),this._w=a,o.call(this,64,56)}n(c,i),c.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},c.prototype._hash=function(){var e=s.allocUnsafe(28);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e},e.exports=c},52826:(e,t,r)=>{var n=r(35615),i=r(1229),o=r(25636).Buffer,s=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],a=new Array(64);function c(){this.init(),this._w=a,i.call(this,64,56)}function u(e,t,r){return r^e&(t^r)}function l(e,t,r){return e&t|r&(e|t)}function f(e){return(e>>>2|e<<30)^(e>>>13|e<<19)^(e>>>22|e<<10)}function h(e){return(e>>>6|e<<26)^(e>>>11|e<<21)^(e>>>25|e<<7)}function d(e){return(e>>>7|e<<25)^(e>>>18|e<<14)^e>>>3}n(c,i),c.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},c.prototype._update=function(e){for(var t,r=this._w,n=0|this._a,i=0|this._b,o=0|this._c,a=0|this._d,c=0|this._e,p=0|this._f,y=0|this._g,b=0|this._h,m=0;m<16;++m)r[m]=e.readInt32BE(4*m);for(;m<64;++m)r[m]=0|(((t=r[m-2])>>>17|t<<15)^(t>>>19|t<<13)^t>>>10)+r[m-7]+d(r[m-15])+r[m-16];for(var v=0;v<64;++v){var g=b+h(c)+u(c,p,y)+s[v]+r[v]|0,w=f(n)+l(n,i,o)|0;b=y,y=p,p=c,c=a+g|0,a=o,o=i,i=n,n=g+w|0}this._a=n+this._a|0,this._b=i+this._b|0,this._c=o+this._c|0,this._d=a+this._d|0,this._e=c+this._e|0,this._f=p+this._f|0,this._g=y+this._g|0,this._h=b+this._h|0},c.prototype._hash=function(){var e=o.allocUnsafe(32);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e.writeInt32BE(this._h,28),e},e.exports=c},19922:(e,t,r)=>{var n=r(35615),i=r(13699),o=r(1229),s=r(25636).Buffer,a=new Array(160);function c(){this.init(),this._w=a,o.call(this,128,112)}n(c,i),c.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},c.prototype._hash=function(){var e=s.allocUnsafe(48);function t(t,r,n){e.writeInt32BE(t,n),e.writeInt32BE(r,n+4)}return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),e},e.exports=c},13699:(e,t,r)=>{var n=r(35615),i=r(1229),o=r(25636).Buffer,s=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],a=new Array(160);function c(){this.init(),this._w=a,i.call(this,128,112)}function u(e,t,r){return r^e&(t^r)}function l(e,t,r){return e&t|r&(e|t)}function f(e,t){return(e>>>28|t<<4)^(t>>>2|e<<30)^(t>>>7|e<<25)}function h(e,t){return(e>>>14|t<<18)^(e>>>18|t<<14)^(t>>>9|e<<23)}function d(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^e>>>7}function p(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^(e>>>7|t<<25)}function y(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^e>>>6}function b(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^(e>>>6|t<<26)}function m(e,t){return e>>>0<t>>>0?1:0}n(c,i),c.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},c.prototype._update=function(e){for(var t=this._w,r=0|this._ah,n=0|this._bh,i=0|this._ch,o=0|this._dh,a=0|this._eh,c=0|this._fh,v=0|this._gh,g=0|this._hh,w=0|this._al,_=0|this._bl,S=0|this._cl,E=0|this._dl,T=0|this._el,O=0|this._fl,x=0|this._gl,A=0|this._hl,M=0;M<32;M+=2)t[M]=e.readInt32BE(4*M),t[M+1]=e.readInt32BE(4*M+4);for(;M<160;M+=2){var P=t[M-30],I=t[M-30+1],j=d(P,I),R=p(I,P),k=y(P=t[M-4],I=t[M-4+1]),C=b(I,P),$=t[M-14],N=t[M-14+1],L=t[M-32],B=t[M-32+1],D=R+N|0,F=j+$+m(D,R)|0;F=(F=F+k+m(D=D+C|0,C)|0)+L+m(D=D+B|0,B)|0,t[M]=F,t[M+1]=D}for(var U=0;U<160;U+=2){F=t[U],D=t[U+1];var q=l(r,n,i),W=l(w,_,S),z=f(r,w),V=f(w,r),H=h(a,T),G=h(T,a),K=s[U],Y=s[U+1],J=u(a,c,v),X=u(T,O,x),Z=A+G|0,Q=g+H+m(Z,A)|0;Q=(Q=(Q=Q+J+m(Z=Z+X|0,X)|0)+K+m(Z=Z+Y|0,Y)|0)+F+m(Z=Z+D|0,D)|0;var ee=V+W|0,te=z+q+m(ee,V)|0;g=v,A=x,v=c,x=O,c=a,O=T,a=o+Q+m(T=E+Z|0,E)|0,o=i,E=S,i=n,S=_,n=r,_=w,r=Q+te+m(w=Z+ee|0,Z)|0}this._al=this._al+w|0,this._bl=this._bl+_|0,this._cl=this._cl+S|0,this._dl=this._dl+E|0,this._el=this._el+T|0,this._fl=this._fl+O|0,this._gl=this._gl+x|0,this._hl=this._hl+A|0,this._ah=this._ah+r+m(this._al,w)|0,this._bh=this._bh+n+m(this._bl,_)|0,this._ch=this._ch+i+m(this._cl,S)|0,this._dh=this._dh+o+m(this._dl,E)|0,this._eh=this._eh+a+m(this._el,T)|0,this._fh=this._fh+c+m(this._fl,O)|0,this._gh=this._gh+v+m(this._gl,x)|0,this._hh=this._hh+g+m(this._hl,A)|0},c.prototype._hash=function(){var e=o.allocUnsafe(64);function t(t,r,n){e.writeInt32BE(t,n),e.writeInt32BE(r,n+4)}return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),t(this._gh,this._gl,48),t(this._hh,this._hl,56),e},e.exports=c},77575:(e,t,r)=>{var n=r(528),i=r(79818),o=r(48660),s=r(3468),a=n("%WeakMap%",!0),c=n("%Map%",!0),u=i("WeakMap.prototype.get",!0),l=i("WeakMap.prototype.set",!0),f=i("WeakMap.prototype.has",!0),h=i("Map.prototype.get",!0),d=i("Map.prototype.set",!0),p=i("Map.prototype.has",!0),y=function(e,t){for(var r,n=e;null!==(r=n.next);n=r)if(r.key===t)return n.next=r.next,r.next=e.next,e.next=r,r};e.exports=function(){var e,t,r,n={assert:function(e){if(!n.has(e))throw new s("Side channel does not contain "+o(e))},get:function(n){if(a&&n&&("object"==typeof n||"function"==typeof n)){if(e)return u(e,n)}else if(c){if(t)return h(t,n)}else if(r)return function(e,t){var r=y(e,t);return r&&r.value}(r,n)},has:function(n){if(a&&n&&("object"==typeof n||"function"==typeof n)){if(e)return f(e,n)}else if(c){if(t)return p(t,n)}else if(r)return function(e,t){return!!y(e,t)}(r,n);return!1},set:function(n,i){a&&n&&("object"==typeof n||"function"==typeof n)?(e||(e=new a),l(e,n,i)):c?(t||(t=new c),d(t,n,i)):(r||(r={key:{},next:null}),function(e,t,r){var n=y(e,t);n?n.value=r:e.next={key:t,next:e.next,value:r}}(r,n,i))}};return n}},72851:e=>{e.exports=(e,t)=>{if("string"!=typeof e||"string"!=typeof t)throw new TypeError("Expected the arguments to be of type `string`");if(""===t)return[e];const r=e.indexOf(t);return-1===r?[e]:[e.slice(0,r),e.slice(r+t.length)]}},4865:(e,t,r)=>{var n=r(98636),i=r(36846),o=r(93227),s=r(30049),a=r(75442),c=t;c.request=function(e,t){e="string"==typeof e?a.parse(e):o(e);var i=-1===r.g.location.protocol.search(/^https?:$/)?"http:":"",s=e.protocol||i,c=e.hostname||e.host,u=e.port,l=e.path||"/";c&&-1!==c.indexOf(":")&&(c="["+c+"]"),e.url=(c?s+"//"+c:"")+(u?":"+u:"")+l,e.method=(e.method||"GET").toUpperCase(),e.headers=e.headers||{};var f=new n(e);return t&&f.on("response",t),f},c.get=function(e,t){var r=c.request(e,t);return r.end(),r},c.ClientRequest=n,c.IncomingMessage=i.IncomingMessage,c.Agent=function(){},c.Agent.defaultMaxSockets=4,c.globalAgent=new c.Agent,c.STATUS_CODES=s,c.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"]},42271:(e,t,r)=>{var n;function i(){if(void 0!==n)return n;if(r.g.XMLHttpRequest){n=new r.g.XMLHttpRequest;try{n.open("GET",r.g.XDomainRequest?"/":"https://example.com")}catch(e){n=null}}else n=null;return n}function o(e){var t=i();if(!t)return!1;try{return t.responseType=e,t.responseType===e}catch(e){}return!1}function s(e){return"function"==typeof e}t.fetch=s(r.g.fetch)&&s(r.g.ReadableStream),t.writableStream=s(r.g.WritableStream),t.abortController=s(r.g.AbortController),t.arraybuffer=t.fetch||o("arraybuffer"),t.msstream=!t.fetch&&o("ms-stream"),t.mozchunkedarraybuffer=!t.fetch&&o("moz-chunked-arraybuffer"),t.overrideMimeType=t.fetch||!!i()&&s(i().overrideMimeType),n=null},98636:(e,t,r)=>{var n=r(1048).Buffer,i=r(39907),o=r(42271),s=r(35615),a=r(36846),c=r(48635),u=a.IncomingMessage,l=a.readyStates,f=e.exports=function(e){var t,r=this;c.Writable.call(r),r._opts=e,r._body=[],r._headers={},e.auth&&r.setHeader("Authorization","Basic "+n.from(e.auth).toString("base64")),Object.keys(e.headers).forEach((function(t){r.setHeader(t,e.headers[t])}));var i=!0;if("disable-fetch"===e.mode||"requestTimeout"in e&&!o.abortController)i=!1,t=!0;else if("prefer-streaming"===e.mode)t=!1;else if("allow-wrong-content-type"===e.mode)t=!o.overrideMimeType;else{if(e.mode&&"default"!==e.mode&&"prefer-fast"!==e.mode)throw new Error("Invalid value for opts.mode");t=!0}r._mode=function(e,t){return o.fetch&&t?"fetch":o.mozchunkedarraybuffer?"moz-chunked-arraybuffer":o.msstream?"ms-stream":o.arraybuffer&&e?"arraybuffer":"text"}(t,i),r._fetchTimer=null,r._socketTimeout=null,r._socketTimer=null,r.on("finish",(function(){r._onFinish()}))};s(f,c.Writable),f.prototype.setHeader=function(e,t){var r=e.toLowerCase();-1===h.indexOf(r)&&(this._headers[r]={name:e,value:t})},f.prototype.getHeader=function(e){var t=this._headers[e.toLowerCase()];return t?t.value:null},f.prototype.removeHeader=function(e){delete this._headers[e.toLowerCase()]},f.prototype._onFinish=function(){var e=this;if(!e._destroyed){var t=e._opts;"timeout"in t&&0!==t.timeout&&e.setTimeout(t.timeout);var n=e._headers,s=null;"GET"!==t.method&&"HEAD"!==t.method&&(s=new Blob(e._body,{type:(n["content-type"]||{}).value||""}));var a=[];if(Object.keys(n).forEach((function(e){var t=n[e].name,r=n[e].value;Array.isArray(r)?r.forEach((function(e){a.push([t,e])})):a.push([t,r])})),"fetch"===e._mode){var c=null;if(o.abortController){var u=new AbortController;c=u.signal,e._fetchAbortController=u,"requestTimeout"in t&&0!==t.requestTimeout&&(e._fetchTimer=r.g.setTimeout((function(){e.emit("requestTimeout"),e._fetchAbortController&&e._fetchAbortController.abort()}),t.requestTimeout))}r.g.fetch(e._opts.url,{method:e._opts.method,headers:a,body:s||void 0,mode:"cors",credentials:t.withCredentials?"include":"same-origin",signal:c}).then((function(t){e._fetchResponse=t,e._resetTimers(!1),e._connect()}),(function(t){e._resetTimers(!0),e._destroyed||e.emit("error",t)}))}else{var f=e._xhr=new r.g.XMLHttpRequest;try{f.open(e._opts.method,e._opts.url,!0)}catch(t){return void i.nextTick((function(){e.emit("error",t)}))}"responseType"in f&&(f.responseType=e._mode),"withCredentials"in f&&(f.withCredentials=!!t.withCredentials),"text"===e._mode&&"overrideMimeType"in f&&f.overrideMimeType("text/plain; charset=x-user-defined"),"requestTimeout"in t&&(f.timeout=t.requestTimeout,f.ontimeout=function(){e.emit("requestTimeout")}),a.forEach((function(e){f.setRequestHeader(e[0],e[1])})),e._response=null,f.onreadystatechange=function(){switch(f.readyState){case l.LOADING:case l.DONE:e._onXHRProgress()}},"moz-chunked-arraybuffer"===e._mode&&(f.onprogress=function(){e._onXHRProgress()}),f.onerror=function(){e._destroyed||(e._resetTimers(!0),e.emit("error",new Error("XHR error")))};try{f.send(s)}catch(t){return void i.nextTick((function(){e.emit("error",t)}))}}}},f.prototype._onXHRProgress=function(){var e=this;e._resetTimers(!1),function(e){try{var t=e.status;return null!==t&&0!==t}catch(e){return!1}}(e._xhr)&&!e._destroyed&&(e._response||e._connect(),e._response._onXHRProgress(e._resetTimers.bind(e)))},f.prototype._connect=function(){var e=this;e._destroyed||(e._response=new u(e._xhr,e._fetchResponse,e._mode,e._resetTimers.bind(e)),e._response.on("error",(function(t){e.emit("error",t)})),e.emit("response",e._response))},f.prototype._write=function(e,t,r){this._body.push(e),r()},f.prototype._resetTimers=function(e){var t=this;r.g.clearTimeout(t._socketTimer),t._socketTimer=null,e?(r.g.clearTimeout(t._fetchTimer),t._fetchTimer=null):t._socketTimeout&&(t._socketTimer=r.g.setTimeout((function(){t.emit("timeout")}),t._socketTimeout))},f.prototype.abort=f.prototype.destroy=function(e){var t=this;t._destroyed=!0,t._resetTimers(!0),t._response&&(t._response._destroyed=!0),t._xhr?t._xhr.abort():t._fetchAbortController&&t._fetchAbortController.abort(),e&&t.emit("error",e)},f.prototype.end=function(e,t,r){"function"==typeof e&&(r=e,e=void 0),c.Writable.prototype.end.call(this,e,t,r)},f.prototype.setTimeout=function(e,t){var r=this;t&&r.once("timeout",t),r._socketTimeout=e,r._resetTimers(!1)},f.prototype.flushHeaders=function(){},f.prototype.setNoDelay=function(){},f.prototype.setSocketKeepAlive=function(){};var h=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"]},36846:(e,t,r)=>{var n=r(39907),i=r(1048).Buffer,o=r(42271),s=r(35615),a=r(48635),c=t.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},u=t.IncomingMessage=function(e,t,r,s){var c=this;if(a.Readable.call(c),c._mode=r,c.headers={},c.rawHeaders=[],c.trailers={},c.rawTrailers=[],c.on("end",(function(){n.nextTick((function(){c.emit("close")}))})),"fetch"===r){if(c._fetchResponse=t,c.url=t.url,c.statusCode=t.status,c.statusMessage=t.statusText,t.headers.forEach((function(e,t){c.headers[t.toLowerCase()]=e,c.rawHeaders.push(t,e)})),o.writableStream){var u=new WritableStream({write:function(e){return s(!1),new Promise((function(t,r){c._destroyed?r():c.push(i.from(e))?t():c._resumeFetch=t}))},close:function(){s(!0),c._destroyed||c.push(null)},abort:function(e){s(!0),c._destroyed||c.emit("error",e)}});try{return void t.body.pipeTo(u).catch((function(e){s(!0),c._destroyed||c.emit("error",e)}))}catch(p){}}var l=t.body.getReader();function d(){l.read().then((function(e){c._destroyed||(s(e.done),e.done?c.push(null):(c.push(i.from(e.value)),d()))})).catch((function(e){s(!0),c._destroyed||c.emit("error",e)}))}d()}else if(c._xhr=e,c._pos=0,c.url=e.responseURL,c.statusCode=e.status,c.statusMessage=e.statusText,e.getAllResponseHeaders().split(/\r?\n/).forEach((function(e){var t=e.match(/^([^:]+):\s*(.*)/);if(t){var r=t[1].toLowerCase();"set-cookie"===r?(void 0===c.headers[r]&&(c.headers[r]=[]),c.headers[r].push(t[2])):void 0!==c.headers[r]?c.headers[r]+=", "+t[2]:c.headers[r]=t[2],c.rawHeaders.push(t[1],t[2])}})),c._charset="x-user-defined",!o.overrideMimeType){var f=c.rawHeaders["mime-type"];if(f){var h=f.match(/;\s*charset=([^;])(;|$)/);h&&(c._charset=h[1].toLowerCase())}c._charset||(c._charset="utf-8")}};s(u,a.Readable),u.prototype._read=function(){var e=this._resumeFetch;e&&(this._resumeFetch=null,e())},u.prototype._onXHRProgress=function(e){var t=this,n=t._xhr,o=null;switch(t._mode){case"text":if((o=n.responseText).length>t._pos){var s=o.substr(t._pos);if("x-user-defined"===t._charset){for(var a=i.alloc(s.length),u=0;u<s.length;u++)a[u]=255&s.charCodeAt(u);t.push(a)}else t.push(s,t._charset);t._pos=o.length}break;case"arraybuffer":if(n.readyState!==c.DONE||!n.response)break;o=n.response,t.push(i.from(new Uint8Array(o)));break;case"moz-chunked-arraybuffer":if(o=n.response,n.readyState!==c.LOADING||!o)break;t.push(i.from(new Uint8Array(o)));break;case"ms-stream":if(o=n.response,n.readyState!==c.LOADING)break;var l=new r.g.MSStreamReader;l.onprogress=function(){l.result.byteLength>t._pos&&(t.push(i.from(new Uint8Array(l.result.slice(t._pos)))),t._pos=l.result.byteLength)},l.onload=function(){e(!0),t.push(null)},l.readAsArrayBuffer(o)}t._xhr.readyState===c.DONE&&"ms-stream"!==t._mode&&(e(!0),t.push(null))}},5692:e=>{var t={};function r(e,r,n){n||(n=Error);var i=function(e){var t,n;function i(t,n,i){return e.call(this,function(e,t,n){return"string"==typeof r?r:r(e,t,n)}(t,n,i))||this}return n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,i}(n);i.prototype.name=n.name,i.prototype.code=e,t[e]=i}function n(e,t){if(Array.isArray(e)){var r=e.length;return e=e.map((function(e){return String(e)})),r>2?"one of ".concat(t," ").concat(e.slice(0,r-1).join(", "),", or ")+e[r-1]:2===r?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}return"of ".concat(t," ").concat(String(e))}r("ERR_INVALID_OPT_VALUE",(function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'}),TypeError),r("ERR_INVALID_ARG_TYPE",(function(e,t,r){var i,o,s,a,c;if("string"==typeof t&&(o="not ",t.substr(0,4)===o)?(i="must not be",t=t.replace(/^not /,"")):i="must be",function(e,t,r){return(void 0===r||r>e.length)&&(r=e.length),e.substring(r-9,r)===t}(e," argument"))s="The ".concat(e," ").concat(i," ").concat(n(t,"type"));else{var u=("number"!=typeof c&&(c=0),c+1>(a=e).length||-1===a.indexOf(".",c)?"argument":"property");s='The "'.concat(e,'" ').concat(u," ").concat(i," ").concat(n(t,"type"))}return s+". Received type ".concat(typeof r)}),TypeError),r("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),r("ERR_METHOD_NOT_IMPLEMENTED",(function(e){return"The "+e+" method is not implemented"})),r("ERR_STREAM_PREMATURE_CLOSE","Premature close"),r("ERR_STREAM_DESTROYED",(function(e){return"Cannot call "+e+" after a stream was destroyed"})),r("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),r("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),r("ERR_STREAM_WRITE_AFTER_END","write after end"),r("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),r("ERR_UNKNOWN_ENCODING",(function(e){return"Unknown encoding: "+e}),TypeError),r("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),e.exports.F=t},60634:(e,t,r)=>{var n=r(39907),i=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};e.exports=l;var o=r(56040),s=r(65464);r(35615)(l,o);for(var a=i(s.prototype),c=0;c<a.length;c++){var u=a[c];l.prototype[u]||(l.prototype[u]=s.prototype[u])}function l(e){if(!(this instanceof l))return new l(e);o.call(this,e),s.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",f)))}function f(){this._writableState.ended||n.nextTick(h,this)}function h(e){e.end()}Object.defineProperty(l.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(l.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(l.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(l.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}})},82108:(e,t,r)=>{e.exports=i;var n=r(91846);function i(e){if(!(this instanceof i))return new i(e);n.call(this,e)}r(35615)(i,n),i.prototype._transform=function(e,t,r){r(null,e)}},56040:(e,t,r)=>{var n,i=r(39907);e.exports=O,O.ReadableState=T,r(50046).EventEmitter;var o,s=function(e,t){return e.listeners(t).length},a=r(97845),c=r(1048).Buffer,u=(void 0!==r.g?r.g:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).Uint8Array||function(){},l=r(78314);o=l&&l.debuglog?l.debuglog("stream"):function(){};var f,h,d,p=r(80317),y=r(34532),b=r(79983).getHighWaterMark,m=r(5692).F,v=m.ERR_INVALID_ARG_TYPE,g=m.ERR_STREAM_PUSH_AFTER_EOF,w=m.ERR_METHOD_NOT_IMPLEMENTED,_=m.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;r(35615)(O,a);var S=y.errorOrDestroy,E=["error","close","destroy","pause","resume"];function T(e,t,i){n=n||r(60634),e=e||{},"boolean"!=typeof i&&(i=t instanceof n),this.objectMode=!!e.objectMode,i&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=b(this,e,"readableHighWaterMark",i),this.buffer=new p,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(f||(f=r(18888).StringDecoder),this.decoder=new f(e.encoding),this.encoding=e.encoding)}function O(e){if(n=n||r(60634),!(this instanceof O))return new O(e);var t=this instanceof n;this._readableState=new T(e,this,t),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),a.call(this)}function x(e,t,r,n,i){o("readableAddChunk",t);var s,a=e._readableState;if(null===t)a.reading=!1,function(e,t){if(o("onEofChunk"),!t.ended){if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,t.sync?I(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,j(e)))}}(e,a);else if(i||(s=function(e,t){var r,n;return n=t,c.isBuffer(n)||n instanceof u||"string"==typeof t||void 0===t||e.objectMode||(r=new v("chunk",["string","Buffer","Uint8Array"],t)),r}(a,t)),s)S(e,s);else if(a.objectMode||t&&t.length>0)if("string"==typeof t||a.objectMode||Object.getPrototypeOf(t)===c.prototype||(t=function(e){return c.from(e)}(t)),n)a.endEmitted?S(e,new _):A(e,a,t,!0);else if(a.ended)S(e,new g);else{if(a.destroyed)return!1;a.reading=!1,a.decoder&&!r?(t=a.decoder.write(t),a.objectMode||0!==t.length?A(e,a,t,!1):R(e,a)):A(e,a,t,!1)}else n||(a.reading=!1,R(e,a));return!a.ended&&(a.length<a.highWaterMark||0===a.length)}function A(e,t,r,n){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",r)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&I(e)),R(e,t)}Object.defineProperty(O.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),O.prototype.destroy=y.destroy,O.prototype._undestroy=y.undestroy,O.prototype._destroy=function(e,t){t(e)},O.prototype.push=function(e,t){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof e&&((t=t||n.defaultEncoding)!==n.encoding&&(e=c.from(e,t),t=""),r=!0),x(this,e,t,!1,r)},O.prototype.unshift=function(e){return x(this,e,null,!0,!1)},O.prototype.isPaused=function(){return!1===this._readableState.flowing},O.prototype.setEncoding=function(e){f||(f=r(18888).StringDecoder);var t=new f(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var n=this._readableState.buffer.head,i="";null!==n;)i+=t.write(n.data),n=n.next;return this._readableState.buffer.clear(),""!==i&&this._readableState.buffer.push(i),this._readableState.length=i.length,this};var M=1073741824;function P(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=M?e=M:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function I(e){var t=e._readableState;o("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(o("emitReadable",t.flowing),t.emittedReadable=!0,i.nextTick(j,e))}function j(e){var t=e._readableState;o("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,L(e)}function R(e,t){t.readingMore||(t.readingMore=!0,i.nextTick(k,e,t))}function k(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var r=t.length;if(o("maybeReadMore read 0"),e.read(0),r===t.length)break}t.readingMore=!1}function C(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function $(e){o("readable nexttick read 0"),e.read(0)}function N(e,t){o("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),L(e),t.flowing&&!t.reading&&e.read(0)}function L(e){var t=e._readableState;for(o("flow",t.flowing);t.flowing&&null!==e.read(););}function B(e,t){return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):r=t.buffer.consume(e,t.decoder),r);var r}function D(e){var t=e._readableState;o("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,i.nextTick(F,t,e))}function F(e,t){if(o("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var r=t._writableState;(!r||r.autoDestroy&&r.finished)&&t.destroy()}}function U(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}O.prototype.read=function(e){o("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return o("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?D(this):I(this),null;if(0===(e=P(e,t))&&t.ended)return 0===t.length&&D(this),null;var n,i=t.needReadable;return o("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&o("length less than watermark",i=!0),t.ended||t.reading?o("reading or ended",i=!1):i&&(o("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=P(r,t))),null===(n=e>0?B(e,t):null)?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&D(this)),null!==n&&this.emit("data",n),n},O.prototype._read=function(e){S(this,new w("_read()"))},O.prototype.pipe=function(e,t){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=e;break;case 1:n.pipes=[n.pipes,e];break;default:n.pipes.push(e)}n.pipesCount+=1,o("pipe count=%d opts=%j",n.pipesCount,t);var a=t&&!1===t.end||e===i.stdout||e===i.stderr?y:c;function c(){o("onend"),e.end()}n.endEmitted?i.nextTick(a):r.once("end",a),e.on("unpipe",(function t(i,s){o("onunpipe"),i===r&&s&&!1===s.hasUnpiped&&(s.hasUnpiped=!0,o("cleanup"),e.removeListener("close",d),e.removeListener("finish",p),e.removeListener("drain",u),e.removeListener("error",h),e.removeListener("unpipe",t),r.removeListener("end",c),r.removeListener("end",y),r.removeListener("data",f),l=!0,!n.awaitDrain||e._writableState&&!e._writableState.needDrain||u())}));var u=function(e){return function(){var t=e._readableState;o("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&s(e,"data")&&(t.flowing=!0,L(e))}}(r);e.on("drain",u);var l=!1;function f(t){o("ondata");var i=e.write(t);o("dest.write",i),!1===i&&((1===n.pipesCount&&n.pipes===e||n.pipesCount>1&&-1!==U(n.pipes,e))&&!l&&(o("false write response, pause",n.awaitDrain),n.awaitDrain++),r.pause())}function h(t){o("onerror",t),y(),e.removeListener("error",h),0===s(e,"error")&&S(e,t)}function d(){e.removeListener("finish",p),y()}function p(){o("onfinish"),e.removeListener("close",d),y()}function y(){o("unpipe"),r.unpipe(e)}return r.on("data",f),function(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}(e,"error",h),e.once("close",d),e.once("finish",p),e.emit("pipe",r),n.flowing||(o("pipe resume"),r.resume()),e},O.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r)),this;if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)n[o].emit("unpipe",this,{hasUnpiped:!1});return this}var s=U(t.pipes,e);return-1===s||(t.pipes.splice(s,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r)),this},O.prototype.on=function(e,t){var r=a.prototype.on.call(this,e,t),n=this._readableState;return"data"===e?(n.readableListening=this.listenerCount("readable")>0,!1!==n.flowing&&this.resume()):"readable"===e&&(n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,o("on readable",n.length,n.reading),n.length?I(this):n.reading||i.nextTick($,this))),r},O.prototype.addListener=O.prototype.on,O.prototype.removeListener=function(e,t){var r=a.prototype.removeListener.call(this,e,t);return"readable"===e&&i.nextTick(C,this),r},O.prototype.removeAllListeners=function(e){var t=a.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||i.nextTick(C,this),t},O.prototype.resume=function(){var e=this._readableState;return e.flowing||(o("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,i.nextTick(N,e,t))}(this,e)),e.paused=!1,this},O.prototype.pause=function(){return o("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(o("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},O.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;for(var i in e.on("end",(function(){if(o("wrapped end"),r.decoder&&!r.ended){var e=r.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(i){o("wrapped data"),r.decoder&&(i=r.decoder.write(i)),r.objectMode&&null==i||(r.objectMode||i&&i.length)&&(t.push(i)||(n=!0,e.pause()))})),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var s=0;s<E.length;s++)e.on(E[s],this.emit.bind(this,E[s]));return this._read=function(t){o("wrapped _read",t),n&&(n=!1,e.resume())},this},"function"==typeof Symbol&&(O.prototype[Symbol.asyncIterator]=function(){return void 0===h&&(h=r(87743)),h(this)}),Object.defineProperty(O.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(O.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(O.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),O._fromList=B,Object.defineProperty(O.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(O.from=function(e,t){return void 0===d&&(d=r(2769)),d(O,e,t)})},91846:(e,t,r)=>{e.exports=l;var n=r(5692).F,i=n.ERR_METHOD_NOT_IMPLEMENTED,o=n.ERR_MULTIPLE_CALLBACK,s=n.ERR_TRANSFORM_ALREADY_TRANSFORMING,a=n.ERR_TRANSFORM_WITH_LENGTH_0,c=r(60634);function u(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(null===n)return this.emit("error",new o);r.writechunk=null,r.writecb=null,null!=t&&this.push(t),n(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function l(e){if(!(this instanceof l))return new l(e);c.call(this,e),this._transformState={afterTransform:u.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",f)}function f(){var e=this;"function"!=typeof this._flush||this._readableState.destroyed?h(this,null,null):this._flush((function(t,r){h(e,t,r)}))}function h(e,t,r){if(t)return e.emit("error",t);if(null!=r&&e.push(r),e._writableState.length)throw new a;if(e._transformState.transforming)throw new s;return e.push(null)}r(35615)(l,c),l.prototype.push=function(e,t){return this._transformState.needTransform=!1,c.prototype.push.call(this,e,t)},l.prototype._transform=function(e,t,r){r(new i("_transform()"))},l.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},l.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},l.prototype._destroy=function(e,t){c.prototype._destroy.call(this,e,(function(e){t(e)}))}},65464:(e,t,r)=>{var n,i=r(39907);function o(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,r){var n=e.entry;for(e.entry=null;n;){var i=n.callback;t.pendingcb--,i(undefined),n=n.next}t.corkedRequestsFree.next=e}(t,e)}}e.exports=O,O.WritableState=T;var s,a={deprecate:r(66732)},c=r(97845),u=r(1048).Buffer,l=(void 0!==r.g?r.g:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).Uint8Array||function(){},f=r(34532),h=r(79983).getHighWaterMark,d=r(5692).F,p=d.ERR_INVALID_ARG_TYPE,y=d.ERR_METHOD_NOT_IMPLEMENTED,b=d.ERR_MULTIPLE_CALLBACK,m=d.ERR_STREAM_CANNOT_PIPE,v=d.ERR_STREAM_DESTROYED,g=d.ERR_STREAM_NULL_VALUES,w=d.ERR_STREAM_WRITE_AFTER_END,_=d.ERR_UNKNOWN_ENCODING,S=f.errorOrDestroy;function E(){}function T(e,t,s){n=n||r(60634),e=e||{},"boolean"!=typeof s&&(s=t instanceof n),this.objectMode=!!e.objectMode,s&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=h(this,e,"writableHighWaterMark",s),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var a=!1===e.decodeStrings;this.decodeStrings=!a,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var r=e._writableState,n=r.sync,o=r.writecb;if("function"!=typeof o)throw new b;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(r),t)!function(e,t,r,n,o){--t.pendingcb,r?(i.nextTick(o,n),i.nextTick(j,e,t),e._writableState.errorEmitted=!0,S(e,n)):(o(n),e._writableState.errorEmitted=!0,S(e,n),j(e,t))}(e,r,n,t,o);else{var s=P(r)||e.destroyed;s||r.corked||r.bufferProcessing||!r.bufferedRequest||M(e,r),n?i.nextTick(A,e,r,s,o):A(e,r,s,o)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new o(this)}function O(e){var t=this instanceof(n=n||r(60634));if(!t&&!s.call(O,this))return new O(e);this._writableState=new T(e,this,t),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),c.call(this)}function x(e,t,r,n,i,o,s){t.writelen=n,t.writecb=s,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new v("write")):r?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function A(e,t,r,n){r||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,n(),j(e,t)}function M(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=t.bufferedRequestCount,i=new Array(n),s=t.corkedRequestsFree;s.entry=r;for(var a=0,c=!0;r;)i[a]=r,r.isBuf||(c=!1),r=r.next,a+=1;i.allBuffers=c,x(e,t,!0,t.length,i,"",s.finish),t.pendingcb++,t.lastBufferedRequest=null,s.next?(t.corkedRequestsFree=s.next,s.next=null):t.corkedRequestsFree=new o(t),t.bufferedRequestCount=0}else{for(;r;){var u=r.chunk,l=r.encoding,f=r.callback;if(x(e,t,!1,t.objectMode?1:u.length,u,l,f),r=r.next,t.bufferedRequestCount--,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}function P(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function I(e,t){e._final((function(r){t.pendingcb--,r&&S(e,r),t.prefinished=!0,e.emit("prefinish"),j(e,t)}))}function j(e,t){var r=P(t);if(r&&(function(e,t){t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,i.nextTick(I,e,t)))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var n=e._readableState;(!n||n.autoDestroy&&n.endEmitted)&&e.destroy()}return r}r(35615)(O,c),T.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(T.prototype,"buffer",{get:a.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(s=Function.prototype[Symbol.hasInstance],Object.defineProperty(O,Symbol.hasInstance,{value:function(e){return!!s.call(this,e)||this===O&&e&&e._writableState instanceof T}})):s=function(e){return e instanceof this},O.prototype.pipe=function(){S(this,new m)},O.prototype.write=function(e,t,r){var n,o=this._writableState,s=!1,a=!o.objectMode&&(n=e,u.isBuffer(n)||n instanceof l);return a&&!u.isBuffer(e)&&(e=function(e){return u.from(e)}(e)),"function"==typeof t&&(r=t,t=null),a?t="buffer":t||(t=o.defaultEncoding),"function"!=typeof r&&(r=E),o.ending?function(e,t){var r=new w;S(e,r),i.nextTick(t,r)}(this,r):(a||function(e,t,r,n){var o;return null===r?o=new g:"string"==typeof r||t.objectMode||(o=new p("chunk",["string","Buffer"],r)),!o||(S(e,o),i.nextTick(n,o),!1)}(this,o,e,r))&&(o.pendingcb++,s=function(e,t,r,n,i,o){if(!r){var s=function(e,t,r){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=u.from(t,r)),t}(t,n,i);n!==s&&(r=!0,i="buffer",n=s)}var a=t.objectMode?1:n.length;t.length+=a;var c=t.length<t.highWaterMark;if(c||(t.needDrain=!0),t.writing||t.corked){var l=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:o,next:null},l?l.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else x(e,t,!1,a,n,i,o);return c}(this,o,a,e,t,r)),s},O.prototype.cork=function(){this._writableState.corked++},O.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||M(this,e))},O.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new _(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(O.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(O.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),O.prototype._write=function(e,t,r){r(new y("_write()"))},O.prototype._writev=null,O.prototype.end=function(e,t,r){var n=this._writableState;return"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!=e&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),n.ending||function(e,t,r){t.ending=!0,j(e,t),r&&(t.finished?i.nextTick(r):e.once("finish",r)),t.ended=!0,e.writable=!1}(this,n,r),this},Object.defineProperty(O.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(O.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),O.prototype.destroy=f.destroy,O.prototype._undestroy=f.undestroy,O.prototype._destroy=function(e,t){t(e)}},87743:(e,t,r)=>{var n,i=r(39907);function o(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var s=r(86138),a=Symbol("lastResolve"),c=Symbol("lastReject"),u=Symbol("error"),l=Symbol("ended"),f=Symbol("lastPromise"),h=Symbol("handlePromise"),d=Symbol("stream");function p(e,t){return{value:e,done:t}}function y(e){var t=e[a];if(null!==t){var r=e[d].read();null!==r&&(e[f]=null,e[a]=null,e[c]=null,t(p(r,!1)))}}function b(e){i.nextTick(y,e)}var m=Object.getPrototypeOf((function(){})),v=Object.setPrototypeOf((o(n={get stream(){return this[d]},next:function(){var e=this,t=this[u];if(null!==t)return Promise.reject(t);if(this[l])return Promise.resolve(p(void 0,!0));if(this[d].destroyed)return new Promise((function(t,r){i.nextTick((function(){e[u]?r(e[u]):t(p(void 0,!0))}))}));var r,n=this[f];if(n)r=new Promise(function(e,t){return function(r,n){e.then((function(){t[l]?r(p(void 0,!0)):t[h](r,n)}),n)}}(n,this));else{var o=this[d].read();if(null!==o)return Promise.resolve(p(o,!1));r=new Promise(this[h])}return this[f]=r,r}},Symbol.asyncIterator,(function(){return this})),o(n,"return",(function(){var e=this;return new Promise((function(t,r){e[d].destroy(null,(function(e){e?r(e):t(p(void 0,!0))}))}))})),n),m);e.exports=function(e){var t,r=Object.create(v,(o(t={},d,{value:e,writable:!0}),o(t,a,{value:null,writable:!0}),o(t,c,{value:null,writable:!0}),o(t,u,{value:null,writable:!0}),o(t,l,{value:e._readableState.endEmitted,writable:!0}),o(t,h,{value:function(e,t){var n=r[d].read();n?(r[f]=null,r[a]=null,r[c]=null,e(p(n,!1))):(r[a]=e,r[c]=t)},writable:!0}),t));return r[f]=null,s(e,(function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=r[c];return null!==t&&(r[f]=null,r[a]=null,r[c]=null,t(e)),void(r[u]=e)}var n=r[a];null!==n&&(r[f]=null,r[a]=null,r[c]=null,n(p(void 0,!0))),r[l]=!0})),e.on("readable",b.bind(null,r)),r}},80317:(e,t,r)=>{function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function o(e,t,r){return(t=a(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,a(n.key),n)}}function a(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}var c=r(1048).Buffer,u=r(62080).inspect,l=u&&u.custom||"inspect";e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}var t,r;return t=e,(r=[{key:"push",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r}},{key:"concat",value:function(e){if(0===this.length)return c.alloc(0);for(var t,r,n,i=c.allocUnsafe(e>>>0),o=this.head,s=0;o;)t=o.data,r=i,n=s,c.prototype.copy.call(t,r,n),s+=o.data.length,o=o.next;return i}},{key:"consume",value:function(e,t){var r;return e<this.head.data.length?(r=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):r=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),r}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,r=1,n=t.data;for(e-=n.length;t=t.next;){var i=t.data,o=e>i.length?i.length:e;if(o===i.length?n+=i:n+=i.slice(0,e),0==(e-=o)){o===i.length?(++r,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=i.slice(o));break}++r}return this.length-=r,n}},{key:"_getBuffer",value:function(e){var t=c.allocUnsafe(e),r=this.head,n=1;for(r.data.copy(t),e-=r.data.length;r=r.next;){var i=r.data,o=e>i.length?i.length:e;if(i.copy(t,t.length-e,0,o),0==(e-=o)){o===i.length?(++n,r.next?this.head=r.next:this.head=this.tail=null):(this.head=r,r.data=i.slice(o));break}++n}return this.length-=n,t}},{key:l,value:function(e,t){return u(this,i(i({},t),{},{depth:0,customInspect:!1}))}}])&&s(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}()},34532:(e,t,r)=>{var n=r(39907);function i(e,t){s(e,t),o(e)}function o(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function s(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var r=this,a=this._readableState&&this._readableState.destroyed,c=this._writableState&&this._writableState.destroyed;return a||c?(t?t(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,n.nextTick(s,this,e)):n.nextTick(s,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!t&&e?r._writableState?r._writableState.errorEmitted?n.nextTick(o,r):(r._writableState.errorEmitted=!0,n.nextTick(i,r,e)):n.nextTick(i,r,e):t?(n.nextTick(o,r),t(e)):n.nextTick(o,r)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(e,t){var r=e._readableState,n=e._writableState;r&&r.autoDestroy||n&&n.autoDestroy?e.destroy(t):e.emit("error",t)}}},86138:(e,t,r)=>{var n=r(5692).F.ERR_STREAM_PREMATURE_CLOSE;function i(){}e.exports=function e(t,r,o){if("function"==typeof r)return e(t,null,r);r||(r={}),o=function(e){var t=!1;return function(){if(!t){t=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];e.apply(this,n)}}}(o||i);var s=r.readable||!1!==r.readable&&t.readable,a=r.writable||!1!==r.writable&&t.writable,c=function(){t.writable||l()},u=t._writableState&&t._writableState.finished,l=function(){a=!1,u=!0,s||o.call(t)},f=t._readableState&&t._readableState.endEmitted,h=function(){s=!1,f=!0,a||o.call(t)},d=function(e){o.call(t,e)},p=function(){var e;return s&&!f?(t._readableState&&t._readableState.ended||(e=new n),o.call(t,e)):a&&!u?(t._writableState&&t._writableState.ended||(e=new n),o.call(t,e)):void 0},y=function(){t.req.on("finish",l)};return function(e){return e.setHeader&&"function"==typeof e.abort}(t)?(t.on("complete",l),t.on("abort",p),t.req?y():t.on("request",y)):a&&!t._writableState&&(t.on("end",c),t.on("close",c)),t.on("end",h),t.on("finish",l),!1!==r.error&&t.on("error",d),t.on("close",p),function(){t.removeListener("complete",l),t.removeListener("abort",p),t.removeListener("request",y),t.req&&t.req.removeListener("finish",l),t.removeListener("end",c),t.removeListener("close",c),t.removeListener("finish",l),t.removeListener("end",h),t.removeListener("error",d),t.removeListener("close",p)}}},2769:e=>{e.exports=function(){throw new Error("Readable.from is not available in the browser")}},55506:(e,t,r)=>{var n,i=r(5692).F,o=i.ERR_MISSING_ARGS,s=i.ERR_STREAM_DESTROYED;function a(e){if(e)throw e}function c(e){e()}function u(e,t){return e.pipe(t)}e.exports=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var l,f=function(e){return e.length?"function"!=typeof e[e.length-1]?a:e.pop():a}(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new o("streams");var h=t.map((function(e,i){var o=i<t.length-1;return function(e,t,i,o){o=function(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}(o);var a=!1;e.on("close",(function(){a=!0})),void 0===n&&(n=r(86138)),n(e,{readable:t,writable:i},(function(e){if(e)return o(e);a=!0,o()}));var c=!1;return function(t){if(!a&&!c)return c=!0,function(e){return e.setHeader&&"function"==typeof e.abort}(e)?e.abort():"function"==typeof e.destroy?e.destroy():void o(t||new s("pipe"))}}(e,o,i>0,(function(e){l||(l=e),e&&h.forEach(c),o||(h.forEach(c),f(l))}))}));return t.reduce(u)}},79983:(e,t,r)=>{var n=r(5692).F.ERR_INVALID_OPT_VALUE;e.exports={getHighWaterMark:function(e,t,r,i){var o=function(e,t,r){return null!=e.highWaterMark?e.highWaterMark:t?e[r]:null}(t,i,r);if(null!=o){if(!isFinite(o)||Math.floor(o)!==o||o<0)throw new n(i?r:"highWaterMark",o);return Math.floor(o)}return e.objectMode?16:16384}}},97845:(e,t,r)=>{e.exports=r(50046).EventEmitter},48635:(e,t,r)=>{(t=e.exports=r(56040)).Stream=t,t.Readable=t,t.Writable=r(65464),t.Duplex=r(60634),t.Transform=r(91846),t.PassThrough=r(82108),t.finished=r(86138),t.pipeline=r(55506)},7269:e=>{e.exports=e=>encodeURIComponent(e).replace(/[!'()*]/g,(e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`))},18888:(e,t,r)=>{var n=r(25636).Buffer,i=n.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(n.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=c,this.end=u,t=4;break;case"utf8":this.fillLast=a,t=4;break;case"base64":this.text=l,this.end=f,t=3;break;default:return this.write=h,void(this.end=d)}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(t)}function s(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function a(e){var t=this.lastTotal-this.lastNeed,r=function(e,t,r){if(128!=(192&t[0]))return e.lastNeed=0,"�";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"�";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,"�"}}(this,e);return void 0!==r?r:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function c(e,t){if((e.length-t)%2==0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function u(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function l(e,t){var r=(e.length-t)%3;return 0===r?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function f(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function h(e){return e.toString(this.encoding)}function d(e){return e&&e.length?this.write(e):""}t.StringDecoder=o,o.prototype.write=function(e){if(0===e.length)return"";var t,r;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},o.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"�":t},o.prototype.text=function(e,t){var r=function(e,t,r){var n=t.length-1;if(n<r)return 0;var i=s(t[n]);return i>=0?(i>0&&(e.lastNeed=i-1),i):--n<r||-2===i?0:(i=s(t[n]))>=0?(i>0&&(e.lastNeed=i-2),i):--n<r||-2===i?0:(i=s(t[n]))>=0?(i>0&&(2===i?i=0:e.lastNeed=i-3),i):0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)},o.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},55235:(e,t,r)=>{r.d(t,{$P:()=>v,vW:()=>g,aN:()=>w,T_:()=>b,SC:()=>m});var n=r(58444),i=r.n(n),o=r(62979);const{debug:s}=(0,o.createLoggers)("binding-bluetooth","WebBluetoothAdapter");class a extends n.BluetoothAdapter{async getCharacteristic(e,t,r){const n=(await navigator.bluetooth.getDevices()).find((t=>t.id===e));if(!n)throw new Error(`Device with id ${e} not found`);if(!n.gatt)throw new Error(`Device with id ${e} is not connected`);s(`connecting to decive ${n.id}`);const i=await n.gatt.connect();s(`Getting service ${t} of device ${n.id}`);const o=await i.getPrimaryService(t);return s(`Getting characteristic ${r} of service ${t} of device ${n.id}`),o.getCharacteristic(r)}async observeGAP(e,t){const r=[];e&&r.push({name:e}),s(`Starting scan with filters ${r}`),await navigator.bluetooth.requestLEScan({filters:r}),navigator.bluetooth.addEventListener("advertisementreceived",t)}}const c={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let u;const l=new Uint8Array(16);function f(){if(!u&&(u="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!u))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return u(l)}const h=[];for(let e=0;e<256;++e)h.push((e+256).toString(16).slice(1));const d=function(e,t,r){if(c.randomUUID&&!t&&!e)return c.randomUUID();const n=(e=e||{}).random||(e.rng||f)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){r=r||0;for(let e=0;e<16;++e)t[r+e]=n[e];return t}return function(e,t=0){return h[e[t+0]]+h[e[t+1]]+h[e[t+2]]+h[e[t+3]]+"-"+h[e[t+4]]+h[e[t+5]]+"-"+h[e[t+6]]+h[e[t+7]]+"-"+h[e[t+8]]+h[e[t+9]]+"-"+h[e[t+10]]+h[e[t+11]]+h[e[t+12]]+h[e[t+13]]+h[e[t+14]]+h[e[t+15]]}(n)},{debug:p}=(0,o.createLoggers)("binding-hid","WebHidAdapter");navigator.hid.requestDeviceAndAddId=async function(e){const t=await navigator.hid.requestDevice(e),r=[];for(const e of t){const t=d(),n=e;n.id=t,e.opened||await e.open(),r.push(n)}return r};const y=new(i())(a,class{async getDevice(e){p(`Getting device with id ${e}`);const t=await navigator.hid.getDevices();for(const r of t)if(r.id===e)return r;throw new Error(`Device with id ${e} not found`)}}),b=async()=>y.getWot(),m=async()=>y.resetServient(),v=async(e,t)=>y.createExposedThing(e,t),g=async(e,t)=>y.createThing(e,t),w=async(e,t,r)=>y.createThingWithHandlers(e,t,r)},2862:function(e,t){!function(e){function t(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];if(t.length>1){t[0]=t[0].slice(0,-1);for(var n=t.length-1,i=1;i<n;++i)t[i]=t[i].slice(1,-1);return t[n]=t[n].slice(1),t.join("")}return t[0]}function r(e){return"(?:"+e+")"}function n(e){return void 0===e?"undefined":null===e?"null":Object.prototype.toString.call(e).split(" ").pop().split("]").shift().toLowerCase()}function i(e){return e.toUpperCase()}function o(e){var n="[A-Za-z]",i="[0-9]",o=t(i,"[A-Fa-f]"),s=r(r("%[EFef]"+o+"%"+o+o+"%"+o+o)+"|"+r("%[89A-Fa-f]"+o+"%"+o+o)+"|"+r("%"+o+o)),a="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",c=t("[\\:\\/\\?\\#\\[\\]\\@]",a),u=e?"[\\uE000-\\uF8FF]":"[]",l=t(n,i,"[\\-\\.\\_\\~]",e?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]"),f=r(n+t(n,i,"[\\+\\-\\.]")+"*"),h=r(r(s+"|"+t(l,a,"[\\:]"))+"*"),d=(r(r("25[0-5]")+"|"+r("2[0-4]"+i)+"|"+r("1"+i+i)+"|"+r("[1-9]"+i)+"|"+i),r(r("25[0-5]")+"|"+r("2[0-4]"+i)+"|"+r("1"+i+i)+"|"+r("0?[1-9]"+i)+"|0?0?"+i)),p=r(d+"\\."+d+"\\."+d+"\\."+d),y=r(o+"{1,4}"),b=r(r(y+"\\:"+y)+"|"+p),m=r(r(y+"\\:")+"{6}"+b),v=r("\\:\\:"+r(y+"\\:")+"{5}"+b),g=r(r(y)+"?\\:\\:"+r(y+"\\:")+"{4}"+b),w=r(r(r(y+"\\:")+"{0,1}"+y)+"?\\:\\:"+r(y+"\\:")+"{3}"+b),_=r(r(r(y+"\\:")+"{0,2}"+y)+"?\\:\\:"+r(y+"\\:")+"{2}"+b),S=r(r(r(y+"\\:")+"{0,3}"+y)+"?\\:\\:"+y+"\\:"+b),E=r(r(r(y+"\\:")+"{0,4}"+y)+"?\\:\\:"+b),T=r(r(r(y+"\\:")+"{0,5}"+y)+"?\\:\\:"+y),O=r(r(r(y+"\\:")+"{0,6}"+y)+"?\\:\\:"),x=r([m,v,g,w,_,S,E,T,O].join("|")),A=r(r(l+"|"+s)+"+"),M=(r(x+"\\%25"+A),r(x+r("\\%25|\\%(?!"+o+"{2})")+A)),P=r("[vV]"+o+"+\\."+t(l,a,"[\\:]")+"+"),I=r("\\["+r(M+"|"+x+"|"+P)+"\\]"),j=r(r(s+"|"+t(l,a))+"*"),R=r(I+"|"+p+"(?!"+j+")|"+j),k=r(i+"*"),C=r(r(h+"@")+"?"+R+r("\\:"+k)+"?"),$=r(s+"|"+t(l,a,"[\\:\\@]")),N=r($+"*"),L=r($+"+"),B=r(r(s+"|"+t(l,a,"[\\@]"))+"+"),D=r(r("\\/"+N)+"*"),F=r("\\/"+r(L+D)+"?"),U=r(B+D),q=r(L+D),W="(?!"+$+")",z=(r(D+"|"+F+"|"+U+"|"+q+"|"+W),r(r($+"|"+t("[\\/\\?]",u))+"*")),V=r(r($+"|[\\/\\?]")+"*"),H=r(r("\\/\\/"+C+D)+"|"+F+"|"+q+"|"+W),G=r(f+"\\:"+H+r("\\?"+z)+"?"+r("\\#"+V)+"?"),K=r(r("\\/\\/"+C+D)+"|"+F+"|"+U+"|"+W),Y=r(K+r("\\?"+z)+"?"+r("\\#"+V)+"?");return r(G+"|"+Y),r(f+"\\:"+H+r("\\?"+z)+"?"),r(r("\\/\\/("+r("("+h+")@")+"?("+R+")"+r("\\:("+k+")")+"?)")+"?("+D+"|"+F+"|"+q+"|"+W+")"),r("\\?("+z+")"),r("\\#("+V+")"),r(r("\\/\\/("+r("("+h+")@")+"?("+R+")"+r("\\:("+k+")")+"?)")+"?("+D+"|"+F+"|"+U+"|"+W+")"),r("\\?("+z+")"),r("\\#("+V+")"),r(r("\\/\\/("+r("("+h+")@")+"?("+R+")"+r("\\:("+k+")")+"?)")+"?("+D+"|"+F+"|"+q+"|"+W+")"),r("\\?("+z+")"),r("\\#("+V+")"),r("("+h+")@"),r("\\:("+k+")"),{NOT_SCHEME:new RegExp(t("[^]",n,i,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(t("[^\\%\\:]",l,a),"g"),NOT_HOST:new RegExp(t("[^\\%\\[\\]\\:]",l,a),"g"),NOT_PATH:new RegExp(t("[^\\%\\/\\:\\@]",l,a),"g"),NOT_PATH_NOSCHEME:new RegExp(t("[^\\%\\/\\@]",l,a),"g"),NOT_QUERY:new RegExp(t("[^\\%]",l,a,"[\\:\\@\\/\\?]",u),"g"),NOT_FRAGMENT:new RegExp(t("[^\\%]",l,a,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(t("[^]",l,a),"g"),UNRESERVED:new RegExp(l,"g"),OTHER_CHARS:new RegExp(t("[^\\%]",l,c),"g"),PCT_ENCODED:new RegExp(s,"g"),IPV4ADDRESS:new RegExp("^("+p+")$"),IPV6ADDRESS:new RegExp("^\\[?("+x+")"+r(r("\\%25|\\%(?!"+o+"{2})")+"("+A+")")+"?\\]?$")}}var s=o(!1),a=o(!0),c=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,i=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(n=(s=a.next()).done)&&(r.push(s.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{!n&&a.return&&a.return()}finally{if(i)throw o}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},u=2147483647,l=36,f=/^xn--/,h=/[^\0-\x7E]/,d=/[\x2E\u3002\uFF0E\uFF61]/g,p={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},y=Math.floor,b=String.fromCharCode;function m(e){throw new RangeError(p[e])}function v(e,t){var r=e.split("@"),n="";return r.length>1&&(n=r[0]+"@",e=r[1]),n+function(e,t){for(var r=[],n=e.length;n--;)r[n]=t(e[n]);return r}((e=e.replace(d,".")).split("."),t).join(".")}function g(e){for(var t=[],r=0,n=e.length;r<n;){var i=e.charCodeAt(r++);if(i>=55296&&i<=56319&&r<n){var o=e.charCodeAt(r++);56320==(64512&o)?t.push(((1023&i)<<10)+(1023&o)+65536):(t.push(i),r--)}else t.push(i)}return t}var w=function(e,t){return e+22+75*(e<26)-((0!=t)<<5)},_=function(e,t,r){var n=0;for(e=r?y(e/700):e>>1,e+=y(e/t);e>455;n+=l)e=y(e/35);return y(n+36*e/(e+38))},S=function(e){var t,r=[],n=e.length,i=0,o=128,s=72,a=e.lastIndexOf("-");a<0&&(a=0);for(var c=0;c<a;++c)e.charCodeAt(c)>=128&&m("not-basic"),r.push(e.charCodeAt(c));for(var f=a>0?a+1:0;f<n;){for(var h=i,d=1,p=l;;p+=l){f>=n&&m("invalid-input");var b=(t=e.charCodeAt(f++))-48<10?t-22:t-65<26?t-65:t-97<26?t-97:l;(b>=l||b>y((u-i)/d))&&m("overflow"),i+=b*d;var v=p<=s?1:p>=s+26?26:p-s;if(b<v)break;var g=l-v;d>y(u/g)&&m("overflow"),d*=g}var w=r.length+1;s=_(i-h,w,0==h),y(i/w)>u-o&&m("overflow"),o+=y(i/w),i%=w,r.splice(i++,0,o)}return String.fromCodePoint.apply(String,r)},E=function(e){var t=[],r=(e=g(e)).length,n=128,i=0,o=72,s=!0,a=!1,c=void 0;try{for(var f,h=e[Symbol.iterator]();!(s=(f=h.next()).done);s=!0){var d=f.value;d<128&&t.push(b(d))}}catch(e){a=!0,c=e}finally{try{!s&&h.return&&h.return()}finally{if(a)throw c}}var p=t.length,v=p;for(p&&t.push("-");v<r;){var S=u,E=!0,T=!1,O=void 0;try{for(var x,A=e[Symbol.iterator]();!(E=(x=A.next()).done);E=!0){var M=x.value;M>=n&&M<S&&(S=M)}}catch(e){T=!0,O=e}finally{try{!E&&A.return&&A.return()}finally{if(T)throw O}}var P=v+1;S-n>y((u-i)/P)&&m("overflow"),i+=(S-n)*P,n=S;var I=!0,j=!1,R=void 0;try{for(var k,C=e[Symbol.iterator]();!(I=(k=C.next()).done);I=!0){var $=k.value;if($<n&&++i>u&&m("overflow"),$==n){for(var N=i,L=l;;L+=l){var B=L<=o?1:L>=o+26?26:L-o;if(N<B)break;var D=N-B,F=l-B;t.push(b(w(B+D%F,0))),N=y(D/F)}t.push(b(w(N,0))),o=_(i,P,v==p),i=0,++v}}}catch(e){j=!0,R=e}finally{try{!I&&C.return&&C.return()}finally{if(j)throw R}}++i,++n}return t.join("")},T={version:"2.1.0",ucs2:{decode:g,encode:function(e){return String.fromCodePoint.apply(String,function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}(e))}},decode:S,encode:E,toASCII:function(e){return v(e,(function(e){return h.test(e)?"xn--"+E(e):e}))},toUnicode:function(e){return v(e,(function(e){return f.test(e)?S(e.slice(4).toLowerCase()):e}))}},O={};function x(e){var t=e.charCodeAt(0);return t<16?"%0"+t.toString(16).toUpperCase():t<128?"%"+t.toString(16).toUpperCase():t<2048?"%"+(t>>6|192).toString(16).toUpperCase()+"%"+(63&t|128).toString(16).toUpperCase():"%"+(t>>12|224).toString(16).toUpperCase()+"%"+(t>>6&63|128).toString(16).toUpperCase()+"%"+(63&t|128).toString(16).toUpperCase()}function A(e){for(var t="",r=0,n=e.length;r<n;){var i=parseInt(e.substr(r+1,2),16);if(i<128)t+=String.fromCharCode(i),r+=3;else if(i>=194&&i<224){if(n-r>=6){var o=parseInt(e.substr(r+4,2),16);t+=String.fromCharCode((31&i)<<6|63&o)}else t+=e.substr(r,6);r+=6}else if(i>=224){if(n-r>=9){var s=parseInt(e.substr(r+4,2),16),a=parseInt(e.substr(r+7,2),16);t+=String.fromCharCode((15&i)<<12|(63&s)<<6|63&a)}else t+=e.substr(r,9);r+=9}else t+=e.substr(r,3),r+=3}return t}function M(e,t){function r(e){var r=A(e);return r.match(t.UNRESERVED)?r:e}return e.scheme&&(e.scheme=String(e.scheme).replace(t.PCT_ENCODED,r).toLowerCase().replace(t.NOT_SCHEME,"")),void 0!==e.userinfo&&(e.userinfo=String(e.userinfo).replace(t.PCT_ENCODED,r).replace(t.NOT_USERINFO,x).replace(t.PCT_ENCODED,i)),void 0!==e.host&&(e.host=String(e.host).replace(t.PCT_ENCODED,r).toLowerCase().replace(t.NOT_HOST,x).replace(t.PCT_ENCODED,i)),void 0!==e.path&&(e.path=String(e.path).replace(t.PCT_ENCODED,r).replace(e.scheme?t.NOT_PATH:t.NOT_PATH_NOSCHEME,x).replace(t.PCT_ENCODED,i)),void 0!==e.query&&(e.query=String(e.query).replace(t.PCT_ENCODED,r).replace(t.NOT_QUERY,x).replace(t.PCT_ENCODED,i)),void 0!==e.fragment&&(e.fragment=String(e.fragment).replace(t.PCT_ENCODED,r).replace(t.NOT_FRAGMENT,x).replace(t.PCT_ENCODED,i)),e}function P(e){return e.replace(/^0*(.*)/,"$1")||"0"}function I(e,t){var r=e.match(t.IPV4ADDRESS)||[],n=c(r,2)[1];return n?n.split(".").map(P).join("."):e}function j(e,t){var r=e.match(t.IPV6ADDRESS)||[],n=c(r,3),i=n[1],o=n[2];if(i){for(var s=i.toLowerCase().split("::").reverse(),a=c(s,2),u=a[0],l=a[1],f=l?l.split(":").map(P):[],h=u.split(":").map(P),d=t.IPV4ADDRESS.test(h[h.length-1]),p=d?7:8,y=h.length-p,b=Array(p),m=0;m<p;++m)b[m]=f[m]||h[y+m]||"";d&&(b[p-1]=I(b[p-1],t));var v=b.reduce((function(e,t,r){if(!t||"0"===t){var n=e[e.length-1];n&&n.index+n.length===r?n.length++:e.push({index:r,length:1})}return e}),[]).sort((function(e,t){return t.length-e.length}))[0],g=void 0;if(v&&v.length>1){var w=b.slice(0,v.index),_=b.slice(v.index+v.length);g=w.join(":")+"::"+_.join(":")}else g=b.join(":");return o&&(g+="%"+o),g}return e}var R=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,k=void 0==="".match(/(){0}/)[1];function C(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r={},n=!1!==t.iri?a:s;"suffix"===t.reference&&(e=(t.scheme?t.scheme+":":"")+"//"+e);var i=e.match(R);if(i){k?(r.scheme=i[1],r.userinfo=i[3],r.host=i[4],r.port=parseInt(i[5],10),r.path=i[6]||"",r.query=i[7],r.fragment=i[8],isNaN(r.port)&&(r.port=i[5])):(r.scheme=i[1]||void 0,r.userinfo=-1!==e.indexOf("@")?i[3]:void 0,r.host=-1!==e.indexOf("//")?i[4]:void 0,r.port=parseInt(i[5],10),r.path=i[6]||"",r.query=-1!==e.indexOf("?")?i[7]:void 0,r.fragment=-1!==e.indexOf("#")?i[8]:void 0,isNaN(r.port)&&(r.port=e.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?i[4]:void 0)),r.host&&(r.host=j(I(r.host,n),n)),void 0!==r.scheme||void 0!==r.userinfo||void 0!==r.host||void 0!==r.port||r.path||void 0!==r.query?void 0===r.scheme?r.reference="relative":void 0===r.fragment?r.reference="absolute":r.reference="uri":r.reference="same-document",t.reference&&"suffix"!==t.reference&&t.reference!==r.reference&&(r.error=r.error||"URI is not a "+t.reference+" reference.");var o=O[(t.scheme||r.scheme||"").toLowerCase()];if(t.unicodeSupport||o&&o.unicodeSupport)M(r,n);else{if(r.host&&(t.domainHost||o&&o.domainHost))try{r.host=T.toASCII(r.host.replace(n.PCT_ENCODED,A).toLowerCase())}catch(e){r.error=r.error||"Host's domain name can not be converted to ASCII via punycode: "+e}M(r,s)}o&&o.parse&&o.parse(r,t)}else r.error=r.error||"URI can not be parsed.";return r}var $=/^\.\.?\//,N=/^\/\.(\/|$)/,L=/^\/\.\.(\/|$)/,B=/^\/?(?:.|\n)*?(?=\/|$)/;function D(e){for(var t=[];e.length;)if(e.match($))e=e.replace($,"");else if(e.match(N))e=e.replace(N,"/");else if(e.match(L))e=e.replace(L,"/"),t.pop();else if("."===e||".."===e)e="";else{var r=e.match(B);if(!r)throw new Error("Unexpected dot segment condition");var n=r[0];e=e.slice(n.length),t.push(n)}return t.join("")}function F(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.iri?a:s,n=[],i=O[(t.scheme||e.scheme||"").toLowerCase()];if(i&&i.serialize&&i.serialize(e,t),e.host)if(r.IPV6ADDRESS.test(e.host));else if(t.domainHost||i&&i.domainHost)try{e.host=t.iri?T.toUnicode(e.host):T.toASCII(e.host.replace(r.PCT_ENCODED,A).toLowerCase())}catch(r){e.error=e.error||"Host's domain name can not be converted to "+(t.iri?"Unicode":"ASCII")+" via punycode: "+r}M(e,r),"suffix"!==t.reference&&e.scheme&&(n.push(e.scheme),n.push(":"));var o=function(e,t){var r=!1!==t.iri?a:s,n=[];return void 0!==e.userinfo&&(n.push(e.userinfo),n.push("@")),void 0!==e.host&&n.push(j(I(String(e.host),r),r).replace(r.IPV6ADDRESS,(function(e,t,r){return"["+t+(r?"%25"+r:"")+"]"}))),"number"!=typeof e.port&&"string"!=typeof e.port||(n.push(":"),n.push(String(e.port))),n.length?n.join(""):void 0}(e,t);if(void 0!==o&&("suffix"!==t.reference&&n.push("//"),n.push(o),e.path&&"/"!==e.path.charAt(0)&&n.push("/")),void 0!==e.path){var c=e.path;t.absolutePath||i&&i.absolutePath||(c=D(c)),void 0===o&&(c=c.replace(/^\/\//,"/%2F")),n.push(c)}return void 0!==e.query&&(n.push("?"),n.push(e.query)),void 0!==e.fragment&&(n.push("#"),n.push(e.fragment)),n.join("")}function U(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n={};return arguments[3]||(e=C(F(e,r),r),t=C(F(t,r),r)),!(r=r||{}).tolerant&&t.scheme?(n.scheme=t.scheme,n.userinfo=t.userinfo,n.host=t.host,n.port=t.port,n.path=D(t.path||""),n.query=t.query):(void 0!==t.userinfo||void 0!==t.host||void 0!==t.port?(n.userinfo=t.userinfo,n.host=t.host,n.port=t.port,n.path=D(t.path||""),n.query=t.query):(t.path?("/"===t.path.charAt(0)?n.path=D(t.path):(void 0===e.userinfo&&void 0===e.host&&void 0===e.port||e.path?e.path?n.path=e.path.slice(0,e.path.lastIndexOf("/")+1)+t.path:n.path=t.path:n.path="/"+t.path,n.path=D(n.path)),n.query=t.query):(n.path=e.path,void 0!==t.query?n.query=t.query:n.query=e.query),n.userinfo=e.userinfo,n.host=e.host,n.port=e.port),n.scheme=e.scheme),n.fragment=t.fragment,n}function q(e,t){return e&&e.toString().replace(t&&t.iri?a.PCT_ENCODED:s.PCT_ENCODED,A)}var W={scheme:"http",domainHost:!0,parse:function(e,t){return e.host||(e.error=e.error||"HTTP URIs must have a host."),e},serialize:function(e,t){var r="https"===String(e.scheme).toLowerCase();return e.port!==(r?443:80)&&""!==e.port||(e.port=void 0),e.path||(e.path="/"),e}},z={scheme:"https",domainHost:W.domainHost,parse:W.parse,serialize:W.serialize};function V(e){return"boolean"==typeof e.secure?e.secure:"wss"===String(e.scheme).toLowerCase()}var H={scheme:"ws",domainHost:!0,parse:function(e,t){var r=e;return r.secure=V(r),r.resourceName=(r.path||"/")+(r.query?"?"+r.query:""),r.path=void 0,r.query=void 0,r},serialize:function(e,t){if(e.port!==(V(e)?443:80)&&""!==e.port||(e.port=void 0),"boolean"==typeof e.secure&&(e.scheme=e.secure?"wss":"ws",e.secure=void 0),e.resourceName){var r=e.resourceName.split("?"),n=c(r,2),i=n[0],o=n[1];e.path=i&&"/"!==i?i:void 0,e.query=o,e.resourceName=void 0}return e.fragment=void 0,e}},G={scheme:"wss",domainHost:H.domainHost,parse:H.parse,serialize:H.serialize},K={},Y="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",J="[0-9A-Fa-f]",X=r(r("%[EFef]"+J+"%"+J+J+"%"+J+J)+"|"+r("%[89A-Fa-f]"+J+"%"+J+J)+"|"+r("%"+J+J)),Z=t("[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",'[\\"\\\\]'),Q=new RegExp(Y,"g"),ee=new RegExp(X,"g"),te=new RegExp(t("[^]","[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]","[\\.]",'[\\"]',Z),"g"),re=new RegExp(t("[^]",Y,"[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]"),"g"),ne=re;function ie(e){var t=A(e);return t.match(Q)?t:e}var oe={scheme:"mailto",parse:function(e,t){var r=e,n=r.to=r.path?r.path.split(","):[];if(r.path=void 0,r.query){for(var i=!1,o={},s=r.query.split("&"),a=0,c=s.length;a<c;++a){var u=s[a].split("=");switch(u[0]){case"to":for(var l=u[1].split(","),f=0,h=l.length;f<h;++f)n.push(l[f]);break;case"subject":r.subject=q(u[1],t);break;case"body":r.body=q(u[1],t);break;default:i=!0,o[q(u[0],t)]=q(u[1],t)}}i&&(r.headers=o)}r.query=void 0;for(var d=0,p=n.length;d<p;++d){var y=n[d].split("@");if(y[0]=q(y[0]),t.unicodeSupport)y[1]=q(y[1],t).toLowerCase();else try{y[1]=T.toASCII(q(y[1],t).toLowerCase())}catch(e){r.error=r.error||"Email address's domain name can not be converted to ASCII via punycode: "+e}n[d]=y.join("@")}return r},serialize:function(e,t){var r,n=e,o=null!=(r=e.to)?r instanceof Array?r:"number"!=typeof r.length||r.split||r.setInterval||r.call?[r]:Array.prototype.slice.call(r):[];if(o){for(var s=0,a=o.length;s<a;++s){var c=String(o[s]),u=c.lastIndexOf("@"),l=c.slice(0,u).replace(ee,ie).replace(ee,i).replace(te,x),f=c.slice(u+1);try{f=t.iri?T.toUnicode(f):T.toASCII(q(f,t).toLowerCase())}catch(e){n.error=n.error||"Email address's domain name can not be converted to "+(t.iri?"Unicode":"ASCII")+" via punycode: "+e}o[s]=l+"@"+f}n.path=o.join(",")}var h=e.headers=e.headers||{};e.subject&&(h.subject=e.subject),e.body&&(h.body=e.body);var d=[];for(var p in h)h[p]!==K[p]&&d.push(p.replace(ee,ie).replace(ee,i).replace(re,x)+"="+h[p].replace(ee,ie).replace(ee,i).replace(ne,x));return d.length&&(n.query=d.join("&")),n}},se=/^([^\:]+)\:(.*)/,ae={scheme:"urn",parse:function(e,t){var r=e.path&&e.path.match(se),n=e;if(r){var i=t.scheme||n.scheme||"urn",o=r[1].toLowerCase(),s=r[2],a=i+":"+(t.nid||o),c=O[a];n.nid=o,n.nss=s,n.path=void 0,c&&(n=c.parse(n,t))}else n.error=n.error||"URN can not be parsed.";return n},serialize:function(e,t){var r=t.scheme||e.scheme||"urn",n=e.nid,i=r+":"+(t.nid||n),o=O[i];o&&(e=o.serialize(e,t));var s=e,a=e.nss;return s.path=(n||t.nid)+":"+a,s}},ce=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,ue={scheme:"urn:uuid",parse:function(e,t){var r=e;return r.uuid=r.nss,r.nss=void 0,t.tolerant||r.uuid&&r.uuid.match(ce)||(r.error=r.error||"UUID is not valid."),r},serialize:function(e,t){var r=e;return r.nss=(e.uuid||"").toLowerCase(),r}};O[W.scheme]=W,O[z.scheme]=z,O[H.scheme]=H,O[G.scheme]=G,O[oe.scheme]=oe,O[ae.scheme]=ae,O[ue.scheme]=ue,e.SCHEMES=O,e.pctEncChar=x,e.pctDecChars=A,e.parse=C,e.removeDotSegments=D,e.serialize=F,e.resolveComponents=U,e.resolve=function(e,t,r){var n=function(e,t){var r=e;if(t)for(var n in t)r[n]=t[n];return r}({scheme:"null"},r);return F(U(C(e,n),C(t,n),n,!0),n)},e.normalize=function(e,t){return"string"==typeof e?e=F(C(e,t),t):"object"===n(e)&&(e=C(F(e,t),t)),e},e.equal=function(e,t,r){return"string"==typeof e?e=F(C(e,r),r):"object"===n(e)&&(e=F(e,r)),"string"==typeof t?t=F(C(t,r),r):"object"===n(t)&&(t=F(t,r)),e===t},e.escapeComponent=function(e,t){return e&&e.toString().replace(t&&t.iri?a.ESCAPE:s.ESCAPE,x)},e.unescapeComponent=q,Object.defineProperty(e,"__esModule",{value:!0})}(t)},68492:e=>{!function(t){var r=function(){function e(e){this.options=e}return e.prototype.toString=function(){return JSON&&JSON.stringify?JSON.stringify(this.options):this.options},e}(),n={isArray:function(e){return"[object Array]"===Object.prototype.toString.apply(e)},isString:function(e){return"[object String]"===Object.prototype.toString.apply(e)},isNumber:function(e){return"[object Number]"===Object.prototype.toString.apply(e)},isBoolean:function(e){return"[object Boolean]"===Object.prototype.toString.apply(e)},join:function(e,t){var r,n="",i=!0;for(r=0;r<e.length;r+=1)i?i=!1:n+=t,n+=e[r];return n},map:function(e,t){for(var r=[],n=0;n<e.length;n+=1)r.push(t(e[n]));return r},filter:function(e,t){for(var r=[],n=0;n<e.length;n+=1)t(e[n])&&r.push(e[n]);return r},deepFreeze:function e(t){return"function"==typeof Object.freeze?function(t){if("object"!=typeof t||null===t)return t;var r,n;for(n in Object.freeze(t),t)t.hasOwnProperty(n)&&"object"==typeof(r=t[n])&&e(r);return t}(t):t}},i=function(){function e(e){return e>="0"&&e<="9"}return{isAlpha:function(e){return e>="a"&&e<="z"||e>="A"&&e<="Z"},isDigit:e,isHexDigit:function(t){return e(t)||t>="a"&&t<="f"||t>="A"&&t<="F"}}}(),o=function(){var e=function(e){return e<=127?1:194<=e&&e<=223?2:224<=e&&e<=239?3:240<=e&&e<=244?4:0},t=function(e){return 128<=e&&e<=191};function r(e,t){return"%"===e.charAt(t)&&i.isHexDigit(e.charAt(t+1))&&i.isHexDigit(e.charAt(t+2))}function n(e,t){return parseInt(e.substr(t,2),16)}return{encodeCharacter:function(e){var t,r,n="",i=function(e){return unescape(encodeURIComponent(e))}(e);for(r=0;r<i.length;r+=1)n+="%"+((t=i.charCodeAt(r))<16?"0":"")+t.toString(16).toUpperCase();return n},isPctEncoded:function(i){if(!r(i,0))return!1;var o=n(i,1),s=e(o);if(0===s)return!1;for(var a=1;a<s;a+=1)if(!r(i,3*a)||!t(n(i,3*a+1)))return!1;return!0},pctCharAt:function(i,o){var s=i.charAt(o);if(!r(i,o))return s;var a=n(i,o+1),c=e(a);if(0===c)return s;for(var u=1;u<c;u+=1)if(!r(i,o+3*u)||!t(n(i,o+3*u+1)))return s;return i.substr(o,3*c)}}}(),s=function(e){return i.isAlpha(e)||i.isDigit(e)||"_"===e||o.isPctEncoded(e)},a=function(e){return i.isAlpha(e)||i.isDigit(e)||"-"===e||"."===e||"_"===e||"~"===e},c=function(e){return":"===e||"/"===e||"?"===e||"#"===e||"["===e||"]"===e||"@"===e||"!"===e||"$"===e||"&"===e||"("===e||")"===e||"*"===e||"+"===e||","===e||";"===e||"="===e||"'"===e},u=function(){function e(e,t){var r,n="",i="";for("number"!=typeof e&&"boolean"!=typeof e||(e=e.toString()),r=0;r<e.length;r+=i.length)i=e.charAt(r),n+=a(i)||t&&c(i)?i:o.encodeCharacter(i);return n}return{encode:e,encodePassReserved:function(t){return e(t,!0)},encodeLiteral:function(e){var t,r="",n="";for(t=0;t<e.length;t+=n.length)(n=o.pctCharAt(e,t)).length>1?r+=n:r+=c(n)||a(n)?n:o.encodeCharacter(n);return r},encodeLiteralCharacter:function(e,t){var r=o.pctCharAt(e,t);return r.length>1||c(r)||a(r)?r:o.encodeCharacter(r)}}}(),l=function(){var e={};function t(t){e[t]={symbol:t,separator:"?"===t?"&":""===t||"+"===t||"#"===t?",":t,named:";"===t||"&"===t||"?"===t,ifEmpty:"&"===t||"?"===t?"=":"",first:"+"===t?"":t,encode:"+"===t||"#"===t?u.encodePassReserved:u.encode,toString:function(){return this.symbol}}}return t(""),t("+"),t("#"),t("."),t("/"),t(";"),t("?"),t("&"),{valueOf:function(t){return e[t]?e[t]:"=,!@|".indexOf(t)>=0?null:e[""]}}}();function f(e){var t;if(null==e)return!1;if(n.isArray(e))return e.length>0;if("string"==typeof e||"number"==typeof e||"boolean"==typeof e)return!0;for(t in e)if(e.hasOwnProperty(t)&&f(e[t]))return!0;return!1}var h=function(){function e(e){this.literal=u.encodeLiteral(e)}return e.prototype.expand=function(){return this.literal},e.prototype.toString=e.prototype.expand,e}(),d=function(){function e(e){var t,n,a=[],c=null,u=null,f=null,h="";function d(){var t=e.substring(u,n);if(0===t.length)throw new r({expressionText:e,message:"a varname must be specified",position:n});c={varname:t,exploded:!1,maxLength:null},u=null}function y(){if(f===n)throw new r({expressionText:e,message:"after a ':' you have to specify the length",position:n});c.maxLength=parseInt(e.substring(f,n),10),f=null}for(t=function(t){var i=l.valueOf(t);if(null===i)throw new r({expressionText:e,message:"illegal use of reserved operator",position:n,operator:t});return i}(e.charAt(0)),n=t.symbol.length,u=n;n<e.length;n+=h.length){if(h=o.pctCharAt(e,n),null!==u){if("."===h){if(u===n)throw new r({expressionText:e,message:"a varname MUST NOT start with a dot",position:n});continue}if(s(h))continue;d()}if(null!==f){if(n===f&&"0"===h)throw new r({expressionText:e,message:"A :prefix must not start with digit 0",position:n});if(i.isDigit(h)){if(n-f>=4)throw new r({expressionText:e,message:"A :prefix must have max 4 digits",position:n});continue}y()}if(":"!==h)if("*"!==h){if(","!==h)throw new r({expressionText:e,message:"illegal character",character:h,position:n});a.push(c),c=null,u=n+1}else{if(null===c)throw new r({expressionText:e,message:"exploded without varspec",position:n});if(c.exploded)throw new r({expressionText:e,message:"exploded twice",position:n});if(c.maxLength)throw new r({expressionText:e,message:"an explode (*) MUST NOT follow to a prefix",position:n});c.exploded=!0}else{if(null!==c.maxLength)throw new r({expressionText:e,message:"only one :maxLength is allowed per varspec",position:n});if(c.exploded)throw new r({expressionText:e,message:"an exploeded varspec MUST NOT be varspeced",position:n});f=n+1}}return null!==u&&d(),null!==f&&y(),a.push(c),new p(e,t,a)}return function(t){var n,i,o=[],s=null,a=0;for(n=0;n<t.length;n+=1)if(i=t.charAt(n),null===a){if(null===s)throw new Error("reached unreachable code");if("{"===i)throw new r({templateText:t,message:"brace already opened",position:n});if("}"===i){if(s+1===n)throw new r({templateText:t,message:"empty braces",position:s});try{o.push(e(t.substring(s+1,n)))}catch(e){if(e.prototype===r.prototype)throw new r({templateText:t,message:e.options.message,position:s+e.options.position,details:e.options});throw e}s=null,a=n+1}}else{if("}"===i)throw new r({templateText:t,message:"unopened brace closed",position:n});"{"===i&&(a<n&&o.push(new h(t.substring(a,n))),a=null,s=n)}if(null!==s)throw new r({templateText:t,message:"unclosed brace",position:s});return a<t.length&&o.push(new h(t.substr(a))),new y(t,o)}}(),p=function(){function e(e){return JSON&&JSON.stringify?JSON.stringify(e):e}function t(e){if(!f(e))return!0;if(n.isString(e))return""===e;if(n.isNumber(e)||n.isBoolean(e))return!1;if(n.isArray(e))return 0===e.length;for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}function r(e){var t,r=[];for(t in e)e.hasOwnProperty(t)&&r.push({name:t,value:e[t]});return r}function i(e,t,r){this.templateText=e,this.operator=t,this.varspecs=r}function o(e,t,r){var n="";if(r=r.toString(),t.named){if(n+=u.encodeLiteral(e.varname),""===r)return n+t.ifEmpty;n+="="}return null!==e.maxLength&&(r=r.substr(0,e.maxLength)),n+t.encode(r)}function s(e){return f(e.value)}function a(e,i,o){var a=[],c="";if(i.named){if(c+=u.encodeLiteral(e.varname),t(o))return c+i.ifEmpty;c+="="}return n.isArray(o)?(a=o,a=n.filter(a,f),a=n.map(a,i.encode),c+=n.join(a,",")):(a=r(o),a=n.filter(a,s),a=n.map(a,(function(e){return i.encode(e.name)+","+i.encode(e.value)})),c+=n.join(a,",")),c}function c(e,i,o){var a=[];return n.isArray(o)?(a=o,a=n.filter(a,f),a=n.map(a,(function(r){var n=u.encodeLiteral(e.varname);return t(r)?n+=i.ifEmpty:n+="="+i.encode(r),n}))):(a=r(o),a=n.filter(a,s),a=n.map(a,(function(e){var r=u.encodeLiteral(e.name);return t(e.value)?r+=i.ifEmpty:r+="="+i.encode(e.value),r}))),n.join(a,i.separator)}function l(e,t){var i=[],o="";return n.isArray(t)?(i=t,i=n.filter(i,f),i=n.map(i,e.encode),o+=n.join(i,e.separator)):(i=r(t),i=n.filter(i,(function(e){return f(e.value)})),i=n.map(i,(function(t){return e.encode(t.name)+"="+e.encode(t.value)})),o+=n.join(i,e.separator)),o}return i.prototype.toString=function(){return this.templateText},i.prototype.expand=function(r){var i,s,u,h=[],d=this.operator;for(i=0;i<this.varspecs.length;i+=1)if(null!=(u=r[(s=this.varspecs[i]).varname]))if(s.exploded,n.isArray(u),"string"==typeof u||"number"==typeof u||"boolean"==typeof u)h.push(o(s,d,u));else{if(s.maxLength&&f(u))throw new Error("Prefix modifiers are not applicable to variables that have composite values. You tried to expand "+this+" with "+e(u));s.exploded?f(u)&&(d.named?h.push(c(s,d,u)):h.push(l(d,u))):!d.named&&t(u)||h.push(a(s,d,u))}return 0===h.length?"":d.first+n.join(h,d.separator)},i}(),y=function(){function e(e,t){this.templateText=e,this.expressions=t,n.deepFreeze(this)}return e.prototype.toString=function(){return this.templateText},e.prototype.expand=function(e){var t,r="";for(t=0;t<this.expressions.length;t+=1)r+=this.expressions[t].expand(e);return r},e.parse=d,e.UriTemplateError=r,e}();!function(t){e.exports=t}(y)}()},79731:function(e){var t,r,n,i,o;t=/^((?:[a-zA-Z0-9+\-.]+:)?)(\/\/[^\/?#]*)?((?:[^\/\?#]*\/)*.*?)??(;.*?)?(\?.*?)?(#.*?)?$/,r=/^([^\/?#]*)(.*)$/,n=/(?:\/|^)\.(?=\/)/g,i=/(?:\/|^)\.\.\/(?!\.\.\/).*?(?=\/)/g,o={buildAbsoluteURL:function(e,t,n){if(n=n||{},e=e.trim(),!(t=t.trim())){if(!n.alwaysNormalize)return e;var i=o.parseURL(e);if(!i)throw new Error("Error trying to parse base URL.");return i.path=o.normalizePath(i.path),o.buildURLFromParts(i)}var s=o.parseURL(t);if(!s)throw new Error("Error trying to parse relative URL.");if(s.scheme)return n.alwaysNormalize?(s.path=o.normalizePath(s.path),o.buildURLFromParts(s)):t;var a=o.parseURL(e);if(!a)throw new Error("Error trying to parse base URL.");if(!a.netLoc&&a.path&&"/"!==a.path[0]){var c=r.exec(a.path);a.netLoc=c[1],a.path=c[2]}a.netLoc&&!a.path&&(a.path="/");var u={scheme:a.scheme,netLoc:s.netLoc,path:null,params:s.params,query:s.query,fragment:s.fragment};if(!s.netLoc&&(u.netLoc=a.netLoc,"/"!==s.path[0]))if(s.path){var l=a.path,f=l.substring(0,l.lastIndexOf("/")+1)+s.path;u.path=o.normalizePath(f)}else u.path=a.path,s.params||(u.params=a.params,s.query||(u.query=a.query));return null===u.path&&(u.path=n.alwaysNormalize?o.normalizePath(s.path):s.path),o.buildURLFromParts(u)},parseURL:function(e){var r=t.exec(e);return r?{scheme:r[1]||"",netLoc:r[2]||"",path:r[3]||"",params:r[4]||"",query:r[5]||"",fragment:r[6]||""}:null},normalizePath:function(e){for(e=e.split("").reverse().join("").replace(n,"");e.length!==(e=e.replace(i,"")).length;);return e.split("").reverse().join("")},buildURLFromParts:function(e){return e.scheme+e.netLoc+e.path+e.params+e.query+e.fragment}},e.exports=o},62113:function(e,t,r){var n;e=r.nmd(e),function(i){t&&t.nodeType,e&&e.nodeType;var o="object"==typeof r.g&&r.g;o.global!==o&&o.window!==o&&o.self;var s,a=2147483647,c=36,u=26,l=38,f=700,h=/^xn--/,d=/[^\x20-\x7E]/,p=/[\x2E\u3002\uFF0E\uFF61]/g,y={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},b=c-1,m=Math.floor,v=String.fromCharCode;function g(e){throw new RangeError(y[e])}function w(e,t){for(var r=e.length,n=[];r--;)n[r]=t(e[r]);return n}function _(e,t){var r=e.split("@"),n="";return r.length>1&&(n=r[0]+"@",e=r[1]),n+w((e=e.replace(p,".")).split("."),t).join(".")}function S(e){for(var t,r,n=[],i=0,o=e.length;i<o;)(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<o?56320==(64512&(r=e.charCodeAt(i++)))?n.push(((1023&t)<<10)+(1023&r)+65536):(n.push(t),i--):n.push(t);return n}function E(e){return w(e,(function(e){var t="";return e>65535&&(t+=v((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+v(e)})).join("")}function T(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function O(e,t,r){var n=0;for(e=r?m(e/f):e>>1,e+=m(e/t);e>b*u>>1;n+=c)e=m(e/b);return m(n+(b+1)*e/(e+l))}function x(e){var t,r,n,i,o,s,l,f,h,d,p,y=[],b=e.length,v=0,w=128,_=72;for((r=e.lastIndexOf("-"))<0&&(r=0),n=0;n<r;++n)e.charCodeAt(n)>=128&&g("not-basic"),y.push(e.charCodeAt(n));for(i=r>0?r+1:0;i<b;){for(o=v,s=1,l=c;i>=b&&g("invalid-input"),((f=(p=e.charCodeAt(i++))-48<10?p-22:p-65<26?p-65:p-97<26?p-97:c)>=c||f>m((a-v)/s))&&g("overflow"),v+=f*s,!(f<(h=l<=_?1:l>=_+u?u:l-_));l+=c)s>m(a/(d=c-h))&&g("overflow"),s*=d;_=O(v-o,t=y.length+1,0==o),m(v/t)>a-w&&g("overflow"),w+=m(v/t),v%=t,y.splice(v++,0,w)}return E(y)}function A(e){var t,r,n,i,o,s,l,f,h,d,p,y,b,w,_,E=[];for(y=(e=S(e)).length,t=128,r=0,o=72,s=0;s<y;++s)(p=e[s])<128&&E.push(v(p));for(n=i=E.length,i&&E.push("-");n<y;){for(l=a,s=0;s<y;++s)(p=e[s])>=t&&p<l&&(l=p);for(l-t>m((a-r)/(b=n+1))&&g("overflow"),r+=(l-t)*b,t=l,s=0;s<y;++s)if((p=e[s])<t&&++r>a&&g("overflow"),p==t){for(f=r,h=c;!(f<(d=h<=o?1:h>=o+u?u:h-o));h+=c)_=f-d,w=c-d,E.push(v(T(d+_%w,0))),f=m(_/w);E.push(v(T(f,0))),o=O(r,b,n==i),r=0,++n}++r,++t}return E.join("")}s={version:"1.4.1",ucs2:{decode:S,encode:E},decode:x,encode:A,toASCII:function(e){return _(e,(function(e){return d.test(e)?"xn--"+A(e):e}))},toUnicode:function(e){return _(e,(function(e){return h.test(e)?x(e.slice(4).toLowerCase()):e}))}},void 0===(n=function(){return s}.call(t,r,t,e))||(e.exports=n)}()},56695:e=>{var t=String.prototype.replace,r=/%20/g,n="RFC3986";e.exports={default:n,formatters:{RFC1738:function(e){return t.call(e,r,"+")},RFC3986:function(e){return String(e)}},RFC1738:"RFC1738",RFC3986:n}},89667:(e,t,r)=>{var n=r(18322),i=r(61020),o=r(56695);e.exports={formats:o,parse:i,stringify:n}},61020:(e,t,r)=>{var n=r(87230),i=Object.prototype.hasOwnProperty,o=Array.isArray,s={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:n.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},a=function(e){return e.replace(/&#(\d+);/g,(function(e,t){return String.fromCharCode(parseInt(t,10))}))},c=function(e,t){return e&&"string"==typeof e&&t.comma&&e.indexOf(",")>-1?e.split(","):e},u=function(e,t,r,n){if(e){var o=r.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,s=/(\[[^[\]]*])/g,a=r.depth>0&&/(\[[^[\]]*])/.exec(o),u=a?o.slice(0,a.index):o,l=[];if(u){if(!r.plainObjects&&i.call(Object.prototype,u)&&!r.allowPrototypes)return;l.push(u)}for(var f=0;r.depth>0&&null!==(a=s.exec(o))&&f<r.depth;){if(f+=1,!r.plainObjects&&i.call(Object.prototype,a[1].slice(1,-1))&&!r.allowPrototypes)return;l.push(a[1])}return a&&l.push("["+o.slice(a.index)+"]"),function(e,t,r,n){for(var i=n?t:c(t,r),o=e.length-1;o>=0;--o){var s,a=e[o];if("[]"===a&&r.parseArrays)s=r.allowEmptyArrays&&""===i?[]:[].concat(i);else{s=r.plainObjects?Object.create(null):{};var u="["===a.charAt(0)&&"]"===a.charAt(a.length-1)?a.slice(1,-1):a,l=r.decodeDotInKeys?u.replace(/%2E/g,"."):u,f=parseInt(l,10);r.parseArrays||""!==l?!isNaN(f)&&a!==l&&String(f)===l&&f>=0&&r.parseArrays&&f<=r.arrayLimit?(s=[])[f]=i:"__proto__"!==l&&(s[l]=i):s={0:i}}i=s}return i}(l,t,r,n)}};e.exports=function(e,t){var r=function(e){if(!e)return s;if(void 0!==e.allowEmptyArrays&&"boolean"!=typeof e.allowEmptyArrays)throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(void 0!==e.decodeDotInKeys&&"boolean"!=typeof e.decodeDotInKeys)throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(null!==e.decoder&&void 0!==e.decoder&&"function"!=typeof e.decoder)throw new TypeError("Decoder has to be a function.");if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var t=void 0===e.charset?s.charset:e.charset,r=void 0===e.duplicates?s.duplicates:e.duplicates;if("combine"!==r&&"first"!==r&&"last"!==r)throw new TypeError("The duplicates option must be either combine, first, or last");return{allowDots:void 0===e.allowDots?!0===e.decodeDotInKeys||s.allowDots:!!e.allowDots,allowEmptyArrays:"boolean"==typeof e.allowEmptyArrays?!!e.allowEmptyArrays:s.allowEmptyArrays,allowPrototypes:"boolean"==typeof e.allowPrototypes?e.allowPrototypes:s.allowPrototypes,allowSparse:"boolean"==typeof e.allowSparse?e.allowSparse:s.allowSparse,arrayLimit:"number"==typeof e.arrayLimit?e.arrayLimit:s.arrayLimit,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:s.charsetSentinel,comma:"boolean"==typeof e.comma?e.comma:s.comma,decodeDotInKeys:"boolean"==typeof e.decodeDotInKeys?e.decodeDotInKeys:s.decodeDotInKeys,decoder:"function"==typeof e.decoder?e.decoder:s.decoder,delimiter:"string"==typeof e.delimiter||n.isRegExp(e.delimiter)?e.delimiter:s.delimiter,depth:"number"==typeof e.depth||!1===e.depth?+e.depth:s.depth,duplicates:r,ignoreQueryPrefix:!0===e.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof e.interpretNumericEntities?e.interpretNumericEntities:s.interpretNumericEntities,parameterLimit:"number"==typeof e.parameterLimit?e.parameterLimit:s.parameterLimit,parseArrays:!1!==e.parseArrays,plainObjects:"boolean"==typeof e.plainObjects?e.plainObjects:s.plainObjects,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:s.strictNullHandling}}(t);if(""===e||null==e)return r.plainObjects?Object.create(null):{};for(var l="string"==typeof e?function(e,t){var r,u={__proto__:null},l=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,f=t.parameterLimit===1/0?void 0:t.parameterLimit,h=l.split(t.delimiter,f),d=-1,p=t.charset;if(t.charsetSentinel)for(r=0;r<h.length;++r)0===h[r].indexOf("utf8=")&&("utf8=%E2%9C%93"===h[r]?p="utf-8":"utf8=%26%2310003%3B"===h[r]&&(p="iso-8859-1"),d=r,r=h.length);for(r=0;r<h.length;++r)if(r!==d){var y,b,m=h[r],v=m.indexOf("]="),g=-1===v?m.indexOf("="):v+1;-1===g?(y=t.decoder(m,s.decoder,p,"key"),b=t.strictNullHandling?null:""):(y=t.decoder(m.slice(0,g),s.decoder,p,"key"),b=n.maybeMap(c(m.slice(g+1),t),(function(e){return t.decoder(e,s.decoder,p,"value")}))),b&&t.interpretNumericEntities&&"iso-8859-1"===p&&(b=a(b)),m.indexOf("[]=")>-1&&(b=o(b)?[b]:b);var w=i.call(u,y);w&&"combine"===t.duplicates?u[y]=n.combine(u[y],b):w&&"last"!==t.duplicates||(u[y]=b)}return u}(e,r):e,f=r.plainObjects?Object.create(null):{},h=Object.keys(l),d=0;d<h.length;++d){var p=h[d],y=u(p,l[p],r,"string"==typeof e);f=n.merge(f,y,r)}return!0===r.allowSparse?f:n.compact(f)}},18322:(e,t,r)=>{var n=r(77575),i=r(87230),o=r(56695),s=Object.prototype.hasOwnProperty,a={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},c=Array.isArray,u=Array.prototype.push,l=function(e,t){u.apply(e,c(t)?t:[t])},f=Date.prototype.toISOString,h=o.default,d={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:i.encode,encodeValuesOnly:!1,format:h,formatter:o.formatters[h],indices:!1,serializeDate:function(e){return f.call(e)},skipNulls:!1,strictNullHandling:!1},p={},y=function e(t,r,o,s,a,u,f,h,y,b,m,v,g,w,_,S,E,T){for(var O,x=t,A=T,M=0,P=!1;void 0!==(A=A.get(p))&&!P;){var I=A.get(t);if(M+=1,void 0!==I){if(I===M)throw new RangeError("Cyclic object value");P=!0}void 0===A.get(p)&&(M=0)}if("function"==typeof b?x=b(r,x):x instanceof Date?x=g(x):"comma"===o&&c(x)&&(x=i.maybeMap(x,(function(e){return e instanceof Date?g(e):e}))),null===x){if(u)return y&&!S?y(r,d.encoder,E,"key",w):r;x=""}if("string"==typeof(O=x)||"number"==typeof O||"boolean"==typeof O||"symbol"==typeof O||"bigint"==typeof O||i.isBuffer(x))return y?[_(S?r:y(r,d.encoder,E,"key",w))+"="+_(y(x,d.encoder,E,"value",w))]:[_(r)+"="+_(String(x))];var j,R=[];if(void 0===x)return R;if("comma"===o&&c(x))S&&y&&(x=i.maybeMap(x,y)),j=[{value:x.length>0?x.join(",")||null:void 0}];else if(c(b))j=b;else{var k=Object.keys(x);j=m?k.sort(m):k}var C=h?r.replace(/\./g,"%2E"):r,$=s&&c(x)&&1===x.length?C+"[]":C;if(a&&c(x)&&0===x.length)return $+"[]";for(var N=0;N<j.length;++N){var L=j[N],B="object"==typeof L&&void 0!==L.value?L.value:x[L];if(!f||null!==B){var D=v&&h?L.replace(/\./g,"%2E"):L,F=c(x)?"function"==typeof o?o($,D):$:$+(v?"."+D:"["+D+"]");T.set(t,M);var U=n();U.set(p,T),l(R,e(B,F,o,s,a,u,f,h,"comma"===o&&S&&c(x)?null:y,b,m,v,g,w,_,S,E,U))}}return R};e.exports=function(e,t){var r,i=e,u=function(e){if(!e)return d;if(void 0!==e.allowEmptyArrays&&"boolean"!=typeof e.allowEmptyArrays)throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(void 0!==e.encodeDotInKeys&&"boolean"!=typeof e.encodeDotInKeys)throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(null!==e.encoder&&void 0!==e.encoder&&"function"!=typeof e.encoder)throw new TypeError("Encoder has to be a function.");var t=e.charset||d.charset;if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=o.default;if(void 0!==e.format){if(!s.call(o.formatters,e.format))throw new TypeError("Unknown format option provided.");r=e.format}var n,i=o.formatters[r],u=d.filter;if(("function"==typeof e.filter||c(e.filter))&&(u=e.filter),n=e.arrayFormat in a?e.arrayFormat:"indices"in e?e.indices?"indices":"repeat":d.arrayFormat,"commaRoundTrip"in e&&"boolean"!=typeof e.commaRoundTrip)throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var l=void 0===e.allowDots?!0===e.encodeDotInKeys||d.allowDots:!!e.allowDots;return{addQueryPrefix:"boolean"==typeof e.addQueryPrefix?e.addQueryPrefix:d.addQueryPrefix,allowDots:l,allowEmptyArrays:"boolean"==typeof e.allowEmptyArrays?!!e.allowEmptyArrays:d.allowEmptyArrays,arrayFormat:n,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:d.charsetSentinel,commaRoundTrip:e.commaRoundTrip,delimiter:void 0===e.delimiter?d.delimiter:e.delimiter,encode:"boolean"==typeof e.encode?e.encode:d.encode,encodeDotInKeys:"boolean"==typeof e.encodeDotInKeys?e.encodeDotInKeys:d.encodeDotInKeys,encoder:"function"==typeof e.encoder?e.encoder:d.encoder,encodeValuesOnly:"boolean"==typeof e.encodeValuesOnly?e.encodeValuesOnly:d.encodeValuesOnly,filter:u,format:r,formatter:i,serializeDate:"function"==typeof e.serializeDate?e.serializeDate:d.serializeDate,skipNulls:"boolean"==typeof e.skipNulls?e.skipNulls:d.skipNulls,sort:"function"==typeof e.sort?e.sort:null,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:d.strictNullHandling}}(t);"function"==typeof u.filter?i=(0,u.filter)("",i):c(u.filter)&&(r=u.filter);var f=[];if("object"!=typeof i||null===i)return"";var h=a[u.arrayFormat],p="comma"===h&&u.commaRoundTrip;r||(r=Object.keys(i)),u.sort&&r.sort(u.sort);for(var b=n(),m=0;m<r.length;++m){var v=r[m];u.skipNulls&&null===i[v]||l(f,y(i[v],v,h,p,u.allowEmptyArrays,u.strictNullHandling,u.skipNulls,u.encodeDotInKeys,u.encode?u.encoder:null,u.filter,u.sort,u.allowDots,u.serializeDate,u.format,u.formatter,u.encodeValuesOnly,u.charset,b))}var g=f.join(u.delimiter),w=!0===u.addQueryPrefix?"?":"";return u.charsetSentinel&&("iso-8859-1"===u.charset?w+="utf8=%26%2310003%3B&":w+="utf8=%E2%9C%93&"),g.length>0?w+g:""}},87230:(e,t,r)=>{var n=r(56695),i=Object.prototype.hasOwnProperty,o=Array.isArray,s=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),a=function(e,t){for(var r=t&&t.plainObjects?Object.create(null):{},n=0;n<e.length;++n)void 0!==e[n]&&(r[n]=e[n]);return r},c=1024;e.exports={arrayToObject:a,assign:function(e,t){return Object.keys(t).reduce((function(e,r){return e[r]=t[r],e}),e)},combine:function(e,t){return[].concat(e,t)},compact:function(e){for(var t=[{obj:{o:e},prop:"o"}],r=[],n=0;n<t.length;++n)for(var i=t[n],s=i.obj[i.prop],a=Object.keys(s),c=0;c<a.length;++c){var u=a[c],l=s[u];"object"==typeof l&&null!==l&&-1===r.indexOf(l)&&(t.push({obj:s,prop:u}),r.push(l))}return function(e){for(;e.length>1;){var t=e.pop(),r=t.obj[t.prop];if(o(r)){for(var n=[],i=0;i<r.length;++i)void 0!==r[i]&&n.push(r[i]);t.obj[t.prop]=n}}}(t),e},decode:function(e,t,r){var n=e.replace(/\+/g," ");if("iso-8859-1"===r)return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch(e){return n}},encode:function(e,t,r,i,o){if(0===e.length)return e;var a=e;if("symbol"==typeof e?a=Symbol.prototype.toString.call(e):"string"!=typeof e&&(a=String(e)),"iso-8859-1"===r)return escape(a).replace(/%u[0-9a-f]{4}/gi,(function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"}));for(var u="",l=0;l<a.length;l+=c){for(var f=a.length>=c?a.slice(l,l+c):a,h=[],d=0;d<f.length;++d){var p=f.charCodeAt(d);45===p||46===p||95===p||126===p||p>=48&&p<=57||p>=65&&p<=90||p>=97&&p<=122||o===n.RFC1738&&(40===p||41===p)?h[h.length]=f.charAt(d):p<128?h[h.length]=s[p]:p<2048?h[h.length]=s[192|p>>6]+s[128|63&p]:p<55296||p>=57344?h[h.length]=s[224|p>>12]+s[128|p>>6&63]+s[128|63&p]:(d+=1,p=65536+((1023&p)<<10|1023&f.charCodeAt(d)),h[h.length]=s[240|p>>18]+s[128|p>>12&63]+s[128|p>>6&63]+s[128|63&p])}u+=h.join("")}return u},isBuffer:function(e){return!(!e||"object"!=typeof e||!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e)))},isRegExp:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},maybeMap:function(e,t){if(o(e)){for(var r=[],n=0;n<e.length;n+=1)r.push(t(e[n]));return r}return t(e)},merge:function e(t,r,n){if(!r)return t;if("object"!=typeof r){if(o(t))t.push(r);else{if(!t||"object"!=typeof t)return[t,r];(n&&(n.plainObjects||n.allowPrototypes)||!i.call(Object.prototype,r))&&(t[r]=!0)}return t}if(!t||"object"!=typeof t)return[t].concat(r);var s=t;return o(t)&&!o(r)&&(s=a(t,n)),o(t)&&o(r)?(r.forEach((function(r,o){if(i.call(t,o)){var s=t[o];s&&"object"==typeof s&&r&&"object"==typeof r?t[o]=e(s,r,n):t.push(r)}else t[o]=r})),t):Object.keys(r).reduce((function(t,o){var s=r[o];return i.call(t,o)?t[o]=e(t[o],s,n):t[o]=s,t}),s)}}},75442:(e,t,r)=>{var n=r(62113);function i(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var o=/^([a-z0-9.+-]+:)/i,s=/:[0-9]*$/,a=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,c=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),u=["'"].concat(c),l=["%","/","?",";","#"].concat(u),f=["/","?","#"],h=/^[+a-z0-9A-Z_-]{0,63}$/,d=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,p={javascript:!0,"javascript:":!0},y={javascript:!0,"javascript:":!0},b={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},m=r(89667);function v(e,t,r){if(e&&"object"==typeof e&&e instanceof i)return e;var n=new i;return n.parse(e,t,r),n}i.prototype.parse=function(e,t,r){if("string"!=typeof e)throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var i=e.indexOf("?"),s=-1!==i&&i<e.indexOf("#")?"?":"#",c=e.split(s);c[0]=c[0].replace(/\\/g,"/");var v=e=c.join(s);if(v=v.trim(),!r&&1===e.split("#").length){var g=a.exec(v);if(g)return this.path=v,this.href=v,this.pathname=g[1],g[2]?(this.search=g[2],this.query=t?m.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var w=o.exec(v);if(w){var _=(w=w[0]).toLowerCase();this.protocol=_,v=v.substr(w.length)}if(r||w||v.match(/^\/\/[^@/]+@[^@/]+/)){var S="//"===v.substr(0,2);!S||w&&y[w]||(v=v.substr(2),this.slashes=!0)}if(!y[w]&&(S||w&&!b[w])){for(var E,T,O=-1,x=0;x<f.length;x++)-1!==(A=v.indexOf(f[x]))&&(-1===O||A<O)&&(O=A);for(-1!==(T=-1===O?v.lastIndexOf("@"):v.lastIndexOf("@",O))&&(E=v.slice(0,T),v=v.slice(T+1),this.auth=decodeURIComponent(E)),O=-1,x=0;x<l.length;x++){var A;-1!==(A=v.indexOf(l[x]))&&(-1===O||A<O)&&(O=A)}-1===O&&(O=v.length),this.host=v.slice(0,O),v=v.slice(O),this.parseHost(),this.hostname=this.hostname||"";var M="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!M)for(var P=this.hostname.split(/\./),I=(x=0,P.length);x<I;x++){var j=P[x];if(j&&!j.match(h)){for(var R="",k=0,C=j.length;k<C;k++)j.charCodeAt(k)>127?R+="x":R+=j[k];if(!R.match(h)){var $=P.slice(0,x),N=P.slice(x+1),L=j.match(d);L&&($.push(L[1]),N.unshift(L[2])),N.length&&(v="/"+N.join(".")+v),this.hostname=$.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),M||(this.hostname=n.toASCII(this.hostname));var B=this.port?":"+this.port:"",D=this.hostname||"";this.host=D+B,this.href+=this.host,M&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==v[0]&&(v="/"+v))}if(!p[_])for(x=0,I=u.length;x<I;x++){var F=u[x];if(-1!==v.indexOf(F)){var U=encodeURIComponent(F);U===F&&(U=escape(F)),v=v.split(F).join(U)}}var q=v.indexOf("#");-1!==q&&(this.hash=v.substr(q),v=v.slice(0,q));var W=v.indexOf("?");if(-1!==W?(this.search=v.substr(W),this.query=v.substr(W+1),t&&(this.query=m.parse(this.query)),v=v.slice(0,W)):t&&(this.search="",this.query={}),v&&(this.pathname=v),b[_]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){B=this.pathname||"";var z=this.search||"";this.path=B+z}return this.href=this.format(),this},i.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",r=this.pathname||"",n=this.hash||"",i=!1,o="";this.host?i=e+this.host:this.hostname&&(i=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&"object"==typeof this.query&&Object.keys(this.query).length&&(o=m.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var s=this.search||o&&"?"+o||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||b[t])&&!1!==i?(i="//"+(i||""),r&&"/"!==r.charAt(0)&&(r="/"+r)):i||(i=""),n&&"#"!==n.charAt(0)&&(n="#"+n),s&&"?"!==s.charAt(0)&&(s="?"+s),t+i+(r=r.replace(/[?#]/g,(function(e){return encodeURIComponent(e)})))+(s=s.replace("#","%23"))+n},i.prototype.resolve=function(e){return this.resolveObject(v(e,!1,!0)).format()},i.prototype.resolveObject=function(e){if("string"==typeof e){var t=new i;t.parse(e,!1,!0),e=t}for(var r=new i,n=Object.keys(this),o=0;o<n.length;o++){var s=n[o];r[s]=this[s]}if(r.hash=e.hash,""===e.href)return r.href=r.format(),r;if(e.slashes&&!e.protocol){for(var a=Object.keys(e),c=0;c<a.length;c++){var u=a[c];"protocol"!==u&&(r[u]=e[u])}return b[r.protocol]&&r.hostname&&!r.pathname&&(r.pathname="/",r.path=r.pathname),r.href=r.format(),r}if(e.protocol&&e.protocol!==r.protocol){if(!b[e.protocol]){for(var l=Object.keys(e),f=0;f<l.length;f++){var h=l[f];r[h]=e[h]}return r.href=r.format(),r}if(r.protocol=e.protocol,e.host||y[e.protocol])r.pathname=e.pathname;else{for(var d=(e.pathname||"").split("/");d.length&&!(e.host=d.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==d[0]&&d.unshift(""),d.length<2&&d.unshift(""),r.pathname=d.join("/")}if(r.search=e.search,r.query=e.query,r.host=e.host||"",r.auth=e.auth,r.hostname=e.hostname||e.host,r.port=e.port,r.pathname||r.search){var p=r.pathname||"",m=r.search||"";r.path=p+m}return r.slashes=r.slashes||e.slashes,r.href=r.format(),r}var v=r.pathname&&"/"===r.pathname.charAt(0),g=e.host||e.pathname&&"/"===e.pathname.charAt(0),w=g||v||r.host&&e.pathname,_=w,S=r.pathname&&r.pathname.split("/")||[],E=(d=e.pathname&&e.pathname.split("/")||[],r.protocol&&!b[r.protocol]);if(E&&(r.hostname="",r.port=null,r.host&&(""===S[0]?S[0]=r.host:S.unshift(r.host)),r.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===d[0]?d[0]=e.host:d.unshift(e.host)),e.host=null),w=w&&(""===d[0]||""===S[0])),g)r.host=e.host||""===e.host?e.host:r.host,r.hostname=e.hostname||""===e.hostname?e.hostname:r.hostname,r.search=e.search,r.query=e.query,S=d;else if(d.length)S||(S=[]),S.pop(),S=S.concat(d),r.search=e.search,r.query=e.query;else if(null!=e.search)return E&&(r.host=S.shift(),r.hostname=r.host,(M=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=M.shift(),r.hostname=M.shift(),r.host=r.hostname)),r.search=e.search,r.query=e.query,null===r.pathname&&null===r.search||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r;if(!S.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var T=S.slice(-1)[0],O=(r.host||e.host||S.length>1)&&("."===T||".."===T)||""===T,x=0,A=S.length;A>=0;A--)"."===(T=S[A])?S.splice(A,1):".."===T?(S.splice(A,1),x++):x&&(S.splice(A,1),x--);if(!w&&!_)for(;x--;x)S.unshift("..");!w||""===S[0]||S[0]&&"/"===S[0].charAt(0)||S.unshift(""),O&&"/"!==S.join("/").substr(-1)&&S.push("");var M,P=""===S[0]||S[0]&&"/"===S[0].charAt(0);return E&&(r.hostname=P?"":S.length?S.shift():"",r.host=r.hostname,(M=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=M.shift(),r.hostname=M.shift(),r.host=r.hostname)),(w=w||r.host&&S.length)&&!P&&S.unshift(""),S.length>0?r.pathname=S.join("/"):(r.pathname=null,r.path=null),null===r.pathname&&null===r.search||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=e.auth||r.auth,r.slashes=r.slashes||e.slashes,r.href=r.format(),r},i.prototype.parseHost=function(){var e=this.host,t=s.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)},t.parse=v,t.resolve=function(e,t){return v(e,!1,!0).resolve(t)},t.resolveObject=function(e,t){return e?v(e,!1,!0).resolveObject(t):t},t.format=function(e){return"string"==typeof e&&(e=v(e)),e instanceof i?e.format():i.prototype.format.call(e)},t.Url=i},66732:(e,t,r)=>{var n=r(4364);function i(e){try{if(!r.g.localStorage)return!1}catch(e){return!1}var t=r.g.localStorage[e];return null!=t&&"true"===String(t).toLowerCase()}e.exports=function(e,t){if(i("noDeprecation"))return e;var r=!1;return function(){if(!r){if(i("throwDeprecation"))throw new Error(t);i("traceDeprecation")?n.trace(t):n.warn(t),r=!0}return e.apply(this,arguments)}}},95272:e=>{e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},51531:(e,t,r)=>{var n=r(55387),i=r(2625),o=r(52730),s=r(95943);function a(e){return e.call.bind(e)}var c="undefined"!=typeof BigInt,u="undefined"!=typeof Symbol,l=a(Object.prototype.toString),f=a(Number.prototype.valueOf),h=a(String.prototype.valueOf),d=a(Boolean.prototype.valueOf);if(c)var p=a(BigInt.prototype.valueOf);if(u)var y=a(Symbol.prototype.valueOf);function b(e,t){if("object"!=typeof e)return!1;try{return t(e),!0}catch(e){return!1}}function m(e){return"[object Map]"===l(e)}function v(e){return"[object Set]"===l(e)}function g(e){return"[object WeakMap]"===l(e)}function w(e){return"[object WeakSet]"===l(e)}function _(e){return"[object ArrayBuffer]"===l(e)}function S(e){return"undefined"!=typeof ArrayBuffer&&(_.working?_(e):e instanceof ArrayBuffer)}function E(e){return"[object DataView]"===l(e)}function T(e){return"undefined"!=typeof DataView&&(E.working?E(e):e instanceof DataView)}t.isArgumentsObject=n,t.isGeneratorFunction=i,t.isTypedArray=s,t.isPromise=function(e){return"undefined"!=typeof Promise&&e instanceof Promise||null!==e&&"object"==typeof e&&"function"==typeof e.then&&"function"==typeof e.catch},t.isArrayBufferView=function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):s(e)||T(e)},t.isUint8Array=function(e){return"Uint8Array"===o(e)},t.isUint8ClampedArray=function(e){return"Uint8ClampedArray"===o(e)},t.isUint16Array=function(e){return"Uint16Array"===o(e)},t.isUint32Array=function(e){return"Uint32Array"===o(e)},t.isInt8Array=function(e){return"Int8Array"===o(e)},t.isInt16Array=function(e){return"Int16Array"===o(e)},t.isInt32Array=function(e){return"Int32Array"===o(e)},t.isFloat32Array=function(e){return"Float32Array"===o(e)},t.isFloat64Array=function(e){return"Float64Array"===o(e)},t.isBigInt64Array=function(e){return"BigInt64Array"===o(e)},t.isBigUint64Array=function(e){return"BigUint64Array"===o(e)},m.working="undefined"!=typeof Map&&m(new Map),t.isMap=function(e){return"undefined"!=typeof Map&&(m.working?m(e):e instanceof Map)},v.working="undefined"!=typeof Set&&v(new Set),t.isSet=function(e){return"undefined"!=typeof Set&&(v.working?v(e):e instanceof Set)},g.working="undefined"!=typeof WeakMap&&g(new WeakMap),t.isWeakMap=function(e){return"undefined"!=typeof WeakMap&&(g.working?g(e):e instanceof WeakMap)},w.working="undefined"!=typeof WeakSet&&w(new WeakSet),t.isWeakSet=function(e){return w(e)},_.working="undefined"!=typeof ArrayBuffer&&_(new ArrayBuffer),t.isArrayBuffer=S,E.working="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView&&E(new DataView(new ArrayBuffer(1),0,1)),t.isDataView=T;var O="undefined"!=typeof SharedArrayBuffer?SharedArrayBuffer:void 0;function x(e){return"[object SharedArrayBuffer]"===l(e)}function A(e){return void 0!==O&&(void 0===x.working&&(x.working=x(new O)),x.working?x(e):e instanceof O)}function M(e){return b(e,f)}function P(e){return b(e,h)}function I(e){return b(e,d)}function j(e){return c&&b(e,p)}function R(e){return u&&b(e,y)}t.isSharedArrayBuffer=A,t.isAsyncFunction=function(e){return"[object AsyncFunction]"===l(e)},t.isMapIterator=function(e){return"[object Map Iterator]"===l(e)},t.isSetIterator=function(e){return"[object Set Iterator]"===l(e)},t.isGeneratorObject=function(e){return"[object Generator]"===l(e)},t.isWebAssemblyCompiledModule=function(e){return"[object WebAssembly.Module]"===l(e)},t.isNumberObject=M,t.isStringObject=P,t.isBooleanObject=I,t.isBigIntObject=j,t.isSymbolObject=R,t.isBoxedPrimitive=function(e){return M(e)||P(e)||I(e)||j(e)||R(e)},t.isAnyArrayBuffer=function(e){return"undefined"!=typeof Uint8Array&&(S(e)||A(e))},["isProxy","isExternal","isModuleNamespaceObject"].forEach((function(e){Object.defineProperty(t,e,{enumerable:!1,value:function(){throw new Error(e+" is not supported in userland")}})}))},49208:(e,t,r)=>{var n=r(39907),i=r(4364),o=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),r={},n=0;n<t.length;n++)r[t[n]]=Object.getOwnPropertyDescriptor(e,t[n]);return r},s=/%[sdj%]/g;t.format=function(e){if(!w(e)){for(var t=[],r=0;r<arguments.length;r++)t.push(l(arguments[r]));return t.join(" ")}r=1;for(var n=arguments,i=n.length,o=String(e).replace(s,(function(e){if("%%"===e)return"%";if(r>=i)return e;switch(e){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(e){return"[Circular]"}default:return e}})),a=n[r];r<i;a=n[++r])v(a)||!E(a)?o+=" "+a:o+=" "+l(a);return o},t.deprecate=function(e,r){if(void 0!==n&&!0===n.noDeprecation)return e;if(void 0===n)return function(){return t.deprecate(e,r).apply(this,arguments)};var o=!1;return function(){if(!o){if(n.throwDeprecation)throw new Error(r);n.traceDeprecation?i.trace(r):i.error(r),o=!0}return e.apply(this,arguments)}};var a={},c=/^$/;if(n.env.NODE_DEBUG){var u=n.env.NODE_DEBUG;u=u.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),c=new RegExp("^"+u+"$","i")}function l(e,r){var n={seen:[],stylize:h};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),m(r)?n.showHidden=r:r&&t._extend(n,r),_(n.showHidden)&&(n.showHidden=!1),_(n.depth)&&(n.depth=2),_(n.colors)&&(n.colors=!1),_(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=f),d(n,e,n.depth)}function f(e,t){var r=l.styles[t];return r?"["+l.colors[r][0]+"m"+e+"["+l.colors[r][1]+"m":e}function h(e,t){return e}function d(e,r,n){if(e.customInspect&&r&&x(r.inspect)&&r.inspect!==t.inspect&&(!r.constructor||r.constructor.prototype!==r)){var i=r.inspect(n,e);return w(i)||(i=d(e,i,n)),i}var o=function(e,t){if(_(t))return e.stylize("undefined","undefined");if(w(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}return g(t)?e.stylize(""+t,"number"):m(t)?e.stylize(""+t,"boolean"):v(t)?e.stylize("null","null"):void 0}(e,r);if(o)return o;var s=Object.keys(r),a=function(e){var t={};return e.forEach((function(e,r){t[e]=!0})),t}(s);if(e.showHidden&&(s=Object.getOwnPropertyNames(r)),O(r)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return p(r);if(0===s.length){if(x(r)){var c=r.name?": "+r.name:"";return e.stylize("[Function"+c+"]","special")}if(S(r))return e.stylize(RegExp.prototype.toString.call(r),"regexp");if(T(r))return e.stylize(Date.prototype.toString.call(r),"date");if(O(r))return p(r)}var u,l="",f=!1,h=["{","}"];return b(r)&&(f=!0,h=["[","]"]),x(r)&&(l=" [Function"+(r.name?": "+r.name:"")+"]"),S(r)&&(l=" "+RegExp.prototype.toString.call(r)),T(r)&&(l=" "+Date.prototype.toUTCString.call(r)),O(r)&&(l=" "+p(r)),0!==s.length||f&&0!=r.length?n<0?S(r)?e.stylize(RegExp.prototype.toString.call(r),"regexp"):e.stylize("[Object]","special"):(e.seen.push(r),u=f?function(e,t,r,n,i){for(var o=[],s=0,a=t.length;s<a;++s)I(t,String(s))?o.push(y(e,t,r,n,String(s),!0)):o.push("");return i.forEach((function(i){i.match(/^\d+$/)||o.push(y(e,t,r,n,i,!0))})),o}(e,r,n,a,s):s.map((function(t){return y(e,r,n,a,t,f)})),e.seen.pop(),function(e,t,r){return e.reduce((function(e,t){return t.indexOf("\n"),e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60?r[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+r[1]:r[0]+t+" "+e.join(", ")+" "+r[1]}(u,l,h)):h[0]+l+h[1]}function p(e){return"["+Error.prototype.toString.call(e)+"]"}function y(e,t,r,n,i,o){var s,a,c;if((c=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?a=c.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):c.set&&(a=e.stylize("[Setter]","special")),I(n,i)||(s="["+i+"]"),a||(e.seen.indexOf(c.value)<0?(a=v(r)?d(e,c.value,null):d(e,c.value,r-1)).indexOf("\n")>-1&&(a=o?a.split("\n").map((function(e){return"  "+e})).join("\n").slice(2):"\n"+a.split("\n").map((function(e){return"   "+e})).join("\n")):a=e.stylize("[Circular]","special")),_(s)){if(o&&i.match(/^\d+$/))return a;(s=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.slice(1,-1),s=e.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=e.stylize(s,"string"))}return s+": "+a}function b(e){return Array.isArray(e)}function m(e){return"boolean"==typeof e}function v(e){return null===e}function g(e){return"number"==typeof e}function w(e){return"string"==typeof e}function _(e){return void 0===e}function S(e){return E(e)&&"[object RegExp]"===A(e)}function E(e){return"object"==typeof e&&null!==e}function T(e){return E(e)&&"[object Date]"===A(e)}function O(e){return E(e)&&("[object Error]"===A(e)||e instanceof Error)}function x(e){return"function"==typeof e}function A(e){return Object.prototype.toString.call(e)}function M(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(e){if(e=e.toUpperCase(),!a[e])if(c.test(e)){var r=n.pid;a[e]=function(){var n=t.format.apply(t,arguments);i.error("%s %d: %s",e,r,n)}}else a[e]=function(){};return a[e]},t.inspect=l,l.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},l.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.types=r(51531),t.isArray=b,t.isBoolean=m,t.isNull=v,t.isNullOrUndefined=function(e){return null==e},t.isNumber=g,t.isString=w,t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=_,t.isRegExp=S,t.types.isRegExp=S,t.isObject=E,t.isDate=T,t.types.isDate=T,t.isError=O,t.types.isNativeError=O,t.isFunction=x,t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=r(95272);var P=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function I(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){var e,r;i.log("%s - %s",(r=[M((e=new Date).getHours()),M(e.getMinutes()),M(e.getSeconds())].join(":"),[e.getDate(),P[e.getMonth()],r].join(" ")),t.format.apply(t,arguments))},t.inherits=r(35615),t._extend=function(e,t){if(!t||!E(t))return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e};var j="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function R(e,t){if(!e){var r=new Error("Promise was rejected with a falsy value");r.reason=e,e=r}return t(e)}t.promisify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');if(j&&e[j]){var t;if("function"!=typeof(t=e[j]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,j,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}function t(){for(var t,r,n=new Promise((function(e,n){t=e,r=n})),i=[],o=0;o<arguments.length;o++)i.push(arguments[o]);i.push((function(e,n){e?r(e):t(n)}));try{e.apply(this,i)}catch(e){r(e)}return n}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),j&&Object.defineProperty(t,j,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,o(e))},t.promisify.custom=j,t.callbackify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');function t(){for(var t=[],r=0;r<arguments.length;r++)t.push(arguments[r]);var i=t.pop();if("function"!=typeof i)throw new TypeError("The last argument must be of type Function");var o=this,s=function(){return i.apply(o,arguments)};e.apply(this,t).then((function(e){n.nextTick(s.bind(null,null,e))}),(function(e){n.nextTick(R.bind(null,e,s))}))}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),Object.defineProperties(t,o(e)),t}},95940:(__unused_webpack_module,exports)=>{var indexOf=function(e,t){if(e.indexOf)return e.indexOf(t);for(var r=0;r<e.length;r++)if(e[r]===t)return r;return-1},Object_keys=function(e){if(Object.keys)return Object.keys(e);var t=[];for(var r in e)t.push(r);return t},forEach=function(e,t){if(e.forEach)return e.forEach(t);for(var r=0;r<e.length;r++)t(e[r],r,e)},defineProp=function(){try{return Object.defineProperty({},"_",{}),function(e,t,r){Object.defineProperty(e,t,{writable:!0,enumerable:!1,configurable:!0,value:r})}}catch(e){return function(e,t,r){e[t]=r}}}(),globals=["Array","Boolean","Date","Error","EvalError","Function","Infinity","JSON","Math","NaN","Number","Object","RangeError","ReferenceError","RegExp","String","SyntaxError","TypeError","URIError","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","eval","isFinite","isNaN","parseFloat","parseInt","undefined","unescape"];function Context(){}Context.prototype={};var Script=exports.Script=function(e){if(!(this instanceof Script))return new Script(e);this.code=e};Script.prototype.runInContext=function(e){if(!(e instanceof Context))throw new TypeError("needs a 'context' argument.");var t=document.createElement("iframe");t.style||(t.style={}),t.style.display="none",document.body.appendChild(t);var r=t.contentWindow,n=r.eval,i=r.execScript;!n&&i&&(i.call(r,"null"),n=r.eval),forEach(Object_keys(e),(function(t){r[t]=e[t]})),forEach(globals,(function(t){e[t]&&(r[t]=e[t])}));var o=Object_keys(r),s=n.call(r,this.code);return forEach(Object_keys(r),(function(t){(t in e||-1===indexOf(o,t))&&(e[t]=r[t])})),forEach(globals,(function(t){t in e||defineProp(e,t,r[t])})),document.body.removeChild(t),s},Script.prototype.runInThisContext=function(){return eval(this.code)},Script.prototype.runInNewContext=function(e){var t=Script.createContext(e),r=this.runInContext(t);return e&&forEach(Object_keys(t),(function(r){e[r]=t[r]})),r},forEach(Object_keys(Script.prototype),(function(e){exports[e]=Script[e]=function(t){var r=Script(t);return r[e].apply(r,[].slice.call(arguments,1))}})),exports.isContext=function(e){return e instanceof Context},exports.createScript=function(e){return exports.Script(e)},exports.createContext=Script.createContext=function(e){var t=new Context;return"object"==typeof e&&forEach(Object_keys(e),(function(r){t[r]=e[r]})),t}},31404:function(e,t,r){!function(e){var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol:function(e){return"Symbol(".concat(e,")")};function n(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function i(e){return this instanceof i?(this.v=e,this):new i(e)}function o(e){var t,r;return t={},n("next"),n("throw",(function(e){throw e})),n("return"),t[Symbol.iterator]=function(){return this},t;function n(n,o){t[n]=e[n]?function(t){return(r=!r)?{value:i(e[n](t)),done:!1}:o?o(t):t}:o}}function s(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e=n(e),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(r){t[r]=e[r]&&function(t){return new Promise((function(n,i){!function(e,t,r,n){Promise.resolve(n).then((function(t){e({value:t,done:r})}),t)}(n,i,(t=e[r](t)).done,t.value)}))}}}function a(){}function c(e){return"object"==typeof e&&null!==e||"function"==typeof e}"function"==typeof SuppressedError&&SuppressedError;var u=a;function l(e,t){try{Object.defineProperty(e,"name",{value:t,configurable:!0})}catch(e){}}var f=Promise,h=Promise.prototype.then,d=Promise.reject.bind(f);function p(e){return new f(e)}function y(e){return p((function(t){return t(e)}))}function b(e){return d(e)}function m(e,t,r){return h.call(e,t,r)}function v(e,t,r){m(m(e,t,r),void 0,u)}function g(e,t){v(e,t)}function w(e,t){v(e,void 0,t)}function _(e,t,r){return m(e,t,r)}function S(e){m(e,void 0,u)}var E=function(e){if("function"==typeof queueMicrotask)E=queueMicrotask;else{var t=y(void 0);E=function(e){return m(t,e)}}return E(e)};function T(e,t,r){if("function"!=typeof e)throw new TypeError("Argument is not a function");return Function.prototype.apply.call(e,t,r)}function O(e,t,r){try{return y(T(e,t,r))}catch(e){return b(e)}}var x=function(){function e(){this._cursor=0,this._size=0,this._front={_elements:[],_next:void 0},this._back=this._front,this._cursor=0,this._size=0}return Object.defineProperty(e.prototype,"length",{get:function(){return this._size},enumerable:!1,configurable:!0}),e.prototype.push=function(e){var t=this._back,r=t;16383===t._elements.length&&(r={_elements:[],_next:void 0}),t._elements.push(e),r!==t&&(this._back=r,t._next=r),++this._size},e.prototype.shift=function(){var e=this._front,t=e,r=this._cursor,n=r+1,i=e._elements,o=i[r];return 16384===n&&(t=e._next,n=0),--this._size,this._cursor=n,e!==t&&(this._front=t),i[r]=void 0,o},e.prototype.forEach=function(e){for(var t=this._cursor,r=this._front,n=r._elements;!(t===n.length&&void 0===r._next||t===n.length&&(t=0,0===(n=(r=r._next)._elements).length));)e(n[t]),++t},e.prototype.peek=function(){var e=this._front,t=this._cursor;return e._elements[t]},e}(),A=t("[[AbortSteps]]"),M=t("[[ErrorSteps]]"),P=t("[[CancelSteps]]"),I=t("[[PullSteps]]"),j=t("[[ReleaseSteps]]");function R(e,t){e._ownerReadableStream=t,t._reader=e,"readable"===t._state?N(e):"closed"===t._state?function(e){N(e),D(e)}(e):L(e,t._storedError)}function k(e,t){return Ur(e._ownerReadableStream,t)}function C(e){var t=e._ownerReadableStream;"readable"===t._state?B(e,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):function(e,t){L(e,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness"))}(e),t._readableStreamController[j](),t._reader=void 0,e._ownerReadableStream=void 0}function $(e){return new TypeError("Cannot "+e+" a stream using a released reader")}function N(e){e._closedPromise=p((function(t,r){e._closedPromise_resolve=t,e._closedPromise_reject=r}))}function L(e,t){N(e),B(e,t)}function B(e,t){void 0!==e._closedPromise_reject&&(S(e._closedPromise),e._closedPromise_reject(t),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0)}function D(e){void 0!==e._closedPromise_resolve&&(e._closedPromise_resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0)}var F=Number.isFinite||function(e){return"number"==typeof e&&isFinite(e)},U=Math.trunc||function(e){return e<0?Math.ceil(e):Math.floor(e)};function q(e,t){if(void 0!==e&&"object"!=typeof(r=e)&&"function"!=typeof r)throw new TypeError("".concat(t," is not an object."));var r}function W(e,t){if("function"!=typeof e)throw new TypeError("".concat(t," is not a function."))}function z(e,t){if(!function(e){return"object"==typeof e&&null!==e||"function"==typeof e}(e))throw new TypeError("".concat(t," is not an object."))}function V(e,t,r){if(void 0===e)throw new TypeError("Parameter ".concat(t," is required in '").concat(r,"'."))}function H(e,t,r){if(void 0===e)throw new TypeError("".concat(t," is required in '").concat(r,"'."))}function G(e){return Number(e)}function K(e){return 0===e?0:e}function Y(e,t){var r=Number.MAX_SAFE_INTEGER,n=Number(e);if(n=K(n),!F(n))throw new TypeError("".concat(t," is not a finite number"));if((n=function(e){return K(U(e))}(n))<0||n>r)throw new TypeError("".concat(t," is outside the accepted range of ").concat(0," to ").concat(r,", inclusive"));return F(n)&&0!==n?n:0}function J(e,t){if(!Dr(e))throw new TypeError("".concat(t," is not a ReadableStream."))}function X(e){return new oe(e)}function Z(e,t){e._reader._readRequests.push(t)}function Q(e,t,r){var n=e._reader._readRequests.shift();r?n._closeSteps():n._chunkSteps(t)}function ee(e){return e._reader._readRequests.length}function te(e){var t=e._reader;return void 0!==t&&!!se(t)}var re,ne,ie,oe=function(){function e(e){if(V(e,1,"ReadableStreamDefaultReader"),J(e,"First parameter"),Fr(e))throw new TypeError("This stream has already been locked for exclusive reading by another reader");R(this,e),this._readRequests=new x}return Object.defineProperty(e.prototype,"closed",{get:function(){return se(this)?this._closedPromise:b(ue("closed"))},enumerable:!1,configurable:!0}),e.prototype.cancel=function(e){return void 0===e&&(e=void 0),se(this)?void 0===this._ownerReadableStream?b($("cancel")):k(this,e):b(ue("cancel"))},e.prototype.read=function(){if(!se(this))return b(ue("read"));if(void 0===this._ownerReadableStream)return b($("read from"));var e,t,r=p((function(r,n){e=r,t=n}));return ae(this,{_chunkSteps:function(t){return e({value:t,done:!1})},_closeSteps:function(){return e({value:void 0,done:!0})},_errorSteps:function(e){return t(e)}}),r},e.prototype.releaseLock=function(){if(!se(this))throw ue("releaseLock");void 0!==this._ownerReadableStream&&function(e){C(e),ce(e,new TypeError("Reader was released"))}(this)},e}();function se(e){return!!c(e)&&!!Object.prototype.hasOwnProperty.call(e,"_readRequests")&&e instanceof oe}function ae(e,t){var r=e._ownerReadableStream;r._disturbed=!0,"closed"===r._state?t._closeSteps():"errored"===r._state?t._errorSteps(r._storedError):r._readableStreamController[I](t)}function ce(e,t){var r=e._readRequests;e._readRequests=new x,r.forEach((function(e){e._errorSteps(t)}))}function ue(e){return new TypeError("ReadableStreamDefaultReader.prototype.".concat(e," can only be used on a ReadableStreamDefaultReader"))}function le(e){return e.slice()}function fe(e,t,r,n,i){new Uint8Array(e).set(new Uint8Array(r,n,i),t)}Object.defineProperties(oe.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),l(oe.prototype.cancel,"cancel"),l(oe.prototype.read,"read"),l(oe.prototype.releaseLock,"releaseLock"),"symbol"==typeof t.toStringTag&&Object.defineProperty(oe.prototype,t.toStringTag,{value:"ReadableStreamDefaultReader",configurable:!0});var he=function(e){return(he="function"==typeof e.transfer?function(e){return e.transfer()}:"function"==typeof structuredClone?function(e){return structuredClone(e,{transfer:[e]})}:function(e){return e})(e)},de=function(e){return(de="boolean"==typeof e.detached?function(e){return e.detached}:function(e){return 0===e.byteLength})(e)};function pe(e,t,r){if(e.slice)return e.slice(t,r);var n=r-t,i=new ArrayBuffer(n);return fe(i,0,e,t,n),i}function ye(e,t){var r=e[t];if(null!=r){if("function"!=typeof r)throw new TypeError("".concat(String(t)," is not a function"));return r}}var be,me=null!==(ie=null!==(re=t.asyncIterator)&&void 0!==re?re:null===(ne=t.for)||void 0===ne?void 0:ne.call(t,"Symbol.asyncIterator"))&&void 0!==ie?ie:"@@asyncIterator";function ve(e,r,a){if(void 0===r&&(r="sync"),void 0===a)if("async"===r){if(void 0===(a=ye(e,me)))return function(e){var r,a=((r={})[t.iterator]=function(){return e.iterator},r),c=function(){return function(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,o=r.apply(e,t||[]),s=[];return n={},a("next"),a("throw"),a("return"),n[Symbol.asyncIterator]=function(){return this},n;function a(e){o[e]&&(n[e]=function(t){return new Promise((function(r,n){s.push([e,t,r,n])>1||c(e,t)}))})}function c(e,t){try{(r=o[e](t)).value instanceof i?Promise.resolve(r.value.v).then(u,l):f(s[0][2],r)}catch(e){f(s[0][3],e)}var r}function u(e){c("next",e)}function l(e){c("throw",e)}function f(e,t){e(t),s.shift(),s.length&&c(s[0][0],s[0][1])}}(this,arguments,(function(){return function(e,t){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(a){return function(c){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,a[0]&&(s=0)),s;)try{if(r=1,n&&(i=2&a[0]?n.return:a[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,a[1])).done)return i;switch(n=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,n=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){s.label=a[1];break}if(6===a[0]&&s.label<i[1]){s.label=i[1],i=a;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(a);break}i[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],n=0}finally{r=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}}(this,(function(e){switch(e.label){case 0:return[5,n(o(s(a)))];case 1:case 2:return[4,i.apply(void 0,[e.sent()])];case 3:return[2,e.sent()]}}))}))}();return{iterator:c,nextMethod:c.next,done:!1}}(ve(e,"sync",ye(e,t.iterator)))}else a=ye(e,t.iterator);if(void 0===a)throw new TypeError("The object is not iterable");var u=T(a,e,[]);if(!c(u))throw new TypeError("The iterator method must return an object");return{iterator:u,nextMethod:u.next,done:!1}}var ge=((be={})[me]=function(){return this},be);Object.defineProperty(ge,me,{enumerable:!1});var we=function(){function e(e,t){this._ongoingPromise=void 0,this._isFinished=!1,this._reader=e,this._preventCancel=t}return e.prototype.next=function(){var e=this,t=function(){return e._nextSteps()};return this._ongoingPromise=this._ongoingPromise?_(this._ongoingPromise,t,t):t(),this._ongoingPromise},e.prototype.return=function(e){var t=this,r=function(){return t._returnSteps(e)};return this._ongoingPromise?_(this._ongoingPromise,r,r):r()},e.prototype._nextSteps=function(){var e=this;if(this._isFinished)return Promise.resolve({value:void 0,done:!0});var t,r,n=this._reader,i=p((function(e,n){t=e,r=n}));return ae(n,{_chunkSteps:function(r){e._ongoingPromise=void 0,E((function(){return t({value:r,done:!1})}))},_closeSteps:function(){e._ongoingPromise=void 0,e._isFinished=!0,C(n),t({value:void 0,done:!0})},_errorSteps:function(t){e._ongoingPromise=void 0,e._isFinished=!0,C(n),r(t)}}),i},e.prototype._returnSteps=function(e){if(this._isFinished)return Promise.resolve({value:e,done:!0});this._isFinished=!0;var t=this._reader;if(!this._preventCancel){var r=k(t,e);return C(t),_(r,(function(){return{value:e,done:!0}}))}return C(t),y({value:e,done:!0})},e}(),_e={next:function(){return Se(this)?this._asyncIteratorImpl.next():b(Ee("next"))},return:function(e){return Se(this)?this._asyncIteratorImpl.return(e):b(Ee("return"))}};function Se(e){if(!c(e))return!1;if(!Object.prototype.hasOwnProperty.call(e,"_asyncIteratorImpl"))return!1;try{return e._asyncIteratorImpl instanceof we}catch(e){return!1}}function Ee(e){return new TypeError("ReadableStreamAsyncIterator.".concat(e," can only be used on a ReadableSteamAsyncIterator"))}Object.setPrototypeOf(_e,ge);var Te=Number.isNaN||function(e){return e!=e};function Oe(e){var t=pe(e.buffer,e.byteOffset,e.byteOffset+e.byteLength);return new Uint8Array(t)}function xe(e){var t=e._queue.shift();return e._queueTotalSize-=t.size,e._queueTotalSize<0&&(e._queueTotalSize=0),t.value}function Ae(e,t,r){if("number"!=typeof(n=r)||Te(n)||n<0||r===1/0)throw new RangeError("Size must be a finite, non-NaN, non-negative number.");var n;e._queue.push({value:t,size:r}),e._queueTotalSize+=r}function Me(e){e._queue=new x,e._queueTotalSize=0}function Pe(e){return e===DataView}var Ie=function(){function e(){throw new TypeError("Illegal constructor")}return Object.defineProperty(e.prototype,"view",{get:function(){if(!ke(this))throw it("view");return this._view},enumerable:!1,configurable:!0}),e.prototype.respond=function(e){if(!ke(this))throw it("respond");if(V(e,1,"respond"),e=Y(e,"First parameter"),void 0===this._associatedReadableByteStreamController)throw new TypeError("This BYOB request has been invalidated");if(de(this._view.buffer))throw new TypeError("The BYOB request's buffer has been detached and so cannot be used as a response");tt(this._associatedReadableByteStreamController,e)},e.prototype.respondWithNewView=function(e){if(!ke(this))throw it("respondWithNewView");if(V(e,1,"respondWithNewView"),!ArrayBuffer.isView(e))throw new TypeError("You can only respond with array buffer views");if(void 0===this._associatedReadableByteStreamController)throw new TypeError("This BYOB request has been invalidated");if(de(e.buffer))throw new TypeError("The given view's buffer has been detached and so cannot be used as a response");rt(this._associatedReadableByteStreamController,e)},e}();Object.defineProperties(Ie.prototype,{respond:{enumerable:!0},respondWithNewView:{enumerable:!0},view:{enumerable:!0}}),l(Ie.prototype.respond,"respond"),l(Ie.prototype.respondWithNewView,"respondWithNewView"),"symbol"==typeof t.toStringTag&&Object.defineProperty(Ie.prototype,t.toStringTag,{value:"ReadableStreamBYOBRequest",configurable:!0});var je=function(){function e(){throw new TypeError("Illegal constructor")}return Object.defineProperty(e.prototype,"byobRequest",{get:function(){if(!Re(this))throw ot("byobRequest");return Qe(this)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"desiredSize",{get:function(){if(!Re(this))throw ot("desiredSize");return et(this)},enumerable:!1,configurable:!0}),e.prototype.close=function(){if(!Re(this))throw ot("close");if(this._closeRequested)throw new TypeError("The stream has already been closed; do not close it again!");var e=this._controlledReadableByteStream._state;if("readable"!==e)throw new TypeError("The stream (in ".concat(e," state) is not in the readable state and cannot be closed"));Ye(this)},e.prototype.enqueue=function(e){if(!Re(this))throw ot("enqueue");if(V(e,1,"enqueue"),!ArrayBuffer.isView(e))throw new TypeError("chunk must be an array buffer view");if(0===e.byteLength)throw new TypeError("chunk must have non-zero byteLength");if(0===e.buffer.byteLength)throw new TypeError("chunk's buffer must have non-zero byteLength");if(this._closeRequested)throw new TypeError("stream is closed or draining");var t=this._controlledReadableByteStream._state;if("readable"!==t)throw new TypeError("The stream (in ".concat(t," state) is not in the readable state and cannot be enqueued to"));Je(this,e)},e.prototype.error=function(e){if(void 0===e&&(e=void 0),!Re(this))throw ot("error");Xe(this,e)},e.prototype[P]=function(e){$e(this),Me(this);var t=this._cancelAlgorithm(e);return Ke(this),t},e.prototype[I]=function(e){var t=this._controlledReadableByteStream;if(this._queueTotalSize>0)Ze(this,e);else{var r=this._autoAllocateChunkSize;if(void 0!==r){var n=void 0;try{n=new ArrayBuffer(r)}catch(t){return void e._errorSteps(t)}var i={buffer:n,bufferByteLength:r,byteOffset:0,byteLength:r,bytesFilled:0,minimumFill:1,elementSize:1,viewConstructor:Uint8Array,readerType:"default"};this._pendingPullIntos.push(i)}Z(t,e),Ce(this)}},e.prototype[j]=function(){if(this._pendingPullIntos.length>0){var e=this._pendingPullIntos.peek();e.readerType="none",this._pendingPullIntos=new x,this._pendingPullIntos.push(e)}},e}();function Re(e){return!!c(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledReadableByteStream")&&e instanceof je}function ke(e){return!!c(e)&&!!Object.prototype.hasOwnProperty.call(e,"_associatedReadableByteStreamController")&&e instanceof Ie}function Ce(e){var t=function(e){var t=e._controlledReadableByteStream;return"readable"===t._state&&!e._closeRequested&&!!e._started&&(!!(te(t)&&ee(t)>0)||!!(lt(t)&&ut(t)>0)||et(e)>0)}(e);t&&(e._pulling?e._pullAgain=!0:(e._pulling=!0,v(e._pullAlgorithm(),(function(){return e._pulling=!1,e._pullAgain&&(e._pullAgain=!1,Ce(e)),null}),(function(t){return Xe(e,t),null}))))}function $e(e){ze(e),e._pendingPullIntos=new x}function Ne(e,t){var r=!1;"closed"===e._state&&(r=!0);var n=Le(t);"default"===t.readerType?Q(e,n,r):function(e,t,r){var n=e._reader._readIntoRequests.shift();r?n._closeSteps(t):n._chunkSteps(t)}(e,n,r)}function Le(e){var t=e.bytesFilled,r=e.elementSize;return new e.viewConstructor(e.buffer,e.byteOffset,t/r)}function Be(e,t,r,n){e._queue.push({buffer:t,byteOffset:r,byteLength:n}),e._queueTotalSize+=n}function De(e,t,r,n){var i;try{i=pe(t,r,r+n)}catch(t){throw Xe(e,t),t}Be(e,i,0,n)}function Fe(e,t){t.bytesFilled>0&&De(e,t.buffer,t.byteOffset,t.bytesFilled),Ge(e)}function Ue(e,t){var r=Math.min(e._queueTotalSize,t.byteLength-t.bytesFilled),n=t.bytesFilled+r,i=r,o=!1,s=n-n%t.elementSize;s>=t.minimumFill&&(i=s-t.bytesFilled,o=!0);for(var a=e._queue;i>0;){var c=a.peek(),u=Math.min(i,c.byteLength),l=t.byteOffset+t.bytesFilled;fe(t.buffer,l,c.buffer,c.byteOffset,u),c.byteLength===u?a.shift():(c.byteOffset+=u,c.byteLength-=u),e._queueTotalSize-=u,qe(0,u,t),i-=u}return o}function qe(e,t,r){r.bytesFilled+=t}function We(e){0===e._queueTotalSize&&e._closeRequested?(Ke(e),qr(e._controlledReadableByteStream)):Ce(e)}function ze(e){null!==e._byobRequest&&(e._byobRequest._associatedReadableByteStreamController=void 0,e._byobRequest._view=null,e._byobRequest=null)}function Ve(e){for(;e._pendingPullIntos.length>0;){if(0===e._queueTotalSize)return;var t=e._pendingPullIntos.peek();Ue(e,t)&&(Ge(e),Ne(e._controlledReadableByteStream,t))}}function He(e,t){var r=e._pendingPullIntos.peek();ze(e),"closed"===e._controlledReadableByteStream._state?function(e,t){"none"===t.readerType&&Ge(e);var r=e._controlledReadableByteStream;if(lt(r))for(;ut(r)>0;)Ne(r,Ge(e))}(e,r):function(e,t,r){if(qe(0,t,r),"none"===r.readerType)return Fe(e,r),void Ve(e);if(!(r.bytesFilled<r.minimumFill)){Ge(e);var n=r.bytesFilled%r.elementSize;if(n>0){var i=r.byteOffset+r.bytesFilled;De(e,r.buffer,i-n,n)}r.bytesFilled-=n,Ne(e._controlledReadableByteStream,r),Ve(e)}}(e,t,r),Ce(e)}function Ge(e){return e._pendingPullIntos.shift()}function Ke(e){e._pullAlgorithm=void 0,e._cancelAlgorithm=void 0}function Ye(e){var t=e._controlledReadableByteStream;if(!e._closeRequested&&"readable"===t._state)if(e._queueTotalSize>0)e._closeRequested=!0;else{if(e._pendingPullIntos.length>0){var r=e._pendingPullIntos.peek();if(r.bytesFilled%r.elementSize!=0){var n=new TypeError("Insufficient bytes to fill elements in the given buffer");throw Xe(e,n),n}}Ke(e),qr(t)}}function Je(e,t){var r=e._controlledReadableByteStream;if(!e._closeRequested&&"readable"===r._state){var n=t.buffer,i=t.byteOffset,o=t.byteLength;if(de(n))throw new TypeError("chunk's buffer is detached and so cannot be enqueued");var s=he(n);if(e._pendingPullIntos.length>0){var a=e._pendingPullIntos.peek();if(de(a.buffer))throw new TypeError("The BYOB request's buffer has been detached and so cannot be filled with an enqueued chunk");ze(e),a.buffer=he(a.buffer),"none"===a.readerType&&Fe(e,a)}te(r)?(function(e){for(var t=e._controlledReadableByteStream._reader;t._readRequests.length>0;){if(0===e._queueTotalSize)return;Ze(e,t._readRequests.shift())}}(e),0===ee(r)?Be(e,s,i,o):(e._pendingPullIntos.length>0&&Ge(e),Q(r,new Uint8Array(s,i,o),!1))):lt(r)?(Be(e,s,i,o),Ve(e)):Be(e,s,i,o),Ce(e)}}function Xe(e,t){var r=e._controlledReadableByteStream;"readable"===r._state&&($e(e),Me(e),Ke(e),Wr(r,t))}function Ze(e,t){var r=e._queue.shift();e._queueTotalSize-=r.byteLength,We(e);var n=new Uint8Array(r.buffer,r.byteOffset,r.byteLength);t._chunkSteps(n)}function Qe(e){if(null===e._byobRequest&&e._pendingPullIntos.length>0){var t=e._pendingPullIntos.peek(),r=new Uint8Array(t.buffer,t.byteOffset+t.bytesFilled,t.byteLength-t.bytesFilled),n=Object.create(Ie.prototype);!function(e,t,r){e._associatedReadableByteStreamController=t,e._view=r}(n,e,r),e._byobRequest=n}return e._byobRequest}function et(e){var t=e._controlledReadableByteStream._state;return"errored"===t?null:"closed"===t?0:e._strategyHWM-e._queueTotalSize}function tt(e,t){var r=e._pendingPullIntos.peek();if("closed"===e._controlledReadableByteStream._state){if(0!==t)throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream")}else{if(0===t)throw new TypeError("bytesWritten must be greater than 0 when calling respond() on a readable stream");if(r.bytesFilled+t>r.byteLength)throw new RangeError("bytesWritten out of range")}r.buffer=he(r.buffer),He(e,t)}function rt(e,t){var r=e._pendingPullIntos.peek();if("closed"===e._controlledReadableByteStream._state){if(0!==t.byteLength)throw new TypeError("The view's length must be 0 when calling respondWithNewView() on a closed stream")}else if(0===t.byteLength)throw new TypeError("The view's length must be greater than 0 when calling respondWithNewView() on a readable stream");if(r.byteOffset+r.bytesFilled!==t.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(r.bufferByteLength!==t.buffer.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");if(r.bytesFilled+t.byteLength>r.byteLength)throw new RangeError("The region specified by view is larger than byobRequest");var n=t.byteLength;r.buffer=he(t.buffer),He(e,n)}function nt(e,t,r,n,i,o,s){t._controlledReadableByteStream=e,t._pullAgain=!1,t._pulling=!1,t._byobRequest=null,t._queue=t._queueTotalSize=void 0,Me(t),t._closeRequested=!1,t._started=!1,t._strategyHWM=o,t._pullAlgorithm=n,t._cancelAlgorithm=i,t._autoAllocateChunkSize=s,t._pendingPullIntos=new x,e._readableStreamController=t,v(y(r()),(function(){return t._started=!0,Ce(t),null}),(function(e){return Xe(t,e),null}))}function it(e){return new TypeError("ReadableStreamBYOBRequest.prototype.".concat(e," can only be used on a ReadableStreamBYOBRequest"))}function ot(e){return new TypeError("ReadableByteStreamController.prototype.".concat(e," can only be used on a ReadableByteStreamController"))}function st(e,t){if("byob"!==(e="".concat(e)))throw new TypeError("".concat(t," '").concat(e,"' is not a valid enumeration value for ReadableStreamReaderMode"));return e}function at(e){return new ft(e)}function ct(e,t){e._reader._readIntoRequests.push(t)}function ut(e){return e._reader._readIntoRequests.length}function lt(e){var t=e._reader;return void 0!==t&&!!ht(t)}Object.defineProperties(je.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},byobRequest:{enumerable:!0},desiredSize:{enumerable:!0}}),l(je.prototype.close,"close"),l(je.prototype.enqueue,"enqueue"),l(je.prototype.error,"error"),"symbol"==typeof t.toStringTag&&Object.defineProperty(je.prototype,t.toStringTag,{value:"ReadableByteStreamController",configurable:!0});var ft=function(){function e(e){if(V(e,1,"ReadableStreamBYOBReader"),J(e,"First parameter"),Fr(e))throw new TypeError("This stream has already been locked for exclusive reading by another reader");if(!Re(e._readableStreamController))throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");R(this,e),this._readIntoRequests=new x}return Object.defineProperty(e.prototype,"closed",{get:function(){return ht(this)?this._closedPromise:b(yt("closed"))},enumerable:!1,configurable:!0}),e.prototype.cancel=function(e){return void 0===e&&(e=void 0),ht(this)?void 0===this._ownerReadableStream?b($("cancel")):k(this,e):b(yt("cancel"))},e.prototype.read=function(e,t){if(void 0===t&&(t={}),!ht(this))return b(yt("read"));if(!ArrayBuffer.isView(e))return b(new TypeError("view must be an array buffer view"));if(0===e.byteLength)return b(new TypeError("view must have non-zero byteLength"));if(0===e.buffer.byteLength)return b(new TypeError("view's buffer must have non-zero byteLength"));if(de(e.buffer))return b(new TypeError("view's buffer has been detached"));var r;try{r=function(e,t){var r;return q(e,t),{min:Y(null!==(r=null==e?void 0:e.min)&&void 0!==r?r:1,"".concat(t," has member 'min' that"))}}(t,"options")}catch(e){return b(e)}var n,i,o=r.min;if(0===o)return b(new TypeError("options.min must be greater than 0"));if(function(e){return Pe(e.constructor)}(e)){if(o>e.byteLength)return b(new RangeError("options.min must be less than or equal to view's byteLength"))}else if(o>e.length)return b(new RangeError("options.min must be less than or equal to view's length"));if(void 0===this._ownerReadableStream)return b($("read from"));var s=p((function(e,t){n=e,i=t}));return dt(this,e,o,{_chunkSteps:function(e){return n({value:e,done:!1})},_closeSteps:function(e){return n({value:e,done:!0})},_errorSteps:function(e){return i(e)}}),s},e.prototype.releaseLock=function(){if(!ht(this))throw yt("releaseLock");void 0!==this._ownerReadableStream&&function(e){C(e),pt(e,new TypeError("Reader was released"))}(this)},e}();function ht(e){return!!c(e)&&!!Object.prototype.hasOwnProperty.call(e,"_readIntoRequests")&&e instanceof ft}function dt(e,t,r,n){var i=e._ownerReadableStream;i._disturbed=!0,"errored"===i._state?n._errorSteps(i._storedError):function(e,t,r,n){var i,o=e._controlledReadableByteStream,s=t.constructor,a=function(e){return Pe(e)?1:e.BYTES_PER_ELEMENT}(s),c=t.byteOffset,u=t.byteLength,l=r*a;try{i=he(t.buffer)}catch(d){return void n._errorSteps(d)}var f={buffer:i,bufferByteLength:i.byteLength,byteOffset:c,byteLength:u,bytesFilled:0,minimumFill:l,elementSize:a,viewConstructor:s,readerType:"byob"};if(e._pendingPullIntos.length>0)return e._pendingPullIntos.push(f),void ct(o,n);if("closed"!==o._state){if(e._queueTotalSize>0){if(Ue(e,f)){var h=Le(f);return We(e),void n._chunkSteps(h)}if(e._closeRequested){var d=new TypeError("Insufficient bytes to fill elements in the given buffer");return Xe(e,d),void n._errorSteps(d)}}e._pendingPullIntos.push(f),ct(o,n),Ce(e)}else{var p=new s(f.buffer,f.byteOffset,0);n._closeSteps(p)}}(i._readableStreamController,t,r,n)}function pt(e,t){var r=e._readIntoRequests;e._readIntoRequests=new x,r.forEach((function(e){e._errorSteps(t)}))}function yt(e){return new TypeError("ReadableStreamBYOBReader.prototype.".concat(e," can only be used on a ReadableStreamBYOBReader"))}function bt(e,t){var r=e.highWaterMark;if(void 0===r)return t;if(Te(r)||r<0)throw new RangeError("Invalid highWaterMark");return r}function mt(e){return e.size||function(){return 1}}function vt(e,t){q(e,t);var r=null==e?void 0:e.highWaterMark,n=null==e?void 0:e.size;return{highWaterMark:void 0===r?void 0:G(r),size:void 0===n?void 0:gt(n,"".concat(t," has member 'size' that"))}}function gt(e,t){return W(e,t),function(t){return G(e(t))}}function wt(e,t,r){return W(e,r),function(r){return O(e,t,[r])}}function _t(e,t,r){return W(e,r),function(){return O(e,t,[])}}function St(e,t,r){return W(e,r),function(r){return T(e,t,[r])}}function Et(e,t,r){return W(e,r),function(r,n){return O(e,t,[r,n])}}function Tt(e,t){if(!Pt(e))throw new TypeError("".concat(t," is not a WritableStream."))}Object.defineProperties(ft.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),l(ft.prototype.cancel,"cancel"),l(ft.prototype.read,"read"),l(ft.prototype.releaseLock,"releaseLock"),"symbol"==typeof t.toStringTag&&Object.defineProperty(ft.prototype,t.toStringTag,{value:"ReadableStreamBYOBReader",configurable:!0});var Ot="function"==typeof AbortController,xt=function(){function e(e,t){void 0===e&&(e={}),void 0===t&&(t={}),void 0===e?e=null:z(e,"First parameter");var r=vt(t,"Second parameter"),n=function(e,t){q(e,t);var r=null==e?void 0:e.abort,n=null==e?void 0:e.close,i=null==e?void 0:e.start,o=null==e?void 0:e.type,s=null==e?void 0:e.write;return{abort:void 0===r?void 0:wt(r,e,"".concat(t," has member 'abort' that")),close:void 0===n?void 0:_t(n,e,"".concat(t," has member 'close' that")),start:void 0===i?void 0:St(i,e,"".concat(t," has member 'start' that")),write:void 0===s?void 0:Et(s,e,"".concat(t," has member 'write' that")),type:o}}(e,"First parameter");if(Mt(this),void 0!==n.type)throw new RangeError("Invalid type is specified");var i=mt(r);!function(e,t,r,n){var i,o,s,a,c=Object.create(Ht.prototype);i=void 0!==t.start?function(){return t.start(c)}:function(){},o=void 0!==t.write?function(e){return t.write(e,c)}:function(){return y(void 0)},s=void 0!==t.close?function(){return t.close()}:function(){return y(void 0)},a=void 0!==t.abort?function(e){return t.abort(e)}:function(){return y(void 0)},Kt(e,c,i,o,s,a,r,n)}(this,n,bt(r,1),i)}return Object.defineProperty(e.prototype,"locked",{get:function(){if(!Pt(this))throw tr("locked");return It(this)},enumerable:!1,configurable:!0}),e.prototype.abort=function(e){return void 0===e&&(e=void 0),Pt(this)?It(this)?b(new TypeError("Cannot abort a stream that already has a writer")):jt(this,e):b(tr("abort"))},e.prototype.close=function(){return Pt(this)?It(this)?b(new TypeError("Cannot close a stream that already has a writer")):Nt(this)?b(new TypeError("Cannot close an already-closing stream")):Rt(this):b(tr("close"))},e.prototype.getWriter=function(){if(!Pt(this))throw tr("getWriter");return At(this)},e}();function At(e){return new Dt(e)}function Mt(e){e._state="writable",e._storedError=void 0,e._writer=void 0,e._writableStreamController=void 0,e._writeRequests=new x,e._inFlightWriteRequest=void 0,e._closeRequest=void 0,e._inFlightCloseRequest=void 0,e._pendingAbortRequest=void 0,e._backpressure=!1}function Pt(e){return!!c(e)&&!!Object.prototype.hasOwnProperty.call(e,"_writableStreamController")&&e instanceof xt}function It(e){return void 0!==e._writer}function jt(e,t){var r;if("closed"===e._state||"errored"===e._state)return y(void 0);e._writableStreamController._abortReason=t,null===(r=e._writableStreamController._abortController)||void 0===r||r.abort(t);var n=e._state;if("closed"===n||"errored"===n)return y(void 0);if(void 0!==e._pendingAbortRequest)return e._pendingAbortRequest._promise;var i=!1;"erroring"===n&&(i=!0,t=void 0);var o=p((function(r,n){e._pendingAbortRequest={_promise:void 0,_resolve:r,_reject:n,_reason:t,_wasAlreadyErroring:i}}));return e._pendingAbortRequest._promise=o,i||Ct(e,t),o}function Rt(e){var t=e._state;if("closed"===t||"errored"===t)return b(new TypeError("The stream (in ".concat(t," state) is not in the writable state and cannot be closed")));var r,n=p((function(t,r){var n={_resolve:t,_reject:r};e._closeRequest=n})),i=e._writer;return void 0!==i&&e._backpressure&&"writable"===t&&dr(i),Ae(r=e._writableStreamController,Vt,0),Xt(r),n}function kt(e,t){"writable"!==e._state?$t(e):Ct(e,t)}function Ct(e,t){var r=e._writableStreamController;e._state="erroring",e._storedError=t;var n=e._writer;void 0!==n&&qt(n,t),!function(e){return void 0!==e._inFlightWriteRequest||void 0!==e._inFlightCloseRequest}(e)&&r._started&&$t(e)}function $t(e){e._state="errored",e._writableStreamController[M]();var t=e._storedError;if(e._writeRequests.forEach((function(e){e._reject(t)})),e._writeRequests=new x,void 0!==e._pendingAbortRequest){var r=e._pendingAbortRequest;if(e._pendingAbortRequest=void 0,r._wasAlreadyErroring)return r._reject(t),void Lt(e);v(e._writableStreamController[A](r._reason),(function(){return r._resolve(),Lt(e),null}),(function(t){return r._reject(t),Lt(e),null}))}else Lt(e)}function Nt(e){return void 0!==e._closeRequest||void 0!==e._inFlightCloseRequest}function Lt(e){void 0!==e._closeRequest&&(e._closeRequest._reject(e._storedError),e._closeRequest=void 0);var t=e._writer;void 0!==t&&ar(t,e._storedError)}function Bt(e,t){var r=e._writer;void 0!==r&&t!==e._backpressure&&(t?function(e){ur(e)}(r):dr(r)),e._backpressure=t}Object.defineProperties(xt.prototype,{abort:{enumerable:!0},close:{enumerable:!0},getWriter:{enumerable:!0},locked:{enumerable:!0}}),l(xt.prototype.abort,"abort"),l(xt.prototype.close,"close"),l(xt.prototype.getWriter,"getWriter"),"symbol"==typeof t.toStringTag&&Object.defineProperty(xt.prototype,t.toStringTag,{value:"WritableStream",configurable:!0});var Dt=function(){function e(e){if(V(e,1,"WritableStreamDefaultWriter"),Tt(e,"First parameter"),It(e))throw new TypeError("This stream has already been locked for exclusive writing by another writer");this._ownerWritableStream=e,e._writer=this;var t=e._state;if("writable"===t)!Nt(e)&&e._backpressure?ur(this):fr(this),or(this);else if("erroring"===t)lr(this,e._storedError),or(this);else if("closed"===t)fr(this),or(this),cr(this);else{var r=e._storedError;lr(this,r),sr(this,r)}}return Object.defineProperty(e.prototype,"closed",{get:function(){return Ft(this)?this._closedPromise:b(nr("closed"))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"desiredSize",{get:function(){if(!Ft(this))throw nr("desiredSize");if(void 0===this._ownerWritableStream)throw ir("desiredSize");return function(e){var t=e._ownerWritableStream,r=t._state;return"errored"===r||"erroring"===r?null:"closed"===r?0:Jt(t._writableStreamController)}(this)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ready",{get:function(){return Ft(this)?this._readyPromise:b(nr("ready"))},enumerable:!1,configurable:!0}),e.prototype.abort=function(e){return void 0===e&&(e=void 0),Ft(this)?void 0===this._ownerWritableStream?b(ir("abort")):function(e,t){return jt(e._ownerWritableStream,t)}(this,e):b(nr("abort"))},e.prototype.close=function(){if(!Ft(this))return b(nr("close"));var e=this._ownerWritableStream;return void 0===e?b(ir("close")):Nt(e)?b(new TypeError("Cannot close an already-closing stream")):Ut(this)},e.prototype.releaseLock=function(){if(!Ft(this))throw nr("releaseLock");void 0!==this._ownerWritableStream&&Wt(this)},e.prototype.write=function(e){return void 0===e&&(e=void 0),Ft(this)?void 0===this._ownerWritableStream?b(ir("write to")):zt(this,e):b(nr("write"))},e}();function Ft(e){return!!c(e)&&!!Object.prototype.hasOwnProperty.call(e,"_ownerWritableStream")&&e instanceof Dt}function Ut(e){return Rt(e._ownerWritableStream)}function qt(e,t){"pending"===e._readyPromiseState?hr(e,t):function(e,t){lr(e,t)}(e,t)}function Wt(e){var t=e._ownerWritableStream,r=new TypeError("Writer was released and can no longer be used to monitor the stream's closedness");qt(e,r),function(e,t){"pending"===e._closedPromiseState?ar(e,t):function(e,t){sr(e,t)}(e,t)}(e,r),t._writer=void 0,e._ownerWritableStream=void 0}function zt(e,t){var r=e._ownerWritableStream,n=r._writableStreamController,i=function(e,t){try{return e._strategySizeAlgorithm(t)}catch(t){return Zt(e,t),1}}(n,t);if(r!==e._ownerWritableStream)return b(ir("write to"));var o=r._state;if("errored"===o)return b(r._storedError);if(Nt(r)||"closed"===o)return b(new TypeError("The stream is closing or closed and cannot be written to"));if("erroring"===o)return b(r._storedError);var s=function(e){return p((function(t,r){var n={_resolve:t,_reject:r};e._writeRequests.push(n)}))}(r);return function(e,t,r){try{Ae(e,t,r)}catch(t){return void Zt(e,t)}var n=e._controlledWritableStream;Nt(n)||"writable"!==n._state||Bt(n,Qt(e)),Xt(e)}(n,t,i),s}Object.defineProperties(Dt.prototype,{abort:{enumerable:!0},close:{enumerable:!0},releaseLock:{enumerable:!0},write:{enumerable:!0},closed:{enumerable:!0},desiredSize:{enumerable:!0},ready:{enumerable:!0}}),l(Dt.prototype.abort,"abort"),l(Dt.prototype.close,"close"),l(Dt.prototype.releaseLock,"releaseLock"),l(Dt.prototype.write,"write"),"symbol"==typeof t.toStringTag&&Object.defineProperty(Dt.prototype,t.toStringTag,{value:"WritableStreamDefaultWriter",configurable:!0});var Vt={},Ht=function(){function e(){throw new TypeError("Illegal constructor")}return Object.defineProperty(e.prototype,"abortReason",{get:function(){if(!Gt(this))throw rr("abortReason");return this._abortReason},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"signal",{get:function(){if(!Gt(this))throw rr("signal");if(void 0===this._abortController)throw new TypeError("WritableStreamDefaultController.prototype.signal is not supported");return this._abortController.signal},enumerable:!1,configurable:!0}),e.prototype.error=function(e){if(void 0===e&&(e=void 0),!Gt(this))throw rr("error");"writable"===this._controlledWritableStream._state&&er(this,e)},e.prototype[A]=function(e){var t=this._abortAlgorithm(e);return Yt(this),t},e.prototype[M]=function(){Me(this)},e}();function Gt(e){return!!c(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledWritableStream")&&e instanceof Ht}function Kt(e,t,r,n,i,o,s,a){t._controlledWritableStream=e,e._writableStreamController=t,t._queue=void 0,t._queueTotalSize=void 0,Me(t),t._abortReason=void 0,t._abortController=function(){if(Ot)return new AbortController}(),t._started=!1,t._strategySizeAlgorithm=a,t._strategyHWM=s,t._writeAlgorithm=n,t._closeAlgorithm=i,t._abortAlgorithm=o;var c=Qt(t);Bt(e,c),v(y(r()),(function(){return t._started=!0,Xt(t),null}),(function(r){return t._started=!0,kt(e,r),null}))}function Yt(e){e._writeAlgorithm=void 0,e._closeAlgorithm=void 0,e._abortAlgorithm=void 0,e._strategySizeAlgorithm=void 0}function Jt(e){return e._strategyHWM-e._queueTotalSize}function Xt(e){var t=e._controlledWritableStream;if(e._started&&void 0===t._inFlightWriteRequest)if("erroring"!==t._state){if(0!==e._queue.length){var r=e._queue.peek().value;r===Vt?function(e){var t=e._controlledWritableStream;(function(e){e._inFlightCloseRequest=e._closeRequest,e._closeRequest=void 0})(t),xe(e);var r=e._closeAlgorithm();Yt(e),v(r,(function(){return function(e){e._inFlightCloseRequest._resolve(void 0),e._inFlightCloseRequest=void 0,"erroring"===e._state&&(e._storedError=void 0,void 0!==e._pendingAbortRequest&&(e._pendingAbortRequest._resolve(),e._pendingAbortRequest=void 0)),e._state="closed";var t=e._writer;void 0!==t&&cr(t)}(t),null}),(function(e){return function(e,t){e._inFlightCloseRequest._reject(t),e._inFlightCloseRequest=void 0,void 0!==e._pendingAbortRequest&&(e._pendingAbortRequest._reject(t),e._pendingAbortRequest=void 0),kt(e,t)}(t,e),null}))}(e):function(e,t){var r=e._controlledWritableStream;!function(e){e._inFlightWriteRequest=e._writeRequests.shift()}(r),v(e._writeAlgorithm(t),(function(){!function(e){e._inFlightWriteRequest._resolve(void 0),e._inFlightWriteRequest=void 0}(r);var t=r._state;if(xe(e),!Nt(r)&&"writable"===t){var n=Qt(e);Bt(r,n)}return Xt(e),null}),(function(t){return"writable"===r._state&&Yt(e),function(e,t){e._inFlightWriteRequest._reject(t),e._inFlightWriteRequest=void 0,kt(e,t)}(r,t),null}))}(e,r)}}else $t(t)}function Zt(e,t){"writable"===e._controlledWritableStream._state&&er(e,t)}function Qt(e){return Jt(e)<=0}function er(e,t){var r=e._controlledWritableStream;Yt(e),Ct(r,t)}function tr(e){return new TypeError("WritableStream.prototype.".concat(e," can only be used on a WritableStream"))}function rr(e){return new TypeError("WritableStreamDefaultController.prototype.".concat(e," can only be used on a WritableStreamDefaultController"))}function nr(e){return new TypeError("WritableStreamDefaultWriter.prototype.".concat(e," can only be used on a WritableStreamDefaultWriter"))}function ir(e){return new TypeError("Cannot "+e+" a stream using a released writer")}function or(e){e._closedPromise=p((function(t,r){e._closedPromise_resolve=t,e._closedPromise_reject=r,e._closedPromiseState="pending"}))}function sr(e,t){or(e),ar(e,t)}function ar(e,t){void 0!==e._closedPromise_reject&&(S(e._closedPromise),e._closedPromise_reject(t),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="rejected")}function cr(e){void 0!==e._closedPromise_resolve&&(e._closedPromise_resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="resolved")}function ur(e){e._readyPromise=p((function(t,r){e._readyPromise_resolve=t,e._readyPromise_reject=r})),e._readyPromiseState="pending"}function lr(e,t){ur(e),hr(e,t)}function fr(e){ur(e),dr(e)}function hr(e,t){void 0!==e._readyPromise_reject&&(S(e._readyPromise),e._readyPromise_reject(t),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="rejected")}function dr(e){void 0!==e._readyPromise_resolve&&(e._readyPromise_resolve(void 0),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="fulfilled")}Object.defineProperties(Ht.prototype,{abortReason:{enumerable:!0},signal:{enumerable:!0},error:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(Ht.prototype,t.toStringTag,{value:"WritableStreamDefaultController",configurable:!0});var pr,yr="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:void 0!==r.g?r.g:void 0,br=(function(e){if("function"!=typeof e&&"object"!=typeof e)return!1;if("DOMException"!==e.name)return!1;try{return new e,!0}catch(e){return!1}}(pr=null==yr?void 0:yr.DOMException)?pr:void 0)||function(){var e=function(e,t){this.message=e||"",this.name=t||"Error",Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)};return l(e,"DOMException"),e.prototype=Object.create(Error.prototype),Object.defineProperty(e.prototype,"constructor",{value:e,writable:!0,configurable:!0}),e}();function mr(e,t,r,n,i,o){var s=X(e),c=At(t);e._disturbed=!0;var u=!1,l=y(void 0);return p((function(f,h){var d,_,E,T;if(void 0!==o){if(d=function(){var r=void 0!==o.reason?o.reason:new br("Aborted","AbortError"),s=[];n||s.push((function(){return"writable"===t._state?jt(t,r):y(void 0)})),i||s.push((function(){return"readable"===e._state?Ur(e,r):y(void 0)})),M((function(){return Promise.all(s.map((function(e){return e()})))}),!0,r)},o.aborted)return void d();o.addEventListener("abort",d)}if(A(e,s._closedPromise,(function(e){return n?P(!0,e):M((function(){return jt(t,e)}),!0,e),null})),A(t,c._closedPromise,(function(t){return i?P(!0,t):M((function(){return Ur(e,t)}),!0,t),null})),_=e,E=s._closedPromise,T=function(){return r?P():M((function(){return function(e){var t=e._ownerWritableStream,r=t._state;return Nt(t)||"closed"===r?y(void 0):"errored"===r?b(t._storedError):Ut(e)}(c)})),null},"closed"===_._state?T():g(E,T),Nt(t)||"closed"===t._state){var O=new TypeError("the destination writable stream closed before all data could be piped to it");i?P(!0,O):M((function(){return Ur(e,O)}),!0,O)}function x(){var e=l;return m(l,(function(){return e!==l?x():void 0}))}function A(e,t,r){"errored"===e._state?r(e._storedError):w(t,r)}function M(e,r,n){function i(){return v(e(),(function(){return I(r,n)}),(function(e){return I(!0,e)})),null}u||(u=!0,"writable"!==t._state||Nt(t)?i():g(x(),i))}function P(e,r){u||(u=!0,"writable"!==t._state||Nt(t)?I(e,r):g(x(),(function(){return I(e,r)})))}function I(e,t){return Wt(c),C(s),void 0!==o&&o.removeEventListener("abort",d),e?h(t):f(void 0),null}S(p((function(e,t){!function r(n){n?e():m(u?y(!0):m(c._readyPromise,(function(){return p((function(e,t){ae(s,{_chunkSteps:function(t){l=m(zt(c,t),void 0,a),e(!1)},_closeSteps:function(){return e(!0)},_errorSteps:t})}))})),r,t)}(!1)})))}))}var vr=function(){function e(){throw new TypeError("Illegal constructor")}return Object.defineProperty(e.prototype,"desiredSize",{get:function(){if(!gr(this))throw Pr("desiredSize");return xr(this)},enumerable:!1,configurable:!0}),e.prototype.close=function(){if(!gr(this))throw Pr("close");if(!Ar(this))throw new TypeError("The stream is not in a state that permits close");Er(this)},e.prototype.enqueue=function(e){if(void 0===e&&(e=void 0),!gr(this))throw Pr("enqueue");if(!Ar(this))throw new TypeError("The stream is not in a state that permits enqueue");return Tr(this,e)},e.prototype.error=function(e){if(void 0===e&&(e=void 0),!gr(this))throw Pr("error");Or(this,e)},e.prototype[P]=function(e){Me(this);var t=this._cancelAlgorithm(e);return Sr(this),t},e.prototype[I]=function(e){var t=this._controlledReadableStream;if(this._queue.length>0){var r=xe(this);this._closeRequested&&0===this._queue.length?(Sr(this),qr(t)):wr(this),e._chunkSteps(r)}else Z(t,e),wr(this)},e.prototype[j]=function(){},e}();function gr(e){return!!c(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledReadableStream")&&e instanceof vr}function wr(e){_r(e)&&(e._pulling?e._pullAgain=!0:(e._pulling=!0,v(e._pullAlgorithm(),(function(){return e._pulling=!1,e._pullAgain&&(e._pullAgain=!1,wr(e)),null}),(function(t){return Or(e,t),null}))))}function _r(e){var t=e._controlledReadableStream;return!!Ar(e)&&!!e._started&&(!!(Fr(t)&&ee(t)>0)||xr(e)>0)}function Sr(e){e._pullAlgorithm=void 0,e._cancelAlgorithm=void 0,e._strategySizeAlgorithm=void 0}function Er(e){if(Ar(e)){var t=e._controlledReadableStream;e._closeRequested=!0,0===e._queue.length&&(Sr(e),qr(t))}}function Tr(e,t){if(Ar(e)){var r=e._controlledReadableStream;if(Fr(r)&&ee(r)>0)Q(r,t,!1);else{var n=void 0;try{n=e._strategySizeAlgorithm(t)}catch(t){throw Or(e,t),t}try{Ae(e,t,n)}catch(t){throw Or(e,t),t}}wr(e)}}function Or(e,t){var r=e._controlledReadableStream;"readable"===r._state&&(Me(e),Sr(e),Wr(r,t))}function xr(e){var t=e._controlledReadableStream._state;return"errored"===t?null:"closed"===t?0:e._strategyHWM-e._queueTotalSize}function Ar(e){var t=e._controlledReadableStream._state;return!e._closeRequested&&"readable"===t}function Mr(e,t,r,n,i,o,s){t._controlledReadableStream=e,t._queue=void 0,t._queueTotalSize=void 0,Me(t),t._started=!1,t._closeRequested=!1,t._pullAgain=!1,t._pulling=!1,t._strategySizeAlgorithm=s,t._strategyHWM=o,t._pullAlgorithm=n,t._cancelAlgorithm=i,e._readableStreamController=t,v(y(r()),(function(){return t._started=!0,wr(t),null}),(function(e){return Or(t,e),null}))}function Pr(e){return new TypeError("ReadableStreamDefaultController.prototype.".concat(e," can only be used on a ReadableStreamDefaultController"))}function Ir(e,t,r){return W(e,r),function(r){return O(e,t,[r])}}function jr(e,t,r){return W(e,r),function(r){return O(e,t,[r])}}function Rr(e,t,r){return W(e,r),function(r){return T(e,t,[r])}}function kr(e,t){if("bytes"!==(e="".concat(e)))throw new TypeError("".concat(t," '").concat(e,"' is not a valid enumeration value for ReadableStreamType"));return e}function Cr(e,t){q(e,t);var r=null==e?void 0:e.preventAbort,n=null==e?void 0:e.preventCancel,i=null==e?void 0:e.preventClose,o=null==e?void 0:e.signal;return void 0!==o&&function(e,t){if(!function(e){if("object"!=typeof e||null===e)return!1;try{return"boolean"==typeof e.aborted}catch(e){return!1}}(e))throw new TypeError("".concat(t," is not an AbortSignal."))}(o,"".concat(t," has member 'signal' that")),{preventAbort:Boolean(r),preventCancel:Boolean(n),preventClose:Boolean(i),signal:o}}Object.defineProperties(vr.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},desiredSize:{enumerable:!0}}),l(vr.prototype.close,"close"),l(vr.prototype.enqueue,"enqueue"),l(vr.prototype.error,"error"),"symbol"==typeof t.toStringTag&&Object.defineProperty(vr.prototype,t.toStringTag,{value:"ReadableStreamDefaultController",configurable:!0});var $r=function(){function e(e,t){void 0===e&&(e={}),void 0===t&&(t={}),void 0===e?e=null:z(e,"First parameter");var r=vt(t,"Second parameter"),n=function(e,t){q(e,t);var r=e,n=null==r?void 0:r.autoAllocateChunkSize,i=null==r?void 0:r.cancel,o=null==r?void 0:r.pull,s=null==r?void 0:r.start,a=null==r?void 0:r.type;return{autoAllocateChunkSize:void 0===n?void 0:Y(n,"".concat(t," has member 'autoAllocateChunkSize' that")),cancel:void 0===i?void 0:Ir(i,r,"".concat(t," has member 'cancel' that")),pull:void 0===o?void 0:jr(o,r,"".concat(t," has member 'pull' that")),start:void 0===s?void 0:Rr(s,r,"".concat(t," has member 'start' that")),type:void 0===a?void 0:kr(a,"".concat(t," has member 'type' that"))}}(e,"First parameter");if(Br(this),"bytes"===n.type){if(void 0!==r.size)throw new RangeError("The strategy for a byte stream cannot have a size function");!function(e,t,r){var n,i,o,s=Object.create(je.prototype);n=void 0!==t.start?function(){return t.start(s)}:function(){},i=void 0!==t.pull?function(){return t.pull(s)}:function(){return y(void 0)},o=void 0!==t.cancel?function(e){return t.cancel(e)}:function(){return y(void 0)};var a=t.autoAllocateChunkSize;if(0===a)throw new TypeError("autoAllocateChunkSize must be greater than 0");nt(e,s,n,i,o,r,a)}(this,n,bt(r,0))}else{var i=mt(r);!function(e,t,r,n){var i,o,s,a=Object.create(vr.prototype);i=void 0!==t.start?function(){return t.start(a)}:function(){},o=void 0!==t.pull?function(){return t.pull(a)}:function(){return y(void 0)},s=void 0!==t.cancel?function(e){return t.cancel(e)}:function(){return y(void 0)},Mr(e,a,i,o,s,r,n)}(this,n,bt(r,1),i)}}return Object.defineProperty(e.prototype,"locked",{get:function(){if(!Dr(this))throw zr("locked");return Fr(this)},enumerable:!1,configurable:!0}),e.prototype.cancel=function(e){return void 0===e&&(e=void 0),Dr(this)?Fr(this)?b(new TypeError("Cannot cancel a stream that already has a reader")):Ur(this,e):b(zr("cancel"))},e.prototype.getReader=function(e){if(void 0===e&&(e=void 0),!Dr(this))throw zr("getReader");return void 0===function(e,t){q(e,t);var r=null==e?void 0:e.mode;return{mode:void 0===r?void 0:st(r,"".concat(t," has member 'mode' that"))}}(e,"First parameter").mode?X(this):at(this)},e.prototype.pipeThrough=function(e,t){if(void 0===t&&(t={}),!Dr(this))throw zr("pipeThrough");V(e,1,"pipeThrough");var r=function(e,t){q(e,t);var r=null==e?void 0:e.readable;H(r,"readable","ReadableWritablePair"),J(r,"".concat(t," has member 'readable' that"));var n=null==e?void 0:e.writable;return H(n,"writable","ReadableWritablePair"),Tt(n,"".concat(t," has member 'writable' that")),{readable:r,writable:n}}(e,"First parameter"),n=Cr(t,"Second parameter");if(Fr(this))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(It(r.writable))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");return S(mr(this,r.writable,n.preventClose,n.preventAbort,n.preventCancel,n.signal)),r.readable},e.prototype.pipeTo=function(e,t){if(void 0===t&&(t={}),!Dr(this))return b(zr("pipeTo"));if(void 0===e)return b("Parameter 1 is required in 'pipeTo'.");if(!Pt(e))return b(new TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));var r;try{r=Cr(t,"Second parameter")}catch(e){return b(e)}return Fr(this)?b(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):It(e)?b(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):mr(this,e,r.preventClose,r.preventAbort,r.preventCancel,r.signal)},e.prototype.tee=function(){if(!Dr(this))throw zr("tee");return le(function(e,t){return Re(e._readableStreamController)?function(e){var t,r,n,i,o,s=X(e),a=!1,c=!1,u=!1,l=!1,f=!1,h=p((function(e){o=e}));function d(e){w(e._closedPromise,(function(t){return e!==s||(Xe(n._readableStreamController,t),Xe(i._readableStreamController,t),l&&f||o(void 0)),null}))}function b(){ht(s)&&(C(s),d(s=X(e))),ae(s,{_chunkSteps:function(t){E((function(){c=!1,u=!1;var r=t,s=t;if(!l&&!f)try{s=Oe(t)}catch(t){return Xe(n._readableStreamController,t),Xe(i._readableStreamController,t),void o(Ur(e,t))}l||Je(n._readableStreamController,r),f||Je(i._readableStreamController,s),a=!1,c?v():u&&g()}))},_closeSteps:function(){a=!1,l||Ye(n._readableStreamController),f||Ye(i._readableStreamController),n._readableStreamController._pendingPullIntos.length>0&&tt(n._readableStreamController,0),i._readableStreamController._pendingPullIntos.length>0&&tt(i._readableStreamController,0),l&&f||o(void 0)},_errorSteps:function(){a=!1}})}function m(t,r){se(s)&&(C(s),d(s=at(e)));var h=r?i:n,p=r?n:i;dt(s,t,1,{_chunkSteps:function(t){E((function(){c=!1,u=!1;var n=r?f:l;if(r?l:f)n||rt(h._readableStreamController,t);else{var i=void 0;try{i=Oe(t)}catch(t){return Xe(h._readableStreamController,t),Xe(p._readableStreamController,t),void o(Ur(e,t))}n||rt(h._readableStreamController,t),Je(p._readableStreamController,i)}a=!1,c?v():u&&g()}))},_closeSteps:function(e){a=!1;var t=r?f:l,n=r?l:f;t||Ye(h._readableStreamController),n||Ye(p._readableStreamController),void 0!==e&&(t||rt(h._readableStreamController,e),!n&&p._readableStreamController._pendingPullIntos.length>0&&tt(p._readableStreamController,0)),t&&n||o(void 0)},_errorSteps:function(){a=!1}})}function v(){if(a)return c=!0,y(void 0);a=!0;var e=Qe(n._readableStreamController);return null===e?b():m(e._view,!1),y(void 0)}function g(){if(a)return u=!0,y(void 0);a=!0;var e=Qe(i._readableStreamController);return null===e?b():m(e._view,!0),y(void 0)}function _(){}return n=Lr(_,v,(function(n){if(l=!0,t=n,f){var i=le([t,r]),s=Ur(e,i);o(s)}return h})),i=Lr(_,g,(function(n){if(f=!0,r=n,l){var i=le([t,r]),s=Ur(e,i);o(s)}return h})),d(s),[n,i]}(e):function(e,t){var r,n,i,o,s,a=X(e),c=!1,u=!1,l=!1,f=!1,h=p((function(e){s=e}));function d(){return c?(u=!0,y(void 0)):(c=!0,ae(a,{_chunkSteps:function(e){E((function(){u=!1;var t=e,r=e;l||Tr(i._readableStreamController,t),f||Tr(o._readableStreamController,r),c=!1,u&&d()}))},_closeSteps:function(){c=!1,l||Er(i._readableStreamController),f||Er(o._readableStreamController),l&&f||s(void 0)},_errorSteps:function(){c=!1}}),y(void 0))}function b(){}return i=Nr(b,d,(function(t){if(l=!0,r=t,f){var i=le([r,n]),o=Ur(e,i);s(o)}return h})),o=Nr(b,d,(function(t){if(f=!0,n=t,l){var i=le([r,n]),o=Ur(e,i);s(o)}return h})),w(a._closedPromise,(function(e){return Or(i._readableStreamController,e),Or(o._readableStreamController,e),l&&f||s(void 0),null})),[i,o]}(e)}(this))},e.prototype.values=function(e){if(void 0===e&&(e=void 0),!Dr(this))throw zr("values");var t,r,n,i,o=function(e,t){q(e,"First parameter");var r=null==e?void 0:e.preventCancel;return{preventCancel:Boolean(r)}}(e);return this,t=o.preventCancel,r=X(this),n=new we(r,t),(i=Object.create(_e))._asyncIteratorImpl=n,i},e.prototype[me]=function(e){return this.values(e)},e.from=function(e){return function(e){return c(t=e)&&void 0!==t.getReader?function(e){var t;return t=Nr(a,(function(){var r;try{r=e.read()}catch(e){return b(e)}return _(r,(function(e){if(!c(e))throw new TypeError("The promise returned by the reader.read() method must fulfill with an object");if(e.done)Er(t._readableStreamController);else{var r=e.value;Tr(t._readableStreamController,r)}}))}),(function(t){try{return y(e.cancel(t))}catch(e){return b(e)}}),0)}(e.getReader()):function(e){var t,r=ve(e,"async");return t=Nr(a,(function(){var e;try{e=function(e){var t=T(e.nextMethod,e.iterator,[]);if(!c(t))throw new TypeError("The iterator.next() method must return an object");return t}(r)}catch(e){return b(e)}return _(y(e),(function(e){if(!c(e))throw new TypeError("The promise returned by the iterator.next() method must fulfill with an object");var r=function(e){return Boolean(e.done)}(e);if(r)Er(t._readableStreamController);else{var n=function(e){return e.value}(e);Tr(t._readableStreamController,n)}}))}),(function(e){var t,n,i=r.iterator;try{t=ye(i,"return")}catch(e){return b(e)}if(void 0===t)return y(void 0);try{n=T(t,i,[e])}catch(e){return b(e)}return _(y(n),(function(e){if(!c(e))throw new TypeError("The promise returned by the iterator.return() method must fulfill with an object")}))}),0)}(e);var t}(e)},e}();function Nr(e,t,r,n,i){void 0===n&&(n=1),void 0===i&&(i=function(){return 1});var o=Object.create($r.prototype);return Br(o),Mr(o,Object.create(vr.prototype),e,t,r,n,i),o}function Lr(e,t,r){var n=Object.create($r.prototype);return Br(n),nt(n,Object.create(je.prototype),e,t,r,0,void 0),n}function Br(e){e._state="readable",e._reader=void 0,e._storedError=void 0,e._disturbed=!1}function Dr(e){return!!c(e)&&!!Object.prototype.hasOwnProperty.call(e,"_readableStreamController")&&e instanceof $r}function Fr(e){return void 0!==e._reader}function Ur(e,t){if(e._disturbed=!0,"closed"===e._state)return y(void 0);if("errored"===e._state)return b(e._storedError);qr(e);var r=e._reader;if(void 0!==r&&ht(r)){var n=r._readIntoRequests;r._readIntoRequests=new x,n.forEach((function(e){e._closeSteps(void 0)}))}return _(e._readableStreamController[P](t),a)}function qr(e){e._state="closed";var t=e._reader;if(void 0!==t&&(D(t),se(t))){var r=t._readRequests;t._readRequests=new x,r.forEach((function(e){e._closeSteps()}))}}function Wr(e,t){e._state="errored",e._storedError=t;var r=e._reader;void 0!==r&&(B(r,t),se(r)?ce(r,t):pt(r,t))}function zr(e){return new TypeError("ReadableStream.prototype.".concat(e," can only be used on a ReadableStream"))}function Vr(e,t){q(e,t);var r=null==e?void 0:e.highWaterMark;return H(r,"highWaterMark","QueuingStrategyInit"),{highWaterMark:G(r)}}Object.defineProperties($r,{from:{enumerable:!0}}),Object.defineProperties($r.prototype,{cancel:{enumerable:!0},getReader:{enumerable:!0},pipeThrough:{enumerable:!0},pipeTo:{enumerable:!0},tee:{enumerable:!0},values:{enumerable:!0},locked:{enumerable:!0}}),l($r.from,"from"),l($r.prototype.cancel,"cancel"),l($r.prototype.getReader,"getReader"),l($r.prototype.pipeThrough,"pipeThrough"),l($r.prototype.pipeTo,"pipeTo"),l($r.prototype.tee,"tee"),l($r.prototype.values,"values"),"symbol"==typeof t.toStringTag&&Object.defineProperty($r.prototype,t.toStringTag,{value:"ReadableStream",configurable:!0}),Object.defineProperty($r.prototype,me,{value:$r.prototype.values,writable:!0,configurable:!0});var Hr=function(e){return e.byteLength};l(Hr,"size");var Gr=function(){function e(e){V(e,1,"ByteLengthQueuingStrategy"),e=Vr(e,"First parameter"),this._byteLengthQueuingStrategyHighWaterMark=e.highWaterMark}return Object.defineProperty(e.prototype,"highWaterMark",{get:function(){if(!Yr(this))throw Kr("highWaterMark");return this._byteLengthQueuingStrategyHighWaterMark},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){if(!Yr(this))throw Kr("size");return Hr},enumerable:!1,configurable:!0}),e}();function Kr(e){return new TypeError("ByteLengthQueuingStrategy.prototype.".concat(e," can only be used on a ByteLengthQueuingStrategy"))}function Yr(e){return!!c(e)&&!!Object.prototype.hasOwnProperty.call(e,"_byteLengthQueuingStrategyHighWaterMark")&&e instanceof Gr}Object.defineProperties(Gr.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(Gr.prototype,t.toStringTag,{value:"ByteLengthQueuingStrategy",configurable:!0});var Jr=function(){return 1};l(Jr,"size");var Xr=function(){function e(e){V(e,1,"CountQueuingStrategy"),e=Vr(e,"First parameter"),this._countQueuingStrategyHighWaterMark=e.highWaterMark}return Object.defineProperty(e.prototype,"highWaterMark",{get:function(){if(!Qr(this))throw Zr("highWaterMark");return this._countQueuingStrategyHighWaterMark},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){if(!Qr(this))throw Zr("size");return Jr},enumerable:!1,configurable:!0}),e}();function Zr(e){return new TypeError("CountQueuingStrategy.prototype.".concat(e," can only be used on a CountQueuingStrategy"))}function Qr(e){return!!c(e)&&!!Object.prototype.hasOwnProperty.call(e,"_countQueuingStrategyHighWaterMark")&&e instanceof Xr}function en(e,t,r){return W(e,r),function(r){return O(e,t,[r])}}function tn(e,t,r){return W(e,r),function(r){return T(e,t,[r])}}function rn(e,t,r){return W(e,r),function(r,n){return O(e,t,[r,n])}}function nn(e,t,r){return W(e,r),function(r){return O(e,t,[r])}}Object.defineProperties(Xr.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(Xr.prototype,t.toStringTag,{value:"CountQueuingStrategy",configurable:!0});var on=function(){function e(e,t,r){void 0===e&&(e={}),void 0===t&&(t={}),void 0===r&&(r={}),void 0===e&&(e=null);var n=vt(t,"Second parameter"),i=vt(r,"Third parameter"),o=function(e,t){q(e,t);var r=null==e?void 0:e.cancel,n=null==e?void 0:e.flush,i=null==e?void 0:e.readableType,o=null==e?void 0:e.start,s=null==e?void 0:e.transform,a=null==e?void 0:e.writableType;return{cancel:void 0===r?void 0:nn(r,e,"".concat(t," has member 'cancel' that")),flush:void 0===n?void 0:en(n,e,"".concat(t," has member 'flush' that")),readableType:i,start:void 0===o?void 0:tn(o,e,"".concat(t," has member 'start' that")),transform:void 0===s?void 0:rn(s,e,"".concat(t," has member 'transform' that")),writableType:a}}(e,"First parameter");if(void 0!==o.readableType)throw new RangeError("Invalid readableType specified");if(void 0!==o.writableType)throw new RangeError("Invalid writableType specified");var s,a=bt(i,0),c=mt(i),u=bt(n,1),l=mt(n);!function(e,t,r,n,i,o){function s(){return t}e._writable=function(e,t,r,n,i,o){void 0===i&&(i=1),void 0===o&&(o=function(){return 1});var s=Object.create(xt.prototype);return Mt(s),Kt(s,Object.create(Ht.prototype),e,t,r,n,i,o),s}(s,(function(t){return function(e,t){var r=e._transformStreamController;return e._backpressure?_(e._backpressureChangePromise,(function(){var n=e._writable;if("erroring"===n._state)throw n._storedError;return yn(r,t)})):yn(r,t)}(e,t)}),(function(){return function(e){var t=e._transformStreamController;if(void 0!==t._finishPromise)return t._finishPromise;var r=e._readable;t._finishPromise=p((function(e,r){t._finishPromise_resolve=e,t._finishPromise_reject=r}));var n=t._flushAlgorithm();return dn(t),v(n,(function(){return"errored"===r._state?vn(t,r._storedError):(Er(r._readableStreamController),mn(t)),null}),(function(e){return Or(r._readableStreamController,e),vn(t,e),null})),t._finishPromise}(e)}),(function(t){return function(e,t){var r=e._transformStreamController;if(void 0!==r._finishPromise)return r._finishPromise;var n=e._readable;r._finishPromise=p((function(e,t){r._finishPromise_resolve=e,r._finishPromise_reject=t}));var i=r._cancelAlgorithm(t);return dn(r),v(i,(function(){return"errored"===n._state?vn(r,n._storedError):(Or(n._readableStreamController,t),mn(r)),null}),(function(e){return Or(n._readableStreamController,e),vn(r,e),null})),r._finishPromise}(e,t)}),r,n),e._readable=Nr(s,(function(){return function(e){return ln(e,!1),e._backpressureChangePromise}(e)}),(function(t){return function(e,t){var r=e._transformStreamController;if(void 0!==r._finishPromise)return r._finishPromise;var n=e._writable;r._finishPromise=p((function(e,t){r._finishPromise_resolve=e,r._finishPromise_reject=t}));var i=r._cancelAlgorithm(t);return dn(r),v(i,(function(){return"errored"===n._state?vn(r,n._storedError):(Zt(n._writableStreamController,t),un(e),mn(r)),null}),(function(t){return Zt(n._writableStreamController,t),un(e),vn(r,t),null})),r._finishPromise}(e,t)}),i,o),e._backpressure=void 0,e._backpressureChangePromise=void 0,e._backpressureChangePromise_resolve=void 0,ln(e,!0),e._transformStreamController=void 0}(this,p((function(e){s=e})),u,l,a,c),function(e,t){var r,n,i,o=Object.create(fn.prototype);r=void 0!==t.transform?function(e){return t.transform(e,o)}:function(e){try{return pn(o,e),y(void 0)}catch(e){return b(e)}},n=void 0!==t.flush?function(){return t.flush(o)}:function(){return y(void 0)},i=void 0!==t.cancel?function(e){return t.cancel(e)}:function(){return y(void 0)},function(e,t,r,n,i){t._controlledTransformStream=e,e._transformStreamController=t,t._transformAlgorithm=r,t._flushAlgorithm=n,t._cancelAlgorithm=i,t._finishPromise=void 0,t._finishPromise_resolve=void 0,t._finishPromise_reject=void 0}(e,o,r,n,i)}(this,o),void 0!==o.start?s(o.start(this._transformStreamController)):s(void 0)}return Object.defineProperty(e.prototype,"readable",{get:function(){if(!sn(this))throw gn("readable");return this._readable},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"writable",{get:function(){if(!sn(this))throw gn("writable");return this._writable},enumerable:!1,configurable:!0}),e}();function sn(e){return!!c(e)&&!!Object.prototype.hasOwnProperty.call(e,"_transformStreamController")&&e instanceof on}function an(e,t){Or(e._readable._readableStreamController,t),cn(e,t)}function cn(e,t){dn(e._transformStreamController),Zt(e._writable._writableStreamController,t),un(e)}function un(e){e._backpressure&&ln(e,!1)}function ln(e,t){void 0!==e._backpressureChangePromise&&e._backpressureChangePromise_resolve(),e._backpressureChangePromise=p((function(t){e._backpressureChangePromise_resolve=t})),e._backpressure=t}Object.defineProperties(on.prototype,{readable:{enumerable:!0},writable:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(on.prototype,t.toStringTag,{value:"TransformStream",configurable:!0});var fn=function(){function e(){throw new TypeError("Illegal constructor")}return Object.defineProperty(e.prototype,"desiredSize",{get:function(){if(!hn(this))throw bn("desiredSize");return xr(this._controlledTransformStream._readable._readableStreamController)},enumerable:!1,configurable:!0}),e.prototype.enqueue=function(e){if(void 0===e&&(e=void 0),!hn(this))throw bn("enqueue");pn(this,e)},e.prototype.error=function(e){if(void 0===e&&(e=void 0),!hn(this))throw bn("error");var t;t=e,an(this._controlledTransformStream,t)},e.prototype.terminate=function(){if(!hn(this))throw bn("terminate");!function(e){var t=e._controlledTransformStream;Er(t._readable._readableStreamController),cn(t,new TypeError("TransformStream terminated"))}(this)},e}();function hn(e){return!!c(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledTransformStream")&&e instanceof fn}function dn(e){e._transformAlgorithm=void 0,e._flushAlgorithm=void 0,e._cancelAlgorithm=void 0}function pn(e,t){var r=e._controlledTransformStream,n=r._readable._readableStreamController;if(!Ar(n))throw new TypeError("Readable side is not in a state that permits enqueue");try{Tr(n,t)}catch(e){throw cn(r,e),r._readable._storedError}var i=function(e){return!_r(e)}(n);i!==r._backpressure&&ln(r,!0)}function yn(e,t){return _(e._transformAlgorithm(t),void 0,(function(t){throw an(e._controlledTransformStream,t),t}))}function bn(e){return new TypeError("TransformStreamDefaultController.prototype.".concat(e," can only be used on a TransformStreamDefaultController"))}function mn(e){void 0!==e._finishPromise_resolve&&(e._finishPromise_resolve(),e._finishPromise_resolve=void 0,e._finishPromise_reject=void 0)}function vn(e,t){void 0!==e._finishPromise_reject&&(S(e._finishPromise),e._finishPromise_reject(t),e._finishPromise_resolve=void 0,e._finishPromise_reject=void 0)}function gn(e){return new TypeError("TransformStream.prototype.".concat(e," can only be used on a TransformStream"))}Object.defineProperties(fn.prototype,{enqueue:{enumerable:!0},error:{enumerable:!0},terminate:{enumerable:!0},desiredSize:{enumerable:!0}}),l(fn.prototype.enqueue,"enqueue"),l(fn.prototype.error,"error"),l(fn.prototype.terminate,"terminate"),"symbol"==typeof t.toStringTag&&Object.defineProperty(fn.prototype,t.toStringTag,{value:"TransformStreamDefaultController",configurable:!0});var wn={ReadableStream:$r,ReadableStreamDefaultController:vr,ReadableByteStreamController:je,ReadableStreamBYOBRequest:Ie,ReadableStreamDefaultReader:oe,ReadableStreamBYOBReader:ft,WritableStream:xt,WritableStreamDefaultController:Ht,WritableStreamDefaultWriter:Dt,ByteLengthQueuingStrategy:Gr,CountQueuingStrategy:Xr,TransformStream:on,TransformStreamDefaultController:fn};if(void 0!==yr)for(var _n in wn)Object.prototype.hasOwnProperty.call(wn,_n)&&Object.defineProperty(yr,_n,{value:wn[_n],writable:!0,configurable:!0});e.ByteLengthQueuingStrategy=Gr,e.CountQueuingStrategy=Xr,e.ReadableByteStreamController=je,e.ReadableStream=$r,e.ReadableStreamBYOBReader=ft,e.ReadableStreamBYOBRequest=Ie,e.ReadableStreamDefaultController=vr,e.ReadableStreamDefaultReader=oe,e.TransformStream=on,e.TransformStreamDefaultController=fn,e.WritableStream=xt,e.WritableStreamDefaultController=Ht,e.WritableStreamDefaultWriter=Dt}(t)},52730:(e,t,r)=>{var n=r(80705),i=r(14834),o=r(28498),s=r(79818),a=r(69336),c=s("Object.prototype.toString"),u=r(51913)(),l="undefined"==typeof globalThis?r.g:globalThis,f=i(),h=s("String.prototype.slice"),d=Object.getPrototypeOf,p=s("Array.prototype.indexOf",!0)||function(e,t){for(var r=0;r<e.length;r+=1)if(e[r]===t)return r;return-1},y={__proto__:null};n(f,u&&a&&d?function(e){var t=new l[e];if(Symbol.toStringTag in t){var r=d(t),n=a(r,Symbol.toStringTag);if(!n){var i=d(r);n=a(i,Symbol.toStringTag)}y["$"+e]=o(n.get)}}:function(e){var t=new l[e],r=t.slice||t.set;r&&(y["$"+e]=o(r))}),e.exports=function(e){if(!e||"object"!=typeof e)return!1;if(!u){var t=h(c(e),8,-1);return p(f,t)>-1?t:"Object"===t&&function(e){var t=!1;return n(y,(function(r,n){if(!t)try{r(e),t=h(n,1)}catch(e){}})),t}(e)}return a?function(e){var t=!1;return n(y,(function(r,n){if(!t)try{"$"+r(e)===n&&(t=h(n,1))}catch(e){}})),t}(e):null}},93227:e=>{e.exports=function(){for(var e={},r=0;r<arguments.length;r++){var n=arguments[r];for(var i in n)t.call(n,i)&&(e[i]=n[i])}return e};var t=Object.prototype.hasOwnProperty},52479:(e,t,r)=>{var n=r(1048).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(e){this.subMediaType=e}getMediaType(){return this.subMediaType}bytesToValue(e,t,r){return e.toString("ascii")}valueToBytes(e,t,r){let i="";return void 0!==e&&(i=JSON.stringify(e)),n.from(i,"base64")}}},78404:(e,t,r)=>{var n=r(1048).Buffer;Object.defineProperty(t,"__esModule",{value:!0});const i=r(36327),o=r(59500),{debug:s}=(0,i.createLoggers)("core","cbor-codec");t.default=class{constructor(e){this.subMediaType=null!=e?e:"application/cbor"}getMediaType(){return this.subMediaType}bytesToValue(e,t,r){s(`CborCodec parsing '${e.toString()}'`);try{return(0,o.decode)(e)}catch(t){if(0===e.byteLength)return null;throw t}}valueToBytes(e,t,r){return s("CborCodec serializing",e),void 0===e?n.alloc(0):(0,o.encode)(e)}}},97398:(e,t,r)=>{var n=r(1048).Buffer;Object.defineProperty(t,"__esModule",{value:!0});const i=r(60345),o=r(36327),{debug:s}=(0,o.createLoggers)("core","json-codec");t.default=class{constructor(e){this.subMediaType=null!=e?e:i.ContentSerdes.DEFAULT}getMediaType(){return this.subMediaType}bytesToValue(e,t,r){let n;s(`JsonCodec parsing '${e.toString()}'`);try{n=JSON.parse(e.toString())}catch(t){if(!(t instanceof SyntaxError))throw t;n=0===e.byteLength?void 0:e.toString()}return n}valueToBytes(e,t,r){s("JsonCodec serializing",e);let i="";return void 0!==e&&(i=JSON.stringify(e)),n.from(i)}}},59325:(e,t,r)=>{var n=r(1048).Buffer;Object.defineProperty(t,"__esModule",{value:!0});const i=r(36327),{debug:o}=(0,i.createLoggers)("core","netconf-codec");t.default=class{getMediaType(){return"application/netconf"}bytesToValue(e,t,r){let n;o(`NetconfCodec parsing '${e.toString()}'`);try{n=JSON.parse(e.toString())}catch(t){if(!(t instanceof SyntaxError))throw t;n=0===e.byteLength?void 0:e.toString()}return n}valueToBytes(e,t,r){o("NetconfCodec serializing",e);let i="";if(void 0!==e){const r={},n=this.getPayloadNamespaces(t,e,r,!1);i=JSON.stringify(n)}return n.from(i)}getPayloadNamespaces(e,t,r,n){if(!e)throw new Error('Missing "schema" field in TD');if(n){const n=e.properties;if(null==n)throw new Error('Missing "properties" field in TD');let i,o=!1,s="";for(const e in n){const a=n[e];if(null==t[e])throw new Error(`Payload is missing '${e}' field specified in TD`);if(!0===a["nc:attribute"]&&null!=t[e]){const n=t[e];s=n.split(":")[n.split(":").length-1],r[s]=t[e],o=!0}else null!=t[e]&&(i=t[e])}if(o)return{payload:s+"\\:"+i,NSs:r};throw new Error("Namespace not found in the payload")}if("object"===(null==e?void 0:e.type)&&null!=e.properties){let n;n=null!=e["nc:container"]?this.getPayloadNamespaces(e,t,r,!0):this.getPayloadNamespaces(e.properties,t,r,!1),t=n.payload,r=Object.assign(Object.assign({},r),n.NSs)}for(const i in e)if("object"===e[i].type||n){let n=!1;null!=e[i].properties&&null!=e[i]["nc:container"]&&(n=!0);const o=this.getPayloadNamespaces(e[i],t[i],r,n);t[i]=o.payload,r=Object.assign(Object.assign({},r),o.NSs)}return{payload:t,NSs:r}}}},85019:(e,t,r)=>{var n=r(1048).Buffer;Object.defineProperty(t,"__esModule",{value:!0});const i=r(72651),o=r(36327),s=r(33612),{debug:a,warn:c}=(0,o.createLoggers)("core","octetstream-codec");t.default=class{getMediaType(){return"application/octet-stream"}bytesToValue(e,t,r={}){var n,i,o,c;a("OctetstreamCodec parsing",e),a("Parameters",r);const u=!(!0===(null===(n=r.byteSeq)||void 0===n?void 0:n.includes(s.Endianness.LITTLE_ENDIAN)));let l="false"!==r.signed;l=null!==(i=null==t?void 0:t.signed)&&void 0!==i?i:l;const f=void 0!==(null==t?void 0:t["ex:bitOffset"])?parseInt(t["ex:bitOffset"]):0;if(null!=r.length&&parseInt(r.length)!==e.length)throw new Error("Lengths do not match, required: "+r.length+" provided: "+e.length);let h=void 0!==(null==t?void 0:t["ex:bitLength"])?parseInt(t["ex:bitLength"]):8*e.length,d=null==t?void 0:t.type;if(!d)throw new Error("Missing 'type' property in schema");if(/(short|(u)?int(8|16|32)?$|float(16|32|64)?|byte)/.test(d.toLowerCase())){const e=/(u)?(short|int|float|byte)(8|16|32|64)?/.exec(d.toLowerCase());if(e){if("u"===e[1]){if("true"===(null==r?void 0:r.signed))throw new Error("Type is unsigned but 'signed' is true");l=!1}if(d=e[2],parseInt(e[3])!==h)throw new Error(`Type is '${(null!==(o=e[1])&&void 0!==o?o:"")+e[2]+e[3]}' but 'ex:bitLength' is `+h)}}if(h>8*e.length-f)throw new Error(`'ex:bitLength' is ${h}, but buffer length at offset ${f} is ${8*e.length-f}`);switch(!0===(null===(c=null==r?void 0:r.byteSeq)||void 0===c?void 0:c.includes("BYTE_SWAP"))&&e.length>1&&e.swap16(),void 0!==f&&h<8*e.length&&(h=8*(e=this.readBits(e,f,h)).length),d){case"boolean":return!e.every((e=>0===e));case"byte":case"short":case"int":case"integer":return this.integerToValue(e,{dataLength:h,bigEndian:u,signed:l});case"float":case"double":case"number":return void 0!==(null==t?void 0:t.scale)?this.integerToValue(e,{dataLength:h,bigEndian:u,signed:l})*t.scale:this.numberToValue(e,{dataLength:h,bigEndian:u});case"string":return e.toString(r.charset);case"object":if(void 0===t||void 0===t.properties)throw new Error("Missing schema for object");return this.objectToValue(e,t,r);case"null":return null;default:throw new Error("Unable to handle dataType "+d)}}integerToValue(e,t){const{dataLength:r,bigEndian:n,signed:i}=t;switch(r){case 8:return i?e.readInt8(0):e.readUInt8(0);case 16:return n?i?e.readInt16BE(0):e.readUInt16BE(0):i?e.readInt16LE(0):e.readUInt16LE(0);case 32:return n?i?e.readInt32BE(0):e.readUInt32BE(0):i?e.readInt32LE(0):e.readUInt32LE(0);default:{const t=n?i?e.readIntBE(0,r/8):e.readUIntBE(0,r/8):i?e.readIntLE(0,r/8):e.readUIntLE(0,r/8);return Number.isSafeInteger(t)||c("Result is not a safe integer"),t}}}numberToValue(e,t){const{dataLength:r,bigEndian:n}=t;switch(r){case 16:return(0,i.getFloat16)(new DataView(e.buffer),e.byteOffset,!n);case 32:return n?e.readFloatBE(0):e.readFloatLE(0);case 64:return n?e.readDoubleBE(0):e.readDoubleLE(0);default:throw new Error("Wrong buffer length for type 'number', must be 16, 32, or 64 is "+r)}}objectToValue(e,t,r={}){if("object"!==(null==t?void 0:t.type))throw new Error("Schema must be of type 'object'");const i={},o=Object.getOwnPropertyNames(t.properties);for(const s of o){const o=t.properties[s];if("object"===o.type){const t=parseInt(o["ex:bitLength"]),a=void 0!==o["ex:bitOffset"]?parseInt(o["ex:bitOffset"]):0,c=isNaN(t)?e.length:Math.ceil(t/8),u=n.alloc(c);this.copyBits(e,a,u,0,8*c),i[s]=this.objectToValue(u,o,Object.assign(Object.assign({},r),{length:c.toString()}))}else i[s]=this.bytesToValue(e,o,r)}return i}valueToBytes(e,t,r={}){var i,o,u,l,f,h;a(`OctetstreamCodec serializing '${e}'`),null==r.length&&c("Missing 'length' parameter necessary for write. I'll do my best");const d=!(!0===(null===(i=r.byteSeq)||void 0===i?void 0:i.includes(s.Endianness.LITTLE_ENDIAN)));let p="false"!==r.signed,y=null!=r.length?parseInt(r.length):void 0,b=void 0!==(null==t?void 0:t["ex:bitLength"])?parseInt(t["ex:bitLength"]):void 0;const m=void 0!==(null==t?void 0:t["ex:bitOffset"])?parseInt(t["ex:bitOffset"]):0;let v=null!==(o=null==t?void 0:t.type)&&void 0!==o?o:void 0;if(void 0===e)throw new Error("Undefined value");if(void 0===v)throw new Error("Missing 'type' property in schema");if(/(short|(u)?int(8|16|32)?$|float(16|32|64)?|byte)/.test(v.toLowerCase())){const e=/(u)?(short|int|float|byte)(8|16|32|64)?/.exec(v.toLowerCase());if(e){if("u"===e[1]){if("true"===(null==r?void 0:r.signed))throw new Error("Type is unsigned but 'signed' is true");p=!1}if(v=e[2],void 0!==b){if(parseInt(e[3])!==b)throw new Error(`Type is '${(null!==(u=e[1])&&void 0!==u?u:"")+e[2]+e[3]}' but 'ex:bitLength' is `+b)}else b=+e[3]}}if(void 0===y)void 0!==b&&(y=Math.ceil((m+b)/8)),c("Missing 'length' parameter necessary for write. I'll do my best");else if(void 0===b)b=8*y;else if(8*y<b+m)throw new Error("Length is too short for 'ex:bitLength' and 'ex:bitOffset'");switch(v){case"boolean":if(!0===e){const e=n.alloc(null!=y?y:1,0);for(let t=m;t<m+(null!=b?b:8*e.length);++t)e[Math.floor(t/8)]|=1<<7-t%8;return e}return n.alloc(null!=y?y:1,0);case"byte":case"short":case"int":case"integer":return this.valueToInteger(e,{bitLength:b,byteLength:y,bigEndian:d,offset:m,signed:p,byteSeq:null!==(l=r.byteSeq)&&void 0!==l?l:""});case"float":case"number":return this.valueToNumber(e,{bitLength:b,byteLength:y,bigEndian:d,offset:m,byteSeq:null!==(f=r.byteSeq)&&void 0!==f?f:""});case"string":return this.valueToString(e,{bitLength:b,byteLength:y,offset:m,charset:null!==(h=r.charset)&&void 0!==h?h:"utf8"});case"object":if(void 0===t||void 0===t.properties)throw new Error("Missing schema for object");return null===e?n.alloc(0):this.valueToObject(e,t,r);case"array":case"undefined":default:throw new Error("Unable to handle dataType "+v);case"null":return n.alloc(0)}}valueToInteger(e,t){var r,i,o;const s=null!==(r=t.bitLength)&&void 0!==r?r:32,a=null!==(i=t.offset)&&void 0!==i?i:0,u=null!==(o=t.byteLength)&&void 0!==o?o:Math.ceil((a+s)/8),{bigEndian:l,signed:f,byteSeq:h}=t;if("number"!=typeof e)throw new Error("Value is not a number");Number.isSafeInteger(e)||c("Value is not a safe integer",e);const d=Math.pow(2,f?s-1:s)-1;if(f){if(e<-d-1||e>d)throw new Error("Integer overflow when representing signed "+e+" in "+s+" bit(s)")}else if(e<0||e>d)throw new Error("Integer overflow when representing unsigned "+e+" in "+s+" bit(s)");const p=n.alloc(u);if(0!==a)return this.writeBits(p,e,a,s,l),p;switch((null==h?void 0:h.includes("BYTE_SwAP"))&&u>1&&p.swap16(),u){case 1:f?p.writeInt8(e,0):p.writeUInt8(e,0);break;case 2:l?f?p.writeInt16BE(e,0):p.writeUInt16BE(e,0):f?p.writeInt16LE(e,0):p.writeUInt16LE(e,0);break;case 4:l?f?p.writeInt32BE(e,0):p.writeUInt32BE(e,0):f?p.writeInt32LE(e,0):p.writeUInt32LE(e,0);break;default:f&&e<0&&(e+=1<<8*s);for(let t=0;t<u;++t){const r=e%256;e/=256,p.writeInt8(r,l?u-t-1:t)}}return p}valueToNumber(e,t){var r,o,s;if("number"!=typeof e)throw new Error("Value is not a number");const a=null!==(r=t.bitLength)&&void 0!==r?r:void 0!==t.byteLength?8*t.byteLength:32,c=null!==(o=t.offset)&&void 0!==o?o:0,{bigEndian:u,byteSeq:l}=t,f=null!==(s=t.byteLength)&&void 0!==s?s:Math.ceil((c+a)/8),h=Math.floor(c/8),d=n.alloc(f);if(c%8!=0)throw new Error("Offset must be a multiple of 8");switch(l&&f>1&&d.swap16(),a){case 16:(0,i.setFloat16)(new DataView(d.buffer),h,e,!u);break;case 32:u?d.writeFloatBE(e,h):d.writeFloatLE(e,0);break;case 64:u?d.writeDoubleBE(e,h):d.writeDoubleLE(e,0);break;default:throw new Error("Wrong buffer length for type 'number', must be 16, 32, or 64 is "+a)}return d}valueToString(e,t){var r,i,o;if("string"!=typeof e)throw new Error("Value is not a string");const s=null!==(r=t.offset)&&void 0!==r?r:0,{charset:a}=t,c=String(e);if(!n.isEncoding(a))throw new Error("Invalid charset "+a);const u=n.from(c,a),l=null!==(i=t.bitLength)&&void 0!==i?i:8*u.length;if(u.length>l)throw new Error(`String is ${8*u.length} bits long, but 'ex:bitLength' is ${l}`);const f=null!==(o=t.byteLength)&&void 0!==o?o:Math.ceil((s+l)/8);if(s%8==0)return n.concat([n.alloc(f-l/8),u]);{const e=n.alloc(f);return this.copyBits(u,0,e,s,l),e}}valueToObject(e,t,r={},i){if("object"!=typeof e||null===e)throw new Error("Value is not an object");if(void 0===r.length)throw new Error("Missing 'length' parameter necessary for write");i=null!=i?i:n.alloc(parseInt(r.length));for(const n in t.properties){if(!1===Object.hasOwnProperty.call(e,n)){if(void 0===t.properties[n].default)throw new Error(`Missing property '${n}'`);e[n]=t.properties[n].default}const o=t.properties[n],s=e[n],a=parseInt(o["ex:bitOffset"]),c=parseInt(o["ex:bitLength"]);let u;if("object"===o.type){const e=Math.ceil(c/8).toString();u=this.valueToObject(s,o,Object.assign(Object.assign({},r),{length:e}),i)}else u=this.valueToBytes(s,o,r);this.copyBits(u,a,i,a,c)}return i}readBits(e,t,r){if(t<0)throw new Error("bitOffset must be >= 0");if(r<0)throw new Error("bitLength must be >= 0");if(t+r>8*e.length)throw new Error("bitOffset + bitLength must be <= buffer.length * 8");const i=n.alloc(Math.ceil(r/8));let o=Math.floor(t/8),s=t%8,a=e[o],c=0,u=0;for(let t=0;t<r;t++)c=c<<1|a>>7-s&1,s++,s>7&&(o++,s=0,a=e[o]),t+1!==r%8&&(t+1)%8!=r%8&&t!==r-1||(i[u]=c,c=0,u++);return i}writeBits(e,t,r,n,i){let o=Math.floor(r/8),s=r%8;for(let r=0;r<n;r++){const a=i?t>>n-1-r&1:t>>r&1;e[o]|=a<<(i?7-s:s),s++,8===s&&(s=0,o++)}}copyBits(e,t,r,n,i){if(t%8==0&&n%8==0&&i%8==0)e.copy(r,n/8,t/8,t+i/8);else{const o=this.readBits(e,t,i);if(o.length<=6)this.writeBits(r,o.readUIntBE(0,o.length),n,i,!0);else for(let e=0;e<o.length;e++){const t=o.readUInt8(e);this.writeBits(r,t,n+8*e,8,!0)}}}}},84271:(e,t,r)=>{var n=r(1048).Buffer;Object.defineProperty(t,"__esModule",{value:!0});const i=r(36327),{debug:o}=(0,i.createLoggers)("core","text-codec");t.default=class{constructor(e){this.subMediaType=null!=e?e:"text/plain"}getMediaType(){return this.subMediaType}bytesToValue(e,t,r){return o(`TextCodec parsing '${e.toString()}'`),e.toString(null==r?void 0:r.charset)}valueToBytes(e,t,r){o(`TextCodec serializing '${e}'`);let i,s="";if(void 0!==e&&(s="string"==typeof e?e:JSON.stringify(e)),r&&r.charset)switch(r.charset){case"ascii":i="ascii";break;case"utf8":i="utf8";break;case"utf-8":i="utf-8";break;case"utf16le":i="utf16le";break;case"ucs2":i="ucs2";break;case"ucs-2":i="ucs-2";break;case"base64":i="base64";break;case"latin1":i="latin1";break;case"binary":i="binary";break;case"hex":i="hex"}const a=n.alloc(s.length);return a.write(s,i),a}}},56988:function(e,t,r){var n,i,o,s,a,c,u,l,f=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),h=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),d=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&f(t,e,r);return h(t,e),t},p=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))},y=this&&this.__classPrivateFieldSet||function(e,t,r,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r},b=this&&this.__classPrivateFieldGet||function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)},m=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const v=d(r(57127)),g=m(r(64542)),w=m(r(60345)),_=r(68492),S=r(64769),E=r(36327),{debug:T,warn:O}=(0,E.createLoggers)("core","consumed-thing");var x;!function(e){e[e.PropertyAffordance=0]="PropertyAffordance",e[e.ActionAffordance=1]="ActionAffordance",e[e.EventAffordance=2]="EventAffordance"}(x||(x={}));class A extends v.ThingProperty{constructor(e,t){super(),n.set(this,void 0),i.set(this,void 0),y(this,n,e,"f"),y(this,i,t,"f")}}n=new WeakMap,i=new WeakMap;class M extends v.ThingAction{constructor(e,t){super(),o.set(this,void 0),s.set(this,void 0),y(this,o,e,"f"),y(this,s,t,"f")}}o=new WeakMap,s=new WeakMap;class P extends v.ThingEvent{constructor(e,t){super(),a.set(this,void 0),c.set(this,void 0),y(this,a,e,"f"),y(this,c,t,"f")}}a=new WeakMap,c=new WeakMap;class I{constructor(e,t,r){this.thing=e,this.name=t,this.client=r,this.active=!0}}function j(e,t,r,n){const i=_.parse(r.href),o=g.default.parseInteractionOptions(e,t,n).uriVariables,s=i.expand(null!=o?o:{});if(s!==r.href){const t=Object.assign({},r);t.href=s,r=t,T(`ConsumedThing '${e.title}' update form URI to ${r.href}`)}return r}class R extends I{constructor(e,t,r,n){var i;super(e,t,r),this.form=n,this.active=!1;const o=null===(i=this.thing.properties)||void 0===i?void 0:i[t].forms.indexOf(n);if(void 0===o||o<0)throw new Error(`Could not find form ${n.href} in property ${t}`);this.formIndex=o}stop(e){return p(this,void 0,void 0,(function*(){yield this.unobserveProperty(e),this.thing.observedProperties.delete(this.name)}))}unobserveProperty(e={}){var t;return p(this,void 0,void 0,(function*(){const r=this.thing.properties[this.name];if(null==r)throw new Error(`ConsumedThing '${this.thing.title}' does not have property ${this.name}`);null!==(t=e.formIndex)&&void 0!==t||(e.formIndex=this.matchingUnsubscribeForm());const{form:n}=this.thing.getClientFor(r.forms,"unobserveproperty",x.PropertyAffordance,e);if(null==n)throw new Error(`ConsumedThing '${this.thing.title}' did not get suitable form`);const i=j(this.thing,r,n,e);T(`ConsumedThing '${this.thing.title}' unobserving to ${n.href}`),yield this.client.unlinkResource(i),this.active=!1}))}matchingUnsubscribeForm(){const e=this.thing.properties[this.name].forms[this.formIndex];if(Array.isArray(e.op)&&e.op.includes("unobserveproperty"))return this.formIndex;const t=this.findFormIndexWithScoring(this.formIndex,this.thing.properties[this.name].forms,"unobserveproperty");if(-1===t)throw new Error("Could not find matching form for unsubscribe");return t}findFormIndexWithScoring(e,t,r){var n;const i=t[e];let o=0,s=-1;for(let e=0;e<t.length;e++){let a=0;const c=t[e];(c.op===r||!0===(null===(n=null==c?void 0:c.op)||void 0===n?void 0:n.includes(r))&&!0===Array.isArray(c.op))&&(a+=1),new URL(c.href).origin===new URL(i.href).origin&&(a+=1),c.contentType===i.contentType&&(a+=1),a>o&&(o=a,s=e)}return s}}class k extends I{constructor(e,t,r,n){var i;super(e,t,r),this.form=n;const o=null===(i=this.thing.events)||void 0===i?void 0:i[t].forms.indexOf(n);if(void 0===o||o<0)throw new Error(`Could not find form ${n.href} in event ${t}`);this.formIndex=o}stop(e){return p(this,void 0,void 0,(function*(){yield this.unsubscribeEvent(e),this.thing.subscribedEvents.delete(this.name)}))}unsubscribeEvent(e={}){var t;return p(this,void 0,void 0,(function*(){const r=this.thing.events[this.name];if(null==r)throw new Error(`ConsumedThing '${this.thing.title}' does not have event ${this.name}`);null!==(t=e.formIndex)&&void 0!==t||(e.formIndex=this.matchingUnsubscribeForm());const{form:n}=this.thing.getClientFor(r.forms,"unsubscribeevent",x.EventAffordance,e);if(null==n)throw new Error(`ConsumedThing '${this.thing.title}' did not get suitable form`);const i=j(this.thing,r,n,e);T(`ConsumedThing '${this.thing.title}' unsubscribing to ${n.href}`),this.client.unlinkResource(i),this.active=!1}))}matchingUnsubscribeForm(){const e=this.thing.events[this.name].forms[this.formIndex];if(null==e.op||Array.isArray(e.op)&&e.op.includes("unsubscribeevent"))return this.formIndex;const t=function(e,t,r){var n;const i=t[e];let o=0,s=-1;for(let e=0;e<t.length;e++){let a=0;const c=t[e];(c.op===r||!0===(null===(n=null==c?void 0:c.op)||void 0===n?void 0:n.includes(r))&&!0===Array.isArray(c.op))&&(a+=1),new URL(c.href).origin===new URL(i.href).origin&&(a+=1),c.contentType===i.contentType&&(a+=1),a>o&&(o=a,s=e)}return s}(this.formIndex,this.thing.events[this.name].forms,"unsubscribeevent");if(-1===t)throw new Error("Could not find matching form for unsubscribe");return t}}class C extends v.Thing{constructor(e,t={}){super(),u.set(this,void 0),l.set(this,void 0),this.subscribedEvents=new Map,this.observedProperties=new Map,y(this,u,e,"f"),y(this,l,new Map,"f"),this.properties={},this.actions={},this.events={};const r=structuredClone(t);Object.assign(this,r),this.extendInteractions()}getThingDescription(){return JSON.parse(JSON.stringify(this))}emitEvent(e,t){O("not implemented")}extendInteractions(){for(const e in this.properties){const t=g.default.extend(this.properties[e],new A(e,this));this.properties[e]=t}for(const e in this.actions){const t=g.default.extend(this.actions[e],new M(e,this));this.actions[e]=t}for(const e in this.events){const t=g.default.extend(this.events[e],new P(e,this));this.events[e]=t}}findForm(e,t,r,n,i){let o;for(const s of e){let e="";if(void 0!==s.op)e=s.op;else switch(r){case x.PropertyAffordance:e=["readproperty","writeproperty"];break;case x.ActionAffordance:e="invokeaction";break;case x.EventAffordance:e="subscribeevent"}if(-1!==e.indexOf(t)&&-1!==s.href.indexOf(n[i]+":")){o=s;break}}return o}getSecuritySchemes(e){const t=[];for(const r of e){const e=this.securityDefinitions[r+""];null!=e&&t.push(e)}return t}ensureClientSecurity(e,t){if(null!=this.securityDefinitions){const r=()=>T(`ConsumedThing '${this.title}' setting credentials for ${e} based on thing security`);null!=t&&Array.isArray(t.security)&&t.security.length>0?(r(),e.setSecurity(this.getSecuritySchemes(t.security),b(this,u,"f").retrieveCredentials(this.id))):Array.isArray(this.security)&&this.security.length>0&&(r(),e.setSecurity(this.getSecuritySchemes(this.security),b(this,u,"f").getCredentials(this.id)))}}getClientFor(e,t,r,n){if(0===e.length)throw new Error(`ConsumedThing '${this.title}' has no links for this interaction`);let i,o;if(void 0!==(null==n?void 0:n.formIndex)){if(T(`ConsumedThing '${this.title}' asked to use formIndex '${n.formIndex}'`),!(n.formIndex>=0&&n.formIndex<e.length))throw new Error(`ConsumedThing '${this.title}' missing formIndex '${n.formIndex}'`);{i=e[n.formIndex];const t=g.default.extractScheme(i.href);if(!b(this,u,"f").hasClientFor(t))throw new Error(`ConsumedThing '${this.title}' missing ClientFactory for '${t}'`);T(`ConsumedThing '${this.title}' got client for '${t}'`),o=b(this,u,"f").getClientFor(t),b(this,l,"f").get(t)||(this.ensureClientSecurity(o,i),b(this,l,"f").set(t,o))}}else{const n=e.map((e=>g.default.extractScheme(e.href))),s=n.findIndex((e=>b(this,l,"f").has(e)));if(-1!==s)T(`ConsumedThing '${this.title}' chose cached client for '${n[s]}'`),o=b(this,l,"f").get(n[s]),i=this.findForm(e,t,r,n,s);else{T(`ConsumedThing '${this.title}' has no client in cache (${s})`);const a=n.findIndex((e=>b(this,u,"f").hasClientFor(e)));if(-1===a)throw new Error(`ConsumedThing '${this.title}' missing ClientFactory for '${n}'`);o=b(this,u,"f").getClientFor(n[a]),T(`ConsumedThing '${this.title}' got new client for '${n[a]}'`),b(this,l,"f").set(n[a],o),i=this.findForm(e,t,r,n,a),this.ensureClientSecurity(o,i)}}return{client:o,form:i}}readProperty(e,t){return p(this,void 0,void 0,(function*(){const r=this.properties[e];if(null==r)throw new Error(`ConsumedThing '${this.title}' does not have property ${e}`);let{client:n,form:i}=this.getClientFor(r.forms,"readproperty",x.PropertyAffordance,t);if(null==i)throw new Error(`ConsumedThing '${this.title}' did not get suitable form`);if(null==n)throw new Error(`ConsumedThing '${this.title}' did not get suitable client for ${i.href}`);T(`ConsumedThing '${this.title}' reading ${i.href}`),i=this.handleUriVariables(r,i,t);const o=yield n.readResource(i);return new S.InteractionOutput(o,i,r)}))}_readProperties(e){return p(this,void 0,void 0,(function*(){const t=[];for(const r of e)t.push(this.readProperty(r));const r=new Map;try{const n=yield Promise.all(t);let i=0;for(const t of e)r.set(t,n[i]),i++;return r}catch(t){throw new Error(`ConsumedThing '${this.title}', failed to read properties: ${e}.\n Error: ${t}`)}}))}readAllProperties(e){const t=[];for(const r in this.properties){const n=this.properties[r],{form:i}=this.getClientFor(n.forms,"readproperty",x.PropertyAffordance,e);null!=i&&t.push(r)}return this._readProperties(t)}readMultipleProperties(e,t){return this._readProperties(e)}writeProperty(e,t,r){return p(this,void 0,void 0,(function*(){const n=this.properties[e];if(null==n)throw new Error(`ConsumedThing '${this.title}' does not have property ${e}`);let{client:i,form:o}=this.getClientFor(n.forms,"writeproperty",x.PropertyAffordance,r);if(null==o)throw new Error(`ConsumedThing '${this.title}' did not get suitable form`);if(null==i)throw new Error(`ConsumedThing '${this.title}' did not get suitable client for ${o.href}`);T(`ConsumedThing '${this.title}' writing ${o.href} with '${t}'`);const s=w.default.valueToContent(t,n,o.contentType);o=this.handleUriVariables(n,o,r),yield i.writeResource(o,s)}))}writeMultipleProperties(e,t){return p(this,void 0,void 0,(function*(){const t=[];for(const r in e){const n=e.get(r);t.push(this.writeProperty(r,n))}try{yield Promise.all(t)}catch(t){throw new Error(`ConsumedThing '${this.title}', failed to write multiple propertes: ${e}\n Error: ${t}`)}}))}invokeAction(e,t,r){var n;return p(this,void 0,void 0,(function*(){const i=this.actions[e];if(null==i)throw new Error(`ConsumedThing '${this.title}' does not have action ${e}`);let o,{client:s,form:a}=this.getClientFor(i.forms,"invokeaction",x.ActionAffordance,r);if(null==a)throw new Error(`ConsumedThing '${this.title}' did not get suitable form`);if(null==s)throw new Error(`ConsumedThing '${this.title}' did not get suitable client for ${a.href}`);T(`ConsumedThing '${this.title}' invoking ${a.href}${void 0!==t?" with '"+t+"'":""}`),void 0!==t&&(o=w.default.valueToContent(t,i.input,a.contentType)),a=this.handleUriVariables(i,a,r);const c=yield s.invokeResource(a,o);if(c.type||(c.type=null!==(n=a.contentType)&&void 0!==n?n:"application/json"),null!=a.response&&c.type!==a.response.contentType)throw new Error("Unexpected type in response");try{return new S.InteractionOutput(c,a,i.output)}catch(e){throw new Error("Received invalid content from Thing")}}))}observeProperty(e,t,r,n){return p(this,void 0,void 0,(function*(){const i=this.properties[e];if(null==i)throw new Error(`ConsumedThing '${this.title}' does not have property ${e}`);const{client:o,form:s}=this.getClientFor(i.forms,"observeproperty",x.PropertyAffordance,n);if(null==s)throw new Error(`ConsumedThing '${this.title}' did not get suitable form`);if(null==o)throw new Error(`ConsumedThing '${this.title}' did not get suitable client for ${s.href}`);if(this.observedProperties.has(e))throw new Error(`ConsumedThing '${this.title}' has already a function subscribed to ${e}. You can only observe once`);T(`ConsumedThing '${this.title}' observing to ${s.href}`);const a=this.handleUriVariables(i,s,n);yield o.subscribeResource(a,(e=>{var r;e.type||(e.type=null!==(r=s.contentType)&&void 0!==r?r:"application/json");try{t(new S.InteractionOutput(e,s,i))}catch(e){O(`Error while processing observe event for ${i.title}`),O(e)}}),(e=>{null==r||r(e)}),(()=>{}));const c=new R(this,e,o,s);return this.observedProperties.set(e,c),c}))}subscribeEvent(e,t,r,n){return p(this,void 0,void 0,(function*(){const i=this.events[e];if(null==i)throw new Error(`ConsumedThing '${this.title}' does not have event ${e}`);const{client:o,form:s}=this.getClientFor(i.forms,"subscribeevent",x.EventAffordance,n);if(null==s)throw new Error(`ConsumedThing '${this.title}' did not get suitable form`);if(null==o)throw new Error(`ConsumedThing '${this.title}' did not get suitable client for ${s.href}`);if(this.subscribedEvents.has(e))throw new Error(`ConsumedThing '${this.title}' has already a function subscribed to ${e}. You can only subscribe once`);T(`ConsumedThing '${this.title}' subscribing to ${s.href}`);const a=this.handleUriVariables(i,s,n);yield o.subscribeResource(a,(e=>{var r;e.type||(e.type=null!==(r=s.contentType)&&void 0!==r?r:"application/json");try{t(new S.InteractionOutput(e,s,i.data))}catch(e){O(`Error while processing event for ${i.title}`),O(e)}}),(e=>{null==r||r(e)}),(()=>{}));const c=new k(this,e,o,s);return this.subscribedEvents.set(e,c),c}))}handleUriVariables(e,t,r){return j(this,e,t,r)}}t.default=C,u=new WeakMap,l=new WeakMap},60345:function(e,t,r){var n=r(1048).Buffer,i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ContentSerdes=void 0;const o=r(59826),s=i(r(78404)),a=i(r(97398)),c=i(r(84271)),u=i(r(52479)),l=i(r(85019)),f=r(50601),h=r(6808),d=r(75567),p=r(36327),{debug:y,warn:b}=(0,p.createLoggers)("core","content-serdes");class m{constructor(){this.codecs=new Map,this.offered=new Set}static get(){return null==this.instance&&(this.instance=new m,this.instance.addCodec(new a.default,!0),this.instance.addCodec(new a.default("application/senml+json")),this.instance.addCodec(new a.default("application/td+json")),this.instance.addCodec(new a.default("application/ld+json")),this.instance.addCodec(new s.default,!0),this.instance.addCodec(new c.default),this.instance.addCodec(new c.default("text/html")),this.instance.addCodec(new c.default("text/css")),this.instance.addCodec(new c.default("application/xml")),this.instance.addCodec(new c.default("application/xhtml+xml")),this.instance.addCodec(new c.default("image/svg+xml")),this.instance.addCodec(new u.default("image/png")),this.instance.addCodec(new u.default("image/gif")),this.instance.addCodec(new u.default("image/jpeg")),this.instance.addCodec(new l.default)),this.instance}static getMediaType(e){return e.split(";")[0].trim()}static getMediaTypeParameters(e){const t=e.split(";").slice(1),r={};return t.forEach((e=>{const t=e.indexOf("=");t>=0?r[e.substr(0,t).trim()]=e.substr(t+1).trim():r[e.trim()]=void 0})),r}addCodec(e,t=!1){m.get().codecs.set(e.getMediaType(),e),t&&m.get().offered.add(e.getMediaType())}getSupportedMediaTypes(){return Array.from(m.get().codecs.keys())}getOfferedMediaTypes(){return Array.from(m.get().offered)}isSupported(e){const t=m.getMediaType(e);return this.codecs.has(t)}contentToValue(e,t){if(void 0===e.type){if(!(e.body.byteLength>0))return;e.type=m.DEFAULT}const r=m.getMediaType(e.type),n=m.getMediaTypeParameters(e.type);return this.codecs.has(r)?(y(`ContentSerdes deserializing from ${e.type}`),this.codecs.get(r).bytesToValue(e.body,t,n)):(b(`ContentSerdes passthrough due to unsupported media type '${r}'`),e.body.toString())}valueToContent(e,t,r=m.DEFAULT){if(void 0===e&&b("ContentSerdes valueToContent got no value"),e instanceof d.ReadableStream)return new o.Content(r,h.ProtocolHelpers.toNodeStream(e));let i;const s=m.getMediaType(r),a=m.getMediaTypeParameters(r),c=this.codecs.get(s);return c?(y(`ContentSerdes serializing to ${r}`),i=c.valueToBytes(e,t,a)):(b(`ContentSerdes passthrough due to unsupported serialization format '${r}'`),i=n.from(null===e?"":e.toString())),new o.Content(r,f.Readable.from([i]))}}t.ContentSerdes=m,m.DEFAULT="application/json",m.TD="application/td+json",m.JSON_LD="application/ld+json",t.default=m.get()},59826:function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultContent=t.Content=void 0;const i=r(60345),o=n(r(9447));class s{constructor(e,t){this.type=e,this.body=t}toBuffer(){return o.default.readStreamFully(this.body)}}t.Content=s,t.DefaultContent=class extends s{constructor(e){super(i.ContentSerdes.DEFAULT,e)}}},6808:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.createWarnLogger=t.createInfoLogger=t.createErrorLogger=t.createDebugLogger=t.createLoggers=t.ProtocolHelpers=t.Helpers=t.ExposedThing=t.ConsumedThing=t.DefaultContent=t.Content=t.NetconfCodec=t.NetconfOctetstreamCodecCodec=t.Base64Codec=t.TextCodec=t.CborCodec=t.JsonCodec=t.Servient=void 0;const s=o(r(90175));t.Servient=s.default,t.default=s.default,i(r(60345),t);var a=r(97398);Object.defineProperty(t,"JsonCodec",{enumerable:!0,get:function(){return o(a).default}});var c=r(78404);Object.defineProperty(t,"CborCodec",{enumerable:!0,get:function(){return o(c).default}});var u=r(84271);Object.defineProperty(t,"TextCodec",{enumerable:!0,get:function(){return o(u).default}});var l=r(52479);Object.defineProperty(t,"Base64Codec",{enumerable:!0,get:function(){return o(l).default}});var f=r(85019);Object.defineProperty(t,"NetconfOctetstreamCodecCodec",{enumerable:!0,get:function(){return o(f).default}});var h=r(59325);Object.defineProperty(t,"NetconfCodec",{enumerable:!0,get:function(){return o(h).default}}),i(r(33612),t);var d=r(59826);Object.defineProperty(t,"Content",{enumerable:!0,get:function(){return d.Content}}),Object.defineProperty(t,"DefaultContent",{enumerable:!0,get:function(){return d.DefaultContent}});var p=r(56988);Object.defineProperty(t,"ConsumedThing",{enumerable:!0,get:function(){return o(p).default}});var y=r(75426);Object.defineProperty(t,"ExposedThing",{enumerable:!0,get:function(){return o(y).default}});var b=r(64542);Object.defineProperty(t,"Helpers",{enumerable:!0,get:function(){return o(b).default}});var m=r(9447);Object.defineProperty(t,"ProtocolHelpers",{enumerable:!0,get:function(){return o(m).default}});var v=r(36327);Object.defineProperty(t,"createLoggers",{enumerable:!0,get:function(){return v.createLoggers}}),Object.defineProperty(t,"createDebugLogger",{enumerable:!0,get:function(){return v.createDebugLogger}}),Object.defineProperty(t,"createErrorLogger",{enumerable:!0,get:function(){return v.createErrorLogger}}),Object.defineProperty(t,"createInfoLogger",{enumerable:!0,get:function(){return v.createInfoLogger}}),Object.defineProperty(t,"createWarnLogger",{enumerable:!0,get:function(){return v.createWarnLogger}})},20152:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DataSchemaError=t.NotSupportedError=t.NotReadableError=void 0;class r extends Error{constructor(e){super(e),Object.setPrototypeOf(this,r.prototype)}}t.NotReadableError=r;class n extends Error{constructor(e){super(e),Object.setPrototypeOf(this,n.prototype)}}t.NotSupportedError=n;class i extends Error{constructor(e,t){super(e),this.value=t,Object.setPrototypeOf(this,n.prototype)}}t.DataSchemaError=i},75426:function(e,t,r){var n,i,o,s,a,c,u=r(1048).Buffer,l=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),f=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),h=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&l(t,e,r);return f(t,e),t},d=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))},p=this&&this.__classPrivateFieldSet||function(e,t,r,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r},y=this&&this.__classPrivateFieldGet||function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)},b=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const m=h(r(57127)),v=b(r(64542)),g=r(64769),w=r(50601),_=b(r(9447)),S=r(75567),E=r(6808),T=b(r(60345)),O=b(r(60582)),x=r(36327),{debug:A}=(0,x.createLoggers)("core","exposed-thing");class M extends m.Thing{constructor(e,t={}){var r,u;super(),n.set(this,new Map),i.set(this,new Map),o.set(this,new Map),s.set(this,new O.default),a.set(this,new O.default),c.set(this,void 0),p(this,c,e,"f"),this.id=null!==(r=t.id)&&void 0!==r?r:"",this.title=null!==(u=t.title)&&void 0!==u?u:"",this.security="",this.securityDefinitions={},this.properties={},this.actions={},this.events={};const l=JSON.parse(JSON.stringify(t));Object.assign(this,l),m.setContextLanguage(this,m.DEFAULT_CONTEXT_LANGUAGE,!1)}getThingDescription(){return JSON.parse(m.serializeTD(this))}emitEvent(e,t){if(null==this.events[e])throw new Error("NotFoundError for event '"+e+"'");{const r=this.events[e];y(this,a,"f").notify(r,t,r.data)}}emitPropertyChange(e){var t;return d(this,void 0,void 0,(function*(){if(null==this.properties[e])throw new Error("NotFoundError for property '"+e+"'");{const r=this.properties[e],i=null===(t=y(this,n,"f").get(e))||void 0===t?void 0:t.readHandler;if(!i)throw new Error("Can't read property readHandler is not defined. Did you forget to register a readHandler?");const o=yield i();y(this,s,"f").notify(r,o,r)}}))}expose(){return A(`ExposedThing '${this.title}' exposing all Interactions and TD`),new Promise(((e,t)=>{y(this,c,"f").expose(this).then((()=>{e()})).catch((e=>t(e)))}))}destroy(){return d(this,void 0,void 0,(function*(){A(`ExposedThing '${this.title}' destroying the thing and its interactions`),yield y(this,c,"f").destroyThing(this.id),y(this,a,"f").unregisterAll(),y(this,s,"f").unregisterAll(),y(this,o,"f").clear(),y(this,n,"f").clear(),y(this,o,"f").clear()}))}setPropertyReadHandler(e,t){if(A(`ExposedThing '${this.title}' setting read handler for '${e}'`),null==this.properties[e])throw new Error(`ExposedThing '${this.title}' has no Property '${e}'`);if(!0===this.properties[e].writeOnly)throw new Error(`ExposedThing '${this.title}' cannot set read handler for property '${e}' due to writeOnly flag`);{let r=y(this,n,"f").get(e);r?r.readHandler=t:r={readHandler:t},y(this,n,"f").set(e,r)}return this}setPropertyWriteHandler(e,t){if(A(`ExposedThing '${this.title}' setting write handler for '${e}'`),null==this.properties[e])throw new Error(`ExposedThing '${this.title}' has no Property '${e}'`);if(!0===this.properties[e].readOnly)throw new Error(`ExposedThing '${this.title}' cannot set write handler for property '${e}' due to readOnly flag`);{let r=y(this,n,"f").get(e);r?r.writeHandler=t:r={writeHandler:t},y(this,n,"f").set(e,r)}return this}setPropertyObserveHandler(e,t){if(A(`ExposedThing '${this.title}' setting property observe handler for '${e}'`),null==this.properties[e])throw new Error(`ExposedThing '${this.title}' has no Property '${e}'`);if(!0!==this.properties[e].observable)throw new Error(`ExposedThing '${this.title}' cannot set observe handler for property '${e}' since the observable flag is set to false`);{let r=y(this,n,"f").get(e);r?r.observeHandler=t:r={observeHandler:t},y(this,n,"f").set(e,r)}return this}setPropertyUnobserveHandler(e,t){if(A(`ExposedThing '${this.title}' setting property unobserve handler for '${e}'`),null==this.properties[e])throw new Error(`ExposedThing '${this.title}' has no Property '${e}'`);if(!0!==this.properties[e].observable)throw new Error(`ExposedThing '${this.title}' cannot set unobserve handler for property '${e}' due to missing observable flag`);{let r=y(this,n,"f").get(e);r?r.unobserveHandler=t:r={unobserveHandler:t},y(this,n,"f").set(e,r)}return this}setActionHandler(e,t){if(A(`ExposedThing '${this.title}' setting action handler for '${e}'`),null==this.actions[e])throw new Error(`ExposedThing '${this.title}' has no Action '${e}'`);return y(this,i,"f").set(e,t),this}setEventSubscribeHandler(e,t){if(A(`ExposedThing '${this.title}' setting event subscribe handler for '${e}'`),null==this.events[e])throw new Error(`ExposedThing '${this.title}' has no Event '${e}'`);{let r=y(this,o,"f").get(e);r?r.subscribe=t:r={subscribe:t},y(this,o,"f").set(e,r)}return this}setEventUnsubscribeHandler(e,t){if(A(`ExposedThing '${this.title}' setting event unsubscribe handler for '${e}'`),null==this.events[e])throw new Error(`ExposedThing '${this.title}' has no Event '${e}'`);{let r=y(this,o,"f").get(e);r?r.unsubscribe=t:r={unsubscribe:t},y(this,o,"f").set(e,r)}return this}handleInvokeAction(e,t,r){var n;return d(this,void 0,void 0,(function*(){if(null==this.actions[e])throw new Error(`ExposedThing '${this.title}', no action found for '${e}'`);{A(`ExposedThing '${this.title}' has Action state of '${e}'`);const o=y(this,i,"f").get(e);if(null==o)throw new Error(`ExposedThing '${this.title}' has no handler for Action '${e}'`);{A(`ExposedThing '${this.title}' calls registered handler for Action '${e}'`),v.default.validateInteractionOptions(this,this.actions[e],r);const i=null!==(n=this.actions[e].forms[r.formIndex])&&void 0!==n?n:{contentType:"application/json"},s=yield o(new g.InteractionOutput(t,i,this.actions[e].input),r);if(void 0!==s)return T.default.valueToContent(s,this.actions[e].output,i.contentType)}}}))}handleReadProperty(e,t){var r,i,o,s;return d(this,void 0,void 0,(function*(){if(null!=this.properties[e]){A(`ExposedThing '${this.title}' has Action state of '${e}'`);const a=null===(r=y(this,n,"f").get(e))||void 0===r?void 0:r.readHandler;if(null!=a){A(`ExposedThing '${this.title}' calls registered readHandler for Property '${e}'`),v.default.validateInteractionOptions(this,this.properties[e],t);const r=yield a(t),n=null!==(o=null===(i=this.properties[e])||void 0===i?void 0:i.forms[t.formIndex])&&void 0!==o?o:{contentType:"application/json"};return T.default.valueToContent(r,this.properties[e],null!==(s=null==n?void 0:n.contentType)&&void 0!==s?s:"application/json")}throw new Error(`ExposedThing '${this.title}' has no readHandler for Property '${e}'`)}throw new Error(`ExposedThing '${this.title}', no property found for '${e}'`)}))}_handleReadProperties(e,t){return d(this,void 0,void 0,(function*(){try{const r=new Map;for(const n of e){if(!this.properties[n].forms.find((e=>e.contentType===E.ContentSerdes.DEFAULT||null==e.contentType)))continue;const e=yield this.handleReadProperty(n,t);r.set(n,e)}return r}catch(t){throw new Error(`ConsumedThing '${this.title}', failed to read properties: ${e}.\n Error: ${t}`)}}))}handleReadAllProperties(e){return d(this,void 0,void 0,(function*(){const t=[];for(const e in this.properties)t.push(e);return yield this._handleReadProperties(t,e)}))}handleReadMultipleProperties(e,t){return d(this,void 0,void 0,(function*(){return yield this._handleReadProperties(e,t)}))}handleWriteProperty(e,t,r){var i,o,s;return d(this,void 0,void 0,(function*(){if(null==this.properties[e])throw new Error(`ExposedThing '${this.title}', no property found for '${e}'`);{if(!0===this.properties[e].readOnly)throw new Error(`ExposedThing '${this.title}', property '${e}' is readOnly`);v.default.validateInteractionOptions(this,this.properties[e],r);const a=null===(i=y(this,n,"f").get(e))||void 0===i?void 0:i.writeHandler,c=null!==(s=null===(o=this.properties[e])||void 0===o?void 0:o.forms[r.formIndex])&&void 0!==s?s:{};if(null==a)throw new Error(`ExposedThing '${this.title}' has no writeHandler for Property '${e}'`);yield a(new g.InteractionOutput(t,c,this.properties[e]),r)}}))}handleWriteMultipleProperties(e,t){return d(this,void 0,void 0,(function*(){const r=[];for(const n in e)this.properties[n].forms.find((e=>"application/json"===e.contentType||null==e.contentType))&&r.push(this.handleWriteProperty(n,e.get(n),t));try{yield Promise.all(r)}catch(e){throw new Error(`ExposedThing '${this.title}', failed to write multiple properties. ${e.message}`)}}))}handleSubscribeEvent(e,t,r){var n;return d(this,void 0,void 0,(function*(){if(null==this.events[e])throw new Error(`ExposedThing '${this.title}', no event found for '${e}'`);{v.default.validateInteractionOptions(this,this.events[e],r);const i=_.default.getFormIndexForOperation(this.events[e],"event","subscribeevent",r.formIndex);if(-1===i)throw new Error(`ExposedThing '${this.title}', no property listener from found for '${e}' with form index '${r.formIndex}'`);y(this,a,"f").register(this.events[e],i,t),A(`ExposedThing '${this.title}' subscribes to event '${e}'`);const s=null===(n=y(this,o,"f").get(e))||void 0===n?void 0:n.subscribe;s&&(yield s(r)),A(`ExposedThing '${this.title}' subscribes to event '${e}'`)}}))}handleUnsubscribeEvent(e,t,r){var n;if(null==this.events[e])throw new Error(`ExposedThing '${this.title}', no event found for '${e}'`);{v.default.validateInteractionOptions(this,this.events[e],r);const i=_.default.getFormIndexForOperation(this.events[e],"event","unsubscribeevent",r.formIndex);if(-1===i)throw new Error(`ExposedThing '${this.title}', no event listener from found for '${e}' with form index '${r.formIndex}'`);y(this,a,"f").unregister(this.events[e],i,t);const s=null===(n=y(this,o,"f").get(e))||void 0===n?void 0:n.unsubscribe;s&&s(r),A(`ExposedThing '${this.title}' unsubscribes from event '${e}'`)}}handleObserveProperty(e,t,r){var i;return d(this,void 0,void 0,(function*(){if(null==this.properties[e])throw new Error(`ExposedThing '${this.title}', no property found for '${e}'`);{v.default.validateInteractionOptions(this,this.properties[e],r);const o=_.default.getFormIndexForOperation(this.properties[e],"property","observeproperty",r.formIndex);if(-1===o)throw new Error(`ExposedThing '${this.title}', no property listener from found for '${e}' with form index '${r.formIndex}'`);y(this,s,"f").register(this.properties[e],o,t),A(`ExposedThing '${this.title}' subscribes to property '${e}'`);const a=null===(i=y(this,n,"f").get(e))||void 0===i?void 0:i.observeHandler;a&&(yield a(r))}}))}handleUnobserveProperty(e,t,r){var i;if(null==this.properties[e])throw new Error(`ExposedThing '${this.title}', no property found for '${e}'`);{v.default.validateInteractionOptions(this,this.properties[e],r);const o=_.default.getFormIndexForOperation(this.properties[e],"property","unobserveproperty",r.formIndex);if(-1===o)throw new Error(`ExposedThing '${this.title}', no property listener from found for '${e}' with form index '${r.formIndex}'`);y(this,s,"f").unregister(this.properties[e],o,t);const a=null===(i=y(this,n,"f").get(e))||void 0===i?void 0:i.unobserveHandler;a&&a(r)}}static interactionInputToReadable(e){let t;return t="undefined"!=typeof ReadableStream&&e instanceof ReadableStream||e instanceof S.ReadableStream?_.default.toNodeStream(e):Array.isArray(e)||"object"==typeof e?w.Readable.from(u.from(JSON.stringify(e),"utf-8")):w.Readable.from(u.from(e.toString(),"utf-8")),t}}t.default=M,n=new WeakMap,i=new WeakMap,o=new WeakMap,s=new WeakMap,a=new WeakMap,c=new WeakMap},64542:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t},s=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const c=o(r(82213)),u=o(r(57127)),l=r(60345),f=a(r(11601)),h=a(r(64914)),d=r(57127),p=r(36327),{debug:y,error:b,warn:m}=(0,p.createLoggers)("core","helpers"),v=h.default,g=new f.default({strict:!1}).addFormat("iri-reference",/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i).addFormat("uri",/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/).addFormat("date-time",/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/);class w{constructor(e){this.srv=e}static extractScheme(e){const t=new URL(e);if(y(t),null===t.protocol)throw new Error(`Protocol in url "${e}" must be valid`);const r=t.protocol.slice(0,-1);return y(`Helpers found scheme '${r}'`),r}static setStaticAddress(e){w.staticAddress=e}static getAddresses(){var e;const t=[];if(void 0!==w.staticAddress)return t.push(w.staticAddress),y(`AddressHelper uses static ${t}`),t;{const r=c.networkInterfaces();for(const n in r)null===(e=r[n])||void 0===e||e.forEach((e=>{y(`AddressHelper found ${e.address}`),!1===e.internal&&("IPv4"===e.family?t.push(e.address):0===e.scopeid&&t.push(w.toUriLiteral(e.address)))}));return 0===t.length&&t.push("localhost"),y(`AddressHelper identified ${t}`),t}}static toUriLiteral(e){return null==e?(b(`AddressHelper received invalid address '${e}'`),"{invalid address - undefined}"):(-1!==e.indexOf(":")&&(e=`[${e}]`),e)}static generateUniqueName(e){const t=e.match(/.+_([0-9]+)$/);return null!==t?e.slice(0,-t[1].length)+(1+parseInt(t[1])):e+"_2"}static toStringArray(e){return null!=e?"string"==typeof e?[e]:e:[]}fetch(e){return new Promise(((t,r)=>{const n=this.srv.getClientFor(w.extractScheme(e));y(`WoTImpl fetching TD from '${e}' with ${n}`),n.readResource(new u.Form(e,l.ContentSerdes.TD)).then((n=>s(this,void 0,void 0,(function*(){n.type!==l.ContentSerdes.TD&&n.type!==l.ContentSerdes.JSON_LD&&m(`WoTImpl received TD with media type '${n.type}' from ${e}`);const i=(yield n.toBuffer()).toString("utf-8");try{const e=JSON.parse(i);t(e)}catch(t){r(new Error(`WoTImpl fetched invalid JSON from '${e}': ${t instanceof Error?t.message:t}`))}})))).then((e=>s(this,void 0,void 0,(function*(){return yield n.stop(),e})))).catch((e=>{r(e)}))}))}static extend(e,t){const r={};for(const t in e)r[t]=e[t];for(const e in t)Object.prototype.hasOwnProperty.call(r,e)||(r[e]=t[e]);return r}static parseInteractionOutput(e){return s(this,void 0,void 0,(function*(){try{return yield e.value()}catch(e){throw b("parseInteractionOutput low-level stream not implemented"),new Error("parseInteractionOutput low-level stream not implemented")}}))}static createExposeThingInitSchema(e){const t=structuredClone(e);if(void 0!==t.required){const e=["title","@context","instance","forms","security","href","securityDefinitions"];if(Array.isArray(t.required)){const r=t.required;t.required=r.filter((t=>!e.includes(t)))}else"string"==typeof t.required&&-1!==e.indexOf(t.required)&&delete t.required}if(void 0!==t.definitions)for(const e in t.definitions)t.definitions[e]=this.createExposeThingInitSchema(t.definitions[e]);return t}static validateExposedThingInit(e){var t;if("tm:ThingModel"===e["@type"]||!0===d.ThingModelHelpers.isThingModel(e))return{valid:!1,errors:"ThingModel declaration is not supported"};const r=w.tsSchemaValidator(e);let n;return r||(n=null===(t=w.tsSchemaValidator.errors)||void 0===t?void 0:t.map((e=>e.message)).join("\n")),{valid:r,errors:n}}static parseInteractionOptions(e,t,r){var n,i;if(!this.validateInteractionOptions(e,t,r))throw new Error(`CoreHelpers one or more uriVariables were not found under neither '${t.title}' Thing Interaction nor '${e.title}' Thing`);const o=null!==(n=t.uriVariables)&&void 0!==n?n:{},s=null!==(i=e.uriVariables)&&void 0!==i?i:{},a={};(null==r?void 0:r.uriVariables)?Object.entries(r.uriVariables).forEach((e=>{(e[0]in o||e[0]in s)&&(a[e[0]]=e[1])})):r={uriVariables:{}};for(const e in s){const t=s[e];!(e in a)&&"default"in t&&(a[e]=t.default)}return r.uriVariables=a,r}static validateInteractionOptions(e,t,r){var n,i;const o=null!==(n=t.uriVariables)&&void 0!==n?n:{},s=null!==(i=e.uriVariables)&&void 0!==i?i:{};if(null==r?void 0:r.uriVariables){const e=Object.entries(r.uriVariables);for(let t=0;t<e.length;t++){const r=e[t];if(!(r[0]in o)&&!(r[0]in s))return!1}}return!0}static parseUrlParameters(e,t={},r={}){const n={};if(null==e||null==r&&null==t)return n;const i=e.split("?")[1];return null==i||(-1!==i.indexOf("&")?i.split("&"):[i]).forEach((e=>{const i=e.split("="),o=decodeURIComponent(i[0]),s=decodeURIComponent(i.length>1?i[1]:"");null!=r&&null!=r[o]?"integer"===r[o].type||"number"===r[o].type?n[o]=+s:n[o]=s:null!=t&&null!=t[o]&&("integer"===t[o].type||"number"===t[o].type?n[o]=+s:n[o]=s)})),n}static updateInteractionNameWithUriVariablePattern(e,t={},r={}){const n=encodeURIComponent(e),i=[...Object.keys(t),...Object.keys(r)];return 0===i.length?n:n+"{?"+i.map(encodeURIComponent).join(",")+"}"}}t.default=w,w.tsSchemaValidator=g.compile(w.createExposeThingInitSchema(v)),w.staticAddress=void 0},64769:function(e,t,r){var n,i,o,s,a=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),c=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),u=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&a(t,e,r);return c(t,e),t},l=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))},f=this&&this.__classPrivateFieldSet||function(e,t,r,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r},h=this&&this.__classPrivateFieldGet||function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)},d=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.InteractionOutput=void 0;const p=u(r(49208)),y=r(60345),b=r(6808),m=r(20152),v=d(r(11601)),g=r(36327),{debug:w}=(0,g.createLoggers)("core","interaction-output"),_=new v.default({strict:!1});t.InteractionOutput=class{constructor(e,t,r){n.set(this,void 0),i.set(this,void 0),o.set(this,void 0),s.set(this,void 0),f(this,n,e,"f"),this.form=t,this.schema=r,this.dataUsed=!1}get data(){if(h(this,s,"f"))return h(this,s,"f");if(this.dataUsed)throw new Error("Can't read the stream once it has been already used");return this.dataUsed=!0,f(this,s,b.ProtocolHelpers.toWoTStream(h(this,n,"f").body),"f")}arrayBuffer(){return l(this,void 0,void 0,(function*(){if(h(this,o,"f"))return h(this,o,"f");if(this.dataUsed)throw new Error("Can't read the stream once it has been already used");const e=yield h(this,n,"f").toBuffer();return this.dataUsed=!0,f(this,o,e,"f"),e}))}value(){return l(this,void 0,void 0,(function*(){if(void 0!==h(this,i,"f"))return h(this,i,"f");if(this.dataUsed)throw new m.NotReadableError("Can't read the stream once it has been already used");if(null==this.form)throw new m.NotReadableError("No form defined");if(null==this.schema||null==this.schema.type)throw new m.NotReadableError("No schema defined");if(!y.ContentSerdes.get().isSupported(h(this,n,"f").type)){const e=`Content type ${h(this,n,"f").type} not supported`;throw new m.NotSupportedError(e)}const e=yield h(this,n,"f").toBuffer();this.dataUsed=!0,f(this,o,e,"f");const t=y.ContentSerdes.get().contentToValue({type:h(this,n,"f").type,body:e},this.schema),r=_.compile(this.schema);if(!r(t))throw w(`schema = ${p.inspect(this.schema,{depth:10,colors:!0})}`),w(`value: ${t}`),w(`Errror: ${r.errors}`),new m.DataSchemaError("Invalid value according to DataSchema",t);return f(this,i,t,"f"),t}))}},n=new WeakMap,i=new WeakMap,o=new WeakMap,s=new WeakMap},36327:function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.createLoggers=t.createErrorLogger=t.createWarnLogger=t.createDebugLogger=t.createInfoLogger=void 0;const i=n(r(20124));var o;function s(e,t){const r=["node-wot",...e,o[t]].join(":");return(0,i.default)(r)}function a(...e){return s(e,o.info)}function c(...e){return s(e,o.debug)}function u(...e){return s(e,o.warn)}function l(...e){return s(e,o.error)}!function(e){e[e.info=0]="info",e[e.debug=1]="debug",e[e.warn=2]="warn",e[e.error=3]="error"}(o||(o={})),t.createInfoLogger=a,t.createDebugLogger=c,t.createWarnLogger=u,t.createErrorLogger=l,t.createLoggers=function(...e){return{info:a(...e),debug:c(...e),warn:u(...e),error:l(...e)}}},9447:(e,t,r)=>{var n=r(1048).Buffer;Object.defineProperty(t,"__esModule",{value:!0});const i=r(50601),o=r(75567),s=r(36327),{debug:a,warn:c}=(0,s.createLoggers)("core","protocol-helpers");function u(e){return class extends e{set nodeStream(e){this._nodeStream=e}get nodeStream(){if(!this._nodeStream)throw new Error("ManagedStream not correctly initialized nodeStream is undefined");return this._nodeStream}set wotStream(e){this._wotStream=e}get wotStream(){if(!this._wotStream)throw new Error("ManagedStream not correctly initialized wotStream is undefined");return this._wotStream}}}const l=u(i.Readable),f=u(o.ReadableStream);function h(e){return e instanceof f||e instanceof l}t.default=class{static updatePropertyFormWithTemplate(e,t){var r;for(const n of null!==(r=t.forms)&&void 0!==r?r:[])if(n.href,null!=n.contentType)return void(e.contentType=n.contentType)}static updateActionFormWithTemplate(e,t){var r;for(const n of null!==(r=t.forms)&&void 0!==r?r:[])if(n.href,null!=n.contentType)return void(e.contentType=n.contentType)}static updateEventFormWithTemplate(e,t){var r;for(const n of null!==(r=t.forms)&&void 0!==r?r:[])if(n.href,null!=n.contentType)return void(e.contentType=n.contentType)}static getPropertyContentType(e,t,r){var n;if(null!=t&&null!=r&&null!=(null==e?void 0:e.properties)&&null!=e.properties[t]&&null!=e.properties[t].forms&&Array.isArray(e.properties[t].forms))for(const i of e.properties[t].forms)if((null===(n=i.href)||void 0===n?void 0:n.startsWith(r))&&null!=i.contentType)return i.contentType}static getActionContentType(e,t,r){var n;if(null!=t&&null!=r&&(null==e?void 0:e.actions)&&null!=e.actions&&Array.isArray(null===(n=e.actions[t])||void 0===n?void 0:n.forms))for(const n of e.actions[t].forms)if(n.href&&n.href.startsWith(r)&&null!=n.contentType)return n.contentType}static getEventContentType(e,t,r){var n;if(null!=t&&null!=r&&(null==e?void 0:e.events)&&null!=(null===(n=null==e?void 0:e.events[t])||void 0===n?void 0:n.forms)&&Array.isArray(e.events[t].forms))for(const n of e.events[t].forms)if(n.href&&n.href.startsWith(r)&&null!=n.contentType)return n.contentType}static toWoTStream(e){if(h(e))return e.wotStream;const t=new f({start:t=>{e.on("data",(e=>t.enqueue(e))),e.on("error",(e=>t.error(e))),e.on("end",(()=>t.close()))},cancel:t=>{e instanceof i.Readable&&e.destroy(t)}});return e instanceof i.Readable?t.nodeStream=e:t.nodeStream=new i.Readable(e),t}static toNodeStream(e){if(h(e))return e.nodeStream;if(e instanceof i.Readable)return e;const t=e.getReader(),r=new l({read:e=>{t.read().then((e=>{r.push(e.value),e.done&&r.push(null)}))},destroy:(r,n)=>{t.releaseLock(),e.cancel(r).then((()=>n(r)))}});return r.wotStream=e,r.nodeStream=r,r}static readStreamFully(e){return new Promise(((t,r)=>{if(null!=e){const i=[];e.on("data",(e=>i.push(e))),e.on("error",r),e.on("end",(()=>{null!=i[0]&&(i[0]instanceof Array||i[0]instanceof n||i[0]instanceof Uint8Array)?t(n.concat(i)):null!=i[0]&&"string"==typeof i[0]?t(n.from(i.join())):t(n.from(i))}))}else a("Protocol-Helper returns empty buffer for readStreamFully due to undefined stream"),t(n.alloc(0))}))}static findRequestMatchingFormIndex(e,t,r,n){if(void 0===e)return 0;let i=e.filter((e=>{const n=new URL(e.href.replace(/(\{[\S]*\})/,"")),i=void 0!==r?-1!==r.indexOf("?")?r.split("?")[0]:r:void 0;return n.protocol===t+":"&&(void 0===i||n.pathname===i)}));if(null!=n){const e=i.filter((e=>e.contentType===n));e.length>0&&(i=e)}return i.length>0?e.indexOf(i[0]):0}static getFormIndexForOperation(e,t,r,n){var i;let o=-1,s=[];switch(t){case"property":if(!0===e.readOnly&&"writeproperty"===r||!0===e.writeOnly&&"readproperty"===r)return o;!0!==e.readOnly&&s.push("writeproperty"),!0!==e.writeOnly&&s.push("readproperty");break;case"action":s=["invokeaction"];break;case"event":s=["subscribeevent","unsubscribeevent"]}if(-1!==s.indexOf(r)&&(r=void 0),void 0!==e.forms&&void 0!==n&&e.forms.length>n){const t=e.forms[n];null==t||null!=r&&!0!==(null===(i=t.op)||void 0===i?void 0:i.includes(r))||(o=n)}return void 0!==e.forms&&-1===o&&(void 0!==r?e.forms.every((t=>{var n;return!0===(null===(n=t.op)||void 0===n?void 0:n.includes(r))&&(o=e.forms.indexOf(t)),-1===o})):e.forms.every((t=>(o=e.forms.indexOf(t),!1)))),o}static getPropertyOpValues(e){const t=[];return!0!==e.readOnly&&t.push("writeproperty"),!0!==e.writeOnly&&t.push("readproperty"),0===t.length&&c("Property was declared both as readOnly and writeOnly."),!0===e.observable&&(t.push("observeproperty"),t.push("unobserveproperty")),t}}},33612:(e,t)=>{var r;Object.defineProperty(t,"__esModule",{value:!0}),t.Endianness=void 0,(r=t.Endianness||(t.Endianness={})).BIG_ENDIAN="BIG_ENDIAN",r.LITTLE_ENDIAN="LITTLE_ENDIAN",r.BIG_ENDIAN_BYTE_SWAP="BIG_ENDIAN_BYTE_SWAP",r.LITTLE_ENDIAN_BYTE_SWAP="LITTLE_ENDIAN_BYTE_SWAP"},60582:function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(r(60345));class o{constructor(){this.listeners=new Map}register(e,t,r){if(null==e.forms[t])throw new Error("Can't register the listener for affordance with formIndex. The affordance does not contain the form");let n=this.listeners.get(e);n||(n=new Map,this.listeners.set(e,n));let i=n.get(t);i||(i=[],n.set(t,i)),i.push(r)}unregister(e,t,r){const n=this.listeners.get(e);if(!n)throw new Error("Not found");const i=n.get(t);if(!i)throw new Error("Form not found");const o=i.indexOf(r);if(o<0)throw new Error("Form not found");i.splice(o,1)}unregisterAll(){this.listeners.clear()}notify(e,t,r,n){var s;const a=null!==(s=this.listeners.get(e))&&void 0!==s?s:o.EMPTY_MAP;if(void 0!==n){const o=a.get(n);if(o){const s=e.forms[n].contentType,a=i.default.valueToContent(t,r,s);return void o.forEach((e=>e(a)))}}for(const[n,o]of a){const s=e.forms[n].contentType,a=i.default.valueToContent(t,r,s);o.forEach((e=>e(a)))}}}t.default=o,o.EMPTY_MAP=new Map},90175:function(e,t,r){var n,i,o=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))},s=this&&this.__classPrivateFieldGet||function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)},a=this&&this.__classPrivateFieldSet||function(e,t,r,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const u=c(r(73340)),l=c(r(60345)),f=r(32017),h=r(36327),{debug:d,warn:p}=(0,h.createLoggers)("core","servient");t.default=class{constructor(){this.servers=[],this.clientFactories=new Map,this.things=new Map,this.credentialStore=new Map,n.set(this,void 0),i.set(this,!1)}addMediaType(e,t=!1){l.default.addCodec(e,t)}expose(e){if(0===this.servers.length)return p("Servient has no servers to expose Things"),new Promise((e=>{e()}));d(`Servient exposing '${e.title}'`);const t=JSON.parse(JSON.stringify(e));e.forms=[];for(const t in e.properties)e.properties[t].forms=[];for(const t in e.actions)e.actions[t].forms=[];for(const t in e.events)e.events[t].forms=[];const r=[];return this.servers.forEach((n=>{r.push(n.expose(e,t))})),new Promise(((e,t)=>{Promise.all(r).then((()=>e())).catch((e=>t(e)))}))}addThing(e){return e.id||(e.id="urn:uuid:"+(0,f.v4)(),p(`Servient generating ID for '${e.title}': '${e.id}'`)),!this.things.has(e.id)&&(this.things.set(e.id,e),d(`Servient reset ID '${e.id}' with '${e.title}'`),!0)}destroyThing(e){return new Promise(((t,r)=>{if(this.things.has(e)){d(`Servient destroying thing with id '${e}'`),this.things.delete(e);const n=[];this.servers.forEach((t=>{n.push(t.destroy(e))})),Promise.all(n).then((()=>t(!0))).catch((e=>r(e)))}else p(`Servient was asked to destroy thing but failed to find thing with id '${e}'`),t(!1)}))}getThing(e){return this.things.has(e)?this.things.get(e):void 0}getThings(){d(`Servient getThings size == '${this.things.size}'`);const e={};return this.things.forEach(((t,r)=>{e[r]=t.getThingDescription()})),e}addServer(e){return this.things.forEach(((t,r)=>e.expose(t))),this.servers.push(e),!0}getServers(){return this.servers.slice(0)}addClientFactory(e){d(`Servient adding client factory for '${e.scheme}'`),this.clientFactories.set(e.scheme,e)}removeClientFactory(e){var t;return d(`Servient removing client factory for '${e}'`),null===(t=this.clientFactories.get(e))||void 0===t||t.destroy(),this.clientFactories.delete(e)}hasClientFor(e){return d(`Servient checking for '${e}' scheme in ${this.clientFactories.size} ClientFactories`),this.clientFactories.has(e)}getClientFor(e){const t=this.clientFactories.get(e);if(t)return d(`Servient creating client for scheme '${e}'`),t.getClient();throw new Error(`Servient has no ClientFactory for scheme '${e}'`)}getClientSchemes(){return Array.from(this.clientFactories.keys())}addCredentials(e){if("object"==typeof e)for(const t in e){d(`Servient storing credentials for '${t}'`);let r=this.credentialStore.get(t);r||(r=[],this.credentialStore.set(t,r)),r.push(e[t])}}getCredentials(e){d(`Servient looking up credentials for '${e}' (@deprecated)`);const t=this.credentialStore.get(e);return t&&t.length>0?t[0]:void 0}retrieveCredentials(e){return d(`Servient looking up credentials for '${e}'`),this.credentialStore.get(e)}start(){return o(this,void 0,void 0,(function*(){if(void 0!==s(this,n,"f"))return d("Servient started already -> nop -> returning previous WoT implementation"),s(this,n,"f");if(s(this,i,"f"))throw Error("Servient cannot be started (again) since it was already stopped");const e=[];return this.servers.forEach((t=>e.push(t.start(this)))),this.clientFactories.forEach((e=>e.init())),yield Promise.all(e),a(this,n,new u.default(this),"f")}))}shutdown(){return o(this,void 0,void 0,(function*(){if(void 0===s(this,n,"f"))throw Error("Servient cannot be shutdown, wasn't even started");if(s(this,i,"f"))return void d("Servient shutdown already -> nop");this.clientFactories.forEach((e=>e.destroy()));const e=this.servers.map((e=>e.stop()));yield Promise.all(e),a(this,i,!0,"f"),a(this,n,void 0,"f")}))}},n=new WeakMap,i=new WeakMap},2676:function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.getLastValidationErrors=t.isThingDescription=void 0;const i=n(r(64542));t.isThingDescription=function(e){return i.default.tsSchemaValidator(e)},t.getLastValidationErrors=function(){var e;const t=null===(e=i.default.tsSchemaValidator.errors)||void 0===e?void 0:e.map((e=>e.message)).join("\n");return new Error(t)}},73340:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t},s=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))},a=this&&this.__await||function(e){return this instanceof a?(this.v=e,this):new a(e)},c=this&&this.__asyncGenerator||function(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,i=r.apply(e,t||[]),o=[];return n={},s("next"),s("throw"),s("return"),n[Symbol.asyncIterator]=function(){return this},n;function s(e){i[e]&&(n[e]=function(t){return new Promise((function(r,n){o.push([e,t,r,n])>1||c(e,t)}))})}function c(e,t){try{(r=i[e](t)).value instanceof a?Promise.resolve(r.value.v).then(u,l):f(o[0][2],r)}catch(e){f(o[0][3],e)}var r}function u(e){c("next",e)}function l(e){c("throw",e)}function f(e,t){e(t),o.shift(),o.length&&c(o[0][0],o[0][1])}},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.DataType=void 0;const l=o(r(57127)),f=u(r(75426)),h=u(r(56988)),d=u(r(64542)),p=r(36327),y=u(r(60345)),b=r(2676),m=r(49208),{debug:v}=(0,p.createLoggers)("core","wot-impl");class g{constructor(e,t){this.directory=e,this.filter=t,this.filter=t,this.done=!1}stop(){return s(this,void 0,void 0,(function*(){this.done=!0}))}[Symbol.asyncIterator](){return c(this,arguments,(function*(){let e;try{const t=yield a(this.directory.readProperty("things"));e=yield a(t.value())}catch(e){return this.error=e instanceof Error?e:new Error((0,m.inspect)(e)),this.done=!0,yield a(void 0)}for(const t of e){if(this.done)return yield a(void 0);(0,b.isThingDescription)(t)?yield yield a(t):this.error=(0,b.getLastValidationErrors)()}this.done=!0}))}}var w;t.default=class{constructor(e){this.srv=e}discover(e){return s(this,void 0,void 0,(function*(){throw new Error("not implemented")}))}exploreDirectory(e,t){return s(this,void 0,void 0,(function*(){const r=yield this.requestThingDescription(e),n=yield this.consume(r);return new g(n,t)}))}requestThingDescription(e){return s(this,void 0,void 0,(function*(){const t=d.default.extractScheme(e),r=this.srv.getClientFor(t),n=yield r.requestThingDescription(e),i=y.default.contentToValue({type:n.type,body:yield n.toBuffer()},{});if((0,b.isThingDescription)(i))return i;throw(0,b.getLastValidationErrors)()}))}consume(e){return s(this,void 0,void 0,(function*(){try{const t=l.parseTD(JSON.stringify(e),!0),r=new h.default(this.srv,t);return v(`WoTImpl consuming TD ${null!=r.id?`'${r.id}'`:"without id"} to instantiate ConsumedThing '${r.title}'`),r}catch(e){throw new Error(`Cannot consume TD because ${e instanceof Error?e.message:e}`)}}))}produce(e){return new Promise(((t,r)=>{try{const r=d.default.validateExposedThingInit(e);if(!r.valid)throw new Error("Thing Description JSON schema validation failed:\n"+r.errors);const n=new f.default(this.srv,e);if(v(`WoTImpl producing new ExposedThing '${n.title}'`),!this.srv.addThing(n))throw new Error("Thing already exists: "+n.title);t(n)}catch(e){r(new Error(`Cannot produce ExposedThing because " + ${e instanceof Error?e.message:e}`))}}))}},(w=t.DataType||(t.DataType={})).boolean="boolean",w.number="number",w.integer="integer",w.string="string",w.object="object",w.array="array",w.null="null"},32017:(e,t,r)=>{r.r(t),r.d(t,{v1:()=>d,v3:()=>_,v4:()=>S,v5:()=>O});var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),i=new Uint8Array(16);function o(){if(!n)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return n(i)}for(var s=[],a=0;a<256;++a)s[a]=(a+256).toString(16).substr(1);const c=function(e,t){var r=t||0,n=s;return[n[e[r++]],n[e[r++]],n[e[r++]],n[e[r++]],"-",n[e[r++]],n[e[r++]],"-",n[e[r++]],n[e[r++]],"-",n[e[r++]],n[e[r++]],"-",n[e[r++]],n[e[r++]],n[e[r++]],n[e[r++]],n[e[r++]],n[e[r++]]].join("")};var u,l,f=0,h=0;const d=function(e,t,r){var n=t&&r||0,i=t||[],s=(e=e||{}).node||u,a=void 0!==e.clockseq?e.clockseq:l;if(null==s||null==a){var d=e.random||(e.rng||o)();null==s&&(s=u=[1|d[0],d[1],d[2],d[3],d[4],d[5]]),null==a&&(a=l=16383&(d[6]<<8|d[7]))}var p=void 0!==e.msecs?e.msecs:(new Date).getTime(),y=void 0!==e.nsecs?e.nsecs:h+1,b=p-f+(y-h)/1e4;if(b<0&&void 0===e.clockseq&&(a=a+1&16383),(b<0||p>f)&&void 0===e.nsecs&&(y=0),y>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");f=p,h=y,l=a;var m=(1e4*(268435455&(p+=122192928e5))+y)%4294967296;i[n++]=m>>>24&255,i[n++]=m>>>16&255,i[n++]=m>>>8&255,i[n++]=255&m;var v=p/4294967296*1e4&268435455;i[n++]=v>>>8&255,i[n++]=255&v,i[n++]=v>>>24&15|16,i[n++]=v>>>16&255,i[n++]=a>>>8|128,i[n++]=255&a;for(var g=0;g<6;++g)i[n+g]=s[g];return t||c(i)};function p(e,t,r){var n=function(e,n,i,o){var s=i&&o||0;if("string"==typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));for(var t=new Array(e.length),r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(e)),"string"==typeof n&&(n=function(e){var t=[];return e.replace(/[a-fA-F0-9]{2}/g,(function(e){t.push(parseInt(e,16))})),t}(n)),!Array.isArray(e))throw TypeError("value must be an array of bytes");if(!Array.isArray(n)||16!==n.length)throw TypeError("namespace must be uuid string or an Array of 16 byte values");var a=r(n.concat(e));if(a[6]=15&a[6]|t,a[8]=63&a[8]|128,i)for(var u=0;u<16;++u)i[s+u]=a[u];return i||c(a)};try{n.name=e}catch(e){}return n.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",n.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",n}function y(e,t){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}function b(e,t,r,n,i,o){return y((s=y(y(t,e),y(n,o)))<<(a=i)|s>>>32-a,r);var s,a}function m(e,t,r,n,i,o,s){return b(t&r|~t&n,e,t,i,o,s)}function v(e,t,r,n,i,o,s){return b(t&n|r&~n,e,t,i,o,s)}function g(e,t,r,n,i,o,s){return b(t^r^n,e,t,i,o,s)}function w(e,t,r,n,i,o,s){return b(r^(t|~n),e,t,i,o,s)}const _=p("v3",48,(function(e){if("string"==typeof e){var t=unescape(encodeURIComponent(e));e=new Array(t.length);for(var r=0;r<t.length;r++)e[r]=t.charCodeAt(r)}return function(e){var t,r,n,i=[],o=32*e.length,s="0123456789abcdef";for(t=0;t<o;t+=8)r=e[t>>5]>>>t%32&255,n=parseInt(s.charAt(r>>>4&15)+s.charAt(15&r),16),i.push(n);return i}(function(e,t){var r,n,i,o,s;e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;var a=1732584193,c=-271733879,u=-1732584194,l=271733878;for(r=0;r<e.length;r+=16)n=a,i=c,o=u,s=l,a=m(a,c,u,l,e[r],7,-680876936),l=m(l,a,c,u,e[r+1],12,-389564586),u=m(u,l,a,c,e[r+2],17,606105819),c=m(c,u,l,a,e[r+3],22,-1044525330),a=m(a,c,u,l,e[r+4],7,-176418897),l=m(l,a,c,u,e[r+5],12,1200080426),u=m(u,l,a,c,e[r+6],17,-1473231341),c=m(c,u,l,a,e[r+7],22,-45705983),a=m(a,c,u,l,e[r+8],7,1770035416),l=m(l,a,c,u,e[r+9],12,-1958414417),u=m(u,l,a,c,e[r+10],17,-42063),c=m(c,u,l,a,e[r+11],22,-1990404162),a=m(a,c,u,l,e[r+12],7,1804603682),l=m(l,a,c,u,e[r+13],12,-40341101),u=m(u,l,a,c,e[r+14],17,-1502002290),a=v(a,c=m(c,u,l,a,e[r+15],22,1236535329),u,l,e[r+1],5,-165796510),l=v(l,a,c,u,e[r+6],9,-1069501632),u=v(u,l,a,c,e[r+11],14,643717713),c=v(c,u,l,a,e[r],20,-373897302),a=v(a,c,u,l,e[r+5],5,-701558691),l=v(l,a,c,u,e[r+10],9,38016083),u=v(u,l,a,c,e[r+15],14,-660478335),c=v(c,u,l,a,e[r+4],20,-405537848),a=v(a,c,u,l,e[r+9],5,568446438),l=v(l,a,c,u,e[r+14],9,-1019803690),u=v(u,l,a,c,e[r+3],14,-187363961),c=v(c,u,l,a,e[r+8],20,1163531501),a=v(a,c,u,l,e[r+13],5,-1444681467),l=v(l,a,c,u,e[r+2],9,-51403784),u=v(u,l,a,c,e[r+7],14,1735328473),a=g(a,c=v(c,u,l,a,e[r+12],20,-1926607734),u,l,e[r+5],4,-378558),l=g(l,a,c,u,e[r+8],11,-2022574463),u=g(u,l,a,c,e[r+11],16,1839030562),c=g(c,u,l,a,e[r+14],23,-35309556),a=g(a,c,u,l,e[r+1],4,-1530992060),l=g(l,a,c,u,e[r+4],11,1272893353),u=g(u,l,a,c,e[r+7],16,-155497632),c=g(c,u,l,a,e[r+10],23,-1094730640),a=g(a,c,u,l,e[r+13],4,681279174),l=g(l,a,c,u,e[r],11,-358537222),u=g(u,l,a,c,e[r+3],16,-722521979),c=g(c,u,l,a,e[r+6],23,76029189),a=g(a,c,u,l,e[r+9],4,-640364487),l=g(l,a,c,u,e[r+12],11,-421815835),u=g(u,l,a,c,e[r+15],16,530742520),a=w(a,c=g(c,u,l,a,e[r+2],23,-995338651),u,l,e[r],6,-198630844),l=w(l,a,c,u,e[r+7],10,1126891415),u=w(u,l,a,c,e[r+14],15,-1416354905),c=w(c,u,l,a,e[r+5],21,-57434055),a=w(a,c,u,l,e[r+12],6,1700485571),l=w(l,a,c,u,e[r+3],10,-1894986606),u=w(u,l,a,c,e[r+10],15,-1051523),c=w(c,u,l,a,e[r+1],21,-2054922799),a=w(a,c,u,l,e[r+8],6,1873313359),l=w(l,a,c,u,e[r+15],10,-30611744),u=w(u,l,a,c,e[r+6],15,-1560198380),c=w(c,u,l,a,e[r+13],21,1309151649),a=w(a,c,u,l,e[r+4],6,-145523070),l=w(l,a,c,u,e[r+11],10,-1120210379),u=w(u,l,a,c,e[r+2],15,718787259),c=w(c,u,l,a,e[r+9],21,-343485551),a=y(a,n),c=y(c,i),u=y(u,o),l=y(l,s);return[a,c,u,l]}(function(e){var t,r=[];for(r[(e.length>>2)-1]=void 0,t=0;t<r.length;t+=1)r[t]=0;var n=8*e.length;for(t=0;t<n;t+=8)r[t>>5]|=(255&e[t/8])<<t%32;return r}(e),8*e.length))})),S=function(e,t,r){var n=t&&r||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var i=(e=e||{}).random||(e.rng||o)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,t)for(var s=0;s<16;++s)t[n+s]=i[s];return t||c(i)};function E(e,t,r,n){switch(e){case 0:return t&r^~t&n;case 1:case 3:return t^r^n;case 2:return t&r^t&n^r&n}}function T(e,t){return e<<t|e>>>32-t}const O=p("v5",80,(function(e){var t=[1518500249,1859775393,2400959708,3395469782],r=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof e){var n=unescape(encodeURIComponent(e));e=new Array(n.length);for(var i=0;i<n.length;i++)e[i]=n.charCodeAt(i)}e.push(128);var o=e.length/4+2,s=Math.ceil(o/16),a=new Array(s);for(i=0;i<s;i++){a[i]=new Array(16);for(var c=0;c<16;c++)a[i][c]=e[64*i+4*c]<<24|e[64*i+4*c+1]<<16|e[64*i+4*c+2]<<8|e[64*i+4*c+3]}for(a[s-1][14]=8*(e.length-1)/Math.pow(2,32),a[s-1][14]=Math.floor(a[s-1][14]),a[s-1][15]=8*(e.length-1)&4294967295,i=0;i<s;i++){for(var u=new Array(80),l=0;l<16;l++)u[l]=a[i][l];for(l=16;l<80;l++)u[l]=T(u[l-3]^u[l-8]^u[l-14]^u[l-16],1);var f=r[0],h=r[1],d=r[2],p=r[3],y=r[4];for(l=0;l<80;l++){var b=Math.floor(l/20),m=T(f,5)+E(b,h,d,p)+y+t[b]+u[l]>>>0;y=p,p=d,d=T(h,30)>>>0,h=f,f=m}r[0]=r[0]+f>>>0,r[1]=r[1]+h>>>0,r[2]=r[2]+d>>>0,r[3]=r[3]+p>>>0,r[4]=r[4]+y>>>0}return[r[0]>>24&255,r[0]>>16&255,r[0]>>8&255,255&r[0],r[1]>>24&255,r[1]>>16&255,r[1]>>8&255,255&r[1],r[2]>>24&255,r[2]>>16&255,r[2]>>8&255,255&r[2],r[3]>>24&255,r[3]>>16&255,r[3]>>8&255,255&r[3],r[4]>>24&255,r[4]>>16&255,r[4]>>8&255,255&r[4]]}))},64038:()=>{},8379:()=>{},93553:()=>{},14432:()=>{},47331:()=>{},96331:()=>{},18231:()=>{},7770:()=>{},14981:()=>{},94893:()=>{},93701:()=>{},86973:()=>{},62080:()=>{},78314:()=>{},92466:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getFloat16=function(e,t,...r){return(0,i.convertToNumber)((0,o.DataViewPrototypeGetUint16)(e,t,...(0,n.safeIfNeeded)(r)))},t.setFloat16=function(e,t,r,...s){return(0,o.DataViewPrototypeSetUint16)(e,t,(0,i.roundToFloat16Bits)(r),...(0,n.safeIfNeeded)(s))};var n=r(55908),i=r(97421),o=r(29933)},43875:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isFloat16Array=f;var n=r(55908),i=r(51354),o=r(97421),s=r(82647),a=r(22231),c=r(29933),u=r(29010);const l=new c.NativeWeakMap;function f(e){return(0,c.WeakMapPrototypeHas)(l,e)||!(0,c.ArrayBufferIsView)(e)&&(0,i.hasFloat16ArrayBrand)(e)}function h(e){if(!f(e))throw(0,c.NativeTypeError)(a.THIS_IS_NOT_A_FLOAT16ARRAY_OBJECT)}function d(e,t){const r=f(e),n=(0,s.isNativeTypedArray)(e);if(!r&&!n)throw(0,c.NativeTypeError)(a.SPECIES_CONSTRUCTOR_DIDNT_RETURN_TYPEDARRAY_OBJECT);if("number"==typeof t){let n;if(r){const t=p(e);n=(0,c.TypedArrayPrototypeGetLength)(t)}else n=(0,c.TypedArrayPrototypeGetLength)(e);if(n<t)throw(0,c.NativeTypeError)(a.DERIVED_CONSTRUCTOR_CREATED_TYPEDARRAY_OBJECT_WHICH_WAS_TOO_SMALL_LENGTH)}if((0,s.isNativeBigIntTypedArray)(e))throw(0,c.NativeTypeError)(a.CANNOT_MIX_BIGINT_AND_OTHER_TYPES)}function p(e){const t=(0,c.WeakMapPrototypeGet)(l,e);if(void 0!==t){const e=(0,c.TypedArrayPrototypeGetBuffer)(t);if((0,u.IsDetachedBuffer)(e))throw(0,c.NativeTypeError)(a.ATTEMPTING_TO_ACCESS_DETACHED_ARRAYBUFFER);return t}const r=e.buffer;if((0,u.IsDetachedBuffer)(r))throw(0,c.NativeTypeError)(a.ATTEMPTING_TO_ACCESS_DETACHED_ARRAYBUFFER);const n=(0,c.ReflectConstruct)(v,[r,e.byteOffset,e.length],e.constructor);return(0,c.WeakMapPrototypeGet)(l,n)}function y(e){const t=(0,c.TypedArrayPrototypeGetLength)(e),r=[];for(let n=0;n<t;++n)r[n]=(0,o.convertToNumber)(e[n]);return r}const b=new c.NativeWeakSet;for(const e of(0,c.ReflectOwnKeys)(c.TypedArrayPrototype)){if(e===c.SymbolToStringTag)continue;const t=(0,c.ReflectGetOwnPropertyDescriptor)(c.TypedArrayPrototype,e);(0,c.ObjectHasOwn)(t,"get")&&"function"==typeof t.get&&(0,c.WeakSetPrototypeAdd)(b,t.get)}const m=(0,c.ObjectFreeze)({get:(e,t,r)=>(0,s.isCanonicalIntegerIndexString)(t)&&(0,c.ObjectHasOwn)(e,t)?(0,o.convertToNumber)((0,c.ReflectGet)(e,t)):(0,c.WeakSetPrototypeHas)(b,(0,c.ObjectPrototype__lookupGetter__)(e,t))?(0,c.ReflectGet)(e,t):(0,c.ReflectGet)(e,t,r),set:(e,t,r,n)=>(0,s.isCanonicalIntegerIndexString)(t)&&(0,c.ObjectHasOwn)(e,t)?(0,c.ReflectSet)(e,t,(0,o.roundToFloat16Bits)(r)):(0,c.ReflectSet)(e,t,r,n),getOwnPropertyDescriptor(e,t){if((0,s.isCanonicalIntegerIndexString)(t)&&(0,c.ObjectHasOwn)(e,t)){const r=(0,c.ReflectGetOwnPropertyDescriptor)(e,t);return r.value=(0,o.convertToNumber)(r.value),r}return(0,c.ReflectGetOwnPropertyDescriptor)(e,t)},defineProperty:(e,t,r)=>(0,s.isCanonicalIntegerIndexString)(t)&&(0,c.ObjectHasOwn)(e,t)&&(0,c.ObjectHasOwn)(r,"value")?(r.value=(0,o.roundToFloat16Bits)(r.value),(0,c.ReflectDefineProperty)(e,t,r)):(0,c.ReflectDefineProperty)(e,t,r)});class v{constructor(e,t,r){let n;if(f(e))n=(0,c.ReflectConstruct)(c.NativeUint16Array,[p(e)],new.target);else if((0,s.isObject)(e)&&!(0,s.isAnyArrayBuffer)(e)){let t,r;if((0,s.isNativeTypedArray)(e)){t=e,r=(0,c.TypedArrayPrototypeGetLength)(e);const i=(0,c.TypedArrayPrototypeGetBuffer)(e);if((0,u.IsDetachedBuffer)(i))throw(0,c.NativeTypeError)(a.ATTEMPTING_TO_ACCESS_DETACHED_ARRAYBUFFER);if((0,s.isNativeBigIntTypedArray)(e))throw(0,c.NativeTypeError)(a.CANNOT_MIX_BIGINT_AND_OTHER_TYPES);const o=new c.NativeArrayBuffer(2*r);n=(0,c.ReflectConstruct)(c.NativeUint16Array,[o],new.target)}else{const i=e[c.SymbolIterator];if(null!=i&&"function"!=typeof i)throw(0,c.NativeTypeError)(a.ITERATOR_PROPERTY_IS_NOT_CALLABLE);null!=i?(0,s.isOrdinaryArray)(e)?(t=e,r=e.length):(t=[...e],r=t.length):(t=e,r=(0,u.ToLength)(t.length)),n=(0,c.ReflectConstruct)(c.NativeUint16Array,[r],new.target)}for(let e=0;e<r;++e)n[e]=(0,o.roundToFloat16Bits)(t[e])}else n=(0,c.ReflectConstruct)(c.NativeUint16Array,arguments,new.target);const i=new c.NativeProxy(n,m);return(0,c.WeakMapPrototypeSet)(l,i,n),i}static from(e,...t){const r=this;if(!(0,c.ReflectHas)(r,i.brand))throw(0,c.NativeTypeError)(a.THIS_CONSTRUCTOR_IS_NOT_A_SUBCLASS_OF_FLOAT16ARRAY);if(r===v){if(f(e)&&0===t.length){const t=p(e),r=new c.NativeUint16Array((0,c.TypedArrayPrototypeGetBuffer)(t),(0,c.TypedArrayPrototypeGetByteOffset)(t),(0,c.TypedArrayPrototypeGetLength)(t));return new v((0,c.TypedArrayPrototypeGetBuffer)((0,c.TypedArrayPrototypeSlice)(r)))}if(0===t.length)return new v((0,c.TypedArrayPrototypeGetBuffer)((0,c.Uint16ArrayFrom)(e,o.roundToFloat16Bits)));const r=t[0],i=t[1];return new v((0,c.TypedArrayPrototypeGetBuffer)((0,c.Uint16ArrayFrom)(e,(function(e,...t){return(0,o.roundToFloat16Bits)((0,c.ReflectApply)(r,this,[e,...(0,n.safeIfNeeded)(t)]))}),i)))}let l,h;const d=e[c.SymbolIterator];if(null!=d&&"function"!=typeof d)throw(0,c.NativeTypeError)(a.ITERATOR_PROPERTY_IS_NOT_CALLABLE);if(null!=d)(0,s.isOrdinaryArray)(e)?(l=e,h=e.length):(0,s.isOrdinaryNativeTypedArray)(e)?(l=e,h=(0,c.TypedArrayPrototypeGetLength)(e)):(l=[...e],h=l.length);else{if(null==e)throw(0,c.NativeTypeError)(a.CANNOT_CONVERT_UNDEFINED_OR_NULL_TO_OBJECT);l=(0,c.NativeObject)(e),h=(0,u.ToLength)(l.length)}const y=new r(h);if(0===t.length)for(let e=0;e<h;++e)y[e]=l[e];else{const e=t[0],r=t[1];for(let t=0;t<h;++t)y[t]=(0,c.ReflectApply)(e,r,[l[t],t])}return y}static of(...e){const t=this;if(!(0,c.ReflectHas)(t,i.brand))throw(0,c.NativeTypeError)(a.THIS_CONSTRUCTOR_IS_NOT_A_SUBCLASS_OF_FLOAT16ARRAY);const r=e.length;if(t===v){const t=new v(r),n=p(t);for(let t=0;t<r;++t)n[t]=(0,o.roundToFloat16Bits)(e[t]);return t}const n=new t(r);for(let t=0;t<r;++t)n[t]=e[t];return n}keys(){h(this);const e=p(this);return(0,c.TypedArrayPrototypeKeys)(e)}values(){h(this);const e=p(this);return(0,n.wrap)(function*(){for(const t of(0,c.TypedArrayPrototypeValues)(e))yield(0,o.convertToNumber)(t)}())}entries(){h(this);const e=p(this);return(0,n.wrap)(function*(){for(const[t,r]of(0,c.TypedArrayPrototypeEntries)(e))yield[t,(0,o.convertToNumber)(r)]}())}at(e){h(this);const t=p(this),r=(0,c.TypedArrayPrototypeGetLength)(t),n=(0,u.ToIntegerOrInfinity)(e),i=n>=0?n:r+n;if(!(i<0||i>=r))return(0,o.convertToNumber)(t[i])}with(e,t){h(this);const r=p(this),n=(0,c.TypedArrayPrototypeGetLength)(r),i=(0,u.ToIntegerOrInfinity)(e),s=i>=0?i:n+i,l=+t;if(s<0||s>=n)throw(0,c.NativeRangeError)(a.OFFSET_IS_OUT_OF_BOUNDS);const f=new c.NativeUint16Array((0,c.TypedArrayPrototypeGetBuffer)(r),(0,c.TypedArrayPrototypeGetByteOffset)(r),(0,c.TypedArrayPrototypeGetLength)(r)),d=new v((0,c.TypedArrayPrototypeGetBuffer)((0,c.TypedArrayPrototypeSlice)(f)));return p(d)[s]=(0,o.roundToFloat16Bits)(l),d}map(e,...t){h(this);const r=p(this),n=(0,c.TypedArrayPrototypeGetLength)(r),i=t[0],s=(0,u.SpeciesConstructor)(r,v);if(s===v){const t=new v(n),s=p(t);for(let t=0;t<n;++t){const n=(0,o.convertToNumber)(r[t]);s[t]=(0,o.roundToFloat16Bits)((0,c.ReflectApply)(e,i,[n,t,this]))}return t}const a=new s(n);d(a,n);for(let t=0;t<n;++t){const n=(0,o.convertToNumber)(r[t]);a[t]=(0,c.ReflectApply)(e,i,[n,t,this])}return a}filter(e,...t){h(this);const r=p(this),n=(0,c.TypedArrayPrototypeGetLength)(r),i=t[0],s=[];for(let t=0;t<n;++t){const n=(0,o.convertToNumber)(r[t]);(0,c.ReflectApply)(e,i,[n,t,this])&&(0,c.ArrayPrototypePush)(s,n)}const a=new((0,u.SpeciesConstructor)(r,v))(s);return d(a),a}reduce(e,...t){h(this);const r=p(this),n=(0,c.TypedArrayPrototypeGetLength)(r);if(0===n&&0===t.length)throw(0,c.NativeTypeError)(a.REDUCE_OF_EMPTY_ARRAY_WITH_NO_INITIAL_VALUE);let i,s;0===t.length?(i=(0,o.convertToNumber)(r[0]),s=1):(i=t[0],s=0);for(let t=s;t<n;++t)i=e(i,(0,o.convertToNumber)(r[t]),t,this);return i}reduceRight(e,...t){h(this);const r=p(this),n=(0,c.TypedArrayPrototypeGetLength)(r);if(0===n&&0===t.length)throw(0,c.NativeTypeError)(a.REDUCE_OF_EMPTY_ARRAY_WITH_NO_INITIAL_VALUE);let i,s;0===t.length?(i=(0,o.convertToNumber)(r[n-1]),s=n-2):(i=t[0],s=n-1);for(let t=s;t>=0;--t)i=e(i,(0,o.convertToNumber)(r[t]),t,this);return i}forEach(e,...t){h(this);const r=p(this),n=(0,c.TypedArrayPrototypeGetLength)(r),i=t[0];for(let t=0;t<n;++t)(0,c.ReflectApply)(e,i,[(0,o.convertToNumber)(r[t]),t,this])}find(e,...t){h(this);const r=p(this),n=(0,c.TypedArrayPrototypeGetLength)(r),i=t[0];for(let t=0;t<n;++t){const n=(0,o.convertToNumber)(r[t]);if((0,c.ReflectApply)(e,i,[n,t,this]))return n}}findIndex(e,...t){h(this);const r=p(this),n=(0,c.TypedArrayPrototypeGetLength)(r),i=t[0];for(let t=0;t<n;++t){const n=(0,o.convertToNumber)(r[t]);if((0,c.ReflectApply)(e,i,[n,t,this]))return t}return-1}findLast(e,...t){h(this);const r=p(this),n=(0,c.TypedArrayPrototypeGetLength)(r),i=t[0];for(let t=n-1;t>=0;--t){const n=(0,o.convertToNumber)(r[t]);if((0,c.ReflectApply)(e,i,[n,t,this]))return n}}findLastIndex(e,...t){h(this);const r=p(this),n=(0,c.TypedArrayPrototypeGetLength)(r),i=t[0];for(let t=n-1;t>=0;--t){const n=(0,o.convertToNumber)(r[t]);if((0,c.ReflectApply)(e,i,[n,t,this]))return t}return-1}every(e,...t){h(this);const r=p(this),n=(0,c.TypedArrayPrototypeGetLength)(r),i=t[0];for(let t=0;t<n;++t)if(!(0,c.ReflectApply)(e,i,[(0,o.convertToNumber)(r[t]),t,this]))return!1;return!0}some(e,...t){h(this);const r=p(this),n=(0,c.TypedArrayPrototypeGetLength)(r),i=t[0];for(let t=0;t<n;++t)if((0,c.ReflectApply)(e,i,[(0,o.convertToNumber)(r[t]),t,this]))return!0;return!1}set(e,...t){h(this);const r=p(this),n=(0,u.ToIntegerOrInfinity)(t[0]);if(n<0)throw(0,c.NativeRangeError)(a.OFFSET_IS_OUT_OF_BOUNDS);if(null==e)throw(0,c.NativeTypeError)(a.CANNOT_CONVERT_UNDEFINED_OR_NULL_TO_OBJECT);if((0,s.isNativeBigIntTypedArray)(e))throw(0,c.NativeTypeError)(a.CANNOT_MIX_BIGINT_AND_OTHER_TYPES);if(f(e))return(0,c.TypedArrayPrototypeSet)(p(this),p(e),n);if((0,s.isNativeTypedArray)(e)){const t=(0,c.TypedArrayPrototypeGetBuffer)(e);if((0,u.IsDetachedBuffer)(t))throw(0,c.NativeTypeError)(a.ATTEMPTING_TO_ACCESS_DETACHED_ARRAYBUFFER)}const i=(0,c.TypedArrayPrototypeGetLength)(r),l=(0,c.NativeObject)(e),d=(0,u.ToLength)(l.length);if(n===1/0||d+n>i)throw(0,c.NativeRangeError)(a.OFFSET_IS_OUT_OF_BOUNDS);for(let e=0;e<d;++e)r[e+n]=(0,o.roundToFloat16Bits)(l[e])}reverse(){h(this);const e=p(this);return(0,c.TypedArrayPrototypeReverse)(e),this}toReversed(){h(this);const e=p(this),t=new c.NativeUint16Array((0,c.TypedArrayPrototypeGetBuffer)(e),(0,c.TypedArrayPrototypeGetByteOffset)(e),(0,c.TypedArrayPrototypeGetLength)(e)),r=new v((0,c.TypedArrayPrototypeGetBuffer)((0,c.TypedArrayPrototypeSlice)(t))),n=p(r);return(0,c.TypedArrayPrototypeReverse)(n),r}fill(e,...t){h(this);const r=p(this);return(0,c.TypedArrayPrototypeFill)(r,(0,o.roundToFloat16Bits)(e),...(0,n.safeIfNeeded)(t)),this}copyWithin(e,t,...r){h(this);const i=p(this);return(0,c.TypedArrayPrototypeCopyWithin)(i,e,t,...(0,n.safeIfNeeded)(r)),this}sort(e){h(this);const t=p(this),r=void 0!==e?e:u.defaultCompare;return(0,c.TypedArrayPrototypeSort)(t,((e,t)=>r((0,o.convertToNumber)(e),(0,o.convertToNumber)(t)))),this}toSorted(e){h(this);const t=p(this);if(void 0!==e&&"function"!=typeof e)throw new c.NativeTypeError(a.THE_COMPARISON_FUNCTION_MUST_BE_EITHER_A_FUNCTION_OR_UNDEFINED);const r=void 0!==e?e:u.defaultCompare,n=new c.NativeUint16Array((0,c.TypedArrayPrototypeGetBuffer)(t),(0,c.TypedArrayPrototypeGetByteOffset)(t),(0,c.TypedArrayPrototypeGetLength)(t)),i=new v((0,c.TypedArrayPrototypeGetBuffer)((0,c.TypedArrayPrototypeSlice)(n))),s=p(i);return(0,c.TypedArrayPrototypeSort)(s,((e,t)=>r((0,o.convertToNumber)(e),(0,o.convertToNumber)(t)))),i}slice(e,t){h(this);const r=p(this),n=(0,u.SpeciesConstructor)(r,v);if(n===v){const n=new c.NativeUint16Array((0,c.TypedArrayPrototypeGetBuffer)(r),(0,c.TypedArrayPrototypeGetByteOffset)(r),(0,c.TypedArrayPrototypeGetLength)(r));return new v((0,c.TypedArrayPrototypeGetBuffer)((0,c.TypedArrayPrototypeSlice)(n,e,t)))}const i=(0,c.TypedArrayPrototypeGetLength)(r),s=(0,u.ToIntegerOrInfinity)(e),l=void 0===t?i:(0,u.ToIntegerOrInfinity)(t);let f,y;f=s===-1/0?0:s<0?i+s>0?i+s:0:i<s?i:s,y=l===-1/0?0:l<0?i+l>0?i+l:0:i<l?i:l;const b=y-f>0?y-f:0,m=new n(b);if(d(m,b),0===b)return m;const g=(0,c.TypedArrayPrototypeGetBuffer)(r);if((0,u.IsDetachedBuffer)(g))throw(0,c.NativeTypeError)(a.ATTEMPTING_TO_ACCESS_DETACHED_ARRAYBUFFER);let w=0;for(;f<y;)m[w]=(0,o.convertToNumber)(r[f]),++f,++w;return m}subarray(e,t){h(this);const r=p(this),n=(0,u.SpeciesConstructor)(r,v),i=new c.NativeUint16Array((0,c.TypedArrayPrototypeGetBuffer)(r),(0,c.TypedArrayPrototypeGetByteOffset)(r),(0,c.TypedArrayPrototypeGetLength)(r)),o=(0,c.TypedArrayPrototypeSubarray)(i,e,t),s=new n((0,c.TypedArrayPrototypeGetBuffer)(o),(0,c.TypedArrayPrototypeGetByteOffset)(o),(0,c.TypedArrayPrototypeGetLength)(o));return d(s),s}indexOf(e,...t){h(this);const r=p(this),n=(0,c.TypedArrayPrototypeGetLength)(r);let i=(0,u.ToIntegerOrInfinity)(t[0]);if(i===1/0)return-1;i<0&&(i+=n,i<0&&(i=0));for(let t=i;t<n;++t)if((0,c.ObjectHasOwn)(r,t)&&(0,o.convertToNumber)(r[t])===e)return t;return-1}lastIndexOf(e,...t){h(this);const r=p(this),n=(0,c.TypedArrayPrototypeGetLength)(r);let i=t.length>=1?(0,u.ToIntegerOrInfinity)(t[0]):n-1;if(i===-1/0)return-1;i>=0?i=i<n-1?i:n-1:i+=n;for(let t=i;t>=0;--t)if((0,c.ObjectHasOwn)(r,t)&&(0,o.convertToNumber)(r[t])===e)return t;return-1}includes(e,...t){h(this);const r=p(this),n=(0,c.TypedArrayPrototypeGetLength)(r);let i=(0,u.ToIntegerOrInfinity)(t[0]);if(i===1/0)return!1;i<0&&(i+=n,i<0&&(i=0));const s=(0,c.NumberIsNaN)(e);for(let t=i;t<n;++t){const n=(0,o.convertToNumber)(r[t]);if(s&&(0,c.NumberIsNaN)(n))return!0;if(n===e)return!0}return!1}join(e){h(this);const t=y(p(this));return(0,c.ArrayPrototypeJoin)(t,e)}toLocaleString(...e){h(this);const t=y(p(this));return(0,c.ArrayPrototypeToLocaleString)(t,...(0,n.safeIfNeeded)(e))}get[c.SymbolToStringTag](){if(f(this))return"Float16Array"}}t.Float16Array=v,(0,c.ObjectDefineProperty)(v,"BYTES_PER_ELEMENT",{value:2}),(0,c.ObjectDefineProperty)(v,i.brand,{}),(0,c.ReflectSetPrototypeOf)(v,c.TypedArray);const g=v.prototype;(0,c.ObjectDefineProperty)(g,"BYTES_PER_ELEMENT",{value:2}),(0,c.ObjectDefineProperty)(g,c.SymbolIterator,{value:g.values,writable:!0,configurable:!0}),(0,c.ReflectSetPrototypeOf)(g,c.TypedArrayPrototype)},55908:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.safeIfNeeded=function(e){if(e[n.SymbolIterator]===n.NativeArrayPrototypeSymbolIterator&&n.ArrayIteratorPrototype.next===n.ArrayIteratorPrototypeNext)return e;const t=(0,n.ObjectCreate)(o);return(0,n.WeakMapPrototypeSet)(i,t,(0,n.ArrayPrototypeSymbolIterator)(e)),t},t.wrap=function(e){const t=(0,n.ObjectCreate)(a);return(0,n.WeakMapPrototypeSet)(s,t,e),t};var n=r(29933);const i=new n.NativeWeakMap,o=(0,n.ObjectCreate)(null,{next:{value:function(){const e=(0,n.WeakMapPrototypeGet)(i,this);return(0,n.ArrayIteratorPrototypeNext)(e)}},[n.SymbolIterator]:{value:function(){return this}}}),s=new n.NativeWeakMap,a=(0,n.ObjectCreate)(n.IteratorPrototype,{next:{value:function(){const e=(0,n.WeakMapPrototypeGet)(s,this);return(0,n.GeneratorPrototypeNext)(e)},writable:!0,configurable:!0}});for(const e of(0,n.ReflectOwnKeys)(n.ArrayIteratorPrototype))"next"!==e&&(0,n.ObjectDefineProperty)(a,e,(0,n.ReflectGetOwnPropertyDescriptor)(n.ArrayIteratorPrototype,e))},51354:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.hasFloat16ArrayBrand=function(e){if(!(0,n.isObjectLike)(e))return!1;const t=(0,o.ReflectGetPrototypeOf)(e);if(!(0,n.isObjectLike)(t))return!1;const r=t.constructor;if(void 0===r)return!1;if(!(0,n.isObject)(r))throw(0,o.NativeTypeError)(i.THE_CONSTRUCTOR_PROPERTY_VALUE_IS_NOT_AN_OBJECT);return(0,o.ReflectHas)(r,s)};var n=r(82647),i=r(22231),o=r(29933);const s=t.brand=(0,o.SymbolFor)("__Float16Array__")},97421:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.convertToNumber=function(e){const t=e>>10;return d[0]=b[v[t]+(1023&e)]+m[t],h[0]},t.roundToFloat16=l,t.roundToFloat16Bits=function(e){h[0]=l(e);const t=d[0],r=t>>23&511;return p[r]+((8388607&t)>>y[r])};var n=r(29933);const i=1/n.EPSILON,o=6103515625e-14,s=65504,a=.0009765625,c=a*o,u=a*i;function l(e){const t=+e;if(!(0,n.NumberIsFinite)(t)||0===t)return t;const r=t>0?1:-1,a=(0,n.MathAbs)(t);if(a<o)return r*function(e){return e+i-i}(a/c)*c;const l=(1+u)*a,f=l-(l-a);return f>s||(0,n.NumberIsNaN)(f)?r*(1/0):r*f}const f=new n.NativeArrayBuffer(4),h=new n.NativeFloat32Array(f),d=new n.NativeUint32Array(f),p=new n.NativeUint16Array(512),y=new n.NativeUint8Array(512);for(let e=0;e<256;++e){const t=e-127;t<-27?(p[e]=0,p[256|e]=32768,y[e]=24,y[256|e]=24):t<-14?(p[e]=1024>>-t-14,p[256|e]=1024>>-t-14|32768,y[e]=-t-1,y[256|e]=-t-1):t<=15?(p[e]=t+15<<10,p[256|e]=t+15<<10|32768,y[e]=13,y[256|e]=13):t<128?(p[e]=31744,p[256|e]=64512,y[e]=24,y[256|e]=24):(p[e]=31744,p[256|e]=64512,y[e]=13,y[256|e]=13)}const b=new n.NativeUint32Array(2048);for(let e=1;e<1024;++e){let t=e<<13,r=0;for(;!(8388608&t);)t<<=1,r-=8388608;t&=-8388609,r+=947912704,b[e]=t|r}for(let e=1024;e<2048;++e)b[e]=939524096+(e-1024<<13);const m=new n.NativeUint32Array(64);for(let e=1;e<31;++e)m[e]=e<<23;m[31]=1199570944,m[32]=2147483648;for(let e=33;e<63;++e)m[e]=2147483648+(e-32<<23);m[63]=3347054592;const v=new n.NativeUint16Array(64);for(let e=1;e<64;++e)32!==e&&(v[e]=1024)},82647:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isAnyArrayBuffer=function(e){return function(e){try{return!(0,n.ArrayIsArray)(e)&&((0,n.ArrayBufferPrototypeGetByteLength)(e),!0)}catch(e){return!1}}(e)||o(e)},t.isCanonicalIntegerIndexString=function(e){if("string"!=typeof e)return!1;const t=+e;return e===t+""&&(!!(0,n.NumberIsFinite)(t)&&t===(0,n.MathTrunc)(t))},t.isNativeBigIntTypedArray=function(e){const t=(0,n.TypedArrayPrototypeGetSymbolToStringTag)(e);return"BigInt64Array"===t||"BigUint64Array"===t},t.isNativeTypedArray=i,t.isObject=function(e){return null!==e&&"object"==typeof e||"function"==typeof e},t.isObjectLike=function(e){return null!==e&&"object"==typeof e},t.isOrdinaryArray=function(e){return!!(0,n.ArrayIsArray)(e)&&(e[n.SymbolIterator]===n.NativeArrayPrototypeSymbolIterator&&n.ArrayIteratorPrototype.next===n.ArrayIteratorPrototypeNext)},t.isOrdinaryNativeTypedArray=function(e){return!!i(e)&&(e[n.SymbolIterator]===n.NativeTypedArrayPrototypeSymbolIterator&&n.ArrayIteratorPrototype.next===n.ArrayIteratorPrototypeNext)},t.isSharedArrayBuffer=o;var n=r(29933);function i(e){return void 0!==(0,n.TypedArrayPrototypeGetSymbolToStringTag)(e)}function o(e){if(null===n.NativeSharedArrayBuffer)return!1;try{return(0,n.SharedArrayBufferPrototypeGetByteLength)(e),!0}catch(e){return!1}}},22231:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.THIS_IS_NOT_AN_OBJECT="This is not an object",t.THIS_IS_NOT_A_FLOAT16ARRAY_OBJECT="This is not a Float16Array object",t.THIS_CONSTRUCTOR_IS_NOT_A_SUBCLASS_OF_FLOAT16ARRAY="This constructor is not a subclass of Float16Array",t.THE_CONSTRUCTOR_PROPERTY_VALUE_IS_NOT_AN_OBJECT="The constructor property value is not an object",t.SPECIES_CONSTRUCTOR_DIDNT_RETURN_TYPEDARRAY_OBJECT="Species constructor didn't return TypedArray object",t.DERIVED_CONSTRUCTOR_CREATED_TYPEDARRAY_OBJECT_WHICH_WAS_TOO_SMALL_LENGTH="Derived constructor created TypedArray object which was too small length",t.ATTEMPTING_TO_ACCESS_DETACHED_ARRAYBUFFER="Attempting to access detached ArrayBuffer",t.CANNOT_CONVERT_UNDEFINED_OR_NULL_TO_OBJECT="Cannot convert undefined or null to object",t.CANNOT_MIX_BIGINT_AND_OTHER_TYPES="Cannot mix BigInt and other types, use explicit conversions",t.ITERATOR_PROPERTY_IS_NOT_CALLABLE="@@iterator property is not callable",t.REDUCE_OF_EMPTY_ARRAY_WITH_NO_INITIAL_VALUE="Reduce of empty array with no initial value",t.THE_COMPARISON_FUNCTION_MUST_BE_EITHER_A_FUNCTION_OR_UNDEFINED="The comparison function must be either a function or undefined",t.OFFSET_IS_OUT_OF_BOUNDS="Offset is out of bounds"},29933:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});var n=r(22231);function i(e){return(t,...r)=>s(e,t,r)}function o(e,t){return i(l(e,t).get)}const{apply:s,construct:a,defineProperty:c,get:u,getOwnPropertyDescriptor:l,getPrototypeOf:f,has:h,ownKeys:d,set:p,setPrototypeOf:y}=Reflect;t.ReflectSetPrototypeOf=y,t.ReflectSet=p,t.ReflectOwnKeys=d,t.ReflectHas=h,t.ReflectGetPrototypeOf=f,t.ReflectGetOwnPropertyDescriptor=l,t.ReflectGet=u,t.ReflectDefineProperty=c,t.ReflectConstruct=a,t.ReflectApply=s,t.NativeProxy=Proxy;const{EPSILON:b,MAX_SAFE_INTEGER:m,isFinite:v,isNaN:g}=Number;t.NumberIsNaN=g,t.NumberIsFinite=v,t.MAX_SAFE_INTEGER=m,t.EPSILON=b;const{iterator:w,species:_,toStringTag:S,for:E}=Symbol;t.SymbolFor=E,t.SymbolToStringTag=S,t.SymbolSpecies=_,t.SymbolIterator=w;const T=t.NativeObject=Object,{create:O,defineProperty:x,freeze:A,is:M}=T;t.ObjectIs=M,t.ObjectFreeze=A,t.ObjectDefineProperty=x,t.ObjectCreate=O;const P=T.prototype,I=(t.ObjectPrototype__lookupGetter__=P.__lookupGetter__?i(P.__lookupGetter__):(e,t)=>{if(null==e)throw V(n.CANNOT_CONVERT_UNDEFINED_OR_NULL_TO_OBJECT);let r=T(e);do{const e=l(r,t);if(void 0!==e)return I(e,"get")?e.get:void 0}while(null!==(r=f(r)))},t.ObjectHasOwn=T.hasOwn||i(P.hasOwnProperty)),j=Array,R=(t.ArrayIsArray=j.isArray,j.prototype),k=(t.ArrayPrototypeJoin=i(R.join),t.ArrayPrototypePush=i(R.push),t.ArrayPrototypeToLocaleString=i(R.toLocaleString),t.NativeArrayPrototypeSymbolIterator=R[w]),{abs:C,trunc:$}=(t.ArrayPrototypeSymbolIterator=i(k),Math);t.MathTrunc=$,t.MathAbs=C;const N=t.NativeArrayBuffer=ArrayBuffer,L=(t.ArrayBufferIsView=N.isView,N.prototype),B=(t.ArrayBufferPrototypeSlice=i(L.slice),t.ArrayBufferPrototypeGetByteLength=o(L,"byteLength"),t.NativeSharedArrayBuffer="undefined"!=typeof SharedArrayBuffer?SharedArrayBuffer:null),D=(t.SharedArrayBufferPrototypeGetByteLength=B&&o(B.prototype,"byteLength"),t.TypedArray=f(Uint8Array)),F=D.from,U=t.TypedArrayPrototype=D.prototype,q=(t.NativeTypedArrayPrototypeSymbolIterator=U[w],t.TypedArrayPrototypeKeys=i(U.keys),t.TypedArrayPrototypeValues=i(U.values),t.TypedArrayPrototypeEntries=i(U.entries),t.TypedArrayPrototypeSet=i(U.set),t.TypedArrayPrototypeReverse=i(U.reverse),t.TypedArrayPrototypeFill=i(U.fill),t.TypedArrayPrototypeCopyWithin=i(U.copyWithin),t.TypedArrayPrototypeSort=i(U.sort),t.TypedArrayPrototypeSlice=i(U.slice),t.TypedArrayPrototypeSubarray=i(U.subarray),t.TypedArrayPrototypeGetBuffer=o(U,"buffer"),t.TypedArrayPrototypeGetByteOffset=o(U,"byteOffset"),t.TypedArrayPrototypeGetLength=o(U,"length"),t.TypedArrayPrototypeGetSymbolToStringTag=o(U,S),t.NativeUint8Array=Uint8Array,t.NativeUint16Array=Uint16Array);t.Uint16ArrayFrom=(...e)=>s(F,q,e),t.NativeUint32Array=Uint32Array,t.NativeFloat32Array=Float32Array;const W=t.ArrayIteratorPrototype=f([][w]()),z=(t.ArrayIteratorPrototypeNext=i(W.next),t.GeneratorPrototypeNext=i(function*(){}().next),t.IteratorPrototype=f(W),DataView.prototype),V=(t.DataViewPrototypeGetUint16=i(z.getUint16),t.DataViewPrototypeSetUint16=i(z.setUint16),t.NativeTypeError=TypeError),H=(t.NativeRangeError=RangeError,(t.NativeWeakSet=WeakSet).prototype),G=(t.WeakSetPrototypeAdd=i(H.add),t.WeakSetPrototypeHas=i(H.has),(t.NativeWeakMap=WeakMap).prototype);t.WeakMapPrototypeGet=i(G.get),t.WeakMapPrototypeHas=i(G.has),t.WeakMapPrototypeSet=i(G.set)},29010:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.IsDetachedBuffer=function(e){if((0,n.isSharedArrayBuffer)(e))return!1;try{return(0,o.ArrayBufferPrototypeSlice)(e,0,0),!1}catch(e){}return!0},t.SpeciesConstructor=function(e,t){if(!(0,n.isObject)(e))throw(0,o.NativeTypeError)(i.THIS_IS_NOT_AN_OBJECT);const r=e.constructor;if(void 0===r)return t;if(!(0,n.isObject)(r))throw(0,o.NativeTypeError)(i.THE_CONSTRUCTOR_PROPERTY_VALUE_IS_NOT_AN_OBJECT);const s=r[o.SymbolSpecies];return null==s?t:s},t.ToIntegerOrInfinity=s,t.ToLength=function(e){const t=s(e);return t<0?0:t<o.MAX_SAFE_INTEGER?t:o.MAX_SAFE_INTEGER},t.defaultCompare=function(e,t){const r=(0,o.NumberIsNaN)(e),n=(0,o.NumberIsNaN)(t);if(r&&n)return 0;if(r)return 1;if(n)return-1;if(e<t)return-1;if(e>t)return 1;if(0===e&&0===t){const r=(0,o.ObjectIs)(e,0),n=(0,o.ObjectIs)(t,0);if(!r&&n)return-1;if(r&&!n)return 1}return 0};var n=r(82647),i=r(22231),o=r(29933);function s(e){const t=+e;return(0,o.NumberIsNaN)(t)||0===t?0:(0,o.MathTrunc)(t)}},93996:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.f16round=function(e){return(0,n.roundToFloat16)(e)};var n=r(97421)},72651:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});var n=r(43875);t.Float16Array=n.Float16Array,t.isFloat16Array=n.isFloat16Array;var i=r(25630);t.isTypedArray=i.isTypedArray;var o=r(92466);t.getFloat16=o.getFloat16,t.setFloat16=o.setFloat16;var s=r(93996);t.f16round=s.f16round,t.hfround=s.f16round},25630:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isTypedArray=function(e){return(0,i.isNativeTypedArray)(e)||(0,n.isFloat16Array)(e)};var n=r(43875),i=r(82647)},14834:(e,t,r)=>{var n=r(69501),i="undefined"==typeof globalThis?r.g:globalThis;e.exports=function(){for(var e=[],t=0;t<n.length;t++)"function"==typeof i[n[t]]&&(e[e.length]=n[t]);return e}},58444:(e,t,r)=>{var n,i=r(1048).Buffer,o=Object.create,s=Object.defineProperty,a=Object.getOwnPropertyDescriptor,c=Object.getOwnPropertyNames,u=Object.getPrototypeOf,l=Object.prototype.hasOwnProperty,f=(e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let i of c(t))!l.call(e,i)&&i!==r&&s(e,i,{get:()=>t[i],enumerable:!(n=a(t,i))||n.enumerable});return e},h={};((e,t)=>{for(var r in t)s(e,r,{get:t[r],enumerable:!0})})(h,{BluetoothAdapter:()=>F,EddystoneHelpers:()=>X,HidAdapter:()=>Y,default:()=>ee}),e.exports=(n=h,f(s({},"__esModule",{value:!0}),n));var d=r(6808),p=r(64769),y=r(73286),b=r(79090),m=(r(57127),r(6808)),v=r(32489),g=r(50601),{debug:w}=(0,m.createLoggers)("binding-bluetooth","gatt-client"),_=class{bluetoothAdapter;subscriptions;constructor(e){w("created client"),this.bluetoothAdapter=e,this.subscriptions=new Map}toString(){return"[GattClient]"}async readResource(e){let t=this.deconstructForm(e),r=await this.bluetoothAdapter.getCharacteristic(t.deviceId,t.serviceId,t.characteristicId);w(`invoking "readValue" on characteristic ${t.characteristicId}`);let n,i=await r.readValue();n=e["bdo:signed"]?new Int8Array(i.buffer):new Uint8Array(i.buffer),w(`Received value: ${n}`);let o=g.Readable.from(n);return{type:e.contentType??"application/x.binary-data-stream",body:o,toBuffer:()=>m.ProtocolHelpers.readStreamFully(o)}}async writeResource(e,t){let r,n=this.deconstructForm(e);if(typeof t<"u"){let e=await t.toBuffer();r=e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength)}else r=new ArrayBuffer(1);let i=await this.bluetoothAdapter.getCharacteristic(n.deviceId,n.serviceId,n.characteristicId);switch(n.bleOperation){case"sbo:write-without-response":w(`invoking "writeValueWithoutResponse" on characteristic ${n.characteristicId}`),await i.writeValueWithoutResponse(r),w("writeValueWithoutResponse done");break;case"sbo:write":w(`invoking "writeValueWithResponse" on characteristic ${n.characteristicId}`),await i.writeValueWithResponse(r),w("writeValueWithResponse done");break;default:throw new Error(`unknown operation ${n["sbo:methodName"]}`)}}invokeResource(e,t){return this.writeResource(e,t).then((()=>Promise.resolve({type:"application/json",body:new g.Readable,toBuffer:async()=>i.from([])})))}unlinkResource(e){let t=this.subscriptions.get(e.href);return t&&t.unsubscribe(),Promise.resolve()}async subscribeResource(e,t,r){let{deviceId:n,serviceId:i,characteristicId:o,bleOperation:s}=this.deconstructForm(e);if("sbo:notify"!==s&&"sbo:subscribe"!==s)throw new Error(`operation ${s} is not supported`);w(`subscribing to characteristic with serviceId ${i} characteristicId ${o}`);let a=r=>{w(`Received "characteristicvaluechanged" event: ${r}`);let n,i=r.target.value;n=e["bdo:signed"]?new Int8Array(i.buffer):new Uint8Array(i.buffer);let o=g.Readable.from(n);t({type:e.contentType??"application/x.binary-data-stream",body:o,toBuffer:()=>m.ProtocolHelpers.readStreamFully(o)})},c=await this.bluetoothAdapter.getCharacteristic(n,i,o);c.addEventListener("characteristicvaluechanged",a),await c.startNotifications();let u=new v.Subscription((()=>{c.stopNotifications(),c.removeEventListener("characteristicvaluechanged",a)}));return this.subscriptions.set(e.href,u),u}async start(){}async stop(){w("Stopping client");for(let e of this.subscriptions.values())e.unsubscribe();this.subscriptions.clear()}setSecurity(){return!1}async requestThingDescription(e){throw new Error("BluetoothClient does not implement TD retrieval")}deconstructForm=function(e){let t={};t.path=e.href.split("://")[1];let r=t.path.split("/");if(3!==r.length){let e=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/,n=r[0];for(let i=1;i<r.length;i++)!1===e.test(r[i])?n=n+"/"+r[i]:(i===r.length-2&&(t.serviceId=r[i]),i===r.length-1&&(t.characteristicId=r[i]));t.deviceId=n}else t.deviceId=r[0],t.serviceId=r[1],t.characteristicId=r[2];return t.operation=e.op?.toString()??"",t.bleOperation=e["sbo:methodName"],t}},S=r(6808),E=((e,t,r)=>(r=null!=e?o(u(e)):{},f(s(r,"default",{value:e,enumerable:!0}),e)))(r(68492)),T=class{getMediaType(){return"application/x.binary-data-stream"}bytesToValue(e,t){let r,n,i=null;if(typeof t["bdo:pattern"]<"u"){let o=function(e,t){let r=e["bdo:pattern"],n=e["bdo:variables"],i=[],o=[],s=r.split("{");for(let e=0;e<s.length;e++){let t=s[e].split("}");0===e?i.push(t[0].length/2):(o.push(t[0]),i.push(t[1].length/2))}let a=[],c=0+i[0];for(let e=0;e<o.length;e++){let r=n[o[e]]["bdo:bytelength"];a.push(t.subarray(c,c+r)),c+=r+i[e+1]}return[o,a]}(t,e);r=o[0],n=o[1];let s=[];for(let e=0;e<r.length;e++){let o=t["bdo:variables"][r[e]],a=n[e];switch(o.type){case"integer":case"number":s.push(O(o,a));break;case"string":s.push(M(o,a));break;case"object":s.push(P(0,a));break;default:throw new Error("Datatype not supported by codec")}i=s}}else switch(t.type){case"integer":case"number":i=O(t,e);break;case"string":i=M(t,e);break;case"object":i=P(0,e);break;default:throw new Error(`Datatype ${t.type} not supported by codec`)}return i}valueToBytes(e,t){let r,n=i.alloc(1);if(typeof t["bdo:pattern"]<"u")r=function(e,t){let r,n;for([r,n]of Object.entries(e["bdo:variables"]))if("integer"===n.type){let e=x(n,t[r]);t[r]=e.toString("hex")}return E.parse(e["bdo:pattern"]).expand(t)}(t,e),n=A(t,r);else switch(t.type){case"number":case"integer":n=x(t,e);break;case"string":n=A(t,e);break;case"object":case"array":n=function(e,t){let r;return r=Array.isArray(t)&&t.every((e=>"number"==typeof e))?i.from(t):i.from(JSON.stringify(t)),r}(0,e)}if(typeof t["tst:function"]<"u"){let e=t["tst:function"];n=new Function("buf",e)(n)}return n}};function O(e,t){let r=e["bdo:bytelength"]??t.byteLength,n=e["bdo:signed"]??!1,i=e["bdo:byteOrder"]??"little",o=e["bdo:scale"]??1,s=e["bdo:offset"]??0,a=e["bdo:precision"]??2;if(typeof r>"u")throw new Error("Not all parameters are provided!");let c=0;return"little"===i?c=n?t.readIntLE(s,r):t.readUIntLE(s,r):"big"===i&&(c=n?t.readIntBE(s,r):t.readUIntBE(s,r)),c*=o,c=+(Math.round(+(c+"e+"+a))+"e-"+a),c}function x(e,t){let r=e["bdo:bytelength"],n=e["bdo:signed"]??!1,o=e["bdo:byteOrder"]??"little",s=e["bdo:scale"]??1,a=e["bdo:offset"]??0;if(typeof r>"u")throw new Error("Not all parameters are provided!");t*=s;let c=i.alloc(r);return"little"===o?n?c.writeIntLE(t,a,r):c.writeUIntLE(t,a,r):"big"===o&&(n?c.writeIntBE(t,a,r):c.writeUIntBE(t,a,r)),c}function A(e,t){let r;if(typeof e.format>"u")return r=i.from(t,"utf-8"),r;if("hex"===e.format)return r=i.from(t,"hex"),r;throw Error("String can not be converted to bytes, format not supported")}function M(e,t){let r;if(typeof e.format>"u"?r=t.toString("utf-8"):"hex"===e.format&&(r=t.toString("hex")),typeof r>"u")throw Error("String can not be converted to bytes, format not supported");return r}function P(e,t){let r=t.toString("utf-8");return JSON.parse(r)}var{debug:I}=(0,S.createLoggers)("binding-bluetooth","gatt-client-factory"),j=class{scheme="gatt";clients=new Set;contentSerdes=S.ContentSerdes.get();adapter;constructor(e){this.contentSerdes.addCodec(new T),this.adapter=e}getClient(){I(`Creating client for ${this.scheme}`);let e=new _(this.adapter);return this.clients.add(e),e}destroy(){return I(`stopping all clients for '${this.scheme}'`),this.clients.forEach((e=>e.stop())),!0}init=()=>!0},R=r(6808),k=r(6808),C=r(32489),$=r(50601),{debug:N}=(0,k.createLoggers)("binding-bluetooth","gap-client"),L=class{bluetoothAdapter;subscriptions;constructor(e){N("created client"),this.bluetoothAdapter=e,this.subscriptions=new Map}toString(){return"[GapClient]"}async readResource(e){throw new Error("Method not implemented.")}async writeResource(e,t){throw new Error("Method not implemented.")}async invokeResource(e,t){throw new Error("Method not implemented.")}async unlinkResource(e){throw new Error("Method not implemented.")}subscribeResource(e,t,r){let n=e.href.split("/")[2];return this.bluetoothAdapter.observeGAP(n,(async r=>{N(`Received GAP broadcast: ${r.target.manufacturerData[0].data}`);let n=r.target.manufacturerData[0].data;t({type:e.contentType??"application/x.binary-data-stream",body:$.Readable.from(n),toBuffer:()=>k.ProtocolHelpers.readStreamFully($.Readable.from(n))})})),Promise.resolve(new C.Subscription)}async requestThingDescription(e){throw new Error("BluetoothClient does not implement TD retrieval")}async start(){}async stop(){N("Stopping client");for(let e of this.subscriptions.values())e.unsubscribe();this.subscriptions.clear()}setSecurity(){return!1}},{debug:B}=(0,R.createLoggers)("binding-bluetooth","gap-client-factory"),D=class{scheme="gap";clients=new Set;contentSerdes=R.ContentSerdes.get();adapter;constructor(e){this.adapter=e}getClient(){B(`Creating client for ${this.scheme}`);let e=new L(this.adapter);return this.clients.add(e),e}destroy(){return B(`stopping all clients for '${this.scheme}'`),this.clients.forEach((e=>e.stop())),!0}init=()=>!0},F=class{},U=(r(57127),r(6808)),q=r(36446),W=r(50601),{debug:z}=(0,U.createLoggers)("binding-hid","hid-client"),V=class{hidAdapter;subscriptions;constructor(e){z("created client"),this.hidAdapter=e,this.subscriptions=new Map}toString(){return"[Hid Client]"}async readResource(e){let t=e["hid:path"],r=await this.hidAdapter.getDevice(t),n=e["hid:reportId"],i=e["hid:reportLength"];if(void 0===n)throw new Error("Report ID cannot be undefined");if(void 0===i)throw new Error("Report length cannot be undefined");let o,s=await r.receiveFeatureReport(n);o=e.signed?new Int8Array(s.buffer):new Uint8Array(s.buffer);let a=W.Readable.from(o);return{type:e.contentType||"application/octet-stream",body:a,toBuffer:()=>U.ProtocolHelpers.readStreamFully(a)}}async writeResource(e,t){let r,n=e["hid:path"],o=await this.hidAdapter.getDevice(n),s=e.href.split("://")[1].split("/")[0],a=await t.toBuffer();if(void 0!==e["hid:data"]){let t;r=e["hid:data"],t=e.signed?new Int8Array(a)[a.length-1]:new Uint8Array(a)[a.length-1],void 0!==e["hid:valueIndex"]&&(r[e["hid:valueIndex"]]=t)}else r=new Uint8Array(a);let c=e["hid:reportId"]||r[0];if(r=i.from(r),"sendFeatureReport"===s)z(`Sending feature report: ${c} ${r}`),await o.sendFeatureReport(c,r);else{if("sendReport"!==s)throw new Error(`Method ${s} is not supported`);z(`Sending report: ${c} ${r}`),await o.sendReport(c,i.from(r.subarray(1)))}}async invokeResource(e,t){return await this.writeResource(e,t),Promise.resolve(new U.Content(e.contentType??"application/octet-stream",W.Readable.from([])))}unlinkResource(e){let t=this.subscriptions.get(e["hid:path"]);return t&&t.unsubscribe(),Promise.resolve()}async subscribeResource(e,t,r,n){let i=e["hid:path"],o=await this.hidAdapter.getDevice(i);z(`Subscribing to device:  ${i}`);let s=r=>{let n;z(`Received "inputreport" event with report id: ${r.reportId} and data: ${r.data.buffer}`),n=e.signed?new Int8Array(r.data.buffer):new Uint8Array(r.data.buffer);let i=W.Readable.from(n),o=new U.Content(e.contentType||"application/x.binary-data-stream",i);t(o)};o.addEventListener("inputreport",s);let a=new q.Subscription((()=>{z("Removing 'inputreport' listener from device: ${id}"),o.removeEventListener("inputreport",s)}));return this.subscriptions.set(i,a),a}async start(){}async stop(){z("Stopping client");for(let e of this.subscriptions.values())e.unsubscribe();this.subscriptions.clear()}async requestThingDescription(e){throw new Error("HidClient does not implement TD retrieval")}setSecurity(){return!1}},H=r(6808),{debug:G}=(0,H.createLoggers)("binding-hid","hid-client-factory"),K=class{scheme="hid";clients=new Set;adapter;constructor(e){this.adapter=e}getClient(){G(`Creating client for ${this.scheme}`);let e=new V(this.adapter);return this.clients.add(e),e}destroy(){return G(`stopping all clients for '${this.scheme}'`),this.clients.forEach((e=>e.stop())),!0}init=()=>!0},Y=class{},J=function(e,t){let r=8*Math.pow(16,t-1),n=-1*Math.pow(16,t);return(parseInt(e,16)&r)>0?n+parseInt(e,16):parseInt(e,16)},X={EDDYSTONE_CONFIG_SERVICE:"a3c87500-8ed3-4bdf-8a39-a01bebede295",EDDYSTONE_CHARACTERISTICS:{"a3c87501-8ed3-4bdf-8a39-a01bebede295":"Capabilities","a3c87502-8ed3-4bdf-8a39-a01bebede295":"Active Slot","a3c87503-8ed3-4bdf-8a39-a01bebede295":"Advertising Interval","a3c87504-8ed3-4bdf-8a39-a01bebede295":"Radio Tx Power","a3c87505-8ed3-4bdf-8a39-a01bebede295":"Advertised Tx Power","a3c87506-8ed3-4bdf-8a39-a01bebede295":"Lock State","a3c87507-8ed3-4bdf-8a39-a01bebede295":"Unlock","a3c87508-8ed3-4bdf-8a39-a01bebede295":"Public ECDH Key","a3c87509-8ed3-4bdf-8a39-a01bebede295":"EID Identity Key","a3c8750a-8ed3-4bdf-8a39-a01bebede295":"Adv Slot Data","a3c8750b-8ed3-4bdf-8a39-a01bebede295":"Factory Reset"},parseCapabilities:function(e){let t=[];for(let r=0;r<e.length;r+=2)t.push(J(e.substring(r,r+2),2));let r=[];for(let e=6;e<t.length;e++){let n=r[r.length-1];if(n&&n>=t[e])break;r.push(t[e])}return{specVersion:t[0],maxSlots:t[1],maxEidPerSlot:t[2],isVarriableAdvIntervalSupported:!!(1&t[3]),isVariableTxPowerSupported:!!(2&t[3]),isUidSupported:!!(1&t[5]),isUrlSupported:!!(2&t[5]),isTlmSupported:!!(4&t[5]),isEidSupported:!!(8&t[5]),supportedTxPowerLevels:r}},decodeAdvertisingData:function(e){let t=[];for(let r=0;r<e.length;r+=2)t.push(parseInt(e.substring(r,r+2),16));let r,n=new Uint8Array(t).reduce(((e,t)=>e+("0"+t.toString(16)).slice(-2)),"");switch(n[0]+n[1]){case"00":return i=n,r={frameType:"UID",txPower:parseInt(i.substring(2,4),16),namespace:i.substring(4,24),instance:i.substring(24,36)},r.namespace+r.instance;case"10":return r=function(e){let t=parseInt(e.substring(2,4),16),r="";switch(e.substring(4,6)){case"00":r="http://www.";break;case"01":r="https://www.";break;case"02":r="http://";break;case"03":r="https://";break;default:throw new Error("Eddystone URL scheme is not valid.")}let n=[".com/",".org/",".edu/",".net/",".info/",".biz/",".gov/",".com",".org",".edu",".net",".info",".biz",".gov"],i=e.substring(6,e.length),o=r;for(let e=0;e<i.length;e+=2){let t=parseInt(i.substring(e,e+2),16);o+=t<n.length?n[t]:String.fromCharCode(t)}return{frameType:"URL",txPower:t,url:o}}(n),r.url;case"20":return r=function(e){return{frameType:"TLM",batteryVoltage:parseInt(e.substring(4,8),16),beaconTemperature:parseInt(e.substring(8,10),16)+parseInt(e.substring(10,12),16)/100,pduCount:parseInt(e.substring(12,20),16),timeSinceReboot:parseInt(e.substring(20,28),16)}}(n),r.beaconTemperature;case"30":throw new Error("EID frame type is not supported by blast.");default:throw new Error("Eddystone frame type is not valid.")}var i},encodeAdvertisingData:function(e,t){let r;switch(t){case"URL":case"UID":break;case"TLM":throw new Error("TLM frame type is not writable.");case"EID":throw new Error("EID frame type is not writable.");default:throw new Error('Unkown frame type. Known types are "UID", "URL", "TLM", or "EID".')}if("URL"===t)r=function(e){let t=["http://www.","https://www.","http://","https://"],r=[".com/",".org/",".edu/",".net/",".info/",".biz/",".gov/",".com",".org",".edu",".net",".info",".biz",".gov"],n=[],i=0,o=new TextEncoder;for(let r=0;r<t.length;r++)if(e.startsWith(t[r])){n.push(r),i=t[r].length;break}for(;i<e.length;){let t=i;for(let t=0;t<r.length;t++)if(e.startsWith(r[t],i)){n.push(t),i+=r[t].length;break}t===i&&(n.push(o.encode(e[i])[0]),i++)}if(n.length>18)throw new Error("URL is too long.");return n.splice(0,0,16),new Uint8Array(n)}(e);else{if(!/^[0-9A-Fa-f]{32}$/.test(e))throw new Error("Eddystone UID must be 32 hexadecimal characters.");r="00"+e}return r}},Z=r(50601),Q=r(31404),ee=class{servient;wot;constructor(e,t){let r={port:8083,allowSelfSigned:!0};if(this.servient=new d.Servient,e){let t=new e;t&&(this.servient.addClientFactory(new j(t)),this.servient.addClientFactory(new D(t)))}if(t){let e=new t;e&&this.servient.addClientFactory(new K(e))}this.servient.addClientFactory(new b.HttpClientFactory(r)),this.servient.addClientFactory(new b.HttpsClientFactory(r))}async getWot(){return this.wot||(this.wot=await this.servient.start()),this.wot}async resetServient(){if(this.servient){let e=this.servient.getThings();Object.entries(e).forEach((async([e])=>{let t=this.servient.getThing(e);t&&await t.destroy()}));try{await this.servient.shutdown()}catch{}}}async createExposedThing(e,t){if(t){let r={MacOrWebBluetoothId:t,HIDPATH:t};e=structuredClone(e),e=te(e,r)}return await(await this.getWot()).produce(e)}async createThing(e,t){let r=await this.createExposedThing(e,t);return await(await this.getWot()).consume(r.getThingDescription())}async createThingWithHandlers(e,t,r){let n=await this.createExposedThing(e,t);return r(n),re(n)}},te=function(e,t={}){let r=new y.JsonPlaceholderReplacer;return r.addVariableMap(t),r.replace(e)},re=function(e){let t={};return t.id=e.getThingDescription().id,t.name=e.getThingDescription().title,t.getThingDescription=e.getThingDescription,t.subscribeEvent=async function(t,r,n,i){let o=e.events[t];if(o){let t={op:"subscribeEvent"};o.forms=[t];let n=e=>{let n=new p.InteractionOutput(e);n.form=t,r(n)};return e.__eventListeners.register(o,0,n),{active:!0,stop:async t=>{e.__eventListeners.unregister(o,0,n)}}}throw new Error(`Event '${t}' not found`)},t.invokeAction=async function(t,r,n={}){e.actions[t].forms=[{op:"invokeAction"}];let i=new Z.Readable;r&&(i=ne(r));let o=e.actions[t].input?.type;if(!o)throw new Error(`Action '${t}' has no input type`);switch(o){case"string":case"boolean":case"number":o="text/plain";break;default:o="application/json"}let s=new d.Content(o,i),a=await e.handleInvokeAction(t,s,{formIndex:0,...n});return void 0===a&&(a=new d.Content(o,new Z.Readable)),new p.InteractionOutput(a)},t.readProperty=async function(t,r={}){let n=e.properties[t];if(!n)throw new Error(`Property '${t}' not found`);let i={op:"readProperty"};n.forms=[i];let o=await e.handleReadProperty(t,{formIndex:0,...r});return new p.InteractionOutput(o,i)},t.writeProperty=async function(t,r,n={}){let i=e.properties[t];if(!i)throw new Error(`Property '${t}' not found`);i.forms=[{op:"writeProperty"}];let o=new Z.Readable;r&&(o=ne(r));let s=e.properties[t].type;if(!s)throw new Error(`Property '${t}' has no type`);switch(s){case"string":case"boolean":case"number":s="text/plain";break;default:s="application/json"}let a=new d.Content(s,o);await e.handleWriteProperty(t,a,{formIndex:0,...n})},t},ne=function(e){let t;return t=typeof ReadableStream<"u"&&e instanceof ReadableStream||e instanceof Q.ReadableStream?d.ProtocolHelpers.toNodeStream(e):Array.isArray(e)||"object"==typeof e?Z.Readable.from(i.from(JSON.stringify(e),"utf-8")):Z.Readable.from(i.from(e.toString(),"utf-8")),t}},75567:(e,t,r)=>{function n(){}function i(e){return"object"==typeof e&&null!==e||"function"==typeof e}r.r(t),r.d(t,{ByteLengthQueuingStrategy:()=>qr,CountQueuingStrategy:()=>Hr,ReadableByteStreamController:()=>xe,ReadableStream:()=>Ir,ReadableStreamBYOBReader:()=>st,ReadableStreamBYOBRequest:()=>Oe,ReadableStreamDefaultController:()=>hr,ReadableStreamDefaultReader:()=>Z,TransformStream:()=>Qr,TransformStreamDefaultController:()=>sn,WritableStream:()=>_t,WritableStreamDefaultController:()=>Ut,WritableStreamDefaultWriter:()=>Ct});const o=n;function s(e,t){try{Object.defineProperty(e,"name",{value:t,configurable:!0})}catch(e){}}const a=Promise,c=Promise.prototype.then,u=Promise.reject.bind(a);function l(e){return new a(e)}function f(e){return l((t=>t(e)))}function h(e){return u(e)}function d(e,t,r){return c.call(e,t,r)}function p(e,t,r){d(d(e,t,r),void 0,o)}function y(e,t){p(e,t)}function b(e,t){p(e,void 0,t)}function m(e,t,r){return d(e,t,r)}function v(e){d(e,void 0,o)}let g=e=>{if("function"==typeof queueMicrotask)g=queueMicrotask;else{const e=f(void 0);g=t=>d(e,t)}return g(e)};function w(e,t,r){if("function"!=typeof e)throw new TypeError("Argument is not a function");return Function.prototype.apply.call(e,t,r)}function _(e,t,r){try{return f(w(e,t,r))}catch(e){return h(e)}}class S{constructor(){this._cursor=0,this._size=0,this._front={_elements:[],_next:void 0},this._back=this._front,this._cursor=0,this._size=0}get length(){return this._size}push(e){const t=this._back;let r=t;16383===t._elements.length&&(r={_elements:[],_next:void 0}),t._elements.push(e),r!==t&&(this._back=r,t._next=r),++this._size}shift(){const e=this._front;let t=e;const r=this._cursor;let n=r+1;const i=e._elements,o=i[r];return 16384===n&&(t=e._next,n=0),--this._size,this._cursor=n,e!==t&&(this._front=t),i[r]=void 0,o}forEach(e){let t=this._cursor,r=this._front,n=r._elements;for(;!(t===n.length&&void 0===r._next||t===n.length&&(r=r._next,n=r._elements,t=0,0===n.length));)e(n[t]),++t}peek(){const e=this._front,t=this._cursor;return e._elements[t]}}const E=Symbol("[[AbortSteps]]"),T=Symbol("[[ErrorSteps]]"),O=Symbol("[[CancelSteps]]"),x=Symbol("[[PullSteps]]"),A=Symbol("[[ReleaseSteps]]");function M(e,t){e._ownerReadableStream=t,t._reader=e,"readable"===t._state?R(e):"closed"===t._state?function(e){R(e),$(e)}(e):k(e,t._storedError)}function P(e,t){return Nr(e._ownerReadableStream,t)}function I(e){const t=e._ownerReadableStream;"readable"===t._state?C(e,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):function(e,t){k(e,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness"))}(e),t._readableStreamController[A](),t._reader=void 0,e._ownerReadableStream=void 0}function j(e){return new TypeError("Cannot "+e+" a stream using a released reader")}function R(e){e._closedPromise=l(((t,r)=>{e._closedPromise_resolve=t,e._closedPromise_reject=r}))}function k(e,t){R(e),C(e,t)}function C(e,t){void 0!==e._closedPromise_reject&&(v(e._closedPromise),e._closedPromise_reject(t),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0)}function $(e){void 0!==e._closedPromise_resolve&&(e._closedPromise_resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0)}const N=Number.isFinite||function(e){return"number"==typeof e&&isFinite(e)},L=Math.trunc||function(e){return e<0?Math.ceil(e):Math.floor(e)};function B(e,t){if(void 0!==e&&"object"!=typeof(r=e)&&"function"!=typeof r)throw new TypeError(`${t} is not an object.`);var r}function D(e,t){if("function"!=typeof e)throw new TypeError(`${t} is not a function.`)}function F(e,t){if(!function(e){return"object"==typeof e&&null!==e||"function"==typeof e}(e))throw new TypeError(`${t} is not an object.`)}function U(e,t,r){if(void 0===e)throw new TypeError(`Parameter ${t} is required in '${r}'.`)}function q(e,t,r){if(void 0===e)throw new TypeError(`${t} is required in '${r}'.`)}function W(e){return Number(e)}function z(e){return 0===e?0:e}function V(e,t){const r=Number.MAX_SAFE_INTEGER;let n=Number(e);if(n=z(n),!N(n))throw new TypeError(`${t} is not a finite number`);if(n=function(e){return z(L(e))}(n),n<0||n>r)throw new TypeError(`${t} is outside the accepted range of 0 to ${r}, inclusive`);return N(n)&&0!==n?n:0}function H(e,t){if(!Cr(e))throw new TypeError(`${t} is not a ReadableStream.`)}function G(e){return new Z(e)}function K(e,t){e._reader._readRequests.push(t)}function Y(e,t,r){const n=e._reader._readRequests.shift();r?n._closeSteps():n._chunkSteps(t)}function J(e){return e._reader._readRequests.length}function X(e){const t=e._reader;return void 0!==t&&!!Q(t)}class Z{constructor(e){if(U(e,1,"ReadableStreamDefaultReader"),H(e,"First parameter"),$r(e))throw new TypeError("This stream has already been locked for exclusive reading by another reader");M(this,e),this._readRequests=new S}get closed(){return Q(this)?this._closedPromise:h(re("closed"))}cancel(e=void 0){return Q(this)?void 0===this._ownerReadableStream?h(j("cancel")):P(this,e):h(re("cancel"))}read(){if(!Q(this))return h(re("read"));if(void 0===this._ownerReadableStream)return h(j("read from"));let e,t;const r=l(((r,n)=>{e=r,t=n}));return ee(this,{_chunkSteps:t=>e({value:t,done:!1}),_closeSteps:()=>e({value:void 0,done:!0}),_errorSteps:e=>t(e)}),r}releaseLock(){if(!Q(this))throw re("releaseLock");void 0!==this._ownerReadableStream&&function(e){I(e);te(e,new TypeError("Reader was released"))}(this)}}function Q(e){return!!i(e)&&!!Object.prototype.hasOwnProperty.call(e,"_readRequests")&&e instanceof Z}function ee(e,t){const r=e._ownerReadableStream;r._disturbed=!0,"closed"===r._state?t._closeSteps():"errored"===r._state?t._errorSteps(r._storedError):r._readableStreamController[x](t)}function te(e,t){const r=e._readRequests;e._readRequests=new S,r.forEach((e=>{e._errorSteps(t)}))}function re(e){return new TypeError(`ReadableStreamDefaultReader.prototype.${e} can only be used on a ReadableStreamDefaultReader`)}Object.defineProperties(Z.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),s(Z.prototype.cancel,"cancel"),s(Z.prototype.read,"read"),s(Z.prototype.releaseLock,"releaseLock"),"symbol"==typeof Symbol.toStringTag&&Object.defineProperty(Z.prototype,Symbol.toStringTag,{value:"ReadableStreamDefaultReader",configurable:!0});const ne=Object.getPrototypeOf(Object.getPrototypeOf((async function*(){})).prototype);class ie{constructor(e,t){this._ongoingPromise=void 0,this._isFinished=!1,this._reader=e,this._preventCancel=t}next(){const e=()=>this._nextSteps();return this._ongoingPromise=this._ongoingPromise?m(this._ongoingPromise,e,e):e(),this._ongoingPromise}return(e){const t=()=>this._returnSteps(e);return this._ongoingPromise?m(this._ongoingPromise,t,t):t()}_nextSteps(){if(this._isFinished)return Promise.resolve({value:void 0,done:!0});const e=this._reader;let t,r;const n=l(((e,n)=>{t=e,r=n}));return ee(e,{_chunkSteps:e=>{this._ongoingPromise=void 0,g((()=>t({value:e,done:!1})))},_closeSteps:()=>{this._ongoingPromise=void 0,this._isFinished=!0,I(e),t({value:void 0,done:!0})},_errorSteps:t=>{this._ongoingPromise=void 0,this._isFinished=!0,I(e),r(t)}}),n}_returnSteps(e){if(this._isFinished)return Promise.resolve({value:e,done:!0});this._isFinished=!0;const t=this._reader;if(!this._preventCancel){const r=P(t,e);return I(t),m(r,(()=>({value:e,done:!0})))}return I(t),f({value:e,done:!0})}}const oe={next(){return se(this)?this._asyncIteratorImpl.next():h(ae("next"))},return(e){return se(this)?this._asyncIteratorImpl.return(e):h(ae("return"))}};function se(e){if(!i(e))return!1;if(!Object.prototype.hasOwnProperty.call(e,"_asyncIteratorImpl"))return!1;try{return e._asyncIteratorImpl instanceof ie}catch(e){return!1}}function ae(e){return new TypeError(`ReadableStreamAsyncIterator.${e} can only be used on a ReadableSteamAsyncIterator`)}Object.setPrototypeOf(oe,ne);const ce=Number.isNaN||function(e){return e!=e};var ue,le,fe;function he(e){return e.slice()}function de(e,t,r,n,i){new Uint8Array(e).set(new Uint8Array(r,n,i),t)}let pe=e=>(pe="function"==typeof e.transfer?e=>e.transfer():"function"==typeof structuredClone?e=>structuredClone(e,{transfer:[e]}):e=>e,pe(e)),ye=e=>(ye="boolean"==typeof e.detached?e=>e.detached:e=>0===e.byteLength,ye(e));function be(e,t,r){if(e.slice)return e.slice(t,r);const n=r-t,i=new ArrayBuffer(n);return de(i,0,e,t,n),i}function me(e,t){const r=e[t];if(null!=r){if("function"!=typeof r)throw new TypeError(`${String(t)} is not a function`);return r}}const ve=null!==(fe=null!==(ue=Symbol.asyncIterator)&&void 0!==ue?ue:null===(le=Symbol.for)||void 0===le?void 0:le.call(Symbol,"Symbol.asyncIterator"))&&void 0!==fe?fe:"@@asyncIterator";function ge(e,t="sync",r){if(void 0===r)if("async"===t){if(void 0===(r=me(e,ve)))return function(e){const t={[Symbol.iterator]:()=>e.iterator},r=async function*(){return yield*t}();return{iterator:r,nextMethod:r.next,done:!1}}(ge(e,"sync",me(e,Symbol.iterator)))}else r=me(e,Symbol.iterator);if(void 0===r)throw new TypeError("The object is not iterable");const n=w(r,e,[]);if(!i(n))throw new TypeError("The iterator method must return an object");return{iterator:n,nextMethod:n.next,done:!1}}function we(e){const t=be(e.buffer,e.byteOffset,e.byteOffset+e.byteLength);return new Uint8Array(t)}function _e(e){const t=e._queue.shift();return e._queueTotalSize-=t.size,e._queueTotalSize<0&&(e._queueTotalSize=0),t.value}function Se(e,t,r){if("number"!=typeof(n=r)||ce(n)||n<0||r===1/0)throw new RangeError("Size must be a finite, non-NaN, non-negative number.");var n;e._queue.push({value:t,size:r}),e._queueTotalSize+=r}function Ee(e){e._queue=new S,e._queueTotalSize=0}function Te(e){return e===DataView}class Oe{constructor(){throw new TypeError("Illegal constructor")}get view(){if(!Me(this))throw Qe("view");return this._view}respond(e){if(!Me(this))throw Qe("respond");if(U(e,1,"respond"),e=V(e,"First parameter"),void 0===this._associatedReadableByteStreamController)throw new TypeError("This BYOB request has been invalidated");if(ye(this._view.buffer))throw new TypeError("The BYOB request's buffer has been detached and so cannot be used as a response");Je(this._associatedReadableByteStreamController,e)}respondWithNewView(e){if(!Me(this))throw Qe("respondWithNewView");if(U(e,1,"respondWithNewView"),!ArrayBuffer.isView(e))throw new TypeError("You can only respond with array buffer views");if(void 0===this._associatedReadableByteStreamController)throw new TypeError("This BYOB request has been invalidated");if(ye(e.buffer))throw new TypeError("The given view's buffer has been detached and so cannot be used as a response");Xe(this._associatedReadableByteStreamController,e)}}Object.defineProperties(Oe.prototype,{respond:{enumerable:!0},respondWithNewView:{enumerable:!0},view:{enumerable:!0}}),s(Oe.prototype.respond,"respond"),s(Oe.prototype.respondWithNewView,"respondWithNewView"),"symbol"==typeof Symbol.toStringTag&&Object.defineProperty(Oe.prototype,Symbol.toStringTag,{value:"ReadableStreamBYOBRequest",configurable:!0});class xe{constructor(){throw new TypeError("Illegal constructor")}get byobRequest(){if(!Ae(this))throw et("byobRequest");return Ke(this)}get desiredSize(){if(!Ae(this))throw et("desiredSize");return Ye(this)}close(){if(!Ae(this))throw et("close");if(this._closeRequested)throw new TypeError("The stream has already been closed; do not close it again!");const e=this._controlledReadableByteStream._state;if("readable"!==e)throw new TypeError(`The stream (in ${e} state) is not in the readable state and cannot be closed`);ze(this)}enqueue(e){if(!Ae(this))throw et("enqueue");if(U(e,1,"enqueue"),!ArrayBuffer.isView(e))throw new TypeError("chunk must be an array buffer view");if(0===e.byteLength)throw new TypeError("chunk must have non-zero byteLength");if(0===e.buffer.byteLength)throw new TypeError("chunk's buffer must have non-zero byteLength");if(this._closeRequested)throw new TypeError("stream is closed or draining");const t=this._controlledReadableByteStream._state;if("readable"!==t)throw new TypeError(`The stream (in ${t} state) is not in the readable state and cannot be enqueued to`);Ve(this,e)}error(e=void 0){if(!Ae(this))throw et("error");He(this,e)}[O](e){Ie(this),Ee(this);const t=this._cancelAlgorithm(e);return We(this),t}[x](e){const t=this._controlledReadableByteStream;if(this._queueTotalSize>0)return void Ge(this,e);const r=this._autoAllocateChunkSize;if(void 0!==r){let t;try{t=new ArrayBuffer(r)}catch(t){return void e._errorSteps(t)}const n={buffer:t,bufferByteLength:r,byteOffset:0,byteLength:r,bytesFilled:0,minimumFill:1,elementSize:1,viewConstructor:Uint8Array,readerType:"default"};this._pendingPullIntos.push(n)}K(t,e),Pe(this)}[A](){if(this._pendingPullIntos.length>0){const e=this._pendingPullIntos.peek();e.readerType="none",this._pendingPullIntos=new S,this._pendingPullIntos.push(e)}}}function Ae(e){return!!i(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledReadableByteStream")&&e instanceof xe}function Me(e){return!!i(e)&&!!Object.prototype.hasOwnProperty.call(e,"_associatedReadableByteStreamController")&&e instanceof Oe}function Pe(e){const t=function(e){const t=e._controlledReadableByteStream;if("readable"!==t._state)return!1;if(e._closeRequested)return!1;if(!e._started)return!1;if(X(t)&&J(t)>0)return!0;if(ot(t)&&it(t)>0)return!0;return Ye(e)>0}(e);t&&(e._pulling?e._pullAgain=!0:(e._pulling=!0,p(e._pullAlgorithm(),(()=>(e._pulling=!1,e._pullAgain&&(e._pullAgain=!1,Pe(e)),null)),(t=>(He(e,t),null)))))}function Ie(e){De(e),e._pendingPullIntos=new S}function je(e,t){let r=!1;"closed"===e._state&&(r=!0);const n=Re(t);"default"===t.readerType?Y(e,n,r):function(e,t,r){const n=e._reader._readIntoRequests.shift();r?n._closeSteps(t):n._chunkSteps(t)}(e,n,r)}function Re(e){const t=e.bytesFilled,r=e.elementSize;return new e.viewConstructor(e.buffer,e.byteOffset,t/r)}function ke(e,t,r,n){e._queue.push({buffer:t,byteOffset:r,byteLength:n}),e._queueTotalSize+=n}function Ce(e,t,r,n){let i;try{i=be(t,r,r+n)}catch(t){throw He(e,t),t}ke(e,i,0,n)}function $e(e,t){t.bytesFilled>0&&Ce(e,t.buffer,t.byteOffset,t.bytesFilled),qe(e)}function Ne(e,t){const r=Math.min(e._queueTotalSize,t.byteLength-t.bytesFilled),n=t.bytesFilled+r;let i=r,o=!1;const s=n-n%t.elementSize;s>=t.minimumFill&&(i=s-t.bytesFilled,o=!0);const a=e._queue;for(;i>0;){const r=a.peek(),n=Math.min(i,r.byteLength),o=t.byteOffset+t.bytesFilled;de(t.buffer,o,r.buffer,r.byteOffset,n),r.byteLength===n?a.shift():(r.byteOffset+=n,r.byteLength-=n),e._queueTotalSize-=n,Le(0,n,t),i-=n}return o}function Le(e,t,r){r.bytesFilled+=t}function Be(e){0===e._queueTotalSize&&e._closeRequested?(We(e),Lr(e._controlledReadableByteStream)):Pe(e)}function De(e){null!==e._byobRequest&&(e._byobRequest._associatedReadableByteStreamController=void 0,e._byobRequest._view=null,e._byobRequest=null)}function Fe(e){for(;e._pendingPullIntos.length>0;){if(0===e._queueTotalSize)return;const t=e._pendingPullIntos.peek();Ne(e,t)&&(qe(e),je(e._controlledReadableByteStream,t))}}function Ue(e,t){const r=e._pendingPullIntos.peek();De(e),"closed"===e._controlledReadableByteStream._state?function(e,t){"none"===t.readerType&&qe(e);const r=e._controlledReadableByteStream;if(ot(r))for(;it(r)>0;)je(r,qe(e))}(e,r):function(e,t,r){if(Le(0,t,r),"none"===r.readerType)return $e(e,r),void Fe(e);if(r.bytesFilled<r.minimumFill)return;qe(e);const n=r.bytesFilled%r.elementSize;if(n>0){const t=r.byteOffset+r.bytesFilled;Ce(e,r.buffer,t-n,n)}r.bytesFilled-=n,je(e._controlledReadableByteStream,r),Fe(e)}(e,t,r),Pe(e)}function qe(e){return e._pendingPullIntos.shift()}function We(e){e._pullAlgorithm=void 0,e._cancelAlgorithm=void 0}function ze(e){const t=e._controlledReadableByteStream;if(!e._closeRequested&&"readable"===t._state)if(e._queueTotalSize>0)e._closeRequested=!0;else{if(e._pendingPullIntos.length>0){const t=e._pendingPullIntos.peek();if(t.bytesFilled%t.elementSize!=0){const t=new TypeError("Insufficient bytes to fill elements in the given buffer");throw He(e,t),t}}We(e),Lr(t)}}function Ve(e,t){const r=e._controlledReadableByteStream;if(e._closeRequested||"readable"!==r._state)return;const{buffer:n,byteOffset:i,byteLength:o}=t;if(ye(n))throw new TypeError("chunk's buffer is detached and so cannot be enqueued");const s=pe(n);if(e._pendingPullIntos.length>0){const t=e._pendingPullIntos.peek();if(ye(t.buffer))throw new TypeError("The BYOB request's buffer has been detached and so cannot be filled with an enqueued chunk");De(e),t.buffer=pe(t.buffer),"none"===t.readerType&&$e(e,t)}X(r)?(function(e){const t=e._controlledReadableByteStream._reader;for(;t._readRequests.length>0;){if(0===e._queueTotalSize)return;Ge(e,t._readRequests.shift())}}(e),0===J(r)?ke(e,s,i,o):(e._pendingPullIntos.length>0&&qe(e),Y(r,new Uint8Array(s,i,o),!1))):ot(r)?(ke(e,s,i,o),Fe(e)):ke(e,s,i,o),Pe(e)}function He(e,t){const r=e._controlledReadableByteStream;"readable"===r._state&&(Ie(e),Ee(e),We(e),Br(r,t))}function Ge(e,t){const r=e._queue.shift();e._queueTotalSize-=r.byteLength,Be(e);const n=new Uint8Array(r.buffer,r.byteOffset,r.byteLength);t._chunkSteps(n)}function Ke(e){if(null===e._byobRequest&&e._pendingPullIntos.length>0){const t=e._pendingPullIntos.peek(),r=new Uint8Array(t.buffer,t.byteOffset+t.bytesFilled,t.byteLength-t.bytesFilled),n=Object.create(Oe.prototype);!function(e,t,r){e._associatedReadableByteStreamController=t,e._view=r}(n,e,r),e._byobRequest=n}return e._byobRequest}function Ye(e){const t=e._controlledReadableByteStream._state;return"errored"===t?null:"closed"===t?0:e._strategyHWM-e._queueTotalSize}function Je(e,t){const r=e._pendingPullIntos.peek();if("closed"===e._controlledReadableByteStream._state){if(0!==t)throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream")}else{if(0===t)throw new TypeError("bytesWritten must be greater than 0 when calling respond() on a readable stream");if(r.bytesFilled+t>r.byteLength)throw new RangeError("bytesWritten out of range")}r.buffer=pe(r.buffer),Ue(e,t)}function Xe(e,t){const r=e._pendingPullIntos.peek();if("closed"===e._controlledReadableByteStream._state){if(0!==t.byteLength)throw new TypeError("The view's length must be 0 when calling respondWithNewView() on a closed stream")}else if(0===t.byteLength)throw new TypeError("The view's length must be greater than 0 when calling respondWithNewView() on a readable stream");if(r.byteOffset+r.bytesFilled!==t.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(r.bufferByteLength!==t.buffer.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");if(r.bytesFilled+t.byteLength>r.byteLength)throw new RangeError("The region specified by view is larger than byobRequest");const n=t.byteLength;r.buffer=pe(t.buffer),Ue(e,n)}function Ze(e,t,r,n,i,o,s){t._controlledReadableByteStream=e,t._pullAgain=!1,t._pulling=!1,t._byobRequest=null,t._queue=t._queueTotalSize=void 0,Ee(t),t._closeRequested=!1,t._started=!1,t._strategyHWM=o,t._pullAlgorithm=n,t._cancelAlgorithm=i,t._autoAllocateChunkSize=s,t._pendingPullIntos=new S,e._readableStreamController=t,p(f(r()),(()=>(t._started=!0,Pe(t),null)),(e=>(He(t,e),null)))}function Qe(e){return new TypeError(`ReadableStreamBYOBRequest.prototype.${e} can only be used on a ReadableStreamBYOBRequest`)}function et(e){return new TypeError(`ReadableByteStreamController.prototype.${e} can only be used on a ReadableByteStreamController`)}function tt(e,t){if("byob"!=(e=`${e}`))throw new TypeError(`${t} '${e}' is not a valid enumeration value for ReadableStreamReaderMode`);return e}function rt(e){return new st(e)}function nt(e,t){e._reader._readIntoRequests.push(t)}function it(e){return e._reader._readIntoRequests.length}function ot(e){const t=e._reader;return void 0!==t&&!!at(t)}Object.defineProperties(xe.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},byobRequest:{enumerable:!0},desiredSize:{enumerable:!0}}),s(xe.prototype.close,"close"),s(xe.prototype.enqueue,"enqueue"),s(xe.prototype.error,"error"),"symbol"==typeof Symbol.toStringTag&&Object.defineProperty(xe.prototype,Symbol.toStringTag,{value:"ReadableByteStreamController",configurable:!0});class st{constructor(e){if(U(e,1,"ReadableStreamBYOBReader"),H(e,"First parameter"),$r(e))throw new TypeError("This stream has already been locked for exclusive reading by another reader");if(!Ae(e._readableStreamController))throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");M(this,e),this._readIntoRequests=new S}get closed(){return at(this)?this._closedPromise:h(lt("closed"))}cancel(e=void 0){return at(this)?void 0===this._ownerReadableStream?h(j("cancel")):P(this,e):h(lt("cancel"))}read(e,t={}){if(!at(this))return h(lt("read"));if(!ArrayBuffer.isView(e))return h(new TypeError("view must be an array buffer view"));if(0===e.byteLength)return h(new TypeError("view must have non-zero byteLength"));if(0===e.buffer.byteLength)return h(new TypeError("view's buffer must have non-zero byteLength"));if(ye(e.buffer))return h(new TypeError("view's buffer has been detached"));let r;try{r=function(e,t){var r;return B(e,t),{min:V(null!==(r=null==e?void 0:e.min)&&void 0!==r?r:1,`${t} has member 'min' that`)}}(t,"options")}catch(e){return h(e)}const n=r.min;if(0===n)return h(new TypeError("options.min must be greater than 0"));if(function(e){return Te(e.constructor)}(e)){if(n>e.byteLength)return h(new RangeError("options.min must be less than or equal to view's byteLength"))}else if(n>e.length)return h(new RangeError("options.min must be less than or equal to view's length"));if(void 0===this._ownerReadableStream)return h(j("read from"));let i,o;const s=l(((e,t)=>{i=e,o=t}));return ct(this,e,n,{_chunkSteps:e=>i({value:e,done:!1}),_closeSteps:e=>i({value:e,done:!0}),_errorSteps:e=>o(e)}),s}releaseLock(){if(!at(this))throw lt("releaseLock");void 0!==this._ownerReadableStream&&function(e){I(e);ut(e,new TypeError("Reader was released"))}(this)}}function at(e){return!!i(e)&&!!Object.prototype.hasOwnProperty.call(e,"_readIntoRequests")&&e instanceof st}function ct(e,t,r,n){const i=e._ownerReadableStream;i._disturbed=!0,"errored"===i._state?n._errorSteps(i._storedError):function(e,t,r,n){const i=e._controlledReadableByteStream,o=t.constructor,s=function(e){return Te(e)?1:e.BYTES_PER_ELEMENT}(o),{byteOffset:a,byteLength:c}=t,u=r*s;let l;try{l=pe(t.buffer)}catch(e){return void n._errorSteps(e)}const f={buffer:l,bufferByteLength:l.byteLength,byteOffset:a,byteLength:c,bytesFilled:0,minimumFill:u,elementSize:s,viewConstructor:o,readerType:"byob"};if(e._pendingPullIntos.length>0)return e._pendingPullIntos.push(f),void nt(i,n);if("closed"!==i._state){if(e._queueTotalSize>0){if(Ne(e,f)){const t=Re(f);return Be(e),void n._chunkSteps(t)}if(e._closeRequested){const t=new TypeError("Insufficient bytes to fill elements in the given buffer");return He(e,t),void n._errorSteps(t)}}e._pendingPullIntos.push(f),nt(i,n),Pe(e)}else{const e=new o(f.buffer,f.byteOffset,0);n._closeSteps(e)}}(i._readableStreamController,t,r,n)}function ut(e,t){const r=e._readIntoRequests;e._readIntoRequests=new S,r.forEach((e=>{e._errorSteps(t)}))}function lt(e){return new TypeError(`ReadableStreamBYOBReader.prototype.${e} can only be used on a ReadableStreamBYOBReader`)}function ft(e,t){const{highWaterMark:r}=e;if(void 0===r)return t;if(ce(r)||r<0)throw new RangeError("Invalid highWaterMark");return r}function ht(e){const{size:t}=e;return t||(()=>1)}function dt(e,t){B(e,t);const r=null==e?void 0:e.highWaterMark,n=null==e?void 0:e.size;return{highWaterMark:void 0===r?void 0:W(r),size:void 0===n?void 0:pt(n,`${t} has member 'size' that`)}}function pt(e,t){return D(e,t),t=>W(e(t))}function yt(e,t,r){return D(e,r),r=>_(e,t,[r])}function bt(e,t,r){return D(e,r),()=>_(e,t,[])}function mt(e,t,r){return D(e,r),r=>w(e,t,[r])}function vt(e,t,r){return D(e,r),(r,n)=>_(e,t,[r,n])}function gt(e,t){if(!Tt(e))throw new TypeError(`${t} is not a WritableStream.`)}Object.defineProperties(st.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),s(st.prototype.cancel,"cancel"),s(st.prototype.read,"read"),s(st.prototype.releaseLock,"releaseLock"),"symbol"==typeof Symbol.toStringTag&&Object.defineProperty(st.prototype,Symbol.toStringTag,{value:"ReadableStreamBYOBReader",configurable:!0});const wt="function"==typeof AbortController;class _t{constructor(e={},t={}){void 0===e?e=null:F(e,"First parameter");const r=dt(t,"Second parameter"),n=function(e,t){B(e,t);const r=null==e?void 0:e.abort,n=null==e?void 0:e.close,i=null==e?void 0:e.start,o=null==e?void 0:e.type,s=null==e?void 0:e.write;return{abort:void 0===r?void 0:yt(r,e,`${t} has member 'abort' that`),close:void 0===n?void 0:bt(n,e,`${t} has member 'close' that`),start:void 0===i?void 0:mt(i,e,`${t} has member 'start' that`),write:void 0===s?void 0:vt(s,e,`${t} has member 'write' that`),type:o}}(e,"First parameter");if(Et(this),void 0!==n.type)throw new RangeError("Invalid type is specified");const i=ht(r);!function(e,t,r,n){const i=Object.create(Ut.prototype);let o,s,a,c;o=void 0!==t.start?()=>t.start(i):()=>{},s=void 0!==t.write?e=>t.write(e,i):()=>f(void 0),a=void 0!==t.close?()=>t.close():()=>f(void 0),c=void 0!==t.abort?e=>t.abort(e):()=>f(void 0),Wt(e,i,o,s,a,c,r,n)}(this,n,ft(r,1),i)}get locked(){if(!Tt(this))throw Jt("locked");return Ot(this)}abort(e=void 0){return Tt(this)?Ot(this)?h(new TypeError("Cannot abort a stream that already has a writer")):xt(this,e):h(Jt("abort"))}close(){return Tt(this)?Ot(this)?h(new TypeError("Cannot close a stream that already has a writer")):jt(this)?h(new TypeError("Cannot close an already-closing stream")):At(this):h(Jt("close"))}getWriter(){if(!Tt(this))throw Jt("getWriter");return St(this)}}function St(e){return new Ct(e)}function Et(e){e._state="writable",e._storedError=void 0,e._writer=void 0,e._writableStreamController=void 0,e._writeRequests=new S,e._inFlightWriteRequest=void 0,e._closeRequest=void 0,e._inFlightCloseRequest=void 0,e._pendingAbortRequest=void 0,e._backpressure=!1}function Tt(e){return!!i(e)&&!!Object.prototype.hasOwnProperty.call(e,"_writableStreamController")&&e instanceof _t}function Ot(e){return void 0!==e._writer}function xt(e,t){var r;if("closed"===e._state||"errored"===e._state)return f(void 0);e._writableStreamController._abortReason=t,null===(r=e._writableStreamController._abortController)||void 0===r||r.abort(t);const n=e._state;if("closed"===n||"errored"===n)return f(void 0);if(void 0!==e._pendingAbortRequest)return e._pendingAbortRequest._promise;let i=!1;"erroring"===n&&(i=!0,t=void 0);const o=l(((r,n)=>{e._pendingAbortRequest={_promise:void 0,_resolve:r,_reject:n,_reason:t,_wasAlreadyErroring:i}}));return e._pendingAbortRequest._promise=o,i||Pt(e,t),o}function At(e){const t=e._state;if("closed"===t||"errored"===t)return h(new TypeError(`The stream (in ${t} state) is not in the writable state and cannot be closed`));const r=l(((t,r)=>{const n={_resolve:t,_reject:r};e._closeRequest=n})),n=e._writer;var i;return void 0!==n&&e._backpressure&&"writable"===t&&cr(n),Se(i=e._writableStreamController,Ft,0),Ht(i),r}function Mt(e,t){"writable"!==e._state?It(e):Pt(e,t)}function Pt(e,t){const r=e._writableStreamController;e._state="erroring",e._storedError=t;const n=e._writer;void 0!==n&&Lt(n,t),!function(e){return void 0!==e._inFlightWriteRequest||void 0!==e._inFlightCloseRequest}(e)&&r._started&&It(e)}function It(e){e._state="errored",e._writableStreamController[T]();const t=e._storedError;if(e._writeRequests.forEach((e=>{e._reject(t)})),e._writeRequests=new S,void 0===e._pendingAbortRequest)return void Rt(e);const r=e._pendingAbortRequest;if(e._pendingAbortRequest=void 0,r._wasAlreadyErroring)return r._reject(t),void Rt(e);p(e._writableStreamController[E](r._reason),(()=>(r._resolve(),Rt(e),null)),(t=>(r._reject(t),Rt(e),null)))}function jt(e){return void 0!==e._closeRequest||void 0!==e._inFlightCloseRequest}function Rt(e){void 0!==e._closeRequest&&(e._closeRequest._reject(e._storedError),e._closeRequest=void 0);const t=e._writer;void 0!==t&&rr(t,e._storedError)}function kt(e,t){const r=e._writer;void 0!==r&&t!==e._backpressure&&(t?function(e){ir(e)}(r):cr(r)),e._backpressure=t}Object.defineProperties(_t.prototype,{abort:{enumerable:!0},close:{enumerable:!0},getWriter:{enumerable:!0},locked:{enumerable:!0}}),s(_t.prototype.abort,"abort"),s(_t.prototype.close,"close"),s(_t.prototype.getWriter,"getWriter"),"symbol"==typeof Symbol.toStringTag&&Object.defineProperty(_t.prototype,Symbol.toStringTag,{value:"WritableStream",configurable:!0});class Ct{constructor(e){if(U(e,1,"WritableStreamDefaultWriter"),gt(e,"First parameter"),Ot(e))throw new TypeError("This stream has already been locked for exclusive writing by another writer");this._ownerWritableStream=e,e._writer=this;const t=e._state;if("writable"===t)!jt(e)&&e._backpressure?ir(this):sr(this),er(this);else if("erroring"===t)or(this,e._storedError),er(this);else if("closed"===t)sr(this),er(this),nr(this);else{const t=e._storedError;or(this,t),tr(this,t)}}get closed(){return $t(this)?this._closedPromise:h(Zt("closed"))}get desiredSize(){if(!$t(this))throw Zt("desiredSize");if(void 0===this._ownerWritableStream)throw Qt("desiredSize");return function(e){const t=e._ownerWritableStream,r=t._state;return"errored"===r||"erroring"===r?null:"closed"===r?0:Vt(t._writableStreamController)}(this)}get ready(){return $t(this)?this._readyPromise:h(Zt("ready"))}abort(e=void 0){return $t(this)?void 0===this._ownerWritableStream?h(Qt("abort")):function(e,t){return xt(e._ownerWritableStream,t)}(this,e):h(Zt("abort"))}close(){if(!$t(this))return h(Zt("close"));const e=this._ownerWritableStream;return void 0===e?h(Qt("close")):jt(e)?h(new TypeError("Cannot close an already-closing stream")):Nt(this)}releaseLock(){if(!$t(this))throw Zt("releaseLock");void 0!==this._ownerWritableStream&&Bt(this)}write(e=void 0){return $t(this)?void 0===this._ownerWritableStream?h(Qt("write to")):Dt(this,e):h(Zt("write"))}}function $t(e){return!!i(e)&&!!Object.prototype.hasOwnProperty.call(e,"_ownerWritableStream")&&e instanceof Ct}function Nt(e){return At(e._ownerWritableStream)}function Lt(e,t){"pending"===e._readyPromiseState?ar(e,t):function(e,t){or(e,t)}(e,t)}function Bt(e){const t=e._ownerWritableStream,r=new TypeError("Writer was released and can no longer be used to monitor the stream's closedness");Lt(e,r),function(e,t){"pending"===e._closedPromiseState?rr(e,t):function(e,t){tr(e,t)}(e,t)}(e,r),t._writer=void 0,e._ownerWritableStream=void 0}function Dt(e,t){const r=e._ownerWritableStream,n=r._writableStreamController,i=function(e,t){try{return e._strategySizeAlgorithm(t)}catch(t){return Gt(e,t),1}}(n,t);if(r!==e._ownerWritableStream)return h(Qt("write to"));const o=r._state;if("errored"===o)return h(r._storedError);if(jt(r)||"closed"===o)return h(new TypeError("The stream is closing or closed and cannot be written to"));if("erroring"===o)return h(r._storedError);const s=function(e){return l(((t,r)=>{const n={_resolve:t,_reject:r};e._writeRequests.push(n)}))}(r);return function(e,t,r){try{Se(e,t,r)}catch(t){return void Gt(e,t)}const n=e._controlledWritableStream;jt(n)||"writable"!==n._state||kt(n,Kt(e)),Ht(e)}(n,t,i),s}Object.defineProperties(Ct.prototype,{abort:{enumerable:!0},close:{enumerable:!0},releaseLock:{enumerable:!0},write:{enumerable:!0},closed:{enumerable:!0},desiredSize:{enumerable:!0},ready:{enumerable:!0}}),s(Ct.prototype.abort,"abort"),s(Ct.prototype.close,"close"),s(Ct.prototype.releaseLock,"releaseLock"),s(Ct.prototype.write,"write"),"symbol"==typeof Symbol.toStringTag&&Object.defineProperty(Ct.prototype,Symbol.toStringTag,{value:"WritableStreamDefaultWriter",configurable:!0});const Ft={};class Ut{constructor(){throw new TypeError("Illegal constructor")}get abortReason(){if(!qt(this))throw Xt("abortReason");return this._abortReason}get signal(){if(!qt(this))throw Xt("signal");if(void 0===this._abortController)throw new TypeError("WritableStreamDefaultController.prototype.signal is not supported");return this._abortController.signal}error(e=void 0){if(!qt(this))throw Xt("error");"writable"===this._controlledWritableStream._state&&Yt(this,e)}[E](e){const t=this._abortAlgorithm(e);return zt(this),t}[T](){Ee(this)}}function qt(e){return!!i(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledWritableStream")&&e instanceof Ut}function Wt(e,t,r,n,i,o,s,a){t._controlledWritableStream=e,e._writableStreamController=t,t._queue=void 0,t._queueTotalSize=void 0,Ee(t),t._abortReason=void 0,t._abortController=function(){if(wt)return new AbortController}(),t._started=!1,t._strategySizeAlgorithm=a,t._strategyHWM=s,t._writeAlgorithm=n,t._closeAlgorithm=i,t._abortAlgorithm=o;const c=Kt(t);kt(e,c),p(f(r()),(()=>(t._started=!0,Ht(t),null)),(r=>(t._started=!0,Mt(e,r),null)))}function zt(e){e._writeAlgorithm=void 0,e._closeAlgorithm=void 0,e._abortAlgorithm=void 0,e._strategySizeAlgorithm=void 0}function Vt(e){return e._strategyHWM-e._queueTotalSize}function Ht(e){const t=e._controlledWritableStream;if(!e._started)return;if(void 0!==t._inFlightWriteRequest)return;if("erroring"===t._state)return void It(t);if(0===e._queue.length)return;const r=e._queue.peek().value;r===Ft?function(e){const t=e._controlledWritableStream;(function(e){e._inFlightCloseRequest=e._closeRequest,e._closeRequest=void 0})(t),_e(e);const r=e._closeAlgorithm();zt(e),p(r,(()=>(function(e){e._inFlightCloseRequest._resolve(void 0),e._inFlightCloseRequest=void 0,"erroring"===e._state&&(e._storedError=void 0,void 0!==e._pendingAbortRequest&&(e._pendingAbortRequest._resolve(),e._pendingAbortRequest=void 0)),e._state="closed";const t=e._writer;void 0!==t&&nr(t)}(t),null)),(e=>(function(e,t){e._inFlightCloseRequest._reject(t),e._inFlightCloseRequest=void 0,void 0!==e._pendingAbortRequest&&(e._pendingAbortRequest._reject(t),e._pendingAbortRequest=void 0),Mt(e,t)}(t,e),null)))}(e):function(e,t){const r=e._controlledWritableStream;!function(e){e._inFlightWriteRequest=e._writeRequests.shift()}(r);p(e._writeAlgorithm(t),(()=>{!function(e){e._inFlightWriteRequest._resolve(void 0),e._inFlightWriteRequest=void 0}(r);const t=r._state;if(_e(e),!jt(r)&&"writable"===t){const t=Kt(e);kt(r,t)}return Ht(e),null}),(t=>("writable"===r._state&&zt(e),function(e,t){e._inFlightWriteRequest._reject(t),e._inFlightWriteRequest=void 0,Mt(e,t)}(r,t),null)))}(e,r)}function Gt(e,t){"writable"===e._controlledWritableStream._state&&Yt(e,t)}function Kt(e){return Vt(e)<=0}function Yt(e,t){const r=e._controlledWritableStream;zt(e),Pt(r,t)}function Jt(e){return new TypeError(`WritableStream.prototype.${e} can only be used on a WritableStream`)}function Xt(e){return new TypeError(`WritableStreamDefaultController.prototype.${e} can only be used on a WritableStreamDefaultController`)}function Zt(e){return new TypeError(`WritableStreamDefaultWriter.prototype.${e} can only be used on a WritableStreamDefaultWriter`)}function Qt(e){return new TypeError("Cannot "+e+" a stream using a released writer")}function er(e){e._closedPromise=l(((t,r)=>{e._closedPromise_resolve=t,e._closedPromise_reject=r,e._closedPromiseState="pending"}))}function tr(e,t){er(e),rr(e,t)}function rr(e,t){void 0!==e._closedPromise_reject&&(v(e._closedPromise),e._closedPromise_reject(t),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="rejected")}function nr(e){void 0!==e._closedPromise_resolve&&(e._closedPromise_resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="resolved")}function ir(e){e._readyPromise=l(((t,r)=>{e._readyPromise_resolve=t,e._readyPromise_reject=r})),e._readyPromiseState="pending"}function or(e,t){ir(e),ar(e,t)}function sr(e){ir(e),cr(e)}function ar(e,t){void 0!==e._readyPromise_reject&&(v(e._readyPromise),e._readyPromise_reject(t),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="rejected")}function cr(e){void 0!==e._readyPromise_resolve&&(e._readyPromise_resolve(void 0),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="fulfilled")}Object.defineProperties(Ut.prototype,{abortReason:{enumerable:!0},signal:{enumerable:!0},error:{enumerable:!0}}),"symbol"==typeof Symbol.toStringTag&&Object.defineProperty(Ut.prototype,Symbol.toStringTag,{value:"WritableStreamDefaultController",configurable:!0});const ur="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof global?global:void 0,lr=function(){const e=null==ur?void 0:ur.DOMException;return function(e){if("function"!=typeof e&&"object"!=typeof e)return!1;if("DOMException"!==e.name)return!1;try{return new e,!0}catch(e){return!1}}(e)?e:void 0}()||function(){const e=function(e,t){this.message=e||"",this.name=t||"Error",Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)};return s(e,"DOMException"),e.prototype=Object.create(Error.prototype),Object.defineProperty(e.prototype,"constructor",{value:e,writable:!0,configurable:!0}),e}();function fr(e,t,r,i,o,s){const a=G(e),c=St(t);e._disturbed=!0;let u=!1,m=f(void 0);return l(((g,w)=>{let _;if(void 0!==s){if(_=()=>{const r=void 0!==s.reason?s.reason:new lr("Aborted","AbortError"),n=[];i||n.push((()=>"writable"===t._state?xt(t,r):f(void 0))),o||n.push((()=>"readable"===e._state?Nr(e,r):f(void 0))),A((()=>Promise.all(n.map((e=>e())))),!0,r)},s.aborted)return void _();s.addEventListener("abort",_)}var S,E,T;if(x(e,a._closedPromise,(e=>(i?M(!0,e):A((()=>xt(t,e)),!0,e),null))),x(t,c._closedPromise,(t=>(o?M(!0,t):A((()=>Nr(e,t)),!0,t),null))),S=e,E=a._closedPromise,T=()=>(r?M():A((()=>function(e){const t=e._ownerWritableStream,r=t._state;return jt(t)||"closed"===r?f(void 0):"errored"===r?h(t._storedError):Nt(e)}(c))),null),"closed"===S._state?T():y(E,T),jt(t)||"closed"===t._state){const t=new TypeError("the destination writable stream closed before all data could be piped to it");o?M(!0,t):A((()=>Nr(e,t)),!0,t)}function O(){const e=m;return d(m,(()=>e!==m?O():void 0))}function x(e,t,r){"errored"===e._state?r(e._storedError):b(t,r)}function A(e,r,n){function i(){return p(e(),(()=>P(r,n)),(e=>P(!0,e))),null}u||(u=!0,"writable"!==t._state||jt(t)?i():y(O(),i))}function M(e,r){u||(u=!0,"writable"!==t._state||jt(t)?P(e,r):y(O(),(()=>P(e,r))))}function P(e,t){return Bt(c),I(a),void 0!==s&&s.removeEventListener("abort",_),e?w(t):g(void 0),null}v(l(((e,t)=>{!function r(i){i?e():d(u?f(!0):d(c._readyPromise,(()=>l(((e,t)=>{ee(a,{_chunkSteps:t=>{m=d(Dt(c,t),void 0,n),e(!1)},_closeSteps:()=>e(!0),_errorSteps:t})})))),r,t)}(!1)})))}))}class hr{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!dr(this))throw Er("desiredSize");return wr(this)}close(){if(!dr(this))throw Er("close");if(!_r(this))throw new TypeError("The stream is not in a state that permits close");mr(this)}enqueue(e=void 0){if(!dr(this))throw Er("enqueue");if(!_r(this))throw new TypeError("The stream is not in a state that permits enqueue");return vr(this,e)}error(e=void 0){if(!dr(this))throw Er("error");gr(this,e)}[O](e){Ee(this);const t=this._cancelAlgorithm(e);return br(this),t}[x](e){const t=this._controlledReadableStream;if(this._queue.length>0){const r=_e(this);this._closeRequested&&0===this._queue.length?(br(this),Lr(t)):pr(this),e._chunkSteps(r)}else K(t,e),pr(this)}[A](){}}function dr(e){return!!i(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledReadableStream")&&e instanceof hr}function pr(e){yr(e)&&(e._pulling?e._pullAgain=!0:(e._pulling=!0,p(e._pullAlgorithm(),(()=>(e._pulling=!1,e._pullAgain&&(e._pullAgain=!1,pr(e)),null)),(t=>(gr(e,t),null)))))}function yr(e){const t=e._controlledReadableStream;return!!_r(e)&&(!!e._started&&(!!($r(t)&&J(t)>0)||wr(e)>0))}function br(e){e._pullAlgorithm=void 0,e._cancelAlgorithm=void 0,e._strategySizeAlgorithm=void 0}function mr(e){if(!_r(e))return;const t=e._controlledReadableStream;e._closeRequested=!0,0===e._queue.length&&(br(e),Lr(t))}function vr(e,t){if(!_r(e))return;const r=e._controlledReadableStream;if($r(r)&&J(r)>0)Y(r,t,!1);else{let r;try{r=e._strategySizeAlgorithm(t)}catch(t){throw gr(e,t),t}try{Se(e,t,r)}catch(t){throw gr(e,t),t}}pr(e)}function gr(e,t){const r=e._controlledReadableStream;"readable"===r._state&&(Ee(e),br(e),Br(r,t))}function wr(e){const t=e._controlledReadableStream._state;return"errored"===t?null:"closed"===t?0:e._strategyHWM-e._queueTotalSize}function _r(e){const t=e._controlledReadableStream._state;return!e._closeRequested&&"readable"===t}function Sr(e,t,r,n,i,o,s){t._controlledReadableStream=e,t._queue=void 0,t._queueTotalSize=void 0,Ee(t),t._started=!1,t._closeRequested=!1,t._pullAgain=!1,t._pulling=!1,t._strategySizeAlgorithm=s,t._strategyHWM=o,t._pullAlgorithm=n,t._cancelAlgorithm=i,e._readableStreamController=t,p(f(r()),(()=>(t._started=!0,pr(t),null)),(e=>(gr(t,e),null)))}function Er(e){return new TypeError(`ReadableStreamDefaultController.prototype.${e} can only be used on a ReadableStreamDefaultController`)}function Tr(e){return i(t=e)&&void 0!==t.getReader?function(e){let t;return t=jr(n,(function(){let r;try{r=e.read()}catch(e){return h(e)}return m(r,(e=>{if(!i(e))throw new TypeError("The promise returned by the reader.read() method must fulfill with an object");if(e.done)mr(t._readableStreamController);else{const r=e.value;vr(t._readableStreamController,r)}}))}),(function(t){try{return f(e.cancel(t))}catch(e){return h(e)}}),0),t}(e.getReader()):function(e){let t;const r=ge(e,"async");return t=jr(n,(function(){let e;try{e=function(e){const t=w(e.nextMethod,e.iterator,[]);if(!i(t))throw new TypeError("The iterator.next() method must return an object");return t}(r)}catch(e){return h(e)}return m(f(e),(e=>{if(!i(e))throw new TypeError("The promise returned by the iterator.next() method must fulfill with an object");const r=function(e){return Boolean(e.done)}(e);if(r)mr(t._readableStreamController);else{const r=function(e){return e.value}(e);vr(t._readableStreamController,r)}}))}),(function(e){const t=r.iterator;let n,o;try{n=me(t,"return")}catch(e){return h(e)}if(void 0===n)return f(void 0);try{o=w(n,t,[e])}catch(e){return h(e)}return m(f(o),(e=>{if(!i(e))throw new TypeError("The promise returned by the iterator.return() method must fulfill with an object")}))}),0),t}(e);var t}function Or(e,t,r){return D(e,r),r=>_(e,t,[r])}function xr(e,t,r){return D(e,r),r=>_(e,t,[r])}function Ar(e,t,r){return D(e,r),r=>w(e,t,[r])}function Mr(e,t){if("bytes"!=(e=`${e}`))throw new TypeError(`${t} '${e}' is not a valid enumeration value for ReadableStreamType`);return e}function Pr(e,t){B(e,t);const r=null==e?void 0:e.preventAbort,n=null==e?void 0:e.preventCancel,i=null==e?void 0:e.preventClose,o=null==e?void 0:e.signal;return void 0!==o&&function(e,t){if(!function(e){if("object"!=typeof e||null===e)return!1;try{return"boolean"==typeof e.aborted}catch(e){return!1}}(e))throw new TypeError(`${t} is not an AbortSignal.`)}(o,`${t} has member 'signal' that`),{preventAbort:Boolean(r),preventCancel:Boolean(n),preventClose:Boolean(i),signal:o}}Object.defineProperties(hr.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},desiredSize:{enumerable:!0}}),s(hr.prototype.close,"close"),s(hr.prototype.enqueue,"enqueue"),s(hr.prototype.error,"error"),"symbol"==typeof Symbol.toStringTag&&Object.defineProperty(hr.prototype,Symbol.toStringTag,{value:"ReadableStreamDefaultController",configurable:!0});class Ir{constructor(e={},t={}){void 0===e?e=null:F(e,"First parameter");const r=dt(t,"Second parameter"),n=function(e,t){B(e,t);const r=e,n=null==r?void 0:r.autoAllocateChunkSize,i=null==r?void 0:r.cancel,o=null==r?void 0:r.pull,s=null==r?void 0:r.start,a=null==r?void 0:r.type;return{autoAllocateChunkSize:void 0===n?void 0:V(n,`${t} has member 'autoAllocateChunkSize' that`),cancel:void 0===i?void 0:Or(i,r,`${t} has member 'cancel' that`),pull:void 0===o?void 0:xr(o,r,`${t} has member 'pull' that`),start:void 0===s?void 0:Ar(s,r,`${t} has member 'start' that`),type:void 0===a?void 0:Mr(a,`${t} has member 'type' that`)}}(e,"First parameter");if(kr(this),"bytes"===n.type){if(void 0!==r.size)throw new RangeError("The strategy for a byte stream cannot have a size function");!function(e,t,r){const n=Object.create(xe.prototype);let i,o,s;i=void 0!==t.start?()=>t.start(n):()=>{},o=void 0!==t.pull?()=>t.pull(n):()=>f(void 0),s=void 0!==t.cancel?e=>t.cancel(e):()=>f(void 0);const a=t.autoAllocateChunkSize;if(0===a)throw new TypeError("autoAllocateChunkSize must be greater than 0");Ze(e,n,i,o,s,r,a)}(this,n,ft(r,0))}else{const e=ht(r);!function(e,t,r,n){const i=Object.create(hr.prototype);let o,s,a;o=void 0!==t.start?()=>t.start(i):()=>{},s=void 0!==t.pull?()=>t.pull(i):()=>f(void 0),a=void 0!==t.cancel?e=>t.cancel(e):()=>f(void 0),Sr(e,i,o,s,a,r,n)}(this,n,ft(r,1),e)}}get locked(){if(!Cr(this))throw Dr("locked");return $r(this)}cancel(e=void 0){return Cr(this)?$r(this)?h(new TypeError("Cannot cancel a stream that already has a reader")):Nr(this,e):h(Dr("cancel"))}getReader(e=void 0){if(!Cr(this))throw Dr("getReader");return void 0===function(e,t){B(e,t);const r=null==e?void 0:e.mode;return{mode:void 0===r?void 0:tt(r,`${t} has member 'mode' that`)}}(e,"First parameter").mode?G(this):rt(this)}pipeThrough(e,t={}){if(!Cr(this))throw Dr("pipeThrough");U(e,1,"pipeThrough");const r=function(e,t){B(e,t);const r=null==e?void 0:e.readable;q(r,"readable","ReadableWritablePair"),H(r,`${t} has member 'readable' that`);const n=null==e?void 0:e.writable;return q(n,"writable","ReadableWritablePair"),gt(n,`${t} has member 'writable' that`),{readable:r,writable:n}}(e,"First parameter"),n=Pr(t,"Second parameter");if($r(this))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(Ot(r.writable))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");return v(fr(this,r.writable,n.preventClose,n.preventAbort,n.preventCancel,n.signal)),r.readable}pipeTo(e,t={}){if(!Cr(this))return h(Dr("pipeTo"));if(void 0===e)return h("Parameter 1 is required in 'pipeTo'.");if(!Tt(e))return h(new TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));let r;try{r=Pr(t,"Second parameter")}catch(e){return h(e)}return $r(this)?h(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):Ot(e)?h(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):fr(this,e,r.preventClose,r.preventAbort,r.preventCancel,r.signal)}tee(){if(!Cr(this))throw Dr("tee");return he(Ae((e=this)._readableStreamController)?function(e){let t,r,n,i,o,s=G(e),a=!1,c=!1,u=!1,h=!1,d=!1;const p=l((e=>{o=e}));function y(e){b(e._closedPromise,(t=>(e!==s||(He(n._readableStreamController,t),He(i._readableStreamController,t),h&&d||o(void 0)),null)))}function m(){at(s)&&(I(s),s=G(e),y(s)),ee(s,{_chunkSteps:t=>{g((()=>{c=!1,u=!1;const r=t;let s=t;if(!h&&!d)try{s=we(t)}catch(t){return He(n._readableStreamController,t),He(i._readableStreamController,t),void o(Nr(e,t))}h||Ve(n._readableStreamController,r),d||Ve(i._readableStreamController,s),a=!1,c?w():u&&_()}))},_closeSteps:()=>{a=!1,h||ze(n._readableStreamController),d||ze(i._readableStreamController),n._readableStreamController._pendingPullIntos.length>0&&Je(n._readableStreamController,0),i._readableStreamController._pendingPullIntos.length>0&&Je(i._readableStreamController,0),h&&d||o(void 0)},_errorSteps:()=>{a=!1}})}function v(t,r){Q(s)&&(I(s),s=rt(e),y(s));const l=r?i:n,f=r?n:i;ct(s,t,1,{_chunkSteps:t=>{g((()=>{c=!1,u=!1;const n=r?d:h;if(r?h:d)n||Xe(l._readableStreamController,t);else{let r;try{r=we(t)}catch(t){return He(l._readableStreamController,t),He(f._readableStreamController,t),void o(Nr(e,t))}n||Xe(l._readableStreamController,t),Ve(f._readableStreamController,r)}a=!1,c?w():u&&_()}))},_closeSteps:e=>{a=!1;const t=r?d:h,n=r?h:d;t||ze(l._readableStreamController),n||ze(f._readableStreamController),void 0!==e&&(t||Xe(l._readableStreamController,e),!n&&f._readableStreamController._pendingPullIntos.length>0&&Je(f._readableStreamController,0)),t&&n||o(void 0)},_errorSteps:()=>{a=!1}})}function w(){if(a)return c=!0,f(void 0);a=!0;const e=Ke(n._readableStreamController);return null===e?m():v(e._view,!1),f(void 0)}function _(){if(a)return u=!0,f(void 0);a=!0;const e=Ke(i._readableStreamController);return null===e?m():v(e._view,!0),f(void 0)}function S(){}return n=Rr(S,w,(function(n){if(h=!0,t=n,d){const n=he([t,r]),i=Nr(e,n);o(i)}return p})),i=Rr(S,_,(function(n){if(d=!0,r=n,h){const n=he([t,r]),i=Nr(e,n);o(i)}return p})),y(s),[n,i]}(e):function(e,t){const r=G(e);let n,i,o,s,a,c=!1,u=!1,h=!1,d=!1;const p=l((e=>{a=e}));function y(){return c?(u=!0,f(void 0)):(c=!0,ee(r,{_chunkSteps:e=>{g((()=>{u=!1;const t=e,r=e;h||vr(o._readableStreamController,t),d||vr(s._readableStreamController,r),c=!1,u&&y()}))},_closeSteps:()=>{c=!1,h||mr(o._readableStreamController),d||mr(s._readableStreamController),h&&d||a(void 0)},_errorSteps:()=>{c=!1}}),f(void 0))}function m(){}return o=jr(m,y,(function(t){if(h=!0,n=t,d){const t=he([n,i]),r=Nr(e,t);a(r)}return p})),s=jr(m,y,(function(t){if(d=!0,i=t,h){const t=he([n,i]),r=Nr(e,t);a(r)}return p})),b(r._closedPromise,(e=>(gr(o._readableStreamController,e),gr(s._readableStreamController,e),h&&d||a(void 0),null))),[o,s]}(e));var e}values(e=void 0){if(!Cr(this))throw Dr("values");return function(e,t){const r=G(e),n=new ie(r,t),i=Object.create(oe);return i._asyncIteratorImpl=n,i}(this,function(e,t){B(e,"First parameter");const r=null==e?void 0:e.preventCancel;return{preventCancel:Boolean(r)}}(e).preventCancel)}[ve](e){return this.values(e)}static from(e){return Tr(e)}}function jr(e,t,r,n=1,i=(()=>1)){const o=Object.create(Ir.prototype);return kr(o),Sr(o,Object.create(hr.prototype),e,t,r,n,i),o}function Rr(e,t,r){const n=Object.create(Ir.prototype);return kr(n),Ze(n,Object.create(xe.prototype),e,t,r,0,void 0),n}function kr(e){e._state="readable",e._reader=void 0,e._storedError=void 0,e._disturbed=!1}function Cr(e){return!!i(e)&&!!Object.prototype.hasOwnProperty.call(e,"_readableStreamController")&&e instanceof Ir}function $r(e){return void 0!==e._reader}function Nr(e,t){if(e._disturbed=!0,"closed"===e._state)return f(void 0);if("errored"===e._state)return h(e._storedError);Lr(e);const r=e._reader;if(void 0!==r&&at(r)){const e=r._readIntoRequests;r._readIntoRequests=new S,e.forEach((e=>{e._closeSteps(void 0)}))}return m(e._readableStreamController[O](t),n)}function Lr(e){e._state="closed";const t=e._reader;if(void 0!==t&&($(t),Q(t))){const e=t._readRequests;t._readRequests=new S,e.forEach((e=>{e._closeSteps()}))}}function Br(e,t){e._state="errored",e._storedError=t;const r=e._reader;void 0!==r&&(C(r,t),Q(r)?te(r,t):ut(r,t))}function Dr(e){return new TypeError(`ReadableStream.prototype.${e} can only be used on a ReadableStream`)}function Fr(e,t){B(e,t);const r=null==e?void 0:e.highWaterMark;return q(r,"highWaterMark","QueuingStrategyInit"),{highWaterMark:W(r)}}Object.defineProperties(Ir,{from:{enumerable:!0}}),Object.defineProperties(Ir.prototype,{cancel:{enumerable:!0},getReader:{enumerable:!0},pipeThrough:{enumerable:!0},pipeTo:{enumerable:!0},tee:{enumerable:!0},values:{enumerable:!0},locked:{enumerable:!0}}),s(Ir.from,"from"),s(Ir.prototype.cancel,"cancel"),s(Ir.prototype.getReader,"getReader"),s(Ir.prototype.pipeThrough,"pipeThrough"),s(Ir.prototype.pipeTo,"pipeTo"),s(Ir.prototype.tee,"tee"),s(Ir.prototype.values,"values"),"symbol"==typeof Symbol.toStringTag&&Object.defineProperty(Ir.prototype,Symbol.toStringTag,{value:"ReadableStream",configurable:!0}),Object.defineProperty(Ir.prototype,ve,{value:Ir.prototype.values,writable:!0,configurable:!0});const Ur=e=>e.byteLength;s(Ur,"size");class qr{constructor(e){U(e,1,"ByteLengthQueuingStrategy"),e=Fr(e,"First parameter"),this._byteLengthQueuingStrategyHighWaterMark=e.highWaterMark}get highWaterMark(){if(!zr(this))throw Wr("highWaterMark");return this._byteLengthQueuingStrategyHighWaterMark}get size(){if(!zr(this))throw Wr("size");return Ur}}function Wr(e){return new TypeError(`ByteLengthQueuingStrategy.prototype.${e} can only be used on a ByteLengthQueuingStrategy`)}function zr(e){return!!i(e)&&!!Object.prototype.hasOwnProperty.call(e,"_byteLengthQueuingStrategyHighWaterMark")&&e instanceof qr}Object.defineProperties(qr.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),"symbol"==typeof Symbol.toStringTag&&Object.defineProperty(qr.prototype,Symbol.toStringTag,{value:"ByteLengthQueuingStrategy",configurable:!0});const Vr=()=>1;s(Vr,"size");class Hr{constructor(e){U(e,1,"CountQueuingStrategy"),e=Fr(e,"First parameter"),this._countQueuingStrategyHighWaterMark=e.highWaterMark}get highWaterMark(){if(!Kr(this))throw Gr("highWaterMark");return this._countQueuingStrategyHighWaterMark}get size(){if(!Kr(this))throw Gr("size");return Vr}}function Gr(e){return new TypeError(`CountQueuingStrategy.prototype.${e} can only be used on a CountQueuingStrategy`)}function Kr(e){return!!i(e)&&!!Object.prototype.hasOwnProperty.call(e,"_countQueuingStrategyHighWaterMark")&&e instanceof Hr}function Yr(e,t,r){return D(e,r),r=>_(e,t,[r])}function Jr(e,t,r){return D(e,r),r=>w(e,t,[r])}function Xr(e,t,r){return D(e,r),(r,n)=>_(e,t,[r,n])}function Zr(e,t,r){return D(e,r),r=>_(e,t,[r])}Object.defineProperties(Hr.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),"symbol"==typeof Symbol.toStringTag&&Object.defineProperty(Hr.prototype,Symbol.toStringTag,{value:"CountQueuingStrategy",configurable:!0});class Qr{constructor(e={},t={},r={}){void 0===e&&(e=null);const n=dt(t,"Second parameter"),i=dt(r,"Third parameter"),o=function(e,t){B(e,t);const r=null==e?void 0:e.cancel,n=null==e?void 0:e.flush,i=null==e?void 0:e.readableType,o=null==e?void 0:e.start,s=null==e?void 0:e.transform,a=null==e?void 0:e.writableType;return{cancel:void 0===r?void 0:Zr(r,e,`${t} has member 'cancel' that`),flush:void 0===n?void 0:Yr(n,e,`${t} has member 'flush' that`),readableType:i,start:void 0===o?void 0:Jr(o,e,`${t} has member 'start' that`),transform:void 0===s?void 0:Xr(s,e,`${t} has member 'transform' that`),writableType:a}}(e,"First parameter");if(void 0!==o.readableType)throw new RangeError("Invalid readableType specified");if(void 0!==o.writableType)throw new RangeError("Invalid writableType specified");const s=ft(i,0),a=ht(i),c=ft(n,1),u=ht(n);let d;!function(e,t,r,n,i,o){function s(){return t}e._writable=function(e,t,r,n,i=1,o=(()=>1)){const s=Object.create(_t.prototype);return Et(s),Wt(s,Object.create(Ut.prototype),e,t,r,n,i,o),s}(s,(function(t){return function(e,t){const r=e._transformStreamController;return e._backpressure?m(e._backpressureChangePromise,(()=>{const n=e._writable;if("erroring"===n._state)throw n._storedError;return ln(r,t)})):ln(r,t)}(e,t)}),(function(){return function(e){const t=e._transformStreamController;if(void 0!==t._finishPromise)return t._finishPromise;const r=e._readable;t._finishPromise=l(((e,r)=>{t._finishPromise_resolve=e,t._finishPromise_reject=r}));const n=t._flushAlgorithm();return cn(t),p(n,(()=>("errored"===r._state?dn(t,r._storedError):(mr(r._readableStreamController),hn(t)),null)),(e=>(gr(r._readableStreamController,e),dn(t,e),null))),t._finishPromise}(e)}),(function(t){return function(e,t){const r=e._transformStreamController;if(void 0!==r._finishPromise)return r._finishPromise;const n=e._readable;r._finishPromise=l(((e,t)=>{r._finishPromise_resolve=e,r._finishPromise_reject=t}));const i=r._cancelAlgorithm(t);return cn(r),p(i,(()=>("errored"===n._state?dn(r,n._storedError):(gr(n._readableStreamController,t),hn(r)),null)),(e=>(gr(n._readableStreamController,e),dn(r,e),null))),r._finishPromise}(e,t)}),r,n),e._readable=jr(s,(function(){return function(e){return on(e,!1),e._backpressureChangePromise}(e)}),(function(t){return function(e,t){const r=e._transformStreamController;if(void 0!==r._finishPromise)return r._finishPromise;const n=e._writable;r._finishPromise=l(((e,t)=>{r._finishPromise_resolve=e,r._finishPromise_reject=t}));const i=r._cancelAlgorithm(t);return cn(r),p(i,(()=>("errored"===n._state?dn(r,n._storedError):(Gt(n._writableStreamController,t),nn(e),hn(r)),null)),(t=>(Gt(n._writableStreamController,t),nn(e),dn(r,t),null))),r._finishPromise}(e,t)}),i,o),e._backpressure=void 0,e._backpressureChangePromise=void 0,e._backpressureChangePromise_resolve=void 0,on(e,!0),e._transformStreamController=void 0}(this,l((e=>{d=e})),c,u,s,a),function(e,t){const r=Object.create(sn.prototype);let n,i,o;n=void 0!==t.transform?e=>t.transform(e,r):e=>{try{return un(r,e),f(void 0)}catch(e){return h(e)}},i=void 0!==t.flush?()=>t.flush(r):()=>f(void 0),o=void 0!==t.cancel?e=>t.cancel(e):()=>f(void 0),function(e,t,r,n,i){t._controlledTransformStream=e,e._transformStreamController=t,t._transformAlgorithm=r,t._flushAlgorithm=n,t._cancelAlgorithm=i,t._finishPromise=void 0,t._finishPromise_resolve=void 0,t._finishPromise_reject=void 0}(e,r,n,i,o)}(this,o),void 0!==o.start?d(o.start(this._transformStreamController)):d(void 0)}get readable(){if(!en(this))throw pn("readable");return this._readable}get writable(){if(!en(this))throw pn("writable");return this._writable}}function en(e){return!!i(e)&&!!Object.prototype.hasOwnProperty.call(e,"_transformStreamController")&&e instanceof Qr}function tn(e,t){gr(e._readable._readableStreamController,t),rn(e,t)}function rn(e,t){cn(e._transformStreamController),Gt(e._writable._writableStreamController,t),nn(e)}function nn(e){e._backpressure&&on(e,!1)}function on(e,t){void 0!==e._backpressureChangePromise&&e._backpressureChangePromise_resolve(),e._backpressureChangePromise=l((t=>{e._backpressureChangePromise_resolve=t})),e._backpressure=t}Object.defineProperties(Qr.prototype,{readable:{enumerable:!0},writable:{enumerable:!0}}),"symbol"==typeof Symbol.toStringTag&&Object.defineProperty(Qr.prototype,Symbol.toStringTag,{value:"TransformStream",configurable:!0});class sn{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!an(this))throw fn("desiredSize");return wr(this._controlledTransformStream._readable._readableStreamController)}enqueue(e=void 0){if(!an(this))throw fn("enqueue");un(this,e)}error(e=void 0){if(!an(this))throw fn("error");var t;t=e,tn(this._controlledTransformStream,t)}terminate(){if(!an(this))throw fn("terminate");!function(e){const t=e._controlledTransformStream;mr(t._readable._readableStreamController);rn(t,new TypeError("TransformStream terminated"))}(this)}}function an(e){return!!i(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledTransformStream")&&e instanceof sn}function cn(e){e._transformAlgorithm=void 0,e._flushAlgorithm=void 0,e._cancelAlgorithm=void 0}function un(e,t){const r=e._controlledTransformStream,n=r._readable._readableStreamController;if(!_r(n))throw new TypeError("Readable side is not in a state that permits enqueue");try{vr(n,t)}catch(e){throw rn(r,e),r._readable._storedError}const i=function(e){return!yr(e)}(n);i!==r._backpressure&&on(r,!0)}function ln(e,t){return m(e._transformAlgorithm(t),void 0,(t=>{throw tn(e._controlledTransformStream,t),t}))}function fn(e){return new TypeError(`TransformStreamDefaultController.prototype.${e} can only be used on a TransformStreamDefaultController`)}function hn(e){void 0!==e._finishPromise_resolve&&(e._finishPromise_resolve(),e._finishPromise_resolve=void 0,e._finishPromise_reject=void 0)}function dn(e,t){void 0!==e._finishPromise_reject&&(v(e._finishPromise),e._finishPromise_reject(t),e._finishPromise_resolve=void 0,e._finishPromise_reject=void 0)}function pn(e){return new TypeError(`TransformStream.prototype.${e} can only be used on a TransformStream`)}Object.defineProperties(sn.prototype,{enqueue:{enumerable:!0},error:{enumerable:!0},terminate:{enumerable:!0},desiredSize:{enumerable:!0}}),s(sn.prototype.enqueue,"enqueue"),s(sn.prototype.error,"error"),s(sn.prototype.terminate,"terminate"),"symbol"==typeof Symbol.toStringTag&&Object.defineProperty(sn.prototype,Symbol.toStringTag,{value:"TransformStreamDefaultController",configurable:!0})},93770:e=>{e.exports=JSON.parse('{"$id":"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#","description":"Meta-schema for $data reference (JSON AnySchema extension proposal)","type":"object","required":["$data"],"properties":{"$data":{"type":"string","anyOf":[{"format":"relative-json-pointer"},{"format":"json-pointer"}]}},"additionalProperties":false}')},33928:e=>{e.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-07/schema#","$id":"http://json-schema.org/draft-07/schema#","title":"Core schema meta-schema","definitions":{"schemaArray":{"type":"array","minItems":1,"items":{"$ref":"#"}},"nonNegativeInteger":{"type":"integer","minimum":0},"nonNegativeIntegerDefault0":{"allOf":[{"$ref":"#/definitions/nonNegativeInteger"},{"default":0}]},"simpleTypes":{"enum":["array","boolean","integer","null","number","object","string"]},"stringArray":{"type":"array","items":{"type":"string"},"uniqueItems":true,"default":[]}},"type":["object","boolean"],"properties":{"$id":{"type":"string","format":"uri-reference"},"$schema":{"type":"string","format":"uri"},"$ref":{"type":"string","format":"uri-reference"},"$comment":{"type":"string"},"title":{"type":"string"},"description":{"type":"string"},"default":true,"readOnly":{"type":"boolean","default":false},"examples":{"type":"array","items":true},"multipleOf":{"type":"number","exclusiveMinimum":0},"maximum":{"type":"number"},"exclusiveMaximum":{"type":"number"},"minimum":{"type":"number"},"exclusiveMinimum":{"type":"number"},"maxLength":{"$ref":"#/definitions/nonNegativeInteger"},"minLength":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"pattern":{"type":"string","format":"regex"},"additionalItems":{"$ref":"#"},"items":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/schemaArray"}],"default":true},"maxItems":{"$ref":"#/definitions/nonNegativeInteger"},"minItems":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"uniqueItems":{"type":"boolean","default":false},"contains":{"$ref":"#"},"maxProperties":{"$ref":"#/definitions/nonNegativeInteger"},"minProperties":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"required":{"$ref":"#/definitions/stringArray"},"additionalProperties":{"$ref":"#"},"definitions":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"properties":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"patternProperties":{"type":"object","additionalProperties":{"$ref":"#"},"propertyNames":{"format":"regex"},"default":{}},"dependencies":{"type":"object","additionalProperties":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/stringArray"}]}},"propertyNames":{"$ref":"#"},"const":true,"enum":{"type":"array","items":true,"minItems":1,"uniqueItems":true},"type":{"anyOf":[{"$ref":"#/definitions/simpleTypes"},{"type":"array","items":{"$ref":"#/definitions/simpleTypes"},"minItems":1,"uniqueItems":true}]},"format":{"type":"string"},"contentMediaType":{"type":"string"},"contentEncoding":{"type":"string"},"if":{"$ref":"#"},"then":{"$ref":"#"},"else":{"$ref":"#"},"allOf":{"$ref":"#/definitions/schemaArray"},"anyOf":{"$ref":"#/definitions/schemaArray"},"oneOf":{"$ref":"#/definitions/schemaArray"},"not":{"$ref":"#"}},"default":true}')},50006:e=>{e.exports=JSON.parse('{"aes-128-ecb":{"cipher":"AES","key":128,"iv":0,"mode":"ECB","type":"block"},"aes-192-ecb":{"cipher":"AES","key":192,"iv":0,"mode":"ECB","type":"block"},"aes-256-ecb":{"cipher":"AES","key":256,"iv":0,"mode":"ECB","type":"block"},"aes-128-cbc":{"cipher":"AES","key":128,"iv":16,"mode":"CBC","type":"block"},"aes-192-cbc":{"cipher":"AES","key":192,"iv":16,"mode":"CBC","type":"block"},"aes-256-cbc":{"cipher":"AES","key":256,"iv":16,"mode":"CBC","type":"block"},"aes128":{"cipher":"AES","key":128,"iv":16,"mode":"CBC","type":"block"},"aes192":{"cipher":"AES","key":192,"iv":16,"mode":"CBC","type":"block"},"aes256":{"cipher":"AES","key":256,"iv":16,"mode":"CBC","type":"block"},"aes-128-cfb":{"cipher":"AES","key":128,"iv":16,"mode":"CFB","type":"stream"},"aes-192-cfb":{"cipher":"AES","key":192,"iv":16,"mode":"CFB","type":"stream"},"aes-256-cfb":{"cipher":"AES","key":256,"iv":16,"mode":"CFB","type":"stream"},"aes-128-cfb8":{"cipher":"AES","key":128,"iv":16,"mode":"CFB8","type":"stream"},"aes-192-cfb8":{"cipher":"AES","key":192,"iv":16,"mode":"CFB8","type":"stream"},"aes-256-cfb8":{"cipher":"AES","key":256,"iv":16,"mode":"CFB8","type":"stream"},"aes-128-cfb1":{"cipher":"AES","key":128,"iv":16,"mode":"CFB1","type":"stream"},"aes-192-cfb1":{"cipher":"AES","key":192,"iv":16,"mode":"CFB1","type":"stream"},"aes-256-cfb1":{"cipher":"AES","key":256,"iv":16,"mode":"CFB1","type":"stream"},"aes-128-ofb":{"cipher":"AES","key":128,"iv":16,"mode":"OFB","type":"stream"},"aes-192-ofb":{"cipher":"AES","key":192,"iv":16,"mode":"OFB","type":"stream"},"aes-256-ofb":{"cipher":"AES","key":256,"iv":16,"mode":"OFB","type":"stream"},"aes-128-ctr":{"cipher":"AES","key":128,"iv":16,"mode":"CTR","type":"stream"},"aes-192-ctr":{"cipher":"AES","key":192,"iv":16,"mode":"CTR","type":"stream"},"aes-256-ctr":{"cipher":"AES","key":256,"iv":16,"mode":"CTR","type":"stream"},"aes-128-gcm":{"cipher":"AES","key":128,"iv":12,"mode":"GCM","type":"auth"},"aes-192-gcm":{"cipher":"AES","key":192,"iv":12,"mode":"GCM","type":"auth"},"aes-256-gcm":{"cipher":"AES","key":256,"iv":12,"mode":"GCM","type":"auth"}}')},4716:e=>{e.exports=JSON.parse('{"sha224WithRSAEncryption":{"sign":"rsa","hash":"sha224","id":"302d300d06096086480165030402040500041c"},"RSA-SHA224":{"sign":"ecdsa/rsa","hash":"sha224","id":"302d300d06096086480165030402040500041c"},"sha256WithRSAEncryption":{"sign":"rsa","hash":"sha256","id":"3031300d060960864801650304020105000420"},"RSA-SHA256":{"sign":"ecdsa/rsa","hash":"sha256","id":"3031300d060960864801650304020105000420"},"sha384WithRSAEncryption":{"sign":"rsa","hash":"sha384","id":"3041300d060960864801650304020205000430"},"RSA-SHA384":{"sign":"ecdsa/rsa","hash":"sha384","id":"3041300d060960864801650304020205000430"},"sha512WithRSAEncryption":{"sign":"rsa","hash":"sha512","id":"3051300d060960864801650304020305000440"},"RSA-SHA512":{"sign":"ecdsa/rsa","hash":"sha512","id":"3051300d060960864801650304020305000440"},"RSA-SHA1":{"sign":"rsa","hash":"sha1","id":"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{"sign":"ecdsa","hash":"sha1","id":""},"sha256":{"sign":"ecdsa","hash":"sha256","id":""},"sha224":{"sign":"ecdsa","hash":"sha224","id":""},"sha384":{"sign":"ecdsa","hash":"sha384","id":""},"sha512":{"sign":"ecdsa","hash":"sha512","id":""},"DSA-SHA":{"sign":"dsa","hash":"sha1","id":""},"DSA-SHA1":{"sign":"dsa","hash":"sha1","id":""},"DSA":{"sign":"dsa","hash":"sha1","id":""},"DSA-WITH-SHA224":{"sign":"dsa","hash":"sha224","id":""},"DSA-SHA224":{"sign":"dsa","hash":"sha224","id":""},"DSA-WITH-SHA256":{"sign":"dsa","hash":"sha256","id":""},"DSA-SHA256":{"sign":"dsa","hash":"sha256","id":""},"DSA-WITH-SHA384":{"sign":"dsa","hash":"sha384","id":""},"DSA-SHA384":{"sign":"dsa","hash":"sha384","id":""},"DSA-WITH-SHA512":{"sign":"dsa","hash":"sha512","id":""},"DSA-SHA512":{"sign":"dsa","hash":"sha512","id":""},"DSA-RIPEMD160":{"sign":"dsa","hash":"rmd160","id":""},"ripemd160WithRSA":{"sign":"rsa","hash":"rmd160","id":"3021300906052b2403020105000414"},"RSA-RIPEMD160":{"sign":"rsa","hash":"rmd160","id":"3021300906052b2403020105000414"},"md5WithRSAEncryption":{"sign":"rsa","hash":"md5","id":"3020300c06082a864886f70d020505000410"},"RSA-MD5":{"sign":"rsa","hash":"md5","id":"3020300c06082a864886f70d020505000410"}}')},36646:e=>{e.exports=JSON.parse('{"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}')},18632:e=>{e.exports=JSON.parse('{"modp1":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},"modp2":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},"modp5":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},"modp14":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},"modp15":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},"modp16":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},"modp17":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},"modp18":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}')},30183:e=>{e.exports={rE:"6.5.5"}},81892:e=>{e.exports=JSON.parse('{"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}')},64914:e=>{e.exports=JSON.parse('{"title":"Thing Description","version":"1.1-09-November-2023","description":"JSON Schema for validating TD instances against the TD information model. TD instances can be with or without terms that have default values","$schema":"http://json-schema.org/draft-07/schema#","$id":"https://raw.githubusercontent.com/w3c/wot-thing-description/main/validation/td-json-schema-validation.json","definitions":{"anyUri":{"type":"string"},"description":{"type":"string"},"descriptions":{"type":"object","additionalProperties":{"type":"string"}},"title":{"type":"string"},"titles":{"type":"object","additionalProperties":{"type":"string"}},"security":{"oneOf":[{"type":"array","items":{"type":"string"},"minItems":1},{"type":"string"}]},"scopes":{"oneOf":[{"type":"array","items":{"type":"string"}},{"type":"string"}]},"subprotocol":{"type":"string","examples":["longpoll","websub","sse"]},"thing-context-td-uri-v1":{"type":"string","const":"https://www.w3.org/2019/wot/td/v1"},"thing-context-td-uri-v1.1":{"type":"string","const":"https://www.w3.org/2022/wot/td/v1.1"},"thing-context-td-uri-temp":{"type":"string","const":"http://www.w3.org/ns/td"},"thing-context":{"anyOf":[{"$comment":"New context URI with other vocabularies after it but not the old one","type":"array","items":[{"$ref":"#/definitions/thing-context-td-uri-v1.1"}],"additionalItems":{"anyOf":[{"$ref":"#/definitions/anyUri"},{"type":"object"}],"not":{"$ref":"#/definitions/thing-context-td-uri-v1"}}},{"$comment":"Only the new context URI","$ref":"#/definitions/thing-context-td-uri-v1.1"},{"$comment":"Old context URI, followed by the new one and possibly other vocabularies. minItems and contains are required since prefixItems does not say all items should be provided","type":"array","prefixItems":[{"$ref":"#/definitions/thing-context-td-uri-v1"},{"$ref":"#/definitions/thing-context-td-uri-v1.1"}],"minItems":2,"contains":{"$ref":"#/definitions/thing-context-td-uri-v1.1"},"additionalItems":{"anyOf":[{"$ref":"#/definitions/anyUri"},{"type":"object"}]}},{"$comment":"Old context URI, followed by possibly other vocabularies. minItems and contains are required since prefixItems does not say all items should be provided","type":"array","prefixItems":[{"$ref":"#/definitions/thing-context-td-uri-v1"}],"minItems":1,"contains":{"$ref":"#/definitions/thing-context-td-uri-v1"},"additionalItems":{"anyOf":[{"$ref":"#/definitions/anyUri"},{"type":"object"}]}},{"$comment":"Only the old context URI","$ref":"#/definitions/thing-context-td-uri-v1"}]},"bcp47_string":{"type":"string","pattern":"^(((([A-Za-z]{2,3}(-([A-Za-z]{3}(-[A-Za-z]{3}){0,2}))?)|[A-Za-z]{4}|[A-Za-z]{5,8})(-([A-Za-z]{4}))?(-([A-Za-z]{2}|[0-9]{3}))?(-([A-Za-z0-9]{5,8}|[0-9][A-Za-z0-9]{3}))*(-([0-9A-WY-Za-wy-z](-[A-Za-z0-9]{2,8})+))*(-(x(-[A-Za-z0-9]{1,8})+))?)|(x(-[A-Za-z0-9]{1,8})+)|((en-GB-oed|i-ami|i-bnn|i-default|i-enochian|i-hak|i-klingon|i-lux|i-mingo|i-navajo|i-pwn|i-tao|i-tay|i-tsu|sgn-BE-FR|sgn-BE-NL|sgn-CH-DE)|(art-lojban|cel-gaulish|no-bok|no-nyn|zh-guoyu|zh-hakka|zh-min|zh-min-nan|zh-xiang)))$"},"type_declaration":{"oneOf":[{"type":"string","not":{"const":"tm:ThingModel"}},{"type":"array","items":{"type":"string","not":{"const":"tm:ThingModel"}}}]},"dataSchema-type":{"type":"string","enum":["boolean","integer","number","string","object","array","null"]},"dataSchema":{"type":"object","properties":{"@type":{"$ref":"#/definitions/type_declaration"},"description":{"$ref":"#/definitions/description"},"title":{"$ref":"#/definitions/title"},"descriptions":{"$ref":"#/definitions/descriptions"},"titles":{"$ref":"#/definitions/titles"},"writeOnly":{"type":"boolean"},"readOnly":{"type":"boolean"},"oneOf":{"type":"array","items":{"$ref":"#/definitions/dataSchema"}},"unit":{"type":"string"},"enum":{"type":"array","minItems":1,"uniqueItems":true},"format":{"type":"string"},"const":{},"default":{},"contentEncoding":{"type":"string"},"contentMediaType":{"type":"string"},"type":{"$ref":"#/definitions/dataSchema-type"},"items":{"oneOf":[{"$ref":"#/definitions/dataSchema"},{"type":"array","items":{"$ref":"#/definitions/dataSchema"}}]},"maxItems":{"type":"integer","minimum":0},"minItems":{"type":"integer","minimum":0},"minimum":{"type":"number"},"maximum":{"type":"number"},"exclusiveMinimum":{"type":"number"},"exclusiveMaximum":{"type":"number"},"minLength":{"type":"integer","minimum":0},"maxLength":{"type":"integer","minimum":0},"multipleOf":{"$ref":"#/definitions/multipleOfDefinition"},"properties":{"additionalProperties":{"$ref":"#/definitions/dataSchema"}},"required":{"type":"array","items":{"type":"string"}}}},"additionalResponsesDefinition":{"type":"array","items":{"type":"object","properties":{"contentType":{"type":"string"},"schema":{"type":"string"},"success":{"type":"boolean"}}}},"multipleOfDefinition":{"type":["integer","number"],"exclusiveMinimum":0},"expectedResponse":{"type":"object","properties":{"contentType":{"type":"string"}},"required":["contentType"]},"form_element_base":{"type":"object","properties":{"op":{"oneOf":[{"type":"string"},{"type":"array","items":{"type":"string"}}]},"href":{"$ref":"#/definitions/anyUri"},"contentType":{"type":"string"},"contentCoding":{"type":"string"},"subprotocol":{"$ref":"#/definitions/subprotocol"},"security":{"$ref":"#/definitions/security"},"scopes":{"$ref":"#/definitions/scopes"},"response":{"$ref":"#/definitions/expectedResponse"},"additionalResponses":{"$ref":"#/definitions/additionalResponsesDefinition"}},"required":["href"],"additionalProperties":true},"form_element_property":{"allOf":[{"$ref":"#/definitions/form_element_base"}],"type":"object","properties":{"op":{"oneOf":[{"type":"string","enum":["readproperty","writeproperty","observeproperty","unobserveproperty"]},{"type":"array","items":{"type":"string","enum":["readproperty","writeproperty","observeproperty","unobserveproperty"]},"minItems":1}]}},"additionalProperties":true},"form_element_action":{"allOf":[{"$ref":"#/definitions/form_element_base"}],"type":"object","properties":{"op":{"oneOf":[{"type":"string","enum":["invokeaction","queryaction","cancelaction"]},{"type":"array","items":{"type":"string","enum":["invokeaction","queryaction","cancelaction"]},"minItems":1}]}},"additionalProperties":true},"form_element_event":{"allOf":[{"$ref":"#/definitions/form_element_base"}],"type":"object","properties":{"op":{"oneOf":[{"type":"string","enum":["subscribeevent","unsubscribeevent"]},{"type":"array","items":{"type":"string","enum":["subscribeevent","unsubscribeevent"]},"minItems":1}]}},"additionalProperties":true},"form_element_root":{"allOf":[{"$ref":"#/definitions/form_element_base"}],"type":"object","properties":{"op":{"oneOf":[{"type":"string","enum":["readallproperties","writeallproperties","readmultipleproperties","writemultipleproperties","observeallproperties","unobserveallproperties","queryallactions","subscribeallevents","unsubscribeallevents"]},{"type":"array","items":{"type":"string","enum":["readallproperties","writeallproperties","readmultipleproperties","writemultipleproperties","observeallproperties","unobserveallproperties","queryallactions","subscribeallevents","unsubscribeallevents"]},"minItems":1}]}},"additionalProperties":true,"required":["op"]},"form":{"$comment":"This is NOT for validation purposes but for automatic generation of TS types. For more info, please see: https://github.com/w3c/wot-thing-description/pull/1319#issuecomment-994950057","oneOf":[{"$ref":"#/definitions/form_element_property"},{"$ref":"#/definitions/form_element_action"},{"$ref":"#/definitions/form_element_event"},{"$ref":"#/definitions/form_element_root"}]},"property_element":{"type":"object","properties":{"@type":{"$ref":"#/definitions/type_declaration"},"description":{"$ref":"#/definitions/description"},"descriptions":{"$ref":"#/definitions/descriptions"},"title":{"$ref":"#/definitions/title"},"titles":{"$ref":"#/definitions/titles"},"forms":{"type":"array","minItems":1,"items":{"$ref":"#/definitions/form_element_property"}},"uriVariables":{"type":"object","additionalProperties":{"$ref":"#/definitions/dataSchema"}},"observable":{"type":"boolean"},"writeOnly":{"type":"boolean"},"readOnly":{"type":"boolean"},"oneOf":{"type":"array","items":{"$ref":"#/definitions/dataSchema"}},"unit":{"type":"string"},"enum":{"type":"array","minItems":1,"uniqueItems":true},"format":{"type":"string"},"const":{},"default":{},"type":{"$ref":"#/definitions/dataSchema-type"},"items":{"oneOf":[{"$ref":"#/definitions/dataSchema"},{"type":"array","items":{"$ref":"#/definitions/dataSchema"}}]},"maxItems":{"type":"integer","minimum":0},"minItems":{"type":"integer","minimum":0},"minimum":{"type":"number"},"maximum":{"type":"number"},"exclusiveMinimum":{"type":"number"},"exclusiveMaximum":{"type":"number"},"minLength":{"type":"integer","minimum":0},"maxLength":{"type":"integer","minimum":0},"multipleOf":{"$ref":"#/definitions/multipleOfDefinition"},"properties":{"additionalProperties":{"$ref":"#/definitions/dataSchema"}},"required":{"type":"array","items":{"type":"string"}}},"required":["forms"],"additionalProperties":true},"action_element":{"type":"object","properties":{"@type":{"$ref":"#/definitions/type_declaration"},"description":{"$ref":"#/definitions/description"},"descriptions":{"$ref":"#/definitions/descriptions"},"title":{"$ref":"#/definitions/title"},"titles":{"$ref":"#/definitions/titles"},"forms":{"type":"array","minItems":1,"items":{"$ref":"#/definitions/form_element_action"}},"uriVariables":{"type":"object","additionalProperties":{"$ref":"#/definitions/dataSchema"}},"input":{"$ref":"#/definitions/dataSchema"},"output":{"$ref":"#/definitions/dataSchema"},"safe":{"type":"boolean"},"idempotent":{"type":"boolean"},"synchronous":{"type":"boolean"}},"required":["forms"],"additionalProperties":true},"event_element":{"type":"object","properties":{"@type":{"$ref":"#/definitions/type_declaration"},"description":{"$ref":"#/definitions/description"},"descriptions":{"$ref":"#/definitions/descriptions"},"title":{"$ref":"#/definitions/title"},"titles":{"$ref":"#/definitions/titles"},"forms":{"type":"array","minItems":1,"items":{"$ref":"#/definitions/form_element_event"}},"uriVariables":{"type":"object","additionalProperties":{"$ref":"#/definitions/dataSchema"}},"subscription":{"$ref":"#/definitions/dataSchema"},"data":{"$ref":"#/definitions/dataSchema"},"dataResponse":{"$ref":"#/definitions/dataSchema"},"cancellation":{"$ref":"#/definitions/dataSchema"}},"required":["forms"],"additionalProperties":true},"base_link_element":{"type":"object","properties":{"href":{"$ref":"#/definitions/anyUri"},"type":{"type":"string"},"rel":{"type":"string"},"anchor":{"$ref":"#/definitions/anyUri"},"hreflang":{"anyOf":[{"$ref":"#/definitions/bcp47_string"},{"type":"array","items":{"$ref":"#/definitions/bcp47_string"}}]}},"required":["href"],"additionalProperties":true},"link_element":{"allOf":[{"$ref":"#/definitions/base_link_element"},{"not":{"description":"A basic link element should not contain sizes","type":"object","properties":{"sizes":{}},"required":["sizes"]}},{"not":{"description":"A basic link element should not contain icon or tm:extends","properties":{"rel":{"enum":["icon","tm:extends"]}},"required":["rel"]}}]},"icon_link_element":{"allOf":[{"$ref":"#/definitions/base_link_element"},{"properties":{"rel":{"const":"icon"},"sizes":{"type":"string","pattern":"[0-9]*x[0-9]+"}},"required":["rel"]}]},"additionalSecurityScheme":{"description":"Applies to additional SecuritySchemes not defined in the WoT TD specification.","$comment":"Additional SecuritySchemes should always be defined via a context extension, using a prefixed value for the scheme. This prefix (e.g. \'ace\', see the example below) must contain at least one character in order to reference a valid JSON-LD context extension.","examples":[{"scheme":"ace:ACESecurityScheme","ace:as":"coaps://as.example.com/token","ace:audience":"coaps://rs.example.com","ace:scopes":["limited","special"],"ace:cnonce":true}],"type":"object","properties":{"@type":{"$ref":"#/definitions/type_declaration"},"description":{"$ref":"#/definitions/description"},"descriptions":{"$ref":"#/definitions/descriptions"},"proxy":{"$ref":"#/definitions/anyUri"},"scheme":{"type":"string","pattern":".+:.*"}},"required":["scheme"],"additionalProperties":true},"noSecurityScheme":{"type":"object","properties":{"@type":{"$ref":"#/definitions/type_declaration"},"description":{"$ref":"#/definitions/description"},"descriptions":{"$ref":"#/definitions/descriptions"},"proxy":{"$ref":"#/definitions/anyUri"},"scheme":{"type":"string","enum":["nosec"]}},"required":["scheme"],"additionalProperties":true},"autoSecurityScheme":{"type":"object","properties":{"@type":{"$ref":"#/definitions/type_declaration"},"description":{"$ref":"#/definitions/description"},"descriptions":{"$ref":"#/definitions/descriptions"},"proxy":{"$ref":"#/definitions/anyUri"},"scheme":{"type":"string","enum":["auto"]}},"not":{"required":["name"]},"required":["scheme"],"additionalProperties":true},"comboSecurityScheme":{"oneOf":[{"type":"object","properties":{"@type":{"$ref":"#/definitions/type_declaration"},"description":{"$ref":"#/definitions/description"},"descriptions":{"$ref":"#/definitions/descriptions"},"proxy":{"$ref":"#/definitions/anyUri"},"scheme":{"type":"string","enum":["combo"]},"oneOf":{"type":"array","minItems":2,"items":{"type":"string"}}},"required":["scheme","oneOf"],"additionalProperties":true},{"type":"object","properties":{"@type":{"$ref":"#/definitions/type_declaration"},"description":{"$ref":"#/definitions/description"},"descriptions":{"$ref":"#/definitions/descriptions"},"proxy":{"$ref":"#/definitions/anyUri"},"scheme":{"type":"string","enum":["combo"]},"allOf":{"type":"array","minItems":2,"items":{"type":"string"}}},"required":["scheme","allOf"],"additionalProperties":true}]},"basicSecurityScheme":{"type":"object","properties":{"@type":{"$ref":"#/definitions/type_declaration"},"description":{"$ref":"#/definitions/description"},"descriptions":{"$ref":"#/definitions/descriptions"},"proxy":{"$ref":"#/definitions/anyUri"},"scheme":{"type":"string","enum":["basic"]},"in":{"type":"string","enum":["header","query","body","cookie","auto"]},"name":{"type":"string"}},"required":["scheme"],"additionalProperties":true},"digestSecurityScheme":{"type":"object","properties":{"@type":{"$ref":"#/definitions/type_declaration"},"description":{"$ref":"#/definitions/description"},"descriptions":{"$ref":"#/definitions/descriptions"},"proxy":{"$ref":"#/definitions/anyUri"},"scheme":{"type":"string","enum":["digest"]},"qop":{"type":"string","enum":["auth","auth-int"]},"in":{"type":"string","enum":["header","query","body","cookie","auto"]},"name":{"type":"string"}},"required":["scheme"],"additionalProperties":true},"apiKeySecurityScheme":{"type":"object","properties":{"@type":{"$ref":"#/definitions/type_declaration"},"description":{"$ref":"#/definitions/description"},"descriptions":{"$ref":"#/definitions/descriptions"},"proxy":{"$ref":"#/definitions/anyUri"},"scheme":{"type":"string","enum":["apikey"]},"in":{"type":"string","enum":["header","query","body","cookie","uri","auto"]},"name":{"type":"string"}},"required":["scheme"],"additionalProperties":true},"bearerSecurityScheme":{"type":"object","properties":{"@type":{"$ref":"#/definitions/type_declaration"},"description":{"$ref":"#/definitions/description"},"descriptions":{"$ref":"#/definitions/descriptions"},"proxy":{"$ref":"#/definitions/anyUri"},"scheme":{"type":"string","enum":["bearer"]},"authorization":{"$ref":"#/definitions/anyUri"},"alg":{"type":"string"},"format":{"type":"string"},"in":{"type":"string","enum":["header","query","body","cookie","auto"]},"name":{"type":"string"}},"required":["scheme"],"additionalProperties":true},"pskSecurityScheme":{"type":"object","properties":{"@type":{"$ref":"#/definitions/type_declaration"},"description":{"$ref":"#/definitions/description"},"descriptions":{"$ref":"#/definitions/descriptions"},"proxy":{"$ref":"#/definitions/anyUri"},"scheme":{"type":"string","enum":["psk"]},"identity":{"type":"string"}},"required":["scheme"],"additionalProperties":true},"oAuth2SecurityScheme":{"type":"object","properties":{"@type":{"$ref":"#/definitions/type_declaration"},"description":{"$ref":"#/definitions/description"},"descriptions":{"$ref":"#/definitions/descriptions"},"proxy":{"$ref":"#/definitions/anyUri"},"scheme":{"type":"string","enum":["oauth2"]},"authorization":{"$ref":"#/definitions/anyUri"},"token":{"$ref":"#/definitions/anyUri"},"refresh":{"$ref":"#/definitions/anyUri"},"scopes":{"oneOf":[{"type":"array","items":{"type":"string"}},{"type":"string"}]},"flow":{"anyOf":[{"type":"string"},{"type":"string","enum":["code","client"]}]}},"required":["scheme"],"additionalProperties":true},"securityScheme":{"oneOf":[{"$ref":"#/definitions/noSecurityScheme"},{"$ref":"#/definitions/autoSecurityScheme"},{"$ref":"#/definitions/comboSecurityScheme"},{"$ref":"#/definitions/basicSecurityScheme"},{"$ref":"#/definitions/digestSecurityScheme"},{"$ref":"#/definitions/apiKeySecurityScheme"},{"$ref":"#/definitions/bearerSecurityScheme"},{"$ref":"#/definitions/pskSecurityScheme"},{"$ref":"#/definitions/oAuth2SecurityScheme"},{"$ref":"#/definitions/additionalSecurityScheme"}]}},"type":"object","properties":{"id":{"type":"string","format":"uri"},"title":{"$ref":"#/definitions/title"},"titles":{"$ref":"#/definitions/titles"},"properties":{"type":"object","additionalProperties":{"$ref":"#/definitions/property_element"}},"actions":{"type":"object","additionalProperties":{"$ref":"#/definitions/action_element"}},"events":{"type":"object","additionalProperties":{"$ref":"#/definitions/event_element"}},"description":{"$ref":"#/definitions/description"},"descriptions":{"$ref":"#/definitions/descriptions"},"version":{"type":"object","properties":{"instance":{"type":"string"}},"required":["instance"]},"links":{"type":"array","items":{"oneOf":[{"$ref":"#/definitions/link_element"},{"$ref":"#/definitions/icon_link_element"}]}},"forms":{"type":"array","minItems":1,"items":{"$ref":"#/definitions/form_element_root"}},"base":{"$ref":"#/definitions/anyUri"},"securityDefinitions":{"type":"object","minProperties":1,"additionalProperties":{"$ref":"#/definitions/securityScheme"}},"schemaDefinitions":{"type":"object","minProperties":1,"additionalProperties":{"$ref":"#/definitions/dataSchema"}},"support":{"$ref":"#/definitions/anyUri"},"created":{"type":"string","format":"date-time"},"modified":{"type":"string","format":"date-time"},"profile":{"oneOf":[{"$ref":"#/definitions/anyUri"},{"type":"array","minItems":1,"items":{"$ref":"#/definitions/anyUri"}}]},"security":{"oneOf":[{"type":"string"},{"type":"array","minItems":1,"items":{"type":"string"}}]},"uriVariables":{"type":"object","additionalProperties":{"$ref":"#/definitions/dataSchema"}},"@type":{"$ref":"#/definitions/type_declaration"},"@context":{"$ref":"#/definitions/thing-context"}},"required":["title","security","securityDefinitions","@context"],"additionalProperties":true}')},15494:e=>{e.exports=JSON.parse('{"title":"Thing Model","version":"1.1-09-November-2023","description":"JSON Schema for validating Thing Models. This is automatically generated from the WoT TD Schema.","$schema":"http://json-schema.org/draft-07/schema#","$id":"https://raw.githubusercontent.com/w3c/wot-thing-description/main/validation/tm-json-schema-validation.json","definitions":{"anyUri":{"type":"string"},"description":{"type":"string"},"descriptions":{"type":"object","additionalProperties":{"type":"string"},"propertyNames":{"not":{"$ref":"#/definitions/placeholder-pattern"}}},"title":{"type":"string"},"titles":{"type":"object","additionalProperties":{"type":"string"},"propertyNames":{"not":{"$ref":"#/definitions/placeholder-pattern"}}},"security":{"oneOf":[{"type":"array","items":{"type":"string"}},{"type":"string"}]},"scopes":{"oneOf":[{"type":"array","items":{"type":"string"}},{"type":"string"}]},"subprotocol":{"type":"string","examples":["longpoll","websub","sse"]},"thing-context-td-uri-v1":{"type":"string","const":"https://www.w3.org/2019/wot/td/v1"},"thing-context-td-uri-v1.1":{"type":"string","const":"https://www.w3.org/2022/wot/td/v1.1"},"thing-context-td-uri-temp":{"type":"string","const":"http://www.w3.org/ns/td"},"thing-context":{"anyOf":[{"$comment":"New context URI with other vocabularies after it but not the old one","type":"array","items":[{"$ref":"#/definitions/thing-context-td-uri-v1.1"}],"additionalItems":{"anyOf":[{"$ref":"#/definitions/anyUri"},{"type":"object"}],"not":{"$ref":"#/definitions/thing-context-td-uri-v1"}}},{"$comment":"Only the new context URI","$ref":"#/definitions/thing-context-td-uri-v1.1"},{"$comment":"Old context URI, followed by the new one and possibly other vocabularies. minItems and contains are required since prefixItems does not say all items should be provided","type":"array","prefixItems":[{"$ref":"#/definitions/thing-context-td-uri-v1"},{"$ref":"#/definitions/thing-context-td-uri-v1.1"}],"minItems":2,"contains":{"$ref":"#/definitions/thing-context-td-uri-v1.1"},"additionalItems":{"anyOf":[{"$ref":"#/definitions/anyUri"},{"type":"object"}]}},{"$comment":"Old context URI, followed by possibly other vocabularies. minItems and contains are required since prefixItems does not say all items should be provided","type":"array","prefixItems":[{"$ref":"#/definitions/thing-context-td-uri-v1"}],"minItems":1,"contains":{"$ref":"#/definitions/thing-context-td-uri-v1"},"additionalItems":{"anyOf":[{"$ref":"#/definitions/anyUri"},{"type":"object"}]}},{"$comment":"Only the old context URI","$ref":"#/definitions/thing-context-td-uri-v1"}]},"bcp47_string":{"type":"string","pattern":"^(((([A-Za-z]{2,3}(-([A-Za-z]{3}(-[A-Za-z]{3}){0,2}))?)|[A-Za-z]{4}|[A-Za-z]{5,8})(-([A-Za-z]{4}))?(-([A-Za-z]{2}|[0-9]{3}))?(-([A-Za-z0-9]{5,8}|[0-9][A-Za-z0-9]{3}))*(-([0-9A-WY-Za-wy-z](-[A-Za-z0-9]{2,8})+))*(-(x(-[A-Za-z0-9]{1,8})+))?)|(x(-[A-Za-z0-9]{1,8})+)|((en-GB-oed|i-ami|i-bnn|i-default|i-enochian|i-hak|i-klingon|i-lux|i-mingo|i-navajo|i-pwn|i-tao|i-tay|i-tsu|sgn-BE-FR|sgn-BE-NL|sgn-CH-DE)|(art-lojban|cel-gaulish|no-bok|no-nyn|zh-guoyu|zh-hakka|zh-min|zh-min-nan|zh-xiang)))$"},"type_declaration":{"oneOf":[{"type":"string"},{"type":"array","items":{"type":"string"}}]},"dataSchema-type":{"type":"string","anyOf":[{"enum":["boolean","integer","number","string","object","array","null"]},{"$ref":"#/definitions/placeholder-pattern"}]},"dataSchema":{"type":"object","properties":{"@type":{"$ref":"#/definitions/type_declaration"},"description":{"$ref":"#/definitions/description"},"title":{"$ref":"#/definitions/title"},"descriptions":{"$ref":"#/definitions/descriptions"},"titles":{"$ref":"#/definitions/titles"},"writeOnly":{"anyOf":[{"type":"boolean"},{"$ref":"#/definitions/placeholder-pattern"}]},"readOnly":{"anyOf":[{"type":"boolean"},{"$ref":"#/definitions/placeholder-pattern"}]},"oneOf":{"type":"array","items":{"$ref":"#/definitions/dataSchema"}},"unit":{"type":"string"},"enum":{"anyOf":[{"type":"array","minItems":1,"uniqueItems":true},{"$ref":"#/definitions/placeholder-pattern"}]},"format":{"type":"string"},"const":{},"default":{},"contentEncoding":{"type":"string"},"contentMediaType":{"type":"string"},"type":{"$ref":"#/definitions/dataSchema-type"},"items":{"oneOf":[{"$ref":"#/definitions/dataSchema"},{"type":"array","items":{"$ref":"#/definitions/dataSchema"}}]},"maxItems":{"anyOf":[{"type":"integer","minimum":0},{"$ref":"#/definitions/placeholder-pattern"}]},"minItems":{"anyOf":[{"type":"integer","minimum":0},{"$ref":"#/definitions/placeholder-pattern"}]},"minimum":{"anyOf":[{"type":"number"},{"$ref":"#/definitions/placeholder-pattern"}]},"maximum":{"anyOf":[{"type":"number"},{"$ref":"#/definitions/placeholder-pattern"}]},"exclusiveMinimum":{"type":"number"},"exclusiveMaximum":{"type":"number"},"minLength":{"anyOf":[{"type":"integer","minimum":0},{"$ref":"#/definitions/placeholder-pattern"}]},"maxLength":{"anyOf":[{"type":"integer","minimum":0},{"$ref":"#/definitions/placeholder-pattern"}]},"multipleOf":{"$ref":"#/definitions/multipleOfDefinition"},"properties":{"additionalProperties":{"$ref":"#/definitions/dataSchema"}},"required":{"anyOf":[{"type":"array","items":{"type":"string"}},{"$ref":"#/definitions/placeholder-pattern"}]},"tm:ref":{"$ref":"#/definitions/tm_ref"}},"propertyNames":{"not":{"$ref":"#/definitions/placeholder-pattern"}}},"additionalResponsesDefinition":{"type":"array","items":{"type":"object","properties":{"contentType":{"type":"string"},"schema":{"type":"string"},"success":{"type":"boolean"}}}},"multipleOfDefinition":{"anyOf":[{"type":["integer","number"],"exclusiveMinimum":0},{"$ref":"#/definitions/placeholder-pattern"}]},"expectedResponse":{"type":"object","properties":{"contentType":{"type":"string"}},"propertyNames":{"not":{"$ref":"#/definitions/placeholder-pattern"}}},"form_element_base":{"type":"object","properties":{"op":{"oneOf":[{"type":"string"},{"type":"array","items":{"type":"string"}}]},"href":{"$ref":"#/definitions/anyUri"},"contentType":{"type":"string"},"contentCoding":{"type":"string"},"subprotocol":{"$ref":"#/definitions/subprotocol"},"security":{"$ref":"#/definitions/security"},"scopes":{"$ref":"#/definitions/scopes"},"response":{"$ref":"#/definitions/expectedResponse"},"additionalResponses":{"$ref":"#/definitions/additionalResponsesDefinition"}},"additionalProperties":true,"propertyNames":{"not":{"$ref":"#/definitions/placeholder-pattern"}}},"form_element_property":{"allOf":[{"$ref":"#/definitions/form_element_base"}],"type":"object","properties":{"op":{"oneOf":[{"type":"string","anyOf":[{"enum":["readproperty","writeproperty","observeproperty","unobserveproperty"]},{"$ref":"#/definitions/placeholder-pattern"}]},{"type":"array","items":{"type":"string","anyOf":[{"enum":["readproperty","writeproperty","observeproperty","unobserveproperty"]},{"$ref":"#/definitions/placeholder-pattern"}]},"minItems":1}]},"tm:ref":{"$ref":"#/definitions/tm_ref"}},"additionalProperties":true,"propertyNames":{"not":{"$ref":"#/definitions/placeholder-pattern"}}},"form_element_action":{"allOf":[{"$ref":"#/definitions/form_element_base"}],"type":"object","properties":{"op":{"oneOf":[{"type":"string","anyOf":[{"enum":["invokeaction","queryaction","cancelaction"]},{"$ref":"#/definitions/placeholder-pattern"}]},{"type":"array","items":{"type":"string","anyOf":[{"enum":["invokeaction","queryaction","cancelaction"]},{"$ref":"#/definitions/placeholder-pattern"}]},"minItems":1}]},"tm:ref":{"$ref":"#/definitions/tm_ref"}},"additionalProperties":true,"propertyNames":{"not":{"$ref":"#/definitions/placeholder-pattern"}}},"form_element_event":{"allOf":[{"$ref":"#/definitions/form_element_base"}],"type":"object","properties":{"op":{"oneOf":[{"type":"string","anyOf":[{"enum":["subscribeevent","unsubscribeevent"]},{"$ref":"#/definitions/placeholder-pattern"}]},{"type":"array","items":{"type":"string","anyOf":[{"enum":["subscribeevent","unsubscribeevent"]},{"$ref":"#/definitions/placeholder-pattern"}]},"minItems":1}]},"tm:ref":{"$ref":"#/definitions/tm_ref"}},"additionalProperties":true,"propertyNames":{"not":{"$ref":"#/definitions/placeholder-pattern"}}},"form_element_root":{"allOf":[{"$ref":"#/definitions/form_element_base"}],"type":"object","properties":{"op":{"oneOf":[{"type":"string","anyOf":[{"enum":["readallproperties","writeallproperties","readmultipleproperties","writemultipleproperties","observeallproperties","unobserveallproperties","queryallactions","subscribeallevents","unsubscribeallevents"]},{"$ref":"#/definitions/placeholder-pattern"}]},{"type":"array","items":{"type":"string","anyOf":[{"enum":["readallproperties","writeallproperties","readmultipleproperties","writemultipleproperties","observeallproperties","unobserveallproperties","queryallactions","subscribeallevents","unsubscribeallevents"]},{"$ref":"#/definitions/placeholder-pattern"}]},"minItems":1}]},"tm:ref":{"$ref":"#/definitions/tm_ref"}},"additionalProperties":true,"propertyNames":{"not":{"$ref":"#/definitions/placeholder-pattern"}}},"form":{"$comment":"This is NOT for validation purposes but for automatic generation of TS types. For more info, please see: https://github.com/w3c/wot-thing-description/pull/1319#issuecomment-994950057","oneOf":[{"$ref":"#/definitions/form_element_property"},{"$ref":"#/definitions/form_element_action"},{"$ref":"#/definitions/form_element_event"},{"$ref":"#/definitions/form_element_root"}]},"property_element":{"type":"object","properties":{"@type":{"$ref":"#/definitions/type_declaration"},"description":{"$ref":"#/definitions/description"},"descriptions":{"$ref":"#/definitions/descriptions"},"title":{"$ref":"#/definitions/title"},"titles":{"$ref":"#/definitions/titles"},"forms":{"type":"array","minItems":1,"items":{"$ref":"#/definitions/form_element_property"}},"uriVariables":{"type":"object","additionalProperties":{"$ref":"#/definitions/dataSchema"},"propertyNames":{"not":{"$ref":"#/definitions/placeholder-pattern"}}},"observable":{"anyOf":[{"type":"boolean"},{"$ref":"#/definitions/placeholder-pattern"}]},"writeOnly":{"anyOf":[{"type":"boolean"},{"$ref":"#/definitions/placeholder-pattern"}]},"readOnly":{"anyOf":[{"type":"boolean"},{"$ref":"#/definitions/placeholder-pattern"}]},"oneOf":{"type":"array","items":{"$ref":"#/definitions/dataSchema"}},"unit":{"type":"string"},"enum":{"anyOf":[{"type":"array","minItems":1,"uniqueItems":true},{"$ref":"#/definitions/placeholder-pattern"}]},"format":{"type":"string"},"const":{},"default":{},"type":{"$ref":"#/definitions/dataSchema-type"},"items":{"oneOf":[{"$ref":"#/definitions/dataSchema"},{"type":"array","items":{"$ref":"#/definitions/dataSchema"}}]},"maxItems":{"anyOf":[{"type":"integer","minimum":0},{"$ref":"#/definitions/placeholder-pattern"}]},"minItems":{"anyOf":[{"type":"integer","minimum":0},{"$ref":"#/definitions/placeholder-pattern"}]},"minimum":{"anyOf":[{"type":"number"},{"$ref":"#/definitions/placeholder-pattern"}]},"maximum":{"anyOf":[{"type":"number"},{"$ref":"#/definitions/placeholder-pattern"}]},"exclusiveMinimum":{"type":"number"},"exclusiveMaximum":{"type":"number"},"minLength":{"anyOf":[{"type":"integer","minimum":0},{"$ref":"#/definitions/placeholder-pattern"}]},"maxLength":{"anyOf":[{"type":"integer","minimum":0},{"$ref":"#/definitions/placeholder-pattern"}]},"multipleOf":{"$ref":"#/definitions/multipleOfDefinition"},"properties":{"additionalProperties":{"$ref":"#/definitions/dataSchema"}},"required":{"anyOf":[{"type":"array","items":{"type":"string"}},{"$ref":"#/definitions/placeholder-pattern"}]},"tm:ref":{"$ref":"#/definitions/tm_ref"}},"additionalProperties":true,"propertyNames":{"not":{"$ref":"#/definitions/placeholder-pattern"}}},"action_element":{"type":"object","properties":{"@type":{"$ref":"#/definitions/type_declaration"},"description":{"$ref":"#/definitions/description"},"descriptions":{"$ref":"#/definitions/descriptions"},"title":{"$ref":"#/definitions/title"},"titles":{"$ref":"#/definitions/titles"},"forms":{"type":"array","minItems":1,"items":{"$ref":"#/definitions/form_element_action"}},"uriVariables":{"type":"object","additionalProperties":{"$ref":"#/definitions/dataSchema"},"propertyNames":{"not":{"$ref":"#/definitions/placeholder-pattern"}}},"input":{"$ref":"#/definitions/dataSchema"},"output":{"$ref":"#/definitions/dataSchema"},"safe":{"anyOf":[{"type":"boolean"},{"$ref":"#/definitions/placeholder-pattern"}]},"idempotent":{"anyOf":[{"type":"boolean"},{"$ref":"#/definitions/placeholder-pattern"}]},"synchronous":{"anyOf":[{"type":"boolean"},{"$ref":"#/definitions/placeholder-pattern"}]},"tm:ref":{"$ref":"#/definitions/tm_ref"}},"additionalProperties":true,"propertyNames":{"not":{"$ref":"#/definitions/placeholder-pattern"}}},"event_element":{"type":"object","properties":{"@type":{"$ref":"#/definitions/type_declaration"},"description":{"$ref":"#/definitions/description"},"descriptions":{"$ref":"#/definitions/descriptions"},"title":{"$ref":"#/definitions/title"},"titles":{"$ref":"#/definitions/titles"},"forms":{"type":"array","minItems":1,"items":{"$ref":"#/definitions/form_element_event"}},"uriVariables":{"type":"object","additionalProperties":{"$ref":"#/definitions/dataSchema"},"propertyNames":{"not":{"$ref":"#/definitions/placeholder-pattern"}}},"subscription":{"$ref":"#/definitions/dataSchema"},"data":{"$ref":"#/definitions/dataSchema"},"dataResponse":{"$ref":"#/definitions/dataSchema"},"cancellation":{"$ref":"#/definitions/dataSchema"},"tm:ref":{"$ref":"#/definitions/tm_ref"}},"additionalProperties":true,"propertyNames":{"not":{"$ref":"#/definitions/placeholder-pattern"}}},"base_link_element":{"type":"object","properties":{"href":{"$ref":"#/definitions/anyUri"},"type":{"type":"string"},"rel":{"type":"string"},"anchor":{"$ref":"#/definitions/anyUri"},"hreflang":{"anyOf":[{"$ref":"#/definitions/bcp47_string"},{"type":"array","items":{"$ref":"#/definitions/bcp47_string"}}]},"instanceName":{"type":"string"}},"additionalProperties":true,"propertyNames":{"not":{"$ref":"#/definitions/placeholder-pattern"}}},"link_element":{"allOf":[{"$ref":"#/definitions/base_link_element"},{"not":{"description":"A basic link element should not contain sizes","type":"object","properties":{"sizes":{}},"required":["sizes"]}},{"not":{"description":"A basic link element should not contain icon","properties":{"rel":{"anyOf":[{"enum":["icon"]},{"$ref":"#/definitions/placeholder-pattern"}]}},"required":["rel"]}}]},"icon_link_element":{"allOf":[{"$ref":"#/definitions/base_link_element"},{"properties":{"rel":{"const":"icon"},"sizes":{"type":"string","pattern":"[0-9]*x[0-9]+"}},"required":["rel"]}]},"additionalSecurityScheme":{"description":"Applies to additional SecuritySchemes not defined in the WoT TD specification.","$comment":"Additional SecuritySchemes should always be defined via a context extension, using a prefixed value for the scheme. This prefix (e.g. \'ace\', see the example below) must contain at least one character in order to reference a valid JSON-LD context extension.","examples":[{"scheme":"ace:ACESecurityScheme","ace:as":"coaps://as.example.com/token","ace:audience":"coaps://rs.example.com","ace:scopes":["limited","special"],"ace:cnonce":true}],"type":"object","properties":{"@type":{"$ref":"#/definitions/type_declaration"},"description":{"$ref":"#/definitions/description"},"descriptions":{"$ref":"#/definitions/descriptions"},"proxy":{"$ref":"#/definitions/anyUri"},"scheme":{"type":"string","pattern":".+:.*"}},"additionalProperties":true,"propertyNames":{"not":{"$ref":"#/definitions/placeholder-pattern"}}},"noSecurityScheme":{"type":"object","properties":{"@type":{"$ref":"#/definitions/type_declaration"},"description":{"$ref":"#/definitions/description"},"descriptions":{"$ref":"#/definitions/descriptions"},"proxy":{"$ref":"#/definitions/anyUri"},"scheme":{"type":"string","anyOf":[{"enum":["nosec"]},{"$ref":"#/definitions/placeholder-pattern"}]},"tm:ref":{"$ref":"#/definitions/tm_ref"}},"additionalProperties":true,"propertyNames":{"not":{"$ref":"#/definitions/placeholder-pattern"}}},"autoSecurityScheme":{"type":"object","properties":{"@type":{"$ref":"#/definitions/type_declaration"},"description":{"$ref":"#/definitions/description"},"descriptions":{"$ref":"#/definitions/descriptions"},"proxy":{"$ref":"#/definitions/anyUri"},"scheme":{"type":"string","anyOf":[{"enum":["auto"]},{"$ref":"#/definitions/placeholder-pattern"}]}},"not":{"required":["name"]},"additionalProperties":true,"propertyNames":{"not":{"$ref":"#/definitions/placeholder-pattern"}}},"comboSecurityScheme":{"oneOf":[{"type":"object","properties":{"@type":{"$ref":"#/definitions/type_declaration"},"description":{"$ref":"#/definitions/description"},"descriptions":{"$ref":"#/definitions/descriptions"},"proxy":{"$ref":"#/definitions/anyUri"},"scheme":{"type":"string","anyOf":[{"enum":["combo"]},{"$ref":"#/definitions/placeholder-pattern"}]},"oneOf":{"type":"array","minItems":2,"items":{"type":"string"}},"tm:ref":{"$ref":"#/definitions/tm_ref"}},"additionalProperties":true},{"type":"object","properties":{"@type":{"$ref":"#/definitions/type_declaration"},"description":{"$ref":"#/definitions/description"},"descriptions":{"$ref":"#/definitions/descriptions"},"proxy":{"$ref":"#/definitions/anyUri"},"scheme":{"type":"string","anyOf":[{"enum":["combo"]},{"$ref":"#/definitions/placeholder-pattern"}]},"allOf":{"type":"array","minItems":2,"items":{"type":"string"}},"tm:ref":{"$ref":"#/definitions/tm_ref"}},"additionalProperties":true}]},"basicSecurityScheme":{"type":"object","properties":{"@type":{"$ref":"#/definitions/type_declaration"},"description":{"$ref":"#/definitions/description"},"descriptions":{"$ref":"#/definitions/descriptions"},"proxy":{"$ref":"#/definitions/anyUri"},"scheme":{"type":"string","anyOf":[{"enum":["basic"]},{"$ref":"#/definitions/placeholder-pattern"}]},"in":{"type":"string","anyOf":[{"enum":["header","query","body","cookie","auto"]},{"$ref":"#/definitions/placeholder-pattern"}]},"name":{"type":"string"},"tm:ref":{"$ref":"#/definitions/tm_ref"}},"additionalProperties":true,"propertyNames":{"not":{"$ref":"#/definitions/placeholder-pattern"}}},"digestSecurityScheme":{"type":"object","properties":{"@type":{"$ref":"#/definitions/type_declaration"},"description":{"$ref":"#/definitions/description"},"descriptions":{"$ref":"#/definitions/descriptions"},"proxy":{"$ref":"#/definitions/anyUri"},"scheme":{"type":"string","anyOf":[{"enum":["digest"]},{"$ref":"#/definitions/placeholder-pattern"}]},"qop":{"type":"string","anyOf":[{"enum":["auth","auth-int"]},{"$ref":"#/definitions/placeholder-pattern"}]},"in":{"type":"string","anyOf":[{"enum":["header","query","body","cookie","auto"]},{"$ref":"#/definitions/placeholder-pattern"}]},"name":{"type":"string"},"tm:ref":{"$ref":"#/definitions/tm_ref"}},"additionalProperties":true,"propertyNames":{"not":{"$ref":"#/definitions/placeholder-pattern"}}},"apiKeySecurityScheme":{"type":"object","properties":{"@type":{"$ref":"#/definitions/type_declaration"},"description":{"$ref":"#/definitions/description"},"descriptions":{"$ref":"#/definitions/descriptions"},"proxy":{"$ref":"#/definitions/anyUri"},"scheme":{"type":"string","anyOf":[{"enum":["apikey"]},{"$ref":"#/definitions/placeholder-pattern"}]},"in":{"type":"string","anyOf":[{"enum":["header","query","body","cookie","uri","auto"]},{"$ref":"#/definitions/placeholder-pattern"}]},"name":{"type":"string"},"tm:ref":{"$ref":"#/definitions/tm_ref"}},"additionalProperties":true,"propertyNames":{"not":{"$ref":"#/definitions/placeholder-pattern"}}},"bearerSecurityScheme":{"type":"object","properties":{"@type":{"$ref":"#/definitions/type_declaration"},"description":{"$ref":"#/definitions/description"},"descriptions":{"$ref":"#/definitions/descriptions"},"proxy":{"$ref":"#/definitions/anyUri"},"scheme":{"type":"string","anyOf":[{"enum":["bearer"]},{"$ref":"#/definitions/placeholder-pattern"}]},"authorization":{"$ref":"#/definitions/anyUri"},"alg":{"type":"string"},"format":{"type":"string"},"in":{"type":"string","anyOf":[{"enum":["header","query","body","cookie","auto"]},{"$ref":"#/definitions/placeholder-pattern"}]},"name":{"type":"string"},"tm:ref":{"$ref":"#/definitions/tm_ref"}},"additionalProperties":true,"propertyNames":{"not":{"$ref":"#/definitions/placeholder-pattern"}}},"pskSecurityScheme":{"type":"object","properties":{"@type":{"$ref":"#/definitions/type_declaration"},"description":{"$ref":"#/definitions/description"},"descriptions":{"$ref":"#/definitions/descriptions"},"proxy":{"$ref":"#/definitions/anyUri"},"scheme":{"type":"string","anyOf":[{"enum":["psk"]},{"$ref":"#/definitions/placeholder-pattern"}]},"identity":{"type":"string"},"tm:ref":{"$ref":"#/definitions/tm_ref"}},"additionalProperties":true,"propertyNames":{"not":{"$ref":"#/definitions/placeholder-pattern"}}},"oAuth2SecurityScheme":{"type":"object","properties":{"@type":{"$ref":"#/definitions/type_declaration"},"description":{"$ref":"#/definitions/description"},"descriptions":{"$ref":"#/definitions/descriptions"},"proxy":{"$ref":"#/definitions/anyUri"},"scheme":{"type":"string","anyOf":[{"enum":["oauth2"]},{"$ref":"#/definitions/placeholder-pattern"}]},"authorization":{"$ref":"#/definitions/anyUri"},"token":{"$ref":"#/definitions/anyUri"},"refresh":{"$ref":"#/definitions/anyUri"},"scopes":{"oneOf":[{"type":"array","items":{"type":"string"}},{"type":"string"}]},"flow":{"anyOf":[{"type":"string"},{"type":"string","anyOf":[{"enum":["code","client"]},{"$ref":"#/definitions/placeholder-pattern"}]}]},"tm:ref":{"$ref":"#/definitions/tm_ref"}},"additionalProperties":true,"propertyNames":{"not":{"$ref":"#/definitions/placeholder-pattern"}}},"securityScheme":{"anyOf":[{"$ref":"#/definitions/noSecurityScheme"},{"$ref":"#/definitions/autoSecurityScheme"},{"$ref":"#/definitions/comboSecurityScheme"},{"$ref":"#/definitions/basicSecurityScheme"},{"$ref":"#/definitions/digestSecurityScheme"},{"$ref":"#/definitions/apiKeySecurityScheme"},{"$ref":"#/definitions/bearerSecurityScheme"},{"$ref":"#/definitions/pskSecurityScheme"},{"$ref":"#/definitions/oAuth2SecurityScheme"},{"$ref":"#/definitions/additionalSecurityScheme"}]},"tm_type_declaration":{"oneOf":[{"type":"string","const":"tm:ThingModel"},{"type":"array","items":{"type":"string"},"contains":{"const":"tm:ThingModel"}}]},"placeholder-pattern":{"type":"string","pattern":"^.*[{]{2}[ -~]+[}]{2}.*$"},"tm_optional":{"type":"array","items":{"$comment":"this first checks for the general structure of /properties/myProp and then prohibits using / 3 times","allOf":[{"type":"string","pattern":"^((/properties/)|(/actions/)|(/events/))(([^/]))","$comment":"regex tests available at https://regex101.com/r/UgOzrJ/1"},{"not":{"type":"string","pattern":"(/)(.*/){2}","$comment":"regex tests available at https://regex101.com/r/r7vB0r/2"}}]}},"tm_ref":{"type":"string","format":"uri-reference"}},"type":"object","properties":{"id":{"type":"string"},"title":{"$ref":"#/definitions/title"},"titles":{"$ref":"#/definitions/titles"},"properties":{"type":"object","additionalProperties":{"$ref":"#/definitions/property_element"},"propertyNames":{"not":{"$ref":"#/definitions/placeholder-pattern"}}},"actions":{"type":"object","additionalProperties":{"$ref":"#/definitions/action_element"},"propertyNames":{"not":{"$ref":"#/definitions/placeholder-pattern"}}},"events":{"type":"object","additionalProperties":{"$ref":"#/definitions/event_element"},"propertyNames":{"not":{"$ref":"#/definitions/placeholder-pattern"}}},"description":{"$ref":"#/definitions/description"},"descriptions":{"$ref":"#/definitions/descriptions"},"version":{"anyOf":[{"type":"object","properties":{"model":{"type":"string"}},"propertyNames":{"not":{"$ref":"#/definitions/placeholder-pattern"}},"not":{"type":"object","properties":{"instance":{"type":"string"}},"required":["instance"]}},{"$ref":"#/definitions/placeholder-pattern"}]},"links":{"type":"array","items":{"oneOf":[{"$ref":"#/definitions/link_element"},{"$ref":"#/definitions/icon_link_element"}]}},"forms":{"type":"array","minItems":1,"items":{"$ref":"#/definitions/form_element_root"}},"base":{"$ref":"#/definitions/anyUri"},"securityDefinitions":{"type":"object","minProperties":1,"additionalProperties":{"$ref":"#/definitions/securityScheme"},"propertyNames":{"not":{"$ref":"#/definitions/placeholder-pattern"}}},"schemaDefinitions":{"type":"object","minProperties":1,"additionalProperties":{"$ref":"#/definitions/dataSchema"},"propertyNames":{"not":{"$ref":"#/definitions/placeholder-pattern"}}},"support":{"$ref":"#/definitions/anyUri"},"created":{"type":"string"},"modified":{"type":"string"},"profile":{"oneOf":[{"$ref":"#/definitions/anyUri"},{"type":"array","minItems":1,"items":{"$ref":"#/definitions/anyUri"}}]},"security":{"oneOf":[{"type":"string"},{"type":"array","minItems":1,"items":{"type":"string"}}]},"uriVariables":{"type":"object","additionalProperties":{"$ref":"#/definitions/dataSchema"},"propertyNames":{"not":{"$ref":"#/definitions/placeholder-pattern"}}},"@type":{"$ref":"#/definitions/tm_type_declaration"},"@context":{"$ref":"#/definitions/thing-context"},"tm:optional":{"$ref":"#/definitions/tm_optional"}},"additionalProperties":true,"propertyNames":{"not":{"$ref":"#/definitions/placeholder-pattern"}},"required":["@context","@type"]}')}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var r=__webpack_module_cache__[e]={id:e,loaded:!1,exports:{}};return __webpack_modules__[e].call(r.exports,r,r.exports,__webpack_require__),r.loaded=!0,r.exports}__webpack_require__.c=__webpack_module_cache__,__webpack_require__.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return __webpack_require__.d(t,{a:t}),t},__webpack_require__.d=(e,t)=>{for(var r in t)__webpack_require__.o(t,r)&&!__webpack_require__.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),__webpack_require__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__.nmd=e=>(e.paths=[],e.children||(e.children=[]),e);var __webpack_exports__=__webpack_require__(__webpack_require__.s=55235),__webpack_exports__createExposedThing=__webpack_exports__.$P,__webpack_exports__createThing=__webpack_exports__.vW,__webpack_exports__createThingWithHandlers=__webpack_exports__.aN,__webpack_exports__getWot=__webpack_exports__.T_,__webpack_exports__resetServient=__webpack_exports__.SC;export{__webpack_exports__createExposedThing as createExposedThing,__webpack_exports__createThing as createThing,__webpack_exports__createThingWithHandlers as createThingWithHandlers,__webpack_exports__getWot as getWot,__webpack_exports__resetServient as resetServient};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYmxhc3QuYnJvd3Nlci5qcyIsIm1hcHBpbmdzIjoiOztBQWdHQTtBQU1BO0FBaUJBO0FDM0dBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL0BibGFzdC9icm93c2VyLy4uLy4uL25vZGVfbW9kdWxlcy9hanYvZGlzdC9jb21waWxlL3ZhbGlkYXRlL2RhdGFUeXBlLmpzIiwid2VicGFjazovL0BibGFzdC9icm93c2VyLy4uLy4uL25vZGVfbW9kdWxlcy9hanYvZGlzdC92b2NhYnVsYXJpZXMvYXBwbGljYXRvci9kZXBlbmRlbmNpZXMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLnJlcG9ydFR5cGVFcnJvciA9IGV4cG9ydHMuY2hlY2tEYXRhVHlwZXMgPSBleHBvcnRzLmNoZWNrRGF0YVR5cGUgPSBleHBvcnRzLmNvZXJjZUFuZENoZWNrRGF0YVR5cGUgPSBleHBvcnRzLmdldEpTT05UeXBlcyA9IGV4cG9ydHMuZ2V0U2NoZW1hVHlwZXMgPSBleHBvcnRzLkRhdGFUeXBlID0gdm9pZCAwO1xuY29uc3QgcnVsZXNfMSA9IHJlcXVpcmUoXCIuLi9ydWxlc1wiKTtcbmNvbnN0IGFwcGxpY2FiaWxpdHlfMSA9IHJlcXVpcmUoXCIuL2FwcGxpY2FiaWxpdHlcIik7XG5jb25zdCBlcnJvcnNfMSA9IHJlcXVpcmUoXCIuLi9lcnJvcnNcIik7XG5jb25zdCBjb2RlZ2VuXzEgPSByZXF1aXJlKFwiLi4vY29kZWdlblwiKTtcbmNvbnN0IHV0aWxfMSA9IHJlcXVpcmUoXCIuLi91dGlsXCIpO1xudmFyIERhdGFUeXBlO1xuKGZ1bmN0aW9uIChEYXRhVHlwZSkge1xuICAgIERhdGFUeXBlW0RhdGFUeXBlW1wiQ29ycmVjdFwiXSA9IDBdID0gXCJDb3JyZWN0XCI7XG4gICAgRGF0YVR5cGVbRGF0YVR5cGVbXCJXcm9uZ1wiXSA9IDFdID0gXCJXcm9uZ1wiO1xufSkoRGF0YVR5cGUgfHwgKGV4cG9ydHMuRGF0YVR5cGUgPSBEYXRhVHlwZSA9IHt9KSk7XG5mdW5jdGlvbiBnZXRTY2hlbWFUeXBlcyhzY2hlbWEpIHtcbiAgICBjb25zdCB0eXBlcyA9IGdldEpTT05UeXBlcyhzY2hlbWEudHlwZSk7XG4gICAgY29uc3QgaGFzTnVsbCA9IHR5cGVzLmluY2x1ZGVzKFwibnVsbFwiKTtcbiAgICBpZiAoaGFzTnVsbCkge1xuICAgICAgICBpZiAoc2NoZW1hLm51bGxhYmxlID09PSBmYWxzZSlcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcInR5cGU6IG51bGwgY29udHJhZGljdHMgbnVsbGFibGU6IGZhbHNlXCIpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgaWYgKCF0eXBlcy5sZW5ndGggJiYgc2NoZW1hLm51bGxhYmxlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignXCJudWxsYWJsZVwiIGNhbm5vdCBiZSB1c2VkIHdpdGhvdXQgXCJ0eXBlXCInKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc2NoZW1hLm51bGxhYmxlID09PSB0cnVlKVxuICAgICAgICAgICAgdHlwZXMucHVzaChcIm51bGxcIik7XG4gICAgfVxuICAgIHJldHVybiB0eXBlcztcbn1cbmV4cG9ydHMuZ2V0U2NoZW1hVHlwZXMgPSBnZXRTY2hlbWFUeXBlcztcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tcmVkdW5kYW50LXR5cGUtY29uc3RpdHVlbnRzXG5mdW5jdGlvbiBnZXRKU09OVHlwZXModHMpIHtcbiAgICBjb25zdCB0eXBlcyA9IEFycmF5LmlzQXJyYXkodHMpID8gdHMgOiB0cyA/IFt0c10gOiBbXTtcbiAgICBpZiAodHlwZXMuZXZlcnkocnVsZXNfMS5pc0pTT05UeXBlKSlcbiAgICAgICAgcmV0dXJuIHR5cGVzO1xuICAgIHRocm93IG5ldyBFcnJvcihcInR5cGUgbXVzdCBiZSBKU09OVHlwZSBvciBKU09OVHlwZVtdOiBcIiArIHR5cGVzLmpvaW4oXCIsXCIpKTtcbn1cbmV4cG9ydHMuZ2V0SlNPTlR5cGVzID0gZ2V0SlNPTlR5cGVzO1xuZnVuY3Rpb24gY29lcmNlQW5kQ2hlY2tEYXRhVHlwZShpdCwgdHlwZXMpIHtcbiAgICBjb25zdCB7IGdlbiwgZGF0YSwgb3B0cyB9ID0gaXQ7XG4gICAgY29uc3QgY29lcmNlVG8gPSBjb2VyY2VUb1R5cGVzKHR5cGVzLCBvcHRzLmNvZXJjZVR5cGVzKTtcbiAgICBjb25zdCBjaGVja1R5cGVzID0gdHlwZXMubGVuZ3RoID4gMCAmJlxuICAgICAgICAhKGNvZXJjZVRvLmxlbmd0aCA9PT0gMCAmJiB0eXBlcy5sZW5ndGggPT09IDEgJiYgKDAsIGFwcGxpY2FiaWxpdHlfMS5zY2hlbWFIYXNSdWxlc0ZvclR5cGUpKGl0LCB0eXBlc1swXSkpO1xuICAgIGlmIChjaGVja1R5cGVzKSB7XG4gICAgICAgIGNvbnN0IHdyb25nVHlwZSA9IGNoZWNrRGF0YVR5cGVzKHR5cGVzLCBkYXRhLCBvcHRzLnN0cmljdE51bWJlcnMsIERhdGFUeXBlLldyb25nKTtcbiAgICAgICAgZ2VuLmlmKHdyb25nVHlwZSwgKCkgPT4ge1xuICAgICAgICAgICAgaWYgKGNvZXJjZVRvLmxlbmd0aClcbiAgICAgICAgICAgICAgICBjb2VyY2VEYXRhKGl0LCB0eXBlcywgY29lcmNlVG8pO1xuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIHJlcG9ydFR5cGVFcnJvcihpdCk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gY2hlY2tUeXBlcztcbn1cbmV4cG9ydHMuY29lcmNlQW5kQ2hlY2tEYXRhVHlwZSA9IGNvZXJjZUFuZENoZWNrRGF0YVR5cGU7XG5jb25zdCBDT0VSQ0lCTEUgPSBuZXcgU2V0KFtcInN0cmluZ1wiLCBcIm51bWJlclwiLCBcImludGVnZXJcIiwgXCJib29sZWFuXCIsIFwibnVsbFwiXSk7XG5mdW5jdGlvbiBjb2VyY2VUb1R5cGVzKHR5cGVzLCBjb2VyY2VUeXBlcykge1xuICAgIHJldHVybiBjb2VyY2VUeXBlc1xuICAgICAgICA/IHR5cGVzLmZpbHRlcigodCkgPT4gQ09FUkNJQkxFLmhhcyh0KSB8fCAoY29lcmNlVHlwZXMgPT09IFwiYXJyYXlcIiAmJiB0ID09PSBcImFycmF5XCIpKVxuICAgICAgICA6IFtdO1xufVxuZnVuY3Rpb24gY29lcmNlRGF0YShpdCwgdHlwZXMsIGNvZXJjZVRvKSB7XG4gICAgY29uc3QgeyBnZW4sIGRhdGEsIG9wdHMgfSA9IGl0O1xuICAgIGNvbnN0IGRhdGFUeXBlID0gZ2VuLmxldChcImRhdGFUeXBlXCIsICgwLCBjb2RlZ2VuXzEuXykgYHR5cGVvZiAke2RhdGF9YCk7XG4gICAgY29uc3QgY29lcmNlZCA9IGdlbi5sZXQoXCJjb2VyY2VkXCIsICgwLCBjb2RlZ2VuXzEuXykgYHVuZGVmaW5lZGApO1xuICAgIGlmIChvcHRzLmNvZXJjZVR5cGVzID09PSBcImFycmF5XCIpIHtcbiAgICAgICAgZ2VuLmlmKCgwLCBjb2RlZ2VuXzEuXykgYCR7ZGF0YVR5cGV9ID09ICdvYmplY3QnICYmIEFycmF5LmlzQXJyYXkoJHtkYXRhfSkgJiYgJHtkYXRhfS5sZW5ndGggPT0gMWAsICgpID0+IGdlblxuICAgICAgICAgICAgLmFzc2lnbihkYXRhLCAoMCwgY29kZWdlbl8xLl8pIGAke2RhdGF9WzBdYClcbiAgICAgICAgICAgIC5hc3NpZ24oZGF0YVR5cGUsICgwLCBjb2RlZ2VuXzEuXykgYHR5cGVvZiAke2RhdGF9YClcbiAgICAgICAgICAgIC5pZihjaGVja0RhdGFUeXBlcyh0eXBlcywgZGF0YSwgb3B0cy5zdHJpY3ROdW1iZXJzKSwgKCkgPT4gZ2VuLmFzc2lnbihjb2VyY2VkLCBkYXRhKSkpO1xuICAgIH1cbiAgICBnZW4uaWYoKDAsIGNvZGVnZW5fMS5fKSBgJHtjb2VyY2VkfSAhPT0gdW5kZWZpbmVkYCk7XG4gICAgZm9yIChjb25zdCB0IG9mIGNvZXJjZVRvKSB7XG4gICAgICAgIGlmIChDT0VSQ0lCTEUuaGFzKHQpIHx8ICh0ID09PSBcImFycmF5XCIgJiYgb3B0cy5jb2VyY2VUeXBlcyA9PT0gXCJhcnJheVwiKSkge1xuICAgICAgICAgICAgY29lcmNlU3BlY2lmaWNUeXBlKHQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdlbi5lbHNlKCk7XG4gICAgcmVwb3J0VHlwZUVycm9yKGl0KTtcbiAgICBnZW4uZW5kSWYoKTtcbiAgICBnZW4uaWYoKDAsIGNvZGVnZW5fMS5fKSBgJHtjb2VyY2VkfSAhPT0gdW5kZWZpbmVkYCwgKCkgPT4ge1xuICAgICAgICBnZW4uYXNzaWduKGRhdGEsIGNvZXJjZWQpO1xuICAgICAgICBhc3NpZ25QYXJlbnREYXRhKGl0LCBjb2VyY2VkKTtcbiAgICB9KTtcbiAgICBmdW5jdGlvbiBjb2VyY2VTcGVjaWZpY1R5cGUodCkge1xuICAgICAgICBzd2l0Y2ggKHQpIHtcbiAgICAgICAgICAgIGNhc2UgXCJzdHJpbmdcIjpcbiAgICAgICAgICAgICAgICBnZW5cbiAgICAgICAgICAgICAgICAgICAgLmVsc2VJZigoMCwgY29kZWdlbl8xLl8pIGAke2RhdGFUeXBlfSA9PSBcIm51bWJlclwiIHx8ICR7ZGF0YVR5cGV9ID09IFwiYm9vbGVhblwiYClcbiAgICAgICAgICAgICAgICAgICAgLmFzc2lnbihjb2VyY2VkLCAoMCwgY29kZWdlbl8xLl8pIGBcIlwiICsgJHtkYXRhfWApXG4gICAgICAgICAgICAgICAgICAgIC5lbHNlSWYoKDAsIGNvZGVnZW5fMS5fKSBgJHtkYXRhfSA9PT0gbnVsbGApXG4gICAgICAgICAgICAgICAgICAgIC5hc3NpZ24oY29lcmNlZCwgKDAsIGNvZGVnZW5fMS5fKSBgXCJcImApO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIGNhc2UgXCJudW1iZXJcIjpcbiAgICAgICAgICAgICAgICBnZW5cbiAgICAgICAgICAgICAgICAgICAgLmVsc2VJZigoMCwgY29kZWdlbl8xLl8pIGAke2RhdGFUeXBlfSA9PSBcImJvb2xlYW5cIiB8fCAke2RhdGF9ID09PSBudWxsXG4gICAgICAgICAgICAgIHx8ICgke2RhdGFUeXBlfSA9PSBcInN0cmluZ1wiICYmICR7ZGF0YX0gJiYgJHtkYXRhfSA9PSArJHtkYXRhfSlgKVxuICAgICAgICAgICAgICAgICAgICAuYXNzaWduKGNvZXJjZWQsICgwLCBjb2RlZ2VuXzEuXykgYCske2RhdGF9YCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgY2FzZSBcImludGVnZXJcIjpcbiAgICAgICAgICAgICAgICBnZW5cbiAgICAgICAgICAgICAgICAgICAgLmVsc2VJZigoMCwgY29kZWdlbl8xLl8pIGAke2RhdGFUeXBlfSA9PT0gXCJib29sZWFuXCIgfHwgJHtkYXRhfSA9PT0gbnVsbFxuICAgICAgICAgICAgICB8fCAoJHtkYXRhVHlwZX0gPT09IFwic3RyaW5nXCIgJiYgJHtkYXRhfSAmJiAke2RhdGF9ID09ICske2RhdGF9ICYmICEoJHtkYXRhfSAlIDEpKWApXG4gICAgICAgICAgICAgICAgICAgIC5hc3NpZ24oY29lcmNlZCwgKDAsIGNvZGVnZW5fMS5fKSBgKyR7ZGF0YX1gKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICBjYXNlIFwiYm9vbGVhblwiOlxuICAgICAgICAgICAgICAgIGdlblxuICAgICAgICAgICAgICAgICAgICAuZWxzZUlmKCgwLCBjb2RlZ2VuXzEuXykgYCR7ZGF0YX0gPT09IFwiZmFsc2VcIiB8fCAke2RhdGF9ID09PSAwIHx8ICR7ZGF0YX0gPT09IG51bGxgKVxuICAgICAgICAgICAgICAgICAgICAuYXNzaWduKGNvZXJjZWQsIGZhbHNlKVxuICAgICAgICAgICAgICAgICAgICAuZWxzZUlmKCgwLCBjb2RlZ2VuXzEuXykgYCR7ZGF0YX0gPT09IFwidHJ1ZVwiIHx8ICR7ZGF0YX0gPT09IDFgKVxuICAgICAgICAgICAgICAgICAgICAuYXNzaWduKGNvZXJjZWQsIHRydWUpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIGNhc2UgXCJudWxsXCI6XG4gICAgICAgICAgICAgICAgZ2VuLmVsc2VJZigoMCwgY29kZWdlbl8xLl8pIGAke2RhdGF9ID09PSBcIlwiIHx8ICR7ZGF0YX0gPT09IDAgfHwgJHtkYXRhfSA9PT0gZmFsc2VgKTtcbiAgICAgICAgICAgICAgICBnZW4uYXNzaWduKGNvZXJjZWQsIG51bGwpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIGNhc2UgXCJhcnJheVwiOlxuICAgICAgICAgICAgICAgIGdlblxuICAgICAgICAgICAgICAgICAgICAuZWxzZUlmKCgwLCBjb2RlZ2VuXzEuXykgYCR7ZGF0YVR5cGV9ID09PSBcInN0cmluZ1wiIHx8ICR7ZGF0YVR5cGV9ID09PSBcIm51bWJlclwiXG4gICAgICAgICAgICAgIHx8ICR7ZGF0YVR5cGV9ID09PSBcImJvb2xlYW5cIiB8fCAke2RhdGF9ID09PSBudWxsYClcbiAgICAgICAgICAgICAgICAgICAgLmFzc2lnbihjb2VyY2VkLCAoMCwgY29kZWdlbl8xLl8pIGBbJHtkYXRhfV1gKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmZ1bmN0aW9uIGFzc2lnblBhcmVudERhdGEoeyBnZW4sIHBhcmVudERhdGEsIHBhcmVudERhdGFQcm9wZXJ0eSB9LCBleHByKSB7XG4gICAgLy8gVE9ETyB1c2UgZ2VuLnByb3BlcnR5XG4gICAgZ2VuLmlmKCgwLCBjb2RlZ2VuXzEuXykgYCR7cGFyZW50RGF0YX0gIT09IHVuZGVmaW5lZGAsICgpID0+IGdlbi5hc3NpZ24oKDAsIGNvZGVnZW5fMS5fKSBgJHtwYXJlbnREYXRhfVske3BhcmVudERhdGFQcm9wZXJ0eX1dYCwgZXhwcikpO1xufVxuZnVuY3Rpb24gY2hlY2tEYXRhVHlwZShkYXRhVHlwZSwgZGF0YSwgc3RyaWN0TnVtcywgY29ycmVjdCA9IERhdGFUeXBlLkNvcnJlY3QpIHtcbiAgICBjb25zdCBFUSA9IGNvcnJlY3QgPT09IERhdGFUeXBlLkNvcnJlY3QgPyBjb2RlZ2VuXzEub3BlcmF0b3JzLkVRIDogY29kZWdlbl8xLm9wZXJhdG9ycy5ORVE7XG4gICAgbGV0IGNvbmQ7XG4gICAgc3dpdGNoIChkYXRhVHlwZSkge1xuICAgICAgICBjYXNlIFwibnVsbFwiOlxuICAgICAgICAgICAgcmV0dXJuICgwLCBjb2RlZ2VuXzEuXykgYCR7ZGF0YX0gJHtFUX0gbnVsbGA7XG4gICAgICAgIGNhc2UgXCJhcnJheVwiOlxuICAgICAgICAgICAgY29uZCA9ICgwLCBjb2RlZ2VuXzEuXykgYEFycmF5LmlzQXJyYXkoJHtkYXRhfSlgO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJvYmplY3RcIjpcbiAgICAgICAgICAgIGNvbmQgPSAoMCwgY29kZWdlbl8xLl8pIGAke2RhdGF9ICYmIHR5cGVvZiAke2RhdGF9ID09IFwib2JqZWN0XCIgJiYgIUFycmF5LmlzQXJyYXkoJHtkYXRhfSlgO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJpbnRlZ2VyXCI6XG4gICAgICAgICAgICBjb25kID0gbnVtQ29uZCgoMCwgY29kZWdlbl8xLl8pIGAhKCR7ZGF0YX0gJSAxKSAmJiAhaXNOYU4oJHtkYXRhfSlgKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwibnVtYmVyXCI6XG4gICAgICAgICAgICBjb25kID0gbnVtQ29uZCgpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gKDAsIGNvZGVnZW5fMS5fKSBgdHlwZW9mICR7ZGF0YX0gJHtFUX0gJHtkYXRhVHlwZX1gO1xuICAgIH1cbiAgICByZXR1cm4gY29ycmVjdCA9PT0gRGF0YVR5cGUuQ29ycmVjdCA/IGNvbmQgOiAoMCwgY29kZWdlbl8xLm5vdCkoY29uZCk7XG4gICAgZnVuY3Rpb24gbnVtQ29uZChfY29uZCA9IGNvZGVnZW5fMS5uaWwpIHtcbiAgICAgICAgcmV0dXJuICgwLCBjb2RlZ2VuXzEuYW5kKSgoMCwgY29kZWdlbl8xLl8pIGB0eXBlb2YgJHtkYXRhfSA9PSBcIm51bWJlclwiYCwgX2NvbmQsIHN0cmljdE51bXMgPyAoMCwgY29kZWdlbl8xLl8pIGBpc0Zpbml0ZSgke2RhdGF9KWAgOiBjb2RlZ2VuXzEubmlsKTtcbiAgICB9XG59XG5leHBvcnRzLmNoZWNrRGF0YVR5cGUgPSBjaGVja0RhdGFUeXBlO1xuZnVuY3Rpb24gY2hlY2tEYXRhVHlwZXMoZGF0YVR5cGVzLCBkYXRhLCBzdHJpY3ROdW1zLCBjb3JyZWN0KSB7XG4gICAgaWYgKGRhdGFUeXBlcy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgcmV0dXJuIGNoZWNrRGF0YVR5cGUoZGF0YVR5cGVzWzBdLCBkYXRhLCBzdHJpY3ROdW1zLCBjb3JyZWN0KTtcbiAgICB9XG4gICAgbGV0IGNvbmQ7XG4gICAgY29uc3QgdHlwZXMgPSAoMCwgdXRpbF8xLnRvSGFzaCkoZGF0YVR5cGVzKTtcbiAgICBpZiAodHlwZXMuYXJyYXkgJiYgdHlwZXMub2JqZWN0KSB7XG4gICAgICAgIGNvbnN0IG5vdE9iaiA9ICgwLCBjb2RlZ2VuXzEuXykgYHR5cGVvZiAke2RhdGF9ICE9IFwib2JqZWN0XCJgO1xuICAgICAgICBjb25kID0gdHlwZXMubnVsbCA/IG5vdE9iaiA6ICgwLCBjb2RlZ2VuXzEuXykgYCEke2RhdGF9IHx8ICR7bm90T2JqfWA7XG4gICAgICAgIGRlbGV0ZSB0eXBlcy5udWxsO1xuICAgICAgICBkZWxldGUgdHlwZXMuYXJyYXk7XG4gICAgICAgIGRlbGV0ZSB0eXBlcy5vYmplY3Q7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBjb25kID0gY29kZWdlbl8xLm5pbDtcbiAgICB9XG4gICAgaWYgKHR5cGVzLm51bWJlcilcbiAgICAgICAgZGVsZXRlIHR5cGVzLmludGVnZXI7XG4gICAgZm9yIChjb25zdCB0IGluIHR5cGVzKVxuICAgICAgICBjb25kID0gKDAsIGNvZGVnZW5fMS5hbmQpKGNvbmQsIGNoZWNrRGF0YVR5cGUodCwgZGF0YSwgc3RyaWN0TnVtcywgY29ycmVjdCkpO1xuICAgIHJldHVybiBjb25kO1xufVxuZXhwb3J0cy5jaGVja0RhdGFUeXBlcyA9IGNoZWNrRGF0YVR5cGVzO1xuY29uc3QgdHlwZUVycm9yID0ge1xuICAgIG1lc3NhZ2U6ICh7IHNjaGVtYSB9KSA9PiBgbXVzdCBiZSAke3NjaGVtYX1gLFxuICAgIHBhcmFtczogKHsgc2NoZW1hLCBzY2hlbWFWYWx1ZSB9KSA9PiB0eXBlb2Ygc2NoZW1hID09IFwic3RyaW5nXCIgPyAoMCwgY29kZWdlbl8xLl8pIGB7dHlwZTogJHtzY2hlbWF9fWAgOiAoMCwgY29kZWdlbl8xLl8pIGB7dHlwZTogJHtzY2hlbWFWYWx1ZX19YCxcbn07XG5mdW5jdGlvbiByZXBvcnRUeXBlRXJyb3IoaXQpIHtcbiAgICBjb25zdCBjeHQgPSBnZXRUeXBlRXJyb3JDb250ZXh0KGl0KTtcbiAgICAoMCwgZXJyb3JzXzEucmVwb3J0RXJyb3IpKGN4dCwgdHlwZUVycm9yKTtcbn1cbmV4cG9ydHMucmVwb3J0VHlwZUVycm9yID0gcmVwb3J0VHlwZUVycm9yO1xuZnVuY3Rpb24gZ2V0VHlwZUVycm9yQ29udGV4dChpdCkge1xuICAgIGNvbnN0IHsgZ2VuLCBkYXRhLCBzY2hlbWEgfSA9IGl0O1xuICAgIGNvbnN0IHNjaGVtYUNvZGUgPSAoMCwgdXRpbF8xLnNjaGVtYVJlZk9yVmFsKShpdCwgc2NoZW1hLCBcInR5cGVcIik7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgZ2VuLFxuICAgICAgICBrZXl3b3JkOiBcInR5cGVcIixcbiAgICAgICAgZGF0YSxcbiAgICAgICAgc2NoZW1hOiBzY2hlbWEudHlwZSxcbiAgICAgICAgc2NoZW1hQ29kZSxcbiAgICAgICAgc2NoZW1hVmFsdWU6IHNjaGVtYUNvZGUsXG4gICAgICAgIHBhcmVudFNjaGVtYTogc2NoZW1hLFxuICAgICAgICBwYXJhbXM6IHt9LFxuICAgICAgICBpdCxcbiAgICB9O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YVR5cGUuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLnZhbGlkYXRlU2NoZW1hRGVwcyA9IGV4cG9ydHMudmFsaWRhdGVQcm9wZXJ0eURlcHMgPSBleHBvcnRzLmVycm9yID0gdm9pZCAwO1xuY29uc3QgY29kZWdlbl8xID0gcmVxdWlyZShcIi4uLy4uL2NvbXBpbGUvY29kZWdlblwiKTtcbmNvbnN0IHV0aWxfMSA9IHJlcXVpcmUoXCIuLi8uLi9jb21waWxlL3V0aWxcIik7XG5jb25zdCBjb2RlXzEgPSByZXF1aXJlKFwiLi4vY29kZVwiKTtcbmV4cG9ydHMuZXJyb3IgPSB7XG4gICAgbWVzc2FnZTogKHsgcGFyYW1zOiB7IHByb3BlcnR5LCBkZXBzQ291bnQsIGRlcHMgfSB9KSA9PiB7XG4gICAgICAgIGNvbnN0IHByb3BlcnR5X2llcyA9IGRlcHNDb3VudCA9PT0gMSA/IFwicHJvcGVydHlcIiA6IFwicHJvcGVydGllc1wiO1xuICAgICAgICByZXR1cm4gKDAsIGNvZGVnZW5fMS5zdHIpIGBtdXN0IGhhdmUgJHtwcm9wZXJ0eV9pZXN9ICR7ZGVwc30gd2hlbiBwcm9wZXJ0eSAke3Byb3BlcnR5fSBpcyBwcmVzZW50YDtcbiAgICB9LFxuICAgIHBhcmFtczogKHsgcGFyYW1zOiB7IHByb3BlcnR5LCBkZXBzQ291bnQsIGRlcHMsIG1pc3NpbmdQcm9wZXJ0eSB9IH0pID0+ICgwLCBjb2RlZ2VuXzEuXykgYHtwcm9wZXJ0eTogJHtwcm9wZXJ0eX0sXG4gICAgbWlzc2luZ1Byb3BlcnR5OiAke21pc3NpbmdQcm9wZXJ0eX0sXG4gICAgZGVwc0NvdW50OiAke2RlcHNDb3VudH0sXG4gICAgZGVwczogJHtkZXBzfX1gLCAvLyBUT0RPIGNoYW5nZSB0byByZWZlcmVuY2Vcbn07XG5jb25zdCBkZWYgPSB7XG4gICAga2V5d29yZDogXCJkZXBlbmRlbmNpZXNcIixcbiAgICB0eXBlOiBcIm9iamVjdFwiLFxuICAgIHNjaGVtYVR5cGU6IFwib2JqZWN0XCIsXG4gICAgZXJyb3I6IGV4cG9ydHMuZXJyb3IsXG4gICAgY29kZShjeHQpIHtcbiAgICAgICAgY29uc3QgW3Byb3BEZXBzLCBzY2hEZXBzXSA9IHNwbGl0RGVwZW5kZW5jaWVzKGN4dCk7XG4gICAgICAgIHZhbGlkYXRlUHJvcGVydHlEZXBzKGN4dCwgcHJvcERlcHMpO1xuICAgICAgICB2YWxpZGF0ZVNjaGVtYURlcHMoY3h0LCBzY2hEZXBzKTtcbiAgICB9LFxufTtcbmZ1bmN0aW9uIHNwbGl0RGVwZW5kZW5jaWVzKHsgc2NoZW1hIH0pIHtcbiAgICBjb25zdCBwcm9wZXJ0eURlcHMgPSB7fTtcbiAgICBjb25zdCBzY2hlbWFEZXBzID0ge307XG4gICAgZm9yIChjb25zdCBrZXkgaW4gc2NoZW1hKSB7XG4gICAgICAgIGlmIChrZXkgPT09IFwiX19wcm90b19fXCIpXG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgY29uc3QgZGVwcyA9IEFycmF5LmlzQXJyYXkoc2NoZW1hW2tleV0pID8gcHJvcGVydHlEZXBzIDogc2NoZW1hRGVwcztcbiAgICAgICAgZGVwc1trZXldID0gc2NoZW1hW2tleV07XG4gICAgfVxuICAgIHJldHVybiBbcHJvcGVydHlEZXBzLCBzY2hlbWFEZXBzXTtcbn1cbmZ1bmN0aW9uIHZhbGlkYXRlUHJvcGVydHlEZXBzKGN4dCwgcHJvcGVydHlEZXBzID0gY3h0LnNjaGVtYSkge1xuICAgIGNvbnN0IHsgZ2VuLCBkYXRhLCBpdCB9ID0gY3h0O1xuICAgIGlmIChPYmplY3Qua2V5cyhwcm9wZXJ0eURlcHMpLmxlbmd0aCA9PT0gMClcbiAgICAgICAgcmV0dXJuO1xuICAgIGNvbnN0IG1pc3NpbmcgPSBnZW4ubGV0KFwibWlzc2luZ1wiKTtcbiAgICBmb3IgKGNvbnN0IHByb3AgaW4gcHJvcGVydHlEZXBzKSB7XG4gICAgICAgIGNvbnN0IGRlcHMgPSBwcm9wZXJ0eURlcHNbcHJvcF07XG4gICAgICAgIGlmIChkZXBzLmxlbmd0aCA9PT0gMClcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBjb25zdCBoYXNQcm9wZXJ0eSA9ICgwLCBjb2RlXzEucHJvcGVydHlJbkRhdGEpKGdlbiwgZGF0YSwgcHJvcCwgaXQub3B0cy5vd25Qcm9wZXJ0aWVzKTtcbiAgICAgICAgY3h0LnNldFBhcmFtcyh7XG4gICAgICAgICAgICBwcm9wZXJ0eTogcHJvcCxcbiAgICAgICAgICAgIGRlcHNDb3VudDogZGVwcy5sZW5ndGgsXG4gICAgICAgICAgICBkZXBzOiBkZXBzLmpvaW4oXCIsIFwiKSxcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChpdC5hbGxFcnJvcnMpIHtcbiAgICAgICAgICAgIGdlbi5pZihoYXNQcm9wZXJ0eSwgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgZGVwUHJvcCBvZiBkZXBzKSB7XG4gICAgICAgICAgICAgICAgICAgICgwLCBjb2RlXzEuY2hlY2tSZXBvcnRNaXNzaW5nUHJvcCkoY3h0LCBkZXBQcm9wKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGdlbi5pZigoMCwgY29kZWdlbl8xLl8pIGAke2hhc1Byb3BlcnR5fSAmJiAoJHsoMCwgY29kZV8xLmNoZWNrTWlzc2luZ1Byb3ApKGN4dCwgZGVwcywgbWlzc2luZyl9KWApO1xuICAgICAgICAgICAgKDAsIGNvZGVfMS5yZXBvcnRNaXNzaW5nUHJvcCkoY3h0LCBtaXNzaW5nKTtcbiAgICAgICAgICAgIGdlbi5lbHNlKCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnRzLnZhbGlkYXRlUHJvcGVydHlEZXBzID0gdmFsaWRhdGVQcm9wZXJ0eURlcHM7XG5mdW5jdGlvbiB2YWxpZGF0ZVNjaGVtYURlcHMoY3h0LCBzY2hlbWFEZXBzID0gY3h0LnNjaGVtYSkge1xuICAgIGNvbnN0IHsgZ2VuLCBkYXRhLCBrZXl3b3JkLCBpdCB9ID0gY3h0O1xuICAgIGNvbnN0IHZhbGlkID0gZ2VuLm5hbWUoXCJ2YWxpZFwiKTtcbiAgICBmb3IgKGNvbnN0IHByb3AgaW4gc2NoZW1hRGVwcykge1xuICAgICAgICBpZiAoKDAsIHV0aWxfMS5hbHdheXNWYWxpZFNjaGVtYSkoaXQsIHNjaGVtYURlcHNbcHJvcF0pKVxuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIGdlbi5pZigoMCwgY29kZV8xLnByb3BlcnR5SW5EYXRhKShnZW4sIGRhdGEsIHByb3AsIGl0Lm9wdHMub3duUHJvcGVydGllcyksICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHNjaEN4dCA9IGN4dC5zdWJzY2hlbWEoeyBrZXl3b3JkLCBzY2hlbWFQcm9wOiBwcm9wIH0sIHZhbGlkKTtcbiAgICAgICAgICAgIGN4dC5tZXJnZVZhbGlkRXZhbHVhdGVkKHNjaEN4dCwgdmFsaWQpO1xuICAgICAgICB9LCAoKSA9PiBnZW4udmFyKHZhbGlkLCB0cnVlKSAvLyBUT0RPIHZhclxuICAgICAgICApO1xuICAgICAgICBjeHQub2sodmFsaWQpO1xuICAgIH1cbn1cbmV4cG9ydHMudmFsaWRhdGVTY2hlbWFEZXBzID0gdmFsaWRhdGVTY2hlbWFEZXBzO1xuZXhwb3J0cy5kZWZhdWx0ID0gZGVmO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGVwZW5kZW5jaWVzLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==