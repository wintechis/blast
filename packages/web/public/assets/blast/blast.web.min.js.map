{"version":3,"file":"blast.web.min.js","mappings":"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","sources":["webpack://@blast/core/../../node_modules/assert/build/assert.js","webpack://@blast/core/../../node_modules/assert/build/internal/assert/assertion_error.js","webpack://@blast/core/../../node_modules/assert/build/internal/errors.js","webpack://@blast/core/../../node_modules/assert/build/internal/util/comparisons.js","webpack://@blast/core/../../node_modules/base64-js/index.js","webpack://@blast/core/../../node_modules/buffer/index.js","webpack://@blast/core/../../node_modules/builtin-status-codes/browser.js","webpack://@blast/core/../../node_modules/call-bind/callBound.js","webpack://@blast/core/../../node_modules/call-bind/index.js","webpack://@blast/core/../../node_modules/console-browserify/index.js","webpack://@blast/core/../../node_modules/define-properties/index.js","webpack://@blast/core/../../node_modules/es6-object-assign/index.js","webpack://@blast/core/../../node_modules/events/events.js","webpack://@blast/core/../../node_modules/for-each/index.js","webpack://@blast/core/../../node_modules/function-bind/implementation.js","webpack://@blast/core/../../node_modules/function-bind/index.js","webpack://@blast/core/../../node_modules/get-intrinsic/index.js","webpack://@blast/core/../../node_modules/has-property-descriptors/index.js","webpack://@blast/core/../../node_modules/has-symbols/index.js","webpack://@blast/core/../../node_modules/has-symbols/shams.js","webpack://@blast/core/../../node_modules/has-tostringtag/shams.js","webpack://@blast/core/../../node_modules/has/src/index.js","webpack://@blast/core/../../node_modules/https-browserify/index.js","webpack://@blast/core/../../node_modules/ieee754/index.js","webpack://@blast/core/../../node_modules/inherits/inherits_browser.js","webpack://@blast/core/../../node_modules/is-arguments/index.js","webpack://@blast/core/../../node_modules/is-callable/index.js","webpack://@blast/core/../../node_modules/is-generator-function/index.js","webpack://@blast/core/../../node_modules/is-nan/implementation.js","webpack://@blast/core/../../node_modules/is-nan/index.js","webpack://@blast/core/../../node_modules/is-nan/polyfill.js","webpack://@blast/core/../../node_modules/is-nan/shim.js","webpack://@blast/core/../../node_modules/is-typed-array/index.js","webpack://@blast/core/../../node_modules/object-is/implementation.js","webpack://@blast/core/../../node_modules/object-is/index.js","webpack://@blast/core/../../node_modules/object-is/polyfill.js","webpack://@blast/core/../../node_modules/object-is/shim.js","webpack://@blast/core/../../node_modules/object-keys/implementation.js","webpack://@blast/core/../../node_modules/object-keys/index.js","webpack://@blast/core/../../node_modules/object-keys/isArguments.js","webpack://@blast/core/../../node_modules/os-browserify/browser.js","webpack://@blast/core/../../node_modules/process/browser.js","webpack://@blast/core/../../node_modules/querystring/decode.js","webpack://@blast/core/../../node_modules/querystring/encode.js","webpack://@blast/core/../../node_modules/querystring/index.js","webpack://@blast/core/../../node_modules/safe-buffer/index.js","webpack://@blast/core/../../node_modules/stream-http/index.js","webpack://@blast/core/../../node_modules/stream-http/lib/capability.js","webpack://@blast/core/../../node_modules/stream-http/lib/request.js","webpack://@blast/core/../../node_modules/stream-http/lib/response.js","webpack://@blast/core/../../node_modules/stream-http/node_modules/readable-stream/errors-browser.js","webpack://@blast/core/../../node_modules/stream-http/node_modules/readable-stream/lib/_stream_duplex.js","webpack://@blast/core/../../node_modules/stream-http/node_modules/readable-stream/lib/_stream_passthrough.js","webpack://@blast/core/../../node_modules/stream-http/node_modules/readable-stream/lib/_stream_readable.js","webpack://@blast/core/../../node_modules/stream-http/node_modules/readable-stream/lib/_stream_transform.js","webpack://@blast/core/../../node_modules/stream-http/node_modules/readable-stream/lib/_stream_writable.js","webpack://@blast/core/../../node_modules/stream-http/node_modules/readable-stream/lib/internal/streams/async_iterator.js","webpack://@blast/core/../../node_modules/stream-http/node_modules/readable-stream/lib/internal/streams/buffer_list.js","webpack://@blast/core/../../node_modules/stream-http/node_modules/readable-stream/lib/internal/streams/destroy.js","webpack://@blast/core/../../node_modules/stream-http/node_modules/readable-stream/lib/internal/streams/end-of-stream.js","webpack://@blast/core/../../node_modules/stream-http/node_modules/readable-stream/lib/internal/streams/from-browser.js","webpack://@blast/core/../../node_modules/stream-http/node_modules/readable-stream/lib/internal/streams/pipeline.js","webpack://@blast/core/../../node_modules/stream-http/node_modules/readable-stream/lib/internal/streams/state.js","webpack://@blast/core/../../node_modules/stream-http/node_modules/readable-stream/lib/internal/streams/stream-browser.js","webpack://@blast/core/../../node_modules/stream-http/node_modules/readable-stream/readable-browser.js","webpack://@blast/core/../../node_modules/string_decoder/lib/string_decoder.js","webpack://@blast/core/../../node_modules/url/node_modules/punycode/punycode.js","webpack://@blast/core/../../node_modules/url/url.js","webpack://@blast/core/../../node_modules/url/util.js","webpack://@blast/core/../../node_modules/util-deprecate/browser.js","webpack://@blast/core/../../node_modules/util/support/isBufferBrowser.js","webpack://@blast/core/../../node_modules/util/support/types.js","webpack://@blast/core/../../node_modules/util/util.js","webpack://@blast/core/../../node_modules/which-typed-array/index.js","webpack://@blast/core/../../node_modules/xtend/immutable.js","webpack://@blast/core/./node_modules/@node-wot/core/dist/codecs/base64-codec.js","webpack://@blast/core/./node_modules/@node-wot/core/dist/codecs/json-codec.js","webpack://@blast/core/./node_modules/@node-wot/core/dist/codecs/netconf-codec.js","webpack://@blast/core/./node_modules/@node-wot/core/dist/codecs/octetstream-codec.js","webpack://@blast/core/./node_modules/@node-wot/core/dist/codecs/text-codec.js","webpack://@blast/core/./node_modules/@node-wot/core/dist/consumed-thing.js","webpack://@blast/core/./node_modules/@node-wot/core/dist/content-serdes.js","webpack://@blast/core/./node_modules/@node-wot/core/dist/core.js","webpack://@blast/core/./node_modules/@node-wot/core/dist/errors.js","webpack://@blast/core/./node_modules/@node-wot/core/dist/exposed-thing.js","webpack://@blast/core/./node_modules/@node-wot/core/dist/helpers.js","webpack://@blast/core/./node_modules/@node-wot/core/dist/interaction-output.js","webpack://@blast/core/./node_modules/@node-wot/core/dist/logger.js","webpack://@blast/core/./node_modules/@node-wot/core/dist/protocol-helpers.js","webpack://@blast/core/./node_modules/@node-wot/core/dist/protocol-interfaces.js","webpack://@blast/core/./node_modules/@node-wot/core/dist/protocol-listener-registry.js","webpack://@blast/core/./node_modules/@node-wot/core/dist/servient.js","webpack://@blast/core/./node_modules/@node-wot/core/dist/wot-impl.js","webpack://@blast/core/./node_modules/@node-wot/core/node_modules/ajv/dist/ajv.js","webpack://@blast/core/./node_modules/@node-wot/core/node_modules/ajv/dist/compile/codegen/code.js","webpack://@blast/core/./node_modules/@node-wot/core/node_modules/ajv/dist/compile/codegen/index.js","webpack://@blast/core/./node_modules/@node-wot/core/node_modules/ajv/dist/compile/codegen/scope.js","webpack://@blast/core/./node_modules/@node-wot/core/node_modules/ajv/dist/compile/context.js","webpack://@blast/core/./node_modules/@node-wot/core/node_modules/ajv/dist/compile/error_classes.js","webpack://@blast/core/./node_modules/@node-wot/core/node_modules/ajv/dist/compile/errors.js","webpack://@blast/core/./node_modules/@node-wot/core/node_modules/ajv/dist/compile/index.js","webpack://@blast/core/./node_modules/@node-wot/core/node_modules/ajv/dist/compile/names.js","webpack://@blast/core/./node_modules/@node-wot/core/node_modules/ajv/dist/compile/resolve.js","webpack://@blast/core/./node_modules/@node-wot/core/node_modules/ajv/dist/compile/rules.js","webpack://@blast/core/./node_modules/@node-wot/core/node_modules/ajv/dist/compile/subschema.js","webpack://@blast/core/./node_modules/@node-wot/core/node_modules/ajv/dist/compile/ucs2length.js","webpack://@blast/core/./node_modules/@node-wot/core/node_modules/ajv/dist/compile/util.js","webpack://@blast/core/./node_modules/@node-wot/core/node_modules/ajv/dist/compile/validate/applicability.js","webpack://@blast/core/./node_modules/@node-wot/core/node_modules/ajv/dist/compile/validate/boolSchema.js","webpack://@blast/core/./node_modules/@node-wot/core/node_modules/ajv/dist/compile/validate/dataType.js","webpack://@blast/core/./node_modules/@node-wot/core/node_modules/ajv/dist/compile/validate/defaults.js","webpack://@blast/core/./node_modules/@node-wot/core/node_modules/ajv/dist/compile/validate/index.js","webpack://@blast/core/./node_modules/@node-wot/core/node_modules/ajv/dist/compile/validate/iterate.js","webpack://@blast/core/./node_modules/@node-wot/core/node_modules/ajv/dist/compile/validate/keyword.js","webpack://@blast/core/./node_modules/@node-wot/core/node_modules/ajv/dist/core.js","webpack://@blast/core/./node_modules/@node-wot/core/node_modules/ajv/dist/vocabularies/applicator/additionalItems.js","webpack://@blast/core/./node_modules/@node-wot/core/node_modules/ajv/dist/vocabularies/applicator/additionalProperties.js","webpack://@blast/core/./node_modules/@node-wot/core/node_modules/ajv/dist/vocabularies/applicator/allOf.js","webpack://@blast/core/./node_modules/@node-wot/core/node_modules/ajv/dist/vocabularies/applicator/anyOf.js","webpack://@blast/core/./node_modules/@node-wot/core/node_modules/ajv/dist/vocabularies/applicator/contains.js","webpack://@blast/core/./node_modules/@node-wot/core/node_modules/ajv/dist/vocabularies/applicator/dependencies.js","webpack://@blast/core/./node_modules/@node-wot/core/node_modules/ajv/dist/vocabularies/applicator/if.js","webpack://@blast/core/./node_modules/@node-wot/core/node_modules/ajv/dist/vocabularies/applicator/index.js","webpack://@blast/core/./node_modules/@node-wot/core/node_modules/ajv/dist/vocabularies/applicator/items.js","webpack://@blast/core/./node_modules/@node-wot/core/node_modules/ajv/dist/vocabularies/applicator/not.js","webpack://@blast/core/./node_modules/@node-wot/core/node_modules/ajv/dist/vocabularies/applicator/oneOf.js","webpack://@blast/core/./node_modules/@node-wot/core/node_modules/ajv/dist/vocabularies/applicator/patternProperties.js","webpack://@blast/core/./node_modules/@node-wot/core/node_modules/ajv/dist/vocabularies/applicator/properties.js","webpack://@blast/core/./node_modules/@node-wot/core/node_modules/ajv/dist/vocabularies/applicator/propertyNames.js","webpack://@blast/core/./node_modules/@node-wot/core/node_modules/ajv/dist/vocabularies/applicator/thenElse.js","webpack://@blast/core/./node_modules/@node-wot/core/node_modules/ajv/dist/vocabularies/code.js","webpack://@blast/core/./node_modules/@node-wot/core/node_modules/ajv/dist/vocabularies/core/id.js","webpack://@blast/core/./node_modules/@node-wot/core/node_modules/ajv/dist/vocabularies/core/index.js","webpack://@blast/core/./node_modules/@node-wot/core/node_modules/ajv/dist/vocabularies/core/ref.js","webpack://@blast/core/./node_modules/@node-wot/core/node_modules/ajv/dist/vocabularies/draft7.js","webpack://@blast/core/./node_modules/@node-wot/core/node_modules/ajv/dist/vocabularies/format/format.js","webpack://@blast/core/./node_modules/@node-wot/core/node_modules/ajv/dist/vocabularies/format/index.js","webpack://@blast/core/./node_modules/@node-wot/core/node_modules/ajv/dist/vocabularies/metadata.js","webpack://@blast/core/./node_modules/@node-wot/core/node_modules/ajv/dist/vocabularies/validation/const.js","webpack://@blast/core/./node_modules/@node-wot/core/node_modules/ajv/dist/vocabularies/validation/enum.js","webpack://@blast/core/./node_modules/@node-wot/core/node_modules/ajv/dist/vocabularies/validation/index.js","webpack://@blast/core/./node_modules/@node-wot/core/node_modules/ajv/dist/vocabularies/validation/limitItems.js","webpack://@blast/core/./node_modules/@node-wot/core/node_modules/ajv/dist/vocabularies/validation/limitLength.js","webpack://@blast/core/./node_modules/@node-wot/core/node_modules/ajv/dist/vocabularies/validation/limitNumber.js","webpack://@blast/core/./node_modules/@node-wot/core/node_modules/ajv/dist/vocabularies/validation/limitProperties.js","webpack://@blast/core/./node_modules/@node-wot/core/node_modules/ajv/dist/vocabularies/validation/multipleOf.js","webpack://@blast/core/./node_modules/@node-wot/core/node_modules/ajv/dist/vocabularies/validation/pattern.js","webpack://@blast/core/./node_modules/@node-wot/core/node_modules/ajv/dist/vocabularies/validation/required.js","webpack://@blast/core/./node_modules/@node-wot/core/node_modules/ajv/dist/vocabularies/validation/uniqueItems.js","webpack://@blast/core/./node_modules/@node-wot/td-tools/dist/td-helpers.js","webpack://@blast/core/./node_modules/@node-wot/td-tools/dist/td-parser.js","webpack://@blast/core/./node_modules/@node-wot/td-tools/dist/td-tools.js","webpack://@blast/core/./node_modules/@node-wot/td-tools/dist/thing-description.js","webpack://@blast/core/./node_modules/@node-wot/td-tools/dist/thing-model-helpers.js","webpack://@blast/core/./node_modules/@node-wot/td-tools/node_modules/ajv/dist/ajv.js","webpack://@blast/core/./node_modules/@node-wot/td-tools/node_modules/ajv/dist/compile/codegen/code.js","webpack://@blast/core/./node_modules/@node-wot/td-tools/node_modules/ajv/dist/compile/codegen/index.js","webpack://@blast/core/./node_modules/@node-wot/td-tools/node_modules/ajv/dist/compile/codegen/scope.js","webpack://@blast/core/./node_modules/@node-wot/td-tools/node_modules/ajv/dist/compile/context.js","webpack://@blast/core/./node_modules/@node-wot/td-tools/node_modules/ajv/dist/compile/error_classes.js","webpack://@blast/core/./node_modules/@node-wot/td-tools/node_modules/ajv/dist/compile/errors.js","webpack://@blast/core/./node_modules/@node-wot/td-tools/node_modules/ajv/dist/compile/index.js","webpack://@blast/core/./node_modules/@node-wot/td-tools/node_modules/ajv/dist/compile/names.js","webpack://@blast/core/./node_modules/@node-wot/td-tools/node_modules/ajv/dist/compile/resolve.js","webpack://@blast/core/./node_modules/@node-wot/td-tools/node_modules/ajv/dist/compile/rules.js","webpack://@blast/core/./node_modules/@node-wot/td-tools/node_modules/ajv/dist/compile/subschema.js","webpack://@blast/core/./node_modules/@node-wot/td-tools/node_modules/ajv/dist/compile/ucs2length.js","webpack://@blast/core/./node_modules/@node-wot/td-tools/node_modules/ajv/dist/compile/util.js","webpack://@blast/core/./node_modules/@node-wot/td-tools/node_modules/ajv/dist/compile/validate/applicability.js","webpack://@blast/core/./node_modules/@node-wot/td-tools/node_modules/ajv/dist/compile/validate/boolSchema.js","webpack://@blast/core/./node_modules/@node-wot/td-tools/node_modules/ajv/dist/compile/validate/dataType.js","webpack://@blast/core/./node_modules/@node-wot/td-tools/node_modules/ajv/dist/compile/validate/defaults.js","webpack://@blast/core/./node_modules/@node-wot/td-tools/node_modules/ajv/dist/compile/validate/index.js","webpack://@blast/core/./node_modules/@node-wot/td-tools/node_modules/ajv/dist/compile/validate/iterate.js","webpack://@blast/core/./node_modules/@node-wot/td-tools/node_modules/ajv/dist/compile/validate/keyword.js","webpack://@blast/core/./node_modules/@node-wot/td-tools/node_modules/ajv/dist/core.js","webpack://@blast/core/./node_modules/@node-wot/td-tools/node_modules/ajv/dist/vocabularies/applicator/additionalItems.js","webpack://@blast/core/./node_modules/@node-wot/td-tools/node_modules/ajv/dist/vocabularies/applicator/additionalProperties.js","webpack://@blast/core/./node_modules/@node-wot/td-tools/node_modules/ajv/dist/vocabularies/applicator/allOf.js","webpack://@blast/core/./node_modules/@node-wot/td-tools/node_modules/ajv/dist/vocabularies/applicator/anyOf.js","webpack://@blast/core/./node_modules/@node-wot/td-tools/node_modules/ajv/dist/vocabularies/applicator/contains.js","webpack://@blast/core/./node_modules/@node-wot/td-tools/node_modules/ajv/dist/vocabularies/applicator/dependencies.js","webpack://@blast/core/./node_modules/@node-wot/td-tools/node_modules/ajv/dist/vocabularies/applicator/if.js","webpack://@blast/core/./node_modules/@node-wot/td-tools/node_modules/ajv/dist/vocabularies/applicator/index.js","webpack://@blast/core/./node_modules/@node-wot/td-tools/node_modules/ajv/dist/vocabularies/applicator/items.js","webpack://@blast/core/./node_modules/@node-wot/td-tools/node_modules/ajv/dist/vocabularies/applicator/not.js","webpack://@blast/core/./node_modules/@node-wot/td-tools/node_modules/ajv/dist/vocabularies/applicator/oneOf.js","webpack://@blast/core/./node_modules/@node-wot/td-tools/node_modules/ajv/dist/vocabularies/applicator/patternProperties.js","webpack://@blast/core/./node_modules/@node-wot/td-tools/node_modules/ajv/dist/vocabularies/applicator/properties.js","webpack://@blast/core/./node_modules/@node-wot/td-tools/node_modules/ajv/dist/vocabularies/applicator/propertyNames.js","webpack://@blast/core/./node_modules/@node-wot/td-tools/node_modules/ajv/dist/vocabularies/applicator/thenElse.js","webpack://@blast/core/./node_modules/@node-wot/td-tools/node_modules/ajv/dist/vocabularies/code.js","webpack://@blast/core/./node_modules/@node-wot/td-tools/node_modules/ajv/dist/vocabularies/core/id.js","webpack://@blast/core/./node_modules/@node-wot/td-tools/node_modules/ajv/dist/vocabularies/core/index.js","webpack://@blast/core/./node_modules/@node-wot/td-tools/node_modules/ajv/dist/vocabularies/core/ref.js","webpack://@blast/core/./node_modules/@node-wot/td-tools/node_modules/ajv/dist/vocabularies/draft7.js","webpack://@blast/core/./node_modules/@node-wot/td-tools/node_modules/ajv/dist/vocabularies/format/format.js","webpack://@blast/core/./node_modules/@node-wot/td-tools/node_modules/ajv/dist/vocabularies/format/index.js","webpack://@blast/core/./node_modules/@node-wot/td-tools/node_modules/ajv/dist/vocabularies/metadata.js","webpack://@blast/core/./node_modules/@node-wot/td-tools/node_modules/ajv/dist/vocabularies/validation/const.js","webpack://@blast/core/./node_modules/@node-wot/td-tools/node_modules/ajv/dist/vocabularies/validation/enum.js","webpack://@blast/core/./node_modules/@node-wot/td-tools/node_modules/ajv/dist/vocabularies/validation/index.js","webpack://@blast/core/./node_modules/@node-wot/td-tools/node_modules/ajv/dist/vocabularies/validation/limitItems.js","webpack://@blast/core/./node_modules/@node-wot/td-tools/node_modules/ajv/dist/vocabularies/validation/limitLength.js","webpack://@blast/core/./node_modules/@node-wot/td-tools/node_modules/ajv/dist/vocabularies/validation/limitNumber.js","webpack://@blast/core/./node_modules/@node-wot/td-tools/node_modules/ajv/dist/vocabularies/validation/limitProperties.js","webpack://@blast/core/./node_modules/@node-wot/td-tools/node_modules/ajv/dist/vocabularies/validation/multipleOf.js","webpack://@blast/core/./node_modules/@node-wot/td-tools/node_modules/ajv/dist/vocabularies/validation/pattern.js","webpack://@blast/core/./node_modules/@node-wot/td-tools/node_modules/ajv/dist/vocabularies/validation/required.js","webpack://@blast/core/./node_modules/@node-wot/td-tools/node_modules/ajv/dist/vocabularies/validation/uniqueItems.js","webpack://@blast/core/./node_modules/abort-controller/browser.js","webpack://@blast/core/./node_modules/base64-js/index.js","webpack://@blast/core/./node_modules/buffer/index.js","webpack://@blast/core/./node_modules/debug/src/browser.js","webpack://@blast/core/./node_modules/debug/src/common.js","webpack://@blast/core/./node_modules/events/events.js","webpack://@blast/core/./node_modules/fast-deep-equal/index.js","webpack://@blast/core/./node_modules/ieee754/index.js","webpack://@blast/core/./node_modules/is-absolute-url/index.js","webpack://@blast/core/./node_modules/json-placeholder-replacer/dist/index.js","webpack://@blast/core/./node_modules/json-placeholder-replacer/dist/json-placeholder-replacer.js","webpack://@blast/core/./node_modules/json-schema-traverse/index.js","webpack://@blast/core/./node_modules/ms/index.js","webpack://@blast/core/./node_modules/process/browser.js","webpack://@blast/core/./node_modules/readable-stream/lib/internal/streams/add-abort-signal.js","webpack://@blast/core/./node_modules/readable-stream/lib/internal/streams/buffer_list.js","webpack://@blast/core/./node_modules/readable-stream/lib/internal/streams/compose.js","webpack://@blast/core/./node_modules/readable-stream/lib/internal/streams/destroy.js","webpack://@blast/core/./node_modules/readable-stream/lib/internal/streams/duplex.js","webpack://@blast/core/./node_modules/readable-stream/lib/internal/streams/duplexify.js","webpack://@blast/core/./node_modules/readable-stream/lib/internal/streams/end-of-stream.js","webpack://@blast/core/./node_modules/readable-stream/lib/internal/streams/from.js","webpack://@blast/core/./node_modules/readable-stream/lib/internal/streams/legacy.js","webpack://@blast/core/./node_modules/readable-stream/lib/internal/streams/operators.js","webpack://@blast/core/./node_modules/readable-stream/lib/internal/streams/passthrough.js","webpack://@blast/core/./node_modules/readable-stream/lib/internal/streams/pipeline.js","webpack://@blast/core/./node_modules/readable-stream/lib/internal/streams/readable.js","webpack://@blast/core/./node_modules/readable-stream/lib/internal/streams/state.js","webpack://@blast/core/./node_modules/readable-stream/lib/internal/streams/transform.js","webpack://@blast/core/./node_modules/readable-stream/lib/internal/streams/utils.js","webpack://@blast/core/./node_modules/readable-stream/lib/internal/streams/writable.js","webpack://@blast/core/./node_modules/readable-stream/lib/internal/validators.js","webpack://@blast/core/./node_modules/readable-stream/lib/ours/errors.js","webpack://@blast/core/./node_modules/readable-stream/lib/ours/primordials.js","webpack://@blast/core/./node_modules/readable-stream/lib/ours/util.js","webpack://@blast/core/./node_modules/readable-stream/lib/stream.js","webpack://@blast/core/./node_modules/readable-stream/lib/stream/promises.js","webpack://@blast/core/./node_modules/rxjs/AsyncSubject.js","webpack://@blast/core/./node_modules/rxjs/BehaviorSubject.js","webpack://@blast/core/./node_modules/rxjs/InnerSubscriber.js","webpack://@blast/core/./node_modules/rxjs/Notification.js","webpack://@blast/core/./node_modules/rxjs/Observable.js","webpack://@blast/core/./node_modules/rxjs/Observer.js","webpack://@blast/core/./node_modules/rxjs/OuterSubscriber.js","webpack://@blast/core/./node_modules/rxjs/ReplaySubject.js","webpack://@blast/core/./node_modules/rxjs/Rx.js","webpack://@blast/core/./node_modules/rxjs/Scheduler.js","webpack://@blast/core/./node_modules/rxjs/Subject.js","webpack://@blast/core/./node_modules/rxjs/SubjectSubscription.js","webpack://@blast/core/./node_modules/rxjs/Subscriber.js","webpack://@blast/core/./node_modules/rxjs/Subscription.js","webpack://@blast/core/./node_modules/rxjs/add/observable/bindCallback.js","webpack://@blast/core/./node_modules/rxjs/add/observable/bindNodeCallback.js","webpack://@blast/core/./node_modules/rxjs/add/observable/combineLatest.js","webpack://@blast/core/./node_modules/rxjs/add/observable/concat.js","webpack://@blast/core/./node_modules/rxjs/add/observable/defer.js","webpack://@blast/core/./node_modules/rxjs/add/observable/dom/ajax.js","webpack://@blast/core/./node_modules/rxjs/add/observable/dom/webSocket.js","webpack://@blast/core/./node_modules/rxjs/add/observable/empty.js","webpack://@blast/core/./node_modules/rxjs/add/observable/forkJoin.js","webpack://@blast/core/./node_modules/rxjs/add/observable/from.js","webpack://@blast/core/./node_modules/rxjs/add/observable/fromEvent.js","webpack://@blast/core/./node_modules/rxjs/add/observable/fromEventPattern.js","webpack://@blast/core/./node_modules/rxjs/add/observable/fromPromise.js","webpack://@blast/core/./node_modules/rxjs/add/observable/generate.js","webpack://@blast/core/./node_modules/rxjs/add/observable/if.js","webpack://@blast/core/./node_modules/rxjs/add/observable/interval.js","webpack://@blast/core/./node_modules/rxjs/add/observable/merge.js","webpack://@blast/core/./node_modules/rxjs/add/observable/never.js","webpack://@blast/core/./node_modules/rxjs/add/observable/of.js","webpack://@blast/core/./node_modules/rxjs/add/observable/onErrorResumeNext.js","webpack://@blast/core/./node_modules/rxjs/add/observable/pairs.js","webpack://@blast/core/./node_modules/rxjs/add/observable/race.js","webpack://@blast/core/./node_modules/rxjs/add/observable/range.js","webpack://@blast/core/./node_modules/rxjs/add/observable/throw.js","webpack://@blast/core/./node_modules/rxjs/add/observable/timer.js","webpack://@blast/core/./node_modules/rxjs/add/observable/using.js","webpack://@blast/core/./node_modules/rxjs/add/observable/zip.js","webpack://@blast/core/./node_modules/rxjs/add/operator/audit.js","webpack://@blast/core/./node_modules/rxjs/add/operator/auditTime.js","webpack://@blast/core/./node_modules/rxjs/add/operator/buffer.js","webpack://@blast/core/./node_modules/rxjs/add/operator/bufferCount.js","webpack://@blast/core/./node_modules/rxjs/add/operator/bufferTime.js","webpack://@blast/core/./node_modules/rxjs/add/operator/bufferToggle.js","webpack://@blast/core/./node_modules/rxjs/add/operator/bufferWhen.js","webpack://@blast/core/./node_modules/rxjs/add/operator/catch.js","webpack://@blast/core/./node_modules/rxjs/add/operator/combineAll.js","webpack://@blast/core/./node_modules/rxjs/add/operator/combineLatest.js","webpack://@blast/core/./node_modules/rxjs/add/operator/concat.js","webpack://@blast/core/./node_modules/rxjs/add/operator/concatAll.js","webpack://@blast/core/./node_modules/rxjs/add/operator/concatMap.js","webpack://@blast/core/./node_modules/rxjs/add/operator/concatMapTo.js","webpack://@blast/core/./node_modules/rxjs/add/operator/count.js","webpack://@blast/core/./node_modules/rxjs/add/operator/debounce.js","webpack://@blast/core/./node_modules/rxjs/add/operator/debounceTime.js","webpack://@blast/core/./node_modules/rxjs/add/operator/defaultIfEmpty.js","webpack://@blast/core/./node_modules/rxjs/add/operator/delay.js","webpack://@blast/core/./node_modules/rxjs/add/operator/delayWhen.js","webpack://@blast/core/./node_modules/rxjs/add/operator/dematerialize.js","webpack://@blast/core/./node_modules/rxjs/add/operator/distinct.js","webpack://@blast/core/./node_modules/rxjs/add/operator/distinctUntilChanged.js","webpack://@blast/core/./node_modules/rxjs/add/operator/distinctUntilKeyChanged.js","webpack://@blast/core/./node_modules/rxjs/add/operator/do.js","webpack://@blast/core/./node_modules/rxjs/add/operator/elementAt.js","webpack://@blast/core/./node_modules/rxjs/add/operator/every.js","webpack://@blast/core/./node_modules/rxjs/add/operator/exhaust.js","webpack://@blast/core/./node_modules/rxjs/add/operator/exhaustMap.js","webpack://@blast/core/./node_modules/rxjs/add/operator/expand.js","webpack://@blast/core/./node_modules/rxjs/add/operator/filter.js","webpack://@blast/core/./node_modules/rxjs/add/operator/finally.js","webpack://@blast/core/./node_modules/rxjs/add/operator/find.js","webpack://@blast/core/./node_modules/rxjs/add/operator/findIndex.js","webpack://@blast/core/./node_modules/rxjs/add/operator/first.js","webpack://@blast/core/./node_modules/rxjs/add/operator/groupBy.js","webpack://@blast/core/./node_modules/rxjs/add/operator/ignoreElements.js","webpack://@blast/core/./node_modules/rxjs/add/operator/isEmpty.js","webpack://@blast/core/./node_modules/rxjs/add/operator/last.js","webpack://@blast/core/./node_modules/rxjs/add/operator/let.js","webpack://@blast/core/./node_modules/rxjs/add/operator/map.js","webpack://@blast/core/./node_modules/rxjs/add/operator/mapTo.js","webpack://@blast/core/./node_modules/rxjs/add/operator/materialize.js","webpack://@blast/core/./node_modules/rxjs/add/operator/max.js","webpack://@blast/core/./node_modules/rxjs/add/operator/merge.js","webpack://@blast/core/./node_modules/rxjs/add/operator/mergeAll.js","webpack://@blast/core/./node_modules/rxjs/add/operator/mergeMap.js","webpack://@blast/core/./node_modules/rxjs/add/operator/mergeMapTo.js","webpack://@blast/core/./node_modules/rxjs/add/operator/mergeScan.js","webpack://@blast/core/./node_modules/rxjs/add/operator/min.js","webpack://@blast/core/./node_modules/rxjs/add/operator/multicast.js","webpack://@blast/core/./node_modules/rxjs/add/operator/observeOn.js","webpack://@blast/core/./node_modules/rxjs/add/operator/onErrorResumeNext.js","webpack://@blast/core/./node_modules/rxjs/add/operator/pairwise.js","webpack://@blast/core/./node_modules/rxjs/add/operator/partition.js","webpack://@blast/core/./node_modules/rxjs/add/operator/pluck.js","webpack://@blast/core/./node_modules/rxjs/add/operator/publish.js","webpack://@blast/core/./node_modules/rxjs/add/operator/publishBehavior.js","webpack://@blast/core/./node_modules/rxjs/add/operator/publishLast.js","webpack://@blast/core/./node_modules/rxjs/add/operator/publishReplay.js","webpack://@blast/core/./node_modules/rxjs/add/operator/race.js","webpack://@blast/core/./node_modules/rxjs/add/operator/reduce.js","webpack://@blast/core/./node_modules/rxjs/add/operator/repeat.js","webpack://@blast/core/./node_modules/rxjs/add/operator/repeatWhen.js","webpack://@blast/core/./node_modules/rxjs/add/operator/retry.js","webpack://@blast/core/./node_modules/rxjs/add/operator/retryWhen.js","webpack://@blast/core/./node_modules/rxjs/add/operator/sample.js","webpack://@blast/core/./node_modules/rxjs/add/operator/sampleTime.js","webpack://@blast/core/./node_modules/rxjs/add/operator/scan.js","webpack://@blast/core/./node_modules/rxjs/add/operator/sequenceEqual.js","webpack://@blast/core/./node_modules/rxjs/add/operator/share.js","webpack://@blast/core/./node_modules/rxjs/add/operator/shareReplay.js","webpack://@blast/core/./node_modules/rxjs/add/operator/single.js","webpack://@blast/core/./node_modules/rxjs/add/operator/skip.js","webpack://@blast/core/./node_modules/rxjs/add/operator/skipLast.js","webpack://@blast/core/./node_modules/rxjs/add/operator/skipUntil.js","webpack://@blast/core/./node_modules/rxjs/add/operator/skipWhile.js","webpack://@blast/core/./node_modules/rxjs/add/operator/startWith.js","webpack://@blast/core/./node_modules/rxjs/add/operator/subscribeOn.js","webpack://@blast/core/./node_modules/rxjs/add/operator/switch.js","webpack://@blast/core/./node_modules/rxjs/add/operator/switchMap.js","webpack://@blast/core/./node_modules/rxjs/add/operator/switchMapTo.js","webpack://@blast/core/./node_modules/rxjs/add/operator/take.js","webpack://@blast/core/./node_modules/rxjs/add/operator/takeLast.js","webpack://@blast/core/./node_modules/rxjs/add/operator/takeUntil.js","webpack://@blast/core/./node_modules/rxjs/add/operator/takeWhile.js","webpack://@blast/core/./node_modules/rxjs/add/operator/throttle.js","webpack://@blast/core/./node_modules/rxjs/add/operator/throttleTime.js","webpack://@blast/core/./node_modules/rxjs/add/operator/timeInterval.js","webpack://@blast/core/./node_modules/rxjs/add/operator/timeout.js","webpack://@blast/core/./node_modules/rxjs/add/operator/timeoutWith.js","webpack://@blast/core/./node_modules/rxjs/add/operator/timestamp.js","webpack://@blast/core/./node_modules/rxjs/add/operator/toArray.js","webpack://@blast/core/./node_modules/rxjs/add/operator/window.js","webpack://@blast/core/./node_modules/rxjs/add/operator/windowCount.js","webpack://@blast/core/./node_modules/rxjs/add/operator/windowTime.js","webpack://@blast/core/./node_modules/rxjs/add/operator/windowToggle.js","webpack://@blast/core/./node_modules/rxjs/add/operator/windowWhen.js","webpack://@blast/core/./node_modules/rxjs/add/operator/withLatestFrom.js","webpack://@blast/core/./node_modules/rxjs/add/operator/zip.js","webpack://@blast/core/./node_modules/rxjs/add/operator/zipAll.js","webpack://@blast/core/./node_modules/rxjs/observable/ArrayLikeObservable.js","webpack://@blast/core/./node_modules/rxjs/observable/ArrayObservable.js","webpack://@blast/core/./node_modules/rxjs/observable/BoundCallbackObservable.js","webpack://@blast/core/./node_modules/rxjs/observable/BoundNodeCallbackObservable.js","webpack://@blast/core/./node_modules/rxjs/observable/ConnectableObservable.js","webpack://@blast/core/./node_modules/rxjs/observable/DeferObservable.js","webpack://@blast/core/./node_modules/rxjs/observable/EmptyObservable.js","webpack://@blast/core/./node_modules/rxjs/observable/ErrorObservable.js","webpack://@blast/core/./node_modules/rxjs/observable/ForkJoinObservable.js","webpack://@blast/core/./node_modules/rxjs/observable/FromEventObservable.js","webpack://@blast/core/./node_modules/rxjs/observable/FromEventPatternObservable.js","webpack://@blast/core/./node_modules/rxjs/observable/FromObservable.js","webpack://@blast/core/./node_modules/rxjs/observable/GenerateObservable.js","webpack://@blast/core/./node_modules/rxjs/observable/IfObservable.js","webpack://@blast/core/./node_modules/rxjs/observable/IntervalObservable.js","webpack://@blast/core/./node_modules/rxjs/observable/IteratorObservable.js","webpack://@blast/core/./node_modules/rxjs/observable/NeverObservable.js","webpack://@blast/core/./node_modules/rxjs/observable/PairsObservable.js","webpack://@blast/core/./node_modules/rxjs/observable/PromiseObservable.js","webpack://@blast/core/./node_modules/rxjs/observable/RangeObservable.js","webpack://@blast/core/./node_modules/rxjs/observable/ScalarObservable.js","webpack://@blast/core/./node_modules/rxjs/observable/SubscribeOnObservable.js","webpack://@blast/core/./node_modules/rxjs/observable/TimerObservable.js","webpack://@blast/core/./node_modules/rxjs/observable/UsingObservable.js","webpack://@blast/core/./node_modules/rxjs/observable/bindCallback.js","webpack://@blast/core/./node_modules/rxjs/observable/bindNodeCallback.js","webpack://@blast/core/./node_modules/rxjs/observable/combineLatest.js","webpack://@blast/core/./node_modules/rxjs/observable/concat.js","webpack://@blast/core/./node_modules/rxjs/observable/defer.js","webpack://@blast/core/./node_modules/rxjs/observable/dom/AjaxObservable.js","webpack://@blast/core/./node_modules/rxjs/observable/dom/WebSocketSubject.js","webpack://@blast/core/./node_modules/rxjs/observable/dom/ajax.js","webpack://@blast/core/./node_modules/rxjs/observable/dom/webSocket.js","webpack://@blast/core/./node_modules/rxjs/observable/empty.js","webpack://@blast/core/./node_modules/rxjs/observable/forkJoin.js","webpack://@blast/core/./node_modules/rxjs/observable/from.js","webpack://@blast/core/./node_modules/rxjs/observable/fromEvent.js","webpack://@blast/core/./node_modules/rxjs/observable/fromEventPattern.js","webpack://@blast/core/./node_modules/rxjs/observable/fromPromise.js","webpack://@blast/core/./node_modules/rxjs/observable/generate.js","webpack://@blast/core/./node_modules/rxjs/observable/if.js","webpack://@blast/core/./node_modules/rxjs/observable/interval.js","webpack://@blast/core/./node_modules/rxjs/observable/merge.js","webpack://@blast/core/./node_modules/rxjs/observable/never.js","webpack://@blast/core/./node_modules/rxjs/observable/of.js","webpack://@blast/core/./node_modules/rxjs/observable/onErrorResumeNext.js","webpack://@blast/core/./node_modules/rxjs/observable/pairs.js","webpack://@blast/core/./node_modules/rxjs/observable/race.js","webpack://@blast/core/./node_modules/rxjs/observable/range.js","webpack://@blast/core/./node_modules/rxjs/observable/throw.js","webpack://@blast/core/./node_modules/rxjs/observable/timer.js","webpack://@blast/core/./node_modules/rxjs/observable/using.js","webpack://@blast/core/./node_modules/rxjs/observable/zip.js","webpack://@blast/core/./node_modules/rxjs/operator/audit.js","webpack://@blast/core/./node_modules/rxjs/operator/auditTime.js","webpack://@blast/core/./node_modules/rxjs/operator/buffer.js","webpack://@blast/core/./node_modules/rxjs/operator/bufferCount.js","webpack://@blast/core/./node_modules/rxjs/operator/bufferTime.js","webpack://@blast/core/./node_modules/rxjs/operator/bufferToggle.js","webpack://@blast/core/./node_modules/rxjs/operator/bufferWhen.js","webpack://@blast/core/./node_modules/rxjs/operator/catch.js","webpack://@blast/core/./node_modules/rxjs/operator/combineAll.js","webpack://@blast/core/./node_modules/rxjs/operator/combineLatest.js","webpack://@blast/core/./node_modules/rxjs/operator/concat.js","webpack://@blast/core/./node_modules/rxjs/operator/concatAll.js","webpack://@blast/core/./node_modules/rxjs/operator/concatMap.js","webpack://@blast/core/./node_modules/rxjs/operator/concatMapTo.js","webpack://@blast/core/./node_modules/rxjs/operator/count.js","webpack://@blast/core/./node_modules/rxjs/operator/debounce.js","webpack://@blast/core/./node_modules/rxjs/operator/debounceTime.js","webpack://@blast/core/./node_modules/rxjs/operator/defaultIfEmpty.js","webpack://@blast/core/./node_modules/rxjs/operator/delay.js","webpack://@blast/core/./node_modules/rxjs/operator/delayWhen.js","webpack://@blast/core/./node_modules/rxjs/operator/dematerialize.js","webpack://@blast/core/./node_modules/rxjs/operator/distinct.js","webpack://@blast/core/./node_modules/rxjs/operator/distinctUntilChanged.js","webpack://@blast/core/./node_modules/rxjs/operator/distinctUntilKeyChanged.js","webpack://@blast/core/./node_modules/rxjs/operator/do.js","webpack://@blast/core/./node_modules/rxjs/operator/elementAt.js","webpack://@blast/core/./node_modules/rxjs/operator/every.js","webpack://@blast/core/./node_modules/rxjs/operator/exhaust.js","webpack://@blast/core/./node_modules/rxjs/operator/exhaustMap.js","webpack://@blast/core/./node_modules/rxjs/operator/expand.js","webpack://@blast/core/./node_modules/rxjs/operator/filter.js","webpack://@blast/core/./node_modules/rxjs/operator/finally.js","webpack://@blast/core/./node_modules/rxjs/operator/find.js","webpack://@blast/core/./node_modules/rxjs/operator/findIndex.js","webpack://@blast/core/./node_modules/rxjs/operator/first.js","webpack://@blast/core/./node_modules/rxjs/operator/groupBy.js","webpack://@blast/core/./node_modules/rxjs/operator/ignoreElements.js","webpack://@blast/core/./node_modules/rxjs/operator/isEmpty.js","webpack://@blast/core/./node_modules/rxjs/operator/last.js","webpack://@blast/core/./node_modules/rxjs/operator/let.js","webpack://@blast/core/./node_modules/rxjs/operator/map.js","webpack://@blast/core/./node_modules/rxjs/operator/mapTo.js","webpack://@blast/core/./node_modules/rxjs/operator/materialize.js","webpack://@blast/core/./node_modules/rxjs/operator/max.js","webpack://@blast/core/./node_modules/rxjs/operator/merge.js","webpack://@blast/core/./node_modules/rxjs/operator/mergeAll.js","webpack://@blast/core/./node_modules/rxjs/operator/mergeMap.js","webpack://@blast/core/./node_modules/rxjs/operator/mergeMapTo.js","webpack://@blast/core/./node_modules/rxjs/operator/mergeScan.js","webpack://@blast/core/./node_modules/rxjs/operator/min.js","webpack://@blast/core/./node_modules/rxjs/operator/multicast.js","webpack://@blast/core/./node_modules/rxjs/operator/observeOn.js","webpack://@blast/core/./node_modules/rxjs/operator/onErrorResumeNext.js","webpack://@blast/core/./node_modules/rxjs/operator/pairwise.js","webpack://@blast/core/./node_modules/rxjs/operator/partition.js","webpack://@blast/core/./node_modules/rxjs/operator/pluck.js","webpack://@blast/core/./node_modules/rxjs/operator/publish.js","webpack://@blast/core/./node_modules/rxjs/operator/publishBehavior.js","webpack://@blast/core/./node_modules/rxjs/operator/publishLast.js","webpack://@blast/core/./node_modules/rxjs/operator/publishReplay.js","webpack://@blast/core/./node_modules/rxjs/operator/race.js","webpack://@blast/core/./node_modules/rxjs/operator/reduce.js","webpack://@blast/core/./node_modules/rxjs/operator/repeat.js","webpack://@blast/core/./node_modules/rxjs/operator/repeatWhen.js","webpack://@blast/core/./node_modules/rxjs/operator/retry.js","webpack://@blast/core/./node_modules/rxjs/operator/retryWhen.js","webpack://@blast/core/./node_modules/rxjs/operator/sample.js","webpack://@blast/core/./node_modules/rxjs/operator/sampleTime.js","webpack://@blast/core/./node_modules/rxjs/operator/scan.js","webpack://@blast/core/./node_modules/rxjs/operator/sequenceEqual.js","webpack://@blast/core/./node_modules/rxjs/operator/share.js","webpack://@blast/core/./node_modules/rxjs/operator/shareReplay.js","webpack://@blast/core/./node_modules/rxjs/operator/single.js","webpack://@blast/core/./node_modules/rxjs/operator/skip.js","webpack://@blast/core/./node_modules/rxjs/operator/skipLast.js","webpack://@blast/core/./node_modules/rxjs/operator/skipUntil.js","webpack://@blast/core/./node_modules/rxjs/operator/skipWhile.js","webpack://@blast/core/./node_modules/rxjs/operator/startWith.js","webpack://@blast/core/./node_modules/rxjs/operator/subscribeOn.js","webpack://@blast/core/./node_modules/rxjs/operator/switch.js","webpack://@blast/core/./node_modules/rxjs/operator/switchMap.js","webpack://@blast/core/./node_modules/rxjs/operator/switchMapTo.js","webpack://@blast/core/./node_modules/rxjs/operator/take.js","webpack://@blast/core/./node_modules/rxjs/operator/takeLast.js","webpack://@blast/core/./node_modules/rxjs/operator/takeUntil.js","webpack://@blast/core/./node_modules/rxjs/operator/takeWhile.js","webpack://@blast/core/./node_modules/rxjs/operator/throttle.js","webpack://@blast/core/./node_modules/rxjs/operator/throttleTime.js","webpack://@blast/core/./node_modules/rxjs/operator/timeInterval.js","webpack://@blast/core/./node_modules/rxjs/operator/timeout.js","webpack://@blast/core/./node_modules/rxjs/operator/timeoutWith.js","webpack://@blast/core/./node_modules/rxjs/operator/timestamp.js","webpack://@blast/core/./node_modules/rxjs/operator/toArray.js","webpack://@blast/core/./node_modules/rxjs/operator/window.js","webpack://@blast/core/./node_modules/rxjs/operator/windowCount.js","webpack://@blast/core/./node_modules/rxjs/operator/windowTime.js","webpack://@blast/core/./node_modules/rxjs/operator/windowToggle.js","webpack://@blast/core/./node_modules/rxjs/operator/windowWhen.js","webpack://@blast/core/./node_modules/rxjs/operator/withLatestFrom.js","webpack://@blast/core/./node_modules/rxjs/operator/zip.js","webpack://@blast/core/./node_modules/rxjs/operator/zipAll.js","webpack://@blast/core/./node_modules/rxjs/operators.js","webpack://@blast/core/./node_modules/rxjs/operators/audit.js","webpack://@blast/core/./node_modules/rxjs/operators/auditTime.js","webpack://@blast/core/./node_modules/rxjs/operators/buffer.js","webpack://@blast/core/./node_modules/rxjs/operators/bufferCount.js","webpack://@blast/core/./node_modules/rxjs/operators/bufferTime.js","webpack://@blast/core/./node_modules/rxjs/operators/bufferToggle.js","webpack://@blast/core/./node_modules/rxjs/operators/bufferWhen.js","webpack://@blast/core/./node_modules/rxjs/operators/catchError.js","webpack://@blast/core/./node_modules/rxjs/operators/combineAll.js","webpack://@blast/core/./node_modules/rxjs/operators/combineLatest.js","webpack://@blast/core/./node_modules/rxjs/operators/concat.js","webpack://@blast/core/./node_modules/rxjs/operators/concatAll.js","webpack://@blast/core/./node_modules/rxjs/operators/concatMap.js","webpack://@blast/core/./node_modules/rxjs/operators/concatMapTo.js","webpack://@blast/core/./node_modules/rxjs/operators/count.js","webpack://@blast/core/./node_modules/rxjs/operators/debounce.js","webpack://@blast/core/./node_modules/rxjs/operators/debounceTime.js","webpack://@blast/core/./node_modules/rxjs/operators/defaultIfEmpty.js","webpack://@blast/core/./node_modules/rxjs/operators/delay.js","webpack://@blast/core/./node_modules/rxjs/operators/delayWhen.js","webpack://@blast/core/./node_modules/rxjs/operators/dematerialize.js","webpack://@blast/core/./node_modules/rxjs/operators/distinct.js","webpack://@blast/core/./node_modules/rxjs/operators/distinctUntilChanged.js","webpack://@blast/core/./node_modules/rxjs/operators/distinctUntilKeyChanged.js","webpack://@blast/core/./node_modules/rxjs/operators/elementAt.js","webpack://@blast/core/./node_modules/rxjs/operators/every.js","webpack://@blast/core/./node_modules/rxjs/operators/exhaust.js","webpack://@blast/core/./node_modules/rxjs/operators/exhaustMap.js","webpack://@blast/core/./node_modules/rxjs/operators/expand.js","webpack://@blast/core/./node_modules/rxjs/operators/filter.js","webpack://@blast/core/./node_modules/rxjs/operators/finalize.js","webpack://@blast/core/./node_modules/rxjs/operators/find.js","webpack://@blast/core/./node_modules/rxjs/operators/findIndex.js","webpack://@blast/core/./node_modules/rxjs/operators/first.js","webpack://@blast/core/./node_modules/rxjs/operators/groupBy.js","webpack://@blast/core/./node_modules/rxjs/operators/ignoreElements.js","webpack://@blast/core/./node_modules/rxjs/operators/isEmpty.js","webpack://@blast/core/./node_modules/rxjs/operators/last.js","webpack://@blast/core/./node_modules/rxjs/operators/map.js","webpack://@blast/core/./node_modules/rxjs/operators/mapTo.js","webpack://@blast/core/./node_modules/rxjs/operators/materialize.js","webpack://@blast/core/./node_modules/rxjs/operators/max.js","webpack://@blast/core/./node_modules/rxjs/operators/merge.js","webpack://@blast/core/./node_modules/rxjs/operators/mergeAll.js","webpack://@blast/core/./node_modules/rxjs/operators/mergeMap.js","webpack://@blast/core/./node_modules/rxjs/operators/mergeMapTo.js","webpack://@blast/core/./node_modules/rxjs/operators/mergeScan.js","webpack://@blast/core/./node_modules/rxjs/operators/min.js","webpack://@blast/core/./node_modules/rxjs/operators/multicast.js","webpack://@blast/core/./node_modules/rxjs/operators/observeOn.js","webpack://@blast/core/./node_modules/rxjs/operators/onErrorResumeNext.js","webpack://@blast/core/./node_modules/rxjs/operators/pairwise.js","webpack://@blast/core/./node_modules/rxjs/operators/partition.js","webpack://@blast/core/./node_modules/rxjs/operators/pluck.js","webpack://@blast/core/./node_modules/rxjs/operators/publish.js","webpack://@blast/core/./node_modules/rxjs/operators/publishBehavior.js","webpack://@blast/core/./node_modules/rxjs/operators/publishLast.js","webpack://@blast/core/./node_modules/rxjs/operators/publishReplay.js","webpack://@blast/core/./node_modules/rxjs/operators/race.js","webpack://@blast/core/./node_modules/rxjs/operators/reduce.js","webpack://@blast/core/./node_modules/rxjs/operators/refCount.js","webpack://@blast/core/./node_modules/rxjs/operators/repeat.js","webpack://@blast/core/./node_modules/rxjs/operators/repeatWhen.js","webpack://@blast/core/./node_modules/rxjs/operators/retry.js","webpack://@blast/core/./node_modules/rxjs/operators/retryWhen.js","webpack://@blast/core/./node_modules/rxjs/operators/sample.js","webpack://@blast/core/./node_modules/rxjs/operators/sampleTime.js","webpack://@blast/core/./node_modules/rxjs/operators/scan.js","webpack://@blast/core/./node_modules/rxjs/operators/sequenceEqual.js","webpack://@blast/core/./node_modules/rxjs/operators/share.js","webpack://@blast/core/./node_modules/rxjs/operators/shareReplay.js","webpack://@blast/core/./node_modules/rxjs/operators/single.js","webpack://@blast/core/./node_modules/rxjs/operators/skip.js","webpack://@blast/core/./node_modules/rxjs/operators/skipLast.js","webpack://@blast/core/./node_modules/rxjs/operators/skipUntil.js","webpack://@blast/core/./node_modules/rxjs/operators/skipWhile.js","webpack://@blast/core/./node_modules/rxjs/operators/startWith.js","webpack://@blast/core/./node_modules/rxjs/operators/subscribeOn.js","webpack://@blast/core/./node_modules/rxjs/operators/switchAll.js","webpack://@blast/core/./node_modules/rxjs/operators/switchMap.js","webpack://@blast/core/./node_modules/rxjs/operators/switchMapTo.js","webpack://@blast/core/./node_modules/rxjs/operators/take.js","webpack://@blast/core/./node_modules/rxjs/operators/takeLast.js","webpack://@blast/core/./node_modules/rxjs/operators/takeUntil.js","webpack://@blast/core/./node_modules/rxjs/operators/takeWhile.js","webpack://@blast/core/./node_modules/rxjs/operators/tap.js","webpack://@blast/core/./node_modules/rxjs/operators/throttle.js","webpack://@blast/core/./node_modules/rxjs/operators/throttleTime.js","webpack://@blast/core/./node_modules/rxjs/operators/timeInterval.js","webpack://@blast/core/./node_modules/rxjs/operators/timeout.js","webpack://@blast/core/./node_modules/rxjs/operators/timeoutWith.js","webpack://@blast/core/./node_modules/rxjs/operators/timestamp.js","webpack://@blast/core/./node_modules/rxjs/operators/toArray.js","webpack://@blast/core/./node_modules/rxjs/operators/window.js","webpack://@blast/core/./node_modules/rxjs/operators/windowCount.js","webpack://@blast/core/./node_modules/rxjs/operators/windowTime.js","webpack://@blast/core/./node_modules/rxjs/operators/windowToggle.js","webpack://@blast/core/./node_modules/rxjs/operators/windowWhen.js","webpack://@blast/core/./node_modules/rxjs/operators/withLatestFrom.js","webpack://@blast/core/./node_modules/rxjs/operators/zip.js","webpack://@blast/core/./node_modules/rxjs/operators/zipAll.js","webpack://@blast/core/./node_modules/rxjs/scheduler/Action.js","webpack://@blast/core/./node_modules/rxjs/scheduler/AnimationFrameAction.js","webpack://@blast/core/./node_modules/rxjs/scheduler/AnimationFrameScheduler.js","webpack://@blast/core/./node_modules/rxjs/scheduler/AsapAction.js","webpack://@blast/core/./node_modules/rxjs/scheduler/AsapScheduler.js","webpack://@blast/core/./node_modules/rxjs/scheduler/AsyncAction.js","webpack://@blast/core/./node_modules/rxjs/scheduler/AsyncScheduler.js","webpack://@blast/core/./node_modules/rxjs/scheduler/QueueAction.js","webpack://@blast/core/./node_modules/rxjs/scheduler/QueueScheduler.js","webpack://@blast/core/./node_modules/rxjs/scheduler/VirtualTimeScheduler.js","webpack://@blast/core/./node_modules/rxjs/scheduler/animationFrame.js","webpack://@blast/core/./node_modules/rxjs/scheduler/asap.js","webpack://@blast/core/./node_modules/rxjs/scheduler/async.js","webpack://@blast/core/./node_modules/rxjs/scheduler/queue.js","webpack://@blast/core/./node_modules/rxjs/symbol/iterator.js","webpack://@blast/core/./node_modules/rxjs/symbol/observable.js","webpack://@blast/core/./node_modules/rxjs/symbol/rxSubscriber.js","webpack://@blast/core/./node_modules/rxjs/testing/ColdObservable.js","webpack://@blast/core/./node_modules/rxjs/testing/HotObservable.js","webpack://@blast/core/./node_modules/rxjs/testing/SubscriptionLog.js","webpack://@blast/core/./node_modules/rxjs/testing/SubscriptionLoggable.js","webpack://@blast/core/./node_modules/rxjs/testing/TestScheduler.js","webpack://@blast/core/./node_modules/rxjs/util/AnimationFrame.js","webpack://@blast/core/./node_modules/rxjs/util/ArgumentOutOfRangeError.js","webpack://@blast/core/./node_modules/rxjs/util/EmptyError.js","webpack://@blast/core/./node_modules/rxjs/util/FastMap.js","webpack://@blast/core/./node_modules/rxjs/util/Immediate.js","webpack://@blast/core/./node_modules/rxjs/util/Map.js","webpack://@blast/core/./node_modules/rxjs/util/MapPolyfill.js","webpack://@blast/core/./node_modules/rxjs/util/ObjectUnsubscribedError.js","webpack://@blast/core/./node_modules/rxjs/util/Set.js","webpack://@blast/core/./node_modules/rxjs/util/TimeoutError.js","webpack://@blast/core/./node_modules/rxjs/util/UnsubscriptionError.js","webpack://@blast/core/./node_modules/rxjs/util/applyMixins.js","webpack://@blast/core/./node_modules/rxjs/util/assign.js","webpack://@blast/core/./node_modules/rxjs/util/errorObject.js","webpack://@blast/core/./node_modules/rxjs/util/identity.js","webpack://@blast/core/./node_modules/rxjs/util/isArray.js","webpack://@blast/core/./node_modules/rxjs/util/isArrayLike.js","webpack://@blast/core/./node_modules/rxjs/util/isDate.js","webpack://@blast/core/./node_modules/rxjs/util/isFunction.js","webpack://@blast/core/./node_modules/rxjs/util/isNumeric.js","webpack://@blast/core/./node_modules/rxjs/util/isObject.js","webpack://@blast/core/./node_modules/rxjs/util/isPromise.js","webpack://@blast/core/./node_modules/rxjs/util/isScheduler.js","webpack://@blast/core/./node_modules/rxjs/util/noop.js","webpack://@blast/core/./node_modules/rxjs/util/not.js","webpack://@blast/core/./node_modules/rxjs/util/pipe.js","webpack://@blast/core/./node_modules/rxjs/util/root.js","webpack://@blast/core/./node_modules/rxjs/util/subscribeToResult.js","webpack://@blast/core/./node_modules/rxjs/util/toSubscriber.js","webpack://@blast/core/./node_modules/rxjs/util/tryCatch.js","webpack://@blast/core/./node_modules/safe-buffer/index.js","webpack://@blast/core/./node_modules/string_decoder/lib/string_decoder.js","webpack://@blast/core/./src/wot/bindings/binding-helpers.ts","webpack://@blast/core/./src/wot/bindings/binding-bluetooth/Bluetooth-client.ts","webpack://@blast/core/./src/wot/codecs/BinaryDataCodec.ts","webpack://@blast/core/./src/wot/bindings/binding-bluetooth/Bluetooth-client-factory.ts","webpack://@blast/core/./src/wot/bindings/binding-bluetooth/WebBluetoothAdapter.ts","webpack://@blast/core/./src/wot/index.ts","webpack://@blast/core/./src/drivers/index.ts","webpack://@blast/core/./src/drivers/BleRgbController.ts","webpack://@blast/core/./src/drivers/Blinkstick.ts","webpack://@blast/core/./src/drivers/BluetoothGeneric.ts","webpack://@blast/core/./src/drivers/EddystoneDevice.ts","webpack://@blast/core/./src/drivers/HuskyDuino.ts","webpack://@blast/core/./src/drivers/RuuviTag.ts","webpack://@blast/core/./src/drivers/XiaomiFlowerCare.ts","webpack://@blast/core/./src/drivers/XiaomiThermometer.ts","webpack://@blast/core/./node_modules/uri-js/dist/es5/uri.all.js","webpack://@blast/core/./node_modules/uritemplate/bin/uritemplate.js","webpack://@blast/core/./node_modules/url-toolkit/src/url-toolkit.js","webpack://@blast/core/./node_modules/uuid/dist/esm-browser/rng.js","webpack://@blast/core/./node_modules/uuid/dist/esm-browser/bytesToUuid.js","webpack://@blast/core/./node_modules/uuid/dist/esm-browser/v1.js","webpack://@blast/core/./node_modules/uuid/dist/esm-browser/v35.js","webpack://@blast/core/./node_modules/uuid/dist/esm-browser/md5.js","webpack://@blast/core/./node_modules/uuid/dist/esm-browser/v3.js","webpack://@blast/core/./node_modules/uuid/dist/esm-browser/v4.js","webpack://@blast/core/./node_modules/uuid/dist/esm-browser/sha1.js","webpack://@blast/core/./node_modules/uuid/dist/esm-browser/v5.js","webpack://@blast/core/../../node_modules/available-typed-arrays/index.js","webpack://@blast/core/../../node_modules/es-abstract/helpers/getOwnPropertyDescriptor.js","webpack://@blast/core/./node_modules/@petamoriken/float16/lib/DataView.cjs","webpack://@blast/core/./node_modules/@petamoriken/float16/lib/Float16Array.cjs","webpack://@blast/core/./node_modules/@petamoriken/float16/lib/_util/arrayIterator.cjs","webpack://@blast/core/./node_modules/@petamoriken/float16/lib/_util/brand.cjs","webpack://@blast/core/./node_modules/@petamoriken/float16/lib/_util/converter.cjs","webpack://@blast/core/./node_modules/@petamoriken/float16/lib/_util/is.cjs","webpack://@blast/core/./node_modules/@petamoriken/float16/lib/_util/messages.cjs","webpack://@blast/core/./node_modules/@petamoriken/float16/lib/_util/primordials.cjs","webpack://@blast/core/./node_modules/@petamoriken/float16/lib/_util/spec.cjs","webpack://@blast/core/./node_modules/@petamoriken/float16/lib/hfround.cjs","webpack://@blast/core/./node_modules/@petamoriken/float16/lib/index.cjs","webpack://@blast/core/./node_modules/@petamoriken/float16/lib/isTypedArray.cjs","webpack://@blast/core/./node_modules/web-streams-polyfill/dist/ponyfill.es2018.mjs","webpack://@blast/core/webpack/bootstrap","webpack://@blast/core/webpack/runtime/define property getters","webpack://@blast/core/webpack/runtime/global","webpack://@blast/core/webpack/runtime/hasOwnProperty shorthand","webpack://@blast/core/webpack/runtime/make namespace object","webpack://@blast/core/webpack/runtime/node module decorator","webpack://@blast/core/webpack/startup"],"sourcesContent":["// Currently in sync with Node.js lib/assert.js\n// https://github.com/nodejs/node/commit/2a51ae424a513ec9a6aa3466baa0cc1d55dd4f3b\n// Originally from narwhal.js (http://narwhaljs.org)\n// Copyright (c) 2009 Thomas Robinson <280north.com>\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the 'Software'), to\n// deal in the Software without restriction, including without limitation the\n// rights to use, copy, modify, merge, publish, distribute, sublicense, and/or\n// sell copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN\n// ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\n// WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n'use strict';\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar _require = require('./internal/errors'),\n    _require$codes = _require.codes,\n    ERR_AMBIGUOUS_ARGUMENT = _require$codes.ERR_AMBIGUOUS_ARGUMENT,\n    ERR_INVALID_ARG_TYPE = _require$codes.ERR_INVALID_ARG_TYPE,\n    ERR_INVALID_ARG_VALUE = _require$codes.ERR_INVALID_ARG_VALUE,\n    ERR_INVALID_RETURN_VALUE = _require$codes.ERR_INVALID_RETURN_VALUE,\n    ERR_MISSING_ARGS = _require$codes.ERR_MISSING_ARGS;\n\nvar AssertionError = require('./internal/assert/assertion_error');\n\nvar _require2 = require('util/'),\n    inspect = _require2.inspect;\n\nvar _require$types = require('util/').types,\n    isPromise = _require$types.isPromise,\n    isRegExp = _require$types.isRegExp;\n\nvar objectAssign = Object.assign ? Object.assign : require('es6-object-assign').assign;\nvar objectIs = Object.is ? Object.is : require('object-is');\nvar errorCache = new Map();\nvar isDeepEqual;\nvar isDeepStrictEqual;\nvar parseExpressionAt;\nvar findNodeAround;\nvar decoder;\n\nfunction lazyLoadComparison() {\n  var comparison = require('./internal/util/comparisons');\n\n  isDeepEqual = comparison.isDeepEqual;\n  isDeepStrictEqual = comparison.isDeepStrictEqual;\n} // Escape control characters but not \\n and \\t to keep the line breaks and\n// indentation intact.\n// eslint-disable-next-line no-control-regex\n\n\nvar escapeSequencesRegExp = /[\\x00-\\x08\\x0b\\x0c\\x0e-\\x1f]/g;\nvar meta = [\"\\\\u0000\", \"\\\\u0001\", \"\\\\u0002\", \"\\\\u0003\", \"\\\\u0004\", \"\\\\u0005\", \"\\\\u0006\", \"\\\\u0007\", '\\\\b', '', '', \"\\\\u000b\", '\\\\f', '', \"\\\\u000e\", \"\\\\u000f\", \"\\\\u0010\", \"\\\\u0011\", \"\\\\u0012\", \"\\\\u0013\", \"\\\\u0014\", \"\\\\u0015\", \"\\\\u0016\", \"\\\\u0017\", \"\\\\u0018\", \"\\\\u0019\", \"\\\\u001a\", \"\\\\u001b\", \"\\\\u001c\", \"\\\\u001d\", \"\\\\u001e\", \"\\\\u001f\"];\n\nvar escapeFn = function escapeFn(str) {\n  return meta[str.charCodeAt(0)];\n};\n\nvar warned = false; // The assert module provides functions that throw\n// AssertionError's when particular conditions are not met. The\n// assert module must conform to the following interface.\n\nvar assert = module.exports = ok;\nvar NO_EXCEPTION_SENTINEL = {}; // All of the following functions must throw an AssertionError\n// when a corresponding condition is not met, with a message that\n// may be undefined if not provided. All assertion methods provide\n// both the actual and expected values to the assertion error for\n// display purposes.\n\nfunction innerFail(obj) {\n  if (obj.message instanceof Error) throw obj.message;\n  throw new AssertionError(obj);\n}\n\nfunction fail(actual, expected, message, operator, stackStartFn) {\n  var argsLen = arguments.length;\n  var internalMessage;\n\n  if (argsLen === 0) {\n    internalMessage = 'Failed';\n  } else if (argsLen === 1) {\n    message = actual;\n    actual = undefined;\n  } else {\n    if (warned === false) {\n      warned = true;\n      var warn = process.emitWarning ? process.emitWarning : console.warn.bind(console);\n      warn('assert.fail() with more than one argument is deprecated. ' + 'Please use assert.strictEqual() instead or only pass a message.', 'DeprecationWarning', 'DEP0094');\n    }\n\n    if (argsLen === 2) operator = '!=';\n  }\n\n  if (message instanceof Error) throw message;\n  var errArgs = {\n    actual: actual,\n    expected: expected,\n    operator: operator === undefined ? 'fail' : operator,\n    stackStartFn: stackStartFn || fail\n  };\n\n  if (message !== undefined) {\n    errArgs.message = message;\n  }\n\n  var err = new AssertionError(errArgs);\n\n  if (internalMessage) {\n    err.message = internalMessage;\n    err.generatedMessage = true;\n  }\n\n  throw err;\n}\n\nassert.fail = fail; // The AssertionError is defined in internal/error.\n\nassert.AssertionError = AssertionError;\n\nfunction innerOk(fn, argLen, value, message) {\n  if (!value) {\n    var generatedMessage = false;\n\n    if (argLen === 0) {\n      generatedMessage = true;\n      message = 'No value argument passed to `assert.ok()`';\n    } else if (message instanceof Error) {\n      throw message;\n    }\n\n    var err = new AssertionError({\n      actual: value,\n      expected: true,\n      message: message,\n      operator: '==',\n      stackStartFn: fn\n    });\n    err.generatedMessage = generatedMessage;\n    throw err;\n  }\n} // Pure assertion tests whether a value is truthy, as determined\n// by !!value.\n\n\nfunction ok() {\n  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n\n  innerOk.apply(void 0, [ok, args.length].concat(args));\n}\n\nassert.ok = ok; // The equality assertion tests shallow, coercive equality with ==.\n\n/* eslint-disable no-restricted-properties */\n\nassert.equal = function equal(actual, expected, message) {\n  if (arguments.length < 2) {\n    throw new ERR_MISSING_ARGS('actual', 'expected');\n  } // eslint-disable-next-line eqeqeq\n\n\n  if (actual != expected) {\n    innerFail({\n      actual: actual,\n      expected: expected,\n      message: message,\n      operator: '==',\n      stackStartFn: equal\n    });\n  }\n}; // The non-equality assertion tests for whether two objects are not\n// equal with !=.\n\n\nassert.notEqual = function notEqual(actual, expected, message) {\n  if (arguments.length < 2) {\n    throw new ERR_MISSING_ARGS('actual', 'expected');\n  } // eslint-disable-next-line eqeqeq\n\n\n  if (actual == expected) {\n    innerFail({\n      actual: actual,\n      expected: expected,\n      message: message,\n      operator: '!=',\n      stackStartFn: notEqual\n    });\n  }\n}; // The equivalence assertion tests a deep equality relation.\n\n\nassert.deepEqual = function deepEqual(actual, expected, message) {\n  if (arguments.length < 2) {\n    throw new ERR_MISSING_ARGS('actual', 'expected');\n  }\n\n  if (isDeepEqual === undefined) lazyLoadComparison();\n\n  if (!isDeepEqual(actual, expected)) {\n    innerFail({\n      actual: actual,\n      expected: expected,\n      message: message,\n      operator: 'deepEqual',\n      stackStartFn: deepEqual\n    });\n  }\n}; // The non-equivalence assertion tests for any deep inequality.\n\n\nassert.notDeepEqual = function notDeepEqual(actual, expected, message) {\n  if (arguments.length < 2) {\n    throw new ERR_MISSING_ARGS('actual', 'expected');\n  }\n\n  if (isDeepEqual === undefined) lazyLoadComparison();\n\n  if (isDeepEqual(actual, expected)) {\n    innerFail({\n      actual: actual,\n      expected: expected,\n      message: message,\n      operator: 'notDeepEqual',\n      stackStartFn: notDeepEqual\n    });\n  }\n};\n/* eslint-enable */\n\n\nassert.deepStrictEqual = function deepStrictEqual(actual, expected, message) {\n  if (arguments.length < 2) {\n    throw new ERR_MISSING_ARGS('actual', 'expected');\n  }\n\n  if (isDeepEqual === undefined) lazyLoadComparison();\n\n  if (!isDeepStrictEqual(actual, expected)) {\n    innerFail({\n      actual: actual,\n      expected: expected,\n      message: message,\n      operator: 'deepStrictEqual',\n      stackStartFn: deepStrictEqual\n    });\n  }\n};\n\nassert.notDeepStrictEqual = notDeepStrictEqual;\n\nfunction notDeepStrictEqual(actual, expected, message) {\n  if (arguments.length < 2) {\n    throw new ERR_MISSING_ARGS('actual', 'expected');\n  }\n\n  if (isDeepEqual === undefined) lazyLoadComparison();\n\n  if (isDeepStrictEqual(actual, expected)) {\n    innerFail({\n      actual: actual,\n      expected: expected,\n      message: message,\n      operator: 'notDeepStrictEqual',\n      stackStartFn: notDeepStrictEqual\n    });\n  }\n}\n\nassert.strictEqual = function strictEqual(actual, expected, message) {\n  if (arguments.length < 2) {\n    throw new ERR_MISSING_ARGS('actual', 'expected');\n  }\n\n  if (!objectIs(actual, expected)) {\n    innerFail({\n      actual: actual,\n      expected: expected,\n      message: message,\n      operator: 'strictEqual',\n      stackStartFn: strictEqual\n    });\n  }\n};\n\nassert.notStrictEqual = function notStrictEqual(actual, expected, message) {\n  if (arguments.length < 2) {\n    throw new ERR_MISSING_ARGS('actual', 'expected');\n  }\n\n  if (objectIs(actual, expected)) {\n    innerFail({\n      actual: actual,\n      expected: expected,\n      message: message,\n      operator: 'notStrictEqual',\n      stackStartFn: notStrictEqual\n    });\n  }\n};\n\nvar Comparison = function Comparison(obj, keys, actual) {\n  var _this = this;\n\n  _classCallCheck(this, Comparison);\n\n  keys.forEach(function (key) {\n    if (key in obj) {\n      if (actual !== undefined && typeof actual[key] === 'string' && isRegExp(obj[key]) && obj[key].test(actual[key])) {\n        _this[key] = actual[key];\n      } else {\n        _this[key] = obj[key];\n      }\n    }\n  });\n};\n\nfunction compareExceptionKey(actual, expected, key, message, keys, fn) {\n  if (!(key in actual) || !isDeepStrictEqual(actual[key], expected[key])) {\n    if (!message) {\n      // Create placeholder objects to create a nice output.\n      var a = new Comparison(actual, keys);\n      var b = new Comparison(expected, keys, actual);\n      var err = new AssertionError({\n        actual: a,\n        expected: b,\n        operator: 'deepStrictEqual',\n        stackStartFn: fn\n      });\n      err.actual = actual;\n      err.expected = expected;\n      err.operator = fn.name;\n      throw err;\n    }\n\n    innerFail({\n      actual: actual,\n      expected: expected,\n      message: message,\n      operator: fn.name,\n      stackStartFn: fn\n    });\n  }\n}\n\nfunction expectedException(actual, expected, msg, fn) {\n  if (typeof expected !== 'function') {\n    if (isRegExp(expected)) return expected.test(actual); // assert.doesNotThrow does not accept objects.\n\n    if (arguments.length === 2) {\n      throw new ERR_INVALID_ARG_TYPE('expected', ['Function', 'RegExp'], expected);\n    } // Handle primitives properly.\n\n\n    if (_typeof(actual) !== 'object' || actual === null) {\n      var err = new AssertionError({\n        actual: actual,\n        expected: expected,\n        message: msg,\n        operator: 'deepStrictEqual',\n        stackStartFn: fn\n      });\n      err.operator = fn.name;\n      throw err;\n    }\n\n    var keys = Object.keys(expected); // Special handle errors to make sure the name and the message are compared\n    // as well.\n\n    if (expected instanceof Error) {\n      keys.push('name', 'message');\n    } else if (keys.length === 0) {\n      throw new ERR_INVALID_ARG_VALUE('error', expected, 'may not be an empty object');\n    }\n\n    if (isDeepEqual === undefined) lazyLoadComparison();\n    keys.forEach(function (key) {\n      if (typeof actual[key] === 'string' && isRegExp(expected[key]) && expected[key].test(actual[key])) {\n        return;\n      }\n\n      compareExceptionKey(actual, expected, key, msg, keys, fn);\n    });\n    return true;\n  } // Guard instanceof against arrow functions as they don't have a prototype.\n\n\n  if (expected.prototype !== undefined && actual instanceof expected) {\n    return true;\n  }\n\n  if (Error.isPrototypeOf(expected)) {\n    return false;\n  }\n\n  return expected.call({}, actual) === true;\n}\n\nfunction getActual(fn) {\n  if (typeof fn !== 'function') {\n    throw new ERR_INVALID_ARG_TYPE('fn', 'Function', fn);\n  }\n\n  try {\n    fn();\n  } catch (e) {\n    return e;\n  }\n\n  return NO_EXCEPTION_SENTINEL;\n}\n\nfunction checkIsPromise(obj) {\n  // Accept native ES6 promises and promises that are implemented in a similar\n  // way. Do not accept thenables that use a function as `obj` and that have no\n  // `catch` handler.\n  // TODO: thenables are checked up until they have the correct methods,\n  // but according to documentation, the `then` method should receive\n  // the `fulfill` and `reject` arguments as well or it may be never resolved.\n  return isPromise(obj) || obj !== null && _typeof(obj) === 'object' && typeof obj.then === 'function' && typeof obj.catch === 'function';\n}\n\nfunction waitForActual(promiseFn) {\n  return Promise.resolve().then(function () {\n    var resultPromise;\n\n    if (typeof promiseFn === 'function') {\n      // Return a rejected promise if `promiseFn` throws synchronously.\n      resultPromise = promiseFn(); // Fail in case no promise is returned.\n\n      if (!checkIsPromise(resultPromise)) {\n        throw new ERR_INVALID_RETURN_VALUE('instance of Promise', 'promiseFn', resultPromise);\n      }\n    } else if (checkIsPromise(promiseFn)) {\n      resultPromise = promiseFn;\n    } else {\n      throw new ERR_INVALID_ARG_TYPE('promiseFn', ['Function', 'Promise'], promiseFn);\n    }\n\n    return Promise.resolve().then(function () {\n      return resultPromise;\n    }).then(function () {\n      return NO_EXCEPTION_SENTINEL;\n    }).catch(function (e) {\n      return e;\n    });\n  });\n}\n\nfunction expectsError(stackStartFn, actual, error, message) {\n  if (typeof error === 'string') {\n    if (arguments.length === 4) {\n      throw new ERR_INVALID_ARG_TYPE('error', ['Object', 'Error', 'Function', 'RegExp'], error);\n    }\n\n    if (_typeof(actual) === 'object' && actual !== null) {\n      if (actual.message === error) {\n        throw new ERR_AMBIGUOUS_ARGUMENT('error/message', \"The error message \\\"\".concat(actual.message, \"\\\" is identical to the message.\"));\n      }\n    } else if (actual === error) {\n      throw new ERR_AMBIGUOUS_ARGUMENT('error/message', \"The error \\\"\".concat(actual, \"\\\" is identical to the message.\"));\n    }\n\n    message = error;\n    error = undefined;\n  } else if (error != null && _typeof(error) !== 'object' && typeof error !== 'function') {\n    throw new ERR_INVALID_ARG_TYPE('error', ['Object', 'Error', 'Function', 'RegExp'], error);\n  }\n\n  if (actual === NO_EXCEPTION_SENTINEL) {\n    var details = '';\n\n    if (error && error.name) {\n      details += \" (\".concat(error.name, \")\");\n    }\n\n    details += message ? \": \".concat(message) : '.';\n    var fnType = stackStartFn.name === 'rejects' ? 'rejection' : 'exception';\n    innerFail({\n      actual: undefined,\n      expected: error,\n      operator: stackStartFn.name,\n      message: \"Missing expected \".concat(fnType).concat(details),\n      stackStartFn: stackStartFn\n    });\n  }\n\n  if (error && !expectedException(actual, error, message, stackStartFn)) {\n    throw actual;\n  }\n}\n\nfunction expectsNoError(stackStartFn, actual, error, message) {\n  if (actual === NO_EXCEPTION_SENTINEL) return;\n\n  if (typeof error === 'string') {\n    message = error;\n    error = undefined;\n  }\n\n  if (!error || expectedException(actual, error)) {\n    var details = message ? \": \".concat(message) : '.';\n    var fnType = stackStartFn.name === 'doesNotReject' ? 'rejection' : 'exception';\n    innerFail({\n      actual: actual,\n      expected: error,\n      operator: stackStartFn.name,\n      message: \"Got unwanted \".concat(fnType).concat(details, \"\\n\") + \"Actual message: \\\"\".concat(actual && actual.message, \"\\\"\"),\n      stackStartFn: stackStartFn\n    });\n  }\n\n  throw actual;\n}\n\nassert.throws = function throws(promiseFn) {\n  for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n    args[_key2 - 1] = arguments[_key2];\n  }\n\n  expectsError.apply(void 0, [throws, getActual(promiseFn)].concat(args));\n};\n\nassert.rejects = function rejects(promiseFn) {\n  for (var _len3 = arguments.length, args = new Array(_len3 > 1 ? _len3 - 1 : 0), _key3 = 1; _key3 < _len3; _key3++) {\n    args[_key3 - 1] = arguments[_key3];\n  }\n\n  return waitForActual(promiseFn).then(function (result) {\n    return expectsError.apply(void 0, [rejects, result].concat(args));\n  });\n};\n\nassert.doesNotThrow = function doesNotThrow(fn) {\n  for (var _len4 = arguments.length, args = new Array(_len4 > 1 ? _len4 - 1 : 0), _key4 = 1; _key4 < _len4; _key4++) {\n    args[_key4 - 1] = arguments[_key4];\n  }\n\n  expectsNoError.apply(void 0, [doesNotThrow, getActual(fn)].concat(args));\n};\n\nassert.doesNotReject = function doesNotReject(fn) {\n  for (var _len5 = arguments.length, args = new Array(_len5 > 1 ? _len5 - 1 : 0), _key5 = 1; _key5 < _len5; _key5++) {\n    args[_key5 - 1] = arguments[_key5];\n  }\n\n  return waitForActual(fn).then(function (result) {\n    return expectsNoError.apply(void 0, [doesNotReject, result].concat(args));\n  });\n};\n\nassert.ifError = function ifError(err) {\n  if (err !== null && err !== undefined) {\n    var message = 'ifError got unwanted exception: ';\n\n    if (_typeof(err) === 'object' && typeof err.message === 'string') {\n      if (err.message.length === 0 && err.constructor) {\n        message += err.constructor.name;\n      } else {\n        message += err.message;\n      }\n    } else {\n      message += inspect(err);\n    }\n\n    var newErr = new AssertionError({\n      actual: err,\n      expected: null,\n      operator: 'ifError',\n      message: message,\n      stackStartFn: ifError\n    }); // Make sure we actually have a stack trace!\n\n    var origStack = err.stack;\n\n    if (typeof origStack === 'string') {\n      // This will remove any duplicated frames from the error frames taken\n      // from within `ifError` and add the original error frames to the newly\n      // created ones.\n      var tmp2 = origStack.split('\\n');\n      tmp2.shift(); // Filter all frames existing in err.stack.\n\n      var tmp1 = newErr.stack.split('\\n');\n\n      for (var i = 0; i < tmp2.length; i++) {\n        // Find the first occurrence of the frame.\n        var pos = tmp1.indexOf(tmp2[i]);\n\n        if (pos !== -1) {\n          // Only keep new frames.\n          tmp1 = tmp1.slice(0, pos);\n          break;\n        }\n      }\n\n      newErr.stack = \"\".concat(tmp1.join('\\n'), \"\\n\").concat(tmp2.join('\\n'));\n    }\n\n    throw newErr;\n  }\n}; // Expose a strict only variant of assert\n\n\nfunction strict() {\n  for (var _len6 = arguments.length, args = new Array(_len6), _key6 = 0; _key6 < _len6; _key6++) {\n    args[_key6] = arguments[_key6];\n  }\n\n  innerOk.apply(void 0, [strict, args.length].concat(args));\n}\n\nassert.strict = objectAssign(strict, assert, {\n  equal: assert.strictEqual,\n  deepEqual: assert.deepStrictEqual,\n  notEqual: assert.notStrictEqual,\n  notDeepEqual: assert.notDeepStrictEqual\n});\nassert.strict.strict = assert.strict;","// Currently in sync with Node.js lib/internal/assert/assertion_error.js\n// https://github.com/nodejs/node/commit/0817840f775032169ddd70c85ac059f18ffcc81c\n'use strict';\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _wrapNativeSuper(Class) { var _cache = typeof Map === \"function\" ? new Map() : undefined; _wrapNativeSuper = function _wrapNativeSuper(Class) { if (Class === null || !_isNativeFunction(Class)) return Class; if (typeof Class !== \"function\") { throw new TypeError(\"Super expression must either be null or a function\"); } if (typeof _cache !== \"undefined\") { if (_cache.has(Class)) return _cache.get(Class); _cache.set(Class, Wrapper); } function Wrapper() { return _construct(Class, arguments, _getPrototypeOf(this).constructor); } Wrapper.prototype = Object.create(Class.prototype, { constructor: { value: Wrapper, enumerable: false, writable: true, configurable: true } }); return _setPrototypeOf(Wrapper, Class); }; return _wrapNativeSuper(Class); }\n\nfunction isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _construct(Parent, args, Class) { if (isNativeReflectConstruct()) { _construct = Reflect.construct; } else { _construct = function _construct(Parent, args, Class) { var a = [null]; a.push.apply(a, args); var Constructor = Function.bind.apply(Parent, a); var instance = new Constructor(); if (Class) _setPrototypeOf(instance, Class.prototype); return instance; }; } return _construct.apply(null, arguments); }\n\nfunction _isNativeFunction(fn) { return Function.toString.call(fn).indexOf(\"[native code]\") !== -1; }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nvar _require = require('util/'),\n    inspect = _require.inspect;\n\nvar _require2 = require('../errors'),\n    ERR_INVALID_ARG_TYPE = _require2.codes.ERR_INVALID_ARG_TYPE; // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/endsWith\n\n\nfunction endsWith(str, search, this_len) {\n  if (this_len === undefined || this_len > str.length) {\n    this_len = str.length;\n  }\n\n  return str.substring(this_len - search.length, this_len) === search;\n} // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/repeat\n\n\nfunction repeat(str, count) {\n  count = Math.floor(count);\n  if (str.length == 0 || count == 0) return '';\n  var maxCount = str.length * count;\n  count = Math.floor(Math.log(count) / Math.log(2));\n\n  while (count) {\n    str += str;\n    count--;\n  }\n\n  str += str.substring(0, maxCount - str.length);\n  return str;\n}\n\nvar blue = '';\nvar green = '';\nvar red = '';\nvar white = '';\nvar kReadableOperator = {\n  deepStrictEqual: 'Expected values to be strictly deep-equal:',\n  strictEqual: 'Expected values to be strictly equal:',\n  strictEqualObject: 'Expected \"actual\" to be reference-equal to \"expected\":',\n  deepEqual: 'Expected values to be loosely deep-equal:',\n  equal: 'Expected values to be loosely equal:',\n  notDeepStrictEqual: 'Expected \"actual\" not to be strictly deep-equal to:',\n  notStrictEqual: 'Expected \"actual\" to be strictly unequal to:',\n  notStrictEqualObject: 'Expected \"actual\" not to be reference-equal to \"expected\":',\n  notDeepEqual: 'Expected \"actual\" not to be loosely deep-equal to:',\n  notEqual: 'Expected \"actual\" to be loosely unequal to:',\n  notIdentical: 'Values identical but not reference-equal:'\n}; // Comparing short primitives should just show === / !== instead of using the\n// diff.\n\nvar kMaxShortLength = 10;\n\nfunction copyError(source) {\n  var keys = Object.keys(source);\n  var target = Object.create(Object.getPrototypeOf(source));\n  keys.forEach(function (key) {\n    target[key] = source[key];\n  });\n  Object.defineProperty(target, 'message', {\n    value: source.message\n  });\n  return target;\n}\n\nfunction inspectValue(val) {\n  // The util.inspect default values could be changed. This makes sure the\n  // error messages contain the necessary information nevertheless.\n  return inspect(val, {\n    compact: false,\n    customInspect: false,\n    depth: 1000,\n    maxArrayLength: Infinity,\n    // Assert compares only enumerable properties (with a few exceptions).\n    showHidden: false,\n    // Having a long line as error is better than wrapping the line for\n    // comparison for now.\n    // TODO(BridgeAR): `breakLength` should be limited as soon as soon as we\n    // have meta information about the inspected properties (i.e., know where\n    // in what line the property starts and ends).\n    breakLength: Infinity,\n    // Assert does not detect proxies currently.\n    showProxy: false,\n    sorted: true,\n    // Inspect getters as we also check them when comparing entries.\n    getters: true\n  });\n}\n\nfunction createErrDiff(actual, expected, operator) {\n  var other = '';\n  var res = '';\n  var lastPos = 0;\n  var end = '';\n  var skipped = false;\n  var actualInspected = inspectValue(actual);\n  var actualLines = actualInspected.split('\\n');\n  var expectedLines = inspectValue(expected).split('\\n');\n  var i = 0;\n  var indicator = ''; // In case both values are objects explicitly mark them as not reference equal\n  // for the `strictEqual` operator.\n\n  if (operator === 'strictEqual' && _typeof(actual) === 'object' && _typeof(expected) === 'object' && actual !== null && expected !== null) {\n    operator = 'strictEqualObject';\n  } // If \"actual\" and \"expected\" fit on a single line and they are not strictly\n  // equal, check further special handling.\n\n\n  if (actualLines.length === 1 && expectedLines.length === 1 && actualLines[0] !== expectedLines[0]) {\n    var inputLength = actualLines[0].length + expectedLines[0].length; // If the character length of \"actual\" and \"expected\" together is less than\n    // kMaxShortLength and if neither is an object and at least one of them is\n    // not `zero`, use the strict equal comparison to visualize the output.\n\n    if (inputLength <= kMaxShortLength) {\n      if ((_typeof(actual) !== 'object' || actual === null) && (_typeof(expected) !== 'object' || expected === null) && (actual !== 0 || expected !== 0)) {\n        // -0 === +0\n        return \"\".concat(kReadableOperator[operator], \"\\n\\n\") + \"\".concat(actualLines[0], \" !== \").concat(expectedLines[0], \"\\n\");\n      }\n    } else if (operator !== 'strictEqualObject') {\n      // If the stderr is a tty and the input length is lower than the current\n      // columns per line, add a mismatch indicator below the output. If it is\n      // not a tty, use a default value of 80 characters.\n      var maxLength = process.stderr && process.stderr.isTTY ? process.stderr.columns : 80;\n\n      if (inputLength < maxLength) {\n        while (actualLines[0][i] === expectedLines[0][i]) {\n          i++;\n        } // Ignore the first characters.\n\n\n        if (i > 2) {\n          // Add position indicator for the first mismatch in case it is a\n          // single line and the input length is less than the column length.\n          indicator = \"\\n  \".concat(repeat(' ', i), \"^\");\n          i = 0;\n        }\n      }\n    }\n  } // Remove all ending lines that match (this optimizes the output for\n  // readability by reducing the number of total changed lines).\n\n\n  var a = actualLines[actualLines.length - 1];\n  var b = expectedLines[expectedLines.length - 1];\n\n  while (a === b) {\n    if (i++ < 2) {\n      end = \"\\n  \".concat(a).concat(end);\n    } else {\n      other = a;\n    }\n\n    actualLines.pop();\n    expectedLines.pop();\n    if (actualLines.length === 0 || expectedLines.length === 0) break;\n    a = actualLines[actualLines.length - 1];\n    b = expectedLines[expectedLines.length - 1];\n  }\n\n  var maxLines = Math.max(actualLines.length, expectedLines.length); // Strict equal with identical objects that are not identical by reference.\n  // E.g., assert.deepStrictEqual({ a: Symbol() }, { a: Symbol() })\n\n  if (maxLines === 0) {\n    // We have to get the result again. The lines were all removed before.\n    var _actualLines = actualInspected.split('\\n'); // Only remove lines in case it makes sense to collapse those.\n    // TODO: Accept env to always show the full error.\n\n\n    if (_actualLines.length > 30) {\n      _actualLines[26] = \"\".concat(blue, \"...\").concat(white);\n\n      while (_actualLines.length > 27) {\n        _actualLines.pop();\n      }\n    }\n\n    return \"\".concat(kReadableOperator.notIdentical, \"\\n\\n\").concat(_actualLines.join('\\n'), \"\\n\");\n  }\n\n  if (i > 3) {\n    end = \"\\n\".concat(blue, \"...\").concat(white).concat(end);\n    skipped = true;\n  }\n\n  if (other !== '') {\n    end = \"\\n  \".concat(other).concat(end);\n    other = '';\n  }\n\n  var printedLines = 0;\n  var msg = kReadableOperator[operator] + \"\\n\".concat(green, \"+ actual\").concat(white, \" \").concat(red, \"- expected\").concat(white);\n  var skippedMsg = \" \".concat(blue, \"...\").concat(white, \" Lines skipped\");\n\n  for (i = 0; i < maxLines; i++) {\n    // Only extra expected lines exist\n    var cur = i - lastPos;\n\n    if (actualLines.length < i + 1) {\n      // If the last diverging line is more than one line above and the\n      // current line is at least line three, add some of the former lines and\n      // also add dots to indicate skipped entries.\n      if (cur > 1 && i > 2) {\n        if (cur > 4) {\n          res += \"\\n\".concat(blue, \"...\").concat(white);\n          skipped = true;\n        } else if (cur > 3) {\n          res += \"\\n  \".concat(expectedLines[i - 2]);\n          printedLines++;\n        }\n\n        res += \"\\n  \".concat(expectedLines[i - 1]);\n        printedLines++;\n      } // Mark the current line as the last diverging one.\n\n\n      lastPos = i; // Add the expected line to the cache.\n\n      other += \"\\n\".concat(red, \"-\").concat(white, \" \").concat(expectedLines[i]);\n      printedLines++; // Only extra actual lines exist\n    } else if (expectedLines.length < i + 1) {\n      // If the last diverging line is more than one line above and the\n      // current line is at least line three, add some of the former lines and\n      // also add dots to indicate skipped entries.\n      if (cur > 1 && i > 2) {\n        if (cur > 4) {\n          res += \"\\n\".concat(blue, \"...\").concat(white);\n          skipped = true;\n        } else if (cur > 3) {\n          res += \"\\n  \".concat(actualLines[i - 2]);\n          printedLines++;\n        }\n\n        res += \"\\n  \".concat(actualLines[i - 1]);\n        printedLines++;\n      } // Mark the current line as the last diverging one.\n\n\n      lastPos = i; // Add the actual line to the result.\n\n      res += \"\\n\".concat(green, \"+\").concat(white, \" \").concat(actualLines[i]);\n      printedLines++; // Lines diverge\n    } else {\n      var expectedLine = expectedLines[i];\n      var actualLine = actualLines[i]; // If the lines diverge, specifically check for lines that only diverge by\n      // a trailing comma. In that case it is actually identical and we should\n      // mark it as such.\n\n      var divergingLines = actualLine !== expectedLine && (!endsWith(actualLine, ',') || actualLine.slice(0, -1) !== expectedLine); // If the expected line has a trailing comma but is otherwise identical,\n      // add a comma at the end of the actual line. Otherwise the output could\n      // look weird as in:\n      //\n      //   [\n      //     1         // No comma at the end!\n      // +   2\n      //   ]\n      //\n\n      if (divergingLines && endsWith(expectedLine, ',') && expectedLine.slice(0, -1) === actualLine) {\n        divergingLines = false;\n        actualLine += ',';\n      }\n\n      if (divergingLines) {\n        // If the last diverging line is more than one line above and the\n        // current line is at least line three, add some of the former lines and\n        // also add dots to indicate skipped entries.\n        if (cur > 1 && i > 2) {\n          if (cur > 4) {\n            res += \"\\n\".concat(blue, \"...\").concat(white);\n            skipped = true;\n          } else if (cur > 3) {\n            res += \"\\n  \".concat(actualLines[i - 2]);\n            printedLines++;\n          }\n\n          res += \"\\n  \".concat(actualLines[i - 1]);\n          printedLines++;\n        } // Mark the current line as the last diverging one.\n\n\n        lastPos = i; // Add the actual line to the result and cache the expected diverging\n        // line so consecutive diverging lines show up as +++--- and not +-+-+-.\n\n        res += \"\\n\".concat(green, \"+\").concat(white, \" \").concat(actualLine);\n        other += \"\\n\".concat(red, \"-\").concat(white, \" \").concat(expectedLine);\n        printedLines += 2; // Lines are identical\n      } else {\n        // Add all cached information to the result before adding other things\n        // and reset the cache.\n        res += other;\n        other = ''; // If the last diverging line is exactly one line above or if it is the\n        // very first line, add the line to the result.\n\n        if (cur === 1 || i === 0) {\n          res += \"\\n  \".concat(actualLine);\n          printedLines++;\n        }\n      }\n    } // Inspected object to big (Show ~20 rows max)\n\n\n    if (printedLines > 20 && i < maxLines - 2) {\n      return \"\".concat(msg).concat(skippedMsg, \"\\n\").concat(res, \"\\n\").concat(blue, \"...\").concat(white).concat(other, \"\\n\") + \"\".concat(blue, \"...\").concat(white);\n    }\n  }\n\n  return \"\".concat(msg).concat(skipped ? skippedMsg : '', \"\\n\").concat(res).concat(other).concat(end).concat(indicator);\n}\n\nvar AssertionError =\n/*#__PURE__*/\nfunction (_Error) {\n  _inherits(AssertionError, _Error);\n\n  function AssertionError(options) {\n    var _this;\n\n    _classCallCheck(this, AssertionError);\n\n    if (_typeof(options) !== 'object' || options === null) {\n      throw new ERR_INVALID_ARG_TYPE('options', 'Object', options);\n    }\n\n    var message = options.message,\n        operator = options.operator,\n        stackStartFn = options.stackStartFn;\n    var actual = options.actual,\n        expected = options.expected;\n    var limit = Error.stackTraceLimit;\n    Error.stackTraceLimit = 0;\n\n    if (message != null) {\n      _this = _possibleConstructorReturn(this, _getPrototypeOf(AssertionError).call(this, String(message)));\n    } else {\n      if (process.stderr && process.stderr.isTTY) {\n        // Reset on each call to make sure we handle dynamically set environment\n        // variables correct.\n        if (process.stderr && process.stderr.getColorDepth && process.stderr.getColorDepth() !== 1) {\n          blue = \"\\x1B[34m\";\n          green = \"\\x1B[32m\";\n          white = \"\\x1B[39m\";\n          red = \"\\x1B[31m\";\n        } else {\n          blue = '';\n          green = '';\n          white = '';\n          red = '';\n        }\n      } // Prevent the error stack from being visible by duplicating the error\n      // in a very close way to the original in case both sides are actually\n      // instances of Error.\n\n\n      if (_typeof(actual) === 'object' && actual !== null && _typeof(expected) === 'object' && expected !== null && 'stack' in actual && actual instanceof Error && 'stack' in expected && expected instanceof Error) {\n        actual = copyError(actual);\n        expected = copyError(expected);\n      }\n\n      if (operator === 'deepStrictEqual' || operator === 'strictEqual') {\n        _this = _possibleConstructorReturn(this, _getPrototypeOf(AssertionError).call(this, createErrDiff(actual, expected, operator)));\n      } else if (operator === 'notDeepStrictEqual' || operator === 'notStrictEqual') {\n        // In case the objects are equal but the operator requires unequal, show\n        // the first object and say A equals B\n        var base = kReadableOperator[operator];\n        var res = inspectValue(actual).split('\\n'); // In case \"actual\" is an object, it should not be reference equal.\n\n        if (operator === 'notStrictEqual' && _typeof(actual) === 'object' && actual !== null) {\n          base = kReadableOperator.notStrictEqualObject;\n        } // Only remove lines in case it makes sense to collapse those.\n        // TODO: Accept env to always show the full error.\n\n\n        if (res.length > 30) {\n          res[26] = \"\".concat(blue, \"...\").concat(white);\n\n          while (res.length > 27) {\n            res.pop();\n          }\n        } // Only print a single input.\n\n\n        if (res.length === 1) {\n          _this = _possibleConstructorReturn(this, _getPrototypeOf(AssertionError).call(this, \"\".concat(base, \" \").concat(res[0])));\n        } else {\n          _this = _possibleConstructorReturn(this, _getPrototypeOf(AssertionError).call(this, \"\".concat(base, \"\\n\\n\").concat(res.join('\\n'), \"\\n\")));\n        }\n      } else {\n        var _res = inspectValue(actual);\n\n        var other = '';\n        var knownOperators = kReadableOperator[operator];\n\n        if (operator === 'notDeepEqual' || operator === 'notEqual') {\n          _res = \"\".concat(kReadableOperator[operator], \"\\n\\n\").concat(_res);\n\n          if (_res.length > 1024) {\n            _res = \"\".concat(_res.slice(0, 1021), \"...\");\n          }\n        } else {\n          other = \"\".concat(inspectValue(expected));\n\n          if (_res.length > 512) {\n            _res = \"\".concat(_res.slice(0, 509), \"...\");\n          }\n\n          if (other.length > 512) {\n            other = \"\".concat(other.slice(0, 509), \"...\");\n          }\n\n          if (operator === 'deepEqual' || operator === 'equal') {\n            _res = \"\".concat(knownOperators, \"\\n\\n\").concat(_res, \"\\n\\nshould equal\\n\\n\");\n          } else {\n            other = \" \".concat(operator, \" \").concat(other);\n          }\n        }\n\n        _this = _possibleConstructorReturn(this, _getPrototypeOf(AssertionError).call(this, \"\".concat(_res).concat(other)));\n      }\n    }\n\n    Error.stackTraceLimit = limit;\n    _this.generatedMessage = !message;\n    Object.defineProperty(_assertThisInitialized(_this), 'name', {\n      value: 'AssertionError [ERR_ASSERTION]',\n      enumerable: false,\n      writable: true,\n      configurable: true\n    });\n    _this.code = 'ERR_ASSERTION';\n    _this.actual = actual;\n    _this.expected = expected;\n    _this.operator = operator;\n\n    if (Error.captureStackTrace) {\n      // eslint-disable-next-line no-restricted-syntax\n      Error.captureStackTrace(_assertThisInitialized(_this), stackStartFn);\n    } // Create error message including the error code in the name.\n\n\n    _this.stack; // Reset the name.\n\n    _this.name = 'AssertionError';\n    return _possibleConstructorReturn(_this);\n  }\n\n  _createClass(AssertionError, [{\n    key: \"toString\",\n    value: function toString() {\n      return \"\".concat(this.name, \" [\").concat(this.code, \"]: \").concat(this.message);\n    }\n  }, {\n    key: inspect.custom,\n    value: function value(recurseTimes, ctx) {\n      // This limits the `actual` and `expected` property default inspection to\n      // the minimum depth. Otherwise those values would be too verbose compared\n      // to the actual error message which contains a combined view of these two\n      // input values.\n      return inspect(this, _objectSpread({}, ctx, {\n        customInspect: false,\n        depth: 0\n      }));\n    }\n  }]);\n\n  return AssertionError;\n}(_wrapNativeSuper(Error));\n\nmodule.exports = AssertionError;","// Currently in sync with Node.js lib/internal/errors.js\n// https://github.com/nodejs/node/commit/3b044962c48fe313905877a96b5d0894a5404f6f\n\n/* eslint node-core/documented-errors: \"error\" */\n\n/* eslint node-core/alphabetize-errors: \"error\" */\n\n/* eslint node-core/prefer-util-format-errors: \"error\" */\n'use strict'; // The whole point behind this internal module is to allow Node.js to no\n// longer be forced to treat every error message change as a semver-major\n// change. The NodeError classes here all expose a `code` property whose\n// value statically and permanently identifies the error. While the error\n// message may change, the code should not.\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nvar codes = {}; // Lazy loaded\n\nvar assert;\nvar util;\n\nfunction createErrorType(code, message, Base) {\n  if (!Base) {\n    Base = Error;\n  }\n\n  function getMessage(arg1, arg2, arg3) {\n    if (typeof message === 'string') {\n      return message;\n    } else {\n      return message(arg1, arg2, arg3);\n    }\n  }\n\n  var NodeError =\n  /*#__PURE__*/\n  function (_Base) {\n    _inherits(NodeError, _Base);\n\n    function NodeError(arg1, arg2, arg3) {\n      var _this;\n\n      _classCallCheck(this, NodeError);\n\n      _this = _possibleConstructorReturn(this, _getPrototypeOf(NodeError).call(this, getMessage(arg1, arg2, arg3)));\n      _this.code = code;\n      return _this;\n    }\n\n    return NodeError;\n  }(Base);\n\n  codes[code] = NodeError;\n} // https://github.com/nodejs/node/blob/v10.8.0/lib/internal/errors.js\n\n\nfunction oneOf(expected, thing) {\n  if (Array.isArray(expected)) {\n    var len = expected.length;\n    expected = expected.map(function (i) {\n      return String(i);\n    });\n\n    if (len > 2) {\n      return \"one of \".concat(thing, \" \").concat(expected.slice(0, len - 1).join(', '), \", or \") + expected[len - 1];\n    } else if (len === 2) {\n      return \"one of \".concat(thing, \" \").concat(expected[0], \" or \").concat(expected[1]);\n    } else {\n      return \"of \".concat(thing, \" \").concat(expected[0]);\n    }\n  } else {\n    return \"of \".concat(thing, \" \").concat(String(expected));\n  }\n} // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/startsWith\n\n\nfunction startsWith(str, search, pos) {\n  return str.substr(!pos || pos < 0 ? 0 : +pos, search.length) === search;\n} // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/endsWith\n\n\nfunction endsWith(str, search, this_len) {\n  if (this_len === undefined || this_len > str.length) {\n    this_len = str.length;\n  }\n\n  return str.substring(this_len - search.length, this_len) === search;\n} // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/includes\n\n\nfunction includes(str, search, start) {\n  if (typeof start !== 'number') {\n    start = 0;\n  }\n\n  if (start + search.length > str.length) {\n    return false;\n  } else {\n    return str.indexOf(search, start) !== -1;\n  }\n}\n\ncreateErrorType('ERR_AMBIGUOUS_ARGUMENT', 'The \"%s\" argument is ambiguous. %s', TypeError);\ncreateErrorType('ERR_INVALID_ARG_TYPE', function (name, expected, actual) {\n  if (assert === undefined) assert = require('../assert');\n  assert(typeof name === 'string', \"'name' must be a string\"); // determiner: 'must be' or 'must not be'\n\n  var determiner;\n\n  if (typeof expected === 'string' && startsWith(expected, 'not ')) {\n    determiner = 'must not be';\n    expected = expected.replace(/^not /, '');\n  } else {\n    determiner = 'must be';\n  }\n\n  var msg;\n\n  if (endsWith(name, ' argument')) {\n    // For cases like 'first argument'\n    msg = \"The \".concat(name, \" \").concat(determiner, \" \").concat(oneOf(expected, 'type'));\n  } else {\n    var type = includes(name, '.') ? 'property' : 'argument';\n    msg = \"The \\\"\".concat(name, \"\\\" \").concat(type, \" \").concat(determiner, \" \").concat(oneOf(expected, 'type'));\n  } // TODO(BridgeAR): Improve the output by showing `null` and similar.\n\n\n  msg += \". Received type \".concat(_typeof(actual));\n  return msg;\n}, TypeError);\ncreateErrorType('ERR_INVALID_ARG_VALUE', function (name, value) {\n  var reason = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'is invalid';\n  if (util === undefined) util = require('util/');\n  var inspected = util.inspect(value);\n\n  if (inspected.length > 128) {\n    inspected = \"\".concat(inspected.slice(0, 128), \"...\");\n  }\n\n  return \"The argument '\".concat(name, \"' \").concat(reason, \". Received \").concat(inspected);\n}, TypeError, RangeError);\ncreateErrorType('ERR_INVALID_RETURN_VALUE', function (input, name, value) {\n  var type;\n\n  if (value && value.constructor && value.constructor.name) {\n    type = \"instance of \".concat(value.constructor.name);\n  } else {\n    type = \"type \".concat(_typeof(value));\n  }\n\n  return \"Expected \".concat(input, \" to be returned from the \\\"\").concat(name, \"\\\"\") + \" function but got \".concat(type, \".\");\n}, TypeError);\ncreateErrorType('ERR_MISSING_ARGS', function () {\n  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n\n  if (assert === undefined) assert = require('../assert');\n  assert(args.length > 0, 'At least one arg needs to be specified');\n  var msg = 'The ';\n  var len = args.length;\n  args = args.map(function (a) {\n    return \"\\\"\".concat(a, \"\\\"\");\n  });\n\n  switch (len) {\n    case 1:\n      msg += \"\".concat(args[0], \" argument\");\n      break;\n\n    case 2:\n      msg += \"\".concat(args[0], \" and \").concat(args[1], \" arguments\");\n      break;\n\n    default:\n      msg += args.slice(0, len - 1).join(', ');\n      msg += \", and \".concat(args[len - 1], \" arguments\");\n      break;\n  }\n\n  return \"\".concat(msg, \" must be specified\");\n}, TypeError);\nmodule.exports.codes = codes;","// Currently in sync with Node.js lib/internal/util/comparisons.js\n// https://github.com/nodejs/node/commit/112cc7c27551254aa2b17098fb774867f05ed0d9\n'use strict';\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\n\nfunction _iterableToArrayLimit(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nvar regexFlagsSupported = /a/g.flags !== undefined;\n\nvar arrayFromSet = function arrayFromSet(set) {\n  var array = [];\n  set.forEach(function (value) {\n    return array.push(value);\n  });\n  return array;\n};\n\nvar arrayFromMap = function arrayFromMap(map) {\n  var array = [];\n  map.forEach(function (value, key) {\n    return array.push([key, value]);\n  });\n  return array;\n};\n\nvar objectIs = Object.is ? Object.is : require('object-is');\nvar objectGetOwnPropertySymbols = Object.getOwnPropertySymbols ? Object.getOwnPropertySymbols : function () {\n  return [];\n};\nvar numberIsNaN = Number.isNaN ? Number.isNaN : require('is-nan');\n\nfunction uncurryThis(f) {\n  return f.call.bind(f);\n}\n\nvar hasOwnProperty = uncurryThis(Object.prototype.hasOwnProperty);\nvar propertyIsEnumerable = uncurryThis(Object.prototype.propertyIsEnumerable);\nvar objectToString = uncurryThis(Object.prototype.toString);\n\nvar _require$types = require('util/').types,\n    isAnyArrayBuffer = _require$types.isAnyArrayBuffer,\n    isArrayBufferView = _require$types.isArrayBufferView,\n    isDate = _require$types.isDate,\n    isMap = _require$types.isMap,\n    isRegExp = _require$types.isRegExp,\n    isSet = _require$types.isSet,\n    isNativeError = _require$types.isNativeError,\n    isBoxedPrimitive = _require$types.isBoxedPrimitive,\n    isNumberObject = _require$types.isNumberObject,\n    isStringObject = _require$types.isStringObject,\n    isBooleanObject = _require$types.isBooleanObject,\n    isBigIntObject = _require$types.isBigIntObject,\n    isSymbolObject = _require$types.isSymbolObject,\n    isFloat32Array = _require$types.isFloat32Array,\n    isFloat64Array = _require$types.isFloat64Array;\n\nfunction isNonIndex(key) {\n  if (key.length === 0 || key.length > 10) return true;\n\n  for (var i = 0; i < key.length; i++) {\n    var code = key.charCodeAt(i);\n    if (code < 48 || code > 57) return true;\n  } // The maximum size for an array is 2 ** 32 -1.\n\n\n  return key.length === 10 && key >= Math.pow(2, 32);\n}\n\nfunction getOwnNonIndexProperties(value) {\n  return Object.keys(value).filter(isNonIndex).concat(objectGetOwnPropertySymbols(value).filter(Object.prototype.propertyIsEnumerable.bind(value)));\n} // Taken from https://github.com/feross/buffer/blob/680e9e5e488f22aac27599a57dc844a6315928dd/index.js\n// original notice:\n\n/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>\n * @license  MIT\n */\n\n\nfunction compare(a, b) {\n  if (a === b) {\n    return 0;\n  }\n\n  var x = a.length;\n  var y = b.length;\n\n  for (var i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i];\n      y = b[i];\n      break;\n    }\n  }\n\n  if (x < y) {\n    return -1;\n  }\n\n  if (y < x) {\n    return 1;\n  }\n\n  return 0;\n}\n\nvar ONLY_ENUMERABLE = undefined;\nvar kStrict = true;\nvar kLoose = false;\nvar kNoIterator = 0;\nvar kIsArray = 1;\nvar kIsSet = 2;\nvar kIsMap = 3; // Check if they have the same source and flags\n\nfunction areSimilarRegExps(a, b) {\n  return regexFlagsSupported ? a.source === b.source && a.flags === b.flags : RegExp.prototype.toString.call(a) === RegExp.prototype.toString.call(b);\n}\n\nfunction areSimilarFloatArrays(a, b) {\n  if (a.byteLength !== b.byteLength) {\n    return false;\n  }\n\n  for (var offset = 0; offset < a.byteLength; offset++) {\n    if (a[offset] !== b[offset]) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nfunction areSimilarTypedArrays(a, b) {\n  if (a.byteLength !== b.byteLength) {\n    return false;\n  }\n\n  return compare(new Uint8Array(a.buffer, a.byteOffset, a.byteLength), new Uint8Array(b.buffer, b.byteOffset, b.byteLength)) === 0;\n}\n\nfunction areEqualArrayBuffers(buf1, buf2) {\n  return buf1.byteLength === buf2.byteLength && compare(new Uint8Array(buf1), new Uint8Array(buf2)) === 0;\n}\n\nfunction isEqualBoxedPrimitive(val1, val2) {\n  if (isNumberObject(val1)) {\n    return isNumberObject(val2) && objectIs(Number.prototype.valueOf.call(val1), Number.prototype.valueOf.call(val2));\n  }\n\n  if (isStringObject(val1)) {\n    return isStringObject(val2) && String.prototype.valueOf.call(val1) === String.prototype.valueOf.call(val2);\n  }\n\n  if (isBooleanObject(val1)) {\n    return isBooleanObject(val2) && Boolean.prototype.valueOf.call(val1) === Boolean.prototype.valueOf.call(val2);\n  }\n\n  if (isBigIntObject(val1)) {\n    return isBigIntObject(val2) && BigInt.prototype.valueOf.call(val1) === BigInt.prototype.valueOf.call(val2);\n  }\n\n  return isSymbolObject(val2) && Symbol.prototype.valueOf.call(val1) === Symbol.prototype.valueOf.call(val2);\n} // Notes: Type tags are historical [[Class]] properties that can be set by\n// FunctionTemplate::SetClassName() in C++ or Symbol.toStringTag in JS\n// and retrieved using Object.prototype.toString.call(obj) in JS\n// See https://tc39.github.io/ecma262/#sec-object.prototype.tostring\n// for a list of tags pre-defined in the spec.\n// There are some unspecified tags in the wild too (e.g. typed array tags).\n// Since tags can be altered, they only serve fast failures\n//\n// Typed arrays and buffers are checked by comparing the content in their\n// underlying ArrayBuffer. This optimization requires that it's\n// reasonable to interpret their underlying memory in the same way,\n// which is checked by comparing their type tags.\n// (e.g. a Uint8Array and a Uint16Array with the same memory content\n// could still be different because they will be interpreted differently).\n//\n// For strict comparison, objects should have\n// a) The same built-in type tags\n// b) The same prototypes.\n\n\nfunction innerDeepEqual(val1, val2, strict, memos) {\n  // All identical values are equivalent, as determined by ===.\n  if (val1 === val2) {\n    if (val1 !== 0) return true;\n    return strict ? objectIs(val1, val2) : true;\n  } // Check more closely if val1 and val2 are equal.\n\n\n  if (strict) {\n    if (_typeof(val1) !== 'object') {\n      return typeof val1 === 'number' && numberIsNaN(val1) && numberIsNaN(val2);\n    }\n\n    if (_typeof(val2) !== 'object' || val1 === null || val2 === null) {\n      return false;\n    }\n\n    if (Object.getPrototypeOf(val1) !== Object.getPrototypeOf(val2)) {\n      return false;\n    }\n  } else {\n    if (val1 === null || _typeof(val1) !== 'object') {\n      if (val2 === null || _typeof(val2) !== 'object') {\n        // eslint-disable-next-line eqeqeq\n        return val1 == val2;\n      }\n\n      return false;\n    }\n\n    if (val2 === null || _typeof(val2) !== 'object') {\n      return false;\n    }\n  }\n\n  var val1Tag = objectToString(val1);\n  var val2Tag = objectToString(val2);\n\n  if (val1Tag !== val2Tag) {\n    return false;\n  }\n\n  if (Array.isArray(val1)) {\n    // Check for sparse arrays and general fast path\n    if (val1.length !== val2.length) {\n      return false;\n    }\n\n    var keys1 = getOwnNonIndexProperties(val1, ONLY_ENUMERABLE);\n    var keys2 = getOwnNonIndexProperties(val2, ONLY_ENUMERABLE);\n\n    if (keys1.length !== keys2.length) {\n      return false;\n    }\n\n    return keyCheck(val1, val2, strict, memos, kIsArray, keys1);\n  } // [browserify] This triggers on certain types in IE (Map/Set) so we don't\n  // wan't to early return out of the rest of the checks. However we can check\n  // if the second value is one of these values and the first isn't.\n\n\n  if (val1Tag === '[object Object]') {\n    // return keyCheck(val1, val2, strict, memos, kNoIterator);\n    if (!isMap(val1) && isMap(val2) || !isSet(val1) && isSet(val2)) {\n      return false;\n    }\n  }\n\n  if (isDate(val1)) {\n    if (!isDate(val2) || Date.prototype.getTime.call(val1) !== Date.prototype.getTime.call(val2)) {\n      return false;\n    }\n  } else if (isRegExp(val1)) {\n    if (!isRegExp(val2) || !areSimilarRegExps(val1, val2)) {\n      return false;\n    }\n  } else if (isNativeError(val1) || val1 instanceof Error) {\n    // Do not compare the stack as it might differ even though the error itself\n    // is otherwise identical.\n    if (val1.message !== val2.message || val1.name !== val2.name) {\n      return false;\n    }\n  } else if (isArrayBufferView(val1)) {\n    if (!strict && (isFloat32Array(val1) || isFloat64Array(val1))) {\n      if (!areSimilarFloatArrays(val1, val2)) {\n        return false;\n      }\n    } else if (!areSimilarTypedArrays(val1, val2)) {\n      return false;\n    } // Buffer.compare returns true, so val1.length === val2.length. If they both\n    // only contain numeric keys, we don't need to exam further than checking\n    // the symbols.\n\n\n    var _keys = getOwnNonIndexProperties(val1, ONLY_ENUMERABLE);\n\n    var _keys2 = getOwnNonIndexProperties(val2, ONLY_ENUMERABLE);\n\n    if (_keys.length !== _keys2.length) {\n      return false;\n    }\n\n    return keyCheck(val1, val2, strict, memos, kNoIterator, _keys);\n  } else if (isSet(val1)) {\n    if (!isSet(val2) || val1.size !== val2.size) {\n      return false;\n    }\n\n    return keyCheck(val1, val2, strict, memos, kIsSet);\n  } else if (isMap(val1)) {\n    if (!isMap(val2) || val1.size !== val2.size) {\n      return false;\n    }\n\n    return keyCheck(val1, val2, strict, memos, kIsMap);\n  } else if (isAnyArrayBuffer(val1)) {\n    if (!areEqualArrayBuffers(val1, val2)) {\n      return false;\n    }\n  } else if (isBoxedPrimitive(val1) && !isEqualBoxedPrimitive(val1, val2)) {\n    return false;\n  }\n\n  return keyCheck(val1, val2, strict, memos, kNoIterator);\n}\n\nfunction getEnumerables(val, keys) {\n  return keys.filter(function (k) {\n    return propertyIsEnumerable(val, k);\n  });\n}\n\nfunction keyCheck(val1, val2, strict, memos, iterationType, aKeys) {\n  // For all remaining Object pairs, including Array, objects and Maps,\n  // equivalence is determined by having:\n  // a) The same number of owned enumerable properties\n  // b) The same set of keys/indexes (although not necessarily the same order)\n  // c) Equivalent values for every corresponding key/index\n  // d) For Sets and Maps, equal contents\n  // Note: this accounts for both named and indexed properties on Arrays.\n  if (arguments.length === 5) {\n    aKeys = Object.keys(val1);\n    var bKeys = Object.keys(val2); // The pair must have the same number of owned properties.\n\n    if (aKeys.length !== bKeys.length) {\n      return false;\n    }\n  } // Cheap key test\n\n\n  var i = 0;\n\n  for (; i < aKeys.length; i++) {\n    if (!hasOwnProperty(val2, aKeys[i])) {\n      return false;\n    }\n  }\n\n  if (strict && arguments.length === 5) {\n    var symbolKeysA = objectGetOwnPropertySymbols(val1);\n\n    if (symbolKeysA.length !== 0) {\n      var count = 0;\n\n      for (i = 0; i < symbolKeysA.length; i++) {\n        var key = symbolKeysA[i];\n\n        if (propertyIsEnumerable(val1, key)) {\n          if (!propertyIsEnumerable(val2, key)) {\n            return false;\n          }\n\n          aKeys.push(key);\n          count++;\n        } else if (propertyIsEnumerable(val2, key)) {\n          return false;\n        }\n      }\n\n      var symbolKeysB = objectGetOwnPropertySymbols(val2);\n\n      if (symbolKeysA.length !== symbolKeysB.length && getEnumerables(val2, symbolKeysB).length !== count) {\n        return false;\n      }\n    } else {\n      var _symbolKeysB = objectGetOwnPropertySymbols(val2);\n\n      if (_symbolKeysB.length !== 0 && getEnumerables(val2, _symbolKeysB).length !== 0) {\n        return false;\n      }\n    }\n  }\n\n  if (aKeys.length === 0 && (iterationType === kNoIterator || iterationType === kIsArray && val1.length === 0 || val1.size === 0)) {\n    return true;\n  } // Use memos to handle cycles.\n\n\n  if (memos === undefined) {\n    memos = {\n      val1: new Map(),\n      val2: new Map(),\n      position: 0\n    };\n  } else {\n    // We prevent up to two map.has(x) calls by directly retrieving the value\n    // and checking for undefined. The map can only contain numbers, so it is\n    // safe to check for undefined only.\n    var val2MemoA = memos.val1.get(val1);\n\n    if (val2MemoA !== undefined) {\n      var val2MemoB = memos.val2.get(val2);\n\n      if (val2MemoB !== undefined) {\n        return val2MemoA === val2MemoB;\n      }\n    }\n\n    memos.position++;\n  }\n\n  memos.val1.set(val1, memos.position);\n  memos.val2.set(val2, memos.position);\n  var areEq = objEquiv(val1, val2, strict, aKeys, memos, iterationType);\n  memos.val1.delete(val1);\n  memos.val2.delete(val2);\n  return areEq;\n}\n\nfunction setHasEqualElement(set, val1, strict, memo) {\n  // Go looking.\n  var setValues = arrayFromSet(set);\n\n  for (var i = 0; i < setValues.length; i++) {\n    var val2 = setValues[i];\n\n    if (innerDeepEqual(val1, val2, strict, memo)) {\n      // Remove the matching element to make sure we do not check that again.\n      set.delete(val2);\n      return true;\n    }\n  }\n\n  return false;\n} // See https://developer.mozilla.org/en-US/docs/Web/JavaScript/Equality_comparisons_and_sameness#Loose_equality_using\n// Sadly it is not possible to detect corresponding values properly in case the\n// type is a string, number, bigint or boolean. The reason is that those values\n// can match lots of different string values (e.g., 1n == '+00001').\n\n\nfunction findLooseMatchingPrimitives(prim) {\n  switch (_typeof(prim)) {\n    case 'undefined':\n      return null;\n\n    case 'object':\n      // Only pass in null as object!\n      return undefined;\n\n    case 'symbol':\n      return false;\n\n    case 'string':\n      prim = +prim;\n    // Loose equal entries exist only if the string is possible to convert to\n    // a regular number and not NaN.\n    // Fall through\n\n    case 'number':\n      if (numberIsNaN(prim)) {\n        return false;\n      }\n\n  }\n\n  return true;\n}\n\nfunction setMightHaveLoosePrim(a, b, prim) {\n  var altValue = findLooseMatchingPrimitives(prim);\n  if (altValue != null) return altValue;\n  return b.has(altValue) && !a.has(altValue);\n}\n\nfunction mapMightHaveLoosePrim(a, b, prim, item, memo) {\n  var altValue = findLooseMatchingPrimitives(prim);\n\n  if (altValue != null) {\n    return altValue;\n  }\n\n  var curB = b.get(altValue);\n\n  if (curB === undefined && !b.has(altValue) || !innerDeepEqual(item, curB, false, memo)) {\n    return false;\n  }\n\n  return !a.has(altValue) && innerDeepEqual(item, curB, false, memo);\n}\n\nfunction setEquiv(a, b, strict, memo) {\n  // This is a lazily initiated Set of entries which have to be compared\n  // pairwise.\n  var set = null;\n  var aValues = arrayFromSet(a);\n\n  for (var i = 0; i < aValues.length; i++) {\n    var val = aValues[i]; // Note: Checking for the objects first improves the performance for object\n    // heavy sets but it is a minor slow down for primitives. As they are fast\n    // to check this improves the worst case scenario instead.\n\n    if (_typeof(val) === 'object' && val !== null) {\n      if (set === null) {\n        set = new Set();\n      } // If the specified value doesn't exist in the second set its an not null\n      // object (or non strict only: a not matching primitive) we'll need to go\n      // hunting for something thats deep-(strict-)equal to it. To make this\n      // O(n log n) complexity we have to copy these values in a new set first.\n\n\n      set.add(val);\n    } else if (!b.has(val)) {\n      if (strict) return false; // Fast path to detect missing string, symbol, undefined and null values.\n\n      if (!setMightHaveLoosePrim(a, b, val)) {\n        return false;\n      }\n\n      if (set === null) {\n        set = new Set();\n      }\n\n      set.add(val);\n    }\n  }\n\n  if (set !== null) {\n    var bValues = arrayFromSet(b);\n\n    for (var _i = 0; _i < bValues.length; _i++) {\n      var _val = bValues[_i]; // We have to check if a primitive value is already\n      // matching and only if it's not, go hunting for it.\n\n      if (_typeof(_val) === 'object' && _val !== null) {\n        if (!setHasEqualElement(set, _val, strict, memo)) return false;\n      } else if (!strict && !a.has(_val) && !setHasEqualElement(set, _val, strict, memo)) {\n        return false;\n      }\n    }\n\n    return set.size === 0;\n  }\n\n  return true;\n}\n\nfunction mapHasEqualEntry(set, map, key1, item1, strict, memo) {\n  // To be able to handle cases like:\n  //   Map([[{}, 'a'], [{}, 'b']]) vs Map([[{}, 'b'], [{}, 'a']])\n  // ... we need to consider *all* matching keys, not just the first we find.\n  var setValues = arrayFromSet(set);\n\n  for (var i = 0; i < setValues.length; i++) {\n    var key2 = setValues[i];\n\n    if (innerDeepEqual(key1, key2, strict, memo) && innerDeepEqual(item1, map.get(key2), strict, memo)) {\n      set.delete(key2);\n      return true;\n    }\n  }\n\n  return false;\n}\n\nfunction mapEquiv(a, b, strict, memo) {\n  var set = null;\n  var aEntries = arrayFromMap(a);\n\n  for (var i = 0; i < aEntries.length; i++) {\n    var _aEntries$i = _slicedToArray(aEntries[i], 2),\n        key = _aEntries$i[0],\n        item1 = _aEntries$i[1];\n\n    if (_typeof(key) === 'object' && key !== null) {\n      if (set === null) {\n        set = new Set();\n      }\n\n      set.add(key);\n    } else {\n      // By directly retrieving the value we prevent another b.has(key) check in\n      // almost all possible cases.\n      var item2 = b.get(key);\n\n      if (item2 === undefined && !b.has(key) || !innerDeepEqual(item1, item2, strict, memo)) {\n        if (strict) return false; // Fast path to detect missing string, symbol, undefined and null\n        // keys.\n\n        if (!mapMightHaveLoosePrim(a, b, key, item1, memo)) return false;\n\n        if (set === null) {\n          set = new Set();\n        }\n\n        set.add(key);\n      }\n    }\n  }\n\n  if (set !== null) {\n    var bEntries = arrayFromMap(b);\n\n    for (var _i2 = 0; _i2 < bEntries.length; _i2++) {\n      var _bEntries$_i = _slicedToArray(bEntries[_i2], 2),\n          key = _bEntries$_i[0],\n          item = _bEntries$_i[1];\n\n      if (_typeof(key) === 'object' && key !== null) {\n        if (!mapHasEqualEntry(set, a, key, item, strict, memo)) return false;\n      } else if (!strict && (!a.has(key) || !innerDeepEqual(a.get(key), item, false, memo)) && !mapHasEqualEntry(set, a, key, item, false, memo)) {\n        return false;\n      }\n    }\n\n    return set.size === 0;\n  }\n\n  return true;\n}\n\nfunction objEquiv(a, b, strict, keys, memos, iterationType) {\n  // Sets and maps don't have their entries accessible via normal object\n  // properties.\n  var i = 0;\n\n  if (iterationType === kIsSet) {\n    if (!setEquiv(a, b, strict, memos)) {\n      return false;\n    }\n  } else if (iterationType === kIsMap) {\n    if (!mapEquiv(a, b, strict, memos)) {\n      return false;\n    }\n  } else if (iterationType === kIsArray) {\n    for (; i < a.length; i++) {\n      if (hasOwnProperty(a, i)) {\n        if (!hasOwnProperty(b, i) || !innerDeepEqual(a[i], b[i], strict, memos)) {\n          return false;\n        }\n      } else if (hasOwnProperty(b, i)) {\n        return false;\n      } else {\n        // Array is sparse.\n        var keysA = Object.keys(a);\n\n        for (; i < keysA.length; i++) {\n          var key = keysA[i];\n\n          if (!hasOwnProperty(b, key) || !innerDeepEqual(a[key], b[key], strict, memos)) {\n            return false;\n          }\n        }\n\n        if (keysA.length !== Object.keys(b).length) {\n          return false;\n        }\n\n        return true;\n      }\n    }\n  } // The pair must have equivalent values for every corresponding key.\n  // Possibly expensive deep test:\n\n\n  for (i = 0; i < keys.length; i++) {\n    var _key = keys[i];\n\n    if (!innerDeepEqual(a[_key], b[_key], strict, memos)) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nfunction isDeepEqual(val1, val2) {\n  return innerDeepEqual(val1, val2, kLoose);\n}\n\nfunction isDeepStrictEqual(val1, val2) {\n  return innerDeepEqual(val1, val2, kStrict);\n}\n\nmodule.exports = {\n  isDeepEqual: isDeepEqual,\n  isDeepStrictEqual: isDeepStrictEqual\n};","'use strict'\n\nexports.byteLength = byteLength\nexports.toByteArray = toByteArray\nexports.fromByteArray = fromByteArray\n\nvar lookup = []\nvar revLookup = []\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array\n\nvar code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\nfor (var i = 0, len = code.length; i < len; ++i) {\n  lookup[i] = code[i]\n  revLookup[code.charCodeAt(i)] = i\n}\n\n// Support decoding URL-safe base64 strings, as Node.js does.\n// See: https://en.wikipedia.org/wiki/Base64#URL_applications\nrevLookup['-'.charCodeAt(0)] = 62\nrevLookup['_'.charCodeAt(0)] = 63\n\nfunction getLens (b64) {\n  var len = b64.length\n\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4')\n  }\n\n  // Trim off extra bytes after placeholder bytes are found\n  // See: https://github.com/beatgammit/base64-js/issues/42\n  var validLen = b64.indexOf('=')\n  if (validLen === -1) validLen = len\n\n  var placeHoldersLen = validLen === len\n    ? 0\n    : 4 - (validLen % 4)\n\n  return [validLen, placeHoldersLen]\n}\n\n// base64 is 4/3 + up to two characters of the original data\nfunction byteLength (b64) {\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction _byteLength (b64, validLen, placeHoldersLen) {\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction toByteArray (b64) {\n  var tmp\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n\n  var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen))\n\n  var curByte = 0\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  var len = placeHoldersLen > 0\n    ? validLen - 4\n    : validLen\n\n  var i\n  for (i = 0; i < len; i += 4) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 18) |\n      (revLookup[b64.charCodeAt(i + 1)] << 12) |\n      (revLookup[b64.charCodeAt(i + 2)] << 6) |\n      revLookup[b64.charCodeAt(i + 3)]\n    arr[curByte++] = (tmp >> 16) & 0xFF\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 2) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 2) |\n      (revLookup[b64.charCodeAt(i + 1)] >> 4)\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 1) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 10) |\n      (revLookup[b64.charCodeAt(i + 1)] << 4) |\n      (revLookup[b64.charCodeAt(i + 2)] >> 2)\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  return arr\n}\n\nfunction tripletToBase64 (num) {\n  return lookup[num >> 18 & 0x3F] +\n    lookup[num >> 12 & 0x3F] +\n    lookup[num >> 6 & 0x3F] +\n    lookup[num & 0x3F]\n}\n\nfunction encodeChunk (uint8, start, end) {\n  var tmp\n  var output = []\n  for (var i = start; i < end; i += 3) {\n    tmp =\n      ((uint8[i] << 16) & 0xFF0000) +\n      ((uint8[i + 1] << 8) & 0xFF00) +\n      (uint8[i + 2] & 0xFF)\n    output.push(tripletToBase64(tmp))\n  }\n  return output.join('')\n}\n\nfunction fromByteArray (uint8) {\n  var tmp\n  var len = uint8.length\n  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes\n  var parts = []\n  var maxChunkLength = 16383 // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)))\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 2] +\n      lookup[(tmp << 4) & 0x3F] +\n      '=='\n    )\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 10] +\n      lookup[(tmp >> 4) & 0x3F] +\n      lookup[(tmp << 2) & 0x3F] +\n      '='\n    )\n  }\n\n  return parts.join('')\n}\n","/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <https://feross.org>\n * @license  MIT\n */\n/* eslint-disable no-proto */\n\n'use strict'\n\nconst base64 = require('base64-js')\nconst ieee754 = require('ieee754')\nconst customInspectSymbol =\n  (typeof Symbol === 'function' && typeof Symbol['for'] === 'function') // eslint-disable-line dot-notation\n    ? Symbol['for']('nodejs.util.inspect.custom') // eslint-disable-line dot-notation\n    : null\n\nexports.Buffer = Buffer\nexports.SlowBuffer = SlowBuffer\nexports.INSPECT_MAX_BYTES = 50\n\nconst K_MAX_LENGTH = 0x7fffffff\nexports.kMaxLength = K_MAX_LENGTH\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Print warning and recommend using `buffer` v4.x which has an Object\n *               implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * We report that the browser does not support typed arrays if the are not subclassable\n * using __proto__. Firefox 4-29 lacks support for adding new properties to `Uint8Array`\n * (See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438). IE 10 lacks support\n * for __proto__ and has a buggy typed array implementation.\n */\nBuffer.TYPED_ARRAY_SUPPORT = typedArraySupport()\n\nif (!Buffer.TYPED_ARRAY_SUPPORT && typeof console !== 'undefined' &&\n    typeof console.error === 'function') {\n  console.error(\n    'This browser lacks typed array (Uint8Array) support which is required by ' +\n    '`buffer` v5.x. Use `buffer` v4.x if you require old browser support.'\n  )\n}\n\nfunction typedArraySupport () {\n  // Can typed array instances can be augmented?\n  try {\n    const arr = new Uint8Array(1)\n    const proto = { foo: function () { return 42 } }\n    Object.setPrototypeOf(proto, Uint8Array.prototype)\n    Object.setPrototypeOf(arr, proto)\n    return arr.foo() === 42\n  } catch (e) {\n    return false\n  }\n}\n\nObject.defineProperty(Buffer.prototype, 'parent', {\n  enumerable: true,\n  get: function () {\n    if (!Buffer.isBuffer(this)) return undefined\n    return this.buffer\n  }\n})\n\nObject.defineProperty(Buffer.prototype, 'offset', {\n  enumerable: true,\n  get: function () {\n    if (!Buffer.isBuffer(this)) return undefined\n    return this.byteOffset\n  }\n})\n\nfunction createBuffer (length) {\n  if (length > K_MAX_LENGTH) {\n    throw new RangeError('The value \"' + length + '\" is invalid for option \"size\"')\n  }\n  // Return an augmented `Uint8Array` instance\n  const buf = new Uint8Array(length)\n  Object.setPrototypeOf(buf, Buffer.prototype)\n  return buf\n}\n\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\n\nfunction Buffer (arg, encodingOrOffset, length) {\n  // Common case.\n  if (typeof arg === 'number') {\n    if (typeof encodingOrOffset === 'string') {\n      throw new TypeError(\n        'The \"string\" argument must be of type string. Received type number'\n      )\n    }\n    return allocUnsafe(arg)\n  }\n  return from(arg, encodingOrOffset, length)\n}\n\nBuffer.poolSize = 8192 // not used by this implementation\n\nfunction from (value, encodingOrOffset, length) {\n  if (typeof value === 'string') {\n    return fromString(value, encodingOrOffset)\n  }\n\n  if (ArrayBuffer.isView(value)) {\n    return fromArrayView(value)\n  }\n\n  if (value == null) {\n    throw new TypeError(\n      'The first argument must be one of type string, Buffer, ArrayBuffer, Array, ' +\n      'or Array-like Object. Received type ' + (typeof value)\n    )\n  }\n\n  if (isInstance(value, ArrayBuffer) ||\n      (value && isInstance(value.buffer, ArrayBuffer))) {\n    return fromArrayBuffer(value, encodingOrOffset, length)\n  }\n\n  if (typeof SharedArrayBuffer !== 'undefined' &&\n      (isInstance(value, SharedArrayBuffer) ||\n      (value && isInstance(value.buffer, SharedArrayBuffer)))) {\n    return fromArrayBuffer(value, encodingOrOffset, length)\n  }\n\n  if (typeof value === 'number') {\n    throw new TypeError(\n      'The \"value\" argument must not be of type number. Received type number'\n    )\n  }\n\n  const valueOf = value.valueOf && value.valueOf()\n  if (valueOf != null && valueOf !== value) {\n    return Buffer.from(valueOf, encodingOrOffset, length)\n  }\n\n  const b = fromObject(value)\n  if (b) return b\n\n  if (typeof Symbol !== 'undefined' && Symbol.toPrimitive != null &&\n      typeof value[Symbol.toPrimitive] === 'function') {\n    return Buffer.from(value[Symbol.toPrimitive]('string'), encodingOrOffset, length)\n  }\n\n  throw new TypeError(\n    'The first argument must be one of type string, Buffer, ArrayBuffer, Array, ' +\n    'or Array-like Object. Received type ' + (typeof value)\n  )\n}\n\n/**\n * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n * if value is a number.\n * Buffer.from(str[, encoding])\n * Buffer.from(array)\n * Buffer.from(buffer)\n * Buffer.from(arrayBuffer[, byteOffset[, length]])\n **/\nBuffer.from = function (value, encodingOrOffset, length) {\n  return from(value, encodingOrOffset, length)\n}\n\n// Note: Change prototype *after* Buffer.from is defined to workaround Chrome bug:\n// https://github.com/feross/buffer/pull/148\nObject.setPrototypeOf(Buffer.prototype, Uint8Array.prototype)\nObject.setPrototypeOf(Buffer, Uint8Array)\n\nfunction assertSize (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be of type number')\n  } else if (size < 0) {\n    throw new RangeError('The value \"' + size + '\" is invalid for option \"size\"')\n  }\n}\n\nfunction alloc (size, fill, encoding) {\n  assertSize(size)\n  if (size <= 0) {\n    return createBuffer(size)\n  }\n  if (fill !== undefined) {\n    // Only pay attention to encoding if it's a string. This\n    // prevents accidentally sending in a number that would\n    // be interpreted as a start offset.\n    return typeof encoding === 'string'\n      ? createBuffer(size).fill(fill, encoding)\n      : createBuffer(size).fill(fill)\n  }\n  return createBuffer(size)\n}\n\n/**\n * Creates a new filled Buffer instance.\n * alloc(size[, fill[, encoding]])\n **/\nBuffer.alloc = function (size, fill, encoding) {\n  return alloc(size, fill, encoding)\n}\n\nfunction allocUnsafe (size) {\n  assertSize(size)\n  return createBuffer(size < 0 ? 0 : checked(size) | 0)\n}\n\n/**\n * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n * */\nBuffer.allocUnsafe = function (size) {\n  return allocUnsafe(size)\n}\n/**\n * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n */\nBuffer.allocUnsafeSlow = function (size) {\n  return allocUnsafe(size)\n}\n\nfunction fromString (string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8'\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('Unknown encoding: ' + encoding)\n  }\n\n  const length = byteLength(string, encoding) | 0\n  let buf = createBuffer(length)\n\n  const actual = buf.write(string, encoding)\n\n  if (actual !== length) {\n    // Writing a hex string, for example, that contains invalid characters will\n    // cause everything after the first invalid character to be ignored. (e.g.\n    // 'abxxcd' will be treated as 'ab')\n    buf = buf.slice(0, actual)\n  }\n\n  return buf\n}\n\nfunction fromArrayLike (array) {\n  const length = array.length < 0 ? 0 : checked(array.length) | 0\n  const buf = createBuffer(length)\n  for (let i = 0; i < length; i += 1) {\n    buf[i] = array[i] & 255\n  }\n  return buf\n}\n\nfunction fromArrayView (arrayView) {\n  if (isInstance(arrayView, Uint8Array)) {\n    const copy = new Uint8Array(arrayView)\n    return fromArrayBuffer(copy.buffer, copy.byteOffset, copy.byteLength)\n  }\n  return fromArrayLike(arrayView)\n}\n\nfunction fromArrayBuffer (array, byteOffset, length) {\n  if (byteOffset < 0 || array.byteLength < byteOffset) {\n    throw new RangeError('\"offset\" is outside of buffer bounds')\n  }\n\n  if (array.byteLength < byteOffset + (length || 0)) {\n    throw new RangeError('\"length\" is outside of buffer bounds')\n  }\n\n  let buf\n  if (byteOffset === undefined && length === undefined) {\n    buf = new Uint8Array(array)\n  } else if (length === undefined) {\n    buf = new Uint8Array(array, byteOffset)\n  } else {\n    buf = new Uint8Array(array, byteOffset, length)\n  }\n\n  // Return an augmented `Uint8Array` instance\n  Object.setPrototypeOf(buf, Buffer.prototype)\n\n  return buf\n}\n\nfunction fromObject (obj) {\n  if (Buffer.isBuffer(obj)) {\n    const len = checked(obj.length) | 0\n    const buf = createBuffer(len)\n\n    if (buf.length === 0) {\n      return buf\n    }\n\n    obj.copy(buf, 0, 0, len)\n    return buf\n  }\n\n  if (obj.length !== undefined) {\n    if (typeof obj.length !== 'number' || numberIsNaN(obj.length)) {\n      return createBuffer(0)\n    }\n    return fromArrayLike(obj)\n  }\n\n  if (obj.type === 'Buffer' && Array.isArray(obj.data)) {\n    return fromArrayLike(obj.data)\n  }\n}\n\nfunction checked (length) {\n  // Note: cannot use `length < K_MAX_LENGTH` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= K_MAX_LENGTH) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n                         'size: 0x' + K_MAX_LENGTH.toString(16) + ' bytes')\n  }\n  return length | 0\n}\n\nfunction SlowBuffer (length) {\n  if (+length != length) { // eslint-disable-line eqeqeq\n    length = 0\n  }\n  return Buffer.alloc(+length)\n}\n\nBuffer.isBuffer = function isBuffer (b) {\n  return b != null && b._isBuffer === true &&\n    b !== Buffer.prototype // so Buffer.isBuffer(Buffer.prototype) will be false\n}\n\nBuffer.compare = function compare (a, b) {\n  if (isInstance(a, Uint8Array)) a = Buffer.from(a, a.offset, a.byteLength)\n  if (isInstance(b, Uint8Array)) b = Buffer.from(b, b.offset, b.byteLength)\n  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n    throw new TypeError(\n      'The \"buf1\", \"buf2\" arguments must be one of type Buffer or Uint8Array'\n    )\n  }\n\n  if (a === b) return 0\n\n  let x = a.length\n  let y = b.length\n\n  for (let i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i]\n      y = b[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function isEncoding (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'latin1':\n    case 'binary':\n    case 'base64':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function concat (list, length) {\n  if (!Array.isArray(list)) {\n    throw new TypeError('\"list\" argument must be an Array of Buffers')\n  }\n\n  if (list.length === 0) {\n    return Buffer.alloc(0)\n  }\n\n  let i\n  if (length === undefined) {\n    length = 0\n    for (i = 0; i < list.length; ++i) {\n      length += list[i].length\n    }\n  }\n\n  const buffer = Buffer.allocUnsafe(length)\n  let pos = 0\n  for (i = 0; i < list.length; ++i) {\n    let buf = list[i]\n    if (isInstance(buf, Uint8Array)) {\n      if (pos + buf.length > buffer.length) {\n        if (!Buffer.isBuffer(buf)) buf = Buffer.from(buf)\n        buf.copy(buffer, pos)\n      } else {\n        Uint8Array.prototype.set.call(\n          buffer,\n          buf,\n          pos\n        )\n      }\n    } else if (!Buffer.isBuffer(buf)) {\n      throw new TypeError('\"list\" argument must be an Array of Buffers')\n    } else {\n      buf.copy(buffer, pos)\n    }\n    pos += buf.length\n  }\n  return buffer\n}\n\nfunction byteLength (string, encoding) {\n  if (Buffer.isBuffer(string)) {\n    return string.length\n  }\n  if (ArrayBuffer.isView(string) || isInstance(string, ArrayBuffer)) {\n    return string.byteLength\n  }\n  if (typeof string !== 'string') {\n    throw new TypeError(\n      'The \"string\" argument must be one of type string, Buffer, or ArrayBuffer. ' +\n      'Received type ' + typeof string\n    )\n  }\n\n  const len = string.length\n  const mustMatch = (arguments.length > 2 && arguments[2] === true)\n  if (!mustMatch && len === 0) return 0\n\n  // Use a for loop to avoid recursion\n  let loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return len\n      case 'utf8':\n      case 'utf-8':\n        return utf8ToBytes(string).length\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2\n      case 'hex':\n        return len >>> 1\n      case 'base64':\n        return base64ToBytes(string).length\n      default:\n        if (loweredCase) {\n          return mustMatch ? -1 : utf8ToBytes(string).length // assume utf8\n        }\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\nBuffer.byteLength = byteLength\n\nfunction slowToString (encoding, start, end) {\n  let loweredCase = false\n\n  // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n  // property of a typed array.\n\n  // This behaves neither like String nor Uint8Array in that we set start/end\n  // to their upper/lower bounds if the value passed is out of range.\n  // undefined is handled specially as per ECMA-262 6th Edition,\n  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n  if (start === undefined || start < 0) {\n    start = 0\n  }\n  // Return early if start > this.length. Done here to prevent potential uint32\n  // coercion fail below.\n  if (start > this.length) {\n    return ''\n  }\n\n  if (end === undefined || end > this.length) {\n    end = this.length\n  }\n\n  if (end <= 0) {\n    return ''\n  }\n\n  // Force coercion to uint32. This will also coerce falsey/NaN values to 0.\n  end >>>= 0\n  start >>>= 0\n\n  if (end <= start) {\n    return ''\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Slice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\n// This property is used by `Buffer.isBuffer` (and the `is-buffer` npm package)\n// to detect a Buffer instance. It's not possible to use `instanceof Buffer`\n// reliably in a browserify context because there could be multiple different\n// copies of the 'buffer' package in use. This method works even for Buffer\n// instances that were created from another copy of the `buffer` package.\n// See: https://github.com/feross/buffer/issues/154\nBuffer.prototype._isBuffer = true\n\nfunction swap (b, n, m) {\n  const i = b[n]\n  b[n] = b[m]\n  b[m] = i\n}\n\nBuffer.prototype.swap16 = function swap16 () {\n  const len = this.length\n  if (len % 2 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 16-bits')\n  }\n  for (let i = 0; i < len; i += 2) {\n    swap(this, i, i + 1)\n  }\n  return this\n}\n\nBuffer.prototype.swap32 = function swap32 () {\n  const len = this.length\n  if (len % 4 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 32-bits')\n  }\n  for (let i = 0; i < len; i += 4) {\n    swap(this, i, i + 3)\n    swap(this, i + 1, i + 2)\n  }\n  return this\n}\n\nBuffer.prototype.swap64 = function swap64 () {\n  const len = this.length\n  if (len % 8 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 64-bits')\n  }\n  for (let i = 0; i < len; i += 8) {\n    swap(this, i, i + 7)\n    swap(this, i + 1, i + 6)\n    swap(this, i + 2, i + 5)\n    swap(this, i + 3, i + 4)\n  }\n  return this\n}\n\nBuffer.prototype.toString = function toString () {\n  const length = this.length\n  if (length === 0) return ''\n  if (arguments.length === 0) return utf8Slice(this, 0, length)\n  return slowToString.apply(this, arguments)\n}\n\nBuffer.prototype.toLocaleString = Buffer.prototype.toString\n\nBuffer.prototype.equals = function equals (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function inspect () {\n  let str = ''\n  const max = exports.INSPECT_MAX_BYTES\n  str = this.toString('hex', 0, max).replace(/(.{2})/g, '$1 ').trim()\n  if (this.length > max) str += ' ... '\n  return '<Buffer ' + str + '>'\n}\nif (customInspectSymbol) {\n  Buffer.prototype[customInspectSymbol] = Buffer.prototype.inspect\n}\n\nBuffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {\n  if (isInstance(target, Uint8Array)) {\n    target = Buffer.from(target, target.offset, target.byteLength)\n  }\n  if (!Buffer.isBuffer(target)) {\n    throw new TypeError(\n      'The \"target\" argument must be one of type Buffer or Uint8Array. ' +\n      'Received type ' + (typeof target)\n    )\n  }\n\n  if (start === undefined) {\n    start = 0\n  }\n  if (end === undefined) {\n    end = target ? target.length : 0\n  }\n  if (thisStart === undefined) {\n    thisStart = 0\n  }\n  if (thisEnd === undefined) {\n    thisEnd = this.length\n  }\n\n  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n    throw new RangeError('out of range index')\n  }\n\n  if (thisStart >= thisEnd && start >= end) {\n    return 0\n  }\n  if (thisStart >= thisEnd) {\n    return -1\n  }\n  if (start >= end) {\n    return 1\n  }\n\n  start >>>= 0\n  end >>>= 0\n  thisStart >>>= 0\n  thisEnd >>>= 0\n\n  if (this === target) return 0\n\n  let x = thisEnd - thisStart\n  let y = end - start\n  const len = Math.min(x, y)\n\n  const thisCopy = this.slice(thisStart, thisEnd)\n  const targetCopy = target.slice(start, end)\n\n  for (let i = 0; i < len; ++i) {\n    if (thisCopy[i] !== targetCopy[i]) {\n      x = thisCopy[i]\n      y = targetCopy[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\n// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n//\n// Arguments:\n// - buffer - a Buffer to search\n// - val - a string, Buffer, or number\n// - byteOffset - an index into `buffer`; will be clamped to an int32\n// - encoding - an optional encoding, relevant is val is a string\n// - dir - true for indexOf, false for lastIndexOf\nfunction bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {\n  // Empty buffer means no match\n  if (buffer.length === 0) return -1\n\n  // Normalize byteOffset\n  if (typeof byteOffset === 'string') {\n    encoding = byteOffset\n    byteOffset = 0\n  } else if (byteOffset > 0x7fffffff) {\n    byteOffset = 0x7fffffff\n  } else if (byteOffset < -0x80000000) {\n    byteOffset = -0x80000000\n  }\n  byteOffset = +byteOffset // Coerce to Number.\n  if (numberIsNaN(byteOffset)) {\n    // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n    byteOffset = dir ? 0 : (buffer.length - 1)\n  }\n\n  // Normalize byteOffset: negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = buffer.length + byteOffset\n  if (byteOffset >= buffer.length) {\n    if (dir) return -1\n    else byteOffset = buffer.length - 1\n  } else if (byteOffset < 0) {\n    if (dir) byteOffset = 0\n    else return -1\n  }\n\n  // Normalize val\n  if (typeof val === 'string') {\n    val = Buffer.from(val, encoding)\n  }\n\n  // Finally, search either indexOf (if dir is true) or lastIndexOf\n  if (Buffer.isBuffer(val)) {\n    // Special case: looking for empty string/buffer always fails\n    if (val.length === 0) {\n      return -1\n    }\n    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)\n  } else if (typeof val === 'number') {\n    val = val & 0xFF // Search for a byte value [0-255]\n    if (typeof Uint8Array.prototype.indexOf === 'function') {\n      if (dir) {\n        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)\n      } else {\n        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)\n      }\n    }\n    return arrayIndexOf(buffer, [val], byteOffset, encoding, dir)\n  }\n\n  throw new TypeError('val must be string, number or Buffer')\n}\n\nfunction arrayIndexOf (arr, val, byteOffset, encoding, dir) {\n  let indexSize = 1\n  let arrLength = arr.length\n  let valLength = val.length\n\n  if (encoding !== undefined) {\n    encoding = String(encoding).toLowerCase()\n    if (encoding === 'ucs2' || encoding === 'ucs-2' ||\n        encoding === 'utf16le' || encoding === 'utf-16le') {\n      if (arr.length < 2 || val.length < 2) {\n        return -1\n      }\n      indexSize = 2\n      arrLength /= 2\n      valLength /= 2\n      byteOffset /= 2\n    }\n  }\n\n  function read (buf, i) {\n    if (indexSize === 1) {\n      return buf[i]\n    } else {\n      return buf.readUInt16BE(i * indexSize)\n    }\n  }\n\n  let i\n  if (dir) {\n    let foundIndex = -1\n    for (i = byteOffset; i < arrLength; i++) {\n      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n        if (foundIndex === -1) foundIndex = i\n        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize\n      } else {\n        if (foundIndex !== -1) i -= i - foundIndex\n        foundIndex = -1\n      }\n    }\n  } else {\n    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength\n    for (i = byteOffset; i >= 0; i--) {\n      let found = true\n      for (let j = 0; j < valLength; j++) {\n        if (read(arr, i + j) !== read(val, j)) {\n          found = false\n          break\n        }\n      }\n      if (found) return i\n    }\n  }\n\n  return -1\n}\n\nBuffer.prototype.includes = function includes (val, byteOffset, encoding) {\n  return this.indexOf(val, byteOffset, encoding) !== -1\n}\n\nBuffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)\n}\n\nBuffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  const remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  const strLen = string.length\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  let i\n  for (i = 0; i < length; ++i) {\n    const parsed = parseInt(string.substr(i * 2, 2), 16)\n    if (numberIsNaN(parsed)) return i\n    buf[offset + i] = parsed\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length)\n}\n\nfunction ucs2Write (buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nBuffer.prototype.write = function write (string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8'\n    length = this.length\n    offset = 0\n  // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset\n    length = this.length\n    offset = 0\n  // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset >>> 0\n    if (isFinite(length)) {\n      length = length >>> 0\n      if (encoding === undefined) encoding = 'utf8'\n    } else {\n      encoding = length\n      length = undefined\n    }\n  } else {\n    throw new Error(\n      'Buffer.write(string, encoding, offset[, length]) is no longer supported'\n    )\n  }\n\n  const remaining = this.length - offset\n  if (length === undefined || length > remaining) length = remaining\n\n  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n    throw new RangeError('Attempt to write outside buffer bounds')\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  let loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length)\n\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return asciiWrite(this, string, offset, length)\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toJSON = function toJSON () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  end = Math.min(buf.length, end)\n  const res = []\n\n  let i = start\n  while (i < end) {\n    const firstByte = buf[i]\n    let codePoint = null\n    let bytesPerSequence = (firstByte > 0xEF)\n      ? 4\n      : (firstByte > 0xDF)\n          ? 3\n          : (firstByte > 0xBF)\n              ? 2\n              : 1\n\n    if (i + bytesPerSequence <= end) {\n      let secondByte, thirdByte, fourthByte, tempCodePoint\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte\n          }\n          break\n        case 2:\n          secondByte = buf[i + 1]\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 3:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 4:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          fourthByte = buf[i + 3]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint\n            }\n          }\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD\n      bytesPerSequence = 1\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800)\n      codePoint = 0xDC00 | codePoint & 0x3FF\n    }\n\n    res.push(codePoint)\n    i += bytesPerSequence\n  }\n\n  return decodeCodePointsArray(res)\n}\n\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nconst MAX_ARGUMENTS_LENGTH = 0x1000\n\nfunction decodeCodePointsArray (codePoints) {\n  const len = codePoints.length\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n  }\n\n  // Decode in chunks to avoid \"call stack size exceeded\".\n  let res = ''\n  let i = 0\n  while (i < len) {\n    res += String.fromCharCode.apply(\n      String,\n      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n    )\n  }\n  return res\n}\n\nfunction asciiSlice (buf, start, end) {\n  let ret = ''\n  end = Math.min(buf.length, end)\n\n  for (let i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i] & 0x7F)\n  }\n  return ret\n}\n\nfunction latin1Slice (buf, start, end) {\n  let ret = ''\n  end = Math.min(buf.length, end)\n\n  for (let i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  const len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  let out = ''\n  for (let i = start; i < end; ++i) {\n    out += hexSliceLookupTable[buf[i]]\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  const bytes = buf.slice(start, end)\n  let res = ''\n  // If bytes.length is odd, the last 8 bits must be ignored (same as node.js)\n  for (let i = 0; i < bytes.length - 1; i += 2) {\n    res += String.fromCharCode(bytes[i] + (bytes[i + 1] * 256))\n  }\n  return res\n}\n\nBuffer.prototype.slice = function slice (start, end) {\n  const len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len\n    if (start < 0) start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0) end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start) end = start\n\n  const newBuf = this.subarray(start, end)\n  // Return an augmented `Uint8Array` instance\n  Object.setPrototypeOf(newBuf, Buffer.prototype)\n\n  return newBuf\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUintLE =\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  let val = this[offset]\n  let mul = 1\n  let i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUintBE =\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length)\n  }\n\n  let val = this[offset + --byteLength]\n  let mul = 1\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUint8 =\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUint16LE =\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUint16BE =\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUint32LE =\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUint32BE =\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n    ((this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    this[offset + 3])\n}\n\nBuffer.prototype.readBigUInt64LE = defineBigIntMethod(function readBigUInt64LE (offset) {\n  offset = offset >>> 0\n  validateNumber(offset, 'offset')\n  const first = this[offset]\n  const last = this[offset + 7]\n  if (first === undefined || last === undefined) {\n    boundsError(offset, this.length - 8)\n  }\n\n  const lo = first +\n    this[++offset] * 2 ** 8 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 24\n\n  const hi = this[++offset] +\n    this[++offset] * 2 ** 8 +\n    this[++offset] * 2 ** 16 +\n    last * 2 ** 24\n\n  return BigInt(lo) + (BigInt(hi) << BigInt(32))\n})\n\nBuffer.prototype.readBigUInt64BE = defineBigIntMethod(function readBigUInt64BE (offset) {\n  offset = offset >>> 0\n  validateNumber(offset, 'offset')\n  const first = this[offset]\n  const last = this[offset + 7]\n  if (first === undefined || last === undefined) {\n    boundsError(offset, this.length - 8)\n  }\n\n  const hi = first * 2 ** 24 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 8 +\n    this[++offset]\n\n  const lo = this[++offset] * 2 ** 24 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 8 +\n    last\n\n  return (BigInt(hi) << BigInt(32)) + BigInt(lo)\n})\n\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  let val = this[offset]\n  let mul = 1\n  let i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  let i = byteLength\n  let mul = 1\n  let val = this[offset + --i]\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80)) return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  const val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  const val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n    (this[offset + 1] << 8) |\n    (this[offset + 2] << 16) |\n    (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n    (this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    (this[offset + 3])\n}\n\nBuffer.prototype.readBigInt64LE = defineBigIntMethod(function readBigInt64LE (offset) {\n  offset = offset >>> 0\n  validateNumber(offset, 'offset')\n  const first = this[offset]\n  const last = this[offset + 7]\n  if (first === undefined || last === undefined) {\n    boundsError(offset, this.length - 8)\n  }\n\n  const val = this[offset + 4] +\n    this[offset + 5] * 2 ** 8 +\n    this[offset + 6] * 2 ** 16 +\n    (last << 24) // Overflow\n\n  return (BigInt(val) << BigInt(32)) +\n    BigInt(first +\n    this[++offset] * 2 ** 8 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 24)\n})\n\nBuffer.prototype.readBigInt64BE = defineBigIntMethod(function readBigInt64BE (offset) {\n  offset = offset >>> 0\n  validateNumber(offset, 'offset')\n  const first = this[offset]\n  const last = this[offset + 7]\n  if (first === undefined || last === undefined) {\n    boundsError(offset, this.length - 8)\n  }\n\n  const val = (first << 24) + // Overflow\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 8 +\n    this[++offset]\n\n  return (BigInt(val) << BigInt(32)) +\n    BigInt(this[++offset] * 2 ** 24 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 8 +\n    last)\n})\n\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!Buffer.isBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n}\n\nBuffer.prototype.writeUintLE =\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    const maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  let mul = 1\n  let i = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUintBE =\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    const maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  let i = byteLength - 1\n  let mul = 1\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUint8 =\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeUint16LE =\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  return offset + 2\n}\n\nBuffer.prototype.writeUint16BE =\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  this[offset] = (value >>> 8)\n  this[offset + 1] = (value & 0xff)\n  return offset + 2\n}\n\nBuffer.prototype.writeUint32LE =\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  this[offset + 3] = (value >>> 24)\n  this[offset + 2] = (value >>> 16)\n  this[offset + 1] = (value >>> 8)\n  this[offset] = (value & 0xff)\n  return offset + 4\n}\n\nBuffer.prototype.writeUint32BE =\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  this[offset] = (value >>> 24)\n  this[offset + 1] = (value >>> 16)\n  this[offset + 2] = (value >>> 8)\n  this[offset + 3] = (value & 0xff)\n  return offset + 4\n}\n\nfunction wrtBigUInt64LE (buf, value, offset, min, max) {\n  checkIntBI(value, min, max, buf, offset, 7)\n\n  let lo = Number(value & BigInt(0xffffffff))\n  buf[offset++] = lo\n  lo = lo >> 8\n  buf[offset++] = lo\n  lo = lo >> 8\n  buf[offset++] = lo\n  lo = lo >> 8\n  buf[offset++] = lo\n  let hi = Number(value >> BigInt(32) & BigInt(0xffffffff))\n  buf[offset++] = hi\n  hi = hi >> 8\n  buf[offset++] = hi\n  hi = hi >> 8\n  buf[offset++] = hi\n  hi = hi >> 8\n  buf[offset++] = hi\n  return offset\n}\n\nfunction wrtBigUInt64BE (buf, value, offset, min, max) {\n  checkIntBI(value, min, max, buf, offset, 7)\n\n  let lo = Number(value & BigInt(0xffffffff))\n  buf[offset + 7] = lo\n  lo = lo >> 8\n  buf[offset + 6] = lo\n  lo = lo >> 8\n  buf[offset + 5] = lo\n  lo = lo >> 8\n  buf[offset + 4] = lo\n  let hi = Number(value >> BigInt(32) & BigInt(0xffffffff))\n  buf[offset + 3] = hi\n  hi = hi >> 8\n  buf[offset + 2] = hi\n  hi = hi >> 8\n  buf[offset + 1] = hi\n  hi = hi >> 8\n  buf[offset] = hi\n  return offset + 8\n}\n\nBuffer.prototype.writeBigUInt64LE = defineBigIntMethod(function writeBigUInt64LE (value, offset = 0) {\n  return wrtBigUInt64LE(this, value, offset, BigInt(0), BigInt('0xffffffffffffffff'))\n})\n\nBuffer.prototype.writeBigUInt64BE = defineBigIntMethod(function writeBigUInt64BE (value, offset = 0) {\n  return wrtBigUInt64BE(this, value, offset, BigInt(0), BigInt('0xffffffffffffffff'))\n})\n\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    const limit = Math.pow(2, (8 * byteLength) - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  let i = 0\n  let mul = 1\n  let sub = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    const limit = Math.pow(2, (8 * byteLength) - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  let i = byteLength - 1\n  let mul = 1\n  let sub = 0\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  this[offset] = (value >>> 8)\n  this[offset + 1] = (value & 0xff)\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  this[offset + 2] = (value >>> 16)\n  this[offset + 3] = (value >>> 24)\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  this[offset] = (value >>> 24)\n  this[offset + 1] = (value >>> 16)\n  this[offset + 2] = (value >>> 8)\n  this[offset + 3] = (value & 0xff)\n  return offset + 4\n}\n\nBuffer.prototype.writeBigInt64LE = defineBigIntMethod(function writeBigInt64LE (value, offset = 0) {\n  return wrtBigUInt64LE(this, value, offset, -BigInt('0x8000000000000000'), BigInt('0x7fffffffffffffff'))\n})\n\nBuffer.prototype.writeBigInt64BE = defineBigIntMethod(function writeBigInt64BE (value, offset = 0) {\n  return wrtBigUInt64BE(this, value, offset, -BigInt('0x8000000000000000'), BigInt('0x7fffffffffffffff'))\n})\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n  if (offset < 0) throw new RangeError('Index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n  if (!Buffer.isBuffer(target)) throw new TypeError('argument should be a Buffer')\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (targetStart >= target.length) targetStart = target.length\n  if (!targetStart) targetStart = 0\n  if (end > 0 && end < start) end = start\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || this.length === 0) return 0\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds')\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('Index out of range')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length) end = this.length\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start\n  }\n\n  const len = end - start\n\n  if (this === target && typeof Uint8Array.prototype.copyWithin === 'function') {\n    // Use built-in when available, missing from IE11\n    this.copyWithin(targetStart, start, end)\n  } else {\n    Uint8Array.prototype.set.call(\n      target,\n      this.subarray(start, end),\n      targetStart\n    )\n  }\n\n  return len\n}\n\n// Usage:\n//    buffer.fill(number[, offset[, end]])\n//    buffer.fill(buffer[, offset[, end]])\n//    buffer.fill(string[, offset[, end]][, encoding])\nBuffer.prototype.fill = function fill (val, start, end, encoding) {\n  // Handle string cases:\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      encoding = start\n      start = 0\n      end = this.length\n    } else if (typeof end === 'string') {\n      encoding = end\n      end = this.length\n    }\n    if (encoding !== undefined && typeof encoding !== 'string') {\n      throw new TypeError('encoding must be a string')\n    }\n    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n      throw new TypeError('Unknown encoding: ' + encoding)\n    }\n    if (val.length === 1) {\n      const code = val.charCodeAt(0)\n      if ((encoding === 'utf8' && code < 128) ||\n          encoding === 'latin1') {\n        // Fast path: If `val` fits into a single byte, use that numeric value.\n        val = code\n      }\n    }\n  } else if (typeof val === 'number') {\n    val = val & 255\n  } else if (typeof val === 'boolean') {\n    val = Number(val)\n  }\n\n  // Invalid ranges are not set to a default, so can range check early.\n  if (start < 0 || this.length < start || this.length < end) {\n    throw new RangeError('Out of range index')\n  }\n\n  if (end <= start) {\n    return this\n  }\n\n  start = start >>> 0\n  end = end === undefined ? this.length : end >>> 0\n\n  if (!val) val = 0\n\n  let i\n  if (typeof val === 'number') {\n    for (i = start; i < end; ++i) {\n      this[i] = val\n    }\n  } else {\n    const bytes = Buffer.isBuffer(val)\n      ? val\n      : Buffer.from(val, encoding)\n    const len = bytes.length\n    if (len === 0) {\n      throw new TypeError('The value \"' + val +\n        '\" is invalid for argument \"value\"')\n    }\n    for (i = 0; i < end - start; ++i) {\n      this[i + start] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n// CUSTOM ERRORS\n// =============\n\n// Simplified versions from Node, changed for Buffer-only usage\nconst errors = {}\nfunction E (sym, getMessage, Base) {\n  errors[sym] = class NodeError extends Base {\n    constructor () {\n      super()\n\n      Object.defineProperty(this, 'message', {\n        value: getMessage.apply(this, arguments),\n        writable: true,\n        configurable: true\n      })\n\n      // Add the error code to the name to include it in the stack trace.\n      this.name = `${this.name} [${sym}]`\n      // Access the stack to generate the error message including the error code\n      // from the name.\n      this.stack // eslint-disable-line no-unused-expressions\n      // Reset the name to the actual name.\n      delete this.name\n    }\n\n    get code () {\n      return sym\n    }\n\n    set code (value) {\n      Object.defineProperty(this, 'code', {\n        configurable: true,\n        enumerable: true,\n        value,\n        writable: true\n      })\n    }\n\n    toString () {\n      return `${this.name} [${sym}]: ${this.message}`\n    }\n  }\n}\n\nE('ERR_BUFFER_OUT_OF_BOUNDS',\n  function (name) {\n    if (name) {\n      return `${name} is outside of buffer bounds`\n    }\n\n    return 'Attempt to access memory outside buffer bounds'\n  }, RangeError)\nE('ERR_INVALID_ARG_TYPE',\n  function (name, actual) {\n    return `The \"${name}\" argument must be of type number. Received type ${typeof actual}`\n  }, TypeError)\nE('ERR_OUT_OF_RANGE',\n  function (str, range, input) {\n    let msg = `The value of \"${str}\" is out of range.`\n    let received = input\n    if (Number.isInteger(input) && Math.abs(input) > 2 ** 32) {\n      received = addNumericalSeparator(String(input))\n    } else if (typeof input === 'bigint') {\n      received = String(input)\n      if (input > BigInt(2) ** BigInt(32) || input < -(BigInt(2) ** BigInt(32))) {\n        received = addNumericalSeparator(received)\n      }\n      received += 'n'\n    }\n    msg += ` It must be ${range}. Received ${received}`\n    return msg\n  }, RangeError)\n\nfunction addNumericalSeparator (val) {\n  let res = ''\n  let i = val.length\n  const start = val[0] === '-' ? 1 : 0\n  for (; i >= start + 4; i -= 3) {\n    res = `_${val.slice(i - 3, i)}${res}`\n  }\n  return `${val.slice(0, i)}${res}`\n}\n\n// CHECK FUNCTIONS\n// ===============\n\nfunction checkBounds (buf, offset, byteLength) {\n  validateNumber(offset, 'offset')\n  if (buf[offset] === undefined || buf[offset + byteLength] === undefined) {\n    boundsError(offset, buf.length - (byteLength + 1))\n  }\n}\n\nfunction checkIntBI (value, min, max, buf, offset, byteLength) {\n  if (value > max || value < min) {\n    const n = typeof min === 'bigint' ? 'n' : ''\n    let range\n    if (byteLength > 3) {\n      if (min === 0 || min === BigInt(0)) {\n        range = `>= 0${n} and < 2${n} ** ${(byteLength + 1) * 8}${n}`\n      } else {\n        range = `>= -(2${n} ** ${(byteLength + 1) * 8 - 1}${n}) and < 2 ** ` +\n                `${(byteLength + 1) * 8 - 1}${n}`\n      }\n    } else {\n      range = `>= ${min}${n} and <= ${max}${n}`\n    }\n    throw new errors.ERR_OUT_OF_RANGE('value', range, value)\n  }\n  checkBounds(buf, offset, byteLength)\n}\n\nfunction validateNumber (value, name) {\n  if (typeof value !== 'number') {\n    throw new errors.ERR_INVALID_ARG_TYPE(name, 'number', value)\n  }\n}\n\nfunction boundsError (value, length, type) {\n  if (Math.floor(value) !== value) {\n    validateNumber(value, type)\n    throw new errors.ERR_OUT_OF_RANGE(type || 'offset', 'an integer', value)\n  }\n\n  if (length < 0) {\n    throw new errors.ERR_BUFFER_OUT_OF_BOUNDS()\n  }\n\n  throw new errors.ERR_OUT_OF_RANGE(type || 'offset',\n                                    `>= ${type ? 1 : 0} and <= ${length}`,\n                                    value)\n}\n\n// HELPER FUNCTIONS\n// ================\n\nconst INVALID_BASE64_RE = /[^+/0-9A-Za-z-_]/g\n\nfunction base64clean (str) {\n  // Node takes equal signs as end of the Base64 encoding\n  str = str.split('=')[0]\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = str.trim().replace(INVALID_BASE64_RE, '')\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity\n  let codePoint\n  const length = string.length\n  let leadSurrogate = null\n  const bytes = []\n\n  for (let i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i)\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        }\n\n        // valid lead\n        leadSurrogate = codePoint\n\n        continue\n      }\n\n      // 2 leads in a row\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n        leadSurrogate = codePoint\n        continue\n      }\n\n      // valid surrogate pair\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n    }\n\n    leadSurrogate = null\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint)\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  const byteArray = []\n  for (let i = 0; i < str.length; ++i) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  let c, hi, lo\n  const byteArray = []\n  for (let i = 0; i < str.length; ++i) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  let i\n  for (i = 0; i < length; ++i) {\n    if ((i + offset >= dst.length) || (i >= src.length)) break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\n// ArrayBuffer or Uint8Array objects from other contexts (i.e. iframes) do not pass\n// the `instanceof` check but they should be treated as of that type.\n// See: https://github.com/feross/buffer/issues/166\nfunction isInstance (obj, type) {\n  return obj instanceof type ||\n    (obj != null && obj.constructor != null && obj.constructor.name != null &&\n      obj.constructor.name === type.name)\n}\nfunction numberIsNaN (obj) {\n  // For IE11 support\n  return obj !== obj // eslint-disable-line no-self-compare\n}\n\n// Create lookup table for `toString('hex')`\n// See: https://github.com/feross/buffer/issues/219\nconst hexSliceLookupTable = (function () {\n  const alphabet = '0123456789abcdef'\n  const table = new Array(256)\n  for (let i = 0; i < 16; ++i) {\n    const i16 = i * 16\n    for (let j = 0; j < 16; ++j) {\n      table[i16 + j] = alphabet[i] + alphabet[j]\n    }\n  }\n  return table\n})()\n\n// Return not function with Error if BigInt not supported\nfunction defineBigIntMethod (fn) {\n  return typeof BigInt === 'undefined' ? BufferBigIntNotDefined : fn\n}\n\nfunction BufferBigIntNotDefined () {\n  throw new Error('BigInt not supported')\n}\n","module.exports = {\n  \"100\": \"Continue\",\n  \"101\": \"Switching Protocols\",\n  \"102\": \"Processing\",\n  \"200\": \"OK\",\n  \"201\": \"Created\",\n  \"202\": \"Accepted\",\n  \"203\": \"Non-Authoritative Information\",\n  \"204\": \"No Content\",\n  \"205\": \"Reset Content\",\n  \"206\": \"Partial Content\",\n  \"207\": \"Multi-Status\",\n  \"208\": \"Already Reported\",\n  \"226\": \"IM Used\",\n  \"300\": \"Multiple Choices\",\n  \"301\": \"Moved Permanently\",\n  \"302\": \"Found\",\n  \"303\": \"See Other\",\n  \"304\": \"Not Modified\",\n  \"305\": \"Use Proxy\",\n  \"307\": \"Temporary Redirect\",\n  \"308\": \"Permanent Redirect\",\n  \"400\": \"Bad Request\",\n  \"401\": \"Unauthorized\",\n  \"402\": \"Payment Required\",\n  \"403\": \"Forbidden\",\n  \"404\": \"Not Found\",\n  \"405\": \"Method Not Allowed\",\n  \"406\": \"Not Acceptable\",\n  \"407\": \"Proxy Authentication Required\",\n  \"408\": \"Request Timeout\",\n  \"409\": \"Conflict\",\n  \"410\": \"Gone\",\n  \"411\": \"Length Required\",\n  \"412\": \"Precondition Failed\",\n  \"413\": \"Payload Too Large\",\n  \"414\": \"URI Too Long\",\n  \"415\": \"Unsupported Media Type\",\n  \"416\": \"Range Not Satisfiable\",\n  \"417\": \"Expectation Failed\",\n  \"418\": \"I'm a teapot\",\n  \"421\": \"Misdirected Request\",\n  \"422\": \"Unprocessable Entity\",\n  \"423\": \"Locked\",\n  \"424\": \"Failed Dependency\",\n  \"425\": \"Unordered Collection\",\n  \"426\": \"Upgrade Required\",\n  \"428\": \"Precondition Required\",\n  \"429\": \"Too Many Requests\",\n  \"431\": \"Request Header Fields Too Large\",\n  \"451\": \"Unavailable For Legal Reasons\",\n  \"500\": \"Internal Server Error\",\n  \"501\": \"Not Implemented\",\n  \"502\": \"Bad Gateway\",\n  \"503\": \"Service Unavailable\",\n  \"504\": \"Gateway Timeout\",\n  \"505\": \"HTTP Version Not Supported\",\n  \"506\": \"Variant Also Negotiates\",\n  \"507\": \"Insufficient Storage\",\n  \"508\": \"Loop Detected\",\n  \"509\": \"Bandwidth Limit Exceeded\",\n  \"510\": \"Not Extended\",\n  \"511\": \"Network Authentication Required\"\n}\n","'use strict';\n\nvar GetIntrinsic = require('get-intrinsic');\n\nvar callBind = require('./');\n\nvar $indexOf = callBind(GetIntrinsic('String.prototype.indexOf'));\n\nmodule.exports = function callBoundIntrinsic(name, allowMissing) {\n\tvar intrinsic = GetIntrinsic(name, !!allowMissing);\n\tif (typeof intrinsic === 'function' && $indexOf(name, '.prototype.') > -1) {\n\t\treturn callBind(intrinsic);\n\t}\n\treturn intrinsic;\n};\n","'use strict';\n\nvar bind = require('function-bind');\nvar GetIntrinsic = require('get-intrinsic');\n\nvar $apply = GetIntrinsic('%Function.prototype.apply%');\nvar $call = GetIntrinsic('%Function.prototype.call%');\nvar $reflectApply = GetIntrinsic('%Reflect.apply%', true) || bind.call($call, $apply);\n\nvar $gOPD = GetIntrinsic('%Object.getOwnPropertyDescriptor%', true);\nvar $defineProperty = GetIntrinsic('%Object.defineProperty%', true);\nvar $max = GetIntrinsic('%Math.max%');\n\nif ($defineProperty) {\n\ttry {\n\t\t$defineProperty({}, 'a', { value: 1 });\n\t} catch (e) {\n\t\t// IE 8 has a broken defineProperty\n\t\t$defineProperty = null;\n\t}\n}\n\nmodule.exports = function callBind(originalFunction) {\n\tvar func = $reflectApply(bind, $call, arguments);\n\tif ($gOPD && $defineProperty) {\n\t\tvar desc = $gOPD(func, 'length');\n\t\tif (desc.configurable) {\n\t\t\t// original length, plus the receiver, minus any additional arguments (after the receiver)\n\t\t\t$defineProperty(\n\t\t\t\tfunc,\n\t\t\t\t'length',\n\t\t\t\t{ value: 1 + $max(0, originalFunction.length - (arguments.length - 1)) }\n\t\t\t);\n\t\t}\n\t}\n\treturn func;\n};\n\nvar applyBind = function applyBind() {\n\treturn $reflectApply(bind, $apply, arguments);\n};\n\nif ($defineProperty) {\n\t$defineProperty(module.exports, 'apply', { value: applyBind });\n} else {\n\tmodule.exports.apply = applyBind;\n}\n","/*global window, global*/\nvar util = require(\"util\")\nvar assert = require(\"assert\")\nfunction now() { return new Date().getTime() }\n\nvar slice = Array.prototype.slice\nvar console\nvar times = {}\n\nif (typeof global !== \"undefined\" && global.console) {\n    console = global.console\n} else if (typeof window !== \"undefined\" && window.console) {\n    console = window.console\n} else {\n    console = {}\n}\n\nvar functions = [\n    [log, \"log\"],\n    [info, \"info\"],\n    [warn, \"warn\"],\n    [error, \"error\"],\n    [time, \"time\"],\n    [timeEnd, \"timeEnd\"],\n    [trace, \"trace\"],\n    [dir, \"dir\"],\n    [consoleAssert, \"assert\"]\n]\n\nfor (var i = 0; i < functions.length; i++) {\n    var tuple = functions[i]\n    var f = tuple[0]\n    var name = tuple[1]\n\n    if (!console[name]) {\n        console[name] = f\n    }\n}\n\nmodule.exports = console\n\nfunction log() {}\n\nfunction info() {\n    console.log.apply(console, arguments)\n}\n\nfunction warn() {\n    console.log.apply(console, arguments)\n}\n\nfunction error() {\n    console.warn.apply(console, arguments)\n}\n\nfunction time(label) {\n    times[label] = now()\n}\n\nfunction timeEnd(label) {\n    var time = times[label]\n    if (!time) {\n        throw new Error(\"No such label: \" + label)\n    }\n\n    delete times[label]\n    var duration = now() - time\n    console.log(label + \": \" + duration + \"ms\")\n}\n\nfunction trace() {\n    var err = new Error()\n    err.name = \"Trace\"\n    err.message = util.format.apply(null, arguments)\n    console.error(err.stack)\n}\n\nfunction dir(object) {\n    console.log(util.inspect(object) + \"\\n\")\n}\n\nfunction consoleAssert(expression) {\n    if (!expression) {\n        var arr = slice.call(arguments, 1)\n        assert.ok(false, util.format.apply(null, arr))\n    }\n}\n","'use strict';\n\nvar keys = require('object-keys');\nvar hasSymbols = typeof Symbol === 'function' && typeof Symbol('foo') === 'symbol';\n\nvar toStr = Object.prototype.toString;\nvar concat = Array.prototype.concat;\nvar origDefineProperty = Object.defineProperty;\n\nvar isFunction = function (fn) {\n\treturn typeof fn === 'function' && toStr.call(fn) === '[object Function]';\n};\n\nvar hasPropertyDescriptors = require('has-property-descriptors')();\n\nvar supportsDescriptors = origDefineProperty && hasPropertyDescriptors;\n\nvar defineProperty = function (object, name, value, predicate) {\n\tif (name in object && (!isFunction(predicate) || !predicate())) {\n\t\treturn;\n\t}\n\tif (supportsDescriptors) {\n\t\torigDefineProperty(object, name, {\n\t\t\tconfigurable: true,\n\t\t\tenumerable: false,\n\t\t\tvalue: value,\n\t\t\twritable: true\n\t\t});\n\t} else {\n\t\tobject[name] = value; // eslint-disable-line no-param-reassign\n\t}\n};\n\nvar defineProperties = function (object, map) {\n\tvar predicates = arguments.length > 2 ? arguments[2] : {};\n\tvar props = keys(map);\n\tif (hasSymbols) {\n\t\tprops = concat.call(props, Object.getOwnPropertySymbols(map));\n\t}\n\tfor (var i = 0; i < props.length; i += 1) {\n\t\tdefineProperty(object, props[i], map[props[i]], predicates[props[i]]);\n\t}\n};\n\ndefineProperties.supportsDescriptors = !!supportsDescriptors;\n\nmodule.exports = defineProperties;\n","/**\n * Code refactored from Mozilla Developer Network:\n * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/assign\n */\n\n'use strict';\n\nfunction assign(target, firstSource) {\n  if (target === undefined || target === null) {\n    throw new TypeError('Cannot convert first argument to object');\n  }\n\n  var to = Object(target);\n  for (var i = 1; i < arguments.length; i++) {\n    var nextSource = arguments[i];\n    if (nextSource === undefined || nextSource === null) {\n      continue;\n    }\n\n    var keysArray = Object.keys(Object(nextSource));\n    for (var nextIndex = 0, len = keysArray.length; nextIndex < len; nextIndex++) {\n      var nextKey = keysArray[nextIndex];\n      var desc = Object.getOwnPropertyDescriptor(nextSource, nextKey);\n      if (desc !== undefined && desc.enumerable) {\n        to[nextKey] = nextSource[nextKey];\n      }\n    }\n  }\n  return to;\n}\n\nfunction polyfill() {\n  if (!Object.assign) {\n    Object.defineProperty(Object, 'assign', {\n      enumerable: false,\n      configurable: true,\n      writable: true,\n      value: assign\n    });\n  }\n}\n\nmodule.exports = {\n  assign: assign,\n  polyfill: polyfill\n};\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar R = typeof Reflect === 'object' ? Reflect : null\nvar ReflectApply = R && typeof R.apply === 'function'\n  ? R.apply\n  : function ReflectApply(target, receiver, args) {\n    return Function.prototype.apply.call(target, receiver, args);\n  }\n\nvar ReflectOwnKeys\nif (R && typeof R.ownKeys === 'function') {\n  ReflectOwnKeys = R.ownKeys\n} else if (Object.getOwnPropertySymbols) {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target)\n      .concat(Object.getOwnPropertySymbols(target));\n  };\n} else {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target);\n  };\n}\n\nfunction ProcessEmitWarning(warning) {\n  if (console && console.warn) console.warn(warning);\n}\n\nvar NumberIsNaN = Number.isNaN || function NumberIsNaN(value) {\n  return value !== value;\n}\n\nfunction EventEmitter() {\n  EventEmitter.init.call(this);\n}\nmodule.exports = EventEmitter;\nmodule.exports.once = once;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._eventsCount = 0;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nvar defaultMaxListeners = 10;\n\nfunction checkListener(listener) {\n  if (typeof listener !== 'function') {\n    throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n  }\n}\n\nObject.defineProperty(EventEmitter, 'defaultMaxListeners', {\n  enumerable: true,\n  get: function() {\n    return defaultMaxListeners;\n  },\n  set: function(arg) {\n    if (typeof arg !== 'number' || arg < 0 || NumberIsNaN(arg)) {\n      throw new RangeError('The value of \"defaultMaxListeners\" is out of range. It must be a non-negative number. Received ' + arg + '.');\n    }\n    defaultMaxListeners = arg;\n  }\n});\n\nEventEmitter.init = function() {\n\n  if (this._events === undefined ||\n      this._events === Object.getPrototypeOf(this)._events) {\n    this._events = Object.create(null);\n    this._eventsCount = 0;\n  }\n\n  this._maxListeners = this._maxListeners || undefined;\n};\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function setMaxListeners(n) {\n  if (typeof n !== 'number' || n < 0 || NumberIsNaN(n)) {\n    throw new RangeError('The value of \"n\" is out of range. It must be a non-negative number. Received ' + n + '.');\n  }\n  this._maxListeners = n;\n  return this;\n};\n\nfunction _getMaxListeners(that) {\n  if (that._maxListeners === undefined)\n    return EventEmitter.defaultMaxListeners;\n  return that._maxListeners;\n}\n\nEventEmitter.prototype.getMaxListeners = function getMaxListeners() {\n  return _getMaxListeners(this);\n};\n\nEventEmitter.prototype.emit = function emit(type) {\n  var args = [];\n  for (var i = 1; i < arguments.length; i++) args.push(arguments[i]);\n  var doError = (type === 'error');\n\n  var events = this._events;\n  if (events !== undefined)\n    doError = (doError && events.error === undefined);\n  else if (!doError)\n    return false;\n\n  // If there is no 'error' event listener then throw.\n  if (doError) {\n    var er;\n    if (args.length > 0)\n      er = args[0];\n    if (er instanceof Error) {\n      // Note: The comments on the `throw` lines are intentional, they show\n      // up in Node's output if this results in an unhandled exception.\n      throw er; // Unhandled 'error' event\n    }\n    // At least give some kind of context to the user\n    var err = new Error('Unhandled error.' + (er ? ' (' + er.message + ')' : ''));\n    err.context = er;\n    throw err; // Unhandled 'error' event\n  }\n\n  var handler = events[type];\n\n  if (handler === undefined)\n    return false;\n\n  if (typeof handler === 'function') {\n    ReflectApply(handler, this, args);\n  } else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      ReflectApply(listeners[i], this, args);\n  }\n\n  return true;\n};\n\nfunction _addListener(target, type, listener, prepend) {\n  var m;\n  var events;\n  var existing;\n\n  checkListener(listener);\n\n  events = target._events;\n  if (events === undefined) {\n    events = target._events = Object.create(null);\n    target._eventsCount = 0;\n  } else {\n    // To avoid recursion in the case that type === \"newListener\"! Before\n    // adding it to the listeners, first emit \"newListener\".\n    if (events.newListener !== undefined) {\n      target.emit('newListener', type,\n                  listener.listener ? listener.listener : listener);\n\n      // Re-assign `events` because a newListener handler could have caused the\n      // this._events to be assigned to a new object\n      events = target._events;\n    }\n    existing = events[type];\n  }\n\n  if (existing === undefined) {\n    // Optimize the case of one listener. Don't need the extra array object.\n    existing = events[type] = listener;\n    ++target._eventsCount;\n  } else {\n    if (typeof existing === 'function') {\n      // Adding the second element, need to change to array.\n      existing = events[type] =\n        prepend ? [listener, existing] : [existing, listener];\n      // If we've already got an array, just append.\n    } else if (prepend) {\n      existing.unshift(listener);\n    } else {\n      existing.push(listener);\n    }\n\n    // Check for listener leak\n    m = _getMaxListeners(target);\n    if (m > 0 && existing.length > m && !existing.warned) {\n      existing.warned = true;\n      // No error code for this since it is a Warning\n      // eslint-disable-next-line no-restricted-syntax\n      var w = new Error('Possible EventEmitter memory leak detected. ' +\n                          existing.length + ' ' + String(type) + ' listeners ' +\n                          'added. Use emitter.setMaxListeners() to ' +\n                          'increase limit');\n      w.name = 'MaxListenersExceededWarning';\n      w.emitter = target;\n      w.type = type;\n      w.count = existing.length;\n      ProcessEmitWarning(w);\n    }\n  }\n\n  return target;\n}\n\nEventEmitter.prototype.addListener = function addListener(type, listener) {\n  return _addListener(this, type, listener, false);\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.prependListener =\n    function prependListener(type, listener) {\n      return _addListener(this, type, listener, true);\n    };\n\nfunction onceWrapper() {\n  if (!this.fired) {\n    this.target.removeListener(this.type, this.wrapFn);\n    this.fired = true;\n    if (arguments.length === 0)\n      return this.listener.call(this.target);\n    return this.listener.apply(this.target, arguments);\n  }\n}\n\nfunction _onceWrap(target, type, listener) {\n  var state = { fired: false, wrapFn: undefined, target: target, type: type, listener: listener };\n  var wrapped = onceWrapper.bind(state);\n  wrapped.listener = listener;\n  state.wrapFn = wrapped;\n  return wrapped;\n}\n\nEventEmitter.prototype.once = function once(type, listener) {\n  checkListener(listener);\n  this.on(type, _onceWrap(this, type, listener));\n  return this;\n};\n\nEventEmitter.prototype.prependOnceListener =\n    function prependOnceListener(type, listener) {\n      checkListener(listener);\n      this.prependListener(type, _onceWrap(this, type, listener));\n      return this;\n    };\n\n// Emits a 'removeListener' event if and only if the listener was removed.\nEventEmitter.prototype.removeListener =\n    function removeListener(type, listener) {\n      var list, events, position, i, originalListener;\n\n      checkListener(listener);\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      list = events[type];\n      if (list === undefined)\n        return this;\n\n      if (list === listener || list.listener === listener) {\n        if (--this._eventsCount === 0)\n          this._events = Object.create(null);\n        else {\n          delete events[type];\n          if (events.removeListener)\n            this.emit('removeListener', type, list.listener || listener);\n        }\n      } else if (typeof list !== 'function') {\n        position = -1;\n\n        for (i = list.length - 1; i >= 0; i--) {\n          if (list[i] === listener || list[i].listener === listener) {\n            originalListener = list[i].listener;\n            position = i;\n            break;\n          }\n        }\n\n        if (position < 0)\n          return this;\n\n        if (position === 0)\n          list.shift();\n        else {\n          spliceOne(list, position);\n        }\n\n        if (list.length === 1)\n          events[type] = list[0];\n\n        if (events.removeListener !== undefined)\n          this.emit('removeListener', type, originalListener || listener);\n      }\n\n      return this;\n    };\n\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\n\nEventEmitter.prototype.removeAllListeners =\n    function removeAllListeners(type) {\n      var listeners, events, i;\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      // not listening for removeListener, no need to emit\n      if (events.removeListener === undefined) {\n        if (arguments.length === 0) {\n          this._events = Object.create(null);\n          this._eventsCount = 0;\n        } else if (events[type] !== undefined) {\n          if (--this._eventsCount === 0)\n            this._events = Object.create(null);\n          else\n            delete events[type];\n        }\n        return this;\n      }\n\n      // emit removeListener for all listeners on all events\n      if (arguments.length === 0) {\n        var keys = Object.keys(events);\n        var key;\n        for (i = 0; i < keys.length; ++i) {\n          key = keys[i];\n          if (key === 'removeListener') continue;\n          this.removeAllListeners(key);\n        }\n        this.removeAllListeners('removeListener');\n        this._events = Object.create(null);\n        this._eventsCount = 0;\n        return this;\n      }\n\n      listeners = events[type];\n\n      if (typeof listeners === 'function') {\n        this.removeListener(type, listeners);\n      } else if (listeners !== undefined) {\n        // LIFO order\n        for (i = listeners.length - 1; i >= 0; i--) {\n          this.removeListener(type, listeners[i]);\n        }\n      }\n\n      return this;\n    };\n\nfunction _listeners(target, type, unwrap) {\n  var events = target._events;\n\n  if (events === undefined)\n    return [];\n\n  var evlistener = events[type];\n  if (evlistener === undefined)\n    return [];\n\n  if (typeof evlistener === 'function')\n    return unwrap ? [evlistener.listener || evlistener] : [evlistener];\n\n  return unwrap ?\n    unwrapListeners(evlistener) : arrayClone(evlistener, evlistener.length);\n}\n\nEventEmitter.prototype.listeners = function listeners(type) {\n  return _listeners(this, type, true);\n};\n\nEventEmitter.prototype.rawListeners = function rawListeners(type) {\n  return _listeners(this, type, false);\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  if (typeof emitter.listenerCount === 'function') {\n    return emitter.listenerCount(type);\n  } else {\n    return listenerCount.call(emitter, type);\n  }\n};\n\nEventEmitter.prototype.listenerCount = listenerCount;\nfunction listenerCount(type) {\n  var events = this._events;\n\n  if (events !== undefined) {\n    var evlistener = events[type];\n\n    if (typeof evlistener === 'function') {\n      return 1;\n    } else if (evlistener !== undefined) {\n      return evlistener.length;\n    }\n  }\n\n  return 0;\n}\n\nEventEmitter.prototype.eventNames = function eventNames() {\n  return this._eventsCount > 0 ? ReflectOwnKeys(this._events) : [];\n};\n\nfunction arrayClone(arr, n) {\n  var copy = new Array(n);\n  for (var i = 0; i < n; ++i)\n    copy[i] = arr[i];\n  return copy;\n}\n\nfunction spliceOne(list, index) {\n  for (; index + 1 < list.length; index++)\n    list[index] = list[index + 1];\n  list.pop();\n}\n\nfunction unwrapListeners(arr) {\n  var ret = new Array(arr.length);\n  for (var i = 0; i < ret.length; ++i) {\n    ret[i] = arr[i].listener || arr[i];\n  }\n  return ret;\n}\n\nfunction once(emitter, name) {\n  return new Promise(function (resolve, reject) {\n    function errorListener(err) {\n      emitter.removeListener(name, resolver);\n      reject(err);\n    }\n\n    function resolver() {\n      if (typeof emitter.removeListener === 'function') {\n        emitter.removeListener('error', errorListener);\n      }\n      resolve([].slice.call(arguments));\n    };\n\n    eventTargetAgnosticAddListener(emitter, name, resolver, { once: true });\n    if (name !== 'error') {\n      addErrorHandlerIfEventEmitter(emitter, errorListener, { once: true });\n    }\n  });\n}\n\nfunction addErrorHandlerIfEventEmitter(emitter, handler, flags) {\n  if (typeof emitter.on === 'function') {\n    eventTargetAgnosticAddListener(emitter, 'error', handler, flags);\n  }\n}\n\nfunction eventTargetAgnosticAddListener(emitter, name, listener, flags) {\n  if (typeof emitter.on === 'function') {\n    if (flags.once) {\n      emitter.once(name, listener);\n    } else {\n      emitter.on(name, listener);\n    }\n  } else if (typeof emitter.addEventListener === 'function') {\n    // EventTarget does not have `error` event semantics like Node\n    // EventEmitters, we do not listen for `error` events here.\n    emitter.addEventListener(name, function wrapListener(arg) {\n      // IE does not have builtin `{ once: true }` support so we\n      // have to do it manually.\n      if (flags.once) {\n        emitter.removeEventListener(name, wrapListener);\n      }\n      listener(arg);\n    });\n  } else {\n    throw new TypeError('The \"emitter\" argument must be of type EventEmitter. Received type ' + typeof emitter);\n  }\n}\n","'use strict';\n\nvar isCallable = require('is-callable');\n\nvar toStr = Object.prototype.toString;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\n\nvar forEachArray = function forEachArray(array, iterator, receiver) {\n    for (var i = 0, len = array.length; i < len; i++) {\n        if (hasOwnProperty.call(array, i)) {\n            if (receiver == null) {\n                iterator(array[i], i, array);\n            } else {\n                iterator.call(receiver, array[i], i, array);\n            }\n        }\n    }\n};\n\nvar forEachString = function forEachString(string, iterator, receiver) {\n    for (var i = 0, len = string.length; i < len; i++) {\n        // no such thing as a sparse string.\n        if (receiver == null) {\n            iterator(string.charAt(i), i, string);\n        } else {\n            iterator.call(receiver, string.charAt(i), i, string);\n        }\n    }\n};\n\nvar forEachObject = function forEachObject(object, iterator, receiver) {\n    for (var k in object) {\n        if (hasOwnProperty.call(object, k)) {\n            if (receiver == null) {\n                iterator(object[k], k, object);\n            } else {\n                iterator.call(receiver, object[k], k, object);\n            }\n        }\n    }\n};\n\nvar forEach = function forEach(list, iterator, thisArg) {\n    if (!isCallable(iterator)) {\n        throw new TypeError('iterator must be a function');\n    }\n\n    var receiver;\n    if (arguments.length >= 3) {\n        receiver = thisArg;\n    }\n\n    if (toStr.call(list) === '[object Array]') {\n        forEachArray(list, iterator, receiver);\n    } else if (typeof list === 'string') {\n        forEachString(list, iterator, receiver);\n    } else {\n        forEachObject(list, iterator, receiver);\n    }\n};\n\nmodule.exports = forEach;\n","'use strict';\n\n/* eslint no-invalid-this: 1 */\n\nvar ERROR_MESSAGE = 'Function.prototype.bind called on incompatible ';\nvar slice = Array.prototype.slice;\nvar toStr = Object.prototype.toString;\nvar funcType = '[object Function]';\n\nmodule.exports = function bind(that) {\n    var target = this;\n    if (typeof target !== 'function' || toStr.call(target) !== funcType) {\n        throw new TypeError(ERROR_MESSAGE + target);\n    }\n    var args = slice.call(arguments, 1);\n\n    var bound;\n    var binder = function () {\n        if (this instanceof bound) {\n            var result = target.apply(\n                this,\n                args.concat(slice.call(arguments))\n            );\n            if (Object(result) === result) {\n                return result;\n            }\n            return this;\n        } else {\n            return target.apply(\n                that,\n                args.concat(slice.call(arguments))\n            );\n        }\n    };\n\n    var boundLength = Math.max(0, target.length - args.length);\n    var boundArgs = [];\n    for (var i = 0; i < boundLength; i++) {\n        boundArgs.push('$' + i);\n    }\n\n    bound = Function('binder', 'return function (' + boundArgs.join(',') + '){ return binder.apply(this,arguments); }')(binder);\n\n    if (target.prototype) {\n        var Empty = function Empty() {};\n        Empty.prototype = target.prototype;\n        bound.prototype = new Empty();\n        Empty.prototype = null;\n    }\n\n    return bound;\n};\n","'use strict';\n\nvar implementation = require('./implementation');\n\nmodule.exports = Function.prototype.bind || implementation;\n","'use strict';\n\nvar undefined;\n\nvar $SyntaxError = SyntaxError;\nvar $Function = Function;\nvar $TypeError = TypeError;\n\n// eslint-disable-next-line consistent-return\nvar getEvalledConstructor = function (expressionSyntax) {\n\ttry {\n\t\treturn $Function('\"use strict\"; return (' + expressionSyntax + ').constructor;')();\n\t} catch (e) {}\n};\n\nvar $gOPD = Object.getOwnPropertyDescriptor;\nif ($gOPD) {\n\ttry {\n\t\t$gOPD({}, '');\n\t} catch (e) {\n\t\t$gOPD = null; // this is IE 8, which has a broken gOPD\n\t}\n}\n\nvar throwTypeError = function () {\n\tthrow new $TypeError();\n};\nvar ThrowTypeError = $gOPD\n\t? (function () {\n\t\ttry {\n\t\t\t// eslint-disable-next-line no-unused-expressions, no-caller, no-restricted-properties\n\t\t\targuments.callee; // IE 8 does not throw here\n\t\t\treturn throwTypeError;\n\t\t} catch (calleeThrows) {\n\t\t\ttry {\n\t\t\t\t// IE 8 throws on Object.getOwnPropertyDescriptor(arguments, '')\n\t\t\t\treturn $gOPD(arguments, 'callee').get;\n\t\t\t} catch (gOPDthrows) {\n\t\t\t\treturn throwTypeError;\n\t\t\t}\n\t\t}\n\t}())\n\t: throwTypeError;\n\nvar hasSymbols = require('has-symbols')();\n\nvar getProto = Object.getPrototypeOf || function (x) { return x.__proto__; }; // eslint-disable-line no-proto\n\nvar needsEval = {};\n\nvar TypedArray = typeof Uint8Array === 'undefined' ? undefined : getProto(Uint8Array);\n\nvar INTRINSICS = {\n\t'%AggregateError%': typeof AggregateError === 'undefined' ? undefined : AggregateError,\n\t'%Array%': Array,\n\t'%ArrayBuffer%': typeof ArrayBuffer === 'undefined' ? undefined : ArrayBuffer,\n\t'%ArrayIteratorPrototype%': hasSymbols ? getProto([][Symbol.iterator]()) : undefined,\n\t'%AsyncFromSyncIteratorPrototype%': undefined,\n\t'%AsyncFunction%': needsEval,\n\t'%AsyncGenerator%': needsEval,\n\t'%AsyncGeneratorFunction%': needsEval,\n\t'%AsyncIteratorPrototype%': needsEval,\n\t'%Atomics%': typeof Atomics === 'undefined' ? undefined : Atomics,\n\t'%BigInt%': typeof BigInt === 'undefined' ? undefined : BigInt,\n\t'%Boolean%': Boolean,\n\t'%DataView%': typeof DataView === 'undefined' ? undefined : DataView,\n\t'%Date%': Date,\n\t'%decodeURI%': decodeURI,\n\t'%decodeURIComponent%': decodeURIComponent,\n\t'%encodeURI%': encodeURI,\n\t'%encodeURIComponent%': encodeURIComponent,\n\t'%Error%': Error,\n\t'%eval%': eval, // eslint-disable-line no-eval\n\t'%EvalError%': EvalError,\n\t'%Float32Array%': typeof Float32Array === 'undefined' ? undefined : Float32Array,\n\t'%Float64Array%': typeof Float64Array === 'undefined' ? undefined : Float64Array,\n\t'%FinalizationRegistry%': typeof FinalizationRegistry === 'undefined' ? undefined : FinalizationRegistry,\n\t'%Function%': $Function,\n\t'%GeneratorFunction%': needsEval,\n\t'%Int8Array%': typeof Int8Array === 'undefined' ? undefined : Int8Array,\n\t'%Int16Array%': typeof Int16Array === 'undefined' ? undefined : Int16Array,\n\t'%Int32Array%': typeof Int32Array === 'undefined' ? undefined : Int32Array,\n\t'%isFinite%': isFinite,\n\t'%isNaN%': isNaN,\n\t'%IteratorPrototype%': hasSymbols ? getProto(getProto([][Symbol.iterator]())) : undefined,\n\t'%JSON%': typeof JSON === 'object' ? JSON : undefined,\n\t'%Map%': typeof Map === 'undefined' ? undefined : Map,\n\t'%MapIteratorPrototype%': typeof Map === 'undefined' || !hasSymbols ? undefined : getProto(new Map()[Symbol.iterator]()),\n\t'%Math%': Math,\n\t'%Number%': Number,\n\t'%Object%': Object,\n\t'%parseFloat%': parseFloat,\n\t'%parseInt%': parseInt,\n\t'%Promise%': typeof Promise === 'undefined' ? undefined : Promise,\n\t'%Proxy%': typeof Proxy === 'undefined' ? undefined : Proxy,\n\t'%RangeError%': RangeError,\n\t'%ReferenceError%': ReferenceError,\n\t'%Reflect%': typeof Reflect === 'undefined' ? undefined : Reflect,\n\t'%RegExp%': RegExp,\n\t'%Set%': typeof Set === 'undefined' ? undefined : Set,\n\t'%SetIteratorPrototype%': typeof Set === 'undefined' || !hasSymbols ? undefined : getProto(new Set()[Symbol.iterator]()),\n\t'%SharedArrayBuffer%': typeof SharedArrayBuffer === 'undefined' ? undefined : SharedArrayBuffer,\n\t'%String%': String,\n\t'%StringIteratorPrototype%': hasSymbols ? getProto(''[Symbol.iterator]()) : undefined,\n\t'%Symbol%': hasSymbols ? Symbol : undefined,\n\t'%SyntaxError%': $SyntaxError,\n\t'%ThrowTypeError%': ThrowTypeError,\n\t'%TypedArray%': TypedArray,\n\t'%TypeError%': $TypeError,\n\t'%Uint8Array%': typeof Uint8Array === 'undefined' ? undefined : Uint8Array,\n\t'%Uint8ClampedArray%': typeof Uint8ClampedArray === 'undefined' ? undefined : Uint8ClampedArray,\n\t'%Uint16Array%': typeof Uint16Array === 'undefined' ? undefined : Uint16Array,\n\t'%Uint32Array%': typeof Uint32Array === 'undefined' ? undefined : Uint32Array,\n\t'%URIError%': URIError,\n\t'%WeakMap%': typeof WeakMap === 'undefined' ? undefined : WeakMap,\n\t'%WeakRef%': typeof WeakRef === 'undefined' ? undefined : WeakRef,\n\t'%WeakSet%': typeof WeakSet === 'undefined' ? undefined : WeakSet\n};\n\nvar doEval = function doEval(name) {\n\tvar value;\n\tif (name === '%AsyncFunction%') {\n\t\tvalue = getEvalledConstructor('async function () {}');\n\t} else if (name === '%GeneratorFunction%') {\n\t\tvalue = getEvalledConstructor('function* () {}');\n\t} else if (name === '%AsyncGeneratorFunction%') {\n\t\tvalue = getEvalledConstructor('async function* () {}');\n\t} else if (name === '%AsyncGenerator%') {\n\t\tvar fn = doEval('%AsyncGeneratorFunction%');\n\t\tif (fn) {\n\t\t\tvalue = fn.prototype;\n\t\t}\n\t} else if (name === '%AsyncIteratorPrototype%') {\n\t\tvar gen = doEval('%AsyncGenerator%');\n\t\tif (gen) {\n\t\t\tvalue = getProto(gen.prototype);\n\t\t}\n\t}\n\n\tINTRINSICS[name] = value;\n\n\treturn value;\n};\n\nvar LEGACY_ALIASES = {\n\t'%ArrayBufferPrototype%': ['ArrayBuffer', 'prototype'],\n\t'%ArrayPrototype%': ['Array', 'prototype'],\n\t'%ArrayProto_entries%': ['Array', 'prototype', 'entries'],\n\t'%ArrayProto_forEach%': ['Array', 'prototype', 'forEach'],\n\t'%ArrayProto_keys%': ['Array', 'prototype', 'keys'],\n\t'%ArrayProto_values%': ['Array', 'prototype', 'values'],\n\t'%AsyncFunctionPrototype%': ['AsyncFunction', 'prototype'],\n\t'%AsyncGenerator%': ['AsyncGeneratorFunction', 'prototype'],\n\t'%AsyncGeneratorPrototype%': ['AsyncGeneratorFunction', 'prototype', 'prototype'],\n\t'%BooleanPrototype%': ['Boolean', 'prototype'],\n\t'%DataViewPrototype%': ['DataView', 'prototype'],\n\t'%DatePrototype%': ['Date', 'prototype'],\n\t'%ErrorPrototype%': ['Error', 'prototype'],\n\t'%EvalErrorPrototype%': ['EvalError', 'prototype'],\n\t'%Float32ArrayPrototype%': ['Float32Array', 'prototype'],\n\t'%Float64ArrayPrototype%': ['Float64Array', 'prototype'],\n\t'%FunctionPrototype%': ['Function', 'prototype'],\n\t'%Generator%': ['GeneratorFunction', 'prototype'],\n\t'%GeneratorPrototype%': ['GeneratorFunction', 'prototype', 'prototype'],\n\t'%Int8ArrayPrototype%': ['Int8Array', 'prototype'],\n\t'%Int16ArrayPrototype%': ['Int16Array', 'prototype'],\n\t'%Int32ArrayPrototype%': ['Int32Array', 'prototype'],\n\t'%JSONParse%': ['JSON', 'parse'],\n\t'%JSONStringify%': ['JSON', 'stringify'],\n\t'%MapPrototype%': ['Map', 'prototype'],\n\t'%NumberPrototype%': ['Number', 'prototype'],\n\t'%ObjectPrototype%': ['Object', 'prototype'],\n\t'%ObjProto_toString%': ['Object', 'prototype', 'toString'],\n\t'%ObjProto_valueOf%': ['Object', 'prototype', 'valueOf'],\n\t'%PromisePrototype%': ['Promise', 'prototype'],\n\t'%PromiseProto_then%': ['Promise', 'prototype', 'then'],\n\t'%Promise_all%': ['Promise', 'all'],\n\t'%Promise_reject%': ['Promise', 'reject'],\n\t'%Promise_resolve%': ['Promise', 'resolve'],\n\t'%RangeErrorPrototype%': ['RangeError', 'prototype'],\n\t'%ReferenceErrorPrototype%': ['ReferenceError', 'prototype'],\n\t'%RegExpPrototype%': ['RegExp', 'prototype'],\n\t'%SetPrototype%': ['Set', 'prototype'],\n\t'%SharedArrayBufferPrototype%': ['SharedArrayBuffer', 'prototype'],\n\t'%StringPrototype%': ['String', 'prototype'],\n\t'%SymbolPrototype%': ['Symbol', 'prototype'],\n\t'%SyntaxErrorPrototype%': ['SyntaxError', 'prototype'],\n\t'%TypedArrayPrototype%': ['TypedArray', 'prototype'],\n\t'%TypeErrorPrototype%': ['TypeError', 'prototype'],\n\t'%Uint8ArrayPrototype%': ['Uint8Array', 'prototype'],\n\t'%Uint8ClampedArrayPrototype%': ['Uint8ClampedArray', 'prototype'],\n\t'%Uint16ArrayPrototype%': ['Uint16Array', 'prototype'],\n\t'%Uint32ArrayPrototype%': ['Uint32Array', 'prototype'],\n\t'%URIErrorPrototype%': ['URIError', 'prototype'],\n\t'%WeakMapPrototype%': ['WeakMap', 'prototype'],\n\t'%WeakSetPrototype%': ['WeakSet', 'prototype']\n};\n\nvar bind = require('function-bind');\nvar hasOwn = require('has');\nvar $concat = bind.call(Function.call, Array.prototype.concat);\nvar $spliceApply = bind.call(Function.apply, Array.prototype.splice);\nvar $replace = bind.call(Function.call, String.prototype.replace);\nvar $strSlice = bind.call(Function.call, String.prototype.slice);\nvar $exec = bind.call(Function.call, RegExp.prototype.exec);\n\n/* adapted from https://github.com/lodash/lodash/blob/4.17.15/dist/lodash.js#L6735-L6744 */\nvar rePropName = /[^%.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|%$))/g;\nvar reEscapeChar = /\\\\(\\\\)?/g; /** Used to match backslashes in property paths. */\nvar stringToPath = function stringToPath(string) {\n\tvar first = $strSlice(string, 0, 1);\n\tvar last = $strSlice(string, -1);\n\tif (first === '%' && last !== '%') {\n\t\tthrow new $SyntaxError('invalid intrinsic syntax, expected closing `%`');\n\t} else if (last === '%' && first !== '%') {\n\t\tthrow new $SyntaxError('invalid intrinsic syntax, expected opening `%`');\n\t}\n\tvar result = [];\n\t$replace(string, rePropName, function (match, number, quote, subString) {\n\t\tresult[result.length] = quote ? $replace(subString, reEscapeChar, '$1') : number || match;\n\t});\n\treturn result;\n};\n/* end adaptation */\n\nvar getBaseIntrinsic = function getBaseIntrinsic(name, allowMissing) {\n\tvar intrinsicName = name;\n\tvar alias;\n\tif (hasOwn(LEGACY_ALIASES, intrinsicName)) {\n\t\talias = LEGACY_ALIASES[intrinsicName];\n\t\tintrinsicName = '%' + alias[0] + '%';\n\t}\n\n\tif (hasOwn(INTRINSICS, intrinsicName)) {\n\t\tvar value = INTRINSICS[intrinsicName];\n\t\tif (value === needsEval) {\n\t\t\tvalue = doEval(intrinsicName);\n\t\t}\n\t\tif (typeof value === 'undefined' && !allowMissing) {\n\t\t\tthrow new $TypeError('intrinsic ' + name + ' exists, but is not available. Please file an issue!');\n\t\t}\n\n\t\treturn {\n\t\t\talias: alias,\n\t\t\tname: intrinsicName,\n\t\t\tvalue: value\n\t\t};\n\t}\n\n\tthrow new $SyntaxError('intrinsic ' + name + ' does not exist!');\n};\n\nmodule.exports = function GetIntrinsic(name, allowMissing) {\n\tif (typeof name !== 'string' || name.length === 0) {\n\t\tthrow new $TypeError('intrinsic name must be a non-empty string');\n\t}\n\tif (arguments.length > 1 && typeof allowMissing !== 'boolean') {\n\t\tthrow new $TypeError('\"allowMissing\" argument must be a boolean');\n\t}\n\n\tif ($exec(/^%?[^%]*%?$/g, name) === null) {\n\t\tthrow new $SyntaxError('`%` may not be present anywhere but at the beginning and end of the intrinsic name');\n\t}\n\tvar parts = stringToPath(name);\n\tvar intrinsicBaseName = parts.length > 0 ? parts[0] : '';\n\n\tvar intrinsic = getBaseIntrinsic('%' + intrinsicBaseName + '%', allowMissing);\n\tvar intrinsicRealName = intrinsic.name;\n\tvar value = intrinsic.value;\n\tvar skipFurtherCaching = false;\n\n\tvar alias = intrinsic.alias;\n\tif (alias) {\n\t\tintrinsicBaseName = alias[0];\n\t\t$spliceApply(parts, $concat([0, 1], alias));\n\t}\n\n\tfor (var i = 1, isOwn = true; i < parts.length; i += 1) {\n\t\tvar part = parts[i];\n\t\tvar first = $strSlice(part, 0, 1);\n\t\tvar last = $strSlice(part, -1);\n\t\tif (\n\t\t\t(\n\t\t\t\t(first === '\"' || first === \"'\" || first === '`')\n\t\t\t\t|| (last === '\"' || last === \"'\" || last === '`')\n\t\t\t)\n\t\t\t&& first !== last\n\t\t) {\n\t\t\tthrow new $SyntaxError('property names with quotes must have matching quotes');\n\t\t}\n\t\tif (part === 'constructor' || !isOwn) {\n\t\t\tskipFurtherCaching = true;\n\t\t}\n\n\t\tintrinsicBaseName += '.' + part;\n\t\tintrinsicRealName = '%' + intrinsicBaseName + '%';\n\n\t\tif (hasOwn(INTRINSICS, intrinsicRealName)) {\n\t\t\tvalue = INTRINSICS[intrinsicRealName];\n\t\t} else if (value != null) {\n\t\t\tif (!(part in value)) {\n\t\t\t\tif (!allowMissing) {\n\t\t\t\t\tthrow new $TypeError('base intrinsic for ' + name + ' exists, but the property is not available.');\n\t\t\t\t}\n\t\t\t\treturn void undefined;\n\t\t\t}\n\t\t\tif ($gOPD && (i + 1) >= parts.length) {\n\t\t\t\tvar desc = $gOPD(value, part);\n\t\t\t\tisOwn = !!desc;\n\n\t\t\t\t// By convention, when a data property is converted to an accessor\n\t\t\t\t// property to emulate a data property that does not suffer from\n\t\t\t\t// the override mistake, that accessor's getter is marked with\n\t\t\t\t// an `originalValue` property. Here, when we detect this, we\n\t\t\t\t// uphold the illusion by pretending to see that original data\n\t\t\t\t// property, i.e., returning the value rather than the getter\n\t\t\t\t// itself.\n\t\t\t\tif (isOwn && 'get' in desc && !('originalValue' in desc.get)) {\n\t\t\t\t\tvalue = desc.get;\n\t\t\t\t} else {\n\t\t\t\t\tvalue = value[part];\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tisOwn = hasOwn(value, part);\n\t\t\t\tvalue = value[part];\n\t\t\t}\n\n\t\t\tif (isOwn && !skipFurtherCaching) {\n\t\t\t\tINTRINSICS[intrinsicRealName] = value;\n\t\t\t}\n\t\t}\n\t}\n\treturn value;\n};\n","'use strict';\n\nvar GetIntrinsic = require('get-intrinsic');\n\nvar $defineProperty = GetIntrinsic('%Object.defineProperty%', true);\n\nvar hasPropertyDescriptors = function hasPropertyDescriptors() {\n\tif ($defineProperty) {\n\t\ttry {\n\t\t\t$defineProperty({}, 'a', { value: 1 });\n\t\t\treturn true;\n\t\t} catch (e) {\n\t\t\t// IE 8 has a broken defineProperty\n\t\t\treturn false;\n\t\t}\n\t}\n\treturn false;\n};\n\nhasPropertyDescriptors.hasArrayLengthDefineBug = function hasArrayLengthDefineBug() {\n\t// node v0.6 has a bug where array lengths can be Set but not Defined\n\tif (!hasPropertyDescriptors()) {\n\t\treturn null;\n\t}\n\ttry {\n\t\treturn $defineProperty([], 'length', { value: 1 }).length !== 1;\n\t} catch (e) {\n\t\t// In Firefox 4-22, defining length on an array throws an exception.\n\t\treturn true;\n\t}\n};\n\nmodule.exports = hasPropertyDescriptors;\n","'use strict';\n\nvar origSymbol = typeof Symbol !== 'undefined' && Symbol;\nvar hasSymbolSham = require('./shams');\n\nmodule.exports = function hasNativeSymbols() {\n\tif (typeof origSymbol !== 'function') { return false; }\n\tif (typeof Symbol !== 'function') { return false; }\n\tif (typeof origSymbol('foo') !== 'symbol') { return false; }\n\tif (typeof Symbol('bar') !== 'symbol') { return false; }\n\n\treturn hasSymbolSham();\n};\n","'use strict';\n\n/* eslint complexity: [2, 18], max-statements: [2, 33] */\nmodule.exports = function hasSymbols() {\n\tif (typeof Symbol !== 'function' || typeof Object.getOwnPropertySymbols !== 'function') { return false; }\n\tif (typeof Symbol.iterator === 'symbol') { return true; }\n\n\tvar obj = {};\n\tvar sym = Symbol('test');\n\tvar symObj = Object(sym);\n\tif (typeof sym === 'string') { return false; }\n\n\tif (Object.prototype.toString.call(sym) !== '[object Symbol]') { return false; }\n\tif (Object.prototype.toString.call(symObj) !== '[object Symbol]') { return false; }\n\n\t// temp disabled per https://github.com/ljharb/object.assign/issues/17\n\t// if (sym instanceof Symbol) { return false; }\n\t// temp disabled per https://github.com/WebReflection/get-own-property-symbols/issues/4\n\t// if (!(symObj instanceof Symbol)) { return false; }\n\n\t// if (typeof Symbol.prototype.toString !== 'function') { return false; }\n\t// if (String(sym) !== Symbol.prototype.toString.call(sym)) { return false; }\n\n\tvar symVal = 42;\n\tobj[sym] = symVal;\n\tfor (sym in obj) { return false; } // eslint-disable-line no-restricted-syntax, no-unreachable-loop\n\tif (typeof Object.keys === 'function' && Object.keys(obj).length !== 0) { return false; }\n\n\tif (typeof Object.getOwnPropertyNames === 'function' && Object.getOwnPropertyNames(obj).length !== 0) { return false; }\n\n\tvar syms = Object.getOwnPropertySymbols(obj);\n\tif (syms.length !== 1 || syms[0] !== sym) { return false; }\n\n\tif (!Object.prototype.propertyIsEnumerable.call(obj, sym)) { return false; }\n\n\tif (typeof Object.getOwnPropertyDescriptor === 'function') {\n\t\tvar descriptor = Object.getOwnPropertyDescriptor(obj, sym);\n\t\tif (descriptor.value !== symVal || descriptor.enumerable !== true) { return false; }\n\t}\n\n\treturn true;\n};\n","'use strict';\n\nvar hasSymbols = require('has-symbols/shams');\n\nmodule.exports = function hasToStringTagShams() {\n\treturn hasSymbols() && !!Symbol.toStringTag;\n};\n","'use strict';\n\nvar bind = require('function-bind');\n\nmodule.exports = bind.call(Function.call, Object.prototype.hasOwnProperty);\n","var http = require('http')\nvar url = require('url')\n\nvar https = module.exports\n\nfor (var key in http) {\n  if (http.hasOwnProperty(key)) https[key] = http[key]\n}\n\nhttps.request = function (params, cb) {\n  params = validateParams(params)\n  return http.request.call(this, params, cb)\n}\n\nhttps.get = function (params, cb) {\n  params = validateParams(params)\n  return http.get.call(this, params, cb)\n}\n\nfunction validateParams (params) {\n  if (typeof params === 'string') {\n    params = url.parse(params)\n  }\n  if (!params.protocol) {\n    params.protocol = 'https:'\n  }\n  if (params.protocol !== 'https:') {\n    throw new Error('Protocol \"' + params.protocol + '\" not supported. Expected \"https:\"')\n  }\n  return params\n}\n","/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */\nexports.read = function (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = (e * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = (m * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = ((value * c) - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n","if (typeof Object.create === 'function') {\n  // implementation from standard node.js 'util' module\n  module.exports = function inherits(ctor, superCtor) {\n    if (superCtor) {\n      ctor.super_ = superCtor\n      ctor.prototype = Object.create(superCtor.prototype, {\n        constructor: {\n          value: ctor,\n          enumerable: false,\n          writable: true,\n          configurable: true\n        }\n      })\n    }\n  };\n} else {\n  // old school shim for old browsers\n  module.exports = function inherits(ctor, superCtor) {\n    if (superCtor) {\n      ctor.super_ = superCtor\n      var TempCtor = function () {}\n      TempCtor.prototype = superCtor.prototype\n      ctor.prototype = new TempCtor()\n      ctor.prototype.constructor = ctor\n    }\n  }\n}\n","'use strict';\n\nvar hasToStringTag = require('has-tostringtag/shams')();\nvar callBound = require('call-bind/callBound');\n\nvar $toString = callBound('Object.prototype.toString');\n\nvar isStandardArguments = function isArguments(value) {\n\tif (hasToStringTag && value && typeof value === 'object' && Symbol.toStringTag in value) {\n\t\treturn false;\n\t}\n\treturn $toString(value) === '[object Arguments]';\n};\n\nvar isLegacyArguments = function isArguments(value) {\n\tif (isStandardArguments(value)) {\n\t\treturn true;\n\t}\n\treturn value !== null &&\n\t\ttypeof value === 'object' &&\n\t\ttypeof value.length === 'number' &&\n\t\tvalue.length >= 0 &&\n\t\t$toString(value) !== '[object Array]' &&\n\t\t$toString(value.callee) === '[object Function]';\n};\n\nvar supportsStandardArguments = (function () {\n\treturn isStandardArguments(arguments);\n}());\n\nisStandardArguments.isLegacyArguments = isLegacyArguments; // for tests\n\nmodule.exports = supportsStandardArguments ? isStandardArguments : isLegacyArguments;\n","'use strict';\n\nvar fnToStr = Function.prototype.toString;\nvar reflectApply = typeof Reflect === 'object' && Reflect !== null && Reflect.apply;\nvar badArrayLike;\nvar isCallableMarker;\nif (typeof reflectApply === 'function' && typeof Object.defineProperty === 'function') {\n\ttry {\n\t\tbadArrayLike = Object.defineProperty({}, 'length', {\n\t\t\tget: function () {\n\t\t\t\tthrow isCallableMarker;\n\t\t\t}\n\t\t});\n\t\tisCallableMarker = {};\n\t\t// eslint-disable-next-line no-throw-literal\n\t\treflectApply(function () { throw 42; }, null, badArrayLike);\n\t} catch (_) {\n\t\tif (_ !== isCallableMarker) {\n\t\t\treflectApply = null;\n\t\t}\n\t}\n} else {\n\treflectApply = null;\n}\n\nvar constructorRegex = /^\\s*class\\b/;\nvar isES6ClassFn = function isES6ClassFunction(value) {\n\ttry {\n\t\tvar fnStr = fnToStr.call(value);\n\t\treturn constructorRegex.test(fnStr);\n\t} catch (e) {\n\t\treturn false; // not a function\n\t}\n};\n\nvar tryFunctionObject = function tryFunctionToStr(value) {\n\ttry {\n\t\tif (isES6ClassFn(value)) { return false; }\n\t\tfnToStr.call(value);\n\t\treturn true;\n\t} catch (e) {\n\t\treturn false;\n\t}\n};\nvar toStr = Object.prototype.toString;\nvar fnClass = '[object Function]';\nvar genClass = '[object GeneratorFunction]';\nvar hasToStringTag = typeof Symbol === 'function' && !!Symbol.toStringTag; // better: use `has-tostringtag`\n/* globals document: false */\nvar documentDotAll = typeof document === 'object' && typeof document.all === 'undefined' && document.all !== undefined ? document.all : {};\n\nmodule.exports = reflectApply\n\t? function isCallable(value) {\n\t\tif (value === documentDotAll) { return true; }\n\t\tif (!value) { return false; }\n\t\tif (typeof value !== 'function' && typeof value !== 'object') { return false; }\n\t\tif (typeof value === 'function' && !value.prototype) { return true; }\n\t\ttry {\n\t\t\treflectApply(value, null, badArrayLike);\n\t\t} catch (e) {\n\t\t\tif (e !== isCallableMarker) { return false; }\n\t\t}\n\t\treturn !isES6ClassFn(value);\n\t}\n\t: function isCallable(value) {\n\t\tif (value === documentDotAll) { return true; }\n\t\tif (!value) { return false; }\n\t\tif (typeof value !== 'function' && typeof value !== 'object') { return false; }\n\t\tif (typeof value === 'function' && !value.prototype) { return true; }\n\t\tif (hasToStringTag) { return tryFunctionObject(value); }\n\t\tif (isES6ClassFn(value)) { return false; }\n\t\tvar strClass = toStr.call(value);\n\t\treturn strClass === fnClass || strClass === genClass;\n\t};\n","'use strict';\n\nvar toStr = Object.prototype.toString;\nvar fnToStr = Function.prototype.toString;\nvar isFnRegex = /^\\s*(?:function)?\\*/;\nvar hasToStringTag = require('has-tostringtag/shams')();\nvar getProto = Object.getPrototypeOf;\nvar getGeneratorFunc = function () { // eslint-disable-line consistent-return\n\tif (!hasToStringTag) {\n\t\treturn false;\n\t}\n\ttry {\n\t\treturn Function('return function*() {}')();\n\t} catch (e) {\n\t}\n};\nvar GeneratorFunction;\n\nmodule.exports = function isGeneratorFunction(fn) {\n\tif (typeof fn !== 'function') {\n\t\treturn false;\n\t}\n\tif (isFnRegex.test(fnToStr.call(fn))) {\n\t\treturn true;\n\t}\n\tif (!hasToStringTag) {\n\t\tvar str = toStr.call(fn);\n\t\treturn str === '[object GeneratorFunction]';\n\t}\n\tif (!getProto) {\n\t\treturn false;\n\t}\n\tif (typeof GeneratorFunction === 'undefined') {\n\t\tvar generatorFunc = getGeneratorFunc();\n\t\tGeneratorFunction = generatorFunc ? getProto(generatorFunc) : false;\n\t}\n\treturn getProto(fn) === GeneratorFunction;\n};\n","'use strict';\n\n/* http://www.ecma-international.org/ecma-262/6.0/#sec-number.isnan */\n\nmodule.exports = function isNaN(value) {\n\treturn value !== value;\n};\n","'use strict';\n\nvar callBind = require('call-bind');\nvar define = require('define-properties');\n\nvar implementation = require('./implementation');\nvar getPolyfill = require('./polyfill');\nvar shim = require('./shim');\n\nvar polyfill = callBind(getPolyfill(), Number);\n\n/* http://www.ecma-international.org/ecma-262/6.0/#sec-number.isnan */\n\ndefine(polyfill, {\n\tgetPolyfill: getPolyfill,\n\timplementation: implementation,\n\tshim: shim\n});\n\nmodule.exports = polyfill;\n","'use strict';\n\nvar implementation = require('./implementation');\n\nmodule.exports = function getPolyfill() {\n\tif (Number.isNaN && Number.isNaN(NaN) && !Number.isNaN('a')) {\n\t\treturn Number.isNaN;\n\t}\n\treturn implementation;\n};\n","'use strict';\n\nvar define = require('define-properties');\nvar getPolyfill = require('./polyfill');\n\n/* http://www.ecma-international.org/ecma-262/6.0/#sec-number.isnan */\n\nmodule.exports = function shimNumberIsNaN() {\n\tvar polyfill = getPolyfill();\n\tdefine(Number, { isNaN: polyfill }, {\n\t\tisNaN: function testIsNaN() {\n\t\t\treturn Number.isNaN !== polyfill;\n\t\t}\n\t});\n\treturn polyfill;\n};\n","'use strict';\n\nvar forEach = require('for-each');\nvar availableTypedArrays = require('available-typed-arrays');\nvar callBound = require('call-bind/callBound');\n\nvar $toString = callBound('Object.prototype.toString');\nvar hasToStringTag = require('has-tostringtag/shams')();\n\nvar g = typeof globalThis === 'undefined' ? global : globalThis;\nvar typedArrays = availableTypedArrays();\n\nvar $indexOf = callBound('Array.prototype.indexOf', true) || function indexOf(array, value) {\n\tfor (var i = 0; i < array.length; i += 1) {\n\t\tif (array[i] === value) {\n\t\t\treturn i;\n\t\t}\n\t}\n\treturn -1;\n};\nvar $slice = callBound('String.prototype.slice');\nvar toStrTags = {};\nvar gOPD = require('es-abstract/helpers/getOwnPropertyDescriptor');\nvar getPrototypeOf = Object.getPrototypeOf; // require('getprototypeof');\nif (hasToStringTag && gOPD && getPrototypeOf) {\n\tforEach(typedArrays, function (typedArray) {\n\t\tvar arr = new g[typedArray]();\n\t\tif (Symbol.toStringTag in arr) {\n\t\t\tvar proto = getPrototypeOf(arr);\n\t\t\tvar descriptor = gOPD(proto, Symbol.toStringTag);\n\t\t\tif (!descriptor) {\n\t\t\t\tvar superProto = getPrototypeOf(proto);\n\t\t\t\tdescriptor = gOPD(superProto, Symbol.toStringTag);\n\t\t\t}\n\t\t\ttoStrTags[typedArray] = descriptor.get;\n\t\t}\n\t});\n}\n\nvar tryTypedArrays = function tryAllTypedArrays(value) {\n\tvar anyTrue = false;\n\tforEach(toStrTags, function (getter, typedArray) {\n\t\tif (!anyTrue) {\n\t\t\ttry {\n\t\t\t\tanyTrue = getter.call(value) === typedArray;\n\t\t\t} catch (e) { /**/ }\n\t\t}\n\t});\n\treturn anyTrue;\n};\n\nmodule.exports = function isTypedArray(value) {\n\tif (!value || typeof value !== 'object') { return false; }\n\tif (!hasToStringTag || !(Symbol.toStringTag in value)) {\n\t\tvar tag = $slice($toString(value), 8, -1);\n\t\treturn $indexOf(typedArrays, tag) > -1;\n\t}\n\tif (!gOPD) { return false; }\n\treturn tryTypedArrays(value);\n};\n","'use strict';\n\nvar numberIsNaN = function (value) {\n\treturn value !== value;\n};\n\nmodule.exports = function is(a, b) {\n\tif (a === 0 && b === 0) {\n\t\treturn 1 / a === 1 / b;\n\t}\n\tif (a === b) {\n\t\treturn true;\n\t}\n\tif (numberIsNaN(a) && numberIsNaN(b)) {\n\t\treturn true;\n\t}\n\treturn false;\n};\n\n","'use strict';\n\nvar define = require('define-properties');\nvar callBind = require('call-bind');\n\nvar implementation = require('./implementation');\nvar getPolyfill = require('./polyfill');\nvar shim = require('./shim');\n\nvar polyfill = callBind(getPolyfill(), Object);\n\ndefine(polyfill, {\n\tgetPolyfill: getPolyfill,\n\timplementation: implementation,\n\tshim: shim\n});\n\nmodule.exports = polyfill;\n","'use strict';\n\nvar implementation = require('./implementation');\n\nmodule.exports = function getPolyfill() {\n\treturn typeof Object.is === 'function' ? Object.is : implementation;\n};\n","'use strict';\n\nvar getPolyfill = require('./polyfill');\nvar define = require('define-properties');\n\nmodule.exports = function shimObjectIs() {\n\tvar polyfill = getPolyfill();\n\tdefine(Object, { is: polyfill }, {\n\t\tis: function testObjectIs() {\n\t\t\treturn Object.is !== polyfill;\n\t\t}\n\t});\n\treturn polyfill;\n};\n","'use strict';\n\nvar keysShim;\nif (!Object.keys) {\n\t// modified from https://github.com/es-shims/es5-shim\n\tvar has = Object.prototype.hasOwnProperty;\n\tvar toStr = Object.prototype.toString;\n\tvar isArgs = require('./isArguments'); // eslint-disable-line global-require\n\tvar isEnumerable = Object.prototype.propertyIsEnumerable;\n\tvar hasDontEnumBug = !isEnumerable.call({ toString: null }, 'toString');\n\tvar hasProtoEnumBug = isEnumerable.call(function () {}, 'prototype');\n\tvar dontEnums = [\n\t\t'toString',\n\t\t'toLocaleString',\n\t\t'valueOf',\n\t\t'hasOwnProperty',\n\t\t'isPrototypeOf',\n\t\t'propertyIsEnumerable',\n\t\t'constructor'\n\t];\n\tvar equalsConstructorPrototype = function (o) {\n\t\tvar ctor = o.constructor;\n\t\treturn ctor && ctor.prototype === o;\n\t};\n\tvar excludedKeys = {\n\t\t$applicationCache: true,\n\t\t$console: true,\n\t\t$external: true,\n\t\t$frame: true,\n\t\t$frameElement: true,\n\t\t$frames: true,\n\t\t$innerHeight: true,\n\t\t$innerWidth: true,\n\t\t$onmozfullscreenchange: true,\n\t\t$onmozfullscreenerror: true,\n\t\t$outerHeight: true,\n\t\t$outerWidth: true,\n\t\t$pageXOffset: true,\n\t\t$pageYOffset: true,\n\t\t$parent: true,\n\t\t$scrollLeft: true,\n\t\t$scrollTop: true,\n\t\t$scrollX: true,\n\t\t$scrollY: true,\n\t\t$self: true,\n\t\t$webkitIndexedDB: true,\n\t\t$webkitStorageInfo: true,\n\t\t$window: true\n\t};\n\tvar hasAutomationEqualityBug = (function () {\n\t\t/* global window */\n\t\tif (typeof window === 'undefined') { return false; }\n\t\tfor (var k in window) {\n\t\t\ttry {\n\t\t\t\tif (!excludedKeys['$' + k] && has.call(window, k) && window[k] !== null && typeof window[k] === 'object') {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tequalsConstructorPrototype(window[k]);\n\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t}());\n\tvar equalsConstructorPrototypeIfNotBuggy = function (o) {\n\t\t/* global window */\n\t\tif (typeof window === 'undefined' || !hasAutomationEqualityBug) {\n\t\t\treturn equalsConstructorPrototype(o);\n\t\t}\n\t\ttry {\n\t\t\treturn equalsConstructorPrototype(o);\n\t\t} catch (e) {\n\t\t\treturn false;\n\t\t}\n\t};\n\n\tkeysShim = function keys(object) {\n\t\tvar isObject = object !== null && typeof object === 'object';\n\t\tvar isFunction = toStr.call(object) === '[object Function]';\n\t\tvar isArguments = isArgs(object);\n\t\tvar isString = isObject && toStr.call(object) === '[object String]';\n\t\tvar theKeys = [];\n\n\t\tif (!isObject && !isFunction && !isArguments) {\n\t\t\tthrow new TypeError('Object.keys called on a non-object');\n\t\t}\n\n\t\tvar skipProto = hasProtoEnumBug && isFunction;\n\t\tif (isString && object.length > 0 && !has.call(object, 0)) {\n\t\t\tfor (var i = 0; i < object.length; ++i) {\n\t\t\t\ttheKeys.push(String(i));\n\t\t\t}\n\t\t}\n\n\t\tif (isArguments && object.length > 0) {\n\t\t\tfor (var j = 0; j < object.length; ++j) {\n\t\t\t\ttheKeys.push(String(j));\n\t\t\t}\n\t\t} else {\n\t\t\tfor (var name in object) {\n\t\t\t\tif (!(skipProto && name === 'prototype') && has.call(object, name)) {\n\t\t\t\t\ttheKeys.push(String(name));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (hasDontEnumBug) {\n\t\t\tvar skipConstructor = equalsConstructorPrototypeIfNotBuggy(object);\n\n\t\t\tfor (var k = 0; k < dontEnums.length; ++k) {\n\t\t\t\tif (!(skipConstructor && dontEnums[k] === 'constructor') && has.call(object, dontEnums[k])) {\n\t\t\t\t\ttheKeys.push(dontEnums[k]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn theKeys;\n\t};\n}\nmodule.exports = keysShim;\n","'use strict';\n\nvar slice = Array.prototype.slice;\nvar isArgs = require('./isArguments');\n\nvar origKeys = Object.keys;\nvar keysShim = origKeys ? function keys(o) { return origKeys(o); } : require('./implementation');\n\nvar originalKeys = Object.keys;\n\nkeysShim.shim = function shimObjectKeys() {\n\tif (Object.keys) {\n\t\tvar keysWorksWithArguments = (function () {\n\t\t\t// Safari 5.0 bug\n\t\t\tvar args = Object.keys(arguments);\n\t\t\treturn args && args.length === arguments.length;\n\t\t}(1, 2));\n\t\tif (!keysWorksWithArguments) {\n\t\t\tObject.keys = function keys(object) { // eslint-disable-line func-name-matching\n\t\t\t\tif (isArgs(object)) {\n\t\t\t\t\treturn originalKeys(slice.call(object));\n\t\t\t\t}\n\t\t\t\treturn originalKeys(object);\n\t\t\t};\n\t\t}\n\t} else {\n\t\tObject.keys = keysShim;\n\t}\n\treturn Object.keys || keysShim;\n};\n\nmodule.exports = keysShim;\n","'use strict';\n\nvar toStr = Object.prototype.toString;\n\nmodule.exports = function isArguments(value) {\n\tvar str = toStr.call(value);\n\tvar isArgs = str === '[object Arguments]';\n\tif (!isArgs) {\n\t\tisArgs = str !== '[object Array]' &&\n\t\t\tvalue !== null &&\n\t\t\ttypeof value === 'object' &&\n\t\t\ttypeof value.length === 'number' &&\n\t\t\tvalue.length >= 0 &&\n\t\t\ttoStr.call(value.callee) === '[object Function]';\n\t}\n\treturn isArgs;\n};\n","exports.endianness = function () { return 'LE' };\n\nexports.hostname = function () {\n    if (typeof location !== 'undefined') {\n        return location.hostname\n    }\n    else return '';\n};\n\nexports.loadavg = function () { return [] };\n\nexports.uptime = function () { return 0 };\n\nexports.freemem = function () {\n    return Number.MAX_VALUE;\n};\n\nexports.totalmem = function () {\n    return Number.MAX_VALUE;\n};\n\nexports.cpus = function () { return [] };\n\nexports.type = function () { return 'Browser' };\n\nexports.release = function () {\n    if (typeof navigator !== 'undefined') {\n        return navigator.appVersion;\n    }\n    return '';\n};\n\nexports.networkInterfaces\n= exports.getNetworkInterfaces\n= function () { return {} };\n\nexports.arch = function () { return 'javascript' };\n\nexports.platform = function () { return 'browser' };\n\nexports.tmpdir = exports.tmpDir = function () {\n    return '/tmp';\n};\n\nexports.EOL = '\\n';\n\nexports.homedir = function () {\n\treturn '/'\n};\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\n// If obj.hasOwnProperty has been overridden, then calling\n// obj.hasOwnProperty(prop) will break.\n// See: https://github.com/joyent/node/issues/1707\nfunction hasOwnProperty(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n\nmodule.exports = function(qs, sep, eq, options) {\n  sep = sep || '&';\n  eq = eq || '=';\n  var obj = {};\n\n  if (typeof qs !== 'string' || qs.length === 0) {\n    return obj;\n  }\n\n  var regexp = /\\+/g;\n  qs = qs.split(sep);\n\n  var maxKeys = 1000;\n  if (options && typeof options.maxKeys === 'number') {\n    maxKeys = options.maxKeys;\n  }\n\n  var len = qs.length;\n  // maxKeys <= 0 means that we should not limit keys count\n  if (maxKeys > 0 && len > maxKeys) {\n    len = maxKeys;\n  }\n\n  for (var i = 0; i < len; ++i) {\n    var x = qs[i].replace(regexp, '%20'),\n        idx = x.indexOf(eq),\n        kstr, vstr, k, v;\n\n    if (idx >= 0) {\n      kstr = x.substr(0, idx);\n      vstr = x.substr(idx + 1);\n    } else {\n      kstr = x;\n      vstr = '';\n    }\n\n    k = decodeURIComponent(kstr);\n    v = decodeURIComponent(vstr);\n\n    if (!hasOwnProperty(obj, k)) {\n      obj[k] = v;\n    } else if (Array.isArray(obj[k])) {\n      obj[k].push(v);\n    } else {\n      obj[k] = [obj[k], v];\n    }\n  }\n\n  return obj;\n};\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar stringifyPrimitive = function(v) {\n  switch (typeof v) {\n    case 'string':\n      return v;\n\n    case 'boolean':\n      return v ? 'true' : 'false';\n\n    case 'number':\n      return isFinite(v) ? v : '';\n\n    default:\n      return '';\n  }\n};\n\nmodule.exports = function(obj, sep, eq, name) {\n  sep = sep || '&';\n  eq = eq || '=';\n  if (obj === null) {\n    obj = undefined;\n  }\n\n  if (typeof obj === 'object') {\n    return Object.keys(obj).map(function(k) {\n      var ks = encodeURIComponent(stringifyPrimitive(k)) + eq;\n      if (Array.isArray(obj[k])) {\n        return obj[k].map(function(v) {\n          return ks + encodeURIComponent(stringifyPrimitive(v));\n        }).join(sep);\n      } else {\n        return ks + encodeURIComponent(stringifyPrimitive(obj[k]));\n      }\n    }).join(sep);\n\n  }\n\n  if (!name) return '';\n  return encodeURIComponent(stringifyPrimitive(name)) + eq +\n         encodeURIComponent(stringifyPrimitive(obj));\n};\n","'use strict';\n\nexports.decode = exports.parse = require('./decode');\nexports.encode = exports.stringify = require('./encode');\n","/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */\n/* eslint-disable node/no-deprecated-api */\nvar buffer = require('buffer')\nvar Buffer = buffer.Buffer\n\n// alternative to using Object.keys for old browsers\nfunction copyProps (src, dst) {\n  for (var key in src) {\n    dst[key] = src[key]\n  }\n}\nif (Buffer.from && Buffer.alloc && Buffer.allocUnsafe && Buffer.allocUnsafeSlow) {\n  module.exports = buffer\n} else {\n  // Copy properties from require('buffer')\n  copyProps(buffer, exports)\n  exports.Buffer = SafeBuffer\n}\n\nfunction SafeBuffer (arg, encodingOrOffset, length) {\n  return Buffer(arg, encodingOrOffset, length)\n}\n\nSafeBuffer.prototype = Object.create(Buffer.prototype)\n\n// Copy static methods from Buffer\ncopyProps(Buffer, SafeBuffer)\n\nSafeBuffer.from = function (arg, encodingOrOffset, length) {\n  if (typeof arg === 'number') {\n    throw new TypeError('Argument must not be a number')\n  }\n  return Buffer(arg, encodingOrOffset, length)\n}\n\nSafeBuffer.alloc = function (size, fill, encoding) {\n  if (typeof size !== 'number') {\n    throw new TypeError('Argument must be a number')\n  }\n  var buf = Buffer(size)\n  if (fill !== undefined) {\n    if (typeof encoding === 'string') {\n      buf.fill(fill, encoding)\n    } else {\n      buf.fill(fill)\n    }\n  } else {\n    buf.fill(0)\n  }\n  return buf\n}\n\nSafeBuffer.allocUnsafe = function (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('Argument must be a number')\n  }\n  return Buffer(size)\n}\n\nSafeBuffer.allocUnsafeSlow = function (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('Argument must be a number')\n  }\n  return buffer.SlowBuffer(size)\n}\n","var ClientRequest = require('./lib/request')\nvar response = require('./lib/response')\nvar extend = require('xtend')\nvar statusCodes = require('builtin-status-codes')\nvar url = require('url')\n\nvar http = exports\n\nhttp.request = function (opts, cb) {\n\tif (typeof opts === 'string')\n\t\topts = url.parse(opts)\n\telse\n\t\topts = extend(opts)\n\n\t// Normally, the page is loaded from http or https, so not specifying a protocol\n\t// will result in a (valid) protocol-relative url. However, this won't work if\n\t// the protocol is something else, like 'file:'\n\tvar defaultProtocol = global.location.protocol.search(/^https?:$/) === -1 ? 'http:' : ''\n\n\tvar protocol = opts.protocol || defaultProtocol\n\tvar host = opts.hostname || opts.host\n\tvar port = opts.port\n\tvar path = opts.path || '/'\n\n\t// Necessary for IPv6 addresses\n\tif (host && host.indexOf(':') !== -1)\n\t\thost = '[' + host + ']'\n\n\t// This may be a relative url. The browser should always be able to interpret it correctly.\n\topts.url = (host ? (protocol + '//' + host) : '') + (port ? ':' + port : '') + path\n\topts.method = (opts.method || 'GET').toUpperCase()\n\topts.headers = opts.headers || {}\n\n\t// Also valid opts.auth, opts.mode\n\n\tvar req = new ClientRequest(opts)\n\tif (cb)\n\t\treq.on('response', cb)\n\treturn req\n}\n\nhttp.get = function get (opts, cb) {\n\tvar req = http.request(opts, cb)\n\treq.end()\n\treturn req\n}\n\nhttp.ClientRequest = ClientRequest\nhttp.IncomingMessage = response.IncomingMessage\n\nhttp.Agent = function () {}\nhttp.Agent.defaultMaxSockets = 4\n\nhttp.globalAgent = new http.Agent()\n\nhttp.STATUS_CODES = statusCodes\n\nhttp.METHODS = [\n\t'CHECKOUT',\n\t'CONNECT',\n\t'COPY',\n\t'DELETE',\n\t'GET',\n\t'HEAD',\n\t'LOCK',\n\t'M-SEARCH',\n\t'MERGE',\n\t'MKACTIVITY',\n\t'MKCOL',\n\t'MOVE',\n\t'NOTIFY',\n\t'OPTIONS',\n\t'PATCH',\n\t'POST',\n\t'PROPFIND',\n\t'PROPPATCH',\n\t'PURGE',\n\t'PUT',\n\t'REPORT',\n\t'SEARCH',\n\t'SUBSCRIBE',\n\t'TRACE',\n\t'UNLOCK',\n\t'UNSUBSCRIBE'\n]","exports.fetch = isFunction(global.fetch) && isFunction(global.ReadableStream)\n\nexports.writableStream = isFunction(global.WritableStream)\n\nexports.abortController = isFunction(global.AbortController)\n\n// The xhr request to example.com may violate some restrictive CSP configurations,\n// so if we're running in a browser that supports `fetch`, avoid calling getXHR()\n// and assume support for certain features below.\nvar xhr\nfunction getXHR () {\n\t// Cache the xhr value\n\tif (xhr !== undefined) return xhr\n\n\tif (global.XMLHttpRequest) {\n\t\txhr = new global.XMLHttpRequest()\n\t\t// If XDomainRequest is available (ie only, where xhr might not work\n\t\t// cross domain), use the page location. Otherwise use example.com\n\t\t// Note: this doesn't actually make an http request.\n\t\ttry {\n\t\t\txhr.open('GET', global.XDomainRequest ? '/' : 'https://example.com')\n\t\t} catch(e) {\n\t\t\txhr = null\n\t\t}\n\t} else {\n\t\t// Service workers don't have XHR\n\t\txhr = null\n\t}\n\treturn xhr\n}\n\nfunction checkTypeSupport (type) {\n\tvar xhr = getXHR()\n\tif (!xhr) return false\n\ttry {\n\t\txhr.responseType = type\n\t\treturn xhr.responseType === type\n\t} catch (e) {}\n\treturn false\n}\n\n// If fetch is supported, then arraybuffer will be supported too. Skip calling\n// checkTypeSupport(), since that calls getXHR().\nexports.arraybuffer = exports.fetch || checkTypeSupport('arraybuffer')\n\n// These next two tests unavoidably show warnings in Chrome. Since fetch will always\n// be used if it's available, just return false for these to avoid the warnings.\nexports.msstream = !exports.fetch && checkTypeSupport('ms-stream')\nexports.mozchunkedarraybuffer = !exports.fetch && checkTypeSupport('moz-chunked-arraybuffer')\n\n// If fetch is supported, then overrideMimeType will be supported too. Skip calling\n// getXHR().\nexports.overrideMimeType = exports.fetch || (getXHR() ? isFunction(getXHR().overrideMimeType) : false)\n\nfunction isFunction (value) {\n\treturn typeof value === 'function'\n}\n\nxhr = null // Help gc\n","var capability = require('./capability')\nvar inherits = require('inherits')\nvar response = require('./response')\nvar stream = require('readable-stream')\n\nvar IncomingMessage = response.IncomingMessage\nvar rStates = response.readyStates\n\nfunction decideMode (preferBinary, useFetch) {\n\tif (capability.fetch && useFetch) {\n\t\treturn 'fetch'\n\t} else if (capability.mozchunkedarraybuffer) {\n\t\treturn 'moz-chunked-arraybuffer'\n\t} else if (capability.msstream) {\n\t\treturn 'ms-stream'\n\t} else if (capability.arraybuffer && preferBinary) {\n\t\treturn 'arraybuffer'\n\t} else {\n\t\treturn 'text'\n\t}\n}\n\nvar ClientRequest = module.exports = function (opts) {\n\tvar self = this\n\tstream.Writable.call(self)\n\n\tself._opts = opts\n\tself._body = []\n\tself._headers = {}\n\tif (opts.auth)\n\t\tself.setHeader('Authorization', 'Basic ' + Buffer.from(opts.auth).toString('base64'))\n\tObject.keys(opts.headers).forEach(function (name) {\n\t\tself.setHeader(name, opts.headers[name])\n\t})\n\n\tvar preferBinary\n\tvar useFetch = true\n\tif (opts.mode === 'disable-fetch' || ('requestTimeout' in opts && !capability.abortController)) {\n\t\t// If the use of XHR should be preferred. Not typically needed.\n\t\tuseFetch = false\n\t\tpreferBinary = true\n\t} else if (opts.mode === 'prefer-streaming') {\n\t\t// If streaming is a high priority but binary compatibility and\n\t\t// the accuracy of the 'content-type' header aren't\n\t\tpreferBinary = false\n\t} else if (opts.mode === 'allow-wrong-content-type') {\n\t\t// If streaming is more important than preserving the 'content-type' header\n\t\tpreferBinary = !capability.overrideMimeType\n\t} else if (!opts.mode || opts.mode === 'default' || opts.mode === 'prefer-fast') {\n\t\t// Use binary if text streaming may corrupt data or the content-type header, or for speed\n\t\tpreferBinary = true\n\t} else {\n\t\tthrow new Error('Invalid value for opts.mode')\n\t}\n\tself._mode = decideMode(preferBinary, useFetch)\n\tself._fetchTimer = null\n\tself._socketTimeout = null\n\tself._socketTimer = null\n\n\tself.on('finish', function () {\n\t\tself._onFinish()\n\t})\n}\n\ninherits(ClientRequest, stream.Writable)\n\nClientRequest.prototype.setHeader = function (name, value) {\n\tvar self = this\n\tvar lowerName = name.toLowerCase()\n\t// This check is not necessary, but it prevents warnings from browsers about setting unsafe\n\t// headers. To be honest I'm not entirely sure hiding these warnings is a good thing, but\n\t// http-browserify did it, so I will too.\n\tif (unsafeHeaders.indexOf(lowerName) !== -1)\n\t\treturn\n\n\tself._headers[lowerName] = {\n\t\tname: name,\n\t\tvalue: value\n\t}\n}\n\nClientRequest.prototype.getHeader = function (name) {\n\tvar header = this._headers[name.toLowerCase()]\n\tif (header)\n\t\treturn header.value\n\treturn null\n}\n\nClientRequest.prototype.removeHeader = function (name) {\n\tvar self = this\n\tdelete self._headers[name.toLowerCase()]\n}\n\nClientRequest.prototype._onFinish = function () {\n\tvar self = this\n\n\tif (self._destroyed)\n\t\treturn\n\tvar opts = self._opts\n\n\tif ('timeout' in opts && opts.timeout !== 0) {\n\t\tself.setTimeout(opts.timeout)\n\t}\n\n\tvar headersObj = self._headers\n\tvar body = null\n\tif (opts.method !== 'GET' && opts.method !== 'HEAD') {\n        body = new Blob(self._body, {\n            type: (headersObj['content-type'] || {}).value || ''\n        });\n    }\n\n\t// create flattened list of headers\n\tvar headersList = []\n\tObject.keys(headersObj).forEach(function (keyName) {\n\t\tvar name = headersObj[keyName].name\n\t\tvar value = headersObj[keyName].value\n\t\tif (Array.isArray(value)) {\n\t\t\tvalue.forEach(function (v) {\n\t\t\t\theadersList.push([name, v])\n\t\t\t})\n\t\t} else {\n\t\t\theadersList.push([name, value])\n\t\t}\n\t})\n\n\tif (self._mode === 'fetch') {\n\t\tvar signal = null\n\t\tif (capability.abortController) {\n\t\t\tvar controller = new AbortController()\n\t\t\tsignal = controller.signal\n\t\t\tself._fetchAbortController = controller\n\n\t\t\tif ('requestTimeout' in opts && opts.requestTimeout !== 0) {\n\t\t\t\tself._fetchTimer = global.setTimeout(function () {\n\t\t\t\t\tself.emit('requestTimeout')\n\t\t\t\t\tif (self._fetchAbortController)\n\t\t\t\t\t\tself._fetchAbortController.abort()\n\t\t\t\t}, opts.requestTimeout)\n\t\t\t}\n\t\t}\n\n\t\tglobal.fetch(self._opts.url, {\n\t\t\tmethod: self._opts.method,\n\t\t\theaders: headersList,\n\t\t\tbody: body || undefined,\n\t\t\tmode: 'cors',\n\t\t\tcredentials: opts.withCredentials ? 'include' : 'same-origin',\n\t\t\tsignal: signal\n\t\t}).then(function (response) {\n\t\t\tself._fetchResponse = response\n\t\t\tself._resetTimers(false)\n\t\t\tself._connect()\n\t\t}, function (reason) {\n\t\t\tself._resetTimers(true)\n\t\t\tif (!self._destroyed)\n\t\t\t\tself.emit('error', reason)\n\t\t})\n\t} else {\n\t\tvar xhr = self._xhr = new global.XMLHttpRequest()\n\t\ttry {\n\t\t\txhr.open(self._opts.method, self._opts.url, true)\n\t\t} catch (err) {\n\t\t\tprocess.nextTick(function () {\n\t\t\t\tself.emit('error', err)\n\t\t\t})\n\t\t\treturn\n\t\t}\n\n\t\t// Can't set responseType on really old browsers\n\t\tif ('responseType' in xhr)\n\t\t\txhr.responseType = self._mode\n\n\t\tif ('withCredentials' in xhr)\n\t\t\txhr.withCredentials = !!opts.withCredentials\n\n\t\tif (self._mode === 'text' && 'overrideMimeType' in xhr)\n\t\t\txhr.overrideMimeType('text/plain; charset=x-user-defined')\n\n\t\tif ('requestTimeout' in opts) {\n\t\t\txhr.timeout = opts.requestTimeout\n\t\t\txhr.ontimeout = function () {\n\t\t\t\tself.emit('requestTimeout')\n\t\t\t}\n\t\t}\n\n\t\theadersList.forEach(function (header) {\n\t\t\txhr.setRequestHeader(header[0], header[1])\n\t\t})\n\n\t\tself._response = null\n\t\txhr.onreadystatechange = function () {\n\t\t\tswitch (xhr.readyState) {\n\t\t\t\tcase rStates.LOADING:\n\t\t\t\tcase rStates.DONE:\n\t\t\t\t\tself._onXHRProgress()\n\t\t\t\t\tbreak\n\t\t\t}\n\t\t}\n\t\t// Necessary for streaming in Firefox, since xhr.response is ONLY defined\n\t\t// in onprogress, not in onreadystatechange with xhr.readyState = 3\n\t\tif (self._mode === 'moz-chunked-arraybuffer') {\n\t\t\txhr.onprogress = function () {\n\t\t\t\tself._onXHRProgress()\n\t\t\t}\n\t\t}\n\n\t\txhr.onerror = function () {\n\t\t\tif (self._destroyed)\n\t\t\t\treturn\n\t\t\tself._resetTimers(true)\n\t\t\tself.emit('error', new Error('XHR error'))\n\t\t}\n\n\t\ttry {\n\t\t\txhr.send(body)\n\t\t} catch (err) {\n\t\t\tprocess.nextTick(function () {\n\t\t\t\tself.emit('error', err)\n\t\t\t})\n\t\t\treturn\n\t\t}\n\t}\n}\n\n/**\n * Checks if xhr.status is readable and non-zero, indicating no error.\n * Even though the spec says it should be available in readyState 3,\n * accessing it throws an exception in IE8\n */\nfunction statusValid (xhr) {\n\ttry {\n\t\tvar status = xhr.status\n\t\treturn (status !== null && status !== 0)\n\t} catch (e) {\n\t\treturn false\n\t}\n}\n\nClientRequest.prototype._onXHRProgress = function () {\n\tvar self = this\n\n\tself._resetTimers(false)\n\n\tif (!statusValid(self._xhr) || self._destroyed)\n\t\treturn\n\n\tif (!self._response)\n\t\tself._connect()\n\n\tself._response._onXHRProgress(self._resetTimers.bind(self))\n}\n\nClientRequest.prototype._connect = function () {\n\tvar self = this\n\n\tif (self._destroyed)\n\t\treturn\n\n\tself._response = new IncomingMessage(self._xhr, self._fetchResponse, self._mode, self._resetTimers.bind(self))\n\tself._response.on('error', function(err) {\n\t\tself.emit('error', err)\n\t})\n\n\tself.emit('response', self._response)\n}\n\nClientRequest.prototype._write = function (chunk, encoding, cb) {\n\tvar self = this\n\n\tself._body.push(chunk)\n\tcb()\n}\n\nClientRequest.prototype._resetTimers = function (done) {\n\tvar self = this\n\n\tglobal.clearTimeout(self._socketTimer)\n\tself._socketTimer = null\n\n\tif (done) {\n\t\tglobal.clearTimeout(self._fetchTimer)\n\t\tself._fetchTimer = null\n\t} else if (self._socketTimeout) {\n\t\tself._socketTimer = global.setTimeout(function () {\n\t\t\tself.emit('timeout')\n\t\t}, self._socketTimeout)\n\t}\n}\n\nClientRequest.prototype.abort = ClientRequest.prototype.destroy = function (err) {\n\tvar self = this\n\tself._destroyed = true\n\tself._resetTimers(true)\n\tif (self._response)\n\t\tself._response._destroyed = true\n\tif (self._xhr)\n\t\tself._xhr.abort()\n\telse if (self._fetchAbortController)\n\t\tself._fetchAbortController.abort()\n\n\tif (err)\n\t\tself.emit('error', err)\n}\n\nClientRequest.prototype.end = function (data, encoding, cb) {\n\tvar self = this\n\tif (typeof data === 'function') {\n\t\tcb = data\n\t\tdata = undefined\n\t}\n\n\tstream.Writable.prototype.end.call(self, data, encoding, cb)\n}\n\nClientRequest.prototype.setTimeout = function (timeout, cb) {\n\tvar self = this\n\n\tif (cb)\n\t\tself.once('timeout', cb)\n\n\tself._socketTimeout = timeout\n\tself._resetTimers(false)\n}\n\nClientRequest.prototype.flushHeaders = function () {}\nClientRequest.prototype.setNoDelay = function () {}\nClientRequest.prototype.setSocketKeepAlive = function () {}\n\n// Taken from http://www.w3.org/TR/XMLHttpRequest/#the-setrequestheader%28%29-method\nvar unsafeHeaders = [\n\t'accept-charset',\n\t'accept-encoding',\n\t'access-control-request-headers',\n\t'access-control-request-method',\n\t'connection',\n\t'content-length',\n\t'cookie',\n\t'cookie2',\n\t'date',\n\t'dnt',\n\t'expect',\n\t'host',\n\t'keep-alive',\n\t'origin',\n\t'referer',\n\t'te',\n\t'trailer',\n\t'transfer-encoding',\n\t'upgrade',\n\t'via'\n]\n","var capability = require('./capability')\nvar inherits = require('inherits')\nvar stream = require('readable-stream')\n\nvar rStates = exports.readyStates = {\n\tUNSENT: 0,\n\tOPENED: 1,\n\tHEADERS_RECEIVED: 2,\n\tLOADING: 3,\n\tDONE: 4\n}\n\nvar IncomingMessage = exports.IncomingMessage = function (xhr, response, mode, resetTimers) {\n\tvar self = this\n\tstream.Readable.call(self)\n\n\tself._mode = mode\n\tself.headers = {}\n\tself.rawHeaders = []\n\tself.trailers = {}\n\tself.rawTrailers = []\n\n\t// Fake the 'close' event, but only once 'end' fires\n\tself.on('end', function () {\n\t\t// The nextTick is necessary to prevent the 'request' module from causing an infinite loop\n\t\tprocess.nextTick(function () {\n\t\t\tself.emit('close')\n\t\t})\n\t})\n\n\tif (mode === 'fetch') {\n\t\tself._fetchResponse = response\n\n\t\tself.url = response.url\n\t\tself.statusCode = response.status\n\t\tself.statusMessage = response.statusText\n\t\t\n\t\tresponse.headers.forEach(function (header, key){\n\t\t\tself.headers[key.toLowerCase()] = header\n\t\t\tself.rawHeaders.push(key, header)\n\t\t})\n\n\t\tif (capability.writableStream) {\n\t\t\tvar writable = new WritableStream({\n\t\t\t\twrite: function (chunk) {\n\t\t\t\t\tresetTimers(false)\n\t\t\t\t\treturn new Promise(function (resolve, reject) {\n\t\t\t\t\t\tif (self._destroyed) {\n\t\t\t\t\t\t\treject()\n\t\t\t\t\t\t} else if(self.push(Buffer.from(chunk))) {\n\t\t\t\t\t\t\tresolve()\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tself._resumeFetch = resolve\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t},\n\t\t\t\tclose: function () {\n\t\t\t\t\tresetTimers(true)\n\t\t\t\t\tif (!self._destroyed)\n\t\t\t\t\t\tself.push(null)\n\t\t\t\t},\n\t\t\t\tabort: function (err) {\n\t\t\t\t\tresetTimers(true)\n\t\t\t\t\tif (!self._destroyed)\n\t\t\t\t\t\tself.emit('error', err)\n\t\t\t\t}\n\t\t\t})\n\n\t\t\ttry {\n\t\t\t\tresponse.body.pipeTo(writable).catch(function (err) {\n\t\t\t\t\tresetTimers(true)\n\t\t\t\t\tif (!self._destroyed)\n\t\t\t\t\t\tself.emit('error', err)\n\t\t\t\t})\n\t\t\t\treturn\n\t\t\t} catch (e) {} // pipeTo method isn't defined. Can't find a better way to feature test this\n\t\t}\n\t\t// fallback for when writableStream or pipeTo aren't available\n\t\tvar reader = response.body.getReader()\n\t\tfunction read () {\n\t\t\treader.read().then(function (result) {\n\t\t\t\tif (self._destroyed)\n\t\t\t\t\treturn\n\t\t\t\tresetTimers(result.done)\n\t\t\t\tif (result.done) {\n\t\t\t\t\tself.push(null)\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t\tself.push(Buffer.from(result.value))\n\t\t\t\tread()\n\t\t\t}).catch(function (err) {\n\t\t\t\tresetTimers(true)\n\t\t\t\tif (!self._destroyed)\n\t\t\t\t\tself.emit('error', err)\n\t\t\t})\n\t\t}\n\t\tread()\n\t} else {\n\t\tself._xhr = xhr\n\t\tself._pos = 0\n\n\t\tself.url = xhr.responseURL\n\t\tself.statusCode = xhr.status\n\t\tself.statusMessage = xhr.statusText\n\t\tvar headers = xhr.getAllResponseHeaders().split(/\\r?\\n/)\n\t\theaders.forEach(function (header) {\n\t\t\tvar matches = header.match(/^([^:]+):\\s*(.*)/)\n\t\t\tif (matches) {\n\t\t\t\tvar key = matches[1].toLowerCase()\n\t\t\t\tif (key === 'set-cookie') {\n\t\t\t\t\tif (self.headers[key] === undefined) {\n\t\t\t\t\t\tself.headers[key] = []\n\t\t\t\t\t}\n\t\t\t\t\tself.headers[key].push(matches[2])\n\t\t\t\t} else if (self.headers[key] !== undefined) {\n\t\t\t\t\tself.headers[key] += ', ' + matches[2]\n\t\t\t\t} else {\n\t\t\t\t\tself.headers[key] = matches[2]\n\t\t\t\t}\n\t\t\t\tself.rawHeaders.push(matches[1], matches[2])\n\t\t\t}\n\t\t})\n\n\t\tself._charset = 'x-user-defined'\n\t\tif (!capability.overrideMimeType) {\n\t\t\tvar mimeType = self.rawHeaders['mime-type']\n\t\t\tif (mimeType) {\n\t\t\t\tvar charsetMatch = mimeType.match(/;\\s*charset=([^;])(;|$)/)\n\t\t\t\tif (charsetMatch) {\n\t\t\t\t\tself._charset = charsetMatch[1].toLowerCase()\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (!self._charset)\n\t\t\t\tself._charset = 'utf-8' // best guess\n\t\t}\n\t}\n}\n\ninherits(IncomingMessage, stream.Readable)\n\nIncomingMessage.prototype._read = function () {\n\tvar self = this\n\n\tvar resolve = self._resumeFetch\n\tif (resolve) {\n\t\tself._resumeFetch = null\n\t\tresolve()\n\t}\n}\n\nIncomingMessage.prototype._onXHRProgress = function (resetTimers) {\n\tvar self = this\n\n\tvar xhr = self._xhr\n\n\tvar response = null\n\tswitch (self._mode) {\n\t\tcase 'text':\n\t\t\tresponse = xhr.responseText\n\t\t\tif (response.length > self._pos) {\n\t\t\t\tvar newData = response.substr(self._pos)\n\t\t\t\tif (self._charset === 'x-user-defined') {\n\t\t\t\t\tvar buffer = Buffer.alloc(newData.length)\n\t\t\t\t\tfor (var i = 0; i < newData.length; i++)\n\t\t\t\t\t\tbuffer[i] = newData.charCodeAt(i) & 0xff\n\n\t\t\t\t\tself.push(buffer)\n\t\t\t\t} else {\n\t\t\t\t\tself.push(newData, self._charset)\n\t\t\t\t}\n\t\t\t\tself._pos = response.length\n\t\t\t}\n\t\t\tbreak\n\t\tcase 'arraybuffer':\n\t\t\tif (xhr.readyState !== rStates.DONE || !xhr.response)\n\t\t\t\tbreak\n\t\t\tresponse = xhr.response\n\t\t\tself.push(Buffer.from(new Uint8Array(response)))\n\t\t\tbreak\n\t\tcase 'moz-chunked-arraybuffer': // take whole\n\t\t\tresponse = xhr.response\n\t\t\tif (xhr.readyState !== rStates.LOADING || !response)\n\t\t\t\tbreak\n\t\t\tself.push(Buffer.from(new Uint8Array(response)))\n\t\t\tbreak\n\t\tcase 'ms-stream':\n\t\t\tresponse = xhr.response\n\t\t\tif (xhr.readyState !== rStates.LOADING)\n\t\t\t\tbreak\n\t\t\tvar reader = new global.MSStreamReader()\n\t\t\treader.onprogress = function () {\n\t\t\t\tif (reader.result.byteLength > self._pos) {\n\t\t\t\t\tself.push(Buffer.from(new Uint8Array(reader.result.slice(self._pos))))\n\t\t\t\t\tself._pos = reader.result.byteLength\n\t\t\t\t}\n\t\t\t}\n\t\t\treader.onload = function () {\n\t\t\t\tresetTimers(true)\n\t\t\t\tself.push(null)\n\t\t\t}\n\t\t\t// reader.onerror = ??? // TODO: this\n\t\t\treader.readAsArrayBuffer(response)\n\t\t\tbreak\n\t}\n\n\t// The ms-stream case handles end separately in reader.onload()\n\tif (self._xhr.readyState === rStates.DONE && self._mode !== 'ms-stream') {\n\t\tresetTimers(true)\n\t\tself.push(null)\n\t}\n}\n","'use strict';\n\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }\n\nvar codes = {};\n\nfunction createErrorType(code, message, Base) {\n  if (!Base) {\n    Base = Error;\n  }\n\n  function getMessage(arg1, arg2, arg3) {\n    if (typeof message === 'string') {\n      return message;\n    } else {\n      return message(arg1, arg2, arg3);\n    }\n  }\n\n  var NodeError =\n  /*#__PURE__*/\n  function (_Base) {\n    _inheritsLoose(NodeError, _Base);\n\n    function NodeError(arg1, arg2, arg3) {\n      return _Base.call(this, getMessage(arg1, arg2, arg3)) || this;\n    }\n\n    return NodeError;\n  }(Base);\n\n  NodeError.prototype.name = Base.name;\n  NodeError.prototype.code = code;\n  codes[code] = NodeError;\n} // https://github.com/nodejs/node/blob/v10.8.0/lib/internal/errors.js\n\n\nfunction oneOf(expected, thing) {\n  if (Array.isArray(expected)) {\n    var len = expected.length;\n    expected = expected.map(function (i) {\n      return String(i);\n    });\n\n    if (len > 2) {\n      return \"one of \".concat(thing, \" \").concat(expected.slice(0, len - 1).join(', '), \", or \") + expected[len - 1];\n    } else if (len === 2) {\n      return \"one of \".concat(thing, \" \").concat(expected[0], \" or \").concat(expected[1]);\n    } else {\n      return \"of \".concat(thing, \" \").concat(expected[0]);\n    }\n  } else {\n    return \"of \".concat(thing, \" \").concat(String(expected));\n  }\n} // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/startsWith\n\n\nfunction startsWith(str, search, pos) {\n  return str.substr(!pos || pos < 0 ? 0 : +pos, search.length) === search;\n} // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/endsWith\n\n\nfunction endsWith(str, search, this_len) {\n  if (this_len === undefined || this_len > str.length) {\n    this_len = str.length;\n  }\n\n  return str.substring(this_len - search.length, this_len) === search;\n} // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/includes\n\n\nfunction includes(str, search, start) {\n  if (typeof start !== 'number') {\n    start = 0;\n  }\n\n  if (start + search.length > str.length) {\n    return false;\n  } else {\n    return str.indexOf(search, start) !== -1;\n  }\n}\n\ncreateErrorType('ERR_INVALID_OPT_VALUE', function (name, value) {\n  return 'The value \"' + value + '\" is invalid for option \"' + name + '\"';\n}, TypeError);\ncreateErrorType('ERR_INVALID_ARG_TYPE', function (name, expected, actual) {\n  // determiner: 'must be' or 'must not be'\n  var determiner;\n\n  if (typeof expected === 'string' && startsWith(expected, 'not ')) {\n    determiner = 'must not be';\n    expected = expected.replace(/^not /, '');\n  } else {\n    determiner = 'must be';\n  }\n\n  var msg;\n\n  if (endsWith(name, ' argument')) {\n    // For cases like 'first argument'\n    msg = \"The \".concat(name, \" \").concat(determiner, \" \").concat(oneOf(expected, 'type'));\n  } else {\n    var type = includes(name, '.') ? 'property' : 'argument';\n    msg = \"The \\\"\".concat(name, \"\\\" \").concat(type, \" \").concat(determiner, \" \").concat(oneOf(expected, 'type'));\n  }\n\n  msg += \". Received type \".concat(typeof actual);\n  return msg;\n}, TypeError);\ncreateErrorType('ERR_STREAM_PUSH_AFTER_EOF', 'stream.push() after EOF');\ncreateErrorType('ERR_METHOD_NOT_IMPLEMENTED', function (name) {\n  return 'The ' + name + ' method is not implemented';\n});\ncreateErrorType('ERR_STREAM_PREMATURE_CLOSE', 'Premature close');\ncreateErrorType('ERR_STREAM_DESTROYED', function (name) {\n  return 'Cannot call ' + name + ' after a stream was destroyed';\n});\ncreateErrorType('ERR_MULTIPLE_CALLBACK', 'Callback called multiple times');\ncreateErrorType('ERR_STREAM_CANNOT_PIPE', 'Cannot pipe, not readable');\ncreateErrorType('ERR_STREAM_WRITE_AFTER_END', 'write after end');\ncreateErrorType('ERR_STREAM_NULL_VALUES', 'May not write null values to stream', TypeError);\ncreateErrorType('ERR_UNKNOWN_ENCODING', function (arg) {\n  return 'Unknown encoding: ' + arg;\n}, TypeError);\ncreateErrorType('ERR_STREAM_UNSHIFT_AFTER_END_EVENT', 'stream.unshift() after end event');\nmodule.exports.codes = codes;\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n// a duplex stream is just a stream that is both readable and writable.\n// Since JS doesn't have multiple prototypal inheritance, this class\n// prototypally inherits from Readable, and then parasitically from\n// Writable.\n'use strict';\n/*<replacement>*/\n\nvar objectKeys = Object.keys || function (obj) {\n  var keys = [];\n\n  for (var key in obj) {\n    keys.push(key);\n  }\n\n  return keys;\n};\n/*</replacement>*/\n\n\nmodule.exports = Duplex;\n\nvar Readable = require('./_stream_readable');\n\nvar Writable = require('./_stream_writable');\n\nrequire('inherits')(Duplex, Readable);\n\n{\n  // Allow the keys array to be GC'ed.\n  var keys = objectKeys(Writable.prototype);\n\n  for (var v = 0; v < keys.length; v++) {\n    var method = keys[v];\n    if (!Duplex.prototype[method]) Duplex.prototype[method] = Writable.prototype[method];\n  }\n}\n\nfunction Duplex(options) {\n  if (!(this instanceof Duplex)) return new Duplex(options);\n  Readable.call(this, options);\n  Writable.call(this, options);\n  this.allowHalfOpen = true;\n\n  if (options) {\n    if (options.readable === false) this.readable = false;\n    if (options.writable === false) this.writable = false;\n\n    if (options.allowHalfOpen === false) {\n      this.allowHalfOpen = false;\n      this.once('end', onend);\n    }\n  }\n}\n\nObject.defineProperty(Duplex.prototype, 'writableHighWaterMark', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._writableState.highWaterMark;\n  }\n});\nObject.defineProperty(Duplex.prototype, 'writableBuffer', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._writableState && this._writableState.getBuffer();\n  }\n});\nObject.defineProperty(Duplex.prototype, 'writableLength', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._writableState.length;\n  }\n}); // the no-half-open enforcer\n\nfunction onend() {\n  // If the writable side ended, then we're ok.\n  if (this._writableState.ended) return; // no more data can be written.\n  // But allow more writes to happen in this tick.\n\n  process.nextTick(onEndNT, this);\n}\n\nfunction onEndNT(self) {\n  self.end();\n}\n\nObject.defineProperty(Duplex.prototype, 'destroyed', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    if (this._readableState === undefined || this._writableState === undefined) {\n      return false;\n    }\n\n    return this._readableState.destroyed && this._writableState.destroyed;\n  },\n  set: function set(value) {\n    // we ignore the value if the stream\n    // has not been initialized yet\n    if (this._readableState === undefined || this._writableState === undefined) {\n      return;\n    } // backward compatibility, the user is explicitly\n    // managing destroyed\n\n\n    this._readableState.destroyed = value;\n    this._writableState.destroyed = value;\n  }\n});","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n// a passthrough stream.\n// basically just the most minimal sort of Transform stream.\n// Every written chunk gets output as-is.\n'use strict';\n\nmodule.exports = PassThrough;\n\nvar Transform = require('./_stream_transform');\n\nrequire('inherits')(PassThrough, Transform);\n\nfunction PassThrough(options) {\n  if (!(this instanceof PassThrough)) return new PassThrough(options);\n  Transform.call(this, options);\n}\n\nPassThrough.prototype._transform = function (chunk, encoding, cb) {\n  cb(null, chunk);\n};","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n'use strict';\n\nmodule.exports = Readable;\n/*<replacement>*/\n\nvar Duplex;\n/*</replacement>*/\n\nReadable.ReadableState = ReadableState;\n/*<replacement>*/\n\nvar EE = require('events').EventEmitter;\n\nvar EElistenerCount = function EElistenerCount(emitter, type) {\n  return emitter.listeners(type).length;\n};\n/*</replacement>*/\n\n/*<replacement>*/\n\n\nvar Stream = require('./internal/streams/stream');\n/*</replacement>*/\n\n\nvar Buffer = require('buffer').Buffer;\n\nvar OurUint8Array = global.Uint8Array || function () {};\n\nfunction _uint8ArrayToBuffer(chunk) {\n  return Buffer.from(chunk);\n}\n\nfunction _isUint8Array(obj) {\n  return Buffer.isBuffer(obj) || obj instanceof OurUint8Array;\n}\n/*<replacement>*/\n\n\nvar debugUtil = require('util');\n\nvar debug;\n\nif (debugUtil && debugUtil.debuglog) {\n  debug = debugUtil.debuglog('stream');\n} else {\n  debug = function debug() {};\n}\n/*</replacement>*/\n\n\nvar BufferList = require('./internal/streams/buffer_list');\n\nvar destroyImpl = require('./internal/streams/destroy');\n\nvar _require = require('./internal/streams/state'),\n    getHighWaterMark = _require.getHighWaterMark;\n\nvar _require$codes = require('../errors').codes,\n    ERR_INVALID_ARG_TYPE = _require$codes.ERR_INVALID_ARG_TYPE,\n    ERR_STREAM_PUSH_AFTER_EOF = _require$codes.ERR_STREAM_PUSH_AFTER_EOF,\n    ERR_METHOD_NOT_IMPLEMENTED = _require$codes.ERR_METHOD_NOT_IMPLEMENTED,\n    ERR_STREAM_UNSHIFT_AFTER_END_EVENT = _require$codes.ERR_STREAM_UNSHIFT_AFTER_END_EVENT; // Lazy loaded to improve the startup performance.\n\n\nvar StringDecoder;\nvar createReadableStreamAsyncIterator;\nvar from;\n\nrequire('inherits')(Readable, Stream);\n\nvar errorOrDestroy = destroyImpl.errorOrDestroy;\nvar kProxyEvents = ['error', 'close', 'destroy', 'pause', 'resume'];\n\nfunction prependListener(emitter, event, fn) {\n  // Sadly this is not cacheable as some libraries bundle their own\n  // event emitter implementation with them.\n  if (typeof emitter.prependListener === 'function') return emitter.prependListener(event, fn); // This is a hack to make sure that our error handler is attached before any\n  // userland ones.  NEVER DO THIS. This is here only because this code needs\n  // to continue to work with older versions of Node.js that do not include\n  // the prependListener() method. The goal is to eventually remove this hack.\n\n  if (!emitter._events || !emitter._events[event]) emitter.on(event, fn);else if (Array.isArray(emitter._events[event])) emitter._events[event].unshift(fn);else emitter._events[event] = [fn, emitter._events[event]];\n}\n\nfunction ReadableState(options, stream, isDuplex) {\n  Duplex = Duplex || require('./_stream_duplex');\n  options = options || {}; // Duplex streams are both readable and writable, but share\n  // the same options object.\n  // However, some cases require setting options to different\n  // values for the readable and the writable sides of the duplex stream.\n  // These options can be provided separately as readableXXX and writableXXX.\n\n  if (typeof isDuplex !== 'boolean') isDuplex = stream instanceof Duplex; // object stream flag. Used to make read(n) ignore n and to\n  // make all the buffer merging and length checks go away\n\n  this.objectMode = !!options.objectMode;\n  if (isDuplex) this.objectMode = this.objectMode || !!options.readableObjectMode; // the point at which it stops calling _read() to fill the buffer\n  // Note: 0 is a valid value, means \"don't call _read preemptively ever\"\n\n  this.highWaterMark = getHighWaterMark(this, options, 'readableHighWaterMark', isDuplex); // A linked list is used to store data chunks instead of an array because the\n  // linked list can remove elements from the beginning faster than\n  // array.shift()\n\n  this.buffer = new BufferList();\n  this.length = 0;\n  this.pipes = null;\n  this.pipesCount = 0;\n  this.flowing = null;\n  this.ended = false;\n  this.endEmitted = false;\n  this.reading = false; // a flag to be able to tell if the event 'readable'/'data' is emitted\n  // immediately, or on a later tick.  We set this to true at first, because\n  // any actions that shouldn't happen until \"later\" should generally also\n  // not happen before the first read call.\n\n  this.sync = true; // whenever we return null, then we set a flag to say\n  // that we're awaiting a 'readable' event emission.\n\n  this.needReadable = false;\n  this.emittedReadable = false;\n  this.readableListening = false;\n  this.resumeScheduled = false;\n  this.paused = true; // Should close be emitted on destroy. Defaults to true.\n\n  this.emitClose = options.emitClose !== false; // Should .destroy() be called after 'end' (and potentially 'finish')\n\n  this.autoDestroy = !!options.autoDestroy; // has it been destroyed\n\n  this.destroyed = false; // Crypto is kind of old and crusty.  Historically, its default string\n  // encoding is 'binary' so we have to make this configurable.\n  // Everything else in the universe uses 'utf8', though.\n\n  this.defaultEncoding = options.defaultEncoding || 'utf8'; // the number of writers that are awaiting a drain event in .pipe()s\n\n  this.awaitDrain = 0; // if true, a maybeReadMore has been scheduled\n\n  this.readingMore = false;\n  this.decoder = null;\n  this.encoding = null;\n\n  if (options.encoding) {\n    if (!StringDecoder) StringDecoder = require('string_decoder/').StringDecoder;\n    this.decoder = new StringDecoder(options.encoding);\n    this.encoding = options.encoding;\n  }\n}\n\nfunction Readable(options) {\n  Duplex = Duplex || require('./_stream_duplex');\n  if (!(this instanceof Readable)) return new Readable(options); // Checking for a Stream.Duplex instance is faster here instead of inside\n  // the ReadableState constructor, at least with V8 6.5\n\n  var isDuplex = this instanceof Duplex;\n  this._readableState = new ReadableState(options, this, isDuplex); // legacy\n\n  this.readable = true;\n\n  if (options) {\n    if (typeof options.read === 'function') this._read = options.read;\n    if (typeof options.destroy === 'function') this._destroy = options.destroy;\n  }\n\n  Stream.call(this);\n}\n\nObject.defineProperty(Readable.prototype, 'destroyed', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    if (this._readableState === undefined) {\n      return false;\n    }\n\n    return this._readableState.destroyed;\n  },\n  set: function set(value) {\n    // we ignore the value if the stream\n    // has not been initialized yet\n    if (!this._readableState) {\n      return;\n    } // backward compatibility, the user is explicitly\n    // managing destroyed\n\n\n    this._readableState.destroyed = value;\n  }\n});\nReadable.prototype.destroy = destroyImpl.destroy;\nReadable.prototype._undestroy = destroyImpl.undestroy;\n\nReadable.prototype._destroy = function (err, cb) {\n  cb(err);\n}; // Manually shove something into the read() buffer.\n// This returns true if the highWaterMark has not been hit yet,\n// similar to how Writable.write() returns true if you should\n// write() some more.\n\n\nReadable.prototype.push = function (chunk, encoding) {\n  var state = this._readableState;\n  var skipChunkCheck;\n\n  if (!state.objectMode) {\n    if (typeof chunk === 'string') {\n      encoding = encoding || state.defaultEncoding;\n\n      if (encoding !== state.encoding) {\n        chunk = Buffer.from(chunk, encoding);\n        encoding = '';\n      }\n\n      skipChunkCheck = true;\n    }\n  } else {\n    skipChunkCheck = true;\n  }\n\n  return readableAddChunk(this, chunk, encoding, false, skipChunkCheck);\n}; // Unshift should *always* be something directly out of read()\n\n\nReadable.prototype.unshift = function (chunk) {\n  return readableAddChunk(this, chunk, null, true, false);\n};\n\nfunction readableAddChunk(stream, chunk, encoding, addToFront, skipChunkCheck) {\n  debug('readableAddChunk', chunk);\n  var state = stream._readableState;\n\n  if (chunk === null) {\n    state.reading = false;\n    onEofChunk(stream, state);\n  } else {\n    var er;\n    if (!skipChunkCheck) er = chunkInvalid(state, chunk);\n\n    if (er) {\n      errorOrDestroy(stream, er);\n    } else if (state.objectMode || chunk && chunk.length > 0) {\n      if (typeof chunk !== 'string' && !state.objectMode && Object.getPrototypeOf(chunk) !== Buffer.prototype) {\n        chunk = _uint8ArrayToBuffer(chunk);\n      }\n\n      if (addToFront) {\n        if (state.endEmitted) errorOrDestroy(stream, new ERR_STREAM_UNSHIFT_AFTER_END_EVENT());else addChunk(stream, state, chunk, true);\n      } else if (state.ended) {\n        errorOrDestroy(stream, new ERR_STREAM_PUSH_AFTER_EOF());\n      } else if (state.destroyed) {\n        return false;\n      } else {\n        state.reading = false;\n\n        if (state.decoder && !encoding) {\n          chunk = state.decoder.write(chunk);\n          if (state.objectMode || chunk.length !== 0) addChunk(stream, state, chunk, false);else maybeReadMore(stream, state);\n        } else {\n          addChunk(stream, state, chunk, false);\n        }\n      }\n    } else if (!addToFront) {\n      state.reading = false;\n      maybeReadMore(stream, state);\n    }\n  } // We can push more data if we are below the highWaterMark.\n  // Also, if we have no data yet, we can stand some more bytes.\n  // This is to work around cases where hwm=0, such as the repl.\n\n\n  return !state.ended && (state.length < state.highWaterMark || state.length === 0);\n}\n\nfunction addChunk(stream, state, chunk, addToFront) {\n  if (state.flowing && state.length === 0 && !state.sync) {\n    state.awaitDrain = 0;\n    stream.emit('data', chunk);\n  } else {\n    // update the buffer info.\n    state.length += state.objectMode ? 1 : chunk.length;\n    if (addToFront) state.buffer.unshift(chunk);else state.buffer.push(chunk);\n    if (state.needReadable) emitReadable(stream);\n  }\n\n  maybeReadMore(stream, state);\n}\n\nfunction chunkInvalid(state, chunk) {\n  var er;\n\n  if (!_isUint8Array(chunk) && typeof chunk !== 'string' && chunk !== undefined && !state.objectMode) {\n    er = new ERR_INVALID_ARG_TYPE('chunk', ['string', 'Buffer', 'Uint8Array'], chunk);\n  }\n\n  return er;\n}\n\nReadable.prototype.isPaused = function () {\n  return this._readableState.flowing === false;\n}; // backwards compatibility.\n\n\nReadable.prototype.setEncoding = function (enc) {\n  if (!StringDecoder) StringDecoder = require('string_decoder/').StringDecoder;\n  var decoder = new StringDecoder(enc);\n  this._readableState.decoder = decoder; // If setEncoding(null), decoder.encoding equals utf8\n\n  this._readableState.encoding = this._readableState.decoder.encoding; // Iterate over current buffer to convert already stored Buffers:\n\n  var p = this._readableState.buffer.head;\n  var content = '';\n\n  while (p !== null) {\n    content += decoder.write(p.data);\n    p = p.next;\n  }\n\n  this._readableState.buffer.clear();\n\n  if (content !== '') this._readableState.buffer.push(content);\n  this._readableState.length = content.length;\n  return this;\n}; // Don't raise the hwm > 1GB\n\n\nvar MAX_HWM = 0x40000000;\n\nfunction computeNewHighWaterMark(n) {\n  if (n >= MAX_HWM) {\n    // TODO(ronag): Throw ERR_VALUE_OUT_OF_RANGE.\n    n = MAX_HWM;\n  } else {\n    // Get the next highest power of 2 to prevent increasing hwm excessively in\n    // tiny amounts\n    n--;\n    n |= n >>> 1;\n    n |= n >>> 2;\n    n |= n >>> 4;\n    n |= n >>> 8;\n    n |= n >>> 16;\n    n++;\n  }\n\n  return n;\n} // This function is designed to be inlinable, so please take care when making\n// changes to the function body.\n\n\nfunction howMuchToRead(n, state) {\n  if (n <= 0 || state.length === 0 && state.ended) return 0;\n  if (state.objectMode) return 1;\n\n  if (n !== n) {\n    // Only flow one buffer at a time\n    if (state.flowing && state.length) return state.buffer.head.data.length;else return state.length;\n  } // If we're asking for more than the current hwm, then raise the hwm.\n\n\n  if (n > state.highWaterMark) state.highWaterMark = computeNewHighWaterMark(n);\n  if (n <= state.length) return n; // Don't have enough\n\n  if (!state.ended) {\n    state.needReadable = true;\n    return 0;\n  }\n\n  return state.length;\n} // you can override either this method, or the async _read(n) below.\n\n\nReadable.prototype.read = function (n) {\n  debug('read', n);\n  n = parseInt(n, 10);\n  var state = this._readableState;\n  var nOrig = n;\n  if (n !== 0) state.emittedReadable = false; // if we're doing read(0) to trigger a readable event, but we\n  // already have a bunch of data in the buffer, then just trigger\n  // the 'readable' event and move on.\n\n  if (n === 0 && state.needReadable && ((state.highWaterMark !== 0 ? state.length >= state.highWaterMark : state.length > 0) || state.ended)) {\n    debug('read: emitReadable', state.length, state.ended);\n    if (state.length === 0 && state.ended) endReadable(this);else emitReadable(this);\n    return null;\n  }\n\n  n = howMuchToRead(n, state); // if we've ended, and we're now clear, then finish it up.\n\n  if (n === 0 && state.ended) {\n    if (state.length === 0) endReadable(this);\n    return null;\n  } // All the actual chunk generation logic needs to be\n  // *below* the call to _read.  The reason is that in certain\n  // synthetic stream cases, such as passthrough streams, _read\n  // may be a completely synchronous operation which may change\n  // the state of the read buffer, providing enough data when\n  // before there was *not* enough.\n  //\n  // So, the steps are:\n  // 1. Figure out what the state of things will be after we do\n  // a read from the buffer.\n  //\n  // 2. If that resulting state will trigger a _read, then call _read.\n  // Note that this may be asynchronous, or synchronous.  Yes, it is\n  // deeply ugly to write APIs this way, but that still doesn't mean\n  // that the Readable class should behave improperly, as streams are\n  // designed to be sync/async agnostic.\n  // Take note if the _read call is sync or async (ie, if the read call\n  // has returned yet), so that we know whether or not it's safe to emit\n  // 'readable' etc.\n  //\n  // 3. Actually pull the requested chunks out of the buffer and return.\n  // if we need a readable event, then we need to do some reading.\n\n\n  var doRead = state.needReadable;\n  debug('need readable', doRead); // if we currently have less than the highWaterMark, then also read some\n\n  if (state.length === 0 || state.length - n < state.highWaterMark) {\n    doRead = true;\n    debug('length less than watermark', doRead);\n  } // however, if we've ended, then there's no point, and if we're already\n  // reading, then it's unnecessary.\n\n\n  if (state.ended || state.reading) {\n    doRead = false;\n    debug('reading or ended', doRead);\n  } else if (doRead) {\n    debug('do read');\n    state.reading = true;\n    state.sync = true; // if the length is currently zero, then we *need* a readable event.\n\n    if (state.length === 0) state.needReadable = true; // call internal read method\n\n    this._read(state.highWaterMark);\n\n    state.sync = false; // If _read pushed data synchronously, then `reading` will be false,\n    // and we need to re-evaluate how much data we can return to the user.\n\n    if (!state.reading) n = howMuchToRead(nOrig, state);\n  }\n\n  var ret;\n  if (n > 0) ret = fromList(n, state);else ret = null;\n\n  if (ret === null) {\n    state.needReadable = state.length <= state.highWaterMark;\n    n = 0;\n  } else {\n    state.length -= n;\n    state.awaitDrain = 0;\n  }\n\n  if (state.length === 0) {\n    // If we have nothing in the buffer, then we want to know\n    // as soon as we *do* get something into the buffer.\n    if (!state.ended) state.needReadable = true; // If we tried to read() past the EOF, then emit end on the next tick.\n\n    if (nOrig !== n && state.ended) endReadable(this);\n  }\n\n  if (ret !== null) this.emit('data', ret);\n  return ret;\n};\n\nfunction onEofChunk(stream, state) {\n  debug('onEofChunk');\n  if (state.ended) return;\n\n  if (state.decoder) {\n    var chunk = state.decoder.end();\n\n    if (chunk && chunk.length) {\n      state.buffer.push(chunk);\n      state.length += state.objectMode ? 1 : chunk.length;\n    }\n  }\n\n  state.ended = true;\n\n  if (state.sync) {\n    // if we are sync, wait until next tick to emit the data.\n    // Otherwise we risk emitting data in the flow()\n    // the readable code triggers during a read() call\n    emitReadable(stream);\n  } else {\n    // emit 'readable' now to make sure it gets picked up.\n    state.needReadable = false;\n\n    if (!state.emittedReadable) {\n      state.emittedReadable = true;\n      emitReadable_(stream);\n    }\n  }\n} // Don't emit readable right away in sync mode, because this can trigger\n// another read() call => stack overflow.  This way, it might trigger\n// a nextTick recursion warning, but that's not so bad.\n\n\nfunction emitReadable(stream) {\n  var state = stream._readableState;\n  debug('emitReadable', state.needReadable, state.emittedReadable);\n  state.needReadable = false;\n\n  if (!state.emittedReadable) {\n    debug('emitReadable', state.flowing);\n    state.emittedReadable = true;\n    process.nextTick(emitReadable_, stream);\n  }\n}\n\nfunction emitReadable_(stream) {\n  var state = stream._readableState;\n  debug('emitReadable_', state.destroyed, state.length, state.ended);\n\n  if (!state.destroyed && (state.length || state.ended)) {\n    stream.emit('readable');\n    state.emittedReadable = false;\n  } // The stream needs another readable event if\n  // 1. It is not flowing, as the flow mechanism will take\n  //    care of it.\n  // 2. It is not ended.\n  // 3. It is below the highWaterMark, so we can schedule\n  //    another readable later.\n\n\n  state.needReadable = !state.flowing && !state.ended && state.length <= state.highWaterMark;\n  flow(stream);\n} // at this point, the user has presumably seen the 'readable' event,\n// and called read() to consume some data.  that may have triggered\n// in turn another _read(n) call, in which case reading = true if\n// it's in progress.\n// However, if we're not ended, or reading, and the length < hwm,\n// then go ahead and try to read some more preemptively.\n\n\nfunction maybeReadMore(stream, state) {\n  if (!state.readingMore) {\n    state.readingMore = true;\n    process.nextTick(maybeReadMore_, stream, state);\n  }\n}\n\nfunction maybeReadMore_(stream, state) {\n  // Attempt to read more data if we should.\n  //\n  // The conditions for reading more data are (one of):\n  // - Not enough data buffered (state.length < state.highWaterMark). The loop\n  //   is responsible for filling the buffer with enough data if such data\n  //   is available. If highWaterMark is 0 and we are not in the flowing mode\n  //   we should _not_ attempt to buffer any extra data. We'll get more data\n  //   when the stream consumer calls read() instead.\n  // - No data in the buffer, and the stream is in flowing mode. In this mode\n  //   the loop below is responsible for ensuring read() is called. Failing to\n  //   call read here would abort the flow and there's no other mechanism for\n  //   continuing the flow if the stream consumer has just subscribed to the\n  //   'data' event.\n  //\n  // In addition to the above conditions to keep reading data, the following\n  // conditions prevent the data from being read:\n  // - The stream has ended (state.ended).\n  // - There is already a pending 'read' operation (state.reading). This is a\n  //   case where the the stream has called the implementation defined _read()\n  //   method, but they are processing the call asynchronously and have _not_\n  //   called push() with new data. In this case we skip performing more\n  //   read()s. The execution ends in this method again after the _read() ends\n  //   up calling push() with more data.\n  while (!state.reading && !state.ended && (state.length < state.highWaterMark || state.flowing && state.length === 0)) {\n    var len = state.length;\n    debug('maybeReadMore read 0');\n    stream.read(0);\n    if (len === state.length) // didn't get any data, stop spinning.\n      break;\n  }\n\n  state.readingMore = false;\n} // abstract method.  to be overridden in specific implementation classes.\n// call cb(er, data) where data is <= n in length.\n// for virtual (non-string, non-buffer) streams, \"length\" is somewhat\n// arbitrary, and perhaps not very meaningful.\n\n\nReadable.prototype._read = function (n) {\n  errorOrDestroy(this, new ERR_METHOD_NOT_IMPLEMENTED('_read()'));\n};\n\nReadable.prototype.pipe = function (dest, pipeOpts) {\n  var src = this;\n  var state = this._readableState;\n\n  switch (state.pipesCount) {\n    case 0:\n      state.pipes = dest;\n      break;\n\n    case 1:\n      state.pipes = [state.pipes, dest];\n      break;\n\n    default:\n      state.pipes.push(dest);\n      break;\n  }\n\n  state.pipesCount += 1;\n  debug('pipe count=%d opts=%j', state.pipesCount, pipeOpts);\n  var doEnd = (!pipeOpts || pipeOpts.end !== false) && dest !== process.stdout && dest !== process.stderr;\n  var endFn = doEnd ? onend : unpipe;\n  if (state.endEmitted) process.nextTick(endFn);else src.once('end', endFn);\n  dest.on('unpipe', onunpipe);\n\n  function onunpipe(readable, unpipeInfo) {\n    debug('onunpipe');\n\n    if (readable === src) {\n      if (unpipeInfo && unpipeInfo.hasUnpiped === false) {\n        unpipeInfo.hasUnpiped = true;\n        cleanup();\n      }\n    }\n  }\n\n  function onend() {\n    debug('onend');\n    dest.end();\n  } // when the dest drains, it reduces the awaitDrain counter\n  // on the source.  This would be more elegant with a .once()\n  // handler in flow(), but adding and removing repeatedly is\n  // too slow.\n\n\n  var ondrain = pipeOnDrain(src);\n  dest.on('drain', ondrain);\n  var cleanedUp = false;\n\n  function cleanup() {\n    debug('cleanup'); // cleanup event handlers once the pipe is broken\n\n    dest.removeListener('close', onclose);\n    dest.removeListener('finish', onfinish);\n    dest.removeListener('drain', ondrain);\n    dest.removeListener('error', onerror);\n    dest.removeListener('unpipe', onunpipe);\n    src.removeListener('end', onend);\n    src.removeListener('end', unpipe);\n    src.removeListener('data', ondata);\n    cleanedUp = true; // if the reader is waiting for a drain event from this\n    // specific writer, then it would cause it to never start\n    // flowing again.\n    // So, if this is awaiting a drain, then we just call it now.\n    // If we don't know, then assume that we are waiting for one.\n\n    if (state.awaitDrain && (!dest._writableState || dest._writableState.needDrain)) ondrain();\n  }\n\n  src.on('data', ondata);\n\n  function ondata(chunk) {\n    debug('ondata');\n    var ret = dest.write(chunk);\n    debug('dest.write', ret);\n\n    if (ret === false) {\n      // If the user unpiped during `dest.write()`, it is possible\n      // to get stuck in a permanently paused state if that write\n      // also returned false.\n      // => Check whether `dest` is still a piping destination.\n      if ((state.pipesCount === 1 && state.pipes === dest || state.pipesCount > 1 && indexOf(state.pipes, dest) !== -1) && !cleanedUp) {\n        debug('false write response, pause', state.awaitDrain);\n        state.awaitDrain++;\n      }\n\n      src.pause();\n    }\n  } // if the dest has an error, then stop piping into it.\n  // however, don't suppress the throwing behavior for this.\n\n\n  function onerror(er) {\n    debug('onerror', er);\n    unpipe();\n    dest.removeListener('error', onerror);\n    if (EElistenerCount(dest, 'error') === 0) errorOrDestroy(dest, er);\n  } // Make sure our error handler is attached before userland ones.\n\n\n  prependListener(dest, 'error', onerror); // Both close and finish should trigger unpipe, but only once.\n\n  function onclose() {\n    dest.removeListener('finish', onfinish);\n    unpipe();\n  }\n\n  dest.once('close', onclose);\n\n  function onfinish() {\n    debug('onfinish');\n    dest.removeListener('close', onclose);\n    unpipe();\n  }\n\n  dest.once('finish', onfinish);\n\n  function unpipe() {\n    debug('unpipe');\n    src.unpipe(dest);\n  } // tell the dest that it's being piped to\n\n\n  dest.emit('pipe', src); // start the flow if it hasn't been started already.\n\n  if (!state.flowing) {\n    debug('pipe resume');\n    src.resume();\n  }\n\n  return dest;\n};\n\nfunction pipeOnDrain(src) {\n  return function pipeOnDrainFunctionResult() {\n    var state = src._readableState;\n    debug('pipeOnDrain', state.awaitDrain);\n    if (state.awaitDrain) state.awaitDrain--;\n\n    if (state.awaitDrain === 0 && EElistenerCount(src, 'data')) {\n      state.flowing = true;\n      flow(src);\n    }\n  };\n}\n\nReadable.prototype.unpipe = function (dest) {\n  var state = this._readableState;\n  var unpipeInfo = {\n    hasUnpiped: false\n  }; // if we're not piping anywhere, then do nothing.\n\n  if (state.pipesCount === 0) return this; // just one destination.  most common case.\n\n  if (state.pipesCount === 1) {\n    // passed in one, but it's not the right one.\n    if (dest && dest !== state.pipes) return this;\n    if (!dest) dest = state.pipes; // got a match.\n\n    state.pipes = null;\n    state.pipesCount = 0;\n    state.flowing = false;\n    if (dest) dest.emit('unpipe', this, unpipeInfo);\n    return this;\n  } // slow case. multiple pipe destinations.\n\n\n  if (!dest) {\n    // remove all.\n    var dests = state.pipes;\n    var len = state.pipesCount;\n    state.pipes = null;\n    state.pipesCount = 0;\n    state.flowing = false;\n\n    for (var i = 0; i < len; i++) {\n      dests[i].emit('unpipe', this, {\n        hasUnpiped: false\n      });\n    }\n\n    return this;\n  } // try to find the right one.\n\n\n  var index = indexOf(state.pipes, dest);\n  if (index === -1) return this;\n  state.pipes.splice(index, 1);\n  state.pipesCount -= 1;\n  if (state.pipesCount === 1) state.pipes = state.pipes[0];\n  dest.emit('unpipe', this, unpipeInfo);\n  return this;\n}; // set up data events if they are asked for\n// Ensure readable listeners eventually get something\n\n\nReadable.prototype.on = function (ev, fn) {\n  var res = Stream.prototype.on.call(this, ev, fn);\n  var state = this._readableState;\n\n  if (ev === 'data') {\n    // update readableListening so that resume() may be a no-op\n    // a few lines down. This is needed to support once('readable').\n    state.readableListening = this.listenerCount('readable') > 0; // Try start flowing on next tick if stream isn't explicitly paused\n\n    if (state.flowing !== false) this.resume();\n  } else if (ev === 'readable') {\n    if (!state.endEmitted && !state.readableListening) {\n      state.readableListening = state.needReadable = true;\n      state.flowing = false;\n      state.emittedReadable = false;\n      debug('on readable', state.length, state.reading);\n\n      if (state.length) {\n        emitReadable(this);\n      } else if (!state.reading) {\n        process.nextTick(nReadingNextTick, this);\n      }\n    }\n  }\n\n  return res;\n};\n\nReadable.prototype.addListener = Readable.prototype.on;\n\nReadable.prototype.removeListener = function (ev, fn) {\n  var res = Stream.prototype.removeListener.call(this, ev, fn);\n\n  if (ev === 'readable') {\n    // We need to check if there is someone still listening to\n    // readable and reset the state. However this needs to happen\n    // after readable has been emitted but before I/O (nextTick) to\n    // support once('readable', fn) cycles. This means that calling\n    // resume within the same tick will have no\n    // effect.\n    process.nextTick(updateReadableListening, this);\n  }\n\n  return res;\n};\n\nReadable.prototype.removeAllListeners = function (ev) {\n  var res = Stream.prototype.removeAllListeners.apply(this, arguments);\n\n  if (ev === 'readable' || ev === undefined) {\n    // We need to check if there is someone still listening to\n    // readable and reset the state. However this needs to happen\n    // after readable has been emitted but before I/O (nextTick) to\n    // support once('readable', fn) cycles. This means that calling\n    // resume within the same tick will have no\n    // effect.\n    process.nextTick(updateReadableListening, this);\n  }\n\n  return res;\n};\n\nfunction updateReadableListening(self) {\n  var state = self._readableState;\n  state.readableListening = self.listenerCount('readable') > 0;\n\n  if (state.resumeScheduled && !state.paused) {\n    // flowing needs to be set to true now, otherwise\n    // the upcoming resume will not flow.\n    state.flowing = true; // crude way to check if we should resume\n  } else if (self.listenerCount('data') > 0) {\n    self.resume();\n  }\n}\n\nfunction nReadingNextTick(self) {\n  debug('readable nexttick read 0');\n  self.read(0);\n} // pause() and resume() are remnants of the legacy readable stream API\n// If the user uses them, then switch into old mode.\n\n\nReadable.prototype.resume = function () {\n  var state = this._readableState;\n\n  if (!state.flowing) {\n    debug('resume'); // we flow only if there is no one listening\n    // for readable, but we still have to call\n    // resume()\n\n    state.flowing = !state.readableListening;\n    resume(this, state);\n  }\n\n  state.paused = false;\n  return this;\n};\n\nfunction resume(stream, state) {\n  if (!state.resumeScheduled) {\n    state.resumeScheduled = true;\n    process.nextTick(resume_, stream, state);\n  }\n}\n\nfunction resume_(stream, state) {\n  debug('resume', state.reading);\n\n  if (!state.reading) {\n    stream.read(0);\n  }\n\n  state.resumeScheduled = false;\n  stream.emit('resume');\n  flow(stream);\n  if (state.flowing && !state.reading) stream.read(0);\n}\n\nReadable.prototype.pause = function () {\n  debug('call pause flowing=%j', this._readableState.flowing);\n\n  if (this._readableState.flowing !== false) {\n    debug('pause');\n    this._readableState.flowing = false;\n    this.emit('pause');\n  }\n\n  this._readableState.paused = true;\n  return this;\n};\n\nfunction flow(stream) {\n  var state = stream._readableState;\n  debug('flow', state.flowing);\n\n  while (state.flowing && stream.read() !== null) {\n    ;\n  }\n} // wrap an old-style stream as the async data source.\n// This is *not* part of the readable stream interface.\n// It is an ugly unfortunate mess of history.\n\n\nReadable.prototype.wrap = function (stream) {\n  var _this = this;\n\n  var state = this._readableState;\n  var paused = false;\n  stream.on('end', function () {\n    debug('wrapped end');\n\n    if (state.decoder && !state.ended) {\n      var chunk = state.decoder.end();\n      if (chunk && chunk.length) _this.push(chunk);\n    }\n\n    _this.push(null);\n  });\n  stream.on('data', function (chunk) {\n    debug('wrapped data');\n    if (state.decoder) chunk = state.decoder.write(chunk); // don't skip over falsy values in objectMode\n\n    if (state.objectMode && (chunk === null || chunk === undefined)) return;else if (!state.objectMode && (!chunk || !chunk.length)) return;\n\n    var ret = _this.push(chunk);\n\n    if (!ret) {\n      paused = true;\n      stream.pause();\n    }\n  }); // proxy all the other methods.\n  // important when wrapping filters and duplexes.\n\n  for (var i in stream) {\n    if (this[i] === undefined && typeof stream[i] === 'function') {\n      this[i] = function methodWrap(method) {\n        return function methodWrapReturnFunction() {\n          return stream[method].apply(stream, arguments);\n        };\n      }(i);\n    }\n  } // proxy certain important events.\n\n\n  for (var n = 0; n < kProxyEvents.length; n++) {\n    stream.on(kProxyEvents[n], this.emit.bind(this, kProxyEvents[n]));\n  } // when we try to consume some more bytes, simply unpause the\n  // underlying stream.\n\n\n  this._read = function (n) {\n    debug('wrapped _read', n);\n\n    if (paused) {\n      paused = false;\n      stream.resume();\n    }\n  };\n\n  return this;\n};\n\nif (typeof Symbol === 'function') {\n  Readable.prototype[Symbol.asyncIterator] = function () {\n    if (createReadableStreamAsyncIterator === undefined) {\n      createReadableStreamAsyncIterator = require('./internal/streams/async_iterator');\n    }\n\n    return createReadableStreamAsyncIterator(this);\n  };\n}\n\nObject.defineProperty(Readable.prototype, 'readableHighWaterMark', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._readableState.highWaterMark;\n  }\n});\nObject.defineProperty(Readable.prototype, 'readableBuffer', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._readableState && this._readableState.buffer;\n  }\n});\nObject.defineProperty(Readable.prototype, 'readableFlowing', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._readableState.flowing;\n  },\n  set: function set(state) {\n    if (this._readableState) {\n      this._readableState.flowing = state;\n    }\n  }\n}); // exposed for testing purposes only.\n\nReadable._fromList = fromList;\nObject.defineProperty(Readable.prototype, 'readableLength', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._readableState.length;\n  }\n}); // Pluck off n bytes from an array of buffers.\n// Length is the combined lengths of all the buffers in the list.\n// This function is designed to be inlinable, so please take care when making\n// changes to the function body.\n\nfunction fromList(n, state) {\n  // nothing buffered\n  if (state.length === 0) return null;\n  var ret;\n  if (state.objectMode) ret = state.buffer.shift();else if (!n || n >= state.length) {\n    // read it all, truncate the list\n    if (state.decoder) ret = state.buffer.join('');else if (state.buffer.length === 1) ret = state.buffer.first();else ret = state.buffer.concat(state.length);\n    state.buffer.clear();\n  } else {\n    // read part of list\n    ret = state.buffer.consume(n, state.decoder);\n  }\n  return ret;\n}\n\nfunction endReadable(stream) {\n  var state = stream._readableState;\n  debug('endReadable', state.endEmitted);\n\n  if (!state.endEmitted) {\n    state.ended = true;\n    process.nextTick(endReadableNT, state, stream);\n  }\n}\n\nfunction endReadableNT(state, stream) {\n  debug('endReadableNT', state.endEmitted, state.length); // Check that we didn't get one last unshift.\n\n  if (!state.endEmitted && state.length === 0) {\n    state.endEmitted = true;\n    stream.readable = false;\n    stream.emit('end');\n\n    if (state.autoDestroy) {\n      // In case of duplex streams we need a way to detect\n      // if the writable side is ready for autoDestroy as well\n      var wState = stream._writableState;\n\n      if (!wState || wState.autoDestroy && wState.finished) {\n        stream.destroy();\n      }\n    }\n  }\n}\n\nif (typeof Symbol === 'function') {\n  Readable.from = function (iterable, opts) {\n    if (from === undefined) {\n      from = require('./internal/streams/from');\n    }\n\n    return from(Readable, iterable, opts);\n  };\n}\n\nfunction indexOf(xs, x) {\n  for (var i = 0, l = xs.length; i < l; i++) {\n    if (xs[i] === x) return i;\n  }\n\n  return -1;\n}","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n// a transform stream is a readable/writable stream where you do\n// something with the data.  Sometimes it's called a \"filter\",\n// but that's not a great name for it, since that implies a thing where\n// some bits pass through, and others are simply ignored.  (That would\n// be a valid example of a transform, of course.)\n//\n// While the output is causally related to the input, it's not a\n// necessarily symmetric or synchronous transformation.  For example,\n// a zlib stream might take multiple plain-text writes(), and then\n// emit a single compressed chunk some time in the future.\n//\n// Here's how this works:\n//\n// The Transform stream has all the aspects of the readable and writable\n// stream classes.  When you write(chunk), that calls _write(chunk,cb)\n// internally, and returns false if there's a lot of pending writes\n// buffered up.  When you call read(), that calls _read(n) until\n// there's enough pending readable data buffered up.\n//\n// In a transform stream, the written data is placed in a buffer.  When\n// _read(n) is called, it transforms the queued up data, calling the\n// buffered _write cb's as it consumes chunks.  If consuming a single\n// written chunk would result in multiple output chunks, then the first\n// outputted bit calls the readcb, and subsequent chunks just go into\n// the read buffer, and will cause it to emit 'readable' if necessary.\n//\n// This way, back-pressure is actually determined by the reading side,\n// since _read has to be called to start processing a new chunk.  However,\n// a pathological inflate type of transform can cause excessive buffering\n// here.  For example, imagine a stream where every byte of input is\n// interpreted as an integer from 0-255, and then results in that many\n// bytes of output.  Writing the 4 bytes {ff,ff,ff,ff} would result in\n// 1kb of data being output.  In this case, you could write a very small\n// amount of input, and end up with a very large amount of output.  In\n// such a pathological inflating mechanism, there'd be no way to tell\n// the system to stop doing the transform.  A single 4MB write could\n// cause the system to run out of memory.\n//\n// However, even in such a pathological case, only a single written chunk\n// would be consumed, and then the rest would wait (un-transformed) until\n// the results of the previous transformed chunk were consumed.\n'use strict';\n\nmodule.exports = Transform;\n\nvar _require$codes = require('../errors').codes,\n    ERR_METHOD_NOT_IMPLEMENTED = _require$codes.ERR_METHOD_NOT_IMPLEMENTED,\n    ERR_MULTIPLE_CALLBACK = _require$codes.ERR_MULTIPLE_CALLBACK,\n    ERR_TRANSFORM_ALREADY_TRANSFORMING = _require$codes.ERR_TRANSFORM_ALREADY_TRANSFORMING,\n    ERR_TRANSFORM_WITH_LENGTH_0 = _require$codes.ERR_TRANSFORM_WITH_LENGTH_0;\n\nvar Duplex = require('./_stream_duplex');\n\nrequire('inherits')(Transform, Duplex);\n\nfunction afterTransform(er, data) {\n  var ts = this._transformState;\n  ts.transforming = false;\n  var cb = ts.writecb;\n\n  if (cb === null) {\n    return this.emit('error', new ERR_MULTIPLE_CALLBACK());\n  }\n\n  ts.writechunk = null;\n  ts.writecb = null;\n  if (data != null) // single equals check for both `null` and `undefined`\n    this.push(data);\n  cb(er);\n  var rs = this._readableState;\n  rs.reading = false;\n\n  if (rs.needReadable || rs.length < rs.highWaterMark) {\n    this._read(rs.highWaterMark);\n  }\n}\n\nfunction Transform(options) {\n  if (!(this instanceof Transform)) return new Transform(options);\n  Duplex.call(this, options);\n  this._transformState = {\n    afterTransform: afterTransform.bind(this),\n    needTransform: false,\n    transforming: false,\n    writecb: null,\n    writechunk: null,\n    writeencoding: null\n  }; // start out asking for a readable event once data is transformed.\n\n  this._readableState.needReadable = true; // we have implemented the _read method, and done the other things\n  // that Readable wants before the first _read call, so unset the\n  // sync guard flag.\n\n  this._readableState.sync = false;\n\n  if (options) {\n    if (typeof options.transform === 'function') this._transform = options.transform;\n    if (typeof options.flush === 'function') this._flush = options.flush;\n  } // When the writable side finishes, then flush out anything remaining.\n\n\n  this.on('prefinish', prefinish);\n}\n\nfunction prefinish() {\n  var _this = this;\n\n  if (typeof this._flush === 'function' && !this._readableState.destroyed) {\n    this._flush(function (er, data) {\n      done(_this, er, data);\n    });\n  } else {\n    done(this, null, null);\n  }\n}\n\nTransform.prototype.push = function (chunk, encoding) {\n  this._transformState.needTransform = false;\n  return Duplex.prototype.push.call(this, chunk, encoding);\n}; // This is the part where you do stuff!\n// override this function in implementation classes.\n// 'chunk' is an input chunk.\n//\n// Call `push(newChunk)` to pass along transformed output\n// to the readable side.  You may call 'push' zero or more times.\n//\n// Call `cb(err)` when you are done with this chunk.  If you pass\n// an error, then that'll put the hurt on the whole operation.  If you\n// never call cb(), then you'll never get another chunk.\n\n\nTransform.prototype._transform = function (chunk, encoding, cb) {\n  cb(new ERR_METHOD_NOT_IMPLEMENTED('_transform()'));\n};\n\nTransform.prototype._write = function (chunk, encoding, cb) {\n  var ts = this._transformState;\n  ts.writecb = cb;\n  ts.writechunk = chunk;\n  ts.writeencoding = encoding;\n\n  if (!ts.transforming) {\n    var rs = this._readableState;\n    if (ts.needTransform || rs.needReadable || rs.length < rs.highWaterMark) this._read(rs.highWaterMark);\n  }\n}; // Doesn't matter what the args are here.\n// _transform does all the work.\n// That we got here means that the readable side wants more data.\n\n\nTransform.prototype._read = function (n) {\n  var ts = this._transformState;\n\n  if (ts.writechunk !== null && !ts.transforming) {\n    ts.transforming = true;\n\n    this._transform(ts.writechunk, ts.writeencoding, ts.afterTransform);\n  } else {\n    // mark that we need a transform, so that any data that comes in\n    // will get processed, now that we've asked for it.\n    ts.needTransform = true;\n  }\n};\n\nTransform.prototype._destroy = function (err, cb) {\n  Duplex.prototype._destroy.call(this, err, function (err2) {\n    cb(err2);\n  });\n};\n\nfunction done(stream, er, data) {\n  if (er) return stream.emit('error', er);\n  if (data != null) // single equals check for both `null` and `undefined`\n    stream.push(data); // TODO(BridgeAR): Write a test for these two error cases\n  // if there's nothing in the write buffer, then that means\n  // that nothing more will ever be provided\n\n  if (stream._writableState.length) throw new ERR_TRANSFORM_WITH_LENGTH_0();\n  if (stream._transformState.transforming) throw new ERR_TRANSFORM_ALREADY_TRANSFORMING();\n  return stream.push(null);\n}","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n// A bit simpler than readable streams.\n// Implement an async ._write(chunk, encoding, cb), and it'll handle all\n// the drain event emission and buffering.\n'use strict';\n\nmodule.exports = Writable;\n/* <replacement> */\n\nfunction WriteReq(chunk, encoding, cb) {\n  this.chunk = chunk;\n  this.encoding = encoding;\n  this.callback = cb;\n  this.next = null;\n} // It seems a linked list but it is not\n// there will be only 2 of these for each stream\n\n\nfunction CorkedRequest(state) {\n  var _this = this;\n\n  this.next = null;\n  this.entry = null;\n\n  this.finish = function () {\n    onCorkedFinish(_this, state);\n  };\n}\n/* </replacement> */\n\n/*<replacement>*/\n\n\nvar Duplex;\n/*</replacement>*/\n\nWritable.WritableState = WritableState;\n/*<replacement>*/\n\nvar internalUtil = {\n  deprecate: require('util-deprecate')\n};\n/*</replacement>*/\n\n/*<replacement>*/\n\nvar Stream = require('./internal/streams/stream');\n/*</replacement>*/\n\n\nvar Buffer = require('buffer').Buffer;\n\nvar OurUint8Array = global.Uint8Array || function () {};\n\nfunction _uint8ArrayToBuffer(chunk) {\n  return Buffer.from(chunk);\n}\n\nfunction _isUint8Array(obj) {\n  return Buffer.isBuffer(obj) || obj instanceof OurUint8Array;\n}\n\nvar destroyImpl = require('./internal/streams/destroy');\n\nvar _require = require('./internal/streams/state'),\n    getHighWaterMark = _require.getHighWaterMark;\n\nvar _require$codes = require('../errors').codes,\n    ERR_INVALID_ARG_TYPE = _require$codes.ERR_INVALID_ARG_TYPE,\n    ERR_METHOD_NOT_IMPLEMENTED = _require$codes.ERR_METHOD_NOT_IMPLEMENTED,\n    ERR_MULTIPLE_CALLBACK = _require$codes.ERR_MULTIPLE_CALLBACK,\n    ERR_STREAM_CANNOT_PIPE = _require$codes.ERR_STREAM_CANNOT_PIPE,\n    ERR_STREAM_DESTROYED = _require$codes.ERR_STREAM_DESTROYED,\n    ERR_STREAM_NULL_VALUES = _require$codes.ERR_STREAM_NULL_VALUES,\n    ERR_STREAM_WRITE_AFTER_END = _require$codes.ERR_STREAM_WRITE_AFTER_END,\n    ERR_UNKNOWN_ENCODING = _require$codes.ERR_UNKNOWN_ENCODING;\n\nvar errorOrDestroy = destroyImpl.errorOrDestroy;\n\nrequire('inherits')(Writable, Stream);\n\nfunction nop() {}\n\nfunction WritableState(options, stream, isDuplex) {\n  Duplex = Duplex || require('./_stream_duplex');\n  options = options || {}; // Duplex streams are both readable and writable, but share\n  // the same options object.\n  // However, some cases require setting options to different\n  // values for the readable and the writable sides of the duplex stream,\n  // e.g. options.readableObjectMode vs. options.writableObjectMode, etc.\n\n  if (typeof isDuplex !== 'boolean') isDuplex = stream instanceof Duplex; // object stream flag to indicate whether or not this stream\n  // contains buffers or objects.\n\n  this.objectMode = !!options.objectMode;\n  if (isDuplex) this.objectMode = this.objectMode || !!options.writableObjectMode; // the point at which write() starts returning false\n  // Note: 0 is a valid value, means that we always return false if\n  // the entire buffer is not flushed immediately on write()\n\n  this.highWaterMark = getHighWaterMark(this, options, 'writableHighWaterMark', isDuplex); // if _final has been called\n\n  this.finalCalled = false; // drain event flag.\n\n  this.needDrain = false; // at the start of calling end()\n\n  this.ending = false; // when end() has been called, and returned\n\n  this.ended = false; // when 'finish' is emitted\n\n  this.finished = false; // has it been destroyed\n\n  this.destroyed = false; // should we decode strings into buffers before passing to _write?\n  // this is here so that some node-core streams can optimize string\n  // handling at a lower level.\n\n  var noDecode = options.decodeStrings === false;\n  this.decodeStrings = !noDecode; // Crypto is kind of old and crusty.  Historically, its default string\n  // encoding is 'binary' so we have to make this configurable.\n  // Everything else in the universe uses 'utf8', though.\n\n  this.defaultEncoding = options.defaultEncoding || 'utf8'; // not an actual buffer we keep track of, but a measurement\n  // of how much we're waiting to get pushed to some underlying\n  // socket or file.\n\n  this.length = 0; // a flag to see when we're in the middle of a write.\n\n  this.writing = false; // when true all writes will be buffered until .uncork() call\n\n  this.corked = 0; // a flag to be able to tell if the onwrite cb is called immediately,\n  // or on a later tick.  We set this to true at first, because any\n  // actions that shouldn't happen until \"later\" should generally also\n  // not happen before the first write call.\n\n  this.sync = true; // a flag to know if we're processing previously buffered items, which\n  // may call the _write() callback in the same tick, so that we don't\n  // end up in an overlapped onwrite situation.\n\n  this.bufferProcessing = false; // the callback that's passed to _write(chunk,cb)\n\n  this.onwrite = function (er) {\n    onwrite(stream, er);\n  }; // the callback that the user supplies to write(chunk,encoding,cb)\n\n\n  this.writecb = null; // the amount that is being written when _write is called.\n\n  this.writelen = 0;\n  this.bufferedRequest = null;\n  this.lastBufferedRequest = null; // number of pending user-supplied write callbacks\n  // this must be 0 before 'finish' can be emitted\n\n  this.pendingcb = 0; // emit prefinish if the only thing we're waiting for is _write cbs\n  // This is relevant for synchronous Transform streams\n\n  this.prefinished = false; // True if the error was already emitted and should not be thrown again\n\n  this.errorEmitted = false; // Should close be emitted on destroy. Defaults to true.\n\n  this.emitClose = options.emitClose !== false; // Should .destroy() be called after 'finish' (and potentially 'end')\n\n  this.autoDestroy = !!options.autoDestroy; // count buffered requests\n\n  this.bufferedRequestCount = 0; // allocate the first CorkedRequest, there is always\n  // one allocated and free to use, and we maintain at most two\n\n  this.corkedRequestsFree = new CorkedRequest(this);\n}\n\nWritableState.prototype.getBuffer = function getBuffer() {\n  var current = this.bufferedRequest;\n  var out = [];\n\n  while (current) {\n    out.push(current);\n    current = current.next;\n  }\n\n  return out;\n};\n\n(function () {\n  try {\n    Object.defineProperty(WritableState.prototype, 'buffer', {\n      get: internalUtil.deprecate(function writableStateBufferGetter() {\n        return this.getBuffer();\n      }, '_writableState.buffer is deprecated. Use _writableState.getBuffer ' + 'instead.', 'DEP0003')\n    });\n  } catch (_) {}\n})(); // Test _writableState for inheritance to account for Duplex streams,\n// whose prototype chain only points to Readable.\n\n\nvar realHasInstance;\n\nif (typeof Symbol === 'function' && Symbol.hasInstance && typeof Function.prototype[Symbol.hasInstance] === 'function') {\n  realHasInstance = Function.prototype[Symbol.hasInstance];\n  Object.defineProperty(Writable, Symbol.hasInstance, {\n    value: function value(object) {\n      if (realHasInstance.call(this, object)) return true;\n      if (this !== Writable) return false;\n      return object && object._writableState instanceof WritableState;\n    }\n  });\n} else {\n  realHasInstance = function realHasInstance(object) {\n    return object instanceof this;\n  };\n}\n\nfunction Writable(options) {\n  Duplex = Duplex || require('./_stream_duplex'); // Writable ctor is applied to Duplexes, too.\n  // `realHasInstance` is necessary because using plain `instanceof`\n  // would return false, as no `_writableState` property is attached.\n  // Trying to use the custom `instanceof` for Writable here will also break the\n  // Node.js LazyTransform implementation, which has a non-trivial getter for\n  // `_writableState` that would lead to infinite recursion.\n  // Checking for a Stream.Duplex instance is faster here instead of inside\n  // the WritableState constructor, at least with V8 6.5\n\n  var isDuplex = this instanceof Duplex;\n  if (!isDuplex && !realHasInstance.call(Writable, this)) return new Writable(options);\n  this._writableState = new WritableState(options, this, isDuplex); // legacy.\n\n  this.writable = true;\n\n  if (options) {\n    if (typeof options.write === 'function') this._write = options.write;\n    if (typeof options.writev === 'function') this._writev = options.writev;\n    if (typeof options.destroy === 'function') this._destroy = options.destroy;\n    if (typeof options.final === 'function') this._final = options.final;\n  }\n\n  Stream.call(this);\n} // Otherwise people can pipe Writable streams, which is just wrong.\n\n\nWritable.prototype.pipe = function () {\n  errorOrDestroy(this, new ERR_STREAM_CANNOT_PIPE());\n};\n\nfunction writeAfterEnd(stream, cb) {\n  var er = new ERR_STREAM_WRITE_AFTER_END(); // TODO: defer error events consistently everywhere, not just the cb\n\n  errorOrDestroy(stream, er);\n  process.nextTick(cb, er);\n} // Checks that a user-supplied chunk is valid, especially for the particular\n// mode the stream is in. Currently this means that `null` is never accepted\n// and undefined/non-string values are only allowed in object mode.\n\n\nfunction validChunk(stream, state, chunk, cb) {\n  var er;\n\n  if (chunk === null) {\n    er = new ERR_STREAM_NULL_VALUES();\n  } else if (typeof chunk !== 'string' && !state.objectMode) {\n    er = new ERR_INVALID_ARG_TYPE('chunk', ['string', 'Buffer'], chunk);\n  }\n\n  if (er) {\n    errorOrDestroy(stream, er);\n    process.nextTick(cb, er);\n    return false;\n  }\n\n  return true;\n}\n\nWritable.prototype.write = function (chunk, encoding, cb) {\n  var state = this._writableState;\n  var ret = false;\n\n  var isBuf = !state.objectMode && _isUint8Array(chunk);\n\n  if (isBuf && !Buffer.isBuffer(chunk)) {\n    chunk = _uint8ArrayToBuffer(chunk);\n  }\n\n  if (typeof encoding === 'function') {\n    cb = encoding;\n    encoding = null;\n  }\n\n  if (isBuf) encoding = 'buffer';else if (!encoding) encoding = state.defaultEncoding;\n  if (typeof cb !== 'function') cb = nop;\n  if (state.ending) writeAfterEnd(this, cb);else if (isBuf || validChunk(this, state, chunk, cb)) {\n    state.pendingcb++;\n    ret = writeOrBuffer(this, state, isBuf, chunk, encoding, cb);\n  }\n  return ret;\n};\n\nWritable.prototype.cork = function () {\n  this._writableState.corked++;\n};\n\nWritable.prototype.uncork = function () {\n  var state = this._writableState;\n\n  if (state.corked) {\n    state.corked--;\n    if (!state.writing && !state.corked && !state.bufferProcessing && state.bufferedRequest) clearBuffer(this, state);\n  }\n};\n\nWritable.prototype.setDefaultEncoding = function setDefaultEncoding(encoding) {\n  // node::ParseEncoding() requires lower case.\n  if (typeof encoding === 'string') encoding = encoding.toLowerCase();\n  if (!(['hex', 'utf8', 'utf-8', 'ascii', 'binary', 'base64', 'ucs2', 'ucs-2', 'utf16le', 'utf-16le', 'raw'].indexOf((encoding + '').toLowerCase()) > -1)) throw new ERR_UNKNOWN_ENCODING(encoding);\n  this._writableState.defaultEncoding = encoding;\n  return this;\n};\n\nObject.defineProperty(Writable.prototype, 'writableBuffer', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._writableState && this._writableState.getBuffer();\n  }\n});\n\nfunction decodeChunk(state, chunk, encoding) {\n  if (!state.objectMode && state.decodeStrings !== false && typeof chunk === 'string') {\n    chunk = Buffer.from(chunk, encoding);\n  }\n\n  return chunk;\n}\n\nObject.defineProperty(Writable.prototype, 'writableHighWaterMark', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._writableState.highWaterMark;\n  }\n}); // if we're already writing something, then just put this\n// in the queue, and wait our turn.  Otherwise, call _write\n// If we return false, then we need a drain event, so set that flag.\n\nfunction writeOrBuffer(stream, state, isBuf, chunk, encoding, cb) {\n  if (!isBuf) {\n    var newChunk = decodeChunk(state, chunk, encoding);\n\n    if (chunk !== newChunk) {\n      isBuf = true;\n      encoding = 'buffer';\n      chunk = newChunk;\n    }\n  }\n\n  var len = state.objectMode ? 1 : chunk.length;\n  state.length += len;\n  var ret = state.length < state.highWaterMark; // we must ensure that previous needDrain will not be reset to false.\n\n  if (!ret) state.needDrain = true;\n\n  if (state.writing || state.corked) {\n    var last = state.lastBufferedRequest;\n    state.lastBufferedRequest = {\n      chunk: chunk,\n      encoding: encoding,\n      isBuf: isBuf,\n      callback: cb,\n      next: null\n    };\n\n    if (last) {\n      last.next = state.lastBufferedRequest;\n    } else {\n      state.bufferedRequest = state.lastBufferedRequest;\n    }\n\n    state.bufferedRequestCount += 1;\n  } else {\n    doWrite(stream, state, false, len, chunk, encoding, cb);\n  }\n\n  return ret;\n}\n\nfunction doWrite(stream, state, writev, len, chunk, encoding, cb) {\n  state.writelen = len;\n  state.writecb = cb;\n  state.writing = true;\n  state.sync = true;\n  if (state.destroyed) state.onwrite(new ERR_STREAM_DESTROYED('write'));else if (writev) stream._writev(chunk, state.onwrite);else stream._write(chunk, encoding, state.onwrite);\n  state.sync = false;\n}\n\nfunction onwriteError(stream, state, sync, er, cb) {\n  --state.pendingcb;\n\n  if (sync) {\n    // defer the callback if we are being called synchronously\n    // to avoid piling up things on the stack\n    process.nextTick(cb, er); // this can emit finish, and it will always happen\n    // after error\n\n    process.nextTick(finishMaybe, stream, state);\n    stream._writableState.errorEmitted = true;\n    errorOrDestroy(stream, er);\n  } else {\n    // the caller expect this to happen before if\n    // it is async\n    cb(er);\n    stream._writableState.errorEmitted = true;\n    errorOrDestroy(stream, er); // this can emit finish, but finish must\n    // always follow error\n\n    finishMaybe(stream, state);\n  }\n}\n\nfunction onwriteStateUpdate(state) {\n  state.writing = false;\n  state.writecb = null;\n  state.length -= state.writelen;\n  state.writelen = 0;\n}\n\nfunction onwrite(stream, er) {\n  var state = stream._writableState;\n  var sync = state.sync;\n  var cb = state.writecb;\n  if (typeof cb !== 'function') throw new ERR_MULTIPLE_CALLBACK();\n  onwriteStateUpdate(state);\n  if (er) onwriteError(stream, state, sync, er, cb);else {\n    // Check if we're actually ready to finish, but don't emit yet\n    var finished = needFinish(state) || stream.destroyed;\n\n    if (!finished && !state.corked && !state.bufferProcessing && state.bufferedRequest) {\n      clearBuffer(stream, state);\n    }\n\n    if (sync) {\n      process.nextTick(afterWrite, stream, state, finished, cb);\n    } else {\n      afterWrite(stream, state, finished, cb);\n    }\n  }\n}\n\nfunction afterWrite(stream, state, finished, cb) {\n  if (!finished) onwriteDrain(stream, state);\n  state.pendingcb--;\n  cb();\n  finishMaybe(stream, state);\n} // Must force callback to be called on nextTick, so that we don't\n// emit 'drain' before the write() consumer gets the 'false' return\n// value, and has a chance to attach a 'drain' listener.\n\n\nfunction onwriteDrain(stream, state) {\n  if (state.length === 0 && state.needDrain) {\n    state.needDrain = false;\n    stream.emit('drain');\n  }\n} // if there's something in the buffer waiting, then process it\n\n\nfunction clearBuffer(stream, state) {\n  state.bufferProcessing = true;\n  var entry = state.bufferedRequest;\n\n  if (stream._writev && entry && entry.next) {\n    // Fast case, write everything using _writev()\n    var l = state.bufferedRequestCount;\n    var buffer = new Array(l);\n    var holder = state.corkedRequestsFree;\n    holder.entry = entry;\n    var count = 0;\n    var allBuffers = true;\n\n    while (entry) {\n      buffer[count] = entry;\n      if (!entry.isBuf) allBuffers = false;\n      entry = entry.next;\n      count += 1;\n    }\n\n    buffer.allBuffers = allBuffers;\n    doWrite(stream, state, true, state.length, buffer, '', holder.finish); // doWrite is almost always async, defer these to save a bit of time\n    // as the hot path ends with doWrite\n\n    state.pendingcb++;\n    state.lastBufferedRequest = null;\n\n    if (holder.next) {\n      state.corkedRequestsFree = holder.next;\n      holder.next = null;\n    } else {\n      state.corkedRequestsFree = new CorkedRequest(state);\n    }\n\n    state.bufferedRequestCount = 0;\n  } else {\n    // Slow case, write chunks one-by-one\n    while (entry) {\n      var chunk = entry.chunk;\n      var encoding = entry.encoding;\n      var cb = entry.callback;\n      var len = state.objectMode ? 1 : chunk.length;\n      doWrite(stream, state, false, len, chunk, encoding, cb);\n      entry = entry.next;\n      state.bufferedRequestCount--; // if we didn't call the onwrite immediately, then\n      // it means that we need to wait until it does.\n      // also, that means that the chunk and cb are currently\n      // being processed, so move the buffer counter past them.\n\n      if (state.writing) {\n        break;\n      }\n    }\n\n    if (entry === null) state.lastBufferedRequest = null;\n  }\n\n  state.bufferedRequest = entry;\n  state.bufferProcessing = false;\n}\n\nWritable.prototype._write = function (chunk, encoding, cb) {\n  cb(new ERR_METHOD_NOT_IMPLEMENTED('_write()'));\n};\n\nWritable.prototype._writev = null;\n\nWritable.prototype.end = function (chunk, encoding, cb) {\n  var state = this._writableState;\n\n  if (typeof chunk === 'function') {\n    cb = chunk;\n    chunk = null;\n    encoding = null;\n  } else if (typeof encoding === 'function') {\n    cb = encoding;\n    encoding = null;\n  }\n\n  if (chunk !== null && chunk !== undefined) this.write(chunk, encoding); // .end() fully uncorks\n\n  if (state.corked) {\n    state.corked = 1;\n    this.uncork();\n  } // ignore unnecessary end() calls.\n\n\n  if (!state.ending) endWritable(this, state, cb);\n  return this;\n};\n\nObject.defineProperty(Writable.prototype, 'writableLength', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._writableState.length;\n  }\n});\n\nfunction needFinish(state) {\n  return state.ending && state.length === 0 && state.bufferedRequest === null && !state.finished && !state.writing;\n}\n\nfunction callFinal(stream, state) {\n  stream._final(function (err) {\n    state.pendingcb--;\n\n    if (err) {\n      errorOrDestroy(stream, err);\n    }\n\n    state.prefinished = true;\n    stream.emit('prefinish');\n    finishMaybe(stream, state);\n  });\n}\n\nfunction prefinish(stream, state) {\n  if (!state.prefinished && !state.finalCalled) {\n    if (typeof stream._final === 'function' && !state.destroyed) {\n      state.pendingcb++;\n      state.finalCalled = true;\n      process.nextTick(callFinal, stream, state);\n    } else {\n      state.prefinished = true;\n      stream.emit('prefinish');\n    }\n  }\n}\n\nfunction finishMaybe(stream, state) {\n  var need = needFinish(state);\n\n  if (need) {\n    prefinish(stream, state);\n\n    if (state.pendingcb === 0) {\n      state.finished = true;\n      stream.emit('finish');\n\n      if (state.autoDestroy) {\n        // In case of duplex streams we need a way to detect\n        // if the readable side is ready for autoDestroy as well\n        var rState = stream._readableState;\n\n        if (!rState || rState.autoDestroy && rState.endEmitted) {\n          stream.destroy();\n        }\n      }\n    }\n  }\n\n  return need;\n}\n\nfunction endWritable(stream, state, cb) {\n  state.ending = true;\n  finishMaybe(stream, state);\n\n  if (cb) {\n    if (state.finished) process.nextTick(cb);else stream.once('finish', cb);\n  }\n\n  state.ended = true;\n  stream.writable = false;\n}\n\nfunction onCorkedFinish(corkReq, state, err) {\n  var entry = corkReq.entry;\n  corkReq.entry = null;\n\n  while (entry) {\n    var cb = entry.callback;\n    state.pendingcb--;\n    cb(err);\n    entry = entry.next;\n  } // reuse the free corkReq.\n\n\n  state.corkedRequestsFree.next = corkReq;\n}\n\nObject.defineProperty(Writable.prototype, 'destroyed', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    if (this._writableState === undefined) {\n      return false;\n    }\n\n    return this._writableState.destroyed;\n  },\n  set: function set(value) {\n    // we ignore the value if the stream\n    // has not been initialized yet\n    if (!this._writableState) {\n      return;\n    } // backward compatibility, the user is explicitly\n    // managing destroyed\n\n\n    this._writableState.destroyed = value;\n  }\n});\nWritable.prototype.destroy = destroyImpl.destroy;\nWritable.prototype._undestroy = destroyImpl.undestroy;\n\nWritable.prototype._destroy = function (err, cb) {\n  cb(err);\n};","'use strict';\n\nvar _Object$setPrototypeO;\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar finished = require('./end-of-stream');\n\nvar kLastResolve = Symbol('lastResolve');\nvar kLastReject = Symbol('lastReject');\nvar kError = Symbol('error');\nvar kEnded = Symbol('ended');\nvar kLastPromise = Symbol('lastPromise');\nvar kHandlePromise = Symbol('handlePromise');\nvar kStream = Symbol('stream');\n\nfunction createIterResult(value, done) {\n  return {\n    value: value,\n    done: done\n  };\n}\n\nfunction readAndResolve(iter) {\n  var resolve = iter[kLastResolve];\n\n  if (resolve !== null) {\n    var data = iter[kStream].read(); // we defer if data is null\n    // we can be expecting either 'end' or\n    // 'error'\n\n    if (data !== null) {\n      iter[kLastPromise] = null;\n      iter[kLastResolve] = null;\n      iter[kLastReject] = null;\n      resolve(createIterResult(data, false));\n    }\n  }\n}\n\nfunction onReadable(iter) {\n  // we wait for the next tick, because it might\n  // emit an error with process.nextTick\n  process.nextTick(readAndResolve, iter);\n}\n\nfunction wrapForNext(lastPromise, iter) {\n  return function (resolve, reject) {\n    lastPromise.then(function () {\n      if (iter[kEnded]) {\n        resolve(createIterResult(undefined, true));\n        return;\n      }\n\n      iter[kHandlePromise](resolve, reject);\n    }, reject);\n  };\n}\n\nvar AsyncIteratorPrototype = Object.getPrototypeOf(function () {});\nvar ReadableStreamAsyncIteratorPrototype = Object.setPrototypeOf((_Object$setPrototypeO = {\n  get stream() {\n    return this[kStream];\n  },\n\n  next: function next() {\n    var _this = this;\n\n    // if we have detected an error in the meanwhile\n    // reject straight away\n    var error = this[kError];\n\n    if (error !== null) {\n      return Promise.reject(error);\n    }\n\n    if (this[kEnded]) {\n      return Promise.resolve(createIterResult(undefined, true));\n    }\n\n    if (this[kStream].destroyed) {\n      // We need to defer via nextTick because if .destroy(err) is\n      // called, the error will be emitted via nextTick, and\n      // we cannot guarantee that there is no error lingering around\n      // waiting to be emitted.\n      return new Promise(function (resolve, reject) {\n        process.nextTick(function () {\n          if (_this[kError]) {\n            reject(_this[kError]);\n          } else {\n            resolve(createIterResult(undefined, true));\n          }\n        });\n      });\n    } // if we have multiple next() calls\n    // we will wait for the previous Promise to finish\n    // this logic is optimized to support for await loops,\n    // where next() is only called once at a time\n\n\n    var lastPromise = this[kLastPromise];\n    var promise;\n\n    if (lastPromise) {\n      promise = new Promise(wrapForNext(lastPromise, this));\n    } else {\n      // fast path needed to support multiple this.push()\n      // without triggering the next() queue\n      var data = this[kStream].read();\n\n      if (data !== null) {\n        return Promise.resolve(createIterResult(data, false));\n      }\n\n      promise = new Promise(this[kHandlePromise]);\n    }\n\n    this[kLastPromise] = promise;\n    return promise;\n  }\n}, _defineProperty(_Object$setPrototypeO, Symbol.asyncIterator, function () {\n  return this;\n}), _defineProperty(_Object$setPrototypeO, \"return\", function _return() {\n  var _this2 = this;\n\n  // destroy(err, cb) is a private API\n  // we can guarantee we have that here, because we control the\n  // Readable class this is attached to\n  return new Promise(function (resolve, reject) {\n    _this2[kStream].destroy(null, function (err) {\n      if (err) {\n        reject(err);\n        return;\n      }\n\n      resolve(createIterResult(undefined, true));\n    });\n  });\n}), _Object$setPrototypeO), AsyncIteratorPrototype);\n\nvar createReadableStreamAsyncIterator = function createReadableStreamAsyncIterator(stream) {\n  var _Object$create;\n\n  var iterator = Object.create(ReadableStreamAsyncIteratorPrototype, (_Object$create = {}, _defineProperty(_Object$create, kStream, {\n    value: stream,\n    writable: true\n  }), _defineProperty(_Object$create, kLastResolve, {\n    value: null,\n    writable: true\n  }), _defineProperty(_Object$create, kLastReject, {\n    value: null,\n    writable: true\n  }), _defineProperty(_Object$create, kError, {\n    value: null,\n    writable: true\n  }), _defineProperty(_Object$create, kEnded, {\n    value: stream._readableState.endEmitted,\n    writable: true\n  }), _defineProperty(_Object$create, kHandlePromise, {\n    value: function value(resolve, reject) {\n      var data = iterator[kStream].read();\n\n      if (data) {\n        iterator[kLastPromise] = null;\n        iterator[kLastResolve] = null;\n        iterator[kLastReject] = null;\n        resolve(createIterResult(data, false));\n      } else {\n        iterator[kLastResolve] = resolve;\n        iterator[kLastReject] = reject;\n      }\n    },\n    writable: true\n  }), _Object$create));\n  iterator[kLastPromise] = null;\n  finished(stream, function (err) {\n    if (err && err.code !== 'ERR_STREAM_PREMATURE_CLOSE') {\n      var reject = iterator[kLastReject]; // reject if we are waiting for data in the Promise\n      // returned by next() and store the error\n\n      if (reject !== null) {\n        iterator[kLastPromise] = null;\n        iterator[kLastResolve] = null;\n        iterator[kLastReject] = null;\n        reject(err);\n      }\n\n      iterator[kError] = err;\n      return;\n    }\n\n    var resolve = iterator[kLastResolve];\n\n    if (resolve !== null) {\n      iterator[kLastPromise] = null;\n      iterator[kLastResolve] = null;\n      iterator[kLastReject] = null;\n      resolve(createIterResult(undefined, true));\n    }\n\n    iterator[kEnded] = true;\n  });\n  stream.on('readable', onReadable.bind(null, iterator));\n  return iterator;\n};\n\nmodule.exports = createReadableStreamAsyncIterator;","'use strict';\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar _require = require('buffer'),\n    Buffer = _require.Buffer;\n\nvar _require2 = require('util'),\n    inspect = _require2.inspect;\n\nvar custom = inspect && inspect.custom || 'inspect';\n\nfunction copyBuffer(src, target, offset) {\n  Buffer.prototype.copy.call(src, target, offset);\n}\n\nmodule.exports =\n/*#__PURE__*/\nfunction () {\n  function BufferList() {\n    _classCallCheck(this, BufferList);\n\n    this.head = null;\n    this.tail = null;\n    this.length = 0;\n  }\n\n  _createClass(BufferList, [{\n    key: \"push\",\n    value: function push(v) {\n      var entry = {\n        data: v,\n        next: null\n      };\n      if (this.length > 0) this.tail.next = entry;else this.head = entry;\n      this.tail = entry;\n      ++this.length;\n    }\n  }, {\n    key: \"unshift\",\n    value: function unshift(v) {\n      var entry = {\n        data: v,\n        next: this.head\n      };\n      if (this.length === 0) this.tail = entry;\n      this.head = entry;\n      ++this.length;\n    }\n  }, {\n    key: \"shift\",\n    value: function shift() {\n      if (this.length === 0) return;\n      var ret = this.head.data;\n      if (this.length === 1) this.head = this.tail = null;else this.head = this.head.next;\n      --this.length;\n      return ret;\n    }\n  }, {\n    key: \"clear\",\n    value: function clear() {\n      this.head = this.tail = null;\n      this.length = 0;\n    }\n  }, {\n    key: \"join\",\n    value: function join(s) {\n      if (this.length === 0) return '';\n      var p = this.head;\n      var ret = '' + p.data;\n\n      while (p = p.next) {\n        ret += s + p.data;\n      }\n\n      return ret;\n    }\n  }, {\n    key: \"concat\",\n    value: function concat(n) {\n      if (this.length === 0) return Buffer.alloc(0);\n      var ret = Buffer.allocUnsafe(n >>> 0);\n      var p = this.head;\n      var i = 0;\n\n      while (p) {\n        copyBuffer(p.data, ret, i);\n        i += p.data.length;\n        p = p.next;\n      }\n\n      return ret;\n    } // Consumes a specified amount of bytes or characters from the buffered data.\n\n  }, {\n    key: \"consume\",\n    value: function consume(n, hasStrings) {\n      var ret;\n\n      if (n < this.head.data.length) {\n        // `slice` is the same for buffers and strings.\n        ret = this.head.data.slice(0, n);\n        this.head.data = this.head.data.slice(n);\n      } else if (n === this.head.data.length) {\n        // First chunk is a perfect match.\n        ret = this.shift();\n      } else {\n        // Result spans more than one buffer.\n        ret = hasStrings ? this._getString(n) : this._getBuffer(n);\n      }\n\n      return ret;\n    }\n  }, {\n    key: \"first\",\n    value: function first() {\n      return this.head.data;\n    } // Consumes a specified amount of characters from the buffered data.\n\n  }, {\n    key: \"_getString\",\n    value: function _getString(n) {\n      var p = this.head;\n      var c = 1;\n      var ret = p.data;\n      n -= ret.length;\n\n      while (p = p.next) {\n        var str = p.data;\n        var nb = n > str.length ? str.length : n;\n        if (nb === str.length) ret += str;else ret += str.slice(0, n);\n        n -= nb;\n\n        if (n === 0) {\n          if (nb === str.length) {\n            ++c;\n            if (p.next) this.head = p.next;else this.head = this.tail = null;\n          } else {\n            this.head = p;\n            p.data = str.slice(nb);\n          }\n\n          break;\n        }\n\n        ++c;\n      }\n\n      this.length -= c;\n      return ret;\n    } // Consumes a specified amount of bytes from the buffered data.\n\n  }, {\n    key: \"_getBuffer\",\n    value: function _getBuffer(n) {\n      var ret = Buffer.allocUnsafe(n);\n      var p = this.head;\n      var c = 1;\n      p.data.copy(ret);\n      n -= p.data.length;\n\n      while (p = p.next) {\n        var buf = p.data;\n        var nb = n > buf.length ? buf.length : n;\n        buf.copy(ret, ret.length - n, 0, nb);\n        n -= nb;\n\n        if (n === 0) {\n          if (nb === buf.length) {\n            ++c;\n            if (p.next) this.head = p.next;else this.head = this.tail = null;\n          } else {\n            this.head = p;\n            p.data = buf.slice(nb);\n          }\n\n          break;\n        }\n\n        ++c;\n      }\n\n      this.length -= c;\n      return ret;\n    } // Make sure the linked list only shows the minimal necessary information.\n\n  }, {\n    key: custom,\n    value: function value(_, options) {\n      return inspect(this, _objectSpread({}, options, {\n        // Only inspect one level.\n        depth: 0,\n        // It should not recurse.\n        customInspect: false\n      }));\n    }\n  }]);\n\n  return BufferList;\n}();","'use strict'; // undocumented cb() API, needed for core, not for public API\n\nfunction destroy(err, cb) {\n  var _this = this;\n\n  var readableDestroyed = this._readableState && this._readableState.destroyed;\n  var writableDestroyed = this._writableState && this._writableState.destroyed;\n\n  if (readableDestroyed || writableDestroyed) {\n    if (cb) {\n      cb(err);\n    } else if (err) {\n      if (!this._writableState) {\n        process.nextTick(emitErrorNT, this, err);\n      } else if (!this._writableState.errorEmitted) {\n        this._writableState.errorEmitted = true;\n        process.nextTick(emitErrorNT, this, err);\n      }\n    }\n\n    return this;\n  } // we set destroyed to true before firing error callbacks in order\n  // to make it re-entrance safe in case destroy() is called within callbacks\n\n\n  if (this._readableState) {\n    this._readableState.destroyed = true;\n  } // if this is a duplex stream mark the writable part as destroyed as well\n\n\n  if (this._writableState) {\n    this._writableState.destroyed = true;\n  }\n\n  this._destroy(err || null, function (err) {\n    if (!cb && err) {\n      if (!_this._writableState) {\n        process.nextTick(emitErrorAndCloseNT, _this, err);\n      } else if (!_this._writableState.errorEmitted) {\n        _this._writableState.errorEmitted = true;\n        process.nextTick(emitErrorAndCloseNT, _this, err);\n      } else {\n        process.nextTick(emitCloseNT, _this);\n      }\n    } else if (cb) {\n      process.nextTick(emitCloseNT, _this);\n      cb(err);\n    } else {\n      process.nextTick(emitCloseNT, _this);\n    }\n  });\n\n  return this;\n}\n\nfunction emitErrorAndCloseNT(self, err) {\n  emitErrorNT(self, err);\n  emitCloseNT(self);\n}\n\nfunction emitCloseNT(self) {\n  if (self._writableState && !self._writableState.emitClose) return;\n  if (self._readableState && !self._readableState.emitClose) return;\n  self.emit('close');\n}\n\nfunction undestroy() {\n  if (this._readableState) {\n    this._readableState.destroyed = false;\n    this._readableState.reading = false;\n    this._readableState.ended = false;\n    this._readableState.endEmitted = false;\n  }\n\n  if (this._writableState) {\n    this._writableState.destroyed = false;\n    this._writableState.ended = false;\n    this._writableState.ending = false;\n    this._writableState.finalCalled = false;\n    this._writableState.prefinished = false;\n    this._writableState.finished = false;\n    this._writableState.errorEmitted = false;\n  }\n}\n\nfunction emitErrorNT(self, err) {\n  self.emit('error', err);\n}\n\nfunction errorOrDestroy(stream, err) {\n  // We have tests that rely on errors being emitted\n  // in the same tick, so changing this is semver major.\n  // For now when you opt-in to autoDestroy we allow\n  // the error to be emitted nextTick. In a future\n  // semver major update we should change the default to this.\n  var rState = stream._readableState;\n  var wState = stream._writableState;\n  if (rState && rState.autoDestroy || wState && wState.autoDestroy) stream.destroy(err);else stream.emit('error', err);\n}\n\nmodule.exports = {\n  destroy: destroy,\n  undestroy: undestroy,\n  errorOrDestroy: errorOrDestroy\n};","// Ported from https://github.com/mafintosh/end-of-stream with\n// permission from the author, Mathias Buus (@mafintosh).\n'use strict';\n\nvar ERR_STREAM_PREMATURE_CLOSE = require('../../../errors').codes.ERR_STREAM_PREMATURE_CLOSE;\n\nfunction once(callback) {\n  var called = false;\n  return function () {\n    if (called) return;\n    called = true;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    callback.apply(this, args);\n  };\n}\n\nfunction noop() {}\n\nfunction isRequest(stream) {\n  return stream.setHeader && typeof stream.abort === 'function';\n}\n\nfunction eos(stream, opts, callback) {\n  if (typeof opts === 'function') return eos(stream, null, opts);\n  if (!opts) opts = {};\n  callback = once(callback || noop);\n  var readable = opts.readable || opts.readable !== false && stream.readable;\n  var writable = opts.writable || opts.writable !== false && stream.writable;\n\n  var onlegacyfinish = function onlegacyfinish() {\n    if (!stream.writable) onfinish();\n  };\n\n  var writableEnded = stream._writableState && stream._writableState.finished;\n\n  var onfinish = function onfinish() {\n    writable = false;\n    writableEnded = true;\n    if (!readable) callback.call(stream);\n  };\n\n  var readableEnded = stream._readableState && stream._readableState.endEmitted;\n\n  var onend = function onend() {\n    readable = false;\n    readableEnded = true;\n    if (!writable) callback.call(stream);\n  };\n\n  var onerror = function onerror(err) {\n    callback.call(stream, err);\n  };\n\n  var onclose = function onclose() {\n    var err;\n\n    if (readable && !readableEnded) {\n      if (!stream._readableState || !stream._readableState.ended) err = new ERR_STREAM_PREMATURE_CLOSE();\n      return callback.call(stream, err);\n    }\n\n    if (writable && !writableEnded) {\n      if (!stream._writableState || !stream._writableState.ended) err = new ERR_STREAM_PREMATURE_CLOSE();\n      return callback.call(stream, err);\n    }\n  };\n\n  var onrequest = function onrequest() {\n    stream.req.on('finish', onfinish);\n  };\n\n  if (isRequest(stream)) {\n    stream.on('complete', onfinish);\n    stream.on('abort', onclose);\n    if (stream.req) onrequest();else stream.on('request', onrequest);\n  } else if (writable && !stream._writableState) {\n    // legacy streams\n    stream.on('end', onlegacyfinish);\n    stream.on('close', onlegacyfinish);\n  }\n\n  stream.on('end', onend);\n  stream.on('finish', onfinish);\n  if (opts.error !== false) stream.on('error', onerror);\n  stream.on('close', onclose);\n  return function () {\n    stream.removeListener('complete', onfinish);\n    stream.removeListener('abort', onclose);\n    stream.removeListener('request', onrequest);\n    if (stream.req) stream.req.removeListener('finish', onfinish);\n    stream.removeListener('end', onlegacyfinish);\n    stream.removeListener('close', onlegacyfinish);\n    stream.removeListener('finish', onfinish);\n    stream.removeListener('end', onend);\n    stream.removeListener('error', onerror);\n    stream.removeListener('close', onclose);\n  };\n}\n\nmodule.exports = eos;","module.exports = function () {\n  throw new Error('Readable.from is not available in the browser')\n};\n","// Ported from https://github.com/mafintosh/pump with\n// permission from the author, Mathias Buus (@mafintosh).\n'use strict';\n\nvar eos;\n\nfunction once(callback) {\n  var called = false;\n  return function () {\n    if (called) return;\n    called = true;\n    callback.apply(void 0, arguments);\n  };\n}\n\nvar _require$codes = require('../../../errors').codes,\n    ERR_MISSING_ARGS = _require$codes.ERR_MISSING_ARGS,\n    ERR_STREAM_DESTROYED = _require$codes.ERR_STREAM_DESTROYED;\n\nfunction noop(err) {\n  // Rethrow the error if it exists to avoid swallowing it\n  if (err) throw err;\n}\n\nfunction isRequest(stream) {\n  return stream.setHeader && typeof stream.abort === 'function';\n}\n\nfunction destroyer(stream, reading, writing, callback) {\n  callback = once(callback);\n  var closed = false;\n  stream.on('close', function () {\n    closed = true;\n  });\n  if (eos === undefined) eos = require('./end-of-stream');\n  eos(stream, {\n    readable: reading,\n    writable: writing\n  }, function (err) {\n    if (err) return callback(err);\n    closed = true;\n    callback();\n  });\n  var destroyed = false;\n  return function (err) {\n    if (closed) return;\n    if (destroyed) return;\n    destroyed = true; // request.destroy just do .end - .abort is what we want\n\n    if (isRequest(stream)) return stream.abort();\n    if (typeof stream.destroy === 'function') return stream.destroy();\n    callback(err || new ERR_STREAM_DESTROYED('pipe'));\n  };\n}\n\nfunction call(fn) {\n  fn();\n}\n\nfunction pipe(from, to) {\n  return from.pipe(to);\n}\n\nfunction popCallback(streams) {\n  if (!streams.length) return noop;\n  if (typeof streams[streams.length - 1] !== 'function') return noop;\n  return streams.pop();\n}\n\nfunction pipeline() {\n  for (var _len = arguments.length, streams = new Array(_len), _key = 0; _key < _len; _key++) {\n    streams[_key] = arguments[_key];\n  }\n\n  var callback = popCallback(streams);\n  if (Array.isArray(streams[0])) streams = streams[0];\n\n  if (streams.length < 2) {\n    throw new ERR_MISSING_ARGS('streams');\n  }\n\n  var error;\n  var destroys = streams.map(function (stream, i) {\n    var reading = i < streams.length - 1;\n    var writing = i > 0;\n    return destroyer(stream, reading, writing, function (err) {\n      if (!error) error = err;\n      if (err) destroys.forEach(call);\n      if (reading) return;\n      destroys.forEach(call);\n      callback(error);\n    });\n  });\n  return streams.reduce(pipe);\n}\n\nmodule.exports = pipeline;","'use strict';\n\nvar ERR_INVALID_OPT_VALUE = require('../../../errors').codes.ERR_INVALID_OPT_VALUE;\n\nfunction highWaterMarkFrom(options, isDuplex, duplexKey) {\n  return options.highWaterMark != null ? options.highWaterMark : isDuplex ? options[duplexKey] : null;\n}\n\nfunction getHighWaterMark(state, options, duplexKey, isDuplex) {\n  var hwm = highWaterMarkFrom(options, isDuplex, duplexKey);\n\n  if (hwm != null) {\n    if (!(isFinite(hwm) && Math.floor(hwm) === hwm) || hwm < 0) {\n      var name = isDuplex ? duplexKey : 'highWaterMark';\n      throw new ERR_INVALID_OPT_VALUE(name, hwm);\n    }\n\n    return Math.floor(hwm);\n  } // Default value\n\n\n  return state.objectMode ? 16 : 16 * 1024;\n}\n\nmodule.exports = {\n  getHighWaterMark: getHighWaterMark\n};","module.exports = require('events').EventEmitter;\n","exports = module.exports = require('./lib/_stream_readable.js');\nexports.Stream = exports;\nexports.Readable = exports;\nexports.Writable = require('./lib/_stream_writable.js');\nexports.Duplex = require('./lib/_stream_duplex.js');\nexports.Transform = require('./lib/_stream_transform.js');\nexports.PassThrough = require('./lib/_stream_passthrough.js');\nexports.finished = require('./lib/internal/streams/end-of-stream.js');\nexports.pipeline = require('./lib/internal/streams/pipeline.js');\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\n/*<replacement>*/\n\nvar Buffer = require('safe-buffer').Buffer;\n/*</replacement>*/\n\nvar isEncoding = Buffer.isEncoding || function (encoding) {\n  encoding = '' + encoding;\n  switch (encoding && encoding.toLowerCase()) {\n    case 'hex':case 'utf8':case 'utf-8':case 'ascii':case 'binary':case 'base64':case 'ucs2':case 'ucs-2':case 'utf16le':case 'utf-16le':case 'raw':\n      return true;\n    default:\n      return false;\n  }\n};\n\nfunction _normalizeEncoding(enc) {\n  if (!enc) return 'utf8';\n  var retried;\n  while (true) {\n    switch (enc) {\n      case 'utf8':\n      case 'utf-8':\n        return 'utf8';\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return 'utf16le';\n      case 'latin1':\n      case 'binary':\n        return 'latin1';\n      case 'base64':\n      case 'ascii':\n      case 'hex':\n        return enc;\n      default:\n        if (retried) return; // undefined\n        enc = ('' + enc).toLowerCase();\n        retried = true;\n    }\n  }\n};\n\n// Do not cache `Buffer.isEncoding` when checking encoding names as some\n// modules monkey-patch it to support additional encodings\nfunction normalizeEncoding(enc) {\n  var nenc = _normalizeEncoding(enc);\n  if (typeof nenc !== 'string' && (Buffer.isEncoding === isEncoding || !isEncoding(enc))) throw new Error('Unknown encoding: ' + enc);\n  return nenc || enc;\n}\n\n// StringDecoder provides an interface for efficiently splitting a series of\n// buffers into a series of JS strings without breaking apart multi-byte\n// characters.\nexports.StringDecoder = StringDecoder;\nfunction StringDecoder(encoding) {\n  this.encoding = normalizeEncoding(encoding);\n  var nb;\n  switch (this.encoding) {\n    case 'utf16le':\n      this.text = utf16Text;\n      this.end = utf16End;\n      nb = 4;\n      break;\n    case 'utf8':\n      this.fillLast = utf8FillLast;\n      nb = 4;\n      break;\n    case 'base64':\n      this.text = base64Text;\n      this.end = base64End;\n      nb = 3;\n      break;\n    default:\n      this.write = simpleWrite;\n      this.end = simpleEnd;\n      return;\n  }\n  this.lastNeed = 0;\n  this.lastTotal = 0;\n  this.lastChar = Buffer.allocUnsafe(nb);\n}\n\nStringDecoder.prototype.write = function (buf) {\n  if (buf.length === 0) return '';\n  var r;\n  var i;\n  if (this.lastNeed) {\n    r = this.fillLast(buf);\n    if (r === undefined) return '';\n    i = this.lastNeed;\n    this.lastNeed = 0;\n  } else {\n    i = 0;\n  }\n  if (i < buf.length) return r ? r + this.text(buf, i) : this.text(buf, i);\n  return r || '';\n};\n\nStringDecoder.prototype.end = utf8End;\n\n// Returns only complete characters in a Buffer\nStringDecoder.prototype.text = utf8Text;\n\n// Attempts to complete a partial non-UTF-8 character using bytes from a Buffer\nStringDecoder.prototype.fillLast = function (buf) {\n  if (this.lastNeed <= buf.length) {\n    buf.copy(this.lastChar, this.lastTotal - this.lastNeed, 0, this.lastNeed);\n    return this.lastChar.toString(this.encoding, 0, this.lastTotal);\n  }\n  buf.copy(this.lastChar, this.lastTotal - this.lastNeed, 0, buf.length);\n  this.lastNeed -= buf.length;\n};\n\n// Checks the type of a UTF-8 byte, whether it's ASCII, a leading byte, or a\n// continuation byte. If an invalid byte is detected, -2 is returned.\nfunction utf8CheckByte(byte) {\n  if (byte <= 0x7F) return 0;else if (byte >> 5 === 0x06) return 2;else if (byte >> 4 === 0x0E) return 3;else if (byte >> 3 === 0x1E) return 4;\n  return byte >> 6 === 0x02 ? -1 : -2;\n}\n\n// Checks at most 3 bytes at the end of a Buffer in order to detect an\n// incomplete multi-byte UTF-8 character. The total number of bytes (2, 3, or 4)\n// needed to complete the UTF-8 character (if applicable) are returned.\nfunction utf8CheckIncomplete(self, buf, i) {\n  var j = buf.length - 1;\n  if (j < i) return 0;\n  var nb = utf8CheckByte(buf[j]);\n  if (nb >= 0) {\n    if (nb > 0) self.lastNeed = nb - 1;\n    return nb;\n  }\n  if (--j < i || nb === -2) return 0;\n  nb = utf8CheckByte(buf[j]);\n  if (nb >= 0) {\n    if (nb > 0) self.lastNeed = nb - 2;\n    return nb;\n  }\n  if (--j < i || nb === -2) return 0;\n  nb = utf8CheckByte(buf[j]);\n  if (nb >= 0) {\n    if (nb > 0) {\n      if (nb === 2) nb = 0;else self.lastNeed = nb - 3;\n    }\n    return nb;\n  }\n  return 0;\n}\n\n// Validates as many continuation bytes for a multi-byte UTF-8 character as\n// needed or are available. If we see a non-continuation byte where we expect\n// one, we \"replace\" the validated continuation bytes we've seen so far with\n// a single UTF-8 replacement character ('\\ufffd'), to match v8's UTF-8 decoding\n// behavior. The continuation byte check is included three times in the case\n// where all of the continuation bytes for a character exist in the same buffer.\n// It is also done this way as a slight performance increase instead of using a\n// loop.\nfunction utf8CheckExtraBytes(self, buf, p) {\n  if ((buf[0] & 0xC0) !== 0x80) {\n    self.lastNeed = 0;\n    return '\\ufffd';\n  }\n  if (self.lastNeed > 1 && buf.length > 1) {\n    if ((buf[1] & 0xC0) !== 0x80) {\n      self.lastNeed = 1;\n      return '\\ufffd';\n    }\n    if (self.lastNeed > 2 && buf.length > 2) {\n      if ((buf[2] & 0xC0) !== 0x80) {\n        self.lastNeed = 2;\n        return '\\ufffd';\n      }\n    }\n  }\n}\n\n// Attempts to complete a multi-byte UTF-8 character using bytes from a Buffer.\nfunction utf8FillLast(buf) {\n  var p = this.lastTotal - this.lastNeed;\n  var r = utf8CheckExtraBytes(this, buf, p);\n  if (r !== undefined) return r;\n  if (this.lastNeed <= buf.length) {\n    buf.copy(this.lastChar, p, 0, this.lastNeed);\n    return this.lastChar.toString(this.encoding, 0, this.lastTotal);\n  }\n  buf.copy(this.lastChar, p, 0, buf.length);\n  this.lastNeed -= buf.length;\n}\n\n// Returns all complete UTF-8 characters in a Buffer. If the Buffer ended on a\n// partial character, the character's bytes are buffered until the required\n// number of bytes are available.\nfunction utf8Text(buf, i) {\n  var total = utf8CheckIncomplete(this, buf, i);\n  if (!this.lastNeed) return buf.toString('utf8', i);\n  this.lastTotal = total;\n  var end = buf.length - (total - this.lastNeed);\n  buf.copy(this.lastChar, 0, end);\n  return buf.toString('utf8', i, end);\n}\n\n// For UTF-8, a replacement character is added when ending on a partial\n// character.\nfunction utf8End(buf) {\n  var r = buf && buf.length ? this.write(buf) : '';\n  if (this.lastNeed) return r + '\\ufffd';\n  return r;\n}\n\n// UTF-16LE typically needs two bytes per character, but even if we have an even\n// number of bytes available, we need to check if we end on a leading/high\n// surrogate. In that case, we need to wait for the next two bytes in order to\n// decode the last character properly.\nfunction utf16Text(buf, i) {\n  if ((buf.length - i) % 2 === 0) {\n    var r = buf.toString('utf16le', i);\n    if (r) {\n      var c = r.charCodeAt(r.length - 1);\n      if (c >= 0xD800 && c <= 0xDBFF) {\n        this.lastNeed = 2;\n        this.lastTotal = 4;\n        this.lastChar[0] = buf[buf.length - 2];\n        this.lastChar[1] = buf[buf.length - 1];\n        return r.slice(0, -1);\n      }\n    }\n    return r;\n  }\n  this.lastNeed = 1;\n  this.lastTotal = 2;\n  this.lastChar[0] = buf[buf.length - 1];\n  return buf.toString('utf16le', i, buf.length - 1);\n}\n\n// For UTF-16LE we do not explicitly append special replacement characters if we\n// end on a partial character, we simply let v8 handle that.\nfunction utf16End(buf) {\n  var r = buf && buf.length ? this.write(buf) : '';\n  if (this.lastNeed) {\n    var end = this.lastTotal - this.lastNeed;\n    return r + this.lastChar.toString('utf16le', 0, end);\n  }\n  return r;\n}\n\nfunction base64Text(buf, i) {\n  var n = (buf.length - i) % 3;\n  if (n === 0) return buf.toString('base64', i);\n  this.lastNeed = 3 - n;\n  this.lastTotal = 3;\n  if (n === 1) {\n    this.lastChar[0] = buf[buf.length - 1];\n  } else {\n    this.lastChar[0] = buf[buf.length - 2];\n    this.lastChar[1] = buf[buf.length - 1];\n  }\n  return buf.toString('base64', i, buf.length - n);\n}\n\nfunction base64End(buf) {\n  var r = buf && buf.length ? this.write(buf) : '';\n  if (this.lastNeed) return r + this.lastChar.toString('base64', 0, 3 - this.lastNeed);\n  return r;\n}\n\n// Pass bytes on through for single-byte encodings (e.g. ascii, latin1, hex)\nfunction simpleWrite(buf) {\n  return buf.toString(this.encoding);\n}\n\nfunction simpleEnd(buf) {\n  return buf && buf.length ? this.write(buf) : '';\n}","/*! https://mths.be/punycode v1.3.2 by @mathias */\n;(function(root) {\n\n\t/** Detect free variables */\n\tvar freeExports = typeof exports == 'object' && exports &&\n\t\t!exports.nodeType && exports;\n\tvar freeModule = typeof module == 'object' && module &&\n\t\t!module.nodeType && module;\n\tvar freeGlobal = typeof global == 'object' && global;\n\tif (\n\t\tfreeGlobal.global === freeGlobal ||\n\t\tfreeGlobal.window === freeGlobal ||\n\t\tfreeGlobal.self === freeGlobal\n\t) {\n\t\troot = freeGlobal;\n\t}\n\n\t/**\n\t * The `punycode` object.\n\t * @name punycode\n\t * @type Object\n\t */\n\tvar punycode,\n\n\t/** Highest positive signed 32-bit float value */\n\tmaxInt = 2147483647, // aka. 0x7FFFFFFF or 2^31-1\n\n\t/** Bootstring parameters */\n\tbase = 36,\n\ttMin = 1,\n\ttMax = 26,\n\tskew = 38,\n\tdamp = 700,\n\tinitialBias = 72,\n\tinitialN = 128, // 0x80\n\tdelimiter = '-', // '\\x2D'\n\n\t/** Regular expressions */\n\tregexPunycode = /^xn--/,\n\tregexNonASCII = /[^\\x20-\\x7E]/, // unprintable ASCII chars + non-ASCII chars\n\tregexSeparators = /[\\x2E\\u3002\\uFF0E\\uFF61]/g, // RFC 3490 separators\n\n\t/** Error messages */\n\terrors = {\n\t\t'overflow': 'Overflow: input needs wider integers to process',\n\t\t'not-basic': 'Illegal input >= 0x80 (not a basic code point)',\n\t\t'invalid-input': 'Invalid input'\n\t},\n\n\t/** Convenience shortcuts */\n\tbaseMinusTMin = base - tMin,\n\tfloor = Math.floor,\n\tstringFromCharCode = String.fromCharCode,\n\n\t/** Temporary variable */\n\tkey;\n\n\t/*--------------------------------------------------------------------------*/\n\n\t/**\n\t * A generic error utility function.\n\t * @private\n\t * @param {String} type The error type.\n\t * @returns {Error} Throws a `RangeError` with the applicable error message.\n\t */\n\tfunction error(type) {\n\t\tthrow RangeError(errors[type]);\n\t}\n\n\t/**\n\t * A generic `Array#map` utility function.\n\t * @private\n\t * @param {Array} array The array to iterate over.\n\t * @param {Function} callback The function that gets called for every array\n\t * item.\n\t * @returns {Array} A new array of values returned by the callback function.\n\t */\n\tfunction map(array, fn) {\n\t\tvar length = array.length;\n\t\tvar result = [];\n\t\twhile (length--) {\n\t\t\tresult[length] = fn(array[length]);\n\t\t}\n\t\treturn result;\n\t}\n\n\t/**\n\t * A simple `Array#map`-like wrapper to work with domain name strings or email\n\t * addresses.\n\t * @private\n\t * @param {String} domain The domain name or email address.\n\t * @param {Function} callback The function that gets called for every\n\t * character.\n\t * @returns {Array} A new string of characters returned by the callback\n\t * function.\n\t */\n\tfunction mapDomain(string, fn) {\n\t\tvar parts = string.split('@');\n\t\tvar result = '';\n\t\tif (parts.length > 1) {\n\t\t\t// In email addresses, only the domain name should be punycoded. Leave\n\t\t\t// the local part (i.e. everything up to `@`) intact.\n\t\t\tresult = parts[0] + '@';\n\t\t\tstring = parts[1];\n\t\t}\n\t\t// Avoid `split(regex)` for IE8 compatibility. See #17.\n\t\tstring = string.replace(regexSeparators, '\\x2E');\n\t\tvar labels = string.split('.');\n\t\tvar encoded = map(labels, fn).join('.');\n\t\treturn result + encoded;\n\t}\n\n\t/**\n\t * Creates an array containing the numeric code points of each Unicode\n\t * character in the string. While JavaScript uses UCS-2 internally,\n\t * this function will convert a pair of surrogate halves (each of which\n\t * UCS-2 exposes as separate characters) into a single code point,\n\t * matching UTF-16.\n\t * @see `punycode.ucs2.encode`\n\t * @see <https://mathiasbynens.be/notes/javascript-encoding>\n\t * @memberOf punycode.ucs2\n\t * @name decode\n\t * @param {String} string The Unicode input string (UCS-2).\n\t * @returns {Array} The new array of code points.\n\t */\n\tfunction ucs2decode(string) {\n\t\tvar output = [],\n\t\t    counter = 0,\n\t\t    length = string.length,\n\t\t    value,\n\t\t    extra;\n\t\twhile (counter < length) {\n\t\t\tvalue = string.charCodeAt(counter++);\n\t\t\tif (value >= 0xD800 && value <= 0xDBFF && counter < length) {\n\t\t\t\t// high surrogate, and there is a next character\n\t\t\t\textra = string.charCodeAt(counter++);\n\t\t\t\tif ((extra & 0xFC00) == 0xDC00) { // low surrogate\n\t\t\t\t\toutput.push(((value & 0x3FF) << 10) + (extra & 0x3FF) + 0x10000);\n\t\t\t\t} else {\n\t\t\t\t\t// unmatched surrogate; only append this code unit, in case the next\n\t\t\t\t\t// code unit is the high surrogate of a surrogate pair\n\t\t\t\t\toutput.push(value);\n\t\t\t\t\tcounter--;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\toutput.push(value);\n\t\t\t}\n\t\t}\n\t\treturn output;\n\t}\n\n\t/**\n\t * Creates a string based on an array of numeric code points.\n\t * @see `punycode.ucs2.decode`\n\t * @memberOf punycode.ucs2\n\t * @name encode\n\t * @param {Array} codePoints The array of numeric code points.\n\t * @returns {String} The new Unicode string (UCS-2).\n\t */\n\tfunction ucs2encode(array) {\n\t\treturn map(array, function(value) {\n\t\t\tvar output = '';\n\t\t\tif (value > 0xFFFF) {\n\t\t\t\tvalue -= 0x10000;\n\t\t\t\toutput += stringFromCharCode(value >>> 10 & 0x3FF | 0xD800);\n\t\t\t\tvalue = 0xDC00 | value & 0x3FF;\n\t\t\t}\n\t\t\toutput += stringFromCharCode(value);\n\t\t\treturn output;\n\t\t}).join('');\n\t}\n\n\t/**\n\t * Converts a basic code point into a digit/integer.\n\t * @see `digitToBasic()`\n\t * @private\n\t * @param {Number} codePoint The basic numeric code point value.\n\t * @returns {Number} The numeric value of a basic code point (for use in\n\t * representing integers) in the range `0` to `base - 1`, or `base` if\n\t * the code point does not represent a value.\n\t */\n\tfunction basicToDigit(codePoint) {\n\t\tif (codePoint - 48 < 10) {\n\t\t\treturn codePoint - 22;\n\t\t}\n\t\tif (codePoint - 65 < 26) {\n\t\t\treturn codePoint - 65;\n\t\t}\n\t\tif (codePoint - 97 < 26) {\n\t\t\treturn codePoint - 97;\n\t\t}\n\t\treturn base;\n\t}\n\n\t/**\n\t * Converts a digit/integer into a basic code point.\n\t * @see `basicToDigit()`\n\t * @private\n\t * @param {Number} digit The numeric value of a basic code point.\n\t * @returns {Number} The basic code point whose value (when used for\n\t * representing integers) is `digit`, which needs to be in the range\n\t * `0` to `base - 1`. If `flag` is non-zero, the uppercase form is\n\t * used; else, the lowercase form is used. The behavior is undefined\n\t * if `flag` is non-zero and `digit` has no uppercase form.\n\t */\n\tfunction digitToBasic(digit, flag) {\n\t\t//  0..25 map to ASCII a..z or A..Z\n\t\t// 26..35 map to ASCII 0..9\n\t\treturn digit + 22 + 75 * (digit < 26) - ((flag != 0) << 5);\n\t}\n\n\t/**\n\t * Bias adaptation function as per section 3.4 of RFC 3492.\n\t * http://tools.ietf.org/html/rfc3492#section-3.4\n\t * @private\n\t */\n\tfunction adapt(delta, numPoints, firstTime) {\n\t\tvar k = 0;\n\t\tdelta = firstTime ? floor(delta / damp) : delta >> 1;\n\t\tdelta += floor(delta / numPoints);\n\t\tfor (/* no initialization */; delta > baseMinusTMin * tMax >> 1; k += base) {\n\t\t\tdelta = floor(delta / baseMinusTMin);\n\t\t}\n\t\treturn floor(k + (baseMinusTMin + 1) * delta / (delta + skew));\n\t}\n\n\t/**\n\t * Converts a Punycode string of ASCII-only symbols to a string of Unicode\n\t * symbols.\n\t * @memberOf punycode\n\t * @param {String} input The Punycode string of ASCII-only symbols.\n\t * @returns {String} The resulting string of Unicode symbols.\n\t */\n\tfunction decode(input) {\n\t\t// Don't use UCS-2\n\t\tvar output = [],\n\t\t    inputLength = input.length,\n\t\t    out,\n\t\t    i = 0,\n\t\t    n = initialN,\n\t\t    bias = initialBias,\n\t\t    basic,\n\t\t    j,\n\t\t    index,\n\t\t    oldi,\n\t\t    w,\n\t\t    k,\n\t\t    digit,\n\t\t    t,\n\t\t    /** Cached calculation results */\n\t\t    baseMinusT;\n\n\t\t// Handle the basic code points: let `basic` be the number of input code\n\t\t// points before the last delimiter, or `0` if there is none, then copy\n\t\t// the first basic code points to the output.\n\n\t\tbasic = input.lastIndexOf(delimiter);\n\t\tif (basic < 0) {\n\t\t\tbasic = 0;\n\t\t}\n\n\t\tfor (j = 0; j < basic; ++j) {\n\t\t\t// if it's not a basic code point\n\t\t\tif (input.charCodeAt(j) >= 0x80) {\n\t\t\t\terror('not-basic');\n\t\t\t}\n\t\t\toutput.push(input.charCodeAt(j));\n\t\t}\n\n\t\t// Main decoding loop: start just after the last delimiter if any basic code\n\t\t// points were copied; start at the beginning otherwise.\n\n\t\tfor (index = basic > 0 ? basic + 1 : 0; index < inputLength; /* no final expression */) {\n\n\t\t\t// `index` is the index of the next character to be consumed.\n\t\t\t// Decode a generalized variable-length integer into `delta`,\n\t\t\t// which gets added to `i`. The overflow checking is easier\n\t\t\t// if we increase `i` as we go, then subtract off its starting\n\t\t\t// value at the end to obtain `delta`.\n\t\t\tfor (oldi = i, w = 1, k = base; /* no condition */; k += base) {\n\n\t\t\t\tif (index >= inputLength) {\n\t\t\t\t\terror('invalid-input');\n\t\t\t\t}\n\n\t\t\t\tdigit = basicToDigit(input.charCodeAt(index++));\n\n\t\t\t\tif (digit >= base || digit > floor((maxInt - i) / w)) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\n\t\t\t\ti += digit * w;\n\t\t\t\tt = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);\n\n\t\t\t\tif (digit < t) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tbaseMinusT = base - t;\n\t\t\t\tif (w > floor(maxInt / baseMinusT)) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\n\t\t\t\tw *= baseMinusT;\n\n\t\t\t}\n\n\t\t\tout = output.length + 1;\n\t\t\tbias = adapt(i - oldi, out, oldi == 0);\n\n\t\t\t// `i` was supposed to wrap around from `out` to `0`,\n\t\t\t// incrementing `n` each time, so we'll fix that now:\n\t\t\tif (floor(i / out) > maxInt - n) {\n\t\t\t\terror('overflow');\n\t\t\t}\n\n\t\t\tn += floor(i / out);\n\t\t\ti %= out;\n\n\t\t\t// Insert `n` at position `i` of the output\n\t\t\toutput.splice(i++, 0, n);\n\n\t\t}\n\n\t\treturn ucs2encode(output);\n\t}\n\n\t/**\n\t * Converts a string of Unicode symbols (e.g. a domain name label) to a\n\t * Punycode string of ASCII-only symbols.\n\t * @memberOf punycode\n\t * @param {String} input The string of Unicode symbols.\n\t * @returns {String} The resulting Punycode string of ASCII-only symbols.\n\t */\n\tfunction encode(input) {\n\t\tvar n,\n\t\t    delta,\n\t\t    handledCPCount,\n\t\t    basicLength,\n\t\t    bias,\n\t\t    j,\n\t\t    m,\n\t\t    q,\n\t\t    k,\n\t\t    t,\n\t\t    currentValue,\n\t\t    output = [],\n\t\t    /** `inputLength` will hold the number of code points in `input`. */\n\t\t    inputLength,\n\t\t    /** Cached calculation results */\n\t\t    handledCPCountPlusOne,\n\t\t    baseMinusT,\n\t\t    qMinusT;\n\n\t\t// Convert the input in UCS-2 to Unicode\n\t\tinput = ucs2decode(input);\n\n\t\t// Cache the length\n\t\tinputLength = input.length;\n\n\t\t// Initialize the state\n\t\tn = initialN;\n\t\tdelta = 0;\n\t\tbias = initialBias;\n\n\t\t// Handle the basic code points\n\t\tfor (j = 0; j < inputLength; ++j) {\n\t\t\tcurrentValue = input[j];\n\t\t\tif (currentValue < 0x80) {\n\t\t\t\toutput.push(stringFromCharCode(currentValue));\n\t\t\t}\n\t\t}\n\n\t\thandledCPCount = basicLength = output.length;\n\n\t\t// `handledCPCount` is the number of code points that have been handled;\n\t\t// `basicLength` is the number of basic code points.\n\n\t\t// Finish the basic string - if it is not empty - with a delimiter\n\t\tif (basicLength) {\n\t\t\toutput.push(delimiter);\n\t\t}\n\n\t\t// Main encoding loop:\n\t\twhile (handledCPCount < inputLength) {\n\n\t\t\t// All non-basic code points < n have been handled already. Find the next\n\t\t\t// larger one:\n\t\t\tfor (m = maxInt, j = 0; j < inputLength; ++j) {\n\t\t\t\tcurrentValue = input[j];\n\t\t\t\tif (currentValue >= n && currentValue < m) {\n\t\t\t\t\tm = currentValue;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Increase `delta` enough to advance the decoder's <n,i> state to <m,0>,\n\t\t\t// but guard against overflow\n\t\t\thandledCPCountPlusOne = handledCPCount + 1;\n\t\t\tif (m - n > floor((maxInt - delta) / handledCPCountPlusOne)) {\n\t\t\t\terror('overflow');\n\t\t\t}\n\n\t\t\tdelta += (m - n) * handledCPCountPlusOne;\n\t\t\tn = m;\n\n\t\t\tfor (j = 0; j < inputLength; ++j) {\n\t\t\t\tcurrentValue = input[j];\n\n\t\t\t\tif (currentValue < n && ++delta > maxInt) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\n\t\t\t\tif (currentValue == n) {\n\t\t\t\t\t// Represent delta as a generalized variable-length integer\n\t\t\t\t\tfor (q = delta, k = base; /* no condition */; k += base) {\n\t\t\t\t\t\tt = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);\n\t\t\t\t\t\tif (q < t) {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tqMinusT = q - t;\n\t\t\t\t\t\tbaseMinusT = base - t;\n\t\t\t\t\t\toutput.push(\n\t\t\t\t\t\t\tstringFromCharCode(digitToBasic(t + qMinusT % baseMinusT, 0))\n\t\t\t\t\t\t);\n\t\t\t\t\t\tq = floor(qMinusT / baseMinusT);\n\t\t\t\t\t}\n\n\t\t\t\t\toutput.push(stringFromCharCode(digitToBasic(q, 0)));\n\t\t\t\t\tbias = adapt(delta, handledCPCountPlusOne, handledCPCount == basicLength);\n\t\t\t\t\tdelta = 0;\n\t\t\t\t\t++handledCPCount;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t++delta;\n\t\t\t++n;\n\n\t\t}\n\t\treturn output.join('');\n\t}\n\n\t/**\n\t * Converts a Punycode string representing a domain name or an email address\n\t * to Unicode. Only the Punycoded parts of the input will be converted, i.e.\n\t * it doesn't matter if you call it on a string that has already been\n\t * converted to Unicode.\n\t * @memberOf punycode\n\t * @param {String} input The Punycoded domain name or email address to\n\t * convert to Unicode.\n\t * @returns {String} The Unicode representation of the given Punycode\n\t * string.\n\t */\n\tfunction toUnicode(input) {\n\t\treturn mapDomain(input, function(string) {\n\t\t\treturn regexPunycode.test(string)\n\t\t\t\t? decode(string.slice(4).toLowerCase())\n\t\t\t\t: string;\n\t\t});\n\t}\n\n\t/**\n\t * Converts a Unicode string representing a domain name or an email address to\n\t * Punycode. Only the non-ASCII parts of the domain name will be converted,\n\t * i.e. it doesn't matter if you call it with a domain that's already in\n\t * ASCII.\n\t * @memberOf punycode\n\t * @param {String} input The domain name or email address to convert, as a\n\t * Unicode string.\n\t * @returns {String} The Punycode representation of the given domain name or\n\t * email address.\n\t */\n\tfunction toASCII(input) {\n\t\treturn mapDomain(input, function(string) {\n\t\t\treturn regexNonASCII.test(string)\n\t\t\t\t? 'xn--' + encode(string)\n\t\t\t\t: string;\n\t\t});\n\t}\n\n\t/*--------------------------------------------------------------------------*/\n\n\t/** Define the public API */\n\tpunycode = {\n\t\t/**\n\t\t * A string representing the current Punycode.js version number.\n\t\t * @memberOf punycode\n\t\t * @type String\n\t\t */\n\t\t'version': '1.3.2',\n\t\t/**\n\t\t * An object of methods to convert from JavaScript's internal character\n\t\t * representation (UCS-2) to Unicode code points, and back.\n\t\t * @see <https://mathiasbynens.be/notes/javascript-encoding>\n\t\t * @memberOf punycode\n\t\t * @type Object\n\t\t */\n\t\t'ucs2': {\n\t\t\t'decode': ucs2decode,\n\t\t\t'encode': ucs2encode\n\t\t},\n\t\t'decode': decode,\n\t\t'encode': encode,\n\t\t'toASCII': toASCII,\n\t\t'toUnicode': toUnicode\n\t};\n\n\t/** Expose `punycode` */\n\t// Some AMD build optimizers, like r.js, check for specific condition patterns\n\t// like the following:\n\tif (\n\t\ttypeof define == 'function' &&\n\t\ttypeof define.amd == 'object' &&\n\t\tdefine.amd\n\t) {\n\t\tdefine('punycode', function() {\n\t\t\treturn punycode;\n\t\t});\n\t} else if (freeExports && freeModule) {\n\t\tif (module.exports == freeExports) { // in Node.js or RingoJS v0.8.0+\n\t\t\tfreeModule.exports = punycode;\n\t\t} else { // in Narwhal or RingoJS v0.7.0-\n\t\t\tfor (key in punycode) {\n\t\t\t\tpunycode.hasOwnProperty(key) && (freeExports[key] = punycode[key]);\n\t\t\t}\n\t\t}\n\t} else { // in Rhino or a web browser\n\t\troot.punycode = punycode;\n\t}\n\n}(this));\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar punycode = require('punycode');\nvar util = require('./util');\n\nexports.parse = urlParse;\nexports.resolve = urlResolve;\nexports.resolveObject = urlResolveObject;\nexports.format = urlFormat;\n\nexports.Url = Url;\n\nfunction Url() {\n  this.protocol = null;\n  this.slashes = null;\n  this.auth = null;\n  this.host = null;\n  this.port = null;\n  this.hostname = null;\n  this.hash = null;\n  this.search = null;\n  this.query = null;\n  this.pathname = null;\n  this.path = null;\n  this.href = null;\n}\n\n// Reference: RFC 3986, RFC 1808, RFC 2396\n\n// define these here so at least they only have to be\n// compiled once on the first module load.\nvar protocolPattern = /^([a-z0-9.+-]+:)/i,\n    portPattern = /:[0-9]*$/,\n\n    // Special case for a simple path URL\n    simplePathPattern = /^(\\/\\/?(?!\\/)[^\\?\\s]*)(\\?[^\\s]*)?$/,\n\n    // RFC 2396: characters reserved for delimiting URLs.\n    // We actually just auto-escape these.\n    delims = ['<', '>', '\"', '`', ' ', '\\r', '\\n', '\\t'],\n\n    // RFC 2396: characters not allowed for various reasons.\n    unwise = ['{', '}', '|', '\\\\', '^', '`'].concat(delims),\n\n    // Allowed by RFCs, but cause of XSS attacks.  Always escape these.\n    autoEscape = ['\\''].concat(unwise),\n    // Characters that are never ever allowed in a hostname.\n    // Note that any invalid chars are also handled, but these\n    // are the ones that are *expected* to be seen, so we fast-path\n    // them.\n    nonHostChars = ['%', '/', '?', ';', '#'].concat(autoEscape),\n    hostEndingChars = ['/', '?', '#'],\n    hostnameMaxLen = 255,\n    hostnamePartPattern = /^[+a-z0-9A-Z_-]{0,63}$/,\n    hostnamePartStart = /^([+a-z0-9A-Z_-]{0,63})(.*)$/,\n    // protocols that can allow \"unsafe\" and \"unwise\" chars.\n    unsafeProtocol = {\n      'javascript': true,\n      'javascript:': true\n    },\n    // protocols that never have a hostname.\n    hostlessProtocol = {\n      'javascript': true,\n      'javascript:': true\n    },\n    // protocols that always contain a // bit.\n    slashedProtocol = {\n      'http': true,\n      'https': true,\n      'ftp': true,\n      'gopher': true,\n      'file': true,\n      'http:': true,\n      'https:': true,\n      'ftp:': true,\n      'gopher:': true,\n      'file:': true\n    },\n    querystring = require('querystring');\n\nfunction urlParse(url, parseQueryString, slashesDenoteHost) {\n  if (url && util.isObject(url) && url instanceof Url) return url;\n\n  var u = new Url;\n  u.parse(url, parseQueryString, slashesDenoteHost);\n  return u;\n}\n\nUrl.prototype.parse = function(url, parseQueryString, slashesDenoteHost) {\n  if (!util.isString(url)) {\n    throw new TypeError(\"Parameter 'url' must be a string, not \" + typeof url);\n  }\n\n  // Copy chrome, IE, opera backslash-handling behavior.\n  // Back slashes before the query string get converted to forward slashes\n  // See: https://code.google.com/p/chromium/issues/detail?id=25916\n  var queryIndex = url.indexOf('?'),\n      splitter =\n          (queryIndex !== -1 && queryIndex < url.indexOf('#')) ? '?' : '#',\n      uSplit = url.split(splitter),\n      slashRegex = /\\\\/g;\n  uSplit[0] = uSplit[0].replace(slashRegex, '/');\n  url = uSplit.join(splitter);\n\n  var rest = url;\n\n  // trim before proceeding.\n  // This is to support parse stuff like \"  http://foo.com  \\n\"\n  rest = rest.trim();\n\n  if (!slashesDenoteHost && url.split('#').length === 1) {\n    // Try fast path regexp\n    var simplePath = simplePathPattern.exec(rest);\n    if (simplePath) {\n      this.path = rest;\n      this.href = rest;\n      this.pathname = simplePath[1];\n      if (simplePath[2]) {\n        this.search = simplePath[2];\n        if (parseQueryString) {\n          this.query = querystring.parse(this.search.substr(1));\n        } else {\n          this.query = this.search.substr(1);\n        }\n      } else if (parseQueryString) {\n        this.search = '';\n        this.query = {};\n      }\n      return this;\n    }\n  }\n\n  var proto = protocolPattern.exec(rest);\n  if (proto) {\n    proto = proto[0];\n    var lowerProto = proto.toLowerCase();\n    this.protocol = lowerProto;\n    rest = rest.substr(proto.length);\n  }\n\n  // figure out if it's got a host\n  // user@server is *always* interpreted as a hostname, and url\n  // resolution will treat //foo/bar as host=foo,path=bar because that's\n  // how the browser resolves relative URLs.\n  if (slashesDenoteHost || proto || rest.match(/^\\/\\/[^@\\/]+@[^@\\/]+/)) {\n    var slashes = rest.substr(0, 2) === '//';\n    if (slashes && !(proto && hostlessProtocol[proto])) {\n      rest = rest.substr(2);\n      this.slashes = true;\n    }\n  }\n\n  if (!hostlessProtocol[proto] &&\n      (slashes || (proto && !slashedProtocol[proto]))) {\n\n    // there's a hostname.\n    // the first instance of /, ?, ;, or # ends the host.\n    //\n    // If there is an @ in the hostname, then non-host chars *are* allowed\n    // to the left of the last @ sign, unless some host-ending character\n    // comes *before* the @-sign.\n    // URLs are obnoxious.\n    //\n    // ex:\n    // http://a@b@c/ => user:a@b host:c\n    // http://a@b?@c => user:a host:c path:/?@c\n\n    // v0.12 TODO(isaacs): This is not quite how Chrome does things.\n    // Review our test case against browsers more comprehensively.\n\n    // find the first instance of any hostEndingChars\n    var hostEnd = -1;\n    for (var i = 0; i < hostEndingChars.length; i++) {\n      var hec = rest.indexOf(hostEndingChars[i]);\n      if (hec !== -1 && (hostEnd === -1 || hec < hostEnd))\n        hostEnd = hec;\n    }\n\n    // at this point, either we have an explicit point where the\n    // auth portion cannot go past, or the last @ char is the decider.\n    var auth, atSign;\n    if (hostEnd === -1) {\n      // atSign can be anywhere.\n      atSign = rest.lastIndexOf('@');\n    } else {\n      // atSign must be in auth portion.\n      // http://a@b/c@d => host:b auth:a path:/c@d\n      atSign = rest.lastIndexOf('@', hostEnd);\n    }\n\n    // Now we have a portion which is definitely the auth.\n    // Pull that off.\n    if (atSign !== -1) {\n      auth = rest.slice(0, atSign);\n      rest = rest.slice(atSign + 1);\n      this.auth = decodeURIComponent(auth);\n    }\n\n    // the host is the remaining to the left of the first non-host char\n    hostEnd = -1;\n    for (var i = 0; i < nonHostChars.length; i++) {\n      var hec = rest.indexOf(nonHostChars[i]);\n      if (hec !== -1 && (hostEnd === -1 || hec < hostEnd))\n        hostEnd = hec;\n    }\n    // if we still have not hit it, then the entire thing is a host.\n    if (hostEnd === -1)\n      hostEnd = rest.length;\n\n    this.host = rest.slice(0, hostEnd);\n    rest = rest.slice(hostEnd);\n\n    // pull out port.\n    this.parseHost();\n\n    // we've indicated that there is a hostname,\n    // so even if it's empty, it has to be present.\n    this.hostname = this.hostname || '';\n\n    // if hostname begins with [ and ends with ]\n    // assume that it's an IPv6 address.\n    var ipv6Hostname = this.hostname[0] === '[' &&\n        this.hostname[this.hostname.length - 1] === ']';\n\n    // validate a little.\n    if (!ipv6Hostname) {\n      var hostparts = this.hostname.split(/\\./);\n      for (var i = 0, l = hostparts.length; i < l; i++) {\n        var part = hostparts[i];\n        if (!part) continue;\n        if (!part.match(hostnamePartPattern)) {\n          var newpart = '';\n          for (var j = 0, k = part.length; j < k; j++) {\n            if (part.charCodeAt(j) > 127) {\n              // we replace non-ASCII char with a temporary placeholder\n              // we need this to make sure size of hostname is not\n              // broken by replacing non-ASCII by nothing\n              newpart += 'x';\n            } else {\n              newpart += part[j];\n            }\n          }\n          // we test again with ASCII char only\n          if (!newpart.match(hostnamePartPattern)) {\n            var validParts = hostparts.slice(0, i);\n            var notHost = hostparts.slice(i + 1);\n            var bit = part.match(hostnamePartStart);\n            if (bit) {\n              validParts.push(bit[1]);\n              notHost.unshift(bit[2]);\n            }\n            if (notHost.length) {\n              rest = '/' + notHost.join('.') + rest;\n            }\n            this.hostname = validParts.join('.');\n            break;\n          }\n        }\n      }\n    }\n\n    if (this.hostname.length > hostnameMaxLen) {\n      this.hostname = '';\n    } else {\n      // hostnames are always lower case.\n      this.hostname = this.hostname.toLowerCase();\n    }\n\n    if (!ipv6Hostname) {\n      // IDNA Support: Returns a punycoded representation of \"domain\".\n      // It only converts parts of the domain name that\n      // have non-ASCII characters, i.e. it doesn't matter if\n      // you call it with a domain that already is ASCII-only.\n      this.hostname = punycode.toASCII(this.hostname);\n    }\n\n    var p = this.port ? ':' + this.port : '';\n    var h = this.hostname || '';\n    this.host = h + p;\n    this.href += this.host;\n\n    // strip [ and ] from the hostname\n    // the host field still retains them, though\n    if (ipv6Hostname) {\n      this.hostname = this.hostname.substr(1, this.hostname.length - 2);\n      if (rest[0] !== '/') {\n        rest = '/' + rest;\n      }\n    }\n  }\n\n  // now rest is set to the post-host stuff.\n  // chop off any delim chars.\n  if (!unsafeProtocol[lowerProto]) {\n\n    // First, make 100% sure that any \"autoEscape\" chars get\n    // escaped, even if encodeURIComponent doesn't think they\n    // need to be.\n    for (var i = 0, l = autoEscape.length; i < l; i++) {\n      var ae = autoEscape[i];\n      if (rest.indexOf(ae) === -1)\n        continue;\n      var esc = encodeURIComponent(ae);\n      if (esc === ae) {\n        esc = escape(ae);\n      }\n      rest = rest.split(ae).join(esc);\n    }\n  }\n\n\n  // chop off from the tail first.\n  var hash = rest.indexOf('#');\n  if (hash !== -1) {\n    // got a fragment string.\n    this.hash = rest.substr(hash);\n    rest = rest.slice(0, hash);\n  }\n  var qm = rest.indexOf('?');\n  if (qm !== -1) {\n    this.search = rest.substr(qm);\n    this.query = rest.substr(qm + 1);\n    if (parseQueryString) {\n      this.query = querystring.parse(this.query);\n    }\n    rest = rest.slice(0, qm);\n  } else if (parseQueryString) {\n    // no query string, but parseQueryString still requested\n    this.search = '';\n    this.query = {};\n  }\n  if (rest) this.pathname = rest;\n  if (slashedProtocol[lowerProto] &&\n      this.hostname && !this.pathname) {\n    this.pathname = '/';\n  }\n\n  //to support http.request\n  if (this.pathname || this.search) {\n    var p = this.pathname || '';\n    var s = this.search || '';\n    this.path = p + s;\n  }\n\n  // finally, reconstruct the href based on what has been validated.\n  this.href = this.format();\n  return this;\n};\n\n// format a parsed object into a url string\nfunction urlFormat(obj) {\n  // ensure it's an object, and not a string url.\n  // If it's an obj, this is a no-op.\n  // this way, you can call url_format() on strings\n  // to clean up potentially wonky urls.\n  if (util.isString(obj)) obj = urlParse(obj);\n  if (!(obj instanceof Url)) return Url.prototype.format.call(obj);\n  return obj.format();\n}\n\nUrl.prototype.format = function() {\n  var auth = this.auth || '';\n  if (auth) {\n    auth = encodeURIComponent(auth);\n    auth = auth.replace(/%3A/i, ':');\n    auth += '@';\n  }\n\n  var protocol = this.protocol || '',\n      pathname = this.pathname || '',\n      hash = this.hash || '',\n      host = false,\n      query = '';\n\n  if (this.host) {\n    host = auth + this.host;\n  } else if (this.hostname) {\n    host = auth + (this.hostname.indexOf(':') === -1 ?\n        this.hostname :\n        '[' + this.hostname + ']');\n    if (this.port) {\n      host += ':' + this.port;\n    }\n  }\n\n  if (this.query &&\n      util.isObject(this.query) &&\n      Object.keys(this.query).length) {\n    query = querystring.stringify(this.query);\n  }\n\n  var search = this.search || (query && ('?' + query)) || '';\n\n  if (protocol && protocol.substr(-1) !== ':') protocol += ':';\n\n  // only the slashedProtocols get the //.  Not mailto:, xmpp:, etc.\n  // unless they had them to begin with.\n  if (this.slashes ||\n      (!protocol || slashedProtocol[protocol]) && host !== false) {\n    host = '//' + (host || '');\n    if (pathname && pathname.charAt(0) !== '/') pathname = '/' + pathname;\n  } else if (!host) {\n    host = '';\n  }\n\n  if (hash && hash.charAt(0) !== '#') hash = '#' + hash;\n  if (search && search.charAt(0) !== '?') search = '?' + search;\n\n  pathname = pathname.replace(/[?#]/g, function(match) {\n    return encodeURIComponent(match);\n  });\n  search = search.replace('#', '%23');\n\n  return protocol + host + pathname + search + hash;\n};\n\nfunction urlResolve(source, relative) {\n  return urlParse(source, false, true).resolve(relative);\n}\n\nUrl.prototype.resolve = function(relative) {\n  return this.resolveObject(urlParse(relative, false, true)).format();\n};\n\nfunction urlResolveObject(source, relative) {\n  if (!source) return relative;\n  return urlParse(source, false, true).resolveObject(relative);\n}\n\nUrl.prototype.resolveObject = function(relative) {\n  if (util.isString(relative)) {\n    var rel = new Url();\n    rel.parse(relative, false, true);\n    relative = rel;\n  }\n\n  var result = new Url();\n  var tkeys = Object.keys(this);\n  for (var tk = 0; tk < tkeys.length; tk++) {\n    var tkey = tkeys[tk];\n    result[tkey] = this[tkey];\n  }\n\n  // hash is always overridden, no matter what.\n  // even href=\"\" will remove it.\n  result.hash = relative.hash;\n\n  // if the relative url is empty, then there's nothing left to do here.\n  if (relative.href === '') {\n    result.href = result.format();\n    return result;\n  }\n\n  // hrefs like //foo/bar always cut to the protocol.\n  if (relative.slashes && !relative.protocol) {\n    // take everything except the protocol from relative\n    var rkeys = Object.keys(relative);\n    for (var rk = 0; rk < rkeys.length; rk++) {\n      var rkey = rkeys[rk];\n      if (rkey !== 'protocol')\n        result[rkey] = relative[rkey];\n    }\n\n    //urlParse appends trailing / to urls like http://www.example.com\n    if (slashedProtocol[result.protocol] &&\n        result.hostname && !result.pathname) {\n      result.path = result.pathname = '/';\n    }\n\n    result.href = result.format();\n    return result;\n  }\n\n  if (relative.protocol && relative.protocol !== result.protocol) {\n    // if it's a known url protocol, then changing\n    // the protocol does weird things\n    // first, if it's not file:, then we MUST have a host,\n    // and if there was a path\n    // to begin with, then we MUST have a path.\n    // if it is file:, then the host is dropped,\n    // because that's known to be hostless.\n    // anything else is assumed to be absolute.\n    if (!slashedProtocol[relative.protocol]) {\n      var keys = Object.keys(relative);\n      for (var v = 0; v < keys.length; v++) {\n        var k = keys[v];\n        result[k] = relative[k];\n      }\n      result.href = result.format();\n      return result;\n    }\n\n    result.protocol = relative.protocol;\n    if (!relative.host && !hostlessProtocol[relative.protocol]) {\n      var relPath = (relative.pathname || '').split('/');\n      while (relPath.length && !(relative.host = relPath.shift()));\n      if (!relative.host) relative.host = '';\n      if (!relative.hostname) relative.hostname = '';\n      if (relPath[0] !== '') relPath.unshift('');\n      if (relPath.length < 2) relPath.unshift('');\n      result.pathname = relPath.join('/');\n    } else {\n      result.pathname = relative.pathname;\n    }\n    result.search = relative.search;\n    result.query = relative.query;\n    result.host = relative.host || '';\n    result.auth = relative.auth;\n    result.hostname = relative.hostname || relative.host;\n    result.port = relative.port;\n    // to support http.request\n    if (result.pathname || result.search) {\n      var p = result.pathname || '';\n      var s = result.search || '';\n      result.path = p + s;\n    }\n    result.slashes = result.slashes || relative.slashes;\n    result.href = result.format();\n    return result;\n  }\n\n  var isSourceAbs = (result.pathname && result.pathname.charAt(0) === '/'),\n      isRelAbs = (\n          relative.host ||\n          relative.pathname && relative.pathname.charAt(0) === '/'\n      ),\n      mustEndAbs = (isRelAbs || isSourceAbs ||\n                    (result.host && relative.pathname)),\n      removeAllDots = mustEndAbs,\n      srcPath = result.pathname && result.pathname.split('/') || [],\n      relPath = relative.pathname && relative.pathname.split('/') || [],\n      psychotic = result.protocol && !slashedProtocol[result.protocol];\n\n  // if the url is a non-slashed url, then relative\n  // links like ../.. should be able\n  // to crawl up to the hostname, as well.  This is strange.\n  // result.protocol has already been set by now.\n  // Later on, put the first path part into the host field.\n  if (psychotic) {\n    result.hostname = '';\n    result.port = null;\n    if (result.host) {\n      if (srcPath[0] === '') srcPath[0] = result.host;\n      else srcPath.unshift(result.host);\n    }\n    result.host = '';\n    if (relative.protocol) {\n      relative.hostname = null;\n      relative.port = null;\n      if (relative.host) {\n        if (relPath[0] === '') relPath[0] = relative.host;\n        else relPath.unshift(relative.host);\n      }\n      relative.host = null;\n    }\n    mustEndAbs = mustEndAbs && (relPath[0] === '' || srcPath[0] === '');\n  }\n\n  if (isRelAbs) {\n    // it's absolute.\n    result.host = (relative.host || relative.host === '') ?\n                  relative.host : result.host;\n    result.hostname = (relative.hostname || relative.hostname === '') ?\n                      relative.hostname : result.hostname;\n    result.search = relative.search;\n    result.query = relative.query;\n    srcPath = relPath;\n    // fall through to the dot-handling below.\n  } else if (relPath.length) {\n    // it's relative\n    // throw away the existing file, and take the new path instead.\n    if (!srcPath) srcPath = [];\n    srcPath.pop();\n    srcPath = srcPath.concat(relPath);\n    result.search = relative.search;\n    result.query = relative.query;\n  } else if (!util.isNullOrUndefined(relative.search)) {\n    // just pull out the search.\n    // like href='?foo'.\n    // Put this after the other two cases because it simplifies the booleans\n    if (psychotic) {\n      result.hostname = result.host = srcPath.shift();\n      //occationaly the auth can get stuck only in host\n      //this especially happens in cases like\n      //url.resolveObject('mailto:local1@domain1', 'local2@domain2')\n      var authInHost = result.host && result.host.indexOf('@') > 0 ?\n                       result.host.split('@') : false;\n      if (authInHost) {\n        result.auth = authInHost.shift();\n        result.host = result.hostname = authInHost.shift();\n      }\n    }\n    result.search = relative.search;\n    result.query = relative.query;\n    //to support http.request\n    if (!util.isNull(result.pathname) || !util.isNull(result.search)) {\n      result.path = (result.pathname ? result.pathname : '') +\n                    (result.search ? result.search : '');\n    }\n    result.href = result.format();\n    return result;\n  }\n\n  if (!srcPath.length) {\n    // no path at all.  easy.\n    // we've already handled the other stuff above.\n    result.pathname = null;\n    //to support http.request\n    if (result.search) {\n      result.path = '/' + result.search;\n    } else {\n      result.path = null;\n    }\n    result.href = result.format();\n    return result;\n  }\n\n  // if a url ENDs in . or .., then it must get a trailing slash.\n  // however, if it ends in anything else non-slashy,\n  // then it must NOT get a trailing slash.\n  var last = srcPath.slice(-1)[0];\n  var hasTrailingSlash = (\n      (result.host || relative.host || srcPath.length > 1) &&\n      (last === '.' || last === '..') || last === '');\n\n  // strip single dots, resolve double dots to parent dir\n  // if the path tries to go above the root, `up` ends up > 0\n  var up = 0;\n  for (var i = srcPath.length; i >= 0; i--) {\n    last = srcPath[i];\n    if (last === '.') {\n      srcPath.splice(i, 1);\n    } else if (last === '..') {\n      srcPath.splice(i, 1);\n      up++;\n    } else if (up) {\n      srcPath.splice(i, 1);\n      up--;\n    }\n  }\n\n  // if the path is allowed to go above the root, restore leading ..s\n  if (!mustEndAbs && !removeAllDots) {\n    for (; up--; up) {\n      srcPath.unshift('..');\n    }\n  }\n\n  if (mustEndAbs && srcPath[0] !== '' &&\n      (!srcPath[0] || srcPath[0].charAt(0) !== '/')) {\n    srcPath.unshift('');\n  }\n\n  if (hasTrailingSlash && (srcPath.join('/').substr(-1) !== '/')) {\n    srcPath.push('');\n  }\n\n  var isAbsolute = srcPath[0] === '' ||\n      (srcPath[0] && srcPath[0].charAt(0) === '/');\n\n  // put the host back\n  if (psychotic) {\n    result.hostname = result.host = isAbsolute ? '' :\n                                    srcPath.length ? srcPath.shift() : '';\n    //occationaly the auth can get stuck only in host\n    //this especially happens in cases like\n    //url.resolveObject('mailto:local1@domain1', 'local2@domain2')\n    var authInHost = result.host && result.host.indexOf('@') > 0 ?\n                     result.host.split('@') : false;\n    if (authInHost) {\n      result.auth = authInHost.shift();\n      result.host = result.hostname = authInHost.shift();\n    }\n  }\n\n  mustEndAbs = mustEndAbs || (result.host && srcPath.length);\n\n  if (mustEndAbs && !isAbsolute) {\n    srcPath.unshift('');\n  }\n\n  if (!srcPath.length) {\n    result.pathname = null;\n    result.path = null;\n  } else {\n    result.pathname = srcPath.join('/');\n  }\n\n  //to support request.http\n  if (!util.isNull(result.pathname) || !util.isNull(result.search)) {\n    result.path = (result.pathname ? result.pathname : '') +\n                  (result.search ? result.search : '');\n  }\n  result.auth = relative.auth || result.auth;\n  result.slashes = result.slashes || relative.slashes;\n  result.href = result.format();\n  return result;\n};\n\nUrl.prototype.parseHost = function() {\n  var host = this.host;\n  var port = portPattern.exec(host);\n  if (port) {\n    port = port[0];\n    if (port !== ':') {\n      this.port = port.substr(1);\n    }\n    host = host.substr(0, host.length - port.length);\n  }\n  if (host) this.hostname = host;\n};\n","'use strict';\n\nmodule.exports = {\n  isString: function(arg) {\n    return typeof(arg) === 'string';\n  },\n  isObject: function(arg) {\n    return typeof(arg) === 'object' && arg !== null;\n  },\n  isNull: function(arg) {\n    return arg === null;\n  },\n  isNullOrUndefined: function(arg) {\n    return arg == null;\n  }\n};\n","\n/**\n * Module exports.\n */\n\nmodule.exports = deprecate;\n\n/**\n * Mark that a method should not be used.\n * Returns a modified function which warns once by default.\n *\n * If `localStorage.noDeprecation = true` is set, then it is a no-op.\n *\n * If `localStorage.throwDeprecation = true` is set, then deprecated functions\n * will throw an Error when invoked.\n *\n * If `localStorage.traceDeprecation = true` is set, then deprecated functions\n * will invoke `console.trace()` instead of `console.error()`.\n *\n * @param {Function} fn - the function to deprecate\n * @param {String} msg - the string to print to the console when `fn` is invoked\n * @returns {Function} a new \"deprecated\" version of `fn`\n * @api public\n */\n\nfunction deprecate (fn, msg) {\n  if (config('noDeprecation')) {\n    return fn;\n  }\n\n  var warned = false;\n  function deprecated() {\n    if (!warned) {\n      if (config('throwDeprecation')) {\n        throw new Error(msg);\n      } else if (config('traceDeprecation')) {\n        console.trace(msg);\n      } else {\n        console.warn(msg);\n      }\n      warned = true;\n    }\n    return fn.apply(this, arguments);\n  }\n\n  return deprecated;\n}\n\n/**\n * Checks `localStorage` for boolean values for the given `name`.\n *\n * @param {String} name\n * @returns {Boolean}\n * @api private\n */\n\nfunction config (name) {\n  // accessing global.localStorage can trigger a DOMException in sandboxed iframes\n  try {\n    if (!global.localStorage) return false;\n  } catch (_) {\n    return false;\n  }\n  var val = global.localStorage[name];\n  if (null == val) return false;\n  return String(val).toLowerCase() === 'true';\n}\n","module.exports = function isBuffer(arg) {\n  return arg && typeof arg === 'object'\n    && typeof arg.copy === 'function'\n    && typeof arg.fill === 'function'\n    && typeof arg.readUInt8 === 'function';\n}","// Currently in sync with Node.js lib/internal/util/types.js\n// https://github.com/nodejs/node/commit/112cc7c27551254aa2b17098fb774867f05ed0d9\n\n'use strict';\n\nvar isArgumentsObject = require('is-arguments');\nvar isGeneratorFunction = require('is-generator-function');\nvar whichTypedArray = require('which-typed-array');\nvar isTypedArray = require('is-typed-array');\n\nfunction uncurryThis(f) {\n  return f.call.bind(f);\n}\n\nvar BigIntSupported = typeof BigInt !== 'undefined';\nvar SymbolSupported = typeof Symbol !== 'undefined';\n\nvar ObjectToString = uncurryThis(Object.prototype.toString);\n\nvar numberValue = uncurryThis(Number.prototype.valueOf);\nvar stringValue = uncurryThis(String.prototype.valueOf);\nvar booleanValue = uncurryThis(Boolean.prototype.valueOf);\n\nif (BigIntSupported) {\n  var bigIntValue = uncurryThis(BigInt.prototype.valueOf);\n}\n\nif (SymbolSupported) {\n  var symbolValue = uncurryThis(Symbol.prototype.valueOf);\n}\n\nfunction checkBoxedPrimitive(value, prototypeValueOf) {\n  if (typeof value !== 'object') {\n    return false;\n  }\n  try {\n    prototypeValueOf(value);\n    return true;\n  } catch(e) {\n    return false;\n  }\n}\n\nexports.isArgumentsObject = isArgumentsObject;\nexports.isGeneratorFunction = isGeneratorFunction;\nexports.isTypedArray = isTypedArray;\n\n// Taken from here and modified for better browser support\n// https://github.com/sindresorhus/p-is-promise/blob/cda35a513bda03f977ad5cde3a079d237e82d7ef/index.js\nfunction isPromise(input) {\n\treturn (\n\t\t(\n\t\t\ttypeof Promise !== 'undefined' &&\n\t\t\tinput instanceof Promise\n\t\t) ||\n\t\t(\n\t\t\tinput !== null &&\n\t\t\ttypeof input === 'object' &&\n\t\t\ttypeof input.then === 'function' &&\n\t\t\ttypeof input.catch === 'function'\n\t\t)\n\t);\n}\nexports.isPromise = isPromise;\n\nfunction isArrayBufferView(value) {\n  if (typeof ArrayBuffer !== 'undefined' && ArrayBuffer.isView) {\n    return ArrayBuffer.isView(value);\n  }\n\n  return (\n    isTypedArray(value) ||\n    isDataView(value)\n  );\n}\nexports.isArrayBufferView = isArrayBufferView;\n\n\nfunction isUint8Array(value) {\n  return whichTypedArray(value) === 'Uint8Array';\n}\nexports.isUint8Array = isUint8Array;\n\nfunction isUint8ClampedArray(value) {\n  return whichTypedArray(value) === 'Uint8ClampedArray';\n}\nexports.isUint8ClampedArray = isUint8ClampedArray;\n\nfunction isUint16Array(value) {\n  return whichTypedArray(value) === 'Uint16Array';\n}\nexports.isUint16Array = isUint16Array;\n\nfunction isUint32Array(value) {\n  return whichTypedArray(value) === 'Uint32Array';\n}\nexports.isUint32Array = isUint32Array;\n\nfunction isInt8Array(value) {\n  return whichTypedArray(value) === 'Int8Array';\n}\nexports.isInt8Array = isInt8Array;\n\nfunction isInt16Array(value) {\n  return whichTypedArray(value) === 'Int16Array';\n}\nexports.isInt16Array = isInt16Array;\n\nfunction isInt32Array(value) {\n  return whichTypedArray(value) === 'Int32Array';\n}\nexports.isInt32Array = isInt32Array;\n\nfunction isFloat32Array(value) {\n  return whichTypedArray(value) === 'Float32Array';\n}\nexports.isFloat32Array = isFloat32Array;\n\nfunction isFloat64Array(value) {\n  return whichTypedArray(value) === 'Float64Array';\n}\nexports.isFloat64Array = isFloat64Array;\n\nfunction isBigInt64Array(value) {\n  return whichTypedArray(value) === 'BigInt64Array';\n}\nexports.isBigInt64Array = isBigInt64Array;\n\nfunction isBigUint64Array(value) {\n  return whichTypedArray(value) === 'BigUint64Array';\n}\nexports.isBigUint64Array = isBigUint64Array;\n\nfunction isMapToString(value) {\n  return ObjectToString(value) === '[object Map]';\n}\nisMapToString.working = (\n  typeof Map !== 'undefined' &&\n  isMapToString(new Map())\n);\n\nfunction isMap(value) {\n  if (typeof Map === 'undefined') {\n    return false;\n  }\n\n  return isMapToString.working\n    ? isMapToString(value)\n    : value instanceof Map;\n}\nexports.isMap = isMap;\n\nfunction isSetToString(value) {\n  return ObjectToString(value) === '[object Set]';\n}\nisSetToString.working = (\n  typeof Set !== 'undefined' &&\n  isSetToString(new Set())\n);\nfunction isSet(value) {\n  if (typeof Set === 'undefined') {\n    return false;\n  }\n\n  return isSetToString.working\n    ? isSetToString(value)\n    : value instanceof Set;\n}\nexports.isSet = isSet;\n\nfunction isWeakMapToString(value) {\n  return ObjectToString(value) === '[object WeakMap]';\n}\nisWeakMapToString.working = (\n  typeof WeakMap !== 'undefined' &&\n  isWeakMapToString(new WeakMap())\n);\nfunction isWeakMap(value) {\n  if (typeof WeakMap === 'undefined') {\n    return false;\n  }\n\n  return isWeakMapToString.working\n    ? isWeakMapToString(value)\n    : value instanceof WeakMap;\n}\nexports.isWeakMap = isWeakMap;\n\nfunction isWeakSetToString(value) {\n  return ObjectToString(value) === '[object WeakSet]';\n}\nisWeakSetToString.working = (\n  typeof WeakSet !== 'undefined' &&\n  isWeakSetToString(new WeakSet())\n);\nfunction isWeakSet(value) {\n  return isWeakSetToString(value);\n}\nexports.isWeakSet = isWeakSet;\n\nfunction isArrayBufferToString(value) {\n  return ObjectToString(value) === '[object ArrayBuffer]';\n}\nisArrayBufferToString.working = (\n  typeof ArrayBuffer !== 'undefined' &&\n  isArrayBufferToString(new ArrayBuffer())\n);\nfunction isArrayBuffer(value) {\n  if (typeof ArrayBuffer === 'undefined') {\n    return false;\n  }\n\n  return isArrayBufferToString.working\n    ? isArrayBufferToString(value)\n    : value instanceof ArrayBuffer;\n}\nexports.isArrayBuffer = isArrayBuffer;\n\nfunction isDataViewToString(value) {\n  return ObjectToString(value) === '[object DataView]';\n}\nisDataViewToString.working = (\n  typeof ArrayBuffer !== 'undefined' &&\n  typeof DataView !== 'undefined' &&\n  isDataViewToString(new DataView(new ArrayBuffer(1), 0, 1))\n);\nfunction isDataView(value) {\n  if (typeof DataView === 'undefined') {\n    return false;\n  }\n\n  return isDataViewToString.working\n    ? isDataViewToString(value)\n    : value instanceof DataView;\n}\nexports.isDataView = isDataView;\n\n// Store a copy of SharedArrayBuffer in case it's deleted elsewhere\nvar SharedArrayBufferCopy = typeof SharedArrayBuffer !== 'undefined' ? SharedArrayBuffer : undefined;\nfunction isSharedArrayBufferToString(value) {\n  return ObjectToString(value) === '[object SharedArrayBuffer]';\n}\nfunction isSharedArrayBuffer(value) {\n  if (typeof SharedArrayBufferCopy === 'undefined') {\n    return false;\n  }\n\n  if (typeof isSharedArrayBufferToString.working === 'undefined') {\n    isSharedArrayBufferToString.working = isSharedArrayBufferToString(new SharedArrayBufferCopy());\n  }\n\n  return isSharedArrayBufferToString.working\n    ? isSharedArrayBufferToString(value)\n    : value instanceof SharedArrayBufferCopy;\n}\nexports.isSharedArrayBuffer = isSharedArrayBuffer;\n\nfunction isAsyncFunction(value) {\n  return ObjectToString(value) === '[object AsyncFunction]';\n}\nexports.isAsyncFunction = isAsyncFunction;\n\nfunction isMapIterator(value) {\n  return ObjectToString(value) === '[object Map Iterator]';\n}\nexports.isMapIterator = isMapIterator;\n\nfunction isSetIterator(value) {\n  return ObjectToString(value) === '[object Set Iterator]';\n}\nexports.isSetIterator = isSetIterator;\n\nfunction isGeneratorObject(value) {\n  return ObjectToString(value) === '[object Generator]';\n}\nexports.isGeneratorObject = isGeneratorObject;\n\nfunction isWebAssemblyCompiledModule(value) {\n  return ObjectToString(value) === '[object WebAssembly.Module]';\n}\nexports.isWebAssemblyCompiledModule = isWebAssemblyCompiledModule;\n\nfunction isNumberObject(value) {\n  return checkBoxedPrimitive(value, numberValue);\n}\nexports.isNumberObject = isNumberObject;\n\nfunction isStringObject(value) {\n  return checkBoxedPrimitive(value, stringValue);\n}\nexports.isStringObject = isStringObject;\n\nfunction isBooleanObject(value) {\n  return checkBoxedPrimitive(value, booleanValue);\n}\nexports.isBooleanObject = isBooleanObject;\n\nfunction isBigIntObject(value) {\n  return BigIntSupported && checkBoxedPrimitive(value, bigIntValue);\n}\nexports.isBigIntObject = isBigIntObject;\n\nfunction isSymbolObject(value) {\n  return SymbolSupported && checkBoxedPrimitive(value, symbolValue);\n}\nexports.isSymbolObject = isSymbolObject;\n\nfunction isBoxedPrimitive(value) {\n  return (\n    isNumberObject(value) ||\n    isStringObject(value) ||\n    isBooleanObject(value) ||\n    isBigIntObject(value) ||\n    isSymbolObject(value)\n  );\n}\nexports.isBoxedPrimitive = isBoxedPrimitive;\n\nfunction isAnyArrayBuffer(value) {\n  return typeof Uint8Array !== 'undefined' && (\n    isArrayBuffer(value) ||\n    isSharedArrayBuffer(value)\n  );\n}\nexports.isAnyArrayBuffer = isAnyArrayBuffer;\n\n['isProxy', 'isExternal', 'isModuleNamespaceObject'].forEach(function(method) {\n  Object.defineProperty(exports, method, {\n    enumerable: false,\n    value: function() {\n      throw new Error(method + ' is not supported in userland');\n    }\n  });\n});\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nvar getOwnPropertyDescriptors = Object.getOwnPropertyDescriptors ||\n  function getOwnPropertyDescriptors(obj) {\n    var keys = Object.keys(obj);\n    var descriptors = {};\n    for (var i = 0; i < keys.length; i++) {\n      descriptors[keys[i]] = Object.getOwnPropertyDescriptor(obj, keys[i]);\n    }\n    return descriptors;\n  };\n\nvar formatRegExp = /%[sdj%]/g;\nexports.format = function(f) {\n  if (!isString(f)) {\n    var objects = [];\n    for (var i = 0; i < arguments.length; i++) {\n      objects.push(inspect(arguments[i]));\n    }\n    return objects.join(' ');\n  }\n\n  var i = 1;\n  var args = arguments;\n  var len = args.length;\n  var str = String(f).replace(formatRegExp, function(x) {\n    if (x === '%%') return '%';\n    if (i >= len) return x;\n    switch (x) {\n      case '%s': return String(args[i++]);\n      case '%d': return Number(args[i++]);\n      case '%j':\n        try {\n          return JSON.stringify(args[i++]);\n        } catch (_) {\n          return '[Circular]';\n        }\n      default:\n        return x;\n    }\n  });\n  for (var x = args[i]; i < len; x = args[++i]) {\n    if (isNull(x) || !isObject(x)) {\n      str += ' ' + x;\n    } else {\n      str += ' ' + inspect(x);\n    }\n  }\n  return str;\n};\n\n\n// Mark that a method should not be used.\n// Returns a modified function which warns once by default.\n// If --no-deprecation is set, then it is a no-op.\nexports.deprecate = function(fn, msg) {\n  if (typeof process !== 'undefined' && process.noDeprecation === true) {\n    return fn;\n  }\n\n  // Allow for deprecating things in the process of starting up.\n  if (typeof process === 'undefined') {\n    return function() {\n      return exports.deprecate(fn, msg).apply(this, arguments);\n    };\n  }\n\n  var warned = false;\n  function deprecated() {\n    if (!warned) {\n      if (process.throwDeprecation) {\n        throw new Error(msg);\n      } else if (process.traceDeprecation) {\n        console.trace(msg);\n      } else {\n        console.error(msg);\n      }\n      warned = true;\n    }\n    return fn.apply(this, arguments);\n  }\n\n  return deprecated;\n};\n\n\nvar debugs = {};\nvar debugEnvRegex = /^$/;\n\nif (process.env.NODE_DEBUG) {\n  var debugEnv = process.env.NODE_DEBUG;\n  debugEnv = debugEnv.replace(/[|\\\\{}()[\\]^$+?.]/g, '\\\\$&')\n    .replace(/\\*/g, '.*')\n    .replace(/,/g, '$|^')\n    .toUpperCase();\n  debugEnvRegex = new RegExp('^' + debugEnv + '$', 'i');\n}\nexports.debuglog = function(set) {\n  set = set.toUpperCase();\n  if (!debugs[set]) {\n    if (debugEnvRegex.test(set)) {\n      var pid = process.pid;\n      debugs[set] = function() {\n        var msg = exports.format.apply(exports, arguments);\n        console.error('%s %d: %s', set, pid, msg);\n      };\n    } else {\n      debugs[set] = function() {};\n    }\n  }\n  return debugs[set];\n};\n\n\n/**\n * Echos the value of a value. Trys to print the value out\n * in the best way possible given the different types.\n *\n * @param {Object} obj The object to print out.\n * @param {Object} opts Optional options object that alters the output.\n */\n/* legacy: obj, showHidden, depth, colors*/\nfunction inspect(obj, opts) {\n  // default options\n  var ctx = {\n    seen: [],\n    stylize: stylizeNoColor\n  };\n  // legacy...\n  if (arguments.length >= 3) ctx.depth = arguments[2];\n  if (arguments.length >= 4) ctx.colors = arguments[3];\n  if (isBoolean(opts)) {\n    // legacy...\n    ctx.showHidden = opts;\n  } else if (opts) {\n    // got an \"options\" object\n    exports._extend(ctx, opts);\n  }\n  // set default options\n  if (isUndefined(ctx.showHidden)) ctx.showHidden = false;\n  if (isUndefined(ctx.depth)) ctx.depth = 2;\n  if (isUndefined(ctx.colors)) ctx.colors = false;\n  if (isUndefined(ctx.customInspect)) ctx.customInspect = true;\n  if (ctx.colors) ctx.stylize = stylizeWithColor;\n  return formatValue(ctx, obj, ctx.depth);\n}\nexports.inspect = inspect;\n\n\n// http://en.wikipedia.org/wiki/ANSI_escape_code#graphics\ninspect.colors = {\n  'bold' : [1, 22],\n  'italic' : [3, 23],\n  'underline' : [4, 24],\n  'inverse' : [7, 27],\n  'white' : [37, 39],\n  'grey' : [90, 39],\n  'black' : [30, 39],\n  'blue' : [34, 39],\n  'cyan' : [36, 39],\n  'green' : [32, 39],\n  'magenta' : [35, 39],\n  'red' : [31, 39],\n  'yellow' : [33, 39]\n};\n\n// Don't use 'blue' not visible on cmd.exe\ninspect.styles = {\n  'special': 'cyan',\n  'number': 'yellow',\n  'boolean': 'yellow',\n  'undefined': 'grey',\n  'null': 'bold',\n  'string': 'green',\n  'date': 'magenta',\n  // \"name\": intentionally not styling\n  'regexp': 'red'\n};\n\n\nfunction stylizeWithColor(str, styleType) {\n  var style = inspect.styles[styleType];\n\n  if (style) {\n    return '\\u001b[' + inspect.colors[style][0] + 'm' + str +\n           '\\u001b[' + inspect.colors[style][1] + 'm';\n  } else {\n    return str;\n  }\n}\n\n\nfunction stylizeNoColor(str, styleType) {\n  return str;\n}\n\n\nfunction arrayToHash(array) {\n  var hash = {};\n\n  array.forEach(function(val, idx) {\n    hash[val] = true;\n  });\n\n  return hash;\n}\n\n\nfunction formatValue(ctx, value, recurseTimes) {\n  // Provide a hook for user-specified inspect functions.\n  // Check that value is an object with an inspect function on it\n  if (ctx.customInspect &&\n      value &&\n      isFunction(value.inspect) &&\n      // Filter out the util module, it's inspect function is special\n      value.inspect !== exports.inspect &&\n      // Also filter out any prototype objects using the circular check.\n      !(value.constructor && value.constructor.prototype === value)) {\n    var ret = value.inspect(recurseTimes, ctx);\n    if (!isString(ret)) {\n      ret = formatValue(ctx, ret, recurseTimes);\n    }\n    return ret;\n  }\n\n  // Primitive types cannot have properties\n  var primitive = formatPrimitive(ctx, value);\n  if (primitive) {\n    return primitive;\n  }\n\n  // Look up the keys of the object.\n  var keys = Object.keys(value);\n  var visibleKeys = arrayToHash(keys);\n\n  if (ctx.showHidden) {\n    keys = Object.getOwnPropertyNames(value);\n  }\n\n  // IE doesn't make error fields non-enumerable\n  // http://msdn.microsoft.com/en-us/library/ie/dww52sbt(v=vs.94).aspx\n  if (isError(value)\n      && (keys.indexOf('message') >= 0 || keys.indexOf('description') >= 0)) {\n    return formatError(value);\n  }\n\n  // Some type of object without properties can be shortcutted.\n  if (keys.length === 0) {\n    if (isFunction(value)) {\n      var name = value.name ? ': ' + value.name : '';\n      return ctx.stylize('[Function' + name + ']', 'special');\n    }\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    }\n    if (isDate(value)) {\n      return ctx.stylize(Date.prototype.toString.call(value), 'date');\n    }\n    if (isError(value)) {\n      return formatError(value);\n    }\n  }\n\n  var base = '', array = false, braces = ['{', '}'];\n\n  // Make Array say that they are Array\n  if (isArray(value)) {\n    array = true;\n    braces = ['[', ']'];\n  }\n\n  // Make functions say that they are functions\n  if (isFunction(value)) {\n    var n = value.name ? ': ' + value.name : '';\n    base = ' [Function' + n + ']';\n  }\n\n  // Make RegExps say that they are RegExps\n  if (isRegExp(value)) {\n    base = ' ' + RegExp.prototype.toString.call(value);\n  }\n\n  // Make dates with properties first say the date\n  if (isDate(value)) {\n    base = ' ' + Date.prototype.toUTCString.call(value);\n  }\n\n  // Make error with message first say the error\n  if (isError(value)) {\n    base = ' ' + formatError(value);\n  }\n\n  if (keys.length === 0 && (!array || value.length == 0)) {\n    return braces[0] + base + braces[1];\n  }\n\n  if (recurseTimes < 0) {\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    } else {\n      return ctx.stylize('[Object]', 'special');\n    }\n  }\n\n  ctx.seen.push(value);\n\n  var output;\n  if (array) {\n    output = formatArray(ctx, value, recurseTimes, visibleKeys, keys);\n  } else {\n    output = keys.map(function(key) {\n      return formatProperty(ctx, value, recurseTimes, visibleKeys, key, array);\n    });\n  }\n\n  ctx.seen.pop();\n\n  return reduceToSingleString(output, base, braces);\n}\n\n\nfunction formatPrimitive(ctx, value) {\n  if (isUndefined(value))\n    return ctx.stylize('undefined', 'undefined');\n  if (isString(value)) {\n    var simple = '\\'' + JSON.stringify(value).replace(/^\"|\"$/g, '')\n                                             .replace(/'/g, \"\\\\'\")\n                                             .replace(/\\\\\"/g, '\"') + '\\'';\n    return ctx.stylize(simple, 'string');\n  }\n  if (isNumber(value))\n    return ctx.stylize('' + value, 'number');\n  if (isBoolean(value))\n    return ctx.stylize('' + value, 'boolean');\n  // For some reason typeof null is \"object\", so special case here.\n  if (isNull(value))\n    return ctx.stylize('null', 'null');\n}\n\n\nfunction formatError(value) {\n  return '[' + Error.prototype.toString.call(value) + ']';\n}\n\n\nfunction formatArray(ctx, value, recurseTimes, visibleKeys, keys) {\n  var output = [];\n  for (var i = 0, l = value.length; i < l; ++i) {\n    if (hasOwnProperty(value, String(i))) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n          String(i), true));\n    } else {\n      output.push('');\n    }\n  }\n  keys.forEach(function(key) {\n    if (!key.match(/^\\d+$/)) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n          key, true));\n    }\n  });\n  return output;\n}\n\n\nfunction formatProperty(ctx, value, recurseTimes, visibleKeys, key, array) {\n  var name, str, desc;\n  desc = Object.getOwnPropertyDescriptor(value, key) || { value: value[key] };\n  if (desc.get) {\n    if (desc.set) {\n      str = ctx.stylize('[Getter/Setter]', 'special');\n    } else {\n      str = ctx.stylize('[Getter]', 'special');\n    }\n  } else {\n    if (desc.set) {\n      str = ctx.stylize('[Setter]', 'special');\n    }\n  }\n  if (!hasOwnProperty(visibleKeys, key)) {\n    name = '[' + key + ']';\n  }\n  if (!str) {\n    if (ctx.seen.indexOf(desc.value) < 0) {\n      if (isNull(recurseTimes)) {\n        str = formatValue(ctx, desc.value, null);\n      } else {\n        str = formatValue(ctx, desc.value, recurseTimes - 1);\n      }\n      if (str.indexOf('\\n') > -1) {\n        if (array) {\n          str = str.split('\\n').map(function(line) {\n            return '  ' + line;\n          }).join('\\n').substr(2);\n        } else {\n          str = '\\n' + str.split('\\n').map(function(line) {\n            return '   ' + line;\n          }).join('\\n');\n        }\n      }\n    } else {\n      str = ctx.stylize('[Circular]', 'special');\n    }\n  }\n  if (isUndefined(name)) {\n    if (array && key.match(/^\\d+$/)) {\n      return str;\n    }\n    name = JSON.stringify('' + key);\n    if (name.match(/^\"([a-zA-Z_][a-zA-Z_0-9]*)\"$/)) {\n      name = name.substr(1, name.length - 2);\n      name = ctx.stylize(name, 'name');\n    } else {\n      name = name.replace(/'/g, \"\\\\'\")\n                 .replace(/\\\\\"/g, '\"')\n                 .replace(/(^\"|\"$)/g, \"'\");\n      name = ctx.stylize(name, 'string');\n    }\n  }\n\n  return name + ': ' + str;\n}\n\n\nfunction reduceToSingleString(output, base, braces) {\n  var numLinesEst = 0;\n  var length = output.reduce(function(prev, cur) {\n    numLinesEst++;\n    if (cur.indexOf('\\n') >= 0) numLinesEst++;\n    return prev + cur.replace(/\\u001b\\[\\d\\d?m/g, '').length + 1;\n  }, 0);\n\n  if (length > 60) {\n    return braces[0] +\n           (base === '' ? '' : base + '\\n ') +\n           ' ' +\n           output.join(',\\n  ') +\n           ' ' +\n           braces[1];\n  }\n\n  return braces[0] + base + ' ' + output.join(', ') + ' ' + braces[1];\n}\n\n\n// NOTE: These type checking functions intentionally don't use `instanceof`\n// because it is fragile and can be easily faked with `Object.create()`.\nexports.types = require('./support/types');\n\nfunction isArray(ar) {\n  return Array.isArray(ar);\n}\nexports.isArray = isArray;\n\nfunction isBoolean(arg) {\n  return typeof arg === 'boolean';\n}\nexports.isBoolean = isBoolean;\n\nfunction isNull(arg) {\n  return arg === null;\n}\nexports.isNull = isNull;\n\nfunction isNullOrUndefined(arg) {\n  return arg == null;\n}\nexports.isNullOrUndefined = isNullOrUndefined;\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\nexports.isNumber = isNumber;\n\nfunction isString(arg) {\n  return typeof arg === 'string';\n}\nexports.isString = isString;\n\nfunction isSymbol(arg) {\n  return typeof arg === 'symbol';\n}\nexports.isSymbol = isSymbol;\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\nexports.isUndefined = isUndefined;\n\nfunction isRegExp(re) {\n  return isObject(re) && objectToString(re) === '[object RegExp]';\n}\nexports.isRegExp = isRegExp;\nexports.types.isRegExp = isRegExp;\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\nexports.isObject = isObject;\n\nfunction isDate(d) {\n  return isObject(d) && objectToString(d) === '[object Date]';\n}\nexports.isDate = isDate;\nexports.types.isDate = isDate;\n\nfunction isError(e) {\n  return isObject(e) &&\n      (objectToString(e) === '[object Error]' || e instanceof Error);\n}\nexports.isError = isError;\nexports.types.isNativeError = isError;\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\nexports.isFunction = isFunction;\n\nfunction isPrimitive(arg) {\n  return arg === null ||\n         typeof arg === 'boolean' ||\n         typeof arg === 'number' ||\n         typeof arg === 'string' ||\n         typeof arg === 'symbol' ||  // ES6 symbol\n         typeof arg === 'undefined';\n}\nexports.isPrimitive = isPrimitive;\n\nexports.isBuffer = require('./support/isBuffer');\n\nfunction objectToString(o) {\n  return Object.prototype.toString.call(o);\n}\n\n\nfunction pad(n) {\n  return n < 10 ? '0' + n.toString(10) : n.toString(10);\n}\n\n\nvar months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep',\n              'Oct', 'Nov', 'Dec'];\n\n// 26 Feb 16:19:34\nfunction timestamp() {\n  var d = new Date();\n  var time = [pad(d.getHours()),\n              pad(d.getMinutes()),\n              pad(d.getSeconds())].join(':');\n  return [d.getDate(), months[d.getMonth()], time].join(' ');\n}\n\n\n// log is just a thin wrapper to console.log that prepends a timestamp\nexports.log = function() {\n  console.log('%s - %s', timestamp(), exports.format.apply(exports, arguments));\n};\n\n\n/**\n * Inherit the prototype methods from one constructor into another.\n *\n * The Function.prototype.inherits from lang.js rewritten as a standalone\n * function (not on Function.prototype). NOTE: If this file is to be loaded\n * during bootstrapping this function needs to be rewritten using some native\n * functions as prototype setup using normal JavaScript does not work as\n * expected during bootstrapping (see mirror.js in r114903).\n *\n * @param {function} ctor Constructor function which needs to inherit the\n *     prototype.\n * @param {function} superCtor Constructor function to inherit prototype from.\n */\nexports.inherits = require('inherits');\n\nexports._extend = function(origin, add) {\n  // Don't do anything if add isn't an object\n  if (!add || !isObject(add)) return origin;\n\n  var keys = Object.keys(add);\n  var i = keys.length;\n  while (i--) {\n    origin[keys[i]] = add[keys[i]];\n  }\n  return origin;\n};\n\nfunction hasOwnProperty(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n\nvar kCustomPromisifiedSymbol = typeof Symbol !== 'undefined' ? Symbol('util.promisify.custom') : undefined;\n\nexports.promisify = function promisify(original) {\n  if (typeof original !== 'function')\n    throw new TypeError('The \"original\" argument must be of type Function');\n\n  if (kCustomPromisifiedSymbol && original[kCustomPromisifiedSymbol]) {\n    var fn = original[kCustomPromisifiedSymbol];\n    if (typeof fn !== 'function') {\n      throw new TypeError('The \"util.promisify.custom\" argument must be of type Function');\n    }\n    Object.defineProperty(fn, kCustomPromisifiedSymbol, {\n      value: fn, enumerable: false, writable: false, configurable: true\n    });\n    return fn;\n  }\n\n  function fn() {\n    var promiseResolve, promiseReject;\n    var promise = new Promise(function (resolve, reject) {\n      promiseResolve = resolve;\n      promiseReject = reject;\n    });\n\n    var args = [];\n    for (var i = 0; i < arguments.length; i++) {\n      args.push(arguments[i]);\n    }\n    args.push(function (err, value) {\n      if (err) {\n        promiseReject(err);\n      } else {\n        promiseResolve(value);\n      }\n    });\n\n    try {\n      original.apply(this, args);\n    } catch (err) {\n      promiseReject(err);\n    }\n\n    return promise;\n  }\n\n  Object.setPrototypeOf(fn, Object.getPrototypeOf(original));\n\n  if (kCustomPromisifiedSymbol) Object.defineProperty(fn, kCustomPromisifiedSymbol, {\n    value: fn, enumerable: false, writable: false, configurable: true\n  });\n  return Object.defineProperties(\n    fn,\n    getOwnPropertyDescriptors(original)\n  );\n}\n\nexports.promisify.custom = kCustomPromisifiedSymbol\n\nfunction callbackifyOnRejected(reason, cb) {\n  // `!reason` guard inspired by bluebird (Ref: https://goo.gl/t5IS6M).\n  // Because `null` is a special error value in callbacks which means \"no error\n  // occurred\", we error-wrap so the callback consumer can distinguish between\n  // \"the promise rejected with null\" or \"the promise fulfilled with undefined\".\n  if (!reason) {\n    var newReason = new Error('Promise was rejected with a falsy value');\n    newReason.reason = reason;\n    reason = newReason;\n  }\n  return cb(reason);\n}\n\nfunction callbackify(original) {\n  if (typeof original !== 'function') {\n    throw new TypeError('The \"original\" argument must be of type Function');\n  }\n\n  // We DO NOT return the promise as it gives the user a false sense that\n  // the promise is actually somehow related to the callback's execution\n  // and that the callback throwing will reject the promise.\n  function callbackified() {\n    var args = [];\n    for (var i = 0; i < arguments.length; i++) {\n      args.push(arguments[i]);\n    }\n\n    var maybeCb = args.pop();\n    if (typeof maybeCb !== 'function') {\n      throw new TypeError('The last argument must be of type Function');\n    }\n    var self = this;\n    var cb = function() {\n      return maybeCb.apply(self, arguments);\n    };\n    // In true node style we process the callback on `nextTick` with all the\n    // implications (stack, `uncaughtException`, `async_hooks`)\n    original.apply(this, args)\n      .then(function(ret) { process.nextTick(cb.bind(null, null, ret)) },\n            function(rej) { process.nextTick(callbackifyOnRejected.bind(null, rej, cb)) });\n  }\n\n  Object.setPrototypeOf(callbackified, Object.getPrototypeOf(original));\n  Object.defineProperties(callbackified,\n                          getOwnPropertyDescriptors(original));\n  return callbackified;\n}\nexports.callbackify = callbackify;\n","'use strict';\n\nvar forEach = require('for-each');\nvar availableTypedArrays = require('available-typed-arrays');\nvar callBound = require('call-bind/callBound');\n\nvar $toString = callBound('Object.prototype.toString');\nvar hasToStringTag = require('has-tostringtag/shams')();\n\nvar g = typeof globalThis === 'undefined' ? global : globalThis;\nvar typedArrays = availableTypedArrays();\n\nvar $slice = callBound('String.prototype.slice');\nvar toStrTags = {};\nvar gOPD = require('es-abstract/helpers/getOwnPropertyDescriptor');\nvar getPrototypeOf = Object.getPrototypeOf; // require('getprototypeof');\nif (hasToStringTag && gOPD && getPrototypeOf) {\n\tforEach(typedArrays, function (typedArray) {\n\t\tif (typeof g[typedArray] === 'function') {\n\t\t\tvar arr = new g[typedArray]();\n\t\t\tif (Symbol.toStringTag in arr) {\n\t\t\t\tvar proto = getPrototypeOf(arr);\n\t\t\t\tvar descriptor = gOPD(proto, Symbol.toStringTag);\n\t\t\t\tif (!descriptor) {\n\t\t\t\t\tvar superProto = getPrototypeOf(proto);\n\t\t\t\t\tdescriptor = gOPD(superProto, Symbol.toStringTag);\n\t\t\t\t}\n\t\t\t\ttoStrTags[typedArray] = descriptor.get;\n\t\t\t}\n\t\t}\n\t});\n}\n\nvar tryTypedArrays = function tryAllTypedArrays(value) {\n\tvar foundName = false;\n\tforEach(toStrTags, function (getter, typedArray) {\n\t\tif (!foundName) {\n\t\t\ttry {\n\t\t\t\tvar name = getter.call(value);\n\t\t\t\tif (name === typedArray) {\n\t\t\t\t\tfoundName = name;\n\t\t\t\t}\n\t\t\t} catch (e) {}\n\t\t}\n\t});\n\treturn foundName;\n};\n\nvar isTypedArray = require('is-typed-array');\n\nmodule.exports = function whichTypedArray(value) {\n\tif (!isTypedArray(value)) { return false; }\n\tif (!hasToStringTag || !(Symbol.toStringTag in value)) { return $slice($toString(value), 8, -1); }\n\treturn tryTypedArrays(value);\n};\n","module.exports = extend\n\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\n\nfunction extend() {\n    var target = {}\n\n    for (var i = 0; i < arguments.length; i++) {\n        var source = arguments[i]\n\n        for (var key in source) {\n            if (hasOwnProperty.call(source, key)) {\n                target[key] = source[key]\n            }\n        }\n    }\n\n    return target\n}\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nclass Base64Codec {\r\n    constructor(subMediaType) {\r\n        this.subMediaType = subMediaType;\r\n    }\r\n    getMediaType() {\r\n        return this.subMediaType;\r\n    }\r\n    bytesToValue(bytes, schema, parameters) {\r\n        const parsed = bytes.toString(\"ascii\");\r\n        return parsed;\r\n    }\r\n    valueToBytes(value, schema, parameters) {\r\n        let body = \"\";\r\n        if (value !== undefined) {\r\n            body = JSON.stringify(value);\r\n        }\r\n        return Buffer.from(body, \"base64\");\r\n    }\r\n}\r\nexports.default = Base64Codec;\r\n//# sourceMappingURL=base64-codec.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst content_serdes_1 = require(\"../content-serdes\");\r\nconst logger_1 = require(\"../logger\");\r\nconst { debug } = (0, logger_1.createLoggers)(\"core\", \"json-codec\");\r\nclass JsonCodec {\r\n    constructor(subMediaType) {\r\n        if (!subMediaType) {\r\n            this.subMediaType = content_serdes_1.ContentSerdes.DEFAULT;\r\n        }\r\n        else {\r\n            this.subMediaType = subMediaType;\r\n        }\r\n    }\r\n    getMediaType() {\r\n        return this.subMediaType;\r\n    }\r\n    bytesToValue(bytes, schema, parameters) {\r\n        debug(`JsonCodec parsing '${bytes.toString()}'`);\r\n        let parsed;\r\n        try {\r\n            parsed = JSON.parse(bytes.toString());\r\n        }\r\n        catch (err) {\r\n            if (err instanceof SyntaxError) {\r\n                if (bytes.byteLength === 0) {\r\n                    parsed = undefined;\r\n                }\r\n                else {\r\n                    parsed = bytes.toString();\r\n                }\r\n            }\r\n            else {\r\n                throw err;\r\n            }\r\n        }\r\n        return parsed;\r\n    }\r\n    valueToBytes(value, schema, parameters) {\r\n        debug(\"JsonCodec serializing\", value);\r\n        let body = \"\";\r\n        if (value !== undefined) {\r\n            body = JSON.stringify(value);\r\n        }\r\n        return Buffer.from(body);\r\n    }\r\n}\r\nexports.default = JsonCodec;\r\n//# sourceMappingURL=json-codec.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst logger_1 = require(\"../logger\");\r\nconst { debug } = (0, logger_1.createLoggers)(\"core\", \"netconf-codec\");\r\nclass NetconfCodec {\r\n    getMediaType() {\r\n        return \"application/netconf\";\r\n    }\r\n    bytesToValue(bytes, schema, parameters) {\r\n        debug(`NetconfCodec parsing '${bytes.toString()}'`);\r\n        let parsed;\r\n        try {\r\n            parsed = JSON.parse(bytes.toString());\r\n        }\r\n        catch (err) {\r\n            if (err instanceof SyntaxError) {\r\n                if (bytes.byteLength === 0) {\r\n                    parsed = undefined;\r\n                }\r\n                else {\r\n                    parsed = bytes.toString();\r\n                }\r\n            }\r\n            else {\r\n                throw err;\r\n            }\r\n        }\r\n        return parsed;\r\n    }\r\n    valueToBytes(value, schema, parameters) {\r\n        debug(\"NetconfCodec serializing\", value);\r\n        let body = \"\";\r\n        if (value !== undefined) {\r\n            const NSs = {};\r\n            const tmpObj = this.getPayloadNamespaces(schema, value, NSs, false);\r\n            body = JSON.stringify(tmpObj);\r\n        }\r\n        return Buffer.from(body);\r\n    }\r\n    getPayloadNamespaces(schema, payload, NSs, hasNamespace) {\r\n        if (!schema) {\r\n            throw new Error(`Missing \"schema\" field in TD`);\r\n        }\r\n        if (hasNamespace) {\r\n            const properties = schema.properties;\r\n            if (!properties) {\r\n                throw new Error(`Missing \"properties\" field in TD`);\r\n            }\r\n            let nsFound = false;\r\n            let aliasNs = \"\";\r\n            let value;\r\n            for (const key in properties) {\r\n                const el = properties[key];\r\n                if (!payload[key]) {\r\n                    throw new Error(`Payload is missing '${key}' field specified in TD`);\r\n                }\r\n                if (el[\"nc:attribute\"] === true && payload[key]) {\r\n                    const ns = payload[key];\r\n                    aliasNs = ns.split(\":\")[ns.split(\":\").length - 1];\r\n                    NSs[aliasNs] = payload[key];\r\n                    nsFound = true;\r\n                }\r\n                else if (payload[key]) {\r\n                    value = payload[key];\r\n                }\r\n            }\r\n            if (!nsFound) {\r\n                throw new Error(`Namespace not found in the payload`);\r\n            }\r\n            else {\r\n                return { payload: aliasNs + \"\\\\\" + \":\" + value, NSs };\r\n            }\r\n        }\r\n        if (schema && schema.type && schema.type === \"object\" && schema.properties) {\r\n            let tmpObj;\r\n            if (schema.properties && schema[\"nc:container\"]) {\r\n                tmpObj = this.getPayloadNamespaces(schema, payload, NSs, true);\r\n            }\r\n            else {\r\n                tmpObj = this.getPayloadNamespaces(schema.properties, payload, NSs, false);\r\n            }\r\n            payload = tmpObj.payload;\r\n            NSs = Object.assign(Object.assign({}, NSs), tmpObj.NSs);\r\n        }\r\n        for (const key in schema) {\r\n            if ((schema[key].type && schema[key].type === \"object\") || hasNamespace) {\r\n                let tmpHasNamespace = false;\r\n                if (schema[key].properties && schema[key][\"nc:container\"]) {\r\n                    tmpHasNamespace = true;\r\n                }\r\n                const tmpObj = this.getPayloadNamespaces(schema[key], payload[key], NSs, tmpHasNamespace);\r\n                payload[key] = tmpObj.payload;\r\n                NSs = Object.assign(Object.assign({}, NSs), tmpObj.NSs);\r\n            }\r\n        }\r\n        return { payload, NSs };\r\n    }\r\n}\r\nexports.default = NetconfCodec;\r\n//# sourceMappingURL=netconf-codec.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst float16_1 = require(\"@petamoriken/float16\");\r\nconst logger_1 = require(\"../logger\");\r\nconst { debug, warn } = (0, logger_1.createLoggers)(\"core\", \"octetstream-codec\");\r\nclass OctetstreamCodec {\r\n    getMediaType() {\r\n        return \"application/octet-stream\";\r\n    }\r\n    bytesToValue(bytes, schema, parameters = {}) {\r\n        var _a;\r\n        debug(`OctetstreamCodec parsing '${bytes.toString()}'`);\r\n        const bigendian = parameters.byteorder !== \"littleendian\";\r\n        let signed = parameters.signed !== \"false\";\r\n        if (parameters.length && parseInt(parameters.length) !== bytes.length) {\r\n            throw new Error(\"Lengths do not match, required: \" + parameters.length + \" provided: \" + bytes.length);\r\n        }\r\n        let dataLength = bytes.length;\r\n        let dataType = schema ? schema.type : \"undefined\";\r\n        if (/(short|(u)?int(8|16|32)?$|float(16|32|64)?|byte)/.test(dataType.toLowerCase())) {\r\n            const typeSem = /(u)?(short|int|float|byte)(8|16|32|64)?/.exec(dataType.toLowerCase());\r\n            if (typeSem) {\r\n                signed = typeSem[1] === undefined;\r\n                dataType = typeSem[2];\r\n                dataLength = (_a = +typeSem[3] / 8) !== null && _a !== void 0 ? _a : bytes.length;\r\n            }\r\n        }\r\n        switch (dataType) {\r\n            case \"boolean\":\r\n                return !bytes.every((val) => val === 0);\r\n            case \"byte\":\r\n            case \"short\":\r\n            case \"int\":\r\n            case \"integer\":\r\n                switch (dataLength) {\r\n                    case 1:\r\n                        return signed ? bytes.readInt8(0) : bytes.readUInt8(0);\r\n                    case 2:\r\n                        return bigendian\r\n                            ? signed\r\n                                ? bytes.readInt16BE(0)\r\n                                : bytes.readUInt16BE(0)\r\n                            : signed\r\n                                ? bytes.readInt16LE(0)\r\n                                : bytes.readUInt16LE(0);\r\n                    case 4:\r\n                        return bigendian\r\n                            ? signed\r\n                                ? bytes.readInt32BE(0)\r\n                                : bytes.readUInt32BE(0)\r\n                            : signed\r\n                                ? bytes.readInt32LE(0)\r\n                                : bytes.readUInt32LE(0);\r\n                    default: {\r\n                        let result = 0;\r\n                        let negative;\r\n                        if (bigendian) {\r\n                            result = bytes.reduce((prev, curr) => prev << (8 + curr));\r\n                            negative = bytes.readInt8(0) < 0;\r\n                        }\r\n                        else {\r\n                            result = bytes.reduceRight((prev, curr) => prev << (8 + curr));\r\n                            negative = bytes.readInt8(dataLength - 1) < 0;\r\n                        }\r\n                        if (signed && negative) {\r\n                            result -= 1 << (8 * dataLength);\r\n                        }\r\n                        if (!Number.isSafeInteger(result)) {\r\n                            warn(\"Result is not a safe integer\");\r\n                        }\r\n                        return result;\r\n                    }\r\n                }\r\n            case \"float\":\r\n            case \"double\":\r\n            case \"number\":\r\n                switch (dataLength) {\r\n                    case 2:\r\n                        return (0, float16_1.getFloat16)(new DataView(bytes.buffer), bytes.byteOffset, !bigendian);\r\n                    case 4:\r\n                        return bigendian ? bytes.readFloatBE(0) : bytes.readFloatLE(0);\r\n                    case 8:\r\n                        return bigendian ? bytes.readDoubleBE(0) : bytes.readDoubleLE(0);\r\n                    default:\r\n                        throw new Error(\"Wrong buffer length for type 'number', must be 2, 4, 8, or is \" + dataLength);\r\n                }\r\n            case \"string\":\r\n                return bytes.toString(parameters.charset);\r\n            case \"array\":\r\n            case \"object\":\r\n                throw new Error(\"Unable to handle dataType \" + dataType);\r\n            case \"null\":\r\n                return null;\r\n            default:\r\n                throw new Error(\"Unable to handle dataType \" + dataType);\r\n        }\r\n    }\r\n    valueToBytes(value, schema, parameters = {}) {\r\n        var _a;\r\n        debug(`OctetstreamCodec serializing '${value}'`);\r\n        if (!parameters.length) {\r\n            warn(\"Missing 'length' parameter necessary for write. I'll do my best\");\r\n        }\r\n        const bigendian = parameters.byteorder !== \"littleendian\";\r\n        let signed = parameters.signed !== \"false\";\r\n        let length = parameters.length ? parseInt(parameters.length) : undefined;\r\n        let buf;\r\n        if (value === undefined) {\r\n            throw new Error(\"Undefined value\");\r\n        }\r\n        let dataType = schema ? schema.type : \"undefined\";\r\n        if (/(short|(u)?int(8|16|32)?$|float(16|32|64)?|byte)/.test(dataType.toLowerCase())) {\r\n            const typeSem = /(u)?(short|int|float|byte)(8|16|32|64)?/.exec(dataType.toLowerCase());\r\n            if (typeSem) {\r\n                signed = typeSem[1] === undefined;\r\n                dataType = typeSem[2];\r\n                length = (_a = +typeSem[3] / 8) !== null && _a !== void 0 ? _a : length;\r\n            }\r\n        }\r\n        switch (dataType) {\r\n            case \"boolean\":\r\n                return Buffer.alloc(length !== null && length !== void 0 ? length : 1, value ? 255 : 0);\r\n            case \"byte\":\r\n            case \"short\":\r\n            case \"int\":\r\n            case \"integer\": {\r\n                length = length !== null && length !== void 0 ? length : 4;\r\n                if (typeof value !== \"number\") {\r\n                    throw new Error(\"Value is not a number\");\r\n                }\r\n                if (!Number.isSafeInteger(value)) {\r\n                    warn(\"Value is not a safe integer\");\r\n                }\r\n                const limit = Math.pow(2, 8 * length) - 1;\r\n                if (signed) {\r\n                    if (value < -limit || value >= limit) {\r\n                        throw new Error(\"Integer overflow when representing signed \" + value + \" in \" + length + \" byte(s)\");\r\n                    }\r\n                }\r\n                else {\r\n                    if (value < 0 || value >= limit) {\r\n                        throw new Error(\"Integer overflow when representing unsigned \" + value + \" in \" + length + \" byte(s)\");\r\n                    }\r\n                }\r\n                buf = Buffer.alloc(length);\r\n                switch (length) {\r\n                    case 1:\r\n                        signed ? buf.writeInt8(value, 0) : buf.writeUInt8(value, 0);\r\n                        break;\r\n                    case 2:\r\n                        bigendian\r\n                            ? signed\r\n                                ? buf.writeInt16BE(value, 0)\r\n                                : buf.writeUInt16BE(value, 0)\r\n                            : signed\r\n                                ? buf.writeInt16LE(value, 0)\r\n                                : buf.writeUInt16LE(value, 0);\r\n                        break;\r\n                    case 4:\r\n                        bigendian\r\n                            ? signed\r\n                                ? buf.writeInt32BE(value, 0)\r\n                                : buf.writeUInt32BE(value, 0)\r\n                            : signed\r\n                                ? buf.writeInt32LE(value, 0)\r\n                                : buf.writeUInt32LE(value, 0);\r\n                        break;\r\n                    default:\r\n                        if (signed && value < 0) {\r\n                            value += 1 << (8 * length);\r\n                        }\r\n                        for (let i = 0; i < length; ++i) {\r\n                            const byte = value % 0x100;\r\n                            value /= 0x100;\r\n                            buf.writeInt8(byte, bigendian ? length - i - 1 : i);\r\n                        }\r\n                }\r\n                return buf;\r\n            }\r\n            case \"float\":\r\n            case \"number\":\r\n                if (typeof value !== \"number\") {\r\n                    throw new Error(\"Value is not a number\");\r\n                }\r\n                length = length !== null && length !== void 0 ? length : 8;\r\n                buf = Buffer.alloc(length);\r\n                switch (length) {\r\n                    case 2:\r\n                        (0, float16_1.setFloat16)(new DataView(buf.buffer), 0, value, !bigendian);\r\n                        break;\r\n                    case 4:\r\n                        bigendian ? buf.writeFloatBE(value, 0) : buf.writeFloatLE(value, 0);\r\n                        break;\r\n                    case 8:\r\n                        bigendian ? buf.writeDoubleBE(value, 0) : buf.writeDoubleLE(value, 0);\r\n                        break;\r\n                    default:\r\n                        throw new Error(\"Wrong buffer length for type 'number', must be 4 or 8, is \" + length);\r\n                }\r\n                return buf;\r\n            case \"string\": {\r\n                const str = String(value);\r\n                return Buffer.from(str);\r\n            }\r\n            case \"array\":\r\n            case \"object\":\r\n            case \"undefined\":\r\n                throw new Error(\"Unable to handle dataType \" + dataType);\r\n            case \"null\":\r\n                return Buffer.alloc(0);\r\n            default:\r\n                throw new Error(\"Unable to handle dataType \" + dataType);\r\n        }\r\n    }\r\n}\r\nexports.default = OctetstreamCodec;\r\n//# sourceMappingURL=octetstream-codec.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst logger_1 = require(\"../logger\");\r\nconst { debug } = (0, logger_1.createLoggers)(\"core\", \"text-codec\");\r\nclass TextCodec {\r\n    constructor(subMediaType) {\r\n        if (!subMediaType) {\r\n            this.subMediaType = \"text/plain\";\r\n        }\r\n        else {\r\n            this.subMediaType = subMediaType;\r\n        }\r\n    }\r\n    getMediaType() {\r\n        return this.subMediaType;\r\n    }\r\n    bytesToValue(bytes, schema, parameters) {\r\n        debug(`TextCodec parsing '${bytes.toString()}'`);\r\n        const parsed = bytes.toString(parameters === null || parameters === void 0 ? void 0 : parameters.charset);\r\n        return parsed;\r\n    }\r\n    valueToBytes(value, schema, parameters) {\r\n        debug(`TextCodec serializing '${value}'`);\r\n        let body = \"\";\r\n        if (value !== undefined) {\r\n            body = JSON.stringify(value);\r\n        }\r\n        let be;\r\n        if (parameters && parameters.charset) {\r\n            switch (parameters.charset) {\r\n                case \"ascii\":\r\n                    be = \"ascii\";\r\n                    break;\r\n                case \"utf8\":\r\n                    be = \"utf8\";\r\n                    break;\r\n                case \"utf-8\":\r\n                    be = \"utf-8\";\r\n                    break;\r\n                case \"utf16le\":\r\n                    be = \"utf16le\";\r\n                    break;\r\n                case \"ucs2\":\r\n                    be = \"ucs2\";\r\n                    break;\r\n                case \"ucs-2\":\r\n                    be = \"ucs-2\";\r\n                    break;\r\n                case \"base64\":\r\n                    be = \"base64\";\r\n                    break;\r\n                case \"latin1\":\r\n                    be = \"latin1\";\r\n                    break;\r\n                case \"binary\":\r\n                    be = \"binary\";\r\n                    break;\r\n                case \"hex\":\r\n                    be = \"hex\";\r\n                    break;\r\n            }\r\n        }\r\n        if (be) {\r\n            return Buffer.from(body, be);\r\n        }\r\n        else {\r\n            return Buffer.from(body);\r\n        }\r\n    }\r\n}\r\nexports.default = TextCodec;\r\n//# sourceMappingURL=text-codec.js.map","\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n});\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n};\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst TD = __importStar(require(\"@node-wot/td-tools\"));\r\nconst helpers_1 = __importDefault(require(\"./helpers\"));\r\nconst content_serdes_1 = __importDefault(require(\"./content-serdes\"));\r\nconst UriTemplate = require(\"uritemplate\");\r\nconst interaction_output_1 = require(\"./interaction-output\");\r\nconst logger_1 = require(\"./logger\");\r\nconst { debug, warn } = (0, logger_1.createLoggers)(\"core\", \"consumed-thing\");\r\nvar Affordance;\r\n(function (Affordance) {\r\n    Affordance[Affordance[\"PropertyAffordance\"] = 0] = \"PropertyAffordance\";\r\n    Affordance[Affordance[\"ActionAffordance\"] = 1] = \"ActionAffordance\";\r\n    Affordance[Affordance[\"EventAffordance\"] = 2] = \"EventAffordance\";\r\n})(Affordance || (Affordance = {}));\r\nclass ConsumedThingProperty extends TD.ThingProperty {\r\n    constructor(name, thing) {\r\n        super();\r\n        this.getName = () => {\r\n            return name;\r\n        };\r\n        this.getThing = () => {\r\n            return thing;\r\n        };\r\n    }\r\n}\r\nclass ConsumedThingAction extends TD.ThingAction {\r\n    constructor(name, thing) {\r\n        super();\r\n        this.getName = () => {\r\n            return name;\r\n        };\r\n        this.getThing = () => {\r\n            return thing;\r\n        };\r\n    }\r\n}\r\nclass ConsumedThingEvent extends TD.ThingEvent {\r\n    constructor(name, thing) {\r\n        super();\r\n        this.getName = () => {\r\n            return name;\r\n        };\r\n        this.getThing = () => {\r\n            return thing;\r\n        };\r\n    }\r\n}\r\nclass InternalSubscription {\r\n    constructor(thing, name) {\r\n        this.thing = thing;\r\n        this.name = name;\r\n        this.active = true;\r\n    }\r\n}\r\nclass InternalPropertySubscription extends InternalSubscription {\r\n    constructor(thing, name, form) {\r\n        var _a;\r\n        super(thing, name);\r\n        this.form = form;\r\n        this.active = false;\r\n        const index = (_a = this.thing.properties) === null || _a === void 0 ? void 0 : _a[name].forms.indexOf(form);\r\n        if (index === undefined || index < 0) {\r\n            throw new Error(`Could not find form ${form.href} in property ${name}`);\r\n        }\r\n        this.formIndex = index;\r\n    }\r\n    stop(options) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            yield this.unobserveProperty(options);\r\n            this.thing[\"observedProperties\"].delete(this.name);\r\n        });\r\n    }\r\n    unobserveProperty(options = {}) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const tp = this.thing.properties[this.name];\r\n            if (!tp) {\r\n                throw new Error(`ConsumedThing '${this.thing.title}' does not have property ${this.name}`);\r\n            }\r\n            if (!options.formIndex) {\r\n                options.formIndex = this.matchingUnsubscribeForm();\r\n            }\r\n            const { client, form } = this.thing.getClientFor(tp.forms, \"unobserveproperty\", Affordance.PropertyAffordance, options);\r\n            if (!form) {\r\n                throw new Error(`ConsumedThing '${this.thing.title}' did not get suitable form`);\r\n            }\r\n            if (!client) {\r\n                throw new Error(`ConsumedThing '${this.thing.title}' did not get suitable client for ${form.href}`);\r\n            }\r\n            debug(`ConsumedThing '${this.thing.title}' unobserving to ${form.href}`);\r\n            yield client.unlinkResource(form);\r\n            this.active = false;\r\n        });\r\n    }\r\n    matchingUnsubscribeForm() {\r\n        const refForm = this.thing.properties[this.name].forms[this.formIndex];\r\n        if (Array.isArray(refForm.op) && refForm.op.includes(\"unobserveproperty\")) {\r\n            return this.formIndex;\r\n        }\r\n        const bestFormMatch = this.findFormIndexWithScoring(this.formIndex, this.thing.properties[this.name].forms, \"unobserveproperty\");\r\n        if (bestFormMatch === -1) {\r\n            throw new Error(`Could not find matching form for unsubscribe`);\r\n        }\r\n        return bestFormMatch;\r\n    }\r\n    findFormIndexWithScoring(formIndex, forms, operation) {\r\n        const refForm = forms[formIndex];\r\n        let maxScore = 0;\r\n        let maxScoreIndex = -1;\r\n        for (let i = 0; i < forms.length; i++) {\r\n            let score = 0;\r\n            const form = forms[i];\r\n            if (form.op === operation || (Array.isArray(form.op) && form.op.includes(operation))) {\r\n                score += 1;\r\n            }\r\n            if (new URL(form.href).origin === new URL(refForm.href).origin) {\r\n                score += 1;\r\n            }\r\n            if (form.contentType === refForm.contentType) {\r\n                score += 1;\r\n            }\r\n            if (score > maxScore) {\r\n                maxScore = score;\r\n                maxScoreIndex = i;\r\n            }\r\n        }\r\n        return maxScoreIndex;\r\n    }\r\n}\r\nfunction findFormIndexWithScoring(formIndex, forms, operation) {\r\n    const refForm = forms[formIndex];\r\n    let maxScore = 0;\r\n    let maxScoreIndex = -1;\r\n    for (let i = 0; i < forms.length; i++) {\r\n        let score = 0;\r\n        const form = forms[i];\r\n        if (form.op === operation || (Array.isArray(form.op) && form.op.includes(operation))) {\r\n            score += 1;\r\n        }\r\n        if (new URL(form.href).origin === new URL(refForm.href).origin) {\r\n            score += 1;\r\n        }\r\n        if (form.contentType === refForm.contentType) {\r\n            score += 1;\r\n        }\r\n        if (score > maxScore) {\r\n            maxScore = score;\r\n            maxScoreIndex = i;\r\n        }\r\n    }\r\n    return maxScoreIndex;\r\n}\r\nclass InternalEventSubscription extends InternalSubscription {\r\n    constructor(thing, name, form) {\r\n        var _a;\r\n        super(thing, name);\r\n        this.form = form;\r\n        const index = (_a = this.thing.events) === null || _a === void 0 ? void 0 : _a[name].forms.indexOf(form);\r\n        if (index === undefined || index < 0) {\r\n            throw new Error(`Could not find form ${form.href} in event ${name}`);\r\n        }\r\n        this.formIndex = index;\r\n    }\r\n    stop(options) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            yield this.unsubscribeEvent(options);\r\n            this.thing[\"subscribedEvents\"].delete(this.name);\r\n        });\r\n    }\r\n    unsubscribeEvent(options = {}) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const te = this.thing.events[this.name];\r\n            if (!te) {\r\n                throw new Error(`ConsumedThing '${this.thing.title}' does not have event ${this.name}`);\r\n            }\r\n            if (!options.formIndex) {\r\n                options.formIndex = this.matchingUnsubscribeForm();\r\n            }\r\n            const { client, form } = this.thing.getClientFor(te.forms, \"unsubscribeevent\", Affordance.EventAffordance, options);\r\n            if (!form) {\r\n                throw new Error(`ConsumedThing '${this.thing.title}' did not get suitable form`);\r\n            }\r\n            if (!client) {\r\n                throw new Error(`ConsumedThing '${this.thing.title}' did not get suitable client for ${form.href}`);\r\n            }\r\n            debug(`ConsumedThing '${this.thing.title}' unsubscribing to ${form.href}`);\r\n            client.unlinkResource(form);\r\n            this.active = false;\r\n        });\r\n    }\r\n    matchingUnsubscribeForm() {\r\n        const refForm = this.thing.events[this.name].forms[this.formIndex];\r\n        if (!refForm.op || (Array.isArray(refForm.op) && refForm.op.includes(\"unsubscribeevent\"))) {\r\n            return this.formIndex;\r\n        }\r\n        const bestFormMatch = findFormIndexWithScoring(this.formIndex, this.thing.events[this.name].forms, \"unsubscribeevent\");\r\n        if (bestFormMatch === -1) {\r\n            throw new Error(`Could not find matching form for unsubscribe`);\r\n        }\r\n        return bestFormMatch;\r\n    }\r\n}\r\nclass ConsumedThing extends TD.Thing {\r\n    constructor(servient, thingModel = {}) {\r\n        super();\r\n        this.subscribedEvents = new Map();\r\n        this.observedProperties = new Map();\r\n        this.getServient = () => {\r\n            return servient;\r\n        };\r\n        this.getClients = new (class {\r\n            constructor() {\r\n                this.clients = new Map();\r\n                this.getMap = () => {\r\n                    return this.clients;\r\n                };\r\n            }\r\n        })().getMap;\r\n        this.properties = {};\r\n        this.actions = {};\r\n        this.events = {};\r\n        const clonedModel = JSON.parse(JSON.stringify(thingModel));\r\n        Object.assign(this, clonedModel);\r\n        this.extendInteractions();\r\n    }\r\n    getThingDescription() {\r\n        return JSON.parse(JSON.stringify(this));\r\n    }\r\n    emitEvent(name, data) {\r\n        warn(\"not implemented\");\r\n    }\r\n    extendInteractions() {\r\n        for (const propertyName in this.properties) {\r\n            const newProp = helpers_1.default.extend(this.properties[propertyName], new ConsumedThingProperty(propertyName, this));\r\n            this.properties[propertyName] = newProp;\r\n        }\r\n        for (const actionName in this.actions) {\r\n            const newAction = helpers_1.default.extend(this.actions[actionName], new ConsumedThingAction(actionName, this));\r\n            this.actions[actionName] = newAction;\r\n        }\r\n        for (const eventName in this.events) {\r\n            const newEvent = helpers_1.default.extend(this.events[eventName], new ConsumedThingEvent(eventName, this));\r\n            this.events[eventName] = newEvent;\r\n        }\r\n    }\r\n    findForm(forms, op, affordance, schemes, idx) {\r\n        let form;\r\n        for (const f of forms) {\r\n            let fop = \"\";\r\n            if (f.op !== undefined) {\r\n                fop = f.op;\r\n            }\r\n            else {\r\n                switch (affordance) {\r\n                    case Affordance.PropertyAffordance:\r\n                        fop = [\"readproperty\", \"writeproperty\"];\r\n                        break;\r\n                    case Affordance.ActionAffordance:\r\n                        fop = \"invokeaction\";\r\n                        break;\r\n                    case Affordance.EventAffordance:\r\n                        fop = \"subscribeevent\";\r\n                        break;\r\n                }\r\n            }\r\n            if (fop.indexOf(op) !== -1 && f.href.indexOf(schemes[idx] + \":\") !== -1) {\r\n                form = f;\r\n                break;\r\n            }\r\n        }\r\n        return form;\r\n    }\r\n    getSecuritySchemes(security) {\r\n        const scs = [];\r\n        for (const s of security) {\r\n            const ws = this.securityDefinitions[s + \"\"];\r\n            if (ws) {\r\n                scs.push(ws);\r\n            }\r\n        }\r\n        return scs;\r\n    }\r\n    ensureClientSecurity(client, form) {\r\n        if (this.securityDefinitions) {\r\n            const logStatement = () => debug(`ConsumedThing '${this.title}' setting credentials for ${client} based on thing security`);\r\n            if (form && Array.isArray(form.security) && form.security.length > 0) {\r\n                logStatement();\r\n                client.setSecurity(this.getSecuritySchemes(form.security), this.getServient().retrieveCredentials(this.id));\r\n            }\r\n            else if (this.security && Array.isArray(this.security) && this.security.length > 0) {\r\n                logStatement();\r\n                client.setSecurity(this.getSecuritySchemes(this.security), this.getServient().getCredentials(this.id));\r\n            }\r\n        }\r\n    }\r\n    getClientFor(forms, op, affordance, options) {\r\n        if (forms.length === 0) {\r\n            throw new Error(`ConsumedThing '${this.title}' has no links for this interaction`);\r\n        }\r\n        let form;\r\n        let client;\r\n        if ((options === null || options === void 0 ? void 0 : options.formIndex) !== undefined) {\r\n            debug(`ConsumedThing '${this.title}' asked to use formIndex '${options.formIndex}'`);\r\n            if (options.formIndex >= 0 && options.formIndex < forms.length) {\r\n                form = forms[options.formIndex];\r\n                const scheme = helpers_1.default.extractScheme(form.href);\r\n                if (this.getServient().hasClientFor(scheme)) {\r\n                    debug(`ConsumedThing '${this.title}' got client for '${scheme}'`);\r\n                    client = this.getServient().getClientFor(scheme);\r\n                    if (!this.getClients().get(scheme)) {\r\n                        this.ensureClientSecurity(client, form);\r\n                        this.getClients().set(scheme, client);\r\n                    }\r\n                }\r\n                else {\r\n                    throw new Error(`ConsumedThing '${this.title}' missing ClientFactory for '${scheme}'`);\r\n                }\r\n            }\r\n            else {\r\n                throw new Error(`ConsumedThing '${this.title}' missing formIndex '${options.formIndex}'`);\r\n            }\r\n        }\r\n        else {\r\n            const schemes = forms.map((link) => helpers_1.default.extractScheme(link.href));\r\n            const cacheIdx = schemes.findIndex((scheme) => this.getClients().has(scheme));\r\n            if (cacheIdx !== -1) {\r\n                debug(`ConsumedThing '${this.title}' chose cached client for '${schemes[cacheIdx]}'`);\r\n                client = this.getClients().get(schemes[cacheIdx]);\r\n                form = this.findForm(forms, op, affordance, schemes, cacheIdx);\r\n            }\r\n            else {\r\n                debug(`ConsumedThing '${this.title}' has no client in cache (${cacheIdx})`);\r\n                const srvIdx = schemes.findIndex((scheme) => this.getServient().hasClientFor(scheme));\r\n                if (srvIdx === -1)\r\n                    throw new Error(`ConsumedThing '${this.title}' missing ClientFactory for '${schemes}'`);\r\n                client = this.getServient().getClientFor(schemes[srvIdx]);\r\n                debug(`ConsumedThing '${this.title}' got new client for '${schemes[srvIdx]}'`);\r\n                this.getClients().set(schemes[srvIdx], client);\r\n                form = this.findForm(forms, op, affordance, schemes, srvIdx);\r\n                this.ensureClientSecurity(client, form);\r\n            }\r\n        }\r\n        return { client: client, form: form };\r\n    }\r\n    readProperty(propertyName, options) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const tp = this.properties[propertyName];\r\n            if (!tp) {\r\n                throw new Error(`ConsumedThing '${this.title}' does not have property ${propertyName}`);\r\n            }\r\n            let { client, form } = this.getClientFor(tp.forms, \"readproperty\", Affordance.PropertyAffordance, options);\r\n            if (!form) {\r\n                throw new Error(`ConsumedThing '${this.title}' did not get suitable form`);\r\n            }\r\n            if (!client) {\r\n                throw new Error(`ConsumedThing '${this.title}' did not get suitable client for ${form.href}`);\r\n            }\r\n            debug(`ConsumedThing '${this.title}' reading ${form.href}`);\r\n            form = this.handleUriVariables(tp, form, options);\r\n            const content = yield client.readResource(form);\r\n            return new interaction_output_1.InteractionOutput(content, form, tp);\r\n        });\r\n    }\r\n    _readProperties(propertyNames) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const promises = [];\r\n            for (const propertyName of propertyNames) {\r\n                promises.push(this.readProperty(propertyName));\r\n            }\r\n            const output = new Map();\r\n            try {\r\n                const result = yield Promise.all(promises);\r\n                let index = 0;\r\n                for (const propertyName of propertyNames) {\r\n                    output.set(propertyName, result[index]);\r\n                    index++;\r\n                }\r\n                return output;\r\n            }\r\n            catch (err) {\r\n                throw new Error(`ConsumedThing '${this.title}', failed to read properties: ${propertyNames}.\\n Error: ${err}`);\r\n            }\r\n        });\r\n    }\r\n    readAllProperties(options) {\r\n        const propertyNames = [];\r\n        for (const propertyName in this.properties) {\r\n            const tp = this.properties[propertyName];\r\n            const { form } = this.getClientFor(tp.forms, \"readproperty\", Affordance.PropertyAffordance, options);\r\n            if (form) {\r\n                propertyNames.push(propertyName);\r\n            }\r\n        }\r\n        return this._readProperties(propertyNames);\r\n    }\r\n    readMultipleProperties(propertyNames, options) {\r\n        return this._readProperties(propertyNames);\r\n    }\r\n    writeProperty(propertyName, value, options) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const tp = this.properties[propertyName];\r\n            if (!tp) {\r\n                throw new Error(`ConsumedThing '${this.title}' does not have property ${propertyName}`);\r\n            }\r\n            let { client, form } = this.getClientFor(tp.forms, \"writeproperty\", Affordance.PropertyAffordance, options);\r\n            if (!form) {\r\n                throw new Error(`ConsumedThing '${this.title}' did not get suitable form`);\r\n            }\r\n            if (!client) {\r\n                throw new Error(`ConsumedThing '${this.title}' did not get suitable client for ${form.href}`);\r\n            }\r\n            debug(`ConsumedThing '${this.title}' writing ${form.href} with '${value}'`);\r\n            const content = content_serdes_1.default.valueToContent(value, tp, form.contentType);\r\n            form = this.handleUriVariables(tp, form, options);\r\n            yield client.writeResource(form, content);\r\n        });\r\n    }\r\n    writeMultipleProperties(valueMap, options) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const promises = [];\r\n            for (const propertyName in valueMap) {\r\n                const value = valueMap.get(propertyName);\r\n                promises.push(this.writeProperty(propertyName, value));\r\n            }\r\n            try {\r\n                yield Promise.all(promises);\r\n            }\r\n            catch (err) {\r\n                throw new Error(`ConsumedThing '${this.title}', failed to write multiple propertes: ${valueMap}\\n Error: ${err}`);\r\n            }\r\n        });\r\n    }\r\n    invokeAction(actionName, parameter, options) {\r\n        var _a;\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const ta = this.actions[actionName];\r\n            if (!ta) {\r\n                throw new Error(`ConsumedThing '${this.title}' does not have action ${actionName}`);\r\n            }\r\n            let { client, form } = this.getClientFor(ta.forms, \"invokeaction\", Affordance.ActionAffordance, options);\r\n            if (!form) {\r\n                throw new Error(`ConsumedThing '${this.title}' did not get suitable form`);\r\n            }\r\n            if (!client) {\r\n                throw new Error(`ConsumedThing '${this.title}' did not get suitable client for ${form.href}`);\r\n            }\r\n            debug(`ConsumedThing '${this.title}' invoking ${form.href}${parameter !== undefined ? \" with '\" + parameter + \"'\" : \"\"}`);\r\n            let input;\r\n            if (parameter !== undefined) {\r\n                input = content_serdes_1.default.valueToContent(parameter, ta.input, form.contentType);\r\n            }\r\n            form = this.handleUriVariables(ta, form, options);\r\n            const content = yield client.invokeResource(form, input);\r\n            if (!content.type)\r\n                content.type = (_a = form.contentType) !== null && _a !== void 0 ? _a : \"application/json\";\r\n            if (form.response) {\r\n                if (content.type !== form.response.contentType) {\r\n                    throw new Error(`Unexpected type in response`);\r\n                }\r\n            }\r\n            try {\r\n                return new interaction_output_1.InteractionOutput(content, form, ta.output);\r\n            }\r\n            catch (_b) {\r\n                throw new Error(`Received invalid content from Thing`);\r\n            }\r\n        });\r\n    }\r\n    observeProperty(name, listener, errorListener, options) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const tp = this.properties[name];\r\n            if (!tp) {\r\n                throw new Error(`ConsumedThing '${this.title}' does not have property ${name}`);\r\n            }\r\n            let { client, form } = this.getClientFor(tp.forms, \"observeproperty\", Affordance.PropertyAffordance, options);\r\n            if (!form) {\r\n                throw new Error(`ConsumedThing '${this.title}' did not get suitable form`);\r\n            }\r\n            if (!client) {\r\n                throw new Error(`ConsumedThing '${this.title}' did not get suitable client for ${form.href}`);\r\n            }\r\n            if (this.observedProperties.has(name)) {\r\n                throw new Error(`ConsumedThing '${this.title}' has already a function subscribed to ${name}. You can only observe once`);\r\n            }\r\n            debug(`ConsumedThing '${this.title}' observing to ${form.href}`);\r\n            form = this.handleUriVariables(tp, form, options);\r\n            yield client.subscribeResource(form, (content) => {\r\n                var _a;\r\n                if (!content.type)\r\n                    content.type = (_a = form.contentType) !== null && _a !== void 0 ? _a : \"application/json\";\r\n                try {\r\n                    listener(new interaction_output_1.InteractionOutput(content, form, tp));\r\n                }\r\n                catch (e) {\r\n                    warn(`Error while processing observe event for ${tp.title}`);\r\n                    warn(e);\r\n                }\r\n            }, (err) => {\r\n                errorListener === null || errorListener === void 0 ? void 0 : errorListener(err);\r\n            }, () => {\r\n            });\r\n            const subscription = new InternalPropertySubscription(this, name, form);\r\n            this.observedProperties.set(name, subscription);\r\n            return subscription;\r\n        });\r\n    }\r\n    subscribeEvent(name, listener, errorListener, options) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const te = this.events[name];\r\n            if (!te) {\r\n                throw new Error(`ConsumedThing '${this.title}' does not have event ${name}`);\r\n            }\r\n            let { client, form } = this.getClientFor(te.forms, \"subscribeevent\", Affordance.EventAffordance, options);\r\n            if (!form) {\r\n                throw new Error(`ConsumedThing '${this.title}' did not get suitable form`);\r\n            }\r\n            if (!client) {\r\n                throw new Error(`ConsumedThing '${this.title}' did not get suitable client for ${form.href}`);\r\n            }\r\n            if (this.subscribedEvents.has(name)) {\r\n                throw new Error(`ConsumedThing '${this.title}' has already a function subscribed to ${name}. You can only subscribe once`);\r\n            }\r\n            debug(`ConsumedThing '${this.title}' subscribing to ${form.href}`);\r\n            form = this.handleUriVariables(te, form, options);\r\n            yield client.subscribeResource(form, (content) => {\r\n                var _a;\r\n                if (!content.type)\r\n                    content.type = (_a = form.contentType) !== null && _a !== void 0 ? _a : \"application/json\";\r\n                try {\r\n                    listener(new interaction_output_1.InteractionOutput(content, form, te.data));\r\n                }\r\n                catch (e) {\r\n                    warn(`Error while processing event for ${te.title}`);\r\n                    warn(e);\r\n                }\r\n            }, (err) => {\r\n                errorListener === null || errorListener === void 0 ? void 0 : errorListener(err);\r\n            }, () => {\r\n            });\r\n            const subscription = new InternalEventSubscription(this, name, form);\r\n            this.subscribedEvents.set(name, subscription);\r\n            return subscription;\r\n        });\r\n    }\r\n    handleUriVariables(ti, form, options) {\r\n        const ut = UriTemplate.parse(form.href);\r\n        const uriVariables = helpers_1.default.parseInteractionOptions(this, ti, options).uriVariables;\r\n        const updatedHref = ut.expand(uriVariables !== null && uriVariables !== void 0 ? uriVariables : {});\r\n        if (updatedHref !== form.href) {\r\n            const updForm = Object.assign({}, form);\r\n            updForm.href = updatedHref;\r\n            form = updForm;\r\n            debug(`ConsumedThing '${this.title}' update form URI to ${form.href}`);\r\n        }\r\n        return form;\r\n    }\r\n}\r\nexports.default = ConsumedThing;\r\n//# sourceMappingURL=consumed-thing.js.map","\"use strict\";\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.ContentSerdes = void 0;\r\nconst json_codec_1 = __importDefault(require(\"./codecs/json-codec\"));\r\nconst text_codec_1 = __importDefault(require(\"./codecs/text-codec\"));\r\nconst base64_codec_1 = __importDefault(require(\"./codecs/base64-codec\"));\r\nconst octetstream_codec_1 = __importDefault(require(\"./codecs/octetstream-codec\"));\r\nconst stream_1 = require(\"stream\");\r\nconst core_1 = require(\"./core\");\r\nconst es2018_1 = require(\"web-streams-polyfill/ponyfill/es2018\");\r\nconst logger_1 = require(\"./logger\");\r\nconst { debug, warn } = (0, logger_1.createLoggers)(\"core\", \"content-serdes\");\r\nclass ContentSerdes {\r\n    constructor() {\r\n        this.codecs = new Map();\r\n        this.offered = new Set();\r\n    }\r\n    static get() {\r\n        if (!this.instance) {\r\n            this.instance = new ContentSerdes();\r\n            this.instance.addCodec(new json_codec_1.default(), true);\r\n            this.instance.addCodec(new json_codec_1.default(\"application/senml+json\"));\r\n            this.instance.addCodec(new text_codec_1.default());\r\n            this.instance.addCodec(new text_codec_1.default(\"text/html\"));\r\n            this.instance.addCodec(new text_codec_1.default(\"text/css\"));\r\n            this.instance.addCodec(new text_codec_1.default(\"application/xml\"));\r\n            this.instance.addCodec(new text_codec_1.default(\"application/xhtml+xml\"));\r\n            this.instance.addCodec(new text_codec_1.default(\"image/svg+xml\"));\r\n            this.instance.addCodec(new base64_codec_1.default(\"image/png\"));\r\n            this.instance.addCodec(new base64_codec_1.default(\"image/gif\"));\r\n            this.instance.addCodec(new base64_codec_1.default(\"image/jpeg\"));\r\n            this.instance.addCodec(new octetstream_codec_1.default());\r\n        }\r\n        return this.instance;\r\n    }\r\n    static getMediaType(contentType) {\r\n        const parts = contentType.split(\";\");\r\n        return parts[0].trim();\r\n    }\r\n    static getMediaTypeParameters(contentType) {\r\n        const parts = contentType.split(\";\").slice(1);\r\n        const params = {};\r\n        parts.forEach((p) => {\r\n            const eq = p.indexOf(\"=\");\r\n            if (eq >= 0) {\r\n                params[p.substr(0, eq).trim()] = p.substr(eq + 1).trim();\r\n            }\r\n            else {\r\n                params[p.trim()] = undefined;\r\n            }\r\n        });\r\n        return params;\r\n    }\r\n    addCodec(codec, offered = false) {\r\n        ContentSerdes.get().codecs.set(codec.getMediaType(), codec);\r\n        if (offered)\r\n            ContentSerdes.get().offered.add(codec.getMediaType());\r\n    }\r\n    getSupportedMediaTypes() {\r\n        return Array.from(ContentSerdes.get().codecs.keys());\r\n    }\r\n    getOfferedMediaTypes() {\r\n        return Array.from(ContentSerdes.get().offered);\r\n    }\r\n    isSupported(contentType) {\r\n        const mt = ContentSerdes.getMediaType(contentType);\r\n        return this.codecs.has(mt);\r\n    }\r\n    contentToValue(content, schema) {\r\n        if (content.type === undefined) {\r\n            if (content.body.byteLength > 0) {\r\n                content.type = ContentSerdes.DEFAULT;\r\n            }\r\n            else {\r\n                return undefined;\r\n            }\r\n        }\r\n        const mt = ContentSerdes.getMediaType(content.type);\r\n        const par = ContentSerdes.getMediaTypeParameters(content.type);\r\n        if (this.codecs.has(mt)) {\r\n            debug(`ContentSerdes deserializing from ${content.type}`);\r\n            const codec = this.codecs.get(mt);\r\n            const res = codec.bytesToValue(content.body, schema, par);\r\n            return res;\r\n        }\r\n        else {\r\n            warn(`ContentSerdes passthrough due to unsupported media type '${mt}'`);\r\n            return content.body.toString();\r\n        }\r\n    }\r\n    valueToContent(value, schema, contentType = ContentSerdes.DEFAULT) {\r\n        if (value === undefined)\r\n            warn(\"ContentSerdes valueToContent got no value\");\r\n        if (value instanceof es2018_1.ReadableStream) {\r\n            return { type: contentType, body: core_1.ProtocolHelpers.toNodeStream(value) };\r\n        }\r\n        let bytes;\r\n        const mt = ContentSerdes.getMediaType(contentType);\r\n        const par = ContentSerdes.getMediaTypeParameters(contentType);\r\n        const codec = this.codecs.get(mt);\r\n        if (codec) {\r\n            debug(`ContentSerdes serializing to ${contentType}`);\r\n            bytes = codec.valueToBytes(value, schema, par);\r\n        }\r\n        else {\r\n            warn(`ContentSerdes passthrough due to unsupported serialization format '${contentType}'`);\r\n            bytes = Buffer.from(value === null ? \"\" : value.toString());\r\n        }\r\n        return { type: contentType, body: stream_1.Readable.from([bytes]) };\r\n    }\r\n}\r\nexports.ContentSerdes = ContentSerdes;\r\nContentSerdes.DEFAULT = \"application/json\";\r\nContentSerdes.TD = \"application/td+json\";\r\nContentSerdes.JSON_LD = \"application/ld+json\";\r\nexports.default = ContentSerdes.get();\r\n//# sourceMappingURL=content-serdes.js.map","\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\r\n};\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.createWarnLogger = exports.createInfoLogger = exports.createErrorLogger = exports.createDebugLogger = exports.createLoggers = exports.ProtocolHelpers = exports.Helpers = exports.ExposedThing = exports.ConsumedThing = exports.NetconfCodec = exports.NetconfOctetstreamCodecCodec = exports.Base64Codec = exports.TextCodec = exports.JsonCodec = exports.Servient = void 0;\r\nconst servient_1 = __importDefault(require(\"./servient\"));\r\nexports.Servient = servient_1.default;\r\nexports.default = servient_1.default;\r\n__exportStar(require(\"./content-serdes\"), exports);\r\nvar json_codec_1 = require(\"./codecs/json-codec\");\r\nObject.defineProperty(exports, \"JsonCodec\", { enumerable: true, get: function () { return __importDefault(json_codec_1).default; } });\r\nvar text_codec_1 = require(\"./codecs/text-codec\");\r\nObject.defineProperty(exports, \"TextCodec\", { enumerable: true, get: function () { return __importDefault(text_codec_1).default; } });\r\nvar base64_codec_1 = require(\"./codecs/base64-codec\");\r\nObject.defineProperty(exports, \"Base64Codec\", { enumerable: true, get: function () { return __importDefault(base64_codec_1).default; } });\r\nvar octetstream_codec_1 = require(\"./codecs/octetstream-codec\");\r\nObject.defineProperty(exports, \"NetconfOctetstreamCodecCodec\", { enumerable: true, get: function () { return __importDefault(octetstream_codec_1).default; } });\r\nvar netconf_codec_1 = require(\"./codecs/netconf-codec\");\r\nObject.defineProperty(exports, \"NetconfCodec\", { enumerable: true, get: function () { return __importDefault(netconf_codec_1).default; } });\r\n__exportStar(require(\"./protocol-interfaces\"), exports);\r\nvar consumed_thing_1 = require(\"./consumed-thing\");\r\nObject.defineProperty(exports, \"ConsumedThing\", { enumerable: true, get: function () { return __importDefault(consumed_thing_1).default; } });\r\nvar exposed_thing_1 = require(\"./exposed-thing\");\r\nObject.defineProperty(exports, \"ExposedThing\", { enumerable: true, get: function () { return __importDefault(exposed_thing_1).default; } });\r\nvar helpers_1 = require(\"./helpers\");\r\nObject.defineProperty(exports, \"Helpers\", { enumerable: true, get: function () { return __importDefault(helpers_1).default; } });\r\nvar protocol_helpers_1 = require(\"./protocol-helpers\");\r\nObject.defineProperty(exports, \"ProtocolHelpers\", { enumerable: true, get: function () { return __importDefault(protocol_helpers_1).default; } });\r\nvar logger_1 = require(\"./logger\");\r\nObject.defineProperty(exports, \"createLoggers\", { enumerable: true, get: function () { return logger_1.createLoggers; } });\r\nObject.defineProperty(exports, \"createDebugLogger\", { enumerable: true, get: function () { return logger_1.createDebugLogger; } });\r\nObject.defineProperty(exports, \"createErrorLogger\", { enumerable: true, get: function () { return logger_1.createErrorLogger; } });\r\nObject.defineProperty(exports, \"createInfoLogger\", { enumerable: true, get: function () { return logger_1.createInfoLogger; } });\r\nObject.defineProperty(exports, \"createWarnLogger\", { enumerable: true, get: function () { return logger_1.createWarnLogger; } });\r\n//# sourceMappingURL=core.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.DataSchemaError = exports.NotSupportedError = exports.NotReadableError = void 0;\r\nclass NotReadableError extends Error {\r\n    constructor(message) {\r\n        super(message);\r\n        Object.setPrototypeOf(this, NotReadableError.prototype);\r\n    }\r\n}\r\nexports.NotReadableError = NotReadableError;\r\nclass NotSupportedError extends Error {\r\n    constructor(message) {\r\n        super(message);\r\n        Object.setPrototypeOf(this, NotSupportedError.prototype);\r\n    }\r\n}\r\nexports.NotSupportedError = NotSupportedError;\r\nclass DataSchemaError extends Error {\r\n    constructor(message, value) {\r\n        super(message);\r\n        this.value = value;\r\n        Object.setPrototypeOf(this, NotSupportedError.prototype);\r\n    }\r\n}\r\nexports.DataSchemaError = DataSchemaError;\r\n//# sourceMappingURL=errors.js.map","\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n});\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n};\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst Subject_1 = require(\"rxjs/Subject\");\r\nconst TD = __importStar(require(\"@node-wot/td-tools\"));\r\nconst helpers_1 = __importDefault(require(\"./helpers\"));\r\nconst interaction_output_1 = require(\"./interaction-output\");\r\nconst stream_1 = require(\"stream\");\r\nconst protocol_helpers_1 = __importDefault(require(\"./protocol-helpers\"));\r\nconst es2018_1 = require(\"web-streams-polyfill/ponyfill/es2018\");\r\nconst content_serdes_1 = __importDefault(require(\"./content-serdes\"));\r\nconst protocol_listener_registry_1 = __importDefault(require(\"./protocol-listener-registry\"));\r\nconst logger_1 = require(\"./logger\");\r\nconst { debug } = (0, logger_1.createLoggers)(\"core\", \"exposed-thing\");\r\nclass ExposedThing extends TD.Thing {\r\n    constructor(servient, thingModel = {}) {\r\n        var _a, _b;\r\n        super();\r\n        this.__propertyHandlers = new Map();\r\n        this.__actionHandlers = new Map();\r\n        this.__eventHandlers = new Map();\r\n        this.__propertyListeners = new protocol_listener_registry_1.default();\r\n        this.__eventListeners = new protocol_listener_registry_1.default();\r\n        this.getServient = () => {\r\n            return servient;\r\n        };\r\n        this.getSubjectTD = new (class {\r\n            constructor() {\r\n                this.subjectTDChange = new Subject_1.Subject();\r\n                this.getSubject = () => {\r\n                    return this.subjectTDChange;\r\n                };\r\n            }\r\n        })().getSubject;\r\n        this.id = (_a = thingModel.id) !== null && _a !== void 0 ? _a : \"\";\r\n        this.title = (_b = thingModel.title) !== null && _b !== void 0 ? _b : \"\";\r\n        this.security = \"\";\r\n        this.securityDefinitions = {};\r\n        this.properties = {};\r\n        this.actions = {};\r\n        this.events = {};\r\n        const clonedModel = JSON.parse(JSON.stringify(thingModel));\r\n        Object.assign(this, clonedModel);\r\n        TD.setContextLanguage(this, TD.DEFAULT_CONTEXT_LANGUAGE, false);\r\n    }\r\n    getThingDescription() {\r\n        return JSON.parse(TD.serializeTD(this), (key, value) => {\r\n            if (key === \"__propertyHandlers\" ||\r\n                key === \"__actionHandlers\" ||\r\n                key === \"__eventHandlers\" ||\r\n                key === \"__propertyListeners\" ||\r\n                key === \"__eventListeners\") {\r\n                return undefined;\r\n            }\r\n            return value;\r\n        });\r\n    }\r\n    emitEvent(name, data) {\r\n        if (this.events[name]) {\r\n            const eventAffordance = this.events[name];\r\n            this.__eventListeners.notify(eventAffordance, data, eventAffordance.data);\r\n        }\r\n        else {\r\n            throw new Error(\"NotFoundError for event '\" + name + \"'\");\r\n        }\r\n    }\r\n    emitPropertyChange(name) {\r\n        var _a;\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            if (this.properties[name]) {\r\n                const property = this.properties[name];\r\n                const readHandler = (_a = this.__propertyHandlers.get(name)) === null || _a === void 0 ? void 0 : _a.readHandler;\r\n                if (!readHandler) {\r\n                    throw new Error(\"Can't read property readHandler is not defined. Did you forget to register a readHandler?\");\r\n                }\r\n                const data = yield readHandler();\r\n                this.__propertyListeners.notify(property, data, property);\r\n            }\r\n            else {\r\n                throw new Error(\"NotFoundError for property '\" + name + \"'\");\r\n            }\r\n        });\r\n    }\r\n    expose() {\r\n        debug(`ExposedThing '${this.title}' exposing all Interactions and TD`);\r\n        return new Promise((resolve, reject) => {\r\n            this.getServient()\r\n                .expose(this)\r\n                .then(() => {\r\n                this.getSubjectTD().next(this.getThingDescription());\r\n                resolve();\r\n            })\r\n                .catch((err) => reject(err));\r\n        });\r\n    }\r\n    destroy() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            debug(`ExposedThing '${this.title}' destroying the thing and its interactions`);\r\n            yield this.getServient().destroyThing(this.id);\r\n            this.__eventListeners.unregisterAll();\r\n            this.__propertyListeners.unregisterAll();\r\n            this.__eventHandlers.clear();\r\n            this.__propertyHandlers.clear();\r\n            this.__eventHandlers.clear();\r\n            this.getSubjectTD().next();\r\n        });\r\n    }\r\n    setPropertyReadHandler(propertyName, handler) {\r\n        debug(`ExposedThing '${this.title}' setting read handler for '${propertyName}'`);\r\n        if (this.properties[propertyName]) {\r\n            if (this.properties[propertyName].writeOnly) {\r\n                throw new Error(`ExposedThing '${this.title}' cannot set read handler for property '${propertyName}' due to writeOnly flag`);\r\n            }\r\n            else {\r\n                let propertyHandler = this.__propertyHandlers.get(propertyName);\r\n                if (propertyHandler) {\r\n                    propertyHandler.readHandler = handler;\r\n                }\r\n                else {\r\n                    propertyHandler = { readHandler: handler };\r\n                }\r\n                this.__propertyHandlers.set(propertyName, propertyHandler);\r\n            }\r\n        }\r\n        else {\r\n            throw new Error(`ExposedThing '${this.title}' has no Property '${propertyName}'`);\r\n        }\r\n        return this;\r\n    }\r\n    setPropertyWriteHandler(propertyName, handler) {\r\n        debug(`ExposedThing '${this.title}' setting write handler for '${propertyName}'`);\r\n        if (this.properties[propertyName]) {\r\n            if (this.properties[propertyName].readOnly) {\r\n                throw new Error(`ExposedThing '${this.title}' cannot set write handler for property '${propertyName}' due to readOnly flag`);\r\n            }\r\n            else {\r\n                let propertyHandler = this.__propertyHandlers.get(propertyName);\r\n                if (propertyHandler) {\r\n                    propertyHandler.writeHandler = handler;\r\n                }\r\n                else {\r\n                    propertyHandler = { writeHandler: handler };\r\n                }\r\n                this.__propertyHandlers.set(propertyName, propertyHandler);\r\n            }\r\n        }\r\n        else {\r\n            throw new Error(`ExposedThing '${this.title}' has no Property '${propertyName}'`);\r\n        }\r\n        return this;\r\n    }\r\n    setPropertyObserveHandler(name, handler) {\r\n        debug(`ExposedThing '${this.title}' setting property observe handler for '${name}'`);\r\n        if (this.properties[name]) {\r\n            if (!this.properties[name].observable) {\r\n                throw new Error(`ExposedThing '${this.title}' cannot set observe handler for property '${name}' since the observable flag is set to false`);\r\n            }\r\n            else {\r\n                let propertyHandler = this.__propertyHandlers.get(name);\r\n                if (propertyHandler) {\r\n                    propertyHandler.observeHandler = handler;\r\n                }\r\n                else {\r\n                    propertyHandler = { observeHandler: handler };\r\n                }\r\n                this.__propertyHandlers.set(name, propertyHandler);\r\n            }\r\n        }\r\n        else {\r\n            throw new Error(`ExposedThing '${this.title}' has no Property '${name}'`);\r\n        }\r\n        return this;\r\n    }\r\n    setPropertyUnobserveHandler(name, handler) {\r\n        debug(`ExposedThing '${this.title}' setting property unobserve handler for '${name}'`);\r\n        if (this.properties[name]) {\r\n            if (!this.properties[name].observable) {\r\n                throw new Error(`ExposedThing '${this.title}' cannot set unobserve handler for property '${name}' due to missing observable flag`);\r\n            }\r\n            else {\r\n                let propertyHandler = this.__propertyHandlers.get(name);\r\n                if (propertyHandler) {\r\n                    propertyHandler.unobserveHandler = handler;\r\n                }\r\n                else {\r\n                    propertyHandler = { unobserveHandler: handler };\r\n                }\r\n                this.__propertyHandlers.set(name, propertyHandler);\r\n            }\r\n        }\r\n        else {\r\n            throw new Error(`ExposedThing '${this.title}' has no Property '${name}'`);\r\n        }\r\n        return this;\r\n    }\r\n    setActionHandler(actionName, handler) {\r\n        debug(`ExposedThing '${this.title}' setting action handler for '${actionName}'`);\r\n        if (this.actions[actionName]) {\r\n            this.__actionHandlers.set(actionName, handler);\r\n        }\r\n        else {\r\n            throw new Error(`ExposedThing '${this.title}' has no Action '${actionName}'`);\r\n        }\r\n        return this;\r\n    }\r\n    setEventSubscribeHandler(name, handler) {\r\n        debug(`ExposedThing '${this.title}' setting event subscribe handler for '${name}'`);\r\n        if (this.events[name]) {\r\n            let eventHandler = this.__eventHandlers.get(name);\r\n            if (eventHandler) {\r\n                eventHandler.subscribe = handler;\r\n            }\r\n            else {\r\n                eventHandler = { subscribe: handler };\r\n            }\r\n            this.__eventHandlers.set(name, eventHandler);\r\n        }\r\n        else {\r\n            throw new Error(`ExposedThing '${this.title}' has no Event '${name}'`);\r\n        }\r\n        return this;\r\n    }\r\n    setEventUnsubscribeHandler(name, handler) {\r\n        debug(`ExposedThing '${this.title}' setting event unsubscribe handler for '${name}'`);\r\n        if (this.events[name]) {\r\n            let eventHandler = this.__eventHandlers.get(name);\r\n            if (eventHandler) {\r\n                eventHandler.unsubscribe = handler;\r\n            }\r\n            else {\r\n                eventHandler = { unsubscribe: handler };\r\n            }\r\n            this.__eventHandlers.set(name, eventHandler);\r\n        }\r\n        else {\r\n            throw new Error(`ExposedThing '${this.title}' has no Event '${name}'`);\r\n        }\r\n        return this;\r\n    }\r\n    setEventHandler(name, handler) {\r\n        debug(`ExposedThing '${this.title}' setting event handler for '${name}'`);\r\n        if (this.events[name]) {\r\n            let eventHandler = this.__eventHandlers.get(name);\r\n            if (eventHandler) {\r\n                eventHandler.handler = handler;\r\n            }\r\n            else {\r\n                eventHandler = { handler: handler };\r\n            }\r\n            this.__eventHandlers.set(name, eventHandler);\r\n        }\r\n        else {\r\n            throw new Error(`ExposedThing '${this.title}' has no Event '${name}'`);\r\n        }\r\n        return this;\r\n    }\r\n    handleInvokeAction(name, inputContent, options) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            if (this.actions[name]) {\r\n                debug(`ExposedThing '${this.title}' has Action state of '${name}'`);\r\n                const handler = this.__actionHandlers.get(name);\r\n                if (handler != null) {\r\n                    debug(`ExposedThing '${this.title}' calls registered handler for Action '${name}'`);\r\n                    helpers_1.default.validateInteractionOptions(this, this.actions[name], options);\r\n                    const form = this.actions[name].forms\r\n                        ? this.actions[name].forms[options.formIndex]\r\n                        : { contentType: \"application/json\" };\r\n                    const result = yield handler(new interaction_output_1.InteractionOutput(inputContent, form, this.actions[name].input), options);\r\n                    if (result) {\r\n                        return content_serdes_1.default.valueToContent(result, this.actions[name].output, form.contentType);\r\n                    }\r\n                }\r\n                else {\r\n                    throw new Error(`ExposedThing '${this.title}' has no handler for Action '${name}'`);\r\n                }\r\n            }\r\n            else {\r\n                throw new Error(`ExposedThing '${this.title}', no action found for '${name}'`);\r\n            }\r\n        });\r\n    }\r\n    handleReadProperty(propertyName, options) {\r\n        var _a, _b;\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            if (this.properties[propertyName]) {\r\n                debug(`ExposedThing '${this.title}' has Action state of '${propertyName}'`);\r\n                const readHandler = (_a = this.__propertyHandlers.get(propertyName)) === null || _a === void 0 ? void 0 : _a.readHandler;\r\n                if (readHandler != null) {\r\n                    debug(`ExposedThing '${this.title}' calls registered readHandler for Property '${propertyName}'`);\r\n                    helpers_1.default.validateInteractionOptions(this, this.properties[propertyName], options);\r\n                    const result = yield readHandler(options);\r\n                    const form = this.properties[propertyName].forms\r\n                        ? this.properties[propertyName].forms[options.formIndex]\r\n                        : { contentType: \"application/json\" };\r\n                    return content_serdes_1.default.valueToContent(result, this.properties[propertyName], (_b = form === null || form === void 0 ? void 0 : form.contentType) !== null && _b !== void 0 ? _b : \"application/json\");\r\n                }\r\n                else {\r\n                    throw new Error(`ExposedThing '${this.title}' has no readHandler for Property '${propertyName}'`);\r\n                }\r\n            }\r\n            else {\r\n                throw new Error(`ExposedThing '${this.title}', no property found for '${propertyName}'`);\r\n            }\r\n        });\r\n    }\r\n    _handleReadProperties(propertyNames, options) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const promises = [];\r\n            for (const propertyName of propertyNames) {\r\n                const form = this.properties[propertyName].forms.find((form) => form.contentType === \"application/json\" || !form.contentType);\r\n                if (!form) {\r\n                    continue;\r\n                }\r\n                promises.push(this.handleReadProperty(propertyName, options));\r\n            }\r\n            try {\r\n                const output = new Map();\r\n                const results = yield Promise.all(promises);\r\n                for (let i = 0; i < results.length; i++) {\r\n                    output.set(propertyNames[i], results[i]);\r\n                }\r\n                return output;\r\n            }\r\n            catch (error) {\r\n                throw new Error(`ConsumedThing '${this.title}', failed to read properties: ${propertyNames}.\\n Error: ${error}`);\r\n            }\r\n        });\r\n    }\r\n    handleReadAllProperties(options) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const propertyNames = [];\r\n            for (const propertyName in this.properties) {\r\n                propertyNames.push(propertyName);\r\n            }\r\n            return yield this._handleReadProperties(propertyNames, options);\r\n        });\r\n    }\r\n    handleReadMultipleProperties(propertyNames, options) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            return yield this._handleReadProperties(propertyNames, options);\r\n        });\r\n    }\r\n    handleWriteProperty(propertyName, inputContent, options) {\r\n        var _a;\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            if (this.properties[propertyName]) {\r\n                if (this.properties[propertyName].readOnly && this.properties[propertyName].readOnly === true) {\r\n                    throw new Error(`ExposedThing '${this.title}', property '${propertyName}' is readOnly`);\r\n                }\r\n                helpers_1.default.validateInteractionOptions(this, this.properties[propertyName], options);\r\n                const writeHandler = (_a = this.__propertyHandlers.get(propertyName)) === null || _a === void 0 ? void 0 : _a.writeHandler;\r\n                const form = this.properties[propertyName].forms\r\n                    ? this.properties[propertyName].forms[options.formIndex]\r\n                    : {};\r\n                if (writeHandler != null) {\r\n                    yield writeHandler(new interaction_output_1.InteractionOutput(inputContent, form, this.properties[propertyName]), options);\r\n                }\r\n                else {\r\n                    throw new Error(`ExposedThing '${this.title}' has no writeHandler for Property '${propertyName}'`);\r\n                }\r\n            }\r\n            else {\r\n                throw new Error(`ExposedThing '${this.title}', no property found for '${propertyName}'`);\r\n            }\r\n        });\r\n    }\r\n    handleWriteMultipleProperties(valueMap, options) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const promises = [];\r\n            for (const propertyName in valueMap) {\r\n                const form = this.properties[propertyName].forms.find((form) => form.contentType === \"application/json\" || !form.contentType);\r\n                if (!form) {\r\n                    continue;\r\n                }\r\n                promises.push(this.handleWriteProperty(propertyName, valueMap.get(propertyName), options));\r\n            }\r\n            try {\r\n                yield Promise.all(promises);\r\n            }\r\n            catch (error) {\r\n                throw new Error(`ExposedThing '${this.title}', failed to write multiple properties. ${error.message}`);\r\n            }\r\n        });\r\n    }\r\n    handleSubscribeEvent(name, listener, options) {\r\n        var _a;\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            if (this.events[name]) {\r\n                helpers_1.default.validateInteractionOptions(this, this.events[name], options);\r\n                const formIndex = protocol_helpers_1.default.getFormIndexForOperation(this.events[name], \"event\", \"subscribeevent\", options.formIndex);\r\n                if (formIndex !== -1) {\r\n                    this.__eventListeners.register(this.events[name], formIndex, listener);\r\n                    debug(`ExposedThing '${this.title}' subscribes to event '${name}'`);\r\n                }\r\n                else {\r\n                    throw new Error(`ExposedThing '${this.title}', no property listener from found for '${name}' with form index '${options.formIndex}'`);\r\n                }\r\n                const subscribe = (_a = this.__eventHandlers.get(name)) === null || _a === void 0 ? void 0 : _a.subscribe;\r\n                if (subscribe) {\r\n                    yield subscribe(options);\r\n                }\r\n                debug(`ExposedThing '${this.title}' subscribes to event '${name}'`);\r\n            }\r\n            else {\r\n                throw new Error(`ExposedThing '${this.title}', no event found for '${name}'`);\r\n            }\r\n        });\r\n    }\r\n    handleUnsubscribeEvent(name, listener, options) {\r\n        var _a;\r\n        if (this.events[name]) {\r\n            helpers_1.default.validateInteractionOptions(this, this.events[name], options);\r\n            const formIndex = protocol_helpers_1.default.getFormIndexForOperation(this.events[name], \"event\", \"unsubscribeevent\", options.formIndex);\r\n            if (formIndex !== -1) {\r\n                this.__eventListeners.unregister(this.events[name], formIndex, listener);\r\n            }\r\n            else {\r\n                throw new Error(`ExposedThing '${this.title}', no event listener from found for '${name}' with form index '${options.formIndex}'`);\r\n            }\r\n            const unsubscribe = (_a = this.__eventHandlers.get(name)) === null || _a === void 0 ? void 0 : _a.unsubscribe;\r\n            if (unsubscribe) {\r\n                unsubscribe(options);\r\n            }\r\n            debug(`ExposedThing '${this.title}' unsubscribes from event '${name}'`);\r\n        }\r\n        else {\r\n            throw new Error(`ExposedThing '${this.title}', no event found for '${name}'`);\r\n        }\r\n    }\r\n    handleObserveProperty(name, listener, options) {\r\n        var _a;\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            if (this.properties[name]) {\r\n                helpers_1.default.validateInteractionOptions(this, this.properties[name], options);\r\n                const formIndex = protocol_helpers_1.default.getFormIndexForOperation(this.properties[name], \"property\", \"observeproperty\", options.formIndex);\r\n                if (formIndex !== -1) {\r\n                    this.__propertyListeners.register(this.properties[name], formIndex, listener);\r\n                    debug(`ExposedThing '${this.title}' subscribes to property '${name}'`);\r\n                }\r\n                else {\r\n                    throw new Error(`ExposedThing '${this.title}', no property listener from found for '${name}' with form index '${options.formIndex}'`);\r\n                }\r\n                const observeHandler = (_a = this.__propertyHandlers.get(name)) === null || _a === void 0 ? void 0 : _a.observeHandler;\r\n                if (observeHandler) {\r\n                    yield observeHandler(options);\r\n                }\r\n            }\r\n            else {\r\n                throw new Error(`ExposedThing '${this.title}', no property found for '${name}'`);\r\n            }\r\n        });\r\n    }\r\n    handleUnobserveProperty(name, listener, options) {\r\n        var _a;\r\n        if (this.properties[name]) {\r\n            helpers_1.default.validateInteractionOptions(this, this.properties[name], options);\r\n            const formIndex = protocol_helpers_1.default.getFormIndexForOperation(this.properties[name], \"property\", \"unobserveproperty\", options.formIndex);\r\n            if (formIndex !== -1) {\r\n                this.__propertyListeners.unregister(this.properties[name], formIndex, listener);\r\n            }\r\n            else {\r\n                throw new Error(`ExposedThing '${this.title}', no property listener from found for '${name}' with form index '${options.formIndex}'`);\r\n            }\r\n            const unobserveHandler = (_a = this.__propertyHandlers.get(name)) === null || _a === void 0 ? void 0 : _a.unobserveHandler;\r\n            if (unobserveHandler) {\r\n                unobserveHandler(options);\r\n            }\r\n        }\r\n        else {\r\n            throw new Error(`ExposedThing '${this.title}', no property found for '${name}'`);\r\n        }\r\n    }\r\n    static interactionInputToReadable(input) {\r\n        let body;\r\n        if (typeof ReadableStream !== \"undefined\" && input instanceof ReadableStream) {\r\n            body = protocol_helpers_1.default.toNodeStream(input);\r\n        }\r\n        else if (input instanceof es2018_1.ReadableStream) {\r\n            body = protocol_helpers_1.default.toNodeStream(input);\r\n        }\r\n        else if (Array.isArray(input) || typeof input === \"object\") {\r\n            body = stream_1.Readable.from(Buffer.from(JSON.stringify(input), \"utf-8\"));\r\n        }\r\n        else {\r\n            body = stream_1.Readable.from(Buffer.from(input.toString(), \"utf-8\"));\r\n        }\r\n        return body;\r\n    }\r\n}\r\nexports.default = ExposedThing;\r\n//# sourceMappingURL=exposed-thing.js.map","\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n});\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n};\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst os = __importStar(require(\"os\"));\r\nconst TD = __importStar(require(\"@node-wot/td-tools\"));\r\nconst content_serdes_1 = require(\"./content-serdes\");\r\nconst core_1 = require(\"./core\");\r\nconst ajv_1 = __importDefault(require(\"ajv\"));\r\nconst td_json_schema_validation_json_1 = __importDefault(require(\"wot-thing-description-types/schema/td-json-schema-validation.json\"));\r\nconst td_tools_1 = require(\"@node-wot/td-tools\");\r\nconst logger_1 = require(\"./logger\");\r\nconst { debug, error, warn } = (0, logger_1.createLoggers)(\"core\", \"helpers\");\r\nconst tdSchema = td_json_schema_validation_json_1.default;\r\nconst ajv = new ajv_1.default({ strict: false })\r\n    .addFormat(\"iri-reference\", /^(?:[a-z][a-z0-9+\\-.]*:)?(?:\\/?\\/(?:(?:[a-z0-9\\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\\.[a-z0-9\\-._~!$&'()*+,;=:]+)\\]|(?:(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)|(?:[a-z0-9\\-._~!$&'\"()*+,;=]|%[0-9a-f]{2})*)(?::\\d*)?(?:\\/(?:[a-z0-9\\-._~!$&'\"()*+,;=:@]|%[0-9a-f]{2})*)*|\\/(?:(?:[a-z0-9\\-._~!$&'\"()*+,;=:@]|%[0-9a-f]{2})+(?:\\/(?:[a-z0-9\\-._~!$&'\"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\\-._~!$&'\"()*+,;=:@]|%[0-9a-f]{2})+(?:\\/(?:[a-z0-9\\-._~!$&'\"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\\?(?:[a-z0-9\\-._~!$&'\"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\\-._~!$&'\"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i)\r\n    .addFormat(\"uri\", /^(?:[a-z][a-z0-9+\\-.]*:)(?:\\/?\\/)?[^\\s]*$/)\r\n    .addFormat(\"date-time\", /^\\d\\d\\d\\d-[0-1]\\d-[0-3]\\d[t\\s](?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)(?:\\.\\d+)?(?:z|[+-]\\d\\d(?::?\\d\\d)?)$/);\r\nclass Helpers {\r\n    constructor(srv) {\r\n        this.srv = srv;\r\n    }\r\n    static extractScheme(uri) {\r\n        const parsed = new URL(uri);\r\n        debug(parsed);\r\n        if (parsed.protocol === null) {\r\n            throw new Error(`Protocol in url \"${uri}\" must be valid`);\r\n        }\r\n        const scheme = parsed.protocol.slice(0, -1);\r\n        debug(`Helpers found scheme '${scheme}'`);\r\n        return scheme;\r\n    }\r\n    static setStaticAddress(address) {\r\n        Helpers.staticAddress = address;\r\n    }\r\n    static getAddresses() {\r\n        var _a;\r\n        const addresses = [];\r\n        if (Helpers.staticAddress !== undefined) {\r\n            addresses.push(Helpers.staticAddress);\r\n            debug(`AddressHelper uses static ${addresses}`);\r\n            return addresses;\r\n        }\r\n        else {\r\n            const interfaces = os.networkInterfaces();\r\n            for (const iface in interfaces) {\r\n                (_a = interfaces[iface]) === null || _a === void 0 ? void 0 : _a.forEach((entry) => {\r\n                    debug(`AddressHelper found ${entry.address}`);\r\n                    if (entry.internal === false) {\r\n                        if (entry.family === \"IPv4\") {\r\n                            addresses.push(entry.address);\r\n                        }\r\n                        else if (entry.scopeid === 0) {\r\n                            addresses.push(Helpers.toUriLiteral(entry.address));\r\n                        }\r\n                    }\r\n                });\r\n            }\r\n            if (addresses.length === 0) {\r\n                addresses.push(\"localhost\");\r\n            }\r\n            debug(`AddressHelper identified ${addresses}`);\r\n            return addresses;\r\n        }\r\n    }\r\n    static toUriLiteral(address) {\r\n        if (!address) {\r\n            error(`AddressHelper received invalid address '${address}'`);\r\n            return \"{invalid address}\";\r\n        }\r\n        if (address.indexOf(\":\") !== -1) {\r\n            address = `[${address}]`;\r\n        }\r\n        return address;\r\n    }\r\n    static generateUniqueName(name) {\r\n        const suffix = name.match(/.+_([0-9]+)$/);\r\n        if (suffix !== null) {\r\n            return name.slice(0, -suffix[1].length) + (1 + parseInt(suffix[1]));\r\n        }\r\n        else {\r\n            return name + \"_2\";\r\n        }\r\n    }\r\n    static toStringArray(input) {\r\n        if (input) {\r\n            if (typeof input === \"string\") {\r\n                return [input];\r\n            }\r\n            else {\r\n                return input;\r\n            }\r\n        }\r\n        else {\r\n            return [];\r\n        }\r\n    }\r\n    fetch(uri) {\r\n        return new Promise((resolve, reject) => {\r\n            const client = this.srv.getClientFor(Helpers.extractScheme(uri));\r\n            debug(`WoTImpl fetching TD from '${uri}' with ${client}`);\r\n            client\r\n                .readResource(new TD.Form(uri, content_serdes_1.ContentSerdes.TD))\r\n                .then((content) => __awaiter(this, void 0, void 0, function* () {\r\n                if (content.type !== content_serdes_1.ContentSerdes.TD && content.type !== content_serdes_1.ContentSerdes.JSON_LD) {\r\n                    warn(`WoTImpl received TD with media type '${content.type}' from ${uri}`);\r\n                }\r\n                const td = (yield core_1.ProtocolHelpers.readStreamFully(content.body)).toString(\"utf-8\");\r\n                try {\r\n                    const jo = JSON.parse(td);\r\n                    resolve(jo);\r\n                }\r\n                catch (err) {\r\n                    reject(new Error(`WoTImpl fetched invalid JSON from '${uri}': ${err instanceof Error ? err.message : err}`));\r\n                }\r\n            }))\r\n                .then((td) => __awaiter(this, void 0, void 0, function* () {\r\n                yield client.stop();\r\n                return td;\r\n            }))\r\n                .catch((err) => {\r\n                reject(err);\r\n            });\r\n        });\r\n    }\r\n    static extend(first, second) {\r\n        const result = {};\r\n        for (const id in first) {\r\n            result[id] = first[id];\r\n        }\r\n        for (const id in second) {\r\n            if (!Object.prototype.hasOwnProperty.call(result, id)) {\r\n                result[id] = second[id];\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n    static parseInteractionOutput(response) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            try {\r\n                return yield response.value();\r\n            }\r\n            catch (err) {\r\n                error(\"parseInteractionOutput low-level stream not implemented\");\r\n                throw new Error(\"parseInteractionOutput low-level stream not implemented\");\r\n            }\r\n        });\r\n    }\r\n    static createExposeThingInitSchema(tdSchema) {\r\n        const tdSchemaCopy = JSON.parse(JSON.stringify(tdSchema));\r\n        if (tdSchemaCopy.required !== undefined) {\r\n            const reservedKeywords = [\r\n                \"title\",\r\n                \"@context\",\r\n                \"instance\",\r\n                \"forms\",\r\n                \"security\",\r\n                \"href\",\r\n                \"securityDefinitions\",\r\n            ];\r\n            if (Array.isArray(tdSchemaCopy.required)) {\r\n                const reqProps = tdSchemaCopy.required;\r\n                tdSchemaCopy.required = reqProps.filter((n) => !reservedKeywords.includes(n));\r\n            }\r\n            else if (typeof tdSchemaCopy.required === \"string\") {\r\n                if (reservedKeywords.indexOf(tdSchemaCopy.required) !== -1)\r\n                    delete tdSchemaCopy.required;\r\n            }\r\n        }\r\n        if (tdSchemaCopy.definitions !== undefined) {\r\n            for (const prop in tdSchemaCopy.definitions) {\r\n                tdSchemaCopy.definitions[prop] = this.createExposeThingInitSchema(tdSchemaCopy.definitions[prop]);\r\n            }\r\n        }\r\n        return tdSchemaCopy;\r\n    }\r\n    static validateExposedThingInit(data) {\r\n        var _a;\r\n        if (data[\"@type\"] === \"tm:ThingModel\" || td_tools_1.ThingModelHelpers.isThingModel(data)) {\r\n            return {\r\n                valid: false,\r\n                errors: \"ThingModel declaration is not supported\",\r\n            };\r\n        }\r\n        const isValid = Helpers.tsSchemaValidator(data);\r\n        let errors;\r\n        if (!isValid) {\r\n            errors = (_a = Helpers.tsSchemaValidator.errors) === null || _a === void 0 ? void 0 : _a.map((o) => o.message).join(\"\\n\");\r\n        }\r\n        return {\r\n            valid: isValid,\r\n            errors: errors,\r\n        };\r\n    }\r\n    static parseInteractionOptions(thing, ti, options) {\r\n        var _a, _b;\r\n        if (!this.validateInteractionOptions(thing, ti, options)) {\r\n            throw new Error(`CoreHelpers one or more uriVariables were not found under neither '${ti.title}' Thing Interaction nor '${thing.title}' Thing`);\r\n        }\r\n        const interactionUriVariables = (_a = ti.uriVariables) !== null && _a !== void 0 ? _a : {};\r\n        const thingUriVariables = (_b = thing.uriVariables) !== null && _b !== void 0 ? _b : {};\r\n        const uriVariables = {};\r\n        if (options === null || options === void 0 ? void 0 : options.uriVariables) {\r\n            const entryVariables = Object.entries(options.uriVariables);\r\n            entryVariables.forEach((entry) => {\r\n                if (entry[0] in interactionUriVariables) {\r\n                    uriVariables[entry[0]] = entry[1];\r\n                }\r\n            });\r\n        }\r\n        else {\r\n            options = { uriVariables: {} };\r\n        }\r\n        for (const varKey in thingUriVariables) {\r\n            const varValue = thingUriVariables[varKey];\r\n            if (!(varKey in uriVariables) && \"default\" in varValue) {\r\n                uriVariables[varKey] = varValue.default;\r\n            }\r\n        }\r\n        options.uriVariables = uriVariables;\r\n        return options;\r\n    }\r\n    static validateInteractionOptions(thing, ti, options) {\r\n        var _a, _b;\r\n        const interactionUriVariables = (_a = ti.uriVariables) !== null && _a !== void 0 ? _a : {};\r\n        const thingUriVariables = (_b = thing.uriVariables) !== null && _b !== void 0 ? _b : {};\r\n        if (options === null || options === void 0 ? void 0 : options.uriVariables) {\r\n            const entryVariables = Object.entries(options.uriVariables);\r\n            for (let i = 0; i < entryVariables.length; i++) {\r\n                const entryVariable = entryVariables[i];\r\n                if (!(entryVariable[0] in interactionUriVariables) && !(entryVariable[0] in thingUriVariables)) {\r\n                    return false;\r\n                }\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n    static parseUrlParameters(url, globalUriVariables, uriVariables) {\r\n        const params = {};\r\n        if (url == null || (!uriVariables && !globalUriVariables)) {\r\n            return params;\r\n        }\r\n        const queryparams = url.split(\"?\")[1];\r\n        if (queryparams == null) {\r\n            return params;\r\n        }\r\n        const queries = queryparams.indexOf(\"&\") !== -1 ? queryparams.split(\"&\") : [queryparams];\r\n        queries.forEach((indexQuery) => {\r\n            const indexPair = indexQuery.split(\"=\");\r\n            const queryKey = decodeURIComponent(indexPair[0]);\r\n            const queryValue = decodeURIComponent(indexPair.length > 1 ? indexPair[1] : \"\");\r\n            if (uriVariables && uriVariables[queryKey]) {\r\n                if (uriVariables[queryKey].type === \"integer\" || uriVariables[queryKey].type === \"number\") {\r\n                    params[queryKey] = +queryValue;\r\n                }\r\n                else {\r\n                    params[queryKey] = queryValue;\r\n                }\r\n            }\r\n            else if (globalUriVariables && globalUriVariables[queryKey]) {\r\n                if (globalUriVariables[queryKey].type === \"integer\" || globalUriVariables[queryKey].type === \"number\") {\r\n                    params[queryKey] = +queryValue;\r\n                }\r\n                else {\r\n                    params[queryKey] = queryValue;\r\n                }\r\n            }\r\n        });\r\n        return params;\r\n    }\r\n}\r\nexports.default = Helpers;\r\nHelpers.tsSchemaValidator = ajv.compile(Helpers.createExposeThingInitSchema(tdSchema));\r\nHelpers.staticAddress = undefined;\r\n//# sourceMappingURL=helpers.js.map","\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n});\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n};\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.InteractionOutput = void 0;\r\nconst util = __importStar(require(\"util\"));\r\nconst content_serdes_1 = require(\"./content-serdes\");\r\nconst core_1 = require(\"./core\");\r\nconst errors_1 = require(\"./errors\");\r\nconst ajv_1 = __importDefault(require(\"ajv\"));\r\nconst logger_1 = require(\"./logger\");\r\nconst { debug } = (0, logger_1.createLoggers)(\"core\", \"interaction-output\");\r\nconst ajv = new ajv_1.default({ strict: false });\r\nclass InteractionOutput {\r\n    constructor(content, form, schema) {\r\n        this.content = content;\r\n        this.form = form;\r\n        this.schema = schema;\r\n        this.dataUsed = false;\r\n    }\r\n    get data() {\r\n        if (this._stream) {\r\n            return this._stream;\r\n        }\r\n        if (this.dataUsed) {\r\n            throw new Error(\"Can't read the stream once it has been already used\");\r\n        }\r\n        this.dataUsed = true;\r\n        return (this._stream = core_1.ProtocolHelpers.toWoTStream(this.content.body));\r\n    }\r\n    arrayBuffer() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            if (this.buffer) {\r\n                return this.buffer;\r\n            }\r\n            if (this.dataUsed) {\r\n                throw new Error(\"Can't read the stream once it has been already used\");\r\n            }\r\n            const data = yield core_1.ProtocolHelpers.readStreamFully(this.content.body);\r\n            this.dataUsed = true;\r\n            this.buffer = data;\r\n            return data;\r\n        });\r\n    }\r\n    value() {\r\n        var _a;\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            if (this.parsedValue)\r\n                return this.parsedValue;\r\n            if (this.dataUsed) {\r\n                throw new Error(\"Can't read the stream once it has been already used\");\r\n            }\r\n            if (!this.form || !content_serdes_1.ContentSerdes.get().isSupported(this.content.type)) {\r\n                const message = !this.form ? \"Missing form\" : `Content type ${this.content.type} not supported`;\r\n                throw new errors_1.NotSupportedError(message);\r\n            }\r\n            const data = yield core_1.ProtocolHelpers.readStreamFully(this.content.body);\r\n            this.dataUsed = true;\r\n            this.buffer = data;\r\n            const value = content_serdes_1.ContentSerdes.get().contentToValue({ type: this.content.type, body: data }, (_a = this.schema) !== null && _a !== void 0 ? _a : {});\r\n            if (this.schema) {\r\n                const validate = ajv.compile(this.schema);\r\n                if (!validate(value)) {\r\n                    debug(`schema = ${util.inspect(this.schema, { depth: 10, colors: true })}`);\r\n                    debug(`value: ${value}`);\r\n                    debug(`Errror: ${validate.errors}`);\r\n                    throw new errors_1.DataSchemaError(\"Invalid value according to DataSchema\", value);\r\n                }\r\n            }\r\n            this.parsedValue = value;\r\n            return this.parsedValue;\r\n        });\r\n    }\r\n}\r\nexports.InteractionOutput = InteractionOutput;\r\n//# sourceMappingURL=interaction-output.js.map","\"use strict\";\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.createLoggers = exports.createErrorLogger = exports.createWarnLogger = exports.createDebugLogger = exports.createInfoLogger = void 0;\r\nconst debug_1 = __importDefault(require(\"debug\"));\r\nvar LogLevel;\r\n(function (LogLevel) {\r\n    LogLevel[LogLevel[\"info\"] = 0] = \"info\";\r\n    LogLevel[LogLevel[\"debug\"] = 1] = \"debug\";\r\n    LogLevel[LogLevel[\"warn\"] = 2] = \"warn\";\r\n    LogLevel[LogLevel[\"error\"] = 3] = \"error\";\r\n})(LogLevel || (LogLevel = {}));\r\nfunction createLogger(namespaces, logLevel) {\r\n    const namespace = [\"node-wot\", ...namespaces, LogLevel[logLevel]].join(\":\");\r\n    return (0, debug_1.default)(namespace);\r\n}\r\nfunction createInfoLogger(...namespaces) {\r\n    return createLogger(namespaces, LogLevel.info);\r\n}\r\nexports.createInfoLogger = createInfoLogger;\r\nfunction createDebugLogger(...namespaces) {\r\n    return createLogger(namespaces, LogLevel.debug);\r\n}\r\nexports.createDebugLogger = createDebugLogger;\r\nfunction createWarnLogger(...namespaces) {\r\n    return createLogger(namespaces, LogLevel.warn);\r\n}\r\nexports.createWarnLogger = createWarnLogger;\r\nfunction createErrorLogger(...namespaces) {\r\n    return createLogger(namespaces, LogLevel.error);\r\n}\r\nexports.createErrorLogger = createErrorLogger;\r\nfunction createLoggers(...namespaces) {\r\n    return {\r\n        info: createInfoLogger(...namespaces),\r\n        debug: createDebugLogger(...namespaces),\r\n        warn: createWarnLogger(...namespaces),\r\n        error: createErrorLogger(...namespaces),\r\n    };\r\n}\r\nexports.createLoggers = createLoggers;\r\n//# sourceMappingURL=logger.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst stream_1 = require(\"stream\");\r\nconst es2018_1 = require(\"web-streams-polyfill/ponyfill/es2018\");\r\nconst logger_1 = require(\"./logger\");\r\nconst { debug } = (0, logger_1.createLoggers)(\"core\", \"protocol-helpers\");\r\nfunction ManagedStream(Base) {\r\n    return class extends Base {\r\n        set nodeStream(nodeStream) {\r\n            this._nodeStream = nodeStream;\r\n        }\r\n        get nodeStream() {\r\n            if (!this._nodeStream) {\r\n                throw new Error(\"ManagedStream not correctly initialized nodeStream is undefined\");\r\n            }\r\n            return this._nodeStream;\r\n        }\r\n        set wotStream(wotStream) {\r\n            this._wotStream = wotStream;\r\n        }\r\n        get wotStream() {\r\n            if (!this._wotStream) {\r\n                throw new Error(\"ManagedStream not correctly initialized wotStream is undefined\");\r\n            }\r\n            return this._wotStream;\r\n        }\r\n    };\r\n}\r\nconst ManagedReadable = ManagedStream(stream_1.Readable);\r\nconst ManagedReadableStream = ManagedStream(es2018_1.ReadableStream);\r\nfunction isManaged(obj) {\r\n    return obj instanceof ManagedReadableStream || obj instanceof ManagedReadable;\r\n}\r\nclass ProtocolHelpers {\r\n    static updatePropertyFormWithTemplate(form, property) {\r\n        var _a;\r\n        for (const formTemplate of (_a = property.forms) !== null && _a !== void 0 ? _a : []) {\r\n            if (formTemplate.href) {\r\n            }\r\n            if (formTemplate.contentType) {\r\n                form.contentType = formTemplate.contentType;\r\n                return;\r\n            }\r\n        }\r\n    }\r\n    static updateActionFormWithTemplate(form, action) {\r\n        var _a;\r\n        for (const formTemplate of (_a = action.forms) !== null && _a !== void 0 ? _a : []) {\r\n            if (formTemplate.href) {\r\n            }\r\n            if (formTemplate.contentType) {\r\n                form.contentType = formTemplate.contentType;\r\n                return;\r\n            }\r\n        }\r\n    }\r\n    static updateEventFormWithTemplate(form, event) {\r\n        var _a;\r\n        for (const formTemplate of (_a = event.forms) !== null && _a !== void 0 ? _a : []) {\r\n            if (formTemplate.href) {\r\n            }\r\n            if (formTemplate.contentType) {\r\n                form.contentType = formTemplate.contentType;\r\n                return;\r\n            }\r\n        }\r\n    }\r\n    static getPropertyContentType(td, propertyName, uriScheme) {\r\n        if (td &&\r\n            propertyName &&\r\n            uriScheme &&\r\n            td.properties &&\r\n            td.properties[propertyName] &&\r\n            td.properties[propertyName].forms &&\r\n            Array.isArray(td.properties[propertyName].forms)) {\r\n            for (const form of td.properties[propertyName].forms) {\r\n                if (form.href && form.href.startsWith(uriScheme) && form.contentType) {\r\n                    return form.contentType;\r\n                }\r\n            }\r\n        }\r\n        return undefined;\r\n    }\r\n    static getActionContentType(td, actionName, uriScheme) {\r\n        if (td &&\r\n            actionName &&\r\n            uriScheme &&\r\n            td.actions &&\r\n            td.actions[actionName] &&\r\n            td.actions[actionName].forms &&\r\n            Array.isArray(td.actions[actionName].forms)) {\r\n            for (const form of td.actions[actionName].forms) {\r\n                if (form.href && form.href.startsWith(uriScheme) && form.contentType) {\r\n                    return form.contentType;\r\n                }\r\n            }\r\n        }\r\n        return undefined;\r\n    }\r\n    static getEventContentType(td, eventName, uriScheme) {\r\n        if (td &&\r\n            eventName &&\r\n            uriScheme &&\r\n            td.events &&\r\n            td.events[eventName] &&\r\n            td.events[eventName].forms &&\r\n            Array.isArray(td.events[eventName].forms)) {\r\n            for (const form of td.events[eventName].forms) {\r\n                if (form.href && form.href.startsWith(uriScheme) && form.contentType) {\r\n                    return form.contentType;\r\n                }\r\n            }\r\n        }\r\n        return undefined;\r\n    }\r\n    static toWoTStream(stream) {\r\n        if (isManaged(stream)) {\r\n            return stream.wotStream;\r\n        }\r\n        const result = new ManagedReadableStream({\r\n            start: (controller) => {\r\n                stream.on(\"data\", (data) => controller.enqueue(data));\r\n                stream.on(\"error\", (e) => controller.error(e));\r\n                stream.on(\"end\", () => controller.close());\r\n            },\r\n            cancel: (reason) => {\r\n                if (stream instanceof stream_1.Readable) {\r\n                    stream.destroy(reason);\r\n                }\r\n            },\r\n        });\r\n        if (stream instanceof stream_1.Readable) {\r\n            result.nodeStream = stream;\r\n        }\r\n        else {\r\n            result.nodeStream = new stream_1.Readable(stream);\r\n        }\r\n        return result;\r\n    }\r\n    static toNodeStream(stream) {\r\n        if (isManaged(stream)) {\r\n            return stream.nodeStream;\r\n        }\r\n        if (stream instanceof stream_1.Readable) {\r\n            return stream;\r\n        }\r\n        const reader = stream.getReader();\r\n        const result = new ManagedReadable({\r\n            read: (size) => {\r\n                reader.read().then((data) => {\r\n                    result.push(data.value);\r\n                    if (data.done) {\r\n                        result.push(null);\r\n                    }\r\n                });\r\n            },\r\n            destroy: (error, callback) => {\r\n                reader.releaseLock();\r\n                stream.cancel(error).then(() => callback(error));\r\n            },\r\n        });\r\n        result.wotStream = stream;\r\n        result.nodeStream = result;\r\n        return result;\r\n    }\r\n    static readStreamFully(stream) {\r\n        return new Promise((resolve, reject) => {\r\n            if (stream) {\r\n                const chunks = [];\r\n                stream.on(\"data\", (data) => chunks.push(data));\r\n                stream.on(\"error\", reject);\r\n                stream.on(\"end\", () => {\r\n                    if (chunks[0] &&\r\n                        (chunks[0] instanceof Array || chunks[0] instanceof Buffer || chunks[0] instanceof Uint8Array)) {\r\n                        resolve(Buffer.concat(chunks));\r\n                    }\r\n                    else if (chunks[0] && typeof chunks[0] === \"string\") {\r\n                        resolve(Buffer.from(chunks.join()));\r\n                    }\r\n                    else {\r\n                        resolve(Buffer.from(chunks));\r\n                    }\r\n                });\r\n            }\r\n            else {\r\n                debug(`Protocol-Helper returns empty buffer for readStreamFully due to undefined stream`);\r\n                resolve(Buffer.alloc(0));\r\n            }\r\n        });\r\n    }\r\n    static findRequestMatchingFormIndex(forms, uriScheme, requestUrl, contentType) {\r\n        if (forms === undefined)\r\n            return 0;\r\n        let matchingForms = forms.filter((form) => {\r\n            const formUrl = new URL(form.href.replace(/(\\{[\\S]*\\})/, \"\"));\r\n            const reqUrl = requestUrl !== undefined\r\n                ? requestUrl.indexOf(\"?\") !== -1\r\n                    ? requestUrl.split(\"?\")[0]\r\n                    : requestUrl\r\n                : undefined;\r\n            return formUrl.protocol === uriScheme + \":\" && (reqUrl === undefined || formUrl.pathname === reqUrl);\r\n        });\r\n        if (contentType) {\r\n            const contentTypeMatchingForms = matchingForms.filter((form) => {\r\n                return form.contentType === contentType;\r\n            });\r\n            if (contentTypeMatchingForms.length > 0)\r\n                matchingForms = contentTypeMatchingForms;\r\n        }\r\n        return matchingForms.length > 0 ? forms.indexOf(matchingForms[0]) : 0;\r\n    }\r\n    static getFormIndexForOperation(interaction, type, operationName, formIndex) {\r\n        var _a;\r\n        let finalFormIndex = -1;\r\n        let defaultOps = [];\r\n        switch (type) {\r\n            case \"property\":\r\n                if ((interaction.readOnly && operationName === \"writeproperty\") ||\r\n                    (interaction.writeOnly && operationName === \"readproperty\"))\r\n                    return finalFormIndex;\r\n                if (interaction.readOnly === undefined || !interaction.readOnly)\r\n                    defaultOps.push(\"writeproperty\");\r\n                if (interaction.writeOnly === undefined || !interaction.writeOnly)\r\n                    defaultOps.push(\"readproperty\");\r\n                break;\r\n            case \"action\":\r\n                defaultOps = [\"invokeaction\"];\r\n                break;\r\n            case \"event\":\r\n                defaultOps = [\"subscribeevent\", \"unsubscribeevent\"];\r\n                break;\r\n        }\r\n        if (defaultOps.indexOf(operationName) !== -1) {\r\n            operationName = undefined;\r\n        }\r\n        if (interaction.forms !== undefined && formIndex !== undefined && interaction.forms.length > formIndex) {\r\n            const form = interaction.forms[formIndex];\r\n            if (form && (operationName === undefined || ((_a = form.op) === null || _a === void 0 ? void 0 : _a.includes(operationName)))) {\r\n                finalFormIndex = formIndex;\r\n            }\r\n        }\r\n        if (interaction.forms !== undefined && finalFormIndex === -1) {\r\n            if (operationName !== undefined) {\r\n                interaction.forms.every((form) => {\r\n                    var _a;\r\n                    if ((_a = form.op) === null || _a === void 0 ? void 0 : _a.includes(operationName)) {\r\n                        finalFormIndex = interaction.forms.indexOf(form);\r\n                    }\r\n                    return finalFormIndex === -1;\r\n                });\r\n            }\r\n            else {\r\n                interaction.forms.every((form) => {\r\n                    finalFormIndex = interaction.forms.indexOf(form);\r\n                    return false;\r\n                });\r\n            }\r\n        }\r\n        return finalFormIndex;\r\n    }\r\n}\r\nexports.default = ProtocolHelpers;\r\n//# sourceMappingURL=protocol-helpers.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n//# sourceMappingURL=protocol-interfaces.js.map","\"use strict\";\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst content_serdes_1 = __importDefault(require(\"./content-serdes\"));\r\nclass ProtocolListenerRegistry {\r\n    constructor() {\r\n        this.listeners = new Map();\r\n    }\r\n    register(affordance, formIndex, listener) {\r\n        if (!affordance.forms[formIndex]) {\r\n            throw new Error(\"Can't register the listener for affordance with formIndex. The affordance does not contain the form\");\r\n        }\r\n        let formMap = this.listeners.get(affordance);\r\n        if (!formMap) {\r\n            formMap = new Map();\r\n            this.listeners.set(affordance, formMap);\r\n        }\r\n        let listeners = formMap.get(formIndex);\r\n        if (!listeners) {\r\n            listeners = [];\r\n            formMap.set(formIndex, listeners);\r\n        }\r\n        listeners.push(listener);\r\n    }\r\n    unregister(affordance, formIndex, listener) {\r\n        const formMap = this.listeners.get(affordance);\r\n        if (!formMap) {\r\n            throw new Error(\"Not found\");\r\n        }\r\n        const listeners = formMap.get(formIndex);\r\n        if (!listeners) {\r\n            throw new Error(\"Form not found\");\r\n        }\r\n        const index = listeners.indexOf(listener);\r\n        if (index < 0) {\r\n            throw new Error(\"Form not found\");\r\n        }\r\n        listeners.splice(index, 1);\r\n    }\r\n    unregisterAll() {\r\n        this.listeners.clear();\r\n    }\r\n    notify(affordance, data, schema, formIndex) {\r\n        var _a;\r\n        const formMap = (_a = this.listeners.get(affordance)) !== null && _a !== void 0 ? _a : ProtocolListenerRegistry.EMPTY_MAP;\r\n        if (formIndex !== undefined) {\r\n            const listeners = formMap.get(formIndex);\r\n            if (listeners) {\r\n                const contentType = affordance.forms[formIndex].contentType;\r\n                const content = content_serdes_1.default.valueToContent(data, schema, contentType);\r\n                listeners.forEach((listener) => listener(content));\r\n                return;\r\n            }\r\n        }\r\n        for (const [index, value] of formMap) {\r\n            const contentType = affordance.forms[index].contentType;\r\n            const content = content_serdes_1.default.valueToContent(data, schema, contentType);\r\n            value.forEach((listener) => listener(content));\r\n        }\r\n    }\r\n}\r\nexports.default = ProtocolListenerRegistry;\r\nProtocolListenerRegistry.EMPTY_MAP = new Map();\r\n//# sourceMappingURL=protocol-listener-registry.js.map","\"use strict\";\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst wot_impl_1 = __importDefault(require(\"./wot-impl\"));\r\nconst content_serdes_1 = __importDefault(require(\"./content-serdes\"));\r\nconst uuid_1 = require(\"uuid\");\r\nconst logger_1 = require(\"./logger\");\r\nconst { debug, warn } = (0, logger_1.createLoggers)(\"core\", \"servient\");\r\nclass Servient {\r\n    constructor() {\r\n        this.servers = [];\r\n        this.clientFactories = new Map();\r\n        this.things = new Map();\r\n        this.credentialStore = new Map();\r\n    }\r\n    addMediaType(codec, offered = false) {\r\n        content_serdes_1.default.addCodec(codec, offered);\r\n    }\r\n    expose(thing) {\r\n        if (this.servers.length === 0) {\r\n            warn(`Servient has no servers to expose Things`);\r\n            return new Promise((resolve) => {\r\n                resolve();\r\n            });\r\n        }\r\n        debug(`Servient exposing '${thing.title}'`);\r\n        const tdTemplate = JSON.parse(JSON.stringify(thing));\r\n        thing.forms = [];\r\n        for (const name in thing.properties) {\r\n            thing.properties[name].forms = [];\r\n        }\r\n        for (const name in thing.actions) {\r\n            thing.actions[name].forms = [];\r\n        }\r\n        for (const name in thing.events) {\r\n            thing.events[name].forms = [];\r\n        }\r\n        const serverPromises = [];\r\n        this.servers.forEach((server) => {\r\n            serverPromises.push(server.expose(thing, tdTemplate));\r\n        });\r\n        return new Promise((resolve, reject) => {\r\n            Promise.all(serverPromises)\r\n                .then(() => resolve())\r\n                .catch((err) => reject(err));\r\n        });\r\n    }\r\n    addThing(thing) {\r\n        if (!thing.id) {\r\n            thing.id = \"urn:uuid:\" + (0, uuid_1.v4)();\r\n            warn(`Servient generating ID for '${thing.title}': '${thing.id}'`);\r\n        }\r\n        if (!this.things.has(thing.id)) {\r\n            this.things.set(thing.id, thing);\r\n            debug(`Servient reset ID '${thing.id}' with '${thing.title}'`);\r\n            return true;\r\n        }\r\n        else {\r\n            return false;\r\n        }\r\n    }\r\n    destroyThing(thingId) {\r\n        return new Promise((resolve, reject) => {\r\n            if (this.things.has(thingId)) {\r\n                debug(`Servient destroying thing with id '${thingId}'`);\r\n                this.things.delete(thingId);\r\n                const serverPromises = [];\r\n                this.servers.forEach((server) => {\r\n                    serverPromises.push(server.destroy(thingId));\r\n                });\r\n                Promise.all(serverPromises)\r\n                    .then(() => resolve(true))\r\n                    .catch((err) => reject(err));\r\n            }\r\n            else {\r\n                warn(`Servient was asked to destroy thing but failed to find thing with id '${thingId}'`);\r\n                resolve(false);\r\n            }\r\n        });\r\n    }\r\n    getThing(id) {\r\n        if (this.things.has(id)) {\r\n            return this.things.get(id);\r\n        }\r\n        else\r\n            return undefined;\r\n    }\r\n    getThings() {\r\n        debug(`Servient getThings size == '${this.things.size}'`);\r\n        const ts = {};\r\n        this.things.forEach((thing, id) => {\r\n            ts[id] = thing.getThingDescription();\r\n        });\r\n        return ts;\r\n    }\r\n    addServer(server) {\r\n        this.things.forEach((thing, id) => server.expose(thing));\r\n        this.servers.push(server);\r\n        return true;\r\n    }\r\n    getServers() {\r\n        return this.servers.slice(0);\r\n    }\r\n    addClientFactory(clientFactory) {\r\n        this.clientFactories.set(clientFactory.scheme, clientFactory);\r\n    }\r\n    hasClientFor(scheme) {\r\n        debug(`Servient checking for '${scheme}' scheme in ${this.clientFactories.size} ClientFactories`);\r\n        return this.clientFactories.has(scheme);\r\n    }\r\n    getClientFor(scheme) {\r\n        const clientFactory = this.clientFactories.get(scheme);\r\n        if (clientFactory) {\r\n            debug(`Servient creating client for scheme '${scheme}'`);\r\n            return clientFactory.getClient();\r\n        }\r\n        else {\r\n            throw new Error(`Servient has no ClientFactory for scheme '${scheme}'`);\r\n        }\r\n    }\r\n    getClientSchemes() {\r\n        return Array.from(this.clientFactories.keys());\r\n    }\r\n    addCredentials(credentials) {\r\n        if (typeof credentials === \"object\") {\r\n            for (const i in credentials) {\r\n                debug(`Servient storing credentials for '${i}'`);\r\n                let currentCredentials = this.credentialStore.get(i);\r\n                if (!currentCredentials) {\r\n                    currentCredentials = [];\r\n                    this.credentialStore.set(i, currentCredentials);\r\n                }\r\n                currentCredentials.push(credentials[i]);\r\n            }\r\n        }\r\n    }\r\n    getCredentials(identifier) {\r\n        debug(`Servient looking up credentials for '${identifier}' (@deprecated)`);\r\n        const currentCredentials = this.credentialStore.get(identifier);\r\n        if (currentCredentials && currentCredentials.length > 0) {\r\n            return currentCredentials[0];\r\n        }\r\n        else {\r\n            return undefined;\r\n        }\r\n    }\r\n    retrieveCredentials(identifier) {\r\n        debug(`Servient looking up credentials for '${identifier}'`);\r\n        return this.credentialStore.get(identifier);\r\n    }\r\n    start() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const serverStatus = [];\r\n            this.servers.forEach((server) => serverStatus.push(server.start(this)));\r\n            this.clientFactories.forEach((clientFactory) => clientFactory.init());\r\n            yield Promise.all(serverStatus);\r\n            return new wot_impl_1.default(this);\r\n        });\r\n    }\r\n    shutdown() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            this.clientFactories.forEach((clientFactory) => clientFactory.destroy());\r\n            const promises = this.servers.map((server) => server.stop());\r\n            yield Promise.all(promises);\r\n        });\r\n    }\r\n}\r\nexports.default = Servient;\r\n//# sourceMappingURL=servient.js.map","\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n});\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n};\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.DataType = exports.DiscoveryMethod = exports.ThingDiscoveryImpl = void 0;\r\nconst TD = __importStar(require(\"@node-wot/td-tools\"));\r\nconst exposed_thing_1 = __importDefault(require(\"./exposed-thing\"));\r\nconst consumed_thing_1 = __importDefault(require(\"./consumed-thing\"));\r\nconst helpers_1 = __importDefault(require(\"./helpers\"));\r\nconst logger_1 = require(\"./logger\");\r\nconst { debug } = (0, logger_1.createLoggers)(\"core\", \"wot-impl\");\r\nclass ThingDiscoveryImpl {\r\n    constructor(filter) {\r\n        this.filter = filter;\r\n        this.active = false;\r\n        this.done = false;\r\n        this.error = new Error(\"not implemented\");\r\n    }\r\n    start() {\r\n        this.active = true;\r\n    }\r\n    next() {\r\n        return new Promise((resolve, reject) => {\r\n            reject(this.error);\r\n        });\r\n    }\r\n    stop() {\r\n        this.active = false;\r\n        this.done = false;\r\n    }\r\n}\r\nexports.ThingDiscoveryImpl = ThingDiscoveryImpl;\r\nvar DiscoveryMethod;\r\n(function (DiscoveryMethod) {\r\n    DiscoveryMethod[DiscoveryMethod[\"any\"] = 0] = \"any\";\r\n    DiscoveryMethod[DiscoveryMethod[\"local\"] = 1] = \"local\";\r\n    DiscoveryMethod[DiscoveryMethod[\"directory\"] = 2] = \"directory\";\r\n    DiscoveryMethod[DiscoveryMethod[\"multicast\"] = 3] = \"multicast\";\r\n})(DiscoveryMethod = exports.DiscoveryMethod || (exports.DiscoveryMethod = {}));\r\nclass WoTImpl {\r\n    constructor(srv) {\r\n        this.srv = srv;\r\n        this.DiscoveryMethod = DiscoveryMethod;\r\n    }\r\n    discover(filter) {\r\n        return new ThingDiscoveryImpl(filter);\r\n    }\r\n    consume(td) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            try {\r\n                const thing = TD.parseTD(JSON.stringify(td), true);\r\n                const newThing = new consumed_thing_1.default(this.srv, thing);\r\n                debug(`WoTImpl consuming TD ${newThing.id ? \"'\" + newThing.id + \"'\" : \"without id\"} to instantiate ConsumedThing '${newThing.title}'`);\r\n                return newThing;\r\n            }\r\n            catch (err) {\r\n                throw new Error(`Cannot consume TD because ${err instanceof Error ? err.message : err}`);\r\n            }\r\n        });\r\n    }\r\n    produce(init) {\r\n        return new Promise((resolve, reject) => {\r\n            try {\r\n                const validated = helpers_1.default.validateExposedThingInit(init);\r\n                if (!validated.valid) {\r\n                    throw new Error(\"Thing Description JSON schema validation failed:\\n\" + validated.errors);\r\n                }\r\n                const newThing = new exposed_thing_1.default(this.srv, init);\r\n                debug(`WoTImpl producing new ExposedThing '${newThing.title}'`);\r\n                if (this.srv.addThing(newThing)) {\r\n                    resolve(newThing);\r\n                }\r\n                else {\r\n                    throw new Error(\"Thing already exists: \" + newThing.title);\r\n                }\r\n            }\r\n            catch (err) {\r\n                reject(new Error(`Cannot produce ExposedThing because \" + ${err instanceof Error ? err.message : err}`));\r\n            }\r\n        });\r\n    }\r\n}\r\nexports.default = WoTImpl;\r\nvar DataType;\r\n(function (DataType) {\r\n    DataType[\"boolean\"] = \"boolean\";\r\n    DataType[\"number\"] = \"number\";\r\n    DataType[\"integer\"] = \"integer\";\r\n    DataType[\"string\"] = \"string\";\r\n    DataType[\"object\"] = \"object\";\r\n    DataType[\"array\"] = \"array\";\r\n    DataType[\"null\"] = \"null\";\r\n})(DataType = exports.DataType || (exports.DataType = {}));\r\n//# sourceMappingURL=wot-impl.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CodeGen = exports.Name = exports.nil = exports.stringify = exports.str = exports._ = exports.KeywordCxt = void 0;\nconst context_1 = require(\"./compile/context\");\nexports.KeywordCxt = context_1.default;\nvar codegen_1 = require(\"./compile/codegen\");\nObject.defineProperty(exports, \"_\", { enumerable: true, get: function () { return codegen_1._; } });\nObject.defineProperty(exports, \"str\", { enumerable: true, get: function () { return codegen_1.str; } });\nObject.defineProperty(exports, \"stringify\", { enumerable: true, get: function () { return codegen_1.stringify; } });\nObject.defineProperty(exports, \"nil\", { enumerable: true, get: function () { return codegen_1.nil; } });\nObject.defineProperty(exports, \"Name\", { enumerable: true, get: function () { return codegen_1.Name; } });\nObject.defineProperty(exports, \"CodeGen\", { enumerable: true, get: function () { return codegen_1.CodeGen; } });\nconst core_1 = require(\"./core\");\nconst draft7_1 = require(\"./vocabularies/draft7\");\nconst draft7MetaSchema = require(\"./refs/json-schema-draft-07.json\");\nconst META_SUPPORT_DATA = [\"/properties\"];\nconst META_SCHEMA_ID = \"http://json-schema.org/draft-07/schema\";\nclass Ajv extends core_1.default {\n    _addVocabularies() {\n        super._addVocabularies();\n        draft7_1.default.forEach((v) => this.addVocabulary(v));\n    }\n    _addDefaultMetaSchema() {\n        super._addDefaultMetaSchema();\n        if (!this.opts.meta)\n            return;\n        const metaSchema = this.opts.$data\n            ? this.$dataMetaSchema(draft7MetaSchema, META_SUPPORT_DATA)\n            : draft7MetaSchema;\n        this.addMetaSchema(metaSchema, META_SCHEMA_ID, false);\n        this.refs[\"http://json-schema.org/schema\"] = META_SCHEMA_ID;\n    }\n    defaultMeta() {\n        return (this.opts.defaultMeta =\n            super.defaultMeta() || (this.getSchema(META_SCHEMA_ID) ? META_SCHEMA_ID : undefined));\n    }\n}\nexports.default = Ajv;\n//# sourceMappingURL=ajv.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getProperty = exports.safeStringify = exports.stringify = exports.strConcat = exports.addCodeArg = exports.str = exports._ = exports.nil = exports._Code = exports.Name = exports.IDENTIFIER = exports._CodeOrName = void 0;\nclass _CodeOrName {\n}\nexports._CodeOrName = _CodeOrName;\nexports.IDENTIFIER = /^[a-z$_][a-z$_0-9]*$/i;\nclass Name extends _CodeOrName {\n    constructor(s) {\n        super();\n        if (!exports.IDENTIFIER.test(s))\n            throw new Error(\"CodeGen: name must be a valid identifier\");\n        this.str = s;\n    }\n    toString() {\n        return this.str;\n    }\n    emptyStr() {\n        return false;\n    }\n    get names() {\n        return { [this.str]: 1 };\n    }\n}\nexports.Name = Name;\nclass _Code extends _CodeOrName {\n    constructor(code) {\n        super();\n        this._items = typeof code === \"string\" ? [code] : code;\n    }\n    toString() {\n        return this.str;\n    }\n    emptyStr() {\n        if (this._items.length > 1)\n            return false;\n        const item = this._items[0];\n        return item === \"\" || item === '\"\"';\n    }\n    get str() {\n        var _a;\n        return ((_a = this._str) !== null && _a !== void 0 ? _a : (this._str = this._items.reduce((s, c) => `${s}${c}`, \"\")));\n    }\n    get names() {\n        var _a;\n        return ((_a = this._names) !== null && _a !== void 0 ? _a : (this._names = this._items.reduce((names, c) => {\n            if (c instanceof Name)\n                names[c.str] = (names[c.str] || 0) + 1;\n            return names;\n        }, {})));\n    }\n}\nexports._Code = _Code;\nexports.nil = new _Code(\"\");\nfunction _(strs, ...args) {\n    const code = [strs[0]];\n    let i = 0;\n    while (i < args.length) {\n        addCodeArg(code, args[i]);\n        code.push(strs[++i]);\n    }\n    return new _Code(code);\n}\nexports._ = _;\nconst plus = new _Code(\"+\");\nfunction str(strs, ...args) {\n    const expr = [safeStringify(strs[0])];\n    let i = 0;\n    while (i < args.length) {\n        expr.push(plus);\n        addCodeArg(expr, args[i]);\n        expr.push(plus, safeStringify(strs[++i]));\n    }\n    optimize(expr);\n    return new _Code(expr);\n}\nexports.str = str;\nfunction addCodeArg(code, arg) {\n    if (arg instanceof _Code)\n        code.push(...arg._items);\n    else if (arg instanceof Name)\n        code.push(arg);\n    else\n        code.push(interpolate(arg));\n}\nexports.addCodeArg = addCodeArg;\nfunction optimize(expr) {\n    let i = 1;\n    while (i < expr.length - 1) {\n        if (expr[i] === plus) {\n            const res = mergeExprItems(expr[i - 1], expr[i + 1]);\n            if (res !== undefined) {\n                expr.splice(i - 1, 3, res);\n                continue;\n            }\n            expr[i++] = \"+\";\n        }\n        i++;\n    }\n}\nfunction mergeExprItems(a, b) {\n    if (b === '\"\"')\n        return a;\n    if (a === '\"\"')\n        return b;\n    if (typeof a == \"string\") {\n        if (b instanceof Name || a[a.length - 1] !== '\"')\n            return;\n        if (typeof b != \"string\")\n            return `${a.slice(0, -1)}${b}\"`;\n        if (b[0] === '\"')\n            return a.slice(0, -1) + b.slice(1);\n        return;\n    }\n    if (typeof b == \"string\" && b[0] === '\"' && !(a instanceof Name))\n        return `\"${a}${b.slice(1)}`;\n    return;\n}\nfunction strConcat(c1, c2) {\n    return c2.emptyStr() ? c1 : c1.emptyStr() ? c2 : str `${c1}${c2}`;\n}\nexports.strConcat = strConcat;\n// TODO do not allow arrays here\nfunction interpolate(x) {\n    return typeof x == \"number\" || typeof x == \"boolean\" || x === null\n        ? x\n        : safeStringify(Array.isArray(x) ? x.join(\",\") : x);\n}\nfunction stringify(x) {\n    return new _Code(safeStringify(x));\n}\nexports.stringify = stringify;\nfunction safeStringify(x) {\n    return JSON.stringify(x)\n        .replace(/\\u2028/g, \"\\\\u2028\")\n        .replace(/\\u2029/g, \"\\\\u2029\");\n}\nexports.safeStringify = safeStringify;\nfunction getProperty(key) {\n    return typeof key == \"string\" && exports.IDENTIFIER.test(key) ? new _Code(`.${key}`) : _ `[${key}]`;\n}\nexports.getProperty = getProperty;\n//# sourceMappingURL=code.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.or = exports.and = exports.not = exports.CodeGen = exports.operators = exports.varKinds = exports.ValueScopeName = exports.ValueScope = exports.Scope = exports.Name = exports.stringify = exports.getProperty = exports.nil = exports.strConcat = exports.str = exports._ = void 0;\nconst code_1 = require(\"./code\");\nconst scope_1 = require(\"./scope\");\nvar code_2 = require(\"./code\");\nObject.defineProperty(exports, \"_\", { enumerable: true, get: function () { return code_2._; } });\nObject.defineProperty(exports, \"str\", { enumerable: true, get: function () { return code_2.str; } });\nObject.defineProperty(exports, \"strConcat\", { enumerable: true, get: function () { return code_2.strConcat; } });\nObject.defineProperty(exports, \"nil\", { enumerable: true, get: function () { return code_2.nil; } });\nObject.defineProperty(exports, \"getProperty\", { enumerable: true, get: function () { return code_2.getProperty; } });\nObject.defineProperty(exports, \"stringify\", { enumerable: true, get: function () { return code_2.stringify; } });\nObject.defineProperty(exports, \"Name\", { enumerable: true, get: function () { return code_2.Name; } });\nvar scope_2 = require(\"./scope\");\nObject.defineProperty(exports, \"Scope\", { enumerable: true, get: function () { return scope_2.Scope; } });\nObject.defineProperty(exports, \"ValueScope\", { enumerable: true, get: function () { return scope_2.ValueScope; } });\nObject.defineProperty(exports, \"ValueScopeName\", { enumerable: true, get: function () { return scope_2.ValueScopeName; } });\nObject.defineProperty(exports, \"varKinds\", { enumerable: true, get: function () { return scope_2.varKinds; } });\nexports.operators = {\n    GT: new code_1._Code(\">\"),\n    GTE: new code_1._Code(\">=\"),\n    LT: new code_1._Code(\"<\"),\n    LTE: new code_1._Code(\"<=\"),\n    EQ: new code_1._Code(\"===\"),\n    NEQ: new code_1._Code(\"!==\"),\n    NOT: new code_1._Code(\"!\"),\n    OR: new code_1._Code(\"||\"),\n    AND: new code_1._Code(\"&&\"),\n    ADD: new code_1._Code(\"+\"),\n};\nclass Node {\n    optimizeNodes() {\n        return this;\n    }\n    optimizeNames(_names, _constants) {\n        return this;\n    }\n}\nclass Def extends Node {\n    constructor(varKind, name, rhs) {\n        super();\n        this.varKind = varKind;\n        this.name = name;\n        this.rhs = rhs;\n    }\n    render({ es5, _n }) {\n        const varKind = es5 ? scope_1.varKinds.var : this.varKind;\n        const rhs = this.rhs === undefined ? \"\" : ` = ${this.rhs}`;\n        return `${varKind} ${this.name}${rhs};` + _n;\n    }\n    optimizeNames(names, constants) {\n        if (!names[this.name.str])\n            return;\n        if (this.rhs)\n            this.rhs = optimizeExpr(this.rhs, names, constants);\n        return this;\n    }\n    get names() {\n        return this.rhs instanceof code_1._CodeOrName ? this.rhs.names : {};\n    }\n}\nclass Assign extends Node {\n    constructor(lhs, rhs, sideEffects) {\n        super();\n        this.lhs = lhs;\n        this.rhs = rhs;\n        this.sideEffects = sideEffects;\n    }\n    render({ _n }) {\n        return `${this.lhs} = ${this.rhs};` + _n;\n    }\n    optimizeNames(names, constants) {\n        if (this.lhs instanceof code_1.Name && !names[this.lhs.str] && !this.sideEffects)\n            return;\n        this.rhs = optimizeExpr(this.rhs, names, constants);\n        return this;\n    }\n    get names() {\n        const names = this.lhs instanceof code_1.Name ? {} : { ...this.lhs.names };\n        return addExprNames(names, this.rhs);\n    }\n}\nclass AssignOp extends Assign {\n    constructor(lhs, op, rhs, sideEffects) {\n        super(lhs, rhs, sideEffects);\n        this.op = op;\n    }\n    render({ _n }) {\n        return `${this.lhs} ${this.op}= ${this.rhs};` + _n;\n    }\n}\nclass Label extends Node {\n    constructor(label) {\n        super();\n        this.label = label;\n        this.names = {};\n    }\n    render({ _n }) {\n        return `${this.label}:` + _n;\n    }\n}\nclass Break extends Node {\n    constructor(label) {\n        super();\n        this.label = label;\n        this.names = {};\n    }\n    render({ _n }) {\n        const label = this.label ? ` ${this.label}` : \"\";\n        return `break${label};` + _n;\n    }\n}\nclass Throw extends Node {\n    constructor(error) {\n        super();\n        this.error = error;\n    }\n    render({ _n }) {\n        return `throw ${this.error};` + _n;\n    }\n    get names() {\n        return this.error.names;\n    }\n}\nclass AnyCode extends Node {\n    constructor(code) {\n        super();\n        this.code = code;\n    }\n    render({ _n }) {\n        return `${this.code};` + _n;\n    }\n    optimizeNodes() {\n        return `${this.code}` ? this : undefined;\n    }\n    optimizeNames(names, constants) {\n        this.code = optimizeExpr(this.code, names, constants);\n        return this;\n    }\n    get names() {\n        return this.code instanceof code_1._CodeOrName ? this.code.names : {};\n    }\n}\nclass ParentNode extends Node {\n    constructor(nodes = []) {\n        super();\n        this.nodes = nodes;\n    }\n    render(opts) {\n        return this.nodes.reduce((code, n) => code + n.render(opts), \"\");\n    }\n    optimizeNodes() {\n        const { nodes } = this;\n        let i = nodes.length;\n        while (i--) {\n            const n = nodes[i].optimizeNodes();\n            if (Array.isArray(n))\n                nodes.splice(i, 1, ...n);\n            else if (n)\n                nodes[i] = n;\n            else\n                nodes.splice(i, 1);\n        }\n        return nodes.length > 0 ? this : undefined;\n    }\n    optimizeNames(names, constants) {\n        const { nodes } = this;\n        let i = nodes.length;\n        while (i--) {\n            // iterating backwards improves 1-pass optimization\n            const n = nodes[i];\n            if (n.optimizeNames(names, constants))\n                continue;\n            subtractNames(names, n.names);\n            nodes.splice(i, 1);\n        }\n        return nodes.length > 0 ? this : undefined;\n    }\n    get names() {\n        return this.nodes.reduce((names, n) => addNames(names, n.names), {});\n    }\n}\nclass BlockNode extends ParentNode {\n    render(opts) {\n        return \"{\" + opts._n + super.render(opts) + \"}\" + opts._n;\n    }\n}\nclass Root extends ParentNode {\n}\nclass Else extends BlockNode {\n}\nElse.kind = \"else\";\nclass If extends BlockNode {\n    constructor(condition, nodes) {\n        super(nodes);\n        this.condition = condition;\n    }\n    render(opts) {\n        let code = `if(${this.condition})` + super.render(opts);\n        if (this.else)\n            code += \"else \" + this.else.render(opts);\n        return code;\n    }\n    optimizeNodes() {\n        super.optimizeNodes();\n        const cond = this.condition;\n        if (cond === true)\n            return this.nodes; // else is ignored here\n        let e = this.else;\n        if (e) {\n            const ns = e.optimizeNodes();\n            e = this.else = Array.isArray(ns) ? new Else(ns) : ns;\n        }\n        if (e) {\n            if (cond === false)\n                return e instanceof If ? e : e.nodes;\n            if (this.nodes.length)\n                return this;\n            return new If(not(cond), e instanceof If ? [e] : e.nodes);\n        }\n        if (cond === false || !this.nodes.length)\n            return undefined;\n        return this;\n    }\n    optimizeNames(names, constants) {\n        var _a;\n        this.else = (_a = this.else) === null || _a === void 0 ? void 0 : _a.optimizeNames(names, constants);\n        if (!(super.optimizeNames(names, constants) || this.else))\n            return;\n        this.condition = optimizeExpr(this.condition, names, constants);\n        return this;\n    }\n    get names() {\n        const names = super.names;\n        addExprNames(names, this.condition);\n        if (this.else)\n            addNames(names, this.else.names);\n        return names;\n    }\n}\nIf.kind = \"if\";\nclass For extends BlockNode {\n}\nFor.kind = \"for\";\nclass ForLoop extends For {\n    constructor(iteration) {\n        super();\n        this.iteration = iteration;\n    }\n    render(opts) {\n        return `for(${this.iteration})` + super.render(opts);\n    }\n    optimizeNames(names, constants) {\n        if (!super.optimizeNames(names, constants))\n            return;\n        this.iteration = optimizeExpr(this.iteration, names, constants);\n        return this;\n    }\n    get names() {\n        return addNames(super.names, this.iteration.names);\n    }\n}\nclass ForRange extends For {\n    constructor(varKind, name, from, to) {\n        super();\n        this.varKind = varKind;\n        this.name = name;\n        this.from = from;\n        this.to = to;\n    }\n    render(opts) {\n        const varKind = opts.es5 ? scope_1.varKinds.var : this.varKind;\n        const { name, from, to } = this;\n        return `for(${varKind} ${name}=${from}; ${name}<${to}; ${name}++)` + super.render(opts);\n    }\n    get names() {\n        const names = addExprNames(super.names, this.from);\n        return addExprNames(names, this.to);\n    }\n}\nclass ForIter extends For {\n    constructor(loop, varKind, name, iterable) {\n        super();\n        this.loop = loop;\n        this.varKind = varKind;\n        this.name = name;\n        this.iterable = iterable;\n    }\n    render(opts) {\n        return `for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})` + super.render(opts);\n    }\n    optimizeNames(names, constants) {\n        if (!super.optimizeNames(names, constants))\n            return;\n        this.iterable = optimizeExpr(this.iterable, names, constants);\n        return this;\n    }\n    get names() {\n        return addNames(super.names, this.iterable.names);\n    }\n}\nclass Func extends BlockNode {\n    constructor(name, args, async) {\n        super();\n        this.name = name;\n        this.args = args;\n        this.async = async;\n    }\n    render(opts) {\n        const _async = this.async ? \"async \" : \"\";\n        return `${_async}function ${this.name}(${this.args})` + super.render(opts);\n    }\n}\nFunc.kind = \"func\";\nclass Return extends ParentNode {\n    render(opts) {\n        return \"return \" + super.render(opts);\n    }\n}\nReturn.kind = \"return\";\nclass Try extends BlockNode {\n    render(opts) {\n        let code = \"try\" + super.render(opts);\n        if (this.catch)\n            code += this.catch.render(opts);\n        if (this.finally)\n            code += this.finally.render(opts);\n        return code;\n    }\n    optimizeNodes() {\n        var _a, _b;\n        super.optimizeNodes();\n        (_a = this.catch) === null || _a === void 0 ? void 0 : _a.optimizeNodes();\n        (_b = this.finally) === null || _b === void 0 ? void 0 : _b.optimizeNodes();\n        return this;\n    }\n    optimizeNames(names, constants) {\n        var _a, _b;\n        super.optimizeNames(names, constants);\n        (_a = this.catch) === null || _a === void 0 ? void 0 : _a.optimizeNames(names, constants);\n        (_b = this.finally) === null || _b === void 0 ? void 0 : _b.optimizeNames(names, constants);\n        return this;\n    }\n    get names() {\n        const names = super.names;\n        if (this.catch)\n            addNames(names, this.catch.names);\n        if (this.finally)\n            addNames(names, this.finally.names);\n        return names;\n    }\n}\nclass Catch extends BlockNode {\n    constructor(error) {\n        super();\n        this.error = error;\n    }\n    render(opts) {\n        return `catch(${this.error})` + super.render(opts);\n    }\n}\nCatch.kind = \"catch\";\nclass Finally extends BlockNode {\n    render(opts) {\n        return \"finally\" + super.render(opts);\n    }\n}\nFinally.kind = \"finally\";\nclass CodeGen {\n    constructor(extScope, opts = {}) {\n        this._values = {};\n        this._blockStarts = [];\n        this._constants = {};\n        this.opts = { ...opts, _n: opts.lines ? \"\\n\" : \"\" };\n        this._extScope = extScope;\n        this._scope = new scope_1.Scope({ parent: extScope });\n        this._nodes = [new Root()];\n    }\n    toString() {\n        return this._root.render(this.opts);\n    }\n    // returns unique name in the internal scope\n    name(prefix) {\n        return this._scope.name(prefix);\n    }\n    // reserves unique name in the external scope\n    scopeName(prefix) {\n        return this._extScope.name(prefix);\n    }\n    // reserves unique name in the external scope and assigns value to it\n    scopeValue(prefixOrName, value) {\n        const name = this._extScope.value(prefixOrName, value);\n        const vs = this._values[name.prefix] || (this._values[name.prefix] = new Set());\n        vs.add(name);\n        return name;\n    }\n    getScopeValue(prefix, keyOrRef) {\n        return this._extScope.getValue(prefix, keyOrRef);\n    }\n    // return code that assigns values in the external scope to the names that are used internally\n    // (same names that were returned by gen.scopeName or gen.scopeValue)\n    scopeRefs(scopeName) {\n        return this._extScope.scopeRefs(scopeName, this._values);\n    }\n    scopeCode() {\n        return this._extScope.scopeCode(this._values);\n    }\n    _def(varKind, nameOrPrefix, rhs, constant) {\n        const name = this._scope.toName(nameOrPrefix);\n        if (rhs !== undefined && constant)\n            this._constants[name.str] = rhs;\n        this._leafNode(new Def(varKind, name, rhs));\n        return name;\n    }\n    // `const` declaration (`var` in es5 mode)\n    const(nameOrPrefix, rhs, _constant) {\n        return this._def(scope_1.varKinds.const, nameOrPrefix, rhs, _constant);\n    }\n    // `let` declaration with optional assignment (`var` in es5 mode)\n    let(nameOrPrefix, rhs, _constant) {\n        return this._def(scope_1.varKinds.let, nameOrPrefix, rhs, _constant);\n    }\n    // `var` declaration with optional assignment\n    var(nameOrPrefix, rhs, _constant) {\n        return this._def(scope_1.varKinds.var, nameOrPrefix, rhs, _constant);\n    }\n    // assignment code\n    assign(lhs, rhs, sideEffects) {\n        return this._leafNode(new Assign(lhs, rhs, sideEffects));\n    }\n    // `+=` code\n    add(lhs, rhs) {\n        return this._leafNode(new AssignOp(lhs, exports.operators.ADD, rhs));\n    }\n    // appends passed SafeExpr to code or executes Block\n    code(c) {\n        if (typeof c == \"function\")\n            c();\n        else if (c !== code_1.nil)\n            this._leafNode(new AnyCode(c));\n        return this;\n    }\n    // returns code for object literal for the passed argument list of key-value pairs\n    object(...keyValues) {\n        const code = [\"{\"];\n        for (const [key, value] of keyValues) {\n            if (code.length > 1)\n                code.push(\",\");\n            code.push(key);\n            if (key !== value || this.opts.es5) {\n                code.push(\":\");\n                code_1.addCodeArg(code, value);\n            }\n        }\n        code.push(\"}\");\n        return new code_1._Code(code);\n    }\n    // `if` clause (or statement if `thenBody` and, optionally, `elseBody` are passed)\n    if(condition, thenBody, elseBody) {\n        this._blockNode(new If(condition));\n        if (thenBody && elseBody) {\n            this.code(thenBody).else().code(elseBody).endIf();\n        }\n        else if (thenBody) {\n            this.code(thenBody).endIf();\n        }\n        else if (elseBody) {\n            throw new Error('CodeGen: \"else\" body without \"then\" body');\n        }\n        return this;\n    }\n    // `else if` clause - invalid without `if` or after `else` clauses\n    elseIf(condition) {\n        return this._elseNode(new If(condition));\n    }\n    // `else` clause - only valid after `if` or `else if` clauses\n    else() {\n        return this._elseNode(new Else());\n    }\n    // end `if` statement (needed if gen.if was used only with condition)\n    endIf() {\n        return this._endBlockNode(If, Else);\n    }\n    _for(node, forBody) {\n        this._blockNode(node);\n        if (forBody)\n            this.code(forBody).endFor();\n        return this;\n    }\n    // a generic `for` clause (or statement if `forBody` is passed)\n    for(iteration, forBody) {\n        return this._for(new ForLoop(iteration), forBody);\n    }\n    // `for` statement for a range of values\n    forRange(nameOrPrefix, from, to, forBody, varKind = this.opts.es5 ? scope_1.varKinds.var : scope_1.varKinds.let) {\n        const name = this._scope.toName(nameOrPrefix);\n        return this._for(new ForRange(varKind, name, from, to), () => forBody(name));\n    }\n    // `for-of` statement (in es5 mode replace with a normal for loop)\n    forOf(nameOrPrefix, iterable, forBody, varKind = scope_1.varKinds.const) {\n        const name = this._scope.toName(nameOrPrefix);\n        if (this.opts.es5) {\n            const arr = iterable instanceof code_1.Name ? iterable : this.var(\"_arr\", iterable);\n            return this.forRange(\"_i\", 0, code_1._ `${arr}.length`, (i) => {\n                this.var(name, code_1._ `${arr}[${i}]`);\n                forBody(name);\n            });\n        }\n        return this._for(new ForIter(\"of\", varKind, name, iterable), () => forBody(name));\n    }\n    // `for-in` statement.\n    // With option `ownProperties` replaced with a `for-of` loop for object keys\n    forIn(nameOrPrefix, obj, forBody, varKind = this.opts.es5 ? scope_1.varKinds.var : scope_1.varKinds.const) {\n        if (this.opts.ownProperties) {\n            return this.forOf(nameOrPrefix, code_1._ `Object.keys(${obj})`, forBody);\n        }\n        const name = this._scope.toName(nameOrPrefix);\n        return this._for(new ForIter(\"in\", varKind, name, obj), () => forBody(name));\n    }\n    // end `for` loop\n    endFor() {\n        return this._endBlockNode(For);\n    }\n    // `label` statement\n    label(label) {\n        return this._leafNode(new Label(label));\n    }\n    // `break` statement\n    break(label) {\n        return this._leafNode(new Break(label));\n    }\n    // `return` statement\n    return(value) {\n        const node = new Return();\n        this._blockNode(node);\n        this.code(value);\n        if (node.nodes.length !== 1)\n            throw new Error('CodeGen: \"return\" should have one node');\n        return this._endBlockNode(Return);\n    }\n    // `try` statement\n    try(tryBody, catchCode, finallyCode) {\n        if (!catchCode && !finallyCode)\n            throw new Error('CodeGen: \"try\" without \"catch\" and \"finally\"');\n        const node = new Try();\n        this._blockNode(node);\n        this.code(tryBody);\n        if (catchCode) {\n            const error = this.name(\"e\");\n            this._currNode = node.catch = new Catch(error);\n            catchCode(error);\n        }\n        if (finallyCode) {\n            this._currNode = node.finally = new Finally();\n            this.code(finallyCode);\n        }\n        return this._endBlockNode(Catch, Finally);\n    }\n    // `throw` statement\n    throw(error) {\n        return this._leafNode(new Throw(error));\n    }\n    // start self-balancing block\n    block(body, nodeCount) {\n        this._blockStarts.push(this._nodes.length);\n        if (body)\n            this.code(body).endBlock(nodeCount);\n        return this;\n    }\n    // end the current self-balancing block\n    endBlock(nodeCount) {\n        const len = this._blockStarts.pop();\n        if (len === undefined)\n            throw new Error(\"CodeGen: not in self-balancing block\");\n        const toClose = this._nodes.length - len;\n        if (toClose < 0 || (nodeCount !== undefined && toClose !== nodeCount)) {\n            throw new Error(`CodeGen: wrong number of nodes: ${toClose} vs ${nodeCount} expected`);\n        }\n        this._nodes.length = len;\n        return this;\n    }\n    // `function` heading (or definition if funcBody is passed)\n    func(name, args = code_1.nil, async, funcBody) {\n        this._blockNode(new Func(name, args, async));\n        if (funcBody)\n            this.code(funcBody).endFunc();\n        return this;\n    }\n    // end function definition\n    endFunc() {\n        return this._endBlockNode(Func);\n    }\n    optimize(n = 1) {\n        while (n-- > 0) {\n            this._root.optimizeNodes();\n            this._root.optimizeNames(this._root.names, this._constants);\n        }\n    }\n    _leafNode(node) {\n        this._currNode.nodes.push(node);\n        return this;\n    }\n    _blockNode(node) {\n        this._currNode.nodes.push(node);\n        this._nodes.push(node);\n    }\n    _endBlockNode(N1, N2) {\n        const n = this._currNode;\n        if (n instanceof N1 || (N2 && n instanceof N2)) {\n            this._nodes.pop();\n            return this;\n        }\n        throw new Error(`CodeGen: not in block \"${N2 ? `${N1.kind}/${N2.kind}` : N1.kind}\"`);\n    }\n    _elseNode(node) {\n        const n = this._currNode;\n        if (!(n instanceof If)) {\n            throw new Error('CodeGen: \"else\" without \"if\"');\n        }\n        this._currNode = n.else = node;\n        return this;\n    }\n    get _root() {\n        return this._nodes[0];\n    }\n    get _currNode() {\n        const ns = this._nodes;\n        return ns[ns.length - 1];\n    }\n    set _currNode(node) {\n        const ns = this._nodes;\n        ns[ns.length - 1] = node;\n    }\n}\nexports.CodeGen = CodeGen;\nfunction addNames(names, from) {\n    for (const n in from)\n        names[n] = (names[n] || 0) + (from[n] || 0);\n    return names;\n}\nfunction addExprNames(names, from) {\n    return from instanceof code_1._CodeOrName ? addNames(names, from.names) : names;\n}\nfunction optimizeExpr(expr, names, constants) {\n    if (expr instanceof code_1.Name)\n        return replaceName(expr);\n    if (!canOptimize(expr))\n        return expr;\n    return new code_1._Code(expr._items.reduce((items, c) => {\n        if (c instanceof code_1.Name)\n            c = replaceName(c);\n        if (c instanceof code_1._Code)\n            items.push(...c._items);\n        else\n            items.push(c);\n        return items;\n    }, []));\n    function replaceName(n) {\n        const c = constants[n.str];\n        if (c === undefined || names[n.str] !== 1)\n            return n;\n        delete names[n.str];\n        return c;\n    }\n    function canOptimize(e) {\n        return (e instanceof code_1._Code &&\n            e._items.some((c) => c instanceof code_1.Name && names[c.str] === 1 && constants[c.str] !== undefined));\n    }\n}\nfunction subtractNames(names, from) {\n    for (const n in from)\n        names[n] = (names[n] || 0) - (from[n] || 0);\n}\nfunction not(x) {\n    return typeof x == \"boolean\" || typeof x == \"number\" || x === null ? !x : code_1._ `!${par(x)}`;\n}\nexports.not = not;\nconst andCode = mappend(exports.operators.AND);\n// boolean AND (&&) expression with the passed arguments\nfunction and(...args) {\n    return args.reduce(andCode);\n}\nexports.and = and;\nconst orCode = mappend(exports.operators.OR);\n// boolean OR (||) expression with the passed arguments\nfunction or(...args) {\n    return args.reduce(orCode);\n}\nexports.or = or;\nfunction mappend(op) {\n    return (x, y) => (x === code_1.nil ? y : y === code_1.nil ? x : code_1._ `${par(x)} ${op} ${par(y)}`);\n}\nfunction par(x) {\n    return x instanceof code_1.Name ? x : code_1._ `(${x})`;\n}\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ValueScope = exports.ValueScopeName = exports.Scope = exports.varKinds = exports.UsedValueState = void 0;\nconst code_1 = require(\"./code\");\nclass ValueError extends Error {\n    constructor(name) {\n        super(`CodeGen: \"code\" for ${name} not defined`);\n        this.value = name.value;\n    }\n}\nvar UsedValueState;\n(function (UsedValueState) {\n    UsedValueState[UsedValueState[\"Started\"] = 0] = \"Started\";\n    UsedValueState[UsedValueState[\"Completed\"] = 1] = \"Completed\";\n})(UsedValueState = exports.UsedValueState || (exports.UsedValueState = {}));\nexports.varKinds = {\n    const: new code_1.Name(\"const\"),\n    let: new code_1.Name(\"let\"),\n    var: new code_1.Name(\"var\"),\n};\nclass Scope {\n    constructor({ prefixes, parent } = {}) {\n        this._names = {};\n        this._prefixes = prefixes;\n        this._parent = parent;\n    }\n    toName(nameOrPrefix) {\n        return nameOrPrefix instanceof code_1.Name ? nameOrPrefix : this.name(nameOrPrefix);\n    }\n    name(prefix) {\n        return new code_1.Name(this._newName(prefix));\n    }\n    _newName(prefix) {\n        const ng = this._names[prefix] || this._nameGroup(prefix);\n        return `${prefix}${ng.index++}`;\n    }\n    _nameGroup(prefix) {\n        var _a, _b;\n        if (((_b = (_a = this._parent) === null || _a === void 0 ? void 0 : _a._prefixes) === null || _b === void 0 ? void 0 : _b.has(prefix)) || (this._prefixes && !this._prefixes.has(prefix))) {\n            throw new Error(`CodeGen: prefix \"${prefix}\" is not allowed in this scope`);\n        }\n        return (this._names[prefix] = { prefix, index: 0 });\n    }\n}\nexports.Scope = Scope;\nclass ValueScopeName extends code_1.Name {\n    constructor(prefix, nameStr) {\n        super(nameStr);\n        this.prefix = prefix;\n    }\n    setValue(value, { property, itemIndex }) {\n        this.value = value;\n        this.scopePath = code_1._ `.${new code_1.Name(property)}[${itemIndex}]`;\n    }\n}\nexports.ValueScopeName = ValueScopeName;\nconst line = code_1._ `\\n`;\nclass ValueScope extends Scope {\n    constructor(opts) {\n        super(opts);\n        this._values = {};\n        this._scope = opts.scope;\n        this.opts = { ...opts, _n: opts.lines ? line : code_1.nil };\n    }\n    get() {\n        return this._scope;\n    }\n    name(prefix) {\n        return new ValueScopeName(prefix, this._newName(prefix));\n    }\n    value(nameOrPrefix, value) {\n        var _a;\n        if (value.ref === undefined)\n            throw new Error(\"CodeGen: ref must be passed in value\");\n        const name = this.toName(nameOrPrefix);\n        const { prefix } = name;\n        const valueKey = (_a = value.key) !== null && _a !== void 0 ? _a : value.ref;\n        let vs = this._values[prefix];\n        if (vs) {\n            const _name = vs.get(valueKey);\n            if (_name)\n                return _name;\n        }\n        else {\n            vs = this._values[prefix] = new Map();\n        }\n        vs.set(valueKey, name);\n        const s = this._scope[prefix] || (this._scope[prefix] = []);\n        const itemIndex = s.length;\n        s[itemIndex] = value.ref;\n        name.setValue(value, { property: prefix, itemIndex });\n        return name;\n    }\n    getValue(prefix, keyOrRef) {\n        const vs = this._values[prefix];\n        if (!vs)\n            return;\n        return vs.get(keyOrRef);\n    }\n    scopeRefs(scopeName, values = this._values) {\n        return this._reduceValues(values, (name) => {\n            if (name.scopePath === undefined)\n                throw new Error(`CodeGen: name \"${name}\" has no value`);\n            return code_1._ `${scopeName}${name.scopePath}`;\n        });\n    }\n    scopeCode(values = this._values, usedValues, getCode) {\n        return this._reduceValues(values, (name) => {\n            if (name.value === undefined)\n                throw new Error(`CodeGen: name \"${name}\" has no value`);\n            return name.value.code;\n        }, usedValues, getCode);\n    }\n    _reduceValues(values, valueCode, usedValues = {}, getCode) {\n        let code = code_1.nil;\n        for (const prefix in values) {\n            const vs = values[prefix];\n            if (!vs)\n                continue;\n            const nameSet = (usedValues[prefix] = usedValues[prefix] || new Map());\n            vs.forEach((name) => {\n                if (nameSet.has(name))\n                    return;\n                nameSet.set(name, UsedValueState.Started);\n                let c = valueCode(name);\n                if (c) {\n                    const def = this.opts.es5 ? exports.varKinds.var : exports.varKinds.const;\n                    code = code_1._ `${code}${def} ${name} = ${c};${this.opts._n}`;\n                }\n                else if ((c = getCode === null || getCode === void 0 ? void 0 : getCode(name))) {\n                    code = code_1._ `${code}${c}${this.opts._n}`;\n                }\n                else {\n                    throw new ValueError(name);\n                }\n                nameSet.set(name, UsedValueState.Completed);\n            });\n        }\n        return code;\n    }\n}\nexports.ValueScope = ValueScope;\n//# sourceMappingURL=scope.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getData = void 0;\nconst dataType_1 = require(\"./validate/dataType\");\nconst util_1 = require(\"./util\");\nconst errors_1 = require(\"./errors\");\nconst codegen_1 = require(\"./codegen\");\nconst names_1 = require(\"./names\");\nconst subschema_1 = require(\"./subschema\");\nclass KeywordCxt {\n    constructor(it, def, keyword) {\n        validateKeywordUsage(it, def, keyword);\n        this.gen = it.gen;\n        this.allErrors = it.allErrors;\n        this.keyword = keyword;\n        this.data = it.data;\n        this.schema = it.schema[keyword];\n        this.$data = def.$data && it.opts.$data && this.schema && this.schema.$data;\n        this.schemaValue = util_1.schemaRefOrVal(it, this.schema, keyword, this.$data);\n        this.schemaType = def.schemaType;\n        this.parentSchema = it.schema;\n        this.params = {};\n        this.it = it;\n        this.def = def;\n        if (this.$data) {\n            this.schemaCode = it.gen.const(\"vSchema\", getData(this.$data, it));\n        }\n        else {\n            this.schemaCode = this.schemaValue;\n            if (!validSchemaType(this.schema, def.schemaType, def.allowUndefined)) {\n                throw new Error(`${keyword} value must be ${JSON.stringify(def.schemaType)}`);\n            }\n        }\n        if (\"code\" in def ? def.trackErrors : def.errors !== false) {\n            this.errsCount = it.gen.const(\"_errs\", names_1.default.errors);\n        }\n    }\n    result(condition, successAction, failAction) {\n        this.gen.if(codegen_1.not(condition));\n        if (failAction)\n            failAction();\n        else\n            this.error();\n        if (successAction) {\n            this.gen.else();\n            successAction();\n            if (this.allErrors)\n                this.gen.endIf();\n        }\n        else {\n            if (this.allErrors)\n                this.gen.endIf();\n            else\n                this.gen.else();\n        }\n    }\n    pass(condition, failAction) {\n        this.result(condition, undefined, failAction);\n    }\n    fail(condition) {\n        if (condition === undefined) {\n            this.error();\n            if (!this.allErrors)\n                this.gen.if(false); // this branch will be removed by gen.optimize\n            return;\n        }\n        this.gen.if(condition);\n        this.error();\n        if (this.allErrors)\n            this.gen.endIf();\n        else\n            this.gen.else();\n    }\n    fail$data(condition) {\n        if (!this.$data)\n            return this.fail(condition);\n        const { schemaCode } = this;\n        this.fail(codegen_1._ `${schemaCode} !== undefined && (${codegen_1.or(this.invalid$data(), condition)})`);\n    }\n    error(append) {\n        ;\n        (append ? errors_1.reportExtraError : errors_1.reportError)(this, this.def.error);\n    }\n    $dataError() {\n        errors_1.reportError(this, this.def.$dataError || errors_1.keyword$DataError);\n    }\n    reset() {\n        if (this.errsCount === undefined)\n            throw new Error('add \"trackErrors\" to keyword definition');\n        errors_1.resetErrorsCount(this.gen, this.errsCount);\n    }\n    ok(cond) {\n        if (!this.allErrors)\n            this.gen.if(cond);\n    }\n    setParams(obj, assign) {\n        if (assign)\n            Object.assign(this.params, obj);\n        else\n            this.params = obj;\n    }\n    block$data(valid, codeBlock, $dataValid = codegen_1.nil) {\n        this.gen.block(() => {\n            this.check$data(valid, $dataValid);\n            codeBlock();\n        });\n    }\n    check$data(valid = codegen_1.nil, $dataValid = codegen_1.nil) {\n        if (!this.$data)\n            return;\n        const { gen, schemaCode, schemaType, def } = this;\n        gen.if(codegen_1.or(codegen_1._ `${schemaCode} === undefined`, $dataValid));\n        if (valid !== codegen_1.nil)\n            gen.assign(valid, true);\n        if (schemaType.length || def.validateSchema) {\n            gen.elseIf(this.invalid$data());\n            this.$dataError();\n            if (valid !== codegen_1.nil)\n                gen.assign(valid, false);\n        }\n        gen.else();\n    }\n    invalid$data() {\n        const { gen, schemaCode, schemaType, def, it } = this;\n        return codegen_1.or(wrong$DataType(), invalid$DataSchema());\n        function wrong$DataType() {\n            if (schemaType.length) {\n                /* istanbul ignore if */\n                if (!(schemaCode instanceof codegen_1.Name))\n                    throw new Error(\"ajv implementation error\");\n                const st = Array.isArray(schemaType) ? schemaType : [schemaType];\n                return codegen_1._ `${dataType_1.checkDataTypes(st, schemaCode, it.opts.strict, dataType_1.DataType.Wrong)}`;\n            }\n            return codegen_1.nil;\n        }\n        function invalid$DataSchema() {\n            if (def.validateSchema) {\n                const validateSchemaRef = gen.scopeValue(\"validate$data\", { ref: def.validateSchema }); // TODO value.code for standalone\n                return codegen_1._ `!${validateSchemaRef}(${schemaCode})`;\n            }\n            return codegen_1.nil;\n        }\n    }\n    subschema(appl, valid) {\n        return subschema_1.applySubschema(this.it, appl, valid);\n    }\n    mergeEvaluated(schemaCxt, toName) {\n        const { it, gen } = this;\n        if (!it.opts.unevaluated)\n            return;\n        if (it.props !== true && schemaCxt.props !== undefined) {\n            it.props = util_1.mergeEvaluated.props(gen, schemaCxt.props, it.props, toName);\n        }\n        if (it.items !== true && schemaCxt.items !== undefined) {\n            it.items = util_1.mergeEvaluated.items(gen, schemaCxt.items, it.items, toName);\n        }\n    }\n    mergeValidEvaluated(schemaCxt, valid) {\n        const { it, gen } = this;\n        if (it.opts.unevaluated && (it.props !== true || it.items !== true)) {\n            gen.if(valid, () => this.mergeEvaluated(schemaCxt, codegen_1.Name));\n            return true;\n        }\n    }\n}\nexports.default = KeywordCxt;\nfunction validSchemaType(schema, schemaType, allowUndefined = false) {\n    // TODO add tests\n    return (!schemaType.length ||\n        schemaType.some((st) => st === \"array\"\n            ? Array.isArray(schema)\n            : st === \"object\"\n                ? schema && typeof schema == \"object\" && !Array.isArray(schema)\n                : typeof schema == st || (allowUndefined && typeof schema == \"undefined\")));\n}\nfunction validateKeywordUsage({ schema, opts, self }, def, keyword) {\n    /* istanbul ignore if */\n    if (Array.isArray(def.keyword) ? !def.keyword.includes(keyword) : def.keyword !== keyword) {\n        throw new Error(\"ajv implementation error\");\n    }\n    const deps = def.dependencies;\n    if (deps === null || deps === void 0 ? void 0 : deps.some((kwd) => !Object.prototype.hasOwnProperty.call(schema, kwd))) {\n        throw new Error(`parent schema must have dependencies of ${keyword}: ${deps.join(\",\")}`);\n    }\n    if (def.validateSchema) {\n        const valid = def.validateSchema(schema[keyword]);\n        if (!valid) {\n            const msg = \"keyword value is invalid: \" + self.errorsText(def.validateSchema.errors);\n            if (opts.validateSchema === \"log\")\n                self.logger.error(msg);\n            else\n                throw new Error(msg);\n        }\n    }\n}\nconst JSON_POINTER = /^\\/(?:[^~]|~0|~1)*$/;\nconst RELATIVE_JSON_POINTER = /^([0-9]+)(#|\\/(?:[^~]|~0|~1)*)?$/;\nfunction getData($data, { dataLevel, dataNames, dataPathArr }) {\n    let jsonPointer;\n    let data;\n    if ($data === \"\")\n        return names_1.default.rootData;\n    if ($data[0] === \"/\") {\n        if (!JSON_POINTER.test($data))\n            throw new Error(`Invalid JSON-pointer: ${$data}`);\n        jsonPointer = $data;\n        data = names_1.default.rootData;\n    }\n    else {\n        const matches = RELATIVE_JSON_POINTER.exec($data);\n        if (!matches)\n            throw new Error(`Invalid JSON-pointer: ${$data}`);\n        const up = +matches[1];\n        jsonPointer = matches[2];\n        if (jsonPointer === \"#\") {\n            if (up >= dataLevel)\n                throw new Error(errorMsg(\"property/index\", up));\n            return dataPathArr[dataLevel - up];\n        }\n        if (up > dataLevel)\n            throw new Error(errorMsg(\"data\", up));\n        data = dataNames[dataLevel - up];\n        if (!jsonPointer)\n            return data;\n    }\n    let expr = data;\n    const segments = jsonPointer.split(\"/\");\n    for (const segment of segments) {\n        if (segment) {\n            data = codegen_1._ `${data}${codegen_1.getProperty(util_1.unescapeJsonPointer(segment))}`;\n            expr = codegen_1._ `${expr} && ${data}`;\n        }\n    }\n    return expr;\n    function errorMsg(pointerType, up) {\n        return `Cannot access ${pointerType} ${up} levels up, current level is ${dataLevel}`;\n    }\n}\nexports.getData = getData;\n//# sourceMappingURL=context.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MissingRefError = exports.ValidationError = void 0;\nconst resolve_1 = require(\"./resolve\");\nclass ValidationError extends Error {\n    constructor(errors) {\n        super(\"validation failed\");\n        this.errors = errors;\n        this.ajv = this.validation = true;\n    }\n}\nexports.ValidationError = ValidationError;\nclass MissingRefError extends Error {\n    constructor(baseId, ref, msg) {\n        super(msg || `can't resolve reference ${ref} from id ${baseId}`);\n        this.missingRef = resolve_1.resolveUrl(baseId, ref);\n        this.missingSchema = resolve_1.normalizeId(resolve_1.getFullPath(this.missingRef));\n    }\n}\nexports.MissingRefError = MissingRefError;\nmodule.exports = {\n    ValidationError,\n    MissingRefError,\n};\n//# sourceMappingURL=error_classes.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.extendErrors = exports.resetErrorsCount = exports.reportExtraError = exports.reportError = exports.keyword$DataError = exports.keywordError = void 0;\nconst codegen_1 = require(\"./codegen\");\nconst names_1 = require(\"./names\");\nexports.keywordError = {\n    message: ({ keyword }) => codegen_1.str `should pass \"${keyword}\" keyword validation`,\n};\nexports.keyword$DataError = {\n    message: ({ keyword, schemaType }) => schemaType\n        ? codegen_1.str `\"${keyword}\" keyword must be ${schemaType} ($data)`\n        : codegen_1.str `\"${keyword}\" keyword is invalid ($data)`,\n};\nfunction reportError(cxt, error = exports.keywordError, overrideAllErrors) {\n    const { it } = cxt;\n    const { gen, compositeRule, allErrors } = it;\n    const errObj = errorObjectCode(cxt, error);\n    if (overrideAllErrors !== null && overrideAllErrors !== void 0 ? overrideAllErrors : (compositeRule || allErrors)) {\n        addError(gen, errObj);\n    }\n    else {\n        returnErrors(it, codegen_1._ `[${errObj}]`);\n    }\n}\nexports.reportError = reportError;\nfunction reportExtraError(cxt, error = exports.keywordError) {\n    const { it } = cxt;\n    const { gen, compositeRule, allErrors } = it;\n    const errObj = errorObjectCode(cxt, error);\n    addError(gen, errObj);\n    if (!(compositeRule || allErrors)) {\n        returnErrors(it, names_1.default.vErrors);\n    }\n}\nexports.reportExtraError = reportExtraError;\nfunction resetErrorsCount(gen, errsCount) {\n    gen.assign(names_1.default.errors, errsCount);\n    gen.if(codegen_1._ `${names_1.default.vErrors} !== null`, () => gen.if(errsCount, () => gen.assign(codegen_1._ `${names_1.default.vErrors}.length`, errsCount), () => gen.assign(names_1.default.vErrors, null)));\n}\nexports.resetErrorsCount = resetErrorsCount;\nfunction extendErrors({ gen, keyword, schemaValue, data, errsCount, it, }) {\n    /* istanbul ignore if */\n    if (errsCount === undefined)\n        throw new Error(\"ajv implementation error\");\n    const err = gen.name(\"err\");\n    gen.forRange(\"i\", errsCount, names_1.default.errors, (i) => {\n        gen.const(err, codegen_1._ `${names_1.default.vErrors}[${i}]`);\n        gen.if(codegen_1._ `${err}.dataPath === undefined`, () => gen.assign(codegen_1._ `${err}.dataPath`, codegen_1.strConcat(names_1.default.dataPath, it.errorPath)));\n        gen.assign(codegen_1._ `${err}.schemaPath`, codegen_1.str `${it.errSchemaPath}/${keyword}`);\n        if (it.opts.verbose) {\n            gen.assign(codegen_1._ `${err}.schema`, schemaValue);\n            gen.assign(codegen_1._ `${err}.data`, data);\n        }\n    });\n}\nexports.extendErrors = extendErrors;\nfunction addError(gen, errObj) {\n    const err = gen.const(\"err\", errObj);\n    gen.if(codegen_1._ `${names_1.default.vErrors} === null`, () => gen.assign(names_1.default.vErrors, codegen_1._ `[${err}]`), codegen_1._ `${names_1.default.vErrors}.push(${err})`);\n    gen.code(codegen_1._ `${names_1.default.errors}++`);\n}\nfunction returnErrors(it, errs) {\n    const { gen, validateName, schemaEnv } = it;\n    if (schemaEnv.$async) {\n        gen.throw(codegen_1._ `new ${it.ValidationError}(${errs})`);\n    }\n    else {\n        gen.assign(codegen_1._ `${validateName}.errors`, errs);\n        gen.return(false);\n    }\n}\nconst E = {\n    keyword: new codegen_1.Name(\"keyword\"),\n    schemaPath: new codegen_1.Name(\"schemaPath\"),\n    params: new codegen_1.Name(\"params\"),\n    propertyName: new codegen_1.Name(\"propertyName\"),\n    message: new codegen_1.Name(\"message\"),\n    schema: new codegen_1.Name(\"schema\"),\n    parentSchema: new codegen_1.Name(\"parentSchema\"),\n    // JTD error properties\n    instancePath: new codegen_1.Name(\"instancePath\"),\n};\nfunction errorObjectCode(cxt, error) {\n    const { createErrors, opts } = cxt.it;\n    if (createErrors === false)\n        return codegen_1._ `{}`;\n    return (opts.jtd && !opts.ajvErrors ? jtdErrorObject : ajvErrorObject)(cxt, error);\n}\nfunction jtdErrorObject(cxt, { message }) {\n    const { gen, keyword, it } = cxt;\n    const { errorPath, errSchemaPath, opts } = it;\n    const keyValues = [\n        [E.instancePath, codegen_1.strConcat(names_1.default.dataPath, errorPath)],\n        [E.schemaPath, codegen_1.str `${errSchemaPath}/${keyword}`],\n    ];\n    if (opts.messages) {\n        keyValues.push([E.message, typeof message == \"function\" ? message(cxt) : message]);\n    }\n    return gen.object(...keyValues);\n}\nfunction ajvErrorObject(cxt, error) {\n    const { gen, keyword, data, schemaValue, it } = cxt;\n    const { topSchemaRef, schemaPath, errorPath, errSchemaPath, propertyName, opts } = it;\n    const { params, message } = error;\n    const keyValues = [\n        [E.keyword, keyword],\n        [names_1.default.dataPath, codegen_1.strConcat(names_1.default.dataPath, errorPath)],\n        [E.schemaPath, codegen_1.str `${errSchemaPath}/${keyword}`],\n        [E.params, typeof params == \"function\" ? params(cxt) : params || codegen_1._ `{}`],\n    ];\n    if (propertyName)\n        keyValues.push([E.propertyName, propertyName]);\n    if (opts.messages) {\n        keyValues.push([E.message, typeof message == \"function\" ? message(cxt) : message]);\n    }\n    if (opts.verbose) {\n        keyValues.push([E.schema, schemaValue], [E.parentSchema, codegen_1._ `${topSchemaRef}${schemaPath}`], [names_1.default.data, data]);\n    }\n    return gen.object(...keyValues);\n}\n//# sourceMappingURL=errors.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.resolveSchema = exports.getCompilingSchema = exports.resolveRef = exports.compileSchema = exports.SchemaEnv = void 0;\nconst codegen_1 = require(\"./codegen\");\nconst error_classes_1 = require(\"./error_classes\");\nconst names_1 = require(\"./names\");\nconst resolve_1 = require(\"./resolve\");\nconst util_1 = require(\"./util\");\nconst validate_1 = require(\"./validate\");\nconst URI = require(\"uri-js\");\nclass SchemaEnv {\n    constructor(env) {\n        var _a;\n        this.refs = {};\n        this.dynamicAnchors = {};\n        let schema;\n        if (typeof env.schema == \"object\")\n            schema = env.schema;\n        this.schema = env.schema;\n        this.root = env.root || this;\n        this.baseId = (_a = env.baseId) !== null && _a !== void 0 ? _a : resolve_1.normalizeId(schema === null || schema === void 0 ? void 0 : schema.$id);\n        this.localRefs = env.localRefs;\n        this.meta = env.meta;\n        this.$async = schema === null || schema === void 0 ? void 0 : schema.$async;\n        this.refs = {};\n    }\n}\nexports.SchemaEnv = SchemaEnv;\n// let codeSize = 0\n// let nodeCount = 0\n// Compiles schema in SchemaEnv\nfunction compileSchema(sch) {\n    // TODO refactor - remove compilations\n    const _sch = getCompilingSchema.call(this, sch);\n    if (_sch)\n        return _sch;\n    const rootId = resolve_1.getFullPath(sch.root.baseId); // TODO if getFullPath removed 1 tests fails\n    const { es5, lines } = this.opts.code;\n    const { ownProperties } = this.opts;\n    const gen = new codegen_1.CodeGen(this.scope, { es5, lines, ownProperties });\n    let _ValidationError;\n    if (sch.$async) {\n        _ValidationError = gen.scopeValue(\"Error\", {\n            ref: error_classes_1.ValidationError,\n            code: codegen_1._ `require(\"ajv/dist/compile/error_classes\").ValidationError`,\n        });\n    }\n    const validateName = gen.scopeName(\"validate\");\n    sch.validateName = validateName;\n    const schemaCxt = {\n        gen,\n        allErrors: this.opts.allErrors,\n        data: names_1.default.data,\n        parentData: names_1.default.parentData,\n        parentDataProperty: names_1.default.parentDataProperty,\n        dataNames: [names_1.default.data],\n        dataPathArr: [codegen_1.nil],\n        dataLevel: 0,\n        dataTypes: [],\n        definedProperties: new Set(),\n        topSchemaRef: gen.scopeValue(\"schema\", this.opts.code.source === true\n            ? { ref: sch.schema, code: codegen_1.stringify(sch.schema) }\n            : { ref: sch.schema }),\n        validateName,\n        ValidationError: _ValidationError,\n        schema: sch.schema,\n        schemaEnv: sch,\n        rootId,\n        baseId: sch.baseId || rootId,\n        schemaPath: codegen_1.nil,\n        errSchemaPath: this.opts.jtd ? \"\" : \"#\",\n        errorPath: codegen_1._ `\"\"`,\n        opts: this.opts,\n        self: this,\n    };\n    let sourceCode;\n    try {\n        this._compilations.add(sch);\n        validate_1.validateFunctionCode(schemaCxt);\n        gen.optimize(this.opts.code.optimize);\n        // gen.optimize(1)\n        const validateCode = gen.toString();\n        sourceCode = `${gen.scopeRefs(names_1.default.scope)}return ${validateCode}`;\n        // console.log((codeSize += sourceCode.length), (nodeCount += gen.nodeCount))\n        if (this.opts.code.process)\n            sourceCode = this.opts.code.process(sourceCode, sch);\n        // console.log(\"\\n\\n\\n *** \\n\", sourceCode)\n        const makeValidate = new Function(`${names_1.default.self}`, `${names_1.default.scope}`, sourceCode);\n        const validate = makeValidate(this, this.scope.get());\n        this.scope.value(validateName, { ref: validate });\n        validate.errors = null;\n        validate.schema = sch.schema;\n        validate.schemaEnv = sch;\n        if (sch.$async)\n            validate.$async = true;\n        if (this.opts.code.source === true) {\n            validate.source = { validateName, validateCode, scopeValues: gen._values };\n        }\n        if (this.opts.unevaluated) {\n            const { props, items } = schemaCxt;\n            validate.evaluated = {\n                props: props instanceof codegen_1.Name ? undefined : props,\n                items: items instanceof codegen_1.Name ? undefined : items,\n                dynamicProps: props instanceof codegen_1.Name,\n                dynamicItems: items instanceof codegen_1.Name,\n            };\n            if (validate.source)\n                validate.source.evaluated = codegen_1.stringify(validate.evaluated);\n        }\n        sch.validate = validate;\n        return sch;\n    }\n    catch (e) {\n        delete sch.validate;\n        delete sch.validateName;\n        if (sourceCode)\n            this.logger.error(\"Error compiling schema, function code:\", sourceCode);\n        // console.log(\"\\n\\n\\n *** \\n\", sourceCode, this.opts)\n        throw e;\n    }\n    finally {\n        this._compilations.delete(sch);\n    }\n}\nexports.compileSchema = compileSchema;\nfunction resolveRef(root, baseId, ref) {\n    var _a;\n    ref = resolve_1.resolveUrl(baseId, ref);\n    const schOrFunc = root.refs[ref];\n    if (schOrFunc)\n        return schOrFunc;\n    let _sch = resolve.call(this, root, ref);\n    if (_sch === undefined) {\n        const schema = (_a = root.localRefs) === null || _a === void 0 ? void 0 : _a[ref]; // TODO maybe localRefs should hold SchemaEnv\n        if (schema)\n            _sch = new SchemaEnv({ schema, root, baseId });\n    }\n    if (_sch === undefined)\n        return;\n    return (root.refs[ref] = inlineOrCompile.call(this, _sch));\n}\nexports.resolveRef = resolveRef;\nfunction inlineOrCompile(sch) {\n    if (resolve_1.inlineRef(sch.schema, this.opts.inlineRefs))\n        return sch.schema;\n    return sch.validate ? sch : compileSchema.call(this, sch);\n}\n// Index of schema compilation in the currently compiled list\nfunction getCompilingSchema(schEnv) {\n    for (const sch of this._compilations) {\n        if (sameSchemaEnv(sch, schEnv))\n            return sch;\n    }\n}\nexports.getCompilingSchema = getCompilingSchema;\nfunction sameSchemaEnv(s1, s2) {\n    return s1.schema === s2.schema && s1.root === s2.root && s1.baseId === s2.baseId;\n}\n// resolve and compile the references ($ref)\n// TODO returns AnySchemaObject (if the schema can be inlined) or validation function\nfunction resolve(root, // information about the root schema for the current schema\nref // reference to resolve\n) {\n    let sch;\n    while (typeof (sch = this.refs[ref]) == \"string\")\n        ref = sch;\n    return sch || this.schemas[ref] || resolveSchema.call(this, root, ref);\n}\n// Resolve schema, its root and baseId\nfunction resolveSchema(root, // root object with properties schema, refs TODO below SchemaEnv is assigned to it\nref // reference to resolve\n) {\n    const p = URI.parse(ref);\n    const refPath = resolve_1._getFullPath(p);\n    let baseId = resolve_1.getFullPath(root.baseId);\n    // TODO `Object.keys(root.schema).length > 0` should not be needed - but removing breaks 2 tests\n    if (Object.keys(root.schema).length > 0 && refPath === baseId) {\n        return getJsonPointer.call(this, p, root);\n    }\n    const id = resolve_1.normalizeId(refPath);\n    const schOrRef = this.refs[id] || this.schemas[id];\n    if (typeof schOrRef == \"string\") {\n        const sch = resolveSchema.call(this, root, schOrRef);\n        if (typeof (sch === null || sch === void 0 ? void 0 : sch.schema) !== \"object\")\n            return;\n        return getJsonPointer.call(this, p, sch);\n    }\n    if (typeof (schOrRef === null || schOrRef === void 0 ? void 0 : schOrRef.schema) !== \"object\")\n        return;\n    if (!schOrRef.validate)\n        compileSchema.call(this, schOrRef);\n    if (id === resolve_1.normalizeId(ref)) {\n        const { schema } = schOrRef;\n        if (schema.$id)\n            baseId = resolve_1.resolveUrl(baseId, schema.$id);\n        return new SchemaEnv({ schema, root, baseId });\n    }\n    return getJsonPointer.call(this, p, schOrRef);\n}\nexports.resolveSchema = resolveSchema;\nconst PREVENT_SCOPE_CHANGE = new Set([\n    \"properties\",\n    \"patternProperties\",\n    \"enum\",\n    \"dependencies\",\n    \"definitions\",\n]);\nfunction getJsonPointer(parsedRef, { baseId, schema, root }) {\n    var _a;\n    if (((_a = parsedRef.fragment) === null || _a === void 0 ? void 0 : _a[0]) !== \"/\")\n        return;\n    for (const part of parsedRef.fragment.slice(1).split(\"/\")) {\n        if (typeof schema == \"boolean\")\n            return;\n        schema = schema[util_1.unescapeFragment(part)];\n        if (schema === undefined)\n            return;\n        // TODO PREVENT_SCOPE_CHANGE could be defined in keyword def?\n        if (!PREVENT_SCOPE_CHANGE.has(part) && typeof schema == \"object\" && schema.$id) {\n            baseId = resolve_1.resolveUrl(baseId, schema.$id);\n        }\n    }\n    let env;\n    if (typeof schema != \"boolean\" && schema.$ref && !util_1.schemaHasRulesButRef(schema, this.RULES)) {\n        const $ref = resolve_1.resolveUrl(baseId, schema.$ref);\n        env = resolveSchema.call(this, root, $ref);\n    }\n    // even though resolution failed we need to return SchemaEnv to throw exception\n    // so that compileAsync loads missing schema.\n    env = env || new SchemaEnv({ schema, root, baseId });\n    if (env.schema !== env.root.schema)\n        return env;\n    return undefined;\n}\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"./codegen\");\nconst names = {\n    // validation function arguments\n    data: new codegen_1.Name(\"data\"),\n    // args passed from referencing schema\n    valCxt: new codegen_1.Name(\"valCxt\"),\n    dataPath: new codegen_1.Name(\"dataPath\"),\n    parentData: new codegen_1.Name(\"parentData\"),\n    parentDataProperty: new codegen_1.Name(\"parentDataProperty\"),\n    rootData: new codegen_1.Name(\"rootData\"),\n    dynamicAnchors: new codegen_1.Name(\"dynamicAnchors\"),\n    // function scoped variables\n    vErrors: new codegen_1.Name(\"vErrors\"),\n    errors: new codegen_1.Name(\"errors\"),\n    this: new codegen_1.Name(\"this\"),\n    // \"globals\"\n    self: new codegen_1.Name(\"self\"),\n    scope: new codegen_1.Name(\"scope\"),\n    // JTD serialize/parse name for JSON string and position\n    json: new codegen_1.Name(\"json\"),\n    jsonPos: new codegen_1.Name(\"jsonPos\"),\n    jsonLen: new codegen_1.Name(\"jsonLen\"),\n    jsonPart: new codegen_1.Name(\"jsonPart\"),\n};\nexports.default = names;\n//# sourceMappingURL=names.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getSchemaRefs = exports.resolveUrl = exports.normalizeId = exports._getFullPath = exports.getFullPath = exports.inlineRef = void 0;\nconst util_1 = require(\"./util\");\nconst equal = require(\"fast-deep-equal\");\nconst traverse = require(\"json-schema-traverse\");\nconst URI = require(\"uri-js\");\n// TODO refactor to use keyword definitions\nconst SIMPLE_INLINED = new Set([\n    \"type\",\n    \"format\",\n    \"pattern\",\n    \"maxLength\",\n    \"minLength\",\n    \"maxProperties\",\n    \"minProperties\",\n    \"maxItems\",\n    \"minItems\",\n    \"maximum\",\n    \"minimum\",\n    \"uniqueItems\",\n    \"multipleOf\",\n    \"required\",\n    \"enum\",\n    \"const\",\n]);\nfunction inlineRef(schema, limit = true) {\n    if (typeof schema == \"boolean\")\n        return true;\n    if (limit === true)\n        return !hasRef(schema);\n    if (!limit)\n        return false;\n    return countKeys(schema) <= limit;\n}\nexports.inlineRef = inlineRef;\nconst REF_KEYWORDS = new Set([\n    \"$ref\",\n    \"$recursiveRef\",\n    \"$recursiveAnchor\",\n    \"$dynamicRef\",\n    \"$dynamicAnchor\",\n]);\nfunction hasRef(schema) {\n    for (const key in schema) {\n        if (REF_KEYWORDS.has(key))\n            return true;\n        const sch = schema[key];\n        if (Array.isArray(sch) && sch.some(hasRef))\n            return true;\n        if (typeof sch == \"object\" && hasRef(sch))\n            return true;\n    }\n    return false;\n}\nfunction countKeys(schema) {\n    let count = 0;\n    for (const key in schema) {\n        if (key === \"$ref\")\n            return Infinity;\n        count++;\n        if (SIMPLE_INLINED.has(key))\n            continue;\n        if (typeof schema[key] == \"object\") {\n            util_1.eachItem(schema[key], (sch) => (count += countKeys(sch)));\n        }\n        if (count === Infinity)\n            return Infinity;\n    }\n    return count;\n}\nfunction getFullPath(id = \"\", normalize) {\n    if (normalize !== false)\n        id = normalizeId(id);\n    const p = URI.parse(id);\n    return _getFullPath(p);\n}\nexports.getFullPath = getFullPath;\nfunction _getFullPath(p) {\n    return URI.serialize(p).split(\"#\")[0] + \"#\";\n}\nexports._getFullPath = _getFullPath;\nconst TRAILING_SLASH_HASH = /#\\/?$/;\nfunction normalizeId(id) {\n    return id ? id.replace(TRAILING_SLASH_HASH, \"\") : \"\";\n}\nexports.normalizeId = normalizeId;\nfunction resolveUrl(baseId, id) {\n    id = normalizeId(id);\n    return URI.resolve(baseId, id);\n}\nexports.resolveUrl = resolveUrl;\nconst ANCHOR = /^[a-z_][-a-z0-9._]*$/i;\nfunction getSchemaRefs(schema) {\n    if (typeof schema == \"boolean\")\n        return {};\n    const schemaId = normalizeId(schema.$id);\n    const baseIds = { \"\": schemaId };\n    const pathPrefix = getFullPath(schemaId, false);\n    const localRefs = {};\n    const schemaRefs = new Set();\n    traverse(schema, { allKeys: true }, (sch, jsonPtr, _, parentJsonPtr) => {\n        if (parentJsonPtr === undefined)\n            return;\n        const fullPath = pathPrefix + jsonPtr;\n        let baseId = baseIds[parentJsonPtr];\n        if (typeof sch.$id == \"string\")\n            baseId = addRef.call(this, sch.$id);\n        addAnchor.call(this, sch.$anchor);\n        addAnchor.call(this, sch.$dynamicAnchor);\n        baseIds[jsonPtr] = baseId;\n        function addRef(ref) {\n            ref = normalizeId(baseId ? URI.resolve(baseId, ref) : ref);\n            if (schemaRefs.has(ref))\n                throw ambiguos(ref);\n            schemaRefs.add(ref);\n            let schOrRef = this.refs[ref];\n            if (typeof schOrRef == \"string\")\n                schOrRef = this.refs[schOrRef];\n            if (typeof schOrRef == \"object\") {\n                checkAmbiguosRef(sch, schOrRef.schema, ref);\n            }\n            else if (ref !== normalizeId(fullPath)) {\n                if (ref[0] === \"#\") {\n                    checkAmbiguosRef(sch, localRefs[ref], ref);\n                    localRefs[ref] = sch;\n                }\n                else {\n                    this.refs[ref] = fullPath;\n                }\n            }\n            return ref;\n        }\n        function addAnchor(anchor) {\n            if (typeof anchor == \"string\") {\n                if (!ANCHOR.test(anchor))\n                    throw new Error(`invalid anchor \"${anchor}\"`);\n                addRef.call(this, `#${anchor}`);\n            }\n        }\n    });\n    return localRefs;\n    function checkAmbiguosRef(sch1, sch2, ref) {\n        if (sch2 !== undefined && !equal(sch1, sch2))\n            throw ambiguos(ref);\n    }\n    function ambiguos(ref) {\n        return new Error(`reference \"${ref}\" resolves to more than one schema`);\n    }\n}\nexports.getSchemaRefs = getSchemaRefs;\n//# sourceMappingURL=resolve.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getRules = exports.isJSONType = void 0;\nconst _jsonTypes = [\"string\", \"number\", \"integer\", \"boolean\", \"null\", \"object\", \"array\"];\nconst jsonTypes = new Set(_jsonTypes);\nfunction isJSONType(x) {\n    return typeof x == \"string\" && jsonTypes.has(x);\n}\nexports.isJSONType = isJSONType;\nfunction getRules() {\n    const groups = {\n        number: { type: \"number\", rules: [] },\n        string: { type: \"string\", rules: [] },\n        array: { type: \"array\", rules: [] },\n        object: { type: \"object\", rules: [] },\n    };\n    return {\n        types: { ...groups, integer: true, boolean: true, null: true },\n        rules: [{ rules: [] }, groups.number, groups.string, groups.array, groups.object],\n        post: { rules: [] },\n        all: {},\n        keywords: {},\n    };\n}\nexports.getRules = getRules;\n//# sourceMappingURL=rules.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.applySubschema = exports.Type = void 0;\nconst validate_1 = require(\"./validate\");\nconst util_1 = require(\"./util\");\nconst codegen_1 = require(\"./codegen\");\nvar Type;\n(function (Type) {\n    Type[Type[\"Num\"] = 0] = \"Num\";\n    Type[Type[\"Str\"] = 1] = \"Str\";\n})(Type = exports.Type || (exports.Type = {}));\nfunction applySubschema(it, appl, valid) {\n    const subschema = getSubschema(it, appl);\n    extendSubschemaData(subschema, it, appl);\n    extendSubschemaMode(subschema, appl);\n    const nextContext = { ...it, ...subschema, items: undefined, props: undefined };\n    validate_1.subschemaCode(nextContext, valid);\n    return nextContext;\n}\nexports.applySubschema = applySubschema;\nfunction getSubschema(it, { keyword, schemaProp, schema, schemaPath, errSchemaPath, topSchemaRef }) {\n    if (keyword !== undefined && schema !== undefined) {\n        throw new Error('both \"keyword\" and \"schema\" passed, only one allowed');\n    }\n    if (keyword !== undefined) {\n        const sch = it.schema[keyword];\n        return schemaProp === undefined\n            ? {\n                schema: sch,\n                schemaPath: codegen_1._ `${it.schemaPath}${codegen_1.getProperty(keyword)}`,\n                errSchemaPath: `${it.errSchemaPath}/${keyword}`,\n            }\n            : {\n                schema: sch[schemaProp],\n                schemaPath: codegen_1._ `${it.schemaPath}${codegen_1.getProperty(keyword)}${codegen_1.getProperty(schemaProp)}`,\n                errSchemaPath: `${it.errSchemaPath}/${keyword}/${util_1.escapeFragment(schemaProp)}`,\n            };\n    }\n    if (schema !== undefined) {\n        if (schemaPath === undefined || errSchemaPath === undefined || topSchemaRef === undefined) {\n            throw new Error('\"schemaPath\", \"errSchemaPath\" and \"topSchemaRef\" are required with \"schema\"');\n        }\n        return {\n            schema,\n            schemaPath,\n            topSchemaRef,\n            errSchemaPath,\n        };\n    }\n    throw new Error('either \"keyword\" or \"schema\" must be passed');\n}\nfunction extendSubschemaData(subschema, it, { dataProp, dataPropType: dpType, data, dataTypes, propertyName }) {\n    if (data !== undefined && dataProp !== undefined) {\n        throw new Error('both \"data\" and \"dataProp\" passed, only one allowed');\n    }\n    const { gen } = it;\n    if (dataProp !== undefined) {\n        const { errorPath, dataPathArr, opts } = it;\n        const nextData = gen.let(\"data\", codegen_1._ `${it.data}${codegen_1.getProperty(dataProp)}`, true);\n        dataContextProps(nextData);\n        subschema.errorPath = codegen_1.str `${errorPath}${getErrorPath(dataProp, dpType, opts.jsPropertySyntax)}`;\n        subschema.parentDataProperty = codegen_1._ `${dataProp}`;\n        subschema.dataPathArr = [...dataPathArr, subschema.parentDataProperty];\n    }\n    if (data !== undefined) {\n        const nextData = data instanceof codegen_1.Name ? data : gen.let(\"data\", data, true); // replaceable if used once?\n        dataContextProps(nextData);\n        if (propertyName !== undefined)\n            subschema.propertyName = propertyName;\n        // TODO something is possibly wrong here with not changing parentDataProperty and not appending dataPathArr\n    }\n    if (dataTypes)\n        subschema.dataTypes = dataTypes;\n    function dataContextProps(_nextData) {\n        subschema.data = _nextData;\n        subschema.dataLevel = it.dataLevel + 1;\n        subschema.dataTypes = [];\n        it.definedProperties = new Set();\n        subschema.parentData = it.data;\n        subschema.dataNames = [...it.dataNames, _nextData];\n    }\n}\nfunction extendSubschemaMode(subschema, { jtdDiscriminator, jtdMetadata, compositeRule, createErrors, allErrors }) {\n    if (compositeRule !== undefined)\n        subschema.compositeRule = compositeRule;\n    if (createErrors !== undefined)\n        subschema.createErrors = createErrors;\n    if (allErrors !== undefined)\n        subschema.allErrors = allErrors;\n    subschema.jtdDiscriminator = jtdDiscriminator; // not inherited\n    subschema.jtdMetadata = jtdMetadata; // not inherited\n}\nfunction getErrorPath(dataProp, dataPropType, jsPropertySyntax) {\n    // let path\n    if (dataProp instanceof codegen_1.Name) {\n        const isNumber = dataPropType === Type.Num;\n        return jsPropertySyntax\n            ? isNumber\n                ? codegen_1._ `\"[\" + ${dataProp} + \"]\"`\n                : codegen_1._ `\"['\" + ${dataProp} + \"']\"`\n            : isNumber\n                ? codegen_1._ `\"/\" + ${dataProp}`\n                : codegen_1._ `\"/\" + ${dataProp}.replace(/~/g, \"~0\").replace(/\\\\//g, \"~1\")`; // TODO maybe use global escapePointer\n    }\n    return jsPropertySyntax ? codegen_1.getProperty(dataProp).toString() : \"/\" + util_1.escapeJsonPointer(dataProp);\n}\n//# sourceMappingURL=subschema.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// https://mathiasbynens.be/notes/javascript-encoding\n// https://github.com/bestiejs/punycode.js - punycode.ucs2.decode\nfunction ucs2length(str) {\n    const len = str.length;\n    let length = 0;\n    let pos = 0;\n    let value;\n    while (pos < len) {\n        length++;\n        value = str.charCodeAt(pos++);\n        if (value >= 0xd800 && value <= 0xdbff && pos < len) {\n            // high surrogate, and there is a next character\n            value = str.charCodeAt(pos);\n            if ((value & 0xfc00) === 0xdc00)\n                pos++; // low surrogate\n        }\n    }\n    return length;\n}\nexports.default = ucs2length;\n//# sourceMappingURL=ucs2length.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.func = exports.setEvaluated = exports.evaluatedPropsToName = exports.mergeEvaluated = exports.eachItem = exports.unescapeJsonPointer = exports.escapeJsonPointer = exports.escapeFragment = exports.unescapeFragment = exports.schemaRefOrVal = exports.schemaHasRulesButRef = exports.schemaHasRules = exports.checkUnknownRules = exports.alwaysValidSchema = exports.toHash = void 0;\nconst codegen_1 = require(\"./codegen\");\nconst validate_1 = require(\"./validate\");\n// TODO refactor to use Set\nfunction toHash(arr) {\n    const hash = {};\n    for (const item of arr)\n        hash[item] = true;\n    return hash;\n}\nexports.toHash = toHash;\nfunction alwaysValidSchema(it, schema) {\n    if (typeof schema == \"boolean\")\n        return schema;\n    if (Object.keys(schema).length === 0)\n        return true;\n    checkUnknownRules(it, schema);\n    return !schemaHasRules(schema, it.self.RULES.all);\n}\nexports.alwaysValidSchema = alwaysValidSchema;\nfunction checkUnknownRules(it, schema = it.schema) {\n    const { opts, self } = it;\n    if (!opts.strict)\n        return;\n    if (typeof schema === \"boolean\")\n        return;\n    const rules = self.RULES.keywords;\n    for (const key in schema) {\n        if (!rules[key])\n            validate_1.checkStrictMode(it, `unknown keyword: \"${key}\"`);\n    }\n}\nexports.checkUnknownRules = checkUnknownRules;\nfunction schemaHasRules(schema, rules) {\n    if (typeof schema == \"boolean\")\n        return !schema;\n    for (const key in schema)\n        if (rules[key])\n            return true;\n    return false;\n}\nexports.schemaHasRules = schemaHasRules;\nfunction schemaHasRulesButRef(schema, RULES) {\n    if (typeof schema == \"boolean\")\n        return !schema;\n    for (const key in schema)\n        if (key !== \"$ref\" && RULES.all[key])\n            return true;\n    return false;\n}\nexports.schemaHasRulesButRef = schemaHasRulesButRef;\nfunction schemaRefOrVal({ topSchemaRef, schemaPath }, schema, keyword, $data) {\n    if (!$data) {\n        if (typeof schema == \"number\" || typeof schema == \"boolean\")\n            return schema;\n        if (typeof schema == \"string\")\n            return codegen_1._ `${schema}`;\n    }\n    return codegen_1._ `${topSchemaRef}${schemaPath}${codegen_1.getProperty(keyword)}`;\n}\nexports.schemaRefOrVal = schemaRefOrVal;\nfunction unescapeFragment(str) {\n    return unescapeJsonPointer(decodeURIComponent(str));\n}\nexports.unescapeFragment = unescapeFragment;\nfunction escapeFragment(str) {\n    return encodeURIComponent(escapeJsonPointer(str));\n}\nexports.escapeFragment = escapeFragment;\nfunction escapeJsonPointer(str) {\n    if (typeof str == \"number\")\n        return `${str}`;\n    return str.replace(/~/g, \"~0\").replace(/\\//g, \"~1\");\n}\nexports.escapeJsonPointer = escapeJsonPointer;\nfunction unescapeJsonPointer(str) {\n    return str.replace(/~1/g, \"/\").replace(/~0/g, \"~\");\n}\nexports.unescapeJsonPointer = unescapeJsonPointer;\nfunction eachItem(xs, f) {\n    if (Array.isArray(xs)) {\n        for (const x of xs)\n            f(x);\n    }\n    else {\n        f(xs);\n    }\n}\nexports.eachItem = eachItem;\nfunction makeMergeEvaluated({ mergeNames, mergeToName, mergeValues, resultToName, }) {\n    return (gen, from, to, toName) => {\n        const res = to === undefined\n            ? from\n            : to instanceof codegen_1.Name\n                ? (from instanceof codegen_1.Name ? mergeNames(gen, from, to) : mergeToName(gen, from, to), to)\n                : from instanceof codegen_1.Name\n                    ? (mergeToName(gen, to, from), from)\n                    : mergeValues(from, to);\n        return toName === codegen_1.Name && !(res instanceof codegen_1.Name) ? resultToName(gen, res) : res;\n    };\n}\nexports.mergeEvaluated = {\n    props: makeMergeEvaluated({\n        mergeNames: (gen, from, to) => gen.if(codegen_1._ `${to} !== true && ${from} !== undefined`, () => {\n            gen.if(codegen_1._ `${from} === true`, () => gen.assign(to, true), () => gen.assign(to, codegen_1._ `${to} || {}`).code(codegen_1._ `Object.assign(${to}, ${from})`));\n        }),\n        mergeToName: (gen, from, to) => gen.if(codegen_1._ `${to} !== true`, () => {\n            if (from === true) {\n                gen.assign(to, true);\n            }\n            else {\n                gen.assign(to, codegen_1._ `${to} || {}`);\n                setEvaluated(gen, to, from);\n            }\n        }),\n        mergeValues: (from, to) => (from === true ? true : { ...from, ...to }),\n        resultToName: evaluatedPropsToName,\n    }),\n    items: makeMergeEvaluated({\n        mergeNames: (gen, from, to) => gen.if(codegen_1._ `${to} !== true && ${from} !== undefined`, () => gen.assign(to, codegen_1._ `${from} === true ? true : ${to} > ${from} ? ${to} : ${from}`)),\n        mergeToName: (gen, from, to) => gen.if(codegen_1._ `${to} !== true`, () => gen.assign(to, from === true ? true : codegen_1._ `${to} > ${from} ? ${to} : ${from}`)),\n        mergeValues: (from, to) => (from === true ? true : Math.max(from, to)),\n        resultToName: (gen, items) => gen.var(\"items\", items),\n    }),\n};\nfunction evaluatedPropsToName(gen, ps) {\n    if (ps === true)\n        return gen.var(\"props\", true);\n    const props = gen.var(\"props\", codegen_1._ `{}`);\n    if (ps !== undefined)\n        setEvaluated(gen, props, ps);\n    return props;\n}\nexports.evaluatedPropsToName = evaluatedPropsToName;\nfunction setEvaluated(gen, props, ps) {\n    Object.keys(ps).forEach((p) => gen.assign(codegen_1._ `${props}${codegen_1.getProperty(p)}`, true));\n}\nexports.setEvaluated = setEvaluated;\nfunction func(gen, f) {\n    return gen.scopeValue(\"func\", {\n        ref: f,\n        code: f.code,\n    });\n}\nexports.func = func;\n//# sourceMappingURL=util.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.shouldUseRule = exports.shouldUseGroup = exports.schemaHasRulesForType = void 0;\nfunction schemaHasRulesForType({ schema, self }, type) {\n    const group = self.RULES.types[type];\n    return group && group !== true && shouldUseGroup(schema, group);\n}\nexports.schemaHasRulesForType = schemaHasRulesForType;\nfunction shouldUseGroup(schema, group) {\n    return group.rules.some((rule) => shouldUseRule(schema, rule));\n}\nexports.shouldUseGroup = shouldUseGroup;\nfunction shouldUseRule(schema, rule) {\n    var _a;\n    return (schema[rule.keyword] !== undefined ||\n        ((_a = rule.definition.implements) === null || _a === void 0 ? void 0 : _a.some((kwd) => schema[kwd] !== undefined)));\n}\nexports.shouldUseRule = shouldUseRule;\n//# sourceMappingURL=applicability.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.boolOrEmptySchema = exports.topBoolOrEmptySchema = void 0;\nconst errors_1 = require(\"../errors\");\nconst codegen_1 = require(\"../codegen\");\nconst names_1 = require(\"../names\");\nconst boolError = {\n    message: \"boolean schema is false\",\n};\nfunction topBoolOrEmptySchema(it) {\n    const { gen, schema, validateName } = it;\n    if (schema === false) {\n        falseSchemaError(it, false);\n    }\n    else if (typeof schema == \"object\" && schema.$async === true) {\n        gen.return(names_1.default.data);\n    }\n    else {\n        gen.assign(codegen_1._ `${validateName}.errors`, null);\n        gen.return(true);\n    }\n}\nexports.topBoolOrEmptySchema = topBoolOrEmptySchema;\nfunction boolOrEmptySchema(it, valid) {\n    const { gen, schema } = it;\n    if (schema === false) {\n        gen.var(valid, false); // TODO var\n        falseSchemaError(it);\n    }\n    else {\n        gen.var(valid, true); // TODO var\n    }\n}\nexports.boolOrEmptySchema = boolOrEmptySchema;\nfunction falseSchemaError(it, overrideAllErrors) {\n    const { gen, data } = it;\n    // TODO maybe some other interface should be used for non-keyword validation errors...\n    const cxt = {\n        gen,\n        keyword: \"false schema\",\n        data,\n        schema: false,\n        schemaCode: false,\n        schemaValue: false,\n        params: {},\n        it,\n    };\n    errors_1.reportError(cxt, boolError, overrideAllErrors);\n}\n//# sourceMappingURL=boolSchema.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.reportTypeError = exports.checkDataTypes = exports.checkDataType = exports.coerceAndCheckDataType = exports.getJSONTypes = exports.getSchemaTypes = exports.DataType = void 0;\nconst rules_1 = require(\"../rules\");\nconst applicability_1 = require(\"./applicability\");\nconst errors_1 = require(\"../errors\");\nconst codegen_1 = require(\"../codegen\");\nconst util_1 = require(\"../util\");\nvar DataType;\n(function (DataType) {\n    DataType[DataType[\"Correct\"] = 0] = \"Correct\";\n    DataType[DataType[\"Wrong\"] = 1] = \"Wrong\";\n})(DataType = exports.DataType || (exports.DataType = {}));\nfunction getSchemaTypes(schema) {\n    const types = getJSONTypes(schema.type);\n    const hasNull = types.includes(\"null\");\n    if (hasNull) {\n        if (schema.nullable === false)\n            throw new Error(\"type: null contradicts nullable: false\");\n    }\n    else {\n        if (!types.length && schema.nullable !== undefined) {\n            throw new Error('\"nullable\" cannot be used without \"type\"');\n        }\n        if (schema.nullable === true)\n            types.push(\"null\");\n    }\n    return types;\n}\nexports.getSchemaTypes = getSchemaTypes;\nfunction getJSONTypes(ts) {\n    const types = Array.isArray(ts) ? ts : ts ? [ts] : [];\n    if (types.every(rules_1.isJSONType))\n        return types;\n    throw new Error(\"type must be JSONType or JSONType[]: \" + types.join(\",\"));\n}\nexports.getJSONTypes = getJSONTypes;\nfunction coerceAndCheckDataType(it, types) {\n    const { gen, data, opts } = it;\n    const coerceTo = coerceToTypes(types, opts.coerceTypes);\n    const checkTypes = types.length > 0 &&\n        !(coerceTo.length === 0 && types.length === 1 && applicability_1.schemaHasRulesForType(it, types[0]));\n    if (checkTypes) {\n        const wrongType = checkDataTypes(types, data, opts.strict, DataType.Wrong);\n        gen.if(wrongType, () => {\n            if (coerceTo.length)\n                coerceData(it, types, coerceTo);\n            else\n                reportTypeError(it);\n        });\n    }\n    return checkTypes;\n}\nexports.coerceAndCheckDataType = coerceAndCheckDataType;\nconst COERCIBLE = new Set([\"string\", \"number\", \"integer\", \"boolean\", \"null\"]);\nfunction coerceToTypes(types, coerceTypes) {\n    return coerceTypes\n        ? types.filter((t) => COERCIBLE.has(t) || (coerceTypes === \"array\" && t === \"array\"))\n        : [];\n}\nfunction coerceData(it, types, coerceTo) {\n    const { gen, data, opts } = it;\n    const dataType = gen.let(\"dataType\", codegen_1._ `typeof ${data}`);\n    const coerced = gen.let(\"coerced\", codegen_1._ `undefined`);\n    if (opts.coerceTypes === \"array\") {\n        gen.if(codegen_1._ `${dataType} == 'object' && Array.isArray(${data}) && ${data}.length == 1`, () => gen\n            .assign(data, codegen_1._ `${data}[0]`)\n            .assign(dataType, codegen_1._ `typeof ${data}`)\n            .if(checkDataTypes(types, data, opts.strict), () => gen.assign(coerced, data)));\n    }\n    gen.if(codegen_1._ `${coerced} !== undefined`);\n    for (const t of coerceTo) {\n        if (COERCIBLE.has(t) || (t === \"array\" && opts.coerceTypes === \"array\")) {\n            coerceSpecificType(t);\n        }\n    }\n    gen.else();\n    reportTypeError(it);\n    gen.endIf();\n    gen.if(codegen_1._ `${coerced} !== undefined`, () => {\n        gen.assign(data, coerced);\n        assignParentData(it, coerced);\n    });\n    function coerceSpecificType(t) {\n        switch (t) {\n            case \"string\":\n                gen\n                    .elseIf(codegen_1._ `${dataType} == \"number\" || ${dataType} == \"boolean\"`)\n                    .assign(coerced, codegen_1._ `\"\" + ${data}`)\n                    .elseIf(codegen_1._ `${data} === null`)\n                    .assign(coerced, codegen_1._ `\"\"`);\n                return;\n            case \"number\":\n                gen\n                    .elseIf(codegen_1._ `${dataType} == \"boolean\" || ${data} === null\n              || (${dataType} == \"string\" && ${data} && ${data} == +${data})`)\n                    .assign(coerced, codegen_1._ `+${data}`);\n                return;\n            case \"integer\":\n                gen\n                    .elseIf(codegen_1._ `${dataType} === \"boolean\" || ${data} === null\n              || (${dataType} === \"string\" && ${data} && ${data} == +${data} && !(${data} % 1))`)\n                    .assign(coerced, codegen_1._ `+${data}`);\n                return;\n            case \"boolean\":\n                gen\n                    .elseIf(codegen_1._ `${data} === \"false\" || ${data} === 0 || ${data} === null`)\n                    .assign(coerced, false)\n                    .elseIf(codegen_1._ `${data} === \"true\" || ${data} === 1`)\n                    .assign(coerced, true);\n                return;\n            case \"null\":\n                gen.elseIf(codegen_1._ `${data} === \"\" || ${data} === 0 || ${data} === false`);\n                gen.assign(coerced, null);\n                return;\n            case \"array\":\n                gen\n                    .elseIf(codegen_1._ `${dataType} === \"string\" || ${dataType} === \"number\"\n              || ${dataType} === \"boolean\" || ${data} === null`)\n                    .assign(coerced, codegen_1._ `[${data}]`);\n        }\n    }\n}\nfunction assignParentData({ gen, parentData, parentDataProperty }, expr) {\n    // TODO use gen.property\n    gen.if(codegen_1._ `${parentData} !== undefined`, () => gen.assign(codegen_1._ `${parentData}[${parentDataProperty}]`, expr));\n}\nfunction checkDataType(dataType, data, strictNums, correct = DataType.Correct) {\n    const EQ = correct === DataType.Correct ? codegen_1.operators.EQ : codegen_1.operators.NEQ;\n    let cond;\n    switch (dataType) {\n        case \"null\":\n            return codegen_1._ `${data} ${EQ} null`;\n        case \"array\":\n            cond = codegen_1._ `Array.isArray(${data})`;\n            break;\n        case \"object\":\n            cond = codegen_1._ `${data} && typeof ${data} == \"object\" && !Array.isArray(${data})`;\n            break;\n        case \"integer\":\n            cond = numCond(codegen_1._ `!(${data} % 1) && !isNaN(${data})`);\n            break;\n        case \"number\":\n            cond = numCond();\n            break;\n        default:\n            return codegen_1._ `typeof ${data} ${EQ} ${dataType}`;\n    }\n    return correct === DataType.Correct ? cond : codegen_1.not(cond);\n    function numCond(_cond = codegen_1.nil) {\n        return codegen_1.and(codegen_1._ `typeof ${data} == \"number\"`, _cond, strictNums ? codegen_1._ `isFinite(${data})` : codegen_1.nil);\n    }\n}\nexports.checkDataType = checkDataType;\nfunction checkDataTypes(dataTypes, data, strictNums, correct) {\n    if (dataTypes.length === 1) {\n        return checkDataType(dataTypes[0], data, strictNums, correct);\n    }\n    let cond;\n    const types = util_1.toHash(dataTypes);\n    if (types.array && types.object) {\n        const notObj = codegen_1._ `typeof ${data} != \"object\"`;\n        cond = types.null ? notObj : codegen_1._ `!${data} || ${notObj}`;\n        delete types.null;\n        delete types.array;\n        delete types.object;\n    }\n    else {\n        cond = codegen_1.nil;\n    }\n    if (types.number)\n        delete types.integer;\n    for (const t in types)\n        cond = codegen_1.and(cond, checkDataType(t, data, strictNums, correct));\n    return cond;\n}\nexports.checkDataTypes = checkDataTypes;\nconst typeError = {\n    message: ({ schema }) => codegen_1.str `should be ${schema}`,\n    params: ({ schema, schemaValue }) => typeof schema == \"string\" ? codegen_1._ `{type: ${schema}}` : codegen_1._ `{type: ${schemaValue}}`,\n};\nfunction reportTypeError(it) {\n    const cxt = getTypeErrorContext(it);\n    errors_1.reportError(cxt, typeError);\n}\nexports.reportTypeError = reportTypeError;\nfunction getTypeErrorContext(it) {\n    const { gen, data, schema } = it;\n    const schemaCode = util_1.schemaRefOrVal(it, schema, \"type\");\n    return {\n        gen,\n        keyword: \"type\",\n        data,\n        schema: schema.type,\n        schemaCode,\n        schemaValue: schemaCode,\n        parentSchema: schema,\n        params: {},\n        it,\n    };\n}\n//# sourceMappingURL=dataType.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.assignDefaults = void 0;\nconst codegen_1 = require(\"../codegen\");\nconst _1 = require(\".\");\nfunction assignDefaults(it, ty) {\n    const { properties, items } = it.schema;\n    if (ty === \"object\" && properties) {\n        for (const key in properties) {\n            assignDefault(it, key, properties[key].default);\n        }\n    }\n    else if (ty === \"array\" && Array.isArray(items)) {\n        items.forEach((sch, i) => assignDefault(it, i, sch.default));\n    }\n}\nexports.assignDefaults = assignDefaults;\nfunction assignDefault(it, prop, defaultValue) {\n    const { gen, compositeRule, data, opts } = it;\n    if (defaultValue === undefined)\n        return;\n    const childData = codegen_1._ `${data}${codegen_1.getProperty(prop)}`;\n    if (compositeRule) {\n        _1.checkStrictMode(it, `default is ignored for: ${childData}`);\n        return;\n    }\n    let condition = codegen_1._ `${childData} === undefined`;\n    if (opts.useDefaults === \"empty\") {\n        condition = codegen_1._ `${condition} || ${childData} === null || ${childData} === \"\"`;\n    }\n    // `${childData} === undefined` +\n    // (opts.useDefaults === \"empty\" ? ` || ${childData} === null || ${childData} === \"\"` : \"\")\n    gen.if(condition, codegen_1._ `${childData} = ${codegen_1.stringify(defaultValue)}`);\n}\n//# sourceMappingURL=defaults.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.checkStrictMode = exports.schemaCxtHasRules = exports.subschemaCode = exports.validateFunctionCode = void 0;\nconst boolSchema_1 = require(\"./boolSchema\");\nconst dataType_1 = require(\"./dataType\");\nconst iterate_1 = require(\"./iterate\");\nconst codegen_1 = require(\"../codegen\");\nconst names_1 = require(\"../names\");\nconst resolve_1 = require(\"../resolve\");\nconst util_1 = require(\"../util\");\n// schema compilation - generates validation function, subschemaCode (below) is used for subschemas\nfunction validateFunctionCode(it) {\n    if (isSchemaObj(it)) {\n        checkKeywords(it);\n        if (schemaCxtHasRules(it)) {\n            topSchemaObjCode(it);\n            return;\n        }\n    }\n    validateFunction(it, () => boolSchema_1.topBoolOrEmptySchema(it));\n}\nexports.validateFunctionCode = validateFunctionCode;\nfunction validateFunction({ gen, validateName, schema, schemaEnv, opts }, body) {\n    if (opts.code.es5) {\n        gen.func(validateName, codegen_1._ `${names_1.default.data}, ${names_1.default.valCxt}`, schemaEnv.$async, () => {\n            gen.code(codegen_1._ `\"use strict\"; ${funcSourceUrl(schema, opts)}`);\n            destructureValCxtES5(gen, opts);\n            gen.code(body);\n        });\n    }\n    else {\n        gen.func(validateName, codegen_1._ `${names_1.default.data}, ${destructureValCxt(opts)}`, schemaEnv.$async, () => gen.code(funcSourceUrl(schema, opts)).code(body));\n    }\n}\nfunction destructureValCxt(opts) {\n    return codegen_1._ `{${names_1.default.dataPath}=\"\", ${names_1.default.parentData}, ${names_1.default.parentDataProperty}, ${names_1.default.rootData}=${names_1.default.data}${opts.dynamicRef ? codegen_1._ `, ${names_1.default.dynamicAnchors}={}` : codegen_1.nil}}={}`;\n}\nfunction destructureValCxtES5(gen, opts) {\n    gen.if(names_1.default.valCxt, () => {\n        gen.var(names_1.default.dataPath, codegen_1._ `${names_1.default.valCxt}.${names_1.default.dataPath}`);\n        gen.var(names_1.default.parentData, codegen_1._ `${names_1.default.valCxt}.${names_1.default.parentData}`);\n        gen.var(names_1.default.parentDataProperty, codegen_1._ `${names_1.default.valCxt}.${names_1.default.parentDataProperty}`);\n        gen.var(names_1.default.rootData, codegen_1._ `${names_1.default.valCxt}.${names_1.default.rootData}`);\n        if (opts.dynamicRef)\n            gen.var(names_1.default.dynamicAnchors, codegen_1._ `${names_1.default.valCxt}.${names_1.default.dynamicAnchors}`);\n    }, () => {\n        gen.var(names_1.default.dataPath, codegen_1._ `\"\"`);\n        gen.var(names_1.default.parentData, codegen_1._ `undefined`);\n        gen.var(names_1.default.parentDataProperty, codegen_1._ `undefined`);\n        gen.var(names_1.default.rootData, names_1.default.data);\n        if (opts.dynamicRef)\n            gen.var(names_1.default.dynamicAnchors, codegen_1._ `{}`);\n    });\n}\nfunction topSchemaObjCode(it) {\n    const { schema, opts, gen } = it;\n    validateFunction(it, () => {\n        if (opts.$comment && schema.$comment)\n            commentKeyword(it);\n        checkNoDefault(it);\n        gen.let(names_1.default.vErrors, null);\n        gen.let(names_1.default.errors, 0);\n        if (opts.unevaluated)\n            resetEvaluated(it);\n        typeAndKeywords(it);\n        returnResults(it);\n    });\n    return;\n}\nfunction resetEvaluated(it) {\n    // TODO maybe some hook to execute it in the end to check whether props/items are Name, as in assignEvaluated\n    const { gen, validateName } = it;\n    it.evaluated = gen.const(\"evaluated\", codegen_1._ `${validateName}.evaluated`);\n    gen.if(codegen_1._ `${it.evaluated}.dynamicProps`, () => gen.assign(codegen_1._ `${it.evaluated}.props`, codegen_1._ `undefined`));\n    gen.if(codegen_1._ `${it.evaluated}.dynamicItems`, () => gen.assign(codegen_1._ `${it.evaluated}.items`, codegen_1._ `undefined`));\n}\nfunction funcSourceUrl(schema, opts) {\n    return typeof schema == \"object\" && schema.$id && (opts.code.source || opts.code.process)\n        ? codegen_1._ `/*# sourceURL=${schema.$id} */`\n        : codegen_1.nil;\n}\n// schema compilation - this function is used recursively to generate code for sub-schemas\nfunction subschemaCode(it, valid) {\n    if (isSchemaObj(it)) {\n        checkKeywords(it);\n        if (schemaCxtHasRules(it)) {\n            subSchemaObjCode(it, valid);\n            return;\n        }\n    }\n    boolSchema_1.boolOrEmptySchema(it, valid);\n}\nexports.subschemaCode = subschemaCode;\nfunction schemaCxtHasRules({ schema, self }) {\n    if (typeof schema == \"boolean\")\n        return !schema;\n    for (const key in schema)\n        if (self.RULES.all[key])\n            return true;\n    return false;\n}\nexports.schemaCxtHasRules = schemaCxtHasRules;\nfunction isSchemaObj(it) {\n    return typeof it.schema != \"boolean\";\n}\nfunction subSchemaObjCode(it, valid) {\n    const { schema, gen, opts } = it;\n    if (opts.$comment && schema.$comment)\n        commentKeyword(it);\n    updateContext(it);\n    checkAsync(it);\n    const errsCount = gen.const(\"_errs\", names_1.default.errors);\n    typeAndKeywords(it, errsCount);\n    // TODO var\n    gen.var(valid, codegen_1._ `${errsCount} === ${names_1.default.errors}`);\n}\nfunction checkKeywords(it) {\n    util_1.checkUnknownRules(it);\n    checkRefsAndKeywords(it);\n}\nfunction typeAndKeywords(it, errsCount) {\n    if (it.opts.jtd)\n        return iterate_1.schemaKeywords(it, [], false, errsCount);\n    const types = dataType_1.getSchemaTypes(it.schema);\n    const checkedTypes = dataType_1.coerceAndCheckDataType(it, types);\n    iterate_1.schemaKeywords(it, types, !checkedTypes, errsCount);\n}\nfunction checkRefsAndKeywords(it) {\n    const { schema, errSchemaPath, opts, self } = it;\n    if (schema.$ref && opts.ignoreKeywordsWithRef && util_1.schemaHasRulesButRef(schema, self.RULES)) {\n        self.logger.warn(`$ref: keywords ignored in schema at path \"${errSchemaPath}\"`);\n    }\n}\nfunction checkNoDefault(it) {\n    const { schema, opts } = it;\n    if (schema.default !== undefined && opts.useDefaults && opts.strict) {\n        checkStrictMode(it, \"default is ignored in the schema root\");\n    }\n}\nfunction updateContext(it) {\n    if (it.schema.$id)\n        it.baseId = resolve_1.resolveUrl(it.baseId, it.schema.$id);\n}\nfunction checkAsync(it) {\n    if (it.schema.$async && !it.schemaEnv.$async)\n        throw new Error(\"async schema in sync schema\");\n}\nfunction commentKeyword({ gen, schemaEnv, schema, errSchemaPath, opts }) {\n    const msg = schema.$comment;\n    if (opts.$comment === true) {\n        gen.code(codegen_1._ `${names_1.default.self}.logger.log(${msg})`);\n    }\n    else if (typeof opts.$comment == \"function\") {\n        const schemaPath = codegen_1.str `${errSchemaPath}/$comment`;\n        const rootName = gen.scopeValue(\"root\", { ref: schemaEnv.root });\n        gen.code(codegen_1._ `${names_1.default.self}.opts.$comment(${msg}, ${schemaPath}, ${rootName}.schema)`);\n    }\n}\nfunction returnResults(it) {\n    const { gen, schemaEnv, validateName, ValidationError, opts } = it;\n    if (schemaEnv.$async) {\n        // TODO assign unevaluated\n        gen.if(codegen_1._ `${names_1.default.errors} === 0`, () => gen.return(names_1.default.data), () => gen.throw(codegen_1._ `new ${ValidationError}(${names_1.default.vErrors})`));\n    }\n    else {\n        gen.assign(codegen_1._ `${validateName}.errors`, names_1.default.vErrors);\n        if (opts.unevaluated)\n            assignEvaluated(it);\n        gen.return(codegen_1._ `${names_1.default.errors} === 0`);\n    }\n}\nfunction assignEvaluated({ gen, evaluated, props, items }) {\n    if (props instanceof codegen_1.Name)\n        gen.assign(codegen_1._ `${evaluated}.props`, props);\n    if (items instanceof codegen_1.Name)\n        gen.assign(codegen_1._ `${evaluated}.items`, items);\n}\nfunction checkStrictMode(it, msg, mode = it.opts.strict) {\n    if (!mode)\n        return;\n    msg = `strict mode: ${msg}`;\n    if (mode === true)\n        throw new Error(msg);\n    it.self.logger.warn(msg);\n}\nexports.checkStrictMode = checkStrictMode;\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.schemaKeywords = void 0;\nconst applicability_1 = require(\"./applicability\");\nconst dataType_1 = require(\"./dataType\");\nconst defaults_1 = require(\"./defaults\");\nconst keyword_1 = require(\"./keyword\");\nconst util_1 = require(\"../util\");\nconst _1 = require(\".\");\nconst codegen_1 = require(\"../codegen\");\nconst names_1 = require(\"../names\");\nfunction schemaKeywords(it, types, typeErrors, errsCount) {\n    const { gen, schema, data, allErrors, opts, self } = it;\n    const { RULES } = self;\n    if (schema.$ref && (opts.ignoreKeywordsWithRef || !util_1.schemaHasRulesButRef(schema, RULES))) {\n        gen.block(() => keyword_1.keywordCode(it, \"$ref\", RULES.all.$ref.definition)); // TODO typecast\n        return;\n    }\n    if (!opts.jtd)\n        checkStrictTypes(it, types);\n    gen.block(() => {\n        for (const group of RULES.rules)\n            groupKeywords(group);\n        groupKeywords(RULES.post);\n    });\n    function groupKeywords(group) {\n        if (!applicability_1.shouldUseGroup(schema, group))\n            return;\n        if (group.type) {\n            gen.if(dataType_1.checkDataType(group.type, data, opts.strict));\n            iterateKeywords(it, group);\n            if (types.length === 1 && types[0] === group.type && typeErrors) {\n                gen.else();\n                dataType_1.reportTypeError(it);\n            }\n            gen.endIf();\n        }\n        else {\n            iterateKeywords(it, group);\n        }\n        // TODO make it \"ok\" call?\n        if (!allErrors)\n            gen.if(codegen_1._ `${names_1.default.errors} === ${errsCount || 0}`);\n    }\n}\nexports.schemaKeywords = schemaKeywords;\nfunction iterateKeywords(it, group) {\n    const { gen, schema, opts: { useDefaults }, } = it;\n    if (useDefaults)\n        defaults_1.assignDefaults(it, group.type);\n    gen.block(() => {\n        for (const rule of group.rules) {\n            if (applicability_1.shouldUseRule(schema, rule)) {\n                keyword_1.keywordCode(it, rule.keyword, rule.definition, group.type);\n            }\n        }\n    });\n}\nfunction checkStrictTypes(it, types) {\n    if (it.schemaEnv.meta || !it.opts.strictTypes)\n        return;\n    checkContextTypes(it, types);\n    if (!it.opts.allowUnionTypes)\n        checkMultipleTypes(it, types);\n    checkKeywordTypes(it, it.dataTypes);\n}\nfunction checkContextTypes(it, types) {\n    if (!types.length)\n        return;\n    if (!it.dataTypes.length) {\n        it.dataTypes = types;\n        return;\n    }\n    types.forEach((t) => {\n        if (!includesType(it.dataTypes, t)) {\n            strictTypesError(it, `type \"${t}\" not allowed by context \"${it.dataTypes.join(\",\")}\"`);\n        }\n    });\n    it.dataTypes = it.dataTypes.filter((t) => includesType(types, t));\n}\nfunction checkMultipleTypes(it, ts) {\n    if (ts.length > 1 && !(ts.length === 2 && ts.includes(\"null\"))) {\n        strictTypesError(it, \"use allowUnionTypes to allow union type keyword\");\n    }\n}\nfunction checkKeywordTypes(it, ts) {\n    const rules = it.self.RULES.all;\n    for (const keyword in rules) {\n        const rule = rules[keyword];\n        if (typeof rule == \"object\" && applicability_1.shouldUseRule(it.schema, rule)) {\n            const { type } = rule.definition;\n            if (type.length && !type.some((t) => hasApplicableType(ts, t))) {\n                strictTypesError(it, `missing type \"${type.join(\",\")}\" for keyword \"${keyword}\"`);\n            }\n        }\n    }\n}\nfunction hasApplicableType(schTs, kwdT) {\n    return schTs.includes(kwdT) || (kwdT === \"number\" && schTs.includes(\"integer\"));\n}\nfunction includesType(ts, t) {\n    return ts.includes(t) || (t === \"integer\" && ts.includes(\"number\"));\n}\nfunction strictTypesError(it, msg) {\n    const schemaPath = it.schemaEnv.baseId + it.errSchemaPath;\n    msg += ` at \"${schemaPath}\" (strictTypes)`;\n    _1.checkStrictMode(it, msg, it.opts.strictTypes);\n}\n//# sourceMappingURL=iterate.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.keywordCode = void 0;\nconst context_1 = require(\"../context\");\nconst errors_1 = require(\"../errors\");\nconst code_1 = require(\"../../vocabularies/code\");\nconst codegen_1 = require(\"../codegen\");\nconst names_1 = require(\"../names\");\nfunction keywordCode(it, keyword, def, ruleType) {\n    const cxt = new context_1.default(it, def, keyword);\n    if (\"code\" in def) {\n        def.code(cxt, ruleType);\n    }\n    else if (cxt.$data && def.validate) {\n        funcKeywordCode(cxt, def);\n    }\n    else if (\"macro\" in def) {\n        macroKeywordCode(cxt, def);\n    }\n    else if (def.compile || def.validate) {\n        funcKeywordCode(cxt, def);\n    }\n}\nexports.keywordCode = keywordCode;\nfunction macroKeywordCode(cxt, def) {\n    const { gen, keyword, schema, parentSchema, it } = cxt;\n    const macroSchema = def.macro.call(it.self, schema, parentSchema, it);\n    const schemaRef = useKeyword(gen, keyword, macroSchema);\n    if (it.opts.validateSchema !== false)\n        it.self.validateSchema(macroSchema, true);\n    const valid = gen.name(\"valid\");\n    cxt.subschema({\n        schema: macroSchema,\n        schemaPath: codegen_1.nil,\n        errSchemaPath: `${it.errSchemaPath}/${keyword}`,\n        topSchemaRef: schemaRef,\n        compositeRule: true,\n    }, valid);\n    cxt.pass(valid, () => cxt.error(true));\n}\nfunction funcKeywordCode(cxt, def) {\n    var _a;\n    const { gen, keyword, schema, parentSchema, $data, it } = cxt;\n    checkAsync(it, def);\n    const validate = !$data && def.compile ? def.compile.call(it.self, schema, parentSchema, it) : def.validate;\n    const validateRef = useKeyword(gen, keyword, validate);\n    const valid = gen.let(\"valid\");\n    cxt.block$data(valid, validateKeyword);\n    cxt.ok((_a = def.valid) !== null && _a !== void 0 ? _a : valid);\n    function validateKeyword() {\n        if (def.errors === false) {\n            assignValid();\n            if (def.modifying)\n                modifyData(cxt);\n            reportErrs(() => cxt.error());\n        }\n        else {\n            const ruleErrs = def.async ? validateAsync() : validateSync();\n            if (def.modifying)\n                modifyData(cxt);\n            reportErrs(() => addErrs(cxt, ruleErrs));\n        }\n    }\n    function validateAsync() {\n        const ruleErrs = gen.let(\"ruleErrs\", null);\n        gen.try(() => assignValid(codegen_1._ `await `), (e) => gen.assign(valid, false).if(codegen_1._ `${e} instanceof ${it.ValidationError}`, () => gen.assign(ruleErrs, codegen_1._ `${e}.errors`), () => gen.throw(e)));\n        return ruleErrs;\n    }\n    function validateSync() {\n        const validateErrs = codegen_1._ `${validateRef}.errors`;\n        gen.assign(validateErrs, null);\n        assignValid(codegen_1.nil);\n        return validateErrs;\n    }\n    function assignValid(_await = def.async ? codegen_1._ `await ` : codegen_1.nil) {\n        const passCxt = it.opts.passContext ? names_1.default.this : names_1.default.self;\n        const passSchema = !((\"compile\" in def && !$data) || def.schema === false);\n        gen.assign(valid, codegen_1._ `${_await}${code_1.callValidateCode(cxt, validateRef, passCxt, passSchema)}`, def.modifying);\n    }\n    function reportErrs(errors) {\n        var _a;\n        gen.if(codegen_1.not((_a = def.valid) !== null && _a !== void 0 ? _a : valid), errors);\n    }\n}\nfunction modifyData(cxt) {\n    const { gen, data, it } = cxt;\n    gen.if(it.parentData, () => gen.assign(data, codegen_1._ `${it.parentData}[${it.parentDataProperty}]`));\n}\nfunction addErrs(cxt, errs) {\n    const { gen } = cxt;\n    gen.if(codegen_1._ `Array.isArray(${errs})`, () => {\n        gen\n            .assign(names_1.default.vErrors, codegen_1._ `${names_1.default.vErrors} === null ? ${errs} : ${names_1.default.vErrors}.concat(${errs})`)\n            .assign(names_1.default.errors, codegen_1._ `${names_1.default.vErrors}.length`);\n        errors_1.extendErrors(cxt);\n    }, () => cxt.error());\n}\nfunction checkAsync({ schemaEnv }, def) {\n    if (def.async && !schemaEnv.$async)\n        throw new Error(\"async keyword in sync schema\");\n}\nfunction useKeyword(gen, keyword, result) {\n    if (result === undefined)\n        throw new Error(`keyword \"${keyword}\" failed to compile`);\n    return gen.scopeValue(\"keyword\", typeof result == \"function\" ? { ref: result } : { ref: result, code: codegen_1.stringify(result) });\n}\n//# sourceMappingURL=keyword.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CodeGen = exports.Name = exports.nil = exports.stringify = exports.str = exports._ = exports.KeywordCxt = void 0;\nconst context_1 = require(\"./compile/context\");\nexports.KeywordCxt = context_1.default;\nvar codegen_1 = require(\"./compile/codegen\");\nObject.defineProperty(exports, \"_\", { enumerable: true, get: function () { return codegen_1._; } });\nObject.defineProperty(exports, \"str\", { enumerable: true, get: function () { return codegen_1.str; } });\nObject.defineProperty(exports, \"stringify\", { enumerable: true, get: function () { return codegen_1.stringify; } });\nObject.defineProperty(exports, \"nil\", { enumerable: true, get: function () { return codegen_1.nil; } });\nObject.defineProperty(exports, \"Name\", { enumerable: true, get: function () { return codegen_1.Name; } });\nObject.defineProperty(exports, \"CodeGen\", { enumerable: true, get: function () { return codegen_1.CodeGen; } });\nconst error_classes_1 = require(\"./compile/error_classes\");\nconst rules_1 = require(\"./compile/rules\");\nconst compile_1 = require(\"./compile\");\nconst codegen_2 = require(\"./compile/codegen\");\nconst resolve_1 = require(\"./compile/resolve\");\nconst dataType_1 = require(\"./compile/validate/dataType\");\nconst util_1 = require(\"./compile/util\");\nconst $dataRefSchema = require(\"./refs/data.json\");\nconst META_IGNORE_OPTIONS = [\"removeAdditional\", \"useDefaults\", \"coerceTypes\"];\nconst EXT_SCOPE_NAMES = new Set([\n    \"validate\",\n    \"serialize\",\n    \"parse\",\n    \"wrapper\",\n    \"root\",\n    \"schema\",\n    \"keyword\",\n    \"pattern\",\n    \"formats\",\n    \"validate$data\",\n    \"func\",\n    \"obj\",\n    \"Error\",\n]);\nconst removedOptions = {\n    errorDataPath: \"\",\n    format: \"`validateFormats: false` can be used instead.\",\n    nullable: '\"nullable\" keyword is supported by default.',\n    jsonPointers: \"Deprecated jsPropertySyntax can be used instead.\",\n    extendRefs: \"Deprecated ignoreKeywordsWithRef can be used instead.\",\n    missingRefs: \"Pass empty schema with $id that should be ignored to ajv.addSchema.\",\n    processCode: \"Use option `code: {process: (code, schemaEnv: object) => string}`\",\n    sourceCode: \"Use option `code: {source: true}`\",\n    schemaId: \"JSON Schema draft-04 is not supported in Ajv v7.\",\n    strictDefaults: \"It is default now, see option `strict`.\",\n    strictKeywords: \"It is default now, see option `strict`.\",\n    strictNumbers: \"It is default now, see option `strict`.\",\n    uniqueItems: '\"uniqueItems\" keyword is always validated.',\n    unknownFormats: \"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).\",\n    cache: \"Map is used as cache, schema object as key.\",\n    serialize: \"Map is used as cache, schema object as key.\",\n};\nconst deprecatedOptions = {\n    ignoreKeywordsWithRef: \"\",\n    jsPropertySyntax: \"\",\n    unicode: '\"minLength\"/\"maxLength\" account for unicode characters by default.',\n};\nfunction requiredOptions(o) {\n    var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m;\n    const strict = (_a = o.strict) !== null && _a !== void 0 ? _a : true;\n    const strictLog = strict ? \"log\" : false;\n    const _optz = (_b = o.code) === null || _b === void 0 ? void 0 : _b.optimize;\n    const optimize = _optz === true || _optz === undefined ? 1 : _optz || 0;\n    return {\n        strict,\n        strictTypes: (_c = o.strictTypes) !== null && _c !== void 0 ? _c : strictLog,\n        strictTuples: (_d = o.strictTuples) !== null && _d !== void 0 ? _d : strictLog,\n        code: o.code ? { ...o.code, optimize } : { optimize },\n        loopRequired: (_e = o.loopRequired) !== null && _e !== void 0 ? _e : Infinity,\n        loopEnum: (_f = o.loopEnum) !== null && _f !== void 0 ? _f : Infinity,\n        meta: (_g = o.meta) !== null && _g !== void 0 ? _g : true,\n        messages: (_h = o.messages) !== null && _h !== void 0 ? _h : true,\n        inlineRefs: (_j = o.inlineRefs) !== null && _j !== void 0 ? _j : true,\n        addUsedSchema: (_k = o.addUsedSchema) !== null && _k !== void 0 ? _k : true,\n        validateSchema: (_l = o.validateSchema) !== null && _l !== void 0 ? _l : true,\n        validateFormats: (_m = o.validateFormats) !== null && _m !== void 0 ? _m : true,\n    };\n}\nclass Ajv {\n    constructor(opts = {}) {\n        this.schemas = {};\n        this.refs = {};\n        this.formats = {};\n        this._compilations = new Set();\n        this._loading = {};\n        this._cache = new Map();\n        opts = this.opts = { ...opts, ...requiredOptions(opts) };\n        const { es5, lines } = this.opts.code;\n        this.scope = new codegen_2.ValueScope({ scope: {}, prefixes: EXT_SCOPE_NAMES, es5, lines });\n        this.logger = getLogger(opts.logger);\n        const formatOpt = opts.validateFormats;\n        opts.validateFormats = false;\n        this.RULES = rules_1.getRules();\n        checkOptions.call(this, removedOptions, opts, \"NOT SUPPORTED\");\n        checkOptions.call(this, deprecatedOptions, opts, \"DEPRECATED\", \"warn\");\n        this._metaOpts = getMetaSchemaOptions.call(this);\n        if (opts.formats)\n            addInitialFormats.call(this);\n        this._addVocabularies();\n        this._addDefaultMetaSchema();\n        if (opts.keywords)\n            addInitialKeywords.call(this, opts.keywords);\n        if (typeof opts.meta == \"object\")\n            this.addMetaSchema(opts.meta);\n        addInitialSchemas.call(this);\n        opts.validateFormats = formatOpt;\n    }\n    _addVocabularies() {\n        this.addKeyword(\"$async\");\n    }\n    _addDefaultMetaSchema() {\n        const { $data, meta } = this.opts;\n        if (meta && $data)\n            this.addMetaSchema($dataRefSchema, $dataRefSchema.$id, false);\n    }\n    defaultMeta() {\n        const { meta } = this.opts;\n        return (this.opts.defaultMeta = typeof meta == \"object\" ? meta.$id || meta : undefined);\n    }\n    validate(schemaKeyRef, // key, ref or schema object\n    data // to be validated\n    ) {\n        let v;\n        if (typeof schemaKeyRef == \"string\") {\n            v = this.getSchema(schemaKeyRef);\n            if (!v)\n                throw new Error(`no schema with key or ref \"${schemaKeyRef}\"`);\n        }\n        else {\n            v = this.compile(schemaKeyRef);\n        }\n        const valid = v(data);\n        if (!(\"$async\" in v))\n            this.errors = v.errors;\n        return valid;\n    }\n    compile(schema, _meta) {\n        const sch = this._addSchema(schema, _meta);\n        return (sch.validate || this._compileSchemaEnv(sch));\n    }\n    compileAsync(schema, meta) {\n        if (typeof this.opts.loadSchema != \"function\") {\n            throw new Error(\"options.loadSchema should be a function\");\n        }\n        const { loadSchema } = this.opts;\n        return runCompileAsync.call(this, schema, meta);\n        async function runCompileAsync(_schema, _meta) {\n            await loadMetaSchema.call(this, _schema.$schema);\n            const sch = this._addSchema(_schema, _meta);\n            return sch.validate || _compileAsync.call(this, sch);\n        }\n        async function loadMetaSchema($ref) {\n            if ($ref && !this.getSchema($ref)) {\n                await runCompileAsync.call(this, { $ref }, true);\n            }\n        }\n        async function _compileAsync(sch) {\n            try {\n                return this._compileSchemaEnv(sch);\n            }\n            catch (e) {\n                if (!(e instanceof error_classes_1.MissingRefError))\n                    throw e;\n                checkLoaded.call(this, e);\n                await loadMissingSchema.call(this, e.missingSchema);\n                return _compileAsync.call(this, sch);\n            }\n        }\n        function checkLoaded({ missingSchema: ref, missingRef }) {\n            if (this.refs[ref]) {\n                throw new Error(`AnySchema ${ref} is loaded but ${missingRef} cannot be resolved`);\n            }\n        }\n        async function loadMissingSchema(ref) {\n            const _schema = await _loadSchema.call(this, ref);\n            if (!this.refs[ref])\n                await loadMetaSchema.call(this, _schema.$schema);\n            if (!this.refs[ref])\n                this.addSchema(_schema, ref, meta);\n        }\n        async function _loadSchema(ref) {\n            const p = this._loading[ref];\n            if (p)\n                return p;\n            try {\n                return await (this._loading[ref] = loadSchema(ref));\n            }\n            finally {\n                delete this._loading[ref];\n            }\n        }\n    }\n    // Adds schema to the instance\n    addSchema(schema, // If array is passed, `key` will be ignored\n    key, // Optional schema key. Can be passed to `validate` method instead of schema object or id/ref. One schema per instance can have empty `id` and `key`.\n    _meta, // true if schema is a meta-schema. Used internally, addMetaSchema should be used instead.\n    _validateSchema = this.opts.validateSchema // false to skip schema validation. Used internally, option validateSchema should be used instead.\n    ) {\n        if (Array.isArray(schema)) {\n            for (const sch of schema)\n                this.addSchema(sch, undefined, _meta, _validateSchema);\n            return this;\n        }\n        let id;\n        if (typeof schema === \"object\") {\n            id = schema.$id;\n            if (id !== undefined && typeof id != \"string\")\n                throw new Error(\"schema id must be string\");\n        }\n        key = resolve_1.normalizeId(key || id);\n        this._checkUnique(key);\n        this.schemas[key] = this._addSchema(schema, _meta, _validateSchema, true);\n        return this;\n    }\n    // Add schema that will be used to validate other schemas\n    // options in META_IGNORE_OPTIONS are alway set to false\n    addMetaSchema(schema, key, // schema key\n    _validateSchema = this.opts.validateSchema // false to skip schema validation, can be used to override validateSchema option for meta-schema\n    ) {\n        this.addSchema(schema, key, true, _validateSchema);\n        return this;\n    }\n    //  Validate schema against its meta-schema\n    validateSchema(schema, throwOrLogError) {\n        if (typeof schema == \"boolean\")\n            return true;\n        let $schema;\n        $schema = schema.$schema;\n        if ($schema !== undefined && typeof $schema != \"string\") {\n            throw new Error(\"$schema must be a string\");\n        }\n        $schema = $schema || this.opts.defaultMeta || this.defaultMeta();\n        if (!$schema) {\n            this.logger.warn(\"meta-schema not available\");\n            this.errors = null;\n            return true;\n        }\n        const valid = this.validate($schema, schema);\n        if (!valid && throwOrLogError) {\n            const message = \"schema is invalid: \" + this.errorsText();\n            if (this.opts.validateSchema === \"log\")\n                this.logger.error(message);\n            else\n                throw new Error(message);\n        }\n        return valid;\n    }\n    // Get compiled schema by `key` or `ref`.\n    // (`key` that was passed to `addSchema` or full schema reference - `schema.$id` or resolved id)\n    getSchema(keyRef) {\n        let sch;\n        while (typeof (sch = getSchEnv.call(this, keyRef)) == \"string\")\n            keyRef = sch;\n        if (sch === undefined) {\n            const root = new compile_1.SchemaEnv({ schema: {} });\n            sch = compile_1.resolveSchema.call(this, root, keyRef);\n            if (!sch)\n                return;\n            this.refs[keyRef] = sch;\n        }\n        return (sch.validate || this._compileSchemaEnv(sch));\n    }\n    // Remove cached schema(s).\n    // If no parameter is passed all schemas but meta-schemas are removed.\n    // If RegExp is passed all schemas with key/id matching pattern but meta-schemas are removed.\n    // Even if schema is referenced by other schemas it still can be removed as other schemas have local references.\n    removeSchema(schemaKeyRef) {\n        if (schemaKeyRef instanceof RegExp) {\n            this._removeAllSchemas(this.schemas, schemaKeyRef);\n            this._removeAllSchemas(this.refs, schemaKeyRef);\n            return this;\n        }\n        switch (typeof schemaKeyRef) {\n            case \"undefined\":\n                this._removeAllSchemas(this.schemas);\n                this._removeAllSchemas(this.refs);\n                this._cache.clear();\n                return this;\n            case \"string\": {\n                const sch = getSchEnv.call(this, schemaKeyRef);\n                if (typeof sch == \"object\")\n                    this._cache.delete(sch.schema);\n                delete this.schemas[schemaKeyRef];\n                delete this.refs[schemaKeyRef];\n                return this;\n            }\n            case \"object\": {\n                const cacheKey = schemaKeyRef;\n                this._cache.delete(cacheKey);\n                let id = schemaKeyRef.$id;\n                if (id) {\n                    id = resolve_1.normalizeId(id);\n                    delete this.schemas[id];\n                    delete this.refs[id];\n                }\n                return this;\n            }\n            default:\n                throw new Error(\"ajv.removeSchema: invalid parameter\");\n        }\n    }\n    // add \"vocabulary\" - a collection of keywords\n    addVocabulary(definitions) {\n        for (const def of definitions)\n            this.addKeyword(def);\n        return this;\n    }\n    addKeyword(kwdOrDef, def // deprecated\n    ) {\n        let keyword;\n        if (typeof kwdOrDef == \"string\") {\n            keyword = kwdOrDef;\n            if (typeof def == \"object\") {\n                this.logger.warn(\"these parameters are deprecated, see docs for addKeyword\");\n                def.keyword = keyword;\n            }\n        }\n        else if (typeof kwdOrDef == \"object\" && def === undefined) {\n            def = kwdOrDef;\n            keyword = def.keyword;\n            if (Array.isArray(keyword) && !keyword.length) {\n                throw new Error(\"addKeywords: keyword must be string or non-empty array\");\n            }\n        }\n        else {\n            throw new Error(\"invalid addKeywords parameters\");\n        }\n        checkKeyword.call(this, keyword, def);\n        if (!def) {\n            util_1.eachItem(keyword, (kwd) => addRule.call(this, kwd));\n            return this;\n        }\n        keywordMetaschema.call(this, def);\n        const definition = {\n            ...def,\n            type: dataType_1.getJSONTypes(def.type),\n            schemaType: dataType_1.getJSONTypes(def.schemaType),\n        };\n        util_1.eachItem(keyword, definition.type.length === 0\n            ? (k) => addRule.call(this, k, definition)\n            : (k) => definition.type.forEach((t) => addRule.call(this, k, definition, t)));\n        return this;\n    }\n    getKeyword(keyword) {\n        const rule = this.RULES.all[keyword];\n        return typeof rule == \"object\" ? rule.definition : !!rule;\n    }\n    // Remove keyword\n    removeKeyword(keyword) {\n        // TODO return type should be Ajv\n        const { RULES } = this;\n        delete RULES.keywords[keyword];\n        delete RULES.all[keyword];\n        for (const group of RULES.rules) {\n            const i = group.rules.findIndex((rule) => rule.keyword === keyword);\n            if (i >= 0)\n                group.rules.splice(i, 1);\n        }\n        return this;\n    }\n    // Add format\n    addFormat(name, format) {\n        if (typeof format == \"string\")\n            format = new RegExp(format);\n        this.formats[name] = format;\n        return this;\n    }\n    errorsText(errors = this.errors, // optional array of validation errors\n    { separator = \", \", dataVar = \"data\" } = {} // optional options with properties `separator` and `dataVar`\n    ) {\n        if (!errors || errors.length === 0)\n            return \"No errors\";\n        return errors\n            .map((e) => `${dataVar}${e.dataPath} ${e.message}`)\n            .reduce((text, msg) => text + separator + msg);\n    }\n    $dataMetaSchema(metaSchema, keywordsJsonPointers) {\n        const rules = this.RULES.all;\n        metaSchema = JSON.parse(JSON.stringify(metaSchema));\n        for (const jsonPointer of keywordsJsonPointers) {\n            const segments = jsonPointer.split(\"/\").slice(1); // first segment is an empty string\n            let keywords = metaSchema;\n            for (const seg of segments)\n                keywords = keywords[seg];\n            for (const key in rules) {\n                const rule = rules[key];\n                if (typeof rule != \"object\")\n                    continue;\n                const { $data } = rule.definition;\n                const schema = keywords[key];\n                if ($data && schema)\n                    keywords[key] = schemaOrData(schema);\n            }\n        }\n        return metaSchema;\n    }\n    _removeAllSchemas(schemas, regex) {\n        for (const keyRef in schemas) {\n            const sch = schemas[keyRef];\n            if (!regex || regex.test(keyRef)) {\n                if (typeof sch == \"string\") {\n                    delete schemas[keyRef];\n                }\n                else if (sch && !sch.meta) {\n                    this._cache.delete(sch.schema);\n                    delete schemas[keyRef];\n                }\n            }\n        }\n    }\n    _addSchema(schema, meta, validateSchema = this.opts.validateSchema, addSchema = this.opts.addUsedSchema) {\n        if (typeof schema != \"object\") {\n            if (this.opts.jtd)\n                throw new Error(\"schema must be object\");\n            else if (typeof schema != \"boolean\")\n                throw new Error(\"schema must be object or boolean\");\n        }\n        let sch = this._cache.get(schema);\n        if (sch !== undefined)\n            return sch;\n        const localRefs = resolve_1.getSchemaRefs.call(this, schema);\n        sch = new compile_1.SchemaEnv({ schema, meta, localRefs });\n        this._cache.set(sch.schema, sch);\n        const id = sch.baseId;\n        if (addSchema && !id.startsWith(\"#\")) {\n            // TODO atm it is allowed to overwrite schemas without id (instead of not adding them)\n            if (id)\n                this._checkUnique(id);\n            this.refs[id] = sch;\n        }\n        if (validateSchema)\n            this.validateSchema(schema, true);\n        return sch;\n    }\n    _checkUnique(id) {\n        if (this.schemas[id] || this.refs[id]) {\n            throw new Error(`schema with key or id \"${id}\" already exists`);\n        }\n    }\n    _compileSchemaEnv(sch) {\n        if (sch.meta)\n            this._compileMetaSchema(sch);\n        else\n            compile_1.compileSchema.call(this, sch);\n        /* istanbul ignore if */\n        if (!sch.validate)\n            throw new Error(\"ajv implementation error\");\n        return sch.validate;\n    }\n    _compileMetaSchema(sch) {\n        const currentOpts = this.opts;\n        this.opts = this._metaOpts;\n        try {\n            compile_1.compileSchema.call(this, sch);\n        }\n        finally {\n            this.opts = currentOpts;\n        }\n    }\n}\nexports.default = Ajv;\nAjv.ValidationError = error_classes_1.ValidationError;\nAjv.MissingRefError = error_classes_1.MissingRefError;\nfunction checkOptions(checkOpts, options, msg, log = \"error\") {\n    for (const key in checkOpts) {\n        const opt = key;\n        if (opt in options)\n            this.logger[log](`${msg}: option ${key}. ${checkOpts[opt]}`);\n    }\n}\nfunction getSchEnv(keyRef) {\n    keyRef = resolve_1.normalizeId(keyRef); // TODO tests fail without this line\n    return this.schemas[keyRef] || this.refs[keyRef];\n}\nfunction addInitialSchemas() {\n    const optsSchemas = this.opts.schemas;\n    if (!optsSchemas)\n        return;\n    if (Array.isArray(optsSchemas))\n        this.addSchema(optsSchemas);\n    else\n        for (const key in optsSchemas)\n            this.addSchema(optsSchemas[key], key);\n}\nfunction addInitialFormats() {\n    for (const name in this.opts.formats) {\n        const format = this.opts.formats[name];\n        if (format)\n            this.addFormat(name, format);\n    }\n}\nfunction addInitialKeywords(defs) {\n    if (Array.isArray(defs)) {\n        this.addVocabulary(defs);\n        return;\n    }\n    this.logger.warn(\"keywords option as map is deprecated, pass array\");\n    for (const keyword in defs) {\n        const def = defs[keyword];\n        if (!def.keyword)\n            def.keyword = keyword;\n        this.addKeyword(def);\n    }\n}\nfunction getMetaSchemaOptions() {\n    const metaOpts = { ...this.opts };\n    for (const opt of META_IGNORE_OPTIONS)\n        delete metaOpts[opt];\n    return metaOpts;\n}\nconst noLogs = { log() { }, warn() { }, error() { } };\nfunction getLogger(logger) {\n    if (logger === false)\n        return noLogs;\n    if (logger === undefined)\n        return console;\n    if (logger.log && logger.warn && logger.error)\n        return logger;\n    throw new Error(\"logger must implement log, warn and error methods\");\n}\nconst KEYWORD_NAME = /^[a-z_$][a-z0-9_$:-]*$/i;\nfunction checkKeyword(keyword, def) {\n    const { RULES } = this;\n    util_1.eachItem(keyword, (kwd) => {\n        if (RULES.keywords[kwd])\n            throw new Error(`Keyword ${kwd} is already defined`);\n        if (!KEYWORD_NAME.test(kwd))\n            throw new Error(`Keyword ${kwd} has invalid name`);\n    });\n    if (!def)\n        return;\n    if (def.$data && !(\"code\" in def || \"validate\" in def)) {\n        throw new Error('$data keyword must have \"code\" or \"validate\" function');\n    }\n}\nfunction addRule(keyword, definition, dataType) {\n    var _a;\n    const post = definition === null || definition === void 0 ? void 0 : definition.post;\n    if (dataType && post)\n        throw new Error('keyword with \"post\" flag cannot have \"type\"');\n    const { RULES } = this;\n    let ruleGroup = post ? RULES.post : RULES.rules.find(({ type: t }) => t === dataType);\n    if (!ruleGroup) {\n        ruleGroup = { type: dataType, rules: [] };\n        RULES.rules.push(ruleGroup);\n    }\n    RULES.keywords[keyword] = true;\n    if (!definition)\n        return;\n    const rule = {\n        keyword,\n        definition: {\n            ...definition,\n            type: dataType_1.getJSONTypes(definition.type),\n            schemaType: dataType_1.getJSONTypes(definition.schemaType),\n        },\n    };\n    if (definition.before)\n        addBeforeRule.call(this, ruleGroup, rule, definition.before);\n    else\n        ruleGroup.rules.push(rule);\n    RULES.all[keyword] = rule;\n    (_a = definition.implements) === null || _a === void 0 ? void 0 : _a.forEach((kwd) => this.addKeyword(kwd));\n}\nfunction addBeforeRule(ruleGroup, rule, before) {\n    const i = ruleGroup.rules.findIndex((_rule) => _rule.keyword === before);\n    if (i >= 0) {\n        ruleGroup.rules.splice(i, 0, rule);\n    }\n    else {\n        ruleGroup.rules.push(rule);\n        this.logger.warn(`rule ${before} is not defined`);\n    }\n}\nfunction keywordMetaschema(def) {\n    let { metaSchema } = def;\n    if (metaSchema === undefined)\n        return;\n    if (def.$data && this.opts.$data)\n        metaSchema = schemaOrData(metaSchema);\n    def.validateSchema = this.compile(metaSchema, true);\n}\nconst $dataRef = {\n    $ref: \"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#\",\n};\nfunction schemaOrData(schema) {\n    return { anyOf: [schema, $dataRef] };\n}\n//# sourceMappingURL=core.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst subschema_1 = require(\"../../compile/subschema\");\nconst util_1 = require(\"../../compile/util\");\nconst validate_1 = require(\"../../compile/validate\");\nconst error = {\n    message: ({ params: { len } }) => codegen_1.str `should NOT have more than ${len} items`,\n    params: ({ params: { len } }) => codegen_1._ `{limit: ${len}}`,\n};\nconst def = {\n    keyword: \"additionalItems\",\n    type: \"array\",\n    schemaType: [\"boolean\", \"object\"],\n    before: \"uniqueItems\",\n    error,\n    code(cxt) {\n        const { gen, schema, parentSchema, data, it } = cxt;\n        const { items } = parentSchema;\n        if (!Array.isArray(items)) {\n            validate_1.checkStrictMode(it, '\"additionalItems\" is ignored when \"items\" is not an array of schemas');\n            return;\n        }\n        it.items = true;\n        const len = gen.const(\"len\", codegen_1._ `${data}.length`);\n        if (schema === false) {\n            cxt.setParams({ len: items.length });\n            cxt.pass(codegen_1._ `${len} <= ${items.length}`);\n        }\n        else if (typeof schema == \"object\" && !util_1.alwaysValidSchema(it, schema)) {\n            const valid = gen.var(\"valid\", codegen_1._ `${len} <= ${items.length}`); // TODO var\n            gen.if(codegen_1.not(valid), () => validateItems(valid));\n            cxt.ok(valid);\n        }\n        function validateItems(valid) {\n            gen.forRange(\"i\", items.length, len, (i) => {\n                cxt.subschema({ keyword: \"additionalItems\", dataProp: i, dataPropType: subschema_1.Type.Num }, valid);\n                if (!it.allErrors)\n                    gen.if(codegen_1.not(valid), () => gen.break());\n            });\n        }\n    },\n};\nexports.default = def;\n//# sourceMappingURL=additionalItems.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst code_1 = require(\"../code\");\nconst codegen_1 = require(\"../../compile/codegen\");\nconst names_1 = require(\"../../compile/names\");\nconst subschema_1 = require(\"../../compile/subschema\");\nconst util_1 = require(\"../../compile/util\");\nconst error = {\n    message: \"should NOT have additional properties\",\n    params: ({ params }) => codegen_1._ `{additionalProperty: ${params.additionalProperty}}`,\n};\nconst def = {\n    keyword: \"additionalProperties\",\n    type: [\"object\"],\n    schemaType: [\"boolean\", \"object\"],\n    allowUndefined: true,\n    trackErrors: true,\n    error,\n    code(cxt) {\n        const { gen, schema, parentSchema, data, errsCount, it } = cxt;\n        /* istanbul ignore if */\n        if (!errsCount)\n            throw new Error(\"ajv implementation error\");\n        const { allErrors, opts } = it;\n        it.props = true;\n        if (opts.removeAdditional !== \"all\" && util_1.alwaysValidSchema(it, schema))\n            return;\n        const props = code_1.allSchemaProperties(parentSchema.properties);\n        const patProps = code_1.allSchemaProperties(parentSchema.patternProperties);\n        checkAdditionalProperties();\n        cxt.ok(codegen_1._ `${errsCount} === ${names_1.default.errors}`);\n        function checkAdditionalProperties() {\n            gen.forIn(\"key\", data, (key) => {\n                if (!props.length && !patProps.length)\n                    additionalPropertyCode(key);\n                else\n                    gen.if(isAdditional(key), () => additionalPropertyCode(key));\n            });\n        }\n        function isAdditional(key) {\n            let definedProp;\n            if (props.length > 8) {\n                // TODO maybe an option instead of hard-coded 8?\n                const propsSchema = util_1.schemaRefOrVal(it, parentSchema.properties, \"properties\");\n                definedProp = code_1.isOwnProperty(gen, propsSchema, key);\n            }\n            else if (props.length) {\n                definedProp = codegen_1.or(...props.map((p) => codegen_1._ `${key} === ${p}`));\n            }\n            else {\n                definedProp = codegen_1.nil;\n            }\n            if (patProps.length) {\n                definedProp = codegen_1.or(definedProp, ...patProps.map((p) => codegen_1._ `${code_1.usePattern(gen, p)}.test(${key})`));\n            }\n            return codegen_1.not(definedProp);\n        }\n        function deleteAdditional(key) {\n            gen.code(codegen_1._ `delete ${data}[${key}]`);\n        }\n        function additionalPropertyCode(key) {\n            if (opts.removeAdditional === \"all\" || (opts.removeAdditional && schema === false)) {\n                deleteAdditional(key);\n                return;\n            }\n            if (schema === false) {\n                cxt.setParams({ additionalProperty: key });\n                cxt.error();\n                if (!allErrors)\n                    gen.break();\n                return;\n            }\n            if (typeof schema == \"object\" && !util_1.alwaysValidSchema(it, schema)) {\n                const valid = gen.name(\"valid\");\n                if (opts.removeAdditional === \"failing\") {\n                    applyAdditionalSchema(key, valid, false);\n                    gen.if(codegen_1.not(valid), () => {\n                        cxt.reset();\n                        deleteAdditional(key);\n                    });\n                }\n                else {\n                    applyAdditionalSchema(key, valid);\n                    if (!allErrors)\n                        gen.if(codegen_1.not(valid), () => gen.break());\n                }\n            }\n        }\n        function applyAdditionalSchema(key, valid, errors) {\n            const subschema = {\n                keyword: \"additionalProperties\",\n                dataProp: key,\n                dataPropType: subschema_1.Type.Str,\n            };\n            if (errors === false) {\n                Object.assign(subschema, {\n                    compositeRule: true,\n                    createErrors: false,\n                    allErrors: false,\n                });\n            }\n            cxt.subschema(subschema, valid);\n        }\n    },\n};\nexports.default = def;\n//# sourceMappingURL=additionalProperties.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst util_1 = require(\"../../compile/util\");\nconst def = {\n    keyword: \"allOf\",\n    schemaType: \"array\",\n    code(cxt) {\n        const { gen, schema, it } = cxt;\n        /* istanbul ignore if */\n        if (!Array.isArray(schema))\n            throw new Error(\"ajv implementation error\");\n        const valid = gen.name(\"valid\");\n        schema.forEach((sch, i) => {\n            if (util_1.alwaysValidSchema(it, sch))\n                return;\n            const schCxt = cxt.subschema({ keyword: \"allOf\", schemaProp: i }, valid);\n            cxt.ok(valid);\n            cxt.mergeEvaluated(schCxt);\n        });\n    },\n};\nexports.default = def;\n//# sourceMappingURL=allOf.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst code_1 = require(\"../code\");\nconst def = {\n    keyword: \"anyOf\",\n    schemaType: \"array\",\n    trackErrors: true,\n    code: code_1.validateUnion,\n    error: {\n        message: \"should match some schema in anyOf\",\n    },\n};\nexports.default = def;\n//# sourceMappingURL=anyOf.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst subschema_1 = require(\"../../compile/subschema\");\nconst util_1 = require(\"../../compile/util\");\nconst validate_1 = require(\"../../compile/validate\");\nconst error = {\n    message: ({ params: { min, max } }) => max === undefined\n        ? codegen_1.str `should contain at least ${min} valid item(s)`\n        : codegen_1.str `should contain at least ${min} and no more than ${max} valid item(s)`,\n    params: ({ params: { min, max } }) => max === undefined ? codegen_1._ `{minContains: ${min}}` : codegen_1._ `{minContains: ${min}, maxContains: ${max}}`,\n};\nconst def = {\n    keyword: \"contains\",\n    type: \"array\",\n    schemaType: [\"object\", \"boolean\"],\n    before: \"uniqueItems\",\n    trackErrors: true,\n    error,\n    code(cxt) {\n        const { gen, schema, parentSchema, data, it } = cxt;\n        let min;\n        let max;\n        const { minContains, maxContains } = parentSchema;\n        if (it.opts.next) {\n            min = minContains === undefined ? 1 : minContains;\n            max = maxContains;\n        }\n        else {\n            min = 1;\n        }\n        const len = gen.const(\"len\", codegen_1._ `${data}.length`);\n        cxt.setParams({ min, max });\n        if (max === undefined && min === 0) {\n            validate_1.checkStrictMode(it, `\"minContains\" == 0 without \"maxContains\": \"contains\" keyword ignored`);\n            return;\n        }\n        if (max !== undefined && min > max) {\n            validate_1.checkStrictMode(it, `\"minContains\" > \"maxContains\" is always invalid`);\n            cxt.fail();\n            return;\n        }\n        if (util_1.alwaysValidSchema(it, schema)) {\n            let cond = codegen_1._ `${len} >= ${min}`;\n            if (max !== undefined)\n                cond = codegen_1._ `${cond} && ${len} <= ${max}`;\n            cxt.pass(cond);\n            return;\n        }\n        it.items = true;\n        const valid = gen.name(\"valid\");\n        if (max === undefined && min === 1) {\n            validateItems(valid, () => gen.if(valid, () => gen.break()));\n        }\n        else {\n            gen.let(valid, false);\n            const schValid = gen.name(\"_valid\");\n            const count = gen.let(\"count\", 0);\n            validateItems(schValid, () => gen.if(schValid, () => checkLimits(count)));\n        }\n        cxt.result(valid, () => cxt.reset());\n        function validateItems(_valid, block) {\n            gen.forRange(\"i\", 0, len, (i) => {\n                cxt.subschema({\n                    keyword: \"contains\",\n                    dataProp: i,\n                    dataPropType: subschema_1.Type.Num,\n                    compositeRule: true,\n                }, _valid);\n                block();\n            });\n        }\n        function checkLimits(count) {\n            gen.code(codegen_1._ `${count}++`);\n            if (max === undefined) {\n                gen.if(codegen_1._ `${count} >= ${min}`, () => gen.assign(valid, true).break());\n            }\n            else {\n                gen.if(codegen_1._ `${count} > ${max}`, () => gen.assign(valid, false).break());\n                if (min === 1)\n                    gen.assign(valid, true);\n                else\n                    gen.if(codegen_1._ `${count} >= ${min}`, () => gen.assign(valid, true));\n            }\n        }\n    },\n};\nexports.default = def;\n//# sourceMappingURL=contains.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.validateSchemaDeps = exports.validatePropertyDeps = exports.error = void 0;\nconst codegen_1 = require(\"../../compile/codegen\");\nconst util_1 = require(\"../../compile/util\");\nconst code_1 = require(\"../code\");\nexports.error = {\n    message: ({ params: { property, depsCount, deps } }) => {\n        const property_ies = depsCount === 1 ? \"property\" : \"properties\";\n        return codegen_1.str `should have ${property_ies} ${deps} when property ${property} is present`;\n    },\n    params: ({ params: { property, depsCount, deps, missingProperty } }) => codegen_1._ `{property: ${property},\n    missingProperty: ${missingProperty},\n    depsCount: ${depsCount},\n    deps: ${deps}}`, // TODO change to reference\n};\nconst def = {\n    keyword: \"dependencies\",\n    type: \"object\",\n    schemaType: \"object\",\n    error: exports.error,\n    code(cxt) {\n        const [propDeps, schDeps] = splitDependencies(cxt);\n        validatePropertyDeps(cxt, propDeps);\n        validateSchemaDeps(cxt, schDeps);\n    },\n};\nfunction splitDependencies({ schema }) {\n    const propertyDeps = {};\n    const schemaDeps = {};\n    for (const key in schema) {\n        if (key === \"__proto__\")\n            continue;\n        const deps = Array.isArray(schema[key]) ? propertyDeps : schemaDeps;\n        deps[key] = schema[key];\n    }\n    return [propertyDeps, schemaDeps];\n}\nfunction validatePropertyDeps(cxt, propertyDeps = cxt.schema) {\n    const { gen, data, it } = cxt;\n    if (Object.keys(propertyDeps).length === 0)\n        return;\n    const missing = gen.let(\"missing\");\n    for (const prop in propertyDeps) {\n        const deps = propertyDeps[prop];\n        if (deps.length === 0)\n            continue;\n        const hasProperty = code_1.propertyInData(gen, data, prop, it.opts.ownProperties);\n        cxt.setParams({\n            property: prop,\n            depsCount: deps.length,\n            deps: deps.join(\", \"),\n        });\n        if (it.allErrors) {\n            gen.if(hasProperty, () => {\n                for (const depProp of deps) {\n                    code_1.checkReportMissingProp(cxt, depProp);\n                }\n            });\n        }\n        else {\n            gen.if(codegen_1._ `${hasProperty} && (${code_1.checkMissingProp(cxt, deps, missing)})`);\n            code_1.reportMissingProp(cxt, missing);\n            gen.else();\n        }\n    }\n}\nexports.validatePropertyDeps = validatePropertyDeps;\nfunction validateSchemaDeps(cxt, schemaDeps = cxt.schema) {\n    const { gen, data, keyword, it } = cxt;\n    const valid = gen.name(\"valid\");\n    for (const prop in schemaDeps) {\n        if (util_1.alwaysValidSchema(it, schemaDeps[prop]))\n            continue;\n        gen.if(code_1.propertyInData(gen, data, prop, it.opts.ownProperties), () => {\n            const schCxt = cxt.subschema({ keyword, schemaProp: prop }, valid);\n            cxt.mergeValidEvaluated(schCxt, valid);\n        }, () => gen.var(valid, true) // TODO var\n        );\n        cxt.ok(valid);\n    }\n}\nexports.validateSchemaDeps = validateSchemaDeps;\nexports.default = def;\n//# sourceMappingURL=dependencies.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst util_1 = require(\"../../compile/util\");\nconst validate_1 = require(\"../../compile/validate\");\nconst error = {\n    message: ({ params }) => codegen_1.str `should match \"${params.ifClause}\" schema`,\n    params: ({ params }) => codegen_1._ `{failingKeyword: ${params.ifClause}}`,\n};\nconst def = {\n    keyword: \"if\",\n    schemaType: [\"object\", \"boolean\"],\n    trackErrors: true,\n    error,\n    code(cxt) {\n        const { gen, parentSchema, it } = cxt;\n        if (parentSchema.then === undefined && parentSchema.else === undefined) {\n            validate_1.checkStrictMode(it, '\"if\" without \"then\" and \"else\" is ignored');\n        }\n        const hasThen = hasSchema(it, \"then\");\n        const hasElse = hasSchema(it, \"else\");\n        if (!hasThen && !hasElse)\n            return;\n        const valid = gen.let(\"valid\", true);\n        const schValid = gen.name(\"_valid\");\n        validateIf();\n        cxt.reset();\n        if (hasThen && hasElse) {\n            const ifClause = gen.let(\"ifClause\");\n            cxt.setParams({ ifClause });\n            gen.if(schValid, validateClause(\"then\", ifClause), validateClause(\"else\", ifClause));\n        }\n        else if (hasThen) {\n            gen.if(schValid, validateClause(\"then\"));\n        }\n        else {\n            gen.if(codegen_1.not(schValid), validateClause(\"else\"));\n        }\n        cxt.pass(valid, () => cxt.error(true));\n        function validateIf() {\n            const schCxt = cxt.subschema({\n                keyword: \"if\",\n                compositeRule: true,\n                createErrors: false,\n                allErrors: false,\n            }, schValid);\n            cxt.mergeEvaluated(schCxt);\n        }\n        function validateClause(keyword, ifClause) {\n            return () => {\n                const schCxt = cxt.subschema({ keyword }, schValid);\n                gen.assign(valid, schValid);\n                cxt.mergeValidEvaluated(schCxt, valid);\n                if (ifClause)\n                    gen.assign(ifClause, codegen_1._ `${keyword}`);\n                else\n                    cxt.setParams({ ifClause: keyword });\n            };\n        }\n    },\n};\nfunction hasSchema(it, keyword) {\n    const schema = it.schema[keyword];\n    return schema !== undefined && !util_1.alwaysValidSchema(it, schema);\n}\nexports.default = def;\n//# sourceMappingURL=if.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst additionalItems_1 = require(\"./additionalItems\");\nconst items_1 = require(\"./items\");\nconst contains_1 = require(\"./contains\");\nconst dependencies_1 = require(\"./dependencies\");\nconst propertyNames_1 = require(\"./propertyNames\");\nconst additionalProperties_1 = require(\"./additionalProperties\");\nconst properties_1 = require(\"./properties\");\nconst patternProperties_1 = require(\"./patternProperties\");\nconst not_1 = require(\"./not\");\nconst anyOf_1 = require(\"./anyOf\");\nconst oneOf_1 = require(\"./oneOf\");\nconst allOf_1 = require(\"./allOf\");\nconst if_1 = require(\"./if\");\nconst thenElse_1 = require(\"./thenElse\");\nconst applicator = [\n    // any\n    not_1.default,\n    anyOf_1.default,\n    oneOf_1.default,\n    allOf_1.default,\n    if_1.default,\n    thenElse_1.default,\n    // array\n    additionalItems_1.default,\n    items_1.default,\n    contains_1.default,\n    // object\n    propertyNames_1.default,\n    additionalProperties_1.default,\n    dependencies_1.default,\n    properties_1.default,\n    patternProperties_1.default,\n];\nexports.default = applicator;\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst util_1 = require(\"../../compile/util\");\nconst validate_1 = require(\"../../compile/validate\");\nconst code_1 = require(\"../code\");\nconst def = {\n    keyword: \"items\",\n    type: \"array\",\n    schemaType: [\"object\", \"array\", \"boolean\"],\n    before: \"uniqueItems\",\n    code(cxt) {\n        const { gen, schema, it } = cxt;\n        if (Array.isArray(schema)) {\n            if (it.opts.unevaluated && schema.length && it.items !== true) {\n                it.items = util_1.mergeEvaluated.items(gen, schema.length, it.items);\n            }\n            validateTuple(schema);\n        }\n        else {\n            it.items = true;\n            if (util_1.alwaysValidSchema(it, schema))\n                return;\n            cxt.ok(code_1.validateArray(cxt));\n        }\n        function validateTuple(schArr) {\n            const { parentSchema, data } = cxt;\n            if (it.opts.strictTuples && !fullTupleSchema(schArr.length, parentSchema)) {\n                const msg = `\"items\" is ${schArr.length}-tuple, but minItems or maxItems/additionalItems are not specified or different`;\n                validate_1.checkStrictMode(it, msg, it.opts.strictTuples);\n            }\n            const valid = gen.name(\"valid\");\n            const len = gen.const(\"len\", codegen_1._ `${data}.length`);\n            schArr.forEach((sch, i) => {\n                if (util_1.alwaysValidSchema(it, sch))\n                    return;\n                gen.if(codegen_1._ `${len} > ${i}`, () => cxt.subschema({\n                    keyword: \"items\",\n                    schemaProp: i,\n                    dataProp: i,\n                }, valid));\n                cxt.ok(valid);\n            });\n        }\n    },\n};\nfunction fullTupleSchema(len, sch) {\n    return len === sch.minItems && (len === sch.maxItems || sch.additionalItems === false);\n}\nexports.default = def;\n//# sourceMappingURL=items.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst util_1 = require(\"../../compile/util\");\nconst def = {\n    keyword: \"not\",\n    schemaType: [\"object\", \"boolean\"],\n    trackErrors: true,\n    code(cxt) {\n        const { gen, schema, it } = cxt;\n        if (util_1.alwaysValidSchema(it, schema)) {\n            cxt.fail();\n            return;\n        }\n        const valid = gen.name(\"valid\");\n        cxt.subschema({\n            keyword: \"not\",\n            compositeRule: true,\n            createErrors: false,\n            allErrors: false,\n        }, valid);\n        cxt.result(valid, () => cxt.error(), () => cxt.reset());\n    },\n    error: {\n        message: \"should NOT be valid\",\n    },\n};\nexports.default = def;\n//# sourceMappingURL=not.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst util_1 = require(\"../../compile/util\");\nconst error = {\n    message: \"should match exactly one schema in oneOf\",\n    params: ({ params }) => codegen_1._ `{passingSchemas: ${params.passing}}`,\n};\nconst def = {\n    keyword: \"oneOf\",\n    schemaType: \"array\",\n    trackErrors: true,\n    error,\n    code(cxt) {\n        const { gen, schema, it } = cxt;\n        /* istanbul ignore if */\n        if (!Array.isArray(schema))\n            throw new Error(\"ajv implementation error\");\n        const schArr = schema;\n        const valid = gen.let(\"valid\", false);\n        const passing = gen.let(\"passing\", null);\n        const schValid = gen.name(\"_valid\");\n        cxt.setParams({ passing });\n        // TODO possibly fail straight away (with warning or exception) if there are two empty always valid schemas\n        gen.block(validateOneOf);\n        cxt.result(valid, () => cxt.reset(), () => cxt.error(true));\n        function validateOneOf() {\n            schArr.forEach((sch, i) => {\n                let schCxt;\n                if (util_1.alwaysValidSchema(it, sch)) {\n                    gen.var(schValid, true);\n                }\n                else {\n                    schCxt = cxt.subschema({\n                        keyword: \"oneOf\",\n                        schemaProp: i,\n                        compositeRule: true,\n                    }, schValid);\n                }\n                if (i > 0) {\n                    gen\n                        .if(codegen_1._ `${schValid} && ${valid}`)\n                        .assign(valid, false)\n                        .assign(passing, codegen_1._ `[${passing}, ${i}]`)\n                        .else();\n                }\n                gen.if(schValid, () => {\n                    gen.assign(valid, true);\n                    gen.assign(passing, i);\n                    if (schCxt)\n                        cxt.mergeEvaluated(schCxt, codegen_1.Name);\n                });\n            });\n        }\n    },\n};\nexports.default = def;\n//# sourceMappingURL=oneOf.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst code_1 = require(\"../code\");\nconst codegen_1 = require(\"../../compile/codegen\");\nconst subschema_1 = require(\"../../compile/subschema\");\nconst validate_1 = require(\"../../compile/validate\");\nconst util_1 = require(\"../../compile/util\");\nconst def = {\n    keyword: \"patternProperties\",\n    type: \"object\",\n    schemaType: \"object\",\n    code(cxt) {\n        const { gen, schema, data, parentSchema, it } = cxt;\n        const { opts } = it;\n        const patterns = code_1.schemaProperties(it, schema);\n        // TODO mark properties matching patterns with always valid schemas as evaluated\n        if (patterns.length === 0)\n            return;\n        const checkProperties = opts.strict && !opts.allowMatchingProperties && parentSchema.properties;\n        const valid = gen.name(\"valid\");\n        if (it.props !== true && !(it.props instanceof codegen_1.Name)) {\n            it.props = util_1.evaluatedPropsToName(gen, it.props);\n        }\n        const { props } = it;\n        validatePatternProperties();\n        function validatePatternProperties() {\n            for (const pat of patterns) {\n                if (checkProperties)\n                    checkMatchingProperties(pat);\n                if (it.allErrors) {\n                    validateProperties(pat);\n                }\n                else {\n                    gen.var(valid, true); // TODO var\n                    validateProperties(pat);\n                    gen.if(valid);\n                }\n            }\n        }\n        function checkMatchingProperties(pat) {\n            for (const prop in checkProperties) {\n                if (new RegExp(pat).test(prop)) {\n                    validate_1.checkStrictMode(it, `property ${prop} matches pattern ${pat} (use allowMatchingProperties)`);\n                }\n            }\n        }\n        function validateProperties(pat) {\n            gen.forIn(\"key\", data, (key) => {\n                gen.if(codegen_1._ `${code_1.usePattern(gen, pat)}.test(${key})`, () => {\n                    cxt.subschema({\n                        keyword: \"patternProperties\",\n                        schemaProp: pat,\n                        dataProp: key,\n                        dataPropType: subschema_1.Type.Str,\n                    }, valid);\n                    if (it.opts.unevaluated && props !== true) {\n                        gen.assign(codegen_1._ `${props}[${key}]`, true);\n                    }\n                    else if (!it.allErrors) {\n                        // can short-circuit if `unevaluatedProperties` is not supported (opts.next === false)\n                        // or if all properties were evaluated (props === true)\n                        gen.if(codegen_1.not(valid), () => gen.break());\n                    }\n                });\n            });\n        }\n    },\n};\nexports.default = def;\n//# sourceMappingURL=patternProperties.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst context_1 = require(\"../../compile/context\");\nconst code_1 = require(\"../code\");\nconst util_1 = require(\"../../compile/util\");\nconst additionalProperties_1 = require(\"./additionalProperties\");\nconst def = {\n    keyword: \"properties\",\n    type: \"object\",\n    schemaType: \"object\",\n    code(cxt) {\n        const { gen, schema, parentSchema, data, it } = cxt;\n        if (it.opts.removeAdditional === \"all\" && parentSchema.additionalProperties === undefined) {\n            additionalProperties_1.default.code(new context_1.default(it, additionalProperties_1.default, \"additionalProperties\"));\n        }\n        const allProps = code_1.allSchemaProperties(schema);\n        for (const prop of allProps) {\n            it.definedProperties.add(prop);\n        }\n        if (it.opts.unevaluated && allProps.length && it.props !== true) {\n            it.props = util_1.mergeEvaluated.props(gen, util_1.toHash(allProps), it.props);\n        }\n        const properties = allProps.filter((p) => !util_1.alwaysValidSchema(it, schema[p]));\n        if (properties.length === 0)\n            return;\n        const valid = gen.name(\"valid\");\n        for (const prop of properties) {\n            if (hasDefault(prop)) {\n                applyPropertySchema(prop);\n            }\n            else {\n                gen.if(code_1.propertyInData(gen, data, prop, it.opts.ownProperties));\n                applyPropertySchema(prop);\n                if (!it.allErrors)\n                    gen.else().var(valid, true);\n                gen.endIf();\n            }\n            cxt.it.definedProperties.add(prop);\n            cxt.ok(valid);\n        }\n        function hasDefault(prop) {\n            return it.opts.useDefaults && !it.compositeRule && schema[prop].default !== undefined;\n        }\n        function applyPropertySchema(prop) {\n            cxt.subschema({\n                keyword: \"properties\",\n                schemaProp: prop,\n                dataProp: prop,\n            }, valid);\n        }\n    },\n};\nexports.default = def;\n//# sourceMappingURL=properties.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst util_1 = require(\"../../compile/util\");\nconst error = {\n    message: ({ params }) => codegen_1.str `property name '${params.propertyName}' is invalid`,\n    params: ({ params }) => codegen_1._ `{propertyName: ${params.propertyName}}`,\n};\nconst def = {\n    keyword: \"propertyNames\",\n    type: \"object\",\n    schemaType: [\"object\", \"boolean\"],\n    error,\n    code(cxt) {\n        const { gen, schema, data, it } = cxt;\n        if (util_1.alwaysValidSchema(it, schema))\n            return;\n        const valid = gen.name(\"valid\");\n        gen.forIn(\"key\", data, (key) => {\n            cxt.setParams({ propertyName: key });\n            cxt.subschema({\n                keyword: \"propertyNames\",\n                data: key,\n                dataTypes: [\"string\"],\n                propertyName: key,\n                compositeRule: true,\n            }, valid);\n            gen.if(codegen_1.not(valid), () => {\n                cxt.error(true);\n                if (!it.allErrors)\n                    gen.break();\n            });\n        });\n        cxt.ok(valid);\n    },\n};\nexports.default = def;\n//# sourceMappingURL=propertyNames.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst validate_1 = require(\"../../compile/validate\");\nconst def = {\n    keyword: [\"then\", \"else\"],\n    schemaType: [\"object\", \"boolean\"],\n    code({ keyword, parentSchema, it }) {\n        if (parentSchema.if === undefined)\n            validate_1.checkStrictMode(it, `\"${keyword}\" without \"if\" is ignored`);\n    },\n};\nexports.default = def;\n//# sourceMappingURL=thenElse.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.validateUnion = exports.validateArray = exports.usePattern = exports.callValidateCode = exports.schemaProperties = exports.allSchemaProperties = exports.noPropertyInData = exports.propertyInData = exports.isOwnProperty = exports.hasPropFunc = exports.reportMissingProp = exports.checkMissingProp = exports.checkReportMissingProp = void 0;\nconst codegen_1 = require(\"../compile/codegen\");\nconst util_1 = require(\"../compile/util\");\nconst subschema_1 = require(\"../compile/subschema\");\nconst names_1 = require(\"../compile/names\");\nfunction checkReportMissingProp(cxt, prop) {\n    const { gen, data, it } = cxt;\n    gen.if(noPropertyInData(gen, data, prop, it.opts.ownProperties), () => {\n        cxt.setParams({ missingProperty: codegen_1._ `${prop}` }, true);\n        cxt.error();\n    });\n}\nexports.checkReportMissingProp = checkReportMissingProp;\nfunction checkMissingProp({ gen, data, it: { opts } }, properties, missing) {\n    return codegen_1.or(...properties.map((prop) => codegen_1.and(noPropertyInData(gen, data, prop, opts.ownProperties), codegen_1._ `${missing} = ${prop}`)));\n}\nexports.checkMissingProp = checkMissingProp;\nfunction reportMissingProp(cxt, missing) {\n    cxt.setParams({ missingProperty: missing }, true);\n    cxt.error();\n}\nexports.reportMissingProp = reportMissingProp;\nfunction hasPropFunc(gen) {\n    return gen.scopeValue(\"func\", {\n        // eslint-disable-next-line @typescript-eslint/unbound-method\n        ref: Object.prototype.hasOwnProperty,\n        code: codegen_1._ `Object.prototype.hasOwnProperty`,\n    });\n}\nexports.hasPropFunc = hasPropFunc;\nfunction isOwnProperty(gen, data, property) {\n    return codegen_1._ `${hasPropFunc(gen)}.call(${data}, ${property})`;\n}\nexports.isOwnProperty = isOwnProperty;\nfunction propertyInData(gen, data, property, ownProperties) {\n    const cond = codegen_1._ `${data}${codegen_1.getProperty(property)} !== undefined`;\n    return ownProperties ? codegen_1._ `${cond} && ${isOwnProperty(gen, data, property)}` : cond;\n}\nexports.propertyInData = propertyInData;\nfunction noPropertyInData(gen, data, property, ownProperties) {\n    const cond = codegen_1._ `${data}${codegen_1.getProperty(property)} === undefined`;\n    return ownProperties ? codegen_1.or(cond, codegen_1.not(isOwnProperty(gen, data, property))) : cond;\n}\nexports.noPropertyInData = noPropertyInData;\nfunction allSchemaProperties(schemaMap) {\n    return schemaMap ? Object.keys(schemaMap).filter((p) => p !== \"__proto__\") : [];\n}\nexports.allSchemaProperties = allSchemaProperties;\nfunction schemaProperties(it, schemaMap) {\n    return allSchemaProperties(schemaMap).filter((p) => !util_1.alwaysValidSchema(it, schemaMap[p]));\n}\nexports.schemaProperties = schemaProperties;\nfunction callValidateCode({ schemaCode, data, it: { gen, topSchemaRef, schemaPath, errorPath }, it }, func, context, passSchema) {\n    const dataAndSchema = passSchema ? codegen_1._ `${schemaCode}, ${data}, ${topSchemaRef}${schemaPath}` : data;\n    const valCxt = [\n        [names_1.default.dataPath, codegen_1.strConcat(names_1.default.dataPath, errorPath)],\n        [names_1.default.parentData, it.parentData],\n        [names_1.default.parentDataProperty, it.parentDataProperty],\n        [names_1.default.rootData, names_1.default.rootData],\n    ];\n    if (it.opts.dynamicRef)\n        valCxt.push([names_1.default.dynamicAnchors, names_1.default.dynamicAnchors]);\n    const args = codegen_1._ `${dataAndSchema}, ${gen.object(...valCxt)}`;\n    return context !== codegen_1.nil ? codegen_1._ `${func}.call(${context}, ${args})` : codegen_1._ `${func}(${args})`;\n}\nexports.callValidateCode = callValidateCode;\nfunction usePattern(gen, pattern) {\n    return gen.scopeValue(\"pattern\", {\n        key: pattern,\n        ref: new RegExp(pattern, \"u\"),\n        code: codegen_1._ `new RegExp(${pattern}, \"u\")`,\n    });\n}\nexports.usePattern = usePattern;\nfunction validateArray(cxt) {\n    const { gen, data, keyword, it } = cxt;\n    const valid = gen.name(\"valid\");\n    if (it.allErrors) {\n        const validArr = gen.let(\"valid\", true);\n        validateItems(() => gen.assign(validArr, false));\n        return validArr;\n    }\n    gen.var(valid, true);\n    validateItems(() => gen.break());\n    return valid;\n    function validateItems(notValid) {\n        const len = gen.const(\"len\", codegen_1._ `${data}.length`);\n        gen.forRange(\"i\", 0, len, (i) => {\n            cxt.subschema({\n                keyword,\n                dataProp: i,\n                dataPropType: subschema_1.Type.Num,\n            }, valid);\n            gen.if(codegen_1.not(valid), notValid);\n        });\n    }\n}\nexports.validateArray = validateArray;\nfunction validateUnion(cxt) {\n    const { gen, schema, keyword, it } = cxt;\n    /* istanbul ignore if */\n    if (!Array.isArray(schema))\n        throw new Error(\"ajv implementation error\");\n    const alwaysValid = schema.some((sch) => util_1.alwaysValidSchema(it, sch));\n    if (alwaysValid && !it.opts.unevaluated)\n        return;\n    const valid = gen.let(\"valid\", false);\n    const schValid = gen.name(\"_valid\");\n    gen.block(() => schema.forEach((_sch, i) => {\n        const schCxt = cxt.subschema({\n            keyword,\n            schemaProp: i,\n            compositeRule: true,\n        }, schValid);\n        gen.assign(valid, codegen_1._ `${valid} || ${schValid}`);\n        const merged = cxt.mergeValidEvaluated(schCxt, schValid);\n        // can short-circuit if `unevaluatedProperties/Items` not supported (opts.unevaluated !== true)\n        // or if all properties and items were evaluated (it.props === true && it.items === true)\n        if (!merged)\n            gen.if(codegen_1.not(valid));\n    }));\n    cxt.result(valid, () => cxt.reset(), () => cxt.error(true));\n}\nexports.validateUnion = validateUnion;\n//# sourceMappingURL=code.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst def = {\n    keyword: \"id\",\n    code() {\n        throw new Error('NOT SUPPORTED: keyword \"id\", use \"$id\" for schema ID');\n    },\n};\nexports.default = def;\n//# sourceMappingURL=id.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst id_1 = require(\"./id\");\nconst ref_1 = require(\"./ref\");\nconst core = [\n    \"$schema\",\n    \"$id\",\n    \"$defs\",\n    \"$vocabulary\",\n    { keyword: \"$comment\" },\n    \"definitions\",\n    id_1.default,\n    ref_1.default,\n];\nexports.default = core;\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.callRef = exports.getValidate = void 0;\nconst error_classes_1 = require(\"../../compile/error_classes\");\nconst code_1 = require(\"../code\");\nconst codegen_1 = require(\"../../compile/codegen\");\nconst names_1 = require(\"../../compile/names\");\nconst compile_1 = require(\"../../compile\");\nconst util_1 = require(\"../../compile/util\");\nconst def = {\n    keyword: \"$ref\",\n    schemaType: \"string\",\n    code(cxt) {\n        const { gen, schema, it } = cxt;\n        const { baseId, schemaEnv: env, validateName, opts, self } = it;\n        // TODO See comment in dynamicRef.ts\n        // This has to be improved to resolve #815.\n        if (schema === \"#\" || schema === \"#/\")\n            return callRootRef();\n        const schOrEnv = compile_1.resolveRef.call(self, env.root, baseId, schema);\n        if (schOrEnv === undefined)\n            throw new error_classes_1.MissingRefError(baseId, schema);\n        if (schOrEnv instanceof compile_1.SchemaEnv)\n            return callValidate(schOrEnv);\n        return inlineRefSchema(schOrEnv);\n        function callRootRef() {\n            if (env === env.root)\n                return callRef(cxt, validateName, env, env.$async);\n            const rootName = gen.scopeValue(\"root\", { ref: env.root });\n            return callRef(cxt, codegen_1._ `${rootName}.validate`, env.root, env.root.$async);\n        }\n        function callValidate(sch) {\n            const v = getValidate(cxt, sch);\n            callRef(cxt, v, sch, sch.$async);\n        }\n        function inlineRefSchema(sch) {\n            const schName = gen.scopeValue(\"schema\", opts.code.source === true ? { ref: sch, code: codegen_1.stringify(sch) } : { ref: sch });\n            const valid = gen.name(\"valid\");\n            const schCxt = cxt.subschema({\n                schema: sch,\n                dataTypes: [],\n                schemaPath: codegen_1.nil,\n                topSchemaRef: schName,\n                errSchemaPath: schema,\n            }, valid);\n            cxt.mergeEvaluated(schCxt);\n            cxt.ok(valid);\n        }\n    },\n};\nfunction getValidate(cxt, sch) {\n    const { gen } = cxt;\n    return sch.validate\n        ? gen.scopeValue(\"validate\", { ref: sch.validate })\n        : codegen_1._ `${gen.scopeValue(\"wrapper\", { ref: sch })}.validate`;\n}\nexports.getValidate = getValidate;\nfunction callRef(cxt, v, sch, $async) {\n    const { gen, it } = cxt;\n    const { allErrors, schemaEnv: env, opts } = it;\n    const passCxt = opts.passContext ? names_1.default.this : codegen_1.nil;\n    if ($async)\n        callAsyncRef();\n    else\n        callSyncRef();\n    function callAsyncRef() {\n        if (!env.$async)\n            throw new Error(\"async schema referenced by sync schema\");\n        const valid = gen.let(\"valid\");\n        gen.try(() => {\n            gen.code(codegen_1._ `await ${code_1.callValidateCode(cxt, v, passCxt)}`);\n            addEvaluatedFrom(v); // TODO will not work with async, it has to be returned with the result\n            if (!allErrors)\n                gen.assign(valid, true);\n        }, (e) => {\n            gen.if(codegen_1._ `!(${e} instanceof ${it.ValidationError})`, () => gen.throw(e));\n            addErrorsFrom(e);\n            if (!allErrors)\n                gen.assign(valid, false);\n        });\n        cxt.ok(valid);\n    }\n    function callSyncRef() {\n        cxt.result(code_1.callValidateCode(cxt, v, passCxt), () => addEvaluatedFrom(v), () => addErrorsFrom(v));\n    }\n    function addErrorsFrom(source) {\n        const errs = codegen_1._ `${source}.errors`;\n        gen.assign(names_1.default.vErrors, codegen_1._ `${names_1.default.vErrors} === null ? ${errs} : ${names_1.default.vErrors}.concat(${errs})`); // TODO tagged\n        gen.assign(names_1.default.errors, codegen_1._ `${names_1.default.vErrors}.length`);\n    }\n    function addEvaluatedFrom(source) {\n        var _a;\n        if (!it.opts.unevaluated)\n            return;\n        const schEvaluated = (_a = sch === null || sch === void 0 ? void 0 : sch.validate) === null || _a === void 0 ? void 0 : _a.evaluated;\n        // TODO refactor\n        if (it.props !== true) {\n            if (schEvaluated && !schEvaluated.dynamicProps) {\n                if (schEvaluated.props !== undefined) {\n                    it.props = util_1.mergeEvaluated.props(gen, schEvaluated.props, it.props);\n                }\n            }\n            else {\n                const props = gen.var(\"props\", codegen_1._ `${source}.evaluated.props`);\n                it.props = util_1.mergeEvaluated.props(gen, props, it.props, codegen_1.Name);\n            }\n        }\n        if (it.items !== true) {\n            if (schEvaluated && !schEvaluated.dynamicItems) {\n                if (schEvaluated.items !== undefined) {\n                    it.items = util_1.mergeEvaluated.items(gen, schEvaluated.items, it.items);\n                }\n            }\n            else {\n                const items = gen.var(\"items\", codegen_1._ `${source}.evaluated.items`);\n                it.items = util_1.mergeEvaluated.items(gen, items, it.items, codegen_1.Name);\n            }\n        }\n    }\n}\nexports.callRef = callRef;\nexports.default = def;\n//# sourceMappingURL=ref.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst core_1 = require(\"./core\");\nconst validation_1 = require(\"./validation\");\nconst applicator_1 = require(\"./applicator\");\nconst format_1 = require(\"./format\");\nconst metadata_1 = require(\"./metadata\");\nconst draft7Vocabularies = [\n    core_1.default,\n    validation_1.default,\n    applicator_1.default,\n    format_1.default,\n    metadata_1.metadataVocabulary,\n    metadata_1.contentVocabulary,\n];\nexports.default = draft7Vocabularies;\n//# sourceMappingURL=draft7.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst error = {\n    message: ({ schemaCode }) => codegen_1.str `should match format \"${schemaCode}\"`,\n    params: ({ schemaCode }) => codegen_1._ `{format: ${schemaCode}}`,\n};\nconst def = {\n    keyword: \"format\",\n    type: [\"number\", \"string\"],\n    schemaType: \"string\",\n    $data: true,\n    error,\n    code(cxt, ruleType) {\n        const { gen, data, $data, schema, schemaCode, it } = cxt;\n        const { opts, errSchemaPath, schemaEnv, self } = it;\n        if (!opts.validateFormats)\n            return;\n        if ($data)\n            validate$DataFormat();\n        else\n            validateFormat();\n        function validate$DataFormat() {\n            const fmts = gen.scopeValue(\"formats\", {\n                ref: self.formats,\n                code: opts.code.formats,\n            });\n            const fDef = gen.const(\"fDef\", codegen_1._ `${fmts}[${schemaCode}]`);\n            const fType = gen.let(\"fType\");\n            const format = gen.let(\"format\");\n            // TODO simplify\n            gen.if(codegen_1._ `typeof ${fDef} == \"object\" && !(${fDef} instanceof RegExp)`, () => gen.assign(fType, codegen_1._ `${fDef}.type || \"string\"`).assign(format, codegen_1._ `${fDef}.validate`), () => gen.assign(fType, codegen_1._ `\"string\"`).assign(format, fDef));\n            cxt.fail$data(codegen_1.or(unknownFmt(), invalidFmt()));\n            function unknownFmt() {\n                if (opts.strict === false)\n                    return codegen_1.nil;\n                return codegen_1._ `${schemaCode} && !${format}`;\n            }\n            function invalidFmt() {\n                const callFormat = schemaEnv.$async\n                    ? codegen_1._ `(${fDef}.async ? await ${format}(${data}) : ${format}(${data}))`\n                    : codegen_1._ `${format}(${data})`;\n                const validData = codegen_1._ `(typeof ${format} == \"function\" ? ${callFormat} : ${format}.test(${data}))`;\n                return codegen_1._ `${format} && ${format} !== true && ${fType} === ${ruleType} && !${validData}`;\n            }\n        }\n        function validateFormat() {\n            const formatDef = self.formats[schema];\n            if (!formatDef) {\n                unknownFormat();\n                return;\n            }\n            if (formatDef === true)\n                return;\n            const [fmtType, format, fmtRef] = getFormat(formatDef);\n            if (fmtType === ruleType)\n                cxt.pass(validCondition());\n            function unknownFormat() {\n                if (opts.strict === false) {\n                    self.logger.warn(unknownMsg());\n                    return;\n                }\n                throw new Error(unknownMsg());\n                function unknownMsg() {\n                    return `unknown format \"${schema}\" ignored in schema at path \"${errSchemaPath}\"`;\n                }\n            }\n            function getFormat(fmtDef) {\n                const fmt = gen.scopeValue(\"formats\", {\n                    key: schema,\n                    ref: fmtDef,\n                    code: opts.code.formats ? codegen_1._ `${opts.code.formats}${codegen_1.getProperty(schema)}` : undefined,\n                });\n                if (typeof fmtDef == \"object\" && !(fmtDef instanceof RegExp)) {\n                    return [fmtDef.type || \"string\", fmtDef.validate, codegen_1._ `${fmt}.validate`];\n                }\n                return [\"string\", fmtDef, fmt];\n            }\n            function validCondition() {\n                if (typeof formatDef == \"object\" && !(formatDef instanceof RegExp) && formatDef.async) {\n                    if (!schemaEnv.$async)\n                        throw new Error(\"async format in sync schema\");\n                    return codegen_1._ `await ${fmtRef}(${data})`;\n                }\n                return typeof format == \"function\" ? codegen_1._ `${fmtRef}(${data})` : codegen_1._ `${fmtRef}.test(${data})`;\n            }\n        }\n    },\n};\nexports.default = def;\n//# sourceMappingURL=format.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst format_1 = require(\"./format\");\nconst format = [format_1.default];\nexports.default = format;\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.contentVocabulary = exports.metadataVocabulary = void 0;\nexports.metadataVocabulary = [\n    \"title\",\n    \"description\",\n    \"default\",\n    \"deprecated\",\n    \"readOnly\",\n    \"writeOnly\",\n    \"examples\",\n];\nexports.contentVocabulary = [\n    \"contentMediaType\",\n    \"contentEncoding\",\n    \"contentSchema\",\n];\n//# sourceMappingURL=metadata.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst equal = require(\"fast-deep-equal\");\nconst error = {\n    message: \"should be equal to constant\",\n    params: ({ schemaCode }) => codegen_1._ `{allowedValue: ${schemaCode}}`,\n};\nconst def = {\n    keyword: \"const\",\n    $data: true,\n    error,\n    code(cxt) {\n        const eql = cxt.gen.scopeValue(\"func\", {\n            ref: equal,\n            code: codegen_1._ `require(\"ajv/dist/compile/equal\")`,\n        });\n        // TODO optimize for scalar values in schema\n        cxt.fail$data(codegen_1._ `!${eql}(${cxt.data}, ${cxt.schemaCode})`);\n    },\n};\nexports.default = def;\n//# sourceMappingURL=const.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst equal = require(\"fast-deep-equal\");\nconst error = {\n    message: \"should be equal to one of the allowed values\",\n    params: ({ schemaCode }) => codegen_1._ `{allowedValues: ${schemaCode}}`,\n};\nconst def = {\n    keyword: \"enum\",\n    schemaType: \"array\",\n    $data: true,\n    error,\n    code(cxt) {\n        const { gen, data, $data, schema, schemaCode, it } = cxt;\n        if (!$data && schema.length === 0)\n            throw new Error(\"enum must have non-empty array\");\n        const useLoop = schema.length >= it.opts.loopEnum;\n        const eql = cxt.gen.scopeValue(\"func\", {\n            ref: equal,\n            code: codegen_1._ `require(\"ajv/dist/compile/equal\")`,\n        });\n        let valid;\n        if (useLoop || $data) {\n            valid = gen.let(\"valid\");\n            cxt.block$data(valid, loopEnum);\n        }\n        else {\n            /* istanbul ignore if */\n            if (!Array.isArray(schema))\n                throw new Error(\"ajv implementation error\");\n            const vSchema = gen.const(\"vSchema\", schemaCode);\n            valid = codegen_1.or(...schema.map((_x, i) => equalCode(vSchema, i)));\n        }\n        cxt.pass(valid);\n        function loopEnum() {\n            gen.assign(valid, false);\n            gen.forOf(\"v\", schemaCode, (v) => gen.if(codegen_1._ `${eql}(${data}, ${v})`, () => gen.assign(valid, true).break()));\n        }\n        function equalCode(vSchema, i) {\n            const sch = schema[i];\n            return sch && typeof sch === \"object\"\n                ? codegen_1._ `${eql}(${data}, ${vSchema}[${i}])`\n                : codegen_1._ `${data} === ${sch}`;\n        }\n    },\n};\nexports.default = def;\n//# sourceMappingURL=enum.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst limitNumber_1 = require(\"./limitNumber\");\nconst multipleOf_1 = require(\"./multipleOf\");\nconst limitLength_1 = require(\"./limitLength\");\nconst pattern_1 = require(\"./pattern\");\nconst limitProperties_1 = require(\"./limitProperties\");\nconst required_1 = require(\"./required\");\nconst limitItems_1 = require(\"./limitItems\");\nconst uniqueItems_1 = require(\"./uniqueItems\");\nconst const_1 = require(\"./const\");\nconst enum_1 = require(\"./enum\");\nconst validation = [\n    // number\n    limitNumber_1.default,\n    multipleOf_1.default,\n    // string\n    limitLength_1.default,\n    pattern_1.default,\n    // object\n    limitProperties_1.default,\n    required_1.default,\n    // array\n    limitItems_1.default,\n    uniqueItems_1.default,\n    // any\n    { keyword: \"type\", schemaType: [\"string\", \"array\"] },\n    { keyword: \"nullable\", schemaType: \"boolean\" },\n    const_1.default,\n    enum_1.default,\n];\nexports.default = validation;\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst error = {\n    message({ keyword, schemaCode }) {\n        const comp = keyword === \"maxItems\" ? \"more\" : \"fewer\";\n        return codegen_1.str `should NOT have ${comp} than ${schemaCode} items`;\n    },\n    params: ({ schemaCode }) => codegen_1._ `{limit: ${schemaCode}}`,\n};\nconst def = {\n    keyword: [\"maxItems\", \"minItems\"],\n    type: \"array\",\n    schemaType: \"number\",\n    $data: true,\n    error,\n    code(cxt) {\n        const { keyword, data, schemaCode } = cxt;\n        const op = keyword === \"maxItems\" ? codegen_1.operators.GT : codegen_1.operators.LT;\n        cxt.fail$data(codegen_1._ `${data}.length ${op} ${schemaCode}`);\n    },\n};\nexports.default = def;\n//# sourceMappingURL=limitItems.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst ucs2length_1 = require(\"../../compile/ucs2length\");\nconst error = {\n    message({ keyword, schemaCode }) {\n        const comp = keyword === \"maxLength\" ? \"more\" : \"fewer\";\n        return codegen_1.str `should NOT have ${comp} than ${schemaCode} characters`;\n    },\n    params: ({ schemaCode }) => codegen_1._ `{limit: ${schemaCode}}`,\n};\nconst def = {\n    keyword: [\"maxLength\", \"minLength\"],\n    type: \"string\",\n    schemaType: \"number\",\n    $data: true,\n    error,\n    code(cxt) {\n        const { keyword, data, schemaCode, it } = cxt;\n        const op = keyword === \"maxLength\" ? codegen_1.operators.GT : codegen_1.operators.LT;\n        let len;\n        if (it.opts.unicode === false) {\n            len = codegen_1._ `${data}.length`;\n        }\n        else {\n            const u2l = cxt.gen.scopeValue(\"func\", {\n                ref: ucs2length_1.default,\n                code: codegen_1._ `require(\"ajv/dist/compile/ucs2length\").default`,\n            });\n            len = codegen_1._ `${u2l}(${data})`;\n        }\n        cxt.fail$data(codegen_1._ `${len} ${op} ${schemaCode}`);\n    },\n};\nexports.default = def;\n//# sourceMappingURL=limitLength.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst ops = codegen_1.operators;\nconst KWDs = {\n    maximum: { okStr: \"<=\", ok: ops.LTE, fail: ops.GT },\n    minimum: { okStr: \">=\", ok: ops.GTE, fail: ops.LT },\n    exclusiveMaximum: { okStr: \"<\", ok: ops.LT, fail: ops.GTE },\n    exclusiveMinimum: { okStr: \">\", ok: ops.GT, fail: ops.LTE },\n};\nconst error = {\n    message: ({ keyword, schemaCode }) => codegen_1.str `should be ${KWDs[keyword].okStr} ${schemaCode}`,\n    params: ({ keyword, schemaCode }) => codegen_1._ `{comparison: ${KWDs[keyword].okStr}, limit: ${schemaCode}}`,\n};\nconst def = {\n    keyword: Object.keys(KWDs),\n    type: \"number\",\n    schemaType: \"number\",\n    $data: true,\n    error,\n    code(cxt) {\n        const { keyword, data, schemaCode } = cxt;\n        cxt.fail$data(codegen_1._ `${data} ${KWDs[keyword].fail} ${schemaCode} || isNaN(${data})`);\n    },\n};\nexports.default = def;\n//# sourceMappingURL=limitNumber.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst error = {\n    message({ keyword, schemaCode }) {\n        const comp = keyword === \"maxProperties\" ? \"more\" : \"fewer\";\n        return codegen_1.str `should NOT have ${comp} than ${schemaCode} items`;\n    },\n    params: ({ schemaCode }) => codegen_1._ `{limit: ${schemaCode}}`,\n};\nconst def = {\n    keyword: [\"maxProperties\", \"minProperties\"],\n    type: \"object\",\n    schemaType: \"number\",\n    $data: true,\n    error,\n    code(cxt) {\n        const { keyword, data, schemaCode } = cxt;\n        const op = keyword === \"maxProperties\" ? codegen_1.operators.GT : codegen_1.operators.LT;\n        cxt.fail$data(codegen_1._ `Object.keys(${data}).length ${op} ${schemaCode}`);\n    },\n};\nexports.default = def;\n//# sourceMappingURL=limitProperties.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst error = {\n    message: ({ schemaCode }) => codegen_1.str `should be multiple of ${schemaCode}`,\n    params: ({ schemaCode }) => codegen_1._ `{multipleOf: ${schemaCode}}`,\n};\nconst def = {\n    keyword: \"multipleOf\",\n    type: \"number\",\n    schemaType: \"number\",\n    $data: true,\n    error,\n    code(cxt) {\n        const { gen, data, schemaCode, it } = cxt;\n        // const bdt = bad$DataType(schemaCode, <string>def.schemaType, $data)\n        const prec = it.opts.multipleOfPrecision;\n        const res = gen.let(\"res\");\n        const invalid = prec\n            ? codegen_1._ `Math.abs(Math.round(${res}) - ${res}) > 1e-${prec}`\n            : codegen_1._ `${res} !== parseInt(${res})`;\n        cxt.fail$data(codegen_1._ `(${schemaCode} === 0 || (${res} = ${data}/${schemaCode}, ${invalid}))`);\n    },\n};\nexports.default = def;\n//# sourceMappingURL=multipleOf.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst code_1 = require(\"../code\");\nconst codegen_1 = require(\"../../compile/codegen\");\nconst error = {\n    message: ({ schemaCode }) => codegen_1.str `should match pattern \"${schemaCode}\"`,\n    params: ({ schemaCode }) => codegen_1._ `{pattern: ${schemaCode}}`,\n};\nconst def = {\n    keyword: \"pattern\",\n    type: \"string\",\n    schemaType: \"string\",\n    $data: true,\n    error,\n    code(cxt) {\n        const { gen, data, $data, schema, schemaCode } = cxt;\n        const regExp = $data ? codegen_1._ `(new RegExp(${schemaCode}, \"u\"))` : code_1.usePattern(gen, schema); // TODO regexp should be wrapped in try/catch\n        cxt.fail$data(codegen_1._ `!${regExp}.test(${data})`);\n    },\n};\nexports.default = def;\n//# sourceMappingURL=pattern.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst code_1 = require(\"../code\");\nconst codegen_1 = require(\"../../compile/codegen\");\nconst validate_1 = require(\"../../compile/validate\");\nconst error = {\n    message: ({ params: { missingProperty } }) => codegen_1.str `should have required property '${missingProperty}'`,\n    params: ({ params: { missingProperty } }) => codegen_1._ `{missingProperty: ${missingProperty}}`,\n};\nconst def = {\n    keyword: \"required\",\n    type: \"object\",\n    schemaType: \"array\",\n    $data: true,\n    error,\n    code(cxt) {\n        const { gen, schema, schemaCode, data, $data, it } = cxt;\n        const { opts } = it;\n        if (!$data && schema.length === 0)\n            return;\n        const useLoop = schema.length >= opts.loopRequired;\n        if (it.allErrors)\n            allErrorsMode();\n        else\n            exitOnErrorMode();\n        if (opts.strictRequired) {\n            const props = cxt.parentSchema.properties;\n            const { definedProperties } = cxt.it;\n            for (const requiredKey of schema) {\n                if ((props === null || props === void 0 ? void 0 : props[requiredKey]) === undefined && !definedProperties.has(requiredKey)) {\n                    const schemaPath = it.schemaEnv.baseId + it.errSchemaPath;\n                    const msg = `required property \"${requiredKey}\" is not defined at \"${schemaPath}\" (strictRequired)`;\n                    validate_1.checkStrictMode(it, msg, it.opts.strictRequired);\n                }\n            }\n        }\n        function allErrorsMode() {\n            if (useLoop || $data) {\n                cxt.block$data(codegen_1.nil, loopAllRequired);\n            }\n            else {\n                for (const prop of schema) {\n                    code_1.checkReportMissingProp(cxt, prop);\n                }\n            }\n        }\n        function exitOnErrorMode() {\n            const missing = gen.let(\"missing\");\n            if (useLoop || $data) {\n                const valid = gen.let(\"valid\", true);\n                cxt.block$data(valid, () => loopUntilMissing(missing, valid));\n                cxt.ok(valid);\n            }\n            else {\n                gen.if(code_1.checkMissingProp(cxt, schema, missing));\n                code_1.reportMissingProp(cxt, missing);\n                gen.else();\n            }\n        }\n        function loopAllRequired() {\n            gen.forOf(\"prop\", schemaCode, (prop) => {\n                cxt.setParams({ missingProperty: prop });\n                gen.if(code_1.noPropertyInData(gen, data, prop, opts.ownProperties), () => cxt.error());\n            });\n        }\n        function loopUntilMissing(missing, valid) {\n            cxt.setParams({ missingProperty: missing });\n            gen.forOf(missing, schemaCode, () => {\n                gen.assign(valid, code_1.propertyInData(gen, data, missing, opts.ownProperties));\n                gen.if(codegen_1.not(valid), () => {\n                    cxt.error();\n                    gen.break();\n                });\n            }, codegen_1.nil);\n        }\n    },\n};\nexports.default = def;\n//# sourceMappingURL=required.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst dataType_1 = require(\"../../compile/validate/dataType\");\nconst codegen_1 = require(\"../../compile/codegen\");\nconst equal = require(\"fast-deep-equal\");\nconst error = {\n    message: ({ params: { i, j } }) => codegen_1.str `should NOT have duplicate items (items ## ${j} and ${i} are identical)`,\n    params: ({ params: { i, j } }) => codegen_1._ `{i: ${i}, j: ${j}}`,\n};\nconst def = {\n    keyword: \"uniqueItems\",\n    type: \"array\",\n    schemaType: \"boolean\",\n    $data: true,\n    error,\n    code(cxt) {\n        const { gen, data, $data, schema, parentSchema, schemaCode, it } = cxt;\n        if (!$data && !schema)\n            return;\n        const valid = gen.let(\"valid\");\n        const itemTypes = parentSchema.items ? dataType_1.getSchemaTypes(parentSchema.items) : [];\n        cxt.block$data(valid, validateUniqueItems, codegen_1._ `${schemaCode} === false`);\n        cxt.ok(valid);\n        function validateUniqueItems() {\n            const i = gen.let(\"i\", codegen_1._ `${data}.length`);\n            const j = gen.let(\"j\");\n            cxt.setParams({ i, j });\n            gen.assign(valid, true);\n            gen.if(codegen_1._ `${i} > 1`, () => (canOptimize() ? loopN : loopN2)(i, j));\n        }\n        function canOptimize() {\n            return itemTypes.length > 0 && !itemTypes.some((t) => t === \"object\" || t === \"array\");\n        }\n        function loopN(i, j) {\n            const item = gen.name(\"item\");\n            const wrongType = dataType_1.checkDataTypes(itemTypes, item, it.opts.strict, dataType_1.DataType.Wrong);\n            const indices = gen.const(\"indices\", codegen_1._ `{}`);\n            gen.for(codegen_1._ `;${i}--;`, () => {\n                gen.let(item, codegen_1._ `${data}[${i}]`);\n                gen.if(wrongType, codegen_1._ `continue`);\n                if (itemTypes.length > 1)\n                    gen.if(codegen_1._ `typeof ${item} == \"string\"`, codegen_1._ `${item} += \"_\"`);\n                gen\n                    .if(codegen_1._ `typeof ${indices}[${item}] == \"number\"`, () => {\n                    gen.assign(j, codegen_1._ `${indices}[${item}]`);\n                    cxt.error();\n                    gen.assign(valid, false).break();\n                })\n                    .code(codegen_1._ `${indices}[${item}] = ${i}`);\n            });\n        }\n        function loopN2(i, j) {\n            const eql = cxt.gen.scopeValue(\"func\", {\n                ref: equal,\n                code: codegen_1._ `require(\"ajv/dist/compile/equal\")`,\n            });\n            const outer = gen.name(\"outer\");\n            gen.label(outer).for(codegen_1._ `;${i}--;`, () => gen.for(codegen_1._ `${j} = ${i}; ${j}--;`, () => gen.if(codegen_1._ `${eql}(${data}[${i}], ${data}[${j}])`, () => {\n                cxt.error();\n                gen.assign(valid, false).break(outer);\n            })));\n        }\n    },\n};\nexports.default = def;\n//# sourceMappingURL=uniqueItems.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.setContextLanguage = exports.findPort = exports.findProtocol = void 0;\r\nfunction findProtocol(td) {\r\n    const base = td.base;\r\n    const columnLoc = base.indexOf(\":\");\r\n    return base.substring(0, columnLoc);\r\n}\r\nexports.findProtocol = findProtocol;\r\nfunction findPort(td) {\r\n    const base = td.base;\r\n    const columnLoc = base.indexOf(\":\", 6);\r\n    const divLoc = base.indexOf(\"/\", columnLoc);\r\n    const returnString = base.substring(columnLoc + 1, divLoc);\r\n    return parseInt(returnString);\r\n}\r\nexports.findPort = findPort;\r\nfunction setContextLanguage(thing, language, forceOverride) {\r\n    if (Array.isArray(thing[\"@context\"])) {\r\n        const arrayContext = thing[\"@context\"];\r\n        let languageSet = false;\r\n        for (const arrayEntry of arrayContext) {\r\n            if (typeof arrayEntry === \"object\") {\r\n                if (arrayEntry[\"@language\"] !== undefined) {\r\n                    if (forceOverride) {\r\n                        arrayEntry[\"@language\"] = language;\r\n                    }\r\n                    languageSet = true;\r\n                }\r\n            }\r\n        }\r\n        if (!languageSet) {\r\n            arrayContext.push({\r\n                \"@language\": language,\r\n            });\r\n        }\r\n    }\r\n}\r\nexports.setContextLanguage = setContextLanguage;\r\n//# sourceMappingURL=td-helpers.js.map","\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n});\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n};\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.serializeTD = exports.parseTD = void 0;\r\nconst TD = __importStar(require(\"./thing-description\"));\r\nconst TDHelpers = __importStar(require(\"./td-helpers\"));\r\nconst isAbsoluteUrl = require(\"is-absolute-url\");\r\nconst URLToolkit = require(\"url-toolkit\");\r\nconst debug_1 = __importDefault(require(\"debug\"));\r\nconst namespace = \"node-wot:td-tools:td-parser\";\r\nconst logDebug = (0, debug_1.default)(`${namespace}:debug`);\r\nconst logWarn = (0, debug_1.default)(`${namespace}:warn`);\r\nfunction parseTD(td, normalize) {\r\n    logDebug(`parseTD() parsing\\n\\`\\`\\`\\n${td}\\n\\`\\`\\``);\r\n    const thing = JSON.parse(td.replace(/^\\uFEFF/, \"\"));\r\n    if (thing[\"@context\"] === undefined) {\r\n        thing[\"@context\"] = [TD.DEFAULT_CONTEXT_V1, TD.DEFAULT_CONTEXT_V11];\r\n    }\r\n    else if (Array.isArray(thing[\"@context\"])) {\r\n        let semContext = thing[\"@context\"];\r\n        const indexV1 = semContext.indexOf(TD.DEFAULT_CONTEXT_V1);\r\n        const indexV11 = semContext.indexOf(TD.DEFAULT_CONTEXT_V11);\r\n        if (indexV1 === -1 && indexV11 === -1) {\r\n            semContext.unshift(TD.DEFAULT_CONTEXT_V11);\r\n            semContext.unshift(TD.DEFAULT_CONTEXT_V1);\r\n        }\r\n        else {\r\n            if (indexV1 !== -1 && indexV11 !== -1) {\r\n                semContext = semContext.filter(function (e) {\r\n                    return e !== TD.DEFAULT_CONTEXT_V1;\r\n                });\r\n                semContext = semContext.filter(function (e) {\r\n                    return e !== TD.DEFAULT_CONTEXT_V11;\r\n                });\r\n                semContext.unshift(TD.DEFAULT_CONTEXT_V11);\r\n                semContext.unshift(TD.DEFAULT_CONTEXT_V1);\r\n            }\r\n            else {\r\n                if (indexV1 !== -1 && indexV1 !== 0) {\r\n                    semContext = semContext.filter(function (e) {\r\n                        return e !== TD.DEFAULT_CONTEXT_V1;\r\n                    });\r\n                    semContext.unshift(TD.DEFAULT_CONTEXT_V1);\r\n                }\r\n                if (indexV11 !== -1 && indexV11 !== 0) {\r\n                    semContext = semContext.filter(function (e) {\r\n                        return e !== TD.DEFAULT_CONTEXT_V11;\r\n                    });\r\n                    semContext.unshift(TD.DEFAULT_CONTEXT_V11);\r\n                }\r\n            }\r\n            thing[\"@context\"] = semContext;\r\n        }\r\n    }\r\n    else if (thing[\"@context\"] !== TD.DEFAULT_CONTEXT_V1 && thing[\"@context\"] !== TD.DEFAULT_CONTEXT_V11) {\r\n        const semContext = thing[\"@context\"];\r\n        thing[\"@context\"] = [TD.DEFAULT_CONTEXT_V1, TD.DEFAULT_CONTEXT_V11, semContext];\r\n    }\r\n    TDHelpers.setContextLanguage(thing, TD.DEFAULT_CONTEXT_LANGUAGE, false);\r\n    if (thing[\"@type\"] === undefined) {\r\n        thing[\"@type\"] = TD.DEFAULT_THING_TYPE;\r\n    }\r\n    else if (Array.isArray(thing[\"@type\"])) {\r\n        const semTypes = thing[\"@type\"];\r\n        if (semTypes.indexOf(TD.DEFAULT_THING_TYPE) === -1) {\r\n            semTypes.unshift(TD.DEFAULT_THING_TYPE);\r\n        }\r\n    }\r\n    else if (thing[\"@type\"] !== TD.DEFAULT_THING_TYPE) {\r\n        const semType = thing[\"@type\"];\r\n        thing[\"@type\"] = [TD.DEFAULT_THING_TYPE, semType];\r\n    }\r\n    if (thing.properties !== undefined && thing.properties instanceof Object) {\r\n        for (const propName in thing.properties) {\r\n            const prop = thing.properties[propName];\r\n            if (prop.readOnly === undefined || typeof prop.readOnly !== \"boolean\") {\r\n                prop.readOnly = false;\r\n            }\r\n            if (prop.writeOnly === undefined || typeof prop.writeOnly !== \"boolean\") {\r\n                prop.writeOnly = false;\r\n            }\r\n            if (prop.observable === undefined || typeof prop.observable !== \"boolean\") {\r\n                prop.observable = false;\r\n            }\r\n        }\r\n    }\r\n    if (thing.actions !== undefined && thing.actions instanceof Object) {\r\n        for (const actName in thing.actions) {\r\n            const act = thing.actions[actName];\r\n            if (act.safe === undefined || typeof act.safe !== \"boolean\") {\r\n                act.safe = false;\r\n            }\r\n            if (act.idempotent === undefined || typeof act.idempotent !== \"boolean\") {\r\n                act.idempotent = false;\r\n            }\r\n        }\r\n    }\r\n    if (typeof thing.properties !== \"object\" || thing.properties === null) {\r\n        thing.properties = {};\r\n    }\r\n    if (typeof thing.actions !== \"object\" || thing.actions === null) {\r\n        thing.actions = {};\r\n    }\r\n    if (typeof thing.events !== \"object\" || thing.events === null) {\r\n        thing.events = {};\r\n    }\r\n    if (thing.security === undefined) {\r\n        logWarn(\"parseTD() found no security metadata\");\r\n    }\r\n    if (typeof thing.security === \"string\") {\r\n        thing.security = [thing.security];\r\n    }\r\n    const allForms = [];\r\n    for (const propName in thing.properties) {\r\n        const prop = thing.properties[propName];\r\n        if (!prop.forms) {\r\n            throw new Error(`Property '${propName}' has no forms field`);\r\n        }\r\n        for (const form of prop.forms) {\r\n            if (!form.href) {\r\n                throw new Error(`Form of Property '${propName}' has no href field`);\r\n            }\r\n            if (!isAbsoluteUrl(form.href) && !thing.base)\r\n                throw new Error(`Form of Property '${propName}' has relative URI while TD has no base field`);\r\n            allForms.push(form);\r\n        }\r\n    }\r\n    for (const actName in thing.actions) {\r\n        const act = thing.actions[actName];\r\n        if (!act.forms) {\r\n            throw new Error(`Action '${actName}' has no forms field`);\r\n        }\r\n        for (const form of act.forms) {\r\n            if (!form.href) {\r\n                throw new Error(`Form of Action '${actName}' has no href field`);\r\n            }\r\n            if (!isAbsoluteUrl(form.href) && !thing.base)\r\n                throw new Error(`Form of Action '${actName}' has relative URI while TD has no base field`);\r\n            allForms.push(form);\r\n        }\r\n    }\r\n    for (const evtName in thing.events) {\r\n        const evt = thing.events[evtName];\r\n        if (!evt.forms) {\r\n            throw new Error(`Event '${evtName}' has no forms field`);\r\n        }\r\n        for (const form of evt.forms) {\r\n            if (!form.href) {\r\n                throw new Error(`Form of Event '${evtName}' has no href field`);\r\n            }\r\n            if (!isAbsoluteUrl(form.href) && !thing.base)\r\n                throw new Error(`Form of Event '${evtName}' has relative URI while TD has no base field`);\r\n            allForms.push(form);\r\n        }\r\n    }\r\n    if (Object.prototype.hasOwnProperty.call(thing, \"base\")) {\r\n        if (normalize === undefined || normalize === true) {\r\n            logDebug(\"parseTD() normalizing 'base' into 'forms'\");\r\n            for (const form of allForms) {\r\n                if (!form.href.match(/^([a-z0-9+-.]+:).+/i)) {\r\n                    logDebug(`parseTDString() applying base '${thing.base}' to '${form.href}'`);\r\n                    form.href = URLToolkit.buildAbsoluteURL(thing.base, form.href);\r\n                }\r\n            }\r\n        }\r\n    }\r\n    return thing;\r\n}\r\nexports.parseTD = parseTD;\r\nfunction serializeTD(thing) {\r\n    const copy = JSON.parse(JSON.stringify(thing));\r\n    if (!copy.security || copy.security.length === 0) {\r\n        copy.securityDefinitions = {\r\n            nosec_sc: { scheme: \"nosec\" },\r\n        };\r\n        copy.security = [\"nosec_sc\"];\r\n    }\r\n    if (copy.forms && copy.forms.length === 0) {\r\n        delete copy.forms;\r\n    }\r\n    if (copy.properties && Object.keys(copy.properties).length === 0) {\r\n        delete copy.properties;\r\n    }\r\n    else if (copy.properties) {\r\n        for (const propName in copy.properties) {\r\n            const prop = copy.properties[propName];\r\n            if (prop.readOnly === undefined || typeof prop.readOnly !== \"boolean\") {\r\n                prop.readOnly = false;\r\n            }\r\n            if (prop.writeOnly === undefined || typeof prop.writeOnly !== \"boolean\") {\r\n                prop.writeOnly = false;\r\n            }\r\n            if (prop.observable === undefined || typeof prop.observable !== \"boolean\") {\r\n                prop.observable = false;\r\n            }\r\n        }\r\n    }\r\n    if (copy.actions && Object.keys(copy.actions).length === 0) {\r\n        delete copy.actions;\r\n    }\r\n    else if (copy.actions) {\r\n        for (const actName in copy.actions) {\r\n            const act = copy.actions[actName];\r\n            if (act.idempotent === undefined || typeof act.idempotent !== \"boolean\") {\r\n                act.idempotent = false;\r\n            }\r\n            if (act.safe === undefined || typeof act.safe !== \"boolean\") {\r\n                act.safe = false;\r\n            }\r\n        }\r\n    }\r\n    if (copy.events && Object.keys(copy.events).length === 0) {\r\n        delete copy.events;\r\n    }\r\n    if (copy.links && copy.links.length === 0) {\r\n        delete copy.links;\r\n    }\r\n    const td = JSON.stringify(copy);\r\n    return td;\r\n}\r\nexports.serializeTD = serializeTD;\r\n//# sourceMappingURL=td-parser.js.map","\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\r\n};\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Thing = void 0;\r\nvar thing_description_1 = require(\"./thing-description\");\r\nObject.defineProperty(exports, \"Thing\", { enumerable: true, get: function () { return __importDefault(thing_description_1).default; } });\r\n__exportStar(require(\"./thing-description\"), exports);\r\n__exportStar(require(\"./td-parser\"), exports);\r\n__exportStar(require(\"./td-helpers\"), exports);\r\n__exportStar(require(\"./thing-model-helpers\"), exports);\r\n//# sourceMappingURL=td-tools.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.ThingEvent = exports.ThingAction = exports.ThingProperty = exports.BaseSchema = exports.Form = exports.DEFAULT_THING_TYPE = exports.DEFAULT_CONTEXT_LANGUAGE = exports.DEFAULT_CONTEXT_V11 = exports.DEFAULT_CONTEXT_V1 = void 0;\r\nexports.DEFAULT_CONTEXT_V1 = \"https://www.w3.org/2019/wot/td/v1\";\r\nexports.DEFAULT_CONTEXT_V11 = \"https://www.w3.org/2022/wot/td/v1.1\";\r\nexports.DEFAULT_CONTEXT_LANGUAGE = \"en\";\r\nexports.DEFAULT_THING_TYPE = \"Thing\";\r\nclass Thing {\r\n    constructor() {\r\n        this[\"@context\"] = [exports.DEFAULT_CONTEXT_V1, exports.DEFAULT_CONTEXT_V11];\r\n        this[\"@type\"] = exports.DEFAULT_THING_TYPE;\r\n        this.title = \"\";\r\n        this.securityDefinitions = {};\r\n        this.security = \"\";\r\n        this.properties = {};\r\n        this.actions = {};\r\n        this.events = {};\r\n        this.links = [];\r\n    }\r\n}\r\nexports.default = Thing;\r\nclass Form {\r\n    constructor(href, contentType) {\r\n        this.href = href;\r\n        if (contentType)\r\n            this.contentType = contentType;\r\n    }\r\n}\r\nexports.Form = Form;\r\nclass BaseSchema {\r\n}\r\nexports.BaseSchema = BaseSchema;\r\nclass ThingProperty extends BaseSchema {\r\n}\r\nexports.ThingProperty = ThingProperty;\r\nclass ThingAction {\r\n}\r\nexports.ThingAction = ThingAction;\r\nclass ThingEvent {\r\n}\r\nexports.ThingEvent = ThingEvent;\r\n//# sourceMappingURL=thing-description.js.map","\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n});\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n};\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.ThingModelHelpers = void 0;\r\nconst ajv_1 = __importDefault(require(\"ajv\"));\r\nconst http = __importStar(require(\"http\"));\r\nconst https = __importStar(require(\"https\"));\r\nconst fs = __importStar(require(\"fs\"));\r\nconst json_placeholder_replacer_1 = require(\"json-placeholder-replacer\");\r\nconst tm_json_schema_validation_json_1 = __importDefault(require(\"wot-thing-model-types/schema/tm-json-schema-validation.json\"));\r\nconst debug_1 = __importDefault(require(\"debug\"));\r\nconst namespace = \"node-wot:td-tools:thing-model-helpers\";\r\nconst logDebug = (0, debug_1.default)(`${namespace}:debug`);\r\nconst logError = (0, debug_1.default)(`${namespace}:error`);\r\nconst tmSchema = tm_json_schema_validation_json_1.default;\r\nconst ajv = new ajv_1.default({ strict: false })\r\n    .addFormat(\"iri-reference\", /^(?:[a-z][a-z0-9+\\-.]*:)?(?:\\/?\\/(?:(?:[a-z0-9\\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\\.[a-z0-9\\-._~!$&'()*+,;=:]+)\\]|(?:(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)|(?:[a-z0-9\\-._~!$&'\"()*+,;=]|%[0-9a-f]{2})*)(?::\\d*)?(?:\\/(?:[a-z0-9\\-._~!$&'\"()*+,;=:@]|%[0-9a-f]{2})*)*|\\/(?:(?:[a-z0-9\\-._~!$&'\"()*+,;=:@]|%[0-9a-f]{2})+(?:\\/(?:[a-z0-9\\-._~!$&'\"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\\-._~!$&'\"()*+,;=:@]|%[0-9a-f]{2})+(?:\\/(?:[a-z0-9\\-._~!$&'\"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\\?(?:[a-z0-9\\-._~!$&'\"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\\-._~!$&'\"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i)\r\n    .addFormat(\"uri-reference\", /^(?:[a-z][a-z0-9+\\-.]*:)?(?:\\/?\\/(?:(?:[a-z0-9\\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\\.[a-z0-9\\-._~!$&'()*+,;=:]+)\\]|(?:(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)|(?:[a-z0-9\\-._~!$&'\"()*+,;=]|%[0-9a-f]{2})*)(?::\\d*)?(?:\\/(?:[a-z0-9\\-._~!$&'\"()*+,;=:@]|%[0-9a-f]{2})*)*|\\/(?:(?:[a-z0-9\\-._~!$&'\"()*+,;=:@]|%[0-9a-f]{2})+(?:\\/(?:[a-z0-9\\-._~!$&'\"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\\-._~!$&'\"()*+,;=:@]|%[0-9a-f]{2})+(?:\\/(?:[a-z0-9\\-._~!$&'\"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\\?(?:[a-z0-9\\-._~!$&'\"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\\-._~!$&'\"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i)\r\n    .addFormat(\"uri\", /^(?:[a-z][a-z0-9+\\-.]*:)(?:\\/?\\/)?[^\\s]*$/)\r\n    .addFormat(\"json-pointer\", /^(?:[a-z][a-z0-9+\\-.]*:)(?:\\/?\\/)?[^\\s]*$/)\r\n    .addFormat(\"date-time\", /^\\d\\d\\d\\d-[0-1]\\d-[0-3]\\d[t\\s](?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)(?:\\.\\d+)?(?:z|[+-]\\d\\d(?::?\\d\\d)?)$/);\r\nclass ThingModelHelpers {\r\n    constructor(_resolver) {\r\n        this.deps = [];\r\n        this.resolver = undefined;\r\n        if (_resolver) {\r\n            this.resolver = _resolver;\r\n        }\r\n    }\r\n    static isThingModel(_data) {\r\n        if (_data === null || _data === undefined) {\r\n            return false;\r\n        }\r\n        if (!(typeof _data === \"object\") || Array.isArray(_data)) {\r\n            return false;\r\n        }\r\n        const data = _data;\r\n        if (Array.isArray(data[\"@type\"])) {\r\n            const valid = data[\"@type\"].filter((x) => x === \"tm:ThingModel\").length > 0;\r\n            if (valid) {\r\n                return true;\r\n            }\r\n        }\r\n        else if (data[\"@type\"] === \"tm:ThingModel\") {\r\n            return true;\r\n        }\r\n        if (Object.keys(this.getThingModelRef(data)).length > 0) {\r\n            return true;\r\n        }\r\n        if (\"links\" in data && Array.isArray(data.links)) {\r\n            const foundTmExtendsRel = data.links.find((link) => link.rel === \"tm:extends\");\r\n            if (foundTmExtendsRel)\r\n                return true;\r\n        }\r\n        if (data.properties !== undefined) {\r\n            if (this.isThingModel(data.properties))\r\n                return true;\r\n        }\r\n        if (data.actions !== undefined) {\r\n            if (this.isThingModel(data.actions))\r\n                return true;\r\n        }\r\n        if (data.events !== undefined) {\r\n            if (this.isThingModel(data.events))\r\n                return true;\r\n        }\r\n        return false;\r\n    }\r\n    static getModelVersion(data) {\r\n        if (\"version\" in data &&\r\n            data.version &&\r\n            typeof data.version === \"object\" &&\r\n            \"model\" in data.version &&\r\n            typeof data.version.model === \"string\") {\r\n            return data.version.model;\r\n        }\r\n        else {\r\n            return undefined;\r\n        }\r\n    }\r\n    static validateThingModel(data) {\r\n        var _a;\r\n        const isValid = ThingModelHelpers.tsSchemaValidator(data);\r\n        let errors;\r\n        if (!isValid) {\r\n            errors = (_a = ThingModelHelpers.tsSchemaValidator.errors) === null || _a === void 0 ? void 0 : _a.map((o) => o.message).join(\"\\n\");\r\n        }\r\n        return {\r\n            valid: isValid,\r\n            errors: errors,\r\n        };\r\n    }\r\n    getPartialTDs(model, options) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const extendedModels = yield this._getPartialTDs(model, options);\r\n            const extendedPartialTDs = extendedModels.map((_data) => {\r\n                const data = _data;\r\n                if (data[\"@type\"] instanceof Array) {\r\n                    data[\"@type\"] = data[\"@type\"].map((el) => {\r\n                        if (el === \"tm:ThingModel\") {\r\n                            return \"Thing\";\r\n                        }\r\n                        return el;\r\n                    });\r\n                }\r\n                else {\r\n                    data[\"@type\"] = \"Thing\";\r\n                }\r\n                return data;\r\n            });\r\n            return extendedPartialTDs;\r\n        });\r\n    }\r\n    fetchModel(uri) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            this.addDependency(uri);\r\n            let tm;\r\n            if (this.resolver) {\r\n                tm = (yield this.resolver.fetch(uri));\r\n            }\r\n            else {\r\n                tm = (yield this.localFetch(uri));\r\n            }\r\n            if (!ThingModelHelpers.isThingModel(tm)) {\r\n                throw new Error(`Data at ${uri} is not a Thing Model`);\r\n            }\r\n            return tm;\r\n        });\r\n    }\r\n    localFetch(uri) {\r\n        const proto = uri.split(\"://\")[0];\r\n        switch (proto) {\r\n            case \"file\": {\r\n                const file = uri.split(\"://\")[1];\r\n                return new Promise((resolve, reject) => {\r\n                    fs.readFile(file, { encoding: \"utf-8\" }, function (err, data) {\r\n                        if (!err) {\r\n                            resolve(JSON.parse(data));\r\n                        }\r\n                        else {\r\n                            reject(err);\r\n                        }\r\n                    });\r\n                });\r\n            }\r\n            case \"http\": {\r\n                return new Promise((resolve, reject) => {\r\n                    http.get(uri, (res) => {\r\n                        res.setEncoding(\"utf8\");\r\n                        let rawData = \"\";\r\n                        res.on(\"data\", (chunk) => {\r\n                            rawData += chunk;\r\n                        });\r\n                        res.on(\"end\", () => {\r\n                            try {\r\n                                const parsedData = JSON.parse(rawData);\r\n                                logDebug(`https fetched: ${parsedData}`);\r\n                                resolve(parsedData);\r\n                            }\r\n                            catch (error) {\r\n                                logError(error);\r\n                            }\r\n                        });\r\n                    }).on(\"error\", (e) => {\r\n                        reject(e);\r\n                    });\r\n                });\r\n            }\r\n            case \"https\": {\r\n                return new Promise((resolve, reject) => {\r\n                    https\r\n                        .get(uri, (res) => {\r\n                        res.setEncoding(\"utf8\");\r\n                        let rawData = \"\";\r\n                        res.on(\"data\", (chunk) => {\r\n                            rawData += chunk;\r\n                        });\r\n                        res.on(\"end\", () => {\r\n                            try {\r\n                                const parsedData = JSON.parse(rawData);\r\n                                logDebug(`https fetched: ${parsedData}`);\r\n                                resolve(parsedData);\r\n                            }\r\n                            catch (error) {\r\n                                logError(error);\r\n                            }\r\n                        });\r\n                    })\r\n                        .on(\"error\", (e) => {\r\n                        reject(e);\r\n                    });\r\n                });\r\n            }\r\n            default:\r\n                break;\r\n        }\r\n        return null;\r\n    }\r\n    _getPartialTDs(model, options) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            if (!ThingModelHelpers.isThingModel(model)) {\r\n                throw new Error(`${model} is not a Thing Model`);\r\n            }\r\n            let isValid = ThingModelHelpers.validateThingModel(model);\r\n            if (isValid.valid === false || isValid.errors !== undefined) {\r\n                throw new Error(isValid.errors);\r\n            }\r\n            isValid = this.checkPlaceholderMap(model, options === null || options === void 0 ? void 0 : options.map);\r\n            if (isValid.valid === false || isValid.errors !== undefined) {\r\n                throw new Error(isValid.errors);\r\n            }\r\n            const modelInput = yield this.fetchAffordances(model);\r\n            const extendedModels = yield this.composeModel(model, modelInput, options);\r\n            return extendedModels;\r\n        });\r\n    }\r\n    fetchAffordances(data) {\r\n        var _a;\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const modelInput = {};\r\n            const extLinks = ThingModelHelpers.getThingModelLinks(data, \"tm:extends\");\r\n            if (extLinks.length > 0) {\r\n                modelInput.extends = [];\r\n                for (const s of extLinks) {\r\n                    let source = yield this.fetchModel(s.href);\r\n                    [source] = yield this._getPartialTDs(source);\r\n                    modelInput.extends.push(source);\r\n                }\r\n            }\r\n            const affordanceTypes = [\"properties\", \"actions\", \"events\"];\r\n            modelInput.imports = [];\r\n            for (const affType of affordanceTypes) {\r\n                const affRefs = ThingModelHelpers.getThingModelRef(data[affType]);\r\n                if (Object.keys(affRefs).length > 0) {\r\n                    for (const aff in affRefs) {\r\n                        const affUri = affRefs[aff];\r\n                        const refObj = this.parseTmRef(affUri);\r\n                        if (!refObj.uri) {\r\n                            throw new Error(`Missing remote path in ${affUri}`);\r\n                        }\r\n                        let source = yield this.fetchModel(refObj.uri);\r\n                        [source] = yield this._getPartialTDs(source);\r\n                        delete data[affType][aff][\"tm:ref\"];\r\n                        const importedAffordance = (_a = this.getRefAffordance(refObj, source)) !== null && _a !== void 0 ? _a : {};\r\n                        refObj.name = aff;\r\n                        modelInput.imports.push(Object.assign({ affordance: importedAffordance }, refObj));\r\n                    }\r\n                }\r\n            }\r\n            const tmLinks = ThingModelHelpers.getThingModelLinks(data, \"tm:submodel\");\r\n            if (tmLinks.length > 0) {\r\n                modelInput.submodel = {};\r\n                for (const l of tmLinks) {\r\n                    const submodel = yield this.fetchModel(l.href);\r\n                    modelInput.submodel[l.href] = submodel;\r\n                }\r\n            }\r\n            return modelInput;\r\n        });\r\n    }\r\n    composeModel(data, modelObject, options) {\r\n        var _a, _b, _c, _d, _e;\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            let tmpThingModels = [];\r\n            const title = ((_a = data.title) !== null && _a !== void 0 ? _a : \"\").replace(/ /g, \"\");\r\n            if (!options) {\r\n                options = {};\r\n            }\r\n            if (!options.baseUrl) {\r\n                options.baseUrl = \".\";\r\n            }\r\n            const newTMHref = this.returnNewTMHref(options.baseUrl, title);\r\n            const newTDHref = this.returnNewTDHref(options.baseUrl, title);\r\n            if (\"extends\" in modelObject) {\r\n                const extendObjs = (_b = modelObject.extends) !== null && _b !== void 0 ? _b : [];\r\n                for (const extendObj of extendObjs) {\r\n                    data = ThingModelHelpers.extendThingModel(extendObj, data);\r\n                }\r\n                data.links = (_c = data.links) === null || _c === void 0 ? void 0 : _c.filter((link) => link.rel !== \"tm:extends\");\r\n            }\r\n            if (\"imports\" in modelObject) {\r\n                const importObjs = (_d = modelObject.imports) !== null && _d !== void 0 ? _d : [];\r\n                for (const importedObj of importObjs) {\r\n                    data = ThingModelHelpers.importAffordance(importedObj.type, importedObj.name, importedObj.affordance, data);\r\n                }\r\n            }\r\n            if (\"submodel\" in modelObject) {\r\n                const submodelObj = modelObject.submodel;\r\n                for (const key in submodelObj) {\r\n                    const sub = submodelObj[key];\r\n                    if (options.selfComposition) {\r\n                        if (!data.links) {\r\n                            throw new Error(\"You used self composition but links are missing; they are needed to extract the instance name\");\r\n                        }\r\n                        const index = data.links.findIndex((el) => el.href === key);\r\n                        const el = data.links[index];\r\n                        const instanceName = el.instanceName;\r\n                        if (!instanceName) {\r\n                            throw new Error(\"Self composition is not possible without instance names\");\r\n                        }\r\n                        const [subPartialTD] = yield this._getPartialTDs(sub, options);\r\n                        const affordanceTypes = [\"properties\", \"actions\", \"events\"];\r\n                        for (const affType of affordanceTypes) {\r\n                            for (const affKey in subPartialTD[affType]) {\r\n                                const newAffKey = `${instanceName}_${affKey}`;\r\n                                if (!(affType in data)) {\r\n                                    data[affType] = {};\r\n                                }\r\n                                data[affType][newAffKey] = subPartialTD[affType][affKey];\r\n                            }\r\n                        }\r\n                    }\r\n                    else {\r\n                        const subTitle = ((_e = sub.title) !== null && _e !== void 0 ? _e : \"\").replace(/ /g, \"\");\r\n                        const subNewHref = this.returnNewTDHref(options.baseUrl, subTitle);\r\n                        if (!sub.links) {\r\n                            sub.links = [];\r\n                        }\r\n                        sub.links.push({\r\n                            rel: \"collection\",\r\n                            href: newTDHref,\r\n                            type: \"application/td+json\",\r\n                        });\r\n                        const tmpPartialSubTDs = yield this._getPartialTDs(sub, options);\r\n                        tmpThingModels.push(...tmpPartialSubTDs);\r\n                        data = ThingModelHelpers.formatSubmodelLink(data, key, subNewHref);\r\n                    }\r\n                }\r\n            }\r\n            if (!data.links || options.selfComposition) {\r\n                data.links = [];\r\n            }\r\n            data.links.push({\r\n                rel: \"type\",\r\n                href: newTMHref,\r\n                type: \"application/tm+json\",\r\n            });\r\n            if (\"version\" in data) {\r\n                delete data.version;\r\n            }\r\n            if (options.map) {\r\n                data = this.fillPlaceholder(data, options.map);\r\n            }\r\n            tmpThingModels.unshift(data);\r\n            tmpThingModels = tmpThingModels.map((el) => this.fillPlaceholder(el, options === null || options === void 0 ? void 0 : options.map));\r\n            if (this.deps.length > 0) {\r\n                this.removeDependency();\r\n            }\r\n            return tmpThingModels;\r\n        });\r\n    }\r\n    static getThingModelRef(data) {\r\n        const refs = {};\r\n        if (!data) {\r\n            return refs;\r\n        }\r\n        for (const key in data) {\r\n            for (const key1 in data[key]) {\r\n                if (key1 === \"tm:ref\") {\r\n                    refs[key] = data[key][\"tm:ref\"];\r\n                }\r\n            }\r\n        }\r\n        return refs;\r\n    }\r\n    static getThingModelLinks(data, type) {\r\n        let links = [];\r\n        if (\"links\" in data && Array.isArray(data.links)) {\r\n            links = data.links;\r\n        }\r\n        return links.filter((el) => el.rel === type);\r\n    }\r\n    static extendThingModel(source, dest) {\r\n        let extendedModel = {};\r\n        const properties = source.properties;\r\n        const actions = source.actions;\r\n        const events = source.events;\r\n        extendedModel = Object.assign(Object.assign({}, source), dest);\r\n        if (properties) {\r\n            if (!extendedModel.properties) {\r\n                extendedModel.properties = {};\r\n            }\r\n            for (const key in properties) {\r\n                if (dest.properties && dest.properties[key]) {\r\n                    extendedModel.properties[key] = Object.assign(Object.assign({}, properties[key]), dest.properties[key]);\r\n                }\r\n                else {\r\n                    extendedModel.properties[key] = properties[key];\r\n                }\r\n            }\r\n        }\r\n        if (actions) {\r\n            if (!extendedModel.actions) {\r\n                extendedModel.actions = {};\r\n            }\r\n            for (const key in actions) {\r\n                if (dest.actions && key in dest.actions) {\r\n                    extendedModel.actions[key] = Object.assign(Object.assign({}, actions[key]), dest.actions[key]);\r\n                }\r\n                else {\r\n                    extendedModel.actions[key] = actions[key];\r\n                }\r\n            }\r\n        }\r\n        if (events) {\r\n            if (!extendedModel.events) {\r\n                extendedModel.events = {};\r\n            }\r\n            for (const key in events) {\r\n                if (dest.events && key in dest.events) {\r\n                    extendedModel.events[key] = Object.assign(Object.assign({}, events[key]), dest.events[key]);\r\n                }\r\n                else {\r\n                    extendedModel.events[key] = events[key];\r\n                }\r\n            }\r\n        }\r\n        return extendedModel;\r\n    }\r\n    static importAffordance(affordanceType, affordanceName, source, dest) {\r\n        if (!dest[affordanceType]) {\r\n            dest[affordanceType] = {};\r\n        }\r\n        const d = dest[affordanceType][affordanceName];\r\n        dest[affordanceType][affordanceName] = Object.assign(Object.assign({}, source), d);\r\n        for (const key in dest[affordanceType][affordanceName]) {\r\n            if (dest[affordanceType][affordanceName][key] === undefined) {\r\n                delete dest[affordanceType][affordanceName][key];\r\n            }\r\n        }\r\n        return dest;\r\n    }\r\n    static formatSubmodelLink(source, oldHref, newHref) {\r\n        if (!source.links) {\r\n            throw new Error(\"Links are missing\");\r\n        }\r\n        const index = source.links.findIndex((el) => el.href === oldHref);\r\n        if (index === -1) {\r\n            throw new Error(\"Link not found\");\r\n        }\r\n        const el = source.links[index];\r\n        if (\"instanceName\" in el) {\r\n            delete el.instanceName;\r\n        }\r\n        source.links[index] = Object.assign(Object.assign({}, el), { href: newHref, type: \"application/td+json\", rel: \"item\" });\r\n        return source;\r\n    }\r\n    parseTmRef(value) {\r\n        const thingModelUri = value.split(\"#\")[0];\r\n        const affordaceUri = value.split(\"#\")[1];\r\n        const affordaceType = affordaceUri.split(\"/\")[1];\r\n        const affordaceName = affordaceUri.split(\"/\")[2];\r\n        return { uri: thingModelUri, type: affordaceType, name: affordaceName };\r\n    }\r\n    getRefAffordance(obj, thing) {\r\n        const affordanceType = obj.type;\r\n        const affordanceKey = obj.name;\r\n        if (!(affordanceType in thing)) {\r\n            return undefined;\r\n        }\r\n        const affordances = thing[affordanceType];\r\n        if (!(affordanceKey in affordances)) {\r\n            return undefined;\r\n        }\r\n        return affordances[affordanceKey];\r\n    }\r\n    fillPlaceholder(data, map = {}) {\r\n        const placeHolderReplacer = new json_placeholder_replacer_1.JsonPlaceholderReplacer();\r\n        placeHolderReplacer.addVariableMap(map);\r\n        return placeHolderReplacer.replace(data);\r\n    }\r\n    checkPlaceholderMap(model, map = {}) {\r\n        const regex = \"{{.*?}}\";\r\n        const modelString = JSON.stringify(model);\r\n        let keys = modelString.match(new RegExp(regex, \"g\")) || [];\r\n        keys = keys.map((el) => el.replace(\"{{\", \"\").replace(\"}}\", \"\"));\r\n        let isValid = true;\r\n        let errors;\r\n        if (keys && keys.length > 0 && (map === undefined || map === null)) {\r\n            isValid = false;\r\n            errors = `No map provided for model ${model.title}`;\r\n        }\r\n        else if (keys.length > 0) {\r\n            keys.every((key) => {\r\n                if (!(key in map)) {\r\n                    errors = `Missing required fields in map for model ${model.title}`;\r\n                    isValid = false;\r\n                    return false;\r\n                }\r\n                return true;\r\n            });\r\n        }\r\n        return {\r\n            valid: isValid,\r\n            errors: errors,\r\n        };\r\n    }\r\n    returnNewTMHref(baseUrl, tdname) {\r\n        return `${baseUrl}/${tdname}.tm.jsonld`;\r\n    }\r\n    returnNewTDHref(baseUrl, tdname) {\r\n        return `${baseUrl}/${tdname}.td.jsonld`;\r\n    }\r\n    addDependency(dep) {\r\n        if (this.deps.indexOf(dep) > -1) {\r\n            throw new Error(`Circular dependency found for ${dep}`);\r\n        }\r\n        this.deps.push(dep);\r\n    }\r\n    removeDependency(dep) {\r\n        if (dep) {\r\n            this.deps = this.deps.filter((el) => el !== dep);\r\n        }\r\n        else {\r\n            this.deps.pop();\r\n        }\r\n    }\r\n}\r\nexports.ThingModelHelpers = ThingModelHelpers;\r\nThingModelHelpers.tsSchemaValidator = ajv.compile(tmSchema);\r\n//# sourceMappingURL=thing-model-helpers.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CodeGen = exports.Name = exports.nil = exports.stringify = exports.str = exports._ = exports.KeywordCxt = void 0;\nconst context_1 = require(\"./compile/context\");\nexports.KeywordCxt = context_1.default;\nvar codegen_1 = require(\"./compile/codegen\");\nObject.defineProperty(exports, \"_\", { enumerable: true, get: function () { return codegen_1._; } });\nObject.defineProperty(exports, \"str\", { enumerable: true, get: function () { return codegen_1.str; } });\nObject.defineProperty(exports, \"stringify\", { enumerable: true, get: function () { return codegen_1.stringify; } });\nObject.defineProperty(exports, \"nil\", { enumerable: true, get: function () { return codegen_1.nil; } });\nObject.defineProperty(exports, \"Name\", { enumerable: true, get: function () { return codegen_1.Name; } });\nObject.defineProperty(exports, \"CodeGen\", { enumerable: true, get: function () { return codegen_1.CodeGen; } });\nconst core_1 = require(\"./core\");\nconst draft7_1 = require(\"./vocabularies/draft7\");\nconst draft7MetaSchema = require(\"./refs/json-schema-draft-07.json\");\nconst META_SUPPORT_DATA = [\"/properties\"];\nconst META_SCHEMA_ID = \"http://json-schema.org/draft-07/schema\";\nclass Ajv extends core_1.default {\n    _addVocabularies() {\n        super._addVocabularies();\n        draft7_1.default.forEach((v) => this.addVocabulary(v));\n    }\n    _addDefaultMetaSchema() {\n        super._addDefaultMetaSchema();\n        if (!this.opts.meta)\n            return;\n        const metaSchema = this.opts.$data\n            ? this.$dataMetaSchema(draft7MetaSchema, META_SUPPORT_DATA)\n            : draft7MetaSchema;\n        this.addMetaSchema(metaSchema, META_SCHEMA_ID, false);\n        this.refs[\"http://json-schema.org/schema\"] = META_SCHEMA_ID;\n    }\n    defaultMeta() {\n        return (this.opts.defaultMeta =\n            super.defaultMeta() || (this.getSchema(META_SCHEMA_ID) ? META_SCHEMA_ID : undefined));\n    }\n}\nexports.default = Ajv;\n//# sourceMappingURL=ajv.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getProperty = exports.safeStringify = exports.stringify = exports.strConcat = exports.addCodeArg = exports.str = exports._ = exports.nil = exports._Code = exports.Name = exports.IDENTIFIER = exports._CodeOrName = void 0;\nclass _CodeOrName {\n}\nexports._CodeOrName = _CodeOrName;\nexports.IDENTIFIER = /^[a-z$_][a-z$_0-9]*$/i;\nclass Name extends _CodeOrName {\n    constructor(s) {\n        super();\n        if (!exports.IDENTIFIER.test(s))\n            throw new Error(\"CodeGen: name must be a valid identifier\");\n        this.str = s;\n    }\n    toString() {\n        return this.str;\n    }\n    emptyStr() {\n        return false;\n    }\n    get names() {\n        return { [this.str]: 1 };\n    }\n}\nexports.Name = Name;\nclass _Code extends _CodeOrName {\n    constructor(code) {\n        super();\n        this._items = typeof code === \"string\" ? [code] : code;\n    }\n    toString() {\n        return this.str;\n    }\n    emptyStr() {\n        if (this._items.length > 1)\n            return false;\n        const item = this._items[0];\n        return item === \"\" || item === '\"\"';\n    }\n    get str() {\n        var _a;\n        return ((_a = this._str) !== null && _a !== void 0 ? _a : (this._str = this._items.reduce((s, c) => `${s}${c}`, \"\")));\n    }\n    get names() {\n        var _a;\n        return ((_a = this._names) !== null && _a !== void 0 ? _a : (this._names = this._items.reduce((names, c) => {\n            if (c instanceof Name)\n                names[c.str] = (names[c.str] || 0) + 1;\n            return names;\n        }, {})));\n    }\n}\nexports._Code = _Code;\nexports.nil = new _Code(\"\");\nfunction _(strs, ...args) {\n    const code = [strs[0]];\n    let i = 0;\n    while (i < args.length) {\n        addCodeArg(code, args[i]);\n        code.push(strs[++i]);\n    }\n    return new _Code(code);\n}\nexports._ = _;\nconst plus = new _Code(\"+\");\nfunction str(strs, ...args) {\n    const expr = [safeStringify(strs[0])];\n    let i = 0;\n    while (i < args.length) {\n        expr.push(plus);\n        addCodeArg(expr, args[i]);\n        expr.push(plus, safeStringify(strs[++i]));\n    }\n    optimize(expr);\n    return new _Code(expr);\n}\nexports.str = str;\nfunction addCodeArg(code, arg) {\n    if (arg instanceof _Code)\n        code.push(...arg._items);\n    else if (arg instanceof Name)\n        code.push(arg);\n    else\n        code.push(interpolate(arg));\n}\nexports.addCodeArg = addCodeArg;\nfunction optimize(expr) {\n    let i = 1;\n    while (i < expr.length - 1) {\n        if (expr[i] === plus) {\n            const res = mergeExprItems(expr[i - 1], expr[i + 1]);\n            if (res !== undefined) {\n                expr.splice(i - 1, 3, res);\n                continue;\n            }\n            expr[i++] = \"+\";\n        }\n        i++;\n    }\n}\nfunction mergeExprItems(a, b) {\n    if (b === '\"\"')\n        return a;\n    if (a === '\"\"')\n        return b;\n    if (typeof a == \"string\") {\n        if (b instanceof Name || a[a.length - 1] !== '\"')\n            return;\n        if (typeof b != \"string\")\n            return `${a.slice(0, -1)}${b}\"`;\n        if (b[0] === '\"')\n            return a.slice(0, -1) + b.slice(1);\n        return;\n    }\n    if (typeof b == \"string\" && b[0] === '\"' && !(a instanceof Name))\n        return `\"${a}${b.slice(1)}`;\n    return;\n}\nfunction strConcat(c1, c2) {\n    return c2.emptyStr() ? c1 : c1.emptyStr() ? c2 : str `${c1}${c2}`;\n}\nexports.strConcat = strConcat;\n// TODO do not allow arrays here\nfunction interpolate(x) {\n    return typeof x == \"number\" || typeof x == \"boolean\" || x === null\n        ? x\n        : safeStringify(Array.isArray(x) ? x.join(\",\") : x);\n}\nfunction stringify(x) {\n    return new _Code(safeStringify(x));\n}\nexports.stringify = stringify;\nfunction safeStringify(x) {\n    return JSON.stringify(x)\n        .replace(/\\u2028/g, \"\\\\u2028\")\n        .replace(/\\u2029/g, \"\\\\u2029\");\n}\nexports.safeStringify = safeStringify;\nfunction getProperty(key) {\n    return typeof key == \"string\" && exports.IDENTIFIER.test(key) ? new _Code(`.${key}`) : _ `[${key}]`;\n}\nexports.getProperty = getProperty;\n//# sourceMappingURL=code.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.or = exports.and = exports.not = exports.CodeGen = exports.operators = exports.varKinds = exports.ValueScopeName = exports.ValueScope = exports.Scope = exports.Name = exports.stringify = exports.getProperty = exports.nil = exports.strConcat = exports.str = exports._ = void 0;\nconst code_1 = require(\"./code\");\nconst scope_1 = require(\"./scope\");\nvar code_2 = require(\"./code\");\nObject.defineProperty(exports, \"_\", { enumerable: true, get: function () { return code_2._; } });\nObject.defineProperty(exports, \"str\", { enumerable: true, get: function () { return code_2.str; } });\nObject.defineProperty(exports, \"strConcat\", { enumerable: true, get: function () { return code_2.strConcat; } });\nObject.defineProperty(exports, \"nil\", { enumerable: true, get: function () { return code_2.nil; } });\nObject.defineProperty(exports, \"getProperty\", { enumerable: true, get: function () { return code_2.getProperty; } });\nObject.defineProperty(exports, \"stringify\", { enumerable: true, get: function () { return code_2.stringify; } });\nObject.defineProperty(exports, \"Name\", { enumerable: true, get: function () { return code_2.Name; } });\nvar scope_2 = require(\"./scope\");\nObject.defineProperty(exports, \"Scope\", { enumerable: true, get: function () { return scope_2.Scope; } });\nObject.defineProperty(exports, \"ValueScope\", { enumerable: true, get: function () { return scope_2.ValueScope; } });\nObject.defineProperty(exports, \"ValueScopeName\", { enumerable: true, get: function () { return scope_2.ValueScopeName; } });\nObject.defineProperty(exports, \"varKinds\", { enumerable: true, get: function () { return scope_2.varKinds; } });\nexports.operators = {\n    GT: new code_1._Code(\">\"),\n    GTE: new code_1._Code(\">=\"),\n    LT: new code_1._Code(\"<\"),\n    LTE: new code_1._Code(\"<=\"),\n    EQ: new code_1._Code(\"===\"),\n    NEQ: new code_1._Code(\"!==\"),\n    NOT: new code_1._Code(\"!\"),\n    OR: new code_1._Code(\"||\"),\n    AND: new code_1._Code(\"&&\"),\n    ADD: new code_1._Code(\"+\"),\n};\nclass Node {\n    optimizeNodes() {\n        return this;\n    }\n    optimizeNames(_names, _constants) {\n        return this;\n    }\n}\nclass Def extends Node {\n    constructor(varKind, name, rhs) {\n        super();\n        this.varKind = varKind;\n        this.name = name;\n        this.rhs = rhs;\n    }\n    render({ es5, _n }) {\n        const varKind = es5 ? scope_1.varKinds.var : this.varKind;\n        const rhs = this.rhs === undefined ? \"\" : ` = ${this.rhs}`;\n        return `${varKind} ${this.name}${rhs};` + _n;\n    }\n    optimizeNames(names, constants) {\n        if (!names[this.name.str])\n            return;\n        if (this.rhs)\n            this.rhs = optimizeExpr(this.rhs, names, constants);\n        return this;\n    }\n    get names() {\n        return this.rhs instanceof code_1._CodeOrName ? this.rhs.names : {};\n    }\n}\nclass Assign extends Node {\n    constructor(lhs, rhs, sideEffects) {\n        super();\n        this.lhs = lhs;\n        this.rhs = rhs;\n        this.sideEffects = sideEffects;\n    }\n    render({ _n }) {\n        return `${this.lhs} = ${this.rhs};` + _n;\n    }\n    optimizeNames(names, constants) {\n        if (this.lhs instanceof code_1.Name && !names[this.lhs.str] && !this.sideEffects)\n            return;\n        this.rhs = optimizeExpr(this.rhs, names, constants);\n        return this;\n    }\n    get names() {\n        const names = this.lhs instanceof code_1.Name ? {} : { ...this.lhs.names };\n        return addExprNames(names, this.rhs);\n    }\n}\nclass AssignOp extends Assign {\n    constructor(lhs, op, rhs, sideEffects) {\n        super(lhs, rhs, sideEffects);\n        this.op = op;\n    }\n    render({ _n }) {\n        return `${this.lhs} ${this.op}= ${this.rhs};` + _n;\n    }\n}\nclass Label extends Node {\n    constructor(label) {\n        super();\n        this.label = label;\n        this.names = {};\n    }\n    render({ _n }) {\n        return `${this.label}:` + _n;\n    }\n}\nclass Break extends Node {\n    constructor(label) {\n        super();\n        this.label = label;\n        this.names = {};\n    }\n    render({ _n }) {\n        const label = this.label ? ` ${this.label}` : \"\";\n        return `break${label};` + _n;\n    }\n}\nclass Throw extends Node {\n    constructor(error) {\n        super();\n        this.error = error;\n    }\n    render({ _n }) {\n        return `throw ${this.error};` + _n;\n    }\n    get names() {\n        return this.error.names;\n    }\n}\nclass AnyCode extends Node {\n    constructor(code) {\n        super();\n        this.code = code;\n    }\n    render({ _n }) {\n        return `${this.code};` + _n;\n    }\n    optimizeNodes() {\n        return `${this.code}` ? this : undefined;\n    }\n    optimizeNames(names, constants) {\n        this.code = optimizeExpr(this.code, names, constants);\n        return this;\n    }\n    get names() {\n        return this.code instanceof code_1._CodeOrName ? this.code.names : {};\n    }\n}\nclass ParentNode extends Node {\n    constructor(nodes = []) {\n        super();\n        this.nodes = nodes;\n    }\n    render(opts) {\n        return this.nodes.reduce((code, n) => code + n.render(opts), \"\");\n    }\n    optimizeNodes() {\n        const { nodes } = this;\n        let i = nodes.length;\n        while (i--) {\n            const n = nodes[i].optimizeNodes();\n            if (Array.isArray(n))\n                nodes.splice(i, 1, ...n);\n            else if (n)\n                nodes[i] = n;\n            else\n                nodes.splice(i, 1);\n        }\n        return nodes.length > 0 ? this : undefined;\n    }\n    optimizeNames(names, constants) {\n        const { nodes } = this;\n        let i = nodes.length;\n        while (i--) {\n            // iterating backwards improves 1-pass optimization\n            const n = nodes[i];\n            if (n.optimizeNames(names, constants))\n                continue;\n            subtractNames(names, n.names);\n            nodes.splice(i, 1);\n        }\n        return nodes.length > 0 ? this : undefined;\n    }\n    get names() {\n        return this.nodes.reduce((names, n) => addNames(names, n.names), {});\n    }\n}\nclass BlockNode extends ParentNode {\n    render(opts) {\n        return \"{\" + opts._n + super.render(opts) + \"}\" + opts._n;\n    }\n}\nclass Root extends ParentNode {\n}\nclass Else extends BlockNode {\n}\nElse.kind = \"else\";\nclass If extends BlockNode {\n    constructor(condition, nodes) {\n        super(nodes);\n        this.condition = condition;\n    }\n    render(opts) {\n        let code = `if(${this.condition})` + super.render(opts);\n        if (this.else)\n            code += \"else \" + this.else.render(opts);\n        return code;\n    }\n    optimizeNodes() {\n        super.optimizeNodes();\n        const cond = this.condition;\n        if (cond === true)\n            return this.nodes; // else is ignored here\n        let e = this.else;\n        if (e) {\n            const ns = e.optimizeNodes();\n            e = this.else = Array.isArray(ns) ? new Else(ns) : ns;\n        }\n        if (e) {\n            if (cond === false)\n                return e instanceof If ? e : e.nodes;\n            if (this.nodes.length)\n                return this;\n            return new If(not(cond), e instanceof If ? [e] : e.nodes);\n        }\n        if (cond === false || !this.nodes.length)\n            return undefined;\n        return this;\n    }\n    optimizeNames(names, constants) {\n        var _a;\n        this.else = (_a = this.else) === null || _a === void 0 ? void 0 : _a.optimizeNames(names, constants);\n        if (!(super.optimizeNames(names, constants) || this.else))\n            return;\n        this.condition = optimizeExpr(this.condition, names, constants);\n        return this;\n    }\n    get names() {\n        const names = super.names;\n        addExprNames(names, this.condition);\n        if (this.else)\n            addNames(names, this.else.names);\n        return names;\n    }\n}\nIf.kind = \"if\";\nclass For extends BlockNode {\n}\nFor.kind = \"for\";\nclass ForLoop extends For {\n    constructor(iteration) {\n        super();\n        this.iteration = iteration;\n    }\n    render(opts) {\n        return `for(${this.iteration})` + super.render(opts);\n    }\n    optimizeNames(names, constants) {\n        if (!super.optimizeNames(names, constants))\n            return;\n        this.iteration = optimizeExpr(this.iteration, names, constants);\n        return this;\n    }\n    get names() {\n        return addNames(super.names, this.iteration.names);\n    }\n}\nclass ForRange extends For {\n    constructor(varKind, name, from, to) {\n        super();\n        this.varKind = varKind;\n        this.name = name;\n        this.from = from;\n        this.to = to;\n    }\n    render(opts) {\n        const varKind = opts.es5 ? scope_1.varKinds.var : this.varKind;\n        const { name, from, to } = this;\n        return `for(${varKind} ${name}=${from}; ${name}<${to}; ${name}++)` + super.render(opts);\n    }\n    get names() {\n        const names = addExprNames(super.names, this.from);\n        return addExprNames(names, this.to);\n    }\n}\nclass ForIter extends For {\n    constructor(loop, varKind, name, iterable) {\n        super();\n        this.loop = loop;\n        this.varKind = varKind;\n        this.name = name;\n        this.iterable = iterable;\n    }\n    render(opts) {\n        return `for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})` + super.render(opts);\n    }\n    optimizeNames(names, constants) {\n        if (!super.optimizeNames(names, constants))\n            return;\n        this.iterable = optimizeExpr(this.iterable, names, constants);\n        return this;\n    }\n    get names() {\n        return addNames(super.names, this.iterable.names);\n    }\n}\nclass Func extends BlockNode {\n    constructor(name, args, async) {\n        super();\n        this.name = name;\n        this.args = args;\n        this.async = async;\n    }\n    render(opts) {\n        const _async = this.async ? \"async \" : \"\";\n        return `${_async}function ${this.name}(${this.args})` + super.render(opts);\n    }\n}\nFunc.kind = \"func\";\nclass Return extends ParentNode {\n    render(opts) {\n        return \"return \" + super.render(opts);\n    }\n}\nReturn.kind = \"return\";\nclass Try extends BlockNode {\n    render(opts) {\n        let code = \"try\" + super.render(opts);\n        if (this.catch)\n            code += this.catch.render(opts);\n        if (this.finally)\n            code += this.finally.render(opts);\n        return code;\n    }\n    optimizeNodes() {\n        var _a, _b;\n        super.optimizeNodes();\n        (_a = this.catch) === null || _a === void 0 ? void 0 : _a.optimizeNodes();\n        (_b = this.finally) === null || _b === void 0 ? void 0 : _b.optimizeNodes();\n        return this;\n    }\n    optimizeNames(names, constants) {\n        var _a, _b;\n        super.optimizeNames(names, constants);\n        (_a = this.catch) === null || _a === void 0 ? void 0 : _a.optimizeNames(names, constants);\n        (_b = this.finally) === null || _b === void 0 ? void 0 : _b.optimizeNames(names, constants);\n        return this;\n    }\n    get names() {\n        const names = super.names;\n        if (this.catch)\n            addNames(names, this.catch.names);\n        if (this.finally)\n            addNames(names, this.finally.names);\n        return names;\n    }\n}\nclass Catch extends BlockNode {\n    constructor(error) {\n        super();\n        this.error = error;\n    }\n    render(opts) {\n        return `catch(${this.error})` + super.render(opts);\n    }\n}\nCatch.kind = \"catch\";\nclass Finally extends BlockNode {\n    render(opts) {\n        return \"finally\" + super.render(opts);\n    }\n}\nFinally.kind = \"finally\";\nclass CodeGen {\n    constructor(extScope, opts = {}) {\n        this._values = {};\n        this._blockStarts = [];\n        this._constants = {};\n        this.opts = { ...opts, _n: opts.lines ? \"\\n\" : \"\" };\n        this._extScope = extScope;\n        this._scope = new scope_1.Scope({ parent: extScope });\n        this._nodes = [new Root()];\n    }\n    toString() {\n        return this._root.render(this.opts);\n    }\n    // returns unique name in the internal scope\n    name(prefix) {\n        return this._scope.name(prefix);\n    }\n    // reserves unique name in the external scope\n    scopeName(prefix) {\n        return this._extScope.name(prefix);\n    }\n    // reserves unique name in the external scope and assigns value to it\n    scopeValue(prefixOrName, value) {\n        const name = this._extScope.value(prefixOrName, value);\n        const vs = this._values[name.prefix] || (this._values[name.prefix] = new Set());\n        vs.add(name);\n        return name;\n    }\n    getScopeValue(prefix, keyOrRef) {\n        return this._extScope.getValue(prefix, keyOrRef);\n    }\n    // return code that assigns values in the external scope to the names that are used internally\n    // (same names that were returned by gen.scopeName or gen.scopeValue)\n    scopeRefs(scopeName) {\n        return this._extScope.scopeRefs(scopeName, this._values);\n    }\n    scopeCode() {\n        return this._extScope.scopeCode(this._values);\n    }\n    _def(varKind, nameOrPrefix, rhs, constant) {\n        const name = this._scope.toName(nameOrPrefix);\n        if (rhs !== undefined && constant)\n            this._constants[name.str] = rhs;\n        this._leafNode(new Def(varKind, name, rhs));\n        return name;\n    }\n    // `const` declaration (`var` in es5 mode)\n    const(nameOrPrefix, rhs, _constant) {\n        return this._def(scope_1.varKinds.const, nameOrPrefix, rhs, _constant);\n    }\n    // `let` declaration with optional assignment (`var` in es5 mode)\n    let(nameOrPrefix, rhs, _constant) {\n        return this._def(scope_1.varKinds.let, nameOrPrefix, rhs, _constant);\n    }\n    // `var` declaration with optional assignment\n    var(nameOrPrefix, rhs, _constant) {\n        return this._def(scope_1.varKinds.var, nameOrPrefix, rhs, _constant);\n    }\n    // assignment code\n    assign(lhs, rhs, sideEffects) {\n        return this._leafNode(new Assign(lhs, rhs, sideEffects));\n    }\n    // `+=` code\n    add(lhs, rhs) {\n        return this._leafNode(new AssignOp(lhs, exports.operators.ADD, rhs));\n    }\n    // appends passed SafeExpr to code or executes Block\n    code(c) {\n        if (typeof c == \"function\")\n            c();\n        else if (c !== code_1.nil)\n            this._leafNode(new AnyCode(c));\n        return this;\n    }\n    // returns code for object literal for the passed argument list of key-value pairs\n    object(...keyValues) {\n        const code = [\"{\"];\n        for (const [key, value] of keyValues) {\n            if (code.length > 1)\n                code.push(\",\");\n            code.push(key);\n            if (key !== value || this.opts.es5) {\n                code.push(\":\");\n                code_1.addCodeArg(code, value);\n            }\n        }\n        code.push(\"}\");\n        return new code_1._Code(code);\n    }\n    // `if` clause (or statement if `thenBody` and, optionally, `elseBody` are passed)\n    if(condition, thenBody, elseBody) {\n        this._blockNode(new If(condition));\n        if (thenBody && elseBody) {\n            this.code(thenBody).else().code(elseBody).endIf();\n        }\n        else if (thenBody) {\n            this.code(thenBody).endIf();\n        }\n        else if (elseBody) {\n            throw new Error('CodeGen: \"else\" body without \"then\" body');\n        }\n        return this;\n    }\n    // `else if` clause - invalid without `if` or after `else` clauses\n    elseIf(condition) {\n        return this._elseNode(new If(condition));\n    }\n    // `else` clause - only valid after `if` or `else if` clauses\n    else() {\n        return this._elseNode(new Else());\n    }\n    // end `if` statement (needed if gen.if was used only with condition)\n    endIf() {\n        return this._endBlockNode(If, Else);\n    }\n    _for(node, forBody) {\n        this._blockNode(node);\n        if (forBody)\n            this.code(forBody).endFor();\n        return this;\n    }\n    // a generic `for` clause (or statement if `forBody` is passed)\n    for(iteration, forBody) {\n        return this._for(new ForLoop(iteration), forBody);\n    }\n    // `for` statement for a range of values\n    forRange(nameOrPrefix, from, to, forBody, varKind = this.opts.es5 ? scope_1.varKinds.var : scope_1.varKinds.let) {\n        const name = this._scope.toName(nameOrPrefix);\n        return this._for(new ForRange(varKind, name, from, to), () => forBody(name));\n    }\n    // `for-of` statement (in es5 mode replace with a normal for loop)\n    forOf(nameOrPrefix, iterable, forBody, varKind = scope_1.varKinds.const) {\n        const name = this._scope.toName(nameOrPrefix);\n        if (this.opts.es5) {\n            const arr = iterable instanceof code_1.Name ? iterable : this.var(\"_arr\", iterable);\n            return this.forRange(\"_i\", 0, code_1._ `${arr}.length`, (i) => {\n                this.var(name, code_1._ `${arr}[${i}]`);\n                forBody(name);\n            });\n        }\n        return this._for(new ForIter(\"of\", varKind, name, iterable), () => forBody(name));\n    }\n    // `for-in` statement.\n    // With option `ownProperties` replaced with a `for-of` loop for object keys\n    forIn(nameOrPrefix, obj, forBody, varKind = this.opts.es5 ? scope_1.varKinds.var : scope_1.varKinds.const) {\n        if (this.opts.ownProperties) {\n            return this.forOf(nameOrPrefix, code_1._ `Object.keys(${obj})`, forBody);\n        }\n        const name = this._scope.toName(nameOrPrefix);\n        return this._for(new ForIter(\"in\", varKind, name, obj), () => forBody(name));\n    }\n    // end `for` loop\n    endFor() {\n        return this._endBlockNode(For);\n    }\n    // `label` statement\n    label(label) {\n        return this._leafNode(new Label(label));\n    }\n    // `break` statement\n    break(label) {\n        return this._leafNode(new Break(label));\n    }\n    // `return` statement\n    return(value) {\n        const node = new Return();\n        this._blockNode(node);\n        this.code(value);\n        if (node.nodes.length !== 1)\n            throw new Error('CodeGen: \"return\" should have one node');\n        return this._endBlockNode(Return);\n    }\n    // `try` statement\n    try(tryBody, catchCode, finallyCode) {\n        if (!catchCode && !finallyCode)\n            throw new Error('CodeGen: \"try\" without \"catch\" and \"finally\"');\n        const node = new Try();\n        this._blockNode(node);\n        this.code(tryBody);\n        if (catchCode) {\n            const error = this.name(\"e\");\n            this._currNode = node.catch = new Catch(error);\n            catchCode(error);\n        }\n        if (finallyCode) {\n            this._currNode = node.finally = new Finally();\n            this.code(finallyCode);\n        }\n        return this._endBlockNode(Catch, Finally);\n    }\n    // `throw` statement\n    throw(error) {\n        return this._leafNode(new Throw(error));\n    }\n    // start self-balancing block\n    block(body, nodeCount) {\n        this._blockStarts.push(this._nodes.length);\n        if (body)\n            this.code(body).endBlock(nodeCount);\n        return this;\n    }\n    // end the current self-balancing block\n    endBlock(nodeCount) {\n        const len = this._blockStarts.pop();\n        if (len === undefined)\n            throw new Error(\"CodeGen: not in self-balancing block\");\n        const toClose = this._nodes.length - len;\n        if (toClose < 0 || (nodeCount !== undefined && toClose !== nodeCount)) {\n            throw new Error(`CodeGen: wrong number of nodes: ${toClose} vs ${nodeCount} expected`);\n        }\n        this._nodes.length = len;\n        return this;\n    }\n    // `function` heading (or definition if funcBody is passed)\n    func(name, args = code_1.nil, async, funcBody) {\n        this._blockNode(new Func(name, args, async));\n        if (funcBody)\n            this.code(funcBody).endFunc();\n        return this;\n    }\n    // end function definition\n    endFunc() {\n        return this._endBlockNode(Func);\n    }\n    optimize(n = 1) {\n        while (n-- > 0) {\n            this._root.optimizeNodes();\n            this._root.optimizeNames(this._root.names, this._constants);\n        }\n    }\n    _leafNode(node) {\n        this._currNode.nodes.push(node);\n        return this;\n    }\n    _blockNode(node) {\n        this._currNode.nodes.push(node);\n        this._nodes.push(node);\n    }\n    _endBlockNode(N1, N2) {\n        const n = this._currNode;\n        if (n instanceof N1 || (N2 && n instanceof N2)) {\n            this._nodes.pop();\n            return this;\n        }\n        throw new Error(`CodeGen: not in block \"${N2 ? `${N1.kind}/${N2.kind}` : N1.kind}\"`);\n    }\n    _elseNode(node) {\n        const n = this._currNode;\n        if (!(n instanceof If)) {\n            throw new Error('CodeGen: \"else\" without \"if\"');\n        }\n        this._currNode = n.else = node;\n        return this;\n    }\n    get _root() {\n        return this._nodes[0];\n    }\n    get _currNode() {\n        const ns = this._nodes;\n        return ns[ns.length - 1];\n    }\n    set _currNode(node) {\n        const ns = this._nodes;\n        ns[ns.length - 1] = node;\n    }\n}\nexports.CodeGen = CodeGen;\nfunction addNames(names, from) {\n    for (const n in from)\n        names[n] = (names[n] || 0) + (from[n] || 0);\n    return names;\n}\nfunction addExprNames(names, from) {\n    return from instanceof code_1._CodeOrName ? addNames(names, from.names) : names;\n}\nfunction optimizeExpr(expr, names, constants) {\n    if (expr instanceof code_1.Name)\n        return replaceName(expr);\n    if (!canOptimize(expr))\n        return expr;\n    return new code_1._Code(expr._items.reduce((items, c) => {\n        if (c instanceof code_1.Name)\n            c = replaceName(c);\n        if (c instanceof code_1._Code)\n            items.push(...c._items);\n        else\n            items.push(c);\n        return items;\n    }, []));\n    function replaceName(n) {\n        const c = constants[n.str];\n        if (c === undefined || names[n.str] !== 1)\n            return n;\n        delete names[n.str];\n        return c;\n    }\n    function canOptimize(e) {\n        return (e instanceof code_1._Code &&\n            e._items.some((c) => c instanceof code_1.Name && names[c.str] === 1 && constants[c.str] !== undefined));\n    }\n}\nfunction subtractNames(names, from) {\n    for (const n in from)\n        names[n] = (names[n] || 0) - (from[n] || 0);\n}\nfunction not(x) {\n    return typeof x == \"boolean\" || typeof x == \"number\" || x === null ? !x : code_1._ `!${par(x)}`;\n}\nexports.not = not;\nconst andCode = mappend(exports.operators.AND);\n// boolean AND (&&) expression with the passed arguments\nfunction and(...args) {\n    return args.reduce(andCode);\n}\nexports.and = and;\nconst orCode = mappend(exports.operators.OR);\n// boolean OR (||) expression with the passed arguments\nfunction or(...args) {\n    return args.reduce(orCode);\n}\nexports.or = or;\nfunction mappend(op) {\n    return (x, y) => (x === code_1.nil ? y : y === code_1.nil ? x : code_1._ `${par(x)} ${op} ${par(y)}`);\n}\nfunction par(x) {\n    return x instanceof code_1.Name ? x : code_1._ `(${x})`;\n}\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ValueScope = exports.ValueScopeName = exports.Scope = exports.varKinds = exports.UsedValueState = void 0;\nconst code_1 = require(\"./code\");\nclass ValueError extends Error {\n    constructor(name) {\n        super(`CodeGen: \"code\" for ${name} not defined`);\n        this.value = name.value;\n    }\n}\nvar UsedValueState;\n(function (UsedValueState) {\n    UsedValueState[UsedValueState[\"Started\"] = 0] = \"Started\";\n    UsedValueState[UsedValueState[\"Completed\"] = 1] = \"Completed\";\n})(UsedValueState = exports.UsedValueState || (exports.UsedValueState = {}));\nexports.varKinds = {\n    const: new code_1.Name(\"const\"),\n    let: new code_1.Name(\"let\"),\n    var: new code_1.Name(\"var\"),\n};\nclass Scope {\n    constructor({ prefixes, parent } = {}) {\n        this._names = {};\n        this._prefixes = prefixes;\n        this._parent = parent;\n    }\n    toName(nameOrPrefix) {\n        return nameOrPrefix instanceof code_1.Name ? nameOrPrefix : this.name(nameOrPrefix);\n    }\n    name(prefix) {\n        return new code_1.Name(this._newName(prefix));\n    }\n    _newName(prefix) {\n        const ng = this._names[prefix] || this._nameGroup(prefix);\n        return `${prefix}${ng.index++}`;\n    }\n    _nameGroup(prefix) {\n        var _a, _b;\n        if (((_b = (_a = this._parent) === null || _a === void 0 ? void 0 : _a._prefixes) === null || _b === void 0 ? void 0 : _b.has(prefix)) || (this._prefixes && !this._prefixes.has(prefix))) {\n            throw new Error(`CodeGen: prefix \"${prefix}\" is not allowed in this scope`);\n        }\n        return (this._names[prefix] = { prefix, index: 0 });\n    }\n}\nexports.Scope = Scope;\nclass ValueScopeName extends code_1.Name {\n    constructor(prefix, nameStr) {\n        super(nameStr);\n        this.prefix = prefix;\n    }\n    setValue(value, { property, itemIndex }) {\n        this.value = value;\n        this.scopePath = code_1._ `.${new code_1.Name(property)}[${itemIndex}]`;\n    }\n}\nexports.ValueScopeName = ValueScopeName;\nconst line = code_1._ `\\n`;\nclass ValueScope extends Scope {\n    constructor(opts) {\n        super(opts);\n        this._values = {};\n        this._scope = opts.scope;\n        this.opts = { ...opts, _n: opts.lines ? line : code_1.nil };\n    }\n    get() {\n        return this._scope;\n    }\n    name(prefix) {\n        return new ValueScopeName(prefix, this._newName(prefix));\n    }\n    value(nameOrPrefix, value) {\n        var _a;\n        if (value.ref === undefined)\n            throw new Error(\"CodeGen: ref must be passed in value\");\n        const name = this.toName(nameOrPrefix);\n        const { prefix } = name;\n        const valueKey = (_a = value.key) !== null && _a !== void 0 ? _a : value.ref;\n        let vs = this._values[prefix];\n        if (vs) {\n            const _name = vs.get(valueKey);\n            if (_name)\n                return _name;\n        }\n        else {\n            vs = this._values[prefix] = new Map();\n        }\n        vs.set(valueKey, name);\n        const s = this._scope[prefix] || (this._scope[prefix] = []);\n        const itemIndex = s.length;\n        s[itemIndex] = value.ref;\n        name.setValue(value, { property: prefix, itemIndex });\n        return name;\n    }\n    getValue(prefix, keyOrRef) {\n        const vs = this._values[prefix];\n        if (!vs)\n            return;\n        return vs.get(keyOrRef);\n    }\n    scopeRefs(scopeName, values = this._values) {\n        return this._reduceValues(values, (name) => {\n            if (name.scopePath === undefined)\n                throw new Error(`CodeGen: name \"${name}\" has no value`);\n            return code_1._ `${scopeName}${name.scopePath}`;\n        });\n    }\n    scopeCode(values = this._values, usedValues, getCode) {\n        return this._reduceValues(values, (name) => {\n            if (name.value === undefined)\n                throw new Error(`CodeGen: name \"${name}\" has no value`);\n            return name.value.code;\n        }, usedValues, getCode);\n    }\n    _reduceValues(values, valueCode, usedValues = {}, getCode) {\n        let code = code_1.nil;\n        for (const prefix in values) {\n            const vs = values[prefix];\n            if (!vs)\n                continue;\n            const nameSet = (usedValues[prefix] = usedValues[prefix] || new Map());\n            vs.forEach((name) => {\n                if (nameSet.has(name))\n                    return;\n                nameSet.set(name, UsedValueState.Started);\n                let c = valueCode(name);\n                if (c) {\n                    const def = this.opts.es5 ? exports.varKinds.var : exports.varKinds.const;\n                    code = code_1._ `${code}${def} ${name} = ${c};${this.opts._n}`;\n                }\n                else if ((c = getCode === null || getCode === void 0 ? void 0 : getCode(name))) {\n                    code = code_1._ `${code}${c}${this.opts._n}`;\n                }\n                else {\n                    throw new ValueError(name);\n                }\n                nameSet.set(name, UsedValueState.Completed);\n            });\n        }\n        return code;\n    }\n}\nexports.ValueScope = ValueScope;\n//# sourceMappingURL=scope.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getData = void 0;\nconst dataType_1 = require(\"./validate/dataType\");\nconst util_1 = require(\"./util\");\nconst errors_1 = require(\"./errors\");\nconst codegen_1 = require(\"./codegen\");\nconst names_1 = require(\"./names\");\nconst subschema_1 = require(\"./subschema\");\nclass KeywordCxt {\n    constructor(it, def, keyword) {\n        validateKeywordUsage(it, def, keyword);\n        this.gen = it.gen;\n        this.allErrors = it.allErrors;\n        this.keyword = keyword;\n        this.data = it.data;\n        this.schema = it.schema[keyword];\n        this.$data = def.$data && it.opts.$data && this.schema && this.schema.$data;\n        this.schemaValue = util_1.schemaRefOrVal(it, this.schema, keyword, this.$data);\n        this.schemaType = def.schemaType;\n        this.parentSchema = it.schema;\n        this.params = {};\n        this.it = it;\n        this.def = def;\n        if (this.$data) {\n            this.schemaCode = it.gen.const(\"vSchema\", getData(this.$data, it));\n        }\n        else {\n            this.schemaCode = this.schemaValue;\n            if (!validSchemaType(this.schema, def.schemaType, def.allowUndefined)) {\n                throw new Error(`${keyword} value must be ${JSON.stringify(def.schemaType)}`);\n            }\n        }\n        if (\"code\" in def ? def.trackErrors : def.errors !== false) {\n            this.errsCount = it.gen.const(\"_errs\", names_1.default.errors);\n        }\n    }\n    result(condition, successAction, failAction) {\n        this.gen.if(codegen_1.not(condition));\n        if (failAction)\n            failAction();\n        else\n            this.error();\n        if (successAction) {\n            this.gen.else();\n            successAction();\n            if (this.allErrors)\n                this.gen.endIf();\n        }\n        else {\n            if (this.allErrors)\n                this.gen.endIf();\n            else\n                this.gen.else();\n        }\n    }\n    pass(condition, failAction) {\n        this.result(condition, undefined, failAction);\n    }\n    fail(condition) {\n        if (condition === undefined) {\n            this.error();\n            if (!this.allErrors)\n                this.gen.if(false); // this branch will be removed by gen.optimize\n            return;\n        }\n        this.gen.if(condition);\n        this.error();\n        if (this.allErrors)\n            this.gen.endIf();\n        else\n            this.gen.else();\n    }\n    fail$data(condition) {\n        if (!this.$data)\n            return this.fail(condition);\n        const { schemaCode } = this;\n        this.fail(codegen_1._ `${schemaCode} !== undefined && (${codegen_1.or(this.invalid$data(), condition)})`);\n    }\n    error(append) {\n        ;\n        (append ? errors_1.reportExtraError : errors_1.reportError)(this, this.def.error);\n    }\n    $dataError() {\n        errors_1.reportError(this, this.def.$dataError || errors_1.keyword$DataError);\n    }\n    reset() {\n        if (this.errsCount === undefined)\n            throw new Error('add \"trackErrors\" to keyword definition');\n        errors_1.resetErrorsCount(this.gen, this.errsCount);\n    }\n    ok(cond) {\n        if (!this.allErrors)\n            this.gen.if(cond);\n    }\n    setParams(obj, assign) {\n        if (assign)\n            Object.assign(this.params, obj);\n        else\n            this.params = obj;\n    }\n    block$data(valid, codeBlock, $dataValid = codegen_1.nil) {\n        this.gen.block(() => {\n            this.check$data(valid, $dataValid);\n            codeBlock();\n        });\n    }\n    check$data(valid = codegen_1.nil, $dataValid = codegen_1.nil) {\n        if (!this.$data)\n            return;\n        const { gen, schemaCode, schemaType, def } = this;\n        gen.if(codegen_1.or(codegen_1._ `${schemaCode} === undefined`, $dataValid));\n        if (valid !== codegen_1.nil)\n            gen.assign(valid, true);\n        if (schemaType.length || def.validateSchema) {\n            gen.elseIf(this.invalid$data());\n            this.$dataError();\n            if (valid !== codegen_1.nil)\n                gen.assign(valid, false);\n        }\n        gen.else();\n    }\n    invalid$data() {\n        const { gen, schemaCode, schemaType, def, it } = this;\n        return codegen_1.or(wrong$DataType(), invalid$DataSchema());\n        function wrong$DataType() {\n            if (schemaType.length) {\n                /* istanbul ignore if */\n                if (!(schemaCode instanceof codegen_1.Name))\n                    throw new Error(\"ajv implementation error\");\n                const st = Array.isArray(schemaType) ? schemaType : [schemaType];\n                return codegen_1._ `${dataType_1.checkDataTypes(st, schemaCode, it.opts.strict, dataType_1.DataType.Wrong)}`;\n            }\n            return codegen_1.nil;\n        }\n        function invalid$DataSchema() {\n            if (def.validateSchema) {\n                const validateSchemaRef = gen.scopeValue(\"validate$data\", { ref: def.validateSchema }); // TODO value.code for standalone\n                return codegen_1._ `!${validateSchemaRef}(${schemaCode})`;\n            }\n            return codegen_1.nil;\n        }\n    }\n    subschema(appl, valid) {\n        return subschema_1.applySubschema(this.it, appl, valid);\n    }\n    mergeEvaluated(schemaCxt, toName) {\n        const { it, gen } = this;\n        if (!it.opts.unevaluated)\n            return;\n        if (it.props !== true && schemaCxt.props !== undefined) {\n            it.props = util_1.mergeEvaluated.props(gen, schemaCxt.props, it.props, toName);\n        }\n        if (it.items !== true && schemaCxt.items !== undefined) {\n            it.items = util_1.mergeEvaluated.items(gen, schemaCxt.items, it.items, toName);\n        }\n    }\n    mergeValidEvaluated(schemaCxt, valid) {\n        const { it, gen } = this;\n        if (it.opts.unevaluated && (it.props !== true || it.items !== true)) {\n            gen.if(valid, () => this.mergeEvaluated(schemaCxt, codegen_1.Name));\n            return true;\n        }\n    }\n}\nexports.default = KeywordCxt;\nfunction validSchemaType(schema, schemaType, allowUndefined = false) {\n    // TODO add tests\n    return (!schemaType.length ||\n        schemaType.some((st) => st === \"array\"\n            ? Array.isArray(schema)\n            : st === \"object\"\n                ? schema && typeof schema == \"object\" && !Array.isArray(schema)\n                : typeof schema == st || (allowUndefined && typeof schema == \"undefined\")));\n}\nfunction validateKeywordUsage({ schema, opts, self }, def, keyword) {\n    /* istanbul ignore if */\n    if (Array.isArray(def.keyword) ? !def.keyword.includes(keyword) : def.keyword !== keyword) {\n        throw new Error(\"ajv implementation error\");\n    }\n    const deps = def.dependencies;\n    if (deps === null || deps === void 0 ? void 0 : deps.some((kwd) => !Object.prototype.hasOwnProperty.call(schema, kwd))) {\n        throw new Error(`parent schema must have dependencies of ${keyword}: ${deps.join(\",\")}`);\n    }\n    if (def.validateSchema) {\n        const valid = def.validateSchema(schema[keyword]);\n        if (!valid) {\n            const msg = \"keyword value is invalid: \" + self.errorsText(def.validateSchema.errors);\n            if (opts.validateSchema === \"log\")\n                self.logger.error(msg);\n            else\n                throw new Error(msg);\n        }\n    }\n}\nconst JSON_POINTER = /^\\/(?:[^~]|~0|~1)*$/;\nconst RELATIVE_JSON_POINTER = /^([0-9]+)(#|\\/(?:[^~]|~0|~1)*)?$/;\nfunction getData($data, { dataLevel, dataNames, dataPathArr }) {\n    let jsonPointer;\n    let data;\n    if ($data === \"\")\n        return names_1.default.rootData;\n    if ($data[0] === \"/\") {\n        if (!JSON_POINTER.test($data))\n            throw new Error(`Invalid JSON-pointer: ${$data}`);\n        jsonPointer = $data;\n        data = names_1.default.rootData;\n    }\n    else {\n        const matches = RELATIVE_JSON_POINTER.exec($data);\n        if (!matches)\n            throw new Error(`Invalid JSON-pointer: ${$data}`);\n        const up = +matches[1];\n        jsonPointer = matches[2];\n        if (jsonPointer === \"#\") {\n            if (up >= dataLevel)\n                throw new Error(errorMsg(\"property/index\", up));\n            return dataPathArr[dataLevel - up];\n        }\n        if (up > dataLevel)\n            throw new Error(errorMsg(\"data\", up));\n        data = dataNames[dataLevel - up];\n        if (!jsonPointer)\n            return data;\n    }\n    let expr = data;\n    const segments = jsonPointer.split(\"/\");\n    for (const segment of segments) {\n        if (segment) {\n            data = codegen_1._ `${data}${codegen_1.getProperty(util_1.unescapeJsonPointer(segment))}`;\n            expr = codegen_1._ `${expr} && ${data}`;\n        }\n    }\n    return expr;\n    function errorMsg(pointerType, up) {\n        return `Cannot access ${pointerType} ${up} levels up, current level is ${dataLevel}`;\n    }\n}\nexports.getData = getData;\n//# sourceMappingURL=context.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MissingRefError = exports.ValidationError = void 0;\nconst resolve_1 = require(\"./resolve\");\nclass ValidationError extends Error {\n    constructor(errors) {\n        super(\"validation failed\");\n        this.errors = errors;\n        this.ajv = this.validation = true;\n    }\n}\nexports.ValidationError = ValidationError;\nclass MissingRefError extends Error {\n    constructor(baseId, ref, msg) {\n        super(msg || `can't resolve reference ${ref} from id ${baseId}`);\n        this.missingRef = resolve_1.resolveUrl(baseId, ref);\n        this.missingSchema = resolve_1.normalizeId(resolve_1.getFullPath(this.missingRef));\n    }\n}\nexports.MissingRefError = MissingRefError;\nmodule.exports = {\n    ValidationError,\n    MissingRefError,\n};\n//# sourceMappingURL=error_classes.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.extendErrors = exports.resetErrorsCount = exports.reportExtraError = exports.reportError = exports.keyword$DataError = exports.keywordError = void 0;\nconst codegen_1 = require(\"./codegen\");\nconst names_1 = require(\"./names\");\nexports.keywordError = {\n    message: ({ keyword }) => codegen_1.str `should pass \"${keyword}\" keyword validation`,\n};\nexports.keyword$DataError = {\n    message: ({ keyword, schemaType }) => schemaType\n        ? codegen_1.str `\"${keyword}\" keyword must be ${schemaType} ($data)`\n        : codegen_1.str `\"${keyword}\" keyword is invalid ($data)`,\n};\nfunction reportError(cxt, error = exports.keywordError, overrideAllErrors) {\n    const { it } = cxt;\n    const { gen, compositeRule, allErrors } = it;\n    const errObj = errorObjectCode(cxt, error);\n    if (overrideAllErrors !== null && overrideAllErrors !== void 0 ? overrideAllErrors : (compositeRule || allErrors)) {\n        addError(gen, errObj);\n    }\n    else {\n        returnErrors(it, codegen_1._ `[${errObj}]`);\n    }\n}\nexports.reportError = reportError;\nfunction reportExtraError(cxt, error = exports.keywordError) {\n    const { it } = cxt;\n    const { gen, compositeRule, allErrors } = it;\n    const errObj = errorObjectCode(cxt, error);\n    addError(gen, errObj);\n    if (!(compositeRule || allErrors)) {\n        returnErrors(it, names_1.default.vErrors);\n    }\n}\nexports.reportExtraError = reportExtraError;\nfunction resetErrorsCount(gen, errsCount) {\n    gen.assign(names_1.default.errors, errsCount);\n    gen.if(codegen_1._ `${names_1.default.vErrors} !== null`, () => gen.if(errsCount, () => gen.assign(codegen_1._ `${names_1.default.vErrors}.length`, errsCount), () => gen.assign(names_1.default.vErrors, null)));\n}\nexports.resetErrorsCount = resetErrorsCount;\nfunction extendErrors({ gen, keyword, schemaValue, data, errsCount, it, }) {\n    /* istanbul ignore if */\n    if (errsCount === undefined)\n        throw new Error(\"ajv implementation error\");\n    const err = gen.name(\"err\");\n    gen.forRange(\"i\", errsCount, names_1.default.errors, (i) => {\n        gen.const(err, codegen_1._ `${names_1.default.vErrors}[${i}]`);\n        gen.if(codegen_1._ `${err}.dataPath === undefined`, () => gen.assign(codegen_1._ `${err}.dataPath`, codegen_1.strConcat(names_1.default.dataPath, it.errorPath)));\n        gen.assign(codegen_1._ `${err}.schemaPath`, codegen_1.str `${it.errSchemaPath}/${keyword}`);\n        if (it.opts.verbose) {\n            gen.assign(codegen_1._ `${err}.schema`, schemaValue);\n            gen.assign(codegen_1._ `${err}.data`, data);\n        }\n    });\n}\nexports.extendErrors = extendErrors;\nfunction addError(gen, errObj) {\n    const err = gen.const(\"err\", errObj);\n    gen.if(codegen_1._ `${names_1.default.vErrors} === null`, () => gen.assign(names_1.default.vErrors, codegen_1._ `[${err}]`), codegen_1._ `${names_1.default.vErrors}.push(${err})`);\n    gen.code(codegen_1._ `${names_1.default.errors}++`);\n}\nfunction returnErrors(it, errs) {\n    const { gen, validateName, schemaEnv } = it;\n    if (schemaEnv.$async) {\n        gen.throw(codegen_1._ `new ${it.ValidationError}(${errs})`);\n    }\n    else {\n        gen.assign(codegen_1._ `${validateName}.errors`, errs);\n        gen.return(false);\n    }\n}\nconst E = {\n    keyword: new codegen_1.Name(\"keyword\"),\n    schemaPath: new codegen_1.Name(\"schemaPath\"),\n    params: new codegen_1.Name(\"params\"),\n    propertyName: new codegen_1.Name(\"propertyName\"),\n    message: new codegen_1.Name(\"message\"),\n    schema: new codegen_1.Name(\"schema\"),\n    parentSchema: new codegen_1.Name(\"parentSchema\"),\n    // JTD error properties\n    instancePath: new codegen_1.Name(\"instancePath\"),\n};\nfunction errorObjectCode(cxt, error) {\n    const { createErrors, opts } = cxt.it;\n    if (createErrors === false)\n        return codegen_1._ `{}`;\n    return (opts.jtd && !opts.ajvErrors ? jtdErrorObject : ajvErrorObject)(cxt, error);\n}\nfunction jtdErrorObject(cxt, { message }) {\n    const { gen, keyword, it } = cxt;\n    const { errorPath, errSchemaPath, opts } = it;\n    const keyValues = [\n        [E.instancePath, codegen_1.strConcat(names_1.default.dataPath, errorPath)],\n        [E.schemaPath, codegen_1.str `${errSchemaPath}/${keyword}`],\n    ];\n    if (opts.messages) {\n        keyValues.push([E.message, typeof message == \"function\" ? message(cxt) : message]);\n    }\n    return gen.object(...keyValues);\n}\nfunction ajvErrorObject(cxt, error) {\n    const { gen, keyword, data, schemaValue, it } = cxt;\n    const { topSchemaRef, schemaPath, errorPath, errSchemaPath, propertyName, opts } = it;\n    const { params, message } = error;\n    const keyValues = [\n        [E.keyword, keyword],\n        [names_1.default.dataPath, codegen_1.strConcat(names_1.default.dataPath, errorPath)],\n        [E.schemaPath, codegen_1.str `${errSchemaPath}/${keyword}`],\n        [E.params, typeof params == \"function\" ? params(cxt) : params || codegen_1._ `{}`],\n    ];\n    if (propertyName)\n        keyValues.push([E.propertyName, propertyName]);\n    if (opts.messages) {\n        keyValues.push([E.message, typeof message == \"function\" ? message(cxt) : message]);\n    }\n    if (opts.verbose) {\n        keyValues.push([E.schema, schemaValue], [E.parentSchema, codegen_1._ `${topSchemaRef}${schemaPath}`], [names_1.default.data, data]);\n    }\n    return gen.object(...keyValues);\n}\n//# sourceMappingURL=errors.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.resolveSchema = exports.getCompilingSchema = exports.resolveRef = exports.compileSchema = exports.SchemaEnv = void 0;\nconst codegen_1 = require(\"./codegen\");\nconst error_classes_1 = require(\"./error_classes\");\nconst names_1 = require(\"./names\");\nconst resolve_1 = require(\"./resolve\");\nconst util_1 = require(\"./util\");\nconst validate_1 = require(\"./validate\");\nconst URI = require(\"uri-js\");\nclass SchemaEnv {\n    constructor(env) {\n        var _a;\n        this.refs = {};\n        this.dynamicAnchors = {};\n        let schema;\n        if (typeof env.schema == \"object\")\n            schema = env.schema;\n        this.schema = env.schema;\n        this.root = env.root || this;\n        this.baseId = (_a = env.baseId) !== null && _a !== void 0 ? _a : resolve_1.normalizeId(schema === null || schema === void 0 ? void 0 : schema.$id);\n        this.localRefs = env.localRefs;\n        this.meta = env.meta;\n        this.$async = schema === null || schema === void 0 ? void 0 : schema.$async;\n        this.refs = {};\n    }\n}\nexports.SchemaEnv = SchemaEnv;\n// let codeSize = 0\n// let nodeCount = 0\n// Compiles schema in SchemaEnv\nfunction compileSchema(sch) {\n    // TODO refactor - remove compilations\n    const _sch = getCompilingSchema.call(this, sch);\n    if (_sch)\n        return _sch;\n    const rootId = resolve_1.getFullPath(sch.root.baseId); // TODO if getFullPath removed 1 tests fails\n    const { es5, lines } = this.opts.code;\n    const { ownProperties } = this.opts;\n    const gen = new codegen_1.CodeGen(this.scope, { es5, lines, ownProperties });\n    let _ValidationError;\n    if (sch.$async) {\n        _ValidationError = gen.scopeValue(\"Error\", {\n            ref: error_classes_1.ValidationError,\n            code: codegen_1._ `require(\"ajv/dist/compile/error_classes\").ValidationError`,\n        });\n    }\n    const validateName = gen.scopeName(\"validate\");\n    sch.validateName = validateName;\n    const schemaCxt = {\n        gen,\n        allErrors: this.opts.allErrors,\n        data: names_1.default.data,\n        parentData: names_1.default.parentData,\n        parentDataProperty: names_1.default.parentDataProperty,\n        dataNames: [names_1.default.data],\n        dataPathArr: [codegen_1.nil],\n        dataLevel: 0,\n        dataTypes: [],\n        definedProperties: new Set(),\n        topSchemaRef: gen.scopeValue(\"schema\", this.opts.code.source === true\n            ? { ref: sch.schema, code: codegen_1.stringify(sch.schema) }\n            : { ref: sch.schema }),\n        validateName,\n        ValidationError: _ValidationError,\n        schema: sch.schema,\n        schemaEnv: sch,\n        rootId,\n        baseId: sch.baseId || rootId,\n        schemaPath: codegen_1.nil,\n        errSchemaPath: this.opts.jtd ? \"\" : \"#\",\n        errorPath: codegen_1._ `\"\"`,\n        opts: this.opts,\n        self: this,\n    };\n    let sourceCode;\n    try {\n        this._compilations.add(sch);\n        validate_1.validateFunctionCode(schemaCxt);\n        gen.optimize(this.opts.code.optimize);\n        // gen.optimize(1)\n        const validateCode = gen.toString();\n        sourceCode = `${gen.scopeRefs(names_1.default.scope)}return ${validateCode}`;\n        // console.log((codeSize += sourceCode.length), (nodeCount += gen.nodeCount))\n        if (this.opts.code.process)\n            sourceCode = this.opts.code.process(sourceCode, sch);\n        // console.log(\"\\n\\n\\n *** \\n\", sourceCode)\n        const makeValidate = new Function(`${names_1.default.self}`, `${names_1.default.scope}`, sourceCode);\n        const validate = makeValidate(this, this.scope.get());\n        this.scope.value(validateName, { ref: validate });\n        validate.errors = null;\n        validate.schema = sch.schema;\n        validate.schemaEnv = sch;\n        if (sch.$async)\n            validate.$async = true;\n        if (this.opts.code.source === true) {\n            validate.source = { validateName, validateCode, scopeValues: gen._values };\n        }\n        if (this.opts.unevaluated) {\n            const { props, items } = schemaCxt;\n            validate.evaluated = {\n                props: props instanceof codegen_1.Name ? undefined : props,\n                items: items instanceof codegen_1.Name ? undefined : items,\n                dynamicProps: props instanceof codegen_1.Name,\n                dynamicItems: items instanceof codegen_1.Name,\n            };\n            if (validate.source)\n                validate.source.evaluated = codegen_1.stringify(validate.evaluated);\n        }\n        sch.validate = validate;\n        return sch;\n    }\n    catch (e) {\n        delete sch.validate;\n        delete sch.validateName;\n        if (sourceCode)\n            this.logger.error(\"Error compiling schema, function code:\", sourceCode);\n        // console.log(\"\\n\\n\\n *** \\n\", sourceCode, this.opts)\n        throw e;\n    }\n    finally {\n        this._compilations.delete(sch);\n    }\n}\nexports.compileSchema = compileSchema;\nfunction resolveRef(root, baseId, ref) {\n    var _a;\n    ref = resolve_1.resolveUrl(baseId, ref);\n    const schOrFunc = root.refs[ref];\n    if (schOrFunc)\n        return schOrFunc;\n    let _sch = resolve.call(this, root, ref);\n    if (_sch === undefined) {\n        const schema = (_a = root.localRefs) === null || _a === void 0 ? void 0 : _a[ref]; // TODO maybe localRefs should hold SchemaEnv\n        if (schema)\n            _sch = new SchemaEnv({ schema, root, baseId });\n    }\n    if (_sch === undefined)\n        return;\n    return (root.refs[ref] = inlineOrCompile.call(this, _sch));\n}\nexports.resolveRef = resolveRef;\nfunction inlineOrCompile(sch) {\n    if (resolve_1.inlineRef(sch.schema, this.opts.inlineRefs))\n        return sch.schema;\n    return sch.validate ? sch : compileSchema.call(this, sch);\n}\n// Index of schema compilation in the currently compiled list\nfunction getCompilingSchema(schEnv) {\n    for (const sch of this._compilations) {\n        if (sameSchemaEnv(sch, schEnv))\n            return sch;\n    }\n}\nexports.getCompilingSchema = getCompilingSchema;\nfunction sameSchemaEnv(s1, s2) {\n    return s1.schema === s2.schema && s1.root === s2.root && s1.baseId === s2.baseId;\n}\n// resolve and compile the references ($ref)\n// TODO returns AnySchemaObject (if the schema can be inlined) or validation function\nfunction resolve(root, // information about the root schema for the current schema\nref // reference to resolve\n) {\n    let sch;\n    while (typeof (sch = this.refs[ref]) == \"string\")\n        ref = sch;\n    return sch || this.schemas[ref] || resolveSchema.call(this, root, ref);\n}\n// Resolve schema, its root and baseId\nfunction resolveSchema(root, // root object with properties schema, refs TODO below SchemaEnv is assigned to it\nref // reference to resolve\n) {\n    const p = URI.parse(ref);\n    const refPath = resolve_1._getFullPath(p);\n    let baseId = resolve_1.getFullPath(root.baseId);\n    // TODO `Object.keys(root.schema).length > 0` should not be needed - but removing breaks 2 tests\n    if (Object.keys(root.schema).length > 0 && refPath === baseId) {\n        return getJsonPointer.call(this, p, root);\n    }\n    const id = resolve_1.normalizeId(refPath);\n    const schOrRef = this.refs[id] || this.schemas[id];\n    if (typeof schOrRef == \"string\") {\n        const sch = resolveSchema.call(this, root, schOrRef);\n        if (typeof (sch === null || sch === void 0 ? void 0 : sch.schema) !== \"object\")\n            return;\n        return getJsonPointer.call(this, p, sch);\n    }\n    if (typeof (schOrRef === null || schOrRef === void 0 ? void 0 : schOrRef.schema) !== \"object\")\n        return;\n    if (!schOrRef.validate)\n        compileSchema.call(this, schOrRef);\n    if (id === resolve_1.normalizeId(ref)) {\n        const { schema } = schOrRef;\n        if (schema.$id)\n            baseId = resolve_1.resolveUrl(baseId, schema.$id);\n        return new SchemaEnv({ schema, root, baseId });\n    }\n    return getJsonPointer.call(this, p, schOrRef);\n}\nexports.resolveSchema = resolveSchema;\nconst PREVENT_SCOPE_CHANGE = new Set([\n    \"properties\",\n    \"patternProperties\",\n    \"enum\",\n    \"dependencies\",\n    \"definitions\",\n]);\nfunction getJsonPointer(parsedRef, { baseId, schema, root }) {\n    var _a;\n    if (((_a = parsedRef.fragment) === null || _a === void 0 ? void 0 : _a[0]) !== \"/\")\n        return;\n    for (const part of parsedRef.fragment.slice(1).split(\"/\")) {\n        if (typeof schema == \"boolean\")\n            return;\n        schema = schema[util_1.unescapeFragment(part)];\n        if (schema === undefined)\n            return;\n        // TODO PREVENT_SCOPE_CHANGE could be defined in keyword def?\n        if (!PREVENT_SCOPE_CHANGE.has(part) && typeof schema == \"object\" && schema.$id) {\n            baseId = resolve_1.resolveUrl(baseId, schema.$id);\n        }\n    }\n    let env;\n    if (typeof schema != \"boolean\" && schema.$ref && !util_1.schemaHasRulesButRef(schema, this.RULES)) {\n        const $ref = resolve_1.resolveUrl(baseId, schema.$ref);\n        env = resolveSchema.call(this, root, $ref);\n    }\n    // even though resolution failed we need to return SchemaEnv to throw exception\n    // so that compileAsync loads missing schema.\n    env = env || new SchemaEnv({ schema, root, baseId });\n    if (env.schema !== env.root.schema)\n        return env;\n    return undefined;\n}\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"./codegen\");\nconst names = {\n    // validation function arguments\n    data: new codegen_1.Name(\"data\"),\n    // args passed from referencing schema\n    valCxt: new codegen_1.Name(\"valCxt\"),\n    dataPath: new codegen_1.Name(\"dataPath\"),\n    parentData: new codegen_1.Name(\"parentData\"),\n    parentDataProperty: new codegen_1.Name(\"parentDataProperty\"),\n    rootData: new codegen_1.Name(\"rootData\"),\n    dynamicAnchors: new codegen_1.Name(\"dynamicAnchors\"),\n    // function scoped variables\n    vErrors: new codegen_1.Name(\"vErrors\"),\n    errors: new codegen_1.Name(\"errors\"),\n    this: new codegen_1.Name(\"this\"),\n    // \"globals\"\n    self: new codegen_1.Name(\"self\"),\n    scope: new codegen_1.Name(\"scope\"),\n    // JTD serialize/parse name for JSON string and position\n    json: new codegen_1.Name(\"json\"),\n    jsonPos: new codegen_1.Name(\"jsonPos\"),\n    jsonLen: new codegen_1.Name(\"jsonLen\"),\n    jsonPart: new codegen_1.Name(\"jsonPart\"),\n};\nexports.default = names;\n//# sourceMappingURL=names.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getSchemaRefs = exports.resolveUrl = exports.normalizeId = exports._getFullPath = exports.getFullPath = exports.inlineRef = void 0;\nconst util_1 = require(\"./util\");\nconst equal = require(\"fast-deep-equal\");\nconst traverse = require(\"json-schema-traverse\");\nconst URI = require(\"uri-js\");\n// TODO refactor to use keyword definitions\nconst SIMPLE_INLINED = new Set([\n    \"type\",\n    \"format\",\n    \"pattern\",\n    \"maxLength\",\n    \"minLength\",\n    \"maxProperties\",\n    \"minProperties\",\n    \"maxItems\",\n    \"minItems\",\n    \"maximum\",\n    \"minimum\",\n    \"uniqueItems\",\n    \"multipleOf\",\n    \"required\",\n    \"enum\",\n    \"const\",\n]);\nfunction inlineRef(schema, limit = true) {\n    if (typeof schema == \"boolean\")\n        return true;\n    if (limit === true)\n        return !hasRef(schema);\n    if (!limit)\n        return false;\n    return countKeys(schema) <= limit;\n}\nexports.inlineRef = inlineRef;\nconst REF_KEYWORDS = new Set([\n    \"$ref\",\n    \"$recursiveRef\",\n    \"$recursiveAnchor\",\n    \"$dynamicRef\",\n    \"$dynamicAnchor\",\n]);\nfunction hasRef(schema) {\n    for (const key in schema) {\n        if (REF_KEYWORDS.has(key))\n            return true;\n        const sch = schema[key];\n        if (Array.isArray(sch) && sch.some(hasRef))\n            return true;\n        if (typeof sch == \"object\" && hasRef(sch))\n            return true;\n    }\n    return false;\n}\nfunction countKeys(schema) {\n    let count = 0;\n    for (const key in schema) {\n        if (key === \"$ref\")\n            return Infinity;\n        count++;\n        if (SIMPLE_INLINED.has(key))\n            continue;\n        if (typeof schema[key] == \"object\") {\n            util_1.eachItem(schema[key], (sch) => (count += countKeys(sch)));\n        }\n        if (count === Infinity)\n            return Infinity;\n    }\n    return count;\n}\nfunction getFullPath(id = \"\", normalize) {\n    if (normalize !== false)\n        id = normalizeId(id);\n    const p = URI.parse(id);\n    return _getFullPath(p);\n}\nexports.getFullPath = getFullPath;\nfunction _getFullPath(p) {\n    return URI.serialize(p).split(\"#\")[0] + \"#\";\n}\nexports._getFullPath = _getFullPath;\nconst TRAILING_SLASH_HASH = /#\\/?$/;\nfunction normalizeId(id) {\n    return id ? id.replace(TRAILING_SLASH_HASH, \"\") : \"\";\n}\nexports.normalizeId = normalizeId;\nfunction resolveUrl(baseId, id) {\n    id = normalizeId(id);\n    return URI.resolve(baseId, id);\n}\nexports.resolveUrl = resolveUrl;\nconst ANCHOR = /^[a-z_][-a-z0-9._]*$/i;\nfunction getSchemaRefs(schema) {\n    if (typeof schema == \"boolean\")\n        return {};\n    const schemaId = normalizeId(schema.$id);\n    const baseIds = { \"\": schemaId };\n    const pathPrefix = getFullPath(schemaId, false);\n    const localRefs = {};\n    const schemaRefs = new Set();\n    traverse(schema, { allKeys: true }, (sch, jsonPtr, _, parentJsonPtr) => {\n        if (parentJsonPtr === undefined)\n            return;\n        const fullPath = pathPrefix + jsonPtr;\n        let baseId = baseIds[parentJsonPtr];\n        if (typeof sch.$id == \"string\")\n            baseId = addRef.call(this, sch.$id);\n        addAnchor.call(this, sch.$anchor);\n        addAnchor.call(this, sch.$dynamicAnchor);\n        baseIds[jsonPtr] = baseId;\n        function addRef(ref) {\n            ref = normalizeId(baseId ? URI.resolve(baseId, ref) : ref);\n            if (schemaRefs.has(ref))\n                throw ambiguos(ref);\n            schemaRefs.add(ref);\n            let schOrRef = this.refs[ref];\n            if (typeof schOrRef == \"string\")\n                schOrRef = this.refs[schOrRef];\n            if (typeof schOrRef == \"object\") {\n                checkAmbiguosRef(sch, schOrRef.schema, ref);\n            }\n            else if (ref !== normalizeId(fullPath)) {\n                if (ref[0] === \"#\") {\n                    checkAmbiguosRef(sch, localRefs[ref], ref);\n                    localRefs[ref] = sch;\n                }\n                else {\n                    this.refs[ref] = fullPath;\n                }\n            }\n            return ref;\n        }\n        function addAnchor(anchor) {\n            if (typeof anchor == \"string\") {\n                if (!ANCHOR.test(anchor))\n                    throw new Error(`invalid anchor \"${anchor}\"`);\n                addRef.call(this, `#${anchor}`);\n            }\n        }\n    });\n    return localRefs;\n    function checkAmbiguosRef(sch1, sch2, ref) {\n        if (sch2 !== undefined && !equal(sch1, sch2))\n            throw ambiguos(ref);\n    }\n    function ambiguos(ref) {\n        return new Error(`reference \"${ref}\" resolves to more than one schema`);\n    }\n}\nexports.getSchemaRefs = getSchemaRefs;\n//# sourceMappingURL=resolve.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getRules = exports.isJSONType = void 0;\nconst _jsonTypes = [\"string\", \"number\", \"integer\", \"boolean\", \"null\", \"object\", \"array\"];\nconst jsonTypes = new Set(_jsonTypes);\nfunction isJSONType(x) {\n    return typeof x == \"string\" && jsonTypes.has(x);\n}\nexports.isJSONType = isJSONType;\nfunction getRules() {\n    const groups = {\n        number: { type: \"number\", rules: [] },\n        string: { type: \"string\", rules: [] },\n        array: { type: \"array\", rules: [] },\n        object: { type: \"object\", rules: [] },\n    };\n    return {\n        types: { ...groups, integer: true, boolean: true, null: true },\n        rules: [{ rules: [] }, groups.number, groups.string, groups.array, groups.object],\n        post: { rules: [] },\n        all: {},\n        keywords: {},\n    };\n}\nexports.getRules = getRules;\n//# sourceMappingURL=rules.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.applySubschema = exports.Type = void 0;\nconst validate_1 = require(\"./validate\");\nconst util_1 = require(\"./util\");\nconst codegen_1 = require(\"./codegen\");\nvar Type;\n(function (Type) {\n    Type[Type[\"Num\"] = 0] = \"Num\";\n    Type[Type[\"Str\"] = 1] = \"Str\";\n})(Type = exports.Type || (exports.Type = {}));\nfunction applySubschema(it, appl, valid) {\n    const subschema = getSubschema(it, appl);\n    extendSubschemaData(subschema, it, appl);\n    extendSubschemaMode(subschema, appl);\n    const nextContext = { ...it, ...subschema, items: undefined, props: undefined };\n    validate_1.subschemaCode(nextContext, valid);\n    return nextContext;\n}\nexports.applySubschema = applySubschema;\nfunction getSubschema(it, { keyword, schemaProp, schema, schemaPath, errSchemaPath, topSchemaRef }) {\n    if (keyword !== undefined && schema !== undefined) {\n        throw new Error('both \"keyword\" and \"schema\" passed, only one allowed');\n    }\n    if (keyword !== undefined) {\n        const sch = it.schema[keyword];\n        return schemaProp === undefined\n            ? {\n                schema: sch,\n                schemaPath: codegen_1._ `${it.schemaPath}${codegen_1.getProperty(keyword)}`,\n                errSchemaPath: `${it.errSchemaPath}/${keyword}`,\n            }\n            : {\n                schema: sch[schemaProp],\n                schemaPath: codegen_1._ `${it.schemaPath}${codegen_1.getProperty(keyword)}${codegen_1.getProperty(schemaProp)}`,\n                errSchemaPath: `${it.errSchemaPath}/${keyword}/${util_1.escapeFragment(schemaProp)}`,\n            };\n    }\n    if (schema !== undefined) {\n        if (schemaPath === undefined || errSchemaPath === undefined || topSchemaRef === undefined) {\n            throw new Error('\"schemaPath\", \"errSchemaPath\" and \"topSchemaRef\" are required with \"schema\"');\n        }\n        return {\n            schema,\n            schemaPath,\n            topSchemaRef,\n            errSchemaPath,\n        };\n    }\n    throw new Error('either \"keyword\" or \"schema\" must be passed');\n}\nfunction extendSubschemaData(subschema, it, { dataProp, dataPropType: dpType, data, dataTypes, propertyName }) {\n    if (data !== undefined && dataProp !== undefined) {\n        throw new Error('both \"data\" and \"dataProp\" passed, only one allowed');\n    }\n    const { gen } = it;\n    if (dataProp !== undefined) {\n        const { errorPath, dataPathArr, opts } = it;\n        const nextData = gen.let(\"data\", codegen_1._ `${it.data}${codegen_1.getProperty(dataProp)}`, true);\n        dataContextProps(nextData);\n        subschema.errorPath = codegen_1.str `${errorPath}${getErrorPath(dataProp, dpType, opts.jsPropertySyntax)}`;\n        subschema.parentDataProperty = codegen_1._ `${dataProp}`;\n        subschema.dataPathArr = [...dataPathArr, subschema.parentDataProperty];\n    }\n    if (data !== undefined) {\n        const nextData = data instanceof codegen_1.Name ? data : gen.let(\"data\", data, true); // replaceable if used once?\n        dataContextProps(nextData);\n        if (propertyName !== undefined)\n            subschema.propertyName = propertyName;\n        // TODO something is possibly wrong here with not changing parentDataProperty and not appending dataPathArr\n    }\n    if (dataTypes)\n        subschema.dataTypes = dataTypes;\n    function dataContextProps(_nextData) {\n        subschema.data = _nextData;\n        subschema.dataLevel = it.dataLevel + 1;\n        subschema.dataTypes = [];\n        it.definedProperties = new Set();\n        subschema.parentData = it.data;\n        subschema.dataNames = [...it.dataNames, _nextData];\n    }\n}\nfunction extendSubschemaMode(subschema, { jtdDiscriminator, jtdMetadata, compositeRule, createErrors, allErrors }) {\n    if (compositeRule !== undefined)\n        subschema.compositeRule = compositeRule;\n    if (createErrors !== undefined)\n        subschema.createErrors = createErrors;\n    if (allErrors !== undefined)\n        subschema.allErrors = allErrors;\n    subschema.jtdDiscriminator = jtdDiscriminator; // not inherited\n    subschema.jtdMetadata = jtdMetadata; // not inherited\n}\nfunction getErrorPath(dataProp, dataPropType, jsPropertySyntax) {\n    // let path\n    if (dataProp instanceof codegen_1.Name) {\n        const isNumber = dataPropType === Type.Num;\n        return jsPropertySyntax\n            ? isNumber\n                ? codegen_1._ `\"[\" + ${dataProp} + \"]\"`\n                : codegen_1._ `\"['\" + ${dataProp} + \"']\"`\n            : isNumber\n                ? codegen_1._ `\"/\" + ${dataProp}`\n                : codegen_1._ `\"/\" + ${dataProp}.replace(/~/g, \"~0\").replace(/\\\\//g, \"~1\")`; // TODO maybe use global escapePointer\n    }\n    return jsPropertySyntax ? codegen_1.getProperty(dataProp).toString() : \"/\" + util_1.escapeJsonPointer(dataProp);\n}\n//# sourceMappingURL=subschema.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// https://mathiasbynens.be/notes/javascript-encoding\n// https://github.com/bestiejs/punycode.js - punycode.ucs2.decode\nfunction ucs2length(str) {\n    const len = str.length;\n    let length = 0;\n    let pos = 0;\n    let value;\n    while (pos < len) {\n        length++;\n        value = str.charCodeAt(pos++);\n        if (value >= 0xd800 && value <= 0xdbff && pos < len) {\n            // high surrogate, and there is a next character\n            value = str.charCodeAt(pos);\n            if ((value & 0xfc00) === 0xdc00)\n                pos++; // low surrogate\n        }\n    }\n    return length;\n}\nexports.default = ucs2length;\n//# sourceMappingURL=ucs2length.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.func = exports.setEvaluated = exports.evaluatedPropsToName = exports.mergeEvaluated = exports.eachItem = exports.unescapeJsonPointer = exports.escapeJsonPointer = exports.escapeFragment = exports.unescapeFragment = exports.schemaRefOrVal = exports.schemaHasRulesButRef = exports.schemaHasRules = exports.checkUnknownRules = exports.alwaysValidSchema = exports.toHash = void 0;\nconst codegen_1 = require(\"./codegen\");\nconst validate_1 = require(\"./validate\");\n// TODO refactor to use Set\nfunction toHash(arr) {\n    const hash = {};\n    for (const item of arr)\n        hash[item] = true;\n    return hash;\n}\nexports.toHash = toHash;\nfunction alwaysValidSchema(it, schema) {\n    if (typeof schema == \"boolean\")\n        return schema;\n    if (Object.keys(schema).length === 0)\n        return true;\n    checkUnknownRules(it, schema);\n    return !schemaHasRules(schema, it.self.RULES.all);\n}\nexports.alwaysValidSchema = alwaysValidSchema;\nfunction checkUnknownRules(it, schema = it.schema) {\n    const { opts, self } = it;\n    if (!opts.strict)\n        return;\n    if (typeof schema === \"boolean\")\n        return;\n    const rules = self.RULES.keywords;\n    for (const key in schema) {\n        if (!rules[key])\n            validate_1.checkStrictMode(it, `unknown keyword: \"${key}\"`);\n    }\n}\nexports.checkUnknownRules = checkUnknownRules;\nfunction schemaHasRules(schema, rules) {\n    if (typeof schema == \"boolean\")\n        return !schema;\n    for (const key in schema)\n        if (rules[key])\n            return true;\n    return false;\n}\nexports.schemaHasRules = schemaHasRules;\nfunction schemaHasRulesButRef(schema, RULES) {\n    if (typeof schema == \"boolean\")\n        return !schema;\n    for (const key in schema)\n        if (key !== \"$ref\" && RULES.all[key])\n            return true;\n    return false;\n}\nexports.schemaHasRulesButRef = schemaHasRulesButRef;\nfunction schemaRefOrVal({ topSchemaRef, schemaPath }, schema, keyword, $data) {\n    if (!$data) {\n        if (typeof schema == \"number\" || typeof schema == \"boolean\")\n            return schema;\n        if (typeof schema == \"string\")\n            return codegen_1._ `${schema}`;\n    }\n    return codegen_1._ `${topSchemaRef}${schemaPath}${codegen_1.getProperty(keyword)}`;\n}\nexports.schemaRefOrVal = schemaRefOrVal;\nfunction unescapeFragment(str) {\n    return unescapeJsonPointer(decodeURIComponent(str));\n}\nexports.unescapeFragment = unescapeFragment;\nfunction escapeFragment(str) {\n    return encodeURIComponent(escapeJsonPointer(str));\n}\nexports.escapeFragment = escapeFragment;\nfunction escapeJsonPointer(str) {\n    if (typeof str == \"number\")\n        return `${str}`;\n    return str.replace(/~/g, \"~0\").replace(/\\//g, \"~1\");\n}\nexports.escapeJsonPointer = escapeJsonPointer;\nfunction unescapeJsonPointer(str) {\n    return str.replace(/~1/g, \"/\").replace(/~0/g, \"~\");\n}\nexports.unescapeJsonPointer = unescapeJsonPointer;\nfunction eachItem(xs, f) {\n    if (Array.isArray(xs)) {\n        for (const x of xs)\n            f(x);\n    }\n    else {\n        f(xs);\n    }\n}\nexports.eachItem = eachItem;\nfunction makeMergeEvaluated({ mergeNames, mergeToName, mergeValues, resultToName, }) {\n    return (gen, from, to, toName) => {\n        const res = to === undefined\n            ? from\n            : to instanceof codegen_1.Name\n                ? (from instanceof codegen_1.Name ? mergeNames(gen, from, to) : mergeToName(gen, from, to), to)\n                : from instanceof codegen_1.Name\n                    ? (mergeToName(gen, to, from), from)\n                    : mergeValues(from, to);\n        return toName === codegen_1.Name && !(res instanceof codegen_1.Name) ? resultToName(gen, res) : res;\n    };\n}\nexports.mergeEvaluated = {\n    props: makeMergeEvaluated({\n        mergeNames: (gen, from, to) => gen.if(codegen_1._ `${to} !== true && ${from} !== undefined`, () => {\n            gen.if(codegen_1._ `${from} === true`, () => gen.assign(to, true), () => gen.assign(to, codegen_1._ `${to} || {}`).code(codegen_1._ `Object.assign(${to}, ${from})`));\n        }),\n        mergeToName: (gen, from, to) => gen.if(codegen_1._ `${to} !== true`, () => {\n            if (from === true) {\n                gen.assign(to, true);\n            }\n            else {\n                gen.assign(to, codegen_1._ `${to} || {}`);\n                setEvaluated(gen, to, from);\n            }\n        }),\n        mergeValues: (from, to) => (from === true ? true : { ...from, ...to }),\n        resultToName: evaluatedPropsToName,\n    }),\n    items: makeMergeEvaluated({\n        mergeNames: (gen, from, to) => gen.if(codegen_1._ `${to} !== true && ${from} !== undefined`, () => gen.assign(to, codegen_1._ `${from} === true ? true : ${to} > ${from} ? ${to} : ${from}`)),\n        mergeToName: (gen, from, to) => gen.if(codegen_1._ `${to} !== true`, () => gen.assign(to, from === true ? true : codegen_1._ `${to} > ${from} ? ${to} : ${from}`)),\n        mergeValues: (from, to) => (from === true ? true : Math.max(from, to)),\n        resultToName: (gen, items) => gen.var(\"items\", items),\n    }),\n};\nfunction evaluatedPropsToName(gen, ps) {\n    if (ps === true)\n        return gen.var(\"props\", true);\n    const props = gen.var(\"props\", codegen_1._ `{}`);\n    if (ps !== undefined)\n        setEvaluated(gen, props, ps);\n    return props;\n}\nexports.evaluatedPropsToName = evaluatedPropsToName;\nfunction setEvaluated(gen, props, ps) {\n    Object.keys(ps).forEach((p) => gen.assign(codegen_1._ `${props}${codegen_1.getProperty(p)}`, true));\n}\nexports.setEvaluated = setEvaluated;\nfunction func(gen, f) {\n    return gen.scopeValue(\"func\", {\n        ref: f,\n        code: f.code,\n    });\n}\nexports.func = func;\n//# sourceMappingURL=util.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.shouldUseRule = exports.shouldUseGroup = exports.schemaHasRulesForType = void 0;\nfunction schemaHasRulesForType({ schema, self }, type) {\n    const group = self.RULES.types[type];\n    return group && group !== true && shouldUseGroup(schema, group);\n}\nexports.schemaHasRulesForType = schemaHasRulesForType;\nfunction shouldUseGroup(schema, group) {\n    return group.rules.some((rule) => shouldUseRule(schema, rule));\n}\nexports.shouldUseGroup = shouldUseGroup;\nfunction shouldUseRule(schema, rule) {\n    var _a;\n    return (schema[rule.keyword] !== undefined ||\n        ((_a = rule.definition.implements) === null || _a === void 0 ? void 0 : _a.some((kwd) => schema[kwd] !== undefined)));\n}\nexports.shouldUseRule = shouldUseRule;\n//# sourceMappingURL=applicability.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.boolOrEmptySchema = exports.topBoolOrEmptySchema = void 0;\nconst errors_1 = require(\"../errors\");\nconst codegen_1 = require(\"../codegen\");\nconst names_1 = require(\"../names\");\nconst boolError = {\n    message: \"boolean schema is false\",\n};\nfunction topBoolOrEmptySchema(it) {\n    const { gen, schema, validateName } = it;\n    if (schema === false) {\n        falseSchemaError(it, false);\n    }\n    else if (typeof schema == \"object\" && schema.$async === true) {\n        gen.return(names_1.default.data);\n    }\n    else {\n        gen.assign(codegen_1._ `${validateName}.errors`, null);\n        gen.return(true);\n    }\n}\nexports.topBoolOrEmptySchema = topBoolOrEmptySchema;\nfunction boolOrEmptySchema(it, valid) {\n    const { gen, schema } = it;\n    if (schema === false) {\n        gen.var(valid, false); // TODO var\n        falseSchemaError(it);\n    }\n    else {\n        gen.var(valid, true); // TODO var\n    }\n}\nexports.boolOrEmptySchema = boolOrEmptySchema;\nfunction falseSchemaError(it, overrideAllErrors) {\n    const { gen, data } = it;\n    // TODO maybe some other interface should be used for non-keyword validation errors...\n    const cxt = {\n        gen,\n        keyword: \"false schema\",\n        data,\n        schema: false,\n        schemaCode: false,\n        schemaValue: false,\n        params: {},\n        it,\n    };\n    errors_1.reportError(cxt, boolError, overrideAllErrors);\n}\n//# sourceMappingURL=boolSchema.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.reportTypeError = exports.checkDataTypes = exports.checkDataType = exports.coerceAndCheckDataType = exports.getJSONTypes = exports.getSchemaTypes = exports.DataType = void 0;\nconst rules_1 = require(\"../rules\");\nconst applicability_1 = require(\"./applicability\");\nconst errors_1 = require(\"../errors\");\nconst codegen_1 = require(\"../codegen\");\nconst util_1 = require(\"../util\");\nvar DataType;\n(function (DataType) {\n    DataType[DataType[\"Correct\"] = 0] = \"Correct\";\n    DataType[DataType[\"Wrong\"] = 1] = \"Wrong\";\n})(DataType = exports.DataType || (exports.DataType = {}));\nfunction getSchemaTypes(schema) {\n    const types = getJSONTypes(schema.type);\n    const hasNull = types.includes(\"null\");\n    if (hasNull) {\n        if (schema.nullable === false)\n            throw new Error(\"type: null contradicts nullable: false\");\n    }\n    else {\n        if (!types.length && schema.nullable !== undefined) {\n            throw new Error('\"nullable\" cannot be used without \"type\"');\n        }\n        if (schema.nullable === true)\n            types.push(\"null\");\n    }\n    return types;\n}\nexports.getSchemaTypes = getSchemaTypes;\nfunction getJSONTypes(ts) {\n    const types = Array.isArray(ts) ? ts : ts ? [ts] : [];\n    if (types.every(rules_1.isJSONType))\n        return types;\n    throw new Error(\"type must be JSONType or JSONType[]: \" + types.join(\",\"));\n}\nexports.getJSONTypes = getJSONTypes;\nfunction coerceAndCheckDataType(it, types) {\n    const { gen, data, opts } = it;\n    const coerceTo = coerceToTypes(types, opts.coerceTypes);\n    const checkTypes = types.length > 0 &&\n        !(coerceTo.length === 0 && types.length === 1 && applicability_1.schemaHasRulesForType(it, types[0]));\n    if (checkTypes) {\n        const wrongType = checkDataTypes(types, data, opts.strict, DataType.Wrong);\n        gen.if(wrongType, () => {\n            if (coerceTo.length)\n                coerceData(it, types, coerceTo);\n            else\n                reportTypeError(it);\n        });\n    }\n    return checkTypes;\n}\nexports.coerceAndCheckDataType = coerceAndCheckDataType;\nconst COERCIBLE = new Set([\"string\", \"number\", \"integer\", \"boolean\", \"null\"]);\nfunction coerceToTypes(types, coerceTypes) {\n    return coerceTypes\n        ? types.filter((t) => COERCIBLE.has(t) || (coerceTypes === \"array\" && t === \"array\"))\n        : [];\n}\nfunction coerceData(it, types, coerceTo) {\n    const { gen, data, opts } = it;\n    const dataType = gen.let(\"dataType\", codegen_1._ `typeof ${data}`);\n    const coerced = gen.let(\"coerced\", codegen_1._ `undefined`);\n    if (opts.coerceTypes === \"array\") {\n        gen.if(codegen_1._ `${dataType} == 'object' && Array.isArray(${data}) && ${data}.length == 1`, () => gen\n            .assign(data, codegen_1._ `${data}[0]`)\n            .assign(dataType, codegen_1._ `typeof ${data}`)\n            .if(checkDataTypes(types, data, opts.strict), () => gen.assign(coerced, data)));\n    }\n    gen.if(codegen_1._ `${coerced} !== undefined`);\n    for (const t of coerceTo) {\n        if (COERCIBLE.has(t) || (t === \"array\" && opts.coerceTypes === \"array\")) {\n            coerceSpecificType(t);\n        }\n    }\n    gen.else();\n    reportTypeError(it);\n    gen.endIf();\n    gen.if(codegen_1._ `${coerced} !== undefined`, () => {\n        gen.assign(data, coerced);\n        assignParentData(it, coerced);\n    });\n    function coerceSpecificType(t) {\n        switch (t) {\n            case \"string\":\n                gen\n                    .elseIf(codegen_1._ `${dataType} == \"number\" || ${dataType} == \"boolean\"`)\n                    .assign(coerced, codegen_1._ `\"\" + ${data}`)\n                    .elseIf(codegen_1._ `${data} === null`)\n                    .assign(coerced, codegen_1._ `\"\"`);\n                return;\n            case \"number\":\n                gen\n                    .elseIf(codegen_1._ `${dataType} == \"boolean\" || ${data} === null\n              || (${dataType} == \"string\" && ${data} && ${data} == +${data})`)\n                    .assign(coerced, codegen_1._ `+${data}`);\n                return;\n            case \"integer\":\n                gen\n                    .elseIf(codegen_1._ `${dataType} === \"boolean\" || ${data} === null\n              || (${dataType} === \"string\" && ${data} && ${data} == +${data} && !(${data} % 1))`)\n                    .assign(coerced, codegen_1._ `+${data}`);\n                return;\n            case \"boolean\":\n                gen\n                    .elseIf(codegen_1._ `${data} === \"false\" || ${data} === 0 || ${data} === null`)\n                    .assign(coerced, false)\n                    .elseIf(codegen_1._ `${data} === \"true\" || ${data} === 1`)\n                    .assign(coerced, true);\n                return;\n            case \"null\":\n                gen.elseIf(codegen_1._ `${data} === \"\" || ${data} === 0 || ${data} === false`);\n                gen.assign(coerced, null);\n                return;\n            case \"array\":\n                gen\n                    .elseIf(codegen_1._ `${dataType} === \"string\" || ${dataType} === \"number\"\n              || ${dataType} === \"boolean\" || ${data} === null`)\n                    .assign(coerced, codegen_1._ `[${data}]`);\n        }\n    }\n}\nfunction assignParentData({ gen, parentData, parentDataProperty }, expr) {\n    // TODO use gen.property\n    gen.if(codegen_1._ `${parentData} !== undefined`, () => gen.assign(codegen_1._ `${parentData}[${parentDataProperty}]`, expr));\n}\nfunction checkDataType(dataType, data, strictNums, correct = DataType.Correct) {\n    const EQ = correct === DataType.Correct ? codegen_1.operators.EQ : codegen_1.operators.NEQ;\n    let cond;\n    switch (dataType) {\n        case \"null\":\n            return codegen_1._ `${data} ${EQ} null`;\n        case \"array\":\n            cond = codegen_1._ `Array.isArray(${data})`;\n            break;\n        case \"object\":\n            cond = codegen_1._ `${data} && typeof ${data} == \"object\" && !Array.isArray(${data})`;\n            break;\n        case \"integer\":\n            cond = numCond(codegen_1._ `!(${data} % 1) && !isNaN(${data})`);\n            break;\n        case \"number\":\n            cond = numCond();\n            break;\n        default:\n            return codegen_1._ `typeof ${data} ${EQ} ${dataType}`;\n    }\n    return correct === DataType.Correct ? cond : codegen_1.not(cond);\n    function numCond(_cond = codegen_1.nil) {\n        return codegen_1.and(codegen_1._ `typeof ${data} == \"number\"`, _cond, strictNums ? codegen_1._ `isFinite(${data})` : codegen_1.nil);\n    }\n}\nexports.checkDataType = checkDataType;\nfunction checkDataTypes(dataTypes, data, strictNums, correct) {\n    if (dataTypes.length === 1) {\n        return checkDataType(dataTypes[0], data, strictNums, correct);\n    }\n    let cond;\n    const types = util_1.toHash(dataTypes);\n    if (types.array && types.object) {\n        const notObj = codegen_1._ `typeof ${data} != \"object\"`;\n        cond = types.null ? notObj : codegen_1._ `!${data} || ${notObj}`;\n        delete types.null;\n        delete types.array;\n        delete types.object;\n    }\n    else {\n        cond = codegen_1.nil;\n    }\n    if (types.number)\n        delete types.integer;\n    for (const t in types)\n        cond = codegen_1.and(cond, checkDataType(t, data, strictNums, correct));\n    return cond;\n}\nexports.checkDataTypes = checkDataTypes;\nconst typeError = {\n    message: ({ schema }) => codegen_1.str `should be ${schema}`,\n    params: ({ schema, schemaValue }) => typeof schema == \"string\" ? codegen_1._ `{type: ${schema}}` : codegen_1._ `{type: ${schemaValue}}`,\n};\nfunction reportTypeError(it) {\n    const cxt = getTypeErrorContext(it);\n    errors_1.reportError(cxt, typeError);\n}\nexports.reportTypeError = reportTypeError;\nfunction getTypeErrorContext(it) {\n    const { gen, data, schema } = it;\n    const schemaCode = util_1.schemaRefOrVal(it, schema, \"type\");\n    return {\n        gen,\n        keyword: \"type\",\n        data,\n        schema: schema.type,\n        schemaCode,\n        schemaValue: schemaCode,\n        parentSchema: schema,\n        params: {},\n        it,\n    };\n}\n//# sourceMappingURL=dataType.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.assignDefaults = void 0;\nconst codegen_1 = require(\"../codegen\");\nconst _1 = require(\".\");\nfunction assignDefaults(it, ty) {\n    const { properties, items } = it.schema;\n    if (ty === \"object\" && properties) {\n        for (const key in properties) {\n            assignDefault(it, key, properties[key].default);\n        }\n    }\n    else if (ty === \"array\" && Array.isArray(items)) {\n        items.forEach((sch, i) => assignDefault(it, i, sch.default));\n    }\n}\nexports.assignDefaults = assignDefaults;\nfunction assignDefault(it, prop, defaultValue) {\n    const { gen, compositeRule, data, opts } = it;\n    if (defaultValue === undefined)\n        return;\n    const childData = codegen_1._ `${data}${codegen_1.getProperty(prop)}`;\n    if (compositeRule) {\n        _1.checkStrictMode(it, `default is ignored for: ${childData}`);\n        return;\n    }\n    let condition = codegen_1._ `${childData} === undefined`;\n    if (opts.useDefaults === \"empty\") {\n        condition = codegen_1._ `${condition} || ${childData} === null || ${childData} === \"\"`;\n    }\n    // `${childData} === undefined` +\n    // (opts.useDefaults === \"empty\" ? ` || ${childData} === null || ${childData} === \"\"` : \"\")\n    gen.if(condition, codegen_1._ `${childData} = ${codegen_1.stringify(defaultValue)}`);\n}\n//# sourceMappingURL=defaults.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.checkStrictMode = exports.schemaCxtHasRules = exports.subschemaCode = exports.validateFunctionCode = void 0;\nconst boolSchema_1 = require(\"./boolSchema\");\nconst dataType_1 = require(\"./dataType\");\nconst iterate_1 = require(\"./iterate\");\nconst codegen_1 = require(\"../codegen\");\nconst names_1 = require(\"../names\");\nconst resolve_1 = require(\"../resolve\");\nconst util_1 = require(\"../util\");\n// schema compilation - generates validation function, subschemaCode (below) is used for subschemas\nfunction validateFunctionCode(it) {\n    if (isSchemaObj(it)) {\n        checkKeywords(it);\n        if (schemaCxtHasRules(it)) {\n            topSchemaObjCode(it);\n            return;\n        }\n    }\n    validateFunction(it, () => boolSchema_1.topBoolOrEmptySchema(it));\n}\nexports.validateFunctionCode = validateFunctionCode;\nfunction validateFunction({ gen, validateName, schema, schemaEnv, opts }, body) {\n    if (opts.code.es5) {\n        gen.func(validateName, codegen_1._ `${names_1.default.data}, ${names_1.default.valCxt}`, schemaEnv.$async, () => {\n            gen.code(codegen_1._ `\"use strict\"; ${funcSourceUrl(schema, opts)}`);\n            destructureValCxtES5(gen, opts);\n            gen.code(body);\n        });\n    }\n    else {\n        gen.func(validateName, codegen_1._ `${names_1.default.data}, ${destructureValCxt(opts)}`, schemaEnv.$async, () => gen.code(funcSourceUrl(schema, opts)).code(body));\n    }\n}\nfunction destructureValCxt(opts) {\n    return codegen_1._ `{${names_1.default.dataPath}=\"\", ${names_1.default.parentData}, ${names_1.default.parentDataProperty}, ${names_1.default.rootData}=${names_1.default.data}${opts.dynamicRef ? codegen_1._ `, ${names_1.default.dynamicAnchors}={}` : codegen_1.nil}}={}`;\n}\nfunction destructureValCxtES5(gen, opts) {\n    gen.if(names_1.default.valCxt, () => {\n        gen.var(names_1.default.dataPath, codegen_1._ `${names_1.default.valCxt}.${names_1.default.dataPath}`);\n        gen.var(names_1.default.parentData, codegen_1._ `${names_1.default.valCxt}.${names_1.default.parentData}`);\n        gen.var(names_1.default.parentDataProperty, codegen_1._ `${names_1.default.valCxt}.${names_1.default.parentDataProperty}`);\n        gen.var(names_1.default.rootData, codegen_1._ `${names_1.default.valCxt}.${names_1.default.rootData}`);\n        if (opts.dynamicRef)\n            gen.var(names_1.default.dynamicAnchors, codegen_1._ `${names_1.default.valCxt}.${names_1.default.dynamicAnchors}`);\n    }, () => {\n        gen.var(names_1.default.dataPath, codegen_1._ `\"\"`);\n        gen.var(names_1.default.parentData, codegen_1._ `undefined`);\n        gen.var(names_1.default.parentDataProperty, codegen_1._ `undefined`);\n        gen.var(names_1.default.rootData, names_1.default.data);\n        if (opts.dynamicRef)\n            gen.var(names_1.default.dynamicAnchors, codegen_1._ `{}`);\n    });\n}\nfunction topSchemaObjCode(it) {\n    const { schema, opts, gen } = it;\n    validateFunction(it, () => {\n        if (opts.$comment && schema.$comment)\n            commentKeyword(it);\n        checkNoDefault(it);\n        gen.let(names_1.default.vErrors, null);\n        gen.let(names_1.default.errors, 0);\n        if (opts.unevaluated)\n            resetEvaluated(it);\n        typeAndKeywords(it);\n        returnResults(it);\n    });\n    return;\n}\nfunction resetEvaluated(it) {\n    // TODO maybe some hook to execute it in the end to check whether props/items are Name, as in assignEvaluated\n    const { gen, validateName } = it;\n    it.evaluated = gen.const(\"evaluated\", codegen_1._ `${validateName}.evaluated`);\n    gen.if(codegen_1._ `${it.evaluated}.dynamicProps`, () => gen.assign(codegen_1._ `${it.evaluated}.props`, codegen_1._ `undefined`));\n    gen.if(codegen_1._ `${it.evaluated}.dynamicItems`, () => gen.assign(codegen_1._ `${it.evaluated}.items`, codegen_1._ `undefined`));\n}\nfunction funcSourceUrl(schema, opts) {\n    return typeof schema == \"object\" && schema.$id && (opts.code.source || opts.code.process)\n        ? codegen_1._ `/*# sourceURL=${schema.$id} */`\n        : codegen_1.nil;\n}\n// schema compilation - this function is used recursively to generate code for sub-schemas\nfunction subschemaCode(it, valid) {\n    if (isSchemaObj(it)) {\n        checkKeywords(it);\n        if (schemaCxtHasRules(it)) {\n            subSchemaObjCode(it, valid);\n            return;\n        }\n    }\n    boolSchema_1.boolOrEmptySchema(it, valid);\n}\nexports.subschemaCode = subschemaCode;\nfunction schemaCxtHasRules({ schema, self }) {\n    if (typeof schema == \"boolean\")\n        return !schema;\n    for (const key in schema)\n        if (self.RULES.all[key])\n            return true;\n    return false;\n}\nexports.schemaCxtHasRules = schemaCxtHasRules;\nfunction isSchemaObj(it) {\n    return typeof it.schema != \"boolean\";\n}\nfunction subSchemaObjCode(it, valid) {\n    const { schema, gen, opts } = it;\n    if (opts.$comment && schema.$comment)\n        commentKeyword(it);\n    updateContext(it);\n    checkAsync(it);\n    const errsCount = gen.const(\"_errs\", names_1.default.errors);\n    typeAndKeywords(it, errsCount);\n    // TODO var\n    gen.var(valid, codegen_1._ `${errsCount} === ${names_1.default.errors}`);\n}\nfunction checkKeywords(it) {\n    util_1.checkUnknownRules(it);\n    checkRefsAndKeywords(it);\n}\nfunction typeAndKeywords(it, errsCount) {\n    if (it.opts.jtd)\n        return iterate_1.schemaKeywords(it, [], false, errsCount);\n    const types = dataType_1.getSchemaTypes(it.schema);\n    const checkedTypes = dataType_1.coerceAndCheckDataType(it, types);\n    iterate_1.schemaKeywords(it, types, !checkedTypes, errsCount);\n}\nfunction checkRefsAndKeywords(it) {\n    const { schema, errSchemaPath, opts, self } = it;\n    if (schema.$ref && opts.ignoreKeywordsWithRef && util_1.schemaHasRulesButRef(schema, self.RULES)) {\n        self.logger.warn(`$ref: keywords ignored in schema at path \"${errSchemaPath}\"`);\n    }\n}\nfunction checkNoDefault(it) {\n    const { schema, opts } = it;\n    if (schema.default !== undefined && opts.useDefaults && opts.strict) {\n        checkStrictMode(it, \"default is ignored in the schema root\");\n    }\n}\nfunction updateContext(it) {\n    if (it.schema.$id)\n        it.baseId = resolve_1.resolveUrl(it.baseId, it.schema.$id);\n}\nfunction checkAsync(it) {\n    if (it.schema.$async && !it.schemaEnv.$async)\n        throw new Error(\"async schema in sync schema\");\n}\nfunction commentKeyword({ gen, schemaEnv, schema, errSchemaPath, opts }) {\n    const msg = schema.$comment;\n    if (opts.$comment === true) {\n        gen.code(codegen_1._ `${names_1.default.self}.logger.log(${msg})`);\n    }\n    else if (typeof opts.$comment == \"function\") {\n        const schemaPath = codegen_1.str `${errSchemaPath}/$comment`;\n        const rootName = gen.scopeValue(\"root\", { ref: schemaEnv.root });\n        gen.code(codegen_1._ `${names_1.default.self}.opts.$comment(${msg}, ${schemaPath}, ${rootName}.schema)`);\n    }\n}\nfunction returnResults(it) {\n    const { gen, schemaEnv, validateName, ValidationError, opts } = it;\n    if (schemaEnv.$async) {\n        // TODO assign unevaluated\n        gen.if(codegen_1._ `${names_1.default.errors} === 0`, () => gen.return(names_1.default.data), () => gen.throw(codegen_1._ `new ${ValidationError}(${names_1.default.vErrors})`));\n    }\n    else {\n        gen.assign(codegen_1._ `${validateName}.errors`, names_1.default.vErrors);\n        if (opts.unevaluated)\n            assignEvaluated(it);\n        gen.return(codegen_1._ `${names_1.default.errors} === 0`);\n    }\n}\nfunction assignEvaluated({ gen, evaluated, props, items }) {\n    if (props instanceof codegen_1.Name)\n        gen.assign(codegen_1._ `${evaluated}.props`, props);\n    if (items instanceof codegen_1.Name)\n        gen.assign(codegen_1._ `${evaluated}.items`, items);\n}\nfunction checkStrictMode(it, msg, mode = it.opts.strict) {\n    if (!mode)\n        return;\n    msg = `strict mode: ${msg}`;\n    if (mode === true)\n        throw new Error(msg);\n    it.self.logger.warn(msg);\n}\nexports.checkStrictMode = checkStrictMode;\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.schemaKeywords = void 0;\nconst applicability_1 = require(\"./applicability\");\nconst dataType_1 = require(\"./dataType\");\nconst defaults_1 = require(\"./defaults\");\nconst keyword_1 = require(\"./keyword\");\nconst util_1 = require(\"../util\");\nconst _1 = require(\".\");\nconst codegen_1 = require(\"../codegen\");\nconst names_1 = require(\"../names\");\nfunction schemaKeywords(it, types, typeErrors, errsCount) {\n    const { gen, schema, data, allErrors, opts, self } = it;\n    const { RULES } = self;\n    if (schema.$ref && (opts.ignoreKeywordsWithRef || !util_1.schemaHasRulesButRef(schema, RULES))) {\n        gen.block(() => keyword_1.keywordCode(it, \"$ref\", RULES.all.$ref.definition)); // TODO typecast\n        return;\n    }\n    if (!opts.jtd)\n        checkStrictTypes(it, types);\n    gen.block(() => {\n        for (const group of RULES.rules)\n            groupKeywords(group);\n        groupKeywords(RULES.post);\n    });\n    function groupKeywords(group) {\n        if (!applicability_1.shouldUseGroup(schema, group))\n            return;\n        if (group.type) {\n            gen.if(dataType_1.checkDataType(group.type, data, opts.strict));\n            iterateKeywords(it, group);\n            if (types.length === 1 && types[0] === group.type && typeErrors) {\n                gen.else();\n                dataType_1.reportTypeError(it);\n            }\n            gen.endIf();\n        }\n        else {\n            iterateKeywords(it, group);\n        }\n        // TODO make it \"ok\" call?\n        if (!allErrors)\n            gen.if(codegen_1._ `${names_1.default.errors} === ${errsCount || 0}`);\n    }\n}\nexports.schemaKeywords = schemaKeywords;\nfunction iterateKeywords(it, group) {\n    const { gen, schema, opts: { useDefaults }, } = it;\n    if (useDefaults)\n        defaults_1.assignDefaults(it, group.type);\n    gen.block(() => {\n        for (const rule of group.rules) {\n            if (applicability_1.shouldUseRule(schema, rule)) {\n                keyword_1.keywordCode(it, rule.keyword, rule.definition, group.type);\n            }\n        }\n    });\n}\nfunction checkStrictTypes(it, types) {\n    if (it.schemaEnv.meta || !it.opts.strictTypes)\n        return;\n    checkContextTypes(it, types);\n    if (!it.opts.allowUnionTypes)\n        checkMultipleTypes(it, types);\n    checkKeywordTypes(it, it.dataTypes);\n}\nfunction checkContextTypes(it, types) {\n    if (!types.length)\n        return;\n    if (!it.dataTypes.length) {\n        it.dataTypes = types;\n        return;\n    }\n    types.forEach((t) => {\n        if (!includesType(it.dataTypes, t)) {\n            strictTypesError(it, `type \"${t}\" not allowed by context \"${it.dataTypes.join(\",\")}\"`);\n        }\n    });\n    it.dataTypes = it.dataTypes.filter((t) => includesType(types, t));\n}\nfunction checkMultipleTypes(it, ts) {\n    if (ts.length > 1 && !(ts.length === 2 && ts.includes(\"null\"))) {\n        strictTypesError(it, \"use allowUnionTypes to allow union type keyword\");\n    }\n}\nfunction checkKeywordTypes(it, ts) {\n    const rules = it.self.RULES.all;\n    for (const keyword in rules) {\n        const rule = rules[keyword];\n        if (typeof rule == \"object\" && applicability_1.shouldUseRule(it.schema, rule)) {\n            const { type } = rule.definition;\n            if (type.length && !type.some((t) => hasApplicableType(ts, t))) {\n                strictTypesError(it, `missing type \"${type.join(\",\")}\" for keyword \"${keyword}\"`);\n            }\n        }\n    }\n}\nfunction hasApplicableType(schTs, kwdT) {\n    return schTs.includes(kwdT) || (kwdT === \"number\" && schTs.includes(\"integer\"));\n}\nfunction includesType(ts, t) {\n    return ts.includes(t) || (t === \"integer\" && ts.includes(\"number\"));\n}\nfunction strictTypesError(it, msg) {\n    const schemaPath = it.schemaEnv.baseId + it.errSchemaPath;\n    msg += ` at \"${schemaPath}\" (strictTypes)`;\n    _1.checkStrictMode(it, msg, it.opts.strictTypes);\n}\n//# sourceMappingURL=iterate.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.keywordCode = void 0;\nconst context_1 = require(\"../context\");\nconst errors_1 = require(\"../errors\");\nconst code_1 = require(\"../../vocabularies/code\");\nconst codegen_1 = require(\"../codegen\");\nconst names_1 = require(\"../names\");\nfunction keywordCode(it, keyword, def, ruleType) {\n    const cxt = new context_1.default(it, def, keyword);\n    if (\"code\" in def) {\n        def.code(cxt, ruleType);\n    }\n    else if (cxt.$data && def.validate) {\n        funcKeywordCode(cxt, def);\n    }\n    else if (\"macro\" in def) {\n        macroKeywordCode(cxt, def);\n    }\n    else if (def.compile || def.validate) {\n        funcKeywordCode(cxt, def);\n    }\n}\nexports.keywordCode = keywordCode;\nfunction macroKeywordCode(cxt, def) {\n    const { gen, keyword, schema, parentSchema, it } = cxt;\n    const macroSchema = def.macro.call(it.self, schema, parentSchema, it);\n    const schemaRef = useKeyword(gen, keyword, macroSchema);\n    if (it.opts.validateSchema !== false)\n        it.self.validateSchema(macroSchema, true);\n    const valid = gen.name(\"valid\");\n    cxt.subschema({\n        schema: macroSchema,\n        schemaPath: codegen_1.nil,\n        errSchemaPath: `${it.errSchemaPath}/${keyword}`,\n        topSchemaRef: schemaRef,\n        compositeRule: true,\n    }, valid);\n    cxt.pass(valid, () => cxt.error(true));\n}\nfunction funcKeywordCode(cxt, def) {\n    var _a;\n    const { gen, keyword, schema, parentSchema, $data, it } = cxt;\n    checkAsync(it, def);\n    const validate = !$data && def.compile ? def.compile.call(it.self, schema, parentSchema, it) : def.validate;\n    const validateRef = useKeyword(gen, keyword, validate);\n    const valid = gen.let(\"valid\");\n    cxt.block$data(valid, validateKeyword);\n    cxt.ok((_a = def.valid) !== null && _a !== void 0 ? _a : valid);\n    function validateKeyword() {\n        if (def.errors === false) {\n            assignValid();\n            if (def.modifying)\n                modifyData(cxt);\n            reportErrs(() => cxt.error());\n        }\n        else {\n            const ruleErrs = def.async ? validateAsync() : validateSync();\n            if (def.modifying)\n                modifyData(cxt);\n            reportErrs(() => addErrs(cxt, ruleErrs));\n        }\n    }\n    function validateAsync() {\n        const ruleErrs = gen.let(\"ruleErrs\", null);\n        gen.try(() => assignValid(codegen_1._ `await `), (e) => gen.assign(valid, false).if(codegen_1._ `${e} instanceof ${it.ValidationError}`, () => gen.assign(ruleErrs, codegen_1._ `${e}.errors`), () => gen.throw(e)));\n        return ruleErrs;\n    }\n    function validateSync() {\n        const validateErrs = codegen_1._ `${validateRef}.errors`;\n        gen.assign(validateErrs, null);\n        assignValid(codegen_1.nil);\n        return validateErrs;\n    }\n    function assignValid(_await = def.async ? codegen_1._ `await ` : codegen_1.nil) {\n        const passCxt = it.opts.passContext ? names_1.default.this : names_1.default.self;\n        const passSchema = !((\"compile\" in def && !$data) || def.schema === false);\n        gen.assign(valid, codegen_1._ `${_await}${code_1.callValidateCode(cxt, validateRef, passCxt, passSchema)}`, def.modifying);\n    }\n    function reportErrs(errors) {\n        var _a;\n        gen.if(codegen_1.not((_a = def.valid) !== null && _a !== void 0 ? _a : valid), errors);\n    }\n}\nfunction modifyData(cxt) {\n    const { gen, data, it } = cxt;\n    gen.if(it.parentData, () => gen.assign(data, codegen_1._ `${it.parentData}[${it.parentDataProperty}]`));\n}\nfunction addErrs(cxt, errs) {\n    const { gen } = cxt;\n    gen.if(codegen_1._ `Array.isArray(${errs})`, () => {\n        gen\n            .assign(names_1.default.vErrors, codegen_1._ `${names_1.default.vErrors} === null ? ${errs} : ${names_1.default.vErrors}.concat(${errs})`)\n            .assign(names_1.default.errors, codegen_1._ `${names_1.default.vErrors}.length`);\n        errors_1.extendErrors(cxt);\n    }, () => cxt.error());\n}\nfunction checkAsync({ schemaEnv }, def) {\n    if (def.async && !schemaEnv.$async)\n        throw new Error(\"async keyword in sync schema\");\n}\nfunction useKeyword(gen, keyword, result) {\n    if (result === undefined)\n        throw new Error(`keyword \"${keyword}\" failed to compile`);\n    return gen.scopeValue(\"keyword\", typeof result == \"function\" ? { ref: result } : { ref: result, code: codegen_1.stringify(result) });\n}\n//# sourceMappingURL=keyword.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CodeGen = exports.Name = exports.nil = exports.stringify = exports.str = exports._ = exports.KeywordCxt = void 0;\nconst context_1 = require(\"./compile/context\");\nexports.KeywordCxt = context_1.default;\nvar codegen_1 = require(\"./compile/codegen\");\nObject.defineProperty(exports, \"_\", { enumerable: true, get: function () { return codegen_1._; } });\nObject.defineProperty(exports, \"str\", { enumerable: true, get: function () { return codegen_1.str; } });\nObject.defineProperty(exports, \"stringify\", { enumerable: true, get: function () { return codegen_1.stringify; } });\nObject.defineProperty(exports, \"nil\", { enumerable: true, get: function () { return codegen_1.nil; } });\nObject.defineProperty(exports, \"Name\", { enumerable: true, get: function () { return codegen_1.Name; } });\nObject.defineProperty(exports, \"CodeGen\", { enumerable: true, get: function () { return codegen_1.CodeGen; } });\nconst error_classes_1 = require(\"./compile/error_classes\");\nconst rules_1 = require(\"./compile/rules\");\nconst compile_1 = require(\"./compile\");\nconst codegen_2 = require(\"./compile/codegen\");\nconst resolve_1 = require(\"./compile/resolve\");\nconst dataType_1 = require(\"./compile/validate/dataType\");\nconst util_1 = require(\"./compile/util\");\nconst $dataRefSchema = require(\"./refs/data.json\");\nconst META_IGNORE_OPTIONS = [\"removeAdditional\", \"useDefaults\", \"coerceTypes\"];\nconst EXT_SCOPE_NAMES = new Set([\n    \"validate\",\n    \"serialize\",\n    \"parse\",\n    \"wrapper\",\n    \"root\",\n    \"schema\",\n    \"keyword\",\n    \"pattern\",\n    \"formats\",\n    \"validate$data\",\n    \"func\",\n    \"obj\",\n    \"Error\",\n]);\nconst removedOptions = {\n    errorDataPath: \"\",\n    format: \"`validateFormats: false` can be used instead.\",\n    nullable: '\"nullable\" keyword is supported by default.',\n    jsonPointers: \"Deprecated jsPropertySyntax can be used instead.\",\n    extendRefs: \"Deprecated ignoreKeywordsWithRef can be used instead.\",\n    missingRefs: \"Pass empty schema with $id that should be ignored to ajv.addSchema.\",\n    processCode: \"Use option `code: {process: (code, schemaEnv: object) => string}`\",\n    sourceCode: \"Use option `code: {source: true}`\",\n    schemaId: \"JSON Schema draft-04 is not supported in Ajv v7.\",\n    strictDefaults: \"It is default now, see option `strict`.\",\n    strictKeywords: \"It is default now, see option `strict`.\",\n    strictNumbers: \"It is default now, see option `strict`.\",\n    uniqueItems: '\"uniqueItems\" keyword is always validated.',\n    unknownFormats: \"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).\",\n    cache: \"Map is used as cache, schema object as key.\",\n    serialize: \"Map is used as cache, schema object as key.\",\n};\nconst deprecatedOptions = {\n    ignoreKeywordsWithRef: \"\",\n    jsPropertySyntax: \"\",\n    unicode: '\"minLength\"/\"maxLength\" account for unicode characters by default.',\n};\nfunction requiredOptions(o) {\n    var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m;\n    const strict = (_a = o.strict) !== null && _a !== void 0 ? _a : true;\n    const strictLog = strict ? \"log\" : false;\n    const _optz = (_b = o.code) === null || _b === void 0 ? void 0 : _b.optimize;\n    const optimize = _optz === true || _optz === undefined ? 1 : _optz || 0;\n    return {\n        strict,\n        strictTypes: (_c = o.strictTypes) !== null && _c !== void 0 ? _c : strictLog,\n        strictTuples: (_d = o.strictTuples) !== null && _d !== void 0 ? _d : strictLog,\n        code: o.code ? { ...o.code, optimize } : { optimize },\n        loopRequired: (_e = o.loopRequired) !== null && _e !== void 0 ? _e : Infinity,\n        loopEnum: (_f = o.loopEnum) !== null && _f !== void 0 ? _f : Infinity,\n        meta: (_g = o.meta) !== null && _g !== void 0 ? _g : true,\n        messages: (_h = o.messages) !== null && _h !== void 0 ? _h : true,\n        inlineRefs: (_j = o.inlineRefs) !== null && _j !== void 0 ? _j : true,\n        addUsedSchema: (_k = o.addUsedSchema) !== null && _k !== void 0 ? _k : true,\n        validateSchema: (_l = o.validateSchema) !== null && _l !== void 0 ? _l : true,\n        validateFormats: (_m = o.validateFormats) !== null && _m !== void 0 ? _m : true,\n    };\n}\nclass Ajv {\n    constructor(opts = {}) {\n        this.schemas = {};\n        this.refs = {};\n        this.formats = {};\n        this._compilations = new Set();\n        this._loading = {};\n        this._cache = new Map();\n        opts = this.opts = { ...opts, ...requiredOptions(opts) };\n        const { es5, lines } = this.opts.code;\n        this.scope = new codegen_2.ValueScope({ scope: {}, prefixes: EXT_SCOPE_NAMES, es5, lines });\n        this.logger = getLogger(opts.logger);\n        const formatOpt = opts.validateFormats;\n        opts.validateFormats = false;\n        this.RULES = rules_1.getRules();\n        checkOptions.call(this, removedOptions, opts, \"NOT SUPPORTED\");\n        checkOptions.call(this, deprecatedOptions, opts, \"DEPRECATED\", \"warn\");\n        this._metaOpts = getMetaSchemaOptions.call(this);\n        if (opts.formats)\n            addInitialFormats.call(this);\n        this._addVocabularies();\n        this._addDefaultMetaSchema();\n        if (opts.keywords)\n            addInitialKeywords.call(this, opts.keywords);\n        if (typeof opts.meta == \"object\")\n            this.addMetaSchema(opts.meta);\n        addInitialSchemas.call(this);\n        opts.validateFormats = formatOpt;\n    }\n    _addVocabularies() {\n        this.addKeyword(\"$async\");\n    }\n    _addDefaultMetaSchema() {\n        const { $data, meta } = this.opts;\n        if (meta && $data)\n            this.addMetaSchema($dataRefSchema, $dataRefSchema.$id, false);\n    }\n    defaultMeta() {\n        const { meta } = this.opts;\n        return (this.opts.defaultMeta = typeof meta == \"object\" ? meta.$id || meta : undefined);\n    }\n    validate(schemaKeyRef, // key, ref or schema object\n    data // to be validated\n    ) {\n        let v;\n        if (typeof schemaKeyRef == \"string\") {\n            v = this.getSchema(schemaKeyRef);\n            if (!v)\n                throw new Error(`no schema with key or ref \"${schemaKeyRef}\"`);\n        }\n        else {\n            v = this.compile(schemaKeyRef);\n        }\n        const valid = v(data);\n        if (!(\"$async\" in v))\n            this.errors = v.errors;\n        return valid;\n    }\n    compile(schema, _meta) {\n        const sch = this._addSchema(schema, _meta);\n        return (sch.validate || this._compileSchemaEnv(sch));\n    }\n    compileAsync(schema, meta) {\n        if (typeof this.opts.loadSchema != \"function\") {\n            throw new Error(\"options.loadSchema should be a function\");\n        }\n        const { loadSchema } = this.opts;\n        return runCompileAsync.call(this, schema, meta);\n        async function runCompileAsync(_schema, _meta) {\n            await loadMetaSchema.call(this, _schema.$schema);\n            const sch = this._addSchema(_schema, _meta);\n            return sch.validate || _compileAsync.call(this, sch);\n        }\n        async function loadMetaSchema($ref) {\n            if ($ref && !this.getSchema($ref)) {\n                await runCompileAsync.call(this, { $ref }, true);\n            }\n        }\n        async function _compileAsync(sch) {\n            try {\n                return this._compileSchemaEnv(sch);\n            }\n            catch (e) {\n                if (!(e instanceof error_classes_1.MissingRefError))\n                    throw e;\n                checkLoaded.call(this, e);\n                await loadMissingSchema.call(this, e.missingSchema);\n                return _compileAsync.call(this, sch);\n            }\n        }\n        function checkLoaded({ missingSchema: ref, missingRef }) {\n            if (this.refs[ref]) {\n                throw new Error(`AnySchema ${ref} is loaded but ${missingRef} cannot be resolved`);\n            }\n        }\n        async function loadMissingSchema(ref) {\n            const _schema = await _loadSchema.call(this, ref);\n            if (!this.refs[ref])\n                await loadMetaSchema.call(this, _schema.$schema);\n            if (!this.refs[ref])\n                this.addSchema(_schema, ref, meta);\n        }\n        async function _loadSchema(ref) {\n            const p = this._loading[ref];\n            if (p)\n                return p;\n            try {\n                return await (this._loading[ref] = loadSchema(ref));\n            }\n            finally {\n                delete this._loading[ref];\n            }\n        }\n    }\n    // Adds schema to the instance\n    addSchema(schema, // If array is passed, `key` will be ignored\n    key, // Optional schema key. Can be passed to `validate` method instead of schema object or id/ref. One schema per instance can have empty `id` and `key`.\n    _meta, // true if schema is a meta-schema. Used internally, addMetaSchema should be used instead.\n    _validateSchema = this.opts.validateSchema // false to skip schema validation. Used internally, option validateSchema should be used instead.\n    ) {\n        if (Array.isArray(schema)) {\n            for (const sch of schema)\n                this.addSchema(sch, undefined, _meta, _validateSchema);\n            return this;\n        }\n        let id;\n        if (typeof schema === \"object\") {\n            id = schema.$id;\n            if (id !== undefined && typeof id != \"string\")\n                throw new Error(\"schema id must be string\");\n        }\n        key = resolve_1.normalizeId(key || id);\n        this._checkUnique(key);\n        this.schemas[key] = this._addSchema(schema, _meta, _validateSchema, true);\n        return this;\n    }\n    // Add schema that will be used to validate other schemas\n    // options in META_IGNORE_OPTIONS are alway set to false\n    addMetaSchema(schema, key, // schema key\n    _validateSchema = this.opts.validateSchema // false to skip schema validation, can be used to override validateSchema option for meta-schema\n    ) {\n        this.addSchema(schema, key, true, _validateSchema);\n        return this;\n    }\n    //  Validate schema against its meta-schema\n    validateSchema(schema, throwOrLogError) {\n        if (typeof schema == \"boolean\")\n            return true;\n        let $schema;\n        $schema = schema.$schema;\n        if ($schema !== undefined && typeof $schema != \"string\") {\n            throw new Error(\"$schema must be a string\");\n        }\n        $schema = $schema || this.opts.defaultMeta || this.defaultMeta();\n        if (!$schema) {\n            this.logger.warn(\"meta-schema not available\");\n            this.errors = null;\n            return true;\n        }\n        const valid = this.validate($schema, schema);\n        if (!valid && throwOrLogError) {\n            const message = \"schema is invalid: \" + this.errorsText();\n            if (this.opts.validateSchema === \"log\")\n                this.logger.error(message);\n            else\n                throw new Error(message);\n        }\n        return valid;\n    }\n    // Get compiled schema by `key` or `ref`.\n    // (`key` that was passed to `addSchema` or full schema reference - `schema.$id` or resolved id)\n    getSchema(keyRef) {\n        let sch;\n        while (typeof (sch = getSchEnv.call(this, keyRef)) == \"string\")\n            keyRef = sch;\n        if (sch === undefined) {\n            const root = new compile_1.SchemaEnv({ schema: {} });\n            sch = compile_1.resolveSchema.call(this, root, keyRef);\n            if (!sch)\n                return;\n            this.refs[keyRef] = sch;\n        }\n        return (sch.validate || this._compileSchemaEnv(sch));\n    }\n    // Remove cached schema(s).\n    // If no parameter is passed all schemas but meta-schemas are removed.\n    // If RegExp is passed all schemas with key/id matching pattern but meta-schemas are removed.\n    // Even if schema is referenced by other schemas it still can be removed as other schemas have local references.\n    removeSchema(schemaKeyRef) {\n        if (schemaKeyRef instanceof RegExp) {\n            this._removeAllSchemas(this.schemas, schemaKeyRef);\n            this._removeAllSchemas(this.refs, schemaKeyRef);\n            return this;\n        }\n        switch (typeof schemaKeyRef) {\n            case \"undefined\":\n                this._removeAllSchemas(this.schemas);\n                this._removeAllSchemas(this.refs);\n                this._cache.clear();\n                return this;\n            case \"string\": {\n                const sch = getSchEnv.call(this, schemaKeyRef);\n                if (typeof sch == \"object\")\n                    this._cache.delete(sch.schema);\n                delete this.schemas[schemaKeyRef];\n                delete this.refs[schemaKeyRef];\n                return this;\n            }\n            case \"object\": {\n                const cacheKey = schemaKeyRef;\n                this._cache.delete(cacheKey);\n                let id = schemaKeyRef.$id;\n                if (id) {\n                    id = resolve_1.normalizeId(id);\n                    delete this.schemas[id];\n                    delete this.refs[id];\n                }\n                return this;\n            }\n            default:\n                throw new Error(\"ajv.removeSchema: invalid parameter\");\n        }\n    }\n    // add \"vocabulary\" - a collection of keywords\n    addVocabulary(definitions) {\n        for (const def of definitions)\n            this.addKeyword(def);\n        return this;\n    }\n    addKeyword(kwdOrDef, def // deprecated\n    ) {\n        let keyword;\n        if (typeof kwdOrDef == \"string\") {\n            keyword = kwdOrDef;\n            if (typeof def == \"object\") {\n                this.logger.warn(\"these parameters are deprecated, see docs for addKeyword\");\n                def.keyword = keyword;\n            }\n        }\n        else if (typeof kwdOrDef == \"object\" && def === undefined) {\n            def = kwdOrDef;\n            keyword = def.keyword;\n            if (Array.isArray(keyword) && !keyword.length) {\n                throw new Error(\"addKeywords: keyword must be string or non-empty array\");\n            }\n        }\n        else {\n            throw new Error(\"invalid addKeywords parameters\");\n        }\n        checkKeyword.call(this, keyword, def);\n        if (!def) {\n            util_1.eachItem(keyword, (kwd) => addRule.call(this, kwd));\n            return this;\n        }\n        keywordMetaschema.call(this, def);\n        const definition = {\n            ...def,\n            type: dataType_1.getJSONTypes(def.type),\n            schemaType: dataType_1.getJSONTypes(def.schemaType),\n        };\n        util_1.eachItem(keyword, definition.type.length === 0\n            ? (k) => addRule.call(this, k, definition)\n            : (k) => definition.type.forEach((t) => addRule.call(this, k, definition, t)));\n        return this;\n    }\n    getKeyword(keyword) {\n        const rule = this.RULES.all[keyword];\n        return typeof rule == \"object\" ? rule.definition : !!rule;\n    }\n    // Remove keyword\n    removeKeyword(keyword) {\n        // TODO return type should be Ajv\n        const { RULES } = this;\n        delete RULES.keywords[keyword];\n        delete RULES.all[keyword];\n        for (const group of RULES.rules) {\n            const i = group.rules.findIndex((rule) => rule.keyword === keyword);\n            if (i >= 0)\n                group.rules.splice(i, 1);\n        }\n        return this;\n    }\n    // Add format\n    addFormat(name, format) {\n        if (typeof format == \"string\")\n            format = new RegExp(format);\n        this.formats[name] = format;\n        return this;\n    }\n    errorsText(errors = this.errors, // optional array of validation errors\n    { separator = \", \", dataVar = \"data\" } = {} // optional options with properties `separator` and `dataVar`\n    ) {\n        if (!errors || errors.length === 0)\n            return \"No errors\";\n        return errors\n            .map((e) => `${dataVar}${e.dataPath} ${e.message}`)\n            .reduce((text, msg) => text + separator + msg);\n    }\n    $dataMetaSchema(metaSchema, keywordsJsonPointers) {\n        const rules = this.RULES.all;\n        metaSchema = JSON.parse(JSON.stringify(metaSchema));\n        for (const jsonPointer of keywordsJsonPointers) {\n            const segments = jsonPointer.split(\"/\").slice(1); // first segment is an empty string\n            let keywords = metaSchema;\n            for (const seg of segments)\n                keywords = keywords[seg];\n            for (const key in rules) {\n                const rule = rules[key];\n                if (typeof rule != \"object\")\n                    continue;\n                const { $data } = rule.definition;\n                const schema = keywords[key];\n                if ($data && schema)\n                    keywords[key] = schemaOrData(schema);\n            }\n        }\n        return metaSchema;\n    }\n    _removeAllSchemas(schemas, regex) {\n        for (const keyRef in schemas) {\n            const sch = schemas[keyRef];\n            if (!regex || regex.test(keyRef)) {\n                if (typeof sch == \"string\") {\n                    delete schemas[keyRef];\n                }\n                else if (sch && !sch.meta) {\n                    this._cache.delete(sch.schema);\n                    delete schemas[keyRef];\n                }\n            }\n        }\n    }\n    _addSchema(schema, meta, validateSchema = this.opts.validateSchema, addSchema = this.opts.addUsedSchema) {\n        if (typeof schema != \"object\") {\n            if (this.opts.jtd)\n                throw new Error(\"schema must be object\");\n            else if (typeof schema != \"boolean\")\n                throw new Error(\"schema must be object or boolean\");\n        }\n        let sch = this._cache.get(schema);\n        if (sch !== undefined)\n            return sch;\n        const localRefs = resolve_1.getSchemaRefs.call(this, schema);\n        sch = new compile_1.SchemaEnv({ schema, meta, localRefs });\n        this._cache.set(sch.schema, sch);\n        const id = sch.baseId;\n        if (addSchema && !id.startsWith(\"#\")) {\n            // TODO atm it is allowed to overwrite schemas without id (instead of not adding them)\n            if (id)\n                this._checkUnique(id);\n            this.refs[id] = sch;\n        }\n        if (validateSchema)\n            this.validateSchema(schema, true);\n        return sch;\n    }\n    _checkUnique(id) {\n        if (this.schemas[id] || this.refs[id]) {\n            throw new Error(`schema with key or id \"${id}\" already exists`);\n        }\n    }\n    _compileSchemaEnv(sch) {\n        if (sch.meta)\n            this._compileMetaSchema(sch);\n        else\n            compile_1.compileSchema.call(this, sch);\n        /* istanbul ignore if */\n        if (!sch.validate)\n            throw new Error(\"ajv implementation error\");\n        return sch.validate;\n    }\n    _compileMetaSchema(sch) {\n        const currentOpts = this.opts;\n        this.opts = this._metaOpts;\n        try {\n            compile_1.compileSchema.call(this, sch);\n        }\n        finally {\n            this.opts = currentOpts;\n        }\n    }\n}\nexports.default = Ajv;\nAjv.ValidationError = error_classes_1.ValidationError;\nAjv.MissingRefError = error_classes_1.MissingRefError;\nfunction checkOptions(checkOpts, options, msg, log = \"error\") {\n    for (const key in checkOpts) {\n        const opt = key;\n        if (opt in options)\n            this.logger[log](`${msg}: option ${key}. ${checkOpts[opt]}`);\n    }\n}\nfunction getSchEnv(keyRef) {\n    keyRef = resolve_1.normalizeId(keyRef); // TODO tests fail without this line\n    return this.schemas[keyRef] || this.refs[keyRef];\n}\nfunction addInitialSchemas() {\n    const optsSchemas = this.opts.schemas;\n    if (!optsSchemas)\n        return;\n    if (Array.isArray(optsSchemas))\n        this.addSchema(optsSchemas);\n    else\n        for (const key in optsSchemas)\n            this.addSchema(optsSchemas[key], key);\n}\nfunction addInitialFormats() {\n    for (const name in this.opts.formats) {\n        const format = this.opts.formats[name];\n        if (format)\n            this.addFormat(name, format);\n    }\n}\nfunction addInitialKeywords(defs) {\n    if (Array.isArray(defs)) {\n        this.addVocabulary(defs);\n        return;\n    }\n    this.logger.warn(\"keywords option as map is deprecated, pass array\");\n    for (const keyword in defs) {\n        const def = defs[keyword];\n        if (!def.keyword)\n            def.keyword = keyword;\n        this.addKeyword(def);\n    }\n}\nfunction getMetaSchemaOptions() {\n    const metaOpts = { ...this.opts };\n    for (const opt of META_IGNORE_OPTIONS)\n        delete metaOpts[opt];\n    return metaOpts;\n}\nconst noLogs = { log() { }, warn() { }, error() { } };\nfunction getLogger(logger) {\n    if (logger === false)\n        return noLogs;\n    if (logger === undefined)\n        return console;\n    if (logger.log && logger.warn && logger.error)\n        return logger;\n    throw new Error(\"logger must implement log, warn and error methods\");\n}\nconst KEYWORD_NAME = /^[a-z_$][a-z0-9_$:-]*$/i;\nfunction checkKeyword(keyword, def) {\n    const { RULES } = this;\n    util_1.eachItem(keyword, (kwd) => {\n        if (RULES.keywords[kwd])\n            throw new Error(`Keyword ${kwd} is already defined`);\n        if (!KEYWORD_NAME.test(kwd))\n            throw new Error(`Keyword ${kwd} has invalid name`);\n    });\n    if (!def)\n        return;\n    if (def.$data && !(\"code\" in def || \"validate\" in def)) {\n        throw new Error('$data keyword must have \"code\" or \"validate\" function');\n    }\n}\nfunction addRule(keyword, definition, dataType) {\n    var _a;\n    const post = definition === null || definition === void 0 ? void 0 : definition.post;\n    if (dataType && post)\n        throw new Error('keyword with \"post\" flag cannot have \"type\"');\n    const { RULES } = this;\n    let ruleGroup = post ? RULES.post : RULES.rules.find(({ type: t }) => t === dataType);\n    if (!ruleGroup) {\n        ruleGroup = { type: dataType, rules: [] };\n        RULES.rules.push(ruleGroup);\n    }\n    RULES.keywords[keyword] = true;\n    if (!definition)\n        return;\n    const rule = {\n        keyword,\n        definition: {\n            ...definition,\n            type: dataType_1.getJSONTypes(definition.type),\n            schemaType: dataType_1.getJSONTypes(definition.schemaType),\n        },\n    };\n    if (definition.before)\n        addBeforeRule.call(this, ruleGroup, rule, definition.before);\n    else\n        ruleGroup.rules.push(rule);\n    RULES.all[keyword] = rule;\n    (_a = definition.implements) === null || _a === void 0 ? void 0 : _a.forEach((kwd) => this.addKeyword(kwd));\n}\nfunction addBeforeRule(ruleGroup, rule, before) {\n    const i = ruleGroup.rules.findIndex((_rule) => _rule.keyword === before);\n    if (i >= 0) {\n        ruleGroup.rules.splice(i, 0, rule);\n    }\n    else {\n        ruleGroup.rules.push(rule);\n        this.logger.warn(`rule ${before} is not defined`);\n    }\n}\nfunction keywordMetaschema(def) {\n    let { metaSchema } = def;\n    if (metaSchema === undefined)\n        return;\n    if (def.$data && this.opts.$data)\n        metaSchema = schemaOrData(metaSchema);\n    def.validateSchema = this.compile(metaSchema, true);\n}\nconst $dataRef = {\n    $ref: \"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#\",\n};\nfunction schemaOrData(schema) {\n    return { anyOf: [schema, $dataRef] };\n}\n//# sourceMappingURL=core.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst subschema_1 = require(\"../../compile/subschema\");\nconst util_1 = require(\"../../compile/util\");\nconst validate_1 = require(\"../../compile/validate\");\nconst error = {\n    message: ({ params: { len } }) => codegen_1.str `should NOT have more than ${len} items`,\n    params: ({ params: { len } }) => codegen_1._ `{limit: ${len}}`,\n};\nconst def = {\n    keyword: \"additionalItems\",\n    type: \"array\",\n    schemaType: [\"boolean\", \"object\"],\n    before: \"uniqueItems\",\n    error,\n    code(cxt) {\n        const { gen, schema, parentSchema, data, it } = cxt;\n        const { items } = parentSchema;\n        if (!Array.isArray(items)) {\n            validate_1.checkStrictMode(it, '\"additionalItems\" is ignored when \"items\" is not an array of schemas');\n            return;\n        }\n        it.items = true;\n        const len = gen.const(\"len\", codegen_1._ `${data}.length`);\n        if (schema === false) {\n            cxt.setParams({ len: items.length });\n            cxt.pass(codegen_1._ `${len} <= ${items.length}`);\n        }\n        else if (typeof schema == \"object\" && !util_1.alwaysValidSchema(it, schema)) {\n            const valid = gen.var(\"valid\", codegen_1._ `${len} <= ${items.length}`); // TODO var\n            gen.if(codegen_1.not(valid), () => validateItems(valid));\n            cxt.ok(valid);\n        }\n        function validateItems(valid) {\n            gen.forRange(\"i\", items.length, len, (i) => {\n                cxt.subschema({ keyword: \"additionalItems\", dataProp: i, dataPropType: subschema_1.Type.Num }, valid);\n                if (!it.allErrors)\n                    gen.if(codegen_1.not(valid), () => gen.break());\n            });\n        }\n    },\n};\nexports.default = def;\n//# sourceMappingURL=additionalItems.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst code_1 = require(\"../code\");\nconst codegen_1 = require(\"../../compile/codegen\");\nconst names_1 = require(\"../../compile/names\");\nconst subschema_1 = require(\"../../compile/subschema\");\nconst util_1 = require(\"../../compile/util\");\nconst error = {\n    message: \"should NOT have additional properties\",\n    params: ({ params }) => codegen_1._ `{additionalProperty: ${params.additionalProperty}}`,\n};\nconst def = {\n    keyword: \"additionalProperties\",\n    type: [\"object\"],\n    schemaType: [\"boolean\", \"object\"],\n    allowUndefined: true,\n    trackErrors: true,\n    error,\n    code(cxt) {\n        const { gen, schema, parentSchema, data, errsCount, it } = cxt;\n        /* istanbul ignore if */\n        if (!errsCount)\n            throw new Error(\"ajv implementation error\");\n        const { allErrors, opts } = it;\n        it.props = true;\n        if (opts.removeAdditional !== \"all\" && util_1.alwaysValidSchema(it, schema))\n            return;\n        const props = code_1.allSchemaProperties(parentSchema.properties);\n        const patProps = code_1.allSchemaProperties(parentSchema.patternProperties);\n        checkAdditionalProperties();\n        cxt.ok(codegen_1._ `${errsCount} === ${names_1.default.errors}`);\n        function checkAdditionalProperties() {\n            gen.forIn(\"key\", data, (key) => {\n                if (!props.length && !patProps.length)\n                    additionalPropertyCode(key);\n                else\n                    gen.if(isAdditional(key), () => additionalPropertyCode(key));\n            });\n        }\n        function isAdditional(key) {\n            let definedProp;\n            if (props.length > 8) {\n                // TODO maybe an option instead of hard-coded 8?\n                const propsSchema = util_1.schemaRefOrVal(it, parentSchema.properties, \"properties\");\n                definedProp = code_1.isOwnProperty(gen, propsSchema, key);\n            }\n            else if (props.length) {\n                definedProp = codegen_1.or(...props.map((p) => codegen_1._ `${key} === ${p}`));\n            }\n            else {\n                definedProp = codegen_1.nil;\n            }\n            if (patProps.length) {\n                definedProp = codegen_1.or(definedProp, ...patProps.map((p) => codegen_1._ `${code_1.usePattern(gen, p)}.test(${key})`));\n            }\n            return codegen_1.not(definedProp);\n        }\n        function deleteAdditional(key) {\n            gen.code(codegen_1._ `delete ${data}[${key}]`);\n        }\n        function additionalPropertyCode(key) {\n            if (opts.removeAdditional === \"all\" || (opts.removeAdditional && schema === false)) {\n                deleteAdditional(key);\n                return;\n            }\n            if (schema === false) {\n                cxt.setParams({ additionalProperty: key });\n                cxt.error();\n                if (!allErrors)\n                    gen.break();\n                return;\n            }\n            if (typeof schema == \"object\" && !util_1.alwaysValidSchema(it, schema)) {\n                const valid = gen.name(\"valid\");\n                if (opts.removeAdditional === \"failing\") {\n                    applyAdditionalSchema(key, valid, false);\n                    gen.if(codegen_1.not(valid), () => {\n                        cxt.reset();\n                        deleteAdditional(key);\n                    });\n                }\n                else {\n                    applyAdditionalSchema(key, valid);\n                    if (!allErrors)\n                        gen.if(codegen_1.not(valid), () => gen.break());\n                }\n            }\n        }\n        function applyAdditionalSchema(key, valid, errors) {\n            const subschema = {\n                keyword: \"additionalProperties\",\n                dataProp: key,\n                dataPropType: subschema_1.Type.Str,\n            };\n            if (errors === false) {\n                Object.assign(subschema, {\n                    compositeRule: true,\n                    createErrors: false,\n                    allErrors: false,\n                });\n            }\n            cxt.subschema(subschema, valid);\n        }\n    },\n};\nexports.default = def;\n//# sourceMappingURL=additionalProperties.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst util_1 = require(\"../../compile/util\");\nconst def = {\n    keyword: \"allOf\",\n    schemaType: \"array\",\n    code(cxt) {\n        const { gen, schema, it } = cxt;\n        /* istanbul ignore if */\n        if (!Array.isArray(schema))\n            throw new Error(\"ajv implementation error\");\n        const valid = gen.name(\"valid\");\n        schema.forEach((sch, i) => {\n            if (util_1.alwaysValidSchema(it, sch))\n                return;\n            const schCxt = cxt.subschema({ keyword: \"allOf\", schemaProp: i }, valid);\n            cxt.ok(valid);\n            cxt.mergeEvaluated(schCxt);\n        });\n    },\n};\nexports.default = def;\n//# sourceMappingURL=allOf.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst code_1 = require(\"../code\");\nconst def = {\n    keyword: \"anyOf\",\n    schemaType: \"array\",\n    trackErrors: true,\n    code: code_1.validateUnion,\n    error: {\n        message: \"should match some schema in anyOf\",\n    },\n};\nexports.default = def;\n//# sourceMappingURL=anyOf.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst subschema_1 = require(\"../../compile/subschema\");\nconst util_1 = require(\"../../compile/util\");\nconst validate_1 = require(\"../../compile/validate\");\nconst error = {\n    message: ({ params: { min, max } }) => max === undefined\n        ? codegen_1.str `should contain at least ${min} valid item(s)`\n        : codegen_1.str `should contain at least ${min} and no more than ${max} valid item(s)`,\n    params: ({ params: { min, max } }) => max === undefined ? codegen_1._ `{minContains: ${min}}` : codegen_1._ `{minContains: ${min}, maxContains: ${max}}`,\n};\nconst def = {\n    keyword: \"contains\",\n    type: \"array\",\n    schemaType: [\"object\", \"boolean\"],\n    before: \"uniqueItems\",\n    trackErrors: true,\n    error,\n    code(cxt) {\n        const { gen, schema, parentSchema, data, it } = cxt;\n        let min;\n        let max;\n        const { minContains, maxContains } = parentSchema;\n        if (it.opts.next) {\n            min = minContains === undefined ? 1 : minContains;\n            max = maxContains;\n        }\n        else {\n            min = 1;\n        }\n        const len = gen.const(\"len\", codegen_1._ `${data}.length`);\n        cxt.setParams({ min, max });\n        if (max === undefined && min === 0) {\n            validate_1.checkStrictMode(it, `\"minContains\" == 0 without \"maxContains\": \"contains\" keyword ignored`);\n            return;\n        }\n        if (max !== undefined && min > max) {\n            validate_1.checkStrictMode(it, `\"minContains\" > \"maxContains\" is always invalid`);\n            cxt.fail();\n            return;\n        }\n        if (util_1.alwaysValidSchema(it, schema)) {\n            let cond = codegen_1._ `${len} >= ${min}`;\n            if (max !== undefined)\n                cond = codegen_1._ `${cond} && ${len} <= ${max}`;\n            cxt.pass(cond);\n            return;\n        }\n        it.items = true;\n        const valid = gen.name(\"valid\");\n        if (max === undefined && min === 1) {\n            validateItems(valid, () => gen.if(valid, () => gen.break()));\n        }\n        else {\n            gen.let(valid, false);\n            const schValid = gen.name(\"_valid\");\n            const count = gen.let(\"count\", 0);\n            validateItems(schValid, () => gen.if(schValid, () => checkLimits(count)));\n        }\n        cxt.result(valid, () => cxt.reset());\n        function validateItems(_valid, block) {\n            gen.forRange(\"i\", 0, len, (i) => {\n                cxt.subschema({\n                    keyword: \"contains\",\n                    dataProp: i,\n                    dataPropType: subschema_1.Type.Num,\n                    compositeRule: true,\n                }, _valid);\n                block();\n            });\n        }\n        function checkLimits(count) {\n            gen.code(codegen_1._ `${count}++`);\n            if (max === undefined) {\n                gen.if(codegen_1._ `${count} >= ${min}`, () => gen.assign(valid, true).break());\n            }\n            else {\n                gen.if(codegen_1._ `${count} > ${max}`, () => gen.assign(valid, false).break());\n                if (min === 1)\n                    gen.assign(valid, true);\n                else\n                    gen.if(codegen_1._ `${count} >= ${min}`, () => gen.assign(valid, true));\n            }\n        }\n    },\n};\nexports.default = def;\n//# sourceMappingURL=contains.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.validateSchemaDeps = exports.validatePropertyDeps = exports.error = void 0;\nconst codegen_1 = require(\"../../compile/codegen\");\nconst util_1 = require(\"../../compile/util\");\nconst code_1 = require(\"../code\");\nexports.error = {\n    message: ({ params: { property, depsCount, deps } }) => {\n        const property_ies = depsCount === 1 ? \"property\" : \"properties\";\n        return codegen_1.str `should have ${property_ies} ${deps} when property ${property} is present`;\n    },\n    params: ({ params: { property, depsCount, deps, missingProperty } }) => codegen_1._ `{property: ${property},\n    missingProperty: ${missingProperty},\n    depsCount: ${depsCount},\n    deps: ${deps}}`, // TODO change to reference\n};\nconst def = {\n    keyword: \"dependencies\",\n    type: \"object\",\n    schemaType: \"object\",\n    error: exports.error,\n    code(cxt) {\n        const [propDeps, schDeps] = splitDependencies(cxt);\n        validatePropertyDeps(cxt, propDeps);\n        validateSchemaDeps(cxt, schDeps);\n    },\n};\nfunction splitDependencies({ schema }) {\n    const propertyDeps = {};\n    const schemaDeps = {};\n    for (const key in schema) {\n        if (key === \"__proto__\")\n            continue;\n        const deps = Array.isArray(schema[key]) ? propertyDeps : schemaDeps;\n        deps[key] = schema[key];\n    }\n    return [propertyDeps, schemaDeps];\n}\nfunction validatePropertyDeps(cxt, propertyDeps = cxt.schema) {\n    const { gen, data, it } = cxt;\n    if (Object.keys(propertyDeps).length === 0)\n        return;\n    const missing = gen.let(\"missing\");\n    for (const prop in propertyDeps) {\n        const deps = propertyDeps[prop];\n        if (deps.length === 0)\n            continue;\n        const hasProperty = code_1.propertyInData(gen, data, prop, it.opts.ownProperties);\n        cxt.setParams({\n            property: prop,\n            depsCount: deps.length,\n            deps: deps.join(\", \"),\n        });\n        if (it.allErrors) {\n            gen.if(hasProperty, () => {\n                for (const depProp of deps) {\n                    code_1.checkReportMissingProp(cxt, depProp);\n                }\n            });\n        }\n        else {\n            gen.if(codegen_1._ `${hasProperty} && (${code_1.checkMissingProp(cxt, deps, missing)})`);\n            code_1.reportMissingProp(cxt, missing);\n            gen.else();\n        }\n    }\n}\nexports.validatePropertyDeps = validatePropertyDeps;\nfunction validateSchemaDeps(cxt, schemaDeps = cxt.schema) {\n    const { gen, data, keyword, it } = cxt;\n    const valid = gen.name(\"valid\");\n    for (const prop in schemaDeps) {\n        if (util_1.alwaysValidSchema(it, schemaDeps[prop]))\n            continue;\n        gen.if(code_1.propertyInData(gen, data, prop, it.opts.ownProperties), () => {\n            const schCxt = cxt.subschema({ keyword, schemaProp: prop }, valid);\n            cxt.mergeValidEvaluated(schCxt, valid);\n        }, () => gen.var(valid, true) // TODO var\n        );\n        cxt.ok(valid);\n    }\n}\nexports.validateSchemaDeps = validateSchemaDeps;\nexports.default = def;\n//# sourceMappingURL=dependencies.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst util_1 = require(\"../../compile/util\");\nconst validate_1 = require(\"../../compile/validate\");\nconst error = {\n    message: ({ params }) => codegen_1.str `should match \"${params.ifClause}\" schema`,\n    params: ({ params }) => codegen_1._ `{failingKeyword: ${params.ifClause}}`,\n};\nconst def = {\n    keyword: \"if\",\n    schemaType: [\"object\", \"boolean\"],\n    trackErrors: true,\n    error,\n    code(cxt) {\n        const { gen, parentSchema, it } = cxt;\n        if (parentSchema.then === undefined && parentSchema.else === undefined) {\n            validate_1.checkStrictMode(it, '\"if\" without \"then\" and \"else\" is ignored');\n        }\n        const hasThen = hasSchema(it, \"then\");\n        const hasElse = hasSchema(it, \"else\");\n        if (!hasThen && !hasElse)\n            return;\n        const valid = gen.let(\"valid\", true);\n        const schValid = gen.name(\"_valid\");\n        validateIf();\n        cxt.reset();\n        if (hasThen && hasElse) {\n            const ifClause = gen.let(\"ifClause\");\n            cxt.setParams({ ifClause });\n            gen.if(schValid, validateClause(\"then\", ifClause), validateClause(\"else\", ifClause));\n        }\n        else if (hasThen) {\n            gen.if(schValid, validateClause(\"then\"));\n        }\n        else {\n            gen.if(codegen_1.not(schValid), validateClause(\"else\"));\n        }\n        cxt.pass(valid, () => cxt.error(true));\n        function validateIf() {\n            const schCxt = cxt.subschema({\n                keyword: \"if\",\n                compositeRule: true,\n                createErrors: false,\n                allErrors: false,\n            }, schValid);\n            cxt.mergeEvaluated(schCxt);\n        }\n        function validateClause(keyword, ifClause) {\n            return () => {\n                const schCxt = cxt.subschema({ keyword }, schValid);\n                gen.assign(valid, schValid);\n                cxt.mergeValidEvaluated(schCxt, valid);\n                if (ifClause)\n                    gen.assign(ifClause, codegen_1._ `${keyword}`);\n                else\n                    cxt.setParams({ ifClause: keyword });\n            };\n        }\n    },\n};\nfunction hasSchema(it, keyword) {\n    const schema = it.schema[keyword];\n    return schema !== undefined && !util_1.alwaysValidSchema(it, schema);\n}\nexports.default = def;\n//# sourceMappingURL=if.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst additionalItems_1 = require(\"./additionalItems\");\nconst items_1 = require(\"./items\");\nconst contains_1 = require(\"./contains\");\nconst dependencies_1 = require(\"./dependencies\");\nconst propertyNames_1 = require(\"./propertyNames\");\nconst additionalProperties_1 = require(\"./additionalProperties\");\nconst properties_1 = require(\"./properties\");\nconst patternProperties_1 = require(\"./patternProperties\");\nconst not_1 = require(\"./not\");\nconst anyOf_1 = require(\"./anyOf\");\nconst oneOf_1 = require(\"./oneOf\");\nconst allOf_1 = require(\"./allOf\");\nconst if_1 = require(\"./if\");\nconst thenElse_1 = require(\"./thenElse\");\nconst applicator = [\n    // any\n    not_1.default,\n    anyOf_1.default,\n    oneOf_1.default,\n    allOf_1.default,\n    if_1.default,\n    thenElse_1.default,\n    // array\n    additionalItems_1.default,\n    items_1.default,\n    contains_1.default,\n    // object\n    propertyNames_1.default,\n    additionalProperties_1.default,\n    dependencies_1.default,\n    properties_1.default,\n    patternProperties_1.default,\n];\nexports.default = applicator;\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst util_1 = require(\"../../compile/util\");\nconst validate_1 = require(\"../../compile/validate\");\nconst code_1 = require(\"../code\");\nconst def = {\n    keyword: \"items\",\n    type: \"array\",\n    schemaType: [\"object\", \"array\", \"boolean\"],\n    before: \"uniqueItems\",\n    code(cxt) {\n        const { gen, schema, it } = cxt;\n        if (Array.isArray(schema)) {\n            if (it.opts.unevaluated && schema.length && it.items !== true) {\n                it.items = util_1.mergeEvaluated.items(gen, schema.length, it.items);\n            }\n            validateTuple(schema);\n        }\n        else {\n            it.items = true;\n            if (util_1.alwaysValidSchema(it, schema))\n                return;\n            cxt.ok(code_1.validateArray(cxt));\n        }\n        function validateTuple(schArr) {\n            const { parentSchema, data } = cxt;\n            if (it.opts.strictTuples && !fullTupleSchema(schArr.length, parentSchema)) {\n                const msg = `\"items\" is ${schArr.length}-tuple, but minItems or maxItems/additionalItems are not specified or different`;\n                validate_1.checkStrictMode(it, msg, it.opts.strictTuples);\n            }\n            const valid = gen.name(\"valid\");\n            const len = gen.const(\"len\", codegen_1._ `${data}.length`);\n            schArr.forEach((sch, i) => {\n                if (util_1.alwaysValidSchema(it, sch))\n                    return;\n                gen.if(codegen_1._ `${len} > ${i}`, () => cxt.subschema({\n                    keyword: \"items\",\n                    schemaProp: i,\n                    dataProp: i,\n                }, valid));\n                cxt.ok(valid);\n            });\n        }\n    },\n};\nfunction fullTupleSchema(len, sch) {\n    return len === sch.minItems && (len === sch.maxItems || sch.additionalItems === false);\n}\nexports.default = def;\n//# sourceMappingURL=items.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst util_1 = require(\"../../compile/util\");\nconst def = {\n    keyword: \"not\",\n    schemaType: [\"object\", \"boolean\"],\n    trackErrors: true,\n    code(cxt) {\n        const { gen, schema, it } = cxt;\n        if (util_1.alwaysValidSchema(it, schema)) {\n            cxt.fail();\n            return;\n        }\n        const valid = gen.name(\"valid\");\n        cxt.subschema({\n            keyword: \"not\",\n            compositeRule: true,\n            createErrors: false,\n            allErrors: false,\n        }, valid);\n        cxt.result(valid, () => cxt.error(), () => cxt.reset());\n    },\n    error: {\n        message: \"should NOT be valid\",\n    },\n};\nexports.default = def;\n//# sourceMappingURL=not.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst util_1 = require(\"../../compile/util\");\nconst error = {\n    message: \"should match exactly one schema in oneOf\",\n    params: ({ params }) => codegen_1._ `{passingSchemas: ${params.passing}}`,\n};\nconst def = {\n    keyword: \"oneOf\",\n    schemaType: \"array\",\n    trackErrors: true,\n    error,\n    code(cxt) {\n        const { gen, schema, it } = cxt;\n        /* istanbul ignore if */\n        if (!Array.isArray(schema))\n            throw new Error(\"ajv implementation error\");\n        const schArr = schema;\n        const valid = gen.let(\"valid\", false);\n        const passing = gen.let(\"passing\", null);\n        const schValid = gen.name(\"_valid\");\n        cxt.setParams({ passing });\n        // TODO possibly fail straight away (with warning or exception) if there are two empty always valid schemas\n        gen.block(validateOneOf);\n        cxt.result(valid, () => cxt.reset(), () => cxt.error(true));\n        function validateOneOf() {\n            schArr.forEach((sch, i) => {\n                let schCxt;\n                if (util_1.alwaysValidSchema(it, sch)) {\n                    gen.var(schValid, true);\n                }\n                else {\n                    schCxt = cxt.subschema({\n                        keyword: \"oneOf\",\n                        schemaProp: i,\n                        compositeRule: true,\n                    }, schValid);\n                }\n                if (i > 0) {\n                    gen\n                        .if(codegen_1._ `${schValid} && ${valid}`)\n                        .assign(valid, false)\n                        .assign(passing, codegen_1._ `[${passing}, ${i}]`)\n                        .else();\n                }\n                gen.if(schValid, () => {\n                    gen.assign(valid, true);\n                    gen.assign(passing, i);\n                    if (schCxt)\n                        cxt.mergeEvaluated(schCxt, codegen_1.Name);\n                });\n            });\n        }\n    },\n};\nexports.default = def;\n//# sourceMappingURL=oneOf.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst code_1 = require(\"../code\");\nconst codegen_1 = require(\"../../compile/codegen\");\nconst subschema_1 = require(\"../../compile/subschema\");\nconst validate_1 = require(\"../../compile/validate\");\nconst util_1 = require(\"../../compile/util\");\nconst def = {\n    keyword: \"patternProperties\",\n    type: \"object\",\n    schemaType: \"object\",\n    code(cxt) {\n        const { gen, schema, data, parentSchema, it } = cxt;\n        const { opts } = it;\n        const patterns = code_1.schemaProperties(it, schema);\n        // TODO mark properties matching patterns with always valid schemas as evaluated\n        if (patterns.length === 0)\n            return;\n        const checkProperties = opts.strict && !opts.allowMatchingProperties && parentSchema.properties;\n        const valid = gen.name(\"valid\");\n        if (it.props !== true && !(it.props instanceof codegen_1.Name)) {\n            it.props = util_1.evaluatedPropsToName(gen, it.props);\n        }\n        const { props } = it;\n        validatePatternProperties();\n        function validatePatternProperties() {\n            for (const pat of patterns) {\n                if (checkProperties)\n                    checkMatchingProperties(pat);\n                if (it.allErrors) {\n                    validateProperties(pat);\n                }\n                else {\n                    gen.var(valid, true); // TODO var\n                    validateProperties(pat);\n                    gen.if(valid);\n                }\n            }\n        }\n        function checkMatchingProperties(pat) {\n            for (const prop in checkProperties) {\n                if (new RegExp(pat).test(prop)) {\n                    validate_1.checkStrictMode(it, `property ${prop} matches pattern ${pat} (use allowMatchingProperties)`);\n                }\n            }\n        }\n        function validateProperties(pat) {\n            gen.forIn(\"key\", data, (key) => {\n                gen.if(codegen_1._ `${code_1.usePattern(gen, pat)}.test(${key})`, () => {\n                    cxt.subschema({\n                        keyword: \"patternProperties\",\n                        schemaProp: pat,\n                        dataProp: key,\n                        dataPropType: subschema_1.Type.Str,\n                    }, valid);\n                    if (it.opts.unevaluated && props !== true) {\n                        gen.assign(codegen_1._ `${props}[${key}]`, true);\n                    }\n                    else if (!it.allErrors) {\n                        // can short-circuit if `unevaluatedProperties` is not supported (opts.next === false)\n                        // or if all properties were evaluated (props === true)\n                        gen.if(codegen_1.not(valid), () => gen.break());\n                    }\n                });\n            });\n        }\n    },\n};\nexports.default = def;\n//# sourceMappingURL=patternProperties.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst context_1 = require(\"../../compile/context\");\nconst code_1 = require(\"../code\");\nconst util_1 = require(\"../../compile/util\");\nconst additionalProperties_1 = require(\"./additionalProperties\");\nconst def = {\n    keyword: \"properties\",\n    type: \"object\",\n    schemaType: \"object\",\n    code(cxt) {\n        const { gen, schema, parentSchema, data, it } = cxt;\n        if (it.opts.removeAdditional === \"all\" && parentSchema.additionalProperties === undefined) {\n            additionalProperties_1.default.code(new context_1.default(it, additionalProperties_1.default, \"additionalProperties\"));\n        }\n        const allProps = code_1.allSchemaProperties(schema);\n        for (const prop of allProps) {\n            it.definedProperties.add(prop);\n        }\n        if (it.opts.unevaluated && allProps.length && it.props !== true) {\n            it.props = util_1.mergeEvaluated.props(gen, util_1.toHash(allProps), it.props);\n        }\n        const properties = allProps.filter((p) => !util_1.alwaysValidSchema(it, schema[p]));\n        if (properties.length === 0)\n            return;\n        const valid = gen.name(\"valid\");\n        for (const prop of properties) {\n            if (hasDefault(prop)) {\n                applyPropertySchema(prop);\n            }\n            else {\n                gen.if(code_1.propertyInData(gen, data, prop, it.opts.ownProperties));\n                applyPropertySchema(prop);\n                if (!it.allErrors)\n                    gen.else().var(valid, true);\n                gen.endIf();\n            }\n            cxt.it.definedProperties.add(prop);\n            cxt.ok(valid);\n        }\n        function hasDefault(prop) {\n            return it.opts.useDefaults && !it.compositeRule && schema[prop].default !== undefined;\n        }\n        function applyPropertySchema(prop) {\n            cxt.subschema({\n                keyword: \"properties\",\n                schemaProp: prop,\n                dataProp: prop,\n            }, valid);\n        }\n    },\n};\nexports.default = def;\n//# sourceMappingURL=properties.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst util_1 = require(\"../../compile/util\");\nconst error = {\n    message: ({ params }) => codegen_1.str `property name '${params.propertyName}' is invalid`,\n    params: ({ params }) => codegen_1._ `{propertyName: ${params.propertyName}}`,\n};\nconst def = {\n    keyword: \"propertyNames\",\n    type: \"object\",\n    schemaType: [\"object\", \"boolean\"],\n    error,\n    code(cxt) {\n        const { gen, schema, data, it } = cxt;\n        if (util_1.alwaysValidSchema(it, schema))\n            return;\n        const valid = gen.name(\"valid\");\n        gen.forIn(\"key\", data, (key) => {\n            cxt.setParams({ propertyName: key });\n            cxt.subschema({\n                keyword: \"propertyNames\",\n                data: key,\n                dataTypes: [\"string\"],\n                propertyName: key,\n                compositeRule: true,\n            }, valid);\n            gen.if(codegen_1.not(valid), () => {\n                cxt.error(true);\n                if (!it.allErrors)\n                    gen.break();\n            });\n        });\n        cxt.ok(valid);\n    },\n};\nexports.default = def;\n//# sourceMappingURL=propertyNames.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst validate_1 = require(\"../../compile/validate\");\nconst def = {\n    keyword: [\"then\", \"else\"],\n    schemaType: [\"object\", \"boolean\"],\n    code({ keyword, parentSchema, it }) {\n        if (parentSchema.if === undefined)\n            validate_1.checkStrictMode(it, `\"${keyword}\" without \"if\" is ignored`);\n    },\n};\nexports.default = def;\n//# sourceMappingURL=thenElse.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.validateUnion = exports.validateArray = exports.usePattern = exports.callValidateCode = exports.schemaProperties = exports.allSchemaProperties = exports.noPropertyInData = exports.propertyInData = exports.isOwnProperty = exports.hasPropFunc = exports.reportMissingProp = exports.checkMissingProp = exports.checkReportMissingProp = void 0;\nconst codegen_1 = require(\"../compile/codegen\");\nconst util_1 = require(\"../compile/util\");\nconst subschema_1 = require(\"../compile/subschema\");\nconst names_1 = require(\"../compile/names\");\nfunction checkReportMissingProp(cxt, prop) {\n    const { gen, data, it } = cxt;\n    gen.if(noPropertyInData(gen, data, prop, it.opts.ownProperties), () => {\n        cxt.setParams({ missingProperty: codegen_1._ `${prop}` }, true);\n        cxt.error();\n    });\n}\nexports.checkReportMissingProp = checkReportMissingProp;\nfunction checkMissingProp({ gen, data, it: { opts } }, properties, missing) {\n    return codegen_1.or(...properties.map((prop) => codegen_1.and(noPropertyInData(gen, data, prop, opts.ownProperties), codegen_1._ `${missing} = ${prop}`)));\n}\nexports.checkMissingProp = checkMissingProp;\nfunction reportMissingProp(cxt, missing) {\n    cxt.setParams({ missingProperty: missing }, true);\n    cxt.error();\n}\nexports.reportMissingProp = reportMissingProp;\nfunction hasPropFunc(gen) {\n    return gen.scopeValue(\"func\", {\n        // eslint-disable-next-line @typescript-eslint/unbound-method\n        ref: Object.prototype.hasOwnProperty,\n        code: codegen_1._ `Object.prototype.hasOwnProperty`,\n    });\n}\nexports.hasPropFunc = hasPropFunc;\nfunction isOwnProperty(gen, data, property) {\n    return codegen_1._ `${hasPropFunc(gen)}.call(${data}, ${property})`;\n}\nexports.isOwnProperty = isOwnProperty;\nfunction propertyInData(gen, data, property, ownProperties) {\n    const cond = codegen_1._ `${data}${codegen_1.getProperty(property)} !== undefined`;\n    return ownProperties ? codegen_1._ `${cond} && ${isOwnProperty(gen, data, property)}` : cond;\n}\nexports.propertyInData = propertyInData;\nfunction noPropertyInData(gen, data, property, ownProperties) {\n    const cond = codegen_1._ `${data}${codegen_1.getProperty(property)} === undefined`;\n    return ownProperties ? codegen_1.or(cond, codegen_1.not(isOwnProperty(gen, data, property))) : cond;\n}\nexports.noPropertyInData = noPropertyInData;\nfunction allSchemaProperties(schemaMap) {\n    return schemaMap ? Object.keys(schemaMap).filter((p) => p !== \"__proto__\") : [];\n}\nexports.allSchemaProperties = allSchemaProperties;\nfunction schemaProperties(it, schemaMap) {\n    return allSchemaProperties(schemaMap).filter((p) => !util_1.alwaysValidSchema(it, schemaMap[p]));\n}\nexports.schemaProperties = schemaProperties;\nfunction callValidateCode({ schemaCode, data, it: { gen, topSchemaRef, schemaPath, errorPath }, it }, func, context, passSchema) {\n    const dataAndSchema = passSchema ? codegen_1._ `${schemaCode}, ${data}, ${topSchemaRef}${schemaPath}` : data;\n    const valCxt = [\n        [names_1.default.dataPath, codegen_1.strConcat(names_1.default.dataPath, errorPath)],\n        [names_1.default.parentData, it.parentData],\n        [names_1.default.parentDataProperty, it.parentDataProperty],\n        [names_1.default.rootData, names_1.default.rootData],\n    ];\n    if (it.opts.dynamicRef)\n        valCxt.push([names_1.default.dynamicAnchors, names_1.default.dynamicAnchors]);\n    const args = codegen_1._ `${dataAndSchema}, ${gen.object(...valCxt)}`;\n    return context !== codegen_1.nil ? codegen_1._ `${func}.call(${context}, ${args})` : codegen_1._ `${func}(${args})`;\n}\nexports.callValidateCode = callValidateCode;\nfunction usePattern(gen, pattern) {\n    return gen.scopeValue(\"pattern\", {\n        key: pattern,\n        ref: new RegExp(pattern, \"u\"),\n        code: codegen_1._ `new RegExp(${pattern}, \"u\")`,\n    });\n}\nexports.usePattern = usePattern;\nfunction validateArray(cxt) {\n    const { gen, data, keyword, it } = cxt;\n    const valid = gen.name(\"valid\");\n    if (it.allErrors) {\n        const validArr = gen.let(\"valid\", true);\n        validateItems(() => gen.assign(validArr, false));\n        return validArr;\n    }\n    gen.var(valid, true);\n    validateItems(() => gen.break());\n    return valid;\n    function validateItems(notValid) {\n        const len = gen.const(\"len\", codegen_1._ `${data}.length`);\n        gen.forRange(\"i\", 0, len, (i) => {\n            cxt.subschema({\n                keyword,\n                dataProp: i,\n                dataPropType: subschema_1.Type.Num,\n            }, valid);\n            gen.if(codegen_1.not(valid), notValid);\n        });\n    }\n}\nexports.validateArray = validateArray;\nfunction validateUnion(cxt) {\n    const { gen, schema, keyword, it } = cxt;\n    /* istanbul ignore if */\n    if (!Array.isArray(schema))\n        throw new Error(\"ajv implementation error\");\n    const alwaysValid = schema.some((sch) => util_1.alwaysValidSchema(it, sch));\n    if (alwaysValid && !it.opts.unevaluated)\n        return;\n    const valid = gen.let(\"valid\", false);\n    const schValid = gen.name(\"_valid\");\n    gen.block(() => schema.forEach((_sch, i) => {\n        const schCxt = cxt.subschema({\n            keyword,\n            schemaProp: i,\n            compositeRule: true,\n        }, schValid);\n        gen.assign(valid, codegen_1._ `${valid} || ${schValid}`);\n        const merged = cxt.mergeValidEvaluated(schCxt, schValid);\n        // can short-circuit if `unevaluatedProperties/Items` not supported (opts.unevaluated !== true)\n        // or if all properties and items were evaluated (it.props === true && it.items === true)\n        if (!merged)\n            gen.if(codegen_1.not(valid));\n    }));\n    cxt.result(valid, () => cxt.reset(), () => cxt.error(true));\n}\nexports.validateUnion = validateUnion;\n//# sourceMappingURL=code.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst def = {\n    keyword: \"id\",\n    code() {\n        throw new Error('NOT SUPPORTED: keyword \"id\", use \"$id\" for schema ID');\n    },\n};\nexports.default = def;\n//# sourceMappingURL=id.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst id_1 = require(\"./id\");\nconst ref_1 = require(\"./ref\");\nconst core = [\n    \"$schema\",\n    \"$id\",\n    \"$defs\",\n    \"$vocabulary\",\n    { keyword: \"$comment\" },\n    \"definitions\",\n    id_1.default,\n    ref_1.default,\n];\nexports.default = core;\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.callRef = exports.getValidate = void 0;\nconst error_classes_1 = require(\"../../compile/error_classes\");\nconst code_1 = require(\"../code\");\nconst codegen_1 = require(\"../../compile/codegen\");\nconst names_1 = require(\"../../compile/names\");\nconst compile_1 = require(\"../../compile\");\nconst util_1 = require(\"../../compile/util\");\nconst def = {\n    keyword: \"$ref\",\n    schemaType: \"string\",\n    code(cxt) {\n        const { gen, schema, it } = cxt;\n        const { baseId, schemaEnv: env, validateName, opts, self } = it;\n        // TODO See comment in dynamicRef.ts\n        // This has to be improved to resolve #815.\n        if (schema === \"#\" || schema === \"#/\")\n            return callRootRef();\n        const schOrEnv = compile_1.resolveRef.call(self, env.root, baseId, schema);\n        if (schOrEnv === undefined)\n            throw new error_classes_1.MissingRefError(baseId, schema);\n        if (schOrEnv instanceof compile_1.SchemaEnv)\n            return callValidate(schOrEnv);\n        return inlineRefSchema(schOrEnv);\n        function callRootRef() {\n            if (env === env.root)\n                return callRef(cxt, validateName, env, env.$async);\n            const rootName = gen.scopeValue(\"root\", { ref: env.root });\n            return callRef(cxt, codegen_1._ `${rootName}.validate`, env.root, env.root.$async);\n        }\n        function callValidate(sch) {\n            const v = getValidate(cxt, sch);\n            callRef(cxt, v, sch, sch.$async);\n        }\n        function inlineRefSchema(sch) {\n            const schName = gen.scopeValue(\"schema\", opts.code.source === true ? { ref: sch, code: codegen_1.stringify(sch) } : { ref: sch });\n            const valid = gen.name(\"valid\");\n            const schCxt = cxt.subschema({\n                schema: sch,\n                dataTypes: [],\n                schemaPath: codegen_1.nil,\n                topSchemaRef: schName,\n                errSchemaPath: schema,\n            }, valid);\n            cxt.mergeEvaluated(schCxt);\n            cxt.ok(valid);\n        }\n    },\n};\nfunction getValidate(cxt, sch) {\n    const { gen } = cxt;\n    return sch.validate\n        ? gen.scopeValue(\"validate\", { ref: sch.validate })\n        : codegen_1._ `${gen.scopeValue(\"wrapper\", { ref: sch })}.validate`;\n}\nexports.getValidate = getValidate;\nfunction callRef(cxt, v, sch, $async) {\n    const { gen, it } = cxt;\n    const { allErrors, schemaEnv: env, opts } = it;\n    const passCxt = opts.passContext ? names_1.default.this : codegen_1.nil;\n    if ($async)\n        callAsyncRef();\n    else\n        callSyncRef();\n    function callAsyncRef() {\n        if (!env.$async)\n            throw new Error(\"async schema referenced by sync schema\");\n        const valid = gen.let(\"valid\");\n        gen.try(() => {\n            gen.code(codegen_1._ `await ${code_1.callValidateCode(cxt, v, passCxt)}`);\n            addEvaluatedFrom(v); // TODO will not work with async, it has to be returned with the result\n            if (!allErrors)\n                gen.assign(valid, true);\n        }, (e) => {\n            gen.if(codegen_1._ `!(${e} instanceof ${it.ValidationError})`, () => gen.throw(e));\n            addErrorsFrom(e);\n            if (!allErrors)\n                gen.assign(valid, false);\n        });\n        cxt.ok(valid);\n    }\n    function callSyncRef() {\n        cxt.result(code_1.callValidateCode(cxt, v, passCxt), () => addEvaluatedFrom(v), () => addErrorsFrom(v));\n    }\n    function addErrorsFrom(source) {\n        const errs = codegen_1._ `${source}.errors`;\n        gen.assign(names_1.default.vErrors, codegen_1._ `${names_1.default.vErrors} === null ? ${errs} : ${names_1.default.vErrors}.concat(${errs})`); // TODO tagged\n        gen.assign(names_1.default.errors, codegen_1._ `${names_1.default.vErrors}.length`);\n    }\n    function addEvaluatedFrom(source) {\n        var _a;\n        if (!it.opts.unevaluated)\n            return;\n        const schEvaluated = (_a = sch === null || sch === void 0 ? void 0 : sch.validate) === null || _a === void 0 ? void 0 : _a.evaluated;\n        // TODO refactor\n        if (it.props !== true) {\n            if (schEvaluated && !schEvaluated.dynamicProps) {\n                if (schEvaluated.props !== undefined) {\n                    it.props = util_1.mergeEvaluated.props(gen, schEvaluated.props, it.props);\n                }\n            }\n            else {\n                const props = gen.var(\"props\", codegen_1._ `${source}.evaluated.props`);\n                it.props = util_1.mergeEvaluated.props(gen, props, it.props, codegen_1.Name);\n            }\n        }\n        if (it.items !== true) {\n            if (schEvaluated && !schEvaluated.dynamicItems) {\n                if (schEvaluated.items !== undefined) {\n                    it.items = util_1.mergeEvaluated.items(gen, schEvaluated.items, it.items);\n                }\n            }\n            else {\n                const items = gen.var(\"items\", codegen_1._ `${source}.evaluated.items`);\n                it.items = util_1.mergeEvaluated.items(gen, items, it.items, codegen_1.Name);\n            }\n        }\n    }\n}\nexports.callRef = callRef;\nexports.default = def;\n//# sourceMappingURL=ref.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst core_1 = require(\"./core\");\nconst validation_1 = require(\"./validation\");\nconst applicator_1 = require(\"./applicator\");\nconst format_1 = require(\"./format\");\nconst metadata_1 = require(\"./metadata\");\nconst draft7Vocabularies = [\n    core_1.default,\n    validation_1.default,\n    applicator_1.default,\n    format_1.default,\n    metadata_1.metadataVocabulary,\n    metadata_1.contentVocabulary,\n];\nexports.default = draft7Vocabularies;\n//# sourceMappingURL=draft7.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst error = {\n    message: ({ schemaCode }) => codegen_1.str `should match format \"${schemaCode}\"`,\n    params: ({ schemaCode }) => codegen_1._ `{format: ${schemaCode}}`,\n};\nconst def = {\n    keyword: \"format\",\n    type: [\"number\", \"string\"],\n    schemaType: \"string\",\n    $data: true,\n    error,\n    code(cxt, ruleType) {\n        const { gen, data, $data, schema, schemaCode, it } = cxt;\n        const { opts, errSchemaPath, schemaEnv, self } = it;\n        if (!opts.validateFormats)\n            return;\n        if ($data)\n            validate$DataFormat();\n        else\n            validateFormat();\n        function validate$DataFormat() {\n            const fmts = gen.scopeValue(\"formats\", {\n                ref: self.formats,\n                code: opts.code.formats,\n            });\n            const fDef = gen.const(\"fDef\", codegen_1._ `${fmts}[${schemaCode}]`);\n            const fType = gen.let(\"fType\");\n            const format = gen.let(\"format\");\n            // TODO simplify\n            gen.if(codegen_1._ `typeof ${fDef} == \"object\" && !(${fDef} instanceof RegExp)`, () => gen.assign(fType, codegen_1._ `${fDef}.type || \"string\"`).assign(format, codegen_1._ `${fDef}.validate`), () => gen.assign(fType, codegen_1._ `\"string\"`).assign(format, fDef));\n            cxt.fail$data(codegen_1.or(unknownFmt(), invalidFmt()));\n            function unknownFmt() {\n                if (opts.strict === false)\n                    return codegen_1.nil;\n                return codegen_1._ `${schemaCode} && !${format}`;\n            }\n            function invalidFmt() {\n                const callFormat = schemaEnv.$async\n                    ? codegen_1._ `(${fDef}.async ? await ${format}(${data}) : ${format}(${data}))`\n                    : codegen_1._ `${format}(${data})`;\n                const validData = codegen_1._ `(typeof ${format} == \"function\" ? ${callFormat} : ${format}.test(${data}))`;\n                return codegen_1._ `${format} && ${format} !== true && ${fType} === ${ruleType} && !${validData}`;\n            }\n        }\n        function validateFormat() {\n            const formatDef = self.formats[schema];\n            if (!formatDef) {\n                unknownFormat();\n                return;\n            }\n            if (formatDef === true)\n                return;\n            const [fmtType, format, fmtRef] = getFormat(formatDef);\n            if (fmtType === ruleType)\n                cxt.pass(validCondition());\n            function unknownFormat() {\n                if (opts.strict === false) {\n                    self.logger.warn(unknownMsg());\n                    return;\n                }\n                throw new Error(unknownMsg());\n                function unknownMsg() {\n                    return `unknown format \"${schema}\" ignored in schema at path \"${errSchemaPath}\"`;\n                }\n            }\n            function getFormat(fmtDef) {\n                const fmt = gen.scopeValue(\"formats\", {\n                    key: schema,\n                    ref: fmtDef,\n                    code: opts.code.formats ? codegen_1._ `${opts.code.formats}${codegen_1.getProperty(schema)}` : undefined,\n                });\n                if (typeof fmtDef == \"object\" && !(fmtDef instanceof RegExp)) {\n                    return [fmtDef.type || \"string\", fmtDef.validate, codegen_1._ `${fmt}.validate`];\n                }\n                return [\"string\", fmtDef, fmt];\n            }\n            function validCondition() {\n                if (typeof formatDef == \"object\" && !(formatDef instanceof RegExp) && formatDef.async) {\n                    if (!schemaEnv.$async)\n                        throw new Error(\"async format in sync schema\");\n                    return codegen_1._ `await ${fmtRef}(${data})`;\n                }\n                return typeof format == \"function\" ? codegen_1._ `${fmtRef}(${data})` : codegen_1._ `${fmtRef}.test(${data})`;\n            }\n        }\n    },\n};\nexports.default = def;\n//# sourceMappingURL=format.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst format_1 = require(\"./format\");\nconst format = [format_1.default];\nexports.default = format;\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.contentVocabulary = exports.metadataVocabulary = void 0;\nexports.metadataVocabulary = [\n    \"title\",\n    \"description\",\n    \"default\",\n    \"deprecated\",\n    \"readOnly\",\n    \"writeOnly\",\n    \"examples\",\n];\nexports.contentVocabulary = [\n    \"contentMediaType\",\n    \"contentEncoding\",\n    \"contentSchema\",\n];\n//# sourceMappingURL=metadata.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst equal = require(\"fast-deep-equal\");\nconst error = {\n    message: \"should be equal to constant\",\n    params: ({ schemaCode }) => codegen_1._ `{allowedValue: ${schemaCode}}`,\n};\nconst def = {\n    keyword: \"const\",\n    $data: true,\n    error,\n    code(cxt) {\n        const eql = cxt.gen.scopeValue(\"func\", {\n            ref: equal,\n            code: codegen_1._ `require(\"ajv/dist/compile/equal\")`,\n        });\n        // TODO optimize for scalar values in schema\n        cxt.fail$data(codegen_1._ `!${eql}(${cxt.data}, ${cxt.schemaCode})`);\n    },\n};\nexports.default = def;\n//# sourceMappingURL=const.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst equal = require(\"fast-deep-equal\");\nconst error = {\n    message: \"should be equal to one of the allowed values\",\n    params: ({ schemaCode }) => codegen_1._ `{allowedValues: ${schemaCode}}`,\n};\nconst def = {\n    keyword: \"enum\",\n    schemaType: \"array\",\n    $data: true,\n    error,\n    code(cxt) {\n        const { gen, data, $data, schema, schemaCode, it } = cxt;\n        if (!$data && schema.length === 0)\n            throw new Error(\"enum must have non-empty array\");\n        const useLoop = schema.length >= it.opts.loopEnum;\n        const eql = cxt.gen.scopeValue(\"func\", {\n            ref: equal,\n            code: codegen_1._ `require(\"ajv/dist/compile/equal\")`,\n        });\n        let valid;\n        if (useLoop || $data) {\n            valid = gen.let(\"valid\");\n            cxt.block$data(valid, loopEnum);\n        }\n        else {\n            /* istanbul ignore if */\n            if (!Array.isArray(schema))\n                throw new Error(\"ajv implementation error\");\n            const vSchema = gen.const(\"vSchema\", schemaCode);\n            valid = codegen_1.or(...schema.map((_x, i) => equalCode(vSchema, i)));\n        }\n        cxt.pass(valid);\n        function loopEnum() {\n            gen.assign(valid, false);\n            gen.forOf(\"v\", schemaCode, (v) => gen.if(codegen_1._ `${eql}(${data}, ${v})`, () => gen.assign(valid, true).break()));\n        }\n        function equalCode(vSchema, i) {\n            const sch = schema[i];\n            return sch && typeof sch === \"object\"\n                ? codegen_1._ `${eql}(${data}, ${vSchema}[${i}])`\n                : codegen_1._ `${data} === ${sch}`;\n        }\n    },\n};\nexports.default = def;\n//# sourceMappingURL=enum.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst limitNumber_1 = require(\"./limitNumber\");\nconst multipleOf_1 = require(\"./multipleOf\");\nconst limitLength_1 = require(\"./limitLength\");\nconst pattern_1 = require(\"./pattern\");\nconst limitProperties_1 = require(\"./limitProperties\");\nconst required_1 = require(\"./required\");\nconst limitItems_1 = require(\"./limitItems\");\nconst uniqueItems_1 = require(\"./uniqueItems\");\nconst const_1 = require(\"./const\");\nconst enum_1 = require(\"./enum\");\nconst validation = [\n    // number\n    limitNumber_1.default,\n    multipleOf_1.default,\n    // string\n    limitLength_1.default,\n    pattern_1.default,\n    // object\n    limitProperties_1.default,\n    required_1.default,\n    // array\n    limitItems_1.default,\n    uniqueItems_1.default,\n    // any\n    { keyword: \"type\", schemaType: [\"string\", \"array\"] },\n    { keyword: \"nullable\", schemaType: \"boolean\" },\n    const_1.default,\n    enum_1.default,\n];\nexports.default = validation;\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst error = {\n    message({ keyword, schemaCode }) {\n        const comp = keyword === \"maxItems\" ? \"more\" : \"fewer\";\n        return codegen_1.str `should NOT have ${comp} than ${schemaCode} items`;\n    },\n    params: ({ schemaCode }) => codegen_1._ `{limit: ${schemaCode}}`,\n};\nconst def = {\n    keyword: [\"maxItems\", \"minItems\"],\n    type: \"array\",\n    schemaType: \"number\",\n    $data: true,\n    error,\n    code(cxt) {\n        const { keyword, data, schemaCode } = cxt;\n        const op = keyword === \"maxItems\" ? codegen_1.operators.GT : codegen_1.operators.LT;\n        cxt.fail$data(codegen_1._ `${data}.length ${op} ${schemaCode}`);\n    },\n};\nexports.default = def;\n//# sourceMappingURL=limitItems.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst ucs2length_1 = require(\"../../compile/ucs2length\");\nconst error = {\n    message({ keyword, schemaCode }) {\n        const comp = keyword === \"maxLength\" ? \"more\" : \"fewer\";\n        return codegen_1.str `should NOT have ${comp} than ${schemaCode} characters`;\n    },\n    params: ({ schemaCode }) => codegen_1._ `{limit: ${schemaCode}}`,\n};\nconst def = {\n    keyword: [\"maxLength\", \"minLength\"],\n    type: \"string\",\n    schemaType: \"number\",\n    $data: true,\n    error,\n    code(cxt) {\n        const { keyword, data, schemaCode, it } = cxt;\n        const op = keyword === \"maxLength\" ? codegen_1.operators.GT : codegen_1.operators.LT;\n        let len;\n        if (it.opts.unicode === false) {\n            len = codegen_1._ `${data}.length`;\n        }\n        else {\n            const u2l = cxt.gen.scopeValue(\"func\", {\n                ref: ucs2length_1.default,\n                code: codegen_1._ `require(\"ajv/dist/compile/ucs2length\").default`,\n            });\n            len = codegen_1._ `${u2l}(${data})`;\n        }\n        cxt.fail$data(codegen_1._ `${len} ${op} ${schemaCode}`);\n    },\n};\nexports.default = def;\n//# sourceMappingURL=limitLength.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst ops = codegen_1.operators;\nconst KWDs = {\n    maximum: { okStr: \"<=\", ok: ops.LTE, fail: ops.GT },\n    minimum: { okStr: \">=\", ok: ops.GTE, fail: ops.LT },\n    exclusiveMaximum: { okStr: \"<\", ok: ops.LT, fail: ops.GTE },\n    exclusiveMinimum: { okStr: \">\", ok: ops.GT, fail: ops.LTE },\n};\nconst error = {\n    message: ({ keyword, schemaCode }) => codegen_1.str `should be ${KWDs[keyword].okStr} ${schemaCode}`,\n    params: ({ keyword, schemaCode }) => codegen_1._ `{comparison: ${KWDs[keyword].okStr}, limit: ${schemaCode}}`,\n};\nconst def = {\n    keyword: Object.keys(KWDs),\n    type: \"number\",\n    schemaType: \"number\",\n    $data: true,\n    error,\n    code(cxt) {\n        const { keyword, data, schemaCode } = cxt;\n        cxt.fail$data(codegen_1._ `${data} ${KWDs[keyword].fail} ${schemaCode} || isNaN(${data})`);\n    },\n};\nexports.default = def;\n//# sourceMappingURL=limitNumber.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst error = {\n    message({ keyword, schemaCode }) {\n        const comp = keyword === \"maxProperties\" ? \"more\" : \"fewer\";\n        return codegen_1.str `should NOT have ${comp} than ${schemaCode} items`;\n    },\n    params: ({ schemaCode }) => codegen_1._ `{limit: ${schemaCode}}`,\n};\nconst def = {\n    keyword: [\"maxProperties\", \"minProperties\"],\n    type: \"object\",\n    schemaType: \"number\",\n    $data: true,\n    error,\n    code(cxt) {\n        const { keyword, data, schemaCode } = cxt;\n        const op = keyword === \"maxProperties\" ? codegen_1.operators.GT : codegen_1.operators.LT;\n        cxt.fail$data(codegen_1._ `Object.keys(${data}).length ${op} ${schemaCode}`);\n    },\n};\nexports.default = def;\n//# sourceMappingURL=limitProperties.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst error = {\n    message: ({ schemaCode }) => codegen_1.str `should be multiple of ${schemaCode}`,\n    params: ({ schemaCode }) => codegen_1._ `{multipleOf: ${schemaCode}}`,\n};\nconst def = {\n    keyword: \"multipleOf\",\n    type: \"number\",\n    schemaType: \"number\",\n    $data: true,\n    error,\n    code(cxt) {\n        const { gen, data, schemaCode, it } = cxt;\n        // const bdt = bad$DataType(schemaCode, <string>def.schemaType, $data)\n        const prec = it.opts.multipleOfPrecision;\n        const res = gen.let(\"res\");\n        const invalid = prec\n            ? codegen_1._ `Math.abs(Math.round(${res}) - ${res}) > 1e-${prec}`\n            : codegen_1._ `${res} !== parseInt(${res})`;\n        cxt.fail$data(codegen_1._ `(${schemaCode} === 0 || (${res} = ${data}/${schemaCode}, ${invalid}))`);\n    },\n};\nexports.default = def;\n//# sourceMappingURL=multipleOf.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst code_1 = require(\"../code\");\nconst codegen_1 = require(\"../../compile/codegen\");\nconst error = {\n    message: ({ schemaCode }) => codegen_1.str `should match pattern \"${schemaCode}\"`,\n    params: ({ schemaCode }) => codegen_1._ `{pattern: ${schemaCode}}`,\n};\nconst def = {\n    keyword: \"pattern\",\n    type: \"string\",\n    schemaType: \"string\",\n    $data: true,\n    error,\n    code(cxt) {\n        const { gen, data, $data, schema, schemaCode } = cxt;\n        const regExp = $data ? codegen_1._ `(new RegExp(${schemaCode}, \"u\"))` : code_1.usePattern(gen, schema); // TODO regexp should be wrapped in try/catch\n        cxt.fail$data(codegen_1._ `!${regExp}.test(${data})`);\n    },\n};\nexports.default = def;\n//# sourceMappingURL=pattern.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst code_1 = require(\"../code\");\nconst codegen_1 = require(\"../../compile/codegen\");\nconst validate_1 = require(\"../../compile/validate\");\nconst error = {\n    message: ({ params: { missingProperty } }) => codegen_1.str `should have required property '${missingProperty}'`,\n    params: ({ params: { missingProperty } }) => codegen_1._ `{missingProperty: ${missingProperty}}`,\n};\nconst def = {\n    keyword: \"required\",\n    type: \"object\",\n    schemaType: \"array\",\n    $data: true,\n    error,\n    code(cxt) {\n        const { gen, schema, schemaCode, data, $data, it } = cxt;\n        const { opts } = it;\n        if (!$data && schema.length === 0)\n            return;\n        const useLoop = schema.length >= opts.loopRequired;\n        if (it.allErrors)\n            allErrorsMode();\n        else\n            exitOnErrorMode();\n        if (opts.strictRequired) {\n            const props = cxt.parentSchema.properties;\n            const { definedProperties } = cxt.it;\n            for (const requiredKey of schema) {\n                if ((props === null || props === void 0 ? void 0 : props[requiredKey]) === undefined && !definedProperties.has(requiredKey)) {\n                    const schemaPath = it.schemaEnv.baseId + it.errSchemaPath;\n                    const msg = `required property \"${requiredKey}\" is not defined at \"${schemaPath}\" (strictRequired)`;\n                    validate_1.checkStrictMode(it, msg, it.opts.strictRequired);\n                }\n            }\n        }\n        function allErrorsMode() {\n            if (useLoop || $data) {\n                cxt.block$data(codegen_1.nil, loopAllRequired);\n            }\n            else {\n                for (const prop of schema) {\n                    code_1.checkReportMissingProp(cxt, prop);\n                }\n            }\n        }\n        function exitOnErrorMode() {\n            const missing = gen.let(\"missing\");\n            if (useLoop || $data) {\n                const valid = gen.let(\"valid\", true);\n                cxt.block$data(valid, () => loopUntilMissing(missing, valid));\n                cxt.ok(valid);\n            }\n            else {\n                gen.if(code_1.checkMissingProp(cxt, schema, missing));\n                code_1.reportMissingProp(cxt, missing);\n                gen.else();\n            }\n        }\n        function loopAllRequired() {\n            gen.forOf(\"prop\", schemaCode, (prop) => {\n                cxt.setParams({ missingProperty: prop });\n                gen.if(code_1.noPropertyInData(gen, data, prop, opts.ownProperties), () => cxt.error());\n            });\n        }\n        function loopUntilMissing(missing, valid) {\n            cxt.setParams({ missingProperty: missing });\n            gen.forOf(missing, schemaCode, () => {\n                gen.assign(valid, code_1.propertyInData(gen, data, missing, opts.ownProperties));\n                gen.if(codegen_1.not(valid), () => {\n                    cxt.error();\n                    gen.break();\n                });\n            }, codegen_1.nil);\n        }\n    },\n};\nexports.default = def;\n//# sourceMappingURL=required.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst dataType_1 = require(\"../../compile/validate/dataType\");\nconst codegen_1 = require(\"../../compile/codegen\");\nconst equal = require(\"fast-deep-equal\");\nconst error = {\n    message: ({ params: { i, j } }) => codegen_1.str `should NOT have duplicate items (items ## ${j} and ${i} are identical)`,\n    params: ({ params: { i, j } }) => codegen_1._ `{i: ${i}, j: ${j}}`,\n};\nconst def = {\n    keyword: \"uniqueItems\",\n    type: \"array\",\n    schemaType: \"boolean\",\n    $data: true,\n    error,\n    code(cxt) {\n        const { gen, data, $data, schema, parentSchema, schemaCode, it } = cxt;\n        if (!$data && !schema)\n            return;\n        const valid = gen.let(\"valid\");\n        const itemTypes = parentSchema.items ? dataType_1.getSchemaTypes(parentSchema.items) : [];\n        cxt.block$data(valid, validateUniqueItems, codegen_1._ `${schemaCode} === false`);\n        cxt.ok(valid);\n        function validateUniqueItems() {\n            const i = gen.let(\"i\", codegen_1._ `${data}.length`);\n            const j = gen.let(\"j\");\n            cxt.setParams({ i, j });\n            gen.assign(valid, true);\n            gen.if(codegen_1._ `${i} > 1`, () => (canOptimize() ? loopN : loopN2)(i, j));\n        }\n        function canOptimize() {\n            return itemTypes.length > 0 && !itemTypes.some((t) => t === \"object\" || t === \"array\");\n        }\n        function loopN(i, j) {\n            const item = gen.name(\"item\");\n            const wrongType = dataType_1.checkDataTypes(itemTypes, item, it.opts.strict, dataType_1.DataType.Wrong);\n            const indices = gen.const(\"indices\", codegen_1._ `{}`);\n            gen.for(codegen_1._ `;${i}--;`, () => {\n                gen.let(item, codegen_1._ `${data}[${i}]`);\n                gen.if(wrongType, codegen_1._ `continue`);\n                if (itemTypes.length > 1)\n                    gen.if(codegen_1._ `typeof ${item} == \"string\"`, codegen_1._ `${item} += \"_\"`);\n                gen\n                    .if(codegen_1._ `typeof ${indices}[${item}] == \"number\"`, () => {\n                    gen.assign(j, codegen_1._ `${indices}[${item}]`);\n                    cxt.error();\n                    gen.assign(valid, false).break();\n                })\n                    .code(codegen_1._ `${indices}[${item}] = ${i}`);\n            });\n        }\n        function loopN2(i, j) {\n            const eql = cxt.gen.scopeValue(\"func\", {\n                ref: equal,\n                code: codegen_1._ `require(\"ajv/dist/compile/equal\")`,\n            });\n            const outer = gen.name(\"outer\");\n            gen.label(outer).for(codegen_1._ `;${i}--;`, () => gen.for(codegen_1._ `${j} = ${i}; ${j}--;`, () => gen.if(codegen_1._ `${eql}(${data}[${i}], ${data}[${j}])`, () => {\n                cxt.error();\n                gen.assign(valid, false).break(outer);\n            })));\n        }\n    },\n};\nexports.default = def;\n//# sourceMappingURL=uniqueItems.js.map","/*globals self, window */\n\"use strict\"\n\n/*eslint-disable @mysticatea/prettier */\nconst { AbortController, AbortSignal } =\n    typeof self !== \"undefined\" ? self :\n    typeof window !== \"undefined\" ? window :\n    /* otherwise */ undefined\n/*eslint-enable @mysticatea/prettier */\n\nmodule.exports = AbortController\nmodule.exports.AbortSignal = AbortSignal\nmodule.exports.default = AbortController\n","'use strict'\n\nexports.byteLength = byteLength\nexports.toByteArray = toByteArray\nexports.fromByteArray = fromByteArray\n\nvar lookup = []\nvar revLookup = []\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array\n\nvar code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\nfor (var i = 0, len = code.length; i < len; ++i) {\n  lookup[i] = code[i]\n  revLookup[code.charCodeAt(i)] = i\n}\n\n// Support decoding URL-safe base64 strings, as Node.js does.\n// See: https://en.wikipedia.org/wiki/Base64#URL_applications\nrevLookup['-'.charCodeAt(0)] = 62\nrevLookup['_'.charCodeAt(0)] = 63\n\nfunction getLens (b64) {\n  var len = b64.length\n\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4')\n  }\n\n  // Trim off extra bytes after placeholder bytes are found\n  // See: https://github.com/beatgammit/base64-js/issues/42\n  var validLen = b64.indexOf('=')\n  if (validLen === -1) validLen = len\n\n  var placeHoldersLen = validLen === len\n    ? 0\n    : 4 - (validLen % 4)\n\n  return [validLen, placeHoldersLen]\n}\n\n// base64 is 4/3 + up to two characters of the original data\nfunction byteLength (b64) {\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction _byteLength (b64, validLen, placeHoldersLen) {\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction toByteArray (b64) {\n  var tmp\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n\n  var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen))\n\n  var curByte = 0\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  var len = placeHoldersLen > 0\n    ? validLen - 4\n    : validLen\n\n  var i\n  for (i = 0; i < len; i += 4) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 18) |\n      (revLookup[b64.charCodeAt(i + 1)] << 12) |\n      (revLookup[b64.charCodeAt(i + 2)] << 6) |\n      revLookup[b64.charCodeAt(i + 3)]\n    arr[curByte++] = (tmp >> 16) & 0xFF\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 2) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 2) |\n      (revLookup[b64.charCodeAt(i + 1)] >> 4)\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 1) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 10) |\n      (revLookup[b64.charCodeAt(i + 1)] << 4) |\n      (revLookup[b64.charCodeAt(i + 2)] >> 2)\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  return arr\n}\n\nfunction tripletToBase64 (num) {\n  return lookup[num >> 18 & 0x3F] +\n    lookup[num >> 12 & 0x3F] +\n    lookup[num >> 6 & 0x3F] +\n    lookup[num & 0x3F]\n}\n\nfunction encodeChunk (uint8, start, end) {\n  var tmp\n  var output = []\n  for (var i = start; i < end; i += 3) {\n    tmp =\n      ((uint8[i] << 16) & 0xFF0000) +\n      ((uint8[i + 1] << 8) & 0xFF00) +\n      (uint8[i + 2] & 0xFF)\n    output.push(tripletToBase64(tmp))\n  }\n  return output.join('')\n}\n\nfunction fromByteArray (uint8) {\n  var tmp\n  var len = uint8.length\n  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes\n  var parts = []\n  var maxChunkLength = 16383 // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)))\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 2] +\n      lookup[(tmp << 4) & 0x3F] +\n      '=='\n    )\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 10] +\n      lookup[(tmp >> 4) & 0x3F] +\n      lookup[(tmp << 2) & 0x3F] +\n      '='\n    )\n  }\n\n  return parts.join('')\n}\n","/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <https://feross.org>\n * @license  MIT\n */\n/* eslint-disable no-proto */\n\n'use strict'\n\nconst base64 = require('base64-js')\nconst ieee754 = require('ieee754')\nconst customInspectSymbol =\n  (typeof Symbol === 'function' && typeof Symbol['for'] === 'function') // eslint-disable-line dot-notation\n    ? Symbol['for']('nodejs.util.inspect.custom') // eslint-disable-line dot-notation\n    : null\n\nexports.Buffer = Buffer\nexports.SlowBuffer = SlowBuffer\nexports.INSPECT_MAX_BYTES = 50\n\nconst K_MAX_LENGTH = 0x7fffffff\nexports.kMaxLength = K_MAX_LENGTH\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Print warning and recommend using `buffer` v4.x which has an Object\n *               implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * We report that the browser does not support typed arrays if the are not subclassable\n * using __proto__. Firefox 4-29 lacks support for adding new properties to `Uint8Array`\n * (See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438). IE 10 lacks support\n * for __proto__ and has a buggy typed array implementation.\n */\nBuffer.TYPED_ARRAY_SUPPORT = typedArraySupport()\n\nif (!Buffer.TYPED_ARRAY_SUPPORT && typeof console !== 'undefined' &&\n    typeof console.error === 'function') {\n  console.error(\n    'This browser lacks typed array (Uint8Array) support which is required by ' +\n    '`buffer` v5.x. Use `buffer` v4.x if you require old browser support.'\n  )\n}\n\nfunction typedArraySupport () {\n  // Can typed array instances can be augmented?\n  try {\n    const arr = new Uint8Array(1)\n    const proto = { foo: function () { return 42 } }\n    Object.setPrototypeOf(proto, Uint8Array.prototype)\n    Object.setPrototypeOf(arr, proto)\n    return arr.foo() === 42\n  } catch (e) {\n    return false\n  }\n}\n\nObject.defineProperty(Buffer.prototype, 'parent', {\n  enumerable: true,\n  get: function () {\n    if (!Buffer.isBuffer(this)) return undefined\n    return this.buffer\n  }\n})\n\nObject.defineProperty(Buffer.prototype, 'offset', {\n  enumerable: true,\n  get: function () {\n    if (!Buffer.isBuffer(this)) return undefined\n    return this.byteOffset\n  }\n})\n\nfunction createBuffer (length) {\n  if (length > K_MAX_LENGTH) {\n    throw new RangeError('The value \"' + length + '\" is invalid for option \"size\"')\n  }\n  // Return an augmented `Uint8Array` instance\n  const buf = new Uint8Array(length)\n  Object.setPrototypeOf(buf, Buffer.prototype)\n  return buf\n}\n\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\n\nfunction Buffer (arg, encodingOrOffset, length) {\n  // Common case.\n  if (typeof arg === 'number') {\n    if (typeof encodingOrOffset === 'string') {\n      throw new TypeError(\n        'The \"string\" argument must be of type string. Received type number'\n      )\n    }\n    return allocUnsafe(arg)\n  }\n  return from(arg, encodingOrOffset, length)\n}\n\nBuffer.poolSize = 8192 // not used by this implementation\n\nfunction from (value, encodingOrOffset, length) {\n  if (typeof value === 'string') {\n    return fromString(value, encodingOrOffset)\n  }\n\n  if (ArrayBuffer.isView(value)) {\n    return fromArrayView(value)\n  }\n\n  if (value == null) {\n    throw new TypeError(\n      'The first argument must be one of type string, Buffer, ArrayBuffer, Array, ' +\n      'or Array-like Object. Received type ' + (typeof value)\n    )\n  }\n\n  if (isInstance(value, ArrayBuffer) ||\n      (value && isInstance(value.buffer, ArrayBuffer))) {\n    return fromArrayBuffer(value, encodingOrOffset, length)\n  }\n\n  if (typeof SharedArrayBuffer !== 'undefined' &&\n      (isInstance(value, SharedArrayBuffer) ||\n      (value && isInstance(value.buffer, SharedArrayBuffer)))) {\n    return fromArrayBuffer(value, encodingOrOffset, length)\n  }\n\n  if (typeof value === 'number') {\n    throw new TypeError(\n      'The \"value\" argument must not be of type number. Received type number'\n    )\n  }\n\n  const valueOf = value.valueOf && value.valueOf()\n  if (valueOf != null && valueOf !== value) {\n    return Buffer.from(valueOf, encodingOrOffset, length)\n  }\n\n  const b = fromObject(value)\n  if (b) return b\n\n  if (typeof Symbol !== 'undefined' && Symbol.toPrimitive != null &&\n      typeof value[Symbol.toPrimitive] === 'function') {\n    return Buffer.from(value[Symbol.toPrimitive]('string'), encodingOrOffset, length)\n  }\n\n  throw new TypeError(\n    'The first argument must be one of type string, Buffer, ArrayBuffer, Array, ' +\n    'or Array-like Object. Received type ' + (typeof value)\n  )\n}\n\n/**\n * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n * if value is a number.\n * Buffer.from(str[, encoding])\n * Buffer.from(array)\n * Buffer.from(buffer)\n * Buffer.from(arrayBuffer[, byteOffset[, length]])\n **/\nBuffer.from = function (value, encodingOrOffset, length) {\n  return from(value, encodingOrOffset, length)\n}\n\n// Note: Change prototype *after* Buffer.from is defined to workaround Chrome bug:\n// https://github.com/feross/buffer/pull/148\nObject.setPrototypeOf(Buffer.prototype, Uint8Array.prototype)\nObject.setPrototypeOf(Buffer, Uint8Array)\n\nfunction assertSize (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be of type number')\n  } else if (size < 0) {\n    throw new RangeError('The value \"' + size + '\" is invalid for option \"size\"')\n  }\n}\n\nfunction alloc (size, fill, encoding) {\n  assertSize(size)\n  if (size <= 0) {\n    return createBuffer(size)\n  }\n  if (fill !== undefined) {\n    // Only pay attention to encoding if it's a string. This\n    // prevents accidentally sending in a number that would\n    // be interpreted as a start offset.\n    return typeof encoding === 'string'\n      ? createBuffer(size).fill(fill, encoding)\n      : createBuffer(size).fill(fill)\n  }\n  return createBuffer(size)\n}\n\n/**\n * Creates a new filled Buffer instance.\n * alloc(size[, fill[, encoding]])\n **/\nBuffer.alloc = function (size, fill, encoding) {\n  return alloc(size, fill, encoding)\n}\n\nfunction allocUnsafe (size) {\n  assertSize(size)\n  return createBuffer(size < 0 ? 0 : checked(size) | 0)\n}\n\n/**\n * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n * */\nBuffer.allocUnsafe = function (size) {\n  return allocUnsafe(size)\n}\n/**\n * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n */\nBuffer.allocUnsafeSlow = function (size) {\n  return allocUnsafe(size)\n}\n\nfunction fromString (string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8'\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('Unknown encoding: ' + encoding)\n  }\n\n  const length = byteLength(string, encoding) | 0\n  let buf = createBuffer(length)\n\n  const actual = buf.write(string, encoding)\n\n  if (actual !== length) {\n    // Writing a hex string, for example, that contains invalid characters will\n    // cause everything after the first invalid character to be ignored. (e.g.\n    // 'abxxcd' will be treated as 'ab')\n    buf = buf.slice(0, actual)\n  }\n\n  return buf\n}\n\nfunction fromArrayLike (array) {\n  const length = array.length < 0 ? 0 : checked(array.length) | 0\n  const buf = createBuffer(length)\n  for (let i = 0; i < length; i += 1) {\n    buf[i] = array[i] & 255\n  }\n  return buf\n}\n\nfunction fromArrayView (arrayView) {\n  if (isInstance(arrayView, Uint8Array)) {\n    const copy = new Uint8Array(arrayView)\n    return fromArrayBuffer(copy.buffer, copy.byteOffset, copy.byteLength)\n  }\n  return fromArrayLike(arrayView)\n}\n\nfunction fromArrayBuffer (array, byteOffset, length) {\n  if (byteOffset < 0 || array.byteLength < byteOffset) {\n    throw new RangeError('\"offset\" is outside of buffer bounds')\n  }\n\n  if (array.byteLength < byteOffset + (length || 0)) {\n    throw new RangeError('\"length\" is outside of buffer bounds')\n  }\n\n  let buf\n  if (byteOffset === undefined && length === undefined) {\n    buf = new Uint8Array(array)\n  } else if (length === undefined) {\n    buf = new Uint8Array(array, byteOffset)\n  } else {\n    buf = new Uint8Array(array, byteOffset, length)\n  }\n\n  // Return an augmented `Uint8Array` instance\n  Object.setPrototypeOf(buf, Buffer.prototype)\n\n  return buf\n}\n\nfunction fromObject (obj) {\n  if (Buffer.isBuffer(obj)) {\n    const len = checked(obj.length) | 0\n    const buf = createBuffer(len)\n\n    if (buf.length === 0) {\n      return buf\n    }\n\n    obj.copy(buf, 0, 0, len)\n    return buf\n  }\n\n  if (obj.length !== undefined) {\n    if (typeof obj.length !== 'number' || numberIsNaN(obj.length)) {\n      return createBuffer(0)\n    }\n    return fromArrayLike(obj)\n  }\n\n  if (obj.type === 'Buffer' && Array.isArray(obj.data)) {\n    return fromArrayLike(obj.data)\n  }\n}\n\nfunction checked (length) {\n  // Note: cannot use `length < K_MAX_LENGTH` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= K_MAX_LENGTH) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n                         'size: 0x' + K_MAX_LENGTH.toString(16) + ' bytes')\n  }\n  return length | 0\n}\n\nfunction SlowBuffer (length) {\n  if (+length != length) { // eslint-disable-line eqeqeq\n    length = 0\n  }\n  return Buffer.alloc(+length)\n}\n\nBuffer.isBuffer = function isBuffer (b) {\n  return b != null && b._isBuffer === true &&\n    b !== Buffer.prototype // so Buffer.isBuffer(Buffer.prototype) will be false\n}\n\nBuffer.compare = function compare (a, b) {\n  if (isInstance(a, Uint8Array)) a = Buffer.from(a, a.offset, a.byteLength)\n  if (isInstance(b, Uint8Array)) b = Buffer.from(b, b.offset, b.byteLength)\n  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n    throw new TypeError(\n      'The \"buf1\", \"buf2\" arguments must be one of type Buffer or Uint8Array'\n    )\n  }\n\n  if (a === b) return 0\n\n  let x = a.length\n  let y = b.length\n\n  for (let i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i]\n      y = b[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function isEncoding (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'latin1':\n    case 'binary':\n    case 'base64':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function concat (list, length) {\n  if (!Array.isArray(list)) {\n    throw new TypeError('\"list\" argument must be an Array of Buffers')\n  }\n\n  if (list.length === 0) {\n    return Buffer.alloc(0)\n  }\n\n  let i\n  if (length === undefined) {\n    length = 0\n    for (i = 0; i < list.length; ++i) {\n      length += list[i].length\n    }\n  }\n\n  const buffer = Buffer.allocUnsafe(length)\n  let pos = 0\n  for (i = 0; i < list.length; ++i) {\n    let buf = list[i]\n    if (isInstance(buf, Uint8Array)) {\n      if (pos + buf.length > buffer.length) {\n        if (!Buffer.isBuffer(buf)) buf = Buffer.from(buf)\n        buf.copy(buffer, pos)\n      } else {\n        Uint8Array.prototype.set.call(\n          buffer,\n          buf,\n          pos\n        )\n      }\n    } else if (!Buffer.isBuffer(buf)) {\n      throw new TypeError('\"list\" argument must be an Array of Buffers')\n    } else {\n      buf.copy(buffer, pos)\n    }\n    pos += buf.length\n  }\n  return buffer\n}\n\nfunction byteLength (string, encoding) {\n  if (Buffer.isBuffer(string)) {\n    return string.length\n  }\n  if (ArrayBuffer.isView(string) || isInstance(string, ArrayBuffer)) {\n    return string.byteLength\n  }\n  if (typeof string !== 'string') {\n    throw new TypeError(\n      'The \"string\" argument must be one of type string, Buffer, or ArrayBuffer. ' +\n      'Received type ' + typeof string\n    )\n  }\n\n  const len = string.length\n  const mustMatch = (arguments.length > 2 && arguments[2] === true)\n  if (!mustMatch && len === 0) return 0\n\n  // Use a for loop to avoid recursion\n  let loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return len\n      case 'utf8':\n      case 'utf-8':\n        return utf8ToBytes(string).length\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2\n      case 'hex':\n        return len >>> 1\n      case 'base64':\n        return base64ToBytes(string).length\n      default:\n        if (loweredCase) {\n          return mustMatch ? -1 : utf8ToBytes(string).length // assume utf8\n        }\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\nBuffer.byteLength = byteLength\n\nfunction slowToString (encoding, start, end) {\n  let loweredCase = false\n\n  // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n  // property of a typed array.\n\n  // This behaves neither like String nor Uint8Array in that we set start/end\n  // to their upper/lower bounds if the value passed is out of range.\n  // undefined is handled specially as per ECMA-262 6th Edition,\n  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n  if (start === undefined || start < 0) {\n    start = 0\n  }\n  // Return early if start > this.length. Done here to prevent potential uint32\n  // coercion fail below.\n  if (start > this.length) {\n    return ''\n  }\n\n  if (end === undefined || end > this.length) {\n    end = this.length\n  }\n\n  if (end <= 0) {\n    return ''\n  }\n\n  // Force coercion to uint32. This will also coerce falsey/NaN values to 0.\n  end >>>= 0\n  start >>>= 0\n\n  if (end <= start) {\n    return ''\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Slice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\n// This property is used by `Buffer.isBuffer` (and the `is-buffer` npm package)\n// to detect a Buffer instance. It's not possible to use `instanceof Buffer`\n// reliably in a browserify context because there could be multiple different\n// copies of the 'buffer' package in use. This method works even for Buffer\n// instances that were created from another copy of the `buffer` package.\n// See: https://github.com/feross/buffer/issues/154\nBuffer.prototype._isBuffer = true\n\nfunction swap (b, n, m) {\n  const i = b[n]\n  b[n] = b[m]\n  b[m] = i\n}\n\nBuffer.prototype.swap16 = function swap16 () {\n  const len = this.length\n  if (len % 2 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 16-bits')\n  }\n  for (let i = 0; i < len; i += 2) {\n    swap(this, i, i + 1)\n  }\n  return this\n}\n\nBuffer.prototype.swap32 = function swap32 () {\n  const len = this.length\n  if (len % 4 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 32-bits')\n  }\n  for (let i = 0; i < len; i += 4) {\n    swap(this, i, i + 3)\n    swap(this, i + 1, i + 2)\n  }\n  return this\n}\n\nBuffer.prototype.swap64 = function swap64 () {\n  const len = this.length\n  if (len % 8 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 64-bits')\n  }\n  for (let i = 0; i < len; i += 8) {\n    swap(this, i, i + 7)\n    swap(this, i + 1, i + 6)\n    swap(this, i + 2, i + 5)\n    swap(this, i + 3, i + 4)\n  }\n  return this\n}\n\nBuffer.prototype.toString = function toString () {\n  const length = this.length\n  if (length === 0) return ''\n  if (arguments.length === 0) return utf8Slice(this, 0, length)\n  return slowToString.apply(this, arguments)\n}\n\nBuffer.prototype.toLocaleString = Buffer.prototype.toString\n\nBuffer.prototype.equals = function equals (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function inspect () {\n  let str = ''\n  const max = exports.INSPECT_MAX_BYTES\n  str = this.toString('hex', 0, max).replace(/(.{2})/g, '$1 ').trim()\n  if (this.length > max) str += ' ... '\n  return '<Buffer ' + str + '>'\n}\nif (customInspectSymbol) {\n  Buffer.prototype[customInspectSymbol] = Buffer.prototype.inspect\n}\n\nBuffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {\n  if (isInstance(target, Uint8Array)) {\n    target = Buffer.from(target, target.offset, target.byteLength)\n  }\n  if (!Buffer.isBuffer(target)) {\n    throw new TypeError(\n      'The \"target\" argument must be one of type Buffer or Uint8Array. ' +\n      'Received type ' + (typeof target)\n    )\n  }\n\n  if (start === undefined) {\n    start = 0\n  }\n  if (end === undefined) {\n    end = target ? target.length : 0\n  }\n  if (thisStart === undefined) {\n    thisStart = 0\n  }\n  if (thisEnd === undefined) {\n    thisEnd = this.length\n  }\n\n  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n    throw new RangeError('out of range index')\n  }\n\n  if (thisStart >= thisEnd && start >= end) {\n    return 0\n  }\n  if (thisStart >= thisEnd) {\n    return -1\n  }\n  if (start >= end) {\n    return 1\n  }\n\n  start >>>= 0\n  end >>>= 0\n  thisStart >>>= 0\n  thisEnd >>>= 0\n\n  if (this === target) return 0\n\n  let x = thisEnd - thisStart\n  let y = end - start\n  const len = Math.min(x, y)\n\n  const thisCopy = this.slice(thisStart, thisEnd)\n  const targetCopy = target.slice(start, end)\n\n  for (let i = 0; i < len; ++i) {\n    if (thisCopy[i] !== targetCopy[i]) {\n      x = thisCopy[i]\n      y = targetCopy[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\n// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n//\n// Arguments:\n// - buffer - a Buffer to search\n// - val - a string, Buffer, or number\n// - byteOffset - an index into `buffer`; will be clamped to an int32\n// - encoding - an optional encoding, relevant is val is a string\n// - dir - true for indexOf, false for lastIndexOf\nfunction bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {\n  // Empty buffer means no match\n  if (buffer.length === 0) return -1\n\n  // Normalize byteOffset\n  if (typeof byteOffset === 'string') {\n    encoding = byteOffset\n    byteOffset = 0\n  } else if (byteOffset > 0x7fffffff) {\n    byteOffset = 0x7fffffff\n  } else if (byteOffset < -0x80000000) {\n    byteOffset = -0x80000000\n  }\n  byteOffset = +byteOffset // Coerce to Number.\n  if (numberIsNaN(byteOffset)) {\n    // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n    byteOffset = dir ? 0 : (buffer.length - 1)\n  }\n\n  // Normalize byteOffset: negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = buffer.length + byteOffset\n  if (byteOffset >= buffer.length) {\n    if (dir) return -1\n    else byteOffset = buffer.length - 1\n  } else if (byteOffset < 0) {\n    if (dir) byteOffset = 0\n    else return -1\n  }\n\n  // Normalize val\n  if (typeof val === 'string') {\n    val = Buffer.from(val, encoding)\n  }\n\n  // Finally, search either indexOf (if dir is true) or lastIndexOf\n  if (Buffer.isBuffer(val)) {\n    // Special case: looking for empty string/buffer always fails\n    if (val.length === 0) {\n      return -1\n    }\n    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)\n  } else if (typeof val === 'number') {\n    val = val & 0xFF // Search for a byte value [0-255]\n    if (typeof Uint8Array.prototype.indexOf === 'function') {\n      if (dir) {\n        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)\n      } else {\n        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)\n      }\n    }\n    return arrayIndexOf(buffer, [val], byteOffset, encoding, dir)\n  }\n\n  throw new TypeError('val must be string, number or Buffer')\n}\n\nfunction arrayIndexOf (arr, val, byteOffset, encoding, dir) {\n  let indexSize = 1\n  let arrLength = arr.length\n  let valLength = val.length\n\n  if (encoding !== undefined) {\n    encoding = String(encoding).toLowerCase()\n    if (encoding === 'ucs2' || encoding === 'ucs-2' ||\n        encoding === 'utf16le' || encoding === 'utf-16le') {\n      if (arr.length < 2 || val.length < 2) {\n        return -1\n      }\n      indexSize = 2\n      arrLength /= 2\n      valLength /= 2\n      byteOffset /= 2\n    }\n  }\n\n  function read (buf, i) {\n    if (indexSize === 1) {\n      return buf[i]\n    } else {\n      return buf.readUInt16BE(i * indexSize)\n    }\n  }\n\n  let i\n  if (dir) {\n    let foundIndex = -1\n    for (i = byteOffset; i < arrLength; i++) {\n      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n        if (foundIndex === -1) foundIndex = i\n        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize\n      } else {\n        if (foundIndex !== -1) i -= i - foundIndex\n        foundIndex = -1\n      }\n    }\n  } else {\n    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength\n    for (i = byteOffset; i >= 0; i--) {\n      let found = true\n      for (let j = 0; j < valLength; j++) {\n        if (read(arr, i + j) !== read(val, j)) {\n          found = false\n          break\n        }\n      }\n      if (found) return i\n    }\n  }\n\n  return -1\n}\n\nBuffer.prototype.includes = function includes (val, byteOffset, encoding) {\n  return this.indexOf(val, byteOffset, encoding) !== -1\n}\n\nBuffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)\n}\n\nBuffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  const remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  const strLen = string.length\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  let i\n  for (i = 0; i < length; ++i) {\n    const parsed = parseInt(string.substr(i * 2, 2), 16)\n    if (numberIsNaN(parsed)) return i\n    buf[offset + i] = parsed\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length)\n}\n\nfunction ucs2Write (buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nBuffer.prototype.write = function write (string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8'\n    length = this.length\n    offset = 0\n  // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset\n    length = this.length\n    offset = 0\n  // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset >>> 0\n    if (isFinite(length)) {\n      length = length >>> 0\n      if (encoding === undefined) encoding = 'utf8'\n    } else {\n      encoding = length\n      length = undefined\n    }\n  } else {\n    throw new Error(\n      'Buffer.write(string, encoding, offset[, length]) is no longer supported'\n    )\n  }\n\n  const remaining = this.length - offset\n  if (length === undefined || length > remaining) length = remaining\n\n  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n    throw new RangeError('Attempt to write outside buffer bounds')\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  let loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length)\n\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return asciiWrite(this, string, offset, length)\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toJSON = function toJSON () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  end = Math.min(buf.length, end)\n  const res = []\n\n  let i = start\n  while (i < end) {\n    const firstByte = buf[i]\n    let codePoint = null\n    let bytesPerSequence = (firstByte > 0xEF)\n      ? 4\n      : (firstByte > 0xDF)\n          ? 3\n          : (firstByte > 0xBF)\n              ? 2\n              : 1\n\n    if (i + bytesPerSequence <= end) {\n      let secondByte, thirdByte, fourthByte, tempCodePoint\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte\n          }\n          break\n        case 2:\n          secondByte = buf[i + 1]\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 3:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 4:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          fourthByte = buf[i + 3]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint\n            }\n          }\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD\n      bytesPerSequence = 1\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800)\n      codePoint = 0xDC00 | codePoint & 0x3FF\n    }\n\n    res.push(codePoint)\n    i += bytesPerSequence\n  }\n\n  return decodeCodePointsArray(res)\n}\n\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nconst MAX_ARGUMENTS_LENGTH = 0x1000\n\nfunction decodeCodePointsArray (codePoints) {\n  const len = codePoints.length\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n  }\n\n  // Decode in chunks to avoid \"call stack size exceeded\".\n  let res = ''\n  let i = 0\n  while (i < len) {\n    res += String.fromCharCode.apply(\n      String,\n      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n    )\n  }\n  return res\n}\n\nfunction asciiSlice (buf, start, end) {\n  let ret = ''\n  end = Math.min(buf.length, end)\n\n  for (let i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i] & 0x7F)\n  }\n  return ret\n}\n\nfunction latin1Slice (buf, start, end) {\n  let ret = ''\n  end = Math.min(buf.length, end)\n\n  for (let i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  const len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  let out = ''\n  for (let i = start; i < end; ++i) {\n    out += hexSliceLookupTable[buf[i]]\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  const bytes = buf.slice(start, end)\n  let res = ''\n  // If bytes.length is odd, the last 8 bits must be ignored (same as node.js)\n  for (let i = 0; i < bytes.length - 1; i += 2) {\n    res += String.fromCharCode(bytes[i] + (bytes[i + 1] * 256))\n  }\n  return res\n}\n\nBuffer.prototype.slice = function slice (start, end) {\n  const len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len\n    if (start < 0) start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0) end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start) end = start\n\n  const newBuf = this.subarray(start, end)\n  // Return an augmented `Uint8Array` instance\n  Object.setPrototypeOf(newBuf, Buffer.prototype)\n\n  return newBuf\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUintLE =\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  let val = this[offset]\n  let mul = 1\n  let i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUintBE =\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length)\n  }\n\n  let val = this[offset + --byteLength]\n  let mul = 1\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUint8 =\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUint16LE =\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUint16BE =\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUint32LE =\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUint32BE =\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n    ((this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    this[offset + 3])\n}\n\nBuffer.prototype.readBigUInt64LE = defineBigIntMethod(function readBigUInt64LE (offset) {\n  offset = offset >>> 0\n  validateNumber(offset, 'offset')\n  const first = this[offset]\n  const last = this[offset + 7]\n  if (first === undefined || last === undefined) {\n    boundsError(offset, this.length - 8)\n  }\n\n  const lo = first +\n    this[++offset] * 2 ** 8 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 24\n\n  const hi = this[++offset] +\n    this[++offset] * 2 ** 8 +\n    this[++offset] * 2 ** 16 +\n    last * 2 ** 24\n\n  return BigInt(lo) + (BigInt(hi) << BigInt(32))\n})\n\nBuffer.prototype.readBigUInt64BE = defineBigIntMethod(function readBigUInt64BE (offset) {\n  offset = offset >>> 0\n  validateNumber(offset, 'offset')\n  const first = this[offset]\n  const last = this[offset + 7]\n  if (first === undefined || last === undefined) {\n    boundsError(offset, this.length - 8)\n  }\n\n  const hi = first * 2 ** 24 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 8 +\n    this[++offset]\n\n  const lo = this[++offset] * 2 ** 24 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 8 +\n    last\n\n  return (BigInt(hi) << BigInt(32)) + BigInt(lo)\n})\n\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  let val = this[offset]\n  let mul = 1\n  let i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  let i = byteLength\n  let mul = 1\n  let val = this[offset + --i]\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80)) return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  const val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  const val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n    (this[offset + 1] << 8) |\n    (this[offset + 2] << 16) |\n    (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n    (this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    (this[offset + 3])\n}\n\nBuffer.prototype.readBigInt64LE = defineBigIntMethod(function readBigInt64LE (offset) {\n  offset = offset >>> 0\n  validateNumber(offset, 'offset')\n  const first = this[offset]\n  const last = this[offset + 7]\n  if (first === undefined || last === undefined) {\n    boundsError(offset, this.length - 8)\n  }\n\n  const val = this[offset + 4] +\n    this[offset + 5] * 2 ** 8 +\n    this[offset + 6] * 2 ** 16 +\n    (last << 24) // Overflow\n\n  return (BigInt(val) << BigInt(32)) +\n    BigInt(first +\n    this[++offset] * 2 ** 8 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 24)\n})\n\nBuffer.prototype.readBigInt64BE = defineBigIntMethod(function readBigInt64BE (offset) {\n  offset = offset >>> 0\n  validateNumber(offset, 'offset')\n  const first = this[offset]\n  const last = this[offset + 7]\n  if (first === undefined || last === undefined) {\n    boundsError(offset, this.length - 8)\n  }\n\n  const val = (first << 24) + // Overflow\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 8 +\n    this[++offset]\n\n  return (BigInt(val) << BigInt(32)) +\n    BigInt(this[++offset] * 2 ** 24 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 8 +\n    last)\n})\n\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!Buffer.isBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n}\n\nBuffer.prototype.writeUintLE =\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    const maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  let mul = 1\n  let i = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUintBE =\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    const maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  let i = byteLength - 1\n  let mul = 1\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUint8 =\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeUint16LE =\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  return offset + 2\n}\n\nBuffer.prototype.writeUint16BE =\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  this[offset] = (value >>> 8)\n  this[offset + 1] = (value & 0xff)\n  return offset + 2\n}\n\nBuffer.prototype.writeUint32LE =\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  this[offset + 3] = (value >>> 24)\n  this[offset + 2] = (value >>> 16)\n  this[offset + 1] = (value >>> 8)\n  this[offset] = (value & 0xff)\n  return offset + 4\n}\n\nBuffer.prototype.writeUint32BE =\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  this[offset] = (value >>> 24)\n  this[offset + 1] = (value >>> 16)\n  this[offset + 2] = (value >>> 8)\n  this[offset + 3] = (value & 0xff)\n  return offset + 4\n}\n\nfunction wrtBigUInt64LE (buf, value, offset, min, max) {\n  checkIntBI(value, min, max, buf, offset, 7)\n\n  let lo = Number(value & BigInt(0xffffffff))\n  buf[offset++] = lo\n  lo = lo >> 8\n  buf[offset++] = lo\n  lo = lo >> 8\n  buf[offset++] = lo\n  lo = lo >> 8\n  buf[offset++] = lo\n  let hi = Number(value >> BigInt(32) & BigInt(0xffffffff))\n  buf[offset++] = hi\n  hi = hi >> 8\n  buf[offset++] = hi\n  hi = hi >> 8\n  buf[offset++] = hi\n  hi = hi >> 8\n  buf[offset++] = hi\n  return offset\n}\n\nfunction wrtBigUInt64BE (buf, value, offset, min, max) {\n  checkIntBI(value, min, max, buf, offset, 7)\n\n  let lo = Number(value & BigInt(0xffffffff))\n  buf[offset + 7] = lo\n  lo = lo >> 8\n  buf[offset + 6] = lo\n  lo = lo >> 8\n  buf[offset + 5] = lo\n  lo = lo >> 8\n  buf[offset + 4] = lo\n  let hi = Number(value >> BigInt(32) & BigInt(0xffffffff))\n  buf[offset + 3] = hi\n  hi = hi >> 8\n  buf[offset + 2] = hi\n  hi = hi >> 8\n  buf[offset + 1] = hi\n  hi = hi >> 8\n  buf[offset] = hi\n  return offset + 8\n}\n\nBuffer.prototype.writeBigUInt64LE = defineBigIntMethod(function writeBigUInt64LE (value, offset = 0) {\n  return wrtBigUInt64LE(this, value, offset, BigInt(0), BigInt('0xffffffffffffffff'))\n})\n\nBuffer.prototype.writeBigUInt64BE = defineBigIntMethod(function writeBigUInt64BE (value, offset = 0) {\n  return wrtBigUInt64BE(this, value, offset, BigInt(0), BigInt('0xffffffffffffffff'))\n})\n\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    const limit = Math.pow(2, (8 * byteLength) - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  let i = 0\n  let mul = 1\n  let sub = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    const limit = Math.pow(2, (8 * byteLength) - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  let i = byteLength - 1\n  let mul = 1\n  let sub = 0\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  this[offset] = (value >>> 8)\n  this[offset + 1] = (value & 0xff)\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  this[offset + 2] = (value >>> 16)\n  this[offset + 3] = (value >>> 24)\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  this[offset] = (value >>> 24)\n  this[offset + 1] = (value >>> 16)\n  this[offset + 2] = (value >>> 8)\n  this[offset + 3] = (value & 0xff)\n  return offset + 4\n}\n\nBuffer.prototype.writeBigInt64LE = defineBigIntMethod(function writeBigInt64LE (value, offset = 0) {\n  return wrtBigUInt64LE(this, value, offset, -BigInt('0x8000000000000000'), BigInt('0x7fffffffffffffff'))\n})\n\nBuffer.prototype.writeBigInt64BE = defineBigIntMethod(function writeBigInt64BE (value, offset = 0) {\n  return wrtBigUInt64BE(this, value, offset, -BigInt('0x8000000000000000'), BigInt('0x7fffffffffffffff'))\n})\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n  if (offset < 0) throw new RangeError('Index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n  if (!Buffer.isBuffer(target)) throw new TypeError('argument should be a Buffer')\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (targetStart >= target.length) targetStart = target.length\n  if (!targetStart) targetStart = 0\n  if (end > 0 && end < start) end = start\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || this.length === 0) return 0\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds')\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('Index out of range')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length) end = this.length\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start\n  }\n\n  const len = end - start\n\n  if (this === target && typeof Uint8Array.prototype.copyWithin === 'function') {\n    // Use built-in when available, missing from IE11\n    this.copyWithin(targetStart, start, end)\n  } else {\n    Uint8Array.prototype.set.call(\n      target,\n      this.subarray(start, end),\n      targetStart\n    )\n  }\n\n  return len\n}\n\n// Usage:\n//    buffer.fill(number[, offset[, end]])\n//    buffer.fill(buffer[, offset[, end]])\n//    buffer.fill(string[, offset[, end]][, encoding])\nBuffer.prototype.fill = function fill (val, start, end, encoding) {\n  // Handle string cases:\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      encoding = start\n      start = 0\n      end = this.length\n    } else if (typeof end === 'string') {\n      encoding = end\n      end = this.length\n    }\n    if (encoding !== undefined && typeof encoding !== 'string') {\n      throw new TypeError('encoding must be a string')\n    }\n    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n      throw new TypeError('Unknown encoding: ' + encoding)\n    }\n    if (val.length === 1) {\n      const code = val.charCodeAt(0)\n      if ((encoding === 'utf8' && code < 128) ||\n          encoding === 'latin1') {\n        // Fast path: If `val` fits into a single byte, use that numeric value.\n        val = code\n      }\n    }\n  } else if (typeof val === 'number') {\n    val = val & 255\n  } else if (typeof val === 'boolean') {\n    val = Number(val)\n  }\n\n  // Invalid ranges are not set to a default, so can range check early.\n  if (start < 0 || this.length < start || this.length < end) {\n    throw new RangeError('Out of range index')\n  }\n\n  if (end <= start) {\n    return this\n  }\n\n  start = start >>> 0\n  end = end === undefined ? this.length : end >>> 0\n\n  if (!val) val = 0\n\n  let i\n  if (typeof val === 'number') {\n    for (i = start; i < end; ++i) {\n      this[i] = val\n    }\n  } else {\n    const bytes = Buffer.isBuffer(val)\n      ? val\n      : Buffer.from(val, encoding)\n    const len = bytes.length\n    if (len === 0) {\n      throw new TypeError('The value \"' + val +\n        '\" is invalid for argument \"value\"')\n    }\n    for (i = 0; i < end - start; ++i) {\n      this[i + start] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n// CUSTOM ERRORS\n// =============\n\n// Simplified versions from Node, changed for Buffer-only usage\nconst errors = {}\nfunction E (sym, getMessage, Base) {\n  errors[sym] = class NodeError extends Base {\n    constructor () {\n      super()\n\n      Object.defineProperty(this, 'message', {\n        value: getMessage.apply(this, arguments),\n        writable: true,\n        configurable: true\n      })\n\n      // Add the error code to the name to include it in the stack trace.\n      this.name = `${this.name} [${sym}]`\n      // Access the stack to generate the error message including the error code\n      // from the name.\n      this.stack // eslint-disable-line no-unused-expressions\n      // Reset the name to the actual name.\n      delete this.name\n    }\n\n    get code () {\n      return sym\n    }\n\n    set code (value) {\n      Object.defineProperty(this, 'code', {\n        configurable: true,\n        enumerable: true,\n        value,\n        writable: true\n      })\n    }\n\n    toString () {\n      return `${this.name} [${sym}]: ${this.message}`\n    }\n  }\n}\n\nE('ERR_BUFFER_OUT_OF_BOUNDS',\n  function (name) {\n    if (name) {\n      return `${name} is outside of buffer bounds`\n    }\n\n    return 'Attempt to access memory outside buffer bounds'\n  }, RangeError)\nE('ERR_INVALID_ARG_TYPE',\n  function (name, actual) {\n    return `The \"${name}\" argument must be of type number. Received type ${typeof actual}`\n  }, TypeError)\nE('ERR_OUT_OF_RANGE',\n  function (str, range, input) {\n    let msg = `The value of \"${str}\" is out of range.`\n    let received = input\n    if (Number.isInteger(input) && Math.abs(input) > 2 ** 32) {\n      received = addNumericalSeparator(String(input))\n    } else if (typeof input === 'bigint') {\n      received = String(input)\n      if (input > BigInt(2) ** BigInt(32) || input < -(BigInt(2) ** BigInt(32))) {\n        received = addNumericalSeparator(received)\n      }\n      received += 'n'\n    }\n    msg += ` It must be ${range}. Received ${received}`\n    return msg\n  }, RangeError)\n\nfunction addNumericalSeparator (val) {\n  let res = ''\n  let i = val.length\n  const start = val[0] === '-' ? 1 : 0\n  for (; i >= start + 4; i -= 3) {\n    res = `_${val.slice(i - 3, i)}${res}`\n  }\n  return `${val.slice(0, i)}${res}`\n}\n\n// CHECK FUNCTIONS\n// ===============\n\nfunction checkBounds (buf, offset, byteLength) {\n  validateNumber(offset, 'offset')\n  if (buf[offset] === undefined || buf[offset + byteLength] === undefined) {\n    boundsError(offset, buf.length - (byteLength + 1))\n  }\n}\n\nfunction checkIntBI (value, min, max, buf, offset, byteLength) {\n  if (value > max || value < min) {\n    const n = typeof min === 'bigint' ? 'n' : ''\n    let range\n    if (byteLength > 3) {\n      if (min === 0 || min === BigInt(0)) {\n        range = `>= 0${n} and < 2${n} ** ${(byteLength + 1) * 8}${n}`\n      } else {\n        range = `>= -(2${n} ** ${(byteLength + 1) * 8 - 1}${n}) and < 2 ** ` +\n                `${(byteLength + 1) * 8 - 1}${n}`\n      }\n    } else {\n      range = `>= ${min}${n} and <= ${max}${n}`\n    }\n    throw new errors.ERR_OUT_OF_RANGE('value', range, value)\n  }\n  checkBounds(buf, offset, byteLength)\n}\n\nfunction validateNumber (value, name) {\n  if (typeof value !== 'number') {\n    throw new errors.ERR_INVALID_ARG_TYPE(name, 'number', value)\n  }\n}\n\nfunction boundsError (value, length, type) {\n  if (Math.floor(value) !== value) {\n    validateNumber(value, type)\n    throw new errors.ERR_OUT_OF_RANGE(type || 'offset', 'an integer', value)\n  }\n\n  if (length < 0) {\n    throw new errors.ERR_BUFFER_OUT_OF_BOUNDS()\n  }\n\n  throw new errors.ERR_OUT_OF_RANGE(type || 'offset',\n                                    `>= ${type ? 1 : 0} and <= ${length}`,\n                                    value)\n}\n\n// HELPER FUNCTIONS\n// ================\n\nconst INVALID_BASE64_RE = /[^+/0-9A-Za-z-_]/g\n\nfunction base64clean (str) {\n  // Node takes equal signs as end of the Base64 encoding\n  str = str.split('=')[0]\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = str.trim().replace(INVALID_BASE64_RE, '')\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity\n  let codePoint\n  const length = string.length\n  let leadSurrogate = null\n  const bytes = []\n\n  for (let i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i)\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        }\n\n        // valid lead\n        leadSurrogate = codePoint\n\n        continue\n      }\n\n      // 2 leads in a row\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n        leadSurrogate = codePoint\n        continue\n      }\n\n      // valid surrogate pair\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n    }\n\n    leadSurrogate = null\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint)\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  const byteArray = []\n  for (let i = 0; i < str.length; ++i) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  let c, hi, lo\n  const byteArray = []\n  for (let i = 0; i < str.length; ++i) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  let i\n  for (i = 0; i < length; ++i) {\n    if ((i + offset >= dst.length) || (i >= src.length)) break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\n// ArrayBuffer or Uint8Array objects from other contexts (i.e. iframes) do not pass\n// the `instanceof` check but they should be treated as of that type.\n// See: https://github.com/feross/buffer/issues/166\nfunction isInstance (obj, type) {\n  return obj instanceof type ||\n    (obj != null && obj.constructor != null && obj.constructor.name != null &&\n      obj.constructor.name === type.name)\n}\nfunction numberIsNaN (obj) {\n  // For IE11 support\n  return obj !== obj // eslint-disable-line no-self-compare\n}\n\n// Create lookup table for `toString('hex')`\n// See: https://github.com/feross/buffer/issues/219\nconst hexSliceLookupTable = (function () {\n  const alphabet = '0123456789abcdef'\n  const table = new Array(256)\n  for (let i = 0; i < 16; ++i) {\n    const i16 = i * 16\n    for (let j = 0; j < 16; ++j) {\n      table[i16 + j] = alphabet[i] + alphabet[j]\n    }\n  }\n  return table\n})()\n\n// Return not function with Error if BigInt not supported\nfunction defineBigIntMethod (fn) {\n  return typeof BigInt === 'undefined' ? BufferBigIntNotDefined : fn\n}\n\nfunction BufferBigIntNotDefined () {\n  throw new Error('BigInt not supported')\n}\n","/* eslint-env browser */\n\n/**\n * This is the web browser implementation of `debug()`.\n */\n\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.storage = localstorage();\nexports.destroy = (() => {\n\tlet warned = false;\n\n\treturn () => {\n\t\tif (!warned) {\n\t\t\twarned = true;\n\t\t\tconsole.warn('Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.');\n\t\t}\n\t};\n})();\n\n/**\n * Colors.\n */\n\nexports.colors = [\n\t'#0000CC',\n\t'#0000FF',\n\t'#0033CC',\n\t'#0033FF',\n\t'#0066CC',\n\t'#0066FF',\n\t'#0099CC',\n\t'#0099FF',\n\t'#00CC00',\n\t'#00CC33',\n\t'#00CC66',\n\t'#00CC99',\n\t'#00CCCC',\n\t'#00CCFF',\n\t'#3300CC',\n\t'#3300FF',\n\t'#3333CC',\n\t'#3333FF',\n\t'#3366CC',\n\t'#3366FF',\n\t'#3399CC',\n\t'#3399FF',\n\t'#33CC00',\n\t'#33CC33',\n\t'#33CC66',\n\t'#33CC99',\n\t'#33CCCC',\n\t'#33CCFF',\n\t'#6600CC',\n\t'#6600FF',\n\t'#6633CC',\n\t'#6633FF',\n\t'#66CC00',\n\t'#66CC33',\n\t'#9900CC',\n\t'#9900FF',\n\t'#9933CC',\n\t'#9933FF',\n\t'#99CC00',\n\t'#99CC33',\n\t'#CC0000',\n\t'#CC0033',\n\t'#CC0066',\n\t'#CC0099',\n\t'#CC00CC',\n\t'#CC00FF',\n\t'#CC3300',\n\t'#CC3333',\n\t'#CC3366',\n\t'#CC3399',\n\t'#CC33CC',\n\t'#CC33FF',\n\t'#CC6600',\n\t'#CC6633',\n\t'#CC9900',\n\t'#CC9933',\n\t'#CCCC00',\n\t'#CCCC33',\n\t'#FF0000',\n\t'#FF0033',\n\t'#FF0066',\n\t'#FF0099',\n\t'#FF00CC',\n\t'#FF00FF',\n\t'#FF3300',\n\t'#FF3333',\n\t'#FF3366',\n\t'#FF3399',\n\t'#FF33CC',\n\t'#FF33FF',\n\t'#FF6600',\n\t'#FF6633',\n\t'#FF9900',\n\t'#FF9933',\n\t'#FFCC00',\n\t'#FFCC33'\n];\n\n/**\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n * and the Firebug extension (any Firefox version) are known\n * to support \"%c\" CSS customizations.\n *\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\n */\n\n// eslint-disable-next-line complexity\nfunction useColors() {\n\t// NB: In an Electron preload script, document will be defined but not fully\n\t// initialized. Since we know we're in Chrome, we'll just detect this case\n\t// explicitly\n\tif (typeof window !== 'undefined' && window.process && (window.process.type === 'renderer' || window.process.__nwjs)) {\n\t\treturn true;\n\t}\n\n\t// Internet Explorer and Edge do not support colors.\n\tif (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/(edge|trident)\\/(\\d+)/)) {\n\t\treturn false;\n\t}\n\n\t// Is webkit? http://stackoverflow.com/a/16459606/376773\n\t// document is undefined in react-native: https://github.com/facebook/react-native/pull/1632\n\treturn (typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance) ||\n\t\t// Is firebug? http://stackoverflow.com/a/398120/376773\n\t\t(typeof window !== 'undefined' && window.console && (window.console.firebug || (window.console.exception && window.console.table))) ||\n\t\t// Is firefox >= v31?\n\t\t// https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n\t\t(typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/) && parseInt(RegExp.$1, 10) >= 31) ||\n\t\t// Double check webkit in userAgent just in case we are in a worker\n\t\t(typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/));\n}\n\n/**\n * Colorize log arguments if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n\targs[0] = (this.useColors ? '%c' : '') +\n\t\tthis.namespace +\n\t\t(this.useColors ? ' %c' : ' ') +\n\t\targs[0] +\n\t\t(this.useColors ? '%c ' : ' ') +\n\t\t'+' + module.exports.humanize(this.diff);\n\n\tif (!this.useColors) {\n\t\treturn;\n\t}\n\n\tconst c = 'color: ' + this.color;\n\targs.splice(1, 0, c, 'color: inherit');\n\n\t// The final \"%c\" is somewhat tricky, because there could be other\n\t// arguments passed either before or after the %c, so we need to\n\t// figure out the correct index to insert the CSS into\n\tlet index = 0;\n\tlet lastC = 0;\n\targs[0].replace(/%[a-zA-Z%]/g, match => {\n\t\tif (match === '%%') {\n\t\t\treturn;\n\t\t}\n\t\tindex++;\n\t\tif (match === '%c') {\n\t\t\t// We only are interested in the *last* %c\n\t\t\t// (the user may have provided their own)\n\t\t\tlastC = index;\n\t\t}\n\t});\n\n\targs.splice(lastC, 0, c);\n}\n\n/**\n * Invokes `console.debug()` when available.\n * No-op when `console.debug` is not a \"function\".\n * If `console.debug` is not available, falls back\n * to `console.log`.\n *\n * @api public\n */\nexports.log = console.debug || console.log || (() => {});\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\nfunction save(namespaces) {\n\ttry {\n\t\tif (namespaces) {\n\t\t\texports.storage.setItem('debug', namespaces);\n\t\t} else {\n\t\t\texports.storage.removeItem('debug');\n\t\t}\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\nfunction load() {\n\tlet r;\n\ttry {\n\t\tr = exports.storage.getItem('debug');\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n\n\t// If debug isn't set in LS, and we're in Electron, try to load $DEBUG\n\tif (!r && typeof process !== 'undefined' && 'env' in process) {\n\t\tr = process.env.DEBUG;\n\t}\n\n\treturn r;\n}\n\n/**\n * Localstorage attempts to return the localstorage.\n *\n * This is necessary because safari throws\n * when a user disables cookies/localstorage\n * and you attempt to access it.\n *\n * @return {LocalStorage}\n * @api private\n */\n\nfunction localstorage() {\n\ttry {\n\t\t// TVMLKit (Apple TV JS Runtime) does not have a window object, just localStorage in the global context\n\t\t// The Browser also has localStorage in the global context.\n\t\treturn localStorage;\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n}\n\nmodule.exports = require('./common')(exports);\n\nconst {formatters} = module.exports;\n\n/**\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n */\n\nformatters.j = function (v) {\n\ttry {\n\t\treturn JSON.stringify(v);\n\t} catch (error) {\n\t\treturn '[UnexpectedJSONParseError]: ' + error.message;\n\t}\n};\n","\n/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n */\n\nfunction setup(env) {\n\tcreateDebug.debug = createDebug;\n\tcreateDebug.default = createDebug;\n\tcreateDebug.coerce = coerce;\n\tcreateDebug.disable = disable;\n\tcreateDebug.enable = enable;\n\tcreateDebug.enabled = enabled;\n\tcreateDebug.humanize = require('ms');\n\tcreateDebug.destroy = destroy;\n\n\tObject.keys(env).forEach(key => {\n\t\tcreateDebug[key] = env[key];\n\t});\n\n\t/**\n\t* The currently active debug mode names, and names to skip.\n\t*/\n\n\tcreateDebug.names = [];\n\tcreateDebug.skips = [];\n\n\t/**\n\t* Map of special \"%n\" handling functions, for the debug \"format\" argument.\n\t*\n\t* Valid key names are a single, lower or upper-case letter, i.e. \"n\" and \"N\".\n\t*/\n\tcreateDebug.formatters = {};\n\n\t/**\n\t* Selects a color for a debug namespace\n\t* @param {String} namespace The namespace string for the debug instance to be colored\n\t* @return {Number|String} An ANSI color code for the given namespace\n\t* @api private\n\t*/\n\tfunction selectColor(namespace) {\n\t\tlet hash = 0;\n\n\t\tfor (let i = 0; i < namespace.length; i++) {\n\t\t\thash = ((hash << 5) - hash) + namespace.charCodeAt(i);\n\t\t\thash |= 0; // Convert to 32bit integer\n\t\t}\n\n\t\treturn createDebug.colors[Math.abs(hash) % createDebug.colors.length];\n\t}\n\tcreateDebug.selectColor = selectColor;\n\n\t/**\n\t* Create a debugger with the given `namespace`.\n\t*\n\t* @param {String} namespace\n\t* @return {Function}\n\t* @api public\n\t*/\n\tfunction createDebug(namespace) {\n\t\tlet prevTime;\n\t\tlet enableOverride = null;\n\t\tlet namespacesCache;\n\t\tlet enabledCache;\n\n\t\tfunction debug(...args) {\n\t\t\t// Disabled?\n\t\t\tif (!debug.enabled) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst self = debug;\n\n\t\t\t// Set `diff` timestamp\n\t\t\tconst curr = Number(new Date());\n\t\t\tconst ms = curr - (prevTime || curr);\n\t\t\tself.diff = ms;\n\t\t\tself.prev = prevTime;\n\t\t\tself.curr = curr;\n\t\t\tprevTime = curr;\n\n\t\t\targs[0] = createDebug.coerce(args[0]);\n\n\t\t\tif (typeof args[0] !== 'string') {\n\t\t\t\t// Anything else let's inspect with %O\n\t\t\t\targs.unshift('%O');\n\t\t\t}\n\n\t\t\t// Apply any `formatters` transformations\n\t\t\tlet index = 0;\n\t\t\targs[0] = args[0].replace(/%([a-zA-Z%])/g, (match, format) => {\n\t\t\t\t// If we encounter an escaped % then don't increase the array index\n\t\t\t\tif (match === '%%') {\n\t\t\t\t\treturn '%';\n\t\t\t\t}\n\t\t\t\tindex++;\n\t\t\t\tconst formatter = createDebug.formatters[format];\n\t\t\t\tif (typeof formatter === 'function') {\n\t\t\t\t\tconst val = args[index];\n\t\t\t\t\tmatch = formatter.call(self, val);\n\n\t\t\t\t\t// Now we need to remove `args[index]` since it's inlined in the `format`\n\t\t\t\t\targs.splice(index, 1);\n\t\t\t\t\tindex--;\n\t\t\t\t}\n\t\t\t\treturn match;\n\t\t\t});\n\n\t\t\t// Apply env-specific formatting (colors, etc.)\n\t\t\tcreateDebug.formatArgs.call(self, args);\n\n\t\t\tconst logFn = self.log || createDebug.log;\n\t\t\tlogFn.apply(self, args);\n\t\t}\n\n\t\tdebug.namespace = namespace;\n\t\tdebug.useColors = createDebug.useColors();\n\t\tdebug.color = createDebug.selectColor(namespace);\n\t\tdebug.extend = extend;\n\t\tdebug.destroy = createDebug.destroy; // XXX Temporary. Will be removed in the next major release.\n\n\t\tObject.defineProperty(debug, 'enabled', {\n\t\t\tenumerable: true,\n\t\t\tconfigurable: false,\n\t\t\tget: () => {\n\t\t\t\tif (enableOverride !== null) {\n\t\t\t\t\treturn enableOverride;\n\t\t\t\t}\n\t\t\t\tif (namespacesCache !== createDebug.namespaces) {\n\t\t\t\t\tnamespacesCache = createDebug.namespaces;\n\t\t\t\t\tenabledCache = createDebug.enabled(namespace);\n\t\t\t\t}\n\n\t\t\t\treturn enabledCache;\n\t\t\t},\n\t\t\tset: v => {\n\t\t\t\tenableOverride = v;\n\t\t\t}\n\t\t});\n\n\t\t// Env-specific initialization logic for debug instances\n\t\tif (typeof createDebug.init === 'function') {\n\t\t\tcreateDebug.init(debug);\n\t\t}\n\n\t\treturn debug;\n\t}\n\n\tfunction extend(namespace, delimiter) {\n\t\tconst newDebug = createDebug(this.namespace + (typeof delimiter === 'undefined' ? ':' : delimiter) + namespace);\n\t\tnewDebug.log = this.log;\n\t\treturn newDebug;\n\t}\n\n\t/**\n\t* Enables a debug mode by namespaces. This can include modes\n\t* separated by a colon and wildcards.\n\t*\n\t* @param {String} namespaces\n\t* @api public\n\t*/\n\tfunction enable(namespaces) {\n\t\tcreateDebug.save(namespaces);\n\t\tcreateDebug.namespaces = namespaces;\n\n\t\tcreateDebug.names = [];\n\t\tcreateDebug.skips = [];\n\n\t\tlet i;\n\t\tconst split = (typeof namespaces === 'string' ? namespaces : '').split(/[\\s,]+/);\n\t\tconst len = split.length;\n\n\t\tfor (i = 0; i < len; i++) {\n\t\t\tif (!split[i]) {\n\t\t\t\t// ignore empty strings\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tnamespaces = split[i].replace(/\\*/g, '.*?');\n\n\t\t\tif (namespaces[0] === '-') {\n\t\t\t\tcreateDebug.skips.push(new RegExp('^' + namespaces.slice(1) + '$'));\n\t\t\t} else {\n\t\t\t\tcreateDebug.names.push(new RegExp('^' + namespaces + '$'));\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t* Disable debug output.\n\t*\n\t* @return {String} namespaces\n\t* @api public\n\t*/\n\tfunction disable() {\n\t\tconst namespaces = [\n\t\t\t...createDebug.names.map(toNamespace),\n\t\t\t...createDebug.skips.map(toNamespace).map(namespace => '-' + namespace)\n\t\t].join(',');\n\t\tcreateDebug.enable('');\n\t\treturn namespaces;\n\t}\n\n\t/**\n\t* Returns true if the given mode name is enabled, false otherwise.\n\t*\n\t* @param {String} name\n\t* @return {Boolean}\n\t* @api public\n\t*/\n\tfunction enabled(name) {\n\t\tif (name[name.length - 1] === '*') {\n\t\t\treturn true;\n\t\t}\n\n\t\tlet i;\n\t\tlet len;\n\n\t\tfor (i = 0, len = createDebug.skips.length; i < len; i++) {\n\t\t\tif (createDebug.skips[i].test(name)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\tfor (i = 0, len = createDebug.names.length; i < len; i++) {\n\t\t\tif (createDebug.names[i].test(name)) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t}\n\n\t/**\n\t* Convert regexp to namespace\n\t*\n\t* @param {RegExp} regxep\n\t* @return {String} namespace\n\t* @api private\n\t*/\n\tfunction toNamespace(regexp) {\n\t\treturn regexp.toString()\n\t\t\t.substring(2, regexp.toString().length - 2)\n\t\t\t.replace(/\\.\\*\\?$/, '*');\n\t}\n\n\t/**\n\t* Coerce `val`.\n\t*\n\t* @param {Mixed} val\n\t* @return {Mixed}\n\t* @api private\n\t*/\n\tfunction coerce(val) {\n\t\tif (val instanceof Error) {\n\t\t\treturn val.stack || val.message;\n\t\t}\n\t\treturn val;\n\t}\n\n\t/**\n\t* XXX DO NOT USE. This is a temporary stub function.\n\t* XXX It WILL be removed in the next major release.\n\t*/\n\tfunction destroy() {\n\t\tconsole.warn('Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.');\n\t}\n\n\tcreateDebug.enable(createDebug.load());\n\n\treturn createDebug;\n}\n\nmodule.exports = setup;\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar R = typeof Reflect === 'object' ? Reflect : null\nvar ReflectApply = R && typeof R.apply === 'function'\n  ? R.apply\n  : function ReflectApply(target, receiver, args) {\n    return Function.prototype.apply.call(target, receiver, args);\n  }\n\nvar ReflectOwnKeys\nif (R && typeof R.ownKeys === 'function') {\n  ReflectOwnKeys = R.ownKeys\n} else if (Object.getOwnPropertySymbols) {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target)\n      .concat(Object.getOwnPropertySymbols(target));\n  };\n} else {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target);\n  };\n}\n\nfunction ProcessEmitWarning(warning) {\n  if (console && console.warn) console.warn(warning);\n}\n\nvar NumberIsNaN = Number.isNaN || function NumberIsNaN(value) {\n  return value !== value;\n}\n\nfunction EventEmitter() {\n  EventEmitter.init.call(this);\n}\nmodule.exports = EventEmitter;\nmodule.exports.once = once;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._eventsCount = 0;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nvar defaultMaxListeners = 10;\n\nfunction checkListener(listener) {\n  if (typeof listener !== 'function') {\n    throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n  }\n}\n\nObject.defineProperty(EventEmitter, 'defaultMaxListeners', {\n  enumerable: true,\n  get: function() {\n    return defaultMaxListeners;\n  },\n  set: function(arg) {\n    if (typeof arg !== 'number' || arg < 0 || NumberIsNaN(arg)) {\n      throw new RangeError('The value of \"defaultMaxListeners\" is out of range. It must be a non-negative number. Received ' + arg + '.');\n    }\n    defaultMaxListeners = arg;\n  }\n});\n\nEventEmitter.init = function() {\n\n  if (this._events === undefined ||\n      this._events === Object.getPrototypeOf(this)._events) {\n    this._events = Object.create(null);\n    this._eventsCount = 0;\n  }\n\n  this._maxListeners = this._maxListeners || undefined;\n};\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function setMaxListeners(n) {\n  if (typeof n !== 'number' || n < 0 || NumberIsNaN(n)) {\n    throw new RangeError('The value of \"n\" is out of range. It must be a non-negative number. Received ' + n + '.');\n  }\n  this._maxListeners = n;\n  return this;\n};\n\nfunction _getMaxListeners(that) {\n  if (that._maxListeners === undefined)\n    return EventEmitter.defaultMaxListeners;\n  return that._maxListeners;\n}\n\nEventEmitter.prototype.getMaxListeners = function getMaxListeners() {\n  return _getMaxListeners(this);\n};\n\nEventEmitter.prototype.emit = function emit(type) {\n  var args = [];\n  for (var i = 1; i < arguments.length; i++) args.push(arguments[i]);\n  var doError = (type === 'error');\n\n  var events = this._events;\n  if (events !== undefined)\n    doError = (doError && events.error === undefined);\n  else if (!doError)\n    return false;\n\n  // If there is no 'error' event listener then throw.\n  if (doError) {\n    var er;\n    if (args.length > 0)\n      er = args[0];\n    if (er instanceof Error) {\n      // Note: The comments on the `throw` lines are intentional, they show\n      // up in Node's output if this results in an unhandled exception.\n      throw er; // Unhandled 'error' event\n    }\n    // At least give some kind of context to the user\n    var err = new Error('Unhandled error.' + (er ? ' (' + er.message + ')' : ''));\n    err.context = er;\n    throw err; // Unhandled 'error' event\n  }\n\n  var handler = events[type];\n\n  if (handler === undefined)\n    return false;\n\n  if (typeof handler === 'function') {\n    ReflectApply(handler, this, args);\n  } else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      ReflectApply(listeners[i], this, args);\n  }\n\n  return true;\n};\n\nfunction _addListener(target, type, listener, prepend) {\n  var m;\n  var events;\n  var existing;\n\n  checkListener(listener);\n\n  events = target._events;\n  if (events === undefined) {\n    events = target._events = Object.create(null);\n    target._eventsCount = 0;\n  } else {\n    // To avoid recursion in the case that type === \"newListener\"! Before\n    // adding it to the listeners, first emit \"newListener\".\n    if (events.newListener !== undefined) {\n      target.emit('newListener', type,\n                  listener.listener ? listener.listener : listener);\n\n      // Re-assign `events` because a newListener handler could have caused the\n      // this._events to be assigned to a new object\n      events = target._events;\n    }\n    existing = events[type];\n  }\n\n  if (existing === undefined) {\n    // Optimize the case of one listener. Don't need the extra array object.\n    existing = events[type] = listener;\n    ++target._eventsCount;\n  } else {\n    if (typeof existing === 'function') {\n      // Adding the second element, need to change to array.\n      existing = events[type] =\n        prepend ? [listener, existing] : [existing, listener];\n      // If we've already got an array, just append.\n    } else if (prepend) {\n      existing.unshift(listener);\n    } else {\n      existing.push(listener);\n    }\n\n    // Check for listener leak\n    m = _getMaxListeners(target);\n    if (m > 0 && existing.length > m && !existing.warned) {\n      existing.warned = true;\n      // No error code for this since it is a Warning\n      // eslint-disable-next-line no-restricted-syntax\n      var w = new Error('Possible EventEmitter memory leak detected. ' +\n                          existing.length + ' ' + String(type) + ' listeners ' +\n                          'added. Use emitter.setMaxListeners() to ' +\n                          'increase limit');\n      w.name = 'MaxListenersExceededWarning';\n      w.emitter = target;\n      w.type = type;\n      w.count = existing.length;\n      ProcessEmitWarning(w);\n    }\n  }\n\n  return target;\n}\n\nEventEmitter.prototype.addListener = function addListener(type, listener) {\n  return _addListener(this, type, listener, false);\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.prependListener =\n    function prependListener(type, listener) {\n      return _addListener(this, type, listener, true);\n    };\n\nfunction onceWrapper() {\n  if (!this.fired) {\n    this.target.removeListener(this.type, this.wrapFn);\n    this.fired = true;\n    if (arguments.length === 0)\n      return this.listener.call(this.target);\n    return this.listener.apply(this.target, arguments);\n  }\n}\n\nfunction _onceWrap(target, type, listener) {\n  var state = { fired: false, wrapFn: undefined, target: target, type: type, listener: listener };\n  var wrapped = onceWrapper.bind(state);\n  wrapped.listener = listener;\n  state.wrapFn = wrapped;\n  return wrapped;\n}\n\nEventEmitter.prototype.once = function once(type, listener) {\n  checkListener(listener);\n  this.on(type, _onceWrap(this, type, listener));\n  return this;\n};\n\nEventEmitter.prototype.prependOnceListener =\n    function prependOnceListener(type, listener) {\n      checkListener(listener);\n      this.prependListener(type, _onceWrap(this, type, listener));\n      return this;\n    };\n\n// Emits a 'removeListener' event if and only if the listener was removed.\nEventEmitter.prototype.removeListener =\n    function removeListener(type, listener) {\n      var list, events, position, i, originalListener;\n\n      checkListener(listener);\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      list = events[type];\n      if (list === undefined)\n        return this;\n\n      if (list === listener || list.listener === listener) {\n        if (--this._eventsCount === 0)\n          this._events = Object.create(null);\n        else {\n          delete events[type];\n          if (events.removeListener)\n            this.emit('removeListener', type, list.listener || listener);\n        }\n      } else if (typeof list !== 'function') {\n        position = -1;\n\n        for (i = list.length - 1; i >= 0; i--) {\n          if (list[i] === listener || list[i].listener === listener) {\n            originalListener = list[i].listener;\n            position = i;\n            break;\n          }\n        }\n\n        if (position < 0)\n          return this;\n\n        if (position === 0)\n          list.shift();\n        else {\n          spliceOne(list, position);\n        }\n\n        if (list.length === 1)\n          events[type] = list[0];\n\n        if (events.removeListener !== undefined)\n          this.emit('removeListener', type, originalListener || listener);\n      }\n\n      return this;\n    };\n\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\n\nEventEmitter.prototype.removeAllListeners =\n    function removeAllListeners(type) {\n      var listeners, events, i;\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      // not listening for removeListener, no need to emit\n      if (events.removeListener === undefined) {\n        if (arguments.length === 0) {\n          this._events = Object.create(null);\n          this._eventsCount = 0;\n        } else if (events[type] !== undefined) {\n          if (--this._eventsCount === 0)\n            this._events = Object.create(null);\n          else\n            delete events[type];\n        }\n        return this;\n      }\n\n      // emit removeListener for all listeners on all events\n      if (arguments.length === 0) {\n        var keys = Object.keys(events);\n        var key;\n        for (i = 0; i < keys.length; ++i) {\n          key = keys[i];\n          if (key === 'removeListener') continue;\n          this.removeAllListeners(key);\n        }\n        this.removeAllListeners('removeListener');\n        this._events = Object.create(null);\n        this._eventsCount = 0;\n        return this;\n      }\n\n      listeners = events[type];\n\n      if (typeof listeners === 'function') {\n        this.removeListener(type, listeners);\n      } else if (listeners !== undefined) {\n        // LIFO order\n        for (i = listeners.length - 1; i >= 0; i--) {\n          this.removeListener(type, listeners[i]);\n        }\n      }\n\n      return this;\n    };\n\nfunction _listeners(target, type, unwrap) {\n  var events = target._events;\n\n  if (events === undefined)\n    return [];\n\n  var evlistener = events[type];\n  if (evlistener === undefined)\n    return [];\n\n  if (typeof evlistener === 'function')\n    return unwrap ? [evlistener.listener || evlistener] : [evlistener];\n\n  return unwrap ?\n    unwrapListeners(evlistener) : arrayClone(evlistener, evlistener.length);\n}\n\nEventEmitter.prototype.listeners = function listeners(type) {\n  return _listeners(this, type, true);\n};\n\nEventEmitter.prototype.rawListeners = function rawListeners(type) {\n  return _listeners(this, type, false);\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  if (typeof emitter.listenerCount === 'function') {\n    return emitter.listenerCount(type);\n  } else {\n    return listenerCount.call(emitter, type);\n  }\n};\n\nEventEmitter.prototype.listenerCount = listenerCount;\nfunction listenerCount(type) {\n  var events = this._events;\n\n  if (events !== undefined) {\n    var evlistener = events[type];\n\n    if (typeof evlistener === 'function') {\n      return 1;\n    } else if (evlistener !== undefined) {\n      return evlistener.length;\n    }\n  }\n\n  return 0;\n}\n\nEventEmitter.prototype.eventNames = function eventNames() {\n  return this._eventsCount > 0 ? ReflectOwnKeys(this._events) : [];\n};\n\nfunction arrayClone(arr, n) {\n  var copy = new Array(n);\n  for (var i = 0; i < n; ++i)\n    copy[i] = arr[i];\n  return copy;\n}\n\nfunction spliceOne(list, index) {\n  for (; index + 1 < list.length; index++)\n    list[index] = list[index + 1];\n  list.pop();\n}\n\nfunction unwrapListeners(arr) {\n  var ret = new Array(arr.length);\n  for (var i = 0; i < ret.length; ++i) {\n    ret[i] = arr[i].listener || arr[i];\n  }\n  return ret;\n}\n\nfunction once(emitter, name) {\n  return new Promise(function (resolve, reject) {\n    function errorListener(err) {\n      emitter.removeListener(name, resolver);\n      reject(err);\n    }\n\n    function resolver() {\n      if (typeof emitter.removeListener === 'function') {\n        emitter.removeListener('error', errorListener);\n      }\n      resolve([].slice.call(arguments));\n    };\n\n    eventTargetAgnosticAddListener(emitter, name, resolver, { once: true });\n    if (name !== 'error') {\n      addErrorHandlerIfEventEmitter(emitter, errorListener, { once: true });\n    }\n  });\n}\n\nfunction addErrorHandlerIfEventEmitter(emitter, handler, flags) {\n  if (typeof emitter.on === 'function') {\n    eventTargetAgnosticAddListener(emitter, 'error', handler, flags);\n  }\n}\n\nfunction eventTargetAgnosticAddListener(emitter, name, listener, flags) {\n  if (typeof emitter.on === 'function') {\n    if (flags.once) {\n      emitter.once(name, listener);\n    } else {\n      emitter.on(name, listener);\n    }\n  } else if (typeof emitter.addEventListener === 'function') {\n    // EventTarget does not have `error` event semantics like Node\n    // EventEmitters, we do not listen for `error` events here.\n    emitter.addEventListener(name, function wrapListener(arg) {\n      // IE does not have builtin `{ once: true }` support so we\n      // have to do it manually.\n      if (flags.once) {\n        emitter.removeEventListener(name, wrapListener);\n      }\n      listener(arg);\n    });\n  } else {\n    throw new TypeError('The \"emitter\" argument must be of type EventEmitter. Received type ' + typeof emitter);\n  }\n}\n","'use strict';\n\n// do not edit .js files directly - edit src/index.jst\n\n\n\nmodule.exports = function equal(a, b) {\n  if (a === b) return true;\n\n  if (a && b && typeof a == 'object' && typeof b == 'object') {\n    if (a.constructor !== b.constructor) return false;\n\n    var length, i, keys;\n    if (Array.isArray(a)) {\n      length = a.length;\n      if (length != b.length) return false;\n      for (i = length; i-- !== 0;)\n        if (!equal(a[i], b[i])) return false;\n      return true;\n    }\n\n\n\n    if (a.constructor === RegExp) return a.source === b.source && a.flags === b.flags;\n    if (a.valueOf !== Object.prototype.valueOf) return a.valueOf() === b.valueOf();\n    if (a.toString !== Object.prototype.toString) return a.toString() === b.toString();\n\n    keys = Object.keys(a);\n    length = keys.length;\n    if (length !== Object.keys(b).length) return false;\n\n    for (i = length; i-- !== 0;)\n      if (!Object.prototype.hasOwnProperty.call(b, keys[i])) return false;\n\n    for (i = length; i-- !== 0;) {\n      var key = keys[i];\n\n      if (!equal(a[key], b[key])) return false;\n    }\n\n    return true;\n  }\n\n  // true if both NaN, false otherwise\n  return a!==a && b!==b;\n};\n","/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */\nexports.read = function (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = (e * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = (m * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = ((value * c) - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n","'use strict';\n\nmodule.exports = url => {\n\tif (typeof url !== 'string') {\n\t\tthrow new TypeError(`Expected a \\`string\\`, got \\`${typeof url}\\``);\n\t}\n\n\t// Don't match Windows paths `c:\\`\n\tif (/^[a-zA-Z]:\\\\/.test(url)) {\n\t\treturn false;\n\t}\n\n\t// Scheme: https://tools.ietf.org/html/rfc3986#section-3.1\n\t// Absolute URL: https://tools.ietf.org/html/rfc3986#section-4.3\n\treturn /^[a-zA-Z][a-zA-Z\\d+\\-.]*:/.test(url);\n};\n","#!/usr/bin/env node\n\"use strict\";\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\n    result[\"default\"] = mod;\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar json_placeholder_replacer_1 = require(\"./json-placeholder-replacer\");\nexports.JsonPlaceholderReplacer = json_placeholder_replacer_1.JsonPlaceholderReplacer;\nconst json_placeholder_replacer_2 = require(\"./json-placeholder-replacer\");\nconst fs = __importStar(require(\"fs\"));\nif (require.main === module) {\n    process.exitCode = process.argv.length;\n    const replacer = new json_placeholder_replacer_2.JsonPlaceholderReplacer();\n    process.argv\n        .filter((value, index) => index > 2)\n        .map((value) => replacer.addVariableMap(JSON.parse(fs.readFileSync(value).toString())));\n    const replaceableFileContent = fs.readFileSync(process.argv[2]).toString();\n    const replacedValue = replacer.replace(JSON.parse(replaceableFileContent));\n    console.log(JSON.stringify(replacedValue, null, 4));\n    process.exitCode = 0;\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst defaultDelimiterTags = [\n    {\n        begin: '{{',\n        end: '}}'\n    },\n    {\n        begin: '<<',\n        end: '>>'\n    }\n];\nclass JsonPlaceholderReplacer {\n    constructor(...delimiterTags) {\n        this.variablesMap = [];\n        if (delimiterTags.length === 0) {\n            delimiterTags = defaultDelimiterTags;\n        }\n        const escapeRegExp = (text) => text.replace(/[-[\\]{}()*+?.,\\\\^$|#\\s]/g, '\\\\$&');\n        this.delimiterTags = delimiterTags.map(tag => (Object.assign(Object.assign({}, tag), { escapedBeginning: escapeRegExp(tag.begin), escapedEnding: escapeRegExp(tag.end) })));\n    }\n    addVariableMap(variableMap) {\n        if (typeof variableMap == 'string') {\n            this.variablesMap.push(JSON.parse(variableMap));\n        }\n        else {\n            this.variablesMap.push(variableMap);\n        }\n        return this;\n    }\n    replace(json) {\n        return this.replaceChildren(json);\n    }\n    replaceChildren(node) {\n        for (const key in node) {\n            const attribute = node[key];\n            if (typeof attribute == 'object') {\n                node[key] = this.replaceChildren(attribute);\n            }\n            else if (attribute !== undefined) {\n                node[key] = this.replaceValue(attribute.toString());\n            }\n        }\n        return node;\n    }\n    replaceValue(node) {\n        const delimiterTagRegex = this.delimiterTags\n            .map(delimiterTag => `^${delimiterTag.begin}[^${delimiterTag.end}]+${delimiterTag.end}$`).join('|');\n        const regExp = new RegExp(delimiterTagRegex);\n        const placeHolderIsInsideStringContext = !regExp.test(node);\n        const replacer = (delimiterTag) => (placeHolder) => {\n            const path = placeHolder.substr(delimiterTag.begin.length, placeHolder.length - (delimiterTag.begin.length + delimiterTag.end.length));\n            const mapCheckResult = this.checkInEveryMap(path);\n            if (mapCheckResult === undefined) {\n                return placeHolder;\n            }\n            if (!placeHolderIsInsideStringContext) {\n                return mapCheckResult;\n            }\n            const parsed = JSON.parse(mapCheckResult);\n            if (typeof parsed === 'object') {\n                return JSON.stringify(parsed);\n            }\n            return parsed;\n        };\n        const output = this.delimiterTags\n            .reduce((acc, delimiterTag) => {\n            const regex = new RegExp(`(${delimiterTag.escapedBeginning}[^${delimiterTag.escapedEnding}]+${delimiterTag.escapedEnding})`, 'g');\n            return acc.replace(regex, replacer(delimiterTag));\n        }, node);\n        try {\n            return JSON.parse(output);\n        }\n        catch (exc) {\n            return output;\n        }\n    }\n    checkInEveryMap(path) {\n        let result = undefined;\n        this.variablesMap.forEach(map => result = this.navigateThroughMap(map, path));\n        return result;\n    }\n    navigateThroughMap(map, path) {\n        if (map === undefined) {\n            return;\n        }\n        const shortCircuit = map[path];\n        if (shortCircuit !== undefined) {\n            return JSON.stringify(shortCircuit);\n        }\n        let keys = path.split('.');\n        const key = keys[0];\n        keys.shift();\n        return this.navigateThroughMap(map[key], keys.join('.'));\n    }\n}\nexports.JsonPlaceholderReplacer = JsonPlaceholderReplacer;\n","'use strict';\n\nvar traverse = module.exports = function (schema, opts, cb) {\n  // Legacy support for v0.3.1 and earlier.\n  if (typeof opts == 'function') {\n    cb = opts;\n    opts = {};\n  }\n\n  cb = opts.cb || cb;\n  var pre = (typeof cb == 'function') ? cb : cb.pre || function() {};\n  var post = cb.post || function() {};\n\n  _traverse(opts, pre, post, schema, '', schema);\n};\n\n\ntraverse.keywords = {\n  additionalItems: true,\n  items: true,\n  contains: true,\n  additionalProperties: true,\n  propertyNames: true,\n  not: true,\n  if: true,\n  then: true,\n  else: true\n};\n\ntraverse.arrayKeywords = {\n  items: true,\n  allOf: true,\n  anyOf: true,\n  oneOf: true\n};\n\ntraverse.propsKeywords = {\n  $defs: true,\n  definitions: true,\n  properties: true,\n  patternProperties: true,\n  dependencies: true\n};\n\ntraverse.skipKeywords = {\n  default: true,\n  enum: true,\n  const: true,\n  required: true,\n  maximum: true,\n  minimum: true,\n  exclusiveMaximum: true,\n  exclusiveMinimum: true,\n  multipleOf: true,\n  maxLength: true,\n  minLength: true,\n  pattern: true,\n  format: true,\n  maxItems: true,\n  minItems: true,\n  uniqueItems: true,\n  maxProperties: true,\n  minProperties: true\n};\n\n\nfunction _traverse(opts, pre, post, schema, jsonPtr, rootSchema, parentJsonPtr, parentKeyword, parentSchema, keyIndex) {\n  if (schema && typeof schema == 'object' && !Array.isArray(schema)) {\n    pre(schema, jsonPtr, rootSchema, parentJsonPtr, parentKeyword, parentSchema, keyIndex);\n    for (var key in schema) {\n      var sch = schema[key];\n      if (Array.isArray(sch)) {\n        if (key in traverse.arrayKeywords) {\n          for (var i=0; i<sch.length; i++)\n            _traverse(opts, pre, post, sch[i], jsonPtr + '/' + key + '/' + i, rootSchema, jsonPtr, key, schema, i);\n        }\n      } else if (key in traverse.propsKeywords) {\n        if (sch && typeof sch == 'object') {\n          for (var prop in sch)\n            _traverse(opts, pre, post, sch[prop], jsonPtr + '/' + key + '/' + escapeJsonPtr(prop), rootSchema, jsonPtr, key, schema, prop);\n        }\n      } else if (key in traverse.keywords || (opts.allKeys && !(key in traverse.skipKeywords))) {\n        _traverse(opts, pre, post, sch, jsonPtr + '/' + key, rootSchema, jsonPtr, key, schema);\n      }\n    }\n    post(schema, jsonPtr, rootSchema, parentJsonPtr, parentKeyword, parentSchema, keyIndex);\n  }\n}\n\n\nfunction escapeJsonPtr(str) {\n  return str.replace(/~/g, '~0').replace(/\\//g, '~1');\n}\n","/**\n * Helpers.\n */\n\nvar s = 1000;\nvar m = s * 60;\nvar h = m * 60;\nvar d = h * 24;\nvar w = d * 7;\nvar y = d * 365.25;\n\n/**\n * Parse or format the given `val`.\n *\n * Options:\n *\n *  - `long` verbose formatting [false]\n *\n * @param {String|Number} val\n * @param {Object} [options]\n * @throws {Error} throw an error if val is not a non-empty string or a number\n * @return {String|Number}\n * @api public\n */\n\nmodule.exports = function(val, options) {\n  options = options || {};\n  var type = typeof val;\n  if (type === 'string' && val.length > 0) {\n    return parse(val);\n  } else if (type === 'number' && isFinite(val)) {\n    return options.long ? fmtLong(val) : fmtShort(val);\n  }\n  throw new Error(\n    'val is not a non-empty string or a valid number. val=' +\n      JSON.stringify(val)\n  );\n};\n\n/**\n * Parse the given `str` and return milliseconds.\n *\n * @param {String} str\n * @return {Number}\n * @api private\n */\n\nfunction parse(str) {\n  str = String(str);\n  if (str.length > 100) {\n    return;\n  }\n  var match = /^(-?(?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(\n    str\n  );\n  if (!match) {\n    return;\n  }\n  var n = parseFloat(match[1]);\n  var type = (match[2] || 'ms').toLowerCase();\n  switch (type) {\n    case 'years':\n    case 'year':\n    case 'yrs':\n    case 'yr':\n    case 'y':\n      return n * y;\n    case 'weeks':\n    case 'week':\n    case 'w':\n      return n * w;\n    case 'days':\n    case 'day':\n    case 'd':\n      return n * d;\n    case 'hours':\n    case 'hour':\n    case 'hrs':\n    case 'hr':\n    case 'h':\n      return n * h;\n    case 'minutes':\n    case 'minute':\n    case 'mins':\n    case 'min':\n    case 'm':\n      return n * m;\n    case 'seconds':\n    case 'second':\n    case 'secs':\n    case 'sec':\n    case 's':\n      return n * s;\n    case 'milliseconds':\n    case 'millisecond':\n    case 'msecs':\n    case 'msec':\n    case 'ms':\n      return n;\n    default:\n      return undefined;\n  }\n}\n\n/**\n * Short format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtShort(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return Math.round(ms / d) + 'd';\n  }\n  if (msAbs >= h) {\n    return Math.round(ms / h) + 'h';\n  }\n  if (msAbs >= m) {\n    return Math.round(ms / m) + 'm';\n  }\n  if (msAbs >= s) {\n    return Math.round(ms / s) + 's';\n  }\n  return ms + 'ms';\n}\n\n/**\n * Long format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtLong(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return plural(ms, msAbs, d, 'day');\n  }\n  if (msAbs >= h) {\n    return plural(ms, msAbs, h, 'hour');\n  }\n  if (msAbs >= m) {\n    return plural(ms, msAbs, m, 'minute');\n  }\n  if (msAbs >= s) {\n    return plural(ms, msAbs, s, 'second');\n  }\n  return ms + ' ms';\n}\n\n/**\n * Pluralization helper.\n */\n\nfunction plural(ms, msAbs, n, name) {\n  var isPlural = msAbs >= n * 1.5;\n  return Math.round(ms / n) + ' ' + name + (isPlural ? 's' : '');\n}\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","'use strict'\n\nconst { AbortError, codes } = require('../../ours/errors')\n\nconst eos = require('./end-of-stream')\n\nconst { ERR_INVALID_ARG_TYPE } = codes // This method is inlined here for readable-stream\n// It also does not allow for signal to not exist on the stream\n// https://github.com/nodejs/node/pull/36061#discussion_r533718029\n\nconst validateAbortSignal = (signal, name) => {\n  if (typeof signal !== 'object' || !('aborted' in signal)) {\n    throw new ERR_INVALID_ARG_TYPE(name, 'AbortSignal', signal)\n  }\n}\n\nfunction isNodeStream(obj) {\n  return !!(obj && typeof obj.pipe === 'function')\n}\n\nmodule.exports.addAbortSignal = function addAbortSignal(signal, stream) {\n  validateAbortSignal(signal, 'signal')\n\n  if (!isNodeStream(stream)) {\n    throw new ERR_INVALID_ARG_TYPE('stream', 'stream.Stream', stream)\n  }\n\n  return module.exports.addAbortSignalNoValidate(signal, stream)\n}\n\nmodule.exports.addAbortSignalNoValidate = function (signal, stream) {\n  if (typeof signal !== 'object' || !('aborted' in signal)) {\n    return stream\n  }\n\n  const onAbort = () => {\n    stream.destroy(\n      new AbortError(undefined, {\n        cause: signal.reason\n      })\n    )\n  }\n\n  if (signal.aborted) {\n    onAbort()\n  } else {\n    signal.addEventListener('abort', onAbort)\n    eos(stream, () => signal.removeEventListener('abort', onAbort))\n  }\n\n  return stream\n}\n","'use strict'\n\nconst { StringPrototypeSlice, SymbolIterator, TypedArrayPrototypeSet, Uint8Array } = require('../../ours/primordials')\n\nconst { Buffer } = require('buffer')\n\nconst { inspect } = require('../../ours/util')\n\nmodule.exports = class BufferList {\n  constructor() {\n    this.head = null\n    this.tail = null\n    this.length = 0\n  }\n\n  push(v) {\n    const entry = {\n      data: v,\n      next: null\n    }\n    if (this.length > 0) this.tail.next = entry\n    else this.head = entry\n    this.tail = entry\n    ++this.length\n  }\n\n  unshift(v) {\n    const entry = {\n      data: v,\n      next: this.head\n    }\n    if (this.length === 0) this.tail = entry\n    this.head = entry\n    ++this.length\n  }\n\n  shift() {\n    if (this.length === 0) return\n    const ret = this.head.data\n    if (this.length === 1) this.head = this.tail = null\n    else this.head = this.head.next\n    --this.length\n    return ret\n  }\n\n  clear() {\n    this.head = this.tail = null\n    this.length = 0\n  }\n\n  join(s) {\n    if (this.length === 0) return ''\n    let p = this.head\n    let ret = '' + p.data\n\n    while ((p = p.next) !== null) ret += s + p.data\n\n    return ret\n  }\n\n  concat(n) {\n    if (this.length === 0) return Buffer.alloc(0)\n    const ret = Buffer.allocUnsafe(n >>> 0)\n    let p = this.head\n    let i = 0\n\n    while (p) {\n      TypedArrayPrototypeSet(ret, p.data, i)\n      i += p.data.length\n      p = p.next\n    }\n\n    return ret\n  } // Consumes a specified amount of bytes or characters from the buffered data.\n\n  consume(n, hasStrings) {\n    const data = this.head.data\n\n    if (n < data.length) {\n      // `slice` is the same for buffers and strings.\n      const slice = data.slice(0, n)\n      this.head.data = data.slice(n)\n      return slice\n    }\n\n    if (n === data.length) {\n      // First chunk is a perfect match.\n      return this.shift()\n    } // Result spans more than one buffer.\n\n    return hasStrings ? this._getString(n) : this._getBuffer(n)\n  }\n\n  first() {\n    return this.head.data\n  }\n\n  *[SymbolIterator]() {\n    for (let p = this.head; p; p = p.next) {\n      yield p.data\n    }\n  } // Consumes a specified amount of characters from the buffered data.\n\n  _getString(n) {\n    let ret = ''\n    let p = this.head\n    let c = 0\n\n    do {\n      const str = p.data\n\n      if (n > str.length) {\n        ret += str\n        n -= str.length\n      } else {\n        if (n === str.length) {\n          ret += str\n          ++c\n          if (p.next) this.head = p.next\n          else this.head = this.tail = null\n        } else {\n          ret += StringPrototypeSlice(str, 0, n)\n          this.head = p\n          p.data = StringPrototypeSlice(str, n)\n        }\n\n        break\n      }\n\n      ++c\n    } while ((p = p.next) !== null)\n\n    this.length -= c\n    return ret\n  } // Consumes a specified amount of bytes from the buffered data.\n\n  _getBuffer(n) {\n    const ret = Buffer.allocUnsafe(n)\n    const retLen = n\n    let p = this.head\n    let c = 0\n\n    do {\n      const buf = p.data\n\n      if (n > buf.length) {\n        TypedArrayPrototypeSet(ret, buf, retLen - n)\n        n -= buf.length\n      } else {\n        if (n === buf.length) {\n          TypedArrayPrototypeSet(ret, buf, retLen - n)\n          ++c\n          if (p.next) this.head = p.next\n          else this.head = this.tail = null\n        } else {\n          TypedArrayPrototypeSet(ret, new Uint8Array(buf.buffer, buf.byteOffset, n), retLen - n)\n          this.head = p\n          p.data = buf.slice(n)\n        }\n\n        break\n      }\n\n      ++c\n    } while ((p = p.next) !== null)\n\n    this.length -= c\n    return ret\n  } // Make sure the linked list only shows the minimal necessary information.\n\n  [Symbol.for('nodejs.util.inspect.custom')](_, options) {\n    return inspect(this, {\n      ...options,\n      // Only inspect one level.\n      depth: 0,\n      // It should not recurse.\n      customInspect: false\n    })\n  }\n}\n","'use strict'\n\nconst { pipeline } = require('./pipeline')\n\nconst Duplex = require('./duplex')\n\nconst { destroyer } = require('./destroy')\n\nconst { isNodeStream, isReadable, isWritable } = require('./utils')\n\nconst {\n  AbortError,\n  codes: { ERR_INVALID_ARG_VALUE, ERR_MISSING_ARGS }\n} = require('../../ours/errors')\n\nmodule.exports = function compose(...streams) {\n  if (streams.length === 0) {\n    throw new ERR_MISSING_ARGS('streams')\n  }\n\n  if (streams.length === 1) {\n    return Duplex.from(streams[0])\n  }\n\n  const orgStreams = [...streams]\n\n  if (typeof streams[0] === 'function') {\n    streams[0] = Duplex.from(streams[0])\n  }\n\n  if (typeof streams[streams.length - 1] === 'function') {\n    const idx = streams.length - 1\n    streams[idx] = Duplex.from(streams[idx])\n  }\n\n  for (let n = 0; n < streams.length; ++n) {\n    if (!isNodeStream(streams[n])) {\n      // TODO(ronag): Add checks for non streams.\n      continue\n    }\n\n    if (n < streams.length - 1 && !isReadable(streams[n])) {\n      throw new ERR_INVALID_ARG_VALUE(`streams[${n}]`, orgStreams[n], 'must be readable')\n    }\n\n    if (n > 0 && !isWritable(streams[n])) {\n      throw new ERR_INVALID_ARG_VALUE(`streams[${n}]`, orgStreams[n], 'must be writable')\n    }\n  }\n\n  let ondrain\n  let onfinish\n  let onreadable\n  let onclose\n  let d\n\n  function onfinished(err) {\n    const cb = onclose\n    onclose = null\n\n    if (cb) {\n      cb(err)\n    } else if (err) {\n      d.destroy(err)\n    } else if (!readable && !writable) {\n      d.destroy()\n    }\n  }\n\n  const head = streams[0]\n  const tail = pipeline(streams, onfinished)\n  const writable = !!isWritable(head)\n  const readable = !!isReadable(tail) // TODO(ronag): Avoid double buffering.\n  // Implement Writable/Readable/Duplex traits.\n  // See, https://github.com/nodejs/node/pull/33515.\n\n  d = new Duplex({\n    // TODO (ronag): highWaterMark?\n    writableObjectMode: !!(head !== null && head !== undefined && head.writableObjectMode),\n    readableObjectMode: !!(tail !== null && tail !== undefined && tail.writableObjectMode),\n    writable,\n    readable\n  })\n\n  if (writable) {\n    d._write = function (chunk, encoding, callback) {\n      if (head.write(chunk, encoding)) {\n        callback()\n      } else {\n        ondrain = callback\n      }\n    }\n\n    d._final = function (callback) {\n      head.end()\n      onfinish = callback\n    }\n\n    head.on('drain', function () {\n      if (ondrain) {\n        const cb = ondrain\n        ondrain = null\n        cb()\n      }\n    })\n    tail.on('finish', function () {\n      if (onfinish) {\n        const cb = onfinish\n        onfinish = null\n        cb()\n      }\n    })\n  }\n\n  if (readable) {\n    tail.on('readable', function () {\n      if (onreadable) {\n        const cb = onreadable\n        onreadable = null\n        cb()\n      }\n    })\n    tail.on('end', function () {\n      d.push(null)\n    })\n\n    d._read = function () {\n      while (true) {\n        const buf = tail.read()\n\n        if (buf === null) {\n          onreadable = d._read\n          return\n        }\n\n        if (!d.push(buf)) {\n          return\n        }\n      }\n    }\n  }\n\n  d._destroy = function (err, callback) {\n    if (!err && onclose !== null) {\n      err = new AbortError()\n    }\n\n    onreadable = null\n    ondrain = null\n    onfinish = null\n\n    if (onclose === null) {\n      callback(err)\n    } else {\n      onclose = callback\n      destroyer(tail, err)\n    }\n  }\n\n  return d\n}\n","'use strict'\n\n/* replacement start */\n\nconst process = require('process')\n/* replacement end */\n\nconst {\n  aggregateTwoErrors,\n  codes: { ERR_MULTIPLE_CALLBACK },\n  AbortError\n} = require('../../ours/errors')\n\nconst { Symbol } = require('../../ours/primordials')\n\nconst { kDestroyed, isDestroyed, isFinished, isServerRequest } = require('./utils')\n\nconst kDestroy = Symbol('kDestroy')\nconst kConstruct = Symbol('kConstruct')\n\nfunction checkError(err, w, r) {\n  if (err) {\n    // Avoid V8 leak, https://github.com/nodejs/node/pull/34103#issuecomment-652002364\n    err.stack // eslint-disable-line no-unused-expressions\n\n    if (w && !w.errored) {\n      w.errored = err\n    }\n\n    if (r && !r.errored) {\n      r.errored = err\n    }\n  }\n} // Backwards compat. cb() is undocumented and unused in core but\n// unfortunately might be used by modules.\n\nfunction destroy(err, cb) {\n  const r = this._readableState\n  const w = this._writableState // With duplex streams we use the writable side for state.\n\n  const s = w || r\n\n  if ((w && w.destroyed) || (r && r.destroyed)) {\n    if (typeof cb === 'function') {\n      cb()\n    }\n\n    return this\n  } // We set destroyed to true before firing error callbacks in order\n  // to make it re-entrance safe in case destroy() is called within callbacks\n\n  checkError(err, w, r)\n\n  if (w) {\n    w.destroyed = true\n  }\n\n  if (r) {\n    r.destroyed = true\n  } // If still constructing then defer calling _destroy.\n\n  if (!s.constructed) {\n    this.once(kDestroy, function (er) {\n      _destroy(this, aggregateTwoErrors(er, err), cb)\n    })\n  } else {\n    _destroy(this, err, cb)\n  }\n\n  return this\n}\n\nfunction _destroy(self, err, cb) {\n  let called = false\n\n  function onDestroy(err) {\n    if (called) {\n      return\n    }\n\n    called = true\n    const r = self._readableState\n    const w = self._writableState\n    checkError(err, w, r)\n\n    if (w) {\n      w.closed = true\n    }\n\n    if (r) {\n      r.closed = true\n    }\n\n    if (typeof cb === 'function') {\n      cb(err)\n    }\n\n    if (err) {\n      process.nextTick(emitErrorCloseNT, self, err)\n    } else {\n      process.nextTick(emitCloseNT, self)\n    }\n  }\n\n  try {\n    self._destroy(err || null, onDestroy)\n  } catch (err) {\n    onDestroy(err)\n  }\n}\n\nfunction emitErrorCloseNT(self, err) {\n  emitErrorNT(self, err)\n  emitCloseNT(self)\n}\n\nfunction emitCloseNT(self) {\n  const r = self._readableState\n  const w = self._writableState\n\n  if (w) {\n    w.closeEmitted = true\n  }\n\n  if (r) {\n    r.closeEmitted = true\n  }\n\n  if ((w && w.emitClose) || (r && r.emitClose)) {\n    self.emit('close')\n  }\n}\n\nfunction emitErrorNT(self, err) {\n  const r = self._readableState\n  const w = self._writableState\n\n  if ((w && w.errorEmitted) || (r && r.errorEmitted)) {\n    return\n  }\n\n  if (w) {\n    w.errorEmitted = true\n  }\n\n  if (r) {\n    r.errorEmitted = true\n  }\n\n  self.emit('error', err)\n}\n\nfunction undestroy() {\n  const r = this._readableState\n  const w = this._writableState\n\n  if (r) {\n    r.constructed = true\n    r.closed = false\n    r.closeEmitted = false\n    r.destroyed = false\n    r.errored = null\n    r.errorEmitted = false\n    r.reading = false\n    r.ended = r.readable === false\n    r.endEmitted = r.readable === false\n  }\n\n  if (w) {\n    w.constructed = true\n    w.destroyed = false\n    w.closed = false\n    w.closeEmitted = false\n    w.errored = null\n    w.errorEmitted = false\n    w.finalCalled = false\n    w.prefinished = false\n    w.ended = w.writable === false\n    w.ending = w.writable === false\n    w.finished = w.writable === false\n  }\n}\n\nfunction errorOrDestroy(stream, err, sync) {\n  // We have tests that rely on errors being emitted\n  // in the same tick, so changing this is semver major.\n  // For now when you opt-in to autoDestroy we allow\n  // the error to be emitted nextTick. In a future\n  // semver major update we should change the default to this.\n  const r = stream._readableState\n  const w = stream._writableState\n\n  if ((w && w.destroyed) || (r && r.destroyed)) {\n    return this\n  }\n\n  if ((r && r.autoDestroy) || (w && w.autoDestroy)) stream.destroy(err)\n  else if (err) {\n    // Avoid V8 leak, https://github.com/nodejs/node/pull/34103#issuecomment-652002364\n    err.stack // eslint-disable-line no-unused-expressions\n\n    if (w && !w.errored) {\n      w.errored = err\n    }\n\n    if (r && !r.errored) {\n      r.errored = err\n    }\n\n    if (sync) {\n      process.nextTick(emitErrorNT, stream, err)\n    } else {\n      emitErrorNT(stream, err)\n    }\n  }\n}\n\nfunction construct(stream, cb) {\n  if (typeof stream._construct !== 'function') {\n    return\n  }\n\n  const r = stream._readableState\n  const w = stream._writableState\n\n  if (r) {\n    r.constructed = false\n  }\n\n  if (w) {\n    w.constructed = false\n  }\n\n  stream.once(kConstruct, cb)\n\n  if (stream.listenerCount(kConstruct) > 1) {\n    // Duplex\n    return\n  }\n\n  process.nextTick(constructNT, stream)\n}\n\nfunction constructNT(stream) {\n  let called = false\n\n  function onConstruct(err) {\n    if (called) {\n      errorOrDestroy(stream, err !== null && err !== undefined ? err : new ERR_MULTIPLE_CALLBACK())\n      return\n    }\n\n    called = true\n    const r = stream._readableState\n    const w = stream._writableState\n    const s = w || r\n\n    if (r) {\n      r.constructed = true\n    }\n\n    if (w) {\n      w.constructed = true\n    }\n\n    if (s.destroyed) {\n      stream.emit(kDestroy, err)\n    } else if (err) {\n      errorOrDestroy(stream, err, true)\n    } else {\n      process.nextTick(emitConstructNT, stream)\n    }\n  }\n\n  try {\n    stream._construct(onConstruct)\n  } catch (err) {\n    onConstruct(err)\n  }\n}\n\nfunction emitConstructNT(stream) {\n  stream.emit(kConstruct)\n}\n\nfunction isRequest(stream) {\n  return stream && stream.setHeader && typeof stream.abort === 'function'\n}\n\nfunction emitCloseLegacy(stream) {\n  stream.emit('close')\n}\n\nfunction emitErrorCloseLegacy(stream, err) {\n  stream.emit('error', err)\n  process.nextTick(emitCloseLegacy, stream)\n} // Normalize destroy for legacy.\n\nfunction destroyer(stream, err) {\n  if (!stream || isDestroyed(stream)) {\n    return\n  }\n\n  if (!err && !isFinished(stream)) {\n    err = new AbortError()\n  } // TODO: Remove isRequest branches.\n\n  if (isServerRequest(stream)) {\n    stream.socket = null\n    stream.destroy(err)\n  } else if (isRequest(stream)) {\n    stream.abort()\n  } else if (isRequest(stream.req)) {\n    stream.req.abort()\n  } else if (typeof stream.destroy === 'function') {\n    stream.destroy(err)\n  } else if (typeof stream.close === 'function') {\n    // TODO: Don't lose err?\n    stream.close()\n  } else if (err) {\n    process.nextTick(emitErrorCloseLegacy, stream, err)\n  } else {\n    process.nextTick(emitCloseLegacy, stream)\n  }\n\n  if (!stream.destroyed) {\n    stream[kDestroyed] = true\n  }\n}\n\nmodule.exports = {\n  construct,\n  destroyer,\n  destroy,\n  undestroy,\n  errorOrDestroy\n}\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n// a duplex stream is just a stream that is both readable and writable.\n// Since JS doesn't have multiple prototype inheritance, this class\n// prototypically inherits from Readable, and then parasitically from\n// Writable.\n'use strict'\n\nconst {\n  ObjectDefineProperties,\n  ObjectGetOwnPropertyDescriptor,\n  ObjectKeys,\n  ObjectSetPrototypeOf\n} = require('../../ours/primordials')\n\nmodule.exports = Duplex\n\nconst Readable = require('./readable')\n\nconst Writable = require('./writable')\n\nObjectSetPrototypeOf(Duplex.prototype, Readable.prototype)\nObjectSetPrototypeOf(Duplex, Readable)\n{\n  const keys = ObjectKeys(Writable.prototype) // Allow the keys array to be GC'ed.\n\n  for (let i = 0; i < keys.length; i++) {\n    const method = keys[i]\n    if (!Duplex.prototype[method]) Duplex.prototype[method] = Writable.prototype[method]\n  }\n}\n\nfunction Duplex(options) {\n  if (!(this instanceof Duplex)) return new Duplex(options)\n  Readable.call(this, options)\n  Writable.call(this, options)\n\n  if (options) {\n    this.allowHalfOpen = options.allowHalfOpen !== false\n\n    if (options.readable === false) {\n      this._readableState.readable = false\n      this._readableState.ended = true\n      this._readableState.endEmitted = true\n    }\n\n    if (options.writable === false) {\n      this._writableState.writable = false\n      this._writableState.ending = true\n      this._writableState.ended = true\n      this._writableState.finished = true\n    }\n  } else {\n    this.allowHalfOpen = true\n  }\n}\n\nObjectDefineProperties(Duplex.prototype, {\n  writable: {\n    __proto__: null,\n    ...ObjectGetOwnPropertyDescriptor(Writable.prototype, 'writable')\n  },\n  writableHighWaterMark: {\n    __proto__: null,\n    ...ObjectGetOwnPropertyDescriptor(Writable.prototype, 'writableHighWaterMark')\n  },\n  writableObjectMode: {\n    __proto__: null,\n    ...ObjectGetOwnPropertyDescriptor(Writable.prototype, 'writableObjectMode')\n  },\n  writableBuffer: {\n    __proto__: null,\n    ...ObjectGetOwnPropertyDescriptor(Writable.prototype, 'writableBuffer')\n  },\n  writableLength: {\n    __proto__: null,\n    ...ObjectGetOwnPropertyDescriptor(Writable.prototype, 'writableLength')\n  },\n  writableFinished: {\n    __proto__: null,\n    ...ObjectGetOwnPropertyDescriptor(Writable.prototype, 'writableFinished')\n  },\n  writableCorked: {\n    __proto__: null,\n    ...ObjectGetOwnPropertyDescriptor(Writable.prototype, 'writableCorked')\n  },\n  writableEnded: {\n    __proto__: null,\n    ...ObjectGetOwnPropertyDescriptor(Writable.prototype, 'writableEnded')\n  },\n  writableNeedDrain: {\n    __proto__: null,\n    ...ObjectGetOwnPropertyDescriptor(Writable.prototype, 'writableNeedDrain')\n  },\n  destroyed: {\n    __proto__: null,\n\n    get() {\n      if (this._readableState === undefined || this._writableState === undefined) {\n        return false\n      }\n\n      return this._readableState.destroyed && this._writableState.destroyed\n    },\n\n    set(value) {\n      // Backward compatibility, the user is explicitly\n      // managing destroyed.\n      if (this._readableState && this._writableState) {\n        this._readableState.destroyed = value\n        this._writableState.destroyed = value\n      }\n    }\n  }\n})\nlet webStreamsAdapters // Lazy to avoid circular references\n\nfunction lazyWebStreams() {\n  if (webStreamsAdapters === undefined) webStreamsAdapters = {}\n  return webStreamsAdapters\n}\n\nDuplex.fromWeb = function (pair, options) {\n  return lazyWebStreams().newStreamDuplexFromReadableWritablePair(pair, options)\n}\n\nDuplex.toWeb = function (duplex) {\n  return lazyWebStreams().newReadableWritablePairFromDuplex(duplex)\n}\n\nlet duplexify\n\nDuplex.from = function (body) {\n  if (!duplexify) {\n    duplexify = require('./duplexify')\n  }\n\n  return duplexify(body, 'body')\n}\n","/* replacement start */\nconst process = require('process')\n/* replacement end */\n\n;('use strict')\n\nconst bufferModule = require('buffer')\n\nconst {\n  isReadable,\n  isWritable,\n  isIterable,\n  isNodeStream,\n  isReadableNodeStream,\n  isWritableNodeStream,\n  isDuplexNodeStream\n} = require('./utils')\n\nconst eos = require('./end-of-stream')\n\nconst {\n  AbortError,\n  codes: { ERR_INVALID_ARG_TYPE, ERR_INVALID_RETURN_VALUE }\n} = require('../../ours/errors')\n\nconst { destroyer } = require('./destroy')\n\nconst Duplex = require('./duplex')\n\nconst Readable = require('./readable')\n\nconst { createDeferredPromise } = require('../../ours/util')\n\nconst from = require('./from')\n\nconst Blob = globalThis.Blob || bufferModule.Blob\nconst isBlob =\n  typeof Blob !== 'undefined'\n    ? function isBlob(b) {\n        return b instanceof Blob\n      }\n    : function isBlob(b) {\n        return false\n      }\n\nconst AbortController = globalThis.AbortController || require('abort-controller').AbortController\n\nconst { FunctionPrototypeCall } = require('../../ours/primordials') // This is needed for pre node 17.\n\nclass Duplexify extends Duplex {\n  constructor(options) {\n    super(options) // https://github.com/nodejs/node/pull/34385\n\n    if ((options === null || options === undefined ? undefined : options.readable) === false) {\n      this._readableState.readable = false\n      this._readableState.ended = true\n      this._readableState.endEmitted = true\n    }\n\n    if ((options === null || options === undefined ? undefined : options.writable) === false) {\n      this._writableState.writable = false\n      this._writableState.ending = true\n      this._writableState.ended = true\n      this._writableState.finished = true\n    }\n  }\n}\n\nmodule.exports = function duplexify(body, name) {\n  if (isDuplexNodeStream(body)) {\n    return body\n  }\n\n  if (isReadableNodeStream(body)) {\n    return _duplexify({\n      readable: body\n    })\n  }\n\n  if (isWritableNodeStream(body)) {\n    return _duplexify({\n      writable: body\n    })\n  }\n\n  if (isNodeStream(body)) {\n    return _duplexify({\n      writable: false,\n      readable: false\n    })\n  } // TODO: Webstreams\n  // if (isReadableStream(body)) {\n  //   return _duplexify({ readable: Readable.fromWeb(body) });\n  // }\n  // TODO: Webstreams\n  // if (isWritableStream(body)) {\n  //   return _duplexify({ writable: Writable.fromWeb(body) });\n  // }\n\n  if (typeof body === 'function') {\n    const { value, write, final, destroy } = fromAsyncGen(body)\n\n    if (isIterable(value)) {\n      return from(Duplexify, value, {\n        // TODO (ronag): highWaterMark?\n        objectMode: true,\n        write,\n        final,\n        destroy\n      })\n    }\n\n    const then = value === null || value === undefined ? undefined : value.then\n\n    if (typeof then === 'function') {\n      let d\n      const promise = FunctionPrototypeCall(\n        then,\n        value,\n        (val) => {\n          if (val != null) {\n            throw new ERR_INVALID_RETURN_VALUE('nully', 'body', val)\n          }\n        },\n        (err) => {\n          destroyer(d, err)\n        }\n      )\n      return (d = new Duplexify({\n        // TODO (ronag): highWaterMark?\n        objectMode: true,\n        readable: false,\n        write,\n\n        final(cb) {\n          final(async () => {\n            try {\n              await promise\n              process.nextTick(cb, null)\n            } catch (err) {\n              process.nextTick(cb, err)\n            }\n          })\n        },\n\n        destroy\n      }))\n    }\n\n    throw new ERR_INVALID_RETURN_VALUE('Iterable, AsyncIterable or AsyncFunction', name, value)\n  }\n\n  if (isBlob(body)) {\n    return duplexify(body.arrayBuffer())\n  }\n\n  if (isIterable(body)) {\n    return from(Duplexify, body, {\n      // TODO (ronag): highWaterMark?\n      objectMode: true,\n      writable: false\n    })\n  } // TODO: Webstreams.\n  // if (\n  //   isReadableStream(body?.readable) &&\n  //   isWritableStream(body?.writable)\n  // ) {\n  //   return Duplexify.fromWeb(body);\n  // }\n\n  if (\n    typeof (body === null || body === undefined ? undefined : body.writable) === 'object' ||\n    typeof (body === null || body === undefined ? undefined : body.readable) === 'object'\n  ) {\n    const readable =\n      body !== null && body !== undefined && body.readable\n        ? isReadableNodeStream(body === null || body === undefined ? undefined : body.readable)\n          ? body === null || body === undefined\n            ? undefined\n            : body.readable\n          : duplexify(body.readable)\n        : undefined\n    const writable =\n      body !== null && body !== undefined && body.writable\n        ? isWritableNodeStream(body === null || body === undefined ? undefined : body.writable)\n          ? body === null || body === undefined\n            ? undefined\n            : body.writable\n          : duplexify(body.writable)\n        : undefined\n    return _duplexify({\n      readable,\n      writable\n    })\n  }\n\n  const then = body === null || body === undefined ? undefined : body.then\n\n  if (typeof then === 'function') {\n    let d\n    FunctionPrototypeCall(\n      then,\n      body,\n      (val) => {\n        if (val != null) {\n          d.push(val)\n        }\n\n        d.push(null)\n      },\n      (err) => {\n        destroyer(d, err)\n      }\n    )\n    return (d = new Duplexify({\n      objectMode: true,\n      writable: false,\n\n      read() {}\n    }))\n  }\n\n  throw new ERR_INVALID_ARG_TYPE(\n    name,\n    [\n      'Blob',\n      'ReadableStream',\n      'WritableStream',\n      'Stream',\n      'Iterable',\n      'AsyncIterable',\n      'Function',\n      '{ readable, writable } pair',\n      'Promise'\n    ],\n    body\n  )\n}\n\nfunction fromAsyncGen(fn) {\n  let { promise, resolve } = createDeferredPromise()\n  const ac = new AbortController()\n  const signal = ac.signal\n  const value = fn(\n    (async function* () {\n      while (true) {\n        const _promise = promise\n        promise = null\n        const { chunk, done, cb } = await _promise\n        process.nextTick(cb)\n        if (done) return\n        if (signal.aborted)\n          throw new AbortError(undefined, {\n            cause: signal.reason\n          })\n        ;({ promise, resolve } = createDeferredPromise())\n        yield chunk\n      }\n    })(),\n    {\n      signal\n    }\n  )\n  return {\n    value,\n\n    write(chunk, encoding, cb) {\n      const _resolve = resolve\n      resolve = null\n\n      _resolve({\n        chunk,\n        done: false,\n        cb\n      })\n    },\n\n    final(cb) {\n      const _resolve = resolve\n      resolve = null\n\n      _resolve({\n        done: true,\n        cb\n      })\n    },\n\n    destroy(err, cb) {\n      ac.abort()\n      cb(err)\n    }\n  }\n}\n\nfunction _duplexify(pair) {\n  const r = pair.readable && typeof pair.readable.read !== 'function' ? Readable.wrap(pair.readable) : pair.readable\n  const w = pair.writable\n  let readable = !!isReadable(r)\n  let writable = !!isWritable(w)\n  let ondrain\n  let onfinish\n  let onreadable\n  let onclose\n  let d\n\n  function onfinished(err) {\n    const cb = onclose\n    onclose = null\n\n    if (cb) {\n      cb(err)\n    } else if (err) {\n      d.destroy(err)\n    } else if (!readable && !writable) {\n      d.destroy()\n    }\n  } // TODO(ronag): Avoid double buffering.\n  // Implement Writable/Readable/Duplex traits.\n  // See, https://github.com/nodejs/node/pull/33515.\n\n  d = new Duplexify({\n    // TODO (ronag): highWaterMark?\n    readableObjectMode: !!(r !== null && r !== undefined && r.readableObjectMode),\n    writableObjectMode: !!(w !== null && w !== undefined && w.writableObjectMode),\n    readable,\n    writable\n  })\n\n  if (writable) {\n    eos(w, (err) => {\n      writable = false\n\n      if (err) {\n        destroyer(r, err)\n      }\n\n      onfinished(err)\n    })\n\n    d._write = function (chunk, encoding, callback) {\n      if (w.write(chunk, encoding)) {\n        callback()\n      } else {\n        ondrain = callback\n      }\n    }\n\n    d._final = function (callback) {\n      w.end()\n      onfinish = callback\n    }\n\n    w.on('drain', function () {\n      if (ondrain) {\n        const cb = ondrain\n        ondrain = null\n        cb()\n      }\n    })\n    w.on('finish', function () {\n      if (onfinish) {\n        const cb = onfinish\n        onfinish = null\n        cb()\n      }\n    })\n  }\n\n  if (readable) {\n    eos(r, (err) => {\n      readable = false\n\n      if (err) {\n        destroyer(r, err)\n      }\n\n      onfinished(err)\n    })\n    r.on('readable', function () {\n      if (onreadable) {\n        const cb = onreadable\n        onreadable = null\n        cb()\n      }\n    })\n    r.on('end', function () {\n      d.push(null)\n    })\n\n    d._read = function () {\n      while (true) {\n        const buf = r.read()\n\n        if (buf === null) {\n          onreadable = d._read\n          return\n        }\n\n        if (!d.push(buf)) {\n          return\n        }\n      }\n    }\n  }\n\n  d._destroy = function (err, callback) {\n    if (!err && onclose !== null) {\n      err = new AbortError()\n    }\n\n    onreadable = null\n    ondrain = null\n    onfinish = null\n\n    if (onclose === null) {\n      callback(err)\n    } else {\n      onclose = callback\n      destroyer(w, err)\n      destroyer(r, err)\n    }\n  }\n\n  return d\n}\n","/* replacement start */\nconst process = require('process')\n/* replacement end */\n// Ported from https://github.com/mafintosh/end-of-stream with\n// permission from the author, Mathias Buus (@mafintosh).\n\n;('use strict')\n\nconst { AbortError, codes } = require('../../ours/errors')\n\nconst { ERR_INVALID_ARG_TYPE, ERR_STREAM_PREMATURE_CLOSE } = codes\n\nconst { kEmptyObject, once } = require('../../ours/util')\n\nconst { validateAbortSignal, validateFunction, validateObject } = require('../validators')\n\nconst { Promise } = require('../../ours/primordials')\n\nconst {\n  isClosed,\n  isReadable,\n  isReadableNodeStream,\n  isReadableFinished,\n  isReadableErrored,\n  isWritable,\n  isWritableNodeStream,\n  isWritableFinished,\n  isWritableErrored,\n  isNodeStream,\n  willEmitClose: _willEmitClose\n} = require('./utils')\n\nfunction isRequest(stream) {\n  return stream.setHeader && typeof stream.abort === 'function'\n}\n\nconst nop = () => {}\n\nfunction eos(stream, options, callback) {\n  var _options$readable, _options$writable\n\n  if (arguments.length === 2) {\n    callback = options\n    options = kEmptyObject\n  } else if (options == null) {\n    options = kEmptyObject\n  } else {\n    validateObject(options, 'options')\n  }\n\n  validateFunction(callback, 'callback')\n  validateAbortSignal(options.signal, 'options.signal')\n  callback = once(callback)\n  const readable =\n    (_options$readable = options.readable) !== null && _options$readable !== undefined\n      ? _options$readable\n      : isReadableNodeStream(stream)\n  const writable =\n    (_options$writable = options.writable) !== null && _options$writable !== undefined\n      ? _options$writable\n      : isWritableNodeStream(stream)\n\n  if (!isNodeStream(stream)) {\n    // TODO: Webstreams.\n    throw new ERR_INVALID_ARG_TYPE('stream', 'Stream', stream)\n  }\n\n  const wState = stream._writableState\n  const rState = stream._readableState\n\n  const onlegacyfinish = () => {\n    if (!stream.writable) {\n      onfinish()\n    }\n  } // TODO (ronag): Improve soft detection to include core modules and\n  // common ecosystem modules that do properly emit 'close' but fail\n  // this generic check.\n\n  let willEmitClose =\n    _willEmitClose(stream) && isReadableNodeStream(stream) === readable && isWritableNodeStream(stream) === writable\n  let writableFinished = isWritableFinished(stream, false)\n\n  const onfinish = () => {\n    writableFinished = true // Stream should not be destroyed here. If it is that\n    // means that user space is doing something differently and\n    // we cannot trust willEmitClose.\n\n    if (stream.destroyed) {\n      willEmitClose = false\n    }\n\n    if (willEmitClose && (!stream.readable || readable)) {\n      return\n    }\n\n    if (!readable || readableFinished) {\n      callback.call(stream)\n    }\n  }\n\n  let readableFinished = isReadableFinished(stream, false)\n\n  const onend = () => {\n    readableFinished = true // Stream should not be destroyed here. If it is that\n    // means that user space is doing something differently and\n    // we cannot trust willEmitClose.\n\n    if (stream.destroyed) {\n      willEmitClose = false\n    }\n\n    if (willEmitClose && (!stream.writable || writable)) {\n      return\n    }\n\n    if (!writable || writableFinished) {\n      callback.call(stream)\n    }\n  }\n\n  const onerror = (err) => {\n    callback.call(stream, err)\n  }\n\n  let closed = isClosed(stream)\n\n  const onclose = () => {\n    closed = true\n    const errored = isWritableErrored(stream) || isReadableErrored(stream)\n\n    if (errored && typeof errored !== 'boolean') {\n      return callback.call(stream, errored)\n    }\n\n    if (readable && !readableFinished && isReadableNodeStream(stream, true)) {\n      if (!isReadableFinished(stream, false)) return callback.call(stream, new ERR_STREAM_PREMATURE_CLOSE())\n    }\n\n    if (writable && !writableFinished) {\n      if (!isWritableFinished(stream, false)) return callback.call(stream, new ERR_STREAM_PREMATURE_CLOSE())\n    }\n\n    callback.call(stream)\n  }\n\n  const onrequest = () => {\n    stream.req.on('finish', onfinish)\n  }\n\n  if (isRequest(stream)) {\n    stream.on('complete', onfinish)\n\n    if (!willEmitClose) {\n      stream.on('abort', onclose)\n    }\n\n    if (stream.req) {\n      onrequest()\n    } else {\n      stream.on('request', onrequest)\n    }\n  } else if (writable && !wState) {\n    // legacy streams\n    stream.on('end', onlegacyfinish)\n    stream.on('close', onlegacyfinish)\n  } // Not all streams will emit 'close' after 'aborted'.\n\n  if (!willEmitClose && typeof stream.aborted === 'boolean') {\n    stream.on('aborted', onclose)\n  }\n\n  stream.on('end', onend)\n  stream.on('finish', onfinish)\n\n  if (options.error !== false) {\n    stream.on('error', onerror)\n  }\n\n  stream.on('close', onclose)\n\n  if (closed) {\n    process.nextTick(onclose)\n  } else if (\n    (wState !== null && wState !== undefined && wState.errorEmitted) ||\n    (rState !== null && rState !== undefined && rState.errorEmitted)\n  ) {\n    if (!willEmitClose) {\n      process.nextTick(onclose)\n    }\n  } else if (\n    !readable &&\n    (!willEmitClose || isReadable(stream)) &&\n    (writableFinished || isWritable(stream) === false)\n  ) {\n    process.nextTick(onclose)\n  } else if (\n    !writable &&\n    (!willEmitClose || isWritable(stream)) &&\n    (readableFinished || isReadable(stream) === false)\n  ) {\n    process.nextTick(onclose)\n  } else if (rState && stream.req && stream.aborted) {\n    process.nextTick(onclose)\n  }\n\n  const cleanup = () => {\n    callback = nop\n    stream.removeListener('aborted', onclose)\n    stream.removeListener('complete', onfinish)\n    stream.removeListener('abort', onclose)\n    stream.removeListener('request', onrequest)\n    if (stream.req) stream.req.removeListener('finish', onfinish)\n    stream.removeListener('end', onlegacyfinish)\n    stream.removeListener('close', onlegacyfinish)\n    stream.removeListener('finish', onfinish)\n    stream.removeListener('end', onend)\n    stream.removeListener('error', onerror)\n    stream.removeListener('close', onclose)\n  }\n\n  if (options.signal && !closed) {\n    const abort = () => {\n      // Keep it because cleanup removes it.\n      const endCallback = callback\n      cleanup()\n      endCallback.call(\n        stream,\n        new AbortError(undefined, {\n          cause: options.signal.reason\n        })\n      )\n    }\n\n    if (options.signal.aborted) {\n      process.nextTick(abort)\n    } else {\n      const originalCallback = callback\n      callback = once((...args) => {\n        options.signal.removeEventListener('abort', abort)\n        originalCallback.apply(stream, args)\n      })\n      options.signal.addEventListener('abort', abort)\n    }\n  }\n\n  return cleanup\n}\n\nfunction finished(stream, opts) {\n  return new Promise((resolve, reject) => {\n    eos(stream, opts, (err) => {\n      if (err) {\n        reject(err)\n      } else {\n        resolve()\n      }\n    })\n  })\n}\n\nmodule.exports = eos\nmodule.exports.finished = finished\n","'use strict'\n\n/* replacement start */\n\nconst process = require('process')\n/* replacement end */\n\nconst { PromisePrototypeThen, SymbolAsyncIterator, SymbolIterator } = require('../../ours/primordials')\n\nconst { Buffer } = require('buffer')\n\nconst { ERR_INVALID_ARG_TYPE, ERR_STREAM_NULL_VALUES } = require('../../ours/errors').codes\n\nfunction from(Readable, iterable, opts) {\n  let iterator\n\n  if (typeof iterable === 'string' || iterable instanceof Buffer) {\n    return new Readable({\n      objectMode: true,\n      ...opts,\n\n      read() {\n        this.push(iterable)\n        this.push(null)\n      }\n    })\n  }\n\n  let isAsync\n\n  if (iterable && iterable[SymbolAsyncIterator]) {\n    isAsync = true\n    iterator = iterable[SymbolAsyncIterator]()\n  } else if (iterable && iterable[SymbolIterator]) {\n    isAsync = false\n    iterator = iterable[SymbolIterator]()\n  } else {\n    throw new ERR_INVALID_ARG_TYPE('iterable', ['Iterable'], iterable)\n  }\n\n  const readable = new Readable({\n    objectMode: true,\n    highWaterMark: 1,\n    // TODO(ronag): What options should be allowed?\n    ...opts\n  }) // Flag to protect against _read\n  // being called before last iteration completion.\n\n  let reading = false\n\n  readable._read = function () {\n    if (!reading) {\n      reading = true\n      next()\n    }\n  }\n\n  readable._destroy = function (error, cb) {\n    PromisePrototypeThen(\n      close(error),\n      () => process.nextTick(cb, error), // nextTick is here in case cb throws\n      (e) => process.nextTick(cb, e || error)\n    )\n  }\n\n  async function close(error) {\n    const hadError = error !== undefined && error !== null\n    const hasThrow = typeof iterator.throw === 'function'\n\n    if (hadError && hasThrow) {\n      const { value, done } = await iterator.throw(error)\n      await value\n\n      if (done) {\n        return\n      }\n    }\n\n    if (typeof iterator.return === 'function') {\n      const { value } = await iterator.return()\n      await value\n    }\n  }\n\n  async function next() {\n    for (;;) {\n      try {\n        const { value, done } = isAsync ? await iterator.next() : iterator.next()\n\n        if (done) {\n          readable.push(null)\n        } else {\n          const res = value && typeof value.then === 'function' ? await value : value\n\n          if (res === null) {\n            reading = false\n            throw new ERR_STREAM_NULL_VALUES()\n          } else if (readable.push(res)) {\n            continue\n          } else {\n            reading = false\n          }\n        }\n      } catch (err) {\n        readable.destroy(err)\n      }\n\n      break\n    }\n  }\n\n  return readable\n}\n\nmodule.exports = from\n","'use strict'\n\nconst { ArrayIsArray, ObjectSetPrototypeOf } = require('../../ours/primordials')\n\nconst { EventEmitter: EE } = require('events')\n\nfunction Stream(opts) {\n  EE.call(this, opts)\n}\n\nObjectSetPrototypeOf(Stream.prototype, EE.prototype)\nObjectSetPrototypeOf(Stream, EE)\n\nStream.prototype.pipe = function (dest, options) {\n  const source = this\n\n  function ondata(chunk) {\n    if (dest.writable && dest.write(chunk) === false && source.pause) {\n      source.pause()\n    }\n  }\n\n  source.on('data', ondata)\n\n  function ondrain() {\n    if (source.readable && source.resume) {\n      source.resume()\n    }\n  }\n\n  dest.on('drain', ondrain) // If the 'end' option is not supplied, dest.end() will be called when\n  // source gets the 'end' or 'close' events.  Only dest.end() once.\n\n  if (!dest._isStdio && (!options || options.end !== false)) {\n    source.on('end', onend)\n    source.on('close', onclose)\n  }\n\n  let didOnEnd = false\n\n  function onend() {\n    if (didOnEnd) return\n    didOnEnd = true\n    dest.end()\n  }\n\n  function onclose() {\n    if (didOnEnd) return\n    didOnEnd = true\n    if (typeof dest.destroy === 'function') dest.destroy()\n  } // Don't leave dangling pipes when there are errors.\n\n  function onerror(er) {\n    cleanup()\n\n    if (EE.listenerCount(this, 'error') === 0) {\n      this.emit('error', er)\n    }\n  }\n\n  prependListener(source, 'error', onerror)\n  prependListener(dest, 'error', onerror) // Remove all the event listeners that were added.\n\n  function cleanup() {\n    source.removeListener('data', ondata)\n    dest.removeListener('drain', ondrain)\n    source.removeListener('end', onend)\n    source.removeListener('close', onclose)\n    source.removeListener('error', onerror)\n    dest.removeListener('error', onerror)\n    source.removeListener('end', cleanup)\n    source.removeListener('close', cleanup)\n    dest.removeListener('close', cleanup)\n  }\n\n  source.on('end', cleanup)\n  source.on('close', cleanup)\n  dest.on('close', cleanup)\n  dest.emit('pipe', source) // Allow for unix-like usage: A.pipe(B).pipe(C)\n\n  return dest\n}\n\nfunction prependListener(emitter, event, fn) {\n  // Sadly this is not cacheable as some libraries bundle their own\n  // event emitter implementation with them.\n  if (typeof emitter.prependListener === 'function') return emitter.prependListener(event, fn) // This is a hack to make sure that our error handler is attached before any\n  // userland ones.  NEVER DO THIS. This is here only because this code needs\n  // to continue to work with older versions of Node.js that do not include\n  // the prependListener() method. The goal is to eventually remove this hack.\n\n  if (!emitter._events || !emitter._events[event]) emitter.on(event, fn)\n  else if (ArrayIsArray(emitter._events[event])) emitter._events[event].unshift(fn)\n  else emitter._events[event] = [fn, emitter._events[event]]\n}\n\nmodule.exports = {\n  Stream,\n  prependListener\n}\n","'use strict'\n\nconst AbortController = globalThis.AbortController || require('abort-controller').AbortController\n\nconst {\n  codes: { ERR_INVALID_ARG_TYPE, ERR_MISSING_ARGS, ERR_OUT_OF_RANGE },\n  AbortError\n} = require('../../ours/errors')\n\nconst { validateAbortSignal, validateInteger, validateObject } = require('../validators')\n\nconst kWeakHandler = require('../../ours/primordials').Symbol('kWeak')\n\nconst { finished } = require('./end-of-stream')\n\nconst {\n  ArrayPrototypePush,\n  MathFloor,\n  Number,\n  NumberIsNaN,\n  Promise,\n  PromiseReject,\n  PromisePrototypeThen,\n  Symbol\n} = require('../../ours/primordials')\n\nconst kEmpty = Symbol('kEmpty')\nconst kEof = Symbol('kEof')\n\nfunction map(fn, options) {\n  if (typeof fn !== 'function') {\n    throw new ERR_INVALID_ARG_TYPE('fn', ['Function', 'AsyncFunction'], fn)\n  }\n\n  if (options != null) {\n    validateObject(options, 'options')\n  }\n\n  if ((options === null || options === undefined ? undefined : options.signal) != null) {\n    validateAbortSignal(options.signal, 'options.signal')\n  }\n\n  let concurrency = 1\n\n  if ((options === null || options === undefined ? undefined : options.concurrency) != null) {\n    concurrency = MathFloor(options.concurrency)\n  }\n\n  validateInteger(concurrency, 'concurrency', 1)\n  return async function* map() {\n    var _options$signal, _options$signal2\n\n    const ac = new AbortController()\n    const stream = this\n    const queue = []\n    const signal = ac.signal\n    const signalOpt = {\n      signal\n    }\n\n    const abort = () => ac.abort()\n\n    if (\n      options !== null &&\n      options !== undefined &&\n      (_options$signal = options.signal) !== null &&\n      _options$signal !== undefined &&\n      _options$signal.aborted\n    ) {\n      abort()\n    }\n\n    options === null || options === undefined\n      ? undefined\n      : (_options$signal2 = options.signal) === null || _options$signal2 === undefined\n      ? undefined\n      : _options$signal2.addEventListener('abort', abort)\n    let next\n    let resume\n    let done = false\n\n    function onDone() {\n      done = true\n    }\n\n    async function pump() {\n      try {\n        for await (let val of stream) {\n          var _val\n\n          if (done) {\n            return\n          }\n\n          if (signal.aborted) {\n            throw new AbortError()\n          }\n\n          try {\n            val = fn(val, signalOpt)\n          } catch (err) {\n            val = PromiseReject(err)\n          }\n\n          if (val === kEmpty) {\n            continue\n          }\n\n          if (typeof ((_val = val) === null || _val === undefined ? undefined : _val.catch) === 'function') {\n            val.catch(onDone)\n          }\n\n          queue.push(val)\n\n          if (next) {\n            next()\n            next = null\n          }\n\n          if (!done && queue.length && queue.length >= concurrency) {\n            await new Promise((resolve) => {\n              resume = resolve\n            })\n          }\n        }\n\n        queue.push(kEof)\n      } catch (err) {\n        const val = PromiseReject(err)\n        PromisePrototypeThen(val, undefined, onDone)\n        queue.push(val)\n      } finally {\n        var _options$signal3\n\n        done = true\n\n        if (next) {\n          next()\n          next = null\n        }\n\n        options === null || options === undefined\n          ? undefined\n          : (_options$signal3 = options.signal) === null || _options$signal3 === undefined\n          ? undefined\n          : _options$signal3.removeEventListener('abort', abort)\n      }\n    }\n\n    pump()\n\n    try {\n      while (true) {\n        while (queue.length > 0) {\n          const val = await queue[0]\n\n          if (val === kEof) {\n            return\n          }\n\n          if (signal.aborted) {\n            throw new AbortError()\n          }\n\n          if (val !== kEmpty) {\n            yield val\n          }\n\n          queue.shift()\n\n          if (resume) {\n            resume()\n            resume = null\n          }\n        }\n\n        await new Promise((resolve) => {\n          next = resolve\n        })\n      }\n    } finally {\n      ac.abort()\n      done = true\n\n      if (resume) {\n        resume()\n        resume = null\n      }\n    }\n  }.call(this)\n}\n\nfunction asIndexedPairs(options = undefined) {\n  if (options != null) {\n    validateObject(options, 'options')\n  }\n\n  if ((options === null || options === undefined ? undefined : options.signal) != null) {\n    validateAbortSignal(options.signal, 'options.signal')\n  }\n\n  return async function* asIndexedPairs() {\n    let index = 0\n\n    for await (const val of this) {\n      var _options$signal4\n\n      if (\n        options !== null &&\n        options !== undefined &&\n        (_options$signal4 = options.signal) !== null &&\n        _options$signal4 !== undefined &&\n        _options$signal4.aborted\n      ) {\n        throw new AbortError({\n          cause: options.signal.reason\n        })\n      }\n\n      yield [index++, val]\n    }\n  }.call(this)\n}\n\nasync function some(fn, options = undefined) {\n  for await (const unused of filter.call(this, fn, options)) {\n    return true\n  }\n\n  return false\n}\n\nasync function every(fn, options = undefined) {\n  if (typeof fn !== 'function') {\n    throw new ERR_INVALID_ARG_TYPE('fn', ['Function', 'AsyncFunction'], fn)\n  } // https://en.wikipedia.org/wiki/De_Morgan%27s_laws\n\n  return !(await some.call(\n    this,\n    async (...args) => {\n      return !(await fn(...args))\n    },\n    options\n  ))\n}\n\nasync function find(fn, options) {\n  for await (const result of filter.call(this, fn, options)) {\n    return result\n  }\n\n  return undefined\n}\n\nasync function forEach(fn, options) {\n  if (typeof fn !== 'function') {\n    throw new ERR_INVALID_ARG_TYPE('fn', ['Function', 'AsyncFunction'], fn)\n  }\n\n  async function forEachFn(value, options) {\n    await fn(value, options)\n    return kEmpty\n  } // eslint-disable-next-line no-unused-vars\n\n  for await (const unused of map.call(this, forEachFn, options));\n}\n\nfunction filter(fn, options) {\n  if (typeof fn !== 'function') {\n    throw new ERR_INVALID_ARG_TYPE('fn', ['Function', 'AsyncFunction'], fn)\n  }\n\n  async function filterFn(value, options) {\n    if (await fn(value, options)) {\n      return value\n    }\n\n    return kEmpty\n  }\n\n  return map.call(this, filterFn, options)\n} // Specific to provide better error to reduce since the argument is only\n// missing if the stream has no items in it - but the code is still appropriate\n\nclass ReduceAwareErrMissingArgs extends ERR_MISSING_ARGS {\n  constructor() {\n    super('reduce')\n    this.message = 'Reduce of an empty stream requires an initial value'\n  }\n}\n\nasync function reduce(reducer, initialValue, options) {\n  var _options$signal5\n\n  if (typeof reducer !== 'function') {\n    throw new ERR_INVALID_ARG_TYPE('reducer', ['Function', 'AsyncFunction'], reducer)\n  }\n\n  if (options != null) {\n    validateObject(options, 'options')\n  }\n\n  if ((options === null || options === undefined ? undefined : options.signal) != null) {\n    validateAbortSignal(options.signal, 'options.signal')\n  }\n\n  let hasInitialValue = arguments.length > 1\n\n  if (\n    options !== null &&\n    options !== undefined &&\n    (_options$signal5 = options.signal) !== null &&\n    _options$signal5 !== undefined &&\n    _options$signal5.aborted\n  ) {\n    const err = new AbortError(undefined, {\n      cause: options.signal.reason\n    })\n    this.once('error', () => {}) // The error is already propagated\n\n    await finished(this.destroy(err))\n    throw err\n  }\n\n  const ac = new AbortController()\n  const signal = ac.signal\n\n  if (options !== null && options !== undefined && options.signal) {\n    const opts = {\n      once: true,\n      [kWeakHandler]: this\n    }\n    options.signal.addEventListener('abort', () => ac.abort(), opts)\n  }\n\n  let gotAnyItemFromStream = false\n\n  try {\n    for await (const value of this) {\n      var _options$signal6\n\n      gotAnyItemFromStream = true\n\n      if (\n        options !== null &&\n        options !== undefined &&\n        (_options$signal6 = options.signal) !== null &&\n        _options$signal6 !== undefined &&\n        _options$signal6.aborted\n      ) {\n        throw new AbortError()\n      }\n\n      if (!hasInitialValue) {\n        initialValue = value\n        hasInitialValue = true\n      } else {\n        initialValue = await reducer(initialValue, value, {\n          signal\n        })\n      }\n    }\n\n    if (!gotAnyItemFromStream && !hasInitialValue) {\n      throw new ReduceAwareErrMissingArgs()\n    }\n  } finally {\n    ac.abort()\n  }\n\n  return initialValue\n}\n\nasync function toArray(options) {\n  if (options != null) {\n    validateObject(options, 'options')\n  }\n\n  if ((options === null || options === undefined ? undefined : options.signal) != null) {\n    validateAbortSignal(options.signal, 'options.signal')\n  }\n\n  const result = []\n\n  for await (const val of this) {\n    var _options$signal7\n\n    if (\n      options !== null &&\n      options !== undefined &&\n      (_options$signal7 = options.signal) !== null &&\n      _options$signal7 !== undefined &&\n      _options$signal7.aborted\n    ) {\n      throw new AbortError(undefined, {\n        cause: options.signal.reason\n      })\n    }\n\n    ArrayPrototypePush(result, val)\n  }\n\n  return result\n}\n\nfunction flatMap(fn, options) {\n  const values = map.call(this, fn, options)\n  return async function* flatMap() {\n    for await (const val of values) {\n      yield* val\n    }\n  }.call(this)\n}\n\nfunction toIntegerOrInfinity(number) {\n  // We coerce here to align with the spec\n  // https://github.com/tc39/proposal-iterator-helpers/issues/169\n  number = Number(number)\n\n  if (NumberIsNaN(number)) {\n    return 0\n  }\n\n  if (number < 0) {\n    throw new ERR_OUT_OF_RANGE('number', '>= 0', number)\n  }\n\n  return number\n}\n\nfunction drop(number, options = undefined) {\n  if (options != null) {\n    validateObject(options, 'options')\n  }\n\n  if ((options === null || options === undefined ? undefined : options.signal) != null) {\n    validateAbortSignal(options.signal, 'options.signal')\n  }\n\n  number = toIntegerOrInfinity(number)\n  return async function* drop() {\n    var _options$signal8\n\n    if (\n      options !== null &&\n      options !== undefined &&\n      (_options$signal8 = options.signal) !== null &&\n      _options$signal8 !== undefined &&\n      _options$signal8.aborted\n    ) {\n      throw new AbortError()\n    }\n\n    for await (const val of this) {\n      var _options$signal9\n\n      if (\n        options !== null &&\n        options !== undefined &&\n        (_options$signal9 = options.signal) !== null &&\n        _options$signal9 !== undefined &&\n        _options$signal9.aborted\n      ) {\n        throw new AbortError()\n      }\n\n      if (number-- <= 0) {\n        yield val\n      }\n    }\n  }.call(this)\n}\n\nfunction take(number, options = undefined) {\n  if (options != null) {\n    validateObject(options, 'options')\n  }\n\n  if ((options === null || options === undefined ? undefined : options.signal) != null) {\n    validateAbortSignal(options.signal, 'options.signal')\n  }\n\n  number = toIntegerOrInfinity(number)\n  return async function* take() {\n    var _options$signal10\n\n    if (\n      options !== null &&\n      options !== undefined &&\n      (_options$signal10 = options.signal) !== null &&\n      _options$signal10 !== undefined &&\n      _options$signal10.aborted\n    ) {\n      throw new AbortError()\n    }\n\n    for await (const val of this) {\n      var _options$signal11\n\n      if (\n        options !== null &&\n        options !== undefined &&\n        (_options$signal11 = options.signal) !== null &&\n        _options$signal11 !== undefined &&\n        _options$signal11.aborted\n      ) {\n        throw new AbortError()\n      }\n\n      if (number-- > 0) {\n        yield val\n      } else {\n        return\n      }\n    }\n  }.call(this)\n}\n\nmodule.exports.streamReturningOperators = {\n  asIndexedPairs,\n  drop,\n  filter,\n  flatMap,\n  map,\n  take\n}\nmodule.exports.promiseReturningOperators = {\n  every,\n  forEach,\n  reduce,\n  toArray,\n  some,\n  find\n}\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n// a passthrough stream.\n// basically just the most minimal sort of Transform stream.\n// Every written chunk gets output as-is.\n'use strict'\n\nconst { ObjectSetPrototypeOf } = require('../../ours/primordials')\n\nmodule.exports = PassThrough\n\nconst Transform = require('./transform')\n\nObjectSetPrototypeOf(PassThrough.prototype, Transform.prototype)\nObjectSetPrototypeOf(PassThrough, Transform)\n\nfunction PassThrough(options) {\n  if (!(this instanceof PassThrough)) return new PassThrough(options)\n  Transform.call(this, options)\n}\n\nPassThrough.prototype._transform = function (chunk, encoding, cb) {\n  cb(null, chunk)\n}\n","/* replacement start */\nconst process = require('process')\n/* replacement end */\n// Ported from https://github.com/mafintosh/pump with\n// permission from the author, Mathias Buus (@mafintosh).\n\n;('use strict')\n\nconst { ArrayIsArray, Promise, SymbolAsyncIterator } = require('../../ours/primordials')\n\nconst eos = require('./end-of-stream')\n\nconst { once } = require('../../ours/util')\n\nconst destroyImpl = require('./destroy')\n\nconst Duplex = require('./duplex')\n\nconst {\n  aggregateTwoErrors,\n  codes: {\n    ERR_INVALID_ARG_TYPE,\n    ERR_INVALID_RETURN_VALUE,\n    ERR_MISSING_ARGS,\n    ERR_STREAM_DESTROYED,\n    ERR_STREAM_PREMATURE_CLOSE\n  },\n  AbortError\n} = require('../../ours/errors')\n\nconst { validateFunction, validateAbortSignal } = require('../validators')\n\nconst { isIterable, isReadable, isReadableNodeStream, isNodeStream } = require('./utils')\n\nconst AbortController = globalThis.AbortController || require('abort-controller').AbortController\n\nlet PassThrough\nlet Readable\n\nfunction destroyer(stream, reading, writing) {\n  let finished = false\n  stream.on('close', () => {\n    finished = true\n  })\n  const cleanup = eos(\n    stream,\n    {\n      readable: reading,\n      writable: writing\n    },\n    (err) => {\n      finished = !err\n    }\n  )\n  return {\n    destroy: (err) => {\n      if (finished) return\n      finished = true\n      destroyImpl.destroyer(stream, err || new ERR_STREAM_DESTROYED('pipe'))\n    },\n    cleanup\n  }\n}\n\nfunction popCallback(streams) {\n  // Streams should never be an empty array. It should always contain at least\n  // a single stream. Therefore optimize for the average case instead of\n  // checking for length === 0 as well.\n  validateFunction(streams[streams.length - 1], 'streams[stream.length - 1]')\n  return streams.pop()\n}\n\nfunction makeAsyncIterable(val) {\n  if (isIterable(val)) {\n    return val\n  } else if (isReadableNodeStream(val)) {\n    // Legacy streams are not Iterable.\n    return fromReadable(val)\n  }\n\n  throw new ERR_INVALID_ARG_TYPE('val', ['Readable', 'Iterable', 'AsyncIterable'], val)\n}\n\nasync function* fromReadable(val) {\n  if (!Readable) {\n    Readable = require('./readable')\n  }\n\n  yield* Readable.prototype[SymbolAsyncIterator].call(val)\n}\n\nasync function pump(iterable, writable, finish, { end }) {\n  let error\n  let onresolve = null\n\n  const resume = (err) => {\n    if (err) {\n      error = err\n    }\n\n    if (onresolve) {\n      const callback = onresolve\n      onresolve = null\n      callback()\n    }\n  }\n\n  const wait = () =>\n    new Promise((resolve, reject) => {\n      if (error) {\n        reject(error)\n      } else {\n        onresolve = () => {\n          if (error) {\n            reject(error)\n          } else {\n            resolve()\n          }\n        }\n      }\n    })\n\n  writable.on('drain', resume)\n  const cleanup = eos(\n    writable,\n    {\n      readable: false\n    },\n    resume\n  )\n\n  try {\n    if (writable.writableNeedDrain) {\n      await wait()\n    }\n\n    for await (const chunk of iterable) {\n      if (!writable.write(chunk)) {\n        await wait()\n      }\n    }\n\n    if (end) {\n      writable.end()\n    }\n\n    await wait()\n    finish()\n  } catch (err) {\n    finish(error !== err ? aggregateTwoErrors(error, err) : err)\n  } finally {\n    cleanup()\n    writable.off('drain', resume)\n  }\n}\n\nfunction pipeline(...streams) {\n  return pipelineImpl(streams, once(popCallback(streams)))\n}\n\nfunction pipelineImpl(streams, callback, opts) {\n  if (streams.length === 1 && ArrayIsArray(streams[0])) {\n    streams = streams[0]\n  }\n\n  if (streams.length < 2) {\n    throw new ERR_MISSING_ARGS('streams')\n  }\n\n  const ac = new AbortController()\n  const signal = ac.signal\n  const outerSignal = opts === null || opts === undefined ? undefined : opts.signal // Need to cleanup event listeners if last stream is readable\n  // https://github.com/nodejs/node/issues/35452\n\n  const lastStreamCleanup = []\n  validateAbortSignal(outerSignal, 'options.signal')\n\n  function abort() {\n    finishImpl(new AbortError())\n  }\n\n  outerSignal === null || outerSignal === undefined ? undefined : outerSignal.addEventListener('abort', abort)\n  let error\n  let value\n  const destroys = []\n  let finishCount = 0\n\n  function finish(err) {\n    finishImpl(err, --finishCount === 0)\n  }\n\n  function finishImpl(err, final) {\n    if (err && (!error || error.code === 'ERR_STREAM_PREMATURE_CLOSE')) {\n      error = err\n    }\n\n    if (!error && !final) {\n      return\n    }\n\n    while (destroys.length) {\n      destroys.shift()(error)\n    }\n\n    outerSignal === null || outerSignal === undefined ? undefined : outerSignal.removeEventListener('abort', abort)\n    ac.abort()\n\n    if (final) {\n      if (!error) {\n        lastStreamCleanup.forEach((fn) => fn())\n      }\n\n      process.nextTick(callback, error, value)\n    }\n  }\n\n  let ret\n\n  for (let i = 0; i < streams.length; i++) {\n    const stream = streams[i]\n    const reading = i < streams.length - 1\n    const writing = i > 0\n    const end = reading || (opts === null || opts === undefined ? undefined : opts.end) !== false\n    const isLastStream = i === streams.length - 1\n\n    if (isNodeStream(stream)) {\n      if (end) {\n        const { destroy, cleanup } = destroyer(stream, reading, writing)\n        destroys.push(destroy)\n\n        if (isReadable(stream) && isLastStream) {\n          lastStreamCleanup.push(cleanup)\n        }\n      } // Catch stream errors that occur after pipe/pump has completed.\n\n      function onError(err) {\n        if (err && err.name !== 'AbortError' && err.code !== 'ERR_STREAM_PREMATURE_CLOSE') {\n          finish(err)\n        }\n      }\n\n      stream.on('error', onError)\n\n      if (isReadable(stream) && isLastStream) {\n        lastStreamCleanup.push(() => {\n          stream.removeListener('error', onError)\n        })\n      }\n    }\n\n    if (i === 0) {\n      if (typeof stream === 'function') {\n        ret = stream({\n          signal\n        })\n\n        if (!isIterable(ret)) {\n          throw new ERR_INVALID_RETURN_VALUE('Iterable, AsyncIterable or Stream', 'source', ret)\n        }\n      } else if (isIterable(stream) || isReadableNodeStream(stream)) {\n        ret = stream\n      } else {\n        ret = Duplex.from(stream)\n      }\n    } else if (typeof stream === 'function') {\n      ret = makeAsyncIterable(ret)\n      ret = stream(ret, {\n        signal\n      })\n\n      if (reading) {\n        if (!isIterable(ret, true)) {\n          throw new ERR_INVALID_RETURN_VALUE('AsyncIterable', `transform[${i - 1}]`, ret)\n        }\n      } else {\n        var _ret\n\n        if (!PassThrough) {\n          PassThrough = require('./passthrough')\n        } // If the last argument to pipeline is not a stream\n        // we must create a proxy stream so that pipeline(...)\n        // always returns a stream which can be further\n        // composed through `.pipe(stream)`.\n\n        const pt = new PassThrough({\n          objectMode: true\n        }) // Handle Promises/A+ spec, `then` could be a getter that throws on\n        // second use.\n\n        const then = (_ret = ret) === null || _ret === undefined ? undefined : _ret.then\n\n        if (typeof then === 'function') {\n          finishCount++\n          then.call(\n            ret,\n            (val) => {\n              value = val\n\n              if (val != null) {\n                pt.write(val)\n              }\n\n              if (end) {\n                pt.end()\n              }\n\n              process.nextTick(finish)\n            },\n            (err) => {\n              pt.destroy(err)\n              process.nextTick(finish, err)\n            }\n          )\n        } else if (isIterable(ret, true)) {\n          finishCount++\n          pump(ret, pt, finish, {\n            end\n          })\n        } else {\n          throw new ERR_INVALID_RETURN_VALUE('AsyncIterable or Promise', 'destination', ret)\n        }\n\n        ret = pt\n        const { destroy, cleanup } = destroyer(ret, false, true)\n        destroys.push(destroy)\n\n        if (isLastStream) {\n          lastStreamCleanup.push(cleanup)\n        }\n      }\n    } else if (isNodeStream(stream)) {\n      if (isReadableNodeStream(ret)) {\n        finishCount += 2\n        const cleanup = pipe(ret, stream, finish, {\n          end\n        })\n\n        if (isReadable(stream) && isLastStream) {\n          lastStreamCleanup.push(cleanup)\n        }\n      } else if (isIterable(ret)) {\n        finishCount++\n        pump(ret, stream, finish, {\n          end\n        })\n      } else {\n        throw new ERR_INVALID_ARG_TYPE('val', ['Readable', 'Iterable', 'AsyncIterable'], ret)\n      }\n\n      ret = stream\n    } else {\n      ret = Duplex.from(stream)\n    }\n  }\n\n  if (\n    (signal !== null && signal !== undefined && signal.aborted) ||\n    (outerSignal !== null && outerSignal !== undefined && outerSignal.aborted)\n  ) {\n    process.nextTick(abort)\n  }\n\n  return ret\n}\n\nfunction pipe(src, dst, finish, { end }) {\n  let ended = false\n  dst.on('close', () => {\n    if (!ended) {\n      // Finish if the destination closes before the source has completed.\n      finish(new ERR_STREAM_PREMATURE_CLOSE())\n    }\n  })\n  src.pipe(dst, {\n    end\n  })\n\n  if (end) {\n    // Compat. Before node v10.12.0 stdio used to throw an error so\n    // pipe() did/does not end() stdio destinations.\n    // Now they allow it but \"secretly\" don't close the underlying fd.\n    src.once('end', () => {\n      ended = true\n      dst.end()\n    })\n  } else {\n    finish()\n  }\n\n  eos(\n    src,\n    {\n      readable: true,\n      writable: false\n    },\n    (err) => {\n      const rState = src._readableState\n\n      if (\n        err &&\n        err.code === 'ERR_STREAM_PREMATURE_CLOSE' &&\n        rState &&\n        rState.ended &&\n        !rState.errored &&\n        !rState.errorEmitted\n      ) {\n        // Some readable streams will emit 'close' before 'end'. However, since\n        // this is on the readable side 'end' should still be emitted if the\n        // stream has been ended and no error emitted. This should be allowed in\n        // favor of backwards compatibility. Since the stream is piped to a\n        // destination this should not result in any observable difference.\n        // We don't need to check if this is a writable premature close since\n        // eos will only fail with premature close on the reading side for\n        // duplex streams.\n        src.once('end', finish).once('error', finish)\n      } else {\n        finish(err)\n      }\n    }\n  )\n  return eos(\n    dst,\n    {\n      readable: false,\n      writable: true\n    },\n    finish\n  )\n}\n\nmodule.exports = {\n  pipelineImpl,\n  pipeline\n}\n","/* replacement start */\nconst process = require('process')\n/* replacement end */\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n;('use strict')\n\nconst {\n  ArrayPrototypeIndexOf,\n  NumberIsInteger,\n  NumberIsNaN,\n  NumberParseInt,\n  ObjectDefineProperties,\n  ObjectKeys,\n  ObjectSetPrototypeOf,\n  Promise,\n  SafeSet,\n  SymbolAsyncIterator,\n  Symbol\n} = require('../../ours/primordials')\n\nmodule.exports = Readable\nReadable.ReadableState = ReadableState\n\nconst { EventEmitter: EE } = require('events')\n\nconst { Stream, prependListener } = require('./legacy')\n\nconst { Buffer } = require('buffer')\n\nconst { addAbortSignal } = require('./add-abort-signal')\n\nconst eos = require('./end-of-stream')\n\nlet debug = require('../../ours/util').debuglog('stream', (fn) => {\n  debug = fn\n})\n\nconst BufferList = require('./buffer_list')\n\nconst destroyImpl = require('./destroy')\n\nconst { getHighWaterMark, getDefaultHighWaterMark } = require('./state')\n\nconst {\n  aggregateTwoErrors,\n  codes: {\n    ERR_INVALID_ARG_TYPE,\n    ERR_METHOD_NOT_IMPLEMENTED,\n    ERR_OUT_OF_RANGE,\n    ERR_STREAM_PUSH_AFTER_EOF,\n    ERR_STREAM_UNSHIFT_AFTER_END_EVENT\n  }\n} = require('../../ours/errors')\n\nconst { validateObject } = require('../validators')\n\nconst kPaused = Symbol('kPaused')\n\nconst { StringDecoder } = require('string_decoder')\n\nconst from = require('./from')\n\nObjectSetPrototypeOf(Readable.prototype, Stream.prototype)\nObjectSetPrototypeOf(Readable, Stream)\n\nconst nop = () => {}\n\nconst { errorOrDestroy } = destroyImpl\n\nfunction ReadableState(options, stream, isDuplex) {\n  // Duplex streams are both readable and writable, but share\n  // the same options object.\n  // However, some cases require setting options to different\n  // values for the readable and the writable sides of the duplex stream.\n  // These options can be provided separately as readableXXX and writableXXX.\n  if (typeof isDuplex !== 'boolean') isDuplex = stream instanceof require('./duplex') // Object stream flag. Used to make read(n) ignore n and to\n  // make all the buffer merging and length checks go away.\n\n  this.objectMode = !!(options && options.objectMode)\n  if (isDuplex) this.objectMode = this.objectMode || !!(options && options.readableObjectMode) // The point at which it stops calling _read() to fill the buffer\n  // Note: 0 is a valid value, means \"don't call _read preemptively ever\"\n\n  this.highWaterMark = options\n    ? getHighWaterMark(this, options, 'readableHighWaterMark', isDuplex)\n    : getDefaultHighWaterMark(false) // A linked list is used to store data chunks instead of an array because the\n  // linked list can remove elements from the beginning faster than\n  // array.shift().\n\n  this.buffer = new BufferList()\n  this.length = 0\n  this.pipes = []\n  this.flowing = null\n  this.ended = false\n  this.endEmitted = false\n  this.reading = false // Stream is still being constructed and cannot be\n  // destroyed until construction finished or failed.\n  // Async construction is opt in, therefore we start as\n  // constructed.\n\n  this.constructed = true // A flag to be able to tell if the event 'readable'/'data' is emitted\n  // immediately, or on a later tick.  We set this to true at first, because\n  // any actions that shouldn't happen until \"later\" should generally also\n  // not happen before the first read call.\n\n  this.sync = true // Whenever we return null, then we set a flag to say\n  // that we're awaiting a 'readable' event emission.\n\n  this.needReadable = false\n  this.emittedReadable = false\n  this.readableListening = false\n  this.resumeScheduled = false\n  this[kPaused] = null // True if the error was already emitted and should not be thrown again.\n\n  this.errorEmitted = false // Should close be emitted on destroy. Defaults to true.\n\n  this.emitClose = !options || options.emitClose !== false // Should .destroy() be called after 'end' (and potentially 'finish').\n\n  this.autoDestroy = !options || options.autoDestroy !== false // Has it been destroyed.\n\n  this.destroyed = false // Indicates whether the stream has errored. When true no further\n  // _read calls, 'data' or 'readable' events should occur. This is needed\n  // since when autoDestroy is disabled we need a way to tell whether the\n  // stream has failed.\n\n  this.errored = null // Indicates whether the stream has finished destroying.\n\n  this.closed = false // True if close has been emitted or would have been emitted\n  // depending on emitClose.\n\n  this.closeEmitted = false // Crypto is kind of old and crusty.  Historically, its default string\n  // encoding is 'binary' so we have to make this configurable.\n  // Everything else in the universe uses 'utf8', though.\n\n  this.defaultEncoding = (options && options.defaultEncoding) || 'utf8' // Ref the piped dest which we need a drain event on it\n  // type: null | Writable | Set<Writable>.\n\n  this.awaitDrainWriters = null\n  this.multiAwaitDrain = false // If true, a maybeReadMore has been scheduled.\n\n  this.readingMore = false\n  this.dataEmitted = false\n  this.decoder = null\n  this.encoding = null\n\n  if (options && options.encoding) {\n    this.decoder = new StringDecoder(options.encoding)\n    this.encoding = options.encoding\n  }\n}\n\nfunction Readable(options) {\n  if (!(this instanceof Readable)) return new Readable(options) // Checking for a Stream.Duplex instance is faster here instead of inside\n  // the ReadableState constructor, at least with V8 6.5.\n\n  const isDuplex = this instanceof require('./duplex')\n\n  this._readableState = new ReadableState(options, this, isDuplex)\n\n  if (options) {\n    if (typeof options.read === 'function') this._read = options.read\n    if (typeof options.destroy === 'function') this._destroy = options.destroy\n    if (typeof options.construct === 'function') this._construct = options.construct\n    if (options.signal && !isDuplex) addAbortSignal(options.signal, this)\n  }\n\n  Stream.call(this, options)\n  destroyImpl.construct(this, () => {\n    if (this._readableState.needReadable) {\n      maybeReadMore(this, this._readableState)\n    }\n  })\n}\n\nReadable.prototype.destroy = destroyImpl.destroy\nReadable.prototype._undestroy = destroyImpl.undestroy\n\nReadable.prototype._destroy = function (err, cb) {\n  cb(err)\n}\n\nReadable.prototype[EE.captureRejectionSymbol] = function (err) {\n  this.destroy(err)\n} // Manually shove something into the read() buffer.\n// This returns true if the highWaterMark has not been hit yet,\n// similar to how Writable.write() returns true if you should\n// write() some more.\n\nReadable.prototype.push = function (chunk, encoding) {\n  return readableAddChunk(this, chunk, encoding, false)\n} // Unshift should *always* be something directly out of read().\n\nReadable.prototype.unshift = function (chunk, encoding) {\n  return readableAddChunk(this, chunk, encoding, true)\n}\n\nfunction readableAddChunk(stream, chunk, encoding, addToFront) {\n  debug('readableAddChunk', chunk)\n  const state = stream._readableState\n  let err\n\n  if (!state.objectMode) {\n    if (typeof chunk === 'string') {\n      encoding = encoding || state.defaultEncoding\n\n      if (state.encoding !== encoding) {\n        if (addToFront && state.encoding) {\n          // When unshifting, if state.encoding is set, we have to save\n          // the string in the BufferList with the state encoding.\n          chunk = Buffer.from(chunk, encoding).toString(state.encoding)\n        } else {\n          chunk = Buffer.from(chunk, encoding)\n          encoding = ''\n        }\n      }\n    } else if (chunk instanceof Buffer) {\n      encoding = ''\n    } else if (Stream._isUint8Array(chunk)) {\n      chunk = Stream._uint8ArrayToBuffer(chunk)\n      encoding = ''\n    } else if (chunk != null) {\n      err = new ERR_INVALID_ARG_TYPE('chunk', ['string', 'Buffer', 'Uint8Array'], chunk)\n    }\n  }\n\n  if (err) {\n    errorOrDestroy(stream, err)\n  } else if (chunk === null) {\n    state.reading = false\n    onEofChunk(stream, state)\n  } else if (state.objectMode || (chunk && chunk.length > 0)) {\n    if (addToFront) {\n      if (state.endEmitted) errorOrDestroy(stream, new ERR_STREAM_UNSHIFT_AFTER_END_EVENT())\n      else if (state.destroyed || state.errored) return false\n      else addChunk(stream, state, chunk, true)\n    } else if (state.ended) {\n      errorOrDestroy(stream, new ERR_STREAM_PUSH_AFTER_EOF())\n    } else if (state.destroyed || state.errored) {\n      return false\n    } else {\n      state.reading = false\n\n      if (state.decoder && !encoding) {\n        chunk = state.decoder.write(chunk)\n        if (state.objectMode || chunk.length !== 0) addChunk(stream, state, chunk, false)\n        else maybeReadMore(stream, state)\n      } else {\n        addChunk(stream, state, chunk, false)\n      }\n    }\n  } else if (!addToFront) {\n    state.reading = false\n    maybeReadMore(stream, state)\n  } // We can push more data if we are below the highWaterMark.\n  // Also, if we have no data yet, we can stand some more bytes.\n  // This is to work around cases where hwm=0, such as the repl.\n\n  return !state.ended && (state.length < state.highWaterMark || state.length === 0)\n}\n\nfunction addChunk(stream, state, chunk, addToFront) {\n  if (state.flowing && state.length === 0 && !state.sync && stream.listenerCount('data') > 0) {\n    // Use the guard to avoid creating `Set()` repeatedly\n    // when we have multiple pipes.\n    if (state.multiAwaitDrain) {\n      state.awaitDrainWriters.clear()\n    } else {\n      state.awaitDrainWriters = null\n    }\n\n    state.dataEmitted = true\n    stream.emit('data', chunk)\n  } else {\n    // Update the buffer info.\n    state.length += state.objectMode ? 1 : chunk.length\n    if (addToFront) state.buffer.unshift(chunk)\n    else state.buffer.push(chunk)\n    if (state.needReadable) emitReadable(stream)\n  }\n\n  maybeReadMore(stream, state)\n}\n\nReadable.prototype.isPaused = function () {\n  const state = this._readableState\n  return state[kPaused] === true || state.flowing === false\n} // Backwards compatibility.\n\nReadable.prototype.setEncoding = function (enc) {\n  const decoder = new StringDecoder(enc)\n  this._readableState.decoder = decoder // If setEncoding(null), decoder.encoding equals utf8.\n\n  this._readableState.encoding = this._readableState.decoder.encoding\n  const buffer = this._readableState.buffer // Iterate over current buffer to convert already stored Buffers:\n\n  let content = ''\n\n  for (const data of buffer) {\n    content += decoder.write(data)\n  }\n\n  buffer.clear()\n  if (content !== '') buffer.push(content)\n  this._readableState.length = content.length\n  return this\n} // Don't raise the hwm > 1GB.\n\nconst MAX_HWM = 0x40000000\n\nfunction computeNewHighWaterMark(n) {\n  if (n > MAX_HWM) {\n    throw new ERR_OUT_OF_RANGE('size', '<= 1GiB', n)\n  } else {\n    // Get the next highest power of 2 to prevent increasing hwm excessively in\n    // tiny amounts.\n    n--\n    n |= n >>> 1\n    n |= n >>> 2\n    n |= n >>> 4\n    n |= n >>> 8\n    n |= n >>> 16\n    n++\n  }\n\n  return n\n} // This function is designed to be inlinable, so please take care when making\n// changes to the function body.\n\nfunction howMuchToRead(n, state) {\n  if (n <= 0 || (state.length === 0 && state.ended)) return 0\n  if (state.objectMode) return 1\n\n  if (NumberIsNaN(n)) {\n    // Only flow one buffer at a time.\n    if (state.flowing && state.length) return state.buffer.first().length\n    return state.length\n  }\n\n  if (n <= state.length) return n\n  return state.ended ? state.length : 0\n} // You can override either this method, or the async _read(n) below.\n\nReadable.prototype.read = function (n) {\n  debug('read', n) // Same as parseInt(undefined, 10), however V8 7.3 performance regressed\n  // in this scenario, so we are doing it manually.\n\n  if (n === undefined) {\n    n = NaN\n  } else if (!NumberIsInteger(n)) {\n    n = NumberParseInt(n, 10)\n  }\n\n  const state = this._readableState\n  const nOrig = n // If we're asking for more than the current hwm, then raise the hwm.\n\n  if (n > state.highWaterMark) state.highWaterMark = computeNewHighWaterMark(n)\n  if (n !== 0) state.emittedReadable = false // If we're doing read(0) to trigger a readable event, but we\n  // already have a bunch of data in the buffer, then just trigger\n  // the 'readable' event and move on.\n\n  if (\n    n === 0 &&\n    state.needReadable &&\n    ((state.highWaterMark !== 0 ? state.length >= state.highWaterMark : state.length > 0) || state.ended)\n  ) {\n    debug('read: emitReadable', state.length, state.ended)\n    if (state.length === 0 && state.ended) endReadable(this)\n    else emitReadable(this)\n    return null\n  }\n\n  n = howMuchToRead(n, state) // If we've ended, and we're now clear, then finish it up.\n\n  if (n === 0 && state.ended) {\n    if (state.length === 0) endReadable(this)\n    return null\n  } // All the actual chunk generation logic needs to be\n  // *below* the call to _read.  The reason is that in certain\n  // synthetic stream cases, such as passthrough streams, _read\n  // may be a completely synchronous operation which may change\n  // the state of the read buffer, providing enough data when\n  // before there was *not* enough.\n  //\n  // So, the steps are:\n  // 1. Figure out what the state of things will be after we do\n  // a read from the buffer.\n  //\n  // 2. If that resulting state will trigger a _read, then call _read.\n  // Note that this may be asynchronous, or synchronous.  Yes, it is\n  // deeply ugly to write APIs this way, but that still doesn't mean\n  // that the Readable class should behave improperly, as streams are\n  // designed to be sync/async agnostic.\n  // Take note if the _read call is sync or async (ie, if the read call\n  // has returned yet), so that we know whether or not it's safe to emit\n  // 'readable' etc.\n  //\n  // 3. Actually pull the requested chunks out of the buffer and return.\n  // if we need a readable event, then we need to do some reading.\n\n  let doRead = state.needReadable\n  debug('need readable', doRead) // If we currently have less than the highWaterMark, then also read some.\n\n  if (state.length === 0 || state.length - n < state.highWaterMark) {\n    doRead = true\n    debug('length less than watermark', doRead)\n  } // However, if we've ended, then there's no point, if we're already\n  // reading, then it's unnecessary, if we're constructing we have to wait,\n  // and if we're destroyed or errored, then it's not allowed,\n\n  if (state.ended || state.reading || state.destroyed || state.errored || !state.constructed) {\n    doRead = false\n    debug('reading, ended or constructing', doRead)\n  } else if (doRead) {\n    debug('do read')\n    state.reading = true\n    state.sync = true // If the length is currently zero, then we *need* a readable event.\n\n    if (state.length === 0) state.needReadable = true // Call internal read method\n\n    try {\n      this._read(state.highWaterMark)\n    } catch (err) {\n      errorOrDestroy(this, err)\n    }\n\n    state.sync = false // If _read pushed data synchronously, then `reading` will be false,\n    // and we need to re-evaluate how much data we can return to the user.\n\n    if (!state.reading) n = howMuchToRead(nOrig, state)\n  }\n\n  let ret\n  if (n > 0) ret = fromList(n, state)\n  else ret = null\n\n  if (ret === null) {\n    state.needReadable = state.length <= state.highWaterMark\n    n = 0\n  } else {\n    state.length -= n\n\n    if (state.multiAwaitDrain) {\n      state.awaitDrainWriters.clear()\n    } else {\n      state.awaitDrainWriters = null\n    }\n  }\n\n  if (state.length === 0) {\n    // If we have nothing in the buffer, then we want to know\n    // as soon as we *do* get something into the buffer.\n    if (!state.ended) state.needReadable = true // If we tried to read() past the EOF, then emit end on the next tick.\n\n    if (nOrig !== n && state.ended) endReadable(this)\n  }\n\n  if (ret !== null && !state.errorEmitted && !state.closeEmitted) {\n    state.dataEmitted = true\n    this.emit('data', ret)\n  }\n\n  return ret\n}\n\nfunction onEofChunk(stream, state) {\n  debug('onEofChunk')\n  if (state.ended) return\n\n  if (state.decoder) {\n    const chunk = state.decoder.end()\n\n    if (chunk && chunk.length) {\n      state.buffer.push(chunk)\n      state.length += state.objectMode ? 1 : chunk.length\n    }\n  }\n\n  state.ended = true\n\n  if (state.sync) {\n    // If we are sync, wait until next tick to emit the data.\n    // Otherwise we risk emitting data in the flow()\n    // the readable code triggers during a read() call.\n    emitReadable(stream)\n  } else {\n    // Emit 'readable' now to make sure it gets picked up.\n    state.needReadable = false\n    state.emittedReadable = true // We have to emit readable now that we are EOF. Modules\n    // in the ecosystem (e.g. dicer) rely on this event being sync.\n\n    emitReadable_(stream)\n  }\n} // Don't emit readable right away in sync mode, because this can trigger\n// another read() call => stack overflow.  This way, it might trigger\n// a nextTick recursion warning, but that's not so bad.\n\nfunction emitReadable(stream) {\n  const state = stream._readableState\n  debug('emitReadable', state.needReadable, state.emittedReadable)\n  state.needReadable = false\n\n  if (!state.emittedReadable) {\n    debug('emitReadable', state.flowing)\n    state.emittedReadable = true\n    process.nextTick(emitReadable_, stream)\n  }\n}\n\nfunction emitReadable_(stream) {\n  const state = stream._readableState\n  debug('emitReadable_', state.destroyed, state.length, state.ended)\n\n  if (!state.destroyed && !state.errored && (state.length || state.ended)) {\n    stream.emit('readable')\n    state.emittedReadable = false\n  } // The stream needs another readable event if:\n  // 1. It is not flowing, as the flow mechanism will take\n  //    care of it.\n  // 2. It is not ended.\n  // 3. It is below the highWaterMark, so we can schedule\n  //    another readable later.\n\n  state.needReadable = !state.flowing && !state.ended && state.length <= state.highWaterMark\n  flow(stream)\n} // At this point, the user has presumably seen the 'readable' event,\n// and called read() to consume some data.  that may have triggered\n// in turn another _read(n) call, in which case reading = true if\n// it's in progress.\n// However, if we're not ended, or reading, and the length < hwm,\n// then go ahead and try to read some more preemptively.\n\nfunction maybeReadMore(stream, state) {\n  if (!state.readingMore && state.constructed) {\n    state.readingMore = true\n    process.nextTick(maybeReadMore_, stream, state)\n  }\n}\n\nfunction maybeReadMore_(stream, state) {\n  // Attempt to read more data if we should.\n  //\n  // The conditions for reading more data are (one of):\n  // - Not enough data buffered (state.length < state.highWaterMark). The loop\n  //   is responsible for filling the buffer with enough data if such data\n  //   is available. If highWaterMark is 0 and we are not in the flowing mode\n  //   we should _not_ attempt to buffer any extra data. We'll get more data\n  //   when the stream consumer calls read() instead.\n  // - No data in the buffer, and the stream is in flowing mode. In this mode\n  //   the loop below is responsible for ensuring read() is called. Failing to\n  //   call read here would abort the flow and there's no other mechanism for\n  //   continuing the flow if the stream consumer has just subscribed to the\n  //   'data' event.\n  //\n  // In addition to the above conditions to keep reading data, the following\n  // conditions prevent the data from being read:\n  // - The stream has ended (state.ended).\n  // - There is already a pending 'read' operation (state.reading). This is a\n  //   case where the stream has called the implementation defined _read()\n  //   method, but they are processing the call asynchronously and have _not_\n  //   called push() with new data. In this case we skip performing more\n  //   read()s. The execution ends in this method again after the _read() ends\n  //   up calling push() with more data.\n  while (\n    !state.reading &&\n    !state.ended &&\n    (state.length < state.highWaterMark || (state.flowing && state.length === 0))\n  ) {\n    const len = state.length\n    debug('maybeReadMore read 0')\n    stream.read(0)\n    if (len === state.length)\n      // Didn't get any data, stop spinning.\n      break\n  }\n\n  state.readingMore = false\n} // Abstract method.  to be overridden in specific implementation classes.\n// call cb(er, data) where data is <= n in length.\n// for virtual (non-string, non-buffer) streams, \"length\" is somewhat\n// arbitrary, and perhaps not very meaningful.\n\nReadable.prototype._read = function (n) {\n  throw new ERR_METHOD_NOT_IMPLEMENTED('_read()')\n}\n\nReadable.prototype.pipe = function (dest, pipeOpts) {\n  const src = this\n  const state = this._readableState\n\n  if (state.pipes.length === 1) {\n    if (!state.multiAwaitDrain) {\n      state.multiAwaitDrain = true\n      state.awaitDrainWriters = new SafeSet(state.awaitDrainWriters ? [state.awaitDrainWriters] : [])\n    }\n  }\n\n  state.pipes.push(dest)\n  debug('pipe count=%d opts=%j', state.pipes.length, pipeOpts)\n  const doEnd = (!pipeOpts || pipeOpts.end !== false) && dest !== process.stdout && dest !== process.stderr\n  const endFn = doEnd ? onend : unpipe\n  if (state.endEmitted) process.nextTick(endFn)\n  else src.once('end', endFn)\n  dest.on('unpipe', onunpipe)\n\n  function onunpipe(readable, unpipeInfo) {\n    debug('onunpipe')\n\n    if (readable === src) {\n      if (unpipeInfo && unpipeInfo.hasUnpiped === false) {\n        unpipeInfo.hasUnpiped = true\n        cleanup()\n      }\n    }\n  }\n\n  function onend() {\n    debug('onend')\n    dest.end()\n  }\n\n  let ondrain\n  let cleanedUp = false\n\n  function cleanup() {\n    debug('cleanup') // Cleanup event handlers once the pipe is broken.\n\n    dest.removeListener('close', onclose)\n    dest.removeListener('finish', onfinish)\n\n    if (ondrain) {\n      dest.removeListener('drain', ondrain)\n    }\n\n    dest.removeListener('error', onerror)\n    dest.removeListener('unpipe', onunpipe)\n    src.removeListener('end', onend)\n    src.removeListener('end', unpipe)\n    src.removeListener('data', ondata)\n    cleanedUp = true // If the reader is waiting for a drain event from this\n    // specific writer, then it would cause it to never start\n    // flowing again.\n    // So, if this is awaiting a drain, then we just call it now.\n    // If we don't know, then assume that we are waiting for one.\n\n    if (ondrain && state.awaitDrainWriters && (!dest._writableState || dest._writableState.needDrain)) ondrain()\n  }\n\n  function pause() {\n    // If the user unpiped during `dest.write()`, it is possible\n    // to get stuck in a permanently paused state if that write\n    // also returned false.\n    // => Check whether `dest` is still a piping destination.\n    if (!cleanedUp) {\n      if (state.pipes.length === 1 && state.pipes[0] === dest) {\n        debug('false write response, pause', 0)\n        state.awaitDrainWriters = dest\n        state.multiAwaitDrain = false\n      } else if (state.pipes.length > 1 && state.pipes.includes(dest)) {\n        debug('false write response, pause', state.awaitDrainWriters.size)\n        state.awaitDrainWriters.add(dest)\n      }\n\n      src.pause()\n    }\n\n    if (!ondrain) {\n      // When the dest drains, it reduces the awaitDrain counter\n      // on the source.  This would be more elegant with a .once()\n      // handler in flow(), but adding and removing repeatedly is\n      // too slow.\n      ondrain = pipeOnDrain(src, dest)\n      dest.on('drain', ondrain)\n    }\n  }\n\n  src.on('data', ondata)\n\n  function ondata(chunk) {\n    debug('ondata')\n    const ret = dest.write(chunk)\n    debug('dest.write', ret)\n\n    if (ret === false) {\n      pause()\n    }\n  } // If the dest has an error, then stop piping into it.\n  // However, don't suppress the throwing behavior for this.\n\n  function onerror(er) {\n    debug('onerror', er)\n    unpipe()\n    dest.removeListener('error', onerror)\n\n    if (dest.listenerCount('error') === 0) {\n      const s = dest._writableState || dest._readableState\n\n      if (s && !s.errorEmitted) {\n        // User incorrectly emitted 'error' directly on the stream.\n        errorOrDestroy(dest, er)\n      } else {\n        dest.emit('error', er)\n      }\n    }\n  } // Make sure our error handler is attached before userland ones.\n\n  prependListener(dest, 'error', onerror) // Both close and finish should trigger unpipe, but only once.\n\n  function onclose() {\n    dest.removeListener('finish', onfinish)\n    unpipe()\n  }\n\n  dest.once('close', onclose)\n\n  function onfinish() {\n    debug('onfinish')\n    dest.removeListener('close', onclose)\n    unpipe()\n  }\n\n  dest.once('finish', onfinish)\n\n  function unpipe() {\n    debug('unpipe')\n    src.unpipe(dest)\n  } // Tell the dest that it's being piped to.\n\n  dest.emit('pipe', src) // Start the flow if it hasn't been started already.\n\n  if (dest.writableNeedDrain === true) {\n    if (state.flowing) {\n      pause()\n    }\n  } else if (!state.flowing) {\n    debug('pipe resume')\n    src.resume()\n  }\n\n  return dest\n}\n\nfunction pipeOnDrain(src, dest) {\n  return function pipeOnDrainFunctionResult() {\n    const state = src._readableState // `ondrain` will call directly,\n    // `this` maybe not a reference to dest,\n    // so we use the real dest here.\n\n    if (state.awaitDrainWriters === dest) {\n      debug('pipeOnDrain', 1)\n      state.awaitDrainWriters = null\n    } else if (state.multiAwaitDrain) {\n      debug('pipeOnDrain', state.awaitDrainWriters.size)\n      state.awaitDrainWriters.delete(dest)\n    }\n\n    if ((!state.awaitDrainWriters || state.awaitDrainWriters.size === 0) && src.listenerCount('data')) {\n      src.resume()\n    }\n  }\n}\n\nReadable.prototype.unpipe = function (dest) {\n  const state = this._readableState\n  const unpipeInfo = {\n    hasUnpiped: false\n  } // If we're not piping anywhere, then do nothing.\n\n  if (state.pipes.length === 0) return this\n\n  if (!dest) {\n    // remove all.\n    const dests = state.pipes\n    state.pipes = []\n    this.pause()\n\n    for (let i = 0; i < dests.length; i++)\n      dests[i].emit('unpipe', this, {\n        hasUnpiped: false\n      })\n\n    return this\n  } // Try to find the right one.\n\n  const index = ArrayPrototypeIndexOf(state.pipes, dest)\n  if (index === -1) return this\n  state.pipes.splice(index, 1)\n  if (state.pipes.length === 0) this.pause()\n  dest.emit('unpipe', this, unpipeInfo)\n  return this\n} // Set up data events if they are asked for\n// Ensure readable listeners eventually get something.\n\nReadable.prototype.on = function (ev, fn) {\n  const res = Stream.prototype.on.call(this, ev, fn)\n  const state = this._readableState\n\n  if (ev === 'data') {\n    // Update readableListening so that resume() may be a no-op\n    // a few lines down. This is needed to support once('readable').\n    state.readableListening = this.listenerCount('readable') > 0 // Try start flowing on next tick if stream isn't explicitly paused.\n\n    if (state.flowing !== false) this.resume()\n  } else if (ev === 'readable') {\n    if (!state.endEmitted && !state.readableListening) {\n      state.readableListening = state.needReadable = true\n      state.flowing = false\n      state.emittedReadable = false\n      debug('on readable', state.length, state.reading)\n\n      if (state.length) {\n        emitReadable(this)\n      } else if (!state.reading) {\n        process.nextTick(nReadingNextTick, this)\n      }\n    }\n  }\n\n  return res\n}\n\nReadable.prototype.addListener = Readable.prototype.on\n\nReadable.prototype.removeListener = function (ev, fn) {\n  const res = Stream.prototype.removeListener.call(this, ev, fn)\n\n  if (ev === 'readable') {\n    // We need to check if there is someone still listening to\n    // readable and reset the state. However this needs to happen\n    // after readable has been emitted but before I/O (nextTick) to\n    // support once('readable', fn) cycles. This means that calling\n    // resume within the same tick will have no\n    // effect.\n    process.nextTick(updateReadableListening, this)\n  }\n\n  return res\n}\n\nReadable.prototype.off = Readable.prototype.removeListener\n\nReadable.prototype.removeAllListeners = function (ev) {\n  const res = Stream.prototype.removeAllListeners.apply(this, arguments)\n\n  if (ev === 'readable' || ev === undefined) {\n    // We need to check if there is someone still listening to\n    // readable and reset the state. However this needs to happen\n    // after readable has been emitted but before I/O (nextTick) to\n    // support once('readable', fn) cycles. This means that calling\n    // resume within the same tick will have no\n    // effect.\n    process.nextTick(updateReadableListening, this)\n  }\n\n  return res\n}\n\nfunction updateReadableListening(self) {\n  const state = self._readableState\n  state.readableListening = self.listenerCount('readable') > 0\n\n  if (state.resumeScheduled && state[kPaused] === false) {\n    // Flowing needs to be set to true now, otherwise\n    // the upcoming resume will not flow.\n    state.flowing = true // Crude way to check if we should resume.\n  } else if (self.listenerCount('data') > 0) {\n    self.resume()\n  } else if (!state.readableListening) {\n    state.flowing = null\n  }\n}\n\nfunction nReadingNextTick(self) {\n  debug('readable nexttick read 0')\n  self.read(0)\n} // pause() and resume() are remnants of the legacy readable stream API\n// If the user uses them, then switch into old mode.\n\nReadable.prototype.resume = function () {\n  const state = this._readableState\n\n  if (!state.flowing) {\n    debug('resume') // We flow only if there is no one listening\n    // for readable, but we still have to call\n    // resume().\n\n    state.flowing = !state.readableListening\n    resume(this, state)\n  }\n\n  state[kPaused] = false\n  return this\n}\n\nfunction resume(stream, state) {\n  if (!state.resumeScheduled) {\n    state.resumeScheduled = true\n    process.nextTick(resume_, stream, state)\n  }\n}\n\nfunction resume_(stream, state) {\n  debug('resume', state.reading)\n\n  if (!state.reading) {\n    stream.read(0)\n  }\n\n  state.resumeScheduled = false\n  stream.emit('resume')\n  flow(stream)\n  if (state.flowing && !state.reading) stream.read(0)\n}\n\nReadable.prototype.pause = function () {\n  debug('call pause flowing=%j', this._readableState.flowing)\n\n  if (this._readableState.flowing !== false) {\n    debug('pause')\n    this._readableState.flowing = false\n    this.emit('pause')\n  }\n\n  this._readableState[kPaused] = true\n  return this\n}\n\nfunction flow(stream) {\n  const state = stream._readableState\n  debug('flow', state.flowing)\n\n  while (state.flowing && stream.read() !== null);\n} // Wrap an old-style stream as the async data source.\n// This is *not* part of the readable stream interface.\n// It is an ugly unfortunate mess of history.\n\nReadable.prototype.wrap = function (stream) {\n  let paused = false // TODO (ronag): Should this.destroy(err) emit\n  // 'error' on the wrapped stream? Would require\n  // a static factory method, e.g. Readable.wrap(stream).\n\n  stream.on('data', (chunk) => {\n    if (!this.push(chunk) && stream.pause) {\n      paused = true\n      stream.pause()\n    }\n  })\n  stream.on('end', () => {\n    this.push(null)\n  })\n  stream.on('error', (err) => {\n    errorOrDestroy(this, err)\n  })\n  stream.on('close', () => {\n    this.destroy()\n  })\n  stream.on('destroy', () => {\n    this.destroy()\n  })\n\n  this._read = () => {\n    if (paused && stream.resume) {\n      paused = false\n      stream.resume()\n    }\n  } // Proxy all the other methods. Important when wrapping filters and duplexes.\n\n  const streamKeys = ObjectKeys(stream)\n\n  for (let j = 1; j < streamKeys.length; j++) {\n    const i = streamKeys[j]\n\n    if (this[i] === undefined && typeof stream[i] === 'function') {\n      this[i] = stream[i].bind(stream)\n    }\n  }\n\n  return this\n}\n\nReadable.prototype[SymbolAsyncIterator] = function () {\n  return streamToAsyncIterator(this)\n}\n\nReadable.prototype.iterator = function (options) {\n  if (options !== undefined) {\n    validateObject(options, 'options')\n  }\n\n  return streamToAsyncIterator(this, options)\n}\n\nfunction streamToAsyncIterator(stream, options) {\n  if (typeof stream.read !== 'function') {\n    stream = Readable.wrap(stream, {\n      objectMode: true\n    })\n  }\n\n  const iter = createAsyncIterator(stream, options)\n  iter.stream = stream\n  return iter\n}\n\nasync function* createAsyncIterator(stream, options) {\n  let callback = nop\n\n  function next(resolve) {\n    if (this === stream) {\n      callback()\n      callback = nop\n    } else {\n      callback = resolve\n    }\n  }\n\n  stream.on('readable', next)\n  let error\n  const cleanup = eos(\n    stream,\n    {\n      writable: false\n    },\n    (err) => {\n      error = err ? aggregateTwoErrors(error, err) : null\n      callback()\n      callback = nop\n    }\n  )\n\n  try {\n    while (true) {\n      const chunk = stream.destroyed ? null : stream.read()\n\n      if (chunk !== null) {\n        yield chunk\n      } else if (error) {\n        throw error\n      } else if (error === null) {\n        return\n      } else {\n        await new Promise(next)\n      }\n    }\n  } catch (err) {\n    error = aggregateTwoErrors(error, err)\n    throw error\n  } finally {\n    if (\n      (error || (options === null || options === undefined ? undefined : options.destroyOnReturn) !== false) &&\n      (error === undefined || stream._readableState.autoDestroy)\n    ) {\n      destroyImpl.destroyer(stream, null)\n    } else {\n      stream.off('readable', next)\n      cleanup()\n    }\n  }\n} // Making it explicit these properties are not enumerable\n// because otherwise some prototype manipulation in\n// userland will fail.\n\nObjectDefineProperties(Readable.prototype, {\n  readable: {\n    __proto__: null,\n\n    get() {\n      const r = this._readableState // r.readable === false means that this is part of a Duplex stream\n      // where the readable side was disabled upon construction.\n      // Compat. The user might manually disable readable side through\n      // deprecated setter.\n\n      return !!r && r.readable !== false && !r.destroyed && !r.errorEmitted && !r.endEmitted\n    },\n\n    set(val) {\n      // Backwards compat.\n      if (this._readableState) {\n        this._readableState.readable = !!val\n      }\n    }\n  },\n  readableDidRead: {\n    __proto__: null,\n    enumerable: false,\n    get: function () {\n      return this._readableState.dataEmitted\n    }\n  },\n  readableAborted: {\n    __proto__: null,\n    enumerable: false,\n    get: function () {\n      return !!(\n        this._readableState.readable !== false &&\n        (this._readableState.destroyed || this._readableState.errored) &&\n        !this._readableState.endEmitted\n      )\n    }\n  },\n  readableHighWaterMark: {\n    __proto__: null,\n    enumerable: false,\n    get: function () {\n      return this._readableState.highWaterMark\n    }\n  },\n  readableBuffer: {\n    __proto__: null,\n    enumerable: false,\n    get: function () {\n      return this._readableState && this._readableState.buffer\n    }\n  },\n  readableFlowing: {\n    __proto__: null,\n    enumerable: false,\n    get: function () {\n      return this._readableState.flowing\n    },\n    set: function (state) {\n      if (this._readableState) {\n        this._readableState.flowing = state\n      }\n    }\n  },\n  readableLength: {\n    __proto__: null,\n    enumerable: false,\n\n    get() {\n      return this._readableState.length\n    }\n  },\n  readableObjectMode: {\n    __proto__: null,\n    enumerable: false,\n\n    get() {\n      return this._readableState ? this._readableState.objectMode : false\n    }\n  },\n  readableEncoding: {\n    __proto__: null,\n    enumerable: false,\n\n    get() {\n      return this._readableState ? this._readableState.encoding : null\n    }\n  },\n  errored: {\n    __proto__: null,\n    enumerable: false,\n\n    get() {\n      return this._readableState ? this._readableState.errored : null\n    }\n  },\n  closed: {\n    __proto__: null,\n\n    get() {\n      return this._readableState ? this._readableState.closed : false\n    }\n  },\n  destroyed: {\n    __proto__: null,\n    enumerable: false,\n\n    get() {\n      return this._readableState ? this._readableState.destroyed : false\n    },\n\n    set(value) {\n      // We ignore the value if the stream\n      // has not been initialized yet.\n      if (!this._readableState) {\n        return\n      } // Backward compatibility, the user is explicitly\n      // managing destroyed.\n\n      this._readableState.destroyed = value\n    }\n  },\n  readableEnded: {\n    __proto__: null,\n    enumerable: false,\n\n    get() {\n      return this._readableState ? this._readableState.endEmitted : false\n    }\n  }\n})\nObjectDefineProperties(ReadableState.prototype, {\n  // Legacy getter for `pipesCount`.\n  pipesCount: {\n    __proto__: null,\n\n    get() {\n      return this.pipes.length\n    }\n  },\n  // Legacy property for `paused`.\n  paused: {\n    __proto__: null,\n\n    get() {\n      return this[kPaused] !== false\n    },\n\n    set(value) {\n      this[kPaused] = !!value\n    }\n  }\n}) // Exposed for testing purposes only.\n\nReadable._fromList = fromList // Pluck off n bytes from an array of buffers.\n// Length is the combined lengths of all the buffers in the list.\n// This function is designed to be inlinable, so please take care when making\n// changes to the function body.\n\nfunction fromList(n, state) {\n  // nothing buffered.\n  if (state.length === 0) return null\n  let ret\n  if (state.objectMode) ret = state.buffer.shift()\n  else if (!n || n >= state.length) {\n    // Read it all, truncate the list.\n    if (state.decoder) ret = state.buffer.join('')\n    else if (state.buffer.length === 1) ret = state.buffer.first()\n    else ret = state.buffer.concat(state.length)\n    state.buffer.clear()\n  } else {\n    // read part of list.\n    ret = state.buffer.consume(n, state.decoder)\n  }\n  return ret\n}\n\nfunction endReadable(stream) {\n  const state = stream._readableState\n  debug('endReadable', state.endEmitted)\n\n  if (!state.endEmitted) {\n    state.ended = true\n    process.nextTick(endReadableNT, state, stream)\n  }\n}\n\nfunction endReadableNT(state, stream) {\n  debug('endReadableNT', state.endEmitted, state.length) // Check that we didn't get one last unshift.\n\n  if (!state.errored && !state.closeEmitted && !state.endEmitted && state.length === 0) {\n    state.endEmitted = true\n    stream.emit('end')\n\n    if (stream.writable && stream.allowHalfOpen === false) {\n      process.nextTick(endWritableNT, stream)\n    } else if (state.autoDestroy) {\n      // In case of duplex streams we need a way to detect\n      // if the writable side is ready for autoDestroy as well.\n      const wState = stream._writableState\n      const autoDestroy =\n        !wState ||\n        (wState.autoDestroy && // We don't expect the writable to ever 'finish'\n          // if writable is explicitly set to false.\n          (wState.finished || wState.writable === false))\n\n      if (autoDestroy) {\n        stream.destroy()\n      }\n    }\n  }\n}\n\nfunction endWritableNT(stream) {\n  const writable = stream.writable && !stream.writableEnded && !stream.destroyed\n\n  if (writable) {\n    stream.end()\n  }\n}\n\nReadable.from = function (iterable, opts) {\n  return from(Readable, iterable, opts)\n}\n\nlet webStreamsAdapters // Lazy to avoid circular references\n\nfunction lazyWebStreams() {\n  if (webStreamsAdapters === undefined) webStreamsAdapters = {}\n  return webStreamsAdapters\n}\n\nReadable.fromWeb = function (readableStream, options) {\n  return lazyWebStreams().newStreamReadableFromReadableStream(readableStream, options)\n}\n\nReadable.toWeb = function (streamReadable, options) {\n  return lazyWebStreams().newReadableStreamFromStreamReadable(streamReadable, options)\n}\n\nReadable.wrap = function (src, options) {\n  var _ref, _src$readableObjectMo\n\n  return new Readable({\n    objectMode:\n      (_ref =\n        (_src$readableObjectMo = src.readableObjectMode) !== null && _src$readableObjectMo !== undefined\n          ? _src$readableObjectMo\n          : src.objectMode) !== null && _ref !== undefined\n        ? _ref\n        : true,\n    ...options,\n\n    destroy(err, callback) {\n      destroyImpl.destroyer(src, err)\n      callback(err)\n    }\n  }).wrap(src)\n}\n","'use strict'\n\nconst { MathFloor, NumberIsInteger } = require('../../ours/primordials')\n\nconst { ERR_INVALID_ARG_VALUE } = require('../../ours/errors').codes\n\nfunction highWaterMarkFrom(options, isDuplex, duplexKey) {\n  return options.highWaterMark != null ? options.highWaterMark : isDuplex ? options[duplexKey] : null\n}\n\nfunction getDefaultHighWaterMark(objectMode) {\n  return objectMode ? 16 : 16 * 1024\n}\n\nfunction getHighWaterMark(state, options, duplexKey, isDuplex) {\n  const hwm = highWaterMarkFrom(options, isDuplex, duplexKey)\n\n  if (hwm != null) {\n    if (!NumberIsInteger(hwm) || hwm < 0) {\n      const name = isDuplex ? `options.${duplexKey}` : 'options.highWaterMark'\n      throw new ERR_INVALID_ARG_VALUE(name, hwm)\n    }\n\n    return MathFloor(hwm)\n  } // Default value\n\n  return getDefaultHighWaterMark(state.objectMode)\n}\n\nmodule.exports = {\n  getHighWaterMark,\n  getDefaultHighWaterMark\n}\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n// a transform stream is a readable/writable stream where you do\n// something with the data.  Sometimes it's called a \"filter\",\n// but that's not a great name for it, since that implies a thing where\n// some bits pass through, and others are simply ignored.  (That would\n// be a valid example of a transform, of course.)\n//\n// While the output is causally related to the input, it's not a\n// necessarily symmetric or synchronous transformation.  For example,\n// a zlib stream might take multiple plain-text writes(), and then\n// emit a single compressed chunk some time in the future.\n//\n// Here's how this works:\n//\n// The Transform stream has all the aspects of the readable and writable\n// stream classes.  When you write(chunk), that calls _write(chunk,cb)\n// internally, and returns false if there's a lot of pending writes\n// buffered up.  When you call read(), that calls _read(n) until\n// there's enough pending readable data buffered up.\n//\n// In a transform stream, the written data is placed in a buffer.  When\n// _read(n) is called, it transforms the queued up data, calling the\n// buffered _write cb's as it consumes chunks.  If consuming a single\n// written chunk would result in multiple output chunks, then the first\n// outputted bit calls the readcb, and subsequent chunks just go into\n// the read buffer, and will cause it to emit 'readable' if necessary.\n//\n// This way, back-pressure is actually determined by the reading side,\n// since _read has to be called to start processing a new chunk.  However,\n// a pathological inflate type of transform can cause excessive buffering\n// here.  For example, imagine a stream where every byte of input is\n// interpreted as an integer from 0-255, and then results in that many\n// bytes of output.  Writing the 4 bytes {ff,ff,ff,ff} would result in\n// 1kb of data being output.  In this case, you could write a very small\n// amount of input, and end up with a very large amount of output.  In\n// such a pathological inflating mechanism, there'd be no way to tell\n// the system to stop doing the transform.  A single 4MB write could\n// cause the system to run out of memory.\n//\n// However, even in such a pathological case, only a single written chunk\n// would be consumed, and then the rest would wait (un-transformed) until\n// the results of the previous transformed chunk were consumed.\n'use strict'\n\nconst { ObjectSetPrototypeOf, Symbol } = require('../../ours/primordials')\n\nmodule.exports = Transform\n\nconst { ERR_METHOD_NOT_IMPLEMENTED } = require('../../ours/errors').codes\n\nconst Duplex = require('./duplex')\n\nconst { getHighWaterMark } = require('./state')\n\nObjectSetPrototypeOf(Transform.prototype, Duplex.prototype)\nObjectSetPrototypeOf(Transform, Duplex)\nconst kCallback = Symbol('kCallback')\n\nfunction Transform(options) {\n  if (!(this instanceof Transform)) return new Transform(options) // TODO (ronag): This should preferably always be\n  // applied but would be semver-major. Or even better;\n  // make Transform a Readable with the Writable interface.\n\n  const readableHighWaterMark = options ? getHighWaterMark(this, options, 'readableHighWaterMark', true) : null\n\n  if (readableHighWaterMark === 0) {\n    // A Duplex will buffer both on the writable and readable side while\n    // a Transform just wants to buffer hwm number of elements. To avoid\n    // buffering twice we disable buffering on the writable side.\n    options = {\n      ...options,\n      highWaterMark: null,\n      readableHighWaterMark,\n      // TODO (ronag): 0 is not optimal since we have\n      // a \"bug\" where we check needDrain before calling _write and not after.\n      // Refs: https://github.com/nodejs/node/pull/32887\n      // Refs: https://github.com/nodejs/node/pull/35941\n      writableHighWaterMark: options.writableHighWaterMark || 0\n    }\n  }\n\n  Duplex.call(this, options) // We have implemented the _read method, and done the other things\n  // that Readable wants before the first _read call, so unset the\n  // sync guard flag.\n\n  this._readableState.sync = false\n  this[kCallback] = null\n\n  if (options) {\n    if (typeof options.transform === 'function') this._transform = options.transform\n    if (typeof options.flush === 'function') this._flush = options.flush\n  } // When the writable side finishes, then flush out anything remaining.\n  // Backwards compat. Some Transform streams incorrectly implement _final\n  // instead of or in addition to _flush. By using 'prefinish' instead of\n  // implementing _final we continue supporting this unfortunate use case.\n\n  this.on('prefinish', prefinish)\n}\n\nfunction final(cb) {\n  if (typeof this._flush === 'function' && !this.destroyed) {\n    this._flush((er, data) => {\n      if (er) {\n        if (cb) {\n          cb(er)\n        } else {\n          this.destroy(er)\n        }\n\n        return\n      }\n\n      if (data != null) {\n        this.push(data)\n      }\n\n      this.push(null)\n\n      if (cb) {\n        cb()\n      }\n    })\n  } else {\n    this.push(null)\n\n    if (cb) {\n      cb()\n    }\n  }\n}\n\nfunction prefinish() {\n  if (this._final !== final) {\n    final.call(this)\n  }\n}\n\nTransform.prototype._final = final\n\nTransform.prototype._transform = function (chunk, encoding, callback) {\n  throw new ERR_METHOD_NOT_IMPLEMENTED('_transform()')\n}\n\nTransform.prototype._write = function (chunk, encoding, callback) {\n  const rState = this._readableState\n  const wState = this._writableState\n  const length = rState.length\n\n  this._transform(chunk, encoding, (err, val) => {\n    if (err) {\n      callback(err)\n      return\n    }\n\n    if (val != null) {\n      this.push(val)\n    }\n\n    if (\n      wState.ended || // Backwards compat.\n      length === rState.length || // Backwards compat.\n      rState.length < rState.highWaterMark\n    ) {\n      callback()\n    } else {\n      this[kCallback] = callback\n    }\n  })\n}\n\nTransform.prototype._read = function () {\n  if (this[kCallback]) {\n    const callback = this[kCallback]\n    this[kCallback] = null\n    callback()\n  }\n}\n","'use strict'\n\nconst { Symbol, SymbolAsyncIterator, SymbolIterator } = require('../../ours/primordials')\n\nconst kDestroyed = Symbol('kDestroyed')\nconst kIsErrored = Symbol('kIsErrored')\nconst kIsReadable = Symbol('kIsReadable')\nconst kIsDisturbed = Symbol('kIsDisturbed')\n\nfunction isReadableNodeStream(obj, strict = false) {\n  var _obj$_readableState\n\n  return !!(\n    (\n      obj &&\n      typeof obj.pipe === 'function' &&\n      typeof obj.on === 'function' &&\n      (!strict || (typeof obj.pause === 'function' && typeof obj.resume === 'function')) &&\n      (!obj._writableState ||\n        ((_obj$_readableState = obj._readableState) === null || _obj$_readableState === undefined\n          ? undefined\n          : _obj$_readableState.readable) !== false) && // Duplex\n      (!obj._writableState || obj._readableState)\n    ) // Writable has .pipe.\n  )\n}\n\nfunction isWritableNodeStream(obj) {\n  var _obj$_writableState\n\n  return !!(\n    (\n      obj &&\n      typeof obj.write === 'function' &&\n      typeof obj.on === 'function' &&\n      (!obj._readableState ||\n        ((_obj$_writableState = obj._writableState) === null || _obj$_writableState === undefined\n          ? undefined\n          : _obj$_writableState.writable) !== false)\n    ) // Duplex\n  )\n}\n\nfunction isDuplexNodeStream(obj) {\n  return !!(\n    obj &&\n    typeof obj.pipe === 'function' &&\n    obj._readableState &&\n    typeof obj.on === 'function' &&\n    typeof obj.write === 'function'\n  )\n}\n\nfunction isNodeStream(obj) {\n  return (\n    obj &&\n    (obj._readableState ||\n      obj._writableState ||\n      (typeof obj.write === 'function' && typeof obj.on === 'function') ||\n      (typeof obj.pipe === 'function' && typeof obj.on === 'function'))\n  )\n}\n\nfunction isIterable(obj, isAsync) {\n  if (obj == null) return false\n  if (isAsync === true) return typeof obj[SymbolAsyncIterator] === 'function'\n  if (isAsync === false) return typeof obj[SymbolIterator] === 'function'\n  return typeof obj[SymbolAsyncIterator] === 'function' || typeof obj[SymbolIterator] === 'function'\n}\n\nfunction isDestroyed(stream) {\n  if (!isNodeStream(stream)) return null\n  const wState = stream._writableState\n  const rState = stream._readableState\n  const state = wState || rState\n  return !!(stream.destroyed || stream[kDestroyed] || (state !== null && state !== undefined && state.destroyed))\n} // Have been end():d.\n\nfunction isWritableEnded(stream) {\n  if (!isWritableNodeStream(stream)) return null\n  if (stream.writableEnded === true) return true\n  const wState = stream._writableState\n  if (wState !== null && wState !== undefined && wState.errored) return false\n  if (typeof (wState === null || wState === undefined ? undefined : wState.ended) !== 'boolean') return null\n  return wState.ended\n} // Have emitted 'finish'.\n\nfunction isWritableFinished(stream, strict) {\n  if (!isWritableNodeStream(stream)) return null\n  if (stream.writableFinished === true) return true\n  const wState = stream._writableState\n  if (wState !== null && wState !== undefined && wState.errored) return false\n  if (typeof (wState === null || wState === undefined ? undefined : wState.finished) !== 'boolean') return null\n  return !!(wState.finished || (strict === false && wState.ended === true && wState.length === 0))\n} // Have been push(null):d.\n\nfunction isReadableEnded(stream) {\n  if (!isReadableNodeStream(stream)) return null\n  if (stream.readableEnded === true) return true\n  const rState = stream._readableState\n  if (!rState || rState.errored) return false\n  if (typeof (rState === null || rState === undefined ? undefined : rState.ended) !== 'boolean') return null\n  return rState.ended\n} // Have emitted 'end'.\n\nfunction isReadableFinished(stream, strict) {\n  if (!isReadableNodeStream(stream)) return null\n  const rState = stream._readableState\n  if (rState !== null && rState !== undefined && rState.errored) return false\n  if (typeof (rState === null || rState === undefined ? undefined : rState.endEmitted) !== 'boolean') return null\n  return !!(rState.endEmitted || (strict === false && rState.ended === true && rState.length === 0))\n}\n\nfunction isReadable(stream) {\n  if (stream && stream[kIsReadable] != null) return stream[kIsReadable]\n  if (typeof (stream === null || stream === undefined ? undefined : stream.readable) !== 'boolean') return null\n  if (isDestroyed(stream)) return false\n  return isReadableNodeStream(stream) && stream.readable && !isReadableFinished(stream)\n}\n\nfunction isWritable(stream) {\n  if (typeof (stream === null || stream === undefined ? undefined : stream.writable) !== 'boolean') return null\n  if (isDestroyed(stream)) return false\n  return isWritableNodeStream(stream) && stream.writable && !isWritableEnded(stream)\n}\n\nfunction isFinished(stream, opts) {\n  if (!isNodeStream(stream)) {\n    return null\n  }\n\n  if (isDestroyed(stream)) {\n    return true\n  }\n\n  if ((opts === null || opts === undefined ? undefined : opts.readable) !== false && isReadable(stream)) {\n    return false\n  }\n\n  if ((opts === null || opts === undefined ? undefined : opts.writable) !== false && isWritable(stream)) {\n    return false\n  }\n\n  return true\n}\n\nfunction isWritableErrored(stream) {\n  var _stream$_writableStat, _stream$_writableStat2\n\n  if (!isNodeStream(stream)) {\n    return null\n  }\n\n  if (stream.writableErrored) {\n    return stream.writableErrored\n  }\n\n  return (_stream$_writableStat =\n    (_stream$_writableStat2 = stream._writableState) === null || _stream$_writableStat2 === undefined\n      ? undefined\n      : _stream$_writableStat2.errored) !== null && _stream$_writableStat !== undefined\n    ? _stream$_writableStat\n    : null\n}\n\nfunction isReadableErrored(stream) {\n  var _stream$_readableStat, _stream$_readableStat2\n\n  if (!isNodeStream(stream)) {\n    return null\n  }\n\n  if (stream.readableErrored) {\n    return stream.readableErrored\n  }\n\n  return (_stream$_readableStat =\n    (_stream$_readableStat2 = stream._readableState) === null || _stream$_readableStat2 === undefined\n      ? undefined\n      : _stream$_readableStat2.errored) !== null && _stream$_readableStat !== undefined\n    ? _stream$_readableStat\n    : null\n}\n\nfunction isClosed(stream) {\n  if (!isNodeStream(stream)) {\n    return null\n  }\n\n  if (typeof stream.closed === 'boolean') {\n    return stream.closed\n  }\n\n  const wState = stream._writableState\n  const rState = stream._readableState\n\n  if (\n    typeof (wState === null || wState === undefined ? undefined : wState.closed) === 'boolean' ||\n    typeof (rState === null || rState === undefined ? undefined : rState.closed) === 'boolean'\n  ) {\n    return (\n      (wState === null || wState === undefined ? undefined : wState.closed) ||\n      (rState === null || rState === undefined ? undefined : rState.closed)\n    )\n  }\n\n  if (typeof stream._closed === 'boolean' && isOutgoingMessage(stream)) {\n    return stream._closed\n  }\n\n  return null\n}\n\nfunction isOutgoingMessage(stream) {\n  return (\n    typeof stream._closed === 'boolean' &&\n    typeof stream._defaultKeepAlive === 'boolean' &&\n    typeof stream._removedConnection === 'boolean' &&\n    typeof stream._removedContLen === 'boolean'\n  )\n}\n\nfunction isServerResponse(stream) {\n  return typeof stream._sent100 === 'boolean' && isOutgoingMessage(stream)\n}\n\nfunction isServerRequest(stream) {\n  var _stream$req\n\n  return (\n    typeof stream._consuming === 'boolean' &&\n    typeof stream._dumped === 'boolean' &&\n    ((_stream$req = stream.req) === null || _stream$req === undefined ? undefined : _stream$req.upgradeOrConnect) ===\n      undefined\n  )\n}\n\nfunction willEmitClose(stream) {\n  if (!isNodeStream(stream)) return null\n  const wState = stream._writableState\n  const rState = stream._readableState\n  const state = wState || rState\n  return (\n    (!state && isServerResponse(stream)) || !!(state && state.autoDestroy && state.emitClose && state.closed === false)\n  )\n}\n\nfunction isDisturbed(stream) {\n  var _stream$kIsDisturbed\n\n  return !!(\n    stream &&\n    ((_stream$kIsDisturbed = stream[kIsDisturbed]) !== null && _stream$kIsDisturbed !== undefined\n      ? _stream$kIsDisturbed\n      : stream.readableDidRead || stream.readableAborted)\n  )\n}\n\nfunction isErrored(stream) {\n  var _ref,\n    _ref2,\n    _ref3,\n    _ref4,\n    _ref5,\n    _stream$kIsErrored,\n    _stream$_readableStat3,\n    _stream$_writableStat3,\n    _stream$_readableStat4,\n    _stream$_writableStat4\n\n  return !!(\n    stream &&\n    ((_ref =\n      (_ref2 =\n        (_ref3 =\n          (_ref4 =\n            (_ref5 =\n              (_stream$kIsErrored = stream[kIsErrored]) !== null && _stream$kIsErrored !== undefined\n                ? _stream$kIsErrored\n                : stream.readableErrored) !== null && _ref5 !== undefined\n              ? _ref5\n              : stream.writableErrored) !== null && _ref4 !== undefined\n            ? _ref4\n            : (_stream$_readableStat3 = stream._readableState) === null || _stream$_readableStat3 === undefined\n            ? undefined\n            : _stream$_readableStat3.errorEmitted) !== null && _ref3 !== undefined\n          ? _ref3\n          : (_stream$_writableStat3 = stream._writableState) === null || _stream$_writableStat3 === undefined\n          ? undefined\n          : _stream$_writableStat3.errorEmitted) !== null && _ref2 !== undefined\n        ? _ref2\n        : (_stream$_readableStat4 = stream._readableState) === null || _stream$_readableStat4 === undefined\n        ? undefined\n        : _stream$_readableStat4.errored) !== null && _ref !== undefined\n      ? _ref\n      : (_stream$_writableStat4 = stream._writableState) === null || _stream$_writableStat4 === undefined\n      ? undefined\n      : _stream$_writableStat4.errored)\n  )\n}\n\nmodule.exports = {\n  kDestroyed,\n  isDisturbed,\n  kIsDisturbed,\n  isErrored,\n  kIsErrored,\n  isReadable,\n  kIsReadable,\n  isClosed,\n  isDestroyed,\n  isDuplexNodeStream,\n  isFinished,\n  isIterable,\n  isReadableNodeStream,\n  isReadableEnded,\n  isReadableFinished,\n  isReadableErrored,\n  isNodeStream,\n  isWritable,\n  isWritableNodeStream,\n  isWritableEnded,\n  isWritableFinished,\n  isWritableErrored,\n  isServerRequest,\n  isServerResponse,\n  willEmitClose\n}\n","/* replacement start */\nconst process = require('process')\n/* replacement end */\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n// A bit simpler than readable streams.\n// Implement an async ._write(chunk, encoding, cb), and it'll handle all\n// the drain event emission and buffering.\n\n;('use strict')\n\nconst {\n  ArrayPrototypeSlice,\n  Error,\n  FunctionPrototypeSymbolHasInstance,\n  ObjectDefineProperty,\n  ObjectDefineProperties,\n  ObjectSetPrototypeOf,\n  StringPrototypeToLowerCase,\n  Symbol,\n  SymbolHasInstance\n} = require('../../ours/primordials')\n\nmodule.exports = Writable\nWritable.WritableState = WritableState\n\nconst { EventEmitter: EE } = require('events')\n\nconst Stream = require('./legacy').Stream\n\nconst { Buffer } = require('buffer')\n\nconst destroyImpl = require('./destroy')\n\nconst { addAbortSignal } = require('./add-abort-signal')\n\nconst { getHighWaterMark, getDefaultHighWaterMark } = require('./state')\n\nconst {\n  ERR_INVALID_ARG_TYPE,\n  ERR_METHOD_NOT_IMPLEMENTED,\n  ERR_MULTIPLE_CALLBACK,\n  ERR_STREAM_CANNOT_PIPE,\n  ERR_STREAM_DESTROYED,\n  ERR_STREAM_ALREADY_FINISHED,\n  ERR_STREAM_NULL_VALUES,\n  ERR_STREAM_WRITE_AFTER_END,\n  ERR_UNKNOWN_ENCODING\n} = require('../../ours/errors').codes\n\nconst { errorOrDestroy } = destroyImpl\nObjectSetPrototypeOf(Writable.prototype, Stream.prototype)\nObjectSetPrototypeOf(Writable, Stream)\n\nfunction nop() {}\n\nconst kOnFinished = Symbol('kOnFinished')\n\nfunction WritableState(options, stream, isDuplex) {\n  // Duplex streams are both readable and writable, but share\n  // the same options object.\n  // However, some cases require setting options to different\n  // values for the readable and the writable sides of the duplex stream,\n  // e.g. options.readableObjectMode vs. options.writableObjectMode, etc.\n  if (typeof isDuplex !== 'boolean') isDuplex = stream instanceof require('./duplex') // Object stream flag to indicate whether or not this stream\n  // contains buffers or objects.\n\n  this.objectMode = !!(options && options.objectMode)\n  if (isDuplex) this.objectMode = this.objectMode || !!(options && options.writableObjectMode) // The point at which write() starts returning false\n  // Note: 0 is a valid value, means that we always return false if\n  // the entire buffer is not flushed immediately on write().\n\n  this.highWaterMark = options\n    ? getHighWaterMark(this, options, 'writableHighWaterMark', isDuplex)\n    : getDefaultHighWaterMark(false) // if _final has been called.\n\n  this.finalCalled = false // drain event flag.\n\n  this.needDrain = false // At the start of calling end()\n\n  this.ending = false // When end() has been called, and returned.\n\n  this.ended = false // When 'finish' is emitted.\n\n  this.finished = false // Has it been destroyed\n\n  this.destroyed = false // Should we decode strings into buffers before passing to _write?\n  // this is here so that some node-core streams can optimize string\n  // handling at a lower level.\n\n  const noDecode = !!(options && options.decodeStrings === false)\n  this.decodeStrings = !noDecode // Crypto is kind of old and crusty.  Historically, its default string\n  // encoding is 'binary' so we have to make this configurable.\n  // Everything else in the universe uses 'utf8', though.\n\n  this.defaultEncoding = (options && options.defaultEncoding) || 'utf8' // Not an actual buffer we keep track of, but a measurement\n  // of how much we're waiting to get pushed to some underlying\n  // socket or file.\n\n  this.length = 0 // A flag to see when we're in the middle of a write.\n\n  this.writing = false // When true all writes will be buffered until .uncork() call.\n\n  this.corked = 0 // A flag to be able to tell if the onwrite cb is called immediately,\n  // or on a later tick.  We set this to true at first, because any\n  // actions that shouldn't happen until \"later\" should generally also\n  // not happen before the first write call.\n\n  this.sync = true // A flag to know if we're processing previously buffered items, which\n  // may call the _write() callback in the same tick, so that we don't\n  // end up in an overlapped onwrite situation.\n\n  this.bufferProcessing = false // The callback that's passed to _write(chunk, cb).\n\n  this.onwrite = onwrite.bind(undefined, stream) // The callback that the user supplies to write(chunk, encoding, cb).\n\n  this.writecb = null // The amount that is being written when _write is called.\n\n  this.writelen = 0 // Storage for data passed to the afterWrite() callback in case of\n  // synchronous _write() completion.\n\n  this.afterWriteTickInfo = null\n  resetBuffer(this) // Number of pending user-supplied write callbacks\n  // this must be 0 before 'finish' can be emitted.\n\n  this.pendingcb = 0 // Stream is still being constructed and cannot be\n  // destroyed until construction finished or failed.\n  // Async construction is opt in, therefore we start as\n  // constructed.\n\n  this.constructed = true // Emit prefinish if the only thing we're waiting for is _write cbs\n  // This is relevant for synchronous Transform streams.\n\n  this.prefinished = false // True if the error was already emitted and should not be thrown again.\n\n  this.errorEmitted = false // Should close be emitted on destroy. Defaults to true.\n\n  this.emitClose = !options || options.emitClose !== false // Should .destroy() be called after 'finish' (and potentially 'end').\n\n  this.autoDestroy = !options || options.autoDestroy !== false // Indicates whether the stream has errored. When true all write() calls\n  // should return false. This is needed since when autoDestroy\n  // is disabled we need a way to tell whether the stream has failed.\n\n  this.errored = null // Indicates whether the stream has finished destroying.\n\n  this.closed = false // True if close has been emitted or would have been emitted\n  // depending on emitClose.\n\n  this.closeEmitted = false\n  this[kOnFinished] = []\n}\n\nfunction resetBuffer(state) {\n  state.buffered = []\n  state.bufferedIndex = 0\n  state.allBuffers = true\n  state.allNoop = true\n}\n\nWritableState.prototype.getBuffer = function getBuffer() {\n  return ArrayPrototypeSlice(this.buffered, this.bufferedIndex)\n}\n\nObjectDefineProperty(WritableState.prototype, 'bufferedRequestCount', {\n  __proto__: null,\n\n  get() {\n    return this.buffered.length - this.bufferedIndex\n  }\n})\n\nfunction Writable(options) {\n  // Writable ctor is applied to Duplexes, too.\n  // `realHasInstance` is necessary because using plain `instanceof`\n  // would return false, as no `_writableState` property is attached.\n  // Trying to use the custom `instanceof` for Writable here will also break the\n  // Node.js LazyTransform implementation, which has a non-trivial getter for\n  // `_writableState` that would lead to infinite recursion.\n  // Checking for a Stream.Duplex instance is faster here instead of inside\n  // the WritableState constructor, at least with V8 6.5.\n  const isDuplex = this instanceof require('./duplex')\n\n  if (!isDuplex && !FunctionPrototypeSymbolHasInstance(Writable, this)) return new Writable(options)\n  this._writableState = new WritableState(options, this, isDuplex)\n\n  if (options) {\n    if (typeof options.write === 'function') this._write = options.write\n    if (typeof options.writev === 'function') this._writev = options.writev\n    if (typeof options.destroy === 'function') this._destroy = options.destroy\n    if (typeof options.final === 'function') this._final = options.final\n    if (typeof options.construct === 'function') this._construct = options.construct\n    if (options.signal) addAbortSignal(options.signal, this)\n  }\n\n  Stream.call(this, options)\n  destroyImpl.construct(this, () => {\n    const state = this._writableState\n\n    if (!state.writing) {\n      clearBuffer(this, state)\n    }\n\n    finishMaybe(this, state)\n  })\n}\n\nObjectDefineProperty(Writable, SymbolHasInstance, {\n  __proto__: null,\n  value: function (object) {\n    if (FunctionPrototypeSymbolHasInstance(this, object)) return true\n    if (this !== Writable) return false\n    return object && object._writableState instanceof WritableState\n  }\n}) // Otherwise people can pipe Writable streams, which is just wrong.\n\nWritable.prototype.pipe = function () {\n  errorOrDestroy(this, new ERR_STREAM_CANNOT_PIPE())\n}\n\nfunction _write(stream, chunk, encoding, cb) {\n  const state = stream._writableState\n\n  if (typeof encoding === 'function') {\n    cb = encoding\n    encoding = state.defaultEncoding\n  } else {\n    if (!encoding) encoding = state.defaultEncoding\n    else if (encoding !== 'buffer' && !Buffer.isEncoding(encoding)) throw new ERR_UNKNOWN_ENCODING(encoding)\n    if (typeof cb !== 'function') cb = nop\n  }\n\n  if (chunk === null) {\n    throw new ERR_STREAM_NULL_VALUES()\n  } else if (!state.objectMode) {\n    if (typeof chunk === 'string') {\n      if (state.decodeStrings !== false) {\n        chunk = Buffer.from(chunk, encoding)\n        encoding = 'buffer'\n      }\n    } else if (chunk instanceof Buffer) {\n      encoding = 'buffer'\n    } else if (Stream._isUint8Array(chunk)) {\n      chunk = Stream._uint8ArrayToBuffer(chunk)\n      encoding = 'buffer'\n    } else {\n      throw new ERR_INVALID_ARG_TYPE('chunk', ['string', 'Buffer', 'Uint8Array'], chunk)\n    }\n  }\n\n  let err\n\n  if (state.ending) {\n    err = new ERR_STREAM_WRITE_AFTER_END()\n  } else if (state.destroyed) {\n    err = new ERR_STREAM_DESTROYED('write')\n  }\n\n  if (err) {\n    process.nextTick(cb, err)\n    errorOrDestroy(stream, err, true)\n    return err\n  }\n\n  state.pendingcb++\n  return writeOrBuffer(stream, state, chunk, encoding, cb)\n}\n\nWritable.prototype.write = function (chunk, encoding, cb) {\n  return _write(this, chunk, encoding, cb) === true\n}\n\nWritable.prototype.cork = function () {\n  this._writableState.corked++\n}\n\nWritable.prototype.uncork = function () {\n  const state = this._writableState\n\n  if (state.corked) {\n    state.corked--\n    if (!state.writing) clearBuffer(this, state)\n  }\n}\n\nWritable.prototype.setDefaultEncoding = function setDefaultEncoding(encoding) {\n  // node::ParseEncoding() requires lower case.\n  if (typeof encoding === 'string') encoding = StringPrototypeToLowerCase(encoding)\n  if (!Buffer.isEncoding(encoding)) throw new ERR_UNKNOWN_ENCODING(encoding)\n  this._writableState.defaultEncoding = encoding\n  return this\n} // If we're already writing something, then just put this\n// in the queue, and wait our turn.  Otherwise, call _write\n// If we return false, then we need a drain event, so set that flag.\n\nfunction writeOrBuffer(stream, state, chunk, encoding, callback) {\n  const len = state.objectMode ? 1 : chunk.length\n  state.length += len // stream._write resets state.length\n\n  const ret = state.length < state.highWaterMark // We must ensure that previous needDrain will not be reset to false.\n\n  if (!ret) state.needDrain = true\n\n  if (state.writing || state.corked || state.errored || !state.constructed) {\n    state.buffered.push({\n      chunk,\n      encoding,\n      callback\n    })\n\n    if (state.allBuffers && encoding !== 'buffer') {\n      state.allBuffers = false\n    }\n\n    if (state.allNoop && callback !== nop) {\n      state.allNoop = false\n    }\n  } else {\n    state.writelen = len\n    state.writecb = callback\n    state.writing = true\n    state.sync = true\n\n    stream._write(chunk, encoding, state.onwrite)\n\n    state.sync = false\n  } // Return false if errored or destroyed in order to break\n  // any synchronous while(stream.write(data)) loops.\n\n  return ret && !state.errored && !state.destroyed\n}\n\nfunction doWrite(stream, state, writev, len, chunk, encoding, cb) {\n  state.writelen = len\n  state.writecb = cb\n  state.writing = true\n  state.sync = true\n  if (state.destroyed) state.onwrite(new ERR_STREAM_DESTROYED('write'))\n  else if (writev) stream._writev(chunk, state.onwrite)\n  else stream._write(chunk, encoding, state.onwrite)\n  state.sync = false\n}\n\nfunction onwriteError(stream, state, er, cb) {\n  --state.pendingcb\n  cb(er) // Ensure callbacks are invoked even when autoDestroy is\n  // not enabled. Passing `er` here doesn't make sense since\n  // it's related to one specific write, not to the buffered\n  // writes.\n\n  errorBuffer(state) // This can emit error, but error must always follow cb.\n\n  errorOrDestroy(stream, er)\n}\n\nfunction onwrite(stream, er) {\n  const state = stream._writableState\n  const sync = state.sync\n  const cb = state.writecb\n\n  if (typeof cb !== 'function') {\n    errorOrDestroy(stream, new ERR_MULTIPLE_CALLBACK())\n    return\n  }\n\n  state.writing = false\n  state.writecb = null\n  state.length -= state.writelen\n  state.writelen = 0\n\n  if (er) {\n    // Avoid V8 leak, https://github.com/nodejs/node/pull/34103#issuecomment-652002364\n    er.stack // eslint-disable-line no-unused-expressions\n\n    if (!state.errored) {\n      state.errored = er\n    } // In case of duplex streams we need to notify the readable side of the\n    // error.\n\n    if (stream._readableState && !stream._readableState.errored) {\n      stream._readableState.errored = er\n    }\n\n    if (sync) {\n      process.nextTick(onwriteError, stream, state, er, cb)\n    } else {\n      onwriteError(stream, state, er, cb)\n    }\n  } else {\n    if (state.buffered.length > state.bufferedIndex) {\n      clearBuffer(stream, state)\n    }\n\n    if (sync) {\n      // It is a common case that the callback passed to .write() is always\n      // the same. In that case, we do not schedule a new nextTick(), but\n      // rather just increase a counter, to improve performance and avoid\n      // memory allocations.\n      if (state.afterWriteTickInfo !== null && state.afterWriteTickInfo.cb === cb) {\n        state.afterWriteTickInfo.count++\n      } else {\n        state.afterWriteTickInfo = {\n          count: 1,\n          cb,\n          stream,\n          state\n        }\n        process.nextTick(afterWriteTick, state.afterWriteTickInfo)\n      }\n    } else {\n      afterWrite(stream, state, 1, cb)\n    }\n  }\n}\n\nfunction afterWriteTick({ stream, state, count, cb }) {\n  state.afterWriteTickInfo = null\n  return afterWrite(stream, state, count, cb)\n}\n\nfunction afterWrite(stream, state, count, cb) {\n  const needDrain = !state.ending && !stream.destroyed && state.length === 0 && state.needDrain\n\n  if (needDrain) {\n    state.needDrain = false\n    stream.emit('drain')\n  }\n\n  while (count-- > 0) {\n    state.pendingcb--\n    cb()\n  }\n\n  if (state.destroyed) {\n    errorBuffer(state)\n  }\n\n  finishMaybe(stream, state)\n} // If there's something in the buffer waiting, then invoke callbacks.\n\nfunction errorBuffer(state) {\n  if (state.writing) {\n    return\n  }\n\n  for (let n = state.bufferedIndex; n < state.buffered.length; ++n) {\n    var _state$errored\n\n    const { chunk, callback } = state.buffered[n]\n    const len = state.objectMode ? 1 : chunk.length\n    state.length -= len\n    callback(\n      (_state$errored = state.errored) !== null && _state$errored !== undefined\n        ? _state$errored\n        : new ERR_STREAM_DESTROYED('write')\n    )\n  }\n\n  const onfinishCallbacks = state[kOnFinished].splice(0)\n\n  for (let i = 0; i < onfinishCallbacks.length; i++) {\n    var _state$errored2\n\n    onfinishCallbacks[i](\n      (_state$errored2 = state.errored) !== null && _state$errored2 !== undefined\n        ? _state$errored2\n        : new ERR_STREAM_DESTROYED('end')\n    )\n  }\n\n  resetBuffer(state)\n} // If there's something in the buffer waiting, then process it.\n\nfunction clearBuffer(stream, state) {\n  if (state.corked || state.bufferProcessing || state.destroyed || !state.constructed) {\n    return\n  }\n\n  const { buffered, bufferedIndex, objectMode } = state\n  const bufferedLength = buffered.length - bufferedIndex\n\n  if (!bufferedLength) {\n    return\n  }\n\n  let i = bufferedIndex\n  state.bufferProcessing = true\n\n  if (bufferedLength > 1 && stream._writev) {\n    state.pendingcb -= bufferedLength - 1\n    const callback = state.allNoop\n      ? nop\n      : (err) => {\n          for (let n = i; n < buffered.length; ++n) {\n            buffered[n].callback(err)\n          }\n        } // Make a copy of `buffered` if it's going to be used by `callback` above,\n    // since `doWrite` will mutate the array.\n\n    const chunks = state.allNoop && i === 0 ? buffered : ArrayPrototypeSlice(buffered, i)\n    chunks.allBuffers = state.allBuffers\n    doWrite(stream, state, true, state.length, chunks, '', callback)\n    resetBuffer(state)\n  } else {\n    do {\n      const { chunk, encoding, callback } = buffered[i]\n      buffered[i++] = null\n      const len = objectMode ? 1 : chunk.length\n      doWrite(stream, state, false, len, chunk, encoding, callback)\n    } while (i < buffered.length && !state.writing)\n\n    if (i === buffered.length) {\n      resetBuffer(state)\n    } else if (i > 256) {\n      buffered.splice(0, i)\n      state.bufferedIndex = 0\n    } else {\n      state.bufferedIndex = i\n    }\n  }\n\n  state.bufferProcessing = false\n}\n\nWritable.prototype._write = function (chunk, encoding, cb) {\n  if (this._writev) {\n    this._writev(\n      [\n        {\n          chunk,\n          encoding\n        }\n      ],\n      cb\n    )\n  } else {\n    throw new ERR_METHOD_NOT_IMPLEMENTED('_write()')\n  }\n}\n\nWritable.prototype._writev = null\n\nWritable.prototype.end = function (chunk, encoding, cb) {\n  const state = this._writableState\n\n  if (typeof chunk === 'function') {\n    cb = chunk\n    chunk = null\n    encoding = null\n  } else if (typeof encoding === 'function') {\n    cb = encoding\n    encoding = null\n  }\n\n  let err\n\n  if (chunk !== null && chunk !== undefined) {\n    const ret = _write(this, chunk, encoding)\n\n    if (ret instanceof Error) {\n      err = ret\n    }\n  } // .end() fully uncorks.\n\n  if (state.corked) {\n    state.corked = 1\n    this.uncork()\n  }\n\n  if (err) {\n    // Do nothing...\n  } else if (!state.errored && !state.ending) {\n    // This is forgiving in terms of unnecessary calls to end() and can hide\n    // logic errors. However, usually such errors are harmless and causing a\n    // hard error can be disproportionately destructive. It is not always\n    // trivial for the user to determine whether end() needs to be called\n    // or not.\n    state.ending = true\n    finishMaybe(this, state, true)\n    state.ended = true\n  } else if (state.finished) {\n    err = new ERR_STREAM_ALREADY_FINISHED('end')\n  } else if (state.destroyed) {\n    err = new ERR_STREAM_DESTROYED('end')\n  }\n\n  if (typeof cb === 'function') {\n    if (err || state.finished) {\n      process.nextTick(cb, err)\n    } else {\n      state[kOnFinished].push(cb)\n    }\n  }\n\n  return this\n}\n\nfunction needFinish(state) {\n  return (\n    state.ending &&\n    !state.destroyed &&\n    state.constructed &&\n    state.length === 0 &&\n    !state.errored &&\n    state.buffered.length === 0 &&\n    !state.finished &&\n    !state.writing &&\n    !state.errorEmitted &&\n    !state.closeEmitted\n  )\n}\n\nfunction callFinal(stream, state) {\n  let called = false\n\n  function onFinish(err) {\n    if (called) {\n      errorOrDestroy(stream, err !== null && err !== undefined ? err : ERR_MULTIPLE_CALLBACK())\n      return\n    }\n\n    called = true\n    state.pendingcb--\n\n    if (err) {\n      const onfinishCallbacks = state[kOnFinished].splice(0)\n\n      for (let i = 0; i < onfinishCallbacks.length; i++) {\n        onfinishCallbacks[i](err)\n      }\n\n      errorOrDestroy(stream, err, state.sync)\n    } else if (needFinish(state)) {\n      state.prefinished = true\n      stream.emit('prefinish') // Backwards compat. Don't check state.sync here.\n      // Some streams assume 'finish' will be emitted\n      // asynchronously relative to _final callback.\n\n      state.pendingcb++\n      process.nextTick(finish, stream, state)\n    }\n  }\n\n  state.sync = true\n  state.pendingcb++\n\n  try {\n    stream._final(onFinish)\n  } catch (err) {\n    onFinish(err)\n  }\n\n  state.sync = false\n}\n\nfunction prefinish(stream, state) {\n  if (!state.prefinished && !state.finalCalled) {\n    if (typeof stream._final === 'function' && !state.destroyed) {\n      state.finalCalled = true\n      callFinal(stream, state)\n    } else {\n      state.prefinished = true\n      stream.emit('prefinish')\n    }\n  }\n}\n\nfunction finishMaybe(stream, state, sync) {\n  if (needFinish(state)) {\n    prefinish(stream, state)\n\n    if (state.pendingcb === 0) {\n      if (sync) {\n        state.pendingcb++\n        process.nextTick(\n          (stream, state) => {\n            if (needFinish(state)) {\n              finish(stream, state)\n            } else {\n              state.pendingcb--\n            }\n          },\n          stream,\n          state\n        )\n      } else if (needFinish(state)) {\n        state.pendingcb++\n        finish(stream, state)\n      }\n    }\n  }\n}\n\nfunction finish(stream, state) {\n  state.pendingcb--\n  state.finished = true\n  const onfinishCallbacks = state[kOnFinished].splice(0)\n\n  for (let i = 0; i < onfinishCallbacks.length; i++) {\n    onfinishCallbacks[i]()\n  }\n\n  stream.emit('finish')\n\n  if (state.autoDestroy) {\n    // In case of duplex streams we need a way to detect\n    // if the readable side is ready for autoDestroy as well.\n    const rState = stream._readableState\n    const autoDestroy =\n      !rState ||\n      (rState.autoDestroy && // We don't expect the readable to ever 'end'\n        // if readable is explicitly set to false.\n        (rState.endEmitted || rState.readable === false))\n\n    if (autoDestroy) {\n      stream.destroy()\n    }\n  }\n}\n\nObjectDefineProperties(Writable.prototype, {\n  closed: {\n    __proto__: null,\n\n    get() {\n      return this._writableState ? this._writableState.closed : false\n    }\n  },\n  destroyed: {\n    __proto__: null,\n\n    get() {\n      return this._writableState ? this._writableState.destroyed : false\n    },\n\n    set(value) {\n      // Backward compatibility, the user is explicitly managing destroyed.\n      if (this._writableState) {\n        this._writableState.destroyed = value\n      }\n    }\n  },\n  writable: {\n    __proto__: null,\n\n    get() {\n      const w = this._writableState // w.writable === false means that this is part of a Duplex stream\n      // where the writable side was disabled upon construction.\n      // Compat. The user might manually disable writable side through\n      // deprecated setter.\n\n      return !!w && w.writable !== false && !w.destroyed && !w.errored && !w.ending && !w.ended\n    },\n\n    set(val) {\n      // Backwards compatible.\n      if (this._writableState) {\n        this._writableState.writable = !!val\n      }\n    }\n  },\n  writableFinished: {\n    __proto__: null,\n\n    get() {\n      return this._writableState ? this._writableState.finished : false\n    }\n  },\n  writableObjectMode: {\n    __proto__: null,\n\n    get() {\n      return this._writableState ? this._writableState.objectMode : false\n    }\n  },\n  writableBuffer: {\n    __proto__: null,\n\n    get() {\n      return this._writableState && this._writableState.getBuffer()\n    }\n  },\n  writableEnded: {\n    __proto__: null,\n\n    get() {\n      return this._writableState ? this._writableState.ending : false\n    }\n  },\n  writableNeedDrain: {\n    __proto__: null,\n\n    get() {\n      const wState = this._writableState\n      if (!wState) return false\n      return !wState.destroyed && !wState.ending && wState.needDrain\n    }\n  },\n  writableHighWaterMark: {\n    __proto__: null,\n\n    get() {\n      return this._writableState && this._writableState.highWaterMark\n    }\n  },\n  writableCorked: {\n    __proto__: null,\n\n    get() {\n      return this._writableState ? this._writableState.corked : 0\n    }\n  },\n  writableLength: {\n    __proto__: null,\n\n    get() {\n      return this._writableState && this._writableState.length\n    }\n  },\n  errored: {\n    __proto__: null,\n    enumerable: false,\n\n    get() {\n      return this._writableState ? this._writableState.errored : null\n    }\n  },\n  writableAborted: {\n    __proto__: null,\n    enumerable: false,\n    get: function () {\n      return !!(\n        this._writableState.writable !== false &&\n        (this._writableState.destroyed || this._writableState.errored) &&\n        !this._writableState.finished\n      )\n    }\n  }\n})\nconst destroy = destroyImpl.destroy\n\nWritable.prototype.destroy = function (err, cb) {\n  const state = this._writableState // Invoke pending callbacks.\n\n  if (!state.destroyed && (state.bufferedIndex < state.buffered.length || state[kOnFinished].length)) {\n    process.nextTick(errorBuffer, state)\n  }\n\n  destroy.call(this, err, cb)\n  return this\n}\n\nWritable.prototype._undestroy = destroyImpl.undestroy\n\nWritable.prototype._destroy = function (err, cb) {\n  cb(err)\n}\n\nWritable.prototype[EE.captureRejectionSymbol] = function (err) {\n  this.destroy(err)\n}\n\nlet webStreamsAdapters // Lazy to avoid circular references\n\nfunction lazyWebStreams() {\n  if (webStreamsAdapters === undefined) webStreamsAdapters = {}\n  return webStreamsAdapters\n}\n\nWritable.fromWeb = function (writableStream, options) {\n  return lazyWebStreams().newStreamWritableFromWritableStream(writableStream, options)\n}\n\nWritable.toWeb = function (streamWritable) {\n  return lazyWebStreams().newWritableStreamFromStreamWritable(streamWritable)\n}\n","'use strict'\n\nconst {\n  ArrayIsArray,\n  ArrayPrototypeIncludes,\n  ArrayPrototypeJoin,\n  ArrayPrototypeMap,\n  NumberIsInteger,\n  NumberIsNaN,\n  NumberMAX_SAFE_INTEGER,\n  NumberMIN_SAFE_INTEGER,\n  NumberParseInt,\n  ObjectPrototypeHasOwnProperty,\n  RegExpPrototypeExec,\n  String,\n  StringPrototypeToUpperCase,\n  StringPrototypeTrim\n} = require('../ours/primordials')\n\nconst {\n  hideStackFrames,\n  codes: { ERR_SOCKET_BAD_PORT, ERR_INVALID_ARG_TYPE, ERR_INVALID_ARG_VALUE, ERR_OUT_OF_RANGE, ERR_UNKNOWN_SIGNAL }\n} = require('../ours/errors')\n\nconst { normalizeEncoding } = require('../ours/util')\n\nconst { isAsyncFunction, isArrayBufferView } = require('../ours/util').types\n\nconst signals = {}\n/**\n * @param {*} value\n * @returns {boolean}\n */\n\nfunction isInt32(value) {\n  return value === (value | 0)\n}\n/**\n * @param {*} value\n * @returns {boolean}\n */\n\nfunction isUint32(value) {\n  return value === value >>> 0\n}\n\nconst octalReg = /^[0-7]+$/\nconst modeDesc = 'must be a 32-bit unsigned integer or an octal string'\n/**\n * Parse and validate values that will be converted into mode_t (the S_*\n * constants). Only valid numbers and octal strings are allowed. They could be\n * converted to 32-bit unsigned integers or non-negative signed integers in the\n * C++ land, but any value higher than 0o777 will result in platform-specific\n * behaviors.\n *\n * @param {*} value Values to be validated\n * @param {string} name Name of the argument\n * @param {number} [def] If specified, will be returned for invalid values\n * @returns {number}\n */\n\nfunction parseFileMode(value, name, def) {\n  if (typeof value === 'undefined') {\n    value = def\n  }\n\n  if (typeof value === 'string') {\n    if (RegExpPrototypeExec(octalReg, value) === null) {\n      throw new ERR_INVALID_ARG_VALUE(name, value, modeDesc)\n    }\n\n    value = NumberParseInt(value, 8)\n  }\n\n  validateUint32(value, name)\n  return value\n}\n/**\n * @callback validateInteger\n * @param {*} value\n * @param {string} name\n * @param {number} [min]\n * @param {number} [max]\n * @returns {asserts value is number}\n */\n\n/** @type {validateInteger} */\n\nconst validateInteger = hideStackFrames((value, name, min = NumberMIN_SAFE_INTEGER, max = NumberMAX_SAFE_INTEGER) => {\n  if (typeof value !== 'number') throw new ERR_INVALID_ARG_TYPE(name, 'number', value)\n  if (!NumberIsInteger(value)) throw new ERR_OUT_OF_RANGE(name, 'an integer', value)\n  if (value < min || value > max) throw new ERR_OUT_OF_RANGE(name, `>= ${min} && <= ${max}`, value)\n})\n/**\n * @callback validateInt32\n * @param {*} value\n * @param {string} name\n * @param {number} [min]\n * @param {number} [max]\n * @returns {asserts value is number}\n */\n\n/** @type {validateInt32} */\n\nconst validateInt32 = hideStackFrames((value, name, min = -2147483648, max = 2147483647) => {\n  // The defaults for min and max correspond to the limits of 32-bit integers.\n  if (typeof value !== 'number') {\n    throw new ERR_INVALID_ARG_TYPE(name, 'number', value)\n  }\n\n  if (!NumberIsInteger(value)) {\n    throw new ERR_OUT_OF_RANGE(name, 'an integer', value)\n  }\n\n  if (value < min || value > max) {\n    throw new ERR_OUT_OF_RANGE(name, `>= ${min} && <= ${max}`, value)\n  }\n})\n/**\n * @callback validateUint32\n * @param {*} value\n * @param {string} name\n * @param {number|boolean} [positive=false]\n * @returns {asserts value is number}\n */\n\n/** @type {validateUint32} */\n\nconst validateUint32 = hideStackFrames((value, name, positive = false) => {\n  if (typeof value !== 'number') {\n    throw new ERR_INVALID_ARG_TYPE(name, 'number', value)\n  }\n\n  if (!NumberIsInteger(value)) {\n    throw new ERR_OUT_OF_RANGE(name, 'an integer', value)\n  }\n\n  const min = positive ? 1 : 0 // 2 ** 32 === 4294967296\n\n  const max = 4_294_967_295\n\n  if (value < min || value > max) {\n    throw new ERR_OUT_OF_RANGE(name, `>= ${min} && <= ${max}`, value)\n  }\n})\n/**\n * @callback validateString\n * @param {*} value\n * @param {string} name\n * @returns {asserts value is string}\n */\n\n/** @type {validateString} */\n\nfunction validateString(value, name) {\n  if (typeof value !== 'string') throw new ERR_INVALID_ARG_TYPE(name, 'string', value)\n}\n/**\n * @callback validateNumber\n * @param {*} value\n * @param {string} name\n * @param {number} [min]\n * @param {number} [max]\n * @returns {asserts value is number}\n */\n\n/** @type {validateNumber} */\n\nfunction validateNumber(value, name, min = undefined, max) {\n  if (typeof value !== 'number') throw new ERR_INVALID_ARG_TYPE(name, 'number', value)\n\n  if (\n    (min != null && value < min) ||\n    (max != null && value > max) ||\n    ((min != null || max != null) && NumberIsNaN(value))\n  ) {\n    throw new ERR_OUT_OF_RANGE(\n      name,\n      `${min != null ? `>= ${min}` : ''}${min != null && max != null ? ' && ' : ''}${max != null ? `<= ${max}` : ''}`,\n      value\n    )\n  }\n}\n/**\n * @callback validateOneOf\n * @template T\n * @param {T} value\n * @param {string} name\n * @param {T[]} oneOf\n */\n\n/** @type {validateOneOf} */\n\nconst validateOneOf = hideStackFrames((value, name, oneOf) => {\n  if (!ArrayPrototypeIncludes(oneOf, value)) {\n    const allowed = ArrayPrototypeJoin(\n      ArrayPrototypeMap(oneOf, (v) => (typeof v === 'string' ? `'${v}'` : String(v))),\n      ', '\n    )\n    const reason = 'must be one of: ' + allowed\n    throw new ERR_INVALID_ARG_VALUE(name, value, reason)\n  }\n})\n/**\n * @callback validateBoolean\n * @param {*} value\n * @param {string} name\n * @returns {asserts value is boolean}\n */\n\n/** @type {validateBoolean} */\n\nfunction validateBoolean(value, name) {\n  if (typeof value !== 'boolean') throw new ERR_INVALID_ARG_TYPE(name, 'boolean', value)\n}\n\nfunction getOwnPropertyValueOrDefault(options, key, defaultValue) {\n  return options == null || !ObjectPrototypeHasOwnProperty(options, key) ? defaultValue : options[key]\n}\n/**\n * @callback validateObject\n * @param {*} value\n * @param {string} name\n * @param {{\n *   allowArray?: boolean,\n *   allowFunction?: boolean,\n *   nullable?: boolean\n * }} [options]\n */\n\n/** @type {validateObject} */\n\nconst validateObject = hideStackFrames((value, name, options = null) => {\n  const allowArray = getOwnPropertyValueOrDefault(options, 'allowArray', false)\n  const allowFunction = getOwnPropertyValueOrDefault(options, 'allowFunction', false)\n  const nullable = getOwnPropertyValueOrDefault(options, 'nullable', false)\n\n  if (\n    (!nullable && value === null) ||\n    (!allowArray && ArrayIsArray(value)) ||\n    (typeof value !== 'object' && (!allowFunction || typeof value !== 'function'))\n  ) {\n    throw new ERR_INVALID_ARG_TYPE(name, 'Object', value)\n  }\n})\n/**\n * @callback validateArray\n * @param {*} value\n * @param {string} name\n * @param {number} [minLength]\n * @returns {asserts value is any[]}\n */\n\n/** @type {validateArray} */\n\nconst validateArray = hideStackFrames((value, name, minLength = 0) => {\n  if (!ArrayIsArray(value)) {\n    throw new ERR_INVALID_ARG_TYPE(name, 'Array', value)\n  }\n\n  if (value.length < minLength) {\n    const reason = `must be longer than ${minLength}`\n    throw new ERR_INVALID_ARG_VALUE(name, value, reason)\n  }\n}) // eslint-disable-next-line jsdoc/require-returns-check\n\n/**\n * @param {*} signal\n * @param {string} [name='signal']\n * @returns {asserts signal is keyof signals}\n */\n\nfunction validateSignalName(signal, name = 'signal') {\n  validateString(signal, name)\n\n  if (signals[signal] === undefined) {\n    if (signals[StringPrototypeToUpperCase(signal)] !== undefined) {\n      throw new ERR_UNKNOWN_SIGNAL(signal + ' (signals must use all capital letters)')\n    }\n\n    throw new ERR_UNKNOWN_SIGNAL(signal)\n  }\n}\n/**\n * @callback validateBuffer\n * @param {*} buffer\n * @param {string} [name='buffer']\n * @returns {asserts buffer is ArrayBufferView}\n */\n\n/** @type {validateBuffer} */\n\nconst validateBuffer = hideStackFrames((buffer, name = 'buffer') => {\n  if (!isArrayBufferView(buffer)) {\n    throw new ERR_INVALID_ARG_TYPE(name, ['Buffer', 'TypedArray', 'DataView'], buffer)\n  }\n})\n/**\n * @param {string} data\n * @param {string} encoding\n */\n\nfunction validateEncoding(data, encoding) {\n  const normalizedEncoding = normalizeEncoding(encoding)\n  const length = data.length\n\n  if (normalizedEncoding === 'hex' && length % 2 !== 0) {\n    throw new ERR_INVALID_ARG_VALUE('encoding', encoding, `is invalid for data of length ${length}`)\n  }\n}\n/**\n * Check that the port number is not NaN when coerced to a number,\n * is an integer and that it falls within the legal range of port numbers.\n * @param {*} port\n * @param {string} [name='Port']\n * @param {boolean} [allowZero=true]\n * @returns {number}\n */\n\nfunction validatePort(port, name = 'Port', allowZero = true) {\n  if (\n    (typeof port !== 'number' && typeof port !== 'string') ||\n    (typeof port === 'string' && StringPrototypeTrim(port).length === 0) ||\n    +port !== +port >>> 0 ||\n    port > 0xffff ||\n    (port === 0 && !allowZero)\n  ) {\n    throw new ERR_SOCKET_BAD_PORT(name, port, allowZero)\n  }\n\n  return port | 0\n}\n/**\n * @callback validateAbortSignal\n * @param {*} signal\n * @param {string} name\n */\n\n/** @type {validateAbortSignal} */\n\nconst validateAbortSignal = hideStackFrames((signal, name) => {\n  if (signal !== undefined && (signal === null || typeof signal !== 'object' || !('aborted' in signal))) {\n    throw new ERR_INVALID_ARG_TYPE(name, 'AbortSignal', signal)\n  }\n})\n/**\n * @callback validateFunction\n * @param {*} value\n * @param {string} name\n * @returns {asserts value is Function}\n */\n\n/** @type {validateFunction} */\n\nconst validateFunction = hideStackFrames((value, name) => {\n  if (typeof value !== 'function') throw new ERR_INVALID_ARG_TYPE(name, 'Function', value)\n})\n/**\n * @callback validatePlainFunction\n * @param {*} value\n * @param {string} name\n * @returns {asserts value is Function}\n */\n\n/** @type {validatePlainFunction} */\n\nconst validatePlainFunction = hideStackFrames((value, name) => {\n  if (typeof value !== 'function' || isAsyncFunction(value)) throw new ERR_INVALID_ARG_TYPE(name, 'Function', value)\n})\n/**\n * @callback validateUndefined\n * @param {*} value\n * @param {string} name\n * @returns {asserts value is undefined}\n */\n\n/** @type {validateUndefined} */\n\nconst validateUndefined = hideStackFrames((value, name) => {\n  if (value !== undefined) throw new ERR_INVALID_ARG_TYPE(name, 'undefined', value)\n})\n/**\n * @template T\n * @param {T} value\n * @param {string} name\n * @param {T[]} union\n */\n\nfunction validateUnion(value, name, union) {\n  if (!ArrayPrototypeIncludes(union, value)) {\n    throw new ERR_INVALID_ARG_TYPE(name, `('${ArrayPrototypeJoin(union, '|')}')`, value)\n  }\n}\n\nmodule.exports = {\n  isInt32,\n  isUint32,\n  parseFileMode,\n  validateArray,\n  validateBoolean,\n  validateBuffer,\n  validateEncoding,\n  validateFunction,\n  validateInt32,\n  validateInteger,\n  validateNumber,\n  validateObject,\n  validateOneOf,\n  validatePlainFunction,\n  validatePort,\n  validateSignalName,\n  validateString,\n  validateUint32,\n  validateUndefined,\n  validateUnion,\n  validateAbortSignal\n}\n","'use strict'\n\nconst { format, inspect, AggregateError: CustomAggregateError } = require('./util')\n/*\n  This file is a reduced and adapted version of the main lib/internal/errors.js file defined at\n\n  https://github.com/nodejs/node/blob/master/lib/internal/errors.js\n\n  Don't try to replace with the original file and keep it up to date (starting from E(...) definitions)\n  with the upstream file.\n*/\n\nconst AggregateError = globalThis.AggregateError || CustomAggregateError\nconst kIsNodeError = Symbol('kIsNodeError')\nconst kTypes = [\n  'string',\n  'function',\n  'number',\n  'object', // Accept 'Function' and 'Object' as alternative to the lower cased version.\n  'Function',\n  'Object',\n  'boolean',\n  'bigint',\n  'symbol'\n]\nconst classRegExp = /^([A-Z][a-z0-9]*)+$/\nconst nodeInternalPrefix = '__node_internal_'\nconst codes = {}\n\nfunction assert(value, message) {\n  if (!value) {\n    throw new codes.ERR_INTERNAL_ASSERTION(message)\n  }\n} // Only use this for integers! Decimal numbers do not work with this function.\n\nfunction addNumericalSeparator(val) {\n  let res = ''\n  let i = val.length\n  const start = val[0] === '-' ? 1 : 0\n\n  for (; i >= start + 4; i -= 3) {\n    res = `_${val.slice(i - 3, i)}${res}`\n  }\n\n  return `${val.slice(0, i)}${res}`\n}\n\nfunction getMessage(key, msg, args) {\n  if (typeof msg === 'function') {\n    assert(\n      msg.length <= args.length, // Default options do not count.\n      `Code: ${key}; The provided arguments length (${args.length}) does not match the required ones (${msg.length}).`\n    )\n    return msg(...args)\n  }\n\n  const expectedLength = (msg.match(/%[dfijoOs]/g) || []).length\n  assert(\n    expectedLength === args.length,\n    `Code: ${key}; The provided arguments length (${args.length}) does not match the required ones (${expectedLength}).`\n  )\n\n  if (args.length === 0) {\n    return msg\n  }\n\n  return format(msg, ...args)\n}\n\nfunction E(code, message, Base) {\n  if (!Base) {\n    Base = Error\n  }\n\n  class NodeError extends Base {\n    constructor(...args) {\n      super(getMessage(code, message, args))\n    }\n\n    toString() {\n      return `${this.name} [${code}]: ${this.message}`\n    }\n  }\n\n  Object.defineProperties(NodeError.prototype, {\n    name: {\n      value: Base.name,\n      writable: true,\n      enumerable: false,\n      configurable: true\n    },\n    toString: {\n      value() {\n        return `${this.name} [${code}]: ${this.message}`\n      },\n\n      writable: true,\n      enumerable: false,\n      configurable: true\n    }\n  })\n  NodeError.prototype.code = code\n  NodeError.prototype[kIsNodeError] = true\n  codes[code] = NodeError\n}\n\nfunction hideStackFrames(fn) {\n  // We rename the functions that will be hidden to cut off the stacktrace\n  // at the outermost one\n  const hidden = nodeInternalPrefix + fn.name\n  Object.defineProperty(fn, 'name', {\n    value: hidden\n  })\n  return fn\n}\n\nfunction aggregateTwoErrors(innerError, outerError) {\n  if (innerError && outerError && innerError !== outerError) {\n    if (Array.isArray(outerError.errors)) {\n      // If `outerError` is already an `AggregateError`.\n      outerError.errors.push(innerError)\n      return outerError\n    }\n\n    const err = new AggregateError([outerError, innerError], outerError.message)\n    err.code = outerError.code\n    return err\n  }\n\n  return innerError || outerError\n}\n\nclass AbortError extends Error {\n  constructor(message = 'The operation was aborted', options = undefined) {\n    if (options !== undefined && typeof options !== 'object') {\n      throw new codes.ERR_INVALID_ARG_TYPE('options', 'Object', options)\n    }\n\n    super(message, options)\n    this.code = 'ABORT_ERR'\n    this.name = 'AbortError'\n  }\n}\n\nE('ERR_ASSERTION', '%s', Error)\nE(\n  'ERR_INVALID_ARG_TYPE',\n  (name, expected, actual) => {\n    assert(typeof name === 'string', \"'name' must be a string\")\n\n    if (!Array.isArray(expected)) {\n      expected = [expected]\n    }\n\n    let msg = 'The '\n\n    if (name.endsWith(' argument')) {\n      // For cases like 'first argument'\n      msg += `${name} `\n    } else {\n      msg += `\"${name}\" ${name.includes('.') ? 'property' : 'argument'} `\n    }\n\n    msg += 'must be '\n    const types = []\n    const instances = []\n    const other = []\n\n    for (const value of expected) {\n      assert(typeof value === 'string', 'All expected entries have to be of type string')\n\n      if (kTypes.includes(value)) {\n        types.push(value.toLowerCase())\n      } else if (classRegExp.test(value)) {\n        instances.push(value)\n      } else {\n        assert(value !== 'object', 'The value \"object\" should be written as \"Object\"')\n        other.push(value)\n      }\n    } // Special handle `object` in case other instances are allowed to outline\n    // the differences between each other.\n\n    if (instances.length > 0) {\n      const pos = types.indexOf('object')\n\n      if (pos !== -1) {\n        types.splice(types, pos, 1)\n        instances.push('Object')\n      }\n    }\n\n    if (types.length > 0) {\n      switch (types.length) {\n        case 1:\n          msg += `of type ${types[0]}`\n          break\n\n        case 2:\n          msg += `one of type ${types[0]} or ${types[1]}`\n          break\n\n        default: {\n          const last = types.pop()\n          msg += `one of type ${types.join(', ')}, or ${last}`\n        }\n      }\n\n      if (instances.length > 0 || other.length > 0) {\n        msg += ' or '\n      }\n    }\n\n    if (instances.length > 0) {\n      switch (instances.length) {\n        case 1:\n          msg += `an instance of ${instances[0]}`\n          break\n\n        case 2:\n          msg += `an instance of ${instances[0]} or ${instances[1]}`\n          break\n\n        default: {\n          const last = instances.pop()\n          msg += `an instance of ${instances.join(', ')}, or ${last}`\n        }\n      }\n\n      if (other.length > 0) {\n        msg += ' or '\n      }\n    }\n\n    switch (other.length) {\n      case 0:\n        break\n\n      case 1:\n        if (other[0].toLowerCase() !== other[0]) {\n          msg += 'an '\n        }\n\n        msg += `${other[0]}`\n        break\n\n      case 2:\n        msg += `one of ${other[0]} or ${other[1]}`\n        break\n\n      default: {\n        const last = other.pop()\n        msg += `one of ${other.join(', ')}, or ${last}`\n      }\n    }\n\n    if (actual == null) {\n      msg += `. Received ${actual}`\n    } else if (typeof actual === 'function' && actual.name) {\n      msg += `. Received function ${actual.name}`\n    } else if (typeof actual === 'object') {\n      var _actual$constructor\n\n      if (\n        (_actual$constructor = actual.constructor) !== null &&\n        _actual$constructor !== undefined &&\n        _actual$constructor.name\n      ) {\n        msg += `. Received an instance of ${actual.constructor.name}`\n      } else {\n        const inspected = inspect(actual, {\n          depth: -1\n        })\n        msg += `. Received ${inspected}`\n      }\n    } else {\n      let inspected = inspect(actual, {\n        colors: false\n      })\n\n      if (inspected.length > 25) {\n        inspected = `${inspected.slice(0, 25)}...`\n      }\n\n      msg += `. Received type ${typeof actual} (${inspected})`\n    }\n\n    return msg\n  },\n  TypeError\n)\nE(\n  'ERR_INVALID_ARG_VALUE',\n  (name, value, reason = 'is invalid') => {\n    let inspected = inspect(value)\n\n    if (inspected.length > 128) {\n      inspected = inspected.slice(0, 128) + '...'\n    }\n\n    const type = name.includes('.') ? 'property' : 'argument'\n    return `The ${type} '${name}' ${reason}. Received ${inspected}`\n  },\n  TypeError\n)\nE(\n  'ERR_INVALID_RETURN_VALUE',\n  (input, name, value) => {\n    var _value$constructor\n\n    const type =\n      value !== null &&\n      value !== undefined &&\n      (_value$constructor = value.constructor) !== null &&\n      _value$constructor !== undefined &&\n      _value$constructor.name\n        ? `instance of ${value.constructor.name}`\n        : `type ${typeof value}`\n    return `Expected ${input} to be returned from the \"${name}\"` + ` function but got ${type}.`\n  },\n  TypeError\n)\nE(\n  'ERR_MISSING_ARGS',\n  (...args) => {\n    assert(args.length > 0, 'At least one arg needs to be specified')\n    let msg\n    const len = args.length\n    args = (Array.isArray(args) ? args : [args]).map((a) => `\"${a}\"`).join(' or ')\n\n    switch (len) {\n      case 1:\n        msg += `The ${args[0]} argument`\n        break\n\n      case 2:\n        msg += `The ${args[0]} and ${args[1]} arguments`\n        break\n\n      default:\n        {\n          const last = args.pop()\n          msg += `The ${args.join(', ')}, and ${last} arguments`\n        }\n        break\n    }\n\n    return `${msg} must be specified`\n  },\n  TypeError\n)\nE(\n  'ERR_OUT_OF_RANGE',\n  (str, range, input) => {\n    assert(range, 'Missing \"range\" argument')\n    let received\n\n    if (Number.isInteger(input) && Math.abs(input) > 2 ** 32) {\n      received = addNumericalSeparator(String(input))\n    } else if (typeof input === 'bigint') {\n      received = String(input)\n\n      if (input > 2n ** 32n || input < -(2n ** 32n)) {\n        received = addNumericalSeparator(received)\n      }\n\n      received += 'n'\n    } else {\n      received = inspect(input)\n    }\n\n    return `The value of \"${str}\" is out of range. It must be ${range}. Received ${received}`\n  },\n  RangeError\n)\nE('ERR_MULTIPLE_CALLBACK', 'Callback called multiple times', Error)\nE('ERR_METHOD_NOT_IMPLEMENTED', 'The %s method is not implemented', Error)\nE('ERR_STREAM_ALREADY_FINISHED', 'Cannot call %s after a stream was finished', Error)\nE('ERR_STREAM_CANNOT_PIPE', 'Cannot pipe, not readable', Error)\nE('ERR_STREAM_DESTROYED', 'Cannot call %s after a stream was destroyed', Error)\nE('ERR_STREAM_NULL_VALUES', 'May not write null values to stream', TypeError)\nE('ERR_STREAM_PREMATURE_CLOSE', 'Premature close', Error)\nE('ERR_STREAM_PUSH_AFTER_EOF', 'stream.push() after EOF', Error)\nE('ERR_STREAM_UNSHIFT_AFTER_END_EVENT', 'stream.unshift() after end event', Error)\nE('ERR_STREAM_WRITE_AFTER_END', 'write after end', Error)\nE('ERR_UNKNOWN_ENCODING', 'Unknown encoding: %s', TypeError)\nmodule.exports = {\n  AbortError,\n  aggregateTwoErrors: hideStackFrames(aggregateTwoErrors),\n  hideStackFrames,\n  codes\n}\n","'use strict'\n/*\n  This file is a reduced and adapted version of the main lib/internal/per_context/primordials.js file defined at\n\n  https://github.com/nodejs/node/blob/master/lib/internal/per_context/primordials.js\n\n  Don't try to replace with the original file and keep it up to date with the upstream file.\n*/\n\nmodule.exports = {\n  ArrayIsArray(self) {\n    return Array.isArray(self)\n  },\n\n  ArrayPrototypeIncludes(self, el) {\n    return self.includes(el)\n  },\n\n  ArrayPrototypeIndexOf(self, el) {\n    return self.indexOf(el)\n  },\n\n  ArrayPrototypeJoin(self, sep) {\n    return self.join(sep)\n  },\n\n  ArrayPrototypeMap(self, fn) {\n    return self.map(fn)\n  },\n\n  ArrayPrototypePop(self, el) {\n    return self.pop(el)\n  },\n\n  ArrayPrototypePush(self, el) {\n    return self.push(el)\n  },\n\n  ArrayPrototypeSlice(self, start, end) {\n    return self.slice(start, end)\n  },\n\n  Error,\n\n  FunctionPrototypeCall(fn, thisArgs, ...args) {\n    return fn.call(thisArgs, ...args)\n  },\n\n  FunctionPrototypeSymbolHasInstance(self, instance) {\n    return Function.prototype[Symbol.hasInstance].call(self, instance)\n  },\n\n  MathFloor: Math.floor,\n  Number,\n  NumberIsInteger: Number.isInteger,\n  NumberIsNaN: Number.isNaN,\n  NumberMAX_SAFE_INTEGER: Number.MAX_SAFE_INTEGER,\n  NumberMIN_SAFE_INTEGER: Number.MIN_SAFE_INTEGER,\n  NumberParseInt: Number.parseInt,\n\n  ObjectDefineProperties(self, props) {\n    return Object.defineProperties(self, props)\n  },\n\n  ObjectDefineProperty(self, name, prop) {\n    return Object.defineProperty(self, name, prop)\n  },\n\n  ObjectGetOwnPropertyDescriptor(self, name) {\n    return Object.getOwnPropertyDescriptor(self, name)\n  },\n\n  ObjectKeys(obj) {\n    return Object.keys(obj)\n  },\n\n  ObjectSetPrototypeOf(target, proto) {\n    return Object.setPrototypeOf(target, proto)\n  },\n\n  Promise,\n\n  PromisePrototypeCatch(self, fn) {\n    return self.catch(fn)\n  },\n\n  PromisePrototypeThen(self, thenFn, catchFn) {\n    return self.then(thenFn, catchFn)\n  },\n\n  PromiseReject(err) {\n    return Promise.reject(err)\n  },\n\n  ReflectApply: Reflect.apply,\n\n  RegExpPrototypeTest(self, value) {\n    return self.test(value)\n  },\n\n  SafeSet: Set,\n  String,\n\n  StringPrototypeSlice(self, start, end) {\n    return self.slice(start, end)\n  },\n\n  StringPrototypeToLowerCase(self) {\n    return self.toLowerCase()\n  },\n\n  StringPrototypeToUpperCase(self) {\n    return self.toUpperCase()\n  },\n\n  StringPrototypeTrim(self) {\n    return self.trim()\n  },\n\n  Symbol,\n  SymbolAsyncIterator: Symbol.asyncIterator,\n  SymbolHasInstance: Symbol.hasInstance,\n  SymbolIterator: Symbol.iterator,\n\n  TypedArrayPrototypeSet(self, buf, len) {\n    return self.set(buf, len)\n  },\n\n  Uint8Array\n}\n","'use strict'\n\nconst bufferModule = require('buffer')\n\nconst AsyncFunction = Object.getPrototypeOf(async function () {}).constructor\nconst Blob = globalThis.Blob || bufferModule.Blob\n/* eslint-disable indent */\n\nconst isBlob =\n  typeof Blob !== 'undefined'\n    ? function isBlob(b) {\n        // eslint-disable-next-line indent\n        return b instanceof Blob\n      }\n    : function isBlob(b) {\n        return false\n      }\n/* eslint-enable indent */\n// This is a simplified version of AggregateError\n\nclass AggregateError extends Error {\n  constructor(errors) {\n    if (!Array.isArray(errors)) {\n      throw new TypeError(`Expected input to be an Array, got ${typeof errors}`)\n    }\n\n    let message = ''\n\n    for (let i = 0; i < errors.length; i++) {\n      message += `    ${errors[i].stack}\\n`\n    }\n\n    super(message)\n    this.name = 'AggregateError'\n    this.errors = errors\n  }\n}\n\nmodule.exports = {\n  AggregateError,\n  kEmptyObject: Object.freeze({}),\n\n  once(callback) {\n    let called = false\n    return function (...args) {\n      if (called) {\n        return\n      }\n\n      called = true\n      callback.apply(this, args)\n    }\n  },\n\n  createDeferredPromise: function () {\n    let resolve\n    let reject // eslint-disable-next-line promise/param-names\n\n    const promise = new Promise((res, rej) => {\n      resolve = res\n      reject = rej\n    })\n    return {\n      promise,\n      resolve,\n      reject\n    }\n  },\n\n  promisify(fn) {\n    return new Promise((resolve, reject) => {\n      fn((err, ...args) => {\n        if (err) {\n          return reject(err)\n        }\n\n        return resolve(...args)\n      })\n    })\n  },\n\n  debuglog() {\n    return function () {}\n  },\n\n  format(format, ...args) {\n    // Simplified version of https://nodejs.org/api/util.html#utilformatformat-args\n    return format.replace(/%([sdifj])/g, function (...[_unused, type]) {\n      const replacement = args.shift()\n\n      if (type === 'f') {\n        return replacement.toFixed(6)\n      } else if (type === 'j') {\n        return JSON.stringify(replacement)\n      } else if (type === 's' && typeof replacement === 'object') {\n        const ctor = replacement.constructor !== Object ? replacement.constructor.name : ''\n        return `${ctor} {}`.trim()\n      } else {\n        return replacement.toString()\n      }\n    })\n  },\n\n  inspect(value) {\n    // Vastly simplified version of https://nodejs.org/api/util.html#utilinspectobject-options\n    switch (typeof value) {\n      case 'string':\n        if (value.includes(\"'\")) {\n          if (!value.includes('\"')) {\n            return `\"${value}\"`\n          } else if (!value.includes('`') && !value.includes('${')) {\n            return `\\`${value}\\``\n          }\n        }\n\n        return `'${value}'`\n\n      case 'number':\n        if (isNaN(value)) {\n          return 'NaN'\n        } else if (Object.is(value, -0)) {\n          return String(value)\n        }\n\n        return value\n\n      case 'bigint':\n        return `${String(value)}n`\n\n      case 'boolean':\n      case 'undefined':\n        return String(value)\n\n      case 'object':\n        return '{}'\n    }\n  },\n\n  types: {\n    isAsyncFunction(fn) {\n      return fn instanceof AsyncFunction\n    },\n\n    isArrayBufferView(arr) {\n      return ArrayBuffer.isView(arr)\n    }\n  },\n  isBlob\n}\nmodule.exports.promisify.custom = Symbol.for('nodejs.util.promisify.custom')\n","/* replacement start */\nconst { Buffer } = require('buffer')\n/* replacement end */\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n;('use strict')\n\nconst { ObjectDefineProperty, ObjectKeys, ReflectApply } = require('./ours/primordials')\n\nconst {\n  promisify: { custom: customPromisify }\n} = require('./ours/util')\n\nconst { streamReturningOperators, promiseReturningOperators } = require('./internal/streams/operators')\n\nconst {\n  codes: { ERR_ILLEGAL_CONSTRUCTOR }\n} = require('./ours/errors')\n\nconst compose = require('./internal/streams/compose')\n\nconst { pipeline } = require('./internal/streams/pipeline')\n\nconst { destroyer } = require('./internal/streams/destroy')\n\nconst eos = require('./internal/streams/end-of-stream')\n\nconst internalBuffer = {}\n\nconst promises = require('./stream/promises')\n\nconst utils = require('./internal/streams/utils')\n\nconst Stream = (module.exports = require('./internal/streams/legacy').Stream)\n\nStream.isDisturbed = utils.isDisturbed\nStream.isErrored = utils.isErrored\nStream.isReadable = utils.isReadable\nStream.Readable = require('./internal/streams/readable')\n\nfor (const key of ObjectKeys(streamReturningOperators)) {\n  const op = streamReturningOperators[key]\n\n  function fn(...args) {\n    if (new.target) {\n      throw ERR_ILLEGAL_CONSTRUCTOR()\n    }\n\n    return Stream.Readable.from(ReflectApply(op, this, args))\n  }\n\n  ObjectDefineProperty(fn, 'name', {\n    __proto__: null,\n    value: op.name\n  })\n  ObjectDefineProperty(fn, 'length', {\n    __proto__: null,\n    value: op.length\n  })\n  ObjectDefineProperty(Stream.Readable.prototype, key, {\n    __proto__: null,\n    value: fn,\n    enumerable: false,\n    configurable: true,\n    writable: true\n  })\n}\n\nfor (const key of ObjectKeys(promiseReturningOperators)) {\n  const op = promiseReturningOperators[key]\n\n  function fn(...args) {\n    if (new.target) {\n      throw ERR_ILLEGAL_CONSTRUCTOR()\n    }\n\n    return ReflectApply(op, this, args)\n  }\n\n  ObjectDefineProperty(fn, 'name', {\n    __proto__: null,\n    value: op.name\n  })\n  ObjectDefineProperty(fn, 'length', {\n    __proto__: null,\n    value: op.length\n  })\n  ObjectDefineProperty(Stream.Readable.prototype, key, {\n    __proto__: null,\n    value: fn,\n    enumerable: false,\n    configurable: true,\n    writable: true\n  })\n}\n\nStream.Writable = require('./internal/streams/writable')\nStream.Duplex = require('./internal/streams/duplex')\nStream.Transform = require('./internal/streams/transform')\nStream.PassThrough = require('./internal/streams/passthrough')\nStream.pipeline = pipeline\n\nconst { addAbortSignal } = require('./internal/streams/add-abort-signal')\n\nStream.addAbortSignal = addAbortSignal\nStream.finished = eos\nStream.destroy = destroyer\nStream.compose = compose\nObjectDefineProperty(Stream, 'promises', {\n  __proto__: null,\n  configurable: true,\n  enumerable: true,\n\n  get() {\n    return promises\n  }\n})\nObjectDefineProperty(pipeline, customPromisify, {\n  __proto__: null,\n  enumerable: true,\n\n  get() {\n    return promises.pipeline\n  }\n})\nObjectDefineProperty(eos, customPromisify, {\n  __proto__: null,\n  enumerable: true,\n\n  get() {\n    return promises.finished\n  }\n}) // Backwards-compat with node 0.4.x\n\nStream.Stream = Stream\n\nStream._isUint8Array = function isUint8Array(value) {\n  return value instanceof Uint8Array\n}\n\nStream._uint8ArrayToBuffer = function _uint8ArrayToBuffer(chunk) {\n  return Buffer.from(chunk.buffer, chunk.byteOffset, chunk.byteLength)\n}\n","'use strict'\n\nconst { ArrayPrototypePop, Promise } = require('../ours/primordials')\n\nconst { isIterable, isNodeStream } = require('../internal/streams/utils')\n\nconst { pipelineImpl: pl } = require('../internal/streams/pipeline')\n\nconst { finished } = require('../internal/streams/end-of-stream')\n\nfunction pipeline(...streams) {\n  return new Promise((resolve, reject) => {\n    let signal\n    let end\n    const lastArg = streams[streams.length - 1]\n\n    if (lastArg && typeof lastArg === 'object' && !isNodeStream(lastArg) && !isIterable(lastArg)) {\n      const options = ArrayPrototypePop(streams)\n      signal = options.signal\n      end = options.end\n    }\n\n    pl(\n      streams,\n      (err, value) => {\n        if (err) {\n          reject(err)\n        } else {\n          resolve(value)\n        }\n      },\n      {\n        signal,\n        end\n      }\n    )\n  })\n}\n\nmodule.exports = {\n  finished,\n  pipeline\n}\n","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar Subject_1 = require('./Subject');\nvar Subscription_1 = require('./Subscription');\n/**\n * @class AsyncSubject<T>\n */\nvar AsyncSubject = (function (_super) {\n    __extends(AsyncSubject, _super);\n    function AsyncSubject() {\n        _super.apply(this, arguments);\n        this.value = null;\n        this.hasNext = false;\n        this.hasCompleted = false;\n    }\n    /** @deprecated internal use only */ AsyncSubject.prototype._subscribe = function (subscriber) {\n        if (this.hasError) {\n            subscriber.error(this.thrownError);\n            return Subscription_1.Subscription.EMPTY;\n        }\n        else if (this.hasCompleted && this.hasNext) {\n            subscriber.next(this.value);\n            subscriber.complete();\n            return Subscription_1.Subscription.EMPTY;\n        }\n        return _super.prototype._subscribe.call(this, subscriber);\n    };\n    AsyncSubject.prototype.next = function (value) {\n        if (!this.hasCompleted) {\n            this.value = value;\n            this.hasNext = true;\n        }\n    };\n    AsyncSubject.prototype.error = function (error) {\n        if (!this.hasCompleted) {\n            _super.prototype.error.call(this, error);\n        }\n    };\n    AsyncSubject.prototype.complete = function () {\n        this.hasCompleted = true;\n        if (this.hasNext) {\n            _super.prototype.next.call(this, this.value);\n        }\n        _super.prototype.complete.call(this);\n    };\n    return AsyncSubject;\n}(Subject_1.Subject));\nexports.AsyncSubject = AsyncSubject;\n//# sourceMappingURL=AsyncSubject.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar Subject_1 = require('./Subject');\nvar ObjectUnsubscribedError_1 = require('./util/ObjectUnsubscribedError');\n/**\n * @class BehaviorSubject<T>\n */\nvar BehaviorSubject = (function (_super) {\n    __extends(BehaviorSubject, _super);\n    function BehaviorSubject(_value) {\n        _super.call(this);\n        this._value = _value;\n    }\n    Object.defineProperty(BehaviorSubject.prototype, \"value\", {\n        get: function () {\n            return this.getValue();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /** @deprecated internal use only */ BehaviorSubject.prototype._subscribe = function (subscriber) {\n        var subscription = _super.prototype._subscribe.call(this, subscriber);\n        if (subscription && !subscription.closed) {\n            subscriber.next(this._value);\n        }\n        return subscription;\n    };\n    BehaviorSubject.prototype.getValue = function () {\n        if (this.hasError) {\n            throw this.thrownError;\n        }\n        else if (this.closed) {\n            throw new ObjectUnsubscribedError_1.ObjectUnsubscribedError();\n        }\n        else {\n            return this._value;\n        }\n    };\n    BehaviorSubject.prototype.next = function (value) {\n        _super.prototype.next.call(this, this._value = value);\n    };\n    return BehaviorSubject;\n}(Subject_1.Subject));\nexports.BehaviorSubject = BehaviorSubject;\n//# sourceMappingURL=BehaviorSubject.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar Subscriber_1 = require('./Subscriber');\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar InnerSubscriber = (function (_super) {\n    __extends(InnerSubscriber, _super);\n    function InnerSubscriber(parent, outerValue, outerIndex) {\n        _super.call(this);\n        this.parent = parent;\n        this.outerValue = outerValue;\n        this.outerIndex = outerIndex;\n        this.index = 0;\n    }\n    InnerSubscriber.prototype._next = function (value) {\n        this.parent.notifyNext(this.outerValue, value, this.outerIndex, this.index++, this);\n    };\n    InnerSubscriber.prototype._error = function (error) {\n        this.parent.notifyError(error, this);\n        this.unsubscribe();\n    };\n    InnerSubscriber.prototype._complete = function () {\n        this.parent.notifyComplete(this);\n        this.unsubscribe();\n    };\n    return InnerSubscriber;\n}(Subscriber_1.Subscriber));\nexports.InnerSubscriber = InnerSubscriber;\n//# sourceMappingURL=InnerSubscriber.js.map","\"use strict\";\nvar Observable_1 = require('./Observable');\n/**\n * Represents a push-based event or value that an {@link Observable} can emit.\n * This class is particularly useful for operators that manage notifications,\n * like {@link materialize}, {@link dematerialize}, {@link observeOn}, and\n * others. Besides wrapping the actual delivered value, it also annotates it\n * with metadata of, for instance, what type of push message it is (`next`,\n * `error`, or `complete`).\n *\n * @see {@link materialize}\n * @see {@link dematerialize}\n * @see {@link observeOn}\n *\n * @class Notification<T>\n */\nvar Notification = (function () {\n    function Notification(kind, value, error) {\n        this.kind = kind;\n        this.value = value;\n        this.error = error;\n        this.hasValue = kind === 'N';\n    }\n    /**\n     * Delivers to the given `observer` the value wrapped by this Notification.\n     * @param {Observer} observer\n     * @return\n     */\n    Notification.prototype.observe = function (observer) {\n        switch (this.kind) {\n            case 'N':\n                return observer.next && observer.next(this.value);\n            case 'E':\n                return observer.error && observer.error(this.error);\n            case 'C':\n                return observer.complete && observer.complete();\n        }\n    };\n    /**\n     * Given some {@link Observer} callbacks, deliver the value represented by the\n     * current Notification to the correctly corresponding callback.\n     * @param {function(value: T): void} next An Observer `next` callback.\n     * @param {function(err: any): void} [error] An Observer `error` callback.\n     * @param {function(): void} [complete] An Observer `complete` callback.\n     * @return {any}\n     */\n    Notification.prototype.do = function (next, error, complete) {\n        var kind = this.kind;\n        switch (kind) {\n            case 'N':\n                return next && next(this.value);\n            case 'E':\n                return error && error(this.error);\n            case 'C':\n                return complete && complete();\n        }\n    };\n    /**\n     * Takes an Observer or its individual callback functions, and calls `observe`\n     * or `do` methods accordingly.\n     * @param {Observer|function(value: T): void} nextOrObserver An Observer or\n     * the `next` callback.\n     * @param {function(err: any): void} [error] An Observer `error` callback.\n     * @param {function(): void} [complete] An Observer `complete` callback.\n     * @return {any}\n     */\n    Notification.prototype.accept = function (nextOrObserver, error, complete) {\n        if (nextOrObserver && typeof nextOrObserver.next === 'function') {\n            return this.observe(nextOrObserver);\n        }\n        else {\n            return this.do(nextOrObserver, error, complete);\n        }\n    };\n    /**\n     * Returns a simple Observable that just delivers the notification represented\n     * by this Notification instance.\n     * @return {any}\n     */\n    Notification.prototype.toObservable = function () {\n        var kind = this.kind;\n        switch (kind) {\n            case 'N':\n                return Observable_1.Observable.of(this.value);\n            case 'E':\n                return Observable_1.Observable.throw(this.error);\n            case 'C':\n                return Observable_1.Observable.empty();\n        }\n        throw new Error('unexpected notification kind value');\n    };\n    /**\n     * A shortcut to create a Notification instance of the type `next` from a\n     * given value.\n     * @param {T} value The `next` value.\n     * @return {Notification<T>} The \"next\" Notification representing the\n     * argument.\n     */\n    Notification.createNext = function (value) {\n        if (typeof value !== 'undefined') {\n            return new Notification('N', value);\n        }\n        return Notification.undefinedValueNotification;\n    };\n    /**\n     * A shortcut to create a Notification instance of the type `error` from a\n     * given error.\n     * @param {any} [err] The `error` error.\n     * @return {Notification<T>} The \"error\" Notification representing the\n     * argument.\n     */\n    Notification.createError = function (err) {\n        return new Notification('E', undefined, err);\n    };\n    /**\n     * A shortcut to create a Notification instance of the type `complete`.\n     * @return {Notification<any>} The valueless \"complete\" Notification.\n     */\n    Notification.createComplete = function () {\n        return Notification.completeNotification;\n    };\n    Notification.completeNotification = new Notification('C');\n    Notification.undefinedValueNotification = new Notification('N', undefined);\n    return Notification;\n}());\nexports.Notification = Notification;\n//# sourceMappingURL=Notification.js.map","\"use strict\";\nvar root_1 = require('./util/root');\nvar toSubscriber_1 = require('./util/toSubscriber');\nvar observable_1 = require('./symbol/observable');\nvar pipe_1 = require('./util/pipe');\n/**\n * A representation of any set of values over any amount of time. This is the most basic building block\n * of RxJS.\n *\n * @class Observable<T>\n */\nvar Observable = (function () {\n    /**\n     * @constructor\n     * @param {Function} subscribe the function that is called when the Observable is\n     * initially subscribed to. This function is given a Subscriber, to which new values\n     * can be `next`ed, or an `error` method can be called to raise an error, or\n     * `complete` can be called to notify of a successful completion.\n     */\n    function Observable(subscribe) {\n        this._isScalar = false;\n        if (subscribe) {\n            this._subscribe = subscribe;\n        }\n    }\n    /**\n     * Creates a new Observable, with this Observable as the source, and the passed\n     * operator defined as the new observable's operator.\n     * @method lift\n     * @param {Operator} operator the operator defining the operation to take on the observable\n     * @return {Observable} a new observable with the Operator applied\n     */\n    Observable.prototype.lift = function (operator) {\n        var observable = new Observable();\n        observable.source = this;\n        observable.operator = operator;\n        return observable;\n    };\n    /**\n     * Invokes an execution of an Observable and registers Observer handlers for notifications it will emit.\n     *\n     * <span class=\"informal\">Use it when you have all these Observables, but still nothing is happening.</span>\n     *\n     * `subscribe` is not a regular operator, but a method that calls Observable's internal `subscribe` function. It\n     * might be for example a function that you passed to a {@link create} static factory, but most of the time it is\n     * a library implementation, which defines what and when will be emitted by an Observable. This means that calling\n     * `subscribe` is actually the moment when Observable starts its work, not when it is created, as it is often\n     * thought.\n     *\n     * Apart from starting the execution of an Observable, this method allows you to listen for values\n     * that an Observable emits, as well as for when it completes or errors. You can achieve this in two\n     * following ways.\n     *\n     * The first way is creating an object that implements {@link Observer} interface. It should have methods\n     * defined by that interface, but note that it should be just a regular JavaScript object, which you can create\n     * yourself in any way you want (ES6 class, classic function constructor, object literal etc.). In particular do\n     * not attempt to use any RxJS implementation details to create Observers - you don't need them. Remember also\n     * that your object does not have to implement all methods. If you find yourself creating a method that doesn't\n     * do anything, you can simply omit it. Note however, that if `error` method is not provided, all errors will\n     * be left uncaught.\n     *\n     * The second way is to give up on Observer object altogether and simply provide callback functions in place of its methods.\n     * This means you can provide three functions as arguments to `subscribe`, where first function is equivalent\n     * of a `next` method, second of an `error` method and third of a `complete` method. Just as in case of Observer,\n     * if you do not need to listen for something, you can omit a function, preferably by passing `undefined` or `null`,\n     * since `subscribe` recognizes these functions by where they were placed in function call. When it comes\n     * to `error` function, just as before, if not provided, errors emitted by an Observable will be thrown.\n     *\n     * Whatever style of calling `subscribe` you use, in both cases it returns a Subscription object.\n     * This object allows you to call `unsubscribe` on it, which in turn will stop work that an Observable does and will clean\n     * up all resources that an Observable used. Note that cancelling a subscription will not call `complete` callback\n     * provided to `subscribe` function, which is reserved for a regular completion signal that comes from an Observable.\n     *\n     * Remember that callbacks provided to `subscribe` are not guaranteed to be called asynchronously.\n     * It is an Observable itself that decides when these functions will be called. For example {@link of}\n     * by default emits all its values synchronously. Always check documentation for how given Observable\n     * will behave when subscribed and if its default behavior can be modified with a {@link Scheduler}.\n     *\n     * @example <caption>Subscribe with an Observer</caption>\n     * const sumObserver = {\n     *   sum: 0,\n     *   next(value) {\n     *     console.log('Adding: ' + value);\n     *     this.sum = this.sum + value;\n     *   },\n     *   error() { // We actually could just remove this method,\n     *   },        // since we do not really care about errors right now.\n     *   complete() {\n     *     console.log('Sum equals: ' + this.sum);\n     *   }\n     * };\n     *\n     * Rx.Observable.of(1, 2, 3) // Synchronously emits 1, 2, 3 and then completes.\n     * .subscribe(sumObserver);\n     *\n     * // Logs:\n     * // \"Adding: 1\"\n     * // \"Adding: 2\"\n     * // \"Adding: 3\"\n     * // \"Sum equals: 6\"\n     *\n     *\n     * @example <caption>Subscribe with functions</caption>\n     * let sum = 0;\n     *\n     * Rx.Observable.of(1, 2, 3)\n     * .subscribe(\n     *   function(value) {\n     *     console.log('Adding: ' + value);\n     *     sum = sum + value;\n     *   },\n     *   undefined,\n     *   function() {\n     *     console.log('Sum equals: ' + sum);\n     *   }\n     * );\n     *\n     * // Logs:\n     * // \"Adding: 1\"\n     * // \"Adding: 2\"\n     * // \"Adding: 3\"\n     * // \"Sum equals: 6\"\n     *\n     *\n     * @example <caption>Cancel a subscription</caption>\n     * const subscription = Rx.Observable.interval(1000).subscribe(\n     *   num => console.log(num),\n     *   undefined,\n     *   () => console.log('completed!') // Will not be called, even\n     * );                                // when cancelling subscription\n     *\n     *\n     * setTimeout(() => {\n     *   subscription.unsubscribe();\n     *   console.log('unsubscribed!');\n     * }, 2500);\n     *\n     * // Logs:\n     * // 0 after 1s\n     * // 1 after 2s\n     * // \"unsubscribed!\" after 2.5s\n     *\n     *\n     * @param {Observer|Function} observerOrNext (optional) Either an observer with methods to be called,\n     *  or the first of three possible handlers, which is the handler for each value emitted from the subscribed\n     *  Observable.\n     * @param {Function} error (optional) A handler for a terminal event resulting from an error. If no error handler is provided,\n     *  the error will be thrown as unhandled.\n     * @param {Function} complete (optional) A handler for a terminal event resulting from successful completion.\n     * @return {ISubscription} a subscription reference to the registered handlers\n     * @method subscribe\n     */\n    Observable.prototype.subscribe = function (observerOrNext, error, complete) {\n        var operator = this.operator;\n        var sink = toSubscriber_1.toSubscriber(observerOrNext, error, complete);\n        if (operator) {\n            operator.call(sink, this.source);\n        }\n        else {\n            sink.add(this.source || !sink.syncErrorThrowable ? this._subscribe(sink) : this._trySubscribe(sink));\n        }\n        if (sink.syncErrorThrowable) {\n            sink.syncErrorThrowable = false;\n            if (sink.syncErrorThrown) {\n                throw sink.syncErrorValue;\n            }\n        }\n        return sink;\n    };\n    Observable.prototype._trySubscribe = function (sink) {\n        try {\n            return this._subscribe(sink);\n        }\n        catch (err) {\n            sink.syncErrorThrown = true;\n            sink.syncErrorValue = err;\n            sink.error(err);\n        }\n    };\n    /**\n     * @method forEach\n     * @param {Function} next a handler for each value emitted by the observable\n     * @param {PromiseConstructor} [PromiseCtor] a constructor function used to instantiate the Promise\n     * @return {Promise} a promise that either resolves on observable completion or\n     *  rejects with the handled error\n     */\n    Observable.prototype.forEach = function (next, PromiseCtor) {\n        var _this = this;\n        if (!PromiseCtor) {\n            if (root_1.root.Rx && root_1.root.Rx.config && root_1.root.Rx.config.Promise) {\n                PromiseCtor = root_1.root.Rx.config.Promise;\n            }\n            else if (root_1.root.Promise) {\n                PromiseCtor = root_1.root.Promise;\n            }\n        }\n        if (!PromiseCtor) {\n            throw new Error('no Promise impl found');\n        }\n        return new PromiseCtor(function (resolve, reject) {\n            // Must be declared in a separate statement to avoid a RefernceError when\n            // accessing subscription below in the closure due to Temporal Dead Zone.\n            var subscription;\n            subscription = _this.subscribe(function (value) {\n                if (subscription) {\n                    // if there is a subscription, then we can surmise\n                    // the next handling is asynchronous. Any errors thrown\n                    // need to be rejected explicitly and unsubscribe must be\n                    // called manually\n                    try {\n                        next(value);\n                    }\n                    catch (err) {\n                        reject(err);\n                        subscription.unsubscribe();\n                    }\n                }\n                else {\n                    // if there is NO subscription, then we're getting a nexted\n                    // value synchronously during subscription. We can just call it.\n                    // If it errors, Observable's `subscribe` will ensure the\n                    // unsubscription logic is called, then synchronously rethrow the error.\n                    // After that, Promise will trap the error and send it\n                    // down the rejection path.\n                    next(value);\n                }\n            }, reject, resolve);\n        });\n    };\n    /** @deprecated internal use only */ Observable.prototype._subscribe = function (subscriber) {\n        return this.source.subscribe(subscriber);\n    };\n    /**\n     * An interop point defined by the es7-observable spec https://github.com/zenparsing/es-observable\n     * @method Symbol.observable\n     * @return {Observable} this instance of the observable\n     */\n    Observable.prototype[observable_1.observable] = function () {\n        return this;\n    };\n    /* tslint:enable:max-line-length */\n    /**\n     * Used to stitch together functional operators into a chain.\n     * @method pipe\n     * @return {Observable} the Observable result of all of the operators having\n     * been called in the order they were passed in.\n     *\n     * @example\n     *\n     * import { map, filter, scan } from 'rxjs/operators';\n     *\n     * Rx.Observable.interval(1000)\n     *   .pipe(\n     *     filter(x => x % 2 === 0),\n     *     map(x => x + x),\n     *     scan((acc, x) => acc + x)\n     *   )\n     *   .subscribe(x => console.log(x))\n     */\n    Observable.prototype.pipe = function () {\n        var operations = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            operations[_i - 0] = arguments[_i];\n        }\n        if (operations.length === 0) {\n            return this;\n        }\n        return pipe_1.pipeFromArray(operations)(this);\n    };\n    /* tslint:enable:max-line-length */\n    Observable.prototype.toPromise = function (PromiseCtor) {\n        var _this = this;\n        if (!PromiseCtor) {\n            if (root_1.root.Rx && root_1.root.Rx.config && root_1.root.Rx.config.Promise) {\n                PromiseCtor = root_1.root.Rx.config.Promise;\n            }\n            else if (root_1.root.Promise) {\n                PromiseCtor = root_1.root.Promise;\n            }\n        }\n        if (!PromiseCtor) {\n            throw new Error('no Promise impl found');\n        }\n        return new PromiseCtor(function (resolve, reject) {\n            var value;\n            _this.subscribe(function (x) { return value = x; }, function (err) { return reject(err); }, function () { return resolve(value); });\n        });\n    };\n    // HACK: Since TypeScript inherits static properties too, we have to\n    // fight against TypeScript here so Subject can have a different static create signature\n    /**\n     * Creates a new cold Observable by calling the Observable constructor\n     * @static true\n     * @owner Observable\n     * @method create\n     * @param {Function} subscribe? the subscriber function to be passed to the Observable constructor\n     * @return {Observable} a new cold observable\n     */\n    Observable.create = function (subscribe) {\n        return new Observable(subscribe);\n    };\n    return Observable;\n}());\nexports.Observable = Observable;\n//# sourceMappingURL=Observable.js.map","\"use strict\";\nexports.empty = {\n    closed: true,\n    next: function (value) { },\n    error: function (err) { throw err; },\n    complete: function () { }\n};\n//# sourceMappingURL=Observer.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar Subscriber_1 = require('./Subscriber');\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar OuterSubscriber = (function (_super) {\n    __extends(OuterSubscriber, _super);\n    function OuterSubscriber() {\n        _super.apply(this, arguments);\n    }\n    OuterSubscriber.prototype.notifyNext = function (outerValue, innerValue, outerIndex, innerIndex, innerSub) {\n        this.destination.next(innerValue);\n    };\n    OuterSubscriber.prototype.notifyError = function (error, innerSub) {\n        this.destination.error(error);\n    };\n    OuterSubscriber.prototype.notifyComplete = function (innerSub) {\n        this.destination.complete();\n    };\n    return OuterSubscriber;\n}(Subscriber_1.Subscriber));\nexports.OuterSubscriber = OuterSubscriber;\n//# sourceMappingURL=OuterSubscriber.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar Subject_1 = require('./Subject');\nvar queue_1 = require('./scheduler/queue');\nvar Subscription_1 = require('./Subscription');\nvar observeOn_1 = require('./operators/observeOn');\nvar ObjectUnsubscribedError_1 = require('./util/ObjectUnsubscribedError');\nvar SubjectSubscription_1 = require('./SubjectSubscription');\n/**\n * @class ReplaySubject<T>\n */\nvar ReplaySubject = (function (_super) {\n    __extends(ReplaySubject, _super);\n    function ReplaySubject(bufferSize, windowTime, scheduler) {\n        if (bufferSize === void 0) { bufferSize = Number.POSITIVE_INFINITY; }\n        if (windowTime === void 0) { windowTime = Number.POSITIVE_INFINITY; }\n        _super.call(this);\n        this.scheduler = scheduler;\n        this._events = [];\n        this._bufferSize = bufferSize < 1 ? 1 : bufferSize;\n        this._windowTime = windowTime < 1 ? 1 : windowTime;\n    }\n    ReplaySubject.prototype.next = function (value) {\n        var now = this._getNow();\n        this._events.push(new ReplayEvent(now, value));\n        this._trimBufferThenGetEvents();\n        _super.prototype.next.call(this, value);\n    };\n    /** @deprecated internal use only */ ReplaySubject.prototype._subscribe = function (subscriber) {\n        var _events = this._trimBufferThenGetEvents();\n        var scheduler = this.scheduler;\n        var subscription;\n        if (this.closed) {\n            throw new ObjectUnsubscribedError_1.ObjectUnsubscribedError();\n        }\n        else if (this.hasError) {\n            subscription = Subscription_1.Subscription.EMPTY;\n        }\n        else if (this.isStopped) {\n            subscription = Subscription_1.Subscription.EMPTY;\n        }\n        else {\n            this.observers.push(subscriber);\n            subscription = new SubjectSubscription_1.SubjectSubscription(this, subscriber);\n        }\n        if (scheduler) {\n            subscriber.add(subscriber = new observeOn_1.ObserveOnSubscriber(subscriber, scheduler));\n        }\n        var len = _events.length;\n        for (var i = 0; i < len && !subscriber.closed; i++) {\n            subscriber.next(_events[i].value);\n        }\n        if (this.hasError) {\n            subscriber.error(this.thrownError);\n        }\n        else if (this.isStopped) {\n            subscriber.complete();\n        }\n        return subscription;\n    };\n    ReplaySubject.prototype._getNow = function () {\n        return (this.scheduler || queue_1.queue).now();\n    };\n    ReplaySubject.prototype._trimBufferThenGetEvents = function () {\n        var now = this._getNow();\n        var _bufferSize = this._bufferSize;\n        var _windowTime = this._windowTime;\n        var _events = this._events;\n        var eventsCount = _events.length;\n        var spliceCount = 0;\n        // Trim events that fall out of the time window.\n        // Start at the front of the list. Break early once\n        // we encounter an event that falls within the window.\n        while (spliceCount < eventsCount) {\n            if ((now - _events[spliceCount].time) < _windowTime) {\n                break;\n            }\n            spliceCount++;\n        }\n        if (eventsCount > _bufferSize) {\n            spliceCount = Math.max(spliceCount, eventsCount - _bufferSize);\n        }\n        if (spliceCount > 0) {\n            _events.splice(0, spliceCount);\n        }\n        return _events;\n    };\n    return ReplaySubject;\n}(Subject_1.Subject));\nexports.ReplaySubject = ReplaySubject;\nvar ReplayEvent = (function () {\n    function ReplayEvent(time, value) {\n        this.time = time;\n        this.value = value;\n    }\n    return ReplayEvent;\n}());\n//# sourceMappingURL=ReplaySubject.js.map","\"use strict\";\n/* tslint:disable:no-unused-variable */\n// Subject imported before Observable to bypass circular dependency issue since\n// Subject extends Observable and Observable references Subject in it's\n// definition\nvar Subject_1 = require('./Subject');\nexports.Subject = Subject_1.Subject;\nexports.AnonymousSubject = Subject_1.AnonymousSubject;\n/* tslint:enable:no-unused-variable */\nvar Observable_1 = require('./Observable');\nexports.Observable = Observable_1.Observable;\n// statics\n/* tslint:disable:no-use-before-declare */\nrequire('./add/observable/bindCallback');\nrequire('./add/observable/bindNodeCallback');\nrequire('./add/observable/combineLatest');\nrequire('./add/observable/concat');\nrequire('./add/observable/defer');\nrequire('./add/observable/empty');\nrequire('./add/observable/forkJoin');\nrequire('./add/observable/from');\nrequire('./add/observable/fromEvent');\nrequire('./add/observable/fromEventPattern');\nrequire('./add/observable/fromPromise');\nrequire('./add/observable/generate');\nrequire('./add/observable/if');\nrequire('./add/observable/interval');\nrequire('./add/observable/merge');\nrequire('./add/observable/race');\nrequire('./add/observable/never');\nrequire('./add/observable/of');\nrequire('./add/observable/onErrorResumeNext');\nrequire('./add/observable/pairs');\nrequire('./add/observable/range');\nrequire('./add/observable/using');\nrequire('./add/observable/throw');\nrequire('./add/observable/timer');\nrequire('./add/observable/zip');\n//dom\nrequire('./add/observable/dom/ajax');\nrequire('./add/observable/dom/webSocket');\n//operators\nrequire('./add/operator/buffer');\nrequire('./add/operator/bufferCount');\nrequire('./add/operator/bufferTime');\nrequire('./add/operator/bufferToggle');\nrequire('./add/operator/bufferWhen');\nrequire('./add/operator/catch');\nrequire('./add/operator/combineAll');\nrequire('./add/operator/combineLatest');\nrequire('./add/operator/concat');\nrequire('./add/operator/concatAll');\nrequire('./add/operator/concatMap');\nrequire('./add/operator/concatMapTo');\nrequire('./add/operator/count');\nrequire('./add/operator/dematerialize');\nrequire('./add/operator/debounce');\nrequire('./add/operator/debounceTime');\nrequire('./add/operator/defaultIfEmpty');\nrequire('./add/operator/delay');\nrequire('./add/operator/delayWhen');\nrequire('./add/operator/distinct');\nrequire('./add/operator/distinctUntilChanged');\nrequire('./add/operator/distinctUntilKeyChanged');\nrequire('./add/operator/do');\nrequire('./add/operator/exhaust');\nrequire('./add/operator/exhaustMap');\nrequire('./add/operator/expand');\nrequire('./add/operator/elementAt');\nrequire('./add/operator/filter');\nrequire('./add/operator/finally');\nrequire('./add/operator/find');\nrequire('./add/operator/findIndex');\nrequire('./add/operator/first');\nrequire('./add/operator/groupBy');\nrequire('./add/operator/ignoreElements');\nrequire('./add/operator/isEmpty');\nrequire('./add/operator/audit');\nrequire('./add/operator/auditTime');\nrequire('./add/operator/last');\nrequire('./add/operator/let');\nrequire('./add/operator/every');\nrequire('./add/operator/map');\nrequire('./add/operator/mapTo');\nrequire('./add/operator/materialize');\nrequire('./add/operator/max');\nrequire('./add/operator/merge');\nrequire('./add/operator/mergeAll');\nrequire('./add/operator/mergeMap');\nrequire('./add/operator/mergeMapTo');\nrequire('./add/operator/mergeScan');\nrequire('./add/operator/min');\nrequire('./add/operator/multicast');\nrequire('./add/operator/observeOn');\nrequire('./add/operator/onErrorResumeNext');\nrequire('./add/operator/pairwise');\nrequire('./add/operator/partition');\nrequire('./add/operator/pluck');\nrequire('./add/operator/publish');\nrequire('./add/operator/publishBehavior');\nrequire('./add/operator/publishReplay');\nrequire('./add/operator/publishLast');\nrequire('./add/operator/race');\nrequire('./add/operator/reduce');\nrequire('./add/operator/repeat');\nrequire('./add/operator/repeatWhen');\nrequire('./add/operator/retry');\nrequire('./add/operator/retryWhen');\nrequire('./add/operator/sample');\nrequire('./add/operator/sampleTime');\nrequire('./add/operator/scan');\nrequire('./add/operator/sequenceEqual');\nrequire('./add/operator/share');\nrequire('./add/operator/shareReplay');\nrequire('./add/operator/single');\nrequire('./add/operator/skip');\nrequire('./add/operator/skipLast');\nrequire('./add/operator/skipUntil');\nrequire('./add/operator/skipWhile');\nrequire('./add/operator/startWith');\nrequire('./add/operator/subscribeOn');\nrequire('./add/operator/switch');\nrequire('./add/operator/switchMap');\nrequire('./add/operator/switchMapTo');\nrequire('./add/operator/take');\nrequire('./add/operator/takeLast');\nrequire('./add/operator/takeUntil');\nrequire('./add/operator/takeWhile');\nrequire('./add/operator/throttle');\nrequire('./add/operator/throttleTime');\nrequire('./add/operator/timeInterval');\nrequire('./add/operator/timeout');\nrequire('./add/operator/timeoutWith');\nrequire('./add/operator/timestamp');\nrequire('./add/operator/toArray');\nrequire('./add/operator/toPromise');\nrequire('./add/operator/window');\nrequire('./add/operator/windowCount');\nrequire('./add/operator/windowTime');\nrequire('./add/operator/windowToggle');\nrequire('./add/operator/windowWhen');\nrequire('./add/operator/withLatestFrom');\nrequire('./add/operator/zip');\nrequire('./add/operator/zipAll');\n/* tslint:disable:no-unused-variable */\nvar Subscription_1 = require('./Subscription');\nexports.Subscription = Subscription_1.Subscription;\nvar Subscriber_1 = require('./Subscriber');\nexports.Subscriber = Subscriber_1.Subscriber;\nvar AsyncSubject_1 = require('./AsyncSubject');\nexports.AsyncSubject = AsyncSubject_1.AsyncSubject;\nvar ReplaySubject_1 = require('./ReplaySubject');\nexports.ReplaySubject = ReplaySubject_1.ReplaySubject;\nvar BehaviorSubject_1 = require('./BehaviorSubject');\nexports.BehaviorSubject = BehaviorSubject_1.BehaviorSubject;\nvar ConnectableObservable_1 = require('./observable/ConnectableObservable');\nexports.ConnectableObservable = ConnectableObservable_1.ConnectableObservable;\nvar Notification_1 = require('./Notification');\nexports.Notification = Notification_1.Notification;\nvar EmptyError_1 = require('./util/EmptyError');\nexports.EmptyError = EmptyError_1.EmptyError;\nvar ArgumentOutOfRangeError_1 = require('./util/ArgumentOutOfRangeError');\nexports.ArgumentOutOfRangeError = ArgumentOutOfRangeError_1.ArgumentOutOfRangeError;\nvar ObjectUnsubscribedError_1 = require('./util/ObjectUnsubscribedError');\nexports.ObjectUnsubscribedError = ObjectUnsubscribedError_1.ObjectUnsubscribedError;\nvar TimeoutError_1 = require('./util/TimeoutError');\nexports.TimeoutError = TimeoutError_1.TimeoutError;\nvar UnsubscriptionError_1 = require('./util/UnsubscriptionError');\nexports.UnsubscriptionError = UnsubscriptionError_1.UnsubscriptionError;\nvar timeInterval_1 = require('./operator/timeInterval');\nexports.TimeInterval = timeInterval_1.TimeInterval;\nvar timestamp_1 = require('./operators/timestamp');\nexports.Timestamp = timestamp_1.Timestamp;\nvar TestScheduler_1 = require('./testing/TestScheduler');\nexports.TestScheduler = TestScheduler_1.TestScheduler;\nvar VirtualTimeScheduler_1 = require('./scheduler/VirtualTimeScheduler');\nexports.VirtualTimeScheduler = VirtualTimeScheduler_1.VirtualTimeScheduler;\nvar AjaxObservable_1 = require('./observable/dom/AjaxObservable');\nexports.AjaxResponse = AjaxObservable_1.AjaxResponse;\nexports.AjaxError = AjaxObservable_1.AjaxError;\nexports.AjaxTimeoutError = AjaxObservable_1.AjaxTimeoutError;\nvar pipe_1 = require('./util/pipe');\nexports.pipe = pipe_1.pipe;\nvar asap_1 = require('./scheduler/asap');\nvar async_1 = require('./scheduler/async');\nvar queue_1 = require('./scheduler/queue');\nvar animationFrame_1 = require('./scheduler/animationFrame');\nvar rxSubscriber_1 = require('./symbol/rxSubscriber');\nvar iterator_1 = require('./symbol/iterator');\nvar observable_1 = require('./symbol/observable');\nvar _operators = require('./operators');\nexports.operators = _operators;\n/* tslint:enable:no-unused-variable */\n/**\n * @typedef {Object} Rx.Scheduler\n * @property {Scheduler} queue Schedules on a queue in the current event frame\n * (trampoline scheduler). Use this for iteration operations.\n * @property {Scheduler} asap Schedules on the micro task queue, which uses the\n * fastest transport mechanism available, either Node.js' `process.nextTick()`\n * or Web Worker MessageChannel or setTimeout or others. Use this for\n * asynchronous conversions.\n * @property {Scheduler} async Schedules work with `setInterval`. Use this for\n * time-based operations.\n * @property {Scheduler} animationFrame Schedules work with `requestAnimationFrame`.\n * Use this for synchronizing with the platform's painting\n */\nvar Scheduler = {\n    asap: asap_1.asap,\n    queue: queue_1.queue,\n    animationFrame: animationFrame_1.animationFrame,\n    async: async_1.async\n};\nexports.Scheduler = Scheduler;\n/**\n * @typedef {Object} Rx.Symbol\n * @property {Symbol|string} rxSubscriber A symbol to use as a property name to\n * retrieve an \"Rx safe\" Observer from an object. \"Rx safety\" can be defined as\n * an object that has all of the traits of an Rx Subscriber, including the\n * ability to add and remove subscriptions to the subscription chain and\n * guarantees involving event triggering (can't \"next\" after unsubscription,\n * etc).\n * @property {Symbol|string} observable A symbol to use as a property name to\n * retrieve an Observable as defined by the [ECMAScript \"Observable\" spec](https://github.com/zenparsing/es-observable).\n * @property {Symbol|string} iterator The ES6 symbol to use as a property name\n * to retrieve an iterator from an object.\n */\nvar Symbol = {\n    rxSubscriber: rxSubscriber_1.rxSubscriber,\n    observable: observable_1.observable,\n    iterator: iterator_1.iterator\n};\nexports.Symbol = Symbol;\n//# sourceMappingURL=Rx.js.map","\"use strict\";\n/**\n * An execution context and a data structure to order tasks and schedule their\n * execution. Provides a notion of (potentially virtual) time, through the\n * `now()` getter method.\n *\n * Each unit of work in a Scheduler is called an {@link Action}.\n *\n * ```ts\n * class Scheduler {\n *   now(): number;\n *   schedule(work, delay?, state?): Subscription;\n * }\n * ```\n *\n * @class Scheduler\n */\nvar Scheduler = (function () {\n    function Scheduler(SchedulerAction, now) {\n        if (now === void 0) { now = Scheduler.now; }\n        this.SchedulerAction = SchedulerAction;\n        this.now = now;\n    }\n    /**\n     * Schedules a function, `work`, for execution. May happen at some point in\n     * the future, according to the `delay` parameter, if specified. May be passed\n     * some context object, `state`, which will be passed to the `work` function.\n     *\n     * The given arguments will be processed an stored as an Action object in a\n     * queue of actions.\n     *\n     * @param {function(state: ?T): ?Subscription} work A function representing a\n     * task, or some unit of work to be executed by the Scheduler.\n     * @param {number} [delay] Time to wait before executing the work, where the\n     * time unit is implicit and defined by the Scheduler itself.\n     * @param {T} [state] Some contextual data that the `work` function uses when\n     * called by the Scheduler.\n     * @return {Subscription} A subscription in order to be able to unsubscribe\n     * the scheduled work.\n     */\n    Scheduler.prototype.schedule = function (work, delay, state) {\n        if (delay === void 0) { delay = 0; }\n        return new this.SchedulerAction(this, work).schedule(state, delay);\n    };\n    Scheduler.now = Date.now ? Date.now : function () { return +new Date(); };\n    return Scheduler;\n}());\nexports.Scheduler = Scheduler;\n//# sourceMappingURL=Scheduler.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar Observable_1 = require('./Observable');\nvar Subscriber_1 = require('./Subscriber');\nvar Subscription_1 = require('./Subscription');\nvar ObjectUnsubscribedError_1 = require('./util/ObjectUnsubscribedError');\nvar SubjectSubscription_1 = require('./SubjectSubscription');\nvar rxSubscriber_1 = require('./symbol/rxSubscriber');\n/**\n * @class SubjectSubscriber<T>\n */\nvar SubjectSubscriber = (function (_super) {\n    __extends(SubjectSubscriber, _super);\n    function SubjectSubscriber(destination) {\n        _super.call(this, destination);\n        this.destination = destination;\n    }\n    return SubjectSubscriber;\n}(Subscriber_1.Subscriber));\nexports.SubjectSubscriber = SubjectSubscriber;\n/**\n * @class Subject<T>\n */\nvar Subject = (function (_super) {\n    __extends(Subject, _super);\n    function Subject() {\n        _super.call(this);\n        this.observers = [];\n        this.closed = false;\n        this.isStopped = false;\n        this.hasError = false;\n        this.thrownError = null;\n    }\n    Subject.prototype[rxSubscriber_1.rxSubscriber] = function () {\n        return new SubjectSubscriber(this);\n    };\n    Subject.prototype.lift = function (operator) {\n        var subject = new AnonymousSubject(this, this);\n        subject.operator = operator;\n        return subject;\n    };\n    Subject.prototype.next = function (value) {\n        if (this.closed) {\n            throw new ObjectUnsubscribedError_1.ObjectUnsubscribedError();\n        }\n        if (!this.isStopped) {\n            var observers = this.observers;\n            var len = observers.length;\n            var copy = observers.slice();\n            for (var i = 0; i < len; i++) {\n                copy[i].next(value);\n            }\n        }\n    };\n    Subject.prototype.error = function (err) {\n        if (this.closed) {\n            throw new ObjectUnsubscribedError_1.ObjectUnsubscribedError();\n        }\n        this.hasError = true;\n        this.thrownError = err;\n        this.isStopped = true;\n        var observers = this.observers;\n        var len = observers.length;\n        var copy = observers.slice();\n        for (var i = 0; i < len; i++) {\n            copy[i].error(err);\n        }\n        this.observers.length = 0;\n    };\n    Subject.prototype.complete = function () {\n        if (this.closed) {\n            throw new ObjectUnsubscribedError_1.ObjectUnsubscribedError();\n        }\n        this.isStopped = true;\n        var observers = this.observers;\n        var len = observers.length;\n        var copy = observers.slice();\n        for (var i = 0; i < len; i++) {\n            copy[i].complete();\n        }\n        this.observers.length = 0;\n    };\n    Subject.prototype.unsubscribe = function () {\n        this.isStopped = true;\n        this.closed = true;\n        this.observers = null;\n    };\n    Subject.prototype._trySubscribe = function (subscriber) {\n        if (this.closed) {\n            throw new ObjectUnsubscribedError_1.ObjectUnsubscribedError();\n        }\n        else {\n            return _super.prototype._trySubscribe.call(this, subscriber);\n        }\n    };\n    /** @deprecated internal use only */ Subject.prototype._subscribe = function (subscriber) {\n        if (this.closed) {\n            throw new ObjectUnsubscribedError_1.ObjectUnsubscribedError();\n        }\n        else if (this.hasError) {\n            subscriber.error(this.thrownError);\n            return Subscription_1.Subscription.EMPTY;\n        }\n        else if (this.isStopped) {\n            subscriber.complete();\n            return Subscription_1.Subscription.EMPTY;\n        }\n        else {\n            this.observers.push(subscriber);\n            return new SubjectSubscription_1.SubjectSubscription(this, subscriber);\n        }\n    };\n    Subject.prototype.asObservable = function () {\n        var observable = new Observable_1.Observable();\n        observable.source = this;\n        return observable;\n    };\n    Subject.create = function (destination, source) {\n        return new AnonymousSubject(destination, source);\n    };\n    return Subject;\n}(Observable_1.Observable));\nexports.Subject = Subject;\n/**\n * @class AnonymousSubject<T>\n */\nvar AnonymousSubject = (function (_super) {\n    __extends(AnonymousSubject, _super);\n    function AnonymousSubject(destination, source) {\n        _super.call(this);\n        this.destination = destination;\n        this.source = source;\n    }\n    AnonymousSubject.prototype.next = function (value) {\n        var destination = this.destination;\n        if (destination && destination.next) {\n            destination.next(value);\n        }\n    };\n    AnonymousSubject.prototype.error = function (err) {\n        var destination = this.destination;\n        if (destination && destination.error) {\n            this.destination.error(err);\n        }\n    };\n    AnonymousSubject.prototype.complete = function () {\n        var destination = this.destination;\n        if (destination && destination.complete) {\n            this.destination.complete();\n        }\n    };\n    /** @deprecated internal use only */ AnonymousSubject.prototype._subscribe = function (subscriber) {\n        var source = this.source;\n        if (source) {\n            return this.source.subscribe(subscriber);\n        }\n        else {\n            return Subscription_1.Subscription.EMPTY;\n        }\n    };\n    return AnonymousSubject;\n}(Subject));\nexports.AnonymousSubject = AnonymousSubject;\n//# sourceMappingURL=Subject.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar Subscription_1 = require('./Subscription');\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar SubjectSubscription = (function (_super) {\n    __extends(SubjectSubscription, _super);\n    function SubjectSubscription(subject, subscriber) {\n        _super.call(this);\n        this.subject = subject;\n        this.subscriber = subscriber;\n        this.closed = false;\n    }\n    SubjectSubscription.prototype.unsubscribe = function () {\n        if (this.closed) {\n            return;\n        }\n        this.closed = true;\n        var subject = this.subject;\n        var observers = subject.observers;\n        this.subject = null;\n        if (!observers || observers.length === 0 || subject.isStopped || subject.closed) {\n            return;\n        }\n        var subscriberIndex = observers.indexOf(this.subscriber);\n        if (subscriberIndex !== -1) {\n            observers.splice(subscriberIndex, 1);\n        }\n    };\n    return SubjectSubscription;\n}(Subscription_1.Subscription));\nexports.SubjectSubscription = SubjectSubscription;\n//# sourceMappingURL=SubjectSubscription.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar isFunction_1 = require('./util/isFunction');\nvar Subscription_1 = require('./Subscription');\nvar Observer_1 = require('./Observer');\nvar rxSubscriber_1 = require('./symbol/rxSubscriber');\n/**\n * Implements the {@link Observer} interface and extends the\n * {@link Subscription} class. While the {@link Observer} is the public API for\n * consuming the values of an {@link Observable}, all Observers get converted to\n * a Subscriber, in order to provide Subscription-like capabilities such as\n * `unsubscribe`. Subscriber is a common type in RxJS, and crucial for\n * implementing operators, but it is rarely used as a public API.\n *\n * @class Subscriber<T>\n */\nvar Subscriber = (function (_super) {\n    __extends(Subscriber, _super);\n    /**\n     * @param {Observer|function(value: T): void} [destinationOrNext] A partially\n     * defined Observer or a `next` callback function.\n     * @param {function(e: ?any): void} [error] The `error` callback of an\n     * Observer.\n     * @param {function(): void} [complete] The `complete` callback of an\n     * Observer.\n     */\n    function Subscriber(destinationOrNext, error, complete) {\n        _super.call(this);\n        this.syncErrorValue = null;\n        this.syncErrorThrown = false;\n        this.syncErrorThrowable = false;\n        this.isStopped = false;\n        switch (arguments.length) {\n            case 0:\n                this.destination = Observer_1.empty;\n                break;\n            case 1:\n                if (!destinationOrNext) {\n                    this.destination = Observer_1.empty;\n                    break;\n                }\n                if (typeof destinationOrNext === 'object') {\n                    // HACK(benlesh): To resolve an issue where Node users may have multiple\n                    // copies of rxjs in their node_modules directory.\n                    if (isTrustedSubscriber(destinationOrNext)) {\n                        var trustedSubscriber = destinationOrNext[rxSubscriber_1.rxSubscriber]();\n                        this.syncErrorThrowable = trustedSubscriber.syncErrorThrowable;\n                        this.destination = trustedSubscriber;\n                        trustedSubscriber.add(this);\n                    }\n                    else {\n                        this.syncErrorThrowable = true;\n                        this.destination = new SafeSubscriber(this, destinationOrNext);\n                    }\n                    break;\n                }\n            default:\n                this.syncErrorThrowable = true;\n                this.destination = new SafeSubscriber(this, destinationOrNext, error, complete);\n                break;\n        }\n    }\n    Subscriber.prototype[rxSubscriber_1.rxSubscriber] = function () { return this; };\n    /**\n     * A static factory for a Subscriber, given a (potentially partial) definition\n     * of an Observer.\n     * @param {function(x: ?T): void} [next] The `next` callback of an Observer.\n     * @param {function(e: ?any): void} [error] The `error` callback of an\n     * Observer.\n     * @param {function(): void} [complete] The `complete` callback of an\n     * Observer.\n     * @return {Subscriber<T>} A Subscriber wrapping the (partially defined)\n     * Observer represented by the given arguments.\n     */\n    Subscriber.create = function (next, error, complete) {\n        var subscriber = new Subscriber(next, error, complete);\n        subscriber.syncErrorThrowable = false;\n        return subscriber;\n    };\n    /**\n     * The {@link Observer} callback to receive notifications of type `next` from\n     * the Observable, with a value. The Observable may call this method 0 or more\n     * times.\n     * @param {T} [value] The `next` value.\n     * @return {void}\n     */\n    Subscriber.prototype.next = function (value) {\n        if (!this.isStopped) {\n            this._next(value);\n        }\n    };\n    /**\n     * The {@link Observer} callback to receive notifications of type `error` from\n     * the Observable, with an attached {@link Error}. Notifies the Observer that\n     * the Observable has experienced an error condition.\n     * @param {any} [err] The `error` exception.\n     * @return {void}\n     */\n    Subscriber.prototype.error = function (err) {\n        if (!this.isStopped) {\n            this.isStopped = true;\n            this._error(err);\n        }\n    };\n    /**\n     * The {@link Observer} callback to receive a valueless notification of type\n     * `complete` from the Observable. Notifies the Observer that the Observable\n     * has finished sending push-based notifications.\n     * @return {void}\n     */\n    Subscriber.prototype.complete = function () {\n        if (!this.isStopped) {\n            this.isStopped = true;\n            this._complete();\n        }\n    };\n    Subscriber.prototype.unsubscribe = function () {\n        if (this.closed) {\n            return;\n        }\n        this.isStopped = true;\n        _super.prototype.unsubscribe.call(this);\n    };\n    Subscriber.prototype._next = function (value) {\n        this.destination.next(value);\n    };\n    Subscriber.prototype._error = function (err) {\n        this.destination.error(err);\n        this.unsubscribe();\n    };\n    Subscriber.prototype._complete = function () {\n        this.destination.complete();\n        this.unsubscribe();\n    };\n    /** @deprecated internal use only */ Subscriber.prototype._unsubscribeAndRecycle = function () {\n        var _a = this, _parent = _a._parent, _parents = _a._parents;\n        this._parent = null;\n        this._parents = null;\n        this.unsubscribe();\n        this.closed = false;\n        this.isStopped = false;\n        this._parent = _parent;\n        this._parents = _parents;\n        return this;\n    };\n    return Subscriber;\n}(Subscription_1.Subscription));\nexports.Subscriber = Subscriber;\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar SafeSubscriber = (function (_super) {\n    __extends(SafeSubscriber, _super);\n    function SafeSubscriber(_parentSubscriber, observerOrNext, error, complete) {\n        _super.call(this);\n        this._parentSubscriber = _parentSubscriber;\n        var next;\n        var context = this;\n        if (isFunction_1.isFunction(observerOrNext)) {\n            next = observerOrNext;\n        }\n        else if (observerOrNext) {\n            next = observerOrNext.next;\n            error = observerOrNext.error;\n            complete = observerOrNext.complete;\n            if (observerOrNext !== Observer_1.empty) {\n                context = Object.create(observerOrNext);\n                if (isFunction_1.isFunction(context.unsubscribe)) {\n                    this.add(context.unsubscribe.bind(context));\n                }\n                context.unsubscribe = this.unsubscribe.bind(this);\n            }\n        }\n        this._context = context;\n        this._next = next;\n        this._error = error;\n        this._complete = complete;\n    }\n    SafeSubscriber.prototype.next = function (value) {\n        if (!this.isStopped && this._next) {\n            var _parentSubscriber = this._parentSubscriber;\n            if (!_parentSubscriber.syncErrorThrowable) {\n                this.__tryOrUnsub(this._next, value);\n            }\n            else if (this.__tryOrSetError(_parentSubscriber, this._next, value)) {\n                this.unsubscribe();\n            }\n        }\n    };\n    SafeSubscriber.prototype.error = function (err) {\n        if (!this.isStopped) {\n            var _parentSubscriber = this._parentSubscriber;\n            if (this._error) {\n                if (!_parentSubscriber.syncErrorThrowable) {\n                    this.__tryOrUnsub(this._error, err);\n                    this.unsubscribe();\n                }\n                else {\n                    this.__tryOrSetError(_parentSubscriber, this._error, err);\n                    this.unsubscribe();\n                }\n            }\n            else if (!_parentSubscriber.syncErrorThrowable) {\n                this.unsubscribe();\n                throw err;\n            }\n            else {\n                _parentSubscriber.syncErrorValue = err;\n                _parentSubscriber.syncErrorThrown = true;\n                this.unsubscribe();\n            }\n        }\n    };\n    SafeSubscriber.prototype.complete = function () {\n        var _this = this;\n        if (!this.isStopped) {\n            var _parentSubscriber = this._parentSubscriber;\n            if (this._complete) {\n                var wrappedComplete = function () { return _this._complete.call(_this._context); };\n                if (!_parentSubscriber.syncErrorThrowable) {\n                    this.__tryOrUnsub(wrappedComplete);\n                    this.unsubscribe();\n                }\n                else {\n                    this.__tryOrSetError(_parentSubscriber, wrappedComplete);\n                    this.unsubscribe();\n                }\n            }\n            else {\n                this.unsubscribe();\n            }\n        }\n    };\n    SafeSubscriber.prototype.__tryOrUnsub = function (fn, value) {\n        try {\n            fn.call(this._context, value);\n        }\n        catch (err) {\n            this.unsubscribe();\n            throw err;\n        }\n    };\n    SafeSubscriber.prototype.__tryOrSetError = function (parent, fn, value) {\n        try {\n            fn.call(this._context, value);\n        }\n        catch (err) {\n            parent.syncErrorValue = err;\n            parent.syncErrorThrown = true;\n            return true;\n        }\n        return false;\n    };\n    /** @deprecated internal use only */ SafeSubscriber.prototype._unsubscribe = function () {\n        var _parentSubscriber = this._parentSubscriber;\n        this._context = null;\n        this._parentSubscriber = null;\n        _parentSubscriber.unsubscribe();\n    };\n    return SafeSubscriber;\n}(Subscriber));\nfunction isTrustedSubscriber(obj) {\n    return obj instanceof Subscriber || ('syncErrorThrowable' in obj && obj[rxSubscriber_1.rxSubscriber]);\n}\n//# sourceMappingURL=Subscriber.js.map","\"use strict\";\nvar isArray_1 = require('./util/isArray');\nvar isObject_1 = require('./util/isObject');\nvar isFunction_1 = require('./util/isFunction');\nvar tryCatch_1 = require('./util/tryCatch');\nvar errorObject_1 = require('./util/errorObject');\nvar UnsubscriptionError_1 = require('./util/UnsubscriptionError');\n/**\n * Represents a disposable resource, such as the execution of an Observable. A\n * Subscription has one important method, `unsubscribe`, that takes no argument\n * and just disposes the resource held by the subscription.\n *\n * Additionally, subscriptions may be grouped together through the `add()`\n * method, which will attach a child Subscription to the current Subscription.\n * When a Subscription is unsubscribed, all its children (and its grandchildren)\n * will be unsubscribed as well.\n *\n * @class Subscription\n */\nvar Subscription = (function () {\n    /**\n     * @param {function(): void} [unsubscribe] A function describing how to\n     * perform the disposal of resources when the `unsubscribe` method is called.\n     */\n    function Subscription(unsubscribe) {\n        /**\n         * A flag to indicate whether this Subscription has already been unsubscribed.\n         * @type {boolean}\n         */\n        this.closed = false;\n        this._parent = null;\n        this._parents = null;\n        this._subscriptions = null;\n        if (unsubscribe) {\n            this._unsubscribe = unsubscribe;\n        }\n    }\n    /**\n     * Disposes the resources held by the subscription. May, for instance, cancel\n     * an ongoing Observable execution or cancel any other type of work that\n     * started when the Subscription was created.\n     * @return {void}\n     */\n    Subscription.prototype.unsubscribe = function () {\n        var hasErrors = false;\n        var errors;\n        if (this.closed) {\n            return;\n        }\n        var _a = this, _parent = _a._parent, _parents = _a._parents, _unsubscribe = _a._unsubscribe, _subscriptions = _a._subscriptions;\n        this.closed = true;\n        this._parent = null;\n        this._parents = null;\n        // null out _subscriptions first so any child subscriptions that attempt\n        // to remove themselves from this subscription will noop\n        this._subscriptions = null;\n        var index = -1;\n        var len = _parents ? _parents.length : 0;\n        // if this._parent is null, then so is this._parents, and we\n        // don't have to remove ourselves from any parent subscriptions.\n        while (_parent) {\n            _parent.remove(this);\n            // if this._parents is null or index >= len,\n            // then _parent is set to null, and the loop exits\n            _parent = ++index < len && _parents[index] || null;\n        }\n        if (isFunction_1.isFunction(_unsubscribe)) {\n            var trial = tryCatch_1.tryCatch(_unsubscribe).call(this);\n            if (trial === errorObject_1.errorObject) {\n                hasErrors = true;\n                errors = errors || (errorObject_1.errorObject.e instanceof UnsubscriptionError_1.UnsubscriptionError ?\n                    flattenUnsubscriptionErrors(errorObject_1.errorObject.e.errors) : [errorObject_1.errorObject.e]);\n            }\n        }\n        if (isArray_1.isArray(_subscriptions)) {\n            index = -1;\n            len = _subscriptions.length;\n            while (++index < len) {\n                var sub = _subscriptions[index];\n                if (isObject_1.isObject(sub)) {\n                    var trial = tryCatch_1.tryCatch(sub.unsubscribe).call(sub);\n                    if (trial === errorObject_1.errorObject) {\n                        hasErrors = true;\n                        errors = errors || [];\n                        var err = errorObject_1.errorObject.e;\n                        if (err instanceof UnsubscriptionError_1.UnsubscriptionError) {\n                            errors = errors.concat(flattenUnsubscriptionErrors(err.errors));\n                        }\n                        else {\n                            errors.push(err);\n                        }\n                    }\n                }\n            }\n        }\n        if (hasErrors) {\n            throw new UnsubscriptionError_1.UnsubscriptionError(errors);\n        }\n    };\n    /**\n     * Adds a tear down to be called during the unsubscribe() of this\n     * Subscription.\n     *\n     * If the tear down being added is a subscription that is already\n     * unsubscribed, is the same reference `add` is being called on, or is\n     * `Subscription.EMPTY`, it will not be added.\n     *\n     * If this subscription is already in an `closed` state, the passed\n     * tear down logic will be executed immediately.\n     *\n     * @param {TeardownLogic} teardown The additional logic to execute on\n     * teardown.\n     * @return {Subscription} Returns the Subscription used or created to be\n     * added to the inner subscriptions list. This Subscription can be used with\n     * `remove()` to remove the passed teardown logic from the inner subscriptions\n     * list.\n     */\n    Subscription.prototype.add = function (teardown) {\n        if (!teardown || (teardown === Subscription.EMPTY)) {\n            return Subscription.EMPTY;\n        }\n        if (teardown === this) {\n            return this;\n        }\n        var subscription = teardown;\n        switch (typeof teardown) {\n            case 'function':\n                subscription = new Subscription(teardown);\n            case 'object':\n                if (subscription.closed || typeof subscription.unsubscribe !== 'function') {\n                    return subscription;\n                }\n                else if (this.closed) {\n                    subscription.unsubscribe();\n                    return subscription;\n                }\n                else if (typeof subscription._addParent !== 'function' /* quack quack */) {\n                    var tmp = subscription;\n                    subscription = new Subscription();\n                    subscription._subscriptions = [tmp];\n                }\n                break;\n            default:\n                throw new Error('unrecognized teardown ' + teardown + ' added to Subscription.');\n        }\n        var subscriptions = this._subscriptions || (this._subscriptions = []);\n        subscriptions.push(subscription);\n        subscription._addParent(this);\n        return subscription;\n    };\n    /**\n     * Removes a Subscription from the internal list of subscriptions that will\n     * unsubscribe during the unsubscribe process of this Subscription.\n     * @param {Subscription} subscription The subscription to remove.\n     * @return {void}\n     */\n    Subscription.prototype.remove = function (subscription) {\n        var subscriptions = this._subscriptions;\n        if (subscriptions) {\n            var subscriptionIndex = subscriptions.indexOf(subscription);\n            if (subscriptionIndex !== -1) {\n                subscriptions.splice(subscriptionIndex, 1);\n            }\n        }\n    };\n    Subscription.prototype._addParent = function (parent) {\n        var _a = this, _parent = _a._parent, _parents = _a._parents;\n        if (!_parent || _parent === parent) {\n            // If we don't have a parent, or the new parent is the same as the\n            // current parent, then set this._parent to the new parent.\n            this._parent = parent;\n        }\n        else if (!_parents) {\n            // If there's already one parent, but not multiple, allocate an Array to\n            // store the rest of the parent Subscriptions.\n            this._parents = [parent];\n        }\n        else if (_parents.indexOf(parent) === -1) {\n            // Only add the new parent to the _parents list if it's not already there.\n            _parents.push(parent);\n        }\n    };\n    Subscription.EMPTY = (function (empty) {\n        empty.closed = true;\n        return empty;\n    }(new Subscription()));\n    return Subscription;\n}());\nexports.Subscription = Subscription;\nfunction flattenUnsubscriptionErrors(errors) {\n    return errors.reduce(function (errs, err) { return errs.concat((err instanceof UnsubscriptionError_1.UnsubscriptionError) ? err.errors : err); }, []);\n}\n//# sourceMappingURL=Subscription.js.map","\"use strict\";\nvar Observable_1 = require('../../Observable');\nvar bindCallback_1 = require('../../observable/bindCallback');\nObservable_1.Observable.bindCallback = bindCallback_1.bindCallback;\n//# sourceMappingURL=bindCallback.js.map","\"use strict\";\nvar Observable_1 = require('../../Observable');\nvar bindNodeCallback_1 = require('../../observable/bindNodeCallback');\nObservable_1.Observable.bindNodeCallback = bindNodeCallback_1.bindNodeCallback;\n//# sourceMappingURL=bindNodeCallback.js.map","\"use strict\";\nvar Observable_1 = require('../../Observable');\nvar combineLatest_1 = require('../../observable/combineLatest');\nObservable_1.Observable.combineLatest = combineLatest_1.combineLatest;\n//# sourceMappingURL=combineLatest.js.map","\"use strict\";\nvar Observable_1 = require('../../Observable');\nvar concat_1 = require('../../observable/concat');\nObservable_1.Observable.concat = concat_1.concat;\n//# sourceMappingURL=concat.js.map","\"use strict\";\nvar Observable_1 = require('../../Observable');\nvar defer_1 = require('../../observable/defer');\nObservable_1.Observable.defer = defer_1.defer;\n//# sourceMappingURL=defer.js.map","\"use strict\";\nvar Observable_1 = require('../../../Observable');\nvar ajax_1 = require('../../../observable/dom/ajax');\nObservable_1.Observable.ajax = ajax_1.ajax;\n//# sourceMappingURL=ajax.js.map","\"use strict\";\nvar Observable_1 = require('../../../Observable');\nvar webSocket_1 = require('../../../observable/dom/webSocket');\nObservable_1.Observable.webSocket = webSocket_1.webSocket;\n//# sourceMappingURL=webSocket.js.map","\"use strict\";\nvar Observable_1 = require('../../Observable');\nvar empty_1 = require('../../observable/empty');\nObservable_1.Observable.empty = empty_1.empty;\n//# sourceMappingURL=empty.js.map","\"use strict\";\nvar Observable_1 = require('../../Observable');\nvar forkJoin_1 = require('../../observable/forkJoin');\nObservable_1.Observable.forkJoin = forkJoin_1.forkJoin;\n//# sourceMappingURL=forkJoin.js.map","\"use strict\";\nvar Observable_1 = require('../../Observable');\nvar from_1 = require('../../observable/from');\nObservable_1.Observable.from = from_1.from;\n//# sourceMappingURL=from.js.map","\"use strict\";\nvar Observable_1 = require('../../Observable');\nvar fromEvent_1 = require('../../observable/fromEvent');\nObservable_1.Observable.fromEvent = fromEvent_1.fromEvent;\n//# sourceMappingURL=fromEvent.js.map","\"use strict\";\nvar Observable_1 = require('../../Observable');\nvar fromEventPattern_1 = require('../../observable/fromEventPattern');\nObservable_1.Observable.fromEventPattern = fromEventPattern_1.fromEventPattern;\n//# sourceMappingURL=fromEventPattern.js.map","\"use strict\";\nvar Observable_1 = require('../../Observable');\nvar fromPromise_1 = require('../../observable/fromPromise');\nObservable_1.Observable.fromPromise = fromPromise_1.fromPromise;\n//# sourceMappingURL=fromPromise.js.map","\"use strict\";\nvar Observable_1 = require('../../Observable');\nvar generate_1 = require('../../observable/generate');\nObservable_1.Observable.generate = generate_1.generate;\n//# sourceMappingURL=generate.js.map","\"use strict\";\nvar Observable_1 = require('../../Observable');\nvar if_1 = require('../../observable/if');\nObservable_1.Observable.if = if_1._if;\n//# sourceMappingURL=if.js.map","\"use strict\";\nvar Observable_1 = require('../../Observable');\nvar interval_1 = require('../../observable/interval');\nObservable_1.Observable.interval = interval_1.interval;\n//# sourceMappingURL=interval.js.map","\"use strict\";\nvar Observable_1 = require('../../Observable');\nvar merge_1 = require('../../observable/merge');\nObservable_1.Observable.merge = merge_1.merge;\n//# sourceMappingURL=merge.js.map","\"use strict\";\nvar Observable_1 = require('../../Observable');\nvar never_1 = require('../../observable/never');\nObservable_1.Observable.never = never_1.never;\n//# sourceMappingURL=never.js.map","\"use strict\";\nvar Observable_1 = require('../../Observable');\nvar of_1 = require('../../observable/of');\nObservable_1.Observable.of = of_1.of;\n//# sourceMappingURL=of.js.map","\"use strict\";\nvar Observable_1 = require('../../Observable');\nvar onErrorResumeNext_1 = require('../../observable/onErrorResumeNext');\nObservable_1.Observable.onErrorResumeNext = onErrorResumeNext_1.onErrorResumeNext;\n//# sourceMappingURL=onErrorResumeNext.js.map","\"use strict\";\nvar Observable_1 = require('../../Observable');\nvar pairs_1 = require('../../observable/pairs');\nObservable_1.Observable.pairs = pairs_1.pairs;\n//# sourceMappingURL=pairs.js.map","\"use strict\";\nvar Observable_1 = require('../../Observable');\nvar race_1 = require('../../observable/race');\nObservable_1.Observable.race = race_1.race;\n//# sourceMappingURL=race.js.map","\"use strict\";\nvar Observable_1 = require('../../Observable');\nvar range_1 = require('../../observable/range');\nObservable_1.Observable.range = range_1.range;\n//# sourceMappingURL=range.js.map","\"use strict\";\nvar Observable_1 = require('../../Observable');\nvar throw_1 = require('../../observable/throw');\nObservable_1.Observable.throw = throw_1._throw;\n//# sourceMappingURL=throw.js.map","\"use strict\";\nvar Observable_1 = require('../../Observable');\nvar timer_1 = require('../../observable/timer');\nObservable_1.Observable.timer = timer_1.timer;\n//# sourceMappingURL=timer.js.map","\"use strict\";\nvar Observable_1 = require('../../Observable');\nvar using_1 = require('../../observable/using');\nObservable_1.Observable.using = using_1.using;\n//# sourceMappingURL=using.js.map","\"use strict\";\nvar Observable_1 = require('../../Observable');\nvar zip_1 = require('../../observable/zip');\nObservable_1.Observable.zip = zip_1.zip;\n//# sourceMappingURL=zip.js.map","\"use strict\";\nvar Observable_1 = require('../../Observable');\nvar audit_1 = require('../../operator/audit');\nObservable_1.Observable.prototype.audit = audit_1.audit;\n//# sourceMappingURL=audit.js.map","\"use strict\";\nvar Observable_1 = require('../../Observable');\nvar auditTime_1 = require('../../operator/auditTime');\nObservable_1.Observable.prototype.auditTime = auditTime_1.auditTime;\n//# sourceMappingURL=auditTime.js.map","\"use strict\";\nvar Observable_1 = require('../../Observable');\nvar buffer_1 = require('../../operator/buffer');\nObservable_1.Observable.prototype.buffer = buffer_1.buffer;\n//# sourceMappingURL=buffer.js.map","\"use strict\";\nvar Observable_1 = require('../../Observable');\nvar bufferCount_1 = require('../../operator/bufferCount');\nObservable_1.Observable.prototype.bufferCount = bufferCount_1.bufferCount;\n//# sourceMappingURL=bufferCount.js.map","\"use strict\";\nvar Observable_1 = require('../../Observable');\nvar bufferTime_1 = require('../../operator/bufferTime');\nObservable_1.Observable.prototype.bufferTime = bufferTime_1.bufferTime;\n//# sourceMappingURL=bufferTime.js.map","\"use strict\";\nvar Observable_1 = require('../../Observable');\nvar bufferToggle_1 = require('../../operator/bufferToggle');\nObservable_1.Observable.prototype.bufferToggle = bufferToggle_1.bufferToggle;\n//# sourceMappingURL=bufferToggle.js.map","\"use strict\";\nvar Observable_1 = require('../../Observable');\nvar bufferWhen_1 = require('../../operator/bufferWhen');\nObservable_1.Observable.prototype.bufferWhen = bufferWhen_1.bufferWhen;\n//# sourceMappingURL=bufferWhen.js.map","\"use strict\";\nvar Observable_1 = require('../../Observable');\nvar catch_1 = require('../../operator/catch');\nObservable_1.Observable.prototype.catch = catch_1._catch;\nObservable_1.Observable.prototype._catch = catch_1._catch;\n//# sourceMappingURL=catch.js.map","\"use strict\";\nvar Observable_1 = require('../../Observable');\nvar combineAll_1 = require('../../operator/combineAll');\nObservable_1.Observable.prototype.combineAll = combineAll_1.combineAll;\n//# sourceMappingURL=combineAll.js.map","\"use strict\";\nvar Observable_1 = require('../../Observable');\nvar combineLatest_1 = require('../../operator/combineLatest');\nObservable_1.Observable.prototype.combineLatest = combineLatest_1.combineLatest;\n//# sourceMappingURL=combineLatest.js.map","\"use strict\";\nvar Observable_1 = require('../../Observable');\nvar concat_1 = require('../../operator/concat');\nObservable_1.Observable.prototype.concat = concat_1.concat;\n//# sourceMappingURL=concat.js.map","\"use strict\";\nvar Observable_1 = require('../../Observable');\nvar concatAll_1 = require('../../operator/concatAll');\nObservable_1.Observable.prototype.concatAll = concatAll_1.concatAll;\n//# sourceMappingURL=concatAll.js.map","\"use strict\";\nvar Observable_1 = require('../../Observable');\nvar concatMap_1 = require('../../operator/concatMap');\nObservable_1.Observable.prototype.concatMap = concatMap_1.concatMap;\n//# sourceMappingURL=concatMap.js.map","\"use strict\";\nvar Observable_1 = require('../../Observable');\nvar concatMapTo_1 = require('../../operator/concatMapTo');\nObservable_1.Observable.prototype.concatMapTo = concatMapTo_1.concatMapTo;\n//# sourceMappingURL=concatMapTo.js.map","\"use strict\";\nvar Observable_1 = require('../../Observable');\nvar count_1 = require('../../operator/count');\nObservable_1.Observable.prototype.count = count_1.count;\n//# sourceMappingURL=count.js.map","\"use strict\";\nvar Observable_1 = require('../../Observable');\nvar debounce_1 = require('../../operator/debounce');\nObservable_1.Observable.prototype.debounce = debounce_1.debounce;\n//# sourceMappingURL=debounce.js.map","\"use strict\";\nvar Observable_1 = require('../../Observable');\nvar debounceTime_1 = require('../../operator/debounceTime');\nObservable_1.Observable.prototype.debounceTime = debounceTime_1.debounceTime;\n//# sourceMappingURL=debounceTime.js.map","\"use strict\";\nvar Observable_1 = require('../../Observable');\nvar defaultIfEmpty_1 = require('../../operator/defaultIfEmpty');\nObservable_1.Observable.prototype.defaultIfEmpty = defaultIfEmpty_1.defaultIfEmpty;\n//# sourceMappingURL=defaultIfEmpty.js.map","\"use strict\";\nvar Observable_1 = require('../../Observable');\nvar delay_1 = require('../../operator/delay');\nObservable_1.Observable.prototype.delay = delay_1.delay;\n//# sourceMappingURL=delay.js.map","\"use strict\";\nvar Observable_1 = require('../../Observable');\nvar delayWhen_1 = require('../../operator/delayWhen');\nObservable_1.Observable.prototype.delayWhen = delayWhen_1.delayWhen;\n//# sourceMappingURL=delayWhen.js.map","\"use strict\";\nvar Observable_1 = require('../../Observable');\nvar dematerialize_1 = require('../../operator/dematerialize');\nObservable_1.Observable.prototype.dematerialize = dematerialize_1.dematerialize;\n//# sourceMappingURL=dematerialize.js.map","\"use strict\";\nvar Observable_1 = require('../../Observable');\nvar distinct_1 = require('../../operator/distinct');\nObservable_1.Observable.prototype.distinct = distinct_1.distinct;\n//# sourceMappingURL=distinct.js.map","\"use strict\";\nvar Observable_1 = require('../../Observable');\nvar distinctUntilChanged_1 = require('../../operator/distinctUntilChanged');\nObservable_1.Observable.prototype.distinctUntilChanged = distinctUntilChanged_1.distinctUntilChanged;\n//# sourceMappingURL=distinctUntilChanged.js.map","\"use strict\";\nvar Observable_1 = require('../../Observable');\nvar distinctUntilKeyChanged_1 = require('../../operator/distinctUntilKeyChanged');\nObservable_1.Observable.prototype.distinctUntilKeyChanged = distinctUntilKeyChanged_1.distinctUntilKeyChanged;\n//# sourceMappingURL=distinctUntilKeyChanged.js.map","\"use strict\";\nvar Observable_1 = require('../../Observable');\nvar do_1 = require('../../operator/do');\nObservable_1.Observable.prototype.do = do_1._do;\nObservable_1.Observable.prototype._do = do_1._do;\n//# sourceMappingURL=do.js.map","\"use strict\";\nvar Observable_1 = require('../../Observable');\nvar elementAt_1 = require('../../operator/elementAt');\nObservable_1.Observable.prototype.elementAt = elementAt_1.elementAt;\n//# sourceMappingURL=elementAt.js.map","\"use strict\";\nvar Observable_1 = require('../../Observable');\nvar every_1 = require('../../operator/every');\nObservable_1.Observable.prototype.every = every_1.every;\n//# sourceMappingURL=every.js.map","\"use strict\";\nvar Observable_1 = require('../../Observable');\nvar exhaust_1 = require('../../operator/exhaust');\nObservable_1.Observable.prototype.exhaust = exhaust_1.exhaust;\n//# sourceMappingURL=exhaust.js.map","\"use strict\";\nvar Observable_1 = require('../../Observable');\nvar exhaustMap_1 = require('../../operator/exhaustMap');\nObservable_1.Observable.prototype.exhaustMap = exhaustMap_1.exhaustMap;\n//# sourceMappingURL=exhaustMap.js.map","\"use strict\";\nvar Observable_1 = require('../../Observable');\nvar expand_1 = require('../../operator/expand');\nObservable_1.Observable.prototype.expand = expand_1.expand;\n//# sourceMappingURL=expand.js.map","\"use strict\";\nvar Observable_1 = require('../../Observable');\nvar filter_1 = require('../../operator/filter');\nObservable_1.Observable.prototype.filter = filter_1.filter;\n//# sourceMappingURL=filter.js.map","\"use strict\";\nvar Observable_1 = require('../../Observable');\nvar finally_1 = require('../../operator/finally');\nObservable_1.Observable.prototype.finally = finally_1._finally;\nObservable_1.Observable.prototype._finally = finally_1._finally;\n//# sourceMappingURL=finally.js.map","\"use strict\";\nvar Observable_1 = require('../../Observable');\nvar find_1 = require('../../operator/find');\nObservable_1.Observable.prototype.find = find_1.find;\n//# sourceMappingURL=find.js.map","\"use strict\";\nvar Observable_1 = require('../../Observable');\nvar findIndex_1 = require('../../operator/findIndex');\nObservable_1.Observable.prototype.findIndex = findIndex_1.findIndex;\n//# sourceMappingURL=findIndex.js.map","\"use strict\";\nvar Observable_1 = require('../../Observable');\nvar first_1 = require('../../operator/first');\nObservable_1.Observable.prototype.first = first_1.first;\n//# sourceMappingURL=first.js.map","\"use strict\";\nvar Observable_1 = require('../../Observable');\nvar groupBy_1 = require('../../operator/groupBy');\nObservable_1.Observable.prototype.groupBy = groupBy_1.groupBy;\n//# sourceMappingURL=groupBy.js.map","\"use strict\";\nvar Observable_1 = require('../../Observable');\nvar ignoreElements_1 = require('../../operator/ignoreElements');\nObservable_1.Observable.prototype.ignoreElements = ignoreElements_1.ignoreElements;\n//# sourceMappingURL=ignoreElements.js.map","\"use strict\";\nvar Observable_1 = require('../../Observable');\nvar isEmpty_1 = require('../../operator/isEmpty');\nObservable_1.Observable.prototype.isEmpty = isEmpty_1.isEmpty;\n//# sourceMappingURL=isEmpty.js.map","\"use strict\";\nvar Observable_1 = require('../../Observable');\nvar last_1 = require('../../operator/last');\nObservable_1.Observable.prototype.last = last_1.last;\n//# sourceMappingURL=last.js.map","\"use strict\";\nvar Observable_1 = require('../../Observable');\nvar let_1 = require('../../operator/let');\nObservable_1.Observable.prototype.let = let_1.letProto;\nObservable_1.Observable.prototype.letBind = let_1.letProto;\n//# sourceMappingURL=let.js.map","\"use strict\";\nvar Observable_1 = require('../../Observable');\nvar map_1 = require('../../operator/map');\nObservable_1.Observable.prototype.map = map_1.map;\n//# sourceMappingURL=map.js.map","\"use strict\";\nvar Observable_1 = require('../../Observable');\nvar mapTo_1 = require('../../operator/mapTo');\nObservable_1.Observable.prototype.mapTo = mapTo_1.mapTo;\n//# sourceMappingURL=mapTo.js.map","\"use strict\";\nvar Observable_1 = require('../../Observable');\nvar materialize_1 = require('../../operator/materialize');\nObservable_1.Observable.prototype.materialize = materialize_1.materialize;\n//# sourceMappingURL=materialize.js.map","\"use strict\";\nvar Observable_1 = require('../../Observable');\nvar max_1 = require('../../operator/max');\nObservable_1.Observable.prototype.max = max_1.max;\n//# sourceMappingURL=max.js.map","\"use strict\";\nvar Observable_1 = require('../../Observable');\nvar merge_1 = require('../../operator/merge');\nObservable_1.Observable.prototype.merge = merge_1.merge;\n//# sourceMappingURL=merge.js.map","\"use strict\";\nvar Observable_1 = require('../../Observable');\nvar mergeAll_1 = require('../../operator/mergeAll');\nObservable_1.Observable.prototype.mergeAll = mergeAll_1.mergeAll;\n//# sourceMappingURL=mergeAll.js.map","\"use strict\";\nvar Observable_1 = require('../../Observable');\nvar mergeMap_1 = require('../../operator/mergeMap');\nObservable_1.Observable.prototype.mergeMap = mergeMap_1.mergeMap;\nObservable_1.Observable.prototype.flatMap = mergeMap_1.mergeMap;\n//# sourceMappingURL=mergeMap.js.map","\"use strict\";\nvar Observable_1 = require('../../Observable');\nvar mergeMapTo_1 = require('../../operator/mergeMapTo');\nObservable_1.Observable.prototype.flatMapTo = mergeMapTo_1.mergeMapTo;\nObservable_1.Observable.prototype.mergeMapTo = mergeMapTo_1.mergeMapTo;\n//# sourceMappingURL=mergeMapTo.js.map","\"use strict\";\nvar Observable_1 = require('../../Observable');\nvar mergeScan_1 = require('../../operator/mergeScan');\nObservable_1.Observable.prototype.mergeScan = mergeScan_1.mergeScan;\n//# sourceMappingURL=mergeScan.js.map","\"use strict\";\nvar Observable_1 = require('../../Observable');\nvar min_1 = require('../../operator/min');\nObservable_1.Observable.prototype.min = min_1.min;\n//# sourceMappingURL=min.js.map","\"use strict\";\nvar Observable_1 = require('../../Observable');\nvar multicast_1 = require('../../operator/multicast');\nObservable_1.Observable.prototype.multicast = multicast_1.multicast;\n//# sourceMappingURL=multicast.js.map","\"use strict\";\nvar Observable_1 = require('../../Observable');\nvar observeOn_1 = require('../../operator/observeOn');\nObservable_1.Observable.prototype.observeOn = observeOn_1.observeOn;\n//# sourceMappingURL=observeOn.js.map","\"use strict\";\nvar Observable_1 = require('../../Observable');\nvar onErrorResumeNext_1 = require('../../operator/onErrorResumeNext');\nObservable_1.Observable.prototype.onErrorResumeNext = onErrorResumeNext_1.onErrorResumeNext;\n//# sourceMappingURL=onErrorResumeNext.js.map","\"use strict\";\nvar Observable_1 = require('../../Observable');\nvar pairwise_1 = require('../../operator/pairwise');\nObservable_1.Observable.prototype.pairwise = pairwise_1.pairwise;\n//# sourceMappingURL=pairwise.js.map","\"use strict\";\nvar Observable_1 = require('../../Observable');\nvar partition_1 = require('../../operator/partition');\nObservable_1.Observable.prototype.partition = partition_1.partition;\n//# sourceMappingURL=partition.js.map","\"use strict\";\nvar Observable_1 = require('../../Observable');\nvar pluck_1 = require('../../operator/pluck');\nObservable_1.Observable.prototype.pluck = pluck_1.pluck;\n//# sourceMappingURL=pluck.js.map","\"use strict\";\nvar Observable_1 = require('../../Observable');\nvar publish_1 = require('../../operator/publish');\nObservable_1.Observable.prototype.publish = publish_1.publish;\n//# sourceMappingURL=publish.js.map","\"use strict\";\nvar Observable_1 = require('../../Observable');\nvar publishBehavior_1 = require('../../operator/publishBehavior');\nObservable_1.Observable.prototype.publishBehavior = publishBehavior_1.publishBehavior;\n//# sourceMappingURL=publishBehavior.js.map","\"use strict\";\nvar Observable_1 = require('../../Observable');\nvar publishLast_1 = require('../../operator/publishLast');\nObservable_1.Observable.prototype.publishLast = publishLast_1.publishLast;\n//# sourceMappingURL=publishLast.js.map","\"use strict\";\nvar Observable_1 = require('../../Observable');\nvar publishReplay_1 = require('../../operator/publishReplay');\nObservable_1.Observable.prototype.publishReplay = publishReplay_1.publishReplay;\n//# sourceMappingURL=publishReplay.js.map","\"use strict\";\nvar Observable_1 = require('../../Observable');\nvar race_1 = require('../../operator/race');\nObservable_1.Observable.prototype.race = race_1.race;\n//# sourceMappingURL=race.js.map","\"use strict\";\nvar Observable_1 = require('../../Observable');\nvar reduce_1 = require('../../operator/reduce');\nObservable_1.Observable.prototype.reduce = reduce_1.reduce;\n//# sourceMappingURL=reduce.js.map","\"use strict\";\nvar Observable_1 = require('../../Observable');\nvar repeat_1 = require('../../operator/repeat');\nObservable_1.Observable.prototype.repeat = repeat_1.repeat;\n//# sourceMappingURL=repeat.js.map","\"use strict\";\nvar Observable_1 = require('../../Observable');\nvar repeatWhen_1 = require('../../operator/repeatWhen');\nObservable_1.Observable.prototype.repeatWhen = repeatWhen_1.repeatWhen;\n//# sourceMappingURL=repeatWhen.js.map","\"use strict\";\nvar Observable_1 = require('../../Observable');\nvar retry_1 = require('../../operator/retry');\nObservable_1.Observable.prototype.retry = retry_1.retry;\n//# sourceMappingURL=retry.js.map","\"use strict\";\nvar Observable_1 = require('../../Observable');\nvar retryWhen_1 = require('../../operator/retryWhen');\nObservable_1.Observable.prototype.retryWhen = retryWhen_1.retryWhen;\n//# sourceMappingURL=retryWhen.js.map","\"use strict\";\nvar Observable_1 = require('../../Observable');\nvar sample_1 = require('../../operator/sample');\nObservable_1.Observable.prototype.sample = sample_1.sample;\n//# sourceMappingURL=sample.js.map","\"use strict\";\nvar Observable_1 = require('../../Observable');\nvar sampleTime_1 = require('../../operator/sampleTime');\nObservable_1.Observable.prototype.sampleTime = sampleTime_1.sampleTime;\n//# sourceMappingURL=sampleTime.js.map","\"use strict\";\nvar Observable_1 = require('../../Observable');\nvar scan_1 = require('../../operator/scan');\nObservable_1.Observable.prototype.scan = scan_1.scan;\n//# sourceMappingURL=scan.js.map","\"use strict\";\nvar Observable_1 = require('../../Observable');\nvar sequenceEqual_1 = require('../../operator/sequenceEqual');\nObservable_1.Observable.prototype.sequenceEqual = sequenceEqual_1.sequenceEqual;\n//# sourceMappingURL=sequenceEqual.js.map","\"use strict\";\nvar Observable_1 = require('../../Observable');\nvar share_1 = require('../../operator/share');\nObservable_1.Observable.prototype.share = share_1.share;\n//# sourceMappingURL=share.js.map","\"use strict\";\nvar Observable_1 = require('../../Observable');\nvar shareReplay_1 = require('../../operator/shareReplay');\nObservable_1.Observable.prototype.shareReplay = shareReplay_1.shareReplay;\n//# sourceMappingURL=shareReplay.js.map","\"use strict\";\nvar Observable_1 = require('../../Observable');\nvar single_1 = require('../../operator/single');\nObservable_1.Observable.prototype.single = single_1.single;\n//# sourceMappingURL=single.js.map","\"use strict\";\nvar Observable_1 = require('../../Observable');\nvar skip_1 = require('../../operator/skip');\nObservable_1.Observable.prototype.skip = skip_1.skip;\n//# sourceMappingURL=skip.js.map","\"use strict\";\nvar Observable_1 = require('../../Observable');\nvar skipLast_1 = require('../../operator/skipLast');\nObservable_1.Observable.prototype.skipLast = skipLast_1.skipLast;\n//# sourceMappingURL=skipLast.js.map","\"use strict\";\nvar Observable_1 = require('../../Observable');\nvar skipUntil_1 = require('../../operator/skipUntil');\nObservable_1.Observable.prototype.skipUntil = skipUntil_1.skipUntil;\n//# sourceMappingURL=skipUntil.js.map","\"use strict\";\nvar Observable_1 = require('../../Observable');\nvar skipWhile_1 = require('../../operator/skipWhile');\nObservable_1.Observable.prototype.skipWhile = skipWhile_1.skipWhile;\n//# sourceMappingURL=skipWhile.js.map","\"use strict\";\nvar Observable_1 = require('../../Observable');\nvar startWith_1 = require('../../operator/startWith');\nObservable_1.Observable.prototype.startWith = startWith_1.startWith;\n//# sourceMappingURL=startWith.js.map","\"use strict\";\nvar Observable_1 = require('../../Observable');\nvar subscribeOn_1 = require('../../operator/subscribeOn');\nObservable_1.Observable.prototype.subscribeOn = subscribeOn_1.subscribeOn;\n//# sourceMappingURL=subscribeOn.js.map","\"use strict\";\nvar Observable_1 = require('../../Observable');\nvar switch_1 = require('../../operator/switch');\nObservable_1.Observable.prototype.switch = switch_1._switch;\nObservable_1.Observable.prototype._switch = switch_1._switch;\n//# sourceMappingURL=switch.js.map","\"use strict\";\nvar Observable_1 = require('../../Observable');\nvar switchMap_1 = require('../../operator/switchMap');\nObservable_1.Observable.prototype.switchMap = switchMap_1.switchMap;\n//# sourceMappingURL=switchMap.js.map","\"use strict\";\nvar Observable_1 = require('../../Observable');\nvar switchMapTo_1 = require('../../operator/switchMapTo');\nObservable_1.Observable.prototype.switchMapTo = switchMapTo_1.switchMapTo;\n//# sourceMappingURL=switchMapTo.js.map","\"use strict\";\nvar Observable_1 = require('../../Observable');\nvar take_1 = require('../../operator/take');\nObservable_1.Observable.prototype.take = take_1.take;\n//# sourceMappingURL=take.js.map","\"use strict\";\nvar Observable_1 = require('../../Observable');\nvar takeLast_1 = require('../../operator/takeLast');\nObservable_1.Observable.prototype.takeLast = takeLast_1.takeLast;\n//# sourceMappingURL=takeLast.js.map","\"use strict\";\nvar Observable_1 = require('../../Observable');\nvar takeUntil_1 = require('../../operator/takeUntil');\nObservable_1.Observable.prototype.takeUntil = takeUntil_1.takeUntil;\n//# sourceMappingURL=takeUntil.js.map","\"use strict\";\nvar Observable_1 = require('../../Observable');\nvar takeWhile_1 = require('../../operator/takeWhile');\nObservable_1.Observable.prototype.takeWhile = takeWhile_1.takeWhile;\n//# sourceMappingURL=takeWhile.js.map","\"use strict\";\nvar Observable_1 = require('../../Observable');\nvar throttle_1 = require('../../operator/throttle');\nObservable_1.Observable.prototype.throttle = throttle_1.throttle;\n//# sourceMappingURL=throttle.js.map","\"use strict\";\nvar Observable_1 = require('../../Observable');\nvar throttleTime_1 = require('../../operator/throttleTime');\nObservable_1.Observable.prototype.throttleTime = throttleTime_1.throttleTime;\n//# sourceMappingURL=throttleTime.js.map","\"use strict\";\nvar Observable_1 = require('../../Observable');\nvar timeInterval_1 = require('../../operator/timeInterval');\nObservable_1.Observable.prototype.timeInterval = timeInterval_1.timeInterval;\n//# sourceMappingURL=timeInterval.js.map","\"use strict\";\nvar Observable_1 = require('../../Observable');\nvar timeout_1 = require('../../operator/timeout');\nObservable_1.Observable.prototype.timeout = timeout_1.timeout;\n//# sourceMappingURL=timeout.js.map","\"use strict\";\nvar Observable_1 = require('../../Observable');\nvar timeoutWith_1 = require('../../operator/timeoutWith');\nObservable_1.Observable.prototype.timeoutWith = timeoutWith_1.timeoutWith;\n//# sourceMappingURL=timeoutWith.js.map","\"use strict\";\nvar Observable_1 = require('../../Observable');\nvar timestamp_1 = require('../../operator/timestamp');\nObservable_1.Observable.prototype.timestamp = timestamp_1.timestamp;\n//# sourceMappingURL=timestamp.js.map","\"use strict\";\nvar Observable_1 = require('../../Observable');\nvar toArray_1 = require('../../operator/toArray');\nObservable_1.Observable.prototype.toArray = toArray_1.toArray;\n//# sourceMappingURL=toArray.js.map","\"use strict\";\nvar Observable_1 = require('../../Observable');\nvar window_1 = require('../../operator/window');\nObservable_1.Observable.prototype.window = window_1.window;\n//# sourceMappingURL=window.js.map","\"use strict\";\nvar Observable_1 = require('../../Observable');\nvar windowCount_1 = require('../../operator/windowCount');\nObservable_1.Observable.prototype.windowCount = windowCount_1.windowCount;\n//# sourceMappingURL=windowCount.js.map","\"use strict\";\nvar Observable_1 = require('../../Observable');\nvar windowTime_1 = require('../../operator/windowTime');\nObservable_1.Observable.prototype.windowTime = windowTime_1.windowTime;\n//# sourceMappingURL=windowTime.js.map","\"use strict\";\nvar Observable_1 = require('../../Observable');\nvar windowToggle_1 = require('../../operator/windowToggle');\nObservable_1.Observable.prototype.windowToggle = windowToggle_1.windowToggle;\n//# sourceMappingURL=windowToggle.js.map","\"use strict\";\nvar Observable_1 = require('../../Observable');\nvar windowWhen_1 = require('../../operator/windowWhen');\nObservable_1.Observable.prototype.windowWhen = windowWhen_1.windowWhen;\n//# sourceMappingURL=windowWhen.js.map","\"use strict\";\nvar Observable_1 = require('../../Observable');\nvar withLatestFrom_1 = require('../../operator/withLatestFrom');\nObservable_1.Observable.prototype.withLatestFrom = withLatestFrom_1.withLatestFrom;\n//# sourceMappingURL=withLatestFrom.js.map","\"use strict\";\nvar Observable_1 = require('../../Observable');\nvar zip_1 = require('../../operator/zip');\nObservable_1.Observable.prototype.zip = zip_1.zipProto;\n//# sourceMappingURL=zip.js.map","\"use strict\";\nvar Observable_1 = require('../../Observable');\nvar zipAll_1 = require('../../operator/zipAll');\nObservable_1.Observable.prototype.zipAll = zipAll_1.zipAll;\n//# sourceMappingURL=zipAll.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar Observable_1 = require('../Observable');\nvar ScalarObservable_1 = require('./ScalarObservable');\nvar EmptyObservable_1 = require('./EmptyObservable');\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @extends {Ignored}\n * @hide true\n */\nvar ArrayLikeObservable = (function (_super) {\n    __extends(ArrayLikeObservable, _super);\n    function ArrayLikeObservable(arrayLike, scheduler) {\n        _super.call(this);\n        this.arrayLike = arrayLike;\n        this.scheduler = scheduler;\n        if (!scheduler && arrayLike.length === 1) {\n            this._isScalar = true;\n            this.value = arrayLike[0];\n        }\n    }\n    ArrayLikeObservable.create = function (arrayLike, scheduler) {\n        var length = arrayLike.length;\n        if (length === 0) {\n            return new EmptyObservable_1.EmptyObservable();\n        }\n        else if (length === 1) {\n            return new ScalarObservable_1.ScalarObservable(arrayLike[0], scheduler);\n        }\n        else {\n            return new ArrayLikeObservable(arrayLike, scheduler);\n        }\n    };\n    ArrayLikeObservable.dispatch = function (state) {\n        var arrayLike = state.arrayLike, index = state.index, length = state.length, subscriber = state.subscriber;\n        if (subscriber.closed) {\n            return;\n        }\n        if (index >= length) {\n            subscriber.complete();\n            return;\n        }\n        subscriber.next(arrayLike[index]);\n        state.index = index + 1;\n        this.schedule(state);\n    };\n    /** @deprecated internal use only */ ArrayLikeObservable.prototype._subscribe = function (subscriber) {\n        var index = 0;\n        var _a = this, arrayLike = _a.arrayLike, scheduler = _a.scheduler;\n        var length = arrayLike.length;\n        if (scheduler) {\n            return scheduler.schedule(ArrayLikeObservable.dispatch, 0, {\n                arrayLike: arrayLike, index: index, length: length, subscriber: subscriber\n            });\n        }\n        else {\n            for (var i = 0; i < length && !subscriber.closed; i++) {\n                subscriber.next(arrayLike[i]);\n            }\n            subscriber.complete();\n        }\n    };\n    return ArrayLikeObservable;\n}(Observable_1.Observable));\nexports.ArrayLikeObservable = ArrayLikeObservable;\n//# sourceMappingURL=ArrayLikeObservable.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar Observable_1 = require('../Observable');\nvar ScalarObservable_1 = require('./ScalarObservable');\nvar EmptyObservable_1 = require('./EmptyObservable');\nvar isScheduler_1 = require('../util/isScheduler');\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @extends {Ignored}\n * @hide true\n */\nvar ArrayObservable = (function (_super) {\n    __extends(ArrayObservable, _super);\n    function ArrayObservable(array, scheduler) {\n        _super.call(this);\n        this.array = array;\n        this.scheduler = scheduler;\n        if (!scheduler && array.length === 1) {\n            this._isScalar = true;\n            this.value = array[0];\n        }\n    }\n    ArrayObservable.create = function (array, scheduler) {\n        return new ArrayObservable(array, scheduler);\n    };\n    /**\n     * Creates an Observable that emits some values you specify as arguments,\n     * immediately one after the other, and then emits a complete notification.\n     *\n     * <span class=\"informal\">Emits the arguments you provide, then completes.\n     * </span>\n     *\n     * <img src=\"./img/of.png\" width=\"100%\">\n     *\n     * This static operator is useful for creating a simple Observable that only\n     * emits the arguments given, and the complete notification thereafter. It can\n     * be used for composing with other Observables, such as with {@link concat}.\n     * By default, it uses a `null` IScheduler, which means the `next`\n     * notifications are sent synchronously, although with a different IScheduler\n     * it is possible to determine when those notifications will be delivered.\n     *\n     * @example <caption>Emit 10, 20, 30, then 'a', 'b', 'c', then start ticking every second.</caption>\n     * var numbers = Rx.Observable.of(10, 20, 30);\n     * var letters = Rx.Observable.of('a', 'b', 'c');\n     * var interval = Rx.Observable.interval(1000);\n     * var result = numbers.concat(letters).concat(interval);\n     * result.subscribe(x => console.log(x));\n     *\n     * @see {@link create}\n     * @see {@link empty}\n     * @see {@link never}\n     * @see {@link throw}\n     *\n     * @param {...T} values Arguments that represent `next` values to be emitted.\n     * @param {Scheduler} [scheduler] A {@link IScheduler} to use for scheduling\n     * the emissions of the `next` notifications.\n     * @return {Observable<T>} An Observable that emits each given input value.\n     * @static true\n     * @name of\n     * @owner Observable\n     */\n    ArrayObservable.of = function () {\n        var array = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            array[_i - 0] = arguments[_i];\n        }\n        var scheduler = array[array.length - 1];\n        if (isScheduler_1.isScheduler(scheduler)) {\n            array.pop();\n        }\n        else {\n            scheduler = null;\n        }\n        var len = array.length;\n        if (len > 1) {\n            return new ArrayObservable(array, scheduler);\n        }\n        else if (len === 1) {\n            return new ScalarObservable_1.ScalarObservable(array[0], scheduler);\n        }\n        else {\n            return new EmptyObservable_1.EmptyObservable(scheduler);\n        }\n    };\n    ArrayObservable.dispatch = function (state) {\n        var array = state.array, index = state.index, count = state.count, subscriber = state.subscriber;\n        if (index >= count) {\n            subscriber.complete();\n            return;\n        }\n        subscriber.next(array[index]);\n        if (subscriber.closed) {\n            return;\n        }\n        state.index = index + 1;\n        this.schedule(state);\n    };\n    /** @deprecated internal use only */ ArrayObservable.prototype._subscribe = function (subscriber) {\n        var index = 0;\n        var array = this.array;\n        var count = array.length;\n        var scheduler = this.scheduler;\n        if (scheduler) {\n            return scheduler.schedule(ArrayObservable.dispatch, 0, {\n                array: array, index: index, count: count, subscriber: subscriber\n            });\n        }\n        else {\n            for (var i = 0; i < count && !subscriber.closed; i++) {\n                subscriber.next(array[i]);\n            }\n            subscriber.complete();\n        }\n    };\n    return ArrayObservable;\n}(Observable_1.Observable));\nexports.ArrayObservable = ArrayObservable;\n//# sourceMappingURL=ArrayObservable.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar Observable_1 = require('../Observable');\nvar tryCatch_1 = require('../util/tryCatch');\nvar errorObject_1 = require('../util/errorObject');\nvar AsyncSubject_1 = require('../AsyncSubject');\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @extends {Ignored}\n * @hide true\n */\nvar BoundCallbackObservable = (function (_super) {\n    __extends(BoundCallbackObservable, _super);\n    function BoundCallbackObservable(callbackFunc, selector, args, context, scheduler) {\n        _super.call(this);\n        this.callbackFunc = callbackFunc;\n        this.selector = selector;\n        this.args = args;\n        this.context = context;\n        this.scheduler = scheduler;\n    }\n    /* tslint:enable:max-line-length */\n    /**\n     * Converts a callback API to a function that returns an Observable.\n     *\n     * <span class=\"informal\">Give it a function `f` of type `f(x, callback)` and\n     * it will return a function `g` that when called as `g(x)` will output an\n     * Observable.</span>\n     *\n     * `bindCallback` is not an operator because its input and output are not\n     * Observables. The input is a function `func` with some parameters, the\n     * last parameter must be a callback function that `func` calls when it is\n     * done.\n     *\n     * The output of `bindCallback` is a function that takes the same parameters\n     * as `func`, except the last one (the callback). When the output function\n     * is called with arguments it will return an Observable. If function `func`\n     * calls its callback with one argument the Observable will emit that value.\n     * If on the other hand the callback is called with multiple values the resulting\n     * Observable will emit an array with said values as arguments.\n     *\n     * It is very important to remember that input function `func` is not called\n     * when the output function is, but rather when the Observable returned by the output\n     * function is subscribed. This means if `func` makes an AJAX request, that request\n     * will be made every time someone subscribes to the resulting Observable, but not before.\n     *\n     * Optionally, a selector function can be passed to `bindObservable`. The selector function\n     * takes the same arguments as the callback and returns the value that will be emitted by the Observable.\n     * Even though by default multiple arguments passed to callback appear in the stream as an array\n     * the selector function will be called with arguments directly, just as the callback would.\n     * This means you can imagine the default selector (when one is not provided explicitly)\n     * as a function that aggregates all its arguments into an array, or simply returns first argument\n     * if there is only one.\n     *\n     * The last optional parameter - {@link Scheduler} - can be used to control when the call\n     * to `func` happens after someone subscribes to Observable, as well as when results\n     * passed to callback will be emitted. By default, the subscription to  an Observable calls `func`\n     * synchronously, but using `Scheduler.async` as the last parameter will defer the call to `func`,\n     * just like wrapping the call in `setTimeout` with a timeout of `0` would. If you use the async Scheduler\n     * and call `subscribe` on the output Observable all function calls that are currently executing\n     * will end before `func` is invoked.\n     *\n     * By default results passed to the callback are emitted immediately after `func` invokes the callback.\n     * In particular, if the callback is called synchronously the subscription of the resulting Observable\n     * will call the `next` function synchronously as well.  If you want to defer that call,\n     * you may use `Scheduler.async` just as before.  This means that by using `Scheduler.async` you can\n     * ensure that `func` always calls its callback asynchronously, thus avoiding terrifying Zalgo.\n     *\n     * Note that the Observable created by the output function will always emit a single value\n     * and then complete immediately. If `func` calls the callback multiple times, values from subsequent\n     * calls will not appear in the stream. If you need to listen for multiple calls,\n     *  you probably want to use {@link fromEvent} or {@link fromEventPattern} instead.\n     *\n     * If `func` depends on some context (`this` property) and is not already bound the context of `func`\n     * will be the context that the output function has at call time. In particular, if `func`\n     * is called as a method of some objec and if `func` is not already bound, in order to preserve the context\n     * it is recommended that the context of the output function is set to that object as well.\n     *\n     * If the input function calls its callback in the \"node style\" (i.e. first argument to callback is\n     * optional error parameter signaling whether the call failed or not), {@link bindNodeCallback}\n     * provides convenient error handling and probably is a better choice.\n     * `bindCallback` will treat such functions the same as any other and error parameters\n     * (whether passed or not) will always be interpreted as regular callback argument.\n     *\n     *\n     * @example <caption>Convert jQuery's getJSON to an Observable API</caption>\n     * // Suppose we have jQuery.getJSON('/my/url', callback)\n     * var getJSONAsObservable = Rx.Observable.bindCallback(jQuery.getJSON);\n     * var result = getJSONAsObservable('/my/url');\n     * result.subscribe(x => console.log(x), e => console.error(e));\n     *\n     *\n     * @example <caption>Receive an array of arguments passed to a callback</caption>\n     * someFunction((a, b, c) => {\n     *   console.log(a); // 5\n     *   console.log(b); // 'some string'\n     *   console.log(c); // {someProperty: 'someValue'}\n     * });\n     *\n     * const boundSomeFunction = Rx.Observable.bindCallback(someFunction);\n     * boundSomeFunction().subscribe(values => {\n     *   console.log(values) // [5, 'some string', {someProperty: 'someValue'}]\n     * });\n     *\n     *\n     * @example <caption>Use bindCallback with a selector function</caption>\n     * someFunction((a, b, c) => {\n     *   console.log(a); // 'a'\n     *   console.log(b); // 'b'\n     *   console.log(c); // 'c'\n     * });\n     *\n     * const boundSomeFunction = Rx.Observable.bindCallback(someFunction, (a, b, c) => a + b + c);\n     * boundSomeFunction().subscribe(value => {\n     *   console.log(value) // 'abc'\n     * });\n     *\n     *\n     * @example <caption>Compare behaviour with and without async Scheduler</caption>\n     * function iCallMyCallbackSynchronously(cb) {\n     *   cb();\n     * }\n     *\n     * const boundSyncFn = Rx.Observable.bindCallback(iCallMyCallbackSynchronously);\n     * const boundAsyncFn = Rx.Observable.bindCallback(iCallMyCallbackSynchronously, null, Rx.Scheduler.async);\n     *\n     * boundSyncFn().subscribe(() => console.log('I was sync!'));\n     * boundAsyncFn().subscribe(() => console.log('I was async!'));\n     * console.log('This happened...');\n     *\n     * // Logs:\n     * // I was sync!\n     * // This happened...\n     * // I was async!\n     *\n     *\n     * @example <caption>Use bindCallback on an object method</caption>\n     * const boundMethod = Rx.Observable.bindCallback(someObject.methodWithCallback);\n     * boundMethod.call(someObject) // make sure methodWithCallback has access to someObject\n     * .subscribe(subscriber);\n     *\n     *\n     * @see {@link bindNodeCallback}\n     * @see {@link from}\n     * @see {@link fromPromise}\n     *\n     * @param {function} func A function with a callback as the last parameter.\n     * @param {function} [selector] A function which takes the arguments from the\n     * callback and maps them to a value that is emitted on the output Observable.\n     * @param {Scheduler} [scheduler] The scheduler on which to schedule the\n     * callbacks.\n     * @return {function(...params: *): Observable} A function which returns the\n     * Observable that delivers the same values the callback would deliver.\n     * @static true\n     * @name bindCallback\n     * @owner Observable\n     */\n    BoundCallbackObservable.create = function (func, selector, scheduler) {\n        if (selector === void 0) { selector = undefined; }\n        return function () {\n            var args = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                args[_i - 0] = arguments[_i];\n            }\n            return new BoundCallbackObservable(func, selector, args, this, scheduler);\n        };\n    };\n    /** @deprecated internal use only */ BoundCallbackObservable.prototype._subscribe = function (subscriber) {\n        var callbackFunc = this.callbackFunc;\n        var args = this.args;\n        var scheduler = this.scheduler;\n        var subject = this.subject;\n        if (!scheduler) {\n            if (!subject) {\n                subject = this.subject = new AsyncSubject_1.AsyncSubject();\n                var handler = function handlerFn() {\n                    var innerArgs = [];\n                    for (var _i = 0; _i < arguments.length; _i++) {\n                        innerArgs[_i - 0] = arguments[_i];\n                    }\n                    var source = handlerFn.source;\n                    var selector = source.selector, subject = source.subject;\n                    if (selector) {\n                        var result_1 = tryCatch_1.tryCatch(selector).apply(this, innerArgs);\n                        if (result_1 === errorObject_1.errorObject) {\n                            subject.error(errorObject_1.errorObject.e);\n                        }\n                        else {\n                            subject.next(result_1);\n                            subject.complete();\n                        }\n                    }\n                    else {\n                        subject.next(innerArgs.length <= 1 ? innerArgs[0] : innerArgs);\n                        subject.complete();\n                    }\n                };\n                // use named function instance to avoid closure.\n                handler.source = this;\n                var result = tryCatch_1.tryCatch(callbackFunc).apply(this.context, args.concat(handler));\n                if (result === errorObject_1.errorObject) {\n                    subject.error(errorObject_1.errorObject.e);\n                }\n            }\n            return subject.subscribe(subscriber);\n        }\n        else {\n            return scheduler.schedule(BoundCallbackObservable.dispatch, 0, { source: this, subscriber: subscriber, context: this.context });\n        }\n    };\n    BoundCallbackObservable.dispatch = function (state) {\n        var self = this;\n        var source = state.source, subscriber = state.subscriber, context = state.context;\n        var callbackFunc = source.callbackFunc, args = source.args, scheduler = source.scheduler;\n        var subject = source.subject;\n        if (!subject) {\n            subject = source.subject = new AsyncSubject_1.AsyncSubject();\n            var handler = function handlerFn() {\n                var innerArgs = [];\n                for (var _i = 0; _i < arguments.length; _i++) {\n                    innerArgs[_i - 0] = arguments[_i];\n                }\n                var source = handlerFn.source;\n                var selector = source.selector, subject = source.subject;\n                if (selector) {\n                    var result_2 = tryCatch_1.tryCatch(selector).apply(this, innerArgs);\n                    if (result_2 === errorObject_1.errorObject) {\n                        self.add(scheduler.schedule(dispatchError, 0, { err: errorObject_1.errorObject.e, subject: subject }));\n                    }\n                    else {\n                        self.add(scheduler.schedule(dispatchNext, 0, { value: result_2, subject: subject }));\n                    }\n                }\n                else {\n                    var value = innerArgs.length <= 1 ? innerArgs[0] : innerArgs;\n                    self.add(scheduler.schedule(dispatchNext, 0, { value: value, subject: subject }));\n                }\n            };\n            // use named function to pass values in without closure\n            handler.source = source;\n            var result = tryCatch_1.tryCatch(callbackFunc).apply(context, args.concat(handler));\n            if (result === errorObject_1.errorObject) {\n                subject.error(errorObject_1.errorObject.e);\n            }\n        }\n        self.add(subject.subscribe(subscriber));\n    };\n    return BoundCallbackObservable;\n}(Observable_1.Observable));\nexports.BoundCallbackObservable = BoundCallbackObservable;\nfunction dispatchNext(arg) {\n    var value = arg.value, subject = arg.subject;\n    subject.next(value);\n    subject.complete();\n}\nfunction dispatchError(arg) {\n    var err = arg.err, subject = arg.subject;\n    subject.error(err);\n}\n//# sourceMappingURL=BoundCallbackObservable.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar Observable_1 = require('../Observable');\nvar tryCatch_1 = require('../util/tryCatch');\nvar errorObject_1 = require('../util/errorObject');\nvar AsyncSubject_1 = require('../AsyncSubject');\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @extends {Ignored}\n * @hide true\n */\nvar BoundNodeCallbackObservable = (function (_super) {\n    __extends(BoundNodeCallbackObservable, _super);\n    function BoundNodeCallbackObservable(callbackFunc, selector, args, context, scheduler) {\n        _super.call(this);\n        this.callbackFunc = callbackFunc;\n        this.selector = selector;\n        this.args = args;\n        this.context = context;\n        this.scheduler = scheduler;\n    }\n    /* tslint:enable:max-line-length */\n    /**\n     * Converts a Node.js-style callback API to a function that returns an\n     * Observable.\n     *\n     * <span class=\"informal\">It's just like {@link bindCallback}, but the\n     * callback is expected to be of type `callback(error, result)`.</span>\n     *\n     * `bindNodeCallback` is not an operator because its input and output are not\n     * Observables. The input is a function `func` with some parameters, but the\n     * last parameter must be a callback function that `func` calls when it is\n     * done. The callback function is expected to follow Node.js conventions,\n     * where the first argument to the callback is an error object, signaling\n     * whether call was successful. If that object is passed to callback, it means\n     * something went wrong.\n     *\n     * The output of `bindNodeCallback` is a function that takes the same\n     * parameters as `func`, except the last one (the callback). When the output\n     * function is called with arguments, it will return an Observable.\n     * If `func` calls its callback with error parameter present, Observable will\n     * error with that value as well. If error parameter is not passed, Observable will emit\n     * second parameter. If there are more parameters (third and so on),\n     * Observable will emit an array with all arguments, except first error argument.\n     *\n     * Optionally `bindNodeCallback` accepts selector function, which allows you to\n     * make resulting Observable emit value computed by selector, instead of regular\n     * callback arguments. It works similarly to {@link bindCallback} selector, but\n     * Node.js-style error argument will never be passed to that function.\n     *\n     * Note that `func` will not be called at the same time output function is,\n     * but rather whenever resulting Observable is subscribed. By default call to\n     * `func` will happen synchronously after subscription, but that can be changed\n     * with proper {@link Scheduler} provided as optional third parameter. Scheduler\n     * can also control when values from callback will be emitted by Observable.\n     * To find out more, check out documentation for {@link bindCallback}, where\n     * Scheduler works exactly the same.\n     *\n     * As in {@link bindCallback}, context (`this` property) of input function will be set to context\n     * of returned function, when it is called.\n     *\n     * After Observable emits value, it will complete immediately. This means\n     * even if `func` calls callback again, values from second and consecutive\n     * calls will never appear on the stream. If you need to handle functions\n     * that call callbacks multiple times, check out {@link fromEvent} or\n     * {@link fromEventPattern} instead.\n     *\n     * Note that `bindNodeCallback` can be used in non-Node.js environments as well.\n     * \"Node.js-style\" callbacks are just a convention, so if you write for\n     * browsers or any other environment and API you use implements that callback style,\n     * `bindNodeCallback` can be safely used on that API functions as well.\n     *\n     * Remember that Error object passed to callback does not have to be an instance\n     * of JavaScript built-in `Error` object. In fact, it does not even have to an object.\n     * Error parameter of callback function is interpreted as \"present\", when value\n     * of that parameter is truthy. It could be, for example, non-zero number, non-empty\n     * string or boolean `true`. In all of these cases resulting Observable would error\n     * with that value. This means usually regular style callbacks will fail very often when\n     * `bindNodeCallback` is used. If your Observable errors much more often then you\n     * would expect, check if callback really is called in Node.js-style and, if not,\n     * switch to {@link bindCallback} instead.\n     *\n     * Note that even if error parameter is technically present in callback, but its value\n     * is falsy, it still won't appear in array emitted by Observable or in selector function.\n     *\n     *\n     * @example <caption>Read a file from the filesystem and get the data as an Observable</caption>\n     * import * as fs from 'fs';\n     * var readFileAsObservable = Rx.Observable.bindNodeCallback(fs.readFile);\n     * var result = readFileAsObservable('./roadNames.txt', 'utf8');\n     * result.subscribe(x => console.log(x), e => console.error(e));\n     *\n     *\n     * @example <caption>Use on function calling callback with multiple arguments</caption>\n     * someFunction((err, a, b) => {\n     *   console.log(err); // null\n     *   console.log(a); // 5\n     *   console.log(b); // \"some string\"\n     * });\n     * var boundSomeFunction = Rx.Observable.bindNodeCallback(someFunction);\n     * boundSomeFunction()\n     * .subscribe(value => {\n     *   console.log(value); // [5, \"some string\"]\n     * });\n     *\n     *\n     * @example <caption>Use with selector function</caption>\n     * someFunction((err, a, b) => {\n     *   console.log(err); // undefined\n     *   console.log(a); // \"abc\"\n     *   console.log(b); // \"DEF\"\n     * });\n     * var boundSomeFunction = Rx.Observable.bindNodeCallback(someFunction, (a, b) => a + b);\n     * boundSomeFunction()\n     * .subscribe(value => {\n     *   console.log(value); // \"abcDEF\"\n     * });\n     *\n     *\n     * @example <caption>Use on function calling callback in regular style</caption>\n     * someFunction(a => {\n     *   console.log(a); // 5\n     * });\n     * var boundSomeFunction = Rx.Observable.bindNodeCallback(someFunction);\n     * boundSomeFunction()\n     * .subscribe(\n     *   value => {}             // never gets called\n     *   err => console.log(err) // 5\n     *);\n     *\n     *\n     * @see {@link bindCallback}\n     * @see {@link from}\n     * @see {@link fromPromise}\n     *\n     * @param {function} func Function with a Node.js-style callback as the last parameter.\n     * @param {function} [selector] A function which takes the arguments from the\n     * callback and maps those to a value to emit on the output Observable.\n     * @param {Scheduler} [scheduler] The scheduler on which to schedule the\n     * callbacks.\n     * @return {function(...params: *): Observable} A function which returns the\n     * Observable that delivers the same values the Node.js callback would\n     * deliver.\n     * @static true\n     * @name bindNodeCallback\n     * @owner Observable\n     */\n    BoundNodeCallbackObservable.create = function (func, selector, scheduler) {\n        if (selector === void 0) { selector = undefined; }\n        return function () {\n            var args = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                args[_i - 0] = arguments[_i];\n            }\n            return new BoundNodeCallbackObservable(func, selector, args, this, scheduler);\n        };\n    };\n    /** @deprecated internal use only */ BoundNodeCallbackObservable.prototype._subscribe = function (subscriber) {\n        var callbackFunc = this.callbackFunc;\n        var args = this.args;\n        var scheduler = this.scheduler;\n        var subject = this.subject;\n        if (!scheduler) {\n            if (!subject) {\n                subject = this.subject = new AsyncSubject_1.AsyncSubject();\n                var handler = function handlerFn() {\n                    var innerArgs = [];\n                    for (var _i = 0; _i < arguments.length; _i++) {\n                        innerArgs[_i - 0] = arguments[_i];\n                    }\n                    var source = handlerFn.source;\n                    var selector = source.selector, subject = source.subject;\n                    var err = innerArgs.shift();\n                    if (err) {\n                        subject.error(err);\n                    }\n                    else if (selector) {\n                        var result_1 = tryCatch_1.tryCatch(selector).apply(this, innerArgs);\n                        if (result_1 === errorObject_1.errorObject) {\n                            subject.error(errorObject_1.errorObject.e);\n                        }\n                        else {\n                            subject.next(result_1);\n                            subject.complete();\n                        }\n                    }\n                    else {\n                        subject.next(innerArgs.length <= 1 ? innerArgs[0] : innerArgs);\n                        subject.complete();\n                    }\n                };\n                // use named function instance to avoid closure.\n                handler.source = this;\n                var result = tryCatch_1.tryCatch(callbackFunc).apply(this.context, args.concat(handler));\n                if (result === errorObject_1.errorObject) {\n                    subject.error(errorObject_1.errorObject.e);\n                }\n            }\n            return subject.subscribe(subscriber);\n        }\n        else {\n            return scheduler.schedule(dispatch, 0, { source: this, subscriber: subscriber, context: this.context });\n        }\n    };\n    return BoundNodeCallbackObservable;\n}(Observable_1.Observable));\nexports.BoundNodeCallbackObservable = BoundNodeCallbackObservable;\nfunction dispatch(state) {\n    var self = this;\n    var source = state.source, subscriber = state.subscriber, context = state.context;\n    // XXX: cast to `any` to access to the private field in `source`.\n    var _a = source, callbackFunc = _a.callbackFunc, args = _a.args, scheduler = _a.scheduler;\n    var subject = source.subject;\n    if (!subject) {\n        subject = source.subject = new AsyncSubject_1.AsyncSubject();\n        var handler = function handlerFn() {\n            var innerArgs = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                innerArgs[_i - 0] = arguments[_i];\n            }\n            var source = handlerFn.source;\n            var selector = source.selector, subject = source.subject;\n            var err = innerArgs.shift();\n            if (err) {\n                self.add(scheduler.schedule(dispatchError, 0, { err: err, subject: subject }));\n            }\n            else if (selector) {\n                var result_2 = tryCatch_1.tryCatch(selector).apply(this, innerArgs);\n                if (result_2 === errorObject_1.errorObject) {\n                    self.add(scheduler.schedule(dispatchError, 0, { err: errorObject_1.errorObject.e, subject: subject }));\n                }\n                else {\n                    self.add(scheduler.schedule(dispatchNext, 0, { value: result_2, subject: subject }));\n                }\n            }\n            else {\n                var value = innerArgs.length <= 1 ? innerArgs[0] : innerArgs;\n                self.add(scheduler.schedule(dispatchNext, 0, { value: value, subject: subject }));\n            }\n        };\n        // use named function to pass values in without closure\n        handler.source = source;\n        var result = tryCatch_1.tryCatch(callbackFunc).apply(context, args.concat(handler));\n        if (result === errorObject_1.errorObject) {\n            self.add(scheduler.schedule(dispatchError, 0, { err: errorObject_1.errorObject.e, subject: subject }));\n        }\n    }\n    self.add(subject.subscribe(subscriber));\n}\nfunction dispatchNext(arg) {\n    var value = arg.value, subject = arg.subject;\n    subject.next(value);\n    subject.complete();\n}\nfunction dispatchError(arg) {\n    var err = arg.err, subject = arg.subject;\n    subject.error(err);\n}\n//# sourceMappingURL=BoundNodeCallbackObservable.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar Subject_1 = require('../Subject');\nvar Observable_1 = require('../Observable');\nvar Subscriber_1 = require('../Subscriber');\nvar Subscription_1 = require('../Subscription');\nvar refCount_1 = require('../operators/refCount');\n/**\n * @class ConnectableObservable<T>\n */\nvar ConnectableObservable = (function (_super) {\n    __extends(ConnectableObservable, _super);\n    function ConnectableObservable(/** @deprecated internal use only */ source, \n        /** @deprecated internal use only */ subjectFactory) {\n        _super.call(this);\n        this.source = source;\n        this.subjectFactory = subjectFactory;\n        /** @deprecated internal use only */ this._refCount = 0;\n        this._isComplete = false;\n    }\n    /** @deprecated internal use only */ ConnectableObservable.prototype._subscribe = function (subscriber) {\n        return this.getSubject().subscribe(subscriber);\n    };\n    /** @deprecated internal use only */ ConnectableObservable.prototype.getSubject = function () {\n        var subject = this._subject;\n        if (!subject || subject.isStopped) {\n            this._subject = this.subjectFactory();\n        }\n        return this._subject;\n    };\n    ConnectableObservable.prototype.connect = function () {\n        var connection = this._connection;\n        if (!connection) {\n            this._isComplete = false;\n            connection = this._connection = new Subscription_1.Subscription();\n            connection.add(this.source\n                .subscribe(new ConnectableSubscriber(this.getSubject(), this)));\n            if (connection.closed) {\n                this._connection = null;\n                connection = Subscription_1.Subscription.EMPTY;\n            }\n            else {\n                this._connection = connection;\n            }\n        }\n        return connection;\n    };\n    ConnectableObservable.prototype.refCount = function () {\n        return refCount_1.refCount()(this);\n    };\n    return ConnectableObservable;\n}(Observable_1.Observable));\nexports.ConnectableObservable = ConnectableObservable;\nvar connectableProto = ConnectableObservable.prototype;\nexports.connectableObservableDescriptor = {\n    operator: { value: null },\n    _refCount: { value: 0, writable: true },\n    _subject: { value: null, writable: true },\n    _connection: { value: null, writable: true },\n    _subscribe: { value: connectableProto._subscribe },\n    _isComplete: { value: connectableProto._isComplete, writable: true },\n    getSubject: { value: connectableProto.getSubject },\n    connect: { value: connectableProto.connect },\n    refCount: { value: connectableProto.refCount }\n};\nvar ConnectableSubscriber = (function (_super) {\n    __extends(ConnectableSubscriber, _super);\n    function ConnectableSubscriber(destination, connectable) {\n        _super.call(this, destination);\n        this.connectable = connectable;\n    }\n    ConnectableSubscriber.prototype._error = function (err) {\n        this._unsubscribe();\n        _super.prototype._error.call(this, err);\n    };\n    ConnectableSubscriber.prototype._complete = function () {\n        this.connectable._isComplete = true;\n        this._unsubscribe();\n        _super.prototype._complete.call(this);\n    };\n    /** @deprecated internal use only */ ConnectableSubscriber.prototype._unsubscribe = function () {\n        var connectable = this.connectable;\n        if (connectable) {\n            this.connectable = null;\n            var connection = connectable._connection;\n            connectable._refCount = 0;\n            connectable._subject = null;\n            connectable._connection = null;\n            if (connection) {\n                connection.unsubscribe();\n            }\n        }\n    };\n    return ConnectableSubscriber;\n}(Subject_1.SubjectSubscriber));\nvar RefCountOperator = (function () {\n    function RefCountOperator(connectable) {\n        this.connectable = connectable;\n    }\n    RefCountOperator.prototype.call = function (subscriber, source) {\n        var connectable = this.connectable;\n        connectable._refCount++;\n        var refCounter = new RefCountSubscriber(subscriber, connectable);\n        var subscription = source.subscribe(refCounter);\n        if (!refCounter.closed) {\n            refCounter.connection = connectable.connect();\n        }\n        return subscription;\n    };\n    return RefCountOperator;\n}());\nvar RefCountSubscriber = (function (_super) {\n    __extends(RefCountSubscriber, _super);\n    function RefCountSubscriber(destination, connectable) {\n        _super.call(this, destination);\n        this.connectable = connectable;\n    }\n    /** @deprecated internal use only */ RefCountSubscriber.prototype._unsubscribe = function () {\n        var connectable = this.connectable;\n        if (!connectable) {\n            this.connection = null;\n            return;\n        }\n        this.connectable = null;\n        var refCount = connectable._refCount;\n        if (refCount <= 0) {\n            this.connection = null;\n            return;\n        }\n        connectable._refCount = refCount - 1;\n        if (refCount > 1) {\n            this.connection = null;\n            return;\n        }\n        ///\n        // Compare the local RefCountSubscriber's connection Subscription to the\n        // connection Subscription on the shared ConnectableObservable. In cases\n        // where the ConnectableObservable source synchronously emits values, and\n        // the RefCountSubscriber's downstream Observers synchronously unsubscribe,\n        // execution continues to here before the RefCountOperator has a chance to\n        // supply the RefCountSubscriber with the shared connection Subscription.\n        // For example:\n        // ```\n        // Observable.range(0, 10)\n        //   .publish()\n        //   .refCount()\n        //   .take(5)\n        //   .subscribe();\n        // ```\n        // In order to account for this case, RefCountSubscriber should only dispose\n        // the ConnectableObservable's shared connection Subscription if the\n        // connection Subscription exists, *and* either:\n        //   a. RefCountSubscriber doesn't have a reference to the shared connection\n        //      Subscription yet, or,\n        //   b. RefCountSubscriber's connection Subscription reference is identical\n        //      to the shared connection Subscription\n        ///\n        var connection = this.connection;\n        var sharedConnection = connectable._connection;\n        this.connection = null;\n        if (sharedConnection && (!connection || sharedConnection === connection)) {\n            sharedConnection.unsubscribe();\n        }\n    };\n    return RefCountSubscriber;\n}(Subscriber_1.Subscriber));\n//# sourceMappingURL=ConnectableObservable.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar Observable_1 = require('../Observable');\nvar subscribeToResult_1 = require('../util/subscribeToResult');\nvar OuterSubscriber_1 = require('../OuterSubscriber');\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @extends {Ignored}\n * @hide true\n */\nvar DeferObservable = (function (_super) {\n    __extends(DeferObservable, _super);\n    function DeferObservable(observableFactory) {\n        _super.call(this);\n        this.observableFactory = observableFactory;\n    }\n    /**\n     * Creates an Observable that, on subscribe, calls an Observable factory to\n     * make an Observable for each new Observer.\n     *\n     * <span class=\"informal\">Creates the Observable lazily, that is, only when it\n     * is subscribed.\n     * </span>\n     *\n     * <img src=\"./img/defer.png\" width=\"100%\">\n     *\n     * `defer` allows you to create the Observable only when the Observer\n     * subscribes, and create a fresh Observable for each Observer. It waits until\n     * an Observer subscribes to it, and then it generates an Observable,\n     * typically with an Observable factory function. It does this afresh for each\n     * subscriber, so although each subscriber may think it is subscribing to the\n     * same Observable, in fact each subscriber gets its own individual\n     * Observable.\n     *\n     * @example <caption>Subscribe to either an Observable of clicks or an Observable of interval, at random</caption>\n     * var clicksOrInterval = Rx.Observable.defer(function () {\n     *   if (Math.random() > 0.5) {\n     *     return Rx.Observable.fromEvent(document, 'click');\n     *   } else {\n     *     return Rx.Observable.interval(1000);\n     *   }\n     * });\n     * clicksOrInterval.subscribe(x => console.log(x));\n     *\n     * // Results in the following behavior:\n     * // If the result of Math.random() is greater than 0.5 it will listen\n     * // for clicks anywhere on the \"document\"; when document is clicked it\n     * // will log a MouseEvent object to the console. If the result is less\n     * // than 0.5 it will emit ascending numbers, one every second(1000ms).\n     *\n     * @see {@link create}\n     *\n     * @param {function(): SubscribableOrPromise} observableFactory The Observable\n     * factory function to invoke for each Observer that subscribes to the output\n     * Observable. May also return a Promise, which will be converted on the fly\n     * to an Observable.\n     * @return {Observable} An Observable whose Observers' subscriptions trigger\n     * an invocation of the given Observable factory function.\n     * @static true\n     * @name defer\n     * @owner Observable\n     */\n    DeferObservable.create = function (observableFactory) {\n        return new DeferObservable(observableFactory);\n    };\n    /** @deprecated internal use only */ DeferObservable.prototype._subscribe = function (subscriber) {\n        return new DeferSubscriber(subscriber, this.observableFactory);\n    };\n    return DeferObservable;\n}(Observable_1.Observable));\nexports.DeferObservable = DeferObservable;\nvar DeferSubscriber = (function (_super) {\n    __extends(DeferSubscriber, _super);\n    function DeferSubscriber(destination, factory) {\n        _super.call(this, destination);\n        this.factory = factory;\n        this.tryDefer();\n    }\n    DeferSubscriber.prototype.tryDefer = function () {\n        try {\n            this._callFactory();\n        }\n        catch (err) {\n            this._error(err);\n        }\n    };\n    DeferSubscriber.prototype._callFactory = function () {\n        var result = this.factory();\n        if (result) {\n            this.add(subscribeToResult_1.subscribeToResult(this, result));\n        }\n    };\n    return DeferSubscriber;\n}(OuterSubscriber_1.OuterSubscriber));\n//# sourceMappingURL=DeferObservable.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar Observable_1 = require('../Observable');\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @extends {Ignored}\n * @hide true\n */\nvar EmptyObservable = (function (_super) {\n    __extends(EmptyObservable, _super);\n    function EmptyObservable(scheduler) {\n        _super.call(this);\n        this.scheduler = scheduler;\n    }\n    /**\n     * Creates an Observable that emits no items to the Observer and immediately\n     * emits a complete notification.\n     *\n     * <span class=\"informal\">Just emits 'complete', and nothing else.\n     * </span>\n     *\n     * <img src=\"./img/empty.png\" width=\"100%\">\n     *\n     * This static operator is useful for creating a simple Observable that only\n     * emits the complete notification. It can be used for composing with other\n     * Observables, such as in a {@link mergeMap}.\n     *\n     * @example <caption>Emit the number 7, then complete.</caption>\n     * var result = Rx.Observable.empty().startWith(7);\n     * result.subscribe(x => console.log(x));\n     *\n     * @example <caption>Map and flatten only odd numbers to the sequence 'a', 'b', 'c'</caption>\n     * var interval = Rx.Observable.interval(1000);\n     * var result = interval.mergeMap(x =>\n     *   x % 2 === 1 ? Rx.Observable.of('a', 'b', 'c') : Rx.Observable.empty()\n     * );\n     * result.subscribe(x => console.log(x));\n     *\n     * // Results in the following to the console:\n     * // x is equal to the count on the interval eg(0,1,2,3,...)\n     * // x will occur every 1000ms\n     * // if x % 2 is equal to 1 print abc\n     * // if x % 2 is not equal to 1 nothing will be output\n     *\n     * @see {@link create}\n     * @see {@link never}\n     * @see {@link of}\n     * @see {@link throw}\n     *\n     * @param {Scheduler} [scheduler] A {@link IScheduler} to use for scheduling\n     * the emission of the complete notification.\n     * @return {Observable} An \"empty\" Observable: emits only the complete\n     * notification.\n     * @static true\n     * @name empty\n     * @owner Observable\n     */\n    EmptyObservable.create = function (scheduler) {\n        return new EmptyObservable(scheduler);\n    };\n    EmptyObservable.dispatch = function (arg) {\n        var subscriber = arg.subscriber;\n        subscriber.complete();\n    };\n    /** @deprecated internal use only */ EmptyObservable.prototype._subscribe = function (subscriber) {\n        var scheduler = this.scheduler;\n        if (scheduler) {\n            return scheduler.schedule(EmptyObservable.dispatch, 0, { subscriber: subscriber });\n        }\n        else {\n            subscriber.complete();\n        }\n    };\n    return EmptyObservable;\n}(Observable_1.Observable));\nexports.EmptyObservable = EmptyObservable;\n//# sourceMappingURL=EmptyObservable.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar Observable_1 = require('../Observable');\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @extends {Ignored}\n * @hide true\n */\nvar ErrorObservable = (function (_super) {\n    __extends(ErrorObservable, _super);\n    function ErrorObservable(error, scheduler) {\n        _super.call(this);\n        this.error = error;\n        this.scheduler = scheduler;\n    }\n    /**\n     * Creates an Observable that emits no items to the Observer and immediately\n     * emits an error notification.\n     *\n     * <span class=\"informal\">Just emits 'error', and nothing else.\n     * </span>\n     *\n     * <img src=\"./img/throw.png\" width=\"100%\">\n     *\n     * This static operator is useful for creating a simple Observable that only\n     * emits the error notification. It can be used for composing with other\n     * Observables, such as in a {@link mergeMap}.\n     *\n     * @example <caption>Emit the number 7, then emit an error.</caption>\n     * var result = Rx.Observable.throw(new Error('oops!')).startWith(7);\n     * result.subscribe(x => console.log(x), e => console.error(e));\n     *\n     * @example <caption>Map and flatten numbers to the sequence 'a', 'b', 'c', but throw an error for 13</caption>\n     * var interval = Rx.Observable.interval(1000);\n     * var result = interval.mergeMap(x =>\n     *   x === 13 ?\n     *     Rx.Observable.throw('Thirteens are bad') :\n     *     Rx.Observable.of('a', 'b', 'c')\n     * );\n     * result.subscribe(x => console.log(x), e => console.error(e));\n     *\n     * @see {@link create}\n     * @see {@link empty}\n     * @see {@link never}\n     * @see {@link of}\n     *\n     * @param {any} error The particular Error to pass to the error notification.\n     * @param {Scheduler} [scheduler] A {@link IScheduler} to use for scheduling\n     * the emission of the error notification.\n     * @return {Observable} An error Observable: emits only the error notification\n     * using the given error argument.\n     * @static true\n     * @name throw\n     * @owner Observable\n     */\n    ErrorObservable.create = function (error, scheduler) {\n        return new ErrorObservable(error, scheduler);\n    };\n    ErrorObservable.dispatch = function (arg) {\n        var error = arg.error, subscriber = arg.subscriber;\n        subscriber.error(error);\n    };\n    /** @deprecated internal use only */ ErrorObservable.prototype._subscribe = function (subscriber) {\n        var error = this.error;\n        var scheduler = this.scheduler;\n        subscriber.syncErrorThrowable = true;\n        if (scheduler) {\n            return scheduler.schedule(ErrorObservable.dispatch, 0, {\n                error: error, subscriber: subscriber\n            });\n        }\n        else {\n            subscriber.error(error);\n        }\n    };\n    return ErrorObservable;\n}(Observable_1.Observable));\nexports.ErrorObservable = ErrorObservable;\n//# sourceMappingURL=ErrorObservable.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar Observable_1 = require('../Observable');\nvar EmptyObservable_1 = require('./EmptyObservable');\nvar isArray_1 = require('../util/isArray');\nvar subscribeToResult_1 = require('../util/subscribeToResult');\nvar OuterSubscriber_1 = require('../OuterSubscriber');\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @extends {Ignored}\n * @hide true\n */\nvar ForkJoinObservable = (function (_super) {\n    __extends(ForkJoinObservable, _super);\n    function ForkJoinObservable(sources, resultSelector) {\n        _super.call(this);\n        this.sources = sources;\n        this.resultSelector = resultSelector;\n    }\n    /* tslint:enable:max-line-length */\n    /**\n     * Joins last values emitted by passed Observables.\n     *\n     * <span class=\"informal\">Wait for Observables to complete and then combine last values they emitted.</span>\n     *\n     * <img src=\"./img/forkJoin.png\" width=\"100%\">\n     *\n     * `forkJoin` is an operator that takes any number of Observables which can be passed either as an array\n     * or directly as arguments. If no input Observables are provided, resulting stream will complete\n     * immediately.\n     *\n     * `forkJoin` will wait for all passed Observables to complete and then it will emit an array with last\n     * values from corresponding Observables. So if you pass `n` Observables to the operator, resulting\n     * array will have `n` values, where first value is the last thing emitted by the first Observable,\n     * second value is the last thing emitted by the second Observable and so on. That means `forkJoin` will\n     * not emit more than once and it will complete after that. If you need to emit combined values not only\n     * at the end of lifecycle of passed Observables, but also throughout it, try out {@link combineLatest}\n     * or {@link zip} instead.\n     *\n     * In order for resulting array to have the same length as the number of input Observables, whenever any of\n     * that Observables completes without emitting any value, `forkJoin` will complete at that moment as well\n     * and it will not emit anything either, even if it already has some last values from other Observables.\n     * Conversely, if there is an Observable that never completes, `forkJoin` will never complete as well,\n     * unless at any point some other Observable completes without emitting value, which brings us back to\n     * the previous case. Overall, in order for `forkJoin` to emit a value, all Observables passed as arguments\n     * have to emit something at least once and complete.\n     *\n     * If any input Observable errors at some point, `forkJoin` will error as well and all other Observables\n     * will be immediately unsubscribed.\n     *\n     * Optionally `forkJoin` accepts project function, that will be called with values which normally\n     * would land in emitted array. Whatever is returned by project function, will appear in output\n     * Observable instead. This means that default project can be thought of as a function that takes\n     * all its arguments and puts them into an array. Note that project function will be called only\n     * when output Observable is supposed to emit a result.\n     *\n     * @example <caption>Use forkJoin with operator emitting immediately</caption>\n     * const observable = Rx.Observable.forkJoin(\n     *   Rx.Observable.of(1, 2, 3, 4),\n     *   Rx.Observable.of(5, 6, 7, 8)\n     * );\n     * observable.subscribe(\n     *   value => console.log(value),\n     *   err => {},\n     *   () => console.log('This is how it ends!')\n     * );\n     *\n     * // Logs:\n     * // [4, 8]\n     * // \"This is how it ends!\"\n     *\n     *\n     * @example <caption>Use forkJoin with operator emitting after some time</caption>\n     * const observable = Rx.Observable.forkJoin(\n     *   Rx.Observable.interval(1000).take(3), // emit 0, 1, 2 every second and complete\n     *   Rx.Observable.interval(500).take(4) // emit 0, 1, 2, 3 every half a second and complete\n     * );\n     * observable.subscribe(\n     *   value => console.log(value),\n     *   err => {},\n     *   () => console.log('This is how it ends!')\n     * );\n     *\n     * // Logs:\n     * // [2, 3] after 3 seconds\n     * // \"This is how it ends!\" immediately after\n     *\n     *\n     * @example <caption>Use forkJoin with project function</caption>\n     * const observable = Rx.Observable.forkJoin(\n     *   Rx.Observable.interval(1000).take(3), // emit 0, 1, 2 every second and complete\n     *   Rx.Observable.interval(500).take(4), // emit 0, 1, 2, 3 every half a second and complete\n     *   (n, m) => n + m\n     * );\n     * observable.subscribe(\n     *   value => console.log(value),\n     *   err => {},\n     *   () => console.log('This is how it ends!')\n     * );\n     *\n     * // Logs:\n     * // 5 after 3 seconds\n     * // \"This is how it ends!\" immediately after\n     *\n     * @see {@link combineLatest}\n     * @see {@link zip}\n     *\n     * @param {...SubscribableOrPromise} sources Any number of Observables provided either as an array or as an arguments\n     * passed directly to the operator.\n     * @param {function} [project] Function that takes values emitted by input Observables and returns value\n     * that will appear in resulting Observable instead of default array.\n     * @return {Observable} Observable emitting either an array of last values emitted by passed Observables\n     * or value from project function.\n     * @static true\n     * @name forkJoin\n     * @owner Observable\n     */\n    ForkJoinObservable.create = function () {\n        var sources = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            sources[_i - 0] = arguments[_i];\n        }\n        if (sources === null || arguments.length === 0) {\n            return new EmptyObservable_1.EmptyObservable();\n        }\n        var resultSelector = null;\n        if (typeof sources[sources.length - 1] === 'function') {\n            resultSelector = sources.pop();\n        }\n        // if the first and only other argument besides the resultSelector is an array\n        // assume it's been called with `forkJoin([obs1, obs2, obs3], resultSelector)`\n        if (sources.length === 1 && isArray_1.isArray(sources[0])) {\n            sources = sources[0];\n        }\n        if (sources.length === 0) {\n            return new EmptyObservable_1.EmptyObservable();\n        }\n        return new ForkJoinObservable(sources, resultSelector);\n    };\n    /** @deprecated internal use only */ ForkJoinObservable.prototype._subscribe = function (subscriber) {\n        return new ForkJoinSubscriber(subscriber, this.sources, this.resultSelector);\n    };\n    return ForkJoinObservable;\n}(Observable_1.Observable));\nexports.ForkJoinObservable = ForkJoinObservable;\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar ForkJoinSubscriber = (function (_super) {\n    __extends(ForkJoinSubscriber, _super);\n    function ForkJoinSubscriber(destination, sources, resultSelector) {\n        _super.call(this, destination);\n        this.sources = sources;\n        this.resultSelector = resultSelector;\n        this.completed = 0;\n        this.haveValues = 0;\n        var len = sources.length;\n        this.total = len;\n        this.values = new Array(len);\n        for (var i = 0; i < len; i++) {\n            var source = sources[i];\n            var innerSubscription = subscribeToResult_1.subscribeToResult(this, source, null, i);\n            if (innerSubscription) {\n                innerSubscription.outerIndex = i;\n                this.add(innerSubscription);\n            }\n        }\n    }\n    ForkJoinSubscriber.prototype.notifyNext = function (outerValue, innerValue, outerIndex, innerIndex, innerSub) {\n        this.values[outerIndex] = innerValue;\n        if (!innerSub._hasValue) {\n            innerSub._hasValue = true;\n            this.haveValues++;\n        }\n    };\n    ForkJoinSubscriber.prototype.notifyComplete = function (innerSub) {\n        var destination = this.destination;\n        var _a = this, haveValues = _a.haveValues, resultSelector = _a.resultSelector, values = _a.values;\n        var len = values.length;\n        if (!innerSub._hasValue) {\n            destination.complete();\n            return;\n        }\n        this.completed++;\n        if (this.completed !== len) {\n            return;\n        }\n        if (haveValues === len) {\n            var value = resultSelector ? resultSelector.apply(this, values) : values;\n            destination.next(value);\n        }\n        destination.complete();\n    };\n    return ForkJoinSubscriber;\n}(OuterSubscriber_1.OuterSubscriber));\n//# sourceMappingURL=ForkJoinObservable.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar Observable_1 = require('../Observable');\nvar tryCatch_1 = require('../util/tryCatch');\nvar isFunction_1 = require('../util/isFunction');\nvar errorObject_1 = require('../util/errorObject');\nvar Subscription_1 = require('../Subscription');\nvar toString = Object.prototype.toString;\nfunction isNodeStyleEventEmitter(sourceObj) {\n    return !!sourceObj && typeof sourceObj.addListener === 'function' && typeof sourceObj.removeListener === 'function';\n}\nfunction isJQueryStyleEventEmitter(sourceObj) {\n    return !!sourceObj && typeof sourceObj.on === 'function' && typeof sourceObj.off === 'function';\n}\nfunction isNodeList(sourceObj) {\n    return !!sourceObj && toString.call(sourceObj) === '[object NodeList]';\n}\nfunction isHTMLCollection(sourceObj) {\n    return !!sourceObj && toString.call(sourceObj) === '[object HTMLCollection]';\n}\nfunction isEventTarget(sourceObj) {\n    return !!sourceObj && typeof sourceObj.addEventListener === 'function' && typeof sourceObj.removeEventListener === 'function';\n}\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @extends {Ignored}\n * @hide true\n */\nvar FromEventObservable = (function (_super) {\n    __extends(FromEventObservable, _super);\n    function FromEventObservable(sourceObj, eventName, selector, options) {\n        _super.call(this);\n        this.sourceObj = sourceObj;\n        this.eventName = eventName;\n        this.selector = selector;\n        this.options = options;\n    }\n    /* tslint:enable:max-line-length */\n    /**\n     * Creates an Observable that emits events of a specific type coming from the\n     * given event target.\n     *\n     * <span class=\"informal\">Creates an Observable from DOM events, or Node.js\n     * EventEmitter events or others.</span>\n     *\n     * <img src=\"./img/fromEvent.png\" width=\"100%\">\n     *\n     * `fromEvent` accepts as a first argument event target, which is an object with methods\n     * for registering event handler functions. As a second argument it takes string that indicates\n     * type of event we want to listen for. `fromEvent` supports selected types of event targets,\n     * which are described in detail below. If your event target does not match any of the ones listed,\n     * you should use {@link fromEventPattern}, which can be used on arbitrary APIs.\n     * When it comes to APIs supported by `fromEvent`, their methods for adding and removing event\n     * handler functions have different names, but they all accept a string describing event type\n     * and function itself, which will be called whenever said event happens.\n     *\n     * Every time resulting Observable is subscribed, event handler function will be registered\n     * to event target on given event type. When that event fires, value\n     * passed as a first argument to registered function will be emitted by output Observable.\n     * When Observable is unsubscribed, function will be unregistered from event target.\n     *\n     * Note that if event target calls registered function with more than one argument, second\n     * and following arguments will not appear in resulting stream. In order to get access to them,\n     * you can pass to `fromEvent` optional project function, which will be called with all arguments\n     * passed to event handler. Output Observable will then emit value returned by project function,\n     * instead of the usual value.\n     *\n     * Remember that event targets listed below are checked via duck typing. It means that\n     * no matter what kind of object you have and no matter what environment you work in,\n     * you can safely use `fromEvent` on that object if it exposes described methods (provided\n     * of course they behave as was described above). So for example if Node.js library exposes\n     * event target which has the same method names as DOM EventTarget, `fromEvent` is still\n     * a good choice.\n     *\n     * If the API you use is more callback then event handler oriented (subscribed\n     * callback function fires only once and thus there is no need to manually\n     * unregister it), you should use {@link bindCallback} or {@link bindNodeCallback}\n     * instead.\n     *\n     * `fromEvent` supports following types of event targets:\n     *\n     * **DOM EventTarget**\n     *\n     * This is an object with `addEventListener` and `removeEventListener` methods.\n     *\n     * In the browser, `addEventListener` accepts - apart from event type string and event\n     * handler function arguments - optional third parameter, which is either an object or boolean,\n     * both used for additional configuration how and when passed function will be called. When\n     * `fromEvent` is used with event target of that type, you can provide this values\n     * as third parameter as well.\n     *\n     * **Node.js EventEmitter**\n     *\n     * An object with `addListener` and `removeListener` methods.\n     *\n     * **JQuery-style event target**\n     *\n     * An object with `on` and `off` methods\n     *\n     * **DOM NodeList**\n     *\n     * List of DOM Nodes, returned for example by `document.querySelectorAll` or `Node.childNodes`.\n     *\n     * Although this collection is not event target in itself, `fromEvent` will iterate over all Nodes\n     * it contains and install event handler function in every of them. When returned Observable\n     * is unsubscribed, function will be removed from all Nodes.\n     *\n     * **DOM HtmlCollection**\n     *\n     * Just as in case of NodeList it is a collection of DOM nodes. Here as well event handler function is\n     * installed and removed in each of elements.\n     *\n     *\n     * @example <caption>Emits clicks happening on the DOM document</caption>\n     * var clicks = Rx.Observable.fromEvent(document, 'click');\n     * clicks.subscribe(x => console.log(x));\n     *\n     * // Results in:\n     * // MouseEvent object logged to console every time a click\n     * // occurs on the document.\n     *\n     *\n     * @example <caption>Use addEventListener with capture option</caption>\n     * var clicksInDocument = Rx.Observable.fromEvent(document, 'click', true); // note optional configuration parameter\n     *                                                                          // which will be passed to addEventListener\n     * var clicksInDiv = Rx.Observable.fromEvent(someDivInDocument, 'click');\n     *\n     * clicksInDocument.subscribe(() => console.log('document'));\n     * clicksInDiv.subscribe(() => console.log('div'));\n     *\n     * // By default events bubble UP in DOM tree, so normally\n     * // when we would click on div in document\n     * // \"div\" would be logged first and then \"document\".\n     * // Since we specified optional `capture` option, document\n     * // will catch event when it goes DOWN DOM tree, so console\n     * // will log \"document\" and then \"div\".\n     *\n     * @see {@link bindCallback}\n     * @see {@link bindNodeCallback}\n     * @see {@link fromEventPattern}\n     *\n     * @param {EventTargetLike} target The DOM EventTarget, Node.js\n     * EventEmitter, JQuery-like event target, NodeList or HTMLCollection to attach the event handler to.\n     * @param {string} eventName The event name of interest, being emitted by the\n     * `target`.\n     * @param {EventListenerOptions} [options] Options to pass through to addEventListener\n     * @param {SelectorMethodSignature<T>} [selector] An optional function to\n     * post-process results. It takes the arguments from the event handler and\n     * should return a single value.\n     * @return {Observable<T>}\n     * @static true\n     * @name fromEvent\n     * @owner Observable\n     */\n    FromEventObservable.create = function (target, eventName, options, selector) {\n        if (isFunction_1.isFunction(options)) {\n            selector = options;\n            options = undefined;\n        }\n        return new FromEventObservable(target, eventName, selector, options);\n    };\n    FromEventObservable.setupSubscription = function (sourceObj, eventName, handler, subscriber, options) {\n        var unsubscribe;\n        if (isNodeList(sourceObj) || isHTMLCollection(sourceObj)) {\n            for (var i = 0, len = sourceObj.length; i < len; i++) {\n                FromEventObservable.setupSubscription(sourceObj[i], eventName, handler, subscriber, options);\n            }\n        }\n        else if (isEventTarget(sourceObj)) {\n            var source_1 = sourceObj;\n            sourceObj.addEventListener(eventName, handler, options);\n            unsubscribe = function () { return source_1.removeEventListener(eventName, handler, options); };\n        }\n        else if (isJQueryStyleEventEmitter(sourceObj)) {\n            var source_2 = sourceObj;\n            sourceObj.on(eventName, handler);\n            unsubscribe = function () { return source_2.off(eventName, handler); };\n        }\n        else if (isNodeStyleEventEmitter(sourceObj)) {\n            var source_3 = sourceObj;\n            sourceObj.addListener(eventName, handler);\n            unsubscribe = function () { return source_3.removeListener(eventName, handler); };\n        }\n        else {\n            throw new TypeError('Invalid event target');\n        }\n        subscriber.add(new Subscription_1.Subscription(unsubscribe));\n    };\n    /** @deprecated internal use only */ FromEventObservable.prototype._subscribe = function (subscriber) {\n        var sourceObj = this.sourceObj;\n        var eventName = this.eventName;\n        var options = this.options;\n        var selector = this.selector;\n        var handler = selector ? function () {\n            var args = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                args[_i - 0] = arguments[_i];\n            }\n            var result = tryCatch_1.tryCatch(selector).apply(void 0, args);\n            if (result === errorObject_1.errorObject) {\n                subscriber.error(errorObject_1.errorObject.e);\n            }\n            else {\n                subscriber.next(result);\n            }\n        } : function (e) { return subscriber.next(e); };\n        FromEventObservable.setupSubscription(sourceObj, eventName, handler, subscriber, options);\n    };\n    return FromEventObservable;\n}(Observable_1.Observable));\nexports.FromEventObservable = FromEventObservable;\n//# sourceMappingURL=FromEventObservable.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar isFunction_1 = require('../util/isFunction');\nvar Observable_1 = require('../Observable');\nvar Subscription_1 = require('../Subscription');\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @extends {Ignored}\n * @hide true\n */\nvar FromEventPatternObservable = (function (_super) {\n    __extends(FromEventPatternObservable, _super);\n    function FromEventPatternObservable(addHandler, removeHandler, selector) {\n        _super.call(this);\n        this.addHandler = addHandler;\n        this.removeHandler = removeHandler;\n        this.selector = selector;\n    }\n    /**\n     * Creates an Observable from an API based on addHandler/removeHandler\n     * functions.\n     *\n     * <span class=\"informal\">Converts any addHandler/removeHandler API to an\n     * Observable.</span>\n     *\n     * <img src=\"./img/fromEventPattern.png\" width=\"100%\">\n     *\n     * Creates an Observable by using the `addHandler` and `removeHandler`\n     * functions to add and remove the handlers, with an optional selector\n     * function to project the event arguments to a result. The `addHandler` is\n     * called when the output Observable is subscribed, and `removeHandler` is\n     * called when the Subscription is unsubscribed.\n     *\n     * @example <caption>Emits clicks happening on the DOM document</caption>\n     * function addClickHandler(handler) {\n     *   document.addEventListener('click', handler);\n     * }\n     *\n     * function removeClickHandler(handler) {\n     *   document.removeEventListener('click', handler);\n     * }\n     *\n     * var clicks = Rx.Observable.fromEventPattern(\n     *   addClickHandler,\n     *   removeClickHandler\n     * );\n     * clicks.subscribe(x => console.log(x));\n     *\n     * @see {@link from}\n     * @see {@link fromEvent}\n     *\n     * @param {function(handler: Function): any} addHandler A function that takes\n     * a `handler` function as argument and attaches it somehow to the actual\n     * source of events.\n     * @param {function(handler: Function, signal?: any): void} [removeHandler] An optional function that\n     * takes a `handler` function as argument and removes it in case it was\n     * previously attached using `addHandler`. if addHandler returns signal to teardown when remove,\n     * removeHandler function will forward it.\n     * @param {function(...args: any): T} [selector] An optional function to\n     * post-process results. It takes the arguments from the event handler and\n     * should return a single value.\n     * @return {Observable<T>}\n     * @static true\n     * @name fromEventPattern\n     * @owner Observable\n     */\n    FromEventPatternObservable.create = function (addHandler, removeHandler, selector) {\n        return new FromEventPatternObservable(addHandler, removeHandler, selector);\n    };\n    /** @deprecated internal use only */ FromEventPatternObservable.prototype._subscribe = function (subscriber) {\n        var _this = this;\n        var removeHandler = this.removeHandler;\n        var handler = !!this.selector ? function () {\n            var args = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                args[_i - 0] = arguments[_i];\n            }\n            _this._callSelector(subscriber, args);\n        } : function (e) { subscriber.next(e); };\n        var retValue = this._callAddHandler(handler, subscriber);\n        if (!isFunction_1.isFunction(removeHandler)) {\n            return;\n        }\n        subscriber.add(new Subscription_1.Subscription(function () {\n            //TODO: determine whether or not to forward to error handler\n            removeHandler(handler, retValue);\n        }));\n    };\n    FromEventPatternObservable.prototype._callSelector = function (subscriber, args) {\n        try {\n            var result = this.selector.apply(this, args);\n            subscriber.next(result);\n        }\n        catch (e) {\n            subscriber.error(e);\n        }\n    };\n    FromEventPatternObservable.prototype._callAddHandler = function (handler, errorSubscriber) {\n        try {\n            return this.addHandler(handler) || null;\n        }\n        catch (e) {\n            errorSubscriber.error(e);\n        }\n    };\n    return FromEventPatternObservable;\n}(Observable_1.Observable));\nexports.FromEventPatternObservable = FromEventPatternObservable;\n//# sourceMappingURL=FromEventPatternObservable.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar isArray_1 = require('../util/isArray');\nvar isArrayLike_1 = require('../util/isArrayLike');\nvar isPromise_1 = require('../util/isPromise');\nvar PromiseObservable_1 = require('./PromiseObservable');\nvar IteratorObservable_1 = require('./IteratorObservable');\nvar ArrayObservable_1 = require('./ArrayObservable');\nvar ArrayLikeObservable_1 = require('./ArrayLikeObservable');\nvar iterator_1 = require('../symbol/iterator');\nvar Observable_1 = require('../Observable');\nvar observeOn_1 = require('../operators/observeOn');\nvar observable_1 = require('../symbol/observable');\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @extends {Ignored}\n * @hide true\n */\nvar FromObservable = (function (_super) {\n    __extends(FromObservable, _super);\n    function FromObservable(ish, scheduler) {\n        _super.call(this, null);\n        this.ish = ish;\n        this.scheduler = scheduler;\n    }\n    /**\n     * Creates an Observable from an Array, an array-like object, a Promise, an\n     * iterable object, or an Observable-like object.\n     *\n     * <span class=\"informal\">Converts almost anything to an Observable.</span>\n     *\n     * <img src=\"./img/from.png\" width=\"100%\">\n     *\n     * Convert various other objects and data types into Observables. `from`\n     * converts a Promise or an array-like or an\n     * [iterable](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Iteration_protocols#iterable)\n     * object into an Observable that emits the items in that promise or array or\n     * iterable. A String, in this context, is treated as an array of characters.\n     * Observable-like objects (contains a function named with the ES2015 Symbol\n     * for Observable) can also be converted through this operator.\n     *\n     * @example <caption>Converts an array to an Observable</caption>\n     * var array = [10, 20, 30];\n     * var result = Rx.Observable.from(array);\n     * result.subscribe(x => console.log(x));\n     *\n     * // Results in the following:\n     * // 10 20 30\n     *\n     * @example <caption>Convert an infinite iterable (from a generator) to an Observable</caption>\n     * function* generateDoubles(seed) {\n     *   var i = seed;\n     *   while (true) {\n     *     yield i;\n     *     i = 2 * i; // double it\n     *   }\n     * }\n     *\n     * var iterator = generateDoubles(3);\n     * var result = Rx.Observable.from(iterator).take(10);\n     * result.subscribe(x => console.log(x));\n     *\n     * // Results in the following:\n     * // 3 6 12 24 48 96 192 384 768 1536\n     *\n     * @see {@link create}\n     * @see {@link fromEvent}\n     * @see {@link fromEventPattern}\n     * @see {@link fromPromise}\n     *\n     * @param {ObservableInput<T>} ish A subscribable object, a Promise, an\n     * Observable-like, an Array, an iterable or an array-like object to be\n     * converted.\n     * @param {Scheduler} [scheduler] The scheduler on which to schedule the\n     * emissions of values.\n     * @return {Observable<T>} The Observable whose values are originally from the\n     * input object that was converted.\n     * @static true\n     * @name from\n     * @owner Observable\n     */\n    FromObservable.create = function (ish, scheduler) {\n        if (ish != null) {\n            if (typeof ish[observable_1.observable] === 'function') {\n                if (ish instanceof Observable_1.Observable && !scheduler) {\n                    return ish;\n                }\n                return new FromObservable(ish, scheduler);\n            }\n            else if (isArray_1.isArray(ish)) {\n                return new ArrayObservable_1.ArrayObservable(ish, scheduler);\n            }\n            else if (isPromise_1.isPromise(ish)) {\n                return new PromiseObservable_1.PromiseObservable(ish, scheduler);\n            }\n            else if (typeof ish[iterator_1.iterator] === 'function' || typeof ish === 'string') {\n                return new IteratorObservable_1.IteratorObservable(ish, scheduler);\n            }\n            else if (isArrayLike_1.isArrayLike(ish)) {\n                return new ArrayLikeObservable_1.ArrayLikeObservable(ish, scheduler);\n            }\n        }\n        throw new TypeError((ish !== null && typeof ish || ish) + ' is not observable');\n    };\n    /** @deprecated internal use only */ FromObservable.prototype._subscribe = function (subscriber) {\n        var ish = this.ish;\n        var scheduler = this.scheduler;\n        if (scheduler == null) {\n            return ish[observable_1.observable]().subscribe(subscriber);\n        }\n        else {\n            return ish[observable_1.observable]().subscribe(new observeOn_1.ObserveOnSubscriber(subscriber, scheduler, 0));\n        }\n    };\n    return FromObservable;\n}(Observable_1.Observable));\nexports.FromObservable = FromObservable;\n//# sourceMappingURL=FromObservable.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar Observable_1 = require('../Observable');\nvar isScheduler_1 = require('../util/isScheduler');\nvar selfSelector = function (value) { return value; };\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @extends {Ignored}\n * @hide true\n */\nvar GenerateObservable = (function (_super) {\n    __extends(GenerateObservable, _super);\n    function GenerateObservable(initialState, condition, iterate, resultSelector, scheduler) {\n        _super.call(this);\n        this.initialState = initialState;\n        this.condition = condition;\n        this.iterate = iterate;\n        this.resultSelector = resultSelector;\n        this.scheduler = scheduler;\n    }\n    GenerateObservable.create = function (initialStateOrOptions, condition, iterate, resultSelectorOrObservable, scheduler) {\n        if (arguments.length == 1) {\n            return new GenerateObservable(initialStateOrOptions.initialState, initialStateOrOptions.condition, initialStateOrOptions.iterate, initialStateOrOptions.resultSelector || selfSelector, initialStateOrOptions.scheduler);\n        }\n        if (resultSelectorOrObservable === undefined || isScheduler_1.isScheduler(resultSelectorOrObservable)) {\n            return new GenerateObservable(initialStateOrOptions, condition, iterate, selfSelector, resultSelectorOrObservable);\n        }\n        return new GenerateObservable(initialStateOrOptions, condition, iterate, resultSelectorOrObservable, scheduler);\n    };\n    /** @deprecated internal use only */ GenerateObservable.prototype._subscribe = function (subscriber) {\n        var state = this.initialState;\n        if (this.scheduler) {\n            return this.scheduler.schedule(GenerateObservable.dispatch, 0, {\n                subscriber: subscriber,\n                iterate: this.iterate,\n                condition: this.condition,\n                resultSelector: this.resultSelector,\n                state: state });\n        }\n        var _a = this, condition = _a.condition, resultSelector = _a.resultSelector, iterate = _a.iterate;\n        do {\n            if (condition) {\n                var conditionResult = void 0;\n                try {\n                    conditionResult = condition(state);\n                }\n                catch (err) {\n                    subscriber.error(err);\n                    return;\n                }\n                if (!conditionResult) {\n                    subscriber.complete();\n                    break;\n                }\n            }\n            var value = void 0;\n            try {\n                value = resultSelector(state);\n            }\n            catch (err) {\n                subscriber.error(err);\n                return;\n            }\n            subscriber.next(value);\n            if (subscriber.closed) {\n                break;\n            }\n            try {\n                state = iterate(state);\n            }\n            catch (err) {\n                subscriber.error(err);\n                return;\n            }\n        } while (true);\n    };\n    GenerateObservable.dispatch = function (state) {\n        var subscriber = state.subscriber, condition = state.condition;\n        if (subscriber.closed) {\n            return;\n        }\n        if (state.needIterate) {\n            try {\n                state.state = state.iterate(state.state);\n            }\n            catch (err) {\n                subscriber.error(err);\n                return;\n            }\n        }\n        else {\n            state.needIterate = true;\n        }\n        if (condition) {\n            var conditionResult = void 0;\n            try {\n                conditionResult = condition(state.state);\n            }\n            catch (err) {\n                subscriber.error(err);\n                return;\n            }\n            if (!conditionResult) {\n                subscriber.complete();\n                return;\n            }\n            if (subscriber.closed) {\n                return;\n            }\n        }\n        var value;\n        try {\n            value = state.resultSelector(state.state);\n        }\n        catch (err) {\n            subscriber.error(err);\n            return;\n        }\n        if (subscriber.closed) {\n            return;\n        }\n        subscriber.next(value);\n        if (subscriber.closed) {\n            return;\n        }\n        return this.schedule(state);\n    };\n    return GenerateObservable;\n}(Observable_1.Observable));\nexports.GenerateObservable = GenerateObservable;\n//# sourceMappingURL=GenerateObservable.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar Observable_1 = require('../Observable');\nvar subscribeToResult_1 = require('../util/subscribeToResult');\nvar OuterSubscriber_1 = require('../OuterSubscriber');\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @extends {Ignored}\n * @hide true\n */\nvar IfObservable = (function (_super) {\n    __extends(IfObservable, _super);\n    function IfObservable(condition, thenSource, elseSource) {\n        _super.call(this);\n        this.condition = condition;\n        this.thenSource = thenSource;\n        this.elseSource = elseSource;\n    }\n    IfObservable.create = function (condition, thenSource, elseSource) {\n        return new IfObservable(condition, thenSource, elseSource);\n    };\n    /** @deprecated internal use only */ IfObservable.prototype._subscribe = function (subscriber) {\n        var _a = this, condition = _a.condition, thenSource = _a.thenSource, elseSource = _a.elseSource;\n        return new IfSubscriber(subscriber, condition, thenSource, elseSource);\n    };\n    return IfObservable;\n}(Observable_1.Observable));\nexports.IfObservable = IfObservable;\nvar IfSubscriber = (function (_super) {\n    __extends(IfSubscriber, _super);\n    function IfSubscriber(destination, condition, thenSource, elseSource) {\n        _super.call(this, destination);\n        this.condition = condition;\n        this.thenSource = thenSource;\n        this.elseSource = elseSource;\n        this.tryIf();\n    }\n    IfSubscriber.prototype.tryIf = function () {\n        var _a = this, condition = _a.condition, thenSource = _a.thenSource, elseSource = _a.elseSource;\n        var result;\n        try {\n            result = condition();\n            var source = result ? thenSource : elseSource;\n            if (source) {\n                this.add(subscribeToResult_1.subscribeToResult(this, source));\n            }\n            else {\n                this._complete();\n            }\n        }\n        catch (err) {\n            this._error(err);\n        }\n    };\n    return IfSubscriber;\n}(OuterSubscriber_1.OuterSubscriber));\n//# sourceMappingURL=IfObservable.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar isNumeric_1 = require('../util/isNumeric');\nvar Observable_1 = require('../Observable');\nvar async_1 = require('../scheduler/async');\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @extends {Ignored}\n * @hide true\n */\nvar IntervalObservable = (function (_super) {\n    __extends(IntervalObservable, _super);\n    function IntervalObservable(period, scheduler) {\n        if (period === void 0) { period = 0; }\n        if (scheduler === void 0) { scheduler = async_1.async; }\n        _super.call(this);\n        this.period = period;\n        this.scheduler = scheduler;\n        if (!isNumeric_1.isNumeric(period) || period < 0) {\n            this.period = 0;\n        }\n        if (!scheduler || typeof scheduler.schedule !== 'function') {\n            this.scheduler = async_1.async;\n        }\n    }\n    /**\n     * Creates an Observable that emits sequential numbers every specified\n     * interval of time, on a specified IScheduler.\n     *\n     * <span class=\"informal\">Emits incremental numbers periodically in time.\n     * </span>\n     *\n     * <img src=\"./img/interval.png\" width=\"100%\">\n     *\n     * `interval` returns an Observable that emits an infinite sequence of\n     * ascending integers, with a constant interval of time of your choosing\n     * between those emissions. The first emission is not sent immediately, but\n     * only after the first period has passed. By default, this operator uses the\n     * `async` IScheduler to provide a notion of time, but you may pass any\n     * IScheduler to it.\n     *\n     * @example <caption>Emits ascending numbers, one every second (1000ms)</caption>\n     * var numbers = Rx.Observable.interval(1000);\n     * numbers.subscribe(x => console.log(x));\n     *\n     * @see {@link timer}\n     * @see {@link delay}\n     *\n     * @param {number} [period=0] The interval size in milliseconds (by default)\n     * or the time unit determined by the scheduler's clock.\n     * @param {Scheduler} [scheduler=async] The IScheduler to use for scheduling\n     * the emission of values, and providing a notion of \"time\".\n     * @return {Observable} An Observable that emits a sequential number each time\n     * interval.\n     * @static true\n     * @name interval\n     * @owner Observable\n     */\n    IntervalObservable.create = function (period, scheduler) {\n        if (period === void 0) { period = 0; }\n        if (scheduler === void 0) { scheduler = async_1.async; }\n        return new IntervalObservable(period, scheduler);\n    };\n    IntervalObservable.dispatch = function (state) {\n        var index = state.index, subscriber = state.subscriber, period = state.period;\n        subscriber.next(index);\n        if (subscriber.closed) {\n            return;\n        }\n        state.index += 1;\n        this.schedule(state, period);\n    };\n    /** @deprecated internal use only */ IntervalObservable.prototype._subscribe = function (subscriber) {\n        var index = 0;\n        var period = this.period;\n        var scheduler = this.scheduler;\n        subscriber.add(scheduler.schedule(IntervalObservable.dispatch, period, {\n            index: index, subscriber: subscriber, period: period\n        }));\n    };\n    return IntervalObservable;\n}(Observable_1.Observable));\nexports.IntervalObservable = IntervalObservable;\n//# sourceMappingURL=IntervalObservable.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar root_1 = require('../util/root');\nvar Observable_1 = require('../Observable');\nvar iterator_1 = require('../symbol/iterator');\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @extends {Ignored}\n * @hide true\n */\nvar IteratorObservable = (function (_super) {\n    __extends(IteratorObservable, _super);\n    function IteratorObservable(iterator, scheduler) {\n        _super.call(this);\n        this.scheduler = scheduler;\n        if (iterator == null) {\n            throw new Error('iterator cannot be null.');\n        }\n        this.iterator = getIterator(iterator);\n    }\n    IteratorObservable.create = function (iterator, scheduler) {\n        return new IteratorObservable(iterator, scheduler);\n    };\n    IteratorObservable.dispatch = function (state) {\n        var index = state.index, hasError = state.hasError, iterator = state.iterator, subscriber = state.subscriber;\n        if (hasError) {\n            subscriber.error(state.error);\n            return;\n        }\n        var result = iterator.next();\n        if (result.done) {\n            subscriber.complete();\n            return;\n        }\n        subscriber.next(result.value);\n        state.index = index + 1;\n        if (subscriber.closed) {\n            if (typeof iterator.return === 'function') {\n                iterator.return();\n            }\n            return;\n        }\n        this.schedule(state);\n    };\n    /** @deprecated internal use only */ IteratorObservable.prototype._subscribe = function (subscriber) {\n        var index = 0;\n        var _a = this, iterator = _a.iterator, scheduler = _a.scheduler;\n        if (scheduler) {\n            return scheduler.schedule(IteratorObservable.dispatch, 0, {\n                index: index, iterator: iterator, subscriber: subscriber\n            });\n        }\n        else {\n            do {\n                var result = iterator.next();\n                if (result.done) {\n                    subscriber.complete();\n                    break;\n                }\n                else {\n                    subscriber.next(result.value);\n                }\n                if (subscriber.closed) {\n                    if (typeof iterator.return === 'function') {\n                        iterator.return();\n                    }\n                    break;\n                }\n            } while (true);\n        }\n    };\n    return IteratorObservable;\n}(Observable_1.Observable));\nexports.IteratorObservable = IteratorObservable;\nvar StringIterator = (function () {\n    function StringIterator(str, idx, len) {\n        if (idx === void 0) { idx = 0; }\n        if (len === void 0) { len = str.length; }\n        this.str = str;\n        this.idx = idx;\n        this.len = len;\n    }\n    StringIterator.prototype[iterator_1.iterator] = function () { return (this); };\n    StringIterator.prototype.next = function () {\n        return this.idx < this.len ? {\n            done: false,\n            value: this.str.charAt(this.idx++)\n        } : {\n            done: true,\n            value: undefined\n        };\n    };\n    return StringIterator;\n}());\nvar ArrayIterator = (function () {\n    function ArrayIterator(arr, idx, len) {\n        if (idx === void 0) { idx = 0; }\n        if (len === void 0) { len = toLength(arr); }\n        this.arr = arr;\n        this.idx = idx;\n        this.len = len;\n    }\n    ArrayIterator.prototype[iterator_1.iterator] = function () { return this; };\n    ArrayIterator.prototype.next = function () {\n        return this.idx < this.len ? {\n            done: false,\n            value: this.arr[this.idx++]\n        } : {\n            done: true,\n            value: undefined\n        };\n    };\n    return ArrayIterator;\n}());\nfunction getIterator(obj) {\n    var i = obj[iterator_1.iterator];\n    if (!i && typeof obj === 'string') {\n        return new StringIterator(obj);\n    }\n    if (!i && obj.length !== undefined) {\n        return new ArrayIterator(obj);\n    }\n    if (!i) {\n        throw new TypeError('object is not iterable');\n    }\n    return obj[iterator_1.iterator]();\n}\nvar maxSafeInteger = Math.pow(2, 53) - 1;\nfunction toLength(o) {\n    var len = +o.length;\n    if (isNaN(len)) {\n        return 0;\n    }\n    if (len === 0 || !numberIsFinite(len)) {\n        return len;\n    }\n    len = sign(len) * Math.floor(Math.abs(len));\n    if (len <= 0) {\n        return 0;\n    }\n    if (len > maxSafeInteger) {\n        return maxSafeInteger;\n    }\n    return len;\n}\nfunction numberIsFinite(value) {\n    return typeof value === 'number' && root_1.root.isFinite(value);\n}\nfunction sign(value) {\n    var valueAsNumber = +value;\n    if (valueAsNumber === 0) {\n        return valueAsNumber;\n    }\n    if (isNaN(valueAsNumber)) {\n        return valueAsNumber;\n    }\n    return valueAsNumber < 0 ? -1 : 1;\n}\n//# sourceMappingURL=IteratorObservable.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar Observable_1 = require('../Observable');\nvar noop_1 = require('../util/noop');\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @extends {Ignored}\n * @hide true\n */\nvar NeverObservable = (function (_super) {\n    __extends(NeverObservable, _super);\n    function NeverObservable() {\n        _super.call(this);\n    }\n    /**\n     * Creates an Observable that emits no items to the Observer.\n     *\n     * <span class=\"informal\">An Observable that never emits anything.</span>\n     *\n     * <img src=\"./img/never.png\" width=\"100%\">\n     *\n     * This static operator is useful for creating a simple Observable that emits\n     * neither values nor errors nor the completion notification. It can be used\n     * for testing purposes or for composing with other Observables. Please note\n     * that by never emitting a complete notification, this Observable keeps the\n     * subscription from being disposed automatically. Subscriptions need to be\n     * manually disposed.\n     *\n     * @example <caption>Emit the number 7, then never emit anything else (not even complete).</caption>\n     * function info() {\n     *   console.log('Will not be called');\n     * }\n     * var result = Rx.Observable.never().startWith(7);\n     * result.subscribe(x => console.log(x), info, info);\n     *\n     * @see {@link create}\n     * @see {@link empty}\n     * @see {@link of}\n     * @see {@link throw}\n     *\n     * @return {Observable} A \"never\" Observable: never emits anything.\n     * @static true\n     * @name never\n     * @owner Observable\n     */\n    NeverObservable.create = function () {\n        return new NeverObservable();\n    };\n    /** @deprecated internal use only */ NeverObservable.prototype._subscribe = function (subscriber) {\n        noop_1.noop();\n    };\n    return NeverObservable;\n}(Observable_1.Observable));\nexports.NeverObservable = NeverObservable;\n//# sourceMappingURL=NeverObservable.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar Observable_1 = require('../Observable');\nfunction dispatch(state) {\n    var obj = state.obj, keys = state.keys, length = state.length, index = state.index, subscriber = state.subscriber;\n    if (index === length) {\n        subscriber.complete();\n        return;\n    }\n    var key = keys[index];\n    subscriber.next([key, obj[key]]);\n    state.index = index + 1;\n    this.schedule(state);\n}\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @extends {Ignored}\n * @hide true\n */\nvar PairsObservable = (function (_super) {\n    __extends(PairsObservable, _super);\n    function PairsObservable(obj, scheduler) {\n        _super.call(this);\n        this.obj = obj;\n        this.scheduler = scheduler;\n        this.keys = Object.keys(obj);\n    }\n    /**\n     * Convert an object into an observable sequence of [key, value] pairs\n     * using an optional IScheduler to enumerate the object.\n     *\n     * @example <caption>Converts a javascript object to an Observable</caption>\n     * var obj = {\n     *   foo: 42,\n     *   bar: 56,\n     *   baz: 78\n     * };\n     *\n     * var source = Rx.Observable.pairs(obj);\n     *\n     * var subscription = source.subscribe(\n     *   function (x) {\n     *     console.log('Next: %s', x);\n     *   },\n     *   function (err) {\n     *     console.log('Error: %s', err);\n     *   },\n     *   function () {\n     *     console.log('Completed');\n     *   });\n     *\n     * @param {Object} obj The object to inspect and turn into an\n     * Observable sequence.\n     * @param {Scheduler} [scheduler] An optional IScheduler to run the\n     * enumeration of the input sequence on.\n     * @returns {(Observable<Array<string | T>>)} An observable sequence of\n     * [key, value] pairs from the object.\n     */\n    PairsObservable.create = function (obj, scheduler) {\n        return new PairsObservable(obj, scheduler);\n    };\n    /** @deprecated internal use only */ PairsObservable.prototype._subscribe = function (subscriber) {\n        var _a = this, keys = _a.keys, scheduler = _a.scheduler;\n        var length = keys.length;\n        if (scheduler) {\n            return scheduler.schedule(dispatch, 0, {\n                obj: this.obj, keys: keys, length: length, index: 0, subscriber: subscriber\n            });\n        }\n        else {\n            for (var idx = 0; idx < length; idx++) {\n                var key = keys[idx];\n                subscriber.next([key, this.obj[key]]);\n            }\n            subscriber.complete();\n        }\n    };\n    return PairsObservable;\n}(Observable_1.Observable));\nexports.PairsObservable = PairsObservable;\n//# sourceMappingURL=PairsObservable.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar root_1 = require('../util/root');\nvar Observable_1 = require('../Observable');\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @extends {Ignored}\n * @hide true\n */\nvar PromiseObservable = (function (_super) {\n    __extends(PromiseObservable, _super);\n    function PromiseObservable(promise, scheduler) {\n        _super.call(this);\n        this.promise = promise;\n        this.scheduler = scheduler;\n    }\n    /**\n     * Converts a Promise to an Observable.\n     *\n     * <span class=\"informal\">Returns an Observable that just emits the Promise's\n     * resolved value, then completes.</span>\n     *\n     * Converts an ES2015 Promise or a Promises/A+ spec compliant Promise to an\n     * Observable. If the Promise resolves with a value, the output Observable\n     * emits that resolved value as a `next`, and then completes. If the Promise\n     * is rejected, then the output Observable emits the corresponding Error.\n     *\n     * @example <caption>Convert the Promise returned by Fetch to an Observable</caption>\n     * var result = Rx.Observable.fromPromise(fetch('http://myserver.com/'));\n     * result.subscribe(x => console.log(x), e => console.error(e));\n     *\n     * @see {@link bindCallback}\n     * @see {@link from}\n     *\n     * @param {PromiseLike<T>} promise The promise to be converted.\n     * @param {Scheduler} [scheduler] An optional IScheduler to use for scheduling\n     * the delivery of the resolved value (or the rejection).\n     * @return {Observable<T>} An Observable which wraps the Promise.\n     * @static true\n     * @name fromPromise\n     * @owner Observable\n     */\n    PromiseObservable.create = function (promise, scheduler) {\n        return new PromiseObservable(promise, scheduler);\n    };\n    /** @deprecated internal use only */ PromiseObservable.prototype._subscribe = function (subscriber) {\n        var _this = this;\n        var promise = this.promise;\n        var scheduler = this.scheduler;\n        if (scheduler == null) {\n            if (this._isScalar) {\n                if (!subscriber.closed) {\n                    subscriber.next(this.value);\n                    subscriber.complete();\n                }\n            }\n            else {\n                promise.then(function (value) {\n                    _this.value = value;\n                    _this._isScalar = true;\n                    if (!subscriber.closed) {\n                        subscriber.next(value);\n                        subscriber.complete();\n                    }\n                }, function (err) {\n                    if (!subscriber.closed) {\n                        subscriber.error(err);\n                    }\n                })\n                    .then(null, function (err) {\n                    // escape the promise trap, throw unhandled errors\n                    root_1.root.setTimeout(function () { throw err; });\n                });\n            }\n        }\n        else {\n            if (this._isScalar) {\n                if (!subscriber.closed) {\n                    return scheduler.schedule(dispatchNext, 0, { value: this.value, subscriber: subscriber });\n                }\n            }\n            else {\n                promise.then(function (value) {\n                    _this.value = value;\n                    _this._isScalar = true;\n                    if (!subscriber.closed) {\n                        subscriber.add(scheduler.schedule(dispatchNext, 0, { value: value, subscriber: subscriber }));\n                    }\n                }, function (err) {\n                    if (!subscriber.closed) {\n                        subscriber.add(scheduler.schedule(dispatchError, 0, { err: err, subscriber: subscriber }));\n                    }\n                })\n                    .then(null, function (err) {\n                    // escape the promise trap, throw unhandled errors\n                    root_1.root.setTimeout(function () { throw err; });\n                });\n            }\n        }\n    };\n    return PromiseObservable;\n}(Observable_1.Observable));\nexports.PromiseObservable = PromiseObservable;\nfunction dispatchNext(arg) {\n    var value = arg.value, subscriber = arg.subscriber;\n    if (!subscriber.closed) {\n        subscriber.next(value);\n        subscriber.complete();\n    }\n}\nfunction dispatchError(arg) {\n    var err = arg.err, subscriber = arg.subscriber;\n    if (!subscriber.closed) {\n        subscriber.error(err);\n    }\n}\n//# sourceMappingURL=PromiseObservable.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar Observable_1 = require('../Observable');\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @extends {Ignored}\n * @hide true\n */\nvar RangeObservable = (function (_super) {\n    __extends(RangeObservable, _super);\n    function RangeObservable(start, count, scheduler) {\n        _super.call(this);\n        this.start = start;\n        this._count = count;\n        this.scheduler = scheduler;\n    }\n    /**\n     * Creates an Observable that emits a sequence of numbers within a specified\n     * range.\n     *\n     * <span class=\"informal\">Emits a sequence of numbers in a range.</span>\n     *\n     * <img src=\"./img/range.png\" width=\"100%\">\n     *\n     * `range` operator emits a range of sequential integers, in order, where you\n     * select the `start` of the range and its `length`. By default, uses no\n     * IScheduler and just delivers the notifications synchronously, but may use\n     * an optional IScheduler to regulate those deliveries.\n     *\n     * @example <caption>Emits the numbers 1 to 10</caption>\n     * var numbers = Rx.Observable.range(1, 10);\n     * numbers.subscribe(x => console.log(x));\n     *\n     * @see {@link timer}\n     * @see {@link interval}\n     *\n     * @param {number} [start=0] The value of the first integer in the sequence.\n     * @param {number} [count=0] The number of sequential integers to generate.\n     * @param {Scheduler} [scheduler] A {@link IScheduler} to use for scheduling\n     * the emissions of the notifications.\n     * @return {Observable} An Observable of numbers that emits a finite range of\n     * sequential integers.\n     * @static true\n     * @name range\n     * @owner Observable\n     */\n    RangeObservable.create = function (start, count, scheduler) {\n        if (start === void 0) { start = 0; }\n        if (count === void 0) { count = 0; }\n        return new RangeObservable(start, count, scheduler);\n    };\n    RangeObservable.dispatch = function (state) {\n        var start = state.start, index = state.index, count = state.count, subscriber = state.subscriber;\n        if (index >= count) {\n            subscriber.complete();\n            return;\n        }\n        subscriber.next(start);\n        if (subscriber.closed) {\n            return;\n        }\n        state.index = index + 1;\n        state.start = start + 1;\n        this.schedule(state);\n    };\n    /** @deprecated internal use only */ RangeObservable.prototype._subscribe = function (subscriber) {\n        var index = 0;\n        var start = this.start;\n        var count = this._count;\n        var scheduler = this.scheduler;\n        if (scheduler) {\n            return scheduler.schedule(RangeObservable.dispatch, 0, {\n                index: index, count: count, start: start, subscriber: subscriber\n            });\n        }\n        else {\n            do {\n                if (index++ >= count) {\n                    subscriber.complete();\n                    break;\n                }\n                subscriber.next(start++);\n                if (subscriber.closed) {\n                    break;\n                }\n            } while (true);\n        }\n    };\n    return RangeObservable;\n}(Observable_1.Observable));\nexports.RangeObservable = RangeObservable;\n//# sourceMappingURL=RangeObservable.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar Observable_1 = require('../Observable');\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @extends {Ignored}\n * @hide true\n */\nvar ScalarObservable = (function (_super) {\n    __extends(ScalarObservable, _super);\n    function ScalarObservable(value, scheduler) {\n        _super.call(this);\n        this.value = value;\n        this.scheduler = scheduler;\n        this._isScalar = true;\n        if (scheduler) {\n            this._isScalar = false;\n        }\n    }\n    ScalarObservable.create = function (value, scheduler) {\n        return new ScalarObservable(value, scheduler);\n    };\n    ScalarObservable.dispatch = function (state) {\n        var done = state.done, value = state.value, subscriber = state.subscriber;\n        if (done) {\n            subscriber.complete();\n            return;\n        }\n        subscriber.next(value);\n        if (subscriber.closed) {\n            return;\n        }\n        state.done = true;\n        this.schedule(state);\n    };\n    /** @deprecated internal use only */ ScalarObservable.prototype._subscribe = function (subscriber) {\n        var value = this.value;\n        var scheduler = this.scheduler;\n        if (scheduler) {\n            return scheduler.schedule(ScalarObservable.dispatch, 0, {\n                done: false, value: value, subscriber: subscriber\n            });\n        }\n        else {\n            subscriber.next(value);\n            if (!subscriber.closed) {\n                subscriber.complete();\n            }\n        }\n    };\n    return ScalarObservable;\n}(Observable_1.Observable));\nexports.ScalarObservable = ScalarObservable;\n//# sourceMappingURL=ScalarObservable.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar Observable_1 = require('../Observable');\nvar asap_1 = require('../scheduler/asap');\nvar isNumeric_1 = require('../util/isNumeric');\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @extends {Ignored}\n * @hide true\n */\nvar SubscribeOnObservable = (function (_super) {\n    __extends(SubscribeOnObservable, _super);\n    function SubscribeOnObservable(source, delayTime, scheduler) {\n        if (delayTime === void 0) { delayTime = 0; }\n        if (scheduler === void 0) { scheduler = asap_1.asap; }\n        _super.call(this);\n        this.source = source;\n        this.delayTime = delayTime;\n        this.scheduler = scheduler;\n        if (!isNumeric_1.isNumeric(delayTime) || delayTime < 0) {\n            this.delayTime = 0;\n        }\n        if (!scheduler || typeof scheduler.schedule !== 'function') {\n            this.scheduler = asap_1.asap;\n        }\n    }\n    SubscribeOnObservable.create = function (source, delay, scheduler) {\n        if (delay === void 0) { delay = 0; }\n        if (scheduler === void 0) { scheduler = asap_1.asap; }\n        return new SubscribeOnObservable(source, delay, scheduler);\n    };\n    SubscribeOnObservable.dispatch = function (arg) {\n        var source = arg.source, subscriber = arg.subscriber;\n        return this.add(source.subscribe(subscriber));\n    };\n    /** @deprecated internal use only */ SubscribeOnObservable.prototype._subscribe = function (subscriber) {\n        var delay = this.delayTime;\n        var source = this.source;\n        var scheduler = this.scheduler;\n        return scheduler.schedule(SubscribeOnObservable.dispatch, delay, {\n            source: source, subscriber: subscriber\n        });\n    };\n    return SubscribeOnObservable;\n}(Observable_1.Observable));\nexports.SubscribeOnObservable = SubscribeOnObservable;\n//# sourceMappingURL=SubscribeOnObservable.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar isNumeric_1 = require('../util/isNumeric');\nvar Observable_1 = require('../Observable');\nvar async_1 = require('../scheduler/async');\nvar isScheduler_1 = require('../util/isScheduler');\nvar isDate_1 = require('../util/isDate');\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @extends {Ignored}\n * @hide true\n */\nvar TimerObservable = (function (_super) {\n    __extends(TimerObservable, _super);\n    function TimerObservable(dueTime, period, scheduler) {\n        if (dueTime === void 0) { dueTime = 0; }\n        _super.call(this);\n        this.period = -1;\n        this.dueTime = 0;\n        if (isNumeric_1.isNumeric(period)) {\n            this.period = Number(period) < 1 && 1 || Number(period);\n        }\n        else if (isScheduler_1.isScheduler(period)) {\n            scheduler = period;\n        }\n        if (!isScheduler_1.isScheduler(scheduler)) {\n            scheduler = async_1.async;\n        }\n        this.scheduler = scheduler;\n        this.dueTime = isDate_1.isDate(dueTime) ?\n            (+dueTime - this.scheduler.now()) :\n            dueTime;\n    }\n    /**\n     * Creates an Observable that starts emitting after an `initialDelay` and\n     * emits ever increasing numbers after each `period` of time thereafter.\n     *\n     * <span class=\"informal\">Its like {@link interval}, but you can specify when\n     * should the emissions start.</span>\n     *\n     * <img src=\"./img/timer.png\" width=\"100%\">\n     *\n     * `timer` returns an Observable that emits an infinite sequence of ascending\n     * integers, with a constant interval of time, `period` of your choosing\n     * between those emissions. The first emission happens after the specified\n     * `initialDelay`. The initial delay may be a {@link Date}. By default, this\n     * operator uses the `async` IScheduler to provide a notion of time, but you\n     * may pass any IScheduler to it. If `period` is not specified, the output\n     * Observable emits only one value, `0`. Otherwise, it emits an infinite\n     * sequence.\n     *\n     * @example <caption>Emits ascending numbers, one every second (1000ms), starting after 3 seconds</caption>\n     * var numbers = Rx.Observable.timer(3000, 1000);\n     * numbers.subscribe(x => console.log(x));\n     *\n     * @example <caption>Emits one number after five seconds</caption>\n     * var numbers = Rx.Observable.timer(5000);\n     * numbers.subscribe(x => console.log(x));\n     *\n     * @see {@link interval}\n     * @see {@link delay}\n     *\n     * @param {number|Date} initialDelay The initial delay time to wait before\n     * emitting the first value of `0`.\n     * @param {number} [period] The period of time between emissions of the\n     * subsequent numbers.\n     * @param {Scheduler} [scheduler=async] The IScheduler to use for scheduling\n     * the emission of values, and providing a notion of \"time\".\n     * @return {Observable} An Observable that emits a `0` after the\n     * `initialDelay` and ever increasing numbers after each `period` of time\n     * thereafter.\n     * @static true\n     * @name timer\n     * @owner Observable\n     */\n    TimerObservable.create = function (initialDelay, period, scheduler) {\n        if (initialDelay === void 0) { initialDelay = 0; }\n        return new TimerObservable(initialDelay, period, scheduler);\n    };\n    TimerObservable.dispatch = function (state) {\n        var index = state.index, period = state.period, subscriber = state.subscriber;\n        var action = this;\n        subscriber.next(index);\n        if (subscriber.closed) {\n            return;\n        }\n        else if (period === -1) {\n            return subscriber.complete();\n        }\n        state.index = index + 1;\n        action.schedule(state, period);\n    };\n    /** @deprecated internal use only */ TimerObservable.prototype._subscribe = function (subscriber) {\n        var index = 0;\n        var _a = this, period = _a.period, dueTime = _a.dueTime, scheduler = _a.scheduler;\n        return scheduler.schedule(TimerObservable.dispatch, dueTime, {\n            index: index, period: period, subscriber: subscriber\n        });\n    };\n    return TimerObservable;\n}(Observable_1.Observable));\nexports.TimerObservable = TimerObservable;\n//# sourceMappingURL=TimerObservable.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar Observable_1 = require('../Observable');\nvar subscribeToResult_1 = require('../util/subscribeToResult');\nvar OuterSubscriber_1 = require('../OuterSubscriber');\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @extends {Ignored}\n * @hide true\n */\nvar UsingObservable = (function (_super) {\n    __extends(UsingObservable, _super);\n    function UsingObservable(resourceFactory, observableFactory) {\n        _super.call(this);\n        this.resourceFactory = resourceFactory;\n        this.observableFactory = observableFactory;\n    }\n    UsingObservable.create = function (resourceFactory, observableFactory) {\n        return new UsingObservable(resourceFactory, observableFactory);\n    };\n    /** @deprecated internal use only */ UsingObservable.prototype._subscribe = function (subscriber) {\n        var _a = this, resourceFactory = _a.resourceFactory, observableFactory = _a.observableFactory;\n        var resource;\n        try {\n            resource = resourceFactory();\n            return new UsingSubscriber(subscriber, resource, observableFactory);\n        }\n        catch (err) {\n            subscriber.error(err);\n        }\n    };\n    return UsingObservable;\n}(Observable_1.Observable));\nexports.UsingObservable = UsingObservable;\nvar UsingSubscriber = (function (_super) {\n    __extends(UsingSubscriber, _super);\n    function UsingSubscriber(destination, resource, observableFactory) {\n        _super.call(this, destination);\n        this.resource = resource;\n        this.observableFactory = observableFactory;\n        destination.add(resource);\n        this.tryUse();\n    }\n    UsingSubscriber.prototype.tryUse = function () {\n        try {\n            var source = this.observableFactory.call(this, this.resource);\n            if (source) {\n                this.add(subscribeToResult_1.subscribeToResult(this, source));\n            }\n        }\n        catch (err) {\n            this._error(err);\n        }\n    };\n    return UsingSubscriber;\n}(OuterSubscriber_1.OuterSubscriber));\n//# sourceMappingURL=UsingObservable.js.map","\"use strict\";\nvar BoundCallbackObservable_1 = require('./BoundCallbackObservable');\nexports.bindCallback = BoundCallbackObservable_1.BoundCallbackObservable.create;\n//# sourceMappingURL=bindCallback.js.map","\"use strict\";\nvar BoundNodeCallbackObservable_1 = require('./BoundNodeCallbackObservable');\nexports.bindNodeCallback = BoundNodeCallbackObservable_1.BoundNodeCallbackObservable.create;\n//# sourceMappingURL=bindNodeCallback.js.map","\"use strict\";\nvar isScheduler_1 = require('../util/isScheduler');\nvar isArray_1 = require('../util/isArray');\nvar ArrayObservable_1 = require('./ArrayObservable');\nvar combineLatest_1 = require('../operators/combineLatest');\n/* tslint:enable:max-line-length */\n/**\n * Combines multiple Observables to create an Observable whose values are\n * calculated from the latest values of each of its input Observables.\n *\n * <span class=\"informal\">Whenever any input Observable emits a value, it\n * computes a formula using the latest values from all the inputs, then emits\n * the output of that formula.</span>\n *\n * <img src=\"./img/combineLatest.png\" width=\"100%\">\n *\n * `combineLatest` combines the values from all the Observables passed as\n * arguments. This is done by subscribing to each Observable in order and,\n * whenever any Observable emits, collecting an array of the most recent\n * values from each Observable. So if you pass `n` Observables to operator,\n * returned Observable will always emit an array of `n` values, in order\n * corresponding to order of passed Observables (value from the first Observable\n * on the first place and so on).\n *\n * Static version of `combineLatest` accepts either an array of Observables\n * or each Observable can be put directly as an argument. Note that array of\n * Observables is good choice, if you don't know beforehand how many Observables\n * you will combine. Passing empty array will result in Observable that\n * completes immediately.\n *\n * To ensure output array has always the same length, `combineLatest` will\n * actually wait for all input Observables to emit at least once,\n * before it starts emitting results. This means if some Observable emits\n * values before other Observables started emitting, all that values but last\n * will be lost. On the other hand, is some Observable does not emit value but\n * completes, resulting Observable will complete at the same moment without\n * emitting anything, since it will be now impossible to include value from\n * completed Observable in resulting array. Also, if some input Observable does\n * not emit any value and never completes, `combineLatest` will also never emit\n * and never complete, since, again, it will wait for all streams to emit some\n * value.\n *\n * If at least one Observable was passed to `combineLatest` and all passed Observables\n * emitted something, resulting Observable will complete when all combined\n * streams complete. So even if some Observable completes, result of\n * `combineLatest` will still emit values when other Observables do. In case\n * of completed Observable, its value from now on will always be the last\n * emitted value. On the other hand, if any Observable errors, `combineLatest`\n * will error immediately as well, and all other Observables will be unsubscribed.\n *\n * `combineLatest` accepts as optional parameter `project` function, which takes\n * as arguments all values that would normally be emitted by resulting Observable.\n * `project` can return any kind of value, which will be then emitted by Observable\n * instead of default array. Note that `project` does not take as argument that array\n * of values, but values themselves. That means default `project` can be imagined\n * as function that takes all its arguments and puts them into an array.\n *\n *\n * @example <caption>Combine two timer Observables</caption>\n * const firstTimer = Rx.Observable.timer(0, 1000); // emit 0, 1, 2... after every second, starting from now\n * const secondTimer = Rx.Observable.timer(500, 1000); // emit 0, 1, 2... after every second, starting 0,5s from now\n * const combinedTimers = Rx.Observable.combineLatest(firstTimer, secondTimer);\n * combinedTimers.subscribe(value => console.log(value));\n * // Logs\n * // [0, 0] after 0.5s\n * // [1, 0] after 1s\n * // [1, 1] after 1.5s\n * // [2, 1] after 2s\n *\n *\n * @example <caption>Combine an array of Observables</caption>\n * const observables = [1, 5, 10].map(\n *   n => Rx.Observable.of(n).delay(n * 1000).startWith(0) // emit 0 and then emit n after n seconds\n * );\n * const combined = Rx.Observable.combineLatest(observables);\n * combined.subscribe(value => console.log(value));\n * // Logs\n * // [0, 0, 0] immediately\n * // [1, 0, 0] after 1s\n * // [1, 5, 0] after 5s\n * // [1, 5, 10] after 10s\n *\n *\n * @example <caption>Use project function to dynamically calculate the Body-Mass Index</caption>\n * var weight = Rx.Observable.of(70, 72, 76, 79, 75);\n * var height = Rx.Observable.of(1.76, 1.77, 1.78);\n * var bmi = Rx.Observable.combineLatest(weight, height, (w, h) => w / (h * h));\n * bmi.subscribe(x => console.log('BMI is ' + x));\n *\n * // With output to console:\n * // BMI is 24.212293388429753\n * // BMI is 23.93948099205209\n * // BMI is 23.671253629592222\n *\n *\n * @see {@link combineAll}\n * @see {@link merge}\n * @see {@link withLatestFrom}\n *\n * @param {ObservableInput} observable1 An input Observable to combine with other Observables.\n * @param {ObservableInput} observable2 An input Observable to combine with other Observables.\n * More than one input Observables may be given as arguments\n * or an array of Observables may be given as the first argument.\n * @param {function} [project] An optional function to project the values from\n * the combined latest values into a new value on the output Observable.\n * @param {Scheduler} [scheduler=null] The IScheduler to use for subscribing to\n * each input Observable.\n * @return {Observable} An Observable of projected values from the most recent\n * values from each input Observable, or an array of the most recent values from\n * each input Observable.\n * @static true\n * @name combineLatest\n * @owner Observable\n */\nfunction combineLatest() {\n    var observables = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        observables[_i - 0] = arguments[_i];\n    }\n    var project = null;\n    var scheduler = null;\n    if (isScheduler_1.isScheduler(observables[observables.length - 1])) {\n        scheduler = observables.pop();\n    }\n    if (typeof observables[observables.length - 1] === 'function') {\n        project = observables.pop();\n    }\n    // if the first and only other argument besides the resultSelector is an array\n    // assume it's been called with `combineLatest([obs1, obs2, obs3], project)`\n    if (observables.length === 1 && isArray_1.isArray(observables[0])) {\n        observables = observables[0];\n    }\n    return new ArrayObservable_1.ArrayObservable(observables, scheduler).lift(new combineLatest_1.CombineLatestOperator(project));\n}\nexports.combineLatest = combineLatest;\n//# sourceMappingURL=combineLatest.js.map","\"use strict\";\nvar isScheduler_1 = require('../util/isScheduler');\nvar of_1 = require('./of');\nvar from_1 = require('./from');\nvar concatAll_1 = require('../operators/concatAll');\n/* tslint:enable:max-line-length */\n/**\n * Creates an output Observable which sequentially emits all values from given\n * Observable and then moves on to the next.\n *\n * <span class=\"informal\">Concatenates multiple Observables together by\n * sequentially emitting their values, one Observable after the other.</span>\n *\n * <img src=\"./img/concat.png\" width=\"100%\">\n *\n * `concat` joins multiple Observables together, by subscribing to them one at a time and\n * merging their results into the output Observable. You can pass either an array of\n * Observables, or put them directly as arguments. Passing an empty array will result\n * in Observable that completes immediately.\n *\n * `concat` will subscribe to first input Observable and emit all its values, without\n * changing or affecting them in any way. When that Observable completes, it will\n * subscribe to then next Observable passed and, again, emit its values. This will be\n * repeated, until the operator runs out of Observables. When last input Observable completes,\n * `concat` will complete as well. At any given moment only one Observable passed to operator\n * emits values. If you would like to emit values from passed Observables concurrently, check out\n * {@link merge} instead, especially with optional `concurrent` parameter. As a matter of fact,\n * `concat` is an equivalent of `merge` operator with `concurrent` parameter set to `1`.\n *\n * Note that if some input Observable never completes, `concat` will also never complete\n * and Observables following the one that did not complete will never be subscribed. On the other\n * hand, if some Observable simply completes immediately after it is subscribed, it will be\n * invisible for `concat`, which will just move on to the next Observable.\n *\n * If any Observable in chain errors, instead of passing control to the next Observable,\n * `concat` will error immediately as well. Observables that would be subscribed after\n * the one that emitted error, never will.\n *\n * If you pass to `concat` the same Observable many times, its stream of values\n * will be \"replayed\" on every subscription, which means you can repeat given Observable\n * as many times as you like. If passing the same Observable to `concat` 1000 times becomes tedious,\n * you can always use {@link repeat}.\n *\n * @example <caption>Concatenate a timer counting from 0 to 3 with a synchronous sequence from 1 to 10</caption>\n * var timer = Rx.Observable.interval(1000).take(4);\n * var sequence = Rx.Observable.range(1, 10);\n * var result = Rx.Observable.concat(timer, sequence);\n * result.subscribe(x => console.log(x));\n *\n * // results in:\n * // 0 -1000ms-> 1 -1000ms-> 2 -1000ms-> 3 -immediate-> 1 ... 10\n *\n *\n * @example <caption>Concatenate an array of 3 Observables</caption>\n * var timer1 = Rx.Observable.interval(1000).take(10);\n * var timer2 = Rx.Observable.interval(2000).take(6);\n * var timer3 = Rx.Observable.interval(500).take(10);\n * var result = Rx.Observable.concat([timer1, timer2, timer3]); // note that array is passed\n * result.subscribe(x => console.log(x));\n *\n * // results in the following:\n * // (Prints to console sequentially)\n * // -1000ms-> 0 -1000ms-> 1 -1000ms-> ... 9\n * // -2000ms-> 0 -2000ms-> 1 -2000ms-> ... 5\n * // -500ms-> 0 -500ms-> 1 -500ms-> ... 9\n *\n *\n * @example <caption>Concatenate the same Observable to repeat it</caption>\n * const timer = Rx.Observable.interval(1000).take(2);\n *\n * Rx.Observable.concat(timer, timer) // concating the same Observable!\n * .subscribe(\n *   value => console.log(value),\n *   err => {},\n *   () => console.log('...and it is done!')\n * );\n *\n * // Logs:\n * // 0 after 1s\n * // 1 after 2s\n * // 0 after 3s\n * // 1 after 4s\n * // \"...and it is done!\" also after 4s\n *\n * @see {@link concatAll}\n * @see {@link concatMap}\n * @see {@link concatMapTo}\n *\n * @param {ObservableInput} input1 An input Observable to concatenate with others.\n * @param {ObservableInput} input2 An input Observable to concatenate with others.\n * More than one input Observables may be given as argument.\n * @param {Scheduler} [scheduler=null] An optional IScheduler to schedule each\n * Observable subscription on.\n * @return {Observable} All values of each passed Observable merged into a\n * single Observable, in order, in serial fashion.\n * @static true\n * @name concat\n * @owner Observable\n */\nfunction concat() {\n    var observables = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        observables[_i - 0] = arguments[_i];\n    }\n    if (observables.length === 1 || (observables.length === 2 && isScheduler_1.isScheduler(observables[1]))) {\n        return from_1.from(observables[0]);\n    }\n    return concatAll_1.concatAll()(of_1.of.apply(void 0, observables));\n}\nexports.concat = concat;\n//# sourceMappingURL=concat.js.map","\"use strict\";\nvar DeferObservable_1 = require('./DeferObservable');\nexports.defer = DeferObservable_1.DeferObservable.create;\n//# sourceMappingURL=defer.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar root_1 = require('../../util/root');\nvar tryCatch_1 = require('../../util/tryCatch');\nvar errorObject_1 = require('../../util/errorObject');\nvar Observable_1 = require('../../Observable');\nvar Subscriber_1 = require('../../Subscriber');\nvar map_1 = require('../../operators/map');\nfunction getCORSRequest() {\n    if (root_1.root.XMLHttpRequest) {\n        return new root_1.root.XMLHttpRequest();\n    }\n    else if (!!root_1.root.XDomainRequest) {\n        return new root_1.root.XDomainRequest();\n    }\n    else {\n        throw new Error('CORS is not supported by your browser');\n    }\n}\nfunction getXMLHttpRequest() {\n    if (root_1.root.XMLHttpRequest) {\n        return new root_1.root.XMLHttpRequest();\n    }\n    else {\n        var progId = void 0;\n        try {\n            var progIds = ['Msxml2.XMLHTTP', 'Microsoft.XMLHTTP', 'Msxml2.XMLHTTP.4.0'];\n            for (var i = 0; i < 3; i++) {\n                try {\n                    progId = progIds[i];\n                    if (new root_1.root.ActiveXObject(progId)) {\n                        break;\n                    }\n                }\n                catch (e) {\n                }\n            }\n            return new root_1.root.ActiveXObject(progId);\n        }\n        catch (e) {\n            throw new Error('XMLHttpRequest is not supported by your browser');\n        }\n    }\n}\nfunction ajaxGet(url, headers) {\n    if (headers === void 0) { headers = null; }\n    return new AjaxObservable({ method: 'GET', url: url, headers: headers });\n}\nexports.ajaxGet = ajaxGet;\n;\nfunction ajaxPost(url, body, headers) {\n    return new AjaxObservable({ method: 'POST', url: url, body: body, headers: headers });\n}\nexports.ajaxPost = ajaxPost;\n;\nfunction ajaxDelete(url, headers) {\n    return new AjaxObservable({ method: 'DELETE', url: url, headers: headers });\n}\nexports.ajaxDelete = ajaxDelete;\n;\nfunction ajaxPut(url, body, headers) {\n    return new AjaxObservable({ method: 'PUT', url: url, body: body, headers: headers });\n}\nexports.ajaxPut = ajaxPut;\n;\nfunction ajaxPatch(url, body, headers) {\n    return new AjaxObservable({ method: 'PATCH', url: url, body: body, headers: headers });\n}\nexports.ajaxPatch = ajaxPatch;\n;\nvar mapResponse = map_1.map(function (x, index) { return x.response; });\nfunction ajaxGetJSON(url, headers) {\n    return mapResponse(new AjaxObservable({\n        method: 'GET',\n        url: url,\n        responseType: 'json',\n        headers: headers\n    }));\n}\nexports.ajaxGetJSON = ajaxGetJSON;\n;\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @extends {Ignored}\n * @hide true\n */\nvar AjaxObservable = (function (_super) {\n    __extends(AjaxObservable, _super);\n    function AjaxObservable(urlOrRequest) {\n        _super.call(this);\n        var request = {\n            async: true,\n            createXHR: function () {\n                return this.crossDomain ? getCORSRequest.call(this) : getXMLHttpRequest();\n            },\n            crossDomain: false,\n            withCredentials: false,\n            headers: {},\n            method: 'GET',\n            responseType: 'json',\n            timeout: 0\n        };\n        if (typeof urlOrRequest === 'string') {\n            request.url = urlOrRequest;\n        }\n        else {\n            for (var prop in urlOrRequest) {\n                if (urlOrRequest.hasOwnProperty(prop)) {\n                    request[prop] = urlOrRequest[prop];\n                }\n            }\n        }\n        this.request = request;\n    }\n    /** @deprecated internal use only */ AjaxObservable.prototype._subscribe = function (subscriber) {\n        return new AjaxSubscriber(subscriber, this.request);\n    };\n    /**\n     * Creates an observable for an Ajax request with either a request object with\n     * url, headers, etc or a string for a URL.\n     *\n     * @example\n     * source = Rx.Observable.ajax('/products');\n     * source = Rx.Observable.ajax({ url: 'products', method: 'GET' });\n     *\n     * @param {string|Object} request Can be one of the following:\n     *   A string of the URL to make the Ajax call.\n     *   An object with the following properties\n     *   - url: URL of the request\n     *   - body: The body of the request\n     *   - method: Method of the request, such as GET, POST, PUT, PATCH, DELETE\n     *   - async: Whether the request is async\n     *   - headers: Optional headers\n     *   - crossDomain: true if a cross domain request, else false\n     *   - createXHR: a function to override if you need to use an alternate\n     *   XMLHttpRequest implementation.\n     *   - resultSelector: a function to use to alter the output value type of\n     *   the Observable. Gets {@link AjaxResponse} as an argument.\n     * @return {Observable} An observable sequence containing the XMLHttpRequest.\n     * @static true\n     * @name ajax\n     * @owner Observable\n    */\n    AjaxObservable.create = (function () {\n        var create = function (urlOrRequest) {\n            return new AjaxObservable(urlOrRequest);\n        };\n        create.get = ajaxGet;\n        create.post = ajaxPost;\n        create.delete = ajaxDelete;\n        create.put = ajaxPut;\n        create.patch = ajaxPatch;\n        create.getJSON = ajaxGetJSON;\n        return create;\n    })();\n    return AjaxObservable;\n}(Observable_1.Observable));\nexports.AjaxObservable = AjaxObservable;\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar AjaxSubscriber = (function (_super) {\n    __extends(AjaxSubscriber, _super);\n    function AjaxSubscriber(destination, request) {\n        _super.call(this, destination);\n        this.request = request;\n        this.done = false;\n        var headers = request.headers = request.headers || {};\n        // force CORS if requested\n        if (!request.crossDomain && !headers['X-Requested-With']) {\n            headers['X-Requested-With'] = 'XMLHttpRequest';\n        }\n        // ensure content type is set\n        if (!('Content-Type' in headers) && !(root_1.root.FormData && request.body instanceof root_1.root.FormData) && typeof request.body !== 'undefined') {\n            headers['Content-Type'] = 'application/x-www-form-urlencoded; charset=UTF-8';\n        }\n        // properly serialize body\n        request.body = this.serializeBody(request.body, request.headers['Content-Type']);\n        this.send();\n    }\n    AjaxSubscriber.prototype.next = function (e) {\n        this.done = true;\n        var _a = this, xhr = _a.xhr, request = _a.request, destination = _a.destination;\n        var response = new AjaxResponse(e, xhr, request);\n        destination.next(response);\n    };\n    AjaxSubscriber.prototype.send = function () {\n        var _a = this, request = _a.request, _b = _a.request, user = _b.user, method = _b.method, url = _b.url, async = _b.async, password = _b.password, headers = _b.headers, body = _b.body;\n        var createXHR = request.createXHR;\n        var xhr = tryCatch_1.tryCatch(createXHR).call(request);\n        if (xhr === errorObject_1.errorObject) {\n            this.error(errorObject_1.errorObject.e);\n        }\n        else {\n            this.xhr = xhr;\n            // set up the events before open XHR\n            // https://developer.mozilla.org/en/docs/Web/API/XMLHttpRequest/Using_XMLHttpRequest\n            // You need to add the event listeners before calling open() on the request.\n            // Otherwise the progress events will not fire.\n            this.setupEvents(xhr, request);\n            // open XHR\n            var result = void 0;\n            if (user) {\n                result = tryCatch_1.tryCatch(xhr.open).call(xhr, method, url, async, user, password);\n            }\n            else {\n                result = tryCatch_1.tryCatch(xhr.open).call(xhr, method, url, async);\n            }\n            if (result === errorObject_1.errorObject) {\n                this.error(errorObject_1.errorObject.e);\n                return null;\n            }\n            // timeout, responseType and withCredentials can be set once the XHR is open\n            if (async) {\n                xhr.timeout = request.timeout;\n                xhr.responseType = request.responseType;\n            }\n            if ('withCredentials' in xhr) {\n                xhr.withCredentials = !!request.withCredentials;\n            }\n            // set headers\n            this.setHeaders(xhr, headers);\n            // finally send the request\n            result = body ? tryCatch_1.tryCatch(xhr.send).call(xhr, body) : tryCatch_1.tryCatch(xhr.send).call(xhr);\n            if (result === errorObject_1.errorObject) {\n                this.error(errorObject_1.errorObject.e);\n                return null;\n            }\n        }\n        return xhr;\n    };\n    AjaxSubscriber.prototype.serializeBody = function (body, contentType) {\n        if (!body || typeof body === 'string') {\n            return body;\n        }\n        else if (root_1.root.FormData && body instanceof root_1.root.FormData) {\n            return body;\n        }\n        if (contentType) {\n            var splitIndex = contentType.indexOf(';');\n            if (splitIndex !== -1) {\n                contentType = contentType.substring(0, splitIndex);\n            }\n        }\n        switch (contentType) {\n            case 'application/x-www-form-urlencoded':\n                return Object.keys(body).map(function (key) { return (encodeURI(key) + \"=\" + encodeURI(body[key])); }).join('&');\n            case 'application/json':\n                return JSON.stringify(body);\n            default:\n                return body;\n        }\n    };\n    AjaxSubscriber.prototype.setHeaders = function (xhr, headers) {\n        for (var key in headers) {\n            if (headers.hasOwnProperty(key)) {\n                xhr.setRequestHeader(key, headers[key]);\n            }\n        }\n    };\n    AjaxSubscriber.prototype.setupEvents = function (xhr, request) {\n        var progressSubscriber = request.progressSubscriber;\n        function xhrTimeout(e) {\n            var _a = xhrTimeout, subscriber = _a.subscriber, progressSubscriber = _a.progressSubscriber, request = _a.request;\n            if (progressSubscriber) {\n                progressSubscriber.error(e);\n            }\n            subscriber.error(new AjaxTimeoutError(this, request)); //TODO: Make betterer.\n        }\n        ;\n        xhr.ontimeout = xhrTimeout;\n        xhrTimeout.request = request;\n        xhrTimeout.subscriber = this;\n        xhrTimeout.progressSubscriber = progressSubscriber;\n        if (xhr.upload && 'withCredentials' in xhr) {\n            if (progressSubscriber) {\n                var xhrProgress_1;\n                xhrProgress_1 = function (e) {\n                    var progressSubscriber = xhrProgress_1.progressSubscriber;\n                    progressSubscriber.next(e);\n                };\n                if (root_1.root.XDomainRequest) {\n                    xhr.onprogress = xhrProgress_1;\n                }\n                else {\n                    xhr.upload.onprogress = xhrProgress_1;\n                }\n                xhrProgress_1.progressSubscriber = progressSubscriber;\n            }\n            var xhrError_1;\n            xhrError_1 = function (e) {\n                var _a = xhrError_1, progressSubscriber = _a.progressSubscriber, subscriber = _a.subscriber, request = _a.request;\n                if (progressSubscriber) {\n                    progressSubscriber.error(e);\n                }\n                subscriber.error(new AjaxError('ajax error', this, request));\n            };\n            xhr.onerror = xhrError_1;\n            xhrError_1.request = request;\n            xhrError_1.subscriber = this;\n            xhrError_1.progressSubscriber = progressSubscriber;\n        }\n        function xhrReadyStateChange(e) {\n            var _a = xhrReadyStateChange, subscriber = _a.subscriber, progressSubscriber = _a.progressSubscriber, request = _a.request;\n            if (this.readyState === 4) {\n                // normalize IE9 bug (http://bugs.jquery.com/ticket/1450)\n                var status_1 = this.status === 1223 ? 204 : this.status;\n                var response = (this.responseType === 'text' ? (this.response || this.responseText) : this.response);\n                // fix status code when it is 0 (0 status is undocumented).\n                // Occurs when accessing file resources or on Android 4.1 stock browser\n                // while retrieving files from application cache.\n                if (status_1 === 0) {\n                    status_1 = response ? 200 : 0;\n                }\n                if (200 <= status_1 && status_1 < 300) {\n                    if (progressSubscriber) {\n                        progressSubscriber.complete();\n                    }\n                    subscriber.next(e);\n                    subscriber.complete();\n                }\n                else {\n                    if (progressSubscriber) {\n                        progressSubscriber.error(e);\n                    }\n                    subscriber.error(new AjaxError('ajax error ' + status_1, this, request));\n                }\n            }\n        }\n        ;\n        xhr.onreadystatechange = xhrReadyStateChange;\n        xhrReadyStateChange.subscriber = this;\n        xhrReadyStateChange.progressSubscriber = progressSubscriber;\n        xhrReadyStateChange.request = request;\n    };\n    AjaxSubscriber.prototype.unsubscribe = function () {\n        var _a = this, done = _a.done, xhr = _a.xhr;\n        if (!done && xhr && xhr.readyState !== 4 && typeof xhr.abort === 'function') {\n            xhr.abort();\n        }\n        _super.prototype.unsubscribe.call(this);\n    };\n    return AjaxSubscriber;\n}(Subscriber_1.Subscriber));\nexports.AjaxSubscriber = AjaxSubscriber;\n/**\n * A normalized AJAX response.\n *\n * @see {@link ajax}\n *\n * @class AjaxResponse\n */\nvar AjaxResponse = (function () {\n    function AjaxResponse(originalEvent, xhr, request) {\n        this.originalEvent = originalEvent;\n        this.xhr = xhr;\n        this.request = request;\n        this.status = xhr.status;\n        this.responseType = xhr.responseType || request.responseType;\n        this.response = parseXhrResponse(this.responseType, xhr);\n    }\n    return AjaxResponse;\n}());\nexports.AjaxResponse = AjaxResponse;\n/**\n * A normalized AJAX error.\n *\n * @see {@link ajax}\n *\n * @class AjaxError\n */\nvar AjaxError = (function (_super) {\n    __extends(AjaxError, _super);\n    function AjaxError(message, xhr, request) {\n        _super.call(this, message);\n        this.message = message;\n        this.xhr = xhr;\n        this.request = request;\n        this.status = xhr.status;\n        this.responseType = xhr.responseType || request.responseType;\n        this.response = parseXhrResponse(this.responseType, xhr);\n    }\n    return AjaxError;\n}(Error));\nexports.AjaxError = AjaxError;\nfunction parseXhrResponse(responseType, xhr) {\n    switch (responseType) {\n        case 'json':\n            if ('response' in xhr) {\n                //IE does not support json as responseType, parse it internally\n                return xhr.responseType ? xhr.response : JSON.parse(xhr.response || xhr.responseText || 'null');\n            }\n            else {\n                // HACK(benlesh): TypeScript shennanigans\n                // tslint:disable-next-line:no-any latest TS seems to think xhr is \"never\" here.\n                return JSON.parse(xhr.responseText || 'null');\n            }\n        case 'xml':\n            return xhr.responseXML;\n        case 'text':\n        default:\n            // HACK(benlesh): TypeScript shennanigans\n            // tslint:disable-next-line:no-any latest TS seems to think xhr is \"never\" here.\n            return ('response' in xhr) ? xhr.response : xhr.responseText;\n    }\n}\n/**\n * @see {@link ajax}\n *\n * @class AjaxTimeoutError\n */\nvar AjaxTimeoutError = (function (_super) {\n    __extends(AjaxTimeoutError, _super);\n    function AjaxTimeoutError(xhr, request) {\n        _super.call(this, 'ajax timeout', xhr, request);\n    }\n    return AjaxTimeoutError;\n}(AjaxError));\nexports.AjaxTimeoutError = AjaxTimeoutError;\n//# sourceMappingURL=AjaxObservable.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar Subject_1 = require('../../Subject');\nvar Subscriber_1 = require('../../Subscriber');\nvar Observable_1 = require('../../Observable');\nvar Subscription_1 = require('../../Subscription');\nvar root_1 = require('../../util/root');\nvar ReplaySubject_1 = require('../../ReplaySubject');\nvar tryCatch_1 = require('../../util/tryCatch');\nvar errorObject_1 = require('../../util/errorObject');\nvar assign_1 = require('../../util/assign');\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @extends {Ignored}\n * @hide true\n */\nvar WebSocketSubject = (function (_super) {\n    __extends(WebSocketSubject, _super);\n    function WebSocketSubject(urlConfigOrSource, destination) {\n        if (urlConfigOrSource instanceof Observable_1.Observable) {\n            _super.call(this, destination, urlConfigOrSource);\n        }\n        else {\n            _super.call(this);\n            this.WebSocketCtor = root_1.root.WebSocket;\n            this._output = new Subject_1.Subject();\n            if (typeof urlConfigOrSource === 'string') {\n                this.url = urlConfigOrSource;\n            }\n            else {\n                // WARNING: config object could override important members here.\n                assign_1.assign(this, urlConfigOrSource);\n            }\n            if (!this.WebSocketCtor) {\n                throw new Error('no WebSocket constructor can be found');\n            }\n            this.destination = new ReplaySubject_1.ReplaySubject();\n        }\n    }\n    WebSocketSubject.prototype.resultSelector = function (e) {\n        return JSON.parse(e.data);\n    };\n    /**\n     * Wrapper around the w3c-compatible WebSocket object provided by the browser.\n     *\n     * @example <caption>Wraps browser WebSocket</caption>\n     *\n     * let socket$ = Observable.webSocket('ws://localhost:8081');\n     *\n     * socket$.subscribe(\n     *    (msg) => console.log('message received: ' + msg),\n     *    (err) => console.log(err),\n     *    () => console.log('complete')\n     *  );\n     *\n     * socket$.next(JSON.stringify({ op: 'hello' }));\n     *\n     * @example <caption>Wraps WebSocket from nodejs-websocket (using node.js)</caption>\n     *\n     * import { w3cwebsocket } from 'websocket';\n     *\n     * let socket$ = Observable.webSocket({\n     *   url: 'ws://localhost:8081',\n     *   WebSocketCtor: w3cwebsocket\n     * });\n     *\n     * socket$.subscribe(\n     *    (msg) => console.log('message received: ' + msg),\n     *    (err) => console.log(err),\n     *    () => console.log('complete')\n     *  );\n     *\n     * socket$.next(JSON.stringify({ op: 'hello' }));\n     *\n     * @param {string | WebSocketSubjectConfig} urlConfigOrSource the source of the websocket as an url or a structure defining the websocket object\n     * @return {WebSocketSubject}\n     * @static true\n     * @name webSocket\n     * @owner Observable\n     */\n    WebSocketSubject.create = function (urlConfigOrSource) {\n        return new WebSocketSubject(urlConfigOrSource);\n    };\n    WebSocketSubject.prototype.lift = function (operator) {\n        var sock = new WebSocketSubject(this, this.destination);\n        sock.operator = operator;\n        return sock;\n    };\n    WebSocketSubject.prototype._resetState = function () {\n        this.socket = null;\n        if (!this.source) {\n            this.destination = new ReplaySubject_1.ReplaySubject();\n        }\n        this._output = new Subject_1.Subject();\n    };\n    // TODO: factor this out to be a proper Operator/Subscriber implementation and eliminate closures\n    WebSocketSubject.prototype.multiplex = function (subMsg, unsubMsg, messageFilter) {\n        var self = this;\n        return new Observable_1.Observable(function (observer) {\n            var result = tryCatch_1.tryCatch(subMsg)();\n            if (result === errorObject_1.errorObject) {\n                observer.error(errorObject_1.errorObject.e);\n            }\n            else {\n                self.next(result);\n            }\n            var subscription = self.subscribe(function (x) {\n                var result = tryCatch_1.tryCatch(messageFilter)(x);\n                if (result === errorObject_1.errorObject) {\n                    observer.error(errorObject_1.errorObject.e);\n                }\n                else if (result) {\n                    observer.next(x);\n                }\n            }, function (err) { return observer.error(err); }, function () { return observer.complete(); });\n            return function () {\n                var result = tryCatch_1.tryCatch(unsubMsg)();\n                if (result === errorObject_1.errorObject) {\n                    observer.error(errorObject_1.errorObject.e);\n                }\n                else {\n                    self.next(result);\n                }\n                subscription.unsubscribe();\n            };\n        });\n    };\n    WebSocketSubject.prototype._connectSocket = function () {\n        var _this = this;\n        var WebSocketCtor = this.WebSocketCtor;\n        var observer = this._output;\n        var socket = null;\n        try {\n            socket = this.protocol ?\n                new WebSocketCtor(this.url, this.protocol) :\n                new WebSocketCtor(this.url);\n            this.socket = socket;\n            if (this.binaryType) {\n                this.socket.binaryType = this.binaryType;\n            }\n        }\n        catch (e) {\n            observer.error(e);\n            return;\n        }\n        var subscription = new Subscription_1.Subscription(function () {\n            _this.socket = null;\n            if (socket && socket.readyState === 1) {\n                socket.close();\n            }\n        });\n        socket.onopen = function (e) {\n            var openObserver = _this.openObserver;\n            if (openObserver) {\n                openObserver.next(e);\n            }\n            var queue = _this.destination;\n            _this.destination = Subscriber_1.Subscriber.create(function (x) { return socket.readyState === 1 && socket.send(x); }, function (e) {\n                var closingObserver = _this.closingObserver;\n                if (closingObserver) {\n                    closingObserver.next(undefined);\n                }\n                if (e && e.code) {\n                    socket.close(e.code, e.reason);\n                }\n                else {\n                    observer.error(new TypeError('WebSocketSubject.error must be called with an object with an error code, ' +\n                        'and an optional reason: { code: number, reason: string }'));\n                }\n                _this._resetState();\n            }, function () {\n                var closingObserver = _this.closingObserver;\n                if (closingObserver) {\n                    closingObserver.next(undefined);\n                }\n                socket.close();\n                _this._resetState();\n            });\n            if (queue && queue instanceof ReplaySubject_1.ReplaySubject) {\n                subscription.add(queue.subscribe(_this.destination));\n            }\n        };\n        socket.onerror = function (e) {\n            _this._resetState();\n            observer.error(e);\n        };\n        socket.onclose = function (e) {\n            _this._resetState();\n            var closeObserver = _this.closeObserver;\n            if (closeObserver) {\n                closeObserver.next(e);\n            }\n            if (e.wasClean) {\n                observer.complete();\n            }\n            else {\n                observer.error(e);\n            }\n        };\n        socket.onmessage = function (e) {\n            var result = tryCatch_1.tryCatch(_this.resultSelector)(e);\n            if (result === errorObject_1.errorObject) {\n                observer.error(errorObject_1.errorObject.e);\n            }\n            else {\n                observer.next(result);\n            }\n        };\n    };\n    /** @deprecated internal use only */ WebSocketSubject.prototype._subscribe = function (subscriber) {\n        var _this = this;\n        var source = this.source;\n        if (source) {\n            return source.subscribe(subscriber);\n        }\n        if (!this.socket) {\n            this._connectSocket();\n        }\n        var subscription = new Subscription_1.Subscription();\n        subscription.add(this._output.subscribe(subscriber));\n        subscription.add(function () {\n            var socket = _this.socket;\n            if (_this._output.observers.length === 0) {\n                if (socket && socket.readyState === 1) {\n                    socket.close();\n                }\n                _this._resetState();\n            }\n        });\n        return subscription;\n    };\n    WebSocketSubject.prototype.unsubscribe = function () {\n        var _a = this, source = _a.source, socket = _a.socket;\n        if (socket && socket.readyState === 1) {\n            socket.close();\n            this._resetState();\n        }\n        _super.prototype.unsubscribe.call(this);\n        if (!source) {\n            this.destination = new ReplaySubject_1.ReplaySubject();\n        }\n    };\n    return WebSocketSubject;\n}(Subject_1.AnonymousSubject));\nexports.WebSocketSubject = WebSocketSubject;\n//# sourceMappingURL=WebSocketSubject.js.map","\"use strict\";\nvar AjaxObservable_1 = require('./AjaxObservable');\nexports.ajax = AjaxObservable_1.AjaxObservable.create;\n//# sourceMappingURL=ajax.js.map","\"use strict\";\nvar WebSocketSubject_1 = require('./WebSocketSubject');\nexports.webSocket = WebSocketSubject_1.WebSocketSubject.create;\n//# sourceMappingURL=webSocket.js.map","\"use strict\";\nvar EmptyObservable_1 = require('./EmptyObservable');\nexports.empty = EmptyObservable_1.EmptyObservable.create;\n//# sourceMappingURL=empty.js.map","\"use strict\";\nvar ForkJoinObservable_1 = require('./ForkJoinObservable');\nexports.forkJoin = ForkJoinObservable_1.ForkJoinObservable.create;\n//# sourceMappingURL=forkJoin.js.map","\"use strict\";\nvar FromObservable_1 = require('./FromObservable');\nexports.from = FromObservable_1.FromObservable.create;\n//# sourceMappingURL=from.js.map","\"use strict\";\nvar FromEventObservable_1 = require('./FromEventObservable');\nexports.fromEvent = FromEventObservable_1.FromEventObservable.create;\n//# sourceMappingURL=fromEvent.js.map","\"use strict\";\nvar FromEventPatternObservable_1 = require('./FromEventPatternObservable');\nexports.fromEventPattern = FromEventPatternObservable_1.FromEventPatternObservable.create;\n//# sourceMappingURL=fromEventPattern.js.map","\"use strict\";\nvar PromiseObservable_1 = require('./PromiseObservable');\nexports.fromPromise = PromiseObservable_1.PromiseObservable.create;\n//# sourceMappingURL=fromPromise.js.map","\"use strict\";\nvar GenerateObservable_1 = require('./GenerateObservable');\nexports.generate = GenerateObservable_1.GenerateObservable.create;\n//# sourceMappingURL=generate.js.map","\"use strict\";\nvar IfObservable_1 = require('./IfObservable');\nexports._if = IfObservable_1.IfObservable.create;\n//# sourceMappingURL=if.js.map","\"use strict\";\nvar IntervalObservable_1 = require('./IntervalObservable');\nexports.interval = IntervalObservable_1.IntervalObservable.create;\n//# sourceMappingURL=interval.js.map","\"use strict\";\nvar Observable_1 = require('../Observable');\nvar ArrayObservable_1 = require('./ArrayObservable');\nvar isScheduler_1 = require('../util/isScheduler');\nvar mergeAll_1 = require('../operators/mergeAll');\n/* tslint:enable:max-line-length */\n/**\n * Creates an output Observable which concurrently emits all values from every\n * given input Observable.\n *\n * <span class=\"informal\">Flattens multiple Observables together by blending\n * their values into one Observable.</span>\n *\n * <img src=\"./img/merge.png\" width=\"100%\">\n *\n * `merge` subscribes to each given input Observable (as arguments), and simply\n * forwards (without doing any transformation) all the values from all the input\n * Observables to the output Observable. The output Observable only completes\n * once all input Observables have completed. Any error delivered by an input\n * Observable will be immediately emitted on the output Observable.\n *\n * @example <caption>Merge together two Observables: 1s interval and clicks</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var timer = Rx.Observable.interval(1000);\n * var clicksOrTimer = Rx.Observable.merge(clicks, timer);\n * clicksOrTimer.subscribe(x => console.log(x));\n *\n * // Results in the following:\n * // timer will emit ascending values, one every second(1000ms) to console\n * // clicks logs MouseEvents to console everytime the \"document\" is clicked\n * // Since the two streams are merged you see these happening\n * // as they occur.\n *\n * @example <caption>Merge together 3 Observables, but only 2 run concurrently</caption>\n * var timer1 = Rx.Observable.interval(1000).take(10);\n * var timer2 = Rx.Observable.interval(2000).take(6);\n * var timer3 = Rx.Observable.interval(500).take(10);\n * var concurrent = 2; // the argument\n * var merged = Rx.Observable.merge(timer1, timer2, timer3, concurrent);\n * merged.subscribe(x => console.log(x));\n *\n * // Results in the following:\n * // - First timer1 and timer2 will run concurrently\n * // - timer1 will emit a value every 1000ms for 10 iterations\n * // - timer2 will emit a value every 2000ms for 6 iterations\n * // - after timer1 hits it's max iteration, timer2 will\n * //   continue, and timer3 will start to run concurrently with timer2\n * // - when timer2 hits it's max iteration it terminates, and\n * //   timer3 will continue to emit a value every 500ms until it is complete\n *\n * @see {@link mergeAll}\n * @see {@link mergeMap}\n * @see {@link mergeMapTo}\n * @see {@link mergeScan}\n *\n * @param {...ObservableInput} observables Input Observables to merge together.\n * @param {number} [concurrent=Number.POSITIVE_INFINITY] Maximum number of input\n * Observables being subscribed to concurrently.\n * @param {Scheduler} [scheduler=null] The IScheduler to use for managing\n * concurrency of input Observables.\n * @return {Observable} an Observable that emits items that are the result of\n * every input Observable.\n * @static true\n * @name merge\n * @owner Observable\n */\nfunction merge() {\n    var observables = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        observables[_i - 0] = arguments[_i];\n    }\n    var concurrent = Number.POSITIVE_INFINITY;\n    var scheduler = null;\n    var last = observables[observables.length - 1];\n    if (isScheduler_1.isScheduler(last)) {\n        scheduler = observables.pop();\n        if (observables.length > 1 && typeof observables[observables.length - 1] === 'number') {\n            concurrent = observables.pop();\n        }\n    }\n    else if (typeof last === 'number') {\n        concurrent = observables.pop();\n    }\n    if (scheduler === null && observables.length === 1 && observables[0] instanceof Observable_1.Observable) {\n        return observables[0];\n    }\n    return mergeAll_1.mergeAll(concurrent)(new ArrayObservable_1.ArrayObservable(observables, scheduler));\n}\nexports.merge = merge;\n//# sourceMappingURL=merge.js.map","\"use strict\";\nvar NeverObservable_1 = require('./NeverObservable');\nexports.never = NeverObservable_1.NeverObservable.create;\n//# sourceMappingURL=never.js.map","\"use strict\";\nvar ArrayObservable_1 = require('./ArrayObservable');\nexports.of = ArrayObservable_1.ArrayObservable.of;\n//# sourceMappingURL=of.js.map","\"use strict\";\nvar onErrorResumeNext_1 = require('../operators/onErrorResumeNext');\nexports.onErrorResumeNext = onErrorResumeNext_1.onErrorResumeNextStatic;\n//# sourceMappingURL=onErrorResumeNext.js.map","\"use strict\";\nvar PairsObservable_1 = require('./PairsObservable');\nexports.pairs = PairsObservable_1.PairsObservable.create;\n//# sourceMappingURL=pairs.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar isArray_1 = require('../util/isArray');\nvar ArrayObservable_1 = require('../observable/ArrayObservable');\nvar OuterSubscriber_1 = require('../OuterSubscriber');\nvar subscribeToResult_1 = require('../util/subscribeToResult');\nfunction race() {\n    var observables = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        observables[_i - 0] = arguments[_i];\n    }\n    // if the only argument is an array, it was most likely called with\n    // `race([obs1, obs2, ...])`\n    if (observables.length === 1) {\n        if (isArray_1.isArray(observables[0])) {\n            observables = observables[0];\n        }\n        else {\n            return observables[0];\n        }\n    }\n    return new ArrayObservable_1.ArrayObservable(observables).lift(new RaceOperator());\n}\nexports.race = race;\nvar RaceOperator = (function () {\n    function RaceOperator() {\n    }\n    RaceOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new RaceSubscriber(subscriber));\n    };\n    return RaceOperator;\n}());\nexports.RaceOperator = RaceOperator;\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar RaceSubscriber = (function (_super) {\n    __extends(RaceSubscriber, _super);\n    function RaceSubscriber(destination) {\n        _super.call(this, destination);\n        this.hasFirst = false;\n        this.observables = [];\n        this.subscriptions = [];\n    }\n    RaceSubscriber.prototype._next = function (observable) {\n        this.observables.push(observable);\n    };\n    RaceSubscriber.prototype._complete = function () {\n        var observables = this.observables;\n        var len = observables.length;\n        if (len === 0) {\n            this.destination.complete();\n        }\n        else {\n            for (var i = 0; i < len && !this.hasFirst; i++) {\n                var observable = observables[i];\n                var subscription = subscribeToResult_1.subscribeToResult(this, observable, observable, i);\n                if (this.subscriptions) {\n                    this.subscriptions.push(subscription);\n                }\n                this.add(subscription);\n            }\n            this.observables = null;\n        }\n    };\n    RaceSubscriber.prototype.notifyNext = function (outerValue, innerValue, outerIndex, innerIndex, innerSub) {\n        if (!this.hasFirst) {\n            this.hasFirst = true;\n            for (var i = 0; i < this.subscriptions.length; i++) {\n                if (i !== outerIndex) {\n                    var subscription = this.subscriptions[i];\n                    subscription.unsubscribe();\n                    this.remove(subscription);\n                }\n            }\n            this.subscriptions = null;\n        }\n        this.destination.next(innerValue);\n    };\n    return RaceSubscriber;\n}(OuterSubscriber_1.OuterSubscriber));\nexports.RaceSubscriber = RaceSubscriber;\n//# sourceMappingURL=race.js.map","\"use strict\";\nvar RangeObservable_1 = require('./RangeObservable');\nexports.range = RangeObservable_1.RangeObservable.create;\n//# sourceMappingURL=range.js.map","\"use strict\";\nvar ErrorObservable_1 = require('./ErrorObservable');\nexports._throw = ErrorObservable_1.ErrorObservable.create;\n//# sourceMappingURL=throw.js.map","\"use strict\";\nvar TimerObservable_1 = require('./TimerObservable');\nexports.timer = TimerObservable_1.TimerObservable.create;\n//# sourceMappingURL=timer.js.map","\"use strict\";\nvar UsingObservable_1 = require('./UsingObservable');\nexports.using = UsingObservable_1.UsingObservable.create;\n//# sourceMappingURL=using.js.map","\"use strict\";\nvar zip_1 = require('../operators/zip');\nexports.zip = zip_1.zipStatic;\n//# sourceMappingURL=zip.js.map","\"use strict\";\nvar audit_1 = require('../operators/audit');\n/**\n * Ignores source values for a duration determined by another Observable, then\n * emits the most recent value from the source Observable, then repeats this\n * process.\n *\n * <span class=\"informal\">It's like {@link auditTime}, but the silencing\n * duration is determined by a second Observable.</span>\n *\n * <img src=\"./img/audit.png\" width=\"100%\">\n *\n * `audit` is similar to `throttle`, but emits the last value from the silenced\n * time window, instead of the first value. `audit` emits the most recent value\n * from the source Observable on the output Observable as soon as its internal\n * timer becomes disabled, and ignores source values while the timer is enabled.\n * Initially, the timer is disabled. As soon as the first source value arrives,\n * the timer is enabled by calling the `durationSelector` function with the\n * source value, which returns the \"duration\" Observable. When the duration\n * Observable emits a value or completes, the timer is disabled, then the most\n * recent source value is emitted on the output Observable, and this process\n * repeats for the next source value.\n *\n * @example <caption>Emit clicks at a rate of at most one click per second</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var result = clicks.audit(ev => Rx.Observable.interval(1000));\n * result.subscribe(x => console.log(x));\n *\n * @see {@link auditTime}\n * @see {@link debounce}\n * @see {@link delayWhen}\n * @see {@link sample}\n * @see {@link throttle}\n *\n * @param {function(value: T): SubscribableOrPromise} durationSelector A function\n * that receives a value from the source Observable, for computing the silencing\n * duration, returned as an Observable or a Promise.\n * @return {Observable<T>} An Observable that performs rate-limiting of\n * emissions from the source Observable.\n * @method audit\n * @owner Observable\n */\nfunction audit(durationSelector) {\n    return audit_1.audit(durationSelector)(this);\n}\nexports.audit = audit;\n//# sourceMappingURL=audit.js.map","\"use strict\";\nvar async_1 = require('../scheduler/async');\nvar auditTime_1 = require('../operators/auditTime');\n/**\n * Ignores source values for `duration` milliseconds, then emits the most recent\n * value from the source Observable, then repeats this process.\n *\n * <span class=\"informal\">When it sees a source values, it ignores that plus\n * the next ones for `duration` milliseconds, and then it emits the most recent\n * value from the source.</span>\n *\n * <img src=\"./img/auditTime.png\" width=\"100%\">\n *\n * `auditTime` is similar to `throttleTime`, but emits the last value from the\n * silenced time window, instead of the first value. `auditTime` emits the most\n * recent value from the source Observable on the output Observable as soon as\n * its internal timer becomes disabled, and ignores source values while the\n * timer is enabled. Initially, the timer is disabled. As soon as the first\n * source value arrives, the timer is enabled. After `duration` milliseconds (or\n * the time unit determined internally by the optional `scheduler`) has passed,\n * the timer is disabled, then the most recent source value is emitted on the\n * output Observable, and this process repeats for the next source value.\n * Optionally takes a {@link IScheduler} for managing timers.\n *\n * @example <caption>Emit clicks at a rate of at most one click per second</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var result = clicks.auditTime(1000);\n * result.subscribe(x => console.log(x));\n *\n * @see {@link audit}\n * @see {@link debounceTime}\n * @see {@link delay}\n * @see {@link sampleTime}\n * @see {@link throttleTime}\n *\n * @param {number} duration Time to wait before emitting the most recent source\n * value, measured in milliseconds or the time unit determined internally\n * by the optional `scheduler`.\n * @param {Scheduler} [scheduler=async] The {@link IScheduler} to use for\n * managing the timers that handle the rate-limiting behavior.\n * @return {Observable<T>} An Observable that performs rate-limiting of\n * emissions from the source Observable.\n * @method auditTime\n * @owner Observable\n */\nfunction auditTime(duration, scheduler) {\n    if (scheduler === void 0) { scheduler = async_1.async; }\n    return auditTime_1.auditTime(duration, scheduler)(this);\n}\nexports.auditTime = auditTime;\n//# sourceMappingURL=auditTime.js.map","\"use strict\";\nvar buffer_1 = require('../operators/buffer');\n/**\n * Buffers the source Observable values until `closingNotifier` emits.\n *\n * <span class=\"informal\">Collects values from the past as an array, and emits\n * that array only when another Observable emits.</span>\n *\n * <img src=\"./img/buffer.png\" width=\"100%\">\n *\n * Buffers the incoming Observable values until the given `closingNotifier`\n * Observable emits a value, at which point it emits the buffer on the output\n * Observable and starts a new buffer internally, awaiting the next time\n * `closingNotifier` emits.\n *\n * @example <caption>On every click, emit array of most recent interval events</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var interval = Rx.Observable.interval(1000);\n * var buffered = interval.buffer(clicks);\n * buffered.subscribe(x => console.log(x));\n *\n * @see {@link bufferCount}\n * @see {@link bufferTime}\n * @see {@link bufferToggle}\n * @see {@link bufferWhen}\n * @see {@link window}\n *\n * @param {Observable<any>} closingNotifier An Observable that signals the\n * buffer to be emitted on the output Observable.\n * @return {Observable<T[]>} An Observable of buffers, which are arrays of\n * values.\n * @method buffer\n * @owner Observable\n */\nfunction buffer(closingNotifier) {\n    return buffer_1.buffer(closingNotifier)(this);\n}\nexports.buffer = buffer;\n//# sourceMappingURL=buffer.js.map","\"use strict\";\nvar bufferCount_1 = require('../operators/bufferCount');\n/**\n * Buffers the source Observable values until the size hits the maximum\n * `bufferSize` given.\n *\n * <span class=\"informal\">Collects values from the past as an array, and emits\n * that array only when its size reaches `bufferSize`.</span>\n *\n * <img src=\"./img/bufferCount.png\" width=\"100%\">\n *\n * Buffers a number of values from the source Observable by `bufferSize` then\n * emits the buffer and clears it, and starts a new buffer each\n * `startBufferEvery` values. If `startBufferEvery` is not provided or is\n * `null`, then new buffers are started immediately at the start of the source\n * and when each buffer closes and is emitted.\n *\n * @example <caption>Emit the last two click events as an array</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var buffered = clicks.bufferCount(2);\n * buffered.subscribe(x => console.log(x));\n *\n * @example <caption>On every click, emit the last two click events as an array</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var buffered = clicks.bufferCount(2, 1);\n * buffered.subscribe(x => console.log(x));\n *\n * @see {@link buffer}\n * @see {@link bufferTime}\n * @see {@link bufferToggle}\n * @see {@link bufferWhen}\n * @see {@link pairwise}\n * @see {@link windowCount}\n *\n * @param {number} bufferSize The maximum size of the buffer emitted.\n * @param {number} [startBufferEvery] Interval at which to start a new buffer.\n * For example if `startBufferEvery` is `2`, then a new buffer will be started\n * on every other value from the source. A new buffer is started at the\n * beginning of the source by default.\n * @return {Observable<T[]>} An Observable of arrays of buffered values.\n * @method bufferCount\n * @owner Observable\n */\nfunction bufferCount(bufferSize, startBufferEvery) {\n    if (startBufferEvery === void 0) { startBufferEvery = null; }\n    return bufferCount_1.bufferCount(bufferSize, startBufferEvery)(this);\n}\nexports.bufferCount = bufferCount;\n//# sourceMappingURL=bufferCount.js.map","\"use strict\";\nvar async_1 = require('../scheduler/async');\nvar isScheduler_1 = require('../util/isScheduler');\nvar bufferTime_1 = require('../operators/bufferTime');\n/* tslint:enable:max-line-length */\n/**\n * Buffers the source Observable values for a specific time period.\n *\n * <span class=\"informal\">Collects values from the past as an array, and emits\n * those arrays periodically in time.</span>\n *\n * <img src=\"./img/bufferTime.png\" width=\"100%\">\n *\n * Buffers values from the source for a specific time duration `bufferTimeSpan`.\n * Unless the optional argument `bufferCreationInterval` is given, it emits and\n * resets the buffer every `bufferTimeSpan` milliseconds. If\n * `bufferCreationInterval` is given, this operator opens the buffer every\n * `bufferCreationInterval` milliseconds and closes (emits and resets) the\n * buffer every `bufferTimeSpan` milliseconds. When the optional argument\n * `maxBufferSize` is specified, the buffer will be closed either after\n * `bufferTimeSpan` milliseconds or when it contains `maxBufferSize` elements.\n *\n * @example <caption>Every second, emit an array of the recent click events</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var buffered = clicks.bufferTime(1000);\n * buffered.subscribe(x => console.log(x));\n *\n * @example <caption>Every 5 seconds, emit the click events from the next 2 seconds</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var buffered = clicks.bufferTime(2000, 5000);\n * buffered.subscribe(x => console.log(x));\n *\n * @see {@link buffer}\n * @see {@link bufferCount}\n * @see {@link bufferToggle}\n * @see {@link bufferWhen}\n * @see {@link windowTime}\n *\n * @param {number} bufferTimeSpan The amount of time to fill each buffer array.\n * @param {number} [bufferCreationInterval] The interval at which to start new\n * buffers.\n * @param {number} [maxBufferSize] The maximum buffer size.\n * @param {Scheduler} [scheduler=async] The scheduler on which to schedule the\n * intervals that determine buffer boundaries.\n * @return {Observable<T[]>} An observable of arrays of buffered values.\n * @method bufferTime\n * @owner Observable\n */\nfunction bufferTime(bufferTimeSpan) {\n    var length = arguments.length;\n    var scheduler = async_1.async;\n    if (isScheduler_1.isScheduler(arguments[arguments.length - 1])) {\n        scheduler = arguments[arguments.length - 1];\n        length--;\n    }\n    var bufferCreationInterval = null;\n    if (length >= 2) {\n        bufferCreationInterval = arguments[1];\n    }\n    var maxBufferSize = Number.POSITIVE_INFINITY;\n    if (length >= 3) {\n        maxBufferSize = arguments[2];\n    }\n    return bufferTime_1.bufferTime(bufferTimeSpan, bufferCreationInterval, maxBufferSize, scheduler)(this);\n}\nexports.bufferTime = bufferTime;\n//# sourceMappingURL=bufferTime.js.map","\"use strict\";\nvar bufferToggle_1 = require('../operators/bufferToggle');\n/**\n * Buffers the source Observable values starting from an emission from\n * `openings` and ending when the output of `closingSelector` emits.\n *\n * <span class=\"informal\">Collects values from the past as an array. Starts\n * collecting only when `opening` emits, and calls the `closingSelector`\n * function to get an Observable that tells when to close the buffer.</span>\n *\n * <img src=\"./img/bufferToggle.png\" width=\"100%\">\n *\n * Buffers values from the source by opening the buffer via signals from an\n * Observable provided to `openings`, and closing and sending the buffers when\n * a Subscribable or Promise returned by the `closingSelector` function emits.\n *\n * @example <caption>Every other second, emit the click events from the next 500ms</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var openings = Rx.Observable.interval(1000);\n * var buffered = clicks.bufferToggle(openings, i =>\n *   i % 2 ? Rx.Observable.interval(500) : Rx.Observable.empty()\n * );\n * buffered.subscribe(x => console.log(x));\n *\n * @see {@link buffer}\n * @see {@link bufferCount}\n * @see {@link bufferTime}\n * @see {@link bufferWhen}\n * @see {@link windowToggle}\n *\n * @param {SubscribableOrPromise<O>} openings A Subscribable or Promise of notifications to start new\n * buffers.\n * @param {function(value: O): SubscribableOrPromise} closingSelector A function that takes\n * the value emitted by the `openings` observable and returns a Subscribable or Promise,\n * which, when it emits, signals that the associated buffer should be emitted\n * and cleared.\n * @return {Observable<T[]>} An observable of arrays of buffered values.\n * @method bufferToggle\n * @owner Observable\n */\nfunction bufferToggle(openings, closingSelector) {\n    return bufferToggle_1.bufferToggle(openings, closingSelector)(this);\n}\nexports.bufferToggle = bufferToggle;\n//# sourceMappingURL=bufferToggle.js.map","\"use strict\";\nvar bufferWhen_1 = require('../operators/bufferWhen');\n/**\n * Buffers the source Observable values, using a factory function of closing\n * Observables to determine when to close, emit, and reset the buffer.\n *\n * <span class=\"informal\">Collects values from the past as an array. When it\n * starts collecting values, it calls a function that returns an Observable that\n * tells when to close the buffer and restart collecting.</span>\n *\n * <img src=\"./img/bufferWhen.png\" width=\"100%\">\n *\n * Opens a buffer immediately, then closes the buffer when the observable\n * returned by calling `closingSelector` function emits a value. When it closes\n * the buffer, it immediately opens a new buffer and repeats the process.\n *\n * @example <caption>Emit an array of the last clicks every [1-5] random seconds</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var buffered = clicks.bufferWhen(() =>\n *   Rx.Observable.interval(1000 + Math.random() * 4000)\n * );\n * buffered.subscribe(x => console.log(x));\n *\n * @see {@link buffer}\n * @see {@link bufferCount}\n * @see {@link bufferTime}\n * @see {@link bufferToggle}\n * @see {@link windowWhen}\n *\n * @param {function(): Observable} closingSelector A function that takes no\n * arguments and returns an Observable that signals buffer closure.\n * @return {Observable<T[]>} An observable of arrays of buffered values.\n * @method bufferWhen\n * @owner Observable\n */\nfunction bufferWhen(closingSelector) {\n    return bufferWhen_1.bufferWhen(closingSelector)(this);\n}\nexports.bufferWhen = bufferWhen;\n//# sourceMappingURL=bufferWhen.js.map","\"use strict\";\nvar catchError_1 = require('../operators/catchError');\n/**\n * Catches errors on the observable to be handled by returning a new observable or throwing an error.\n *\n * <img src=\"./img/catch.png\" width=\"100%\">\n *\n * @example <caption>Continues with a different Observable when there's an error</caption>\n *\n * Observable.of(1, 2, 3, 4, 5)\n *   .map(n => {\n * \t   if (n == 4) {\n * \t     throw 'four!';\n *     }\n *\t   return n;\n *   })\n *   .catch(err => Observable.of('I', 'II', 'III', 'IV', 'V'))\n *   .subscribe(x => console.log(x));\n *   // 1, 2, 3, I, II, III, IV, V\n *\n * @example <caption>Retries the caught source Observable again in case of error, similar to retry() operator</caption>\n *\n * Observable.of(1, 2, 3, 4, 5)\n *   .map(n => {\n * \t   if (n === 4) {\n * \t     throw 'four!';\n *     }\n * \t   return n;\n *   })\n *   .catch((err, caught) => caught)\n *   .take(30)\n *   .subscribe(x => console.log(x));\n *   // 1, 2, 3, 1, 2, 3, ...\n *\n * @example <caption>Throws a new error when the source Observable throws an error</caption>\n *\n * Observable.of(1, 2, 3, 4, 5)\n *   .map(n => {\n *     if (n == 4) {\n *       throw 'four!';\n *     }\n *     return n;\n *   })\n *   .catch(err => {\n *     throw 'error in source. Details: ' + err;\n *   })\n *   .subscribe(\n *     x => console.log(x),\n *     err => console.log(err)\n *   );\n *   // 1, 2, 3, error in source. Details: four!\n *\n * @param {function} selector a function that takes as arguments `err`, which is the error, and `caught`, which\n *  is the source observable, in case you'd like to \"retry\" that observable by returning it again. Whatever observable\n *  is returned by the `selector` will be used to continue the observable chain.\n * @return {Observable} An observable that originates from either the source or the observable returned by the\n *  catch `selector` function.\n * @method catch\n * @name catch\n * @owner Observable\n */\nfunction _catch(selector) {\n    return catchError_1.catchError(selector)(this);\n}\nexports._catch = _catch;\n//# sourceMappingURL=catch.js.map","\"use strict\";\nvar combineAll_1 = require('../operators/combineAll');\n/**\n * Converts a higher-order Observable into a first-order Observable by waiting\n * for the outer Observable to complete, then applying {@link combineLatest}.\n *\n * <span class=\"informal\">Flattens an Observable-of-Observables by applying\n * {@link combineLatest} when the Observable-of-Observables completes.</span>\n *\n * <img src=\"./img/combineAll.png\" width=\"100%\">\n *\n * Takes an Observable of Observables, and collects all Observables from it.\n * Once the outer Observable completes, it subscribes to all collected\n * Observables and combines their values using the {@link combineLatest}\n * strategy, such that:\n * - Every time an inner Observable emits, the output Observable emits.\n * - When the returned observable emits, it emits all of the latest values by:\n *   - If a `project` function is provided, it is called with each recent value\n *     from each inner Observable in whatever order they arrived, and the result\n *     of the `project` function is what is emitted by the output Observable.\n *   - If there is no `project` function, an array of all of the most recent\n *     values is emitted by the output Observable.\n *\n * @example <caption>Map two click events to a finite interval Observable, then apply combineAll</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var higherOrder = clicks.map(ev =>\n *   Rx.Observable.interval(Math.random()*2000).take(3)\n * ).take(2);\n * var result = higherOrder.combineAll();\n * result.subscribe(x => console.log(x));\n *\n * @see {@link combineLatest}\n * @see {@link mergeAll}\n *\n * @param {function} [project] An optional function to map the most recent\n * values from each inner Observable into a new result. Takes each of the most\n * recent values from each collected inner Observable as arguments, in order.\n * @return {Observable} An Observable of projected results or arrays of recent\n * values.\n * @method combineAll\n * @owner Observable\n */\nfunction combineAll(project) {\n    return combineAll_1.combineAll(project)(this);\n}\nexports.combineAll = combineAll;\n//# sourceMappingURL=combineAll.js.map","\"use strict\";\nvar combineLatest_1 = require('../operators/combineLatest');\n/* tslint:enable:max-line-length */\n/**\n * Combines multiple Observables to create an Observable whose values are\n * calculated from the latest values of each of its input Observables.\n *\n * <span class=\"informal\">Whenever any input Observable emits a value, it\n * computes a formula using the latest values from all the inputs, then emits\n * the output of that formula.</span>\n *\n * <img src=\"./img/combineLatest.png\" width=\"100%\">\n *\n * `combineLatest` combines the values from this Observable with values from\n * Observables passed as arguments. This is done by subscribing to each\n * Observable, in order, and collecting an array of each of the most recent\n * values any time any of the input Observables emits, then either taking that\n * array and passing it as arguments to an optional `project` function and\n * emitting the return value of that, or just emitting the array of recent\n * values directly if there is no `project` function.\n *\n * @example <caption>Dynamically calculate the Body-Mass Index from an Observable of weight and one for height</caption>\n * var weight = Rx.Observable.of(70, 72, 76, 79, 75);\n * var height = Rx.Observable.of(1.76, 1.77, 1.78);\n * var bmi = weight.combineLatest(height, (w, h) => w / (h * h));\n * bmi.subscribe(x => console.log('BMI is ' + x));\n *\n * // With output to console:\n * // BMI is 24.212293388429753\n * // BMI is 23.93948099205209\n * // BMI is 23.671253629592222\n *\n * @see {@link combineAll}\n * @see {@link merge}\n * @see {@link withLatestFrom}\n *\n * @param {ObservableInput} other An input Observable to combine with the source\n * Observable. More than one input Observables may be given as argument.\n * @param {function} [project] An optional function to project the values from\n * the combined latest values into a new value on the output Observable.\n * @return {Observable} An Observable of projected values from the most recent\n * values from each input Observable, or an array of the most recent values from\n * each input Observable.\n * @method combineLatest\n * @owner Observable\n */\nfunction combineLatest() {\n    var observables = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        observables[_i - 0] = arguments[_i];\n    }\n    return combineLatest_1.combineLatest.apply(void 0, observables)(this);\n}\nexports.combineLatest = combineLatest;\n//# sourceMappingURL=combineLatest.js.map","\"use strict\";\nvar concat_1 = require('../operators/concat');\nvar concat_2 = require('../observable/concat');\nexports.concatStatic = concat_2.concat;\n/* tslint:enable:max-line-length */\n/**\n * Creates an output Observable which sequentially emits all values from every\n * given input Observable after the current Observable.\n *\n * <span class=\"informal\">Concatenates multiple Observables together by\n * sequentially emitting their values, one Observable after the other.</span>\n *\n * <img src=\"./img/concat.png\" width=\"100%\">\n *\n * Joins this Observable with multiple other Observables by subscribing to them\n * one at a time, starting with the source, and merging their results into the\n * output Observable. Will wait for each Observable to complete before moving\n * on to the next.\n *\n * @example <caption>Concatenate a timer counting from 0 to 3 with a synchronous sequence from 1 to 10</caption>\n * var timer = Rx.Observable.interval(1000).take(4);\n * var sequence = Rx.Observable.range(1, 10);\n * var result = timer.concat(sequence);\n * result.subscribe(x => console.log(x));\n *\n * // results in:\n * // 1000ms-> 0 -1000ms-> 1 -1000ms-> 2 -1000ms-> 3 -immediate-> 1 ... 10\n *\n * @example <caption>Concatenate 3 Observables</caption>\n * var timer1 = Rx.Observable.interval(1000).take(10);\n * var timer2 = Rx.Observable.interval(2000).take(6);\n * var timer3 = Rx.Observable.interval(500).take(10);\n * var result = timer1.concat(timer2, timer3);\n * result.subscribe(x => console.log(x));\n *\n * // results in the following:\n * // (Prints to console sequentially)\n * // -1000ms-> 0 -1000ms-> 1 -1000ms-> ... 9\n * // -2000ms-> 0 -2000ms-> 1 -2000ms-> ... 5\n * // -500ms-> 0 -500ms-> 1 -500ms-> ... 9\n *\n * @see {@link concatAll}\n * @see {@link concatMap}\n * @see {@link concatMapTo}\n *\n * @param {ObservableInput} other An input Observable to concatenate after the source\n * Observable. More than one input Observables may be given as argument.\n * @param {Scheduler} [scheduler=null] An optional IScheduler to schedule each\n * Observable subscription on.\n * @return {Observable} All values of each passed Observable merged into a\n * single Observable, in order, in serial fashion.\n * @method concat\n * @owner Observable\n */\nfunction concat() {\n    var observables = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        observables[_i - 0] = arguments[_i];\n    }\n    return concat_1.concat.apply(void 0, observables)(this);\n}\nexports.concat = concat;\n//# sourceMappingURL=concat.js.map","\"use strict\";\nvar concatAll_1 = require('../operators/concatAll');\n/* tslint:enable:max-line-length */\n/**\n * Converts a higher-order Observable into a first-order Observable by\n * concatenating the inner Observables in order.\n *\n * <span class=\"informal\">Flattens an Observable-of-Observables by putting one\n * inner Observable after the other.</span>\n *\n * <img src=\"./img/concatAll.png\" width=\"100%\">\n *\n * Joins every Observable emitted by the source (a higher-order Observable), in\n * a serial fashion. It subscribes to each inner Observable only after the\n * previous inner Observable has completed, and merges all of their values into\n * the returned observable.\n *\n * __Warning:__ If the source Observable emits Observables quickly and\n * endlessly, and the inner Observables it emits generally complete slower than\n * the source emits, you can run into memory issues as the incoming Observables\n * collect in an unbounded buffer.\n *\n * Note: `concatAll` is equivalent to `mergeAll` with concurrency parameter set\n * to `1`.\n *\n * @example <caption>For each click event, tick every second from 0 to 3, with no concurrency</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var higherOrder = clicks.map(ev => Rx.Observable.interval(1000).take(4));\n * var firstOrder = higherOrder.concatAll();\n * firstOrder.subscribe(x => console.log(x));\n *\n * // Results in the following:\n * // (results are not concurrent)\n * // For every click on the \"document\" it will emit values 0 to 3 spaced\n * // on a 1000ms interval\n * // one click = 1000ms-> 0 -1000ms-> 1 -1000ms-> 2 -1000ms-> 3\n *\n * @see {@link combineAll}\n * @see {@link concat}\n * @see {@link concatMap}\n * @see {@link concatMapTo}\n * @see {@link exhaust}\n * @see {@link mergeAll}\n * @see {@link switch}\n * @see {@link zipAll}\n *\n * @return {Observable} An Observable emitting values from all the inner\n * Observables concatenated.\n * @method concatAll\n * @owner Observable\n */\nfunction concatAll() {\n    return concatAll_1.concatAll()(this);\n}\nexports.concatAll = concatAll;\n//# sourceMappingURL=concatAll.js.map","\"use strict\";\nvar concatMap_1 = require('../operators/concatMap');\n/* tslint:enable:max-line-length */\n/**\n * Projects each source value to an Observable which is merged in the output\n * Observable, in a serialized fashion waiting for each one to complete before\n * merging the next.\n *\n * <span class=\"informal\">Maps each value to an Observable, then flattens all of\n * these inner Observables using {@link concatAll}.</span>\n *\n * <img src=\"./img/concatMap.png\" width=\"100%\">\n *\n * Returns an Observable that emits items based on applying a function that you\n * supply to each item emitted by the source Observable, where that function\n * returns an (so-called \"inner\") Observable. Each new inner Observable is\n * concatenated with the previous inner Observable.\n *\n * __Warning:__ if source values arrive endlessly and faster than their\n * corresponding inner Observables can complete, it will result in memory issues\n * as inner Observables amass in an unbounded buffer waiting for their turn to\n * be subscribed to.\n *\n * Note: `concatMap` is equivalent to `mergeMap` with concurrency parameter set\n * to `1`.\n *\n * @example <caption>For each click event, tick every second from 0 to 3, with no concurrency</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var result = clicks.concatMap(ev => Rx.Observable.interval(1000).take(4));\n * result.subscribe(x => console.log(x));\n *\n * // Results in the following:\n * // (results are not concurrent)\n * // For every click on the \"document\" it will emit values 0 to 3 spaced\n * // on a 1000ms interval\n * // one click = 1000ms-> 0 -1000ms-> 1 -1000ms-> 2 -1000ms-> 3\n *\n * @see {@link concat}\n * @see {@link concatAll}\n * @see {@link concatMapTo}\n * @see {@link exhaustMap}\n * @see {@link mergeMap}\n * @see {@link switchMap}\n *\n * @param {function(value: T, ?index: number): ObservableInput} project A function\n * that, when applied to an item emitted by the source Observable, returns an\n * Observable.\n * @param {function(outerValue: T, innerValue: I, outerIndex: number, innerIndex: number): any} [resultSelector]\n * A function to produce the value on the output Observable based on the values\n * and the indices of the source (outer) emission and the inner Observable\n * emission. The arguments passed to this function are:\n * - `outerValue`: the value that came from the source\n * - `innerValue`: the value that came from the projected Observable\n * - `outerIndex`: the \"index\" of the value that came from the source\n * - `innerIndex`: the \"index\" of the value from the projected Observable\n * @return {Observable} An Observable that emits the result of applying the\n * projection function (and the optional `resultSelector`) to each item emitted\n * by the source Observable and taking values from each projected inner\n * Observable sequentially.\n * @method concatMap\n * @owner Observable\n */\nfunction concatMap(project, resultSelector) {\n    return concatMap_1.concatMap(project, resultSelector)(this);\n}\nexports.concatMap = concatMap;\n//# sourceMappingURL=concatMap.js.map","\"use strict\";\nvar concatMapTo_1 = require('../operators/concatMapTo');\n/* tslint:enable:max-line-length */\n/**\n * Projects each source value to the same Observable which is merged multiple\n * times in a serialized fashion on the output Observable.\n *\n * <span class=\"informal\">It's like {@link concatMap}, but maps each value\n * always to the same inner Observable.</span>\n *\n * <img src=\"./img/concatMapTo.png\" width=\"100%\">\n *\n * Maps each source value to the given Observable `innerObservable` regardless\n * of the source value, and then flattens those resulting Observables into one\n * single Observable, which is the output Observable. Each new `innerObservable`\n * instance emitted on the output Observable is concatenated with the previous\n * `innerObservable` instance.\n *\n * __Warning:__ if source values arrive endlessly and faster than their\n * corresponding inner Observables can complete, it will result in memory issues\n * as inner Observables amass in an unbounded buffer waiting for their turn to\n * be subscribed to.\n *\n * Note: `concatMapTo` is equivalent to `mergeMapTo` with concurrency parameter\n * set to `1`.\n *\n * @example <caption>For each click event, tick every second from 0 to 3, with no concurrency</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var result = clicks.concatMapTo(Rx.Observable.interval(1000).take(4));\n * result.subscribe(x => console.log(x));\n *\n * // Results in the following:\n * // (results are not concurrent)\n * // For every click on the \"document\" it will emit values 0 to 3 spaced\n * // on a 1000ms interval\n * // one click = 1000ms-> 0 -1000ms-> 1 -1000ms-> 2 -1000ms-> 3\n *\n * @see {@link concat}\n * @see {@link concatAll}\n * @see {@link concatMap}\n * @see {@link mergeMapTo}\n * @see {@link switchMapTo}\n *\n * @param {ObservableInput} innerObservable An Observable to replace each value from\n * the source Observable.\n * @param {function(outerValue: T, innerValue: I, outerIndex: number, innerIndex: number): any} [resultSelector]\n * A function to produce the value on the output Observable based on the values\n * and the indices of the source (outer) emission and the inner Observable\n * emission. The arguments passed to this function are:\n * - `outerValue`: the value that came from the source\n * - `innerValue`: the value that came from the projected Observable\n * - `outerIndex`: the \"index\" of the value that came from the source\n * - `innerIndex`: the \"index\" of the value from the projected Observable\n * @return {Observable} An observable of values merged together by joining the\n * passed observable with itself, one after the other, for each value emitted\n * from the source.\n * @method concatMapTo\n * @owner Observable\n */\nfunction concatMapTo(innerObservable, resultSelector) {\n    return concatMapTo_1.concatMapTo(innerObservable, resultSelector)(this);\n}\nexports.concatMapTo = concatMapTo;\n//# sourceMappingURL=concatMapTo.js.map","\"use strict\";\nvar count_1 = require('../operators/count');\n/**\n * Counts the number of emissions on the source and emits that number when the\n * source completes.\n *\n * <span class=\"informal\">Tells how many values were emitted, when the source\n * completes.</span>\n *\n * <img src=\"./img/count.png\" width=\"100%\">\n *\n * `count` transforms an Observable that emits values into an Observable that\n * emits a single value that represents the number of values emitted by the\n * source Observable. If the source Observable terminates with an error, `count`\n * will pass this error notification along without emitting a value first. If\n * the source Observable does not terminate at all, `count` will neither emit\n * a value nor terminate. This operator takes an optional `predicate` function\n * as argument, in which case the output emission will represent the number of\n * source values that matched `true` with the `predicate`.\n *\n * @example <caption>Counts how many seconds have passed before the first click happened</caption>\n * var seconds = Rx.Observable.interval(1000);\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var secondsBeforeClick = seconds.takeUntil(clicks);\n * var result = secondsBeforeClick.count();\n * result.subscribe(x => console.log(x));\n *\n * @example <caption>Counts how many odd numbers are there between 1 and 7</caption>\n * var numbers = Rx.Observable.range(1, 7);\n * var result = numbers.count(i => i % 2 === 1);\n * result.subscribe(x => console.log(x));\n *\n * // Results in:\n * // 4\n *\n * @see {@link max}\n * @see {@link min}\n * @see {@link reduce}\n *\n * @param {function(value: T, i: number, source: Observable<T>): boolean} [predicate] A\n * boolean function to select what values are to be counted. It is provided with\n * arguments of:\n * - `value`: the value from the source Observable.\n * - `index`: the (zero-based) \"index\" of the value from the source Observable.\n * - `source`: the source Observable instance itself.\n * @return {Observable} An Observable of one number that represents the count as\n * described above.\n * @method count\n * @owner Observable\n */\nfunction count(predicate) {\n    return count_1.count(predicate)(this);\n}\nexports.count = count;\n//# sourceMappingURL=count.js.map","\"use strict\";\nvar debounce_1 = require('../operators/debounce');\n/**\n * Emits a value from the source Observable only after a particular time span\n * determined by another Observable has passed without another source emission.\n *\n * <span class=\"informal\">It's like {@link debounceTime}, but the time span of\n * emission silence is determined by a second Observable.</span>\n *\n * <img src=\"./img/debounce.png\" width=\"100%\">\n *\n * `debounce` delays values emitted by the source Observable, but drops previous\n * pending delayed emissions if a new value arrives on the source Observable.\n * This operator keeps track of the most recent value from the source\n * Observable, and spawns a duration Observable by calling the\n * `durationSelector` function. The value is emitted only when the duration\n * Observable emits a value or completes, and if no other value was emitted on\n * the source Observable since the duration Observable was spawned. If a new\n * value appears before the duration Observable emits, the previous value will\n * be dropped and will not be emitted on the output Observable.\n *\n * Like {@link debounceTime}, this is a rate-limiting operator, and also a\n * delay-like operator since output emissions do not necessarily occur at the\n * same time as they did on the source Observable.\n *\n * @example <caption>Emit the most recent click after a burst of clicks</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var result = clicks.debounce(() => Rx.Observable.interval(1000));\n * result.subscribe(x => console.log(x));\n *\n * @see {@link audit}\n * @see {@link debounceTime}\n * @see {@link delayWhen}\n * @see {@link throttle}\n *\n * @param {function(value: T): SubscribableOrPromise} durationSelector A function\n * that receives a value from the source Observable, for computing the timeout\n * duration for each source value, returned as an Observable or a Promise.\n * @return {Observable} An Observable that delays the emissions of the source\n * Observable by the specified duration Observable returned by\n * `durationSelector`, and may drop some values if they occur too frequently.\n * @method debounce\n * @owner Observable\n */\nfunction debounce(durationSelector) {\n    return debounce_1.debounce(durationSelector)(this);\n}\nexports.debounce = debounce;\n//# sourceMappingURL=debounce.js.map","\"use strict\";\nvar async_1 = require('../scheduler/async');\nvar debounceTime_1 = require('../operators/debounceTime');\n/**\n * Emits a value from the source Observable only after a particular time span\n * has passed without another source emission.\n *\n * <span class=\"informal\">It's like {@link delay}, but passes only the most\n * recent value from each burst of emissions.</span>\n *\n * <img src=\"./img/debounceTime.png\" width=\"100%\">\n *\n * `debounceTime` delays values emitted by the source Observable, but drops\n * previous pending delayed emissions if a new value arrives on the source\n * Observable. This operator keeps track of the most recent value from the\n * source Observable, and emits that only when `dueTime` enough time has passed\n * without any other value appearing on the source Observable. If a new value\n * appears before `dueTime` silence occurs, the previous value will be dropped\n * and will not be emitted on the output Observable.\n *\n * This is a rate-limiting operator, because it is impossible for more than one\n * value to be emitted in any time window of duration `dueTime`, but it is also\n * a delay-like operator since output emissions do not occur at the same time as\n * they did on the source Observable. Optionally takes a {@link IScheduler} for\n * managing timers.\n *\n * @example <caption>Emit the most recent click after a burst of clicks</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var result = clicks.debounceTime(1000);\n * result.subscribe(x => console.log(x));\n *\n * @see {@link auditTime}\n * @see {@link debounce}\n * @see {@link delay}\n * @see {@link sampleTime}\n * @see {@link throttleTime}\n *\n * @param {number} dueTime The timeout duration in milliseconds (or the time\n * unit determined internally by the optional `scheduler`) for the window of\n * time required to wait for emission silence before emitting the most recent\n * source value.\n * @param {Scheduler} [scheduler=async] The {@link IScheduler} to use for\n * managing the timers that handle the timeout for each value.\n * @return {Observable} An Observable that delays the emissions of the source\n * Observable by the specified `dueTime`, and may drop some values if they occur\n * too frequently.\n * @method debounceTime\n * @owner Observable\n */\nfunction debounceTime(dueTime, scheduler) {\n    if (scheduler === void 0) { scheduler = async_1.async; }\n    return debounceTime_1.debounceTime(dueTime, scheduler)(this);\n}\nexports.debounceTime = debounceTime;\n//# sourceMappingURL=debounceTime.js.map","\"use strict\";\nvar defaultIfEmpty_1 = require('../operators/defaultIfEmpty');\n/* tslint:enable:max-line-length */\n/**\n * Emits a given value if the source Observable completes without emitting any\n * `next` value, otherwise mirrors the source Observable.\n *\n * <span class=\"informal\">If the source Observable turns out to be empty, then\n * this operator will emit a default value.</span>\n *\n * <img src=\"./img/defaultIfEmpty.png\" width=\"100%\">\n *\n * `defaultIfEmpty` emits the values emitted by the source Observable or a\n * specified default value if the source Observable is empty (completes without\n * having emitted any `next` value).\n *\n * @example <caption>If no clicks happen in 5 seconds, then emit \"no clicks\"</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var clicksBeforeFive = clicks.takeUntil(Rx.Observable.interval(5000));\n * var result = clicksBeforeFive.defaultIfEmpty('no clicks');\n * result.subscribe(x => console.log(x));\n *\n * @see {@link empty}\n * @see {@link last}\n *\n * @param {any} [defaultValue=null] The default value used if the source\n * Observable is empty.\n * @return {Observable} An Observable that emits either the specified\n * `defaultValue` if the source Observable emits no items, or the values emitted\n * by the source Observable.\n * @method defaultIfEmpty\n * @owner Observable\n */\nfunction defaultIfEmpty(defaultValue) {\n    if (defaultValue === void 0) { defaultValue = null; }\n    return defaultIfEmpty_1.defaultIfEmpty(defaultValue)(this);\n}\nexports.defaultIfEmpty = defaultIfEmpty;\n//# sourceMappingURL=defaultIfEmpty.js.map","\"use strict\";\nvar async_1 = require('../scheduler/async');\nvar delay_1 = require('../operators/delay');\n/**\n * Delays the emission of items from the source Observable by a given timeout or\n * until a given Date.\n *\n * <span class=\"informal\">Time shifts each item by some specified amount of\n * milliseconds.</span>\n *\n * <img src=\"./img/delay.png\" width=\"100%\">\n *\n * If the delay argument is a Number, this operator time shifts the source\n * Observable by that amount of time expressed in milliseconds. The relative\n * time intervals between the values are preserved.\n *\n * If the delay argument is a Date, this operator time shifts the start of the\n * Observable execution until the given date occurs.\n *\n * @example <caption>Delay each click by one second</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var delayedClicks = clicks.delay(1000); // each click emitted after 1 second\n * delayedClicks.subscribe(x => console.log(x));\n *\n * @example <caption>Delay all clicks until a future date happens</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var date = new Date('March 15, 2050 12:00:00'); // in the future\n * var delayedClicks = clicks.delay(date); // click emitted only after that date\n * delayedClicks.subscribe(x => console.log(x));\n *\n * @see {@link debounceTime}\n * @see {@link delayWhen}\n *\n * @param {number|Date} delay The delay duration in milliseconds (a `number`) or\n * a `Date` until which the emission of the source items is delayed.\n * @param {Scheduler} [scheduler=async] The IScheduler to use for\n * managing the timers that handle the time-shift for each item.\n * @return {Observable} An Observable that delays the emissions of the source\n * Observable by the specified timeout or Date.\n * @method delay\n * @owner Observable\n */\nfunction delay(delay, scheduler) {\n    if (scheduler === void 0) { scheduler = async_1.async; }\n    return delay_1.delay(delay, scheduler)(this);\n}\nexports.delay = delay;\n//# sourceMappingURL=delay.js.map","\"use strict\";\nvar delayWhen_1 = require('../operators/delayWhen');\n/**\n * Delays the emission of items from the source Observable by a given time span\n * determined by the emissions of another Observable.\n *\n * <span class=\"informal\">It's like {@link delay}, but the time span of the\n * delay duration is determined by a second Observable.</span>\n *\n * <img src=\"./img/delayWhen.png\" width=\"100%\">\n *\n * `delayWhen` time shifts each emitted value from the source Observable by a\n * time span determined by another Observable. When the source emits a value,\n * the `delayDurationSelector` function is called with the source value as\n * argument, and should return an Observable, called the \"duration\" Observable.\n * The source value is emitted on the output Observable only when the duration\n * Observable emits a value or completes.\n *\n * Optionally, `delayWhen` takes a second argument, `subscriptionDelay`, which\n * is an Observable. When `subscriptionDelay` emits its first value or\n * completes, the source Observable is subscribed to and starts behaving like\n * described in the previous paragraph. If `subscriptionDelay` is not provided,\n * `delayWhen` will subscribe to the source Observable as soon as the output\n * Observable is subscribed.\n *\n * @example <caption>Delay each click by a random amount of time, between 0 and 5 seconds</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var delayedClicks = clicks.delayWhen(event =>\n *   Rx.Observable.interval(Math.random() * 5000)\n * );\n * delayedClicks.subscribe(x => console.log(x));\n *\n * @see {@link debounce}\n * @see {@link delay}\n *\n * @param {function(value: T): Observable} delayDurationSelector A function that\n * returns an Observable for each value emitted by the source Observable, which\n * is then used to delay the emission of that item on the output Observable\n * until the Observable returned from this function emits a value.\n * @param {Observable} subscriptionDelay An Observable that triggers the\n * subscription to the source Observable once it emits any value.\n * @return {Observable} An Observable that delays the emissions of the source\n * Observable by an amount of time specified by the Observable returned by\n * `delayDurationSelector`.\n * @method delayWhen\n * @owner Observable\n */\nfunction delayWhen(delayDurationSelector, subscriptionDelay) {\n    return delayWhen_1.delayWhen(delayDurationSelector, subscriptionDelay)(this);\n}\nexports.delayWhen = delayWhen;\n//# sourceMappingURL=delayWhen.js.map","\"use strict\";\nvar dematerialize_1 = require('../operators/dematerialize');\n/**\n * Converts an Observable of {@link Notification} objects into the emissions\n * that they represent.\n *\n * <span class=\"informal\">Unwraps {@link Notification} objects as actual `next`,\n * `error` and `complete` emissions. The opposite of {@link materialize}.</span>\n *\n * <img src=\"./img/dematerialize.png\" width=\"100%\">\n *\n * `dematerialize` is assumed to operate an Observable that only emits\n * {@link Notification} objects as `next` emissions, and does not emit any\n * `error`. Such Observable is the output of a `materialize` operation. Those\n * notifications are then unwrapped using the metadata they contain, and emitted\n * as `next`, `error`, and `complete` on the output Observable.\n *\n * Use this operator in conjunction with {@link materialize}.\n *\n * @example <caption>Convert an Observable of Notifications to an actual Observable</caption>\n * var notifA = new Rx.Notification('N', 'A');\n * var notifB = new Rx.Notification('N', 'B');\n * var notifE = new Rx.Notification('E', void 0,\n *   new TypeError('x.toUpperCase is not a function')\n * );\n * var materialized = Rx.Observable.of(notifA, notifB, notifE);\n * var upperCase = materialized.dematerialize();\n * upperCase.subscribe(x => console.log(x), e => console.error(e));\n *\n * // Results in:\n * // A\n * // B\n * // TypeError: x.toUpperCase is not a function\n *\n * @see {@link Notification}\n * @see {@link materialize}\n *\n * @return {Observable} An Observable that emits items and notifications\n * embedded in Notification objects emitted by the source Observable.\n * @method dematerialize\n * @owner Observable\n */\nfunction dematerialize() {\n    return dematerialize_1.dematerialize()(this);\n}\nexports.dematerialize = dematerialize;\n//# sourceMappingURL=dematerialize.js.map","\"use strict\";\nvar distinct_1 = require('../operators/distinct');\n/**\n * Returns an Observable that emits all items emitted by the source Observable that are distinct by comparison from previous items.\n *\n * If a keySelector function is provided, then it will project each value from the source observable into a new value that it will\n * check for equality with previously projected values. If a keySelector function is not provided, it will use each value from the\n * source observable directly with an equality check against previous values.\n *\n * In JavaScript runtimes that support `Set`, this operator will use a `Set` to improve performance of the distinct value checking.\n *\n * In other runtimes, this operator will use a minimal implementation of `Set` that relies on an `Array` and `indexOf` under the\n * hood, so performance will degrade as more values are checked for distinction. Even in newer browsers, a long-running `distinct`\n * use might result in memory leaks. To help alleviate this in some scenarios, an optional `flushes` parameter is also provided so\n * that the internal `Set` can be \"flushed\", basically clearing it of values.\n *\n * @example <caption>A simple example with numbers</caption>\n * Observable.of(1, 1, 2, 2, 2, 1, 2, 3, 4, 3, 2, 1)\n *   .distinct()\n *   .subscribe(x => console.log(x)); // 1, 2, 3, 4\n *\n * @example <caption>An example using a keySelector function</caption>\n * interface Person {\n *    age: number,\n *    name: string\n * }\n *\n * Observable.of<Person>(\n *     { age: 4, name: 'Foo'},\n *     { age: 7, name: 'Bar'},\n *     { age: 5, name: 'Foo'})\n *     .distinct((p: Person) => p.name)\n *     .subscribe(x => console.log(x));\n *\n * // displays:\n * // { age: 4, name: 'Foo' }\n * // { age: 7, name: 'Bar' }\n *\n * @see {@link distinctUntilChanged}\n * @see {@link distinctUntilKeyChanged}\n *\n * @param {function} [keySelector] Optional function to select which value you want to check as distinct.\n * @param {Observable} [flushes] Optional Observable for flushing the internal HashSet of the operator.\n * @return {Observable} An Observable that emits items from the source Observable with distinct values.\n * @method distinct\n * @owner Observable\n */\nfunction distinct(keySelector, flushes) {\n    return distinct_1.distinct(keySelector, flushes)(this);\n}\nexports.distinct = distinct;\n//# sourceMappingURL=distinct.js.map","\"use strict\";\nvar distinctUntilChanged_1 = require('../operators/distinctUntilChanged');\n/* tslint:enable:max-line-length */\n/**\n * Returns an Observable that emits all items emitted by the source Observable that are distinct by comparison from the previous item.\n *\n * If a comparator function is provided, then it will be called for each item to test for whether or not that value should be emitted.\n *\n * If a comparator function is not provided, an equality check is used by default.\n *\n * @example <caption>A simple example with numbers</caption>\n * Observable.of(1, 1, 2, 2, 2, 1, 1, 2, 3, 3, 4)\n *   .distinctUntilChanged()\n *   .subscribe(x => console.log(x)); // 1, 2, 1, 2, 3, 4\n *\n * @example <caption>An example using a compare function</caption>\n * interface Person {\n *    age: number,\n *    name: string\n * }\n *\n * Observable.of<Person>(\n *     { age: 4, name: 'Foo'},\n *     { age: 7, name: 'Bar'},\n *     { age: 5, name: 'Foo'})\n *     { age: 6, name: 'Foo'})\n *     .distinctUntilChanged((p: Person, q: Person) => p.name === q.name)\n *     .subscribe(x => console.log(x));\n *\n * // displays:\n * // { age: 4, name: 'Foo' }\n * // { age: 7, name: 'Bar' }\n * // { age: 5, name: 'Foo' }\n *\n * @see {@link distinct}\n * @see {@link distinctUntilKeyChanged}\n *\n * @param {function} [compare] Optional comparison function called to test if an item is distinct from the previous item in the source.\n * @return {Observable} An Observable that emits items from the source Observable with distinct values.\n * @method distinctUntilChanged\n * @owner Observable\n */\nfunction distinctUntilChanged(compare, keySelector) {\n    return distinctUntilChanged_1.distinctUntilChanged(compare, keySelector)(this);\n}\nexports.distinctUntilChanged = distinctUntilChanged;\n//# sourceMappingURL=distinctUntilChanged.js.map","\"use strict\";\nvar distinctUntilKeyChanged_1 = require('../operators/distinctUntilKeyChanged');\n/* tslint:enable:max-line-length */\n/**\n * Returns an Observable that emits all items emitted by the source Observable that are distinct by comparison from the previous item,\n * using a property accessed by using the key provided to check if the two items are distinct.\n *\n * If a comparator function is provided, then it will be called for each item to test for whether or not that value should be emitted.\n *\n * If a comparator function is not provided, an equality check is used by default.\n *\n * @example <caption>An example comparing the name of persons</caption>\n *\n *  interface Person {\n *     age: number,\n *     name: string\n *  }\n *\n * Observable.of<Person>(\n *     { age: 4, name: 'Foo'},\n *     { age: 7, name: 'Bar'},\n *     { age: 5, name: 'Foo'},\n *     { age: 6, name: 'Foo'})\n *     .distinctUntilKeyChanged('name')\n *     .subscribe(x => console.log(x));\n *\n * // displays:\n * // { age: 4, name: 'Foo' }\n * // { age: 7, name: 'Bar' }\n * // { age: 5, name: 'Foo' }\n *\n * @example <caption>An example comparing the first letters of the name</caption>\n *\n * interface Person {\n *     age: number,\n *     name: string\n *  }\n *\n * Observable.of<Person>(\n *     { age: 4, name: 'Foo1'},\n *     { age: 7, name: 'Bar'},\n *     { age: 5, name: 'Foo2'},\n *     { age: 6, name: 'Foo3'})\n *     .distinctUntilKeyChanged('name', (x: string, y: string) => x.substring(0, 3) === y.substring(0, 3))\n *     .subscribe(x => console.log(x));\n *\n * // displays:\n * // { age: 4, name: 'Foo1' }\n * // { age: 7, name: 'Bar' }\n * // { age: 5, name: 'Foo2' }\n *\n * @see {@link distinct}\n * @see {@link distinctUntilChanged}\n *\n * @param {string} key String key for object property lookup on each item.\n * @param {function} [compare] Optional comparison function called to test if an item is distinct from the previous item in the source.\n * @return {Observable} An Observable that emits items from the source Observable with distinct values based on the key specified.\n * @method distinctUntilKeyChanged\n * @owner Observable\n */\nfunction distinctUntilKeyChanged(key, compare) {\n    return distinctUntilKeyChanged_1.distinctUntilKeyChanged(key, compare)(this);\n}\nexports.distinctUntilKeyChanged = distinctUntilKeyChanged;\n//# sourceMappingURL=distinctUntilKeyChanged.js.map","\"use strict\";\nvar tap_1 = require('../operators/tap');\n/* tslint:enable:max-line-length */\n/**\n * Perform a side effect for every emission on the source Observable, but return\n * an Observable that is identical to the source.\n *\n * <span class=\"informal\">Intercepts each emission on the source and runs a\n * function, but returns an output which is identical to the source as long as errors don't occur.</span>\n *\n * <img src=\"./img/do.png\" width=\"100%\">\n *\n * Returns a mirrored Observable of the source Observable, but modified so that\n * the provided Observer is called to perform a side effect for every value,\n * error, and completion emitted by the source. Any errors that are thrown in\n * the aforementioned Observer or handlers are safely sent down the error path\n * of the output Observable.\n *\n * This operator is useful for debugging your Observables for the correct values\n * or performing other side effects.\n *\n * Note: this is different to a `subscribe` on the Observable. If the Observable\n * returned by `do` is not subscribed, the side effects specified by the\n * Observer will never happen. `do` therefore simply spies on existing\n * execution, it does not trigger an execution to happen like `subscribe` does.\n *\n * @example <caption>Map every click to the clientX position of that click, while also logging the click event</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var positions = clicks\n *   .do(ev => console.log(ev))\n *   .map(ev => ev.clientX);\n * positions.subscribe(x => console.log(x));\n *\n * @see {@link map}\n * @see {@link subscribe}\n *\n * @param {Observer|function} [nextOrObserver] A normal Observer object or a\n * callback for `next`.\n * @param {function} [error] Callback for errors in the source.\n * @param {function} [complete] Callback for the completion of the source.\n * @return {Observable} An Observable identical to the source, but runs the\n * specified Observer or callback(s) for each item.\n * @method do\n * @name do\n * @owner Observable\n */\nfunction _do(nextOrObserver, error, complete) {\n    return tap_1.tap(nextOrObserver, error, complete)(this);\n}\nexports._do = _do;\n//# sourceMappingURL=do.js.map","\"use strict\";\nvar elementAt_1 = require('../operators/elementAt');\n/**\n * Emits the single value at the specified `index` in a sequence of emissions\n * from the source Observable.\n *\n * <span class=\"informal\">Emits only the i-th value, then completes.</span>\n *\n * <img src=\"./img/elementAt.png\" width=\"100%\">\n *\n * `elementAt` returns an Observable that emits the item at the specified\n * `index` in the source Observable, or a default value if that `index` is out\n * of range and the `default` argument is provided. If the `default` argument is\n * not given and the `index` is out of range, the output Observable will emit an\n * `ArgumentOutOfRangeError` error.\n *\n * @example <caption>Emit only the third click event</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var result = clicks.elementAt(2);\n * result.subscribe(x => console.log(x));\n *\n * // Results in:\n * // click 1 = nothing\n * // click 2 = nothing\n * // click 3 = MouseEvent object logged to console\n *\n * @see {@link first}\n * @see {@link last}\n * @see {@link skip}\n * @see {@link single}\n * @see {@link take}\n *\n * @throws {ArgumentOutOfRangeError} When using `elementAt(i)`, it delivers an\n * ArgumentOutOrRangeError to the Observer's `error` callback if `i < 0` or the\n * Observable has completed before emitting the i-th `next` notification.\n *\n * @param {number} index Is the number `i` for the i-th source emission that has\n * happened since the subscription, starting from the number `0`.\n * @param {T} [defaultValue] The default value returned for missing indices.\n * @return {Observable} An Observable that emits a single item, if it is found.\n * Otherwise, will emit the default value if given. If not, then emits an error.\n * @method elementAt\n * @owner Observable\n */\nfunction elementAt(index, defaultValue) {\n    return elementAt_1.elementAt(index, defaultValue)(this);\n}\nexports.elementAt = elementAt;\n//# sourceMappingURL=elementAt.js.map","\"use strict\";\nvar every_1 = require('../operators/every');\n/**\n * Returns an Observable that emits whether or not every item of the source satisfies the condition specified.\n *\n * @example <caption>A simple example emitting true if all elements are less than 5, false otherwise</caption>\n *  Observable.of(1, 2, 3, 4, 5, 6)\n *     .every(x => x < 5)\n *     .subscribe(x => console.log(x)); // -> false\n *\n * @param {function} predicate A function for determining if an item meets a specified condition.\n * @param {any} [thisArg] Optional object to use for `this` in the callback.\n * @return {Observable} An Observable of booleans that determines if all items of the source Observable meet the condition specified.\n * @method every\n * @owner Observable\n */\nfunction every(predicate, thisArg) {\n    return every_1.every(predicate, thisArg)(this);\n}\nexports.every = every;\n//# sourceMappingURL=every.js.map","\"use strict\";\nvar exhaust_1 = require('../operators/exhaust');\n/**\n * Converts a higher-order Observable into a first-order Observable by dropping\n * inner Observables while the previous inner Observable has not yet completed.\n *\n * <span class=\"informal\">Flattens an Observable-of-Observables by dropping the\n * next inner Observables while the current inner is still executing.</span>\n *\n * <img src=\"./img/exhaust.png\" width=\"100%\">\n *\n * `exhaust` subscribes to an Observable that emits Observables, also known as a\n * higher-order Observable. Each time it observes one of these emitted inner\n * Observables, the output Observable begins emitting the items emitted by that\n * inner Observable. So far, it behaves like {@link mergeAll}. However,\n * `exhaust` ignores every new inner Observable if the previous Observable has\n * not yet completed. Once that one completes, it will accept and flatten the\n * next inner Observable and repeat this process.\n *\n * @example <caption>Run a finite timer for each click, only if there is no currently active timer</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var higherOrder = clicks.map((ev) => Rx.Observable.interval(1000).take(5));\n * var result = higherOrder.exhaust();\n * result.subscribe(x => console.log(x));\n *\n * @see {@link combineAll}\n * @see {@link concatAll}\n * @see {@link switch}\n * @see {@link mergeAll}\n * @see {@link exhaustMap}\n * @see {@link zipAll}\n *\n * @return {Observable} An Observable that takes a source of Observables and propagates the first observable\n * exclusively until it completes before subscribing to the next.\n * @method exhaust\n * @owner Observable\n */\nfunction exhaust() {\n    return exhaust_1.exhaust()(this);\n}\nexports.exhaust = exhaust;\n//# sourceMappingURL=exhaust.js.map","\"use strict\";\nvar exhaustMap_1 = require('../operators/exhaustMap');\n/* tslint:enable:max-line-length */\n/**\n * Projects each source value to an Observable which is merged in the output\n * Observable only if the previous projected Observable has completed.\n *\n * <span class=\"informal\">Maps each value to an Observable, then flattens all of\n * these inner Observables using {@link exhaust}.</span>\n *\n * <img src=\"./img/exhaustMap.png\" width=\"100%\">\n *\n * Returns an Observable that emits items based on applying a function that you\n * supply to each item emitted by the source Observable, where that function\n * returns an (so-called \"inner\") Observable. When it projects a source value to\n * an Observable, the output Observable begins emitting the items emitted by\n * that projected Observable. However, `exhaustMap` ignores every new projected\n * Observable if the previous projected Observable has not yet completed. Once\n * that one completes, it will accept and flatten the next projected Observable\n * and repeat this process.\n *\n * @example <caption>Run a finite timer for each click, only if there is no currently active timer</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var result = clicks.exhaustMap((ev) => Rx.Observable.interval(1000).take(5));\n * result.subscribe(x => console.log(x));\n *\n * @see {@link concatMap}\n * @see {@link exhaust}\n * @see {@link mergeMap}\n * @see {@link switchMap}\n *\n * @param {function(value: T, ?index: number): ObservableInput} project A function\n * that, when applied to an item emitted by the source Observable, returns an\n * Observable.\n * @param {function(outerValue: T, innerValue: I, outerIndex: number, innerIndex: number): any} [resultSelector]\n * A function to produce the value on the output Observable based on the values\n * and the indices of the source (outer) emission and the inner Observable\n * emission. The arguments passed to this function are:\n * - `outerValue`: the value that came from the source\n * - `innerValue`: the value that came from the projected Observable\n * - `outerIndex`: the \"index\" of the value that came from the source\n * - `innerIndex`: the \"index\" of the value from the projected Observable\n * @return {Observable} An Observable containing projected Observables\n * of each item of the source, ignoring projected Observables that start before\n * their preceding Observable has completed.\n * @method exhaustMap\n * @owner Observable\n */\nfunction exhaustMap(project, resultSelector) {\n    return exhaustMap_1.exhaustMap(project, resultSelector)(this);\n}\nexports.exhaustMap = exhaustMap;\n//# sourceMappingURL=exhaustMap.js.map","\"use strict\";\nvar expand_1 = require('../operators/expand');\n/* tslint:enable:max-line-length */\n/**\n * Recursively projects each source value to an Observable which is merged in\n * the output Observable.\n *\n * <span class=\"informal\">It's similar to {@link mergeMap}, but applies the\n * projection function to every source value as well as every output value.\n * It's recursive.</span>\n *\n * <img src=\"./img/expand.png\" width=\"100%\">\n *\n * Returns an Observable that emits items based on applying a function that you\n * supply to each item emitted by the source Observable, where that function\n * returns an Observable, and then merging those resulting Observables and\n * emitting the results of this merger. *Expand* will re-emit on the output\n * Observable every source value. Then, each output value is given to the\n * `project` function which returns an inner Observable to be merged on the\n * output Observable. Those output values resulting from the projection are also\n * given to the `project` function to produce new output values. This is how\n * *expand* behaves recursively.\n *\n * @example <caption>Start emitting the powers of two on every click, at most 10 of them</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var powersOfTwo = clicks\n *   .mapTo(1)\n *   .expand(x => Rx.Observable.of(2 * x).delay(1000))\n *   .take(10);\n * powersOfTwo.subscribe(x => console.log(x));\n *\n * @see {@link mergeMap}\n * @see {@link mergeScan}\n *\n * @param {function(value: T, index: number) => Observable} project A function\n * that, when applied to an item emitted by the source or the output Observable,\n * returns an Observable.\n * @param {number} [concurrent=Number.POSITIVE_INFINITY] Maximum number of input\n * Observables being subscribed to concurrently.\n * @param {Scheduler} [scheduler=null] The IScheduler to use for subscribing to\n * each projected inner Observable.\n * @return {Observable} An Observable that emits the source values and also\n * result of applying the projection function to each value emitted on the\n * output Observable and and merging the results of the Observables obtained\n * from this transformation.\n * @method expand\n * @owner Observable\n */\nfunction expand(project, concurrent, scheduler) {\n    if (concurrent === void 0) { concurrent = Number.POSITIVE_INFINITY; }\n    if (scheduler === void 0) { scheduler = undefined; }\n    concurrent = (concurrent || 0) < 1 ? Number.POSITIVE_INFINITY : concurrent;\n    return expand_1.expand(project, concurrent, scheduler)(this);\n}\nexports.expand = expand;\n//# sourceMappingURL=expand.js.map","\"use strict\";\nvar filter_1 = require('../operators/filter');\n/* tslint:enable:max-line-length */\n/**\n * Filter items emitted by the source Observable by only emitting those that\n * satisfy a specified predicate.\n *\n * <span class=\"informal\">Like\n * [Array.prototype.filter()](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/filter),\n * it only emits a value from the source if it passes a criterion function.</span>\n *\n * <img src=\"./img/filter.png\" width=\"100%\">\n *\n * Similar to the well-known `Array.prototype.filter` method, this operator\n * takes values from the source Observable, passes them through a `predicate`\n * function and only emits those values that yielded `true`.\n *\n * @example <caption>Emit only click events whose target was a DIV element</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var clicksOnDivs = clicks.filter(ev => ev.target.tagName === 'DIV');\n * clicksOnDivs.subscribe(x => console.log(x));\n *\n * @see {@link distinct}\n * @see {@link distinctUntilChanged}\n * @see {@link distinctUntilKeyChanged}\n * @see {@link ignoreElements}\n * @see {@link partition}\n * @see {@link skip}\n *\n * @param {function(value: T, index: number): boolean} predicate A function that\n * evaluates each value emitted by the source Observable. If it returns `true`,\n * the value is emitted, if `false` the value is not passed to the output\n * Observable. The `index` parameter is the number `i` for the i-th source\n * emission that has happened since the subscription, starting from the number\n * `0`.\n * @param {any} [thisArg] An optional argument to determine the value of `this`\n * in the `predicate` function.\n * @return {Observable} An Observable of values from the source that were\n * allowed by the `predicate` function.\n * @method filter\n * @owner Observable\n */\nfunction filter(predicate, thisArg) {\n    return filter_1.filter(predicate, thisArg)(this);\n}\nexports.filter = filter;\n//# sourceMappingURL=filter.js.map","\"use strict\";\nvar finalize_1 = require('../operators/finalize');\n/**\n * Returns an Observable that mirrors the source Observable, but will call a specified function when\n * the source terminates on complete or error.\n * @param {function} callback Function to be called when source terminates.\n * @return {Observable} An Observable that mirrors the source, but will call the specified function on termination.\n * @method finally\n * @owner Observable\n */\nfunction _finally(callback) {\n    return finalize_1.finalize(callback)(this);\n}\nexports._finally = _finally;\n//# sourceMappingURL=finally.js.map","\"use strict\";\nvar find_1 = require('../operators/find');\n/* tslint:enable:max-line-length */\n/**\n * Emits only the first value emitted by the source Observable that meets some\n * condition.\n *\n * <span class=\"informal\">Finds the first value that passes some test and emits\n * that.</span>\n *\n * <img src=\"./img/find.png\" width=\"100%\">\n *\n * `find` searches for the first item in the source Observable that matches the\n * specified condition embodied by the `predicate`, and returns the first\n * occurrence in the source. Unlike {@link first}, the `predicate` is required\n * in `find`, and does not emit an error if a valid value is not found.\n *\n * @example <caption>Find and emit the first click that happens on a DIV element</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var result = clicks.find(ev => ev.target.tagName === 'DIV');\n * result.subscribe(x => console.log(x));\n *\n * @see {@link filter}\n * @see {@link first}\n * @see {@link findIndex}\n * @see {@link take}\n *\n * @param {function(value: T, index: number, source: Observable<T>): boolean} predicate\n * A function called with each item to test for condition matching.\n * @param {any} [thisArg] An optional argument to determine the value of `this`\n * in the `predicate` function.\n * @return {Observable<T>} An Observable of the first item that matches the\n * condition.\n * @method find\n * @owner Observable\n */\nfunction find(predicate, thisArg) {\n    return find_1.find(predicate, thisArg)(this);\n}\nexports.find = find;\n//# sourceMappingURL=find.js.map","\"use strict\";\nvar findIndex_1 = require('../operators/findIndex');\n/**\n * Emits only the index of the first value emitted by the source Observable that\n * meets some condition.\n *\n * <span class=\"informal\">It's like {@link find}, but emits the index of the\n * found value, not the value itself.</span>\n *\n * <img src=\"./img/findIndex.png\" width=\"100%\">\n *\n * `findIndex` searches for the first item in the source Observable that matches\n * the specified condition embodied by the `predicate`, and returns the\n * (zero-based) index of the first occurrence in the source. Unlike\n * {@link first}, the `predicate` is required in `findIndex`, and does not emit\n * an error if a valid value is not found.\n *\n * @example <caption>Emit the index of first click that happens on a DIV element</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var result = clicks.findIndex(ev => ev.target.tagName === 'DIV');\n * result.subscribe(x => console.log(x));\n *\n * @see {@link filter}\n * @see {@link find}\n * @see {@link first}\n * @see {@link take}\n *\n * @param {function(value: T, index: number, source: Observable<T>): boolean} predicate\n * A function called with each item to test for condition matching.\n * @param {any} [thisArg] An optional argument to determine the value of `this`\n * in the `predicate` function.\n * @return {Observable} An Observable of the index of the first item that\n * matches the condition.\n * @method find\n * @owner Observable\n */\nfunction findIndex(predicate, thisArg) {\n    return findIndex_1.findIndex(predicate, thisArg)(this);\n}\nexports.findIndex = findIndex;\n//# sourceMappingURL=findIndex.js.map","\"use strict\";\nvar first_1 = require('../operators/first');\n/**\n * Emits only the first value (or the first value that meets some condition)\n * emitted by the source Observable.\n *\n * <span class=\"informal\">Emits only the first value. Or emits only the first\n * value that passes some test.</span>\n *\n * <img src=\"./img/first.png\" width=\"100%\">\n *\n * If called with no arguments, `first` emits the first value of the source\n * Observable, then completes. If called with a `predicate` function, `first`\n * emits the first value of the source that matches the specified condition. It\n * may also take a `resultSelector` function to produce the output value from\n * the input value, and a `defaultValue` to emit in case the source completes\n * before it is able to emit a valid value. Throws an error if `defaultValue`\n * was not provided and a matching element is not found.\n *\n * @example <caption>Emit only the first click that happens on the DOM</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var result = clicks.first();\n * result.subscribe(x => console.log(x));\n *\n * @example <caption>Emits the first click that happens on a DIV</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var result = clicks.first(ev => ev.target.tagName === 'DIV');\n * result.subscribe(x => console.log(x));\n *\n * @see {@link filter}\n * @see {@link find}\n * @see {@link take}\n *\n * @throws {EmptyError} Delivers an EmptyError to the Observer's `error`\n * callback if the Observable completes before any `next` notification was sent.\n *\n * @param {function(value: T, index: number, source: Observable<T>): boolean} [predicate]\n * An optional function called with each item to test for condition matching.\n * @param {function(value: T, index: number): R} [resultSelector] A function to\n * produce the value on the output Observable based on the values\n * and the indices of the source Observable. The arguments passed to this\n * function are:\n * - `value`: the value that was emitted on the source.\n * - `index`: the \"index\" of the value from the source.\n * @param {R} [defaultValue] The default value emitted in case no valid value\n * was found on the source.\n * @return {Observable<T|R>} An Observable of the first item that matches the\n * condition.\n * @method first\n * @owner Observable\n */\nfunction first(predicate, resultSelector, defaultValue) {\n    return first_1.first(predicate, resultSelector, defaultValue)(this);\n}\nexports.first = first;\n//# sourceMappingURL=first.js.map","\"use strict\";\nvar groupBy_1 = require('../operators/groupBy');\nexports.GroupedObservable = groupBy_1.GroupedObservable;\n/* tslint:enable:max-line-length */\n/**\n * Groups the items emitted by an Observable according to a specified criterion,\n * and emits these grouped items as `GroupedObservables`, one\n * {@link GroupedObservable} per group.\n *\n * <img src=\"./img/groupBy.png\" width=\"100%\">\n *\n * @example <caption>Group objects by id and return as array</caption>\n * Observable.of<Obj>({id: 1, name: 'aze1'},\n *                    {id: 2, name: 'sf2'},\n *                    {id: 2, name: 'dg2'},\n *                    {id: 1, name: 'erg1'},\n *                    {id: 1, name: 'df1'},\n *                    {id: 2, name: 'sfqfb2'},\n *                    {id: 3, name: 'qfs3'},\n *                    {id: 2, name: 'qsgqsfg2'}\n *     )\n *     .groupBy(p => p.id)\n *     .flatMap( (group$) => group$.reduce((acc, cur) => [...acc, cur], []))\n *     .subscribe(p => console.log(p));\n *\n * // displays:\n * // [ { id: 1, name: 'aze1' },\n * //   { id: 1, name: 'erg1' },\n * //   { id: 1, name: 'df1' } ]\n * //\n * // [ { id: 2, name: 'sf2' },\n * //   { id: 2, name: 'dg2' },\n * //   { id: 2, name: 'sfqfb2' },\n * //   { id: 2, name: 'qsgqsfg2' } ]\n * //\n * // [ { id: 3, name: 'qfs3' } ]\n *\n * @example <caption>Pivot data on the id field</caption>\n * Observable.of<Obj>({id: 1, name: 'aze1'},\n *                    {id: 2, name: 'sf2'},\n *                    {id: 2, name: 'dg2'},\n *                    {id: 1, name: 'erg1'},\n *                    {id: 1, name: 'df1'},\n *                    {id: 2, name: 'sfqfb2'},\n *                    {id: 3, name: 'qfs1'},\n *                    {id: 2, name: 'qsgqsfg2'}\n *                   )\n *     .groupBy(p => p.id, p => p.name)\n *     .flatMap( (group$) => group$.reduce((acc, cur) => [...acc, cur], [\"\" + group$.key]))\n *     .map(arr => ({'id': parseInt(arr[0]), 'values': arr.slice(1)}))\n *     .subscribe(p => console.log(p));\n *\n * // displays:\n * // { id: 1, values: [ 'aze1', 'erg1', 'df1' ] }\n * // { id: 2, values: [ 'sf2', 'dg2', 'sfqfb2', 'qsgqsfg2' ] }\n * // { id: 3, values: [ 'qfs1' ] }\n *\n * @param {function(value: T): K} keySelector A function that extracts the key\n * for each item.\n * @param {function(value: T): R} [elementSelector] A function that extracts the\n * return element for each item.\n * @param {function(grouped: GroupedObservable<K,R>): Observable<any>} [durationSelector]\n * A function that returns an Observable to determine how long each group should\n * exist.\n * @return {Observable<GroupedObservable<K,R>>} An Observable that emits\n * GroupedObservables, each of which corresponds to a unique key value and each\n * of which emits those items from the source Observable that share that key\n * value.\n * @method groupBy\n * @owner Observable\n */\nfunction groupBy(keySelector, elementSelector, durationSelector, subjectSelector) {\n    return groupBy_1.groupBy(keySelector, elementSelector, durationSelector, subjectSelector)(this);\n}\nexports.groupBy = groupBy;\n//# sourceMappingURL=groupBy.js.map","\"use strict\";\nvar ignoreElements_1 = require('../operators/ignoreElements');\n/**\n * Ignores all items emitted by the source Observable and only passes calls of `complete` or `error`.\n *\n * <img src=\"./img/ignoreElements.png\" width=\"100%\">\n *\n * @return {Observable} An empty Observable that only calls `complete`\n * or `error`, based on which one is called by the source Observable.\n * @method ignoreElements\n * @owner Observable\n */\nfunction ignoreElements() {\n    return ignoreElements_1.ignoreElements()(this);\n}\nexports.ignoreElements = ignoreElements;\n;\n//# sourceMappingURL=ignoreElements.js.map","\"use strict\";\nvar isEmpty_1 = require('../operators/isEmpty');\n/**\n * If the source Observable is empty it returns an Observable that emits true, otherwise it emits false.\n *\n * <img src=\"./img/isEmpty.png\" width=\"100%\">\n *\n * @return {Observable} An Observable that emits a Boolean.\n * @method isEmpty\n * @owner Observable\n */\nfunction isEmpty() {\n    return isEmpty_1.isEmpty()(this);\n}\nexports.isEmpty = isEmpty;\n//# sourceMappingURL=isEmpty.js.map","\"use strict\";\nvar last_1 = require('../operators/last');\n/* tslint:enable:max-line-length */\n/**\n * Returns an Observable that emits only the last item emitted by the source Observable.\n * It optionally takes a predicate function as a parameter, in which case, rather than emitting\n * the last item from the source Observable, the resulting Observable will emit the last item\n * from the source Observable that satisfies the predicate.\n *\n * <img src=\"./img/last.png\" width=\"100%\">\n *\n * @throws {EmptyError} Delivers an EmptyError to the Observer's `error`\n * callback if the Observable completes before any `next` notification was sent.\n * @param {function} predicate - The condition any source emitted item has to satisfy.\n * @return {Observable} An Observable that emits only the last item satisfying the given condition\n * from the source, or an NoSuchElementException if no such items are emitted.\n * @throws - Throws if no items that match the predicate are emitted by the source Observable.\n * @method last\n * @owner Observable\n */\nfunction last(predicate, resultSelector, defaultValue) {\n    return last_1.last(predicate, resultSelector, defaultValue)(this);\n}\nexports.last = last;\n//# sourceMappingURL=last.js.map","\"use strict\";\n/**\n * @param func\n * @return {Observable<R>}\n * @method let\n * @owner Observable\n */\nfunction letProto(func) {\n    return func(this);\n}\nexports.letProto = letProto;\n//# sourceMappingURL=let.js.map","\"use strict\";\nvar map_1 = require('../operators/map');\n/**\n * Applies a given `project` function to each value emitted by the source\n * Observable, and emits the resulting values as an Observable.\n *\n * <span class=\"informal\">Like [Array.prototype.map()](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/map),\n * it passes each source value through a transformation function to get\n * corresponding output values.</span>\n *\n * <img src=\"./img/map.png\" width=\"100%\">\n *\n * Similar to the well known `Array.prototype.map` function, this operator\n * applies a projection to each value and emits that projection in the output\n * Observable.\n *\n * @example <caption>Map every click to the clientX position of that click</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var positions = clicks.map(ev => ev.clientX);\n * positions.subscribe(x => console.log(x));\n *\n * @see {@link mapTo}\n * @see {@link pluck}\n *\n * @param {function(value: T, index: number): R} project The function to apply\n * to each `value` emitted by the source Observable. The `index` parameter is\n * the number `i` for the i-th emission that has happened since the\n * subscription, starting from the number `0`.\n * @param {any} [thisArg] An optional argument to define what `this` is in the\n * `project` function.\n * @return {Observable<R>} An Observable that emits the values from the source\n * Observable transformed by the given `project` function.\n * @method map\n * @owner Observable\n */\nfunction map(project, thisArg) {\n    return map_1.map(project, thisArg)(this);\n}\nexports.map = map;\n//# sourceMappingURL=map.js.map","\"use strict\";\nvar mapTo_1 = require('../operators/mapTo');\n/**\n * Emits the given constant value on the output Observable every time the source\n * Observable emits a value.\n *\n * <span class=\"informal\">Like {@link map}, but it maps every source value to\n * the same output value every time.</span>\n *\n * <img src=\"./img/mapTo.png\" width=\"100%\">\n *\n * Takes a constant `value` as argument, and emits that whenever the source\n * Observable emits a value. In other words, ignores the actual source value,\n * and simply uses the emission moment to know when to emit the given `value`.\n *\n * @example <caption>Map every click to the string 'Hi'</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var greetings = clicks.mapTo('Hi');\n * greetings.subscribe(x => console.log(x));\n *\n * @see {@link map}\n *\n * @param {any} value The value to map each source value to.\n * @return {Observable} An Observable that emits the given `value` every time\n * the source Observable emits something.\n * @method mapTo\n * @owner Observable\n */\nfunction mapTo(value) {\n    return mapTo_1.mapTo(value)(this);\n}\nexports.mapTo = mapTo;\n//# sourceMappingURL=mapTo.js.map","\"use strict\";\nvar materialize_1 = require('../operators/materialize');\n/**\n * Represents all of the notifications from the source Observable as `next`\n * emissions marked with their original types within {@link Notification}\n * objects.\n *\n * <span class=\"informal\">Wraps `next`, `error` and `complete` emissions in\n * {@link Notification} objects, emitted as `next` on the output Observable.\n * </span>\n *\n * <img src=\"./img/materialize.png\" width=\"100%\">\n *\n * `materialize` returns an Observable that emits a `next` notification for each\n * `next`, `error`, or `complete` emission of the source Observable. When the\n * source Observable emits `complete`, the output Observable will emit `next` as\n * a Notification of type \"complete\", and then it will emit `complete` as well.\n * When the source Observable emits `error`, the output will emit `next` as a\n * Notification of type \"error\", and then `complete`.\n *\n * This operator is useful for producing metadata of the source Observable, to\n * be consumed as `next` emissions. Use it in conjunction with\n * {@link dematerialize}.\n *\n * @example <caption>Convert a faulty Observable to an Observable of Notifications</caption>\n * var letters = Rx.Observable.of('a', 'b', 13, 'd');\n * var upperCase = letters.map(x => x.toUpperCase());\n * var materialized = upperCase.materialize();\n * materialized.subscribe(x => console.log(x));\n *\n * // Results in the following:\n * // - Notification {kind: \"N\", value: \"A\", error: undefined, hasValue: true}\n * // - Notification {kind: \"N\", value: \"B\", error: undefined, hasValue: true}\n * // - Notification {kind: \"E\", value: undefined, error: TypeError:\n * //   x.toUpperCase is not a function at MapSubscriber.letters.map.x\n * //   [as project] (http://1, hasValue: false}\n *\n * @see {@link Notification}\n * @see {@link dematerialize}\n *\n * @return {Observable<Notification<T>>} An Observable that emits\n * {@link Notification} objects that wrap the original emissions from the source\n * Observable with metadata.\n * @method materialize\n * @owner Observable\n */\nfunction materialize() {\n    return materialize_1.materialize()(this);\n}\nexports.materialize = materialize;\n//# sourceMappingURL=materialize.js.map","\"use strict\";\nvar max_1 = require('../operators/max');\n/**\n * The Max operator operates on an Observable that emits numbers (or items that can be compared with a provided function),\n * and when source Observable completes it emits a single item: the item with the largest value.\n *\n * <img src=\"./img/max.png\" width=\"100%\">\n *\n * @example <caption>Get the maximal value of a series of numbers</caption>\n * Rx.Observable.of(5, 4, 7, 2, 8)\n *   .max()\n *   .subscribe(x => console.log(x)); // -> 8\n *\n * @example <caption>Use a comparer function to get the maximal item</caption>\n * interface Person {\n *   age: number,\n *   name: string\n * }\n * Observable.of<Person>({age: 7, name: 'Foo'},\n *                       {age: 5, name: 'Bar'},\n *                       {age: 9, name: 'Beer'})\n *           .max<Person>((a: Person, b: Person) => a.age < b.age ? -1 : 1)\n *           .subscribe((x: Person) => console.log(x.name)); // -> 'Beer'\n * }\n *\n * @see {@link min}\n *\n * @param {Function} [comparer] - Optional comparer function that it will use instead of its default to compare the\n * value of two items.\n * @return {Observable} An Observable that emits item with the largest value.\n * @method max\n * @owner Observable\n */\nfunction max(comparer) {\n    return max_1.max(comparer)(this);\n}\nexports.max = max;\n//# sourceMappingURL=max.js.map","\"use strict\";\nvar merge_1 = require('../operators/merge');\nvar merge_2 = require('../observable/merge');\nexports.mergeStatic = merge_2.merge;\n/* tslint:enable:max-line-length */\n/**\n * Creates an output Observable which concurrently emits all values from every\n * given input Observable.\n *\n * <span class=\"informal\">Flattens multiple Observables together by blending\n * their values into one Observable.</span>\n *\n * <img src=\"./img/merge.png\" width=\"100%\">\n *\n * `merge` subscribes to each given input Observable (either the source or an\n * Observable given as argument), and simply forwards (without doing any\n * transformation) all the values from all the input Observables to the output\n * Observable. The output Observable only completes once all input Observables\n * have completed. Any error delivered by an input Observable will be immediately\n * emitted on the output Observable.\n *\n * @example <caption>Merge together two Observables: 1s interval and clicks</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var timer = Rx.Observable.interval(1000);\n * var clicksOrTimer = clicks.merge(timer);\n * clicksOrTimer.subscribe(x => console.log(x));\n *\n * @example <caption>Merge together 3 Observables, but only 2 run concurrently</caption>\n * var timer1 = Rx.Observable.interval(1000).take(10);\n * var timer2 = Rx.Observable.interval(2000).take(6);\n * var timer3 = Rx.Observable.interval(500).take(10);\n * var concurrent = 2; // the argument\n * var merged = timer1.merge(timer2, timer3, concurrent);\n * merged.subscribe(x => console.log(x));\n *\n * @see {@link mergeAll}\n * @see {@link mergeMap}\n * @see {@link mergeMapTo}\n * @see {@link mergeScan}\n *\n * @param {ObservableInput} other An input Observable to merge with the source\n * Observable. More than one input Observables may be given as argument.\n * @param {number} [concurrent=Number.POSITIVE_INFINITY] Maximum number of input\n * Observables being subscribed to concurrently.\n * @param {Scheduler} [scheduler=null] The IScheduler to use for managing\n * concurrency of input Observables.\n * @return {Observable} An Observable that emits items that are the result of\n * every input Observable.\n * @method merge\n * @owner Observable\n */\nfunction merge() {\n    var observables = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        observables[_i - 0] = arguments[_i];\n    }\n    return merge_1.merge.apply(void 0, observables)(this);\n}\nexports.merge = merge;\n//# sourceMappingURL=merge.js.map","\"use strict\";\nvar mergeAll_1 = require('../operators/mergeAll');\n/**\n * Converts a higher-order Observable into a first-order Observable which\n * concurrently delivers all values that are emitted on the inner Observables.\n *\n * <span class=\"informal\">Flattens an Observable-of-Observables.</span>\n *\n * <img src=\"./img/mergeAll.png\" width=\"100%\">\n *\n * `mergeAll` subscribes to an Observable that emits Observables, also known as\n * a higher-order Observable. Each time it observes one of these emitted inner\n * Observables, it subscribes to that and delivers all the values from the\n * inner Observable on the output Observable. The output Observable only\n * completes once all inner Observables have completed. Any error delivered by\n * a inner Observable will be immediately emitted on the output Observable.\n *\n * @example <caption>Spawn a new interval Observable for each click event, and blend their outputs as one Observable</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var higherOrder = clicks.map((ev) => Rx.Observable.interval(1000));\n * var firstOrder = higherOrder.mergeAll();\n * firstOrder.subscribe(x => console.log(x));\n *\n * @example <caption>Count from 0 to 9 every second for each click, but only allow 2 concurrent timers</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var higherOrder = clicks.map((ev) => Rx.Observable.interval(1000).take(10));\n * var firstOrder = higherOrder.mergeAll(2);\n * firstOrder.subscribe(x => console.log(x));\n *\n * @see {@link combineAll}\n * @see {@link concatAll}\n * @see {@link exhaust}\n * @see {@link merge}\n * @see {@link mergeMap}\n * @see {@link mergeMapTo}\n * @see {@link mergeScan}\n * @see {@link switch}\n * @see {@link zipAll}\n *\n * @param {number} [concurrent=Number.POSITIVE_INFINITY] Maximum number of inner\n * Observables being subscribed to concurrently.\n * @return {Observable} An Observable that emits values coming from all the\n * inner Observables emitted by the source Observable.\n * @method mergeAll\n * @owner Observable\n */\nfunction mergeAll(concurrent) {\n    if (concurrent === void 0) { concurrent = Number.POSITIVE_INFINITY; }\n    return mergeAll_1.mergeAll(concurrent)(this);\n}\nexports.mergeAll = mergeAll;\n//# sourceMappingURL=mergeAll.js.map","\"use strict\";\nvar mergeMap_1 = require('../operators/mergeMap');\n/* tslint:enable:max-line-length */\n/**\n * Projects each source value to an Observable which is merged in the output\n * Observable.\n *\n * <span class=\"informal\">Maps each value to an Observable, then flattens all of\n * these inner Observables using {@link mergeAll}.</span>\n *\n * <img src=\"./img/mergeMap.png\" width=\"100%\">\n *\n * Returns an Observable that emits items based on applying a function that you\n * supply to each item emitted by the source Observable, where that function\n * returns an Observable, and then merging those resulting Observables and\n * emitting the results of this merger.\n *\n * @example <caption>Map and flatten each letter to an Observable ticking every 1 second</caption>\n * var letters = Rx.Observable.of('a', 'b', 'c');\n * var result = letters.mergeMap(x =>\n *   Rx.Observable.interval(1000).map(i => x+i)\n * );\n * result.subscribe(x => console.log(x));\n *\n * // Results in the following:\n * // a0\n * // b0\n * // c0\n * // a1\n * // b1\n * // c1\n * // continues to list a,b,c with respective ascending integers\n *\n * @see {@link concatMap}\n * @see {@link exhaustMap}\n * @see {@link merge}\n * @see {@link mergeAll}\n * @see {@link mergeMapTo}\n * @see {@link mergeScan}\n * @see {@link switchMap}\n *\n * @param {function(value: T, ?index: number): ObservableInput} project A function\n * that, when applied to an item emitted by the source Observable, returns an\n * Observable.\n * @param {function(outerValue: T, innerValue: I, outerIndex: number, innerIndex: number): any} [resultSelector]\n * A function to produce the value on the output Observable based on the values\n * and the indices of the source (outer) emission and the inner Observable\n * emission. The arguments passed to this function are:\n * - `outerValue`: the value that came from the source\n * - `innerValue`: the value that came from the projected Observable\n * - `outerIndex`: the \"index\" of the value that came from the source\n * - `innerIndex`: the \"index\" of the value from the projected Observable\n * @param {number} [concurrent=Number.POSITIVE_INFINITY] Maximum number of input\n * Observables being subscribed to concurrently.\n * @return {Observable} An Observable that emits the result of applying the\n * projection function (and the optional `resultSelector`) to each item emitted\n * by the source Observable and merging the results of the Observables obtained\n * from this transformation.\n * @method mergeMap\n * @owner Observable\n */\nfunction mergeMap(project, resultSelector, concurrent) {\n    if (concurrent === void 0) { concurrent = Number.POSITIVE_INFINITY; }\n    return mergeMap_1.mergeMap(project, resultSelector, concurrent)(this);\n}\nexports.mergeMap = mergeMap;\n//# sourceMappingURL=mergeMap.js.map","\"use strict\";\nvar mergeMapTo_1 = require('../operators/mergeMapTo');\n/* tslint:enable:max-line-length */\n/**\n * Projects each source value to the same Observable which is merged multiple\n * times in the output Observable.\n *\n * <span class=\"informal\">It's like {@link mergeMap}, but maps each value always\n * to the same inner Observable.</span>\n *\n * <img src=\"./img/mergeMapTo.png\" width=\"100%\">\n *\n * Maps each source value to the given Observable `innerObservable` regardless\n * of the source value, and then merges those resulting Observables into one\n * single Observable, which is the output Observable.\n *\n * @example <caption>For each click event, start an interval Observable ticking every 1 second</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var result = clicks.mergeMapTo(Rx.Observable.interval(1000));\n * result.subscribe(x => console.log(x));\n *\n * @see {@link concatMapTo}\n * @see {@link merge}\n * @see {@link mergeAll}\n * @see {@link mergeMap}\n * @see {@link mergeScan}\n * @see {@link switchMapTo}\n *\n * @param {ObservableInput} innerObservable An Observable to replace each value from\n * the source Observable.\n * @param {function(outerValue: T, innerValue: I, outerIndex: number, innerIndex: number): any} [resultSelector]\n * A function to produce the value on the output Observable based on the values\n * and the indices of the source (outer) emission and the inner Observable\n * emission. The arguments passed to this function are:\n * - `outerValue`: the value that came from the source\n * - `innerValue`: the value that came from the projected Observable\n * - `outerIndex`: the \"index\" of the value that came from the source\n * - `innerIndex`: the \"index\" of the value from the projected Observable\n * @param {number} [concurrent=Number.POSITIVE_INFINITY] Maximum number of input\n * Observables being subscribed to concurrently.\n * @return {Observable} An Observable that emits items from the given\n * `innerObservable` (and optionally transformed through `resultSelector`) every\n * time a value is emitted on the source Observable.\n * @method mergeMapTo\n * @owner Observable\n */\nfunction mergeMapTo(innerObservable, resultSelector, concurrent) {\n    if (concurrent === void 0) { concurrent = Number.POSITIVE_INFINITY; }\n    return mergeMapTo_1.mergeMapTo(innerObservable, resultSelector, concurrent)(this);\n}\nexports.mergeMapTo = mergeMapTo;\n//# sourceMappingURL=mergeMapTo.js.map","\"use strict\";\nvar mergeScan_1 = require('../operators/mergeScan');\n/**\n * Applies an accumulator function over the source Observable where the\n * accumulator function itself returns an Observable, then each intermediate\n * Observable returned is merged into the output Observable.\n *\n * <span class=\"informal\">It's like {@link scan}, but the Observables returned\n * by the accumulator are merged into the outer Observable.</span>\n *\n * @example <caption>Count the number of click events</caption>\n * const click$ = Rx.Observable.fromEvent(document, 'click');\n * const one$ = click$.mapTo(1);\n * const seed = 0;\n * const count$ = one$.mergeScan((acc, one) => Rx.Observable.of(acc + one), seed);\n * count$.subscribe(x => console.log(x));\n *\n * // Results:\n * 1\n * 2\n * 3\n * 4\n * // ...and so on for each click\n *\n * @param {function(acc: R, value: T): Observable<R>} accumulator\n * The accumulator function called on each source value.\n * @param seed The initial accumulation value.\n * @param {number} [concurrent=Number.POSITIVE_INFINITY] Maximum number of\n * input Observables being subscribed to concurrently.\n * @return {Observable<R>} An observable of the accumulated values.\n * @method mergeScan\n * @owner Observable\n */\nfunction mergeScan(accumulator, seed, concurrent) {\n    if (concurrent === void 0) { concurrent = Number.POSITIVE_INFINITY; }\n    return mergeScan_1.mergeScan(accumulator, seed, concurrent)(this);\n}\nexports.mergeScan = mergeScan;\n//# sourceMappingURL=mergeScan.js.map","\"use strict\";\nvar min_1 = require('../operators/min');\n/**\n * The Min operator operates on an Observable that emits numbers (or items that can be compared with a provided function),\n * and when source Observable completes it emits a single item: the item with the smallest value.\n *\n * <img src=\"./img/min.png\" width=\"100%\">\n *\n * @example <caption>Get the minimal value of a series of numbers</caption>\n * Rx.Observable.of(5, 4, 7, 2, 8)\n *   .min()\n *   .subscribe(x => console.log(x)); // -> 2\n *\n * @example <caption>Use a comparer function to get the minimal item</caption>\n * interface Person {\n *   age: number,\n *   name: string\n * }\n * Observable.of<Person>({age: 7, name: 'Foo'},\n *                       {age: 5, name: 'Bar'},\n *                       {age: 9, name: 'Beer'})\n *           .min<Person>( (a: Person, b: Person) => a.age < b.age ? -1 : 1)\n *           .subscribe((x: Person) => console.log(x.name)); // -> 'Bar'\n * }\n *\n * @see {@link max}\n *\n * @param {Function} [comparer] - Optional comparer function that it will use instead of its default to compare the\n * value of two items.\n * @return {Observable<R>} An Observable that emits item with the smallest value.\n * @method min\n * @owner Observable\n */\nfunction min(comparer) {\n    return min_1.min(comparer)(this);\n}\nexports.min = min;\n//# sourceMappingURL=min.js.map","\"use strict\";\nvar multicast_1 = require('../operators/multicast');\n/* tslint:enable:max-line-length */\n/**\n * Allows source Observable to be subscribed only once with a Subject of choice,\n * while still sharing its values between multiple subscribers.\n *\n * <span class=\"informal\">Subscribe to Observable once, but send its values to multiple subscribers.</span>\n *\n * <img src=\"./img/multicast.png\" width=\"100%\">\n *\n * `multicast` is an operator that works in two modes.\n *\n * In the first mode you provide a single argument to it, which can be either an initialized Subject or a Subject\n * factory. As a result you will get a special kind of an Observable - a {@link ConnectableObservable}. It can be\n * subscribed multiple times, just as regular Observable, but it won't subscribe to the source Observable at that\n * moment. It will do it only if you call its `connect` method. This means you can essentially control by hand, when\n * source Observable will be actually subscribed. What is more, ConnectableObservable will share this one subscription\n * between all of its subscribers. This means that, for example, `ajax` Observable will only send a request once,\n * even though usually it would send a request per every subscriber. Since it sends a request at the moment of\n * subscription, here request would be sent when the `connect` method of a ConnectableObservable is called.\n *\n * The most common pattern of using ConnectableObservable is calling `connect` when the first consumer subscribes,\n * keeping the subscription alive while several consumers come and go and finally unsubscribing from the source\n * Observable, when the last consumer unsubscribes. To not implement that logic over and over again,\n * ConnectableObservable has a special operator, `refCount`. When called, it returns an Observable, which will count\n * the number of consumers subscribed to it and keep ConnectableObservable connected as long as there is at least\n * one consumer. So if you don't actually need to decide yourself when to connect and disconnect a\n * ConnectableObservable, use `refCount`.\n *\n * The second mode is invoked by calling `multicast` with an additional, second argument - selector function.\n * This function accepts an Observable - which basically mirrors the source Observable - and returns Observable\n * as well, which should be the input stream modified by any operators you want. Note that in this\n * mode you cannot provide initialized Subject as a first argument - it has to be a Subject factory. If\n * you provide selector function, `multicast` returns just a regular Observable, instead of ConnectableObservable.\n * Thus, as usual, each subscription to this stream triggers subscription to the source Observable. However,\n * if inside the selector function you subscribe to the input Observable multiple times, actual source stream\n * will be subscribed only once. So if you have a chain of operators that use some Observable many times,\n * but you want to subscribe to that Observable only once, this is the mode you would use.\n *\n * Subject provided as a first parameter of `multicast` is used as a proxy for the single subscription to the\n * source Observable. It means that all values from the source stream go through that Subject. Thus, if a Subject\n * has some special properties, Observable returned by `multicast` will have them as well. If you want to use\n * `multicast` with a Subject that is one of the ones included in RxJS by default - {@link Subject},\n * {@link AsyncSubject}, {@link BehaviorSubject}, or {@link ReplaySubject} - simply use {@link publish},\n * {@link publishLast}, {@link publishBehavior} or {@link publishReplay} respectively. These are actually\n * just wrappers around `multicast`, with a specific Subject hardcoded inside.\n *\n * Also, if you use {@link publish} or {@link publishReplay} with a ConnectableObservables `refCount` operator,\n * you can simply use {@link share} and {@link shareReplay} respectively, which chain these two.\n *\n * @example <caption>Use ConnectableObservable</caption>\n * const seconds = Rx.Observable.interval(1000);\n * const connectableSeconds = seconds.multicast(new Subject());\n *\n * connectableSeconds.subscribe(value => console.log('first: ' + value));\n * connectableSeconds.subscribe(value => console.log('second: ' + value));\n *\n * // At this point still nothing happens, even though we subscribed twice.\n *\n * connectableSeconds.connect();\n *\n * // From now on `seconds` are being logged to the console,\n * // twice per every second. `seconds` Observable was however only subscribed once,\n * // so under the hood Observable.interval had only one clock started.\n *\n * @example <caption>Use selector</caption>\n * const seconds = Rx.Observable.interval(1000);\n *\n * seconds\n *     .multicast(\n *         () => new Subject(),\n *         seconds => seconds.zip(seconds) // Usually zip would subscribe to `seconds` twice.\n *                                         // Because we are inside selector, `seconds` is subscribed once,\n *     )                                   // thus starting only one clock used internally by Observable.interval.\n *     .subscribe();\n *\n * @see {@link publish}\n * @see {@link publishLast}\n * @see {@link publishBehavior}\n * @see {@link publishReplay}\n * @see {@link share}\n * @see {@link shareReplay}\n *\n * @param {Function|Subject} subjectOrSubjectFactory - Factory function to create an intermediate Subject through\n * which the source sequence's elements will be multicast to the selector function input Observable or\n * ConnectableObservable returned by the operator.\n * @param {Function} [selector] - Optional selector function that can use the input stream\n * as many times as needed, without causing multiple subscriptions to the source stream.\n * Subscribers to the input source will receive all notifications of the source from the\n * time of the subscription forward.\n * @return {Observable<T>|ConnectableObservable<T>} An Observable that emits the results of invoking the selector\n * on the source stream or a special {@link ConnectableObservable}, if selector was not provided.\n *\n * @method multicast\n * @owner Observable\n */\nfunction multicast(subjectOrSubjectFactory, selector) {\n    return multicast_1.multicast(subjectOrSubjectFactory, selector)(this);\n}\nexports.multicast = multicast;\n//# sourceMappingURL=multicast.js.map","\"use strict\";\nvar observeOn_1 = require('../operators/observeOn');\n/**\n *\n * Re-emits all notifications from source Observable with specified scheduler.\n *\n * <span class=\"informal\">Ensure a specific scheduler is used, from outside of an Observable.</span>\n *\n * `observeOn` is an operator that accepts a scheduler as a first parameter, which will be used to reschedule\n * notifications emitted by the source Observable. It might be useful, if you do not have control over\n * internal scheduler of a given Observable, but want to control when its values are emitted nevertheless.\n *\n * Returned Observable emits the same notifications (nexted values, complete and error events) as the source Observable,\n * but rescheduled with provided scheduler. Note that this doesn't mean that source Observables internal\n * scheduler will be replaced in any way. Original scheduler still will be used, but when the source Observable emits\n * notification, it will be immediately scheduled again - this time with scheduler passed to `observeOn`.\n * An anti-pattern would be calling `observeOn` on Observable that emits lots of values synchronously, to split\n * that emissions into asynchronous chunks. For this to happen, scheduler would have to be passed into the source\n * Observable directly (usually into the operator that creates it). `observeOn` simply delays notifications a\n * little bit more, to ensure that they are emitted at expected moments.\n *\n * As a matter of fact, `observeOn` accepts second parameter, which specifies in milliseconds with what delay notifications\n * will be emitted. The main difference between {@link delay} operator and `observeOn` is that `observeOn`\n * will delay all notifications - including error notifications - while `delay` will pass through error\n * from source Observable immediately when it is emitted. In general it is highly recommended to use `delay` operator\n * for any kind of delaying of values in the stream, while using `observeOn` to specify which scheduler should be used\n * for notification emissions in general.\n *\n * @example <caption>Ensure values in subscribe are called just before browser repaint.</caption>\n * const intervals = Rx.Observable.interval(10); // Intervals are scheduled\n *                                               // with async scheduler by default...\n *\n * intervals\n * .observeOn(Rx.Scheduler.animationFrame)       // ...but we will observe on animationFrame\n * .subscribe(val => {                           // scheduler to ensure smooth animation.\n *   someDiv.style.height = val + 'px';\n * });\n *\n * @see {@link delay}\n *\n * @param {IScheduler} scheduler Scheduler that will be used to reschedule notifications from source Observable.\n * @param {number} [delay] Number of milliseconds that states with what delay every notification should be rescheduled.\n * @return {Observable<T>} Observable that emits the same notifications as the source Observable,\n * but with provided scheduler.\n *\n * @method observeOn\n * @owner Observable\n */\nfunction observeOn(scheduler, delay) {\n    if (delay === void 0) { delay = 0; }\n    return observeOn_1.observeOn(scheduler, delay)(this);\n}\nexports.observeOn = observeOn;\n//# sourceMappingURL=observeOn.js.map","\"use strict\";\nvar onErrorResumeNext_1 = require('../operators/onErrorResumeNext');\n/* tslint:enable:max-line-length */\n/**\n * When any of the provided Observable emits an complete or error notification, it immediately subscribes to the next one\n * that was passed.\n *\n * <span class=\"informal\">Execute series of Observables no matter what, even if it means swallowing errors.</span>\n *\n * <img src=\"./img/onErrorResumeNext.png\" width=\"100%\">\n *\n * `onErrorResumeNext` is an operator that accepts a series of Observables, provided either directly as\n * arguments or as an array. If no single Observable is provided, returned Observable will simply behave the same\n * as the source.\n *\n * `onErrorResumeNext` returns an Observable that starts by subscribing and re-emitting values from the source Observable.\n * When its stream of values ends - no matter if Observable completed or emitted an error - `onErrorResumeNext`\n * will subscribe to the first Observable that was passed as an argument to the method. It will start re-emitting\n * its values as well and - again - when that stream ends, `onErrorResumeNext` will proceed to subscribing yet another\n * Observable in provided series, no matter if previous Observable completed or ended with an error. This will\n * be happening until there is no more Observables left in the series, at which point returned Observable will\n * complete - even if the last subscribed stream ended with an error.\n *\n * `onErrorResumeNext` can be therefore thought of as version of {@link concat} operator, which is more permissive\n * when it comes to the errors emitted by its input Observables. While `concat` subscribes to the next Observable\n * in series only if previous one successfully completed, `onErrorResumeNext` subscribes even if it ended with\n * an error.\n *\n * Note that you do not get any access to errors emitted by the Observables. In particular do not\n * expect these errors to appear in error callback passed to {@link subscribe}. If you want to take\n * specific actions based on what error was emitted by an Observable, you should try out {@link catch} instead.\n *\n *\n * @example <caption>Subscribe to the next Observable after map fails</caption>\n * Rx.Observable.of(1, 2, 3, 0)\n *   .map(x => {\n *       if (x === 0) { throw Error(); }\n         return 10 / x;\n *   })\n *   .onErrorResumeNext(Rx.Observable.of(1, 2, 3))\n *   .subscribe(\n *     val => console.log(val),\n *     err => console.log(err),          // Will never be called.\n *     () => console.log('that\\'s it!')\n *   );\n *\n * // Logs:\n * // 10\n * // 5\n * // 3.3333333333333335\n * // 1\n * // 2\n * // 3\n * // \"that's it!\"\n *\n * @see {@link concat}\n * @see {@link catch}\n *\n * @param {...ObservableInput} observables Observables passed either directly or as an array.\n * @return {Observable} An Observable that emits values from source Observable, but - if it errors - subscribes\n * to the next passed Observable and so on, until it completes or runs out of Observables.\n * @method onErrorResumeNext\n * @owner Observable\n */\nfunction onErrorResumeNext() {\n    var nextSources = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        nextSources[_i - 0] = arguments[_i];\n    }\n    return onErrorResumeNext_1.onErrorResumeNext.apply(void 0, nextSources)(this);\n}\nexports.onErrorResumeNext = onErrorResumeNext;\n//# sourceMappingURL=onErrorResumeNext.js.map","\"use strict\";\nvar pairwise_1 = require('../operators/pairwise');\n/**\n * Groups pairs of consecutive emissions together and emits them as an array of\n * two values.\n *\n * <span class=\"informal\">Puts the current value and previous value together as\n * an array, and emits that.</span>\n *\n * <img src=\"./img/pairwise.png\" width=\"100%\">\n *\n * The Nth emission from the source Observable will cause the output Observable\n * to emit an array [(N-1)th, Nth] of the previous and the current value, as a\n * pair. For this reason, `pairwise` emits on the second and subsequent\n * emissions from the source Observable, but not on the first emission, because\n * there is no previous value in that case.\n *\n * @example <caption>On every click (starting from the second), emit the relative distance to the previous click</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var pairs = clicks.pairwise();\n * var distance = pairs.map(pair => {\n *   var x0 = pair[0].clientX;\n *   var y0 = pair[0].clientY;\n *   var x1 = pair[1].clientX;\n *   var y1 = pair[1].clientY;\n *   return Math.sqrt(Math.pow(x0 - x1, 2) + Math.pow(y0 - y1, 2));\n * });\n * distance.subscribe(x => console.log(x));\n *\n * @see {@link buffer}\n * @see {@link bufferCount}\n *\n * @return {Observable<Array<T>>} An Observable of pairs (as arrays) of\n * consecutive values from the source Observable.\n * @method pairwise\n * @owner Observable\n */\nfunction pairwise() {\n    return pairwise_1.pairwise()(this);\n}\nexports.pairwise = pairwise;\n//# sourceMappingURL=pairwise.js.map","\"use strict\";\nvar partition_1 = require('../operators/partition');\n/**\n * Splits the source Observable into two, one with values that satisfy a\n * predicate, and another with values that don't satisfy the predicate.\n *\n * <span class=\"informal\">It's like {@link filter}, but returns two Observables:\n * one like the output of {@link filter}, and the other with values that did not\n * pass the condition.</span>\n *\n * <img src=\"./img/partition.png\" width=\"100%\">\n *\n * `partition` outputs an array with two Observables that partition the values\n * from the source Observable through the given `predicate` function. The first\n * Observable in that array emits source values for which the predicate argument\n * returns true. The second Observable emits source values for which the\n * predicate returns false. The first behaves like {@link filter} and the second\n * behaves like {@link filter} with the predicate negated.\n *\n * @example <caption>Partition click events into those on DIV elements and those elsewhere</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var parts = clicks.partition(ev => ev.target.tagName === 'DIV');\n * var clicksOnDivs = parts[0];\n * var clicksElsewhere = parts[1];\n * clicksOnDivs.subscribe(x => console.log('DIV clicked: ', x));\n * clicksElsewhere.subscribe(x => console.log('Other clicked: ', x));\n *\n * @see {@link filter}\n *\n * @param {function(value: T, index: number): boolean} predicate A function that\n * evaluates each value emitted by the source Observable. If it returns `true`,\n * the value is emitted on the first Observable in the returned array, if\n * `false` the value is emitted on the second Observable in the array. The\n * `index` parameter is the number `i` for the i-th source emission that has\n * happened since the subscription, starting from the number `0`.\n * @param {any} [thisArg] An optional argument to determine the value of `this`\n * in the `predicate` function.\n * @return {[Observable<T>, Observable<T>]} An array with two Observables: one\n * with values that passed the predicate, and another with values that did not\n * pass the predicate.\n * @method partition\n * @owner Observable\n */\nfunction partition(predicate, thisArg) {\n    return partition_1.partition(predicate, thisArg)(this);\n}\nexports.partition = partition;\n//# sourceMappingURL=partition.js.map","\"use strict\";\nvar pluck_1 = require('../operators/pluck');\n/**\n * Maps each source value (an object) to its specified nested property.\n *\n * <span class=\"informal\">Like {@link map}, but meant only for picking one of\n * the nested properties of every emitted object.</span>\n *\n * <img src=\"./img/pluck.png\" width=\"100%\">\n *\n * Given a list of strings describing a path to an object property, retrieves\n * the value of a specified nested property from all values in the source\n * Observable. If a property can't be resolved, it will return `undefined` for\n * that value.\n *\n * @example <caption>Map every click to the tagName of the clicked target element</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var tagNames = clicks.pluck('target', 'tagName');\n * tagNames.subscribe(x => console.log(x));\n *\n * @see {@link map}\n *\n * @param {...string} properties The nested properties to pluck from each source\n * value (an object).\n * @return {Observable} A new Observable of property values from the source values.\n * @method pluck\n * @owner Observable\n */\nfunction pluck() {\n    var properties = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        properties[_i - 0] = arguments[_i];\n    }\n    return pluck_1.pluck.apply(void 0, properties)(this);\n}\nexports.pluck = pluck;\n//# sourceMappingURL=pluck.js.map","\"use strict\";\nvar publish_1 = require('../operators/publish');\n/* tslint:enable:max-line-length */\n/**\n * Returns a ConnectableObservable, which is a variety of Observable that waits until its connect method is called\n * before it begins emitting items to those Observers that have subscribed to it.\n *\n * <img src=\"./img/publish.png\" width=\"100%\">\n *\n * @param {Function} [selector] - Optional selector function which can use the multicasted source sequence as many times\n * as needed, without causing multiple subscriptions to the source sequence.\n * Subscribers to the given source will receive all notifications of the source from the time of the subscription on.\n * @return A ConnectableObservable that upon connection causes the source Observable to emit items to its Observers.\n * @method publish\n * @owner Observable\n */\nfunction publish(selector) {\n    return publish_1.publish(selector)(this);\n}\nexports.publish = publish;\n//# sourceMappingURL=publish.js.map","\"use strict\";\nvar publishBehavior_1 = require('../operators/publishBehavior');\n/**\n * @param value\n * @return {ConnectableObservable<T>}\n * @method publishBehavior\n * @owner Observable\n */\nfunction publishBehavior(value) {\n    return publishBehavior_1.publishBehavior(value)(this);\n}\nexports.publishBehavior = publishBehavior;\n//# sourceMappingURL=publishBehavior.js.map","\"use strict\";\nvar publishLast_1 = require('../operators/publishLast');\n/**\n * @return {ConnectableObservable<T>}\n * @method publishLast\n * @owner Observable\n */\nfunction publishLast() {\n    //TODO(benlesh): correct type-flow through here.\n    return publishLast_1.publishLast()(this);\n}\nexports.publishLast = publishLast;\n//# sourceMappingURL=publishLast.js.map","\"use strict\";\nvar publishReplay_1 = require('../operators/publishReplay');\n/* tslint:enable:max-line-length */\n/**\n * @param bufferSize\n * @param windowTime\n * @param selectorOrScheduler\n * @param scheduler\n * @return {Observable<T> | ConnectableObservable<T>}\n * @method publishReplay\n * @owner Observable\n */\nfunction publishReplay(bufferSize, windowTime, selectorOrScheduler, scheduler) {\n    return publishReplay_1.publishReplay(bufferSize, windowTime, selectorOrScheduler, scheduler)(this);\n}\nexports.publishReplay = publishReplay;\n//# sourceMappingURL=publishReplay.js.map","\"use strict\";\nvar race_1 = require('../operators/race');\n// NOTE: to support backwards compatability with 5.4.* and lower\nvar race_2 = require('../observable/race');\nexports.raceStatic = race_2.race;\n/* tslint:enable:max-line-length */\n/**\n * Returns an Observable that mirrors the first source Observable to emit an item\n * from the combination of this Observable and supplied Observables.\n * @param {...Observables} ...observables Sources used to race for which Observable emits first.\n * @return {Observable} An Observable that mirrors the output of the first Observable to emit an item.\n * @method race\n * @owner Observable\n */\nfunction race() {\n    var observables = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        observables[_i - 0] = arguments[_i];\n    }\n    return race_1.race.apply(void 0, observables)(this);\n}\nexports.race = race;\n//# sourceMappingURL=race.js.map","\"use strict\";\nvar reduce_1 = require('../operators/reduce');\n/* tslint:enable:max-line-length */\n/**\n * Applies an accumulator function over the source Observable, and returns the\n * accumulated result when the source completes, given an optional seed value.\n *\n * <span class=\"informal\">Combines together all values emitted on the source,\n * using an accumulator function that knows how to join a new source value into\n * the accumulation from the past.</span>\n *\n * <img src=\"./img/reduce.png\" width=\"100%\">\n *\n * Like\n * [Array.prototype.reduce()](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/reduce),\n * `reduce` applies an `accumulator` function against an accumulation and each\n * value of the source Observable (from the past) to reduce it to a single\n * value, emitted on the output Observable. Note that `reduce` will only emit\n * one value, only when the source Observable completes. It is equivalent to\n * applying operator {@link scan} followed by operator {@link last}.\n *\n * Returns an Observable that applies a specified `accumulator` function to each\n * item emitted by the source Observable. If a `seed` value is specified, then\n * that value will be used as the initial value for the accumulator. If no seed\n * value is specified, the first item of the source is used as the seed.\n *\n * @example <caption>Count the number of click events that happened in 5 seconds</caption>\n * var clicksInFiveSeconds = Rx.Observable.fromEvent(document, 'click')\n *   .takeUntil(Rx.Observable.interval(5000));\n * var ones = clicksInFiveSeconds.mapTo(1);\n * var seed = 0;\n * var count = ones.reduce((acc, one) => acc + one, seed);\n * count.subscribe(x => console.log(x));\n *\n * @see {@link count}\n * @see {@link expand}\n * @see {@link mergeScan}\n * @see {@link scan}\n *\n * @param {function(acc: R, value: T, index: number): R} accumulator The accumulator function\n * called on each source value.\n * @param {R} [seed] The initial accumulation value.\n * @return {Observable<R>} An Observable that emits a single value that is the\n * result of accumulating the values emitted by the source Observable.\n * @method reduce\n * @owner Observable\n */\nfunction reduce(accumulator, seed) {\n    // providing a seed of `undefined` *should* be valid and trigger\n    // hasSeed! so don't use `seed !== undefined` checks!\n    // For this reason, we have to check it here at the original call site\n    // otherwise inside Operator/Subscriber we won't know if `undefined`\n    // means they didn't provide anything or if they literally provided `undefined`\n    if (arguments.length >= 2) {\n        return reduce_1.reduce(accumulator, seed)(this);\n    }\n    return reduce_1.reduce(accumulator)(this);\n}\nexports.reduce = reduce;\n//# sourceMappingURL=reduce.js.map","\"use strict\";\nvar repeat_1 = require('../operators/repeat');\n/**\n * Returns an Observable that repeats the stream of items emitted by the source Observable at most count times.\n *\n * <img src=\"./img/repeat.png\" width=\"100%\">\n *\n * @param {number} [count] The number of times the source Observable items are repeated, a count of 0 will yield\n * an empty Observable.\n * @return {Observable} An Observable that repeats the stream of items emitted by the source Observable at most\n * count times.\n * @method repeat\n * @owner Observable\n */\nfunction repeat(count) {\n    if (count === void 0) { count = -1; }\n    return repeat_1.repeat(count)(this);\n}\nexports.repeat = repeat;\n//# sourceMappingURL=repeat.js.map","\"use strict\";\nvar repeatWhen_1 = require('../operators/repeatWhen');\n/**\n * Returns an Observable that mirrors the source Observable with the exception of a `complete`. If the source\n * Observable calls `complete`, this method will emit to the Observable returned from `notifier`. If that Observable\n * calls `complete` or `error`, then this method will call `complete` or `error` on the child subscription. Otherwise\n * this method will resubscribe to the source Observable.\n *\n * <img src=\"./img/repeatWhen.png\" width=\"100%\">\n *\n * @param {function(notifications: Observable): Observable} notifier - Receives an Observable of notifications with\n * which a user can `complete` or `error`, aborting the repetition.\n * @return {Observable} The source Observable modified with repeat logic.\n * @method repeatWhen\n * @owner Observable\n */\nfunction repeatWhen(notifier) {\n    return repeatWhen_1.repeatWhen(notifier)(this);\n}\nexports.repeatWhen = repeatWhen;\n//# sourceMappingURL=repeatWhen.js.map","\"use strict\";\nvar retry_1 = require('../operators/retry');\n/**\n * Returns an Observable that mirrors the source Observable with the exception of an `error`. If the source Observable\n * calls `error`, this method will resubscribe to the source Observable for a maximum of `count` resubscriptions (given\n * as a number parameter) rather than propagating the `error` call.\n *\n * <img src=\"./img/retry.png\" width=\"100%\">\n *\n * Any and all items emitted by the source Observable will be emitted by the resulting Observable, even those emitted\n * during failed subscriptions. For example, if an Observable fails at first but emits [1, 2] then succeeds the second\n * time and emits: [1, 2, 3, 4, 5] then the complete stream of emissions and notifications\n * would be: [1, 2, 1, 2, 3, 4, 5, `complete`].\n * @param {number} count - Number of retry attempts before failing.\n * @return {Observable} The source Observable modified with the retry logic.\n * @method retry\n * @owner Observable\n */\nfunction retry(count) {\n    if (count === void 0) { count = -1; }\n    return retry_1.retry(count)(this);\n}\nexports.retry = retry;\n//# sourceMappingURL=retry.js.map","\"use strict\";\nvar retryWhen_1 = require('../operators/retryWhen');\n/**\n * Returns an Observable that mirrors the source Observable with the exception of an `error`. If the source Observable\n * calls `error`, this method will emit the Throwable that caused the error to the Observable returned from `notifier`.\n * If that Observable calls `complete` or `error` then this method will call `complete` or `error` on the child\n * subscription. Otherwise this method will resubscribe to the source Observable.\n *\n * <img src=\"./img/retryWhen.png\" width=\"100%\">\n *\n * @param {function(errors: Observable): Observable} notifier - Receives an Observable of notifications with which a\n * user can `complete` or `error`, aborting the retry.\n * @return {Observable} The source Observable modified with retry logic.\n * @method retryWhen\n * @owner Observable\n */\nfunction retryWhen(notifier) {\n    return retryWhen_1.retryWhen(notifier)(this);\n}\nexports.retryWhen = retryWhen;\n//# sourceMappingURL=retryWhen.js.map","\"use strict\";\nvar sample_1 = require('../operators/sample');\n/**\n * Emits the most recently emitted value from the source Observable whenever\n * another Observable, the `notifier`, emits.\n *\n * <span class=\"informal\">It's like {@link sampleTime}, but samples whenever\n * the `notifier` Observable emits something.</span>\n *\n * <img src=\"./img/sample.png\" width=\"100%\">\n *\n * Whenever the `notifier` Observable emits a value or completes, `sample`\n * looks at the source Observable and emits whichever value it has most recently\n * emitted since the previous sampling, unless the source has not emitted\n * anything since the previous sampling. The `notifier` is subscribed to as soon\n * as the output Observable is subscribed.\n *\n * @example <caption>On every click, sample the most recent \"seconds\" timer</caption>\n * var seconds = Rx.Observable.interval(1000);\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var result = seconds.sample(clicks);\n * result.subscribe(x => console.log(x));\n *\n * @see {@link audit}\n * @see {@link debounce}\n * @see {@link sampleTime}\n * @see {@link throttle}\n *\n * @param {Observable<any>} notifier The Observable to use for sampling the\n * source Observable.\n * @return {Observable<T>} An Observable that emits the results of sampling the\n * values emitted by the source Observable whenever the notifier Observable\n * emits value or completes.\n * @method sample\n * @owner Observable\n */\nfunction sample(notifier) {\n    return sample_1.sample(notifier)(this);\n}\nexports.sample = sample;\n//# sourceMappingURL=sample.js.map","\"use strict\";\nvar async_1 = require('../scheduler/async');\nvar sampleTime_1 = require('../operators/sampleTime');\n/**\n * Emits the most recently emitted value from the source Observable within\n * periodic time intervals.\n *\n * <span class=\"informal\">Samples the source Observable at periodic time\n * intervals, emitting what it samples.</span>\n *\n * <img src=\"./img/sampleTime.png\" width=\"100%\">\n *\n * `sampleTime` periodically looks at the source Observable and emits whichever\n * value it has most recently emitted since the previous sampling, unless the\n * source has not emitted anything since the previous sampling. The sampling\n * happens periodically in time every `period` milliseconds (or the time unit\n * defined by the optional `scheduler` argument). The sampling starts as soon as\n * the output Observable is subscribed.\n *\n * @example <caption>Every second, emit the most recent click at most once</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var result = clicks.sampleTime(1000);\n * result.subscribe(x => console.log(x));\n *\n * @see {@link auditTime}\n * @see {@link debounceTime}\n * @see {@link delay}\n * @see {@link sample}\n * @see {@link throttleTime}\n *\n * @param {number} period The sampling period expressed in milliseconds or the\n * time unit determined internally by the optional `scheduler`.\n * @param {Scheduler} [scheduler=async] The {@link IScheduler} to use for\n * managing the timers that handle the sampling.\n * @return {Observable<T>} An Observable that emits the results of sampling the\n * values emitted by the source Observable at the specified time interval.\n * @method sampleTime\n * @owner Observable\n */\nfunction sampleTime(period, scheduler) {\n    if (scheduler === void 0) { scheduler = async_1.async; }\n    return sampleTime_1.sampleTime(period, scheduler)(this);\n}\nexports.sampleTime = sampleTime;\n//# sourceMappingURL=sampleTime.js.map","\"use strict\";\nvar scan_1 = require('../operators/scan');\n/* tslint:enable:max-line-length */\n/**\n * Applies an accumulator function over the source Observable, and returns each\n * intermediate result, with an optional seed value.\n *\n * <span class=\"informal\">It's like {@link reduce}, but emits the current\n * accumulation whenever the source emits a value.</span>\n *\n * <img src=\"./img/scan.png\" width=\"100%\">\n *\n * Combines together all values emitted on the source, using an accumulator\n * function that knows how to join a new source value into the accumulation from\n * the past. Is similar to {@link reduce}, but emits the intermediate\n * accumulations.\n *\n * Returns an Observable that applies a specified `accumulator` function to each\n * item emitted by the source Observable. If a `seed` value is specified, then\n * that value will be used as the initial value for the accumulator. If no seed\n * value is specified, the first item of the source is used as the seed.\n *\n * @example <caption>Count the number of click events</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var ones = clicks.mapTo(1);\n * var seed = 0;\n * var count = ones.scan((acc, one) => acc + one, seed);\n * count.subscribe(x => console.log(x));\n *\n * @see {@link expand}\n * @see {@link mergeScan}\n * @see {@link reduce}\n *\n * @param {function(acc: R, value: T, index: number): R} accumulator\n * The accumulator function called on each source value.\n * @param {T|R} [seed] The initial accumulation value.\n * @return {Observable<R>} An observable of the accumulated values.\n * @method scan\n * @owner Observable\n */\nfunction scan(accumulator, seed) {\n    if (arguments.length >= 2) {\n        return scan_1.scan(accumulator, seed)(this);\n    }\n    return scan_1.scan(accumulator)(this);\n}\nexports.scan = scan;\n//# sourceMappingURL=scan.js.map","\"use strict\";\nvar sequenceEqual_1 = require('../operators/sequenceEqual');\n/**\n * Compares all values of two observables in sequence using an optional comparor function\n * and returns an observable of a single boolean value representing whether or not the two sequences\n * are equal.\n *\n * <span class=\"informal\">Checks to see of all values emitted by both observables are equal, in order.</span>\n *\n * <img src=\"./img/sequenceEqual.png\" width=\"100%\">\n *\n * `sequenceEqual` subscribes to two observables and buffers incoming values from each observable. Whenever either\n * observable emits a value, the value is buffered and the buffers are shifted and compared from the bottom\n * up; If any value pair doesn't match, the returned observable will emit `false` and complete. If one of the\n * observables completes, the operator will wait for the other observable to complete; If the other\n * observable emits before completing, the returned observable will emit `false` and complete. If one observable never\n * completes or emits after the other complets, the returned observable will never complete.\n *\n * @example <caption>figure out if the Konami code matches</caption>\n * var code = Rx.Observable.from([\n *  \"ArrowUp\",\n *  \"ArrowUp\",\n *  \"ArrowDown\",\n *  \"ArrowDown\",\n *  \"ArrowLeft\",\n *  \"ArrowRight\",\n *  \"ArrowLeft\",\n *  \"ArrowRight\",\n *  \"KeyB\",\n *  \"KeyA\",\n *  \"Enter\" // no start key, clearly.\n * ]);\n *\n * var keys = Rx.Observable.fromEvent(document, 'keyup')\n *  .map(e => e.code);\n * var matches = keys.bufferCount(11, 1)\n *  .mergeMap(\n *    last11 =>\n *      Rx.Observable.from(last11)\n *        .sequenceEqual(code)\n *   );\n * matches.subscribe(matched => console.log('Successful cheat at Contra? ', matched));\n *\n * @see {@link combineLatest}\n * @see {@link zip}\n * @see {@link withLatestFrom}\n *\n * @param {Observable} compareTo The observable sequence to compare the source sequence to.\n * @param {function} [comparor] An optional function to compare each value pair\n * @return {Observable} An Observable of a single boolean value representing whether or not\n * the values emitted by both observables were equal in sequence.\n * @method sequenceEqual\n * @owner Observable\n */\nfunction sequenceEqual(compareTo, comparor) {\n    return sequenceEqual_1.sequenceEqual(compareTo, comparor)(this);\n}\nexports.sequenceEqual = sequenceEqual;\n//# sourceMappingURL=sequenceEqual.js.map","\"use strict\";\nvar share_1 = require('../operators/share');\n/**\n * Returns a new Observable that multicasts (shares) the original Observable. As long as there is at least one\n * Subscriber this Observable will be subscribed and emitting data. When all subscribers have unsubscribed it will\n * unsubscribe from the source Observable. Because the Observable is multicasting it makes the stream `hot`.\n *\n * This behaves similarly to .publish().refCount(), with a behavior difference when the source observable emits complete.\n * .publish().refCount() will not resubscribe to the original source, however .share() will resubscribe to the original source.\n * Observable.of(\"test\").publish().refCount() will not re-emit \"test\" on new subscriptions, Observable.of(\"test\").share() will\n * re-emit \"test\" to new subscriptions.\n *\n * <img src=\"./img/share.png\" width=\"100%\">\n *\n * @return {Observable<T>} An Observable that upon connection causes the source Observable to emit items to its Observers.\n * @method share\n * @owner Observable\n */\nfunction share() {\n    return share_1.share()(this);\n}\nexports.share = share;\n;\n//# sourceMappingURL=share.js.map","\"use strict\";\nvar shareReplay_1 = require('../operators/shareReplay');\n/**\n * @method shareReplay\n * @owner Observable\n */\nfunction shareReplay(bufferSize, windowTime, scheduler) {\n    return shareReplay_1.shareReplay(bufferSize, windowTime, scheduler)(this);\n}\nexports.shareReplay = shareReplay;\n;\n//# sourceMappingURL=shareReplay.js.map","\"use strict\";\nvar single_1 = require('../operators/single');\n/**\n * Returns an Observable that emits the single item emitted by the source Observable that matches a specified\n * predicate, if that Observable emits one such item. If the source Observable emits more than one such item or no\n * such items, notify of an IllegalArgumentException or NoSuchElementException respectively.\n *\n * <img src=\"./img/single.png\" width=\"100%\">\n *\n * @throws {EmptyError} Delivers an EmptyError to the Observer's `error`\n * callback if the Observable completes before any `next` notification was sent.\n * @param {Function} predicate - A predicate function to evaluate items emitted by the source Observable.\n * @return {Observable<T>} An Observable that emits the single item emitted by the source Observable that matches\n * the predicate.\n .\n * @method single\n * @owner Observable\n */\nfunction single(predicate) {\n    return single_1.single(predicate)(this);\n}\nexports.single = single;\n//# sourceMappingURL=single.js.map","\"use strict\";\nvar skip_1 = require('../operators/skip');\n/**\n * Returns an Observable that skips the first `count` items emitted by the source Observable.\n *\n * <img src=\"./img/skip.png\" width=\"100%\">\n *\n * @param {Number} count - The number of times, items emitted by source Observable should be skipped.\n * @return {Observable} An Observable that skips values emitted by the source Observable.\n *\n * @method skip\n * @owner Observable\n */\nfunction skip(count) {\n    return skip_1.skip(count)(this);\n}\nexports.skip = skip;\n//# sourceMappingURL=skip.js.map","\"use strict\";\nvar skipLast_1 = require('../operators/skipLast');\n/**\n * Skip the last `count` values emitted by the source Observable.\n *\n * <img src=\"./img/skipLast.png\" width=\"100%\">\n *\n * `skipLast` returns an Observable that accumulates a queue with a length\n * enough to store the first `count` values. As more values are received,\n * values are taken from the front of the queue and produced on the result\n * sequence. This causes values to be delayed.\n *\n * @example <caption>Skip the last 2 values of an Observable with many values</caption>\n * var many = Rx.Observable.range(1, 5);\n * var skipLastTwo = many.skipLast(2);\n * skipLastTwo.subscribe(x => console.log(x));\n *\n * // Results in:\n * // 1 2 3\n *\n * @see {@link skip}\n * @see {@link skipUntil}\n * @see {@link skipWhile}\n * @see {@link take}\n *\n * @throws {ArgumentOutOfRangeError} When using `skipLast(i)`, it throws\n * ArgumentOutOrRangeError if `i < 0`.\n *\n * @param {number} count Number of elements to skip from the end of the source Observable.\n * @returns {Observable<T>} An Observable that skips the last count values\n * emitted by the source Observable.\n * @method skipLast\n * @owner Observable\n */\nfunction skipLast(count) {\n    return skipLast_1.skipLast(count)(this);\n}\nexports.skipLast = skipLast;\n//# sourceMappingURL=skipLast.js.map","\"use strict\";\nvar skipUntil_1 = require('../operators/skipUntil');\n/**\n * Returns an Observable that skips items emitted by the source Observable until a second Observable emits an item.\n *\n * <img src=\"./img/skipUntil.png\" width=\"100%\">\n *\n * @param {Observable} notifier - The second Observable that has to emit an item before the source Observable's elements begin to\n * be mirrored by the resulting Observable.\n * @return {Observable<T>} An Observable that skips items from the source Observable until the second Observable emits\n * an item, then emits the remaining items.\n * @method skipUntil\n * @owner Observable\n */\nfunction skipUntil(notifier) {\n    return skipUntil_1.skipUntil(notifier)(this);\n}\nexports.skipUntil = skipUntil;\n//# sourceMappingURL=skipUntil.js.map","\"use strict\";\nvar skipWhile_1 = require('../operators/skipWhile');\n/**\n * Returns an Observable that skips all items emitted by the source Observable as long as a specified condition holds\n * true, but emits all further source items as soon as the condition becomes false.\n *\n * <img src=\"./img/skipWhile.png\" width=\"100%\">\n *\n * @param {Function} predicate - A function to test each item emitted from the source Observable.\n * @return {Observable<T>} An Observable that begins emitting items emitted by the source Observable when the\n * specified predicate becomes false.\n * @method skipWhile\n * @owner Observable\n */\nfunction skipWhile(predicate) {\n    return skipWhile_1.skipWhile(predicate)(this);\n}\nexports.skipWhile = skipWhile;\n//# sourceMappingURL=skipWhile.js.map","\"use strict\";\nvar startWith_1 = require('../operators/startWith');\n/* tslint:enable:max-line-length */\n/**\n * Returns an Observable that emits the items you specify as arguments before it begins to emit\n * items emitted by the source Observable.\n *\n * <img src=\"./img/startWith.png\" width=\"100%\">\n *\n * @param {...T} values - Items you want the modified Observable to emit first.\n * @param {Scheduler} [scheduler] - A {@link IScheduler} to use for scheduling\n * the emissions of the `next` notifications.\n * @return {Observable} An Observable that emits the items in the specified Iterable and then emits the items\n * emitted by the source Observable.\n * @method startWith\n * @owner Observable\n */\nfunction startWith() {\n    var array = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        array[_i - 0] = arguments[_i];\n    }\n    return startWith_1.startWith.apply(void 0, array)(this);\n}\nexports.startWith = startWith;\n//# sourceMappingURL=startWith.js.map","\"use strict\";\nvar subscribeOn_1 = require('../operators/subscribeOn');\n/**\n * Asynchronously subscribes Observers to this Observable on the specified IScheduler.\n *\n * <img src=\"./img/subscribeOn.png\" width=\"100%\">\n *\n * @param {Scheduler} scheduler - The IScheduler to perform subscription actions on.\n * @return {Observable<T>} The source Observable modified so that its subscriptions happen on the specified IScheduler.\n .\n * @method subscribeOn\n * @owner Observable\n */\nfunction subscribeOn(scheduler, delay) {\n    if (delay === void 0) { delay = 0; }\n    return subscribeOn_1.subscribeOn(scheduler, delay)(this);\n}\nexports.subscribeOn = subscribeOn;\n//# sourceMappingURL=subscribeOn.js.map","\"use strict\";\nvar switchAll_1 = require('../operators/switchAll');\n/**\n * Converts a higher-order Observable into a first-order Observable by\n * subscribing to only the most recently emitted of those inner Observables.\n *\n * <span class=\"informal\">Flattens an Observable-of-Observables by dropping the\n * previous inner Observable once a new one appears.</span>\n *\n * <img src=\"./img/switch.png\" width=\"100%\">\n *\n * `switch` subscribes to an Observable that emits Observables, also known as a\n * higher-order Observable. Each time it observes one of these emitted inner\n * Observables, the output Observable subscribes to the inner Observable and\n * begins emitting the items emitted by that. So far, it behaves\n * like {@link mergeAll}. However, when a new inner Observable is emitted,\n * `switch` unsubscribes from the earlier-emitted inner Observable and\n * subscribes to the new inner Observable and begins emitting items from it. It\n * continues to behave like this for subsequent inner Observables.\n *\n * @example <caption>Rerun an interval Observable on every click event</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * // Each click event is mapped to an Observable that ticks every second\n * var higherOrder = clicks.map((ev) => Rx.Observable.interval(1000));\n * var switched = higherOrder.switch();\n * // The outcome is that `switched` is essentially a timer that restarts\n * // on every click. The interval Observables from older clicks do not merge\n * // with the current interval Observable.\n * switched.subscribe(x => console.log(x));\n *\n * @see {@link combineAll}\n * @see {@link concatAll}\n * @see {@link exhaust}\n * @see {@link mergeAll}\n * @see {@link switchMap}\n * @see {@link switchMapTo}\n * @see {@link zipAll}\n *\n * @return {Observable<T>} An Observable that emits the items emitted by the\n * Observable most recently emitted by the source Observable.\n * @method switch\n * @name switch\n * @owner Observable\n */\nfunction _switch() {\n    return switchAll_1.switchAll()(this);\n}\nexports._switch = _switch;\n//# sourceMappingURL=switch.js.map","\"use strict\";\nvar switchMap_1 = require('../operators/switchMap');\n/* tslint:enable:max-line-length */\n/**\n * Projects each source value to an Observable which is merged in the output\n * Observable, emitting values only from the most recently projected Observable.\n *\n * <span class=\"informal\">Maps each value to an Observable, then flattens all of\n * these inner Observables using {@link switch}.</span>\n *\n * <img src=\"./img/switchMap.png\" width=\"100%\">\n *\n * Returns an Observable that emits items based on applying a function that you\n * supply to each item emitted by the source Observable, where that function\n * returns an (so-called \"inner\") Observable. Each time it observes one of these\n * inner Observables, the output Observable begins emitting the items emitted by\n * that inner Observable. When a new inner Observable is emitted, `switchMap`\n * stops emitting items from the earlier-emitted inner Observable and begins\n * emitting items from the new one. It continues to behave like this for\n * subsequent inner Observables.\n *\n * @example <caption>Rerun an interval Observable on every click event</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var result = clicks.switchMap((ev) => Rx.Observable.interval(1000));\n * result.subscribe(x => console.log(x));\n *\n * @see {@link concatMap}\n * @see {@link exhaustMap}\n * @see {@link mergeMap}\n * @see {@link switch}\n * @see {@link switchMapTo}\n *\n * @param {function(value: T, ?index: number): ObservableInput} project A function\n * that, when applied to an item emitted by the source Observable, returns an\n * Observable.\n * @param {function(outerValue: T, innerValue: I, outerIndex: number, innerIndex: number): any} [resultSelector]\n * A function to produce the value on the output Observable based on the values\n * and the indices of the source (outer) emission and the inner Observable\n * emission. The arguments passed to this function are:\n * - `outerValue`: the value that came from the source\n * - `innerValue`: the value that came from the projected Observable\n * - `outerIndex`: the \"index\" of the value that came from the source\n * - `innerIndex`: the \"index\" of the value from the projected Observable\n * @return {Observable} An Observable that emits the result of applying the\n * projection function (and the optional `resultSelector`) to each item emitted\n * by the source Observable and taking only the values from the most recently\n * projected inner Observable.\n * @method switchMap\n * @owner Observable\n */\nfunction switchMap(project, resultSelector) {\n    return switchMap_1.switchMap(project, resultSelector)(this);\n}\nexports.switchMap = switchMap;\n//# sourceMappingURL=switchMap.js.map","\"use strict\";\nvar switchMapTo_1 = require('../operators/switchMapTo');\n/* tslint:enable:max-line-length */\n/**\n * Projects each source value to the same Observable which is flattened multiple\n * times with {@link switch} in the output Observable.\n *\n * <span class=\"informal\">It's like {@link switchMap}, but maps each value\n * always to the same inner Observable.</span>\n *\n * <img src=\"./img/switchMapTo.png\" width=\"100%\">\n *\n * Maps each source value to the given Observable `innerObservable` regardless\n * of the source value, and then flattens those resulting Observables into one\n * single Observable, which is the output Observable. The output Observables\n * emits values only from the most recently emitted instance of\n * `innerObservable`.\n *\n * @example <caption>Rerun an interval Observable on every click event</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var result = clicks.switchMapTo(Rx.Observable.interval(1000));\n * result.subscribe(x => console.log(x));\n *\n * @see {@link concatMapTo}\n * @see {@link switch}\n * @see {@link switchMap}\n * @see {@link mergeMapTo}\n *\n * @param {ObservableInput} innerObservable An Observable to replace each value from\n * the source Observable.\n * @param {function(outerValue: T, innerValue: I, outerIndex: number, innerIndex: number): any} [resultSelector]\n * A function to produce the value on the output Observable based on the values\n * and the indices of the source (outer) emission and the inner Observable\n * emission. The arguments passed to this function are:\n * - `outerValue`: the value that came from the source\n * - `innerValue`: the value that came from the projected Observable\n * - `outerIndex`: the \"index\" of the value that came from the source\n * - `innerIndex`: the \"index\" of the value from the projected Observable\n * @return {Observable} An Observable that emits items from the given\n * `innerObservable` (and optionally transformed through `resultSelector`) every\n * time a value is emitted on the source Observable, and taking only the values\n * from the most recently projected inner Observable.\n * @method switchMapTo\n * @owner Observable\n */\nfunction switchMapTo(innerObservable, resultSelector) {\n    return switchMapTo_1.switchMapTo(innerObservable, resultSelector)(this);\n}\nexports.switchMapTo = switchMapTo;\n//# sourceMappingURL=switchMapTo.js.map","\"use strict\";\nvar take_1 = require('../operators/take');\n/**\n * Emits only the first `count` values emitted by the source Observable.\n *\n * <span class=\"informal\">Takes the first `count` values from the source, then\n * completes.</span>\n *\n * <img src=\"./img/take.png\" width=\"100%\">\n *\n * `take` returns an Observable that emits only the first `count` values emitted\n * by the source Observable. If the source emits fewer than `count` values then\n * all of its values are emitted. After that, it completes, regardless if the\n * source completes.\n *\n * @example <caption>Take the first 5 seconds of an infinite 1-second interval Observable</caption>\n * var interval = Rx.Observable.interval(1000);\n * var five = interval.take(5);\n * five.subscribe(x => console.log(x));\n *\n * @see {@link takeLast}\n * @see {@link takeUntil}\n * @see {@link takeWhile}\n * @see {@link skip}\n *\n * @throws {ArgumentOutOfRangeError} When using `take(i)`, it delivers an\n * ArgumentOutOrRangeError to the Observer's `error` callback if `i < 0`.\n *\n * @param {number} count The maximum number of `next` values to emit.\n * @return {Observable<T>} An Observable that emits only the first `count`\n * values emitted by the source Observable, or all of the values from the source\n * if the source emits fewer than `count` values.\n * @method take\n * @owner Observable\n */\nfunction take(count) {\n    return take_1.take(count)(this);\n}\nexports.take = take;\n//# sourceMappingURL=take.js.map","\"use strict\";\nvar takeLast_1 = require('../operators/takeLast');\n/**\n * Emits only the last `count` values emitted by the source Observable.\n *\n * <span class=\"informal\">Remembers the latest `count` values, then emits those\n * only when the source completes.</span>\n *\n * <img src=\"./img/takeLast.png\" width=\"100%\">\n *\n * `takeLast` returns an Observable that emits at most the last `count` values\n * emitted by the source Observable. If the source emits fewer than `count`\n * values then all of its values are emitted. This operator must wait until the\n * `complete` notification emission from the source in order to emit the `next`\n * values on the output Observable, because otherwise it is impossible to know\n * whether or not more values will be emitted on the source. For this reason,\n * all values are emitted synchronously, followed by the complete notification.\n *\n * @example <caption>Take the last 3 values of an Observable with many values</caption>\n * var many = Rx.Observable.range(1, 100);\n * var lastThree = many.takeLast(3);\n * lastThree.subscribe(x => console.log(x));\n *\n * @see {@link take}\n * @see {@link takeUntil}\n * @see {@link takeWhile}\n * @see {@link skip}\n *\n * @throws {ArgumentOutOfRangeError} When using `takeLast(i)`, it delivers an\n * ArgumentOutOrRangeError to the Observer's `error` callback if `i < 0`.\n *\n * @param {number} count The maximum number of values to emit from the end of\n * the sequence of values emitted by the source Observable.\n * @return {Observable<T>} An Observable that emits at most the last count\n * values emitted by the source Observable.\n * @method takeLast\n * @owner Observable\n */\nfunction takeLast(count) {\n    return takeLast_1.takeLast(count)(this);\n}\nexports.takeLast = takeLast;\n//# sourceMappingURL=takeLast.js.map","\"use strict\";\nvar takeUntil_1 = require('../operators/takeUntil');\n/**\n * Emits the values emitted by the source Observable until a `notifier`\n * Observable emits a value.\n *\n * <span class=\"informal\">Lets values pass until a second Observable,\n * `notifier`, emits something. Then, it completes.</span>\n *\n * <img src=\"./img/takeUntil.png\" width=\"100%\">\n *\n * `takeUntil` subscribes and begins mirroring the source Observable. It also\n * monitors a second Observable, `notifier` that you provide. If the `notifier`\n * emits a value, the output Observable stops mirroring the source Observable\n * and completes.\n *\n * @example <caption>Tick every second until the first click happens</caption>\n * var interval = Rx.Observable.interval(1000);\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var result = interval.takeUntil(clicks);\n * result.subscribe(x => console.log(x));\n *\n * @see {@link take}\n * @see {@link takeLast}\n * @see {@link takeWhile}\n * @see {@link skip}\n *\n * @param {Observable} notifier The Observable whose first emitted value will\n * cause the output Observable of `takeUntil` to stop emitting values from the\n * source Observable.\n * @return {Observable<T>} An Observable that emits the values from the source\n * Observable until such time as `notifier` emits its first value.\n * @method takeUntil\n * @owner Observable\n */\nfunction takeUntil(notifier) {\n    return takeUntil_1.takeUntil(notifier)(this);\n}\nexports.takeUntil = takeUntil;\n//# sourceMappingURL=takeUntil.js.map","\"use strict\";\nvar takeWhile_1 = require('../operators/takeWhile');\n/**\n * Emits values emitted by the source Observable so long as each value satisfies\n * the given `predicate`, and then completes as soon as this `predicate` is not\n * satisfied.\n *\n * <span class=\"informal\">Takes values from the source only while they pass the\n * condition given. When the first value does not satisfy, it completes.</span>\n *\n * <img src=\"./img/takeWhile.png\" width=\"100%\">\n *\n * `takeWhile` subscribes and begins mirroring the source Observable. Each value\n * emitted on the source is given to the `predicate` function which returns a\n * boolean, representing a condition to be satisfied by the source values. The\n * output Observable emits the source values until such time as the `predicate`\n * returns false, at which point `takeWhile` stops mirroring the source\n * Observable and completes the output Observable.\n *\n * @example <caption>Emit click events only while the clientX property is greater than 200</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var result = clicks.takeWhile(ev => ev.clientX > 200);\n * result.subscribe(x => console.log(x));\n *\n * @see {@link take}\n * @see {@link takeLast}\n * @see {@link takeUntil}\n * @see {@link skip}\n *\n * @param {function(value: T, index: number): boolean} predicate A function that\n * evaluates a value emitted by the source Observable and returns a boolean.\n * Also takes the (zero-based) index as the second argument.\n * @return {Observable<T>} An Observable that emits the values from the source\n * Observable so long as each value satisfies the condition defined by the\n * `predicate`, then completes.\n * @method takeWhile\n * @owner Observable\n */\nfunction takeWhile(predicate) {\n    return takeWhile_1.takeWhile(predicate)(this);\n}\nexports.takeWhile = takeWhile;\n//# sourceMappingURL=takeWhile.js.map","\"use strict\";\nvar throttle_1 = require('../operators/throttle');\n/**\n * Emits a value from the source Observable, then ignores subsequent source\n * values for a duration determined by another Observable, then repeats this\n * process.\n *\n * <span class=\"informal\">It's like {@link throttleTime}, but the silencing\n * duration is determined by a second Observable.</span>\n *\n * <img src=\"./img/throttle.png\" width=\"100%\">\n *\n * `throttle` emits the source Observable values on the output Observable\n * when its internal timer is disabled, and ignores source values when the timer\n * is enabled. Initially, the timer is disabled. As soon as the first source\n * value arrives, it is forwarded to the output Observable, and then the timer\n * is enabled by calling the `durationSelector` function with the source value,\n * which returns the \"duration\" Observable. When the duration Observable emits a\n * value or completes, the timer is disabled, and this process repeats for the\n * next source value.\n *\n * @example <caption>Emit clicks at a rate of at most one click per second</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var result = clicks.throttle(ev => Rx.Observable.interval(1000));\n * result.subscribe(x => console.log(x));\n *\n * @see {@link audit}\n * @see {@link debounce}\n * @see {@link delayWhen}\n * @see {@link sample}\n * @see {@link throttleTime}\n *\n * @param {function(value: T): SubscribableOrPromise} durationSelector A function\n * that receives a value from the source Observable, for computing the silencing\n * duration for each source value, returned as an Observable or a Promise.\n * @param {Object} config a configuration object to define `leading` and `trailing` behavior. Defaults\n * to `{ leading: true, trailing: false }`.\n * @return {Observable<T>} An Observable that performs the throttle operation to\n * limit the rate of emissions from the source.\n * @method throttle\n * @owner Observable\n */\nfunction throttle(durationSelector, config) {\n    if (config === void 0) { config = throttle_1.defaultThrottleConfig; }\n    return throttle_1.throttle(durationSelector, config)(this);\n}\nexports.throttle = throttle;\n//# sourceMappingURL=throttle.js.map","\"use strict\";\nvar async_1 = require('../scheduler/async');\nvar throttle_1 = require('../operators/throttle');\nvar throttleTime_1 = require('../operators/throttleTime');\n/**\n * Emits a value from the source Observable, then ignores subsequent source\n * values for `duration` milliseconds, then repeats this process.\n *\n * <span class=\"informal\">Lets a value pass, then ignores source values for the\n * next `duration` milliseconds.</span>\n *\n * <img src=\"./img/throttleTime.png\" width=\"100%\">\n *\n * `throttleTime` emits the source Observable values on the output Observable\n * when its internal timer is disabled, and ignores source values when the timer\n * is enabled. Initially, the timer is disabled. As soon as the first source\n * value arrives, it is forwarded to the output Observable, and then the timer\n * is enabled. After `duration` milliseconds (or the time unit determined\n * internally by the optional `scheduler`) has passed, the timer is disabled,\n * and this process repeats for the next source value. Optionally takes a\n * {@link IScheduler} for managing timers.\n *\n * @example <caption>Emit clicks at a rate of at most one click per second</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var result = clicks.throttleTime(1000);\n * result.subscribe(x => console.log(x));\n *\n * @see {@link auditTime}\n * @see {@link debounceTime}\n * @see {@link delay}\n * @see {@link sampleTime}\n * @see {@link throttle}\n *\n * @param {number} duration Time to wait before emitting another value after\n * emitting the last value, measured in milliseconds or the time unit determined\n * internally by the optional `scheduler`.\n * @param {Scheduler} [scheduler=async] The {@link IScheduler} to use for\n * managing the timers that handle the throttling.\n * @return {Observable<T>} An Observable that performs the throttle operation to\n * limit the rate of emissions from the source.\n * @method throttleTime\n * @owner Observable\n */\nfunction throttleTime(duration, scheduler, config) {\n    if (scheduler === void 0) { scheduler = async_1.async; }\n    if (config === void 0) { config = throttle_1.defaultThrottleConfig; }\n    return throttleTime_1.throttleTime(duration, scheduler, config)(this);\n}\nexports.throttleTime = throttleTime;\n//# sourceMappingURL=throttleTime.js.map","\"use strict\";\nvar async_1 = require('../scheduler/async');\nvar timeInterval_1 = require('../operators/timeInterval');\nexports.TimeInterval = timeInterval_1.TimeInterval;\n/**\n * @param scheduler\n * @return {Observable<TimeInterval<any>>|WebSocketSubject<T>|Observable<T>}\n * @method timeInterval\n * @owner Observable\n */\nfunction timeInterval(scheduler) {\n    if (scheduler === void 0) { scheduler = async_1.async; }\n    return timeInterval_1.timeInterval(scheduler)(this);\n}\nexports.timeInterval = timeInterval;\n//# sourceMappingURL=timeInterval.js.map","\"use strict\";\nvar async_1 = require('../scheduler/async');\nvar timeout_1 = require('../operators/timeout');\n/**\n *\n * Errors if Observable does not emit a value in given time span.\n *\n * <span class=\"informal\">Timeouts on Observable that doesn't emit values fast enough.</span>\n *\n * <img src=\"./img/timeout.png\" width=\"100%\">\n *\n * `timeout` operator accepts as an argument either a number or a Date.\n *\n * If number was provided, it returns an Observable that behaves like a source\n * Observable, unless there is a period of time where there is no value emitted.\n * So if you provide `100` as argument and first value comes after 50ms from\n * the moment of subscription, this value will be simply re-emitted by the resulting\n * Observable. If however after that 100ms passes without a second value being emitted,\n * stream will end with an error and source Observable will be unsubscribed.\n * These checks are performed throughout whole lifecycle of Observable - from the moment\n * it was subscribed to, until it completes or errors itself. Thus every value must be\n * emitted within specified period since previous value.\n *\n * If provided argument was Date, returned Observable behaves differently. It throws\n * if Observable did not complete before provided Date. This means that periods between\n * emission of particular values do not matter in this case. If Observable did not complete\n * before provided Date, source Observable will be unsubscribed. Other than that, resulting\n * stream behaves just as source Observable.\n *\n * `timeout` accepts also a Scheduler as a second parameter. It is used to schedule moment (or moments)\n * when returned Observable will check if source stream emitted value or completed.\n *\n * @example <caption>Check if ticks are emitted within certain timespan</caption>\n * const seconds = Rx.Observable.interval(1000);\n *\n * seconds.timeout(1100) // Let's use bigger timespan to be safe,\n *                       // since `interval` might fire a bit later then scheduled.\n * .subscribe(\n *     value => console.log(value), // Will emit numbers just as regular `interval` would.\n *     err => console.log(err) // Will never be called.\n * );\n *\n * seconds.timeout(900).subscribe(\n *     value => console.log(value), // Will never be called.\n *     err => console.log(err) // Will emit error before even first value is emitted,\n *                             // since it did not arrive within 900ms period.\n * );\n *\n * @example <caption>Use Date to check if Observable completed</caption>\n * const seconds = Rx.Observable.interval(1000);\n *\n * seconds.timeout(new Date(\"December 17, 2020 03:24:00\"))\n * .subscribe(\n *     value => console.log(value), // Will emit values as regular `interval` would\n *                                  // until December 17, 2020 at 03:24:00.\n *     err => console.log(err) // On December 17, 2020 at 03:24:00 it will emit an error,\n *                             // since Observable did not complete by then.\n * );\n *\n * @see {@link timeoutWith}\n *\n * @param {number|Date} due Number specifying period within which Observable must emit values\n *                          or Date specifying before when Observable should complete\n * @param {Scheduler} [scheduler] Scheduler controlling when timeout checks occur.\n * @return {Observable<T>} Observable that mirrors behaviour of source, unless timeout checks fail.\n * @method timeout\n * @owner Observable\n */\nfunction timeout(due, scheduler) {\n    if (scheduler === void 0) { scheduler = async_1.async; }\n    return timeout_1.timeout(due, scheduler)(this);\n}\nexports.timeout = timeout;\n//# sourceMappingURL=timeout.js.map","\"use strict\";\nvar async_1 = require('../scheduler/async');\nvar timeoutWith_1 = require('../operators/timeoutWith');\n/* tslint:enable:max-line-length */\n/**\n *\n * Errors if Observable does not emit a value in given time span, in case of which\n * subscribes to the second Observable.\n *\n * <span class=\"informal\">It's a version of `timeout` operator that let's you specify fallback Observable.</span>\n *\n * <img src=\"./img/timeoutWith.png\" width=\"100%\">\n *\n * `timeoutWith` is a variation of `timeout` operator. It behaves exactly the same,\n * still accepting as a first argument either a number or a Date, which control - respectively -\n * when values of source Observable should be emitted or when it should complete.\n *\n * The only difference is that it accepts a second, required parameter. This parameter\n * should be an Observable which will be subscribed when source Observable fails any timeout check.\n * So whenever regular `timeout` would emit an error, `timeoutWith` will instead start re-emitting\n * values from second Observable. Note that this fallback Observable is not checked for timeouts\n * itself, so it can emit values and complete at arbitrary points in time. From the moment of a second\n * subscription, Observable returned from `timeoutWith` simply mirrors fallback stream. When that\n * stream completes, it completes as well.\n *\n * Scheduler, which in case of `timeout` is provided as as second argument, can be still provided\n * here - as a third, optional parameter. It still is used to schedule timeout checks and -\n * as a consequence - when second Observable will be subscribed, since subscription happens\n * immediately after failing check.\n *\n * @example <caption>Add fallback observable</caption>\n * const seconds = Rx.Observable.interval(1000);\n * const minutes = Rx.Observable.interval(60 * 1000);\n *\n * seconds.timeoutWith(900, minutes)\n *     .subscribe(\n *         value => console.log(value), // After 900ms, will start emitting `minutes`,\n *                                      // since first value of `seconds` will not arrive fast enough.\n *         err => console.log(err) // Would be called after 900ms in case of `timeout`,\n *                                 // but here will never be called.\n *     );\n *\n * @param {number|Date} due Number specifying period within which Observable must emit values\n *                          or Date specifying before when Observable should complete\n * @param {Observable<T>} withObservable Observable which will be subscribed if source fails timeout check.\n * @param {Scheduler} [scheduler] Scheduler controlling when timeout checks occur.\n * @return {Observable<T>} Observable that mirrors behaviour of source or, when timeout check fails, of an Observable\n *                          passed as a second parameter.\n * @method timeoutWith\n * @owner Observable\n */\nfunction timeoutWith(due, withObservable, scheduler) {\n    if (scheduler === void 0) { scheduler = async_1.async; }\n    return timeoutWith_1.timeoutWith(due, withObservable, scheduler)(this);\n}\nexports.timeoutWith = timeoutWith;\n//# sourceMappingURL=timeoutWith.js.map","\"use strict\";\nvar async_1 = require('../scheduler/async');\nvar timestamp_1 = require('../operators/timestamp');\n/**\n * @param scheduler\n * @return {Observable<Timestamp<any>>|WebSocketSubject<T>|Observable<T>}\n * @method timestamp\n * @owner Observable\n */\nfunction timestamp(scheduler) {\n    if (scheduler === void 0) { scheduler = async_1.async; }\n    return timestamp_1.timestamp(scheduler)(this);\n}\nexports.timestamp = timestamp;\n//# sourceMappingURL=timestamp.js.map","\"use strict\";\nvar toArray_1 = require('../operators/toArray');\n/**\n * Collects all source emissions and emits them as an array when the source completes.\n *\n * <span class=\"informal\">Get all values inside an array when the source completes</span>\n *\n * <img src=\"./img/toArray.png\" width=\"100%\">\n *\n * `toArray` will wait until the source Observable completes\n * before emitting the array containing all emissions.\n * When the source Observable errors no array will be emitted.\n *\n * @example <caption>Create array from input</caption>\n * const input = Rx.Observable.interval(100).take(4);\n *\n * input.toArray()\n *   .subscribe(arr => console.log(arr)); // [0,1,2,3]\n *\n * @see {@link buffer}\n *\n * @return {Observable<any[]>|WebSocketSubject<T>|Observable<T>}\n * @method toArray\n * @owner Observable\n */\nfunction toArray() {\n    return toArray_1.toArray()(this);\n}\nexports.toArray = toArray;\n//# sourceMappingURL=toArray.js.map","\"use strict\";\nvar window_1 = require('../operators/window');\n/**\n * Branch out the source Observable values as a nested Observable whenever\n * `windowBoundaries` emits.\n *\n * <span class=\"informal\">It's like {@link buffer}, but emits a nested Observable\n * instead of an array.</span>\n *\n * <img src=\"./img/window.png\" width=\"100%\">\n *\n * Returns an Observable that emits windows of items it collects from the source\n * Observable. The output Observable emits connected, non-overlapping\n * windows. It emits the current window and opens a new one whenever the\n * Observable `windowBoundaries` emits an item. Because each window is an\n * Observable, the output is a higher-order Observable.\n *\n * @example <caption>In every window of 1 second each, emit at most 2 click events</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var interval = Rx.Observable.interval(1000);\n * var result = clicks.window(interval)\n *   .map(win => win.take(2)) // each window has at most 2 emissions\n *   .mergeAll(); // flatten the Observable-of-Observables\n * result.subscribe(x => console.log(x));\n *\n * @see {@link windowCount}\n * @see {@link windowTime}\n * @see {@link windowToggle}\n * @see {@link windowWhen}\n * @see {@link buffer}\n *\n * @param {Observable<any>} windowBoundaries An Observable that completes the\n * previous window and starts a new window.\n * @return {Observable<Observable<T>>} An Observable of windows, which are\n * Observables emitting values of the source Observable.\n * @method window\n * @owner Observable\n */\nfunction window(windowBoundaries) {\n    return window_1.window(windowBoundaries)(this);\n}\nexports.window = window;\n//# sourceMappingURL=window.js.map","\"use strict\";\nvar windowCount_1 = require('../operators/windowCount');\n/**\n * Branch out the source Observable values as a nested Observable with each\n * nested Observable emitting at most `windowSize` values.\n *\n * <span class=\"informal\">It's like {@link bufferCount}, but emits a nested\n * Observable instead of an array.</span>\n *\n * <img src=\"./img/windowCount.png\" width=\"100%\">\n *\n * Returns an Observable that emits windows of items it collects from the source\n * Observable. The output Observable emits windows every `startWindowEvery`\n * items, each containing no more than `windowSize` items. When the source\n * Observable completes or encounters an error, the output Observable emits\n * the current window and propagates the notification from the source\n * Observable. If `startWindowEvery` is not provided, then new windows are\n * started immediately at the start of the source and when each window completes\n * with size `windowSize`.\n *\n * @example <caption>Ignore every 3rd click event, starting from the first one</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var result = clicks.windowCount(3)\n *   .map(win => win.skip(1)) // skip first of every 3 clicks\n *   .mergeAll(); // flatten the Observable-of-Observables\n * result.subscribe(x => console.log(x));\n *\n * @example <caption>Ignore every 3rd click event, starting from the third one</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var result = clicks.windowCount(2, 3)\n *   .mergeAll(); // flatten the Observable-of-Observables\n * result.subscribe(x => console.log(x));\n *\n * @see {@link window}\n * @see {@link windowTime}\n * @see {@link windowToggle}\n * @see {@link windowWhen}\n * @see {@link bufferCount}\n *\n * @param {number} windowSize The maximum number of values emitted by each\n * window.\n * @param {number} [startWindowEvery] Interval at which to start a new window.\n * For example if `startWindowEvery` is `2`, then a new window will be started\n * on every other value from the source. A new window is started at the\n * beginning of the source by default.\n * @return {Observable<Observable<T>>} An Observable of windows, which in turn\n * are Observable of values.\n * @method windowCount\n * @owner Observable\n */\nfunction windowCount(windowSize, startWindowEvery) {\n    if (startWindowEvery === void 0) { startWindowEvery = 0; }\n    return windowCount_1.windowCount(windowSize, startWindowEvery)(this);\n}\nexports.windowCount = windowCount;\n//# sourceMappingURL=windowCount.js.map","\"use strict\";\nvar async_1 = require('../scheduler/async');\nvar isNumeric_1 = require('../util/isNumeric');\nvar isScheduler_1 = require('../util/isScheduler');\nvar windowTime_1 = require('../operators/windowTime');\nfunction windowTime(windowTimeSpan) {\n    var scheduler = async_1.async;\n    var windowCreationInterval = null;\n    var maxWindowSize = Number.POSITIVE_INFINITY;\n    if (isScheduler_1.isScheduler(arguments[3])) {\n        scheduler = arguments[3];\n    }\n    if (isScheduler_1.isScheduler(arguments[2])) {\n        scheduler = arguments[2];\n    }\n    else if (isNumeric_1.isNumeric(arguments[2])) {\n        maxWindowSize = arguments[2];\n    }\n    if (isScheduler_1.isScheduler(arguments[1])) {\n        scheduler = arguments[1];\n    }\n    else if (isNumeric_1.isNumeric(arguments[1])) {\n        windowCreationInterval = arguments[1];\n    }\n    return windowTime_1.windowTime(windowTimeSpan, windowCreationInterval, maxWindowSize, scheduler)(this);\n}\nexports.windowTime = windowTime;\n//# sourceMappingURL=windowTime.js.map","\"use strict\";\nvar windowToggle_1 = require('../operators/windowToggle');\n/**\n * Branch out the source Observable values as a nested Observable starting from\n * an emission from `openings` and ending when the output of `closingSelector`\n * emits.\n *\n * <span class=\"informal\">It's like {@link bufferToggle}, but emits a nested\n * Observable instead of an array.</span>\n *\n * <img src=\"./img/windowToggle.png\" width=\"100%\">\n *\n * Returns an Observable that emits windows of items it collects from the source\n * Observable. The output Observable emits windows that contain those items\n * emitted by the source Observable between the time when the `openings`\n * Observable emits an item and when the Observable returned by\n * `closingSelector` emits an item.\n *\n * @example <caption>Every other second, emit the click events from the next 500ms</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var openings = Rx.Observable.interval(1000);\n * var result = clicks.windowToggle(openings, i =>\n *   i % 2 ? Rx.Observable.interval(500) : Rx.Observable.empty()\n * ).mergeAll();\n * result.subscribe(x => console.log(x));\n *\n * @see {@link window}\n * @see {@link windowCount}\n * @see {@link windowTime}\n * @see {@link windowWhen}\n * @see {@link bufferToggle}\n *\n * @param {Observable<O>} openings An observable of notifications to start new\n * windows.\n * @param {function(value: O): Observable} closingSelector A function that takes\n * the value emitted by the `openings` observable and returns an Observable,\n * which, when it emits (either `next` or `complete`), signals that the\n * associated window should complete.\n * @return {Observable<Observable<T>>} An observable of windows, which in turn\n * are Observables.\n * @method windowToggle\n * @owner Observable\n */\nfunction windowToggle(openings, closingSelector) {\n    return windowToggle_1.windowToggle(openings, closingSelector)(this);\n}\nexports.windowToggle = windowToggle;\n//# sourceMappingURL=windowToggle.js.map","\"use strict\";\nvar windowWhen_1 = require('../operators/windowWhen');\n/**\n * Branch out the source Observable values as a nested Observable using a\n * factory function of closing Observables to determine when to start a new\n * window.\n *\n * <span class=\"informal\">It's like {@link bufferWhen}, but emits a nested\n * Observable instead of an array.</span>\n *\n * <img src=\"./img/windowWhen.png\" width=\"100%\">\n *\n * Returns an Observable that emits windows of items it collects from the source\n * Observable. The output Observable emits connected, non-overlapping windows.\n * It emits the current window and opens a new one whenever the Observable\n * produced by the specified `closingSelector` function emits an item. The first\n * window is opened immediately when subscribing to the output Observable.\n *\n * @example <caption>Emit only the first two clicks events in every window of [1-5] random seconds</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var result = clicks\n *   .windowWhen(() => Rx.Observable.interval(1000 + Math.random() * 4000))\n *   .map(win => win.take(2)) // each window has at most 2 emissions\n *   .mergeAll(); // flatten the Observable-of-Observables\n * result.subscribe(x => console.log(x));\n *\n * @see {@link window}\n * @see {@link windowCount}\n * @see {@link windowTime}\n * @see {@link windowToggle}\n * @see {@link bufferWhen}\n *\n * @param {function(): Observable} closingSelector A function that takes no\n * arguments and returns an Observable that signals (on either `next` or\n * `complete`) when to close the previous window and start a new one.\n * @return {Observable<Observable<T>>} An observable of windows, which in turn\n * are Observables.\n * @method windowWhen\n * @owner Observable\n */\nfunction windowWhen(closingSelector) {\n    return windowWhen_1.windowWhen(closingSelector)(this);\n}\nexports.windowWhen = windowWhen;\n//# sourceMappingURL=windowWhen.js.map","\"use strict\";\nvar withLatestFrom_1 = require('../operators/withLatestFrom');\n/* tslint:enable:max-line-length */\n/**\n * Combines the source Observable with other Observables to create an Observable\n * whose values are calculated from the latest values of each, only when the\n * source emits.\n *\n * <span class=\"informal\">Whenever the source Observable emits a value, it\n * computes a formula using that value plus the latest values from other input\n * Observables, then emits the output of that formula.</span>\n *\n * <img src=\"./img/withLatestFrom.png\" width=\"100%\">\n *\n * `withLatestFrom` combines each value from the source Observable (the\n * instance) with the latest values from the other input Observables only when\n * the source emits a value, optionally using a `project` function to determine\n * the value to be emitted on the output Observable. All input Observables must\n * emit at least one value before the output Observable will emit a value.\n *\n * @example <caption>On every click event, emit an array with the latest timer event plus the click event</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var timer = Rx.Observable.interval(1000);\n * var result = clicks.withLatestFrom(timer);\n * result.subscribe(x => console.log(x));\n *\n * @see {@link combineLatest}\n *\n * @param {ObservableInput} other An input Observable to combine with the source\n * Observable. More than one input Observables may be given as argument.\n * @param {Function} [project] Projection function for combining values\n * together. Receives all values in order of the Observables passed, where the\n * first parameter is a value from the source Observable. (e.g.\n * `a.withLatestFrom(b, c, (a1, b1, c1) => a1 + b1 + c1)`). If this is not\n * passed, arrays will be emitted on the output Observable.\n * @return {Observable} An Observable of projected values from the most recent\n * values from each input Observable, or an array of the most recent values from\n * each input Observable.\n * @method withLatestFrom\n * @owner Observable\n */\nfunction withLatestFrom() {\n    var args = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        args[_i - 0] = arguments[_i];\n    }\n    return withLatestFrom_1.withLatestFrom.apply(void 0, args)(this);\n}\nexports.withLatestFrom = withLatestFrom;\n//# sourceMappingURL=withLatestFrom.js.map","\"use strict\";\nvar zip_1 = require('../operators/zip');\n/* tslint:enable:max-line-length */\n/**\n * @param observables\n * @return {Observable<R>}\n * @method zip\n * @owner Observable\n */\nfunction zipProto() {\n    var observables = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        observables[_i - 0] = arguments[_i];\n    }\n    return zip_1.zip.apply(void 0, observables)(this);\n}\nexports.zipProto = zipProto;\n//# sourceMappingURL=zip.js.map","\"use strict\";\nvar zipAll_1 = require('../operators/zipAll');\n/**\n * @param project\n * @return {Observable<R>|WebSocketSubject<T>|Observable<T>}\n * @method zipAll\n * @owner Observable\n */\nfunction zipAll(project) {\n    return zipAll_1.zipAll(project)(this);\n}\nexports.zipAll = zipAll;\n//# sourceMappingURL=zipAll.js.map","\"use strict\";\nvar audit_1 = require('./operators/audit');\nexports.audit = audit_1.audit;\nvar auditTime_1 = require('./operators/auditTime');\nexports.auditTime = auditTime_1.auditTime;\nvar buffer_1 = require('./operators/buffer');\nexports.buffer = buffer_1.buffer;\nvar bufferCount_1 = require('./operators/bufferCount');\nexports.bufferCount = bufferCount_1.bufferCount;\nvar bufferTime_1 = require('./operators/bufferTime');\nexports.bufferTime = bufferTime_1.bufferTime;\nvar bufferToggle_1 = require('./operators/bufferToggle');\nexports.bufferToggle = bufferToggle_1.bufferToggle;\nvar bufferWhen_1 = require('./operators/bufferWhen');\nexports.bufferWhen = bufferWhen_1.bufferWhen;\nvar catchError_1 = require('./operators/catchError');\nexports.catchError = catchError_1.catchError;\nvar combineAll_1 = require('./operators/combineAll');\nexports.combineAll = combineAll_1.combineAll;\nvar combineLatest_1 = require('./operators/combineLatest');\nexports.combineLatest = combineLatest_1.combineLatest;\nvar concat_1 = require('./operators/concat');\nexports.concat = concat_1.concat;\nvar concatAll_1 = require('./operators/concatAll');\nexports.concatAll = concatAll_1.concatAll;\nvar concatMap_1 = require('./operators/concatMap');\nexports.concatMap = concatMap_1.concatMap;\nvar concatMapTo_1 = require('./operators/concatMapTo');\nexports.concatMapTo = concatMapTo_1.concatMapTo;\nvar count_1 = require('./operators/count');\nexports.count = count_1.count;\nvar debounce_1 = require('./operators/debounce');\nexports.debounce = debounce_1.debounce;\nvar debounceTime_1 = require('./operators/debounceTime');\nexports.debounceTime = debounceTime_1.debounceTime;\nvar defaultIfEmpty_1 = require('./operators/defaultIfEmpty');\nexports.defaultIfEmpty = defaultIfEmpty_1.defaultIfEmpty;\nvar delay_1 = require('./operators/delay');\nexports.delay = delay_1.delay;\nvar delayWhen_1 = require('./operators/delayWhen');\nexports.delayWhen = delayWhen_1.delayWhen;\nvar dematerialize_1 = require('./operators/dematerialize');\nexports.dematerialize = dematerialize_1.dematerialize;\nvar distinct_1 = require('./operators/distinct');\nexports.distinct = distinct_1.distinct;\nvar distinctUntilChanged_1 = require('./operators/distinctUntilChanged');\nexports.distinctUntilChanged = distinctUntilChanged_1.distinctUntilChanged;\nvar distinctUntilKeyChanged_1 = require('./operators/distinctUntilKeyChanged');\nexports.distinctUntilKeyChanged = distinctUntilKeyChanged_1.distinctUntilKeyChanged;\nvar elementAt_1 = require('./operators/elementAt');\nexports.elementAt = elementAt_1.elementAt;\nvar every_1 = require('./operators/every');\nexports.every = every_1.every;\nvar exhaust_1 = require('./operators/exhaust');\nexports.exhaust = exhaust_1.exhaust;\nvar exhaustMap_1 = require('./operators/exhaustMap');\nexports.exhaustMap = exhaustMap_1.exhaustMap;\nvar expand_1 = require('./operators/expand');\nexports.expand = expand_1.expand;\nvar filter_1 = require('./operators/filter');\nexports.filter = filter_1.filter;\nvar finalize_1 = require('./operators/finalize');\nexports.finalize = finalize_1.finalize;\nvar find_1 = require('./operators/find');\nexports.find = find_1.find;\nvar findIndex_1 = require('./operators/findIndex');\nexports.findIndex = findIndex_1.findIndex;\nvar first_1 = require('./operators/first');\nexports.first = first_1.first;\nvar groupBy_1 = require('./operators/groupBy');\nexports.groupBy = groupBy_1.groupBy;\nvar ignoreElements_1 = require('./operators/ignoreElements');\nexports.ignoreElements = ignoreElements_1.ignoreElements;\nvar isEmpty_1 = require('./operators/isEmpty');\nexports.isEmpty = isEmpty_1.isEmpty;\nvar last_1 = require('./operators/last');\nexports.last = last_1.last;\nvar map_1 = require('./operators/map');\nexports.map = map_1.map;\nvar mapTo_1 = require('./operators/mapTo');\nexports.mapTo = mapTo_1.mapTo;\nvar materialize_1 = require('./operators/materialize');\nexports.materialize = materialize_1.materialize;\nvar max_1 = require('./operators/max');\nexports.max = max_1.max;\nvar merge_1 = require('./operators/merge');\nexports.merge = merge_1.merge;\nvar mergeAll_1 = require('./operators/mergeAll');\nexports.mergeAll = mergeAll_1.mergeAll;\nvar mergeMap_1 = require('./operators/mergeMap');\nexports.mergeMap = mergeMap_1.mergeMap;\nvar mergeMap_2 = require('./operators/mergeMap');\nexports.flatMap = mergeMap_2.mergeMap;\nvar mergeMapTo_1 = require('./operators/mergeMapTo');\nexports.mergeMapTo = mergeMapTo_1.mergeMapTo;\nvar mergeScan_1 = require('./operators/mergeScan');\nexports.mergeScan = mergeScan_1.mergeScan;\nvar min_1 = require('./operators/min');\nexports.min = min_1.min;\nvar multicast_1 = require('./operators/multicast');\nexports.multicast = multicast_1.multicast;\nvar observeOn_1 = require('./operators/observeOn');\nexports.observeOn = observeOn_1.observeOn;\nvar onErrorResumeNext_1 = require('./operators/onErrorResumeNext');\nexports.onErrorResumeNext = onErrorResumeNext_1.onErrorResumeNext;\nvar pairwise_1 = require('./operators/pairwise');\nexports.pairwise = pairwise_1.pairwise;\nvar partition_1 = require('./operators/partition');\nexports.partition = partition_1.partition;\nvar pluck_1 = require('./operators/pluck');\nexports.pluck = pluck_1.pluck;\nvar publish_1 = require('./operators/publish');\nexports.publish = publish_1.publish;\nvar publishBehavior_1 = require('./operators/publishBehavior');\nexports.publishBehavior = publishBehavior_1.publishBehavior;\nvar publishLast_1 = require('./operators/publishLast');\nexports.publishLast = publishLast_1.publishLast;\nvar publishReplay_1 = require('./operators/publishReplay');\nexports.publishReplay = publishReplay_1.publishReplay;\nvar race_1 = require('./operators/race');\nexports.race = race_1.race;\nvar reduce_1 = require('./operators/reduce');\nexports.reduce = reduce_1.reduce;\nvar repeat_1 = require('./operators/repeat');\nexports.repeat = repeat_1.repeat;\nvar repeatWhen_1 = require('./operators/repeatWhen');\nexports.repeatWhen = repeatWhen_1.repeatWhen;\nvar retry_1 = require('./operators/retry');\nexports.retry = retry_1.retry;\nvar retryWhen_1 = require('./operators/retryWhen');\nexports.retryWhen = retryWhen_1.retryWhen;\nvar refCount_1 = require('./operators/refCount');\nexports.refCount = refCount_1.refCount;\nvar sample_1 = require('./operators/sample');\nexports.sample = sample_1.sample;\nvar sampleTime_1 = require('./operators/sampleTime');\nexports.sampleTime = sampleTime_1.sampleTime;\nvar scan_1 = require('./operators/scan');\nexports.scan = scan_1.scan;\nvar sequenceEqual_1 = require('./operators/sequenceEqual');\nexports.sequenceEqual = sequenceEqual_1.sequenceEqual;\nvar share_1 = require('./operators/share');\nexports.share = share_1.share;\nvar shareReplay_1 = require('./operators/shareReplay');\nexports.shareReplay = shareReplay_1.shareReplay;\nvar single_1 = require('./operators/single');\nexports.single = single_1.single;\nvar skip_1 = require('./operators/skip');\nexports.skip = skip_1.skip;\nvar skipLast_1 = require('./operators/skipLast');\nexports.skipLast = skipLast_1.skipLast;\nvar skipUntil_1 = require('./operators/skipUntil');\nexports.skipUntil = skipUntil_1.skipUntil;\nvar skipWhile_1 = require('./operators/skipWhile');\nexports.skipWhile = skipWhile_1.skipWhile;\nvar startWith_1 = require('./operators/startWith');\nexports.startWith = startWith_1.startWith;\n/**\n * TODO(https://github.com/ReactiveX/rxjs/issues/2900): Add back subscribeOn once it can be\n * treeshaken. Currently if this export is added back, it\n * forces apps to bring in asap scheduler along with\n * Immediate, root, and other supporting code.\n */\n// export { subscribeOn } from './operators/subscribeOn';\nvar switchAll_1 = require('./operators/switchAll');\nexports.switchAll = switchAll_1.switchAll;\nvar switchMap_1 = require('./operators/switchMap');\nexports.switchMap = switchMap_1.switchMap;\nvar switchMapTo_1 = require('./operators/switchMapTo');\nexports.switchMapTo = switchMapTo_1.switchMapTo;\nvar take_1 = require('./operators/take');\nexports.take = take_1.take;\nvar takeLast_1 = require('./operators/takeLast');\nexports.takeLast = takeLast_1.takeLast;\nvar takeUntil_1 = require('./operators/takeUntil');\nexports.takeUntil = takeUntil_1.takeUntil;\nvar takeWhile_1 = require('./operators/takeWhile');\nexports.takeWhile = takeWhile_1.takeWhile;\nvar tap_1 = require('./operators/tap');\nexports.tap = tap_1.tap;\nvar throttle_1 = require('./operators/throttle');\nexports.throttle = throttle_1.throttle;\nvar throttleTime_1 = require('./operators/throttleTime');\nexports.throttleTime = throttleTime_1.throttleTime;\nvar timeInterval_1 = require('./operators/timeInterval');\nexports.timeInterval = timeInterval_1.timeInterval;\nvar timeout_1 = require('./operators/timeout');\nexports.timeout = timeout_1.timeout;\nvar timeoutWith_1 = require('./operators/timeoutWith');\nexports.timeoutWith = timeoutWith_1.timeoutWith;\nvar timestamp_1 = require('./operators/timestamp');\nexports.timestamp = timestamp_1.timestamp;\nvar toArray_1 = require('./operators/toArray');\nexports.toArray = toArray_1.toArray;\nvar window_1 = require('./operators/window');\nexports.window = window_1.window;\nvar windowCount_1 = require('./operators/windowCount');\nexports.windowCount = windowCount_1.windowCount;\nvar windowTime_1 = require('./operators/windowTime');\nexports.windowTime = windowTime_1.windowTime;\nvar windowToggle_1 = require('./operators/windowToggle');\nexports.windowToggle = windowToggle_1.windowToggle;\nvar windowWhen_1 = require('./operators/windowWhen');\nexports.windowWhen = windowWhen_1.windowWhen;\nvar withLatestFrom_1 = require('./operators/withLatestFrom');\nexports.withLatestFrom = withLatestFrom_1.withLatestFrom;\nvar zip_1 = require('./operators/zip');\nexports.zip = zip_1.zip;\nvar zipAll_1 = require('./operators/zipAll');\nexports.zipAll = zipAll_1.zipAll;\n//# sourceMappingURL=operators.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar tryCatch_1 = require('../util/tryCatch');\nvar errorObject_1 = require('../util/errorObject');\nvar OuterSubscriber_1 = require('../OuterSubscriber');\nvar subscribeToResult_1 = require('../util/subscribeToResult');\n/**\n * Ignores source values for a duration determined by another Observable, then\n * emits the most recent value from the source Observable, then repeats this\n * process.\n *\n * <span class=\"informal\">It's like {@link auditTime}, but the silencing\n * duration is determined by a second Observable.</span>\n *\n * <img src=\"./img/audit.png\" width=\"100%\">\n *\n * `audit` is similar to `throttle`, but emits the last value from the silenced\n * time window, instead of the first value. `audit` emits the most recent value\n * from the source Observable on the output Observable as soon as its internal\n * timer becomes disabled, and ignores source values while the timer is enabled.\n * Initially, the timer is disabled. As soon as the first source value arrives,\n * the timer is enabled by calling the `durationSelector` function with the\n * source value, which returns the \"duration\" Observable. When the duration\n * Observable emits a value or completes, the timer is disabled, then the most\n * recent source value is emitted on the output Observable, and this process\n * repeats for the next source value.\n *\n * @example <caption>Emit clicks at a rate of at most one click per second</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var result = clicks.audit(ev => Rx.Observable.interval(1000));\n * result.subscribe(x => console.log(x));\n *\n * @see {@link auditTime}\n * @see {@link debounce}\n * @see {@link delayWhen}\n * @see {@link sample}\n * @see {@link throttle}\n *\n * @param {function(value: T): SubscribableOrPromise} durationSelector A function\n * that receives a value from the source Observable, for computing the silencing\n * duration, returned as an Observable or a Promise.\n * @return {Observable<T>} An Observable that performs rate-limiting of\n * emissions from the source Observable.\n * @method audit\n * @owner Observable\n */\nfunction audit(durationSelector) {\n    return function auditOperatorFunction(source) {\n        return source.lift(new AuditOperator(durationSelector));\n    };\n}\nexports.audit = audit;\nvar AuditOperator = (function () {\n    function AuditOperator(durationSelector) {\n        this.durationSelector = durationSelector;\n    }\n    AuditOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new AuditSubscriber(subscriber, this.durationSelector));\n    };\n    return AuditOperator;\n}());\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar AuditSubscriber = (function (_super) {\n    __extends(AuditSubscriber, _super);\n    function AuditSubscriber(destination, durationSelector) {\n        _super.call(this, destination);\n        this.durationSelector = durationSelector;\n        this.hasValue = false;\n    }\n    AuditSubscriber.prototype._next = function (value) {\n        this.value = value;\n        this.hasValue = true;\n        if (!this.throttled) {\n            var duration = tryCatch_1.tryCatch(this.durationSelector)(value);\n            if (duration === errorObject_1.errorObject) {\n                this.destination.error(errorObject_1.errorObject.e);\n            }\n            else {\n                var innerSubscription = subscribeToResult_1.subscribeToResult(this, duration);\n                if (innerSubscription.closed) {\n                    this.clearThrottle();\n                }\n                else {\n                    this.add(this.throttled = innerSubscription);\n                }\n            }\n        }\n    };\n    AuditSubscriber.prototype.clearThrottle = function () {\n        var _a = this, value = _a.value, hasValue = _a.hasValue, throttled = _a.throttled;\n        if (throttled) {\n            this.remove(throttled);\n            this.throttled = null;\n            throttled.unsubscribe();\n        }\n        if (hasValue) {\n            this.value = null;\n            this.hasValue = false;\n            this.destination.next(value);\n        }\n    };\n    AuditSubscriber.prototype.notifyNext = function (outerValue, innerValue, outerIndex, innerIndex) {\n        this.clearThrottle();\n    };\n    AuditSubscriber.prototype.notifyComplete = function () {\n        this.clearThrottle();\n    };\n    return AuditSubscriber;\n}(OuterSubscriber_1.OuterSubscriber));\n//# sourceMappingURL=audit.js.map","\"use strict\";\nvar async_1 = require('../scheduler/async');\nvar audit_1 = require('./audit');\nvar timer_1 = require('../observable/timer');\n/**\n * Ignores source values for `duration` milliseconds, then emits the most recent\n * value from the source Observable, then repeats this process.\n *\n * <span class=\"informal\">When it sees a source values, it ignores that plus\n * the next ones for `duration` milliseconds, and then it emits the most recent\n * value from the source.</span>\n *\n * <img src=\"./img/auditTime.png\" width=\"100%\">\n *\n * `auditTime` is similar to `throttleTime`, but emits the last value from the\n * silenced time window, instead of the first value. `auditTime` emits the most\n * recent value from the source Observable on the output Observable as soon as\n * its internal timer becomes disabled, and ignores source values while the\n * timer is enabled. Initially, the timer is disabled. As soon as the first\n * source value arrives, the timer is enabled. After `duration` milliseconds (or\n * the time unit determined internally by the optional `scheduler`) has passed,\n * the timer is disabled, then the most recent source value is emitted on the\n * output Observable, and this process repeats for the next source value.\n * Optionally takes a {@link IScheduler} for managing timers.\n *\n * @example <caption>Emit clicks at a rate of at most one click per second</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var result = clicks.auditTime(1000);\n * result.subscribe(x => console.log(x));\n *\n * @see {@link audit}\n * @see {@link debounceTime}\n * @see {@link delay}\n * @see {@link sampleTime}\n * @see {@link throttleTime}\n *\n * @param {number} duration Time to wait before emitting the most recent source\n * value, measured in milliseconds or the time unit determined internally\n * by the optional `scheduler`.\n * @param {Scheduler} [scheduler=async] The {@link IScheduler} to use for\n * managing the timers that handle the rate-limiting behavior.\n * @return {Observable<T>} An Observable that performs rate-limiting of\n * emissions from the source Observable.\n * @method auditTime\n * @owner Observable\n */\nfunction auditTime(duration, scheduler) {\n    if (scheduler === void 0) { scheduler = async_1.async; }\n    return audit_1.audit(function () { return timer_1.timer(duration, scheduler); });\n}\nexports.auditTime = auditTime;\n//# sourceMappingURL=auditTime.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar OuterSubscriber_1 = require('../OuterSubscriber');\nvar subscribeToResult_1 = require('../util/subscribeToResult');\n/**\n * Buffers the source Observable values until `closingNotifier` emits.\n *\n * <span class=\"informal\">Collects values from the past as an array, and emits\n * that array only when another Observable emits.</span>\n *\n * <img src=\"./img/buffer.png\" width=\"100%\">\n *\n * Buffers the incoming Observable values until the given `closingNotifier`\n * Observable emits a value, at which point it emits the buffer on the output\n * Observable and starts a new buffer internally, awaiting the next time\n * `closingNotifier` emits.\n *\n * @example <caption>On every click, emit array of most recent interval events</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var interval = Rx.Observable.interval(1000);\n * var buffered = interval.buffer(clicks);\n * buffered.subscribe(x => console.log(x));\n *\n * @see {@link bufferCount}\n * @see {@link bufferTime}\n * @see {@link bufferToggle}\n * @see {@link bufferWhen}\n * @see {@link window}\n *\n * @param {Observable<any>} closingNotifier An Observable that signals the\n * buffer to be emitted on the output Observable.\n * @return {Observable<T[]>} An Observable of buffers, which are arrays of\n * values.\n * @method buffer\n * @owner Observable\n */\nfunction buffer(closingNotifier) {\n    return function bufferOperatorFunction(source) {\n        return source.lift(new BufferOperator(closingNotifier));\n    };\n}\nexports.buffer = buffer;\nvar BufferOperator = (function () {\n    function BufferOperator(closingNotifier) {\n        this.closingNotifier = closingNotifier;\n    }\n    BufferOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new BufferSubscriber(subscriber, this.closingNotifier));\n    };\n    return BufferOperator;\n}());\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar BufferSubscriber = (function (_super) {\n    __extends(BufferSubscriber, _super);\n    function BufferSubscriber(destination, closingNotifier) {\n        _super.call(this, destination);\n        this.buffer = [];\n        this.add(subscribeToResult_1.subscribeToResult(this, closingNotifier));\n    }\n    BufferSubscriber.prototype._next = function (value) {\n        this.buffer.push(value);\n    };\n    BufferSubscriber.prototype.notifyNext = function (outerValue, innerValue, outerIndex, innerIndex, innerSub) {\n        var buffer = this.buffer;\n        this.buffer = [];\n        this.destination.next(buffer);\n    };\n    return BufferSubscriber;\n}(OuterSubscriber_1.OuterSubscriber));\n//# sourceMappingURL=buffer.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar Subscriber_1 = require('../Subscriber');\n/**\n * Buffers the source Observable values until the size hits the maximum\n * `bufferSize` given.\n *\n * <span class=\"informal\">Collects values from the past as an array, and emits\n * that array only when its size reaches `bufferSize`.</span>\n *\n * <img src=\"./img/bufferCount.png\" width=\"100%\">\n *\n * Buffers a number of values from the source Observable by `bufferSize` then\n * emits the buffer and clears it, and starts a new buffer each\n * `startBufferEvery` values. If `startBufferEvery` is not provided or is\n * `null`, then new buffers are started immediately at the start of the source\n * and when each buffer closes and is emitted.\n *\n * @example <caption>Emit the last two click events as an array</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var buffered = clicks.bufferCount(2);\n * buffered.subscribe(x => console.log(x));\n *\n * @example <caption>On every click, emit the last two click events as an array</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var buffered = clicks.bufferCount(2, 1);\n * buffered.subscribe(x => console.log(x));\n *\n * @see {@link buffer}\n * @see {@link bufferTime}\n * @see {@link bufferToggle}\n * @see {@link bufferWhen}\n * @see {@link pairwise}\n * @see {@link windowCount}\n *\n * @param {number} bufferSize The maximum size of the buffer emitted.\n * @param {number} [startBufferEvery] Interval at which to start a new buffer.\n * For example if `startBufferEvery` is `2`, then a new buffer will be started\n * on every other value from the source. A new buffer is started at the\n * beginning of the source by default.\n * @return {Observable<T[]>} An Observable of arrays of buffered values.\n * @method bufferCount\n * @owner Observable\n */\nfunction bufferCount(bufferSize, startBufferEvery) {\n    if (startBufferEvery === void 0) { startBufferEvery = null; }\n    return function bufferCountOperatorFunction(source) {\n        return source.lift(new BufferCountOperator(bufferSize, startBufferEvery));\n    };\n}\nexports.bufferCount = bufferCount;\nvar BufferCountOperator = (function () {\n    function BufferCountOperator(bufferSize, startBufferEvery) {\n        this.bufferSize = bufferSize;\n        this.startBufferEvery = startBufferEvery;\n        if (!startBufferEvery || bufferSize === startBufferEvery) {\n            this.subscriberClass = BufferCountSubscriber;\n        }\n        else {\n            this.subscriberClass = BufferSkipCountSubscriber;\n        }\n    }\n    BufferCountOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new this.subscriberClass(subscriber, this.bufferSize, this.startBufferEvery));\n    };\n    return BufferCountOperator;\n}());\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar BufferCountSubscriber = (function (_super) {\n    __extends(BufferCountSubscriber, _super);\n    function BufferCountSubscriber(destination, bufferSize) {\n        _super.call(this, destination);\n        this.bufferSize = bufferSize;\n        this.buffer = [];\n    }\n    BufferCountSubscriber.prototype._next = function (value) {\n        var buffer = this.buffer;\n        buffer.push(value);\n        if (buffer.length == this.bufferSize) {\n            this.destination.next(buffer);\n            this.buffer = [];\n        }\n    };\n    BufferCountSubscriber.prototype._complete = function () {\n        var buffer = this.buffer;\n        if (buffer.length > 0) {\n            this.destination.next(buffer);\n        }\n        _super.prototype._complete.call(this);\n    };\n    return BufferCountSubscriber;\n}(Subscriber_1.Subscriber));\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar BufferSkipCountSubscriber = (function (_super) {\n    __extends(BufferSkipCountSubscriber, _super);\n    function BufferSkipCountSubscriber(destination, bufferSize, startBufferEvery) {\n        _super.call(this, destination);\n        this.bufferSize = bufferSize;\n        this.startBufferEvery = startBufferEvery;\n        this.buffers = [];\n        this.count = 0;\n    }\n    BufferSkipCountSubscriber.prototype._next = function (value) {\n        var _a = this, bufferSize = _a.bufferSize, startBufferEvery = _a.startBufferEvery, buffers = _a.buffers, count = _a.count;\n        this.count++;\n        if (count % startBufferEvery === 0) {\n            buffers.push([]);\n        }\n        for (var i = buffers.length; i--;) {\n            var buffer = buffers[i];\n            buffer.push(value);\n            if (buffer.length === bufferSize) {\n                buffers.splice(i, 1);\n                this.destination.next(buffer);\n            }\n        }\n    };\n    BufferSkipCountSubscriber.prototype._complete = function () {\n        var _a = this, buffers = _a.buffers, destination = _a.destination;\n        while (buffers.length > 0) {\n            var buffer = buffers.shift();\n            if (buffer.length > 0) {\n                destination.next(buffer);\n            }\n        }\n        _super.prototype._complete.call(this);\n    };\n    return BufferSkipCountSubscriber;\n}(Subscriber_1.Subscriber));\n//# sourceMappingURL=bufferCount.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar async_1 = require('../scheduler/async');\nvar Subscriber_1 = require('../Subscriber');\nvar isScheduler_1 = require('../util/isScheduler');\n/* tslint:enable:max-line-length */\n/**\n * Buffers the source Observable values for a specific time period.\n *\n * <span class=\"informal\">Collects values from the past as an array, and emits\n * those arrays periodically in time.</span>\n *\n * <img src=\"./img/bufferTime.png\" width=\"100%\">\n *\n * Buffers values from the source for a specific time duration `bufferTimeSpan`.\n * Unless the optional argument `bufferCreationInterval` is given, it emits and\n * resets the buffer every `bufferTimeSpan` milliseconds. If\n * `bufferCreationInterval` is given, this operator opens the buffer every\n * `bufferCreationInterval` milliseconds and closes (emits and resets) the\n * buffer every `bufferTimeSpan` milliseconds. When the optional argument\n * `maxBufferSize` is specified, the buffer will be closed either after\n * `bufferTimeSpan` milliseconds or when it contains `maxBufferSize` elements.\n *\n * @example <caption>Every second, emit an array of the recent click events</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var buffered = clicks.bufferTime(1000);\n * buffered.subscribe(x => console.log(x));\n *\n * @example <caption>Every 5 seconds, emit the click events from the next 2 seconds</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var buffered = clicks.bufferTime(2000, 5000);\n * buffered.subscribe(x => console.log(x));\n *\n * @see {@link buffer}\n * @see {@link bufferCount}\n * @see {@link bufferToggle}\n * @see {@link bufferWhen}\n * @see {@link windowTime}\n *\n * @param {number} bufferTimeSpan The amount of time to fill each buffer array.\n * @param {number} [bufferCreationInterval] The interval at which to start new\n * buffers.\n * @param {number} [maxBufferSize] The maximum buffer size.\n * @param {Scheduler} [scheduler=async] The scheduler on which to schedule the\n * intervals that determine buffer boundaries.\n * @return {Observable<T[]>} An observable of arrays of buffered values.\n * @method bufferTime\n * @owner Observable\n */\nfunction bufferTime(bufferTimeSpan) {\n    var length = arguments.length;\n    var scheduler = async_1.async;\n    if (isScheduler_1.isScheduler(arguments[arguments.length - 1])) {\n        scheduler = arguments[arguments.length - 1];\n        length--;\n    }\n    var bufferCreationInterval = null;\n    if (length >= 2) {\n        bufferCreationInterval = arguments[1];\n    }\n    var maxBufferSize = Number.POSITIVE_INFINITY;\n    if (length >= 3) {\n        maxBufferSize = arguments[2];\n    }\n    return function bufferTimeOperatorFunction(source) {\n        return source.lift(new BufferTimeOperator(bufferTimeSpan, bufferCreationInterval, maxBufferSize, scheduler));\n    };\n}\nexports.bufferTime = bufferTime;\nvar BufferTimeOperator = (function () {\n    function BufferTimeOperator(bufferTimeSpan, bufferCreationInterval, maxBufferSize, scheduler) {\n        this.bufferTimeSpan = bufferTimeSpan;\n        this.bufferCreationInterval = bufferCreationInterval;\n        this.maxBufferSize = maxBufferSize;\n        this.scheduler = scheduler;\n    }\n    BufferTimeOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new BufferTimeSubscriber(subscriber, this.bufferTimeSpan, this.bufferCreationInterval, this.maxBufferSize, this.scheduler));\n    };\n    return BufferTimeOperator;\n}());\nvar Context = (function () {\n    function Context() {\n        this.buffer = [];\n    }\n    return Context;\n}());\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar BufferTimeSubscriber = (function (_super) {\n    __extends(BufferTimeSubscriber, _super);\n    function BufferTimeSubscriber(destination, bufferTimeSpan, bufferCreationInterval, maxBufferSize, scheduler) {\n        _super.call(this, destination);\n        this.bufferTimeSpan = bufferTimeSpan;\n        this.bufferCreationInterval = bufferCreationInterval;\n        this.maxBufferSize = maxBufferSize;\n        this.scheduler = scheduler;\n        this.contexts = [];\n        var context = this.openContext();\n        this.timespanOnly = bufferCreationInterval == null || bufferCreationInterval < 0;\n        if (this.timespanOnly) {\n            var timeSpanOnlyState = { subscriber: this, context: context, bufferTimeSpan: bufferTimeSpan };\n            this.add(context.closeAction = scheduler.schedule(dispatchBufferTimeSpanOnly, bufferTimeSpan, timeSpanOnlyState));\n        }\n        else {\n            var closeState = { subscriber: this, context: context };\n            var creationState = { bufferTimeSpan: bufferTimeSpan, bufferCreationInterval: bufferCreationInterval, subscriber: this, scheduler: scheduler };\n            this.add(context.closeAction = scheduler.schedule(dispatchBufferClose, bufferTimeSpan, closeState));\n            this.add(scheduler.schedule(dispatchBufferCreation, bufferCreationInterval, creationState));\n        }\n    }\n    BufferTimeSubscriber.prototype._next = function (value) {\n        var contexts = this.contexts;\n        var len = contexts.length;\n        var filledBufferContext;\n        for (var i = 0; i < len; i++) {\n            var context = contexts[i];\n            var buffer = context.buffer;\n            buffer.push(value);\n            if (buffer.length == this.maxBufferSize) {\n                filledBufferContext = context;\n            }\n        }\n        if (filledBufferContext) {\n            this.onBufferFull(filledBufferContext);\n        }\n    };\n    BufferTimeSubscriber.prototype._error = function (err) {\n        this.contexts.length = 0;\n        _super.prototype._error.call(this, err);\n    };\n    BufferTimeSubscriber.prototype._complete = function () {\n        var _a = this, contexts = _a.contexts, destination = _a.destination;\n        while (contexts.length > 0) {\n            var context = contexts.shift();\n            destination.next(context.buffer);\n        }\n        _super.prototype._complete.call(this);\n    };\n    /** @deprecated internal use only */ BufferTimeSubscriber.prototype._unsubscribe = function () {\n        this.contexts = null;\n    };\n    BufferTimeSubscriber.prototype.onBufferFull = function (context) {\n        this.closeContext(context);\n        var closeAction = context.closeAction;\n        closeAction.unsubscribe();\n        this.remove(closeAction);\n        if (!this.closed && this.timespanOnly) {\n            context = this.openContext();\n            var bufferTimeSpan = this.bufferTimeSpan;\n            var timeSpanOnlyState = { subscriber: this, context: context, bufferTimeSpan: bufferTimeSpan };\n            this.add(context.closeAction = this.scheduler.schedule(dispatchBufferTimeSpanOnly, bufferTimeSpan, timeSpanOnlyState));\n        }\n    };\n    BufferTimeSubscriber.prototype.openContext = function () {\n        var context = new Context();\n        this.contexts.push(context);\n        return context;\n    };\n    BufferTimeSubscriber.prototype.closeContext = function (context) {\n        this.destination.next(context.buffer);\n        var contexts = this.contexts;\n        var spliceIndex = contexts ? contexts.indexOf(context) : -1;\n        if (spliceIndex >= 0) {\n            contexts.splice(contexts.indexOf(context), 1);\n        }\n    };\n    return BufferTimeSubscriber;\n}(Subscriber_1.Subscriber));\nfunction dispatchBufferTimeSpanOnly(state) {\n    var subscriber = state.subscriber;\n    var prevContext = state.context;\n    if (prevContext) {\n        subscriber.closeContext(prevContext);\n    }\n    if (!subscriber.closed) {\n        state.context = subscriber.openContext();\n        state.context.closeAction = this.schedule(state, state.bufferTimeSpan);\n    }\n}\nfunction dispatchBufferCreation(state) {\n    var bufferCreationInterval = state.bufferCreationInterval, bufferTimeSpan = state.bufferTimeSpan, subscriber = state.subscriber, scheduler = state.scheduler;\n    var context = subscriber.openContext();\n    var action = this;\n    if (!subscriber.closed) {\n        subscriber.add(context.closeAction = scheduler.schedule(dispatchBufferClose, bufferTimeSpan, { subscriber: subscriber, context: context }));\n        action.schedule(state, bufferCreationInterval);\n    }\n}\nfunction dispatchBufferClose(arg) {\n    var subscriber = arg.subscriber, context = arg.context;\n    subscriber.closeContext(context);\n}\n//# sourceMappingURL=bufferTime.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar Subscription_1 = require('../Subscription');\nvar subscribeToResult_1 = require('../util/subscribeToResult');\nvar OuterSubscriber_1 = require('../OuterSubscriber');\n/**\n * Buffers the source Observable values starting from an emission from\n * `openings` and ending when the output of `closingSelector` emits.\n *\n * <span class=\"informal\">Collects values from the past as an array. Starts\n * collecting only when `opening` emits, and calls the `closingSelector`\n * function to get an Observable that tells when to close the buffer.</span>\n *\n * <img src=\"./img/bufferToggle.png\" width=\"100%\">\n *\n * Buffers values from the source by opening the buffer via signals from an\n * Observable provided to `openings`, and closing and sending the buffers when\n * a Subscribable or Promise returned by the `closingSelector` function emits.\n *\n * @example <caption>Every other second, emit the click events from the next 500ms</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var openings = Rx.Observable.interval(1000);\n * var buffered = clicks.bufferToggle(openings, i =>\n *   i % 2 ? Rx.Observable.interval(500) : Rx.Observable.empty()\n * );\n * buffered.subscribe(x => console.log(x));\n *\n * @see {@link buffer}\n * @see {@link bufferCount}\n * @see {@link bufferTime}\n * @see {@link bufferWhen}\n * @see {@link windowToggle}\n *\n * @param {SubscribableOrPromise<O>} openings A Subscribable or Promise of notifications to start new\n * buffers.\n * @param {function(value: O): SubscribableOrPromise} closingSelector A function that takes\n * the value emitted by the `openings` observable and returns a Subscribable or Promise,\n * which, when it emits, signals that the associated buffer should be emitted\n * and cleared.\n * @return {Observable<T[]>} An observable of arrays of buffered values.\n * @method bufferToggle\n * @owner Observable\n */\nfunction bufferToggle(openings, closingSelector) {\n    return function bufferToggleOperatorFunction(source) {\n        return source.lift(new BufferToggleOperator(openings, closingSelector));\n    };\n}\nexports.bufferToggle = bufferToggle;\nvar BufferToggleOperator = (function () {\n    function BufferToggleOperator(openings, closingSelector) {\n        this.openings = openings;\n        this.closingSelector = closingSelector;\n    }\n    BufferToggleOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new BufferToggleSubscriber(subscriber, this.openings, this.closingSelector));\n    };\n    return BufferToggleOperator;\n}());\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar BufferToggleSubscriber = (function (_super) {\n    __extends(BufferToggleSubscriber, _super);\n    function BufferToggleSubscriber(destination, openings, closingSelector) {\n        _super.call(this, destination);\n        this.openings = openings;\n        this.closingSelector = closingSelector;\n        this.contexts = [];\n        this.add(subscribeToResult_1.subscribeToResult(this, openings));\n    }\n    BufferToggleSubscriber.prototype._next = function (value) {\n        var contexts = this.contexts;\n        var len = contexts.length;\n        for (var i = 0; i < len; i++) {\n            contexts[i].buffer.push(value);\n        }\n    };\n    BufferToggleSubscriber.prototype._error = function (err) {\n        var contexts = this.contexts;\n        while (contexts.length > 0) {\n            var context = contexts.shift();\n            context.subscription.unsubscribe();\n            context.buffer = null;\n            context.subscription = null;\n        }\n        this.contexts = null;\n        _super.prototype._error.call(this, err);\n    };\n    BufferToggleSubscriber.prototype._complete = function () {\n        var contexts = this.contexts;\n        while (contexts.length > 0) {\n            var context = contexts.shift();\n            this.destination.next(context.buffer);\n            context.subscription.unsubscribe();\n            context.buffer = null;\n            context.subscription = null;\n        }\n        this.contexts = null;\n        _super.prototype._complete.call(this);\n    };\n    BufferToggleSubscriber.prototype.notifyNext = function (outerValue, innerValue, outerIndex, innerIndex, innerSub) {\n        outerValue ? this.closeBuffer(outerValue) : this.openBuffer(innerValue);\n    };\n    BufferToggleSubscriber.prototype.notifyComplete = function (innerSub) {\n        this.closeBuffer(innerSub.context);\n    };\n    BufferToggleSubscriber.prototype.openBuffer = function (value) {\n        try {\n            var closingSelector = this.closingSelector;\n            var closingNotifier = closingSelector.call(this, value);\n            if (closingNotifier) {\n                this.trySubscribe(closingNotifier);\n            }\n        }\n        catch (err) {\n            this._error(err);\n        }\n    };\n    BufferToggleSubscriber.prototype.closeBuffer = function (context) {\n        var contexts = this.contexts;\n        if (contexts && context) {\n            var buffer = context.buffer, subscription = context.subscription;\n            this.destination.next(buffer);\n            contexts.splice(contexts.indexOf(context), 1);\n            this.remove(subscription);\n            subscription.unsubscribe();\n        }\n    };\n    BufferToggleSubscriber.prototype.trySubscribe = function (closingNotifier) {\n        var contexts = this.contexts;\n        var buffer = [];\n        var subscription = new Subscription_1.Subscription();\n        var context = { buffer: buffer, subscription: subscription };\n        contexts.push(context);\n        var innerSubscription = subscribeToResult_1.subscribeToResult(this, closingNotifier, context);\n        if (!innerSubscription || innerSubscription.closed) {\n            this.closeBuffer(context);\n        }\n        else {\n            innerSubscription.context = context;\n            this.add(innerSubscription);\n            subscription.add(innerSubscription);\n        }\n    };\n    return BufferToggleSubscriber;\n}(OuterSubscriber_1.OuterSubscriber));\n//# sourceMappingURL=bufferToggle.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar Subscription_1 = require('../Subscription');\nvar tryCatch_1 = require('../util/tryCatch');\nvar errorObject_1 = require('../util/errorObject');\nvar OuterSubscriber_1 = require('../OuterSubscriber');\nvar subscribeToResult_1 = require('../util/subscribeToResult');\n/**\n * Buffers the source Observable values, using a factory function of closing\n * Observables to determine when to close, emit, and reset the buffer.\n *\n * <span class=\"informal\">Collects values from the past as an array. When it\n * starts collecting values, it calls a function that returns an Observable that\n * tells when to close the buffer and restart collecting.</span>\n *\n * <img src=\"./img/bufferWhen.png\" width=\"100%\">\n *\n * Opens a buffer immediately, then closes the buffer when the observable\n * returned by calling `closingSelector` function emits a value. When it closes\n * the buffer, it immediately opens a new buffer and repeats the process.\n *\n * @example <caption>Emit an array of the last clicks every [1-5] random seconds</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var buffered = clicks.bufferWhen(() =>\n *   Rx.Observable.interval(1000 + Math.random() * 4000)\n * );\n * buffered.subscribe(x => console.log(x));\n *\n * @see {@link buffer}\n * @see {@link bufferCount}\n * @see {@link bufferTime}\n * @see {@link bufferToggle}\n * @see {@link windowWhen}\n *\n * @param {function(): Observable} closingSelector A function that takes no\n * arguments and returns an Observable that signals buffer closure.\n * @return {Observable<T[]>} An observable of arrays of buffered values.\n * @method bufferWhen\n * @owner Observable\n */\nfunction bufferWhen(closingSelector) {\n    return function (source) {\n        return source.lift(new BufferWhenOperator(closingSelector));\n    };\n}\nexports.bufferWhen = bufferWhen;\nvar BufferWhenOperator = (function () {\n    function BufferWhenOperator(closingSelector) {\n        this.closingSelector = closingSelector;\n    }\n    BufferWhenOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new BufferWhenSubscriber(subscriber, this.closingSelector));\n    };\n    return BufferWhenOperator;\n}());\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar BufferWhenSubscriber = (function (_super) {\n    __extends(BufferWhenSubscriber, _super);\n    function BufferWhenSubscriber(destination, closingSelector) {\n        _super.call(this, destination);\n        this.closingSelector = closingSelector;\n        this.subscribing = false;\n        this.openBuffer();\n    }\n    BufferWhenSubscriber.prototype._next = function (value) {\n        this.buffer.push(value);\n    };\n    BufferWhenSubscriber.prototype._complete = function () {\n        var buffer = this.buffer;\n        if (buffer) {\n            this.destination.next(buffer);\n        }\n        _super.prototype._complete.call(this);\n    };\n    /** @deprecated internal use only */ BufferWhenSubscriber.prototype._unsubscribe = function () {\n        this.buffer = null;\n        this.subscribing = false;\n    };\n    BufferWhenSubscriber.prototype.notifyNext = function (outerValue, innerValue, outerIndex, innerIndex, innerSub) {\n        this.openBuffer();\n    };\n    BufferWhenSubscriber.prototype.notifyComplete = function () {\n        if (this.subscribing) {\n            this.complete();\n        }\n        else {\n            this.openBuffer();\n        }\n    };\n    BufferWhenSubscriber.prototype.openBuffer = function () {\n        var closingSubscription = this.closingSubscription;\n        if (closingSubscription) {\n            this.remove(closingSubscription);\n            closingSubscription.unsubscribe();\n        }\n        var buffer = this.buffer;\n        if (this.buffer) {\n            this.destination.next(buffer);\n        }\n        this.buffer = [];\n        var closingNotifier = tryCatch_1.tryCatch(this.closingSelector)();\n        if (closingNotifier === errorObject_1.errorObject) {\n            this.error(errorObject_1.errorObject.e);\n        }\n        else {\n            closingSubscription = new Subscription_1.Subscription();\n            this.closingSubscription = closingSubscription;\n            this.add(closingSubscription);\n            this.subscribing = true;\n            closingSubscription.add(subscribeToResult_1.subscribeToResult(this, closingNotifier));\n            this.subscribing = false;\n        }\n    };\n    return BufferWhenSubscriber;\n}(OuterSubscriber_1.OuterSubscriber));\n//# sourceMappingURL=bufferWhen.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar OuterSubscriber_1 = require('../OuterSubscriber');\nvar subscribeToResult_1 = require('../util/subscribeToResult');\n/**\n * Catches errors on the observable to be handled by returning a new observable or throwing an error.\n *\n * <img src=\"./img/catch.png\" width=\"100%\">\n *\n * @example <caption>Continues with a different Observable when there's an error</caption>\n *\n * Observable.of(1, 2, 3, 4, 5)\n *   .map(n => {\n * \t   if (n == 4) {\n * \t     throw 'four!';\n *     }\n *\t   return n;\n *   })\n *   .catch(err => Observable.of('I', 'II', 'III', 'IV', 'V'))\n *   .subscribe(x => console.log(x));\n *   // 1, 2, 3, I, II, III, IV, V\n *\n * @example <caption>Retries the caught source Observable again in case of error, similar to retry() operator</caption>\n *\n * Observable.of(1, 2, 3, 4, 5)\n *   .map(n => {\n * \t   if (n === 4) {\n * \t     throw 'four!';\n *     }\n * \t   return n;\n *   })\n *   .catch((err, caught) => caught)\n *   .take(30)\n *   .subscribe(x => console.log(x));\n *   // 1, 2, 3, 1, 2, 3, ...\n *\n * @example <caption>Throws a new error when the source Observable throws an error</caption>\n *\n * Observable.of(1, 2, 3, 4, 5)\n *   .map(n => {\n *     if (n == 4) {\n *       throw 'four!';\n *     }\n *     return n;\n *   })\n *   .catch(err => {\n *     throw 'error in source. Details: ' + err;\n *   })\n *   .subscribe(\n *     x => console.log(x),\n *     err => console.log(err)\n *   );\n *   // 1, 2, 3, error in source. Details: four!\n *\n * @param {function} selector a function that takes as arguments `err`, which is the error, and `caught`, which\n *  is the source observable, in case you'd like to \"retry\" that observable by returning it again. Whatever observable\n *  is returned by the `selector` will be used to continue the observable chain.\n * @return {Observable} An observable that originates from either the source or the observable returned by the\n *  catch `selector` function.\n * @name catchError\n */\nfunction catchError(selector) {\n    return function catchErrorOperatorFunction(source) {\n        var operator = new CatchOperator(selector);\n        var caught = source.lift(operator);\n        return (operator.caught = caught);\n    };\n}\nexports.catchError = catchError;\nvar CatchOperator = (function () {\n    function CatchOperator(selector) {\n        this.selector = selector;\n    }\n    CatchOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new CatchSubscriber(subscriber, this.selector, this.caught));\n    };\n    return CatchOperator;\n}());\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar CatchSubscriber = (function (_super) {\n    __extends(CatchSubscriber, _super);\n    function CatchSubscriber(destination, selector, caught) {\n        _super.call(this, destination);\n        this.selector = selector;\n        this.caught = caught;\n    }\n    // NOTE: overriding `error` instead of `_error` because we don't want\n    // to have this flag this subscriber as `isStopped`. We can mimic the\n    // behavior of the RetrySubscriber (from the `retry` operator), where\n    // we unsubscribe from our source chain, reset our Subscriber flags,\n    // then subscribe to the selector result.\n    CatchSubscriber.prototype.error = function (err) {\n        if (!this.isStopped) {\n            var result = void 0;\n            try {\n                result = this.selector(err, this.caught);\n            }\n            catch (err2) {\n                _super.prototype.error.call(this, err2);\n                return;\n            }\n            this._unsubscribeAndRecycle();\n            this.add(subscribeToResult_1.subscribeToResult(this, result));\n        }\n    };\n    return CatchSubscriber;\n}(OuterSubscriber_1.OuterSubscriber));\n//# sourceMappingURL=catchError.js.map","\"use strict\";\nvar combineLatest_1 = require('../operators/combineLatest');\nfunction combineAll(project) {\n    return function (source) { return source.lift(new combineLatest_1.CombineLatestOperator(project)); };\n}\nexports.combineAll = combineAll;\n//# sourceMappingURL=combineAll.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar ArrayObservable_1 = require('../observable/ArrayObservable');\nvar isArray_1 = require('../util/isArray');\nvar OuterSubscriber_1 = require('../OuterSubscriber');\nvar subscribeToResult_1 = require('../util/subscribeToResult');\nvar none = {};\n/* tslint:enable:max-line-length */\n/**\n * Combines multiple Observables to create an Observable whose values are\n * calculated from the latest values of each of its input Observables.\n *\n * <span class=\"informal\">Whenever any input Observable emits a value, it\n * computes a formula using the latest values from all the inputs, then emits\n * the output of that formula.</span>\n *\n * <img src=\"./img/combineLatest.png\" width=\"100%\">\n *\n * `combineLatest` combines the values from this Observable with values from\n * Observables passed as arguments. This is done by subscribing to each\n * Observable, in order, and collecting an array of each of the most recent\n * values any time any of the input Observables emits, then either taking that\n * array and passing it as arguments to an optional `project` function and\n * emitting the return value of that, or just emitting the array of recent\n * values directly if there is no `project` function.\n *\n * @example <caption>Dynamically calculate the Body-Mass Index from an Observable of weight and one for height</caption>\n * var weight = Rx.Observable.of(70, 72, 76, 79, 75);\n * var height = Rx.Observable.of(1.76, 1.77, 1.78);\n * var bmi = weight.combineLatest(height, (w, h) => w / (h * h));\n * bmi.subscribe(x => console.log('BMI is ' + x));\n *\n * // With output to console:\n * // BMI is 24.212293388429753\n * // BMI is 23.93948099205209\n * // BMI is 23.671253629592222\n *\n * @see {@link combineAll}\n * @see {@link merge}\n * @see {@link withLatestFrom}\n *\n * @param {ObservableInput} other An input Observable to combine with the source\n * Observable. More than one input Observables may be given as argument.\n * @param {function} [project] An optional function to project the values from\n * the combined latest values into a new value on the output Observable.\n * @return {Observable} An Observable of projected values from the most recent\n * values from each input Observable, or an array of the most recent values from\n * each input Observable.\n * @method combineLatest\n * @owner Observable\n */\nfunction combineLatest() {\n    var observables = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        observables[_i - 0] = arguments[_i];\n    }\n    var project = null;\n    if (typeof observables[observables.length - 1] === 'function') {\n        project = observables.pop();\n    }\n    // if the first and only other argument besides the resultSelector is an array\n    // assume it's been called with `combineLatest([obs1, obs2, obs3], project)`\n    if (observables.length === 1 && isArray_1.isArray(observables[0])) {\n        observables = observables[0].slice();\n    }\n    return function (source) { return source.lift.call(new ArrayObservable_1.ArrayObservable([source].concat(observables)), new CombineLatestOperator(project)); };\n}\nexports.combineLatest = combineLatest;\nvar CombineLatestOperator = (function () {\n    function CombineLatestOperator(project) {\n        this.project = project;\n    }\n    CombineLatestOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new CombineLatestSubscriber(subscriber, this.project));\n    };\n    return CombineLatestOperator;\n}());\nexports.CombineLatestOperator = CombineLatestOperator;\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar CombineLatestSubscriber = (function (_super) {\n    __extends(CombineLatestSubscriber, _super);\n    function CombineLatestSubscriber(destination, project) {\n        _super.call(this, destination);\n        this.project = project;\n        this.active = 0;\n        this.values = [];\n        this.observables = [];\n    }\n    CombineLatestSubscriber.prototype._next = function (observable) {\n        this.values.push(none);\n        this.observables.push(observable);\n    };\n    CombineLatestSubscriber.prototype._complete = function () {\n        var observables = this.observables;\n        var len = observables.length;\n        if (len === 0) {\n            this.destination.complete();\n        }\n        else {\n            this.active = len;\n            this.toRespond = len;\n            for (var i = 0; i < len; i++) {\n                var observable = observables[i];\n                this.add(subscribeToResult_1.subscribeToResult(this, observable, observable, i));\n            }\n        }\n    };\n    CombineLatestSubscriber.prototype.notifyComplete = function (unused) {\n        if ((this.active -= 1) === 0) {\n            this.destination.complete();\n        }\n    };\n    CombineLatestSubscriber.prototype.notifyNext = function (outerValue, innerValue, outerIndex, innerIndex, innerSub) {\n        var values = this.values;\n        var oldVal = values[outerIndex];\n        var toRespond = !this.toRespond\n            ? 0\n            : oldVal === none ? --this.toRespond : this.toRespond;\n        values[outerIndex] = innerValue;\n        if (toRespond === 0) {\n            if (this.project) {\n                this._tryProject(values);\n            }\n            else {\n                this.destination.next(values.slice());\n            }\n        }\n    };\n    CombineLatestSubscriber.prototype._tryProject = function (values) {\n        var result;\n        try {\n            result = this.project.apply(this, values);\n        }\n        catch (err) {\n            this.destination.error(err);\n            return;\n        }\n        this.destination.next(result);\n    };\n    return CombineLatestSubscriber;\n}(OuterSubscriber_1.OuterSubscriber));\nexports.CombineLatestSubscriber = CombineLatestSubscriber;\n//# sourceMappingURL=combineLatest.js.map","\"use strict\";\nvar concat_1 = require('../observable/concat');\nvar concat_2 = require('../observable/concat');\nexports.concatStatic = concat_2.concat;\n/* tslint:enable:max-line-length */\n/**\n * Creates an output Observable which sequentially emits all values from every\n * given input Observable after the current Observable.\n *\n * <span class=\"informal\">Concatenates multiple Observables together by\n * sequentially emitting their values, one Observable after the other.</span>\n *\n * <img src=\"./img/concat.png\" width=\"100%\">\n *\n * Joins this Observable with multiple other Observables by subscribing to them\n * one at a time, starting with the source, and merging their results into the\n * output Observable. Will wait for each Observable to complete before moving\n * on to the next.\n *\n * @example <caption>Concatenate a timer counting from 0 to 3 with a synchronous sequence from 1 to 10</caption>\n * var timer = Rx.Observable.interval(1000).take(4);\n * var sequence = Rx.Observable.range(1, 10);\n * var result = timer.concat(sequence);\n * result.subscribe(x => console.log(x));\n *\n * // results in:\n * // 1000ms-> 0 -1000ms-> 1 -1000ms-> 2 -1000ms-> 3 -immediate-> 1 ... 10\n *\n * @example <caption>Concatenate 3 Observables</caption>\n * var timer1 = Rx.Observable.interval(1000).take(10);\n * var timer2 = Rx.Observable.interval(2000).take(6);\n * var timer3 = Rx.Observable.interval(500).take(10);\n * var result = timer1.concat(timer2, timer3);\n * result.subscribe(x => console.log(x));\n *\n * // results in the following:\n * // (Prints to console sequentially)\n * // -1000ms-> 0 -1000ms-> 1 -1000ms-> ... 9\n * // -2000ms-> 0 -2000ms-> 1 -2000ms-> ... 5\n * // -500ms-> 0 -500ms-> 1 -500ms-> ... 9\n *\n * @see {@link concatAll}\n * @see {@link concatMap}\n * @see {@link concatMapTo}\n *\n * @param {ObservableInput} other An input Observable to concatenate after the source\n * Observable. More than one input Observables may be given as argument.\n * @param {Scheduler} [scheduler=null] An optional IScheduler to schedule each\n * Observable subscription on.\n * @return {Observable} All values of each passed Observable merged into a\n * single Observable, in order, in serial fashion.\n * @method concat\n * @owner Observable\n */\nfunction concat() {\n    var observables = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        observables[_i - 0] = arguments[_i];\n    }\n    return function (source) { return source.lift.call(concat_1.concat.apply(void 0, [source].concat(observables))); };\n}\nexports.concat = concat;\n//# sourceMappingURL=concat.js.map","\"use strict\";\nvar mergeAll_1 = require('./mergeAll');\n/**\n * Converts a higher-order Observable into a first-order Observable by\n * concatenating the inner Observables in order.\n *\n * <span class=\"informal\">Flattens an Observable-of-Observables by putting one\n * inner Observable after the other.</span>\n *\n * <img src=\"./img/concatAll.png\" width=\"100%\">\n *\n * Joins every Observable emitted by the source (a higher-order Observable), in\n * a serial fashion. It subscribes to each inner Observable only after the\n * previous inner Observable has completed, and merges all of their values into\n * the returned observable.\n *\n * __Warning:__ If the source Observable emits Observables quickly and\n * endlessly, and the inner Observables it emits generally complete slower than\n * the source emits, you can run into memory issues as the incoming Observables\n * collect in an unbounded buffer.\n *\n * Note: `concatAll` is equivalent to `mergeAll` with concurrency parameter set\n * to `1`.\n *\n * @example <caption>For each click event, tick every second from 0 to 3, with no concurrency</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var higherOrder = clicks.map(ev => Rx.Observable.interval(1000).take(4));\n * var firstOrder = higherOrder.concatAll();\n * firstOrder.subscribe(x => console.log(x));\n *\n * // Results in the following:\n * // (results are not concurrent)\n * // For every click on the \"document\" it will emit values 0 to 3 spaced\n * // on a 1000ms interval\n * // one click = 1000ms-> 0 -1000ms-> 1 -1000ms-> 2 -1000ms-> 3\n *\n * @see {@link combineAll}\n * @see {@link concat}\n * @see {@link concatMap}\n * @see {@link concatMapTo}\n * @see {@link exhaust}\n * @see {@link mergeAll}\n * @see {@link switch}\n * @see {@link zipAll}\n *\n * @return {Observable} An Observable emitting values from all the inner\n * Observables concatenated.\n * @method concatAll\n * @owner Observable\n */\nfunction concatAll() {\n    return mergeAll_1.mergeAll(1);\n}\nexports.concatAll = concatAll;\n//# sourceMappingURL=concatAll.js.map","\"use strict\";\nvar mergeMap_1 = require('./mergeMap');\n/* tslint:enable:max-line-length */\n/**\n * Projects each source value to an Observable which is merged in the output\n * Observable, in a serialized fashion waiting for each one to complete before\n * merging the next.\n *\n * <span class=\"informal\">Maps each value to an Observable, then flattens all of\n * these inner Observables using {@link concatAll}.</span>\n *\n * <img src=\"./img/concatMap.png\" width=\"100%\">\n *\n * Returns an Observable that emits items based on applying a function that you\n * supply to each item emitted by the source Observable, where that function\n * returns an (so-called \"inner\") Observable. Each new inner Observable is\n * concatenated with the previous inner Observable.\n *\n * __Warning:__ if source values arrive endlessly and faster than their\n * corresponding inner Observables can complete, it will result in memory issues\n * as inner Observables amass in an unbounded buffer waiting for their turn to\n * be subscribed to.\n *\n * Note: `concatMap` is equivalent to `mergeMap` with concurrency parameter set\n * to `1`.\n *\n * @example <caption>For each click event, tick every second from 0 to 3, with no concurrency</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var result = clicks.concatMap(ev => Rx.Observable.interval(1000).take(4));\n * result.subscribe(x => console.log(x));\n *\n * // Results in the following:\n * // (results are not concurrent)\n * // For every click on the \"document\" it will emit values 0 to 3 spaced\n * // on a 1000ms interval\n * // one click = 1000ms-> 0 -1000ms-> 1 -1000ms-> 2 -1000ms-> 3\n *\n * @see {@link concat}\n * @see {@link concatAll}\n * @see {@link concatMapTo}\n * @see {@link exhaustMap}\n * @see {@link mergeMap}\n * @see {@link switchMap}\n *\n * @param {function(value: T, ?index: number): ObservableInput} project A function\n * that, when applied to an item emitted by the source Observable, returns an\n * Observable.\n * @param {function(outerValue: T, innerValue: I, outerIndex: number, innerIndex: number): any} [resultSelector]\n * A function to produce the value on the output Observable based on the values\n * and the indices of the source (outer) emission and the inner Observable\n * emission. The arguments passed to this function are:\n * - `outerValue`: the value that came from the source\n * - `innerValue`: the value that came from the projected Observable\n * - `outerIndex`: the \"index\" of the value that came from the source\n * - `innerIndex`: the \"index\" of the value from the projected Observable\n * @return {Observable} An Observable that emits the result of applying the\n * projection function (and the optional `resultSelector`) to each item emitted\n * by the source Observable and taking values from each projected inner\n * Observable sequentially.\n * @method concatMap\n * @owner Observable\n */\nfunction concatMap(project, resultSelector) {\n    return mergeMap_1.mergeMap(project, resultSelector, 1);\n}\nexports.concatMap = concatMap;\n//# sourceMappingURL=concatMap.js.map","\"use strict\";\nvar concatMap_1 = require('./concatMap');\n/* tslint:enable:max-line-length */\n/**\n * Projects each source value to the same Observable which is merged multiple\n * times in a serialized fashion on the output Observable.\n *\n * <span class=\"informal\">It's like {@link concatMap}, but maps each value\n * always to the same inner Observable.</span>\n *\n * <img src=\"./img/concatMapTo.png\" width=\"100%\">\n *\n * Maps each source value to the given Observable `innerObservable` regardless\n * of the source value, and then flattens those resulting Observables into one\n * single Observable, which is the output Observable. Each new `innerObservable`\n * instance emitted on the output Observable is concatenated with the previous\n * `innerObservable` instance.\n *\n * __Warning:__ if source values arrive endlessly and faster than their\n * corresponding inner Observables can complete, it will result in memory issues\n * as inner Observables amass in an unbounded buffer waiting for their turn to\n * be subscribed to.\n *\n * Note: `concatMapTo` is equivalent to `mergeMapTo` with concurrency parameter\n * set to `1`.\n *\n * @example <caption>For each click event, tick every second from 0 to 3, with no concurrency</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var result = clicks.concatMapTo(Rx.Observable.interval(1000).take(4));\n * result.subscribe(x => console.log(x));\n *\n * // Results in the following:\n * // (results are not concurrent)\n * // For every click on the \"document\" it will emit values 0 to 3 spaced\n * // on a 1000ms interval\n * // one click = 1000ms-> 0 -1000ms-> 1 -1000ms-> 2 -1000ms-> 3\n *\n * @see {@link concat}\n * @see {@link concatAll}\n * @see {@link concatMap}\n * @see {@link mergeMapTo}\n * @see {@link switchMapTo}\n *\n * @param {ObservableInput} innerObservable An Observable to replace each value from\n * the source Observable.\n * @param {function(outerValue: T, innerValue: I, outerIndex: number, innerIndex: number): any} [resultSelector]\n * A function to produce the value on the output Observable based on the values\n * and the indices of the source (outer) emission and the inner Observable\n * emission. The arguments passed to this function are:\n * - `outerValue`: the value that came from the source\n * - `innerValue`: the value that came from the projected Observable\n * - `outerIndex`: the \"index\" of the value that came from the source\n * - `innerIndex`: the \"index\" of the value from the projected Observable\n * @return {Observable} An observable of values merged together by joining the\n * passed observable with itself, one after the other, for each value emitted\n * from the source.\n * @method concatMapTo\n * @owner Observable\n */\nfunction concatMapTo(innerObservable, resultSelector) {\n    return concatMap_1.concatMap(function () { return innerObservable; }, resultSelector);\n}\nexports.concatMapTo = concatMapTo;\n//# sourceMappingURL=concatMapTo.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar Subscriber_1 = require('../Subscriber');\n/**\n * Counts the number of emissions on the source and emits that number when the\n * source completes.\n *\n * <span class=\"informal\">Tells how many values were emitted, when the source\n * completes.</span>\n *\n * <img src=\"./img/count.png\" width=\"100%\">\n *\n * `count` transforms an Observable that emits values into an Observable that\n * emits a single value that represents the number of values emitted by the\n * source Observable. If the source Observable terminates with an error, `count`\n * will pass this error notification along without emitting a value first. If\n * the source Observable does not terminate at all, `count` will neither emit\n * a value nor terminate. This operator takes an optional `predicate` function\n * as argument, in which case the output emission will represent the number of\n * source values that matched `true` with the `predicate`.\n *\n * @example <caption>Counts how many seconds have passed before the first click happened</caption>\n * var seconds = Rx.Observable.interval(1000);\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var secondsBeforeClick = seconds.takeUntil(clicks);\n * var result = secondsBeforeClick.count();\n * result.subscribe(x => console.log(x));\n *\n * @example <caption>Counts how many odd numbers are there between 1 and 7</caption>\n * var numbers = Rx.Observable.range(1, 7);\n * var result = numbers.count(i => i % 2 === 1);\n * result.subscribe(x => console.log(x));\n *\n * // Results in:\n * // 4\n *\n * @see {@link max}\n * @see {@link min}\n * @see {@link reduce}\n *\n * @param {function(value: T, i: number, source: Observable<T>): boolean} [predicate] A\n * boolean function to select what values are to be counted. It is provided with\n * arguments of:\n * - `value`: the value from the source Observable.\n * - `index`: the (zero-based) \"index\" of the value from the source Observable.\n * - `source`: the source Observable instance itself.\n * @return {Observable} An Observable of one number that represents the count as\n * described above.\n * @method count\n * @owner Observable\n */\nfunction count(predicate) {\n    return function (source) { return source.lift(new CountOperator(predicate, source)); };\n}\nexports.count = count;\nvar CountOperator = (function () {\n    function CountOperator(predicate, source) {\n        this.predicate = predicate;\n        this.source = source;\n    }\n    CountOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new CountSubscriber(subscriber, this.predicate, this.source));\n    };\n    return CountOperator;\n}());\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar CountSubscriber = (function (_super) {\n    __extends(CountSubscriber, _super);\n    function CountSubscriber(destination, predicate, source) {\n        _super.call(this, destination);\n        this.predicate = predicate;\n        this.source = source;\n        this.count = 0;\n        this.index = 0;\n    }\n    CountSubscriber.prototype._next = function (value) {\n        if (this.predicate) {\n            this._tryPredicate(value);\n        }\n        else {\n            this.count++;\n        }\n    };\n    CountSubscriber.prototype._tryPredicate = function (value) {\n        var result;\n        try {\n            result = this.predicate(value, this.index++, this.source);\n        }\n        catch (err) {\n            this.destination.error(err);\n            return;\n        }\n        if (result) {\n            this.count++;\n        }\n    };\n    CountSubscriber.prototype._complete = function () {\n        this.destination.next(this.count);\n        this.destination.complete();\n    };\n    return CountSubscriber;\n}(Subscriber_1.Subscriber));\n//# sourceMappingURL=count.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar OuterSubscriber_1 = require('../OuterSubscriber');\nvar subscribeToResult_1 = require('../util/subscribeToResult');\n/**\n * Emits a value from the source Observable only after a particular time span\n * determined by another Observable has passed without another source emission.\n *\n * <span class=\"informal\">It's like {@link debounceTime}, but the time span of\n * emission silence is determined by a second Observable.</span>\n *\n * <img src=\"./img/debounce.png\" width=\"100%\">\n *\n * `debounce` delays values emitted by the source Observable, but drops previous\n * pending delayed emissions if a new value arrives on the source Observable.\n * This operator keeps track of the most recent value from the source\n * Observable, and spawns a duration Observable by calling the\n * `durationSelector` function. The value is emitted only when the duration\n * Observable emits a value or completes, and if no other value was emitted on\n * the source Observable since the duration Observable was spawned. If a new\n * value appears before the duration Observable emits, the previous value will\n * be dropped and will not be emitted on the output Observable.\n *\n * Like {@link debounceTime}, this is a rate-limiting operator, and also a\n * delay-like operator since output emissions do not necessarily occur at the\n * same time as they did on the source Observable.\n *\n * @example <caption>Emit the most recent click after a burst of clicks</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var result = clicks.debounce(() => Rx.Observable.interval(1000));\n * result.subscribe(x => console.log(x));\n *\n * @see {@link audit}\n * @see {@link debounceTime}\n * @see {@link delayWhen}\n * @see {@link throttle}\n *\n * @param {function(value: T): SubscribableOrPromise} durationSelector A function\n * that receives a value from the source Observable, for computing the timeout\n * duration for each source value, returned as an Observable or a Promise.\n * @return {Observable} An Observable that delays the emissions of the source\n * Observable by the specified duration Observable returned by\n * `durationSelector`, and may drop some values if they occur too frequently.\n * @method debounce\n * @owner Observable\n */\nfunction debounce(durationSelector) {\n    return function (source) { return source.lift(new DebounceOperator(durationSelector)); };\n}\nexports.debounce = debounce;\nvar DebounceOperator = (function () {\n    function DebounceOperator(durationSelector) {\n        this.durationSelector = durationSelector;\n    }\n    DebounceOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new DebounceSubscriber(subscriber, this.durationSelector));\n    };\n    return DebounceOperator;\n}());\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar DebounceSubscriber = (function (_super) {\n    __extends(DebounceSubscriber, _super);\n    function DebounceSubscriber(destination, durationSelector) {\n        _super.call(this, destination);\n        this.durationSelector = durationSelector;\n        this.hasValue = false;\n        this.durationSubscription = null;\n    }\n    DebounceSubscriber.prototype._next = function (value) {\n        try {\n            var result = this.durationSelector.call(this, value);\n            if (result) {\n                this._tryNext(value, result);\n            }\n        }\n        catch (err) {\n            this.destination.error(err);\n        }\n    };\n    DebounceSubscriber.prototype._complete = function () {\n        this.emitValue();\n        this.destination.complete();\n    };\n    DebounceSubscriber.prototype._tryNext = function (value, duration) {\n        var subscription = this.durationSubscription;\n        this.value = value;\n        this.hasValue = true;\n        if (subscription) {\n            subscription.unsubscribe();\n            this.remove(subscription);\n        }\n        subscription = subscribeToResult_1.subscribeToResult(this, duration);\n        if (!subscription.closed) {\n            this.add(this.durationSubscription = subscription);\n        }\n    };\n    DebounceSubscriber.prototype.notifyNext = function (outerValue, innerValue, outerIndex, innerIndex, innerSub) {\n        this.emitValue();\n    };\n    DebounceSubscriber.prototype.notifyComplete = function () {\n        this.emitValue();\n    };\n    DebounceSubscriber.prototype.emitValue = function () {\n        if (this.hasValue) {\n            var value = this.value;\n            var subscription = this.durationSubscription;\n            if (subscription) {\n                this.durationSubscription = null;\n                subscription.unsubscribe();\n                this.remove(subscription);\n            }\n            this.value = null;\n            this.hasValue = false;\n            _super.prototype._next.call(this, value);\n        }\n    };\n    return DebounceSubscriber;\n}(OuterSubscriber_1.OuterSubscriber));\n//# sourceMappingURL=debounce.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar Subscriber_1 = require('../Subscriber');\nvar async_1 = require('../scheduler/async');\n/**\n * Emits a value from the source Observable only after a particular time span\n * has passed without another source emission.\n *\n * <span class=\"informal\">It's like {@link delay}, but passes only the most\n * recent value from each burst of emissions.</span>\n *\n * <img src=\"./img/debounceTime.png\" width=\"100%\">\n *\n * `debounceTime` delays values emitted by the source Observable, but drops\n * previous pending delayed emissions if a new value arrives on the source\n * Observable. This operator keeps track of the most recent value from the\n * source Observable, and emits that only when `dueTime` enough time has passed\n * without any other value appearing on the source Observable. If a new value\n * appears before `dueTime` silence occurs, the previous value will be dropped\n * and will not be emitted on the output Observable.\n *\n * This is a rate-limiting operator, because it is impossible for more than one\n * value to be emitted in any time window of duration `dueTime`, but it is also\n * a delay-like operator since output emissions do not occur at the same time as\n * they did on the source Observable. Optionally takes a {@link IScheduler} for\n * managing timers.\n *\n * @example <caption>Emit the most recent click after a burst of clicks</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var result = clicks.debounceTime(1000);\n * result.subscribe(x => console.log(x));\n *\n * @see {@link auditTime}\n * @see {@link debounce}\n * @see {@link delay}\n * @see {@link sampleTime}\n * @see {@link throttleTime}\n *\n * @param {number} dueTime The timeout duration in milliseconds (or the time\n * unit determined internally by the optional `scheduler`) for the window of\n * time required to wait for emission silence before emitting the most recent\n * source value.\n * @param {Scheduler} [scheduler=async] The {@link IScheduler} to use for\n * managing the timers that handle the timeout for each value.\n * @return {Observable} An Observable that delays the emissions of the source\n * Observable by the specified `dueTime`, and may drop some values if they occur\n * too frequently.\n * @method debounceTime\n * @owner Observable\n */\nfunction debounceTime(dueTime, scheduler) {\n    if (scheduler === void 0) { scheduler = async_1.async; }\n    return function (source) { return source.lift(new DebounceTimeOperator(dueTime, scheduler)); };\n}\nexports.debounceTime = debounceTime;\nvar DebounceTimeOperator = (function () {\n    function DebounceTimeOperator(dueTime, scheduler) {\n        this.dueTime = dueTime;\n        this.scheduler = scheduler;\n    }\n    DebounceTimeOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new DebounceTimeSubscriber(subscriber, this.dueTime, this.scheduler));\n    };\n    return DebounceTimeOperator;\n}());\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar DebounceTimeSubscriber = (function (_super) {\n    __extends(DebounceTimeSubscriber, _super);\n    function DebounceTimeSubscriber(destination, dueTime, scheduler) {\n        _super.call(this, destination);\n        this.dueTime = dueTime;\n        this.scheduler = scheduler;\n        this.debouncedSubscription = null;\n        this.lastValue = null;\n        this.hasValue = false;\n    }\n    DebounceTimeSubscriber.prototype._next = function (value) {\n        this.clearDebounce();\n        this.lastValue = value;\n        this.hasValue = true;\n        this.add(this.debouncedSubscription = this.scheduler.schedule(dispatchNext, this.dueTime, this));\n    };\n    DebounceTimeSubscriber.prototype._complete = function () {\n        this.debouncedNext();\n        this.destination.complete();\n    };\n    DebounceTimeSubscriber.prototype.debouncedNext = function () {\n        this.clearDebounce();\n        if (this.hasValue) {\n            this.destination.next(this.lastValue);\n            this.lastValue = null;\n            this.hasValue = false;\n        }\n    };\n    DebounceTimeSubscriber.prototype.clearDebounce = function () {\n        var debouncedSubscription = this.debouncedSubscription;\n        if (debouncedSubscription !== null) {\n            this.remove(debouncedSubscription);\n            debouncedSubscription.unsubscribe();\n            this.debouncedSubscription = null;\n        }\n    };\n    return DebounceTimeSubscriber;\n}(Subscriber_1.Subscriber));\nfunction dispatchNext(subscriber) {\n    subscriber.debouncedNext();\n}\n//# sourceMappingURL=debounceTime.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar Subscriber_1 = require('../Subscriber');\n/* tslint:enable:max-line-length */\n/**\n * Emits a given value if the source Observable completes without emitting any\n * `next` value, otherwise mirrors the source Observable.\n *\n * <span class=\"informal\">If the source Observable turns out to be empty, then\n * this operator will emit a default value.</span>\n *\n * <img src=\"./img/defaultIfEmpty.png\" width=\"100%\">\n *\n * `defaultIfEmpty` emits the values emitted by the source Observable or a\n * specified default value if the source Observable is empty (completes without\n * having emitted any `next` value).\n *\n * @example <caption>If no clicks happen in 5 seconds, then emit \"no clicks\"</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var clicksBeforeFive = clicks.takeUntil(Rx.Observable.interval(5000));\n * var result = clicksBeforeFive.defaultIfEmpty('no clicks');\n * result.subscribe(x => console.log(x));\n *\n * @see {@link empty}\n * @see {@link last}\n *\n * @param {any} [defaultValue=null] The default value used if the source\n * Observable is empty.\n * @return {Observable} An Observable that emits either the specified\n * `defaultValue` if the source Observable emits no items, or the values emitted\n * by the source Observable.\n * @method defaultIfEmpty\n * @owner Observable\n */\nfunction defaultIfEmpty(defaultValue) {\n    if (defaultValue === void 0) { defaultValue = null; }\n    return function (source) { return source.lift(new DefaultIfEmptyOperator(defaultValue)); };\n}\nexports.defaultIfEmpty = defaultIfEmpty;\nvar DefaultIfEmptyOperator = (function () {\n    function DefaultIfEmptyOperator(defaultValue) {\n        this.defaultValue = defaultValue;\n    }\n    DefaultIfEmptyOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new DefaultIfEmptySubscriber(subscriber, this.defaultValue));\n    };\n    return DefaultIfEmptyOperator;\n}());\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar DefaultIfEmptySubscriber = (function (_super) {\n    __extends(DefaultIfEmptySubscriber, _super);\n    function DefaultIfEmptySubscriber(destination, defaultValue) {\n        _super.call(this, destination);\n        this.defaultValue = defaultValue;\n        this.isEmpty = true;\n    }\n    DefaultIfEmptySubscriber.prototype._next = function (value) {\n        this.isEmpty = false;\n        this.destination.next(value);\n    };\n    DefaultIfEmptySubscriber.prototype._complete = function () {\n        if (this.isEmpty) {\n            this.destination.next(this.defaultValue);\n        }\n        this.destination.complete();\n    };\n    return DefaultIfEmptySubscriber;\n}(Subscriber_1.Subscriber));\n//# sourceMappingURL=defaultIfEmpty.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar async_1 = require('../scheduler/async');\nvar isDate_1 = require('../util/isDate');\nvar Subscriber_1 = require('../Subscriber');\nvar Notification_1 = require('../Notification');\n/**\n * Delays the emission of items from the source Observable by a given timeout or\n * until a given Date.\n *\n * <span class=\"informal\">Time shifts each item by some specified amount of\n * milliseconds.</span>\n *\n * <img src=\"./img/delay.png\" width=\"100%\">\n *\n * If the delay argument is a Number, this operator time shifts the source\n * Observable by that amount of time expressed in milliseconds. The relative\n * time intervals between the values are preserved.\n *\n * If the delay argument is a Date, this operator time shifts the start of the\n * Observable execution until the given date occurs.\n *\n * @example <caption>Delay each click by one second</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var delayedClicks = clicks.delay(1000); // each click emitted after 1 second\n * delayedClicks.subscribe(x => console.log(x));\n *\n * @example <caption>Delay all clicks until a future date happens</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var date = new Date('March 15, 2050 12:00:00'); // in the future\n * var delayedClicks = clicks.delay(date); // click emitted only after that date\n * delayedClicks.subscribe(x => console.log(x));\n *\n * @see {@link debounceTime}\n * @see {@link delayWhen}\n *\n * @param {number|Date} delay The delay duration in milliseconds (a `number`) or\n * a `Date` until which the emission of the source items is delayed.\n * @param {Scheduler} [scheduler=async] The IScheduler to use for\n * managing the timers that handle the time-shift for each item.\n * @return {Observable} An Observable that delays the emissions of the source\n * Observable by the specified timeout or Date.\n * @method delay\n * @owner Observable\n */\nfunction delay(delay, scheduler) {\n    if (scheduler === void 0) { scheduler = async_1.async; }\n    var absoluteDelay = isDate_1.isDate(delay);\n    var delayFor = absoluteDelay ? (+delay - scheduler.now()) : Math.abs(delay);\n    return function (source) { return source.lift(new DelayOperator(delayFor, scheduler)); };\n}\nexports.delay = delay;\nvar DelayOperator = (function () {\n    function DelayOperator(delay, scheduler) {\n        this.delay = delay;\n        this.scheduler = scheduler;\n    }\n    DelayOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new DelaySubscriber(subscriber, this.delay, this.scheduler));\n    };\n    return DelayOperator;\n}());\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar DelaySubscriber = (function (_super) {\n    __extends(DelaySubscriber, _super);\n    function DelaySubscriber(destination, delay, scheduler) {\n        _super.call(this, destination);\n        this.delay = delay;\n        this.scheduler = scheduler;\n        this.queue = [];\n        this.active = false;\n        this.errored = false;\n    }\n    DelaySubscriber.dispatch = function (state) {\n        var source = state.source;\n        var queue = source.queue;\n        var scheduler = state.scheduler;\n        var destination = state.destination;\n        while (queue.length > 0 && (queue[0].time - scheduler.now()) <= 0) {\n            queue.shift().notification.observe(destination);\n        }\n        if (queue.length > 0) {\n            var delay_1 = Math.max(0, queue[0].time - scheduler.now());\n            this.schedule(state, delay_1);\n        }\n        else {\n            this.unsubscribe();\n            source.active = false;\n        }\n    };\n    DelaySubscriber.prototype._schedule = function (scheduler) {\n        this.active = true;\n        this.add(scheduler.schedule(DelaySubscriber.dispatch, this.delay, {\n            source: this, destination: this.destination, scheduler: scheduler\n        }));\n    };\n    DelaySubscriber.prototype.scheduleNotification = function (notification) {\n        if (this.errored === true) {\n            return;\n        }\n        var scheduler = this.scheduler;\n        var message = new DelayMessage(scheduler.now() + this.delay, notification);\n        this.queue.push(message);\n        if (this.active === false) {\n            this._schedule(scheduler);\n        }\n    };\n    DelaySubscriber.prototype._next = function (value) {\n        this.scheduleNotification(Notification_1.Notification.createNext(value));\n    };\n    DelaySubscriber.prototype._error = function (err) {\n        this.errored = true;\n        this.queue = [];\n        this.destination.error(err);\n    };\n    DelaySubscriber.prototype._complete = function () {\n        this.scheduleNotification(Notification_1.Notification.createComplete());\n    };\n    return DelaySubscriber;\n}(Subscriber_1.Subscriber));\nvar DelayMessage = (function () {\n    function DelayMessage(time, notification) {\n        this.time = time;\n        this.notification = notification;\n    }\n    return DelayMessage;\n}());\n//# sourceMappingURL=delay.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar Subscriber_1 = require('../Subscriber');\nvar Observable_1 = require('../Observable');\nvar OuterSubscriber_1 = require('../OuterSubscriber');\nvar subscribeToResult_1 = require('../util/subscribeToResult');\n/**\n * Delays the emission of items from the source Observable by a given time span\n * determined by the emissions of another Observable.\n *\n * <span class=\"informal\">It's like {@link delay}, but the time span of the\n * delay duration is determined by a second Observable.</span>\n *\n * <img src=\"./img/delayWhen.png\" width=\"100%\">\n *\n * `delayWhen` time shifts each emitted value from the source Observable by a\n * time span determined by another Observable. When the source emits a value,\n * the `delayDurationSelector` function is called with the source value as\n * argument, and should return an Observable, called the \"duration\" Observable.\n * The source value is emitted on the output Observable only when the duration\n * Observable emits a value or completes.\n *\n * Optionally, `delayWhen` takes a second argument, `subscriptionDelay`, which\n * is an Observable. When `subscriptionDelay` emits its first value or\n * completes, the source Observable is subscribed to and starts behaving like\n * described in the previous paragraph. If `subscriptionDelay` is not provided,\n * `delayWhen` will subscribe to the source Observable as soon as the output\n * Observable is subscribed.\n *\n * @example <caption>Delay each click by a random amount of time, between 0 and 5 seconds</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var delayedClicks = clicks.delayWhen(event =>\n *   Rx.Observable.interval(Math.random() * 5000)\n * );\n * delayedClicks.subscribe(x => console.log(x));\n *\n * @see {@link debounce}\n * @see {@link delay}\n *\n * @param {function(value: T): Observable} delayDurationSelector A function that\n * returns an Observable for each value emitted by the source Observable, which\n * is then used to delay the emission of that item on the output Observable\n * until the Observable returned from this function emits a value.\n * @param {Observable} subscriptionDelay An Observable that triggers the\n * subscription to the source Observable once it emits any value.\n * @return {Observable} An Observable that delays the emissions of the source\n * Observable by an amount of time specified by the Observable returned by\n * `delayDurationSelector`.\n * @method delayWhen\n * @owner Observable\n */\nfunction delayWhen(delayDurationSelector, subscriptionDelay) {\n    if (subscriptionDelay) {\n        return function (source) {\n            return new SubscriptionDelayObservable(source, subscriptionDelay)\n                .lift(new DelayWhenOperator(delayDurationSelector));\n        };\n    }\n    return function (source) { return source.lift(new DelayWhenOperator(delayDurationSelector)); };\n}\nexports.delayWhen = delayWhen;\nvar DelayWhenOperator = (function () {\n    function DelayWhenOperator(delayDurationSelector) {\n        this.delayDurationSelector = delayDurationSelector;\n    }\n    DelayWhenOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new DelayWhenSubscriber(subscriber, this.delayDurationSelector));\n    };\n    return DelayWhenOperator;\n}());\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar DelayWhenSubscriber = (function (_super) {\n    __extends(DelayWhenSubscriber, _super);\n    function DelayWhenSubscriber(destination, delayDurationSelector) {\n        _super.call(this, destination);\n        this.delayDurationSelector = delayDurationSelector;\n        this.completed = false;\n        this.delayNotifierSubscriptions = [];\n        this.values = [];\n    }\n    DelayWhenSubscriber.prototype.notifyNext = function (outerValue, innerValue, outerIndex, innerIndex, innerSub) {\n        this.destination.next(outerValue);\n        this.removeSubscription(innerSub);\n        this.tryComplete();\n    };\n    DelayWhenSubscriber.prototype.notifyError = function (error, innerSub) {\n        this._error(error);\n    };\n    DelayWhenSubscriber.prototype.notifyComplete = function (innerSub) {\n        var value = this.removeSubscription(innerSub);\n        if (value) {\n            this.destination.next(value);\n        }\n        this.tryComplete();\n    };\n    DelayWhenSubscriber.prototype._next = function (value) {\n        try {\n            var delayNotifier = this.delayDurationSelector(value);\n            if (delayNotifier) {\n                this.tryDelay(delayNotifier, value);\n            }\n        }\n        catch (err) {\n            this.destination.error(err);\n        }\n    };\n    DelayWhenSubscriber.prototype._complete = function () {\n        this.completed = true;\n        this.tryComplete();\n    };\n    DelayWhenSubscriber.prototype.removeSubscription = function (subscription) {\n        subscription.unsubscribe();\n        var subscriptionIdx = this.delayNotifierSubscriptions.indexOf(subscription);\n        var value = null;\n        if (subscriptionIdx !== -1) {\n            value = this.values[subscriptionIdx];\n            this.delayNotifierSubscriptions.splice(subscriptionIdx, 1);\n            this.values.splice(subscriptionIdx, 1);\n        }\n        return value;\n    };\n    DelayWhenSubscriber.prototype.tryDelay = function (delayNotifier, value) {\n        var notifierSubscription = subscribeToResult_1.subscribeToResult(this, delayNotifier, value);\n        if (notifierSubscription && !notifierSubscription.closed) {\n            this.add(notifierSubscription);\n            this.delayNotifierSubscriptions.push(notifierSubscription);\n        }\n        this.values.push(value);\n    };\n    DelayWhenSubscriber.prototype.tryComplete = function () {\n        if (this.completed && this.delayNotifierSubscriptions.length === 0) {\n            this.destination.complete();\n        }\n    };\n    return DelayWhenSubscriber;\n}(OuterSubscriber_1.OuterSubscriber));\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar SubscriptionDelayObservable = (function (_super) {\n    __extends(SubscriptionDelayObservable, _super);\n    function SubscriptionDelayObservable(/** @deprecated internal use only */ source, subscriptionDelay) {\n        _super.call(this);\n        this.source = source;\n        this.subscriptionDelay = subscriptionDelay;\n    }\n    /** @deprecated internal use only */ SubscriptionDelayObservable.prototype._subscribe = function (subscriber) {\n        this.subscriptionDelay.subscribe(new SubscriptionDelaySubscriber(subscriber, this.source));\n    };\n    return SubscriptionDelayObservable;\n}(Observable_1.Observable));\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar SubscriptionDelaySubscriber = (function (_super) {\n    __extends(SubscriptionDelaySubscriber, _super);\n    function SubscriptionDelaySubscriber(parent, source) {\n        _super.call(this);\n        this.parent = parent;\n        this.source = source;\n        this.sourceSubscribed = false;\n    }\n    SubscriptionDelaySubscriber.prototype._next = function (unused) {\n        this.subscribeToSource();\n    };\n    SubscriptionDelaySubscriber.prototype._error = function (err) {\n        this.unsubscribe();\n        this.parent.error(err);\n    };\n    SubscriptionDelaySubscriber.prototype._complete = function () {\n        this.subscribeToSource();\n    };\n    SubscriptionDelaySubscriber.prototype.subscribeToSource = function () {\n        if (!this.sourceSubscribed) {\n            this.sourceSubscribed = true;\n            this.unsubscribe();\n            this.source.subscribe(this.parent);\n        }\n    };\n    return SubscriptionDelaySubscriber;\n}(Subscriber_1.Subscriber));\n//# sourceMappingURL=delayWhen.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar Subscriber_1 = require('../Subscriber');\n/**\n * Converts an Observable of {@link Notification} objects into the emissions\n * that they represent.\n *\n * <span class=\"informal\">Unwraps {@link Notification} objects as actual `next`,\n * `error` and `complete` emissions. The opposite of {@link materialize}.</span>\n *\n * <img src=\"./img/dematerialize.png\" width=\"100%\">\n *\n * `dematerialize` is assumed to operate an Observable that only emits\n * {@link Notification} objects as `next` emissions, and does not emit any\n * `error`. Such Observable is the output of a `materialize` operation. Those\n * notifications are then unwrapped using the metadata they contain, and emitted\n * as `next`, `error`, and `complete` on the output Observable.\n *\n * Use this operator in conjunction with {@link materialize}.\n *\n * @example <caption>Convert an Observable of Notifications to an actual Observable</caption>\n * var notifA = new Rx.Notification('N', 'A');\n * var notifB = new Rx.Notification('N', 'B');\n * var notifE = new Rx.Notification('E', void 0,\n *   new TypeError('x.toUpperCase is not a function')\n * );\n * var materialized = Rx.Observable.of(notifA, notifB, notifE);\n * var upperCase = materialized.dematerialize();\n * upperCase.subscribe(x => console.log(x), e => console.error(e));\n *\n * // Results in:\n * // A\n * // B\n * // TypeError: x.toUpperCase is not a function\n *\n * @see {@link Notification}\n * @see {@link materialize}\n *\n * @return {Observable} An Observable that emits items and notifications\n * embedded in Notification objects emitted by the source Observable.\n * @method dematerialize\n * @owner Observable\n */\nfunction dematerialize() {\n    return function dematerializeOperatorFunction(source) {\n        return source.lift(new DeMaterializeOperator());\n    };\n}\nexports.dematerialize = dematerialize;\nvar DeMaterializeOperator = (function () {\n    function DeMaterializeOperator() {\n    }\n    DeMaterializeOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new DeMaterializeSubscriber(subscriber));\n    };\n    return DeMaterializeOperator;\n}());\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar DeMaterializeSubscriber = (function (_super) {\n    __extends(DeMaterializeSubscriber, _super);\n    function DeMaterializeSubscriber(destination) {\n        _super.call(this, destination);\n    }\n    DeMaterializeSubscriber.prototype._next = function (value) {\n        value.observe(this.destination);\n    };\n    return DeMaterializeSubscriber;\n}(Subscriber_1.Subscriber));\n//# sourceMappingURL=dematerialize.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar OuterSubscriber_1 = require('../OuterSubscriber');\nvar subscribeToResult_1 = require('../util/subscribeToResult');\nvar Set_1 = require('../util/Set');\n/**\n * Returns an Observable that emits all items emitted by the source Observable that are distinct by comparison from previous items.\n *\n * If a keySelector function is provided, then it will project each value from the source observable into a new value that it will\n * check for equality with previously projected values. If a keySelector function is not provided, it will use each value from the\n * source observable directly with an equality check against previous values.\n *\n * In JavaScript runtimes that support `Set`, this operator will use a `Set` to improve performance of the distinct value checking.\n *\n * In other runtimes, this operator will use a minimal implementation of `Set` that relies on an `Array` and `indexOf` under the\n * hood, so performance will degrade as more values are checked for distinction. Even in newer browsers, a long-running `distinct`\n * use might result in memory leaks. To help alleviate this in some scenarios, an optional `flushes` parameter is also provided so\n * that the internal `Set` can be \"flushed\", basically clearing it of values.\n *\n * @example <caption>A simple example with numbers</caption>\n * Observable.of(1, 1, 2, 2, 2, 1, 2, 3, 4, 3, 2, 1)\n *   .distinct()\n *   .subscribe(x => console.log(x)); // 1, 2, 3, 4\n *\n * @example <caption>An example using a keySelector function</caption>\n * interface Person {\n *    age: number,\n *    name: string\n * }\n *\n * Observable.of<Person>(\n *     { age: 4, name: 'Foo'},\n *     { age: 7, name: 'Bar'},\n *     { age: 5, name: 'Foo'})\n *     .distinct((p: Person) => p.name)\n *     .subscribe(x => console.log(x));\n *\n * // displays:\n * // { age: 4, name: 'Foo' }\n * // { age: 7, name: 'Bar' }\n *\n * @see {@link distinctUntilChanged}\n * @see {@link distinctUntilKeyChanged}\n *\n * @param {function} [keySelector] Optional function to select which value you want to check as distinct.\n * @param {Observable} [flushes] Optional Observable for flushing the internal HashSet of the operator.\n * @return {Observable} An Observable that emits items from the source Observable with distinct values.\n * @method distinct\n * @owner Observable\n */\nfunction distinct(keySelector, flushes) {\n    return function (source) { return source.lift(new DistinctOperator(keySelector, flushes)); };\n}\nexports.distinct = distinct;\nvar DistinctOperator = (function () {\n    function DistinctOperator(keySelector, flushes) {\n        this.keySelector = keySelector;\n        this.flushes = flushes;\n    }\n    DistinctOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new DistinctSubscriber(subscriber, this.keySelector, this.flushes));\n    };\n    return DistinctOperator;\n}());\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar DistinctSubscriber = (function (_super) {\n    __extends(DistinctSubscriber, _super);\n    function DistinctSubscriber(destination, keySelector, flushes) {\n        _super.call(this, destination);\n        this.keySelector = keySelector;\n        this.values = new Set_1.Set();\n        if (flushes) {\n            this.add(subscribeToResult_1.subscribeToResult(this, flushes));\n        }\n    }\n    DistinctSubscriber.prototype.notifyNext = function (outerValue, innerValue, outerIndex, innerIndex, innerSub) {\n        this.values.clear();\n    };\n    DistinctSubscriber.prototype.notifyError = function (error, innerSub) {\n        this._error(error);\n    };\n    DistinctSubscriber.prototype._next = function (value) {\n        if (this.keySelector) {\n            this._useKeySelector(value);\n        }\n        else {\n            this._finalizeNext(value, value);\n        }\n    };\n    DistinctSubscriber.prototype._useKeySelector = function (value) {\n        var key;\n        var destination = this.destination;\n        try {\n            key = this.keySelector(value);\n        }\n        catch (err) {\n            destination.error(err);\n            return;\n        }\n        this._finalizeNext(key, value);\n    };\n    DistinctSubscriber.prototype._finalizeNext = function (key, value) {\n        var values = this.values;\n        if (!values.has(key)) {\n            values.add(key);\n            this.destination.next(value);\n        }\n    };\n    return DistinctSubscriber;\n}(OuterSubscriber_1.OuterSubscriber));\nexports.DistinctSubscriber = DistinctSubscriber;\n//# sourceMappingURL=distinct.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar Subscriber_1 = require('../Subscriber');\nvar tryCatch_1 = require('../util/tryCatch');\nvar errorObject_1 = require('../util/errorObject');\n/* tslint:enable:max-line-length */\n/**\n * Returns an Observable that emits all items emitted by the source Observable that are distinct by comparison from the previous item.\n *\n * If a comparator function is provided, then it will be called for each item to test for whether or not that value should be emitted.\n *\n * If a comparator function is not provided, an equality check is used by default.\n *\n * @example <caption>A simple example with numbers</caption>\n * Observable.of(1, 1, 2, 2, 2, 1, 1, 2, 3, 3, 4)\n *   .distinctUntilChanged()\n *   .subscribe(x => console.log(x)); // 1, 2, 1, 2, 3, 4\n *\n * @example <caption>An example using a compare function</caption>\n * interface Person {\n *    age: number,\n *    name: string\n * }\n *\n * Observable.of<Person>(\n *     { age: 4, name: 'Foo'},\n *     { age: 7, name: 'Bar'},\n *     { age: 5, name: 'Foo'})\n *     { age: 6, name: 'Foo'})\n *     .distinctUntilChanged((p: Person, q: Person) => p.name === q.name)\n *     .subscribe(x => console.log(x));\n *\n * // displays:\n * // { age: 4, name: 'Foo' }\n * // { age: 7, name: 'Bar' }\n * // { age: 5, name: 'Foo' }\n *\n * @see {@link distinct}\n * @see {@link distinctUntilKeyChanged}\n *\n * @param {function} [compare] Optional comparison function called to test if an item is distinct from the previous item in the source.\n * @return {Observable} An Observable that emits items from the source Observable with distinct values.\n * @method distinctUntilChanged\n * @owner Observable\n */\nfunction distinctUntilChanged(compare, keySelector) {\n    return function (source) { return source.lift(new DistinctUntilChangedOperator(compare, keySelector)); };\n}\nexports.distinctUntilChanged = distinctUntilChanged;\nvar DistinctUntilChangedOperator = (function () {\n    function DistinctUntilChangedOperator(compare, keySelector) {\n        this.compare = compare;\n        this.keySelector = keySelector;\n    }\n    DistinctUntilChangedOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new DistinctUntilChangedSubscriber(subscriber, this.compare, this.keySelector));\n    };\n    return DistinctUntilChangedOperator;\n}());\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar DistinctUntilChangedSubscriber = (function (_super) {\n    __extends(DistinctUntilChangedSubscriber, _super);\n    function DistinctUntilChangedSubscriber(destination, compare, keySelector) {\n        _super.call(this, destination);\n        this.keySelector = keySelector;\n        this.hasKey = false;\n        if (typeof compare === 'function') {\n            this.compare = compare;\n        }\n    }\n    DistinctUntilChangedSubscriber.prototype.compare = function (x, y) {\n        return x === y;\n    };\n    DistinctUntilChangedSubscriber.prototype._next = function (value) {\n        var keySelector = this.keySelector;\n        var key = value;\n        if (keySelector) {\n            key = tryCatch_1.tryCatch(this.keySelector)(value);\n            if (key === errorObject_1.errorObject) {\n                return this.destination.error(errorObject_1.errorObject.e);\n            }\n        }\n        var result = false;\n        if (this.hasKey) {\n            result = tryCatch_1.tryCatch(this.compare)(this.key, key);\n            if (result === errorObject_1.errorObject) {\n                return this.destination.error(errorObject_1.errorObject.e);\n            }\n        }\n        else {\n            this.hasKey = true;\n        }\n        if (Boolean(result) === false) {\n            this.key = key;\n            this.destination.next(value);\n        }\n    };\n    return DistinctUntilChangedSubscriber;\n}(Subscriber_1.Subscriber));\n//# sourceMappingURL=distinctUntilChanged.js.map","\"use strict\";\nvar distinctUntilChanged_1 = require('./distinctUntilChanged');\n/* tslint:enable:max-line-length */\n/**\n * Returns an Observable that emits all items emitted by the source Observable that are distinct by comparison from the previous item,\n * using a property accessed by using the key provided to check if the two items are distinct.\n *\n * If a comparator function is provided, then it will be called for each item to test for whether or not that value should be emitted.\n *\n * If a comparator function is not provided, an equality check is used by default.\n *\n * @example <caption>An example comparing the name of persons</caption>\n *\n *  interface Person {\n *     age: number,\n *     name: string\n *  }\n *\n * Observable.of<Person>(\n *     { age: 4, name: 'Foo'},\n *     { age: 7, name: 'Bar'},\n *     { age: 5, name: 'Foo'},\n *     { age: 6, name: 'Foo'})\n *     .distinctUntilKeyChanged('name')\n *     .subscribe(x => console.log(x));\n *\n * // displays:\n * // { age: 4, name: 'Foo' }\n * // { age: 7, name: 'Bar' }\n * // { age: 5, name: 'Foo' }\n *\n * @example <caption>An example comparing the first letters of the name</caption>\n *\n * interface Person {\n *     age: number,\n *     name: string\n *  }\n *\n * Observable.of<Person>(\n *     { age: 4, name: 'Foo1'},\n *     { age: 7, name: 'Bar'},\n *     { age: 5, name: 'Foo2'},\n *     { age: 6, name: 'Foo3'})\n *     .distinctUntilKeyChanged('name', (x: string, y: string) => x.substring(0, 3) === y.substring(0, 3))\n *     .subscribe(x => console.log(x));\n *\n * // displays:\n * // { age: 4, name: 'Foo1' }\n * // { age: 7, name: 'Bar' }\n * // { age: 5, name: 'Foo2' }\n *\n * @see {@link distinct}\n * @see {@link distinctUntilChanged}\n *\n * @param {string} key String key for object property lookup on each item.\n * @param {function} [compare] Optional comparison function called to test if an item is distinct from the previous item in the source.\n * @return {Observable} An Observable that emits items from the source Observable with distinct values based on the key specified.\n * @method distinctUntilKeyChanged\n * @owner Observable\n */\nfunction distinctUntilKeyChanged(key, compare) {\n    return distinctUntilChanged_1.distinctUntilChanged(function (x, y) { return compare ? compare(x[key], y[key]) : x[key] === y[key]; });\n}\nexports.distinctUntilKeyChanged = distinctUntilKeyChanged;\n//# sourceMappingURL=distinctUntilKeyChanged.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar Subscriber_1 = require('../Subscriber');\nvar ArgumentOutOfRangeError_1 = require('../util/ArgumentOutOfRangeError');\n/**\n * Emits the single value at the specified `index` in a sequence of emissions\n * from the source Observable.\n *\n * <span class=\"informal\">Emits only the i-th value, then completes.</span>\n *\n * <img src=\"./img/elementAt.png\" width=\"100%\">\n *\n * `elementAt` returns an Observable that emits the item at the specified\n * `index` in the source Observable, or a default value if that `index` is out\n * of range and the `default` argument is provided. If the `default` argument is\n * not given and the `index` is out of range, the output Observable will emit an\n * `ArgumentOutOfRangeError` error.\n *\n * @example <caption>Emit only the third click event</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var result = clicks.elementAt(2);\n * result.subscribe(x => console.log(x));\n *\n * // Results in:\n * // click 1 = nothing\n * // click 2 = nothing\n * // click 3 = MouseEvent object logged to console\n *\n * @see {@link first}\n * @see {@link last}\n * @see {@link skip}\n * @see {@link single}\n * @see {@link take}\n *\n * @throws {ArgumentOutOfRangeError} When using `elementAt(i)`, it delivers an\n * ArgumentOutOrRangeError to the Observer's `error` callback if `i < 0` or the\n * Observable has completed before emitting the i-th `next` notification.\n *\n * @param {number} index Is the number `i` for the i-th source emission that has\n * happened since the subscription, starting from the number `0`.\n * @param {T} [defaultValue] The default value returned for missing indices.\n * @return {Observable} An Observable that emits a single item, if it is found.\n * Otherwise, will emit the default value if given. If not, then emits an error.\n * @method elementAt\n * @owner Observable\n */\nfunction elementAt(index, defaultValue) {\n    return function (source) { return source.lift(new ElementAtOperator(index, defaultValue)); };\n}\nexports.elementAt = elementAt;\nvar ElementAtOperator = (function () {\n    function ElementAtOperator(index, defaultValue) {\n        this.index = index;\n        this.defaultValue = defaultValue;\n        if (index < 0) {\n            throw new ArgumentOutOfRangeError_1.ArgumentOutOfRangeError;\n        }\n    }\n    ElementAtOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new ElementAtSubscriber(subscriber, this.index, this.defaultValue));\n    };\n    return ElementAtOperator;\n}());\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar ElementAtSubscriber = (function (_super) {\n    __extends(ElementAtSubscriber, _super);\n    function ElementAtSubscriber(destination, index, defaultValue) {\n        _super.call(this, destination);\n        this.index = index;\n        this.defaultValue = defaultValue;\n    }\n    ElementAtSubscriber.prototype._next = function (x) {\n        if (this.index-- === 0) {\n            this.destination.next(x);\n            this.destination.complete();\n        }\n    };\n    ElementAtSubscriber.prototype._complete = function () {\n        var destination = this.destination;\n        if (this.index >= 0) {\n            if (typeof this.defaultValue !== 'undefined') {\n                destination.next(this.defaultValue);\n            }\n            else {\n                destination.error(new ArgumentOutOfRangeError_1.ArgumentOutOfRangeError);\n            }\n        }\n        destination.complete();\n    };\n    return ElementAtSubscriber;\n}(Subscriber_1.Subscriber));\n//# sourceMappingURL=elementAt.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar Subscriber_1 = require('../Subscriber');\n/**\n * Returns an Observable that emits whether or not every item of the source satisfies the condition specified.\n *\n * @example <caption>A simple example emitting true if all elements are less than 5, false otherwise</caption>\n *  Observable.of(1, 2, 3, 4, 5, 6)\n *     .every(x => x < 5)\n *     .subscribe(x => console.log(x)); // -> false\n *\n * @param {function} predicate A function for determining if an item meets a specified condition.\n * @param {any} [thisArg] Optional object to use for `this` in the callback.\n * @return {Observable} An Observable of booleans that determines if all items of the source Observable meet the condition specified.\n * @method every\n * @owner Observable\n */\nfunction every(predicate, thisArg) {\n    return function (source) { return source.lift(new EveryOperator(predicate, thisArg, source)); };\n}\nexports.every = every;\nvar EveryOperator = (function () {\n    function EveryOperator(predicate, thisArg, source) {\n        this.predicate = predicate;\n        this.thisArg = thisArg;\n        this.source = source;\n    }\n    EveryOperator.prototype.call = function (observer, source) {\n        return source.subscribe(new EverySubscriber(observer, this.predicate, this.thisArg, this.source));\n    };\n    return EveryOperator;\n}());\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar EverySubscriber = (function (_super) {\n    __extends(EverySubscriber, _super);\n    function EverySubscriber(destination, predicate, thisArg, source) {\n        _super.call(this, destination);\n        this.predicate = predicate;\n        this.thisArg = thisArg;\n        this.source = source;\n        this.index = 0;\n        this.thisArg = thisArg || this;\n    }\n    EverySubscriber.prototype.notifyComplete = function (everyValueMatch) {\n        this.destination.next(everyValueMatch);\n        this.destination.complete();\n    };\n    EverySubscriber.prototype._next = function (value) {\n        var result = false;\n        try {\n            result = this.predicate.call(this.thisArg, value, this.index++, this.source);\n        }\n        catch (err) {\n            this.destination.error(err);\n            return;\n        }\n        if (!result) {\n            this.notifyComplete(false);\n        }\n    };\n    EverySubscriber.prototype._complete = function () {\n        this.notifyComplete(true);\n    };\n    return EverySubscriber;\n}(Subscriber_1.Subscriber));\n//# sourceMappingURL=every.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar OuterSubscriber_1 = require('../OuterSubscriber');\nvar subscribeToResult_1 = require('../util/subscribeToResult');\n/**\n * Converts a higher-order Observable into a first-order Observable by dropping\n * inner Observables while the previous inner Observable has not yet completed.\n *\n * <span class=\"informal\">Flattens an Observable-of-Observables by dropping the\n * next inner Observables while the current inner is still executing.</span>\n *\n * <img src=\"./img/exhaust.png\" width=\"100%\">\n *\n * `exhaust` subscribes to an Observable that emits Observables, also known as a\n * higher-order Observable. Each time it observes one of these emitted inner\n * Observables, the output Observable begins emitting the items emitted by that\n * inner Observable. So far, it behaves like {@link mergeAll}. However,\n * `exhaust` ignores every new inner Observable if the previous Observable has\n * not yet completed. Once that one completes, it will accept and flatten the\n * next inner Observable and repeat this process.\n *\n * @example <caption>Run a finite timer for each click, only if there is no currently active timer</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var higherOrder = clicks.map((ev) => Rx.Observable.interval(1000).take(5));\n * var result = higherOrder.exhaust();\n * result.subscribe(x => console.log(x));\n *\n * @see {@link combineAll}\n * @see {@link concatAll}\n * @see {@link switch}\n * @see {@link mergeAll}\n * @see {@link exhaustMap}\n * @see {@link zipAll}\n *\n * @return {Observable} An Observable that takes a source of Observables and propagates the first observable\n * exclusively until it completes before subscribing to the next.\n * @method exhaust\n * @owner Observable\n */\nfunction exhaust() {\n    return function (source) { return source.lift(new SwitchFirstOperator()); };\n}\nexports.exhaust = exhaust;\nvar SwitchFirstOperator = (function () {\n    function SwitchFirstOperator() {\n    }\n    SwitchFirstOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new SwitchFirstSubscriber(subscriber));\n    };\n    return SwitchFirstOperator;\n}());\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar SwitchFirstSubscriber = (function (_super) {\n    __extends(SwitchFirstSubscriber, _super);\n    function SwitchFirstSubscriber(destination) {\n        _super.call(this, destination);\n        this.hasCompleted = false;\n        this.hasSubscription = false;\n    }\n    SwitchFirstSubscriber.prototype._next = function (value) {\n        if (!this.hasSubscription) {\n            this.hasSubscription = true;\n            this.add(subscribeToResult_1.subscribeToResult(this, value));\n        }\n    };\n    SwitchFirstSubscriber.prototype._complete = function () {\n        this.hasCompleted = true;\n        if (!this.hasSubscription) {\n            this.destination.complete();\n        }\n    };\n    SwitchFirstSubscriber.prototype.notifyComplete = function (innerSub) {\n        this.remove(innerSub);\n        this.hasSubscription = false;\n        if (this.hasCompleted) {\n            this.destination.complete();\n        }\n    };\n    return SwitchFirstSubscriber;\n}(OuterSubscriber_1.OuterSubscriber));\n//# sourceMappingURL=exhaust.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar OuterSubscriber_1 = require('../OuterSubscriber');\nvar subscribeToResult_1 = require('../util/subscribeToResult');\n/* tslint:enable:max-line-length */\n/**\n * Projects each source value to an Observable which is merged in the output\n * Observable only if the previous projected Observable has completed.\n *\n * <span class=\"informal\">Maps each value to an Observable, then flattens all of\n * these inner Observables using {@link exhaust}.</span>\n *\n * <img src=\"./img/exhaustMap.png\" width=\"100%\">\n *\n * Returns an Observable that emits items based on applying a function that you\n * supply to each item emitted by the source Observable, where that function\n * returns an (so-called \"inner\") Observable. When it projects a source value to\n * an Observable, the output Observable begins emitting the items emitted by\n * that projected Observable. However, `exhaustMap` ignores every new projected\n * Observable if the previous projected Observable has not yet completed. Once\n * that one completes, it will accept and flatten the next projected Observable\n * and repeat this process.\n *\n * @example <caption>Run a finite timer for each click, only if there is no currently active timer</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var result = clicks.exhaustMap((ev) => Rx.Observable.interval(1000).take(5));\n * result.subscribe(x => console.log(x));\n *\n * @see {@link concatMap}\n * @see {@link exhaust}\n * @see {@link mergeMap}\n * @see {@link switchMap}\n *\n * @param {function(value: T, ?index: number): ObservableInput} project A function\n * that, when applied to an item emitted by the source Observable, returns an\n * Observable.\n * @param {function(outerValue: T, innerValue: I, outerIndex: number, innerIndex: number): any} [resultSelector]\n * A function to produce the value on the output Observable based on the values\n * and the indices of the source (outer) emission and the inner Observable\n * emission. The arguments passed to this function are:\n * - `outerValue`: the value that came from the source\n * - `innerValue`: the value that came from the projected Observable\n * - `outerIndex`: the \"index\" of the value that came from the source\n * - `innerIndex`: the \"index\" of the value from the projected Observable\n * @return {Observable} An Observable containing projected Observables\n * of each item of the source, ignoring projected Observables that start before\n * their preceding Observable has completed.\n * @method exhaustMap\n * @owner Observable\n */\nfunction exhaustMap(project, resultSelector) {\n    return function (source) { return source.lift(new SwitchFirstMapOperator(project, resultSelector)); };\n}\nexports.exhaustMap = exhaustMap;\nvar SwitchFirstMapOperator = (function () {\n    function SwitchFirstMapOperator(project, resultSelector) {\n        this.project = project;\n        this.resultSelector = resultSelector;\n    }\n    SwitchFirstMapOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new SwitchFirstMapSubscriber(subscriber, this.project, this.resultSelector));\n    };\n    return SwitchFirstMapOperator;\n}());\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar SwitchFirstMapSubscriber = (function (_super) {\n    __extends(SwitchFirstMapSubscriber, _super);\n    function SwitchFirstMapSubscriber(destination, project, resultSelector) {\n        _super.call(this, destination);\n        this.project = project;\n        this.resultSelector = resultSelector;\n        this.hasSubscription = false;\n        this.hasCompleted = false;\n        this.index = 0;\n    }\n    SwitchFirstMapSubscriber.prototype._next = function (value) {\n        if (!this.hasSubscription) {\n            this.tryNext(value);\n        }\n    };\n    SwitchFirstMapSubscriber.prototype.tryNext = function (value) {\n        var index = this.index++;\n        var destination = this.destination;\n        try {\n            var result = this.project(value, index);\n            this.hasSubscription = true;\n            this.add(subscribeToResult_1.subscribeToResult(this, result, value, index));\n        }\n        catch (err) {\n            destination.error(err);\n        }\n    };\n    SwitchFirstMapSubscriber.prototype._complete = function () {\n        this.hasCompleted = true;\n        if (!this.hasSubscription) {\n            this.destination.complete();\n        }\n    };\n    SwitchFirstMapSubscriber.prototype.notifyNext = function (outerValue, innerValue, outerIndex, innerIndex, innerSub) {\n        var _a = this, resultSelector = _a.resultSelector, destination = _a.destination;\n        if (resultSelector) {\n            this.trySelectResult(outerValue, innerValue, outerIndex, innerIndex);\n        }\n        else {\n            destination.next(innerValue);\n        }\n    };\n    SwitchFirstMapSubscriber.prototype.trySelectResult = function (outerValue, innerValue, outerIndex, innerIndex) {\n        var _a = this, resultSelector = _a.resultSelector, destination = _a.destination;\n        try {\n            var result = resultSelector(outerValue, innerValue, outerIndex, innerIndex);\n            destination.next(result);\n        }\n        catch (err) {\n            destination.error(err);\n        }\n    };\n    SwitchFirstMapSubscriber.prototype.notifyError = function (err) {\n        this.destination.error(err);\n    };\n    SwitchFirstMapSubscriber.prototype.notifyComplete = function (innerSub) {\n        this.remove(innerSub);\n        this.hasSubscription = false;\n        if (this.hasCompleted) {\n            this.destination.complete();\n        }\n    };\n    return SwitchFirstMapSubscriber;\n}(OuterSubscriber_1.OuterSubscriber));\n//# sourceMappingURL=exhaustMap.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar tryCatch_1 = require('../util/tryCatch');\nvar errorObject_1 = require('../util/errorObject');\nvar OuterSubscriber_1 = require('../OuterSubscriber');\nvar subscribeToResult_1 = require('../util/subscribeToResult');\n/* tslint:enable:max-line-length */\n/**\n * Recursively projects each source value to an Observable which is merged in\n * the output Observable.\n *\n * <span class=\"informal\">It's similar to {@link mergeMap}, but applies the\n * projection function to every source value as well as every output value.\n * It's recursive.</span>\n *\n * <img src=\"./img/expand.png\" width=\"100%\">\n *\n * Returns an Observable that emits items based on applying a function that you\n * supply to each item emitted by the source Observable, where that function\n * returns an Observable, and then merging those resulting Observables and\n * emitting the results of this merger. *Expand* will re-emit on the output\n * Observable every source value. Then, each output value is given to the\n * `project` function which returns an inner Observable to be merged on the\n * output Observable. Those output values resulting from the projection are also\n * given to the `project` function to produce new output values. This is how\n * *expand* behaves recursively.\n *\n * @example <caption>Start emitting the powers of two on every click, at most 10 of them</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var powersOfTwo = clicks\n *   .mapTo(1)\n *   .expand(x => Rx.Observable.of(2 * x).delay(1000))\n *   .take(10);\n * powersOfTwo.subscribe(x => console.log(x));\n *\n * @see {@link mergeMap}\n * @see {@link mergeScan}\n *\n * @param {function(value: T, index: number) => Observable} project A function\n * that, when applied to an item emitted by the source or the output Observable,\n * returns an Observable.\n * @param {number} [concurrent=Number.POSITIVE_INFINITY] Maximum number of input\n * Observables being subscribed to concurrently.\n * @param {Scheduler} [scheduler=null] The IScheduler to use for subscribing to\n * each projected inner Observable.\n * @return {Observable} An Observable that emits the source values and also\n * result of applying the projection function to each value emitted on the\n * output Observable and and merging the results of the Observables obtained\n * from this transformation.\n * @method expand\n * @owner Observable\n */\nfunction expand(project, concurrent, scheduler) {\n    if (concurrent === void 0) { concurrent = Number.POSITIVE_INFINITY; }\n    if (scheduler === void 0) { scheduler = undefined; }\n    concurrent = (concurrent || 0) < 1 ? Number.POSITIVE_INFINITY : concurrent;\n    return function (source) { return source.lift(new ExpandOperator(project, concurrent, scheduler)); };\n}\nexports.expand = expand;\nvar ExpandOperator = (function () {\n    function ExpandOperator(project, concurrent, scheduler) {\n        this.project = project;\n        this.concurrent = concurrent;\n        this.scheduler = scheduler;\n    }\n    ExpandOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new ExpandSubscriber(subscriber, this.project, this.concurrent, this.scheduler));\n    };\n    return ExpandOperator;\n}());\nexports.ExpandOperator = ExpandOperator;\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar ExpandSubscriber = (function (_super) {\n    __extends(ExpandSubscriber, _super);\n    function ExpandSubscriber(destination, project, concurrent, scheduler) {\n        _super.call(this, destination);\n        this.project = project;\n        this.concurrent = concurrent;\n        this.scheduler = scheduler;\n        this.index = 0;\n        this.active = 0;\n        this.hasCompleted = false;\n        if (concurrent < Number.POSITIVE_INFINITY) {\n            this.buffer = [];\n        }\n    }\n    ExpandSubscriber.dispatch = function (arg) {\n        var subscriber = arg.subscriber, result = arg.result, value = arg.value, index = arg.index;\n        subscriber.subscribeToProjection(result, value, index);\n    };\n    ExpandSubscriber.prototype._next = function (value) {\n        var destination = this.destination;\n        if (destination.closed) {\n            this._complete();\n            return;\n        }\n        var index = this.index++;\n        if (this.active < this.concurrent) {\n            destination.next(value);\n            var result = tryCatch_1.tryCatch(this.project)(value, index);\n            if (result === errorObject_1.errorObject) {\n                destination.error(errorObject_1.errorObject.e);\n            }\n            else if (!this.scheduler) {\n                this.subscribeToProjection(result, value, index);\n            }\n            else {\n                var state = { subscriber: this, result: result, value: value, index: index };\n                this.add(this.scheduler.schedule(ExpandSubscriber.dispatch, 0, state));\n            }\n        }\n        else {\n            this.buffer.push(value);\n        }\n    };\n    ExpandSubscriber.prototype.subscribeToProjection = function (result, value, index) {\n        this.active++;\n        this.add(subscribeToResult_1.subscribeToResult(this, result, value, index));\n    };\n    ExpandSubscriber.prototype._complete = function () {\n        this.hasCompleted = true;\n        if (this.hasCompleted && this.active === 0) {\n            this.destination.complete();\n        }\n    };\n    ExpandSubscriber.prototype.notifyNext = function (outerValue, innerValue, outerIndex, innerIndex, innerSub) {\n        this._next(innerValue);\n    };\n    ExpandSubscriber.prototype.notifyComplete = function (innerSub) {\n        var buffer = this.buffer;\n        this.remove(innerSub);\n        this.active--;\n        if (buffer && buffer.length > 0) {\n            this._next(buffer.shift());\n        }\n        if (this.hasCompleted && this.active === 0) {\n            this.destination.complete();\n        }\n    };\n    return ExpandSubscriber;\n}(OuterSubscriber_1.OuterSubscriber));\nexports.ExpandSubscriber = ExpandSubscriber;\n//# sourceMappingURL=expand.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar Subscriber_1 = require('../Subscriber');\n/* tslint:enable:max-line-length */\n/**\n * Filter items emitted by the source Observable by only emitting those that\n * satisfy a specified predicate.\n *\n * <span class=\"informal\">Like\n * [Array.prototype.filter()](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/filter),\n * it only emits a value from the source if it passes a criterion function.</span>\n *\n * <img src=\"./img/filter.png\" width=\"100%\">\n *\n * Similar to the well-known `Array.prototype.filter` method, this operator\n * takes values from the source Observable, passes them through a `predicate`\n * function and only emits those values that yielded `true`.\n *\n * @example <caption>Emit only click events whose target was a DIV element</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var clicksOnDivs = clicks.filter(ev => ev.target.tagName === 'DIV');\n * clicksOnDivs.subscribe(x => console.log(x));\n *\n * @see {@link distinct}\n * @see {@link distinctUntilChanged}\n * @see {@link distinctUntilKeyChanged}\n * @see {@link ignoreElements}\n * @see {@link partition}\n * @see {@link skip}\n *\n * @param {function(value: T, index: number): boolean} predicate A function that\n * evaluates each value emitted by the source Observable. If it returns `true`,\n * the value is emitted, if `false` the value is not passed to the output\n * Observable. The `index` parameter is the number `i` for the i-th source\n * emission that has happened since the subscription, starting from the number\n * `0`.\n * @param {any} [thisArg] An optional argument to determine the value of `this`\n * in the `predicate` function.\n * @return {Observable} An Observable of values from the source that were\n * allowed by the `predicate` function.\n * @method filter\n * @owner Observable\n */\nfunction filter(predicate, thisArg) {\n    return function filterOperatorFunction(source) {\n        return source.lift(new FilterOperator(predicate, thisArg));\n    };\n}\nexports.filter = filter;\nvar FilterOperator = (function () {\n    function FilterOperator(predicate, thisArg) {\n        this.predicate = predicate;\n        this.thisArg = thisArg;\n    }\n    FilterOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new FilterSubscriber(subscriber, this.predicate, this.thisArg));\n    };\n    return FilterOperator;\n}());\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar FilterSubscriber = (function (_super) {\n    __extends(FilterSubscriber, _super);\n    function FilterSubscriber(destination, predicate, thisArg) {\n        _super.call(this, destination);\n        this.predicate = predicate;\n        this.thisArg = thisArg;\n        this.count = 0;\n    }\n    // the try catch block below is left specifically for\n    // optimization and perf reasons. a tryCatcher is not necessary here.\n    FilterSubscriber.prototype._next = function (value) {\n        var result;\n        try {\n            result = this.predicate.call(this.thisArg, value, this.count++);\n        }\n        catch (err) {\n            this.destination.error(err);\n            return;\n        }\n        if (result) {\n            this.destination.next(value);\n        }\n    };\n    return FilterSubscriber;\n}(Subscriber_1.Subscriber));\n//# sourceMappingURL=filter.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar Subscriber_1 = require('../Subscriber');\nvar Subscription_1 = require('../Subscription');\n/**\n * Returns an Observable that mirrors the source Observable, but will call a specified function when\n * the source terminates on complete or error.\n * @param {function} callback Function to be called when source terminates.\n * @return {Observable} An Observable that mirrors the source, but will call the specified function on termination.\n * @method finally\n * @owner Observable\n */\nfunction finalize(callback) {\n    return function (source) { return source.lift(new FinallyOperator(callback)); };\n}\nexports.finalize = finalize;\nvar FinallyOperator = (function () {\n    function FinallyOperator(callback) {\n        this.callback = callback;\n    }\n    FinallyOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new FinallySubscriber(subscriber, this.callback));\n    };\n    return FinallyOperator;\n}());\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar FinallySubscriber = (function (_super) {\n    __extends(FinallySubscriber, _super);\n    function FinallySubscriber(destination, callback) {\n        _super.call(this, destination);\n        this.add(new Subscription_1.Subscription(callback));\n    }\n    return FinallySubscriber;\n}(Subscriber_1.Subscriber));\n//# sourceMappingURL=finalize.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar Subscriber_1 = require('../Subscriber');\n/**\n * Emits only the first value emitted by the source Observable that meets some\n * condition.\n *\n * <span class=\"informal\">Finds the first value that passes some test and emits\n * that.</span>\n *\n * <img src=\"./img/find.png\" width=\"100%\">\n *\n * `find` searches for the first item in the source Observable that matches the\n * specified condition embodied by the `predicate`, and returns the first\n * occurrence in the source. Unlike {@link first}, the `predicate` is required\n * in `find`, and does not emit an error if a valid value is not found.\n *\n * @example <caption>Find and emit the first click that happens on a DIV element</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var result = clicks.find(ev => ev.target.tagName === 'DIV');\n * result.subscribe(x => console.log(x));\n *\n * @see {@link filter}\n * @see {@link first}\n * @see {@link findIndex}\n * @see {@link take}\n *\n * @param {function(value: T, index: number, source: Observable<T>): boolean} predicate\n * A function called with each item to test for condition matching.\n * @param {any} [thisArg] An optional argument to determine the value of `this`\n * in the `predicate` function.\n * @return {Observable<T>} An Observable of the first item that matches the\n * condition.\n * @method find\n * @owner Observable\n */\nfunction find(predicate, thisArg) {\n    if (typeof predicate !== 'function') {\n        throw new TypeError('predicate is not a function');\n    }\n    return function (source) { return source.lift(new FindValueOperator(predicate, source, false, thisArg)); };\n}\nexports.find = find;\nvar FindValueOperator = (function () {\n    function FindValueOperator(predicate, source, yieldIndex, thisArg) {\n        this.predicate = predicate;\n        this.source = source;\n        this.yieldIndex = yieldIndex;\n        this.thisArg = thisArg;\n    }\n    FindValueOperator.prototype.call = function (observer, source) {\n        return source.subscribe(new FindValueSubscriber(observer, this.predicate, this.source, this.yieldIndex, this.thisArg));\n    };\n    return FindValueOperator;\n}());\nexports.FindValueOperator = FindValueOperator;\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar FindValueSubscriber = (function (_super) {\n    __extends(FindValueSubscriber, _super);\n    function FindValueSubscriber(destination, predicate, source, yieldIndex, thisArg) {\n        _super.call(this, destination);\n        this.predicate = predicate;\n        this.source = source;\n        this.yieldIndex = yieldIndex;\n        this.thisArg = thisArg;\n        this.index = 0;\n    }\n    FindValueSubscriber.prototype.notifyComplete = function (value) {\n        var destination = this.destination;\n        destination.next(value);\n        destination.complete();\n    };\n    FindValueSubscriber.prototype._next = function (value) {\n        var _a = this, predicate = _a.predicate, thisArg = _a.thisArg;\n        var index = this.index++;\n        try {\n            var result = predicate.call(thisArg || this, value, index, this.source);\n            if (result) {\n                this.notifyComplete(this.yieldIndex ? index : value);\n            }\n        }\n        catch (err) {\n            this.destination.error(err);\n        }\n    };\n    FindValueSubscriber.prototype._complete = function () {\n        this.notifyComplete(this.yieldIndex ? -1 : undefined);\n    };\n    return FindValueSubscriber;\n}(Subscriber_1.Subscriber));\nexports.FindValueSubscriber = FindValueSubscriber;\n//# sourceMappingURL=find.js.map","\"use strict\";\nvar find_1 = require('../operators/find');\n/**\n * Emits only the index of the first value emitted by the source Observable that\n * meets some condition.\n *\n * <span class=\"informal\">It's like {@link find}, but emits the index of the\n * found value, not the value itself.</span>\n *\n * <img src=\"./img/findIndex.png\" width=\"100%\">\n *\n * `findIndex` searches for the first item in the source Observable that matches\n * the specified condition embodied by the `predicate`, and returns the\n * (zero-based) index of the first occurrence in the source. Unlike\n * {@link first}, the `predicate` is required in `findIndex`, and does not emit\n * an error if a valid value is not found.\n *\n * @example <caption>Emit the index of first click that happens on a DIV element</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var result = clicks.findIndex(ev => ev.target.tagName === 'DIV');\n * result.subscribe(x => console.log(x));\n *\n * @see {@link filter}\n * @see {@link find}\n * @see {@link first}\n * @see {@link take}\n *\n * @param {function(value: T, index: number, source: Observable<T>): boolean} predicate\n * A function called with each item to test for condition matching.\n * @param {any} [thisArg] An optional argument to determine the value of `this`\n * in the `predicate` function.\n * @return {Observable} An Observable of the index of the first item that\n * matches the condition.\n * @method find\n * @owner Observable\n */\nfunction findIndex(predicate, thisArg) {\n    return function (source) { return source.lift(new find_1.FindValueOperator(predicate, source, true, thisArg)); };\n}\nexports.findIndex = findIndex;\n//# sourceMappingURL=findIndex.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar Subscriber_1 = require('../Subscriber');\nvar EmptyError_1 = require('../util/EmptyError');\n/**\n * Emits only the first value (or the first value that meets some condition)\n * emitted by the source Observable.\n *\n * <span class=\"informal\">Emits only the first value. Or emits only the first\n * value that passes some test.</span>\n *\n * <img src=\"./img/first.png\" width=\"100%\">\n *\n * If called with no arguments, `first` emits the first value of the source\n * Observable, then completes. If called with a `predicate` function, `first`\n * emits the first value of the source that matches the specified condition. It\n * may also take a `resultSelector` function to produce the output value from\n * the input value, and a `defaultValue` to emit in case the source completes\n * before it is able to emit a valid value. Throws an error if `defaultValue`\n * was not provided and a matching element is not found.\n *\n * @example <caption>Emit only the first click that happens on the DOM</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var result = clicks.first();\n * result.subscribe(x => console.log(x));\n *\n * @example <caption>Emits the first click that happens on a DIV</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var result = clicks.first(ev => ev.target.tagName === 'DIV');\n * result.subscribe(x => console.log(x));\n *\n * @see {@link filter}\n * @see {@link find}\n * @see {@link take}\n *\n * @throws {EmptyError} Delivers an EmptyError to the Observer's `error`\n * callback if the Observable completes before any `next` notification was sent.\n *\n * @param {function(value: T, index: number, source: Observable<T>): boolean} [predicate]\n * An optional function called with each item to test for condition matching.\n * @param {function(value: T, index: number): R} [resultSelector] A function to\n * produce the value on the output Observable based on the values\n * and the indices of the source Observable. The arguments passed to this\n * function are:\n * - `value`: the value that was emitted on the source.\n * - `index`: the \"index\" of the value from the source.\n * @param {R} [defaultValue] The default value emitted in case no valid value\n * was found on the source.\n * @return {Observable<T|R>} An Observable of the first item that matches the\n * condition.\n * @method first\n * @owner Observable\n */\nfunction first(predicate, resultSelector, defaultValue) {\n    return function (source) { return source.lift(new FirstOperator(predicate, resultSelector, defaultValue, source)); };\n}\nexports.first = first;\nvar FirstOperator = (function () {\n    function FirstOperator(predicate, resultSelector, defaultValue, source) {\n        this.predicate = predicate;\n        this.resultSelector = resultSelector;\n        this.defaultValue = defaultValue;\n        this.source = source;\n    }\n    FirstOperator.prototype.call = function (observer, source) {\n        return source.subscribe(new FirstSubscriber(observer, this.predicate, this.resultSelector, this.defaultValue, this.source));\n    };\n    return FirstOperator;\n}());\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar FirstSubscriber = (function (_super) {\n    __extends(FirstSubscriber, _super);\n    function FirstSubscriber(destination, predicate, resultSelector, defaultValue, source) {\n        _super.call(this, destination);\n        this.predicate = predicate;\n        this.resultSelector = resultSelector;\n        this.defaultValue = defaultValue;\n        this.source = source;\n        this.index = 0;\n        this.hasCompleted = false;\n        this._emitted = false;\n    }\n    FirstSubscriber.prototype._next = function (value) {\n        var index = this.index++;\n        if (this.predicate) {\n            this._tryPredicate(value, index);\n        }\n        else {\n            this._emit(value, index);\n        }\n    };\n    FirstSubscriber.prototype._tryPredicate = function (value, index) {\n        var result;\n        try {\n            result = this.predicate(value, index, this.source);\n        }\n        catch (err) {\n            this.destination.error(err);\n            return;\n        }\n        if (result) {\n            this._emit(value, index);\n        }\n    };\n    FirstSubscriber.prototype._emit = function (value, index) {\n        if (this.resultSelector) {\n            this._tryResultSelector(value, index);\n            return;\n        }\n        this._emitFinal(value);\n    };\n    FirstSubscriber.prototype._tryResultSelector = function (value, index) {\n        var result;\n        try {\n            result = this.resultSelector(value, index);\n        }\n        catch (err) {\n            this.destination.error(err);\n            return;\n        }\n        this._emitFinal(result);\n    };\n    FirstSubscriber.prototype._emitFinal = function (value) {\n        var destination = this.destination;\n        if (!this._emitted) {\n            this._emitted = true;\n            destination.next(value);\n            destination.complete();\n            this.hasCompleted = true;\n        }\n    };\n    FirstSubscriber.prototype._complete = function () {\n        var destination = this.destination;\n        if (!this.hasCompleted && typeof this.defaultValue !== 'undefined') {\n            destination.next(this.defaultValue);\n            destination.complete();\n        }\n        else if (!this.hasCompleted) {\n            destination.error(new EmptyError_1.EmptyError);\n        }\n    };\n    return FirstSubscriber;\n}(Subscriber_1.Subscriber));\n//# sourceMappingURL=first.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar Subscriber_1 = require('../Subscriber');\nvar Subscription_1 = require('../Subscription');\nvar Observable_1 = require('../Observable');\nvar Subject_1 = require('../Subject');\nvar Map_1 = require('../util/Map');\nvar FastMap_1 = require('../util/FastMap');\n/* tslint:enable:max-line-length */\n/**\n * Groups the items emitted by an Observable according to a specified criterion,\n * and emits these grouped items as `GroupedObservables`, one\n * {@link GroupedObservable} per group.\n *\n * <img src=\"./img/groupBy.png\" width=\"100%\">\n *\n * @example <caption>Group objects by id and return as array</caption>\n * Observable.of<Obj>({id: 1, name: 'aze1'},\n *                    {id: 2, name: 'sf2'},\n *                    {id: 2, name: 'dg2'},\n *                    {id: 1, name: 'erg1'},\n *                    {id: 1, name: 'df1'},\n *                    {id: 2, name: 'sfqfb2'},\n *                    {id: 3, name: 'qfs3'},\n *                    {id: 2, name: 'qsgqsfg2'}\n *     )\n *     .groupBy(p => p.id)\n *     .flatMap( (group$) => group$.reduce((acc, cur) => [...acc, cur], []))\n *     .subscribe(p => console.log(p));\n *\n * // displays:\n * // [ { id: 1, name: 'aze1' },\n * //   { id: 1, name: 'erg1' },\n * //   { id: 1, name: 'df1' } ]\n * //\n * // [ { id: 2, name: 'sf2' },\n * //   { id: 2, name: 'dg2' },\n * //   { id: 2, name: 'sfqfb2' },\n * //   { id: 2, name: 'qsgqsfg2' } ]\n * //\n * // [ { id: 3, name: 'qfs3' } ]\n *\n * @example <caption>Pivot data on the id field</caption>\n * Observable.of<Obj>({id: 1, name: 'aze1'},\n *                    {id: 2, name: 'sf2'},\n *                    {id: 2, name: 'dg2'},\n *                    {id: 1, name: 'erg1'},\n *                    {id: 1, name: 'df1'},\n *                    {id: 2, name: 'sfqfb2'},\n *                    {id: 3, name: 'qfs1'},\n *                    {id: 2, name: 'qsgqsfg2'}\n *                   )\n *     .groupBy(p => p.id, p => p.name)\n *     .flatMap( (group$) => group$.reduce((acc, cur) => [...acc, cur], [\"\" + group$.key]))\n *     .map(arr => ({'id': parseInt(arr[0]), 'values': arr.slice(1)}))\n *     .subscribe(p => console.log(p));\n *\n * // displays:\n * // { id: 1, values: [ 'aze1', 'erg1', 'df1' ] }\n * // { id: 2, values: [ 'sf2', 'dg2', 'sfqfb2', 'qsgqsfg2' ] }\n * // { id: 3, values: [ 'qfs1' ] }\n *\n * @param {function(value: T): K} keySelector A function that extracts the key\n * for each item.\n * @param {function(value: T): R} [elementSelector] A function that extracts the\n * return element for each item.\n * @param {function(grouped: GroupedObservable<K,R>): Observable<any>} [durationSelector]\n * A function that returns an Observable to determine how long each group should\n * exist.\n * @return {Observable<GroupedObservable<K,R>>} An Observable that emits\n * GroupedObservables, each of which corresponds to a unique key value and each\n * of which emits those items from the source Observable that share that key\n * value.\n * @method groupBy\n * @owner Observable\n */\nfunction groupBy(keySelector, elementSelector, durationSelector, subjectSelector) {\n    return function (source) {\n        return source.lift(new GroupByOperator(keySelector, elementSelector, durationSelector, subjectSelector));\n    };\n}\nexports.groupBy = groupBy;\nvar GroupByOperator = (function () {\n    function GroupByOperator(keySelector, elementSelector, durationSelector, subjectSelector) {\n        this.keySelector = keySelector;\n        this.elementSelector = elementSelector;\n        this.durationSelector = durationSelector;\n        this.subjectSelector = subjectSelector;\n    }\n    GroupByOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new GroupBySubscriber(subscriber, this.keySelector, this.elementSelector, this.durationSelector, this.subjectSelector));\n    };\n    return GroupByOperator;\n}());\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar GroupBySubscriber = (function (_super) {\n    __extends(GroupBySubscriber, _super);\n    function GroupBySubscriber(destination, keySelector, elementSelector, durationSelector, subjectSelector) {\n        _super.call(this, destination);\n        this.keySelector = keySelector;\n        this.elementSelector = elementSelector;\n        this.durationSelector = durationSelector;\n        this.subjectSelector = subjectSelector;\n        this.groups = null;\n        this.attemptedToUnsubscribe = false;\n        this.count = 0;\n    }\n    GroupBySubscriber.prototype._next = function (value) {\n        var key;\n        try {\n            key = this.keySelector(value);\n        }\n        catch (err) {\n            this.error(err);\n            return;\n        }\n        this._group(value, key);\n    };\n    GroupBySubscriber.prototype._group = function (value, key) {\n        var groups = this.groups;\n        if (!groups) {\n            groups = this.groups = typeof key === 'string' ? new FastMap_1.FastMap() : new Map_1.Map();\n        }\n        var group = groups.get(key);\n        var element;\n        if (this.elementSelector) {\n            try {\n                element = this.elementSelector(value);\n            }\n            catch (err) {\n                this.error(err);\n            }\n        }\n        else {\n            element = value;\n        }\n        if (!group) {\n            group = this.subjectSelector ? this.subjectSelector() : new Subject_1.Subject();\n            groups.set(key, group);\n            var groupedObservable = new GroupedObservable(key, group, this);\n            this.destination.next(groupedObservable);\n            if (this.durationSelector) {\n                var duration = void 0;\n                try {\n                    duration = this.durationSelector(new GroupedObservable(key, group));\n                }\n                catch (err) {\n                    this.error(err);\n                    return;\n                }\n                this.add(duration.subscribe(new GroupDurationSubscriber(key, group, this)));\n            }\n        }\n        if (!group.closed) {\n            group.next(element);\n        }\n    };\n    GroupBySubscriber.prototype._error = function (err) {\n        var groups = this.groups;\n        if (groups) {\n            groups.forEach(function (group, key) {\n                group.error(err);\n            });\n            groups.clear();\n        }\n        this.destination.error(err);\n    };\n    GroupBySubscriber.prototype._complete = function () {\n        var groups = this.groups;\n        if (groups) {\n            groups.forEach(function (group, key) {\n                group.complete();\n            });\n            groups.clear();\n        }\n        this.destination.complete();\n    };\n    GroupBySubscriber.prototype.removeGroup = function (key) {\n        this.groups.delete(key);\n    };\n    GroupBySubscriber.prototype.unsubscribe = function () {\n        if (!this.closed) {\n            this.attemptedToUnsubscribe = true;\n            if (this.count === 0) {\n                _super.prototype.unsubscribe.call(this);\n            }\n        }\n    };\n    return GroupBySubscriber;\n}(Subscriber_1.Subscriber));\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar GroupDurationSubscriber = (function (_super) {\n    __extends(GroupDurationSubscriber, _super);\n    function GroupDurationSubscriber(key, group, parent) {\n        _super.call(this, group);\n        this.key = key;\n        this.group = group;\n        this.parent = parent;\n    }\n    GroupDurationSubscriber.prototype._next = function (value) {\n        this.complete();\n    };\n    /** @deprecated internal use only */ GroupDurationSubscriber.prototype._unsubscribe = function () {\n        var _a = this, parent = _a.parent, key = _a.key;\n        this.key = this.parent = null;\n        if (parent) {\n            parent.removeGroup(key);\n        }\n    };\n    return GroupDurationSubscriber;\n}(Subscriber_1.Subscriber));\n/**\n * An Observable representing values belonging to the same group represented by\n * a common key. The values emitted by a GroupedObservable come from the source\n * Observable. The common key is available as the field `key` on a\n * GroupedObservable instance.\n *\n * @class GroupedObservable<K, T>\n */\nvar GroupedObservable = (function (_super) {\n    __extends(GroupedObservable, _super);\n    function GroupedObservable(key, groupSubject, refCountSubscription) {\n        _super.call(this);\n        this.key = key;\n        this.groupSubject = groupSubject;\n        this.refCountSubscription = refCountSubscription;\n    }\n    /** @deprecated internal use only */ GroupedObservable.prototype._subscribe = function (subscriber) {\n        var subscription = new Subscription_1.Subscription();\n        var _a = this, refCountSubscription = _a.refCountSubscription, groupSubject = _a.groupSubject;\n        if (refCountSubscription && !refCountSubscription.closed) {\n            subscription.add(new InnerRefCountSubscription(refCountSubscription));\n        }\n        subscription.add(groupSubject.subscribe(subscriber));\n        return subscription;\n    };\n    return GroupedObservable;\n}(Observable_1.Observable));\nexports.GroupedObservable = GroupedObservable;\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar InnerRefCountSubscription = (function (_super) {\n    __extends(InnerRefCountSubscription, _super);\n    function InnerRefCountSubscription(parent) {\n        _super.call(this);\n        this.parent = parent;\n        parent.count++;\n    }\n    InnerRefCountSubscription.prototype.unsubscribe = function () {\n        var parent = this.parent;\n        if (!parent.closed && !this.closed) {\n            _super.prototype.unsubscribe.call(this);\n            parent.count -= 1;\n            if (parent.count === 0 && parent.attemptedToUnsubscribe) {\n                parent.unsubscribe();\n            }\n        }\n    };\n    return InnerRefCountSubscription;\n}(Subscription_1.Subscription));\n//# sourceMappingURL=groupBy.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar Subscriber_1 = require('../Subscriber');\nvar noop_1 = require('../util/noop');\n/**\n * Ignores all items emitted by the source Observable and only passes calls of `complete` or `error`.\n *\n * <img src=\"./img/ignoreElements.png\" width=\"100%\">\n *\n * @return {Observable} An empty Observable that only calls `complete`\n * or `error`, based on which one is called by the source Observable.\n * @method ignoreElements\n * @owner Observable\n */\nfunction ignoreElements() {\n    return function ignoreElementsOperatorFunction(source) {\n        return source.lift(new IgnoreElementsOperator());\n    };\n}\nexports.ignoreElements = ignoreElements;\nvar IgnoreElementsOperator = (function () {\n    function IgnoreElementsOperator() {\n    }\n    IgnoreElementsOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new IgnoreElementsSubscriber(subscriber));\n    };\n    return IgnoreElementsOperator;\n}());\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar IgnoreElementsSubscriber = (function (_super) {\n    __extends(IgnoreElementsSubscriber, _super);\n    function IgnoreElementsSubscriber() {\n        _super.apply(this, arguments);\n    }\n    IgnoreElementsSubscriber.prototype._next = function (unused) {\n        noop_1.noop();\n    };\n    return IgnoreElementsSubscriber;\n}(Subscriber_1.Subscriber));\n//# sourceMappingURL=ignoreElements.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar Subscriber_1 = require('../Subscriber');\nfunction isEmpty() {\n    return function (source) { return source.lift(new IsEmptyOperator()); };\n}\nexports.isEmpty = isEmpty;\nvar IsEmptyOperator = (function () {\n    function IsEmptyOperator() {\n    }\n    IsEmptyOperator.prototype.call = function (observer, source) {\n        return source.subscribe(new IsEmptySubscriber(observer));\n    };\n    return IsEmptyOperator;\n}());\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar IsEmptySubscriber = (function (_super) {\n    __extends(IsEmptySubscriber, _super);\n    function IsEmptySubscriber(destination) {\n        _super.call(this, destination);\n    }\n    IsEmptySubscriber.prototype.notifyComplete = function (isEmpty) {\n        var destination = this.destination;\n        destination.next(isEmpty);\n        destination.complete();\n    };\n    IsEmptySubscriber.prototype._next = function (value) {\n        this.notifyComplete(false);\n    };\n    IsEmptySubscriber.prototype._complete = function () {\n        this.notifyComplete(true);\n    };\n    return IsEmptySubscriber;\n}(Subscriber_1.Subscriber));\n//# sourceMappingURL=isEmpty.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar Subscriber_1 = require('../Subscriber');\nvar EmptyError_1 = require('../util/EmptyError');\n/* tslint:enable:max-line-length */\n/**\n * Returns an Observable that emits only the last item emitted by the source Observable.\n * It optionally takes a predicate function as a parameter, in which case, rather than emitting\n * the last item from the source Observable, the resulting Observable will emit the last item\n * from the source Observable that satisfies the predicate.\n *\n * <img src=\"./img/last.png\" width=\"100%\">\n *\n * @throws {EmptyError} Delivers an EmptyError to the Observer's `error`\n * callback if the Observable completes before any `next` notification was sent.\n * @param {function} predicate - The condition any source emitted item has to satisfy.\n * @return {Observable} An Observable that emits only the last item satisfying the given condition\n * from the source, or an NoSuchElementException if no such items are emitted.\n * @throws - Throws if no items that match the predicate are emitted by the source Observable.\n * @method last\n * @owner Observable\n */\nfunction last(predicate, resultSelector, defaultValue) {\n    return function (source) { return source.lift(new LastOperator(predicate, resultSelector, defaultValue, source)); };\n}\nexports.last = last;\nvar LastOperator = (function () {\n    function LastOperator(predicate, resultSelector, defaultValue, source) {\n        this.predicate = predicate;\n        this.resultSelector = resultSelector;\n        this.defaultValue = defaultValue;\n        this.source = source;\n    }\n    LastOperator.prototype.call = function (observer, source) {\n        return source.subscribe(new LastSubscriber(observer, this.predicate, this.resultSelector, this.defaultValue, this.source));\n    };\n    return LastOperator;\n}());\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar LastSubscriber = (function (_super) {\n    __extends(LastSubscriber, _super);\n    function LastSubscriber(destination, predicate, resultSelector, defaultValue, source) {\n        _super.call(this, destination);\n        this.predicate = predicate;\n        this.resultSelector = resultSelector;\n        this.defaultValue = defaultValue;\n        this.source = source;\n        this.hasValue = false;\n        this.index = 0;\n        if (typeof defaultValue !== 'undefined') {\n            this.lastValue = defaultValue;\n            this.hasValue = true;\n        }\n    }\n    LastSubscriber.prototype._next = function (value) {\n        var index = this.index++;\n        if (this.predicate) {\n            this._tryPredicate(value, index);\n        }\n        else {\n            if (this.resultSelector) {\n                this._tryResultSelector(value, index);\n                return;\n            }\n            this.lastValue = value;\n            this.hasValue = true;\n        }\n    };\n    LastSubscriber.prototype._tryPredicate = function (value, index) {\n        var result;\n        try {\n            result = this.predicate(value, index, this.source);\n        }\n        catch (err) {\n            this.destination.error(err);\n            return;\n        }\n        if (result) {\n            if (this.resultSelector) {\n                this._tryResultSelector(value, index);\n                return;\n            }\n            this.lastValue = value;\n            this.hasValue = true;\n        }\n    };\n    LastSubscriber.prototype._tryResultSelector = function (value, index) {\n        var result;\n        try {\n            result = this.resultSelector(value, index);\n        }\n        catch (err) {\n            this.destination.error(err);\n            return;\n        }\n        this.lastValue = result;\n        this.hasValue = true;\n    };\n    LastSubscriber.prototype._complete = function () {\n        var destination = this.destination;\n        if (this.hasValue) {\n            destination.next(this.lastValue);\n            destination.complete();\n        }\n        else {\n            destination.error(new EmptyError_1.EmptyError);\n        }\n    };\n    return LastSubscriber;\n}(Subscriber_1.Subscriber));\n//# sourceMappingURL=last.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar Subscriber_1 = require('../Subscriber');\n/**\n * Applies a given `project` function to each value emitted by the source\n * Observable, and emits the resulting values as an Observable.\n *\n * <span class=\"informal\">Like [Array.prototype.map()](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/map),\n * it passes each source value through a transformation function to get\n * corresponding output values.</span>\n *\n * <img src=\"./img/map.png\" width=\"100%\">\n *\n * Similar to the well known `Array.prototype.map` function, this operator\n * applies a projection to each value and emits that projection in the output\n * Observable.\n *\n * @example <caption>Map every click to the clientX position of that click</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var positions = clicks.map(ev => ev.clientX);\n * positions.subscribe(x => console.log(x));\n *\n * @see {@link mapTo}\n * @see {@link pluck}\n *\n * @param {function(value: T, index: number): R} project The function to apply\n * to each `value` emitted by the source Observable. The `index` parameter is\n * the number `i` for the i-th emission that has happened since the\n * subscription, starting from the number `0`.\n * @param {any} [thisArg] An optional argument to define what `this` is in the\n * `project` function.\n * @return {Observable<R>} An Observable that emits the values from the source\n * Observable transformed by the given `project` function.\n * @method map\n * @owner Observable\n */\nfunction map(project, thisArg) {\n    return function mapOperation(source) {\n        if (typeof project !== 'function') {\n            throw new TypeError('argument is not a function. Are you looking for `mapTo()`?');\n        }\n        return source.lift(new MapOperator(project, thisArg));\n    };\n}\nexports.map = map;\nvar MapOperator = (function () {\n    function MapOperator(project, thisArg) {\n        this.project = project;\n        this.thisArg = thisArg;\n    }\n    MapOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new MapSubscriber(subscriber, this.project, this.thisArg));\n    };\n    return MapOperator;\n}());\nexports.MapOperator = MapOperator;\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar MapSubscriber = (function (_super) {\n    __extends(MapSubscriber, _super);\n    function MapSubscriber(destination, project, thisArg) {\n        _super.call(this, destination);\n        this.project = project;\n        this.count = 0;\n        this.thisArg = thisArg || this;\n    }\n    // NOTE: This looks unoptimized, but it's actually purposefully NOT\n    // using try/catch optimizations.\n    MapSubscriber.prototype._next = function (value) {\n        var result;\n        try {\n            result = this.project.call(this.thisArg, value, this.count++);\n        }\n        catch (err) {\n            this.destination.error(err);\n            return;\n        }\n        this.destination.next(result);\n    };\n    return MapSubscriber;\n}(Subscriber_1.Subscriber));\n//# sourceMappingURL=map.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar Subscriber_1 = require('../Subscriber');\n/**\n * Emits the given constant value on the output Observable every time the source\n * Observable emits a value.\n *\n * <span class=\"informal\">Like {@link map}, but it maps every source value to\n * the same output value every time.</span>\n *\n * <img src=\"./img/mapTo.png\" width=\"100%\">\n *\n * Takes a constant `value` as argument, and emits that whenever the source\n * Observable emits a value. In other words, ignores the actual source value,\n * and simply uses the emission moment to know when to emit the given `value`.\n *\n * @example <caption>Map every click to the string 'Hi'</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var greetings = clicks.mapTo('Hi');\n * greetings.subscribe(x => console.log(x));\n *\n * @see {@link map}\n *\n * @param {any} value The value to map each source value to.\n * @return {Observable} An Observable that emits the given `value` every time\n * the source Observable emits something.\n * @method mapTo\n * @owner Observable\n */\nfunction mapTo(value) {\n    return function (source) { return source.lift(new MapToOperator(value)); };\n}\nexports.mapTo = mapTo;\nvar MapToOperator = (function () {\n    function MapToOperator(value) {\n        this.value = value;\n    }\n    MapToOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new MapToSubscriber(subscriber, this.value));\n    };\n    return MapToOperator;\n}());\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar MapToSubscriber = (function (_super) {\n    __extends(MapToSubscriber, _super);\n    function MapToSubscriber(destination, value) {\n        _super.call(this, destination);\n        this.value = value;\n    }\n    MapToSubscriber.prototype._next = function (x) {\n        this.destination.next(this.value);\n    };\n    return MapToSubscriber;\n}(Subscriber_1.Subscriber));\n//# sourceMappingURL=mapTo.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar Subscriber_1 = require('../Subscriber');\nvar Notification_1 = require('../Notification');\n/**\n * Represents all of the notifications from the source Observable as `next`\n * emissions marked with their original types within {@link Notification}\n * objects.\n *\n * <span class=\"informal\">Wraps `next`, `error` and `complete` emissions in\n * {@link Notification} objects, emitted as `next` on the output Observable.\n * </span>\n *\n * <img src=\"./img/materialize.png\" width=\"100%\">\n *\n * `materialize` returns an Observable that emits a `next` notification for each\n * `next`, `error`, or `complete` emission of the source Observable. When the\n * source Observable emits `complete`, the output Observable will emit `next` as\n * a Notification of type \"complete\", and then it will emit `complete` as well.\n * When the source Observable emits `error`, the output will emit `next` as a\n * Notification of type \"error\", and then `complete`.\n *\n * This operator is useful for producing metadata of the source Observable, to\n * be consumed as `next` emissions. Use it in conjunction with\n * {@link dematerialize}.\n *\n * @example <caption>Convert a faulty Observable to an Observable of Notifications</caption>\n * var letters = Rx.Observable.of('a', 'b', 13, 'd');\n * var upperCase = letters.map(x => x.toUpperCase());\n * var materialized = upperCase.materialize();\n * materialized.subscribe(x => console.log(x));\n *\n * // Results in the following:\n * // - Notification {kind: \"N\", value: \"A\", error: undefined, hasValue: true}\n * // - Notification {kind: \"N\", value: \"B\", error: undefined, hasValue: true}\n * // - Notification {kind: \"E\", value: undefined, error: TypeError:\n * //   x.toUpperCase is not a function at MapSubscriber.letters.map.x\n * //   [as project] (http://1, hasValue: false}\n *\n * @see {@link Notification}\n * @see {@link dematerialize}\n *\n * @return {Observable<Notification<T>>} An Observable that emits\n * {@link Notification} objects that wrap the original emissions from the source\n * Observable with metadata.\n * @method materialize\n * @owner Observable\n */\nfunction materialize() {\n    return function materializeOperatorFunction(source) {\n        return source.lift(new MaterializeOperator());\n    };\n}\nexports.materialize = materialize;\nvar MaterializeOperator = (function () {\n    function MaterializeOperator() {\n    }\n    MaterializeOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new MaterializeSubscriber(subscriber));\n    };\n    return MaterializeOperator;\n}());\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar MaterializeSubscriber = (function (_super) {\n    __extends(MaterializeSubscriber, _super);\n    function MaterializeSubscriber(destination) {\n        _super.call(this, destination);\n    }\n    MaterializeSubscriber.prototype._next = function (value) {\n        this.destination.next(Notification_1.Notification.createNext(value));\n    };\n    MaterializeSubscriber.prototype._error = function (err) {\n        var destination = this.destination;\n        destination.next(Notification_1.Notification.createError(err));\n        destination.complete();\n    };\n    MaterializeSubscriber.prototype._complete = function () {\n        var destination = this.destination;\n        destination.next(Notification_1.Notification.createComplete());\n        destination.complete();\n    };\n    return MaterializeSubscriber;\n}(Subscriber_1.Subscriber));\n//# sourceMappingURL=materialize.js.map","\"use strict\";\nvar reduce_1 = require('./reduce');\n/**\n * The Max operator operates on an Observable that emits numbers (or items that can be compared with a provided function),\n * and when source Observable completes it emits a single item: the item with the largest value.\n *\n * <img src=\"./img/max.png\" width=\"100%\">\n *\n * @example <caption>Get the maximal value of a series of numbers</caption>\n * Rx.Observable.of(5, 4, 7, 2, 8)\n *   .max()\n *   .subscribe(x => console.log(x)); // -> 8\n *\n * @example <caption>Use a comparer function to get the maximal item</caption>\n * interface Person {\n *   age: number,\n *   name: string\n * }\n * Observable.of<Person>({age: 7, name: 'Foo'},\n *                       {age: 5, name: 'Bar'},\n *                       {age: 9, name: 'Beer'})\n *           .max<Person>((a: Person, b: Person) => a.age < b.age ? -1 : 1)\n *           .subscribe((x: Person) => console.log(x.name)); // -> 'Beer'\n * }\n *\n * @see {@link min}\n *\n * @param {Function} [comparer] - Optional comparer function that it will use instead of its default to compare the\n * value of two items.\n * @return {Observable} An Observable that emits item with the largest value.\n * @method max\n * @owner Observable\n */\nfunction max(comparer) {\n    var max = (typeof comparer === 'function')\n        ? function (x, y) { return comparer(x, y) > 0 ? x : y; }\n        : function (x, y) { return x > y ? x : y; };\n    return reduce_1.reduce(max);\n}\nexports.max = max;\n//# sourceMappingURL=max.js.map","\"use strict\";\nvar merge_1 = require('../observable/merge');\nvar merge_2 = require('../observable/merge');\nexports.mergeStatic = merge_2.merge;\n/* tslint:enable:max-line-length */\n/**\n * Creates an output Observable which concurrently emits all values from every\n * given input Observable.\n *\n * <span class=\"informal\">Flattens multiple Observables together by blending\n * their values into one Observable.</span>\n *\n * <img src=\"./img/merge.png\" width=\"100%\">\n *\n * `merge` subscribes to each given input Observable (either the source or an\n * Observable given as argument), and simply forwards (without doing any\n * transformation) all the values from all the input Observables to the output\n * Observable. The output Observable only completes once all input Observables\n * have completed. Any error delivered by an input Observable will be immediately\n * emitted on the output Observable.\n *\n * @example <caption>Merge together two Observables: 1s interval and clicks</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var timer = Rx.Observable.interval(1000);\n * var clicksOrTimer = clicks.merge(timer);\n * clicksOrTimer.subscribe(x => console.log(x));\n *\n * @example <caption>Merge together 3 Observables, but only 2 run concurrently</caption>\n * var timer1 = Rx.Observable.interval(1000).take(10);\n * var timer2 = Rx.Observable.interval(2000).take(6);\n * var timer3 = Rx.Observable.interval(500).take(10);\n * var concurrent = 2; // the argument\n * var merged = timer1.merge(timer2, timer3, concurrent);\n * merged.subscribe(x => console.log(x));\n *\n * @see {@link mergeAll}\n * @see {@link mergeMap}\n * @see {@link mergeMapTo}\n * @see {@link mergeScan}\n *\n * @param {ObservableInput} other An input Observable to merge with the source\n * Observable. More than one input Observables may be given as argument.\n * @param {number} [concurrent=Number.POSITIVE_INFINITY] Maximum number of input\n * Observables being subscribed to concurrently.\n * @param {Scheduler} [scheduler=null] The IScheduler to use for managing\n * concurrency of input Observables.\n * @return {Observable} An Observable that emits items that are the result of\n * every input Observable.\n * @method merge\n * @owner Observable\n */\nfunction merge() {\n    var observables = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        observables[_i - 0] = arguments[_i];\n    }\n    return function (source) { return source.lift.call(merge_1.merge.apply(void 0, [source].concat(observables))); };\n}\nexports.merge = merge;\n//# sourceMappingURL=merge.js.map","\"use strict\";\nvar mergeMap_1 = require('./mergeMap');\nvar identity_1 = require('../util/identity');\n/**\n * Converts a higher-order Observable into a first-order Observable which\n * concurrently delivers all values that are emitted on the inner Observables.\n *\n * <span class=\"informal\">Flattens an Observable-of-Observables.</span>\n *\n * <img src=\"./img/mergeAll.png\" width=\"100%\">\n *\n * `mergeAll` subscribes to an Observable that emits Observables, also known as\n * a higher-order Observable. Each time it observes one of these emitted inner\n * Observables, it subscribes to that and delivers all the values from the\n * inner Observable on the output Observable. The output Observable only\n * completes once all inner Observables have completed. Any error delivered by\n * a inner Observable will be immediately emitted on the output Observable.\n *\n * @example <caption>Spawn a new interval Observable for each click event, and blend their outputs as one Observable</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var higherOrder = clicks.map((ev) => Rx.Observable.interval(1000));\n * var firstOrder = higherOrder.mergeAll();\n * firstOrder.subscribe(x => console.log(x));\n *\n * @example <caption>Count from 0 to 9 every second for each click, but only allow 2 concurrent timers</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var higherOrder = clicks.map((ev) => Rx.Observable.interval(1000).take(10));\n * var firstOrder = higherOrder.mergeAll(2);\n * firstOrder.subscribe(x => console.log(x));\n *\n * @see {@link combineAll}\n * @see {@link concatAll}\n * @see {@link exhaust}\n * @see {@link merge}\n * @see {@link mergeMap}\n * @see {@link mergeMapTo}\n * @see {@link mergeScan}\n * @see {@link switch}\n * @see {@link zipAll}\n *\n * @param {number} [concurrent=Number.POSITIVE_INFINITY] Maximum number of inner\n * Observables being subscribed to concurrently.\n * @return {Observable} An Observable that emits values coming from all the\n * inner Observables emitted by the source Observable.\n * @method mergeAll\n * @owner Observable\n */\nfunction mergeAll(concurrent) {\n    if (concurrent === void 0) { concurrent = Number.POSITIVE_INFINITY; }\n    return mergeMap_1.mergeMap(identity_1.identity, null, concurrent);\n}\nexports.mergeAll = mergeAll;\n//# sourceMappingURL=mergeAll.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar subscribeToResult_1 = require('../util/subscribeToResult');\nvar OuterSubscriber_1 = require('../OuterSubscriber');\n/* tslint:enable:max-line-length */\n/**\n * Projects each source value to an Observable which is merged in the output\n * Observable.\n *\n * <span class=\"informal\">Maps each value to an Observable, then flattens all of\n * these inner Observables using {@link mergeAll}.</span>\n *\n * <img src=\"./img/mergeMap.png\" width=\"100%\">\n *\n * Returns an Observable that emits items based on applying a function that you\n * supply to each item emitted by the source Observable, where that function\n * returns an Observable, and then merging those resulting Observables and\n * emitting the results of this merger.\n *\n * @example <caption>Map and flatten each letter to an Observable ticking every 1 second</caption>\n * var letters = Rx.Observable.of('a', 'b', 'c');\n * var result = letters.mergeMap(x =>\n *   Rx.Observable.interval(1000).map(i => x+i)\n * );\n * result.subscribe(x => console.log(x));\n *\n * // Results in the following:\n * // a0\n * // b0\n * // c0\n * // a1\n * // b1\n * // c1\n * // continues to list a,b,c with respective ascending integers\n *\n * @see {@link concatMap}\n * @see {@link exhaustMap}\n * @see {@link merge}\n * @see {@link mergeAll}\n * @see {@link mergeMapTo}\n * @see {@link mergeScan}\n * @see {@link switchMap}\n *\n * @param {function(value: T, ?index: number): ObservableInput} project A function\n * that, when applied to an item emitted by the source Observable, returns an\n * Observable.\n * @param {function(outerValue: T, innerValue: I, outerIndex: number, innerIndex: number): any} [resultSelector]\n * A function to produce the value on the output Observable based on the values\n * and the indices of the source (outer) emission and the inner Observable\n * emission. The arguments passed to this function are:\n * - `outerValue`: the value that came from the source\n * - `innerValue`: the value that came from the projected Observable\n * - `outerIndex`: the \"index\" of the value that came from the source\n * - `innerIndex`: the \"index\" of the value from the projected Observable\n * @param {number} [concurrent=Number.POSITIVE_INFINITY] Maximum number of input\n * Observables being subscribed to concurrently.\n * @return {Observable} An Observable that emits the result of applying the\n * projection function (and the optional `resultSelector`) to each item emitted\n * by the source Observable and merging the results of the Observables obtained\n * from this transformation.\n * @method mergeMap\n * @owner Observable\n */\nfunction mergeMap(project, resultSelector, concurrent) {\n    if (concurrent === void 0) { concurrent = Number.POSITIVE_INFINITY; }\n    return function mergeMapOperatorFunction(source) {\n        if (typeof resultSelector === 'number') {\n            concurrent = resultSelector;\n            resultSelector = null;\n        }\n        return source.lift(new MergeMapOperator(project, resultSelector, concurrent));\n    };\n}\nexports.mergeMap = mergeMap;\nvar MergeMapOperator = (function () {\n    function MergeMapOperator(project, resultSelector, concurrent) {\n        if (concurrent === void 0) { concurrent = Number.POSITIVE_INFINITY; }\n        this.project = project;\n        this.resultSelector = resultSelector;\n        this.concurrent = concurrent;\n    }\n    MergeMapOperator.prototype.call = function (observer, source) {\n        return source.subscribe(new MergeMapSubscriber(observer, this.project, this.resultSelector, this.concurrent));\n    };\n    return MergeMapOperator;\n}());\nexports.MergeMapOperator = MergeMapOperator;\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar MergeMapSubscriber = (function (_super) {\n    __extends(MergeMapSubscriber, _super);\n    function MergeMapSubscriber(destination, project, resultSelector, concurrent) {\n        if (concurrent === void 0) { concurrent = Number.POSITIVE_INFINITY; }\n        _super.call(this, destination);\n        this.project = project;\n        this.resultSelector = resultSelector;\n        this.concurrent = concurrent;\n        this.hasCompleted = false;\n        this.buffer = [];\n        this.active = 0;\n        this.index = 0;\n    }\n    MergeMapSubscriber.prototype._next = function (value) {\n        if (this.active < this.concurrent) {\n            this._tryNext(value);\n        }\n        else {\n            this.buffer.push(value);\n        }\n    };\n    MergeMapSubscriber.prototype._tryNext = function (value) {\n        var result;\n        var index = this.index++;\n        try {\n            result = this.project(value, index);\n        }\n        catch (err) {\n            this.destination.error(err);\n            return;\n        }\n        this.active++;\n        this._innerSub(result, value, index);\n    };\n    MergeMapSubscriber.prototype._innerSub = function (ish, value, index) {\n        this.add(subscribeToResult_1.subscribeToResult(this, ish, value, index));\n    };\n    MergeMapSubscriber.prototype._complete = function () {\n        this.hasCompleted = true;\n        if (this.active === 0 && this.buffer.length === 0) {\n            this.destination.complete();\n        }\n    };\n    MergeMapSubscriber.prototype.notifyNext = function (outerValue, innerValue, outerIndex, innerIndex, innerSub) {\n        if (this.resultSelector) {\n            this._notifyResultSelector(outerValue, innerValue, outerIndex, innerIndex);\n        }\n        else {\n            this.destination.next(innerValue);\n        }\n    };\n    MergeMapSubscriber.prototype._notifyResultSelector = function (outerValue, innerValue, outerIndex, innerIndex) {\n        var result;\n        try {\n            result = this.resultSelector(outerValue, innerValue, outerIndex, innerIndex);\n        }\n        catch (err) {\n            this.destination.error(err);\n            return;\n        }\n        this.destination.next(result);\n    };\n    MergeMapSubscriber.prototype.notifyComplete = function (innerSub) {\n        var buffer = this.buffer;\n        this.remove(innerSub);\n        this.active--;\n        if (buffer.length > 0) {\n            this._next(buffer.shift());\n        }\n        else if (this.active === 0 && this.hasCompleted) {\n            this.destination.complete();\n        }\n    };\n    return MergeMapSubscriber;\n}(OuterSubscriber_1.OuterSubscriber));\nexports.MergeMapSubscriber = MergeMapSubscriber;\n//# sourceMappingURL=mergeMap.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar OuterSubscriber_1 = require('../OuterSubscriber');\nvar subscribeToResult_1 = require('../util/subscribeToResult');\n/* tslint:enable:max-line-length */\n/**\n * Projects each source value to the same Observable which is merged multiple\n * times in the output Observable.\n *\n * <span class=\"informal\">It's like {@link mergeMap}, but maps each value always\n * to the same inner Observable.</span>\n *\n * <img src=\"./img/mergeMapTo.png\" width=\"100%\">\n *\n * Maps each source value to the given Observable `innerObservable` regardless\n * of the source value, and then merges those resulting Observables into one\n * single Observable, which is the output Observable.\n *\n * @example <caption>For each click event, start an interval Observable ticking every 1 second</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var result = clicks.mergeMapTo(Rx.Observable.interval(1000));\n * result.subscribe(x => console.log(x));\n *\n * @see {@link concatMapTo}\n * @see {@link merge}\n * @see {@link mergeAll}\n * @see {@link mergeMap}\n * @see {@link mergeScan}\n * @see {@link switchMapTo}\n *\n * @param {ObservableInput} innerObservable An Observable to replace each value from\n * the source Observable.\n * @param {function(outerValue: T, innerValue: I, outerIndex: number, innerIndex: number): any} [resultSelector]\n * A function to produce the value on the output Observable based on the values\n * and the indices of the source (outer) emission and the inner Observable\n * emission. The arguments passed to this function are:\n * - `outerValue`: the value that came from the source\n * - `innerValue`: the value that came from the projected Observable\n * - `outerIndex`: the \"index\" of the value that came from the source\n * - `innerIndex`: the \"index\" of the value from the projected Observable\n * @param {number} [concurrent=Number.POSITIVE_INFINITY] Maximum number of input\n * Observables being subscribed to concurrently.\n * @return {Observable} An Observable that emits items from the given\n * `innerObservable` (and optionally transformed through `resultSelector`) every\n * time a value is emitted on the source Observable.\n * @method mergeMapTo\n * @owner Observable\n */\nfunction mergeMapTo(innerObservable, resultSelector, concurrent) {\n    if (concurrent === void 0) { concurrent = Number.POSITIVE_INFINITY; }\n    if (typeof resultSelector === 'number') {\n        concurrent = resultSelector;\n        resultSelector = null;\n    }\n    return function (source) { return source.lift(new MergeMapToOperator(innerObservable, resultSelector, concurrent)); };\n}\nexports.mergeMapTo = mergeMapTo;\n// TODO: Figure out correct signature here: an Operator<Observable<T>, R>\n//       needs to implement call(observer: Subscriber<R>): Subscriber<Observable<T>>\nvar MergeMapToOperator = (function () {\n    function MergeMapToOperator(ish, resultSelector, concurrent) {\n        if (concurrent === void 0) { concurrent = Number.POSITIVE_INFINITY; }\n        this.ish = ish;\n        this.resultSelector = resultSelector;\n        this.concurrent = concurrent;\n    }\n    MergeMapToOperator.prototype.call = function (observer, source) {\n        return source.subscribe(new MergeMapToSubscriber(observer, this.ish, this.resultSelector, this.concurrent));\n    };\n    return MergeMapToOperator;\n}());\nexports.MergeMapToOperator = MergeMapToOperator;\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar MergeMapToSubscriber = (function (_super) {\n    __extends(MergeMapToSubscriber, _super);\n    function MergeMapToSubscriber(destination, ish, resultSelector, concurrent) {\n        if (concurrent === void 0) { concurrent = Number.POSITIVE_INFINITY; }\n        _super.call(this, destination);\n        this.ish = ish;\n        this.resultSelector = resultSelector;\n        this.concurrent = concurrent;\n        this.hasCompleted = false;\n        this.buffer = [];\n        this.active = 0;\n        this.index = 0;\n    }\n    MergeMapToSubscriber.prototype._next = function (value) {\n        if (this.active < this.concurrent) {\n            var resultSelector = this.resultSelector;\n            var index = this.index++;\n            var ish = this.ish;\n            var destination = this.destination;\n            this.active++;\n            this._innerSub(ish, destination, resultSelector, value, index);\n        }\n        else {\n            this.buffer.push(value);\n        }\n    };\n    MergeMapToSubscriber.prototype._innerSub = function (ish, destination, resultSelector, value, index) {\n        this.add(subscribeToResult_1.subscribeToResult(this, ish, value, index));\n    };\n    MergeMapToSubscriber.prototype._complete = function () {\n        this.hasCompleted = true;\n        if (this.active === 0 && this.buffer.length === 0) {\n            this.destination.complete();\n        }\n    };\n    MergeMapToSubscriber.prototype.notifyNext = function (outerValue, innerValue, outerIndex, innerIndex, innerSub) {\n        var _a = this, resultSelector = _a.resultSelector, destination = _a.destination;\n        if (resultSelector) {\n            this.trySelectResult(outerValue, innerValue, outerIndex, innerIndex);\n        }\n        else {\n            destination.next(innerValue);\n        }\n    };\n    MergeMapToSubscriber.prototype.trySelectResult = function (outerValue, innerValue, outerIndex, innerIndex) {\n        var _a = this, resultSelector = _a.resultSelector, destination = _a.destination;\n        var result;\n        try {\n            result = resultSelector(outerValue, innerValue, outerIndex, innerIndex);\n        }\n        catch (err) {\n            destination.error(err);\n            return;\n        }\n        destination.next(result);\n    };\n    MergeMapToSubscriber.prototype.notifyError = function (err) {\n        this.destination.error(err);\n    };\n    MergeMapToSubscriber.prototype.notifyComplete = function (innerSub) {\n        var buffer = this.buffer;\n        this.remove(innerSub);\n        this.active--;\n        if (buffer.length > 0) {\n            this._next(buffer.shift());\n        }\n        else if (this.active === 0 && this.hasCompleted) {\n            this.destination.complete();\n        }\n    };\n    return MergeMapToSubscriber;\n}(OuterSubscriber_1.OuterSubscriber));\nexports.MergeMapToSubscriber = MergeMapToSubscriber;\n//# sourceMappingURL=mergeMapTo.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar tryCatch_1 = require('../util/tryCatch');\nvar errorObject_1 = require('../util/errorObject');\nvar subscribeToResult_1 = require('../util/subscribeToResult');\nvar OuterSubscriber_1 = require('../OuterSubscriber');\n/**\n * Applies an accumulator function over the source Observable where the\n * accumulator function itself returns an Observable, then each intermediate\n * Observable returned is merged into the output Observable.\n *\n * <span class=\"informal\">It's like {@link scan}, but the Observables returned\n * by the accumulator are merged into the outer Observable.</span>\n *\n * @example <caption>Count the number of click events</caption>\n * const click$ = Rx.Observable.fromEvent(document, 'click');\n * const one$ = click$.mapTo(1);\n * const seed = 0;\n * const count$ = one$.mergeScan((acc, one) => Rx.Observable.of(acc + one), seed);\n * count$.subscribe(x => console.log(x));\n *\n * // Results:\n * 1\n * 2\n * 3\n * 4\n * // ...and so on for each click\n *\n * @param {function(acc: R, value: T): Observable<R>} accumulator\n * The accumulator function called on each source value.\n * @param seed The initial accumulation value.\n * @param {number} [concurrent=Number.POSITIVE_INFINITY] Maximum number of\n * input Observables being subscribed to concurrently.\n * @return {Observable<R>} An observable of the accumulated values.\n * @method mergeScan\n * @owner Observable\n */\nfunction mergeScan(accumulator, seed, concurrent) {\n    if (concurrent === void 0) { concurrent = Number.POSITIVE_INFINITY; }\n    return function (source) { return source.lift(new MergeScanOperator(accumulator, seed, concurrent)); };\n}\nexports.mergeScan = mergeScan;\nvar MergeScanOperator = (function () {\n    function MergeScanOperator(accumulator, seed, concurrent) {\n        this.accumulator = accumulator;\n        this.seed = seed;\n        this.concurrent = concurrent;\n    }\n    MergeScanOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new MergeScanSubscriber(subscriber, this.accumulator, this.seed, this.concurrent));\n    };\n    return MergeScanOperator;\n}());\nexports.MergeScanOperator = MergeScanOperator;\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar MergeScanSubscriber = (function (_super) {\n    __extends(MergeScanSubscriber, _super);\n    function MergeScanSubscriber(destination, accumulator, acc, concurrent) {\n        _super.call(this, destination);\n        this.accumulator = accumulator;\n        this.acc = acc;\n        this.concurrent = concurrent;\n        this.hasValue = false;\n        this.hasCompleted = false;\n        this.buffer = [];\n        this.active = 0;\n        this.index = 0;\n    }\n    MergeScanSubscriber.prototype._next = function (value) {\n        if (this.active < this.concurrent) {\n            var index = this.index++;\n            var ish = tryCatch_1.tryCatch(this.accumulator)(this.acc, value);\n            var destination = this.destination;\n            if (ish === errorObject_1.errorObject) {\n                destination.error(errorObject_1.errorObject.e);\n            }\n            else {\n                this.active++;\n                this._innerSub(ish, value, index);\n            }\n        }\n        else {\n            this.buffer.push(value);\n        }\n    };\n    MergeScanSubscriber.prototype._innerSub = function (ish, value, index) {\n        this.add(subscribeToResult_1.subscribeToResult(this, ish, value, index));\n    };\n    MergeScanSubscriber.prototype._complete = function () {\n        this.hasCompleted = true;\n        if (this.active === 0 && this.buffer.length === 0) {\n            if (this.hasValue === false) {\n                this.destination.next(this.acc);\n            }\n            this.destination.complete();\n        }\n    };\n    MergeScanSubscriber.prototype.notifyNext = function (outerValue, innerValue, outerIndex, innerIndex, innerSub) {\n        var destination = this.destination;\n        this.acc = innerValue;\n        this.hasValue = true;\n        destination.next(innerValue);\n    };\n    MergeScanSubscriber.prototype.notifyComplete = function (innerSub) {\n        var buffer = this.buffer;\n        this.remove(innerSub);\n        this.active--;\n        if (buffer.length > 0) {\n            this._next(buffer.shift());\n        }\n        else if (this.active === 0 && this.hasCompleted) {\n            if (this.hasValue === false) {\n                this.destination.next(this.acc);\n            }\n            this.destination.complete();\n        }\n    };\n    return MergeScanSubscriber;\n}(OuterSubscriber_1.OuterSubscriber));\nexports.MergeScanSubscriber = MergeScanSubscriber;\n//# sourceMappingURL=mergeScan.js.map","\"use strict\";\nvar reduce_1 = require('./reduce');\n/**\n * The Min operator operates on an Observable that emits numbers (or items that can be compared with a provided function),\n * and when source Observable completes it emits a single item: the item with the smallest value.\n *\n * <img src=\"./img/min.png\" width=\"100%\">\n *\n * @example <caption>Get the minimal value of a series of numbers</caption>\n * Rx.Observable.of(5, 4, 7, 2, 8)\n *   .min()\n *   .subscribe(x => console.log(x)); // -> 2\n *\n * @example <caption>Use a comparer function to get the minimal item</caption>\n * interface Person {\n *   age: number,\n *   name: string\n * }\n * Observable.of<Person>({age: 7, name: 'Foo'},\n *                       {age: 5, name: 'Bar'},\n *                       {age: 9, name: 'Beer'})\n *           .min<Person>( (a: Person, b: Person) => a.age < b.age ? -1 : 1)\n *           .subscribe((x: Person) => console.log(x.name)); // -> 'Bar'\n * }\n *\n * @see {@link max}\n *\n * @param {Function} [comparer] - Optional comparer function that it will use instead of its default to compare the\n * value of two items.\n * @return {Observable<R>} An Observable that emits item with the smallest value.\n * @method min\n * @owner Observable\n */\nfunction min(comparer) {\n    var min = (typeof comparer === 'function')\n        ? function (x, y) { return comparer(x, y) < 0 ? x : y; }\n        : function (x, y) { return x < y ? x : y; };\n    return reduce_1.reduce(min);\n}\nexports.min = min;\n//# sourceMappingURL=min.js.map","\"use strict\";\nvar ConnectableObservable_1 = require('../observable/ConnectableObservable');\n/* tslint:enable:max-line-length */\n/**\n * Returns an Observable that emits the results of invoking a specified selector on items\n * emitted by a ConnectableObservable that shares a single subscription to the underlying stream.\n *\n * <img src=\"./img/multicast.png\" width=\"100%\">\n *\n * @param {Function|Subject} subjectOrSubjectFactory - Factory function to create an intermediate subject through\n * which the source sequence's elements will be multicast to the selector function\n * or Subject to push source elements into.\n * @param {Function} [selector] - Optional selector function that can use the multicasted source stream\n * as many times as needed, without causing multiple subscriptions to the source stream.\n * Subscribers to the given source will receive all notifications of the source from the\n * time of the subscription forward.\n * @return {Observable} An Observable that emits the results of invoking the selector\n * on the items emitted by a `ConnectableObservable` that shares a single subscription to\n * the underlying stream.\n * @method multicast\n * @owner Observable\n */\nfunction multicast(subjectOrSubjectFactory, selector) {\n    return function multicastOperatorFunction(source) {\n        var subjectFactory;\n        if (typeof subjectOrSubjectFactory === 'function') {\n            subjectFactory = subjectOrSubjectFactory;\n        }\n        else {\n            subjectFactory = function subjectFactory() {\n                return subjectOrSubjectFactory;\n            };\n        }\n        if (typeof selector === 'function') {\n            return source.lift(new MulticastOperator(subjectFactory, selector));\n        }\n        var connectable = Object.create(source, ConnectableObservable_1.connectableObservableDescriptor);\n        connectable.source = source;\n        connectable.subjectFactory = subjectFactory;\n        return connectable;\n    };\n}\nexports.multicast = multicast;\nvar MulticastOperator = (function () {\n    function MulticastOperator(subjectFactory, selector) {\n        this.subjectFactory = subjectFactory;\n        this.selector = selector;\n    }\n    MulticastOperator.prototype.call = function (subscriber, source) {\n        var selector = this.selector;\n        var subject = this.subjectFactory();\n        var subscription = selector(subject).subscribe(subscriber);\n        subscription.add(source.subscribe(subject));\n        return subscription;\n    };\n    return MulticastOperator;\n}());\nexports.MulticastOperator = MulticastOperator;\n//# sourceMappingURL=multicast.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar Subscriber_1 = require('../Subscriber');\nvar Notification_1 = require('../Notification');\n/**\n *\n * Re-emits all notifications from source Observable with specified scheduler.\n *\n * <span class=\"informal\">Ensure a specific scheduler is used, from outside of an Observable.</span>\n *\n * `observeOn` is an operator that accepts a scheduler as a first parameter, which will be used to reschedule\n * notifications emitted by the source Observable. It might be useful, if you do not have control over\n * internal scheduler of a given Observable, but want to control when its values are emitted nevertheless.\n *\n * Returned Observable emits the same notifications (nexted values, complete and error events) as the source Observable,\n * but rescheduled with provided scheduler. Note that this doesn't mean that source Observables internal\n * scheduler will be replaced in any way. Original scheduler still will be used, but when the source Observable emits\n * notification, it will be immediately scheduled again - this time with scheduler passed to `observeOn`.\n * An anti-pattern would be calling `observeOn` on Observable that emits lots of values synchronously, to split\n * that emissions into asynchronous chunks. For this to happen, scheduler would have to be passed into the source\n * Observable directly (usually into the operator that creates it). `observeOn` simply delays notifications a\n * little bit more, to ensure that they are emitted at expected moments.\n *\n * As a matter of fact, `observeOn` accepts second parameter, which specifies in milliseconds with what delay notifications\n * will be emitted. The main difference between {@link delay} operator and `observeOn` is that `observeOn`\n * will delay all notifications - including error notifications - while `delay` will pass through error\n * from source Observable immediately when it is emitted. In general it is highly recommended to use `delay` operator\n * for any kind of delaying of values in the stream, while using `observeOn` to specify which scheduler should be used\n * for notification emissions in general.\n *\n * @example <caption>Ensure values in subscribe are called just before browser repaint.</caption>\n * const intervals = Rx.Observable.interval(10); // Intervals are scheduled\n *                                               // with async scheduler by default...\n *\n * intervals\n * .observeOn(Rx.Scheduler.animationFrame)       // ...but we will observe on animationFrame\n * .subscribe(val => {                           // scheduler to ensure smooth animation.\n *   someDiv.style.height = val + 'px';\n * });\n *\n * @see {@link delay}\n *\n * @param {IScheduler} scheduler Scheduler that will be used to reschedule notifications from source Observable.\n * @param {number} [delay] Number of milliseconds that states with what delay every notification should be rescheduled.\n * @return {Observable<T>} Observable that emits the same notifications as the source Observable,\n * but with provided scheduler.\n *\n * @method observeOn\n * @owner Observable\n */\nfunction observeOn(scheduler, delay) {\n    if (delay === void 0) { delay = 0; }\n    return function observeOnOperatorFunction(source) {\n        return source.lift(new ObserveOnOperator(scheduler, delay));\n    };\n}\nexports.observeOn = observeOn;\nvar ObserveOnOperator = (function () {\n    function ObserveOnOperator(scheduler, delay) {\n        if (delay === void 0) { delay = 0; }\n        this.scheduler = scheduler;\n        this.delay = delay;\n    }\n    ObserveOnOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new ObserveOnSubscriber(subscriber, this.scheduler, this.delay));\n    };\n    return ObserveOnOperator;\n}());\nexports.ObserveOnOperator = ObserveOnOperator;\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar ObserveOnSubscriber = (function (_super) {\n    __extends(ObserveOnSubscriber, _super);\n    function ObserveOnSubscriber(destination, scheduler, delay) {\n        if (delay === void 0) { delay = 0; }\n        _super.call(this, destination);\n        this.scheduler = scheduler;\n        this.delay = delay;\n    }\n    ObserveOnSubscriber.dispatch = function (arg) {\n        var notification = arg.notification, destination = arg.destination;\n        notification.observe(destination);\n        this.unsubscribe();\n    };\n    ObserveOnSubscriber.prototype.scheduleMessage = function (notification) {\n        this.add(this.scheduler.schedule(ObserveOnSubscriber.dispatch, this.delay, new ObserveOnMessage(notification, this.destination)));\n    };\n    ObserveOnSubscriber.prototype._next = function (value) {\n        this.scheduleMessage(Notification_1.Notification.createNext(value));\n    };\n    ObserveOnSubscriber.prototype._error = function (err) {\n        this.scheduleMessage(Notification_1.Notification.createError(err));\n    };\n    ObserveOnSubscriber.prototype._complete = function () {\n        this.scheduleMessage(Notification_1.Notification.createComplete());\n    };\n    return ObserveOnSubscriber;\n}(Subscriber_1.Subscriber));\nexports.ObserveOnSubscriber = ObserveOnSubscriber;\nvar ObserveOnMessage = (function () {\n    function ObserveOnMessage(notification, destination) {\n        this.notification = notification;\n        this.destination = destination;\n    }\n    return ObserveOnMessage;\n}());\nexports.ObserveOnMessage = ObserveOnMessage;\n//# sourceMappingURL=observeOn.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar FromObservable_1 = require('../observable/FromObservable');\nvar isArray_1 = require('../util/isArray');\nvar OuterSubscriber_1 = require('../OuterSubscriber');\nvar subscribeToResult_1 = require('../util/subscribeToResult');\n/* tslint:enable:max-line-length */\n/**\n * When any of the provided Observable emits an complete or error notification, it immediately subscribes to the next one\n * that was passed.\n *\n * <span class=\"informal\">Execute series of Observables no matter what, even if it means swallowing errors.</span>\n *\n * <img src=\"./img/onErrorResumeNext.png\" width=\"100%\">\n *\n * `onErrorResumeNext` is an operator that accepts a series of Observables, provided either directly as\n * arguments or as an array. If no single Observable is provided, returned Observable will simply behave the same\n * as the source.\n *\n * `onErrorResumeNext` returns an Observable that starts by subscribing and re-emitting values from the source Observable.\n * When its stream of values ends - no matter if Observable completed or emitted an error - `onErrorResumeNext`\n * will subscribe to the first Observable that was passed as an argument to the method. It will start re-emitting\n * its values as well and - again - when that stream ends, `onErrorResumeNext` will proceed to subscribing yet another\n * Observable in provided series, no matter if previous Observable completed or ended with an error. This will\n * be happening until there is no more Observables left in the series, at which point returned Observable will\n * complete - even if the last subscribed stream ended with an error.\n *\n * `onErrorResumeNext` can be therefore thought of as version of {@link concat} operator, which is more permissive\n * when it comes to the errors emitted by its input Observables. While `concat` subscribes to the next Observable\n * in series only if previous one successfully completed, `onErrorResumeNext` subscribes even if it ended with\n * an error.\n *\n * Note that you do not get any access to errors emitted by the Observables. In particular do not\n * expect these errors to appear in error callback passed to {@link subscribe}. If you want to take\n * specific actions based on what error was emitted by an Observable, you should try out {@link catch} instead.\n *\n *\n * @example <caption>Subscribe to the next Observable after map fails</caption>\n * Rx.Observable.of(1, 2, 3, 0)\n *   .map(x => {\n *       if (x === 0) { throw Error(); }\n         return 10 / x;\n *   })\n *   .onErrorResumeNext(Rx.Observable.of(1, 2, 3))\n *   .subscribe(\n *     val => console.log(val),\n *     err => console.log(err),          // Will never be called.\n *     () => console.log('that\\'s it!')\n *   );\n *\n * // Logs:\n * // 10\n * // 5\n * // 3.3333333333333335\n * // 1\n * // 2\n * // 3\n * // \"that's it!\"\n *\n * @see {@link concat}\n * @see {@link catch}\n *\n * @param {...ObservableInput} observables Observables passed either directly or as an array.\n * @return {Observable} An Observable that emits values from source Observable, but - if it errors - subscribes\n * to the next passed Observable and so on, until it completes or runs out of Observables.\n * @method onErrorResumeNext\n * @owner Observable\n */\nfunction onErrorResumeNext() {\n    var nextSources = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        nextSources[_i - 0] = arguments[_i];\n    }\n    if (nextSources.length === 1 && isArray_1.isArray(nextSources[0])) {\n        nextSources = nextSources[0];\n    }\n    return function (source) { return source.lift(new OnErrorResumeNextOperator(nextSources)); };\n}\nexports.onErrorResumeNext = onErrorResumeNext;\n/* tslint:enable:max-line-length */\nfunction onErrorResumeNextStatic() {\n    var nextSources = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        nextSources[_i - 0] = arguments[_i];\n    }\n    var source = null;\n    if (nextSources.length === 1 && isArray_1.isArray(nextSources[0])) {\n        nextSources = nextSources[0];\n    }\n    source = nextSources.shift();\n    return new FromObservable_1.FromObservable(source, null).lift(new OnErrorResumeNextOperator(nextSources));\n}\nexports.onErrorResumeNextStatic = onErrorResumeNextStatic;\nvar OnErrorResumeNextOperator = (function () {\n    function OnErrorResumeNextOperator(nextSources) {\n        this.nextSources = nextSources;\n    }\n    OnErrorResumeNextOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new OnErrorResumeNextSubscriber(subscriber, this.nextSources));\n    };\n    return OnErrorResumeNextOperator;\n}());\nvar OnErrorResumeNextSubscriber = (function (_super) {\n    __extends(OnErrorResumeNextSubscriber, _super);\n    function OnErrorResumeNextSubscriber(destination, nextSources) {\n        _super.call(this, destination);\n        this.destination = destination;\n        this.nextSources = nextSources;\n    }\n    OnErrorResumeNextSubscriber.prototype.notifyError = function (error, innerSub) {\n        this.subscribeToNextSource();\n    };\n    OnErrorResumeNextSubscriber.prototype.notifyComplete = function (innerSub) {\n        this.subscribeToNextSource();\n    };\n    OnErrorResumeNextSubscriber.prototype._error = function (err) {\n        this.subscribeToNextSource();\n    };\n    OnErrorResumeNextSubscriber.prototype._complete = function () {\n        this.subscribeToNextSource();\n    };\n    OnErrorResumeNextSubscriber.prototype.subscribeToNextSource = function () {\n        var next = this.nextSources.shift();\n        if (next) {\n            this.add(subscribeToResult_1.subscribeToResult(this, next));\n        }\n        else {\n            this.destination.complete();\n        }\n    };\n    return OnErrorResumeNextSubscriber;\n}(OuterSubscriber_1.OuterSubscriber));\n//# sourceMappingURL=onErrorResumeNext.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar Subscriber_1 = require('../Subscriber');\n/**\n * Groups pairs of consecutive emissions together and emits them as an array of\n * two values.\n *\n * <span class=\"informal\">Puts the current value and previous value together as\n * an array, and emits that.</span>\n *\n * <img src=\"./img/pairwise.png\" width=\"100%\">\n *\n * The Nth emission from the source Observable will cause the output Observable\n * to emit an array [(N-1)th, Nth] of the previous and the current value, as a\n * pair. For this reason, `pairwise` emits on the second and subsequent\n * emissions from the source Observable, but not on the first emission, because\n * there is no previous value in that case.\n *\n * @example <caption>On every click (starting from the second), emit the relative distance to the previous click</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var pairs = clicks.pairwise();\n * var distance = pairs.map(pair => {\n *   var x0 = pair[0].clientX;\n *   var y0 = pair[0].clientY;\n *   var x1 = pair[1].clientX;\n *   var y1 = pair[1].clientY;\n *   return Math.sqrt(Math.pow(x0 - x1, 2) + Math.pow(y0 - y1, 2));\n * });\n * distance.subscribe(x => console.log(x));\n *\n * @see {@link buffer}\n * @see {@link bufferCount}\n *\n * @return {Observable<Array<T>>} An Observable of pairs (as arrays) of\n * consecutive values from the source Observable.\n * @method pairwise\n * @owner Observable\n */\nfunction pairwise() {\n    return function (source) { return source.lift(new PairwiseOperator()); };\n}\nexports.pairwise = pairwise;\nvar PairwiseOperator = (function () {\n    function PairwiseOperator() {\n    }\n    PairwiseOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new PairwiseSubscriber(subscriber));\n    };\n    return PairwiseOperator;\n}());\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar PairwiseSubscriber = (function (_super) {\n    __extends(PairwiseSubscriber, _super);\n    function PairwiseSubscriber(destination) {\n        _super.call(this, destination);\n        this.hasPrev = false;\n    }\n    PairwiseSubscriber.prototype._next = function (value) {\n        if (this.hasPrev) {\n            this.destination.next([this.prev, value]);\n        }\n        else {\n            this.hasPrev = true;\n        }\n        this.prev = value;\n    };\n    return PairwiseSubscriber;\n}(Subscriber_1.Subscriber));\n//# sourceMappingURL=pairwise.js.map","\"use strict\";\nvar not_1 = require('../util/not');\nvar filter_1 = require('./filter');\n/**\n * Splits the source Observable into two, one with values that satisfy a\n * predicate, and another with values that don't satisfy the predicate.\n *\n * <span class=\"informal\">It's like {@link filter}, but returns two Observables:\n * one like the output of {@link filter}, and the other with values that did not\n * pass the condition.</span>\n *\n * <img src=\"./img/partition.png\" width=\"100%\">\n *\n * `partition` outputs an array with two Observables that partition the values\n * from the source Observable through the given `predicate` function. The first\n * Observable in that array emits source values for which the predicate argument\n * returns true. The second Observable emits source values for which the\n * predicate returns false. The first behaves like {@link filter} and the second\n * behaves like {@link filter} with the predicate negated.\n *\n * @example <caption>Partition click events into those on DIV elements and those elsewhere</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var parts = clicks.partition(ev => ev.target.tagName === 'DIV');\n * var clicksOnDivs = parts[0];\n * var clicksElsewhere = parts[1];\n * clicksOnDivs.subscribe(x => console.log('DIV clicked: ', x));\n * clicksElsewhere.subscribe(x => console.log('Other clicked: ', x));\n *\n * @see {@link filter}\n *\n * @param {function(value: T, index: number): boolean} predicate A function that\n * evaluates each value emitted by the source Observable. If it returns `true`,\n * the value is emitted on the first Observable in the returned array, if\n * `false` the value is emitted on the second Observable in the array. The\n * `index` parameter is the number `i` for the i-th source emission that has\n * happened since the subscription, starting from the number `0`.\n * @param {any} [thisArg] An optional argument to determine the value of `this`\n * in the `predicate` function.\n * @return {[Observable<T>, Observable<T>]} An array with two Observables: one\n * with values that passed the predicate, and another with values that did not\n * pass the predicate.\n * @method partition\n * @owner Observable\n */\nfunction partition(predicate, thisArg) {\n    return function (source) { return [\n        filter_1.filter(predicate, thisArg)(source),\n        filter_1.filter(not_1.not(predicate, thisArg))(source)\n    ]; };\n}\nexports.partition = partition;\n//# sourceMappingURL=partition.js.map","\"use strict\";\nvar map_1 = require('./map');\n/**\n * Maps each source value (an object) to its specified nested property.\n *\n * <span class=\"informal\">Like {@link map}, but meant only for picking one of\n * the nested properties of every emitted object.</span>\n *\n * <img src=\"./img/pluck.png\" width=\"100%\">\n *\n * Given a list of strings describing a path to an object property, retrieves\n * the value of a specified nested property from all values in the source\n * Observable. If a property can't be resolved, it will return `undefined` for\n * that value.\n *\n * @example <caption>Map every click to the tagName of the clicked target element</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var tagNames = clicks.pluck('target', 'tagName');\n * tagNames.subscribe(x => console.log(x));\n *\n * @see {@link map}\n *\n * @param {...string} properties The nested properties to pluck from each source\n * value (an object).\n * @return {Observable} A new Observable of property values from the source values.\n * @method pluck\n * @owner Observable\n */\nfunction pluck() {\n    var properties = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        properties[_i - 0] = arguments[_i];\n    }\n    var length = properties.length;\n    if (length === 0) {\n        throw new Error('list of properties cannot be empty.');\n    }\n    return function (source) { return map_1.map(plucker(properties, length))(source); };\n}\nexports.pluck = pluck;\nfunction plucker(props, length) {\n    var mapper = function (x) {\n        var currentProp = x;\n        for (var i = 0; i < length; i++) {\n            var p = currentProp[props[i]];\n            if (typeof p !== 'undefined') {\n                currentProp = p;\n            }\n            else {\n                return undefined;\n            }\n        }\n        return currentProp;\n    };\n    return mapper;\n}\n//# sourceMappingURL=pluck.js.map","\"use strict\";\nvar Subject_1 = require('../Subject');\nvar multicast_1 = require('./multicast');\n/* tslint:enable:max-line-length */\n/**\n * Returns a ConnectableObservable, which is a variety of Observable that waits until its connect method is called\n * before it begins emitting items to those Observers that have subscribed to it.\n *\n * <img src=\"./img/publish.png\" width=\"100%\">\n *\n * @param {Function} [selector] - Optional selector function which can use the multicasted source sequence as many times\n * as needed, without causing multiple subscriptions to the source sequence.\n * Subscribers to the given source will receive all notifications of the source from the time of the subscription on.\n * @return A ConnectableObservable that upon connection causes the source Observable to emit items to its Observers.\n * @method publish\n * @owner Observable\n */\nfunction publish(selector) {\n    return selector ?\n        multicast_1.multicast(function () { return new Subject_1.Subject(); }, selector) :\n        multicast_1.multicast(new Subject_1.Subject());\n}\nexports.publish = publish;\n//# sourceMappingURL=publish.js.map","\"use strict\";\nvar BehaviorSubject_1 = require('../BehaviorSubject');\nvar multicast_1 = require('./multicast');\n/**\n * @param value\n * @return {ConnectableObservable<T>}\n * @method publishBehavior\n * @owner Observable\n */\nfunction publishBehavior(value) {\n    return function (source) { return multicast_1.multicast(new BehaviorSubject_1.BehaviorSubject(value))(source); };\n}\nexports.publishBehavior = publishBehavior;\n//# sourceMappingURL=publishBehavior.js.map","\"use strict\";\nvar AsyncSubject_1 = require('../AsyncSubject');\nvar multicast_1 = require('./multicast');\nfunction publishLast() {\n    return function (source) { return multicast_1.multicast(new AsyncSubject_1.AsyncSubject())(source); };\n}\nexports.publishLast = publishLast;\n//# sourceMappingURL=publishLast.js.map","\"use strict\";\nvar ReplaySubject_1 = require('../ReplaySubject');\nvar multicast_1 = require('./multicast');\n/* tslint:enable:max-line-length */\nfunction publishReplay(bufferSize, windowTime, selectorOrScheduler, scheduler) {\n    if (selectorOrScheduler && typeof selectorOrScheduler !== 'function') {\n        scheduler = selectorOrScheduler;\n    }\n    var selector = typeof selectorOrScheduler === 'function' ? selectorOrScheduler : undefined;\n    var subject = new ReplaySubject_1.ReplaySubject(bufferSize, windowTime, scheduler);\n    return function (source) { return multicast_1.multicast(function () { return subject; }, selector)(source); };\n}\nexports.publishReplay = publishReplay;\n//# sourceMappingURL=publishReplay.js.map","\"use strict\";\nvar isArray_1 = require('../util/isArray');\nvar race_1 = require('../observable/race');\n/* tslint:enable:max-line-length */\n/**\n * Returns an Observable that mirrors the first source Observable to emit an item\n * from the combination of this Observable and supplied Observables.\n * @param {...Observables} ...observables Sources used to race for which Observable emits first.\n * @return {Observable} An Observable that mirrors the output of the first Observable to emit an item.\n * @method race\n * @owner Observable\n */\nfunction race() {\n    var observables = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        observables[_i - 0] = arguments[_i];\n    }\n    return function raceOperatorFunction(source) {\n        // if the only argument is an array, it was most likely called with\n        // `pair([obs1, obs2, ...])`\n        if (observables.length === 1 && isArray_1.isArray(observables[0])) {\n            observables = observables[0];\n        }\n        return source.lift.call(race_1.race.apply(void 0, [source].concat(observables)));\n    };\n}\nexports.race = race;\n//# sourceMappingURL=race.js.map","\"use strict\";\nvar scan_1 = require('./scan');\nvar takeLast_1 = require('./takeLast');\nvar defaultIfEmpty_1 = require('./defaultIfEmpty');\nvar pipe_1 = require('../util/pipe');\n/* tslint:enable:max-line-length */\n/**\n * Applies an accumulator function over the source Observable, and returns the\n * accumulated result when the source completes, given an optional seed value.\n *\n * <span class=\"informal\">Combines together all values emitted on the source,\n * using an accumulator function that knows how to join a new source value into\n * the accumulation from the past.</span>\n *\n * <img src=\"./img/reduce.png\" width=\"100%\">\n *\n * Like\n * [Array.prototype.reduce()](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/reduce),\n * `reduce` applies an `accumulator` function against an accumulation and each\n * value of the source Observable (from the past) to reduce it to a single\n * value, emitted on the output Observable. Note that `reduce` will only emit\n * one value, only when the source Observable completes. It is equivalent to\n * applying operator {@link scan} followed by operator {@link last}.\n *\n * Returns an Observable that applies a specified `accumulator` function to each\n * item emitted by the source Observable. If a `seed` value is specified, then\n * that value will be used as the initial value for the accumulator. If no seed\n * value is specified, the first item of the source is used as the seed.\n *\n * @example <caption>Count the number of click events that happened in 5 seconds</caption>\n * var clicksInFiveSeconds = Rx.Observable.fromEvent(document, 'click')\n *   .takeUntil(Rx.Observable.interval(5000));\n * var ones = clicksInFiveSeconds.mapTo(1);\n * var seed = 0;\n * var count = ones.reduce((acc, one) => acc + one, seed);\n * count.subscribe(x => console.log(x));\n *\n * @see {@link count}\n * @see {@link expand}\n * @see {@link mergeScan}\n * @see {@link scan}\n *\n * @param {function(acc: R, value: T, index: number): R} accumulator The accumulator function\n * called on each source value.\n * @param {R} [seed] The initial accumulation value.\n * @return {Observable<R>} An Observable that emits a single value that is the\n * result of accumulating the values emitted by the source Observable.\n * @method reduce\n * @owner Observable\n */\nfunction reduce(accumulator, seed) {\n    // providing a seed of `undefined` *should* be valid and trigger\n    // hasSeed! so don't use `seed !== undefined` checks!\n    // For this reason, we have to check it here at the original call site\n    // otherwise inside Operator/Subscriber we won't know if `undefined`\n    // means they didn't provide anything or if they literally provided `undefined`\n    if (arguments.length >= 2) {\n        return function reduceOperatorFunctionWithSeed(source) {\n            return pipe_1.pipe(scan_1.scan(accumulator, seed), takeLast_1.takeLast(1), defaultIfEmpty_1.defaultIfEmpty(seed))(source);\n        };\n    }\n    return function reduceOperatorFunction(source) {\n        return pipe_1.pipe(scan_1.scan(function (acc, value, index) {\n            return accumulator(acc, value, index + 1);\n        }), takeLast_1.takeLast(1))(source);\n    };\n}\nexports.reduce = reduce;\n//# sourceMappingURL=reduce.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar Subscriber_1 = require('../Subscriber');\nfunction refCount() {\n    return function refCountOperatorFunction(source) {\n        return source.lift(new RefCountOperator(source));\n    };\n}\nexports.refCount = refCount;\nvar RefCountOperator = (function () {\n    function RefCountOperator(connectable) {\n        this.connectable = connectable;\n    }\n    RefCountOperator.prototype.call = function (subscriber, source) {\n        var connectable = this.connectable;\n        connectable._refCount++;\n        var refCounter = new RefCountSubscriber(subscriber, connectable);\n        var subscription = source.subscribe(refCounter);\n        if (!refCounter.closed) {\n            refCounter.connection = connectable.connect();\n        }\n        return subscription;\n    };\n    return RefCountOperator;\n}());\nvar RefCountSubscriber = (function (_super) {\n    __extends(RefCountSubscriber, _super);\n    function RefCountSubscriber(destination, connectable) {\n        _super.call(this, destination);\n        this.connectable = connectable;\n    }\n    /** @deprecated internal use only */ RefCountSubscriber.prototype._unsubscribe = function () {\n        var connectable = this.connectable;\n        if (!connectable) {\n            this.connection = null;\n            return;\n        }\n        this.connectable = null;\n        var refCount = connectable._refCount;\n        if (refCount <= 0) {\n            this.connection = null;\n            return;\n        }\n        connectable._refCount = refCount - 1;\n        if (refCount > 1) {\n            this.connection = null;\n            return;\n        }\n        ///\n        // Compare the local RefCountSubscriber's connection Subscription to the\n        // connection Subscription on the shared ConnectableObservable. In cases\n        // where the ConnectableObservable source synchronously emits values, and\n        // the RefCountSubscriber's downstream Observers synchronously unsubscribe,\n        // execution continues to here before the RefCountOperator has a chance to\n        // supply the RefCountSubscriber with the shared connection Subscription.\n        // For example:\n        // ```\n        // Observable.range(0, 10)\n        //   .publish()\n        //   .refCount()\n        //   .take(5)\n        //   .subscribe();\n        // ```\n        // In order to account for this case, RefCountSubscriber should only dispose\n        // the ConnectableObservable's shared connection Subscription if the\n        // connection Subscription exists, *and* either:\n        //   a. RefCountSubscriber doesn't have a reference to the shared connection\n        //      Subscription yet, or,\n        //   b. RefCountSubscriber's connection Subscription reference is identical\n        //      to the shared connection Subscription\n        ///\n        var connection = this.connection;\n        var sharedConnection = connectable._connection;\n        this.connection = null;\n        if (sharedConnection && (!connection || sharedConnection === connection)) {\n            sharedConnection.unsubscribe();\n        }\n    };\n    return RefCountSubscriber;\n}(Subscriber_1.Subscriber));\n//# sourceMappingURL=refCount.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar Subscriber_1 = require('../Subscriber');\nvar EmptyObservable_1 = require('../observable/EmptyObservable');\n/**\n * Returns an Observable that repeats the stream of items emitted by the source Observable at most count times.\n *\n * <img src=\"./img/repeat.png\" width=\"100%\">\n *\n * @param {number} [count] The number of times the source Observable items are repeated, a count of 0 will yield\n * an empty Observable.\n * @return {Observable} An Observable that repeats the stream of items emitted by the source Observable at most\n * count times.\n * @method repeat\n * @owner Observable\n */\nfunction repeat(count) {\n    if (count === void 0) { count = -1; }\n    return function (source) {\n        if (count === 0) {\n            return new EmptyObservable_1.EmptyObservable();\n        }\n        else if (count < 0) {\n            return source.lift(new RepeatOperator(-1, source));\n        }\n        else {\n            return source.lift(new RepeatOperator(count - 1, source));\n        }\n    };\n}\nexports.repeat = repeat;\nvar RepeatOperator = (function () {\n    function RepeatOperator(count, source) {\n        this.count = count;\n        this.source = source;\n    }\n    RepeatOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new RepeatSubscriber(subscriber, this.count, this.source));\n    };\n    return RepeatOperator;\n}());\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar RepeatSubscriber = (function (_super) {\n    __extends(RepeatSubscriber, _super);\n    function RepeatSubscriber(destination, count, source) {\n        _super.call(this, destination);\n        this.count = count;\n        this.source = source;\n    }\n    RepeatSubscriber.prototype.complete = function () {\n        if (!this.isStopped) {\n            var _a = this, source = _a.source, count = _a.count;\n            if (count === 0) {\n                return _super.prototype.complete.call(this);\n            }\n            else if (count > -1) {\n                this.count = count - 1;\n            }\n            source.subscribe(this._unsubscribeAndRecycle());\n        }\n    };\n    return RepeatSubscriber;\n}(Subscriber_1.Subscriber));\n//# sourceMappingURL=repeat.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar Subject_1 = require('../Subject');\nvar tryCatch_1 = require('../util/tryCatch');\nvar errorObject_1 = require('../util/errorObject');\nvar OuterSubscriber_1 = require('../OuterSubscriber');\nvar subscribeToResult_1 = require('../util/subscribeToResult');\n/**\n * Returns an Observable that mirrors the source Observable with the exception of a `complete`. If the source\n * Observable calls `complete`, this method will emit to the Observable returned from `notifier`. If that Observable\n * calls `complete` or `error`, then this method will call `complete` or `error` on the child subscription. Otherwise\n * this method will resubscribe to the source Observable.\n *\n * <img src=\"./img/repeatWhen.png\" width=\"100%\">\n *\n * @param {function(notifications: Observable): Observable} notifier - Receives an Observable of notifications with\n * which a user can `complete` or `error`, aborting the repetition.\n * @return {Observable} The source Observable modified with repeat logic.\n * @method repeatWhen\n * @owner Observable\n */\nfunction repeatWhen(notifier) {\n    return function (source) { return source.lift(new RepeatWhenOperator(notifier)); };\n}\nexports.repeatWhen = repeatWhen;\nvar RepeatWhenOperator = (function () {\n    function RepeatWhenOperator(notifier) {\n        this.notifier = notifier;\n    }\n    RepeatWhenOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new RepeatWhenSubscriber(subscriber, this.notifier, source));\n    };\n    return RepeatWhenOperator;\n}());\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar RepeatWhenSubscriber = (function (_super) {\n    __extends(RepeatWhenSubscriber, _super);\n    function RepeatWhenSubscriber(destination, notifier, source) {\n        _super.call(this, destination);\n        this.notifier = notifier;\n        this.source = source;\n        this.sourceIsBeingSubscribedTo = true;\n    }\n    RepeatWhenSubscriber.prototype.notifyNext = function (outerValue, innerValue, outerIndex, innerIndex, innerSub) {\n        this.sourceIsBeingSubscribedTo = true;\n        this.source.subscribe(this);\n    };\n    RepeatWhenSubscriber.prototype.notifyComplete = function (innerSub) {\n        if (this.sourceIsBeingSubscribedTo === false) {\n            return _super.prototype.complete.call(this);\n        }\n    };\n    RepeatWhenSubscriber.prototype.complete = function () {\n        this.sourceIsBeingSubscribedTo = false;\n        if (!this.isStopped) {\n            if (!this.retries) {\n                this.subscribeToRetries();\n            }\n            if (!this.retriesSubscription || this.retriesSubscription.closed) {\n                return _super.prototype.complete.call(this);\n            }\n            this._unsubscribeAndRecycle();\n            this.notifications.next();\n        }\n    };\n    /** @deprecated internal use only */ RepeatWhenSubscriber.prototype._unsubscribe = function () {\n        var _a = this, notifications = _a.notifications, retriesSubscription = _a.retriesSubscription;\n        if (notifications) {\n            notifications.unsubscribe();\n            this.notifications = null;\n        }\n        if (retriesSubscription) {\n            retriesSubscription.unsubscribe();\n            this.retriesSubscription = null;\n        }\n        this.retries = null;\n    };\n    /** @deprecated internal use only */ RepeatWhenSubscriber.prototype._unsubscribeAndRecycle = function () {\n        var _a = this, notifications = _a.notifications, retries = _a.retries, retriesSubscription = _a.retriesSubscription;\n        this.notifications = null;\n        this.retries = null;\n        this.retriesSubscription = null;\n        _super.prototype._unsubscribeAndRecycle.call(this);\n        this.notifications = notifications;\n        this.retries = retries;\n        this.retriesSubscription = retriesSubscription;\n        return this;\n    };\n    RepeatWhenSubscriber.prototype.subscribeToRetries = function () {\n        this.notifications = new Subject_1.Subject();\n        var retries = tryCatch_1.tryCatch(this.notifier)(this.notifications);\n        if (retries === errorObject_1.errorObject) {\n            return _super.prototype.complete.call(this);\n        }\n        this.retries = retries;\n        this.retriesSubscription = subscribeToResult_1.subscribeToResult(this, retries);\n    };\n    return RepeatWhenSubscriber;\n}(OuterSubscriber_1.OuterSubscriber));\n//# sourceMappingURL=repeatWhen.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar Subscriber_1 = require('../Subscriber');\n/**\n * Returns an Observable that mirrors the source Observable with the exception of an `error`. If the source Observable\n * calls `error`, this method will resubscribe to the source Observable for a maximum of `count` resubscriptions (given\n * as a number parameter) rather than propagating the `error` call.\n *\n * <img src=\"./img/retry.png\" width=\"100%\">\n *\n * Any and all items emitted by the source Observable will be emitted by the resulting Observable, even those emitted\n * during failed subscriptions. For example, if an Observable fails at first but emits [1, 2] then succeeds the second\n * time and emits: [1, 2, 3, 4, 5] then the complete stream of emissions and notifications\n * would be: [1, 2, 1, 2, 3, 4, 5, `complete`].\n * @param {number} count - Number of retry attempts before failing.\n * @return {Observable} The source Observable modified with the retry logic.\n * @method retry\n * @owner Observable\n */\nfunction retry(count) {\n    if (count === void 0) { count = -1; }\n    return function (source) { return source.lift(new RetryOperator(count, source)); };\n}\nexports.retry = retry;\nvar RetryOperator = (function () {\n    function RetryOperator(count, source) {\n        this.count = count;\n        this.source = source;\n    }\n    RetryOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new RetrySubscriber(subscriber, this.count, this.source));\n    };\n    return RetryOperator;\n}());\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar RetrySubscriber = (function (_super) {\n    __extends(RetrySubscriber, _super);\n    function RetrySubscriber(destination, count, source) {\n        _super.call(this, destination);\n        this.count = count;\n        this.source = source;\n    }\n    RetrySubscriber.prototype.error = function (err) {\n        if (!this.isStopped) {\n            var _a = this, source = _a.source, count = _a.count;\n            if (count === 0) {\n                return _super.prototype.error.call(this, err);\n            }\n            else if (count > -1) {\n                this.count = count - 1;\n            }\n            source.subscribe(this._unsubscribeAndRecycle());\n        }\n    };\n    return RetrySubscriber;\n}(Subscriber_1.Subscriber));\n//# sourceMappingURL=retry.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar Subject_1 = require('../Subject');\nvar tryCatch_1 = require('../util/tryCatch');\nvar errorObject_1 = require('../util/errorObject');\nvar OuterSubscriber_1 = require('../OuterSubscriber');\nvar subscribeToResult_1 = require('../util/subscribeToResult');\n/**\n * Returns an Observable that mirrors the source Observable with the exception of an `error`. If the source Observable\n * calls `error`, this method will emit the Throwable that caused the error to the Observable returned from `notifier`.\n * If that Observable calls `complete` or `error` then this method will call `complete` or `error` on the child\n * subscription. Otherwise this method will resubscribe to the source Observable.\n *\n * <img src=\"./img/retryWhen.png\" width=\"100%\">\n *\n * @param {function(errors: Observable): Observable} notifier - Receives an Observable of notifications with which a\n * user can `complete` or `error`, aborting the retry.\n * @return {Observable} The source Observable modified with retry logic.\n * @method retryWhen\n * @owner Observable\n */\nfunction retryWhen(notifier) {\n    return function (source) { return source.lift(new RetryWhenOperator(notifier, source)); };\n}\nexports.retryWhen = retryWhen;\nvar RetryWhenOperator = (function () {\n    function RetryWhenOperator(notifier, source) {\n        this.notifier = notifier;\n        this.source = source;\n    }\n    RetryWhenOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new RetryWhenSubscriber(subscriber, this.notifier, this.source));\n    };\n    return RetryWhenOperator;\n}());\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar RetryWhenSubscriber = (function (_super) {\n    __extends(RetryWhenSubscriber, _super);\n    function RetryWhenSubscriber(destination, notifier, source) {\n        _super.call(this, destination);\n        this.notifier = notifier;\n        this.source = source;\n    }\n    RetryWhenSubscriber.prototype.error = function (err) {\n        if (!this.isStopped) {\n            var errors = this.errors;\n            var retries = this.retries;\n            var retriesSubscription = this.retriesSubscription;\n            if (!retries) {\n                errors = new Subject_1.Subject();\n                retries = tryCatch_1.tryCatch(this.notifier)(errors);\n                if (retries === errorObject_1.errorObject) {\n                    return _super.prototype.error.call(this, errorObject_1.errorObject.e);\n                }\n                retriesSubscription = subscribeToResult_1.subscribeToResult(this, retries);\n            }\n            else {\n                this.errors = null;\n                this.retriesSubscription = null;\n            }\n            this._unsubscribeAndRecycle();\n            this.errors = errors;\n            this.retries = retries;\n            this.retriesSubscription = retriesSubscription;\n            errors.next(err);\n        }\n    };\n    /** @deprecated internal use only */ RetryWhenSubscriber.prototype._unsubscribe = function () {\n        var _a = this, errors = _a.errors, retriesSubscription = _a.retriesSubscription;\n        if (errors) {\n            errors.unsubscribe();\n            this.errors = null;\n        }\n        if (retriesSubscription) {\n            retriesSubscription.unsubscribe();\n            this.retriesSubscription = null;\n        }\n        this.retries = null;\n    };\n    RetryWhenSubscriber.prototype.notifyNext = function (outerValue, innerValue, outerIndex, innerIndex, innerSub) {\n        var _a = this, errors = _a.errors, retries = _a.retries, retriesSubscription = _a.retriesSubscription;\n        this.errors = null;\n        this.retries = null;\n        this.retriesSubscription = null;\n        this._unsubscribeAndRecycle();\n        this.errors = errors;\n        this.retries = retries;\n        this.retriesSubscription = retriesSubscription;\n        this.source.subscribe(this);\n    };\n    return RetryWhenSubscriber;\n}(OuterSubscriber_1.OuterSubscriber));\n//# sourceMappingURL=retryWhen.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar OuterSubscriber_1 = require('../OuterSubscriber');\nvar subscribeToResult_1 = require('../util/subscribeToResult');\n/**\n * Emits the most recently emitted value from the source Observable whenever\n * another Observable, the `notifier`, emits.\n *\n * <span class=\"informal\">It's like {@link sampleTime}, but samples whenever\n * the `notifier` Observable emits something.</span>\n *\n * <img src=\"./img/sample.png\" width=\"100%\">\n *\n * Whenever the `notifier` Observable emits a value or completes, `sample`\n * looks at the source Observable and emits whichever value it has most recently\n * emitted since the previous sampling, unless the source has not emitted\n * anything since the previous sampling. The `notifier` is subscribed to as soon\n * as the output Observable is subscribed.\n *\n * @example <caption>On every click, sample the most recent \"seconds\" timer</caption>\n * var seconds = Rx.Observable.interval(1000);\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var result = seconds.sample(clicks);\n * result.subscribe(x => console.log(x));\n *\n * @see {@link audit}\n * @see {@link debounce}\n * @see {@link sampleTime}\n * @see {@link throttle}\n *\n * @param {Observable<any>} notifier The Observable to use for sampling the\n * source Observable.\n * @return {Observable<T>} An Observable that emits the results of sampling the\n * values emitted by the source Observable whenever the notifier Observable\n * emits value or completes.\n * @method sample\n * @owner Observable\n */\nfunction sample(notifier) {\n    return function (source) { return source.lift(new SampleOperator(notifier)); };\n}\nexports.sample = sample;\nvar SampleOperator = (function () {\n    function SampleOperator(notifier) {\n        this.notifier = notifier;\n    }\n    SampleOperator.prototype.call = function (subscriber, source) {\n        var sampleSubscriber = new SampleSubscriber(subscriber);\n        var subscription = source.subscribe(sampleSubscriber);\n        subscription.add(subscribeToResult_1.subscribeToResult(sampleSubscriber, this.notifier));\n        return subscription;\n    };\n    return SampleOperator;\n}());\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar SampleSubscriber = (function (_super) {\n    __extends(SampleSubscriber, _super);\n    function SampleSubscriber() {\n        _super.apply(this, arguments);\n        this.hasValue = false;\n    }\n    SampleSubscriber.prototype._next = function (value) {\n        this.value = value;\n        this.hasValue = true;\n    };\n    SampleSubscriber.prototype.notifyNext = function (outerValue, innerValue, outerIndex, innerIndex, innerSub) {\n        this.emitValue();\n    };\n    SampleSubscriber.prototype.notifyComplete = function () {\n        this.emitValue();\n    };\n    SampleSubscriber.prototype.emitValue = function () {\n        if (this.hasValue) {\n            this.hasValue = false;\n            this.destination.next(this.value);\n        }\n    };\n    return SampleSubscriber;\n}(OuterSubscriber_1.OuterSubscriber));\n//# sourceMappingURL=sample.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar Subscriber_1 = require('../Subscriber');\nvar async_1 = require('../scheduler/async');\n/**\n * Emits the most recently emitted value from the source Observable within\n * periodic time intervals.\n *\n * <span class=\"informal\">Samples the source Observable at periodic time\n * intervals, emitting what it samples.</span>\n *\n * <img src=\"./img/sampleTime.png\" width=\"100%\">\n *\n * `sampleTime` periodically looks at the source Observable and emits whichever\n * value it has most recently emitted since the previous sampling, unless the\n * source has not emitted anything since the previous sampling. The sampling\n * happens periodically in time every `period` milliseconds (or the time unit\n * defined by the optional `scheduler` argument). The sampling starts as soon as\n * the output Observable is subscribed.\n *\n * @example <caption>Every second, emit the most recent click at most once</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var result = clicks.sampleTime(1000);\n * result.subscribe(x => console.log(x));\n *\n * @see {@link auditTime}\n * @see {@link debounceTime}\n * @see {@link delay}\n * @see {@link sample}\n * @see {@link throttleTime}\n *\n * @param {number} period The sampling period expressed in milliseconds or the\n * time unit determined internally by the optional `scheduler`.\n * @param {Scheduler} [scheduler=async] The {@link IScheduler} to use for\n * managing the timers that handle the sampling.\n * @return {Observable<T>} An Observable that emits the results of sampling the\n * values emitted by the source Observable at the specified time interval.\n * @method sampleTime\n * @owner Observable\n */\nfunction sampleTime(period, scheduler) {\n    if (scheduler === void 0) { scheduler = async_1.async; }\n    return function (source) { return source.lift(new SampleTimeOperator(period, scheduler)); };\n}\nexports.sampleTime = sampleTime;\nvar SampleTimeOperator = (function () {\n    function SampleTimeOperator(period, scheduler) {\n        this.period = period;\n        this.scheduler = scheduler;\n    }\n    SampleTimeOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new SampleTimeSubscriber(subscriber, this.period, this.scheduler));\n    };\n    return SampleTimeOperator;\n}());\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar SampleTimeSubscriber = (function (_super) {\n    __extends(SampleTimeSubscriber, _super);\n    function SampleTimeSubscriber(destination, period, scheduler) {\n        _super.call(this, destination);\n        this.period = period;\n        this.scheduler = scheduler;\n        this.hasValue = false;\n        this.add(scheduler.schedule(dispatchNotification, period, { subscriber: this, period: period }));\n    }\n    SampleTimeSubscriber.prototype._next = function (value) {\n        this.lastValue = value;\n        this.hasValue = true;\n    };\n    SampleTimeSubscriber.prototype.notifyNext = function () {\n        if (this.hasValue) {\n            this.hasValue = false;\n            this.destination.next(this.lastValue);\n        }\n    };\n    return SampleTimeSubscriber;\n}(Subscriber_1.Subscriber));\nfunction dispatchNotification(state) {\n    var subscriber = state.subscriber, period = state.period;\n    subscriber.notifyNext();\n    this.schedule(state, period);\n}\n//# sourceMappingURL=sampleTime.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar Subscriber_1 = require('../Subscriber');\n/* tslint:enable:max-line-length */\n/**\n * Applies an accumulator function over the source Observable, and returns each\n * intermediate result, with an optional seed value.\n *\n * <span class=\"informal\">It's like {@link reduce}, but emits the current\n * accumulation whenever the source emits a value.</span>\n *\n * <img src=\"./img/scan.png\" width=\"100%\">\n *\n * Combines together all values emitted on the source, using an accumulator\n * function that knows how to join a new source value into the accumulation from\n * the past. Is similar to {@link reduce}, but emits the intermediate\n * accumulations.\n *\n * Returns an Observable that applies a specified `accumulator` function to each\n * item emitted by the source Observable. If a `seed` value is specified, then\n * that value will be used as the initial value for the accumulator. If no seed\n * value is specified, the first item of the source is used as the seed.\n *\n * @example <caption>Count the number of click events</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var ones = clicks.mapTo(1);\n * var seed = 0;\n * var count = ones.scan((acc, one) => acc + one, seed);\n * count.subscribe(x => console.log(x));\n *\n * @see {@link expand}\n * @see {@link mergeScan}\n * @see {@link reduce}\n *\n * @param {function(acc: R, value: T, index: number): R} accumulator\n * The accumulator function called on each source value.\n * @param {T|R} [seed] The initial accumulation value.\n * @return {Observable<R>} An observable of the accumulated values.\n * @method scan\n * @owner Observable\n */\nfunction scan(accumulator, seed) {\n    var hasSeed = false;\n    // providing a seed of `undefined` *should* be valid and trigger\n    // hasSeed! so don't use `seed !== undefined` checks!\n    // For this reason, we have to check it here at the original call site\n    // otherwise inside Operator/Subscriber we won't know if `undefined`\n    // means they didn't provide anything or if they literally provided `undefined`\n    if (arguments.length >= 2) {\n        hasSeed = true;\n    }\n    return function scanOperatorFunction(source) {\n        return source.lift(new ScanOperator(accumulator, seed, hasSeed));\n    };\n}\nexports.scan = scan;\nvar ScanOperator = (function () {\n    function ScanOperator(accumulator, seed, hasSeed) {\n        if (hasSeed === void 0) { hasSeed = false; }\n        this.accumulator = accumulator;\n        this.seed = seed;\n        this.hasSeed = hasSeed;\n    }\n    ScanOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new ScanSubscriber(subscriber, this.accumulator, this.seed, this.hasSeed));\n    };\n    return ScanOperator;\n}());\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar ScanSubscriber = (function (_super) {\n    __extends(ScanSubscriber, _super);\n    function ScanSubscriber(destination, accumulator, _seed, hasSeed) {\n        _super.call(this, destination);\n        this.accumulator = accumulator;\n        this._seed = _seed;\n        this.hasSeed = hasSeed;\n        this.index = 0;\n    }\n    Object.defineProperty(ScanSubscriber.prototype, \"seed\", {\n        get: function () {\n            return this._seed;\n        },\n        set: function (value) {\n            this.hasSeed = true;\n            this._seed = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    ScanSubscriber.prototype._next = function (value) {\n        if (!this.hasSeed) {\n            this.seed = value;\n            this.destination.next(value);\n        }\n        else {\n            return this._tryNext(value);\n        }\n    };\n    ScanSubscriber.prototype._tryNext = function (value) {\n        var index = this.index++;\n        var result;\n        try {\n            result = this.accumulator(this.seed, value, index);\n        }\n        catch (err) {\n            this.destination.error(err);\n        }\n        this.seed = result;\n        this.destination.next(result);\n    };\n    return ScanSubscriber;\n}(Subscriber_1.Subscriber));\n//# sourceMappingURL=scan.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar Subscriber_1 = require('../Subscriber');\nvar tryCatch_1 = require('../util/tryCatch');\nvar errorObject_1 = require('../util/errorObject');\n/**\n * Compares all values of two observables in sequence using an optional comparor function\n * and returns an observable of a single boolean value representing whether or not the two sequences\n * are equal.\n *\n * <span class=\"informal\">Checks to see of all values emitted by both observables are equal, in order.</span>\n *\n * <img src=\"./img/sequenceEqual.png\" width=\"100%\">\n *\n * `sequenceEqual` subscribes to two observables and buffers incoming values from each observable. Whenever either\n * observable emits a value, the value is buffered and the buffers are shifted and compared from the bottom\n * up; If any value pair doesn't match, the returned observable will emit `false` and complete. If one of the\n * observables completes, the operator will wait for the other observable to complete; If the other\n * observable emits before completing, the returned observable will emit `false` and complete. If one observable never\n * completes or emits after the other complets, the returned observable will never complete.\n *\n * @example <caption>figure out if the Konami code matches</caption>\n * var code = Rx.Observable.from([\n *  \"ArrowUp\",\n *  \"ArrowUp\",\n *  \"ArrowDown\",\n *  \"ArrowDown\",\n *  \"ArrowLeft\",\n *  \"ArrowRight\",\n *  \"ArrowLeft\",\n *  \"ArrowRight\",\n *  \"KeyB\",\n *  \"KeyA\",\n *  \"Enter\" // no start key, clearly.\n * ]);\n *\n * var keys = Rx.Observable.fromEvent(document, 'keyup')\n *  .map(e => e.code);\n * var matches = keys.bufferCount(11, 1)\n *  .mergeMap(\n *    last11 =>\n *      Rx.Observable.from(last11)\n *        .sequenceEqual(code)\n *   );\n * matches.subscribe(matched => console.log('Successful cheat at Contra? ', matched));\n *\n * @see {@link combineLatest}\n * @see {@link zip}\n * @see {@link withLatestFrom}\n *\n * @param {Observable} compareTo The observable sequence to compare the source sequence to.\n * @param {function} [comparor] An optional function to compare each value pair\n * @return {Observable} An Observable of a single boolean value representing whether or not\n * the values emitted by both observables were equal in sequence.\n * @method sequenceEqual\n * @owner Observable\n */\nfunction sequenceEqual(compareTo, comparor) {\n    return function (source) { return source.lift(new SequenceEqualOperator(compareTo, comparor)); };\n}\nexports.sequenceEqual = sequenceEqual;\nvar SequenceEqualOperator = (function () {\n    function SequenceEqualOperator(compareTo, comparor) {\n        this.compareTo = compareTo;\n        this.comparor = comparor;\n    }\n    SequenceEqualOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new SequenceEqualSubscriber(subscriber, this.compareTo, this.comparor));\n    };\n    return SequenceEqualOperator;\n}());\nexports.SequenceEqualOperator = SequenceEqualOperator;\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar SequenceEqualSubscriber = (function (_super) {\n    __extends(SequenceEqualSubscriber, _super);\n    function SequenceEqualSubscriber(destination, compareTo, comparor) {\n        _super.call(this, destination);\n        this.compareTo = compareTo;\n        this.comparor = comparor;\n        this._a = [];\n        this._b = [];\n        this._oneComplete = false;\n        this.add(compareTo.subscribe(new SequenceEqualCompareToSubscriber(destination, this)));\n    }\n    SequenceEqualSubscriber.prototype._next = function (value) {\n        if (this._oneComplete && this._b.length === 0) {\n            this.emit(false);\n        }\n        else {\n            this._a.push(value);\n            this.checkValues();\n        }\n    };\n    SequenceEqualSubscriber.prototype._complete = function () {\n        if (this._oneComplete) {\n            this.emit(this._a.length === 0 && this._b.length === 0);\n        }\n        else {\n            this._oneComplete = true;\n        }\n    };\n    SequenceEqualSubscriber.prototype.checkValues = function () {\n        var _c = this, _a = _c._a, _b = _c._b, comparor = _c.comparor;\n        while (_a.length > 0 && _b.length > 0) {\n            var a = _a.shift();\n            var b = _b.shift();\n            var areEqual = false;\n            if (comparor) {\n                areEqual = tryCatch_1.tryCatch(comparor)(a, b);\n                if (areEqual === errorObject_1.errorObject) {\n                    this.destination.error(errorObject_1.errorObject.e);\n                }\n            }\n            else {\n                areEqual = a === b;\n            }\n            if (!areEqual) {\n                this.emit(false);\n            }\n        }\n    };\n    SequenceEqualSubscriber.prototype.emit = function (value) {\n        var destination = this.destination;\n        destination.next(value);\n        destination.complete();\n    };\n    SequenceEqualSubscriber.prototype.nextB = function (value) {\n        if (this._oneComplete && this._a.length === 0) {\n            this.emit(false);\n        }\n        else {\n            this._b.push(value);\n            this.checkValues();\n        }\n    };\n    return SequenceEqualSubscriber;\n}(Subscriber_1.Subscriber));\nexports.SequenceEqualSubscriber = SequenceEqualSubscriber;\nvar SequenceEqualCompareToSubscriber = (function (_super) {\n    __extends(SequenceEqualCompareToSubscriber, _super);\n    function SequenceEqualCompareToSubscriber(destination, parent) {\n        _super.call(this, destination);\n        this.parent = parent;\n    }\n    SequenceEqualCompareToSubscriber.prototype._next = function (value) {\n        this.parent.nextB(value);\n    };\n    SequenceEqualCompareToSubscriber.prototype._error = function (err) {\n        this.parent.error(err);\n    };\n    SequenceEqualCompareToSubscriber.prototype._complete = function () {\n        this.parent._complete();\n    };\n    return SequenceEqualCompareToSubscriber;\n}(Subscriber_1.Subscriber));\n//# sourceMappingURL=sequenceEqual.js.map","\"use strict\";\nvar multicast_1 = require('./multicast');\nvar refCount_1 = require('./refCount');\nvar Subject_1 = require('../Subject');\nfunction shareSubjectFactory() {\n    return new Subject_1.Subject();\n}\n/**\n * Returns a new Observable that multicasts (shares) the original Observable. As long as there is at least one\n * Subscriber this Observable will be subscribed and emitting data. When all subscribers have unsubscribed it will\n * unsubscribe from the source Observable. Because the Observable is multicasting it makes the stream `hot`.\n * This is an alias for .multicast(() => new Subject()).refCount().\n *\n * <img src=\"./img/share.png\" width=\"100%\">\n *\n * @return {Observable<T>} An Observable that upon connection causes the source Observable to emit items to its Observers.\n * @method share\n * @owner Observable\n */\nfunction share() {\n    return function (source) { return refCount_1.refCount()(multicast_1.multicast(shareSubjectFactory)(source)); };\n}\nexports.share = share;\n;\n//# sourceMappingURL=share.js.map","\"use strict\";\nvar ReplaySubject_1 = require('../ReplaySubject');\n/**\n * @method shareReplay\n * @owner Observable\n */\nfunction shareReplay(bufferSize, windowTime, scheduler) {\n    return function (source) { return source.lift(shareReplayOperator(bufferSize, windowTime, scheduler)); };\n}\nexports.shareReplay = shareReplay;\nfunction shareReplayOperator(bufferSize, windowTime, scheduler) {\n    var subject;\n    var refCount = 0;\n    var subscription;\n    var hasError = false;\n    var isComplete = false;\n    return function shareReplayOperation(source) {\n        refCount++;\n        if (!subject || hasError) {\n            hasError = false;\n            subject = new ReplaySubject_1.ReplaySubject(bufferSize, windowTime, scheduler);\n            subscription = source.subscribe({\n                next: function (value) { subject.next(value); },\n                error: function (err) {\n                    hasError = true;\n                    subject.error(err);\n                },\n                complete: function () {\n                    isComplete = true;\n                    subject.complete();\n                },\n            });\n        }\n        var innerSub = subject.subscribe(this);\n        return function () {\n            refCount--;\n            innerSub.unsubscribe();\n            if (subscription && refCount === 0 && isComplete) {\n                subscription.unsubscribe();\n            }\n        };\n    };\n}\n;\n//# sourceMappingURL=shareReplay.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar Subscriber_1 = require('../Subscriber');\nvar EmptyError_1 = require('../util/EmptyError');\n/**\n * Returns an Observable that emits the single item emitted by the source Observable that matches a specified\n * predicate, if that Observable emits one such item. If the source Observable emits more than one such item or no\n * such items, notify of an IllegalArgumentException or NoSuchElementException respectively.\n *\n * <img src=\"./img/single.png\" width=\"100%\">\n *\n * @throws {EmptyError} Delivers an EmptyError to the Observer's `error`\n * callback if the Observable completes before any `next` notification was sent.\n * @param {Function} predicate - A predicate function to evaluate items emitted by the source Observable.\n * @return {Observable<T>} An Observable that emits the single item emitted by the source Observable that matches\n * the predicate.\n .\n * @method single\n * @owner Observable\n */\nfunction single(predicate) {\n    return function (source) { return source.lift(new SingleOperator(predicate, source)); };\n}\nexports.single = single;\nvar SingleOperator = (function () {\n    function SingleOperator(predicate, source) {\n        this.predicate = predicate;\n        this.source = source;\n    }\n    SingleOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new SingleSubscriber(subscriber, this.predicate, this.source));\n    };\n    return SingleOperator;\n}());\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar SingleSubscriber = (function (_super) {\n    __extends(SingleSubscriber, _super);\n    function SingleSubscriber(destination, predicate, source) {\n        _super.call(this, destination);\n        this.predicate = predicate;\n        this.source = source;\n        this.seenValue = false;\n        this.index = 0;\n    }\n    SingleSubscriber.prototype.applySingleValue = function (value) {\n        if (this.seenValue) {\n            this.destination.error('Sequence contains more than one element');\n        }\n        else {\n            this.seenValue = true;\n            this.singleValue = value;\n        }\n    };\n    SingleSubscriber.prototype._next = function (value) {\n        var index = this.index++;\n        if (this.predicate) {\n            this.tryNext(value, index);\n        }\n        else {\n            this.applySingleValue(value);\n        }\n    };\n    SingleSubscriber.prototype.tryNext = function (value, index) {\n        try {\n            if (this.predicate(value, index, this.source)) {\n                this.applySingleValue(value);\n            }\n        }\n        catch (err) {\n            this.destination.error(err);\n        }\n    };\n    SingleSubscriber.prototype._complete = function () {\n        var destination = this.destination;\n        if (this.index > 0) {\n            destination.next(this.seenValue ? this.singleValue : undefined);\n            destination.complete();\n        }\n        else {\n            destination.error(new EmptyError_1.EmptyError);\n        }\n    };\n    return SingleSubscriber;\n}(Subscriber_1.Subscriber));\n//# sourceMappingURL=single.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar Subscriber_1 = require('../Subscriber');\n/**\n * Returns an Observable that skips the first `count` items emitted by the source Observable.\n *\n * <img src=\"./img/skip.png\" width=\"100%\">\n *\n * @param {Number} count - The number of times, items emitted by source Observable should be skipped.\n * @return {Observable} An Observable that skips values emitted by the source Observable.\n *\n * @method skip\n * @owner Observable\n */\nfunction skip(count) {\n    return function (source) { return source.lift(new SkipOperator(count)); };\n}\nexports.skip = skip;\nvar SkipOperator = (function () {\n    function SkipOperator(total) {\n        this.total = total;\n    }\n    SkipOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new SkipSubscriber(subscriber, this.total));\n    };\n    return SkipOperator;\n}());\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar SkipSubscriber = (function (_super) {\n    __extends(SkipSubscriber, _super);\n    function SkipSubscriber(destination, total) {\n        _super.call(this, destination);\n        this.total = total;\n        this.count = 0;\n    }\n    SkipSubscriber.prototype._next = function (x) {\n        if (++this.count > this.total) {\n            this.destination.next(x);\n        }\n    };\n    return SkipSubscriber;\n}(Subscriber_1.Subscriber));\n//# sourceMappingURL=skip.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar Subscriber_1 = require('../Subscriber');\nvar ArgumentOutOfRangeError_1 = require('../util/ArgumentOutOfRangeError');\n/**\n * Skip the last `count` values emitted by the source Observable.\n *\n * <img src=\"./img/skipLast.png\" width=\"100%\">\n *\n * `skipLast` returns an Observable that accumulates a queue with a length\n * enough to store the first `count` values. As more values are received,\n * values are taken from the front of the queue and produced on the result\n * sequence. This causes values to be delayed.\n *\n * @example <caption>Skip the last 2 values of an Observable with many values</caption>\n * var many = Rx.Observable.range(1, 5);\n * var skipLastTwo = many.skipLast(2);\n * skipLastTwo.subscribe(x => console.log(x));\n *\n * // Results in:\n * // 1 2 3\n *\n * @see {@link skip}\n * @see {@link skipUntil}\n * @see {@link skipWhile}\n * @see {@link take}\n *\n * @throws {ArgumentOutOfRangeError} When using `skipLast(i)`, it throws\n * ArgumentOutOrRangeError if `i < 0`.\n *\n * @param {number} count Number of elements to skip from the end of the source Observable.\n * @returns {Observable<T>} An Observable that skips the last count values\n * emitted by the source Observable.\n * @method skipLast\n * @owner Observable\n */\nfunction skipLast(count) {\n    return function (source) { return source.lift(new SkipLastOperator(count)); };\n}\nexports.skipLast = skipLast;\nvar SkipLastOperator = (function () {\n    function SkipLastOperator(_skipCount) {\n        this._skipCount = _skipCount;\n        if (this._skipCount < 0) {\n            throw new ArgumentOutOfRangeError_1.ArgumentOutOfRangeError;\n        }\n    }\n    SkipLastOperator.prototype.call = function (subscriber, source) {\n        if (this._skipCount === 0) {\n            // If we don't want to skip any values then just subscribe\n            // to Subscriber without any further logic.\n            return source.subscribe(new Subscriber_1.Subscriber(subscriber));\n        }\n        else {\n            return source.subscribe(new SkipLastSubscriber(subscriber, this._skipCount));\n        }\n    };\n    return SkipLastOperator;\n}());\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar SkipLastSubscriber = (function (_super) {\n    __extends(SkipLastSubscriber, _super);\n    function SkipLastSubscriber(destination, _skipCount) {\n        _super.call(this, destination);\n        this._skipCount = _skipCount;\n        this._count = 0;\n        this._ring = new Array(_skipCount);\n    }\n    SkipLastSubscriber.prototype._next = function (value) {\n        var skipCount = this._skipCount;\n        var count = this._count++;\n        if (count < skipCount) {\n            this._ring[count] = value;\n        }\n        else {\n            var currentIndex = count % skipCount;\n            var ring = this._ring;\n            var oldValue = ring[currentIndex];\n            ring[currentIndex] = value;\n            this.destination.next(oldValue);\n        }\n    };\n    return SkipLastSubscriber;\n}(Subscriber_1.Subscriber));\n//# sourceMappingURL=skipLast.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar OuterSubscriber_1 = require('../OuterSubscriber');\nvar subscribeToResult_1 = require('../util/subscribeToResult');\n/**\n * Returns an Observable that skips items emitted by the source Observable until a second Observable emits an item.\n *\n * <img src=\"./img/skipUntil.png\" width=\"100%\">\n *\n * @param {Observable} notifier - The second Observable that has to emit an item before the source Observable's elements begin to\n * be mirrored by the resulting Observable.\n * @return {Observable<T>} An Observable that skips items from the source Observable until the second Observable emits\n * an item, then emits the remaining items.\n * @method skipUntil\n * @owner Observable\n */\nfunction skipUntil(notifier) {\n    return function (source) { return source.lift(new SkipUntilOperator(notifier)); };\n}\nexports.skipUntil = skipUntil;\nvar SkipUntilOperator = (function () {\n    function SkipUntilOperator(notifier) {\n        this.notifier = notifier;\n    }\n    SkipUntilOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new SkipUntilSubscriber(subscriber, this.notifier));\n    };\n    return SkipUntilOperator;\n}());\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar SkipUntilSubscriber = (function (_super) {\n    __extends(SkipUntilSubscriber, _super);\n    function SkipUntilSubscriber(destination, notifier) {\n        _super.call(this, destination);\n        this.hasValue = false;\n        this.isInnerStopped = false;\n        this.add(subscribeToResult_1.subscribeToResult(this, notifier));\n    }\n    SkipUntilSubscriber.prototype._next = function (value) {\n        if (this.hasValue) {\n            _super.prototype._next.call(this, value);\n        }\n    };\n    SkipUntilSubscriber.prototype._complete = function () {\n        if (this.isInnerStopped) {\n            _super.prototype._complete.call(this);\n        }\n        else {\n            this.unsubscribe();\n        }\n    };\n    SkipUntilSubscriber.prototype.notifyNext = function (outerValue, innerValue, outerIndex, innerIndex, innerSub) {\n        this.hasValue = true;\n    };\n    SkipUntilSubscriber.prototype.notifyComplete = function () {\n        this.isInnerStopped = true;\n        if (this.isStopped) {\n            _super.prototype._complete.call(this);\n        }\n    };\n    return SkipUntilSubscriber;\n}(OuterSubscriber_1.OuterSubscriber));\n//# sourceMappingURL=skipUntil.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar Subscriber_1 = require('../Subscriber');\n/**\n * Returns an Observable that skips all items emitted by the source Observable as long as a specified condition holds\n * true, but emits all further source items as soon as the condition becomes false.\n *\n * <img src=\"./img/skipWhile.png\" width=\"100%\">\n *\n * @param {Function} predicate - A function to test each item emitted from the source Observable.\n * @return {Observable<T>} An Observable that begins emitting items emitted by the source Observable when the\n * specified predicate becomes false.\n * @method skipWhile\n * @owner Observable\n */\nfunction skipWhile(predicate) {\n    return function (source) { return source.lift(new SkipWhileOperator(predicate)); };\n}\nexports.skipWhile = skipWhile;\nvar SkipWhileOperator = (function () {\n    function SkipWhileOperator(predicate) {\n        this.predicate = predicate;\n    }\n    SkipWhileOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new SkipWhileSubscriber(subscriber, this.predicate));\n    };\n    return SkipWhileOperator;\n}());\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar SkipWhileSubscriber = (function (_super) {\n    __extends(SkipWhileSubscriber, _super);\n    function SkipWhileSubscriber(destination, predicate) {\n        _super.call(this, destination);\n        this.predicate = predicate;\n        this.skipping = true;\n        this.index = 0;\n    }\n    SkipWhileSubscriber.prototype._next = function (value) {\n        var destination = this.destination;\n        if (this.skipping) {\n            this.tryCallPredicate(value);\n        }\n        if (!this.skipping) {\n            destination.next(value);\n        }\n    };\n    SkipWhileSubscriber.prototype.tryCallPredicate = function (value) {\n        try {\n            var result = this.predicate(value, this.index++);\n            this.skipping = Boolean(result);\n        }\n        catch (err) {\n            this.destination.error(err);\n        }\n    };\n    return SkipWhileSubscriber;\n}(Subscriber_1.Subscriber));\n//# sourceMappingURL=skipWhile.js.map","\"use strict\";\nvar ArrayObservable_1 = require('../observable/ArrayObservable');\nvar ScalarObservable_1 = require('../observable/ScalarObservable');\nvar EmptyObservable_1 = require('../observable/EmptyObservable');\nvar concat_1 = require('../observable/concat');\nvar isScheduler_1 = require('../util/isScheduler');\n/* tslint:enable:max-line-length */\n/**\n * Returns an Observable that emits the items you specify as arguments before it begins to emit\n * items emitted by the source Observable.\n *\n * <img src=\"./img/startWith.png\" width=\"100%\">\n *\n * @param {...T} values - Items you want the modified Observable to emit first.\n * @param {Scheduler} [scheduler] - A {@link IScheduler} to use for scheduling\n * the emissions of the `next` notifications.\n * @return {Observable} An Observable that emits the items in the specified Iterable and then emits the items\n * emitted by the source Observable.\n * @method startWith\n * @owner Observable\n */\nfunction startWith() {\n    var array = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        array[_i - 0] = arguments[_i];\n    }\n    return function (source) {\n        var scheduler = array[array.length - 1];\n        if (isScheduler_1.isScheduler(scheduler)) {\n            array.pop();\n        }\n        else {\n            scheduler = null;\n        }\n        var len = array.length;\n        if (len === 1) {\n            return concat_1.concat(new ScalarObservable_1.ScalarObservable(array[0], scheduler), source);\n        }\n        else if (len > 1) {\n            return concat_1.concat(new ArrayObservable_1.ArrayObservable(array, scheduler), source);\n        }\n        else {\n            return concat_1.concat(new EmptyObservable_1.EmptyObservable(scheduler), source);\n        }\n    };\n}\nexports.startWith = startWith;\n//# sourceMappingURL=startWith.js.map","\"use strict\";\nvar SubscribeOnObservable_1 = require('../observable/SubscribeOnObservable');\n/**\n * Asynchronously subscribes Observers to this Observable on the specified IScheduler.\n *\n * <img src=\"./img/subscribeOn.png\" width=\"100%\">\n *\n * @param {Scheduler} scheduler - The IScheduler to perform subscription actions on.\n * @return {Observable<T>} The source Observable modified so that its subscriptions happen on the specified IScheduler.\n .\n * @method subscribeOn\n * @owner Observable\n */\nfunction subscribeOn(scheduler, delay) {\n    if (delay === void 0) { delay = 0; }\n    return function subscribeOnOperatorFunction(source) {\n        return source.lift(new SubscribeOnOperator(scheduler, delay));\n    };\n}\nexports.subscribeOn = subscribeOn;\nvar SubscribeOnOperator = (function () {\n    function SubscribeOnOperator(scheduler, delay) {\n        this.scheduler = scheduler;\n        this.delay = delay;\n    }\n    SubscribeOnOperator.prototype.call = function (subscriber, source) {\n        return new SubscribeOnObservable_1.SubscribeOnObservable(source, this.delay, this.scheduler).subscribe(subscriber);\n    };\n    return SubscribeOnOperator;\n}());\n//# sourceMappingURL=subscribeOn.js.map","\"use strict\";\nvar switchMap_1 = require('./switchMap');\nvar identity_1 = require('../util/identity');\nfunction switchAll() {\n    return switchMap_1.switchMap(identity_1.identity);\n}\nexports.switchAll = switchAll;\n//# sourceMappingURL=switchAll.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar OuterSubscriber_1 = require('../OuterSubscriber');\nvar subscribeToResult_1 = require('../util/subscribeToResult');\n/* tslint:enable:max-line-length */\n/**\n * Projects each source value to an Observable which is merged in the output\n * Observable, emitting values only from the most recently projected Observable.\n *\n * <span class=\"informal\">Maps each value to an Observable, then flattens all of\n * these inner Observables using {@link switch}.</span>\n *\n * <img src=\"./img/switchMap.png\" width=\"100%\">\n *\n * Returns an Observable that emits items based on applying a function that you\n * supply to each item emitted by the source Observable, where that function\n * returns an (so-called \"inner\") Observable. Each time it observes one of these\n * inner Observables, the output Observable begins emitting the items emitted by\n * that inner Observable. When a new inner Observable is emitted, `switchMap`\n * stops emitting items from the earlier-emitted inner Observable and begins\n * emitting items from the new one. It continues to behave like this for\n * subsequent inner Observables.\n *\n * @example <caption>Rerun an interval Observable on every click event</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var result = clicks.switchMap((ev) => Rx.Observable.interval(1000));\n * result.subscribe(x => console.log(x));\n *\n * @see {@link concatMap}\n * @see {@link exhaustMap}\n * @see {@link mergeMap}\n * @see {@link switch}\n * @see {@link switchMapTo}\n *\n * @param {function(value: T, ?index: number): ObservableInput} project A function\n * that, when applied to an item emitted by the source Observable, returns an\n * Observable.\n * @param {function(outerValue: T, innerValue: I, outerIndex: number, innerIndex: number): any} [resultSelector]\n * A function to produce the value on the output Observable based on the values\n * and the indices of the source (outer) emission and the inner Observable\n * emission. The arguments passed to this function are:\n * - `outerValue`: the value that came from the source\n * - `innerValue`: the value that came from the projected Observable\n * - `outerIndex`: the \"index\" of the value that came from the source\n * - `innerIndex`: the \"index\" of the value from the projected Observable\n * @return {Observable} An Observable that emits the result of applying the\n * projection function (and the optional `resultSelector`) to each item emitted\n * by the source Observable and taking only the values from the most recently\n * projected inner Observable.\n * @method switchMap\n * @owner Observable\n */\nfunction switchMap(project, resultSelector) {\n    return function switchMapOperatorFunction(source) {\n        return source.lift(new SwitchMapOperator(project, resultSelector));\n    };\n}\nexports.switchMap = switchMap;\nvar SwitchMapOperator = (function () {\n    function SwitchMapOperator(project, resultSelector) {\n        this.project = project;\n        this.resultSelector = resultSelector;\n    }\n    SwitchMapOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new SwitchMapSubscriber(subscriber, this.project, this.resultSelector));\n    };\n    return SwitchMapOperator;\n}());\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar SwitchMapSubscriber = (function (_super) {\n    __extends(SwitchMapSubscriber, _super);\n    function SwitchMapSubscriber(destination, project, resultSelector) {\n        _super.call(this, destination);\n        this.project = project;\n        this.resultSelector = resultSelector;\n        this.index = 0;\n    }\n    SwitchMapSubscriber.prototype._next = function (value) {\n        var result;\n        var index = this.index++;\n        try {\n            result = this.project(value, index);\n        }\n        catch (error) {\n            this.destination.error(error);\n            return;\n        }\n        this._innerSub(result, value, index);\n    };\n    SwitchMapSubscriber.prototype._innerSub = function (result, value, index) {\n        var innerSubscription = this.innerSubscription;\n        if (innerSubscription) {\n            innerSubscription.unsubscribe();\n        }\n        this.add(this.innerSubscription = subscribeToResult_1.subscribeToResult(this, result, value, index));\n    };\n    SwitchMapSubscriber.prototype._complete = function () {\n        var innerSubscription = this.innerSubscription;\n        if (!innerSubscription || innerSubscription.closed) {\n            _super.prototype._complete.call(this);\n        }\n    };\n    /** @deprecated internal use only */ SwitchMapSubscriber.prototype._unsubscribe = function () {\n        this.innerSubscription = null;\n    };\n    SwitchMapSubscriber.prototype.notifyComplete = function (innerSub) {\n        this.remove(innerSub);\n        this.innerSubscription = null;\n        if (this.isStopped) {\n            _super.prototype._complete.call(this);\n        }\n    };\n    SwitchMapSubscriber.prototype.notifyNext = function (outerValue, innerValue, outerIndex, innerIndex, innerSub) {\n        if (this.resultSelector) {\n            this._tryNotifyNext(outerValue, innerValue, outerIndex, innerIndex);\n        }\n        else {\n            this.destination.next(innerValue);\n        }\n    };\n    SwitchMapSubscriber.prototype._tryNotifyNext = function (outerValue, innerValue, outerIndex, innerIndex) {\n        var result;\n        try {\n            result = this.resultSelector(outerValue, innerValue, outerIndex, innerIndex);\n        }\n        catch (err) {\n            this.destination.error(err);\n            return;\n        }\n        this.destination.next(result);\n    };\n    return SwitchMapSubscriber;\n}(OuterSubscriber_1.OuterSubscriber));\n//# sourceMappingURL=switchMap.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar OuterSubscriber_1 = require('../OuterSubscriber');\nvar subscribeToResult_1 = require('../util/subscribeToResult');\n/* tslint:enable:max-line-length */\n/**\n * Projects each source value to the same Observable which is flattened multiple\n * times with {@link switch} in the output Observable.\n *\n * <span class=\"informal\">It's like {@link switchMap}, but maps each value\n * always to the same inner Observable.</span>\n *\n * <img src=\"./img/switchMapTo.png\" width=\"100%\">\n *\n * Maps each source value to the given Observable `innerObservable` regardless\n * of the source value, and then flattens those resulting Observables into one\n * single Observable, which is the output Observable. The output Observables\n * emits values only from the most recently emitted instance of\n * `innerObservable`.\n *\n * @example <caption>Rerun an interval Observable on every click event</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var result = clicks.switchMapTo(Rx.Observable.interval(1000));\n * result.subscribe(x => console.log(x));\n *\n * @see {@link concatMapTo}\n * @see {@link switch}\n * @see {@link switchMap}\n * @see {@link mergeMapTo}\n *\n * @param {ObservableInput} innerObservable An Observable to replace each value from\n * the source Observable.\n * @param {function(outerValue: T, innerValue: I, outerIndex: number, innerIndex: number): any} [resultSelector]\n * A function to produce the value on the output Observable based on the values\n * and the indices of the source (outer) emission and the inner Observable\n * emission. The arguments passed to this function are:\n * - `outerValue`: the value that came from the source\n * - `innerValue`: the value that came from the projected Observable\n * - `outerIndex`: the \"index\" of the value that came from the source\n * - `innerIndex`: the \"index\" of the value from the projected Observable\n * @return {Observable} An Observable that emits items from the given\n * `innerObservable` (and optionally transformed through `resultSelector`) every\n * time a value is emitted on the source Observable, and taking only the values\n * from the most recently projected inner Observable.\n * @method switchMapTo\n * @owner Observable\n */\nfunction switchMapTo(innerObservable, resultSelector) {\n    return function (source) { return source.lift(new SwitchMapToOperator(innerObservable, resultSelector)); };\n}\nexports.switchMapTo = switchMapTo;\nvar SwitchMapToOperator = (function () {\n    function SwitchMapToOperator(observable, resultSelector) {\n        this.observable = observable;\n        this.resultSelector = resultSelector;\n    }\n    SwitchMapToOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new SwitchMapToSubscriber(subscriber, this.observable, this.resultSelector));\n    };\n    return SwitchMapToOperator;\n}());\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar SwitchMapToSubscriber = (function (_super) {\n    __extends(SwitchMapToSubscriber, _super);\n    function SwitchMapToSubscriber(destination, inner, resultSelector) {\n        _super.call(this, destination);\n        this.inner = inner;\n        this.resultSelector = resultSelector;\n        this.index = 0;\n    }\n    SwitchMapToSubscriber.prototype._next = function (value) {\n        var innerSubscription = this.innerSubscription;\n        if (innerSubscription) {\n            innerSubscription.unsubscribe();\n        }\n        this.add(this.innerSubscription = subscribeToResult_1.subscribeToResult(this, this.inner, value, this.index++));\n    };\n    SwitchMapToSubscriber.prototype._complete = function () {\n        var innerSubscription = this.innerSubscription;\n        if (!innerSubscription || innerSubscription.closed) {\n            _super.prototype._complete.call(this);\n        }\n    };\n    /** @deprecated internal use only */ SwitchMapToSubscriber.prototype._unsubscribe = function () {\n        this.innerSubscription = null;\n    };\n    SwitchMapToSubscriber.prototype.notifyComplete = function (innerSub) {\n        this.remove(innerSub);\n        this.innerSubscription = null;\n        if (this.isStopped) {\n            _super.prototype._complete.call(this);\n        }\n    };\n    SwitchMapToSubscriber.prototype.notifyNext = function (outerValue, innerValue, outerIndex, innerIndex, innerSub) {\n        var _a = this, resultSelector = _a.resultSelector, destination = _a.destination;\n        if (resultSelector) {\n            this.tryResultSelector(outerValue, innerValue, outerIndex, innerIndex);\n        }\n        else {\n            destination.next(innerValue);\n        }\n    };\n    SwitchMapToSubscriber.prototype.tryResultSelector = function (outerValue, innerValue, outerIndex, innerIndex) {\n        var _a = this, resultSelector = _a.resultSelector, destination = _a.destination;\n        var result;\n        try {\n            result = resultSelector(outerValue, innerValue, outerIndex, innerIndex);\n        }\n        catch (err) {\n            destination.error(err);\n            return;\n        }\n        destination.next(result);\n    };\n    return SwitchMapToSubscriber;\n}(OuterSubscriber_1.OuterSubscriber));\n//# sourceMappingURL=switchMapTo.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar Subscriber_1 = require('../Subscriber');\nvar ArgumentOutOfRangeError_1 = require('../util/ArgumentOutOfRangeError');\nvar EmptyObservable_1 = require('../observable/EmptyObservable');\n/**\n * Emits only the first `count` values emitted by the source Observable.\n *\n * <span class=\"informal\">Takes the first `count` values from the source, then\n * completes.</span>\n *\n * <img src=\"./img/take.png\" width=\"100%\">\n *\n * `take` returns an Observable that emits only the first `count` values emitted\n * by the source Observable. If the source emits fewer than `count` values then\n * all of its values are emitted. After that, it completes, regardless if the\n * source completes.\n *\n * @example <caption>Take the first 5 seconds of an infinite 1-second interval Observable</caption>\n * var interval = Rx.Observable.interval(1000);\n * var five = interval.take(5);\n * five.subscribe(x => console.log(x));\n *\n * @see {@link takeLast}\n * @see {@link takeUntil}\n * @see {@link takeWhile}\n * @see {@link skip}\n *\n * @throws {ArgumentOutOfRangeError} When using `take(i)`, it delivers an\n * ArgumentOutOrRangeError to the Observer's `error` callback if `i < 0`.\n *\n * @param {number} count The maximum number of `next` values to emit.\n * @return {Observable<T>} An Observable that emits only the first `count`\n * values emitted by the source Observable, or all of the values from the source\n * if the source emits fewer than `count` values.\n * @method take\n * @owner Observable\n */\nfunction take(count) {\n    return function (source) {\n        if (count === 0) {\n            return new EmptyObservable_1.EmptyObservable();\n        }\n        else {\n            return source.lift(new TakeOperator(count));\n        }\n    };\n}\nexports.take = take;\nvar TakeOperator = (function () {\n    function TakeOperator(total) {\n        this.total = total;\n        if (this.total < 0) {\n            throw new ArgumentOutOfRangeError_1.ArgumentOutOfRangeError;\n        }\n    }\n    TakeOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new TakeSubscriber(subscriber, this.total));\n    };\n    return TakeOperator;\n}());\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar TakeSubscriber = (function (_super) {\n    __extends(TakeSubscriber, _super);\n    function TakeSubscriber(destination, total) {\n        _super.call(this, destination);\n        this.total = total;\n        this.count = 0;\n    }\n    TakeSubscriber.prototype._next = function (value) {\n        var total = this.total;\n        var count = ++this.count;\n        if (count <= total) {\n            this.destination.next(value);\n            if (count === total) {\n                this.destination.complete();\n                this.unsubscribe();\n            }\n        }\n    };\n    return TakeSubscriber;\n}(Subscriber_1.Subscriber));\n//# sourceMappingURL=take.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar Subscriber_1 = require('../Subscriber');\nvar ArgumentOutOfRangeError_1 = require('../util/ArgumentOutOfRangeError');\nvar EmptyObservable_1 = require('../observable/EmptyObservable');\n/**\n * Emits only the last `count` values emitted by the source Observable.\n *\n * <span class=\"informal\">Remembers the latest `count` values, then emits those\n * only when the source completes.</span>\n *\n * <img src=\"./img/takeLast.png\" width=\"100%\">\n *\n * `takeLast` returns an Observable that emits at most the last `count` values\n * emitted by the source Observable. If the source emits fewer than `count`\n * values then all of its values are emitted. This operator must wait until the\n * `complete` notification emission from the source in order to emit the `next`\n * values on the output Observable, because otherwise it is impossible to know\n * whether or not more values will be emitted on the source. For this reason,\n * all values are emitted synchronously, followed by the complete notification.\n *\n * @example <caption>Take the last 3 values of an Observable with many values</caption>\n * var many = Rx.Observable.range(1, 100);\n * var lastThree = many.takeLast(3);\n * lastThree.subscribe(x => console.log(x));\n *\n * @see {@link take}\n * @see {@link takeUntil}\n * @see {@link takeWhile}\n * @see {@link skip}\n *\n * @throws {ArgumentOutOfRangeError} When using `takeLast(i)`, it delivers an\n * ArgumentOutOrRangeError to the Observer's `error` callback if `i < 0`.\n *\n * @param {number} count The maximum number of values to emit from the end of\n * the sequence of values emitted by the source Observable.\n * @return {Observable<T>} An Observable that emits at most the last count\n * values emitted by the source Observable.\n * @method takeLast\n * @owner Observable\n */\nfunction takeLast(count) {\n    return function takeLastOperatorFunction(source) {\n        if (count === 0) {\n            return new EmptyObservable_1.EmptyObservable();\n        }\n        else {\n            return source.lift(new TakeLastOperator(count));\n        }\n    };\n}\nexports.takeLast = takeLast;\nvar TakeLastOperator = (function () {\n    function TakeLastOperator(total) {\n        this.total = total;\n        if (this.total < 0) {\n            throw new ArgumentOutOfRangeError_1.ArgumentOutOfRangeError;\n        }\n    }\n    TakeLastOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new TakeLastSubscriber(subscriber, this.total));\n    };\n    return TakeLastOperator;\n}());\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar TakeLastSubscriber = (function (_super) {\n    __extends(TakeLastSubscriber, _super);\n    function TakeLastSubscriber(destination, total) {\n        _super.call(this, destination);\n        this.total = total;\n        this.ring = new Array();\n        this.count = 0;\n    }\n    TakeLastSubscriber.prototype._next = function (value) {\n        var ring = this.ring;\n        var total = this.total;\n        var count = this.count++;\n        if (ring.length < total) {\n            ring.push(value);\n        }\n        else {\n            var index = count % total;\n            ring[index] = value;\n        }\n    };\n    TakeLastSubscriber.prototype._complete = function () {\n        var destination = this.destination;\n        var count = this.count;\n        if (count > 0) {\n            var total = this.count >= this.total ? this.total : this.count;\n            var ring = this.ring;\n            for (var i = 0; i < total; i++) {\n                var idx = (count++) % total;\n                destination.next(ring[idx]);\n            }\n        }\n        destination.complete();\n    };\n    return TakeLastSubscriber;\n}(Subscriber_1.Subscriber));\n//# sourceMappingURL=takeLast.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar OuterSubscriber_1 = require('../OuterSubscriber');\nvar subscribeToResult_1 = require('../util/subscribeToResult');\n/**\n * Emits the values emitted by the source Observable until a `notifier`\n * Observable emits a value.\n *\n * <span class=\"informal\">Lets values pass until a second Observable,\n * `notifier`, emits something. Then, it completes.</span>\n *\n * <img src=\"./img/takeUntil.png\" width=\"100%\">\n *\n * `takeUntil` subscribes and begins mirroring the source Observable. It also\n * monitors a second Observable, `notifier` that you provide. If the `notifier`\n * emits a value or a complete notification, the output Observable stops\n * mirroring the source Observable and completes.\n *\n * @example <caption>Tick every second until the first click happens</caption>\n * var interval = Rx.Observable.interval(1000);\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var result = interval.takeUntil(clicks);\n * result.subscribe(x => console.log(x));\n *\n * @see {@link take}\n * @see {@link takeLast}\n * @see {@link takeWhile}\n * @see {@link skip}\n *\n * @param {Observable} notifier The Observable whose first emitted value will\n * cause the output Observable of `takeUntil` to stop emitting values from the\n * source Observable.\n * @return {Observable<T>} An Observable that emits the values from the source\n * Observable until such time as `notifier` emits its first value.\n * @method takeUntil\n * @owner Observable\n */\nfunction takeUntil(notifier) {\n    return function (source) { return source.lift(new TakeUntilOperator(notifier)); };\n}\nexports.takeUntil = takeUntil;\nvar TakeUntilOperator = (function () {\n    function TakeUntilOperator(notifier) {\n        this.notifier = notifier;\n    }\n    TakeUntilOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new TakeUntilSubscriber(subscriber, this.notifier));\n    };\n    return TakeUntilOperator;\n}());\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar TakeUntilSubscriber = (function (_super) {\n    __extends(TakeUntilSubscriber, _super);\n    function TakeUntilSubscriber(destination, notifier) {\n        _super.call(this, destination);\n        this.notifier = notifier;\n        this.add(subscribeToResult_1.subscribeToResult(this, notifier));\n    }\n    TakeUntilSubscriber.prototype.notifyNext = function (outerValue, innerValue, outerIndex, innerIndex, innerSub) {\n        this.complete();\n    };\n    TakeUntilSubscriber.prototype.notifyComplete = function () {\n        // noop\n    };\n    return TakeUntilSubscriber;\n}(OuterSubscriber_1.OuterSubscriber));\n//# sourceMappingURL=takeUntil.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar Subscriber_1 = require('../Subscriber');\n/**\n * Emits values emitted by the source Observable so long as each value satisfies\n * the given `predicate`, and then completes as soon as this `predicate` is not\n * satisfied.\n *\n * <span class=\"informal\">Takes values from the source only while they pass the\n * condition given. When the first value does not satisfy, it completes.</span>\n *\n * <img src=\"./img/takeWhile.png\" width=\"100%\">\n *\n * `takeWhile` subscribes and begins mirroring the source Observable. Each value\n * emitted on the source is given to the `predicate` function which returns a\n * boolean, representing a condition to be satisfied by the source values. The\n * output Observable emits the source values until such time as the `predicate`\n * returns false, at which point `takeWhile` stops mirroring the source\n * Observable and completes the output Observable.\n *\n * @example <caption>Emit click events only while the clientX property is greater than 200</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var result = clicks.takeWhile(ev => ev.clientX > 200);\n * result.subscribe(x => console.log(x));\n *\n * @see {@link take}\n * @see {@link takeLast}\n * @see {@link takeUntil}\n * @see {@link skip}\n *\n * @param {function(value: T, index: number): boolean} predicate A function that\n * evaluates a value emitted by the source Observable and returns a boolean.\n * Also takes the (zero-based) index as the second argument.\n * @return {Observable<T>} An Observable that emits the values from the source\n * Observable so long as each value satisfies the condition defined by the\n * `predicate`, then completes.\n * @method takeWhile\n * @owner Observable\n */\nfunction takeWhile(predicate) {\n    return function (source) { return source.lift(new TakeWhileOperator(predicate)); };\n}\nexports.takeWhile = takeWhile;\nvar TakeWhileOperator = (function () {\n    function TakeWhileOperator(predicate) {\n        this.predicate = predicate;\n    }\n    TakeWhileOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new TakeWhileSubscriber(subscriber, this.predicate));\n    };\n    return TakeWhileOperator;\n}());\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar TakeWhileSubscriber = (function (_super) {\n    __extends(TakeWhileSubscriber, _super);\n    function TakeWhileSubscriber(destination, predicate) {\n        _super.call(this, destination);\n        this.predicate = predicate;\n        this.index = 0;\n    }\n    TakeWhileSubscriber.prototype._next = function (value) {\n        var destination = this.destination;\n        var result;\n        try {\n            result = this.predicate(value, this.index++);\n        }\n        catch (err) {\n            destination.error(err);\n            return;\n        }\n        this.nextOrComplete(value, result);\n    };\n    TakeWhileSubscriber.prototype.nextOrComplete = function (value, predicateResult) {\n        var destination = this.destination;\n        if (Boolean(predicateResult)) {\n            destination.next(value);\n        }\n        else {\n            destination.complete();\n        }\n    };\n    return TakeWhileSubscriber;\n}(Subscriber_1.Subscriber));\n//# sourceMappingURL=takeWhile.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar Subscriber_1 = require('../Subscriber');\n/* tslint:enable:max-line-length */\n/**\n * Perform a side effect for every emission on the source Observable, but return\n * an Observable that is identical to the source.\n *\n * <span class=\"informal\">Intercepts each emission on the source and runs a\n * function, but returns an output which is identical to the source as long as errors don't occur.</span>\n *\n * <img src=\"./img/do.png\" width=\"100%\">\n *\n * Returns a mirrored Observable of the source Observable, but modified so that\n * the provided Observer is called to perform a side effect for every value,\n * error, and completion emitted by the source. Any errors that are thrown in\n * the aforementioned Observer or handlers are safely sent down the error path\n * of the output Observable.\n *\n * This operator is useful for debugging your Observables for the correct values\n * or performing other side effects.\n *\n * Note: this is different to a `subscribe` on the Observable. If the Observable\n * returned by `do` is not subscribed, the side effects specified by the\n * Observer will never happen. `do` therefore simply spies on existing\n * execution, it does not trigger an execution to happen like `subscribe` does.\n *\n * @example <caption>Map every click to the clientX position of that click, while also logging the click event</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var positions = clicks\n *   .do(ev => console.log(ev))\n *   .map(ev => ev.clientX);\n * positions.subscribe(x => console.log(x));\n *\n * @see {@link map}\n * @see {@link subscribe}\n *\n * @param {Observer|function} [nextOrObserver] A normal Observer object or a\n * callback for `next`.\n * @param {function} [error] Callback for errors in the source.\n * @param {function} [complete] Callback for the completion of the source.\n * @return {Observable} An Observable identical to the source, but runs the\n * specified Observer or callback(s) for each item.\n * @name tap\n */\nfunction tap(nextOrObserver, error, complete) {\n    return function tapOperatorFunction(source) {\n        return source.lift(new DoOperator(nextOrObserver, error, complete));\n    };\n}\nexports.tap = tap;\nvar DoOperator = (function () {\n    function DoOperator(nextOrObserver, error, complete) {\n        this.nextOrObserver = nextOrObserver;\n        this.error = error;\n        this.complete = complete;\n    }\n    DoOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new DoSubscriber(subscriber, this.nextOrObserver, this.error, this.complete));\n    };\n    return DoOperator;\n}());\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar DoSubscriber = (function (_super) {\n    __extends(DoSubscriber, _super);\n    function DoSubscriber(destination, nextOrObserver, error, complete) {\n        _super.call(this, destination);\n        var safeSubscriber = new Subscriber_1.Subscriber(nextOrObserver, error, complete);\n        safeSubscriber.syncErrorThrowable = true;\n        this.add(safeSubscriber);\n        this.safeSubscriber = safeSubscriber;\n    }\n    DoSubscriber.prototype._next = function (value) {\n        var safeSubscriber = this.safeSubscriber;\n        safeSubscriber.next(value);\n        if (safeSubscriber.syncErrorThrown) {\n            this.destination.error(safeSubscriber.syncErrorValue);\n        }\n        else {\n            this.destination.next(value);\n        }\n    };\n    DoSubscriber.prototype._error = function (err) {\n        var safeSubscriber = this.safeSubscriber;\n        safeSubscriber.error(err);\n        if (safeSubscriber.syncErrorThrown) {\n            this.destination.error(safeSubscriber.syncErrorValue);\n        }\n        else {\n            this.destination.error(err);\n        }\n    };\n    DoSubscriber.prototype._complete = function () {\n        var safeSubscriber = this.safeSubscriber;\n        safeSubscriber.complete();\n        if (safeSubscriber.syncErrorThrown) {\n            this.destination.error(safeSubscriber.syncErrorValue);\n        }\n        else {\n            this.destination.complete();\n        }\n    };\n    return DoSubscriber;\n}(Subscriber_1.Subscriber));\n//# sourceMappingURL=tap.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar OuterSubscriber_1 = require('../OuterSubscriber');\nvar subscribeToResult_1 = require('../util/subscribeToResult');\nexports.defaultThrottleConfig = {\n    leading: true,\n    trailing: false\n};\n/**\n * Emits a value from the source Observable, then ignores subsequent source\n * values for a duration determined by another Observable, then repeats this\n * process.\n *\n * <span class=\"informal\">It's like {@link throttleTime}, but the silencing\n * duration is determined by a second Observable.</span>\n *\n * <img src=\"./img/throttle.png\" width=\"100%\">\n *\n * `throttle` emits the source Observable values on the output Observable\n * when its internal timer is disabled, and ignores source values when the timer\n * is enabled. Initially, the timer is disabled. As soon as the first source\n * value arrives, it is forwarded to the output Observable, and then the timer\n * is enabled by calling the `durationSelector` function with the source value,\n * which returns the \"duration\" Observable. When the duration Observable emits a\n * value or completes, the timer is disabled, and this process repeats for the\n * next source value.\n *\n * @example <caption>Emit clicks at a rate of at most one click per second</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var result = clicks.throttle(ev => Rx.Observable.interval(1000));\n * result.subscribe(x => console.log(x));\n *\n * @see {@link audit}\n * @see {@link debounce}\n * @see {@link delayWhen}\n * @see {@link sample}\n * @see {@link throttleTime}\n *\n * @param {function(value: T): SubscribableOrPromise} durationSelector A function\n * that receives a value from the source Observable, for computing the silencing\n * duration for each source value, returned as an Observable or a Promise.\n * @param {Object} config a configuration object to define `leading` and `trailing` behavior. Defaults\n * to `{ leading: true, trailing: false }`.\n * @return {Observable<T>} An Observable that performs the throttle operation to\n * limit the rate of emissions from the source.\n * @method throttle\n * @owner Observable\n */\nfunction throttle(durationSelector, config) {\n    if (config === void 0) { config = exports.defaultThrottleConfig; }\n    return function (source) { return source.lift(new ThrottleOperator(durationSelector, config.leading, config.trailing)); };\n}\nexports.throttle = throttle;\nvar ThrottleOperator = (function () {\n    function ThrottleOperator(durationSelector, leading, trailing) {\n        this.durationSelector = durationSelector;\n        this.leading = leading;\n        this.trailing = trailing;\n    }\n    ThrottleOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new ThrottleSubscriber(subscriber, this.durationSelector, this.leading, this.trailing));\n    };\n    return ThrottleOperator;\n}());\n/**\n * We need this JSDoc comment for affecting ESDoc\n * @ignore\n * @extends {Ignored}\n */\nvar ThrottleSubscriber = (function (_super) {\n    __extends(ThrottleSubscriber, _super);\n    function ThrottleSubscriber(destination, durationSelector, _leading, _trailing) {\n        _super.call(this, destination);\n        this.destination = destination;\n        this.durationSelector = durationSelector;\n        this._leading = _leading;\n        this._trailing = _trailing;\n        this._hasTrailingValue = false;\n    }\n    ThrottleSubscriber.prototype._next = function (value) {\n        if (this.throttled) {\n            if (this._trailing) {\n                this._hasTrailingValue = true;\n                this._trailingValue = value;\n            }\n        }\n        else {\n            var duration = this.tryDurationSelector(value);\n            if (duration) {\n                this.add(this.throttled = subscribeToResult_1.subscribeToResult(this, duration));\n            }\n            if (this._leading) {\n                this.destination.next(value);\n                if (this._trailing) {\n                    this._hasTrailingValue = true;\n                    this._trailingValue = value;\n                }\n            }\n        }\n    };\n    ThrottleSubscriber.prototype.tryDurationSelector = function (value) {\n        try {\n            return this.durationSelector(value);\n        }\n        catch (err) {\n            this.destination.error(err);\n            return null;\n        }\n    };\n    /** @deprecated internal use only */ ThrottleSubscriber.prototype._unsubscribe = function () {\n        var _a = this, throttled = _a.throttled, _trailingValue = _a._trailingValue, _hasTrailingValue = _a._hasTrailingValue, _trailing = _a._trailing;\n        this._trailingValue = null;\n        this._hasTrailingValue = false;\n        if (throttled) {\n            this.remove(throttled);\n            this.throttled = null;\n            throttled.unsubscribe();\n        }\n    };\n    ThrottleSubscriber.prototype._sendTrailing = function () {\n        var _a = this, destination = _a.destination, throttled = _a.throttled, _trailing = _a._trailing, _trailingValue = _a._trailingValue, _hasTrailingValue = _a._hasTrailingValue;\n        if (throttled && _trailing && _hasTrailingValue) {\n            destination.next(_trailingValue);\n            this._trailingValue = null;\n            this._hasTrailingValue = false;\n        }\n    };\n    ThrottleSubscriber.prototype.notifyNext = function (outerValue, innerValue, outerIndex, innerIndex, innerSub) {\n        this._sendTrailing();\n        this._unsubscribe();\n    };\n    ThrottleSubscriber.prototype.notifyComplete = function () {\n        this._sendTrailing();\n        this._unsubscribe();\n    };\n    return ThrottleSubscriber;\n}(OuterSubscriber_1.OuterSubscriber));\n//# sourceMappingURL=throttle.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar Subscriber_1 = require('../Subscriber');\nvar async_1 = require('../scheduler/async');\nvar throttle_1 = require('./throttle');\n/**\n * Emits a value from the source Observable, then ignores subsequent source\n * values for `duration` milliseconds, then repeats this process.\n *\n * <span class=\"informal\">Lets a value pass, then ignores source values for the\n * next `duration` milliseconds.</span>\n *\n * <img src=\"./img/throttleTime.png\" width=\"100%\">\n *\n * `throttleTime` emits the source Observable values on the output Observable\n * when its internal timer is disabled, and ignores source values when the timer\n * is enabled. Initially, the timer is disabled. As soon as the first source\n * value arrives, it is forwarded to the output Observable, and then the timer\n * is enabled. After `duration` milliseconds (or the time unit determined\n * internally by the optional `scheduler`) has passed, the timer is disabled,\n * and this process repeats for the next source value. Optionally takes a\n * {@link IScheduler} for managing timers.\n *\n * @example <caption>Emit clicks at a rate of at most one click per second</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var result = clicks.throttleTime(1000);\n * result.subscribe(x => console.log(x));\n *\n * @see {@link auditTime}\n * @see {@link debounceTime}\n * @see {@link delay}\n * @see {@link sampleTime}\n * @see {@link throttle}\n *\n * @param {number} duration Time to wait before emitting another value after\n * emitting the last value, measured in milliseconds or the time unit determined\n * internally by the optional `scheduler`.\n * @param {Scheduler} [scheduler=async] The {@link IScheduler} to use for\n * managing the timers that handle the throttling.\n * @return {Observable<T>} An Observable that performs the throttle operation to\n * limit the rate of emissions from the source.\n * @method throttleTime\n * @owner Observable\n */\nfunction throttleTime(duration, scheduler, config) {\n    if (scheduler === void 0) { scheduler = async_1.async; }\n    if (config === void 0) { config = throttle_1.defaultThrottleConfig; }\n    return function (source) { return source.lift(new ThrottleTimeOperator(duration, scheduler, config.leading, config.trailing)); };\n}\nexports.throttleTime = throttleTime;\nvar ThrottleTimeOperator = (function () {\n    function ThrottleTimeOperator(duration, scheduler, leading, trailing) {\n        this.duration = duration;\n        this.scheduler = scheduler;\n        this.leading = leading;\n        this.trailing = trailing;\n    }\n    ThrottleTimeOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new ThrottleTimeSubscriber(subscriber, this.duration, this.scheduler, this.leading, this.trailing));\n    };\n    return ThrottleTimeOperator;\n}());\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar ThrottleTimeSubscriber = (function (_super) {\n    __extends(ThrottleTimeSubscriber, _super);\n    function ThrottleTimeSubscriber(destination, duration, scheduler, leading, trailing) {\n        _super.call(this, destination);\n        this.duration = duration;\n        this.scheduler = scheduler;\n        this.leading = leading;\n        this.trailing = trailing;\n        this._hasTrailingValue = false;\n        this._trailingValue = null;\n    }\n    ThrottleTimeSubscriber.prototype._next = function (value) {\n        if (this.throttled) {\n            if (this.trailing) {\n                this._trailingValue = value;\n                this._hasTrailingValue = true;\n            }\n        }\n        else {\n            this.add(this.throttled = this.scheduler.schedule(dispatchNext, this.duration, { subscriber: this }));\n            if (this.leading) {\n                this.destination.next(value);\n            }\n        }\n    };\n    ThrottleTimeSubscriber.prototype.clearThrottle = function () {\n        var throttled = this.throttled;\n        if (throttled) {\n            if (this.trailing && this._hasTrailingValue) {\n                this.destination.next(this._trailingValue);\n                this._trailingValue = null;\n                this._hasTrailingValue = false;\n            }\n            throttled.unsubscribe();\n            this.remove(throttled);\n            this.throttled = null;\n        }\n    };\n    return ThrottleTimeSubscriber;\n}(Subscriber_1.Subscriber));\nfunction dispatchNext(arg) {\n    var subscriber = arg.subscriber;\n    subscriber.clearThrottle();\n}\n//# sourceMappingURL=throttleTime.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar Subscriber_1 = require('../Subscriber');\nvar async_1 = require('../scheduler/async');\nfunction timeInterval(scheduler) {\n    if (scheduler === void 0) { scheduler = async_1.async; }\n    return function (source) { return source.lift(new TimeIntervalOperator(scheduler)); };\n}\nexports.timeInterval = timeInterval;\nvar TimeInterval = (function () {\n    function TimeInterval(value, interval) {\n        this.value = value;\n        this.interval = interval;\n    }\n    return TimeInterval;\n}());\nexports.TimeInterval = TimeInterval;\n;\nvar TimeIntervalOperator = (function () {\n    function TimeIntervalOperator(scheduler) {\n        this.scheduler = scheduler;\n    }\n    TimeIntervalOperator.prototype.call = function (observer, source) {\n        return source.subscribe(new TimeIntervalSubscriber(observer, this.scheduler));\n    };\n    return TimeIntervalOperator;\n}());\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar TimeIntervalSubscriber = (function (_super) {\n    __extends(TimeIntervalSubscriber, _super);\n    function TimeIntervalSubscriber(destination, scheduler) {\n        _super.call(this, destination);\n        this.scheduler = scheduler;\n        this.lastTime = 0;\n        this.lastTime = scheduler.now();\n    }\n    TimeIntervalSubscriber.prototype._next = function (value) {\n        var now = this.scheduler.now();\n        var span = now - this.lastTime;\n        this.lastTime = now;\n        this.destination.next(new TimeInterval(value, span));\n    };\n    return TimeIntervalSubscriber;\n}(Subscriber_1.Subscriber));\n//# sourceMappingURL=timeInterval.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar async_1 = require('../scheduler/async');\nvar isDate_1 = require('../util/isDate');\nvar Subscriber_1 = require('../Subscriber');\nvar TimeoutError_1 = require('../util/TimeoutError');\n/**\n *\n * Errors if Observable does not emit a value in given time span.\n *\n * <span class=\"informal\">Timeouts on Observable that doesn't emit values fast enough.</span>\n *\n * <img src=\"./img/timeout.png\" width=\"100%\">\n *\n * `timeout` operator accepts as an argument either a number or a Date.\n *\n * If number was provided, it returns an Observable that behaves like a source\n * Observable, unless there is a period of time where there is no value emitted.\n * So if you provide `100` as argument and first value comes after 50ms from\n * the moment of subscription, this value will be simply re-emitted by the resulting\n * Observable. If however after that 100ms passes without a second value being emitted,\n * stream will end with an error and source Observable will be unsubscribed.\n * These checks are performed throughout whole lifecycle of Observable - from the moment\n * it was subscribed to, until it completes or errors itself. Thus every value must be\n * emitted within specified period since previous value.\n *\n * If provided argument was Date, returned Observable behaves differently. It throws\n * if Observable did not complete before provided Date. This means that periods between\n * emission of particular values do not matter in this case. If Observable did not complete\n * before provided Date, source Observable will be unsubscribed. Other than that, resulting\n * stream behaves just as source Observable.\n *\n * `timeout` accepts also a Scheduler as a second parameter. It is used to schedule moment (or moments)\n * when returned Observable will check if source stream emitted value or completed.\n *\n * @example <caption>Check if ticks are emitted within certain timespan</caption>\n * const seconds = Rx.Observable.interval(1000);\n *\n * seconds.timeout(1100) // Let's use bigger timespan to be safe,\n *                       // since `interval` might fire a bit later then scheduled.\n * .subscribe(\n *     value => console.log(value), // Will emit numbers just as regular `interval` would.\n *     err => console.log(err) // Will never be called.\n * );\n *\n * seconds.timeout(900).subscribe(\n *     value => console.log(value), // Will never be called.\n *     err => console.log(err) // Will emit error before even first value is emitted,\n *                             // since it did not arrive within 900ms period.\n * );\n *\n * @example <caption>Use Date to check if Observable completed</caption>\n * const seconds = Rx.Observable.interval(1000);\n *\n * seconds.timeout(new Date(\"December 17, 2020 03:24:00\"))\n * .subscribe(\n *     value => console.log(value), // Will emit values as regular `interval` would\n *                                  // until December 17, 2020 at 03:24:00.\n *     err => console.log(err) // On December 17, 2020 at 03:24:00 it will emit an error,\n *                             // since Observable did not complete by then.\n * );\n *\n * @see {@link timeoutWith}\n *\n * @param {number|Date} due Number specifying period within which Observable must emit values\n *                          or Date specifying before when Observable should complete\n * @param {Scheduler} [scheduler] Scheduler controlling when timeout checks occur.\n * @return {Observable<T>} Observable that mirrors behaviour of source, unless timeout checks fail.\n * @method timeout\n * @owner Observable\n */\nfunction timeout(due, scheduler) {\n    if (scheduler === void 0) { scheduler = async_1.async; }\n    var absoluteTimeout = isDate_1.isDate(due);\n    var waitFor = absoluteTimeout ? (+due - scheduler.now()) : Math.abs(due);\n    return function (source) { return source.lift(new TimeoutOperator(waitFor, absoluteTimeout, scheduler, new TimeoutError_1.TimeoutError())); };\n}\nexports.timeout = timeout;\nvar TimeoutOperator = (function () {\n    function TimeoutOperator(waitFor, absoluteTimeout, scheduler, errorInstance) {\n        this.waitFor = waitFor;\n        this.absoluteTimeout = absoluteTimeout;\n        this.scheduler = scheduler;\n        this.errorInstance = errorInstance;\n    }\n    TimeoutOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new TimeoutSubscriber(subscriber, this.absoluteTimeout, this.waitFor, this.scheduler, this.errorInstance));\n    };\n    return TimeoutOperator;\n}());\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar TimeoutSubscriber = (function (_super) {\n    __extends(TimeoutSubscriber, _super);\n    function TimeoutSubscriber(destination, absoluteTimeout, waitFor, scheduler, errorInstance) {\n        _super.call(this, destination);\n        this.absoluteTimeout = absoluteTimeout;\n        this.waitFor = waitFor;\n        this.scheduler = scheduler;\n        this.errorInstance = errorInstance;\n        this.action = null;\n        this.scheduleTimeout();\n    }\n    TimeoutSubscriber.dispatchTimeout = function (subscriber) {\n        subscriber.error(subscriber.errorInstance);\n    };\n    TimeoutSubscriber.prototype.scheduleTimeout = function () {\n        var action = this.action;\n        if (action) {\n            // Recycle the action if we've already scheduled one. All the production\n            // Scheduler Actions mutate their state/delay time and return themeselves.\n            // VirtualActions are immutable, so they create and return a clone. In this\n            // case, we need to set the action reference to the most recent VirtualAction,\n            // to ensure that's the one we clone from next time.\n            this.action = action.schedule(this, this.waitFor);\n        }\n        else {\n            this.add(this.action = this.scheduler.schedule(TimeoutSubscriber.dispatchTimeout, this.waitFor, this));\n        }\n    };\n    TimeoutSubscriber.prototype._next = function (value) {\n        if (!this.absoluteTimeout) {\n            this.scheduleTimeout();\n        }\n        _super.prototype._next.call(this, value);\n    };\n    /** @deprecated internal use only */ TimeoutSubscriber.prototype._unsubscribe = function () {\n        this.action = null;\n        this.scheduler = null;\n        this.errorInstance = null;\n    };\n    return TimeoutSubscriber;\n}(Subscriber_1.Subscriber));\n//# sourceMappingURL=timeout.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar async_1 = require('../scheduler/async');\nvar isDate_1 = require('../util/isDate');\nvar OuterSubscriber_1 = require('../OuterSubscriber');\nvar subscribeToResult_1 = require('../util/subscribeToResult');\n/* tslint:enable:max-line-length */\n/**\n *\n * Errors if Observable does not emit a value in given time span, in case of which\n * subscribes to the second Observable.\n *\n * <span class=\"informal\">It's a version of `timeout` operator that let's you specify fallback Observable.</span>\n *\n * <img src=\"./img/timeoutWith.png\" width=\"100%\">\n *\n * `timeoutWith` is a variation of `timeout` operator. It behaves exactly the same,\n * still accepting as a first argument either a number or a Date, which control - respectively -\n * when values of source Observable should be emitted or when it should complete.\n *\n * The only difference is that it accepts a second, required parameter. This parameter\n * should be an Observable which will be subscribed when source Observable fails any timeout check.\n * So whenever regular `timeout` would emit an error, `timeoutWith` will instead start re-emitting\n * values from second Observable. Note that this fallback Observable is not checked for timeouts\n * itself, so it can emit values and complete at arbitrary points in time. From the moment of a second\n * subscription, Observable returned from `timeoutWith` simply mirrors fallback stream. When that\n * stream completes, it completes as well.\n *\n * Scheduler, which in case of `timeout` is provided as as second argument, can be still provided\n * here - as a third, optional parameter. It still is used to schedule timeout checks and -\n * as a consequence - when second Observable will be subscribed, since subscription happens\n * immediately after failing check.\n *\n * @example <caption>Add fallback observable</caption>\n * const seconds = Rx.Observable.interval(1000);\n * const minutes = Rx.Observable.interval(60 * 1000);\n *\n * seconds.timeoutWith(900, minutes)\n *     .subscribe(\n *         value => console.log(value), // After 900ms, will start emitting `minutes`,\n *                                      // since first value of `seconds` will not arrive fast enough.\n *         err => console.log(err) // Would be called after 900ms in case of `timeout`,\n *                                 // but here will never be called.\n *     );\n *\n * @param {number|Date} due Number specifying period within which Observable must emit values\n *                          or Date specifying before when Observable should complete\n * @param {Observable<T>} withObservable Observable which will be subscribed if source fails timeout check.\n * @param {Scheduler} [scheduler] Scheduler controlling when timeout checks occur.\n * @return {Observable<T>} Observable that mirrors behaviour of source or, when timeout check fails, of an Observable\n *                          passed as a second parameter.\n * @method timeoutWith\n * @owner Observable\n */\nfunction timeoutWith(due, withObservable, scheduler) {\n    if (scheduler === void 0) { scheduler = async_1.async; }\n    return function (source) {\n        var absoluteTimeout = isDate_1.isDate(due);\n        var waitFor = absoluteTimeout ? (+due - scheduler.now()) : Math.abs(due);\n        return source.lift(new TimeoutWithOperator(waitFor, absoluteTimeout, withObservable, scheduler));\n    };\n}\nexports.timeoutWith = timeoutWith;\nvar TimeoutWithOperator = (function () {\n    function TimeoutWithOperator(waitFor, absoluteTimeout, withObservable, scheduler) {\n        this.waitFor = waitFor;\n        this.absoluteTimeout = absoluteTimeout;\n        this.withObservable = withObservable;\n        this.scheduler = scheduler;\n    }\n    TimeoutWithOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new TimeoutWithSubscriber(subscriber, this.absoluteTimeout, this.waitFor, this.withObservable, this.scheduler));\n    };\n    return TimeoutWithOperator;\n}());\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar TimeoutWithSubscriber = (function (_super) {\n    __extends(TimeoutWithSubscriber, _super);\n    function TimeoutWithSubscriber(destination, absoluteTimeout, waitFor, withObservable, scheduler) {\n        _super.call(this, destination);\n        this.absoluteTimeout = absoluteTimeout;\n        this.waitFor = waitFor;\n        this.withObservable = withObservable;\n        this.scheduler = scheduler;\n        this.action = null;\n        this.scheduleTimeout();\n    }\n    TimeoutWithSubscriber.dispatchTimeout = function (subscriber) {\n        var withObservable = subscriber.withObservable;\n        subscriber._unsubscribeAndRecycle();\n        subscriber.add(subscribeToResult_1.subscribeToResult(subscriber, withObservable));\n    };\n    TimeoutWithSubscriber.prototype.scheduleTimeout = function () {\n        var action = this.action;\n        if (action) {\n            // Recycle the action if we've already scheduled one. All the production\n            // Scheduler Actions mutate their state/delay time and return themeselves.\n            // VirtualActions are immutable, so they create and return a clone. In this\n            // case, we need to set the action reference to the most recent VirtualAction,\n            // to ensure that's the one we clone from next time.\n            this.action = action.schedule(this, this.waitFor);\n        }\n        else {\n            this.add(this.action = this.scheduler.schedule(TimeoutWithSubscriber.dispatchTimeout, this.waitFor, this));\n        }\n    };\n    TimeoutWithSubscriber.prototype._next = function (value) {\n        if (!this.absoluteTimeout) {\n            this.scheduleTimeout();\n        }\n        _super.prototype._next.call(this, value);\n    };\n    /** @deprecated internal use only */ TimeoutWithSubscriber.prototype._unsubscribe = function () {\n        this.action = null;\n        this.scheduler = null;\n        this.withObservable = null;\n    };\n    return TimeoutWithSubscriber;\n}(OuterSubscriber_1.OuterSubscriber));\n//# sourceMappingURL=timeoutWith.js.map","\"use strict\";\nvar async_1 = require('../scheduler/async');\nvar map_1 = require('./map');\n/**\n * @param scheduler\n * @return {Observable<Timestamp<any>>|WebSocketSubject<T>|Observable<T>}\n * @method timestamp\n * @owner Observable\n */\nfunction timestamp(scheduler) {\n    if (scheduler === void 0) { scheduler = async_1.async; }\n    return map_1.map(function (value) { return new Timestamp(value, scheduler.now()); });\n    // return (source: Observable<T>) => source.lift(new TimestampOperator(scheduler));\n}\nexports.timestamp = timestamp;\nvar Timestamp = (function () {\n    function Timestamp(value, timestamp) {\n        this.value = value;\n        this.timestamp = timestamp;\n    }\n    return Timestamp;\n}());\nexports.Timestamp = Timestamp;\n;\n//# sourceMappingURL=timestamp.js.map","\"use strict\";\nvar reduce_1 = require('./reduce');\nfunction toArrayReducer(arr, item, index) {\n    if (index === 0) {\n        return [item];\n    }\n    arr.push(item);\n    return arr;\n}\nfunction toArray() {\n    return reduce_1.reduce(toArrayReducer, []);\n}\nexports.toArray = toArray;\n//# sourceMappingURL=toArray.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar Subject_1 = require('../Subject');\nvar OuterSubscriber_1 = require('../OuterSubscriber');\nvar subscribeToResult_1 = require('../util/subscribeToResult');\n/**\n * Branch out the source Observable values as a nested Observable whenever\n * `windowBoundaries` emits.\n *\n * <span class=\"informal\">It's like {@link buffer}, but emits a nested Observable\n * instead of an array.</span>\n *\n * <img src=\"./img/window.png\" width=\"100%\">\n *\n * Returns an Observable that emits windows of items it collects from the source\n * Observable. The output Observable emits connected, non-overlapping\n * windows. It emits the current window and opens a new one whenever the\n * Observable `windowBoundaries` emits an item. Because each window is an\n * Observable, the output is a higher-order Observable.\n *\n * @example <caption>In every window of 1 second each, emit at most 2 click events</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var interval = Rx.Observable.interval(1000);\n * var result = clicks.window(interval)\n *   .map(win => win.take(2)) // each window has at most 2 emissions\n *   .mergeAll(); // flatten the Observable-of-Observables\n * result.subscribe(x => console.log(x));\n *\n * @see {@link windowCount}\n * @see {@link windowTime}\n * @see {@link windowToggle}\n * @see {@link windowWhen}\n * @see {@link buffer}\n *\n * @param {Observable<any>} windowBoundaries An Observable that completes the\n * previous window and starts a new window.\n * @return {Observable<Observable<T>>} An Observable of windows, which are\n * Observables emitting values of the source Observable.\n * @method window\n * @owner Observable\n */\nfunction window(windowBoundaries) {\n    return function windowOperatorFunction(source) {\n        return source.lift(new WindowOperator(windowBoundaries));\n    };\n}\nexports.window = window;\nvar WindowOperator = (function () {\n    function WindowOperator(windowBoundaries) {\n        this.windowBoundaries = windowBoundaries;\n    }\n    WindowOperator.prototype.call = function (subscriber, source) {\n        var windowSubscriber = new WindowSubscriber(subscriber);\n        var sourceSubscription = source.subscribe(windowSubscriber);\n        if (!sourceSubscription.closed) {\n            windowSubscriber.add(subscribeToResult_1.subscribeToResult(windowSubscriber, this.windowBoundaries));\n        }\n        return sourceSubscription;\n    };\n    return WindowOperator;\n}());\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar WindowSubscriber = (function (_super) {\n    __extends(WindowSubscriber, _super);\n    function WindowSubscriber(destination) {\n        _super.call(this, destination);\n        this.window = new Subject_1.Subject();\n        destination.next(this.window);\n    }\n    WindowSubscriber.prototype.notifyNext = function (outerValue, innerValue, outerIndex, innerIndex, innerSub) {\n        this.openWindow();\n    };\n    WindowSubscriber.prototype.notifyError = function (error, innerSub) {\n        this._error(error);\n    };\n    WindowSubscriber.prototype.notifyComplete = function (innerSub) {\n        this._complete();\n    };\n    WindowSubscriber.prototype._next = function (value) {\n        this.window.next(value);\n    };\n    WindowSubscriber.prototype._error = function (err) {\n        this.window.error(err);\n        this.destination.error(err);\n    };\n    WindowSubscriber.prototype._complete = function () {\n        this.window.complete();\n        this.destination.complete();\n    };\n    /** @deprecated internal use only */ WindowSubscriber.prototype._unsubscribe = function () {\n        this.window = null;\n    };\n    WindowSubscriber.prototype.openWindow = function () {\n        var prevWindow = this.window;\n        if (prevWindow) {\n            prevWindow.complete();\n        }\n        var destination = this.destination;\n        var newWindow = this.window = new Subject_1.Subject();\n        destination.next(newWindow);\n    };\n    return WindowSubscriber;\n}(OuterSubscriber_1.OuterSubscriber));\n//# sourceMappingURL=window.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar Subscriber_1 = require('../Subscriber');\nvar Subject_1 = require('../Subject');\n/**\n * Branch out the source Observable values as a nested Observable with each\n * nested Observable emitting at most `windowSize` values.\n *\n * <span class=\"informal\">It's like {@link bufferCount}, but emits a nested\n * Observable instead of an array.</span>\n *\n * <img src=\"./img/windowCount.png\" width=\"100%\">\n *\n * Returns an Observable that emits windows of items it collects from the source\n * Observable. The output Observable emits windows every `startWindowEvery`\n * items, each containing no more than `windowSize` items. When the source\n * Observable completes or encounters an error, the output Observable emits\n * the current window and propagates the notification from the source\n * Observable. If `startWindowEvery` is not provided, then new windows are\n * started immediately at the start of the source and when each window completes\n * with size `windowSize`.\n *\n * @example <caption>Ignore every 3rd click event, starting from the first one</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var result = clicks.windowCount(3)\n *   .map(win => win.skip(1)) // skip first of every 3 clicks\n *   .mergeAll(); // flatten the Observable-of-Observables\n * result.subscribe(x => console.log(x));\n *\n * @example <caption>Ignore every 3rd click event, starting from the third one</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var result = clicks.windowCount(2, 3)\n *   .mergeAll(); // flatten the Observable-of-Observables\n * result.subscribe(x => console.log(x));\n *\n * @see {@link window}\n * @see {@link windowTime}\n * @see {@link windowToggle}\n * @see {@link windowWhen}\n * @see {@link bufferCount}\n *\n * @param {number} windowSize The maximum number of values emitted by each\n * window.\n * @param {number} [startWindowEvery] Interval at which to start a new window.\n * For example if `startWindowEvery` is `2`, then a new window will be started\n * on every other value from the source. A new window is started at the\n * beginning of the source by default.\n * @return {Observable<Observable<T>>} An Observable of windows, which in turn\n * are Observable of values.\n * @method windowCount\n * @owner Observable\n */\nfunction windowCount(windowSize, startWindowEvery) {\n    if (startWindowEvery === void 0) { startWindowEvery = 0; }\n    return function windowCountOperatorFunction(source) {\n        return source.lift(new WindowCountOperator(windowSize, startWindowEvery));\n    };\n}\nexports.windowCount = windowCount;\nvar WindowCountOperator = (function () {\n    function WindowCountOperator(windowSize, startWindowEvery) {\n        this.windowSize = windowSize;\n        this.startWindowEvery = startWindowEvery;\n    }\n    WindowCountOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new WindowCountSubscriber(subscriber, this.windowSize, this.startWindowEvery));\n    };\n    return WindowCountOperator;\n}());\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar WindowCountSubscriber = (function (_super) {\n    __extends(WindowCountSubscriber, _super);\n    function WindowCountSubscriber(destination, windowSize, startWindowEvery) {\n        _super.call(this, destination);\n        this.destination = destination;\n        this.windowSize = windowSize;\n        this.startWindowEvery = startWindowEvery;\n        this.windows = [new Subject_1.Subject()];\n        this.count = 0;\n        destination.next(this.windows[0]);\n    }\n    WindowCountSubscriber.prototype._next = function (value) {\n        var startWindowEvery = (this.startWindowEvery > 0) ? this.startWindowEvery : this.windowSize;\n        var destination = this.destination;\n        var windowSize = this.windowSize;\n        var windows = this.windows;\n        var len = windows.length;\n        for (var i = 0; i < len && !this.closed; i++) {\n            windows[i].next(value);\n        }\n        var c = this.count - windowSize + 1;\n        if (c >= 0 && c % startWindowEvery === 0 && !this.closed) {\n            windows.shift().complete();\n        }\n        if (++this.count % startWindowEvery === 0 && !this.closed) {\n            var window_1 = new Subject_1.Subject();\n            windows.push(window_1);\n            destination.next(window_1);\n        }\n    };\n    WindowCountSubscriber.prototype._error = function (err) {\n        var windows = this.windows;\n        if (windows) {\n            while (windows.length > 0 && !this.closed) {\n                windows.shift().error(err);\n            }\n        }\n        this.destination.error(err);\n    };\n    WindowCountSubscriber.prototype._complete = function () {\n        var windows = this.windows;\n        if (windows) {\n            while (windows.length > 0 && !this.closed) {\n                windows.shift().complete();\n            }\n        }\n        this.destination.complete();\n    };\n    /** @deprecated internal use only */ WindowCountSubscriber.prototype._unsubscribe = function () {\n        this.count = 0;\n        this.windows = null;\n    };\n    return WindowCountSubscriber;\n}(Subscriber_1.Subscriber));\n//# sourceMappingURL=windowCount.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar Subject_1 = require('../Subject');\nvar async_1 = require('../scheduler/async');\nvar Subscriber_1 = require('../Subscriber');\nvar isNumeric_1 = require('../util/isNumeric');\nvar isScheduler_1 = require('../util/isScheduler');\nfunction windowTime(windowTimeSpan) {\n    var scheduler = async_1.async;\n    var windowCreationInterval = null;\n    var maxWindowSize = Number.POSITIVE_INFINITY;\n    if (isScheduler_1.isScheduler(arguments[3])) {\n        scheduler = arguments[3];\n    }\n    if (isScheduler_1.isScheduler(arguments[2])) {\n        scheduler = arguments[2];\n    }\n    else if (isNumeric_1.isNumeric(arguments[2])) {\n        maxWindowSize = arguments[2];\n    }\n    if (isScheduler_1.isScheduler(arguments[1])) {\n        scheduler = arguments[1];\n    }\n    else if (isNumeric_1.isNumeric(arguments[1])) {\n        windowCreationInterval = arguments[1];\n    }\n    return function windowTimeOperatorFunction(source) {\n        return source.lift(new WindowTimeOperator(windowTimeSpan, windowCreationInterval, maxWindowSize, scheduler));\n    };\n}\nexports.windowTime = windowTime;\nvar WindowTimeOperator = (function () {\n    function WindowTimeOperator(windowTimeSpan, windowCreationInterval, maxWindowSize, scheduler) {\n        this.windowTimeSpan = windowTimeSpan;\n        this.windowCreationInterval = windowCreationInterval;\n        this.maxWindowSize = maxWindowSize;\n        this.scheduler = scheduler;\n    }\n    WindowTimeOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new WindowTimeSubscriber(subscriber, this.windowTimeSpan, this.windowCreationInterval, this.maxWindowSize, this.scheduler));\n    };\n    return WindowTimeOperator;\n}());\nvar CountedSubject = (function (_super) {\n    __extends(CountedSubject, _super);\n    function CountedSubject() {\n        _super.apply(this, arguments);\n        this._numberOfNextedValues = 0;\n    }\n    CountedSubject.prototype.next = function (value) {\n        this._numberOfNextedValues++;\n        _super.prototype.next.call(this, value);\n    };\n    Object.defineProperty(CountedSubject.prototype, \"numberOfNextedValues\", {\n        get: function () {\n            return this._numberOfNextedValues;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return CountedSubject;\n}(Subject_1.Subject));\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar WindowTimeSubscriber = (function (_super) {\n    __extends(WindowTimeSubscriber, _super);\n    function WindowTimeSubscriber(destination, windowTimeSpan, windowCreationInterval, maxWindowSize, scheduler) {\n        _super.call(this, destination);\n        this.destination = destination;\n        this.windowTimeSpan = windowTimeSpan;\n        this.windowCreationInterval = windowCreationInterval;\n        this.maxWindowSize = maxWindowSize;\n        this.scheduler = scheduler;\n        this.windows = [];\n        var window = this.openWindow();\n        if (windowCreationInterval !== null && windowCreationInterval >= 0) {\n            var closeState = { subscriber: this, window: window, context: null };\n            var creationState = { windowTimeSpan: windowTimeSpan, windowCreationInterval: windowCreationInterval, subscriber: this, scheduler: scheduler };\n            this.add(scheduler.schedule(dispatchWindowClose, windowTimeSpan, closeState));\n            this.add(scheduler.schedule(dispatchWindowCreation, windowCreationInterval, creationState));\n        }\n        else {\n            var timeSpanOnlyState = { subscriber: this, window: window, windowTimeSpan: windowTimeSpan };\n            this.add(scheduler.schedule(dispatchWindowTimeSpanOnly, windowTimeSpan, timeSpanOnlyState));\n        }\n    }\n    WindowTimeSubscriber.prototype._next = function (value) {\n        var windows = this.windows;\n        var len = windows.length;\n        for (var i = 0; i < len; i++) {\n            var window_1 = windows[i];\n            if (!window_1.closed) {\n                window_1.next(value);\n                if (window_1.numberOfNextedValues >= this.maxWindowSize) {\n                    this.closeWindow(window_1);\n                }\n            }\n        }\n    };\n    WindowTimeSubscriber.prototype._error = function (err) {\n        var windows = this.windows;\n        while (windows.length > 0) {\n            windows.shift().error(err);\n        }\n        this.destination.error(err);\n    };\n    WindowTimeSubscriber.prototype._complete = function () {\n        var windows = this.windows;\n        while (windows.length > 0) {\n            var window_2 = windows.shift();\n            if (!window_2.closed) {\n                window_2.complete();\n            }\n        }\n        this.destination.complete();\n    };\n    WindowTimeSubscriber.prototype.openWindow = function () {\n        var window = new CountedSubject();\n        this.windows.push(window);\n        var destination = this.destination;\n        destination.next(window);\n        return window;\n    };\n    WindowTimeSubscriber.prototype.closeWindow = function (window) {\n        window.complete();\n        var windows = this.windows;\n        windows.splice(windows.indexOf(window), 1);\n    };\n    return WindowTimeSubscriber;\n}(Subscriber_1.Subscriber));\nfunction dispatchWindowTimeSpanOnly(state) {\n    var subscriber = state.subscriber, windowTimeSpan = state.windowTimeSpan, window = state.window;\n    if (window) {\n        subscriber.closeWindow(window);\n    }\n    state.window = subscriber.openWindow();\n    this.schedule(state, windowTimeSpan);\n}\nfunction dispatchWindowCreation(state) {\n    var windowTimeSpan = state.windowTimeSpan, subscriber = state.subscriber, scheduler = state.scheduler, windowCreationInterval = state.windowCreationInterval;\n    var window = subscriber.openWindow();\n    var action = this;\n    var context = { action: action, subscription: null };\n    var timeSpanState = { subscriber: subscriber, window: window, context: context };\n    context.subscription = scheduler.schedule(dispatchWindowClose, windowTimeSpan, timeSpanState);\n    action.add(context.subscription);\n    action.schedule(state, windowCreationInterval);\n}\nfunction dispatchWindowClose(state) {\n    var subscriber = state.subscriber, window = state.window, context = state.context;\n    if (context && context.action && context.subscription) {\n        context.action.remove(context.subscription);\n    }\n    subscriber.closeWindow(window);\n}\n//# sourceMappingURL=windowTime.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar Subject_1 = require('../Subject');\nvar Subscription_1 = require('../Subscription');\nvar tryCatch_1 = require('../util/tryCatch');\nvar errorObject_1 = require('../util/errorObject');\nvar OuterSubscriber_1 = require('../OuterSubscriber');\nvar subscribeToResult_1 = require('../util/subscribeToResult');\n/**\n * Branch out the source Observable values as a nested Observable starting from\n * an emission from `openings` and ending when the output of `closingSelector`\n * emits.\n *\n * <span class=\"informal\">It's like {@link bufferToggle}, but emits a nested\n * Observable instead of an array.</span>\n *\n * <img src=\"./img/windowToggle.png\" width=\"100%\">\n *\n * Returns an Observable that emits windows of items it collects from the source\n * Observable. The output Observable emits windows that contain those items\n * emitted by the source Observable between the time when the `openings`\n * Observable emits an item and when the Observable returned by\n * `closingSelector` emits an item.\n *\n * @example <caption>Every other second, emit the click events from the next 500ms</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var openings = Rx.Observable.interval(1000);\n * var result = clicks.windowToggle(openings, i =>\n *   i % 2 ? Rx.Observable.interval(500) : Rx.Observable.empty()\n * ).mergeAll();\n * result.subscribe(x => console.log(x));\n *\n * @see {@link window}\n * @see {@link windowCount}\n * @see {@link windowTime}\n * @see {@link windowWhen}\n * @see {@link bufferToggle}\n *\n * @param {Observable<O>} openings An observable of notifications to start new\n * windows.\n * @param {function(value: O): Observable} closingSelector A function that takes\n * the value emitted by the `openings` observable and returns an Observable,\n * which, when it emits (either `next` or `complete`), signals that the\n * associated window should complete.\n * @return {Observable<Observable<T>>} An observable of windows, which in turn\n * are Observables.\n * @method windowToggle\n * @owner Observable\n */\nfunction windowToggle(openings, closingSelector) {\n    return function (source) { return source.lift(new WindowToggleOperator(openings, closingSelector)); };\n}\nexports.windowToggle = windowToggle;\nvar WindowToggleOperator = (function () {\n    function WindowToggleOperator(openings, closingSelector) {\n        this.openings = openings;\n        this.closingSelector = closingSelector;\n    }\n    WindowToggleOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new WindowToggleSubscriber(subscriber, this.openings, this.closingSelector));\n    };\n    return WindowToggleOperator;\n}());\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar WindowToggleSubscriber = (function (_super) {\n    __extends(WindowToggleSubscriber, _super);\n    function WindowToggleSubscriber(destination, openings, closingSelector) {\n        _super.call(this, destination);\n        this.openings = openings;\n        this.closingSelector = closingSelector;\n        this.contexts = [];\n        this.add(this.openSubscription = subscribeToResult_1.subscribeToResult(this, openings, openings));\n    }\n    WindowToggleSubscriber.prototype._next = function (value) {\n        var contexts = this.contexts;\n        if (contexts) {\n            var len = contexts.length;\n            for (var i = 0; i < len; i++) {\n                contexts[i].window.next(value);\n            }\n        }\n    };\n    WindowToggleSubscriber.prototype._error = function (err) {\n        var contexts = this.contexts;\n        this.contexts = null;\n        if (contexts) {\n            var len = contexts.length;\n            var index = -1;\n            while (++index < len) {\n                var context = contexts[index];\n                context.window.error(err);\n                context.subscription.unsubscribe();\n            }\n        }\n        _super.prototype._error.call(this, err);\n    };\n    WindowToggleSubscriber.prototype._complete = function () {\n        var contexts = this.contexts;\n        this.contexts = null;\n        if (contexts) {\n            var len = contexts.length;\n            var index = -1;\n            while (++index < len) {\n                var context = contexts[index];\n                context.window.complete();\n                context.subscription.unsubscribe();\n            }\n        }\n        _super.prototype._complete.call(this);\n    };\n    /** @deprecated internal use only */ WindowToggleSubscriber.prototype._unsubscribe = function () {\n        var contexts = this.contexts;\n        this.contexts = null;\n        if (contexts) {\n            var len = contexts.length;\n            var index = -1;\n            while (++index < len) {\n                var context = contexts[index];\n                context.window.unsubscribe();\n                context.subscription.unsubscribe();\n            }\n        }\n    };\n    WindowToggleSubscriber.prototype.notifyNext = function (outerValue, innerValue, outerIndex, innerIndex, innerSub) {\n        if (outerValue === this.openings) {\n            var closingSelector = this.closingSelector;\n            var closingNotifier = tryCatch_1.tryCatch(closingSelector)(innerValue);\n            if (closingNotifier === errorObject_1.errorObject) {\n                return this.error(errorObject_1.errorObject.e);\n            }\n            else {\n                var window_1 = new Subject_1.Subject();\n                var subscription = new Subscription_1.Subscription();\n                var context = { window: window_1, subscription: subscription };\n                this.contexts.push(context);\n                var innerSubscription = subscribeToResult_1.subscribeToResult(this, closingNotifier, context);\n                if (innerSubscription.closed) {\n                    this.closeWindow(this.contexts.length - 1);\n                }\n                else {\n                    innerSubscription.context = context;\n                    subscription.add(innerSubscription);\n                }\n                this.destination.next(window_1);\n            }\n        }\n        else {\n            this.closeWindow(this.contexts.indexOf(outerValue));\n        }\n    };\n    WindowToggleSubscriber.prototype.notifyError = function (err) {\n        this.error(err);\n    };\n    WindowToggleSubscriber.prototype.notifyComplete = function (inner) {\n        if (inner !== this.openSubscription) {\n            this.closeWindow(this.contexts.indexOf(inner.context));\n        }\n    };\n    WindowToggleSubscriber.prototype.closeWindow = function (index) {\n        if (index === -1) {\n            return;\n        }\n        var contexts = this.contexts;\n        var context = contexts[index];\n        var window = context.window, subscription = context.subscription;\n        contexts.splice(index, 1);\n        window.complete();\n        subscription.unsubscribe();\n    };\n    return WindowToggleSubscriber;\n}(OuterSubscriber_1.OuterSubscriber));\n//# sourceMappingURL=windowToggle.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar Subject_1 = require('../Subject');\nvar tryCatch_1 = require('../util/tryCatch');\nvar errorObject_1 = require('../util/errorObject');\nvar OuterSubscriber_1 = require('../OuterSubscriber');\nvar subscribeToResult_1 = require('../util/subscribeToResult');\n/**\n * Branch out the source Observable values as a nested Observable using a\n * factory function of closing Observables to determine when to start a new\n * window.\n *\n * <span class=\"informal\">It's like {@link bufferWhen}, but emits a nested\n * Observable instead of an array.</span>\n *\n * <img src=\"./img/windowWhen.png\" width=\"100%\">\n *\n * Returns an Observable that emits windows of items it collects from the source\n * Observable. The output Observable emits connected, non-overlapping windows.\n * It emits the current window and opens a new one whenever the Observable\n * produced by the specified `closingSelector` function emits an item. The first\n * window is opened immediately when subscribing to the output Observable.\n *\n * @example <caption>Emit only the first two clicks events in every window of [1-5] random seconds</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var result = clicks\n *   .windowWhen(() => Rx.Observable.interval(1000 + Math.random() * 4000))\n *   .map(win => win.take(2)) // each window has at most 2 emissions\n *   .mergeAll(); // flatten the Observable-of-Observables\n * result.subscribe(x => console.log(x));\n *\n * @see {@link window}\n * @see {@link windowCount}\n * @see {@link windowTime}\n * @see {@link windowToggle}\n * @see {@link bufferWhen}\n *\n * @param {function(): Observable} closingSelector A function that takes no\n * arguments and returns an Observable that signals (on either `next` or\n * `complete`) when to close the previous window and start a new one.\n * @return {Observable<Observable<T>>} An observable of windows, which in turn\n * are Observables.\n * @method windowWhen\n * @owner Observable\n */\nfunction windowWhen(closingSelector) {\n    return function windowWhenOperatorFunction(source) {\n        return source.lift(new WindowOperator(closingSelector));\n    };\n}\nexports.windowWhen = windowWhen;\nvar WindowOperator = (function () {\n    function WindowOperator(closingSelector) {\n        this.closingSelector = closingSelector;\n    }\n    WindowOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new WindowSubscriber(subscriber, this.closingSelector));\n    };\n    return WindowOperator;\n}());\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar WindowSubscriber = (function (_super) {\n    __extends(WindowSubscriber, _super);\n    function WindowSubscriber(destination, closingSelector) {\n        _super.call(this, destination);\n        this.destination = destination;\n        this.closingSelector = closingSelector;\n        this.openWindow();\n    }\n    WindowSubscriber.prototype.notifyNext = function (outerValue, innerValue, outerIndex, innerIndex, innerSub) {\n        this.openWindow(innerSub);\n    };\n    WindowSubscriber.prototype.notifyError = function (error, innerSub) {\n        this._error(error);\n    };\n    WindowSubscriber.prototype.notifyComplete = function (innerSub) {\n        this.openWindow(innerSub);\n    };\n    WindowSubscriber.prototype._next = function (value) {\n        this.window.next(value);\n    };\n    WindowSubscriber.prototype._error = function (err) {\n        this.window.error(err);\n        this.destination.error(err);\n        this.unsubscribeClosingNotification();\n    };\n    WindowSubscriber.prototype._complete = function () {\n        this.window.complete();\n        this.destination.complete();\n        this.unsubscribeClosingNotification();\n    };\n    WindowSubscriber.prototype.unsubscribeClosingNotification = function () {\n        if (this.closingNotification) {\n            this.closingNotification.unsubscribe();\n        }\n    };\n    WindowSubscriber.prototype.openWindow = function (innerSub) {\n        if (innerSub === void 0) { innerSub = null; }\n        if (innerSub) {\n            this.remove(innerSub);\n            innerSub.unsubscribe();\n        }\n        var prevWindow = this.window;\n        if (prevWindow) {\n            prevWindow.complete();\n        }\n        var window = this.window = new Subject_1.Subject();\n        this.destination.next(window);\n        var closingNotifier = tryCatch_1.tryCatch(this.closingSelector)();\n        if (closingNotifier === errorObject_1.errorObject) {\n            var err = errorObject_1.errorObject.e;\n            this.destination.error(err);\n            this.window.error(err);\n        }\n        else {\n            this.add(this.closingNotification = subscribeToResult_1.subscribeToResult(this, closingNotifier));\n        }\n    };\n    return WindowSubscriber;\n}(OuterSubscriber_1.OuterSubscriber));\n//# sourceMappingURL=windowWhen.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar OuterSubscriber_1 = require('../OuterSubscriber');\nvar subscribeToResult_1 = require('../util/subscribeToResult');\n/* tslint:enable:max-line-length */\n/**\n * Combines the source Observable with other Observables to create an Observable\n * whose values are calculated from the latest values of each, only when the\n * source emits.\n *\n * <span class=\"informal\">Whenever the source Observable emits a value, it\n * computes a formula using that value plus the latest values from other input\n * Observables, then emits the output of that formula.</span>\n *\n * <img src=\"./img/withLatestFrom.png\" width=\"100%\">\n *\n * `withLatestFrom` combines each value from the source Observable (the\n * instance) with the latest values from the other input Observables only when\n * the source emits a value, optionally using a `project` function to determine\n * the value to be emitted on the output Observable. All input Observables must\n * emit at least one value before the output Observable will emit a value.\n *\n * @example <caption>On every click event, emit an array with the latest timer event plus the click event</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var timer = Rx.Observable.interval(1000);\n * var result = clicks.withLatestFrom(timer);\n * result.subscribe(x => console.log(x));\n *\n * @see {@link combineLatest}\n *\n * @param {ObservableInput} other An input Observable to combine with the source\n * Observable. More than one input Observables may be given as argument.\n * @param {Function} [project] Projection function for combining values\n * together. Receives all values in order of the Observables passed, where the\n * first parameter is a value from the source Observable. (e.g.\n * `a.withLatestFrom(b, c, (a1, b1, c1) => a1 + b1 + c1)`). If this is not\n * passed, arrays will be emitted on the output Observable.\n * @return {Observable} An Observable of projected values from the most recent\n * values from each input Observable, or an array of the most recent values from\n * each input Observable.\n * @method withLatestFrom\n * @owner Observable\n */\nfunction withLatestFrom() {\n    var args = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        args[_i - 0] = arguments[_i];\n    }\n    return function (source) {\n        var project;\n        if (typeof args[args.length - 1] === 'function') {\n            project = args.pop();\n        }\n        var observables = args;\n        return source.lift(new WithLatestFromOperator(observables, project));\n    };\n}\nexports.withLatestFrom = withLatestFrom;\nvar WithLatestFromOperator = (function () {\n    function WithLatestFromOperator(observables, project) {\n        this.observables = observables;\n        this.project = project;\n    }\n    WithLatestFromOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new WithLatestFromSubscriber(subscriber, this.observables, this.project));\n    };\n    return WithLatestFromOperator;\n}());\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar WithLatestFromSubscriber = (function (_super) {\n    __extends(WithLatestFromSubscriber, _super);\n    function WithLatestFromSubscriber(destination, observables, project) {\n        _super.call(this, destination);\n        this.observables = observables;\n        this.project = project;\n        this.toRespond = [];\n        var len = observables.length;\n        this.values = new Array(len);\n        for (var i = 0; i < len; i++) {\n            this.toRespond.push(i);\n        }\n        for (var i = 0; i < len; i++) {\n            var observable = observables[i];\n            this.add(subscribeToResult_1.subscribeToResult(this, observable, observable, i));\n        }\n    }\n    WithLatestFromSubscriber.prototype.notifyNext = function (outerValue, innerValue, outerIndex, innerIndex, innerSub) {\n        this.values[outerIndex] = innerValue;\n        var toRespond = this.toRespond;\n        if (toRespond.length > 0) {\n            var found = toRespond.indexOf(outerIndex);\n            if (found !== -1) {\n                toRespond.splice(found, 1);\n            }\n        }\n    };\n    WithLatestFromSubscriber.prototype.notifyComplete = function () {\n        // noop\n    };\n    WithLatestFromSubscriber.prototype._next = function (value) {\n        if (this.toRespond.length === 0) {\n            var args = [value].concat(this.values);\n            if (this.project) {\n                this._tryProject(args);\n            }\n            else {\n                this.destination.next(args);\n            }\n        }\n    };\n    WithLatestFromSubscriber.prototype._tryProject = function (args) {\n        var result;\n        try {\n            result = this.project.apply(this, args);\n        }\n        catch (err) {\n            this.destination.error(err);\n            return;\n        }\n        this.destination.next(result);\n    };\n    return WithLatestFromSubscriber;\n}(OuterSubscriber_1.OuterSubscriber));\n//# sourceMappingURL=withLatestFrom.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar ArrayObservable_1 = require('../observable/ArrayObservable');\nvar isArray_1 = require('../util/isArray');\nvar Subscriber_1 = require('../Subscriber');\nvar OuterSubscriber_1 = require('../OuterSubscriber');\nvar subscribeToResult_1 = require('../util/subscribeToResult');\nvar iterator_1 = require('../symbol/iterator');\n/* tslint:enable:max-line-length */\n/**\n * @param observables\n * @return {Observable<R>}\n * @method zip\n * @owner Observable\n */\nfunction zip() {\n    var observables = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        observables[_i - 0] = arguments[_i];\n    }\n    return function zipOperatorFunction(source) {\n        return source.lift.call(zipStatic.apply(void 0, [source].concat(observables)));\n    };\n}\nexports.zip = zip;\n/* tslint:enable:max-line-length */\n/**\n * Combines multiple Observables to create an Observable whose values are calculated from the values, in order, of each\n * of its input Observables.\n *\n * If the latest parameter is a function, this function is used to compute the created value from the input values.\n * Otherwise, an array of the input values is returned.\n *\n * @example <caption>Combine age and name from different sources</caption>\n *\n * let age$ = Observable.of<number>(27, 25, 29);\n * let name$ = Observable.of<string>('Foo', 'Bar', 'Beer');\n * let isDev$ = Observable.of<boolean>(true, true, false);\n *\n * Observable\n *     .zip(age$,\n *          name$,\n *          isDev$,\n *          (age: number, name: string, isDev: boolean) => ({ age, name, isDev }))\n *     .subscribe(x => console.log(x));\n *\n * // outputs\n * // { age: 27, name: 'Foo', isDev: true }\n * // { age: 25, name: 'Bar', isDev: true }\n * // { age: 29, name: 'Beer', isDev: false }\n *\n * @param observables\n * @return {Observable<R>}\n * @static true\n * @name zip\n * @owner Observable\n */\nfunction zipStatic() {\n    var observables = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        observables[_i - 0] = arguments[_i];\n    }\n    var project = observables[observables.length - 1];\n    if (typeof project === 'function') {\n        observables.pop();\n    }\n    return new ArrayObservable_1.ArrayObservable(observables).lift(new ZipOperator(project));\n}\nexports.zipStatic = zipStatic;\nvar ZipOperator = (function () {\n    function ZipOperator(project) {\n        this.project = project;\n    }\n    ZipOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new ZipSubscriber(subscriber, this.project));\n    };\n    return ZipOperator;\n}());\nexports.ZipOperator = ZipOperator;\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar ZipSubscriber = (function (_super) {\n    __extends(ZipSubscriber, _super);\n    function ZipSubscriber(destination, project, values) {\n        if (values === void 0) { values = Object.create(null); }\n        _super.call(this, destination);\n        this.iterators = [];\n        this.active = 0;\n        this.project = (typeof project === 'function') ? project : null;\n        this.values = values;\n    }\n    ZipSubscriber.prototype._next = function (value) {\n        var iterators = this.iterators;\n        if (isArray_1.isArray(value)) {\n            iterators.push(new StaticArrayIterator(value));\n        }\n        else if (typeof value[iterator_1.iterator] === 'function') {\n            iterators.push(new StaticIterator(value[iterator_1.iterator]()));\n        }\n        else {\n            iterators.push(new ZipBufferIterator(this.destination, this, value));\n        }\n    };\n    ZipSubscriber.prototype._complete = function () {\n        var iterators = this.iterators;\n        var len = iterators.length;\n        if (len === 0) {\n            this.destination.complete();\n            return;\n        }\n        this.active = len;\n        for (var i = 0; i < len; i++) {\n            var iterator = iterators[i];\n            if (iterator.stillUnsubscribed) {\n                this.add(iterator.subscribe(iterator, i));\n            }\n            else {\n                this.active--; // not an observable\n            }\n        }\n    };\n    ZipSubscriber.prototype.notifyInactive = function () {\n        this.active--;\n        if (this.active === 0) {\n            this.destination.complete();\n        }\n    };\n    ZipSubscriber.prototype.checkIterators = function () {\n        var iterators = this.iterators;\n        var len = iterators.length;\n        var destination = this.destination;\n        // abort if not all of them have values\n        for (var i = 0; i < len; i++) {\n            var iterator = iterators[i];\n            if (typeof iterator.hasValue === 'function' && !iterator.hasValue()) {\n                return;\n            }\n        }\n        var shouldComplete = false;\n        var args = [];\n        for (var i = 0; i < len; i++) {\n            var iterator = iterators[i];\n            var result = iterator.next();\n            // check to see if it's completed now that you've gotten\n            // the next value.\n            if (iterator.hasCompleted()) {\n                shouldComplete = true;\n            }\n            if (result.done) {\n                destination.complete();\n                return;\n            }\n            args.push(result.value);\n        }\n        if (this.project) {\n            this._tryProject(args);\n        }\n        else {\n            destination.next(args);\n        }\n        if (shouldComplete) {\n            destination.complete();\n        }\n    };\n    ZipSubscriber.prototype._tryProject = function (args) {\n        var result;\n        try {\n            result = this.project.apply(this, args);\n        }\n        catch (err) {\n            this.destination.error(err);\n            return;\n        }\n        this.destination.next(result);\n    };\n    return ZipSubscriber;\n}(Subscriber_1.Subscriber));\nexports.ZipSubscriber = ZipSubscriber;\nvar StaticIterator = (function () {\n    function StaticIterator(iterator) {\n        this.iterator = iterator;\n        this.nextResult = iterator.next();\n    }\n    StaticIterator.prototype.hasValue = function () {\n        return true;\n    };\n    StaticIterator.prototype.next = function () {\n        var result = this.nextResult;\n        this.nextResult = this.iterator.next();\n        return result;\n    };\n    StaticIterator.prototype.hasCompleted = function () {\n        var nextResult = this.nextResult;\n        return nextResult && nextResult.done;\n    };\n    return StaticIterator;\n}());\nvar StaticArrayIterator = (function () {\n    function StaticArrayIterator(array) {\n        this.array = array;\n        this.index = 0;\n        this.length = 0;\n        this.length = array.length;\n    }\n    StaticArrayIterator.prototype[iterator_1.iterator] = function () {\n        return this;\n    };\n    StaticArrayIterator.prototype.next = function (value) {\n        var i = this.index++;\n        var array = this.array;\n        return i < this.length ? { value: array[i], done: false } : { value: null, done: true };\n    };\n    StaticArrayIterator.prototype.hasValue = function () {\n        return this.array.length > this.index;\n    };\n    StaticArrayIterator.prototype.hasCompleted = function () {\n        return this.array.length === this.index;\n    };\n    return StaticArrayIterator;\n}());\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar ZipBufferIterator = (function (_super) {\n    __extends(ZipBufferIterator, _super);\n    function ZipBufferIterator(destination, parent, observable) {\n        _super.call(this, destination);\n        this.parent = parent;\n        this.observable = observable;\n        this.stillUnsubscribed = true;\n        this.buffer = [];\n        this.isComplete = false;\n    }\n    ZipBufferIterator.prototype[iterator_1.iterator] = function () {\n        return this;\n    };\n    // NOTE: there is actually a name collision here with Subscriber.next and Iterator.next\n    //    this is legit because `next()` will never be called by a subscription in this case.\n    ZipBufferIterator.prototype.next = function () {\n        var buffer = this.buffer;\n        if (buffer.length === 0 && this.isComplete) {\n            return { value: null, done: true };\n        }\n        else {\n            return { value: buffer.shift(), done: false };\n        }\n    };\n    ZipBufferIterator.prototype.hasValue = function () {\n        return this.buffer.length > 0;\n    };\n    ZipBufferIterator.prototype.hasCompleted = function () {\n        return this.buffer.length === 0 && this.isComplete;\n    };\n    ZipBufferIterator.prototype.notifyComplete = function () {\n        if (this.buffer.length > 0) {\n            this.isComplete = true;\n            this.parent.notifyInactive();\n        }\n        else {\n            this.destination.complete();\n        }\n    };\n    ZipBufferIterator.prototype.notifyNext = function (outerValue, innerValue, outerIndex, innerIndex, innerSub) {\n        this.buffer.push(innerValue);\n        this.parent.checkIterators();\n    };\n    ZipBufferIterator.prototype.subscribe = function (value, index) {\n        return subscribeToResult_1.subscribeToResult(this, this.observable, this, index);\n    };\n    return ZipBufferIterator;\n}(OuterSubscriber_1.OuterSubscriber));\n//# sourceMappingURL=zip.js.map","\"use strict\";\nvar zip_1 = require('./zip');\nfunction zipAll(project) {\n    return function (source) { return source.lift(new zip_1.ZipOperator(project)); };\n}\nexports.zipAll = zipAll;\n//# sourceMappingURL=zipAll.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar Subscription_1 = require('../Subscription');\n/**\n * A unit of work to be executed in a {@link Scheduler}. An action is typically\n * created from within a Scheduler and an RxJS user does not need to concern\n * themselves about creating and manipulating an Action.\n *\n * ```ts\n * class Action<T> extends Subscription {\n *   new (scheduler: Scheduler, work: (state?: T) => void);\n *   schedule(state?: T, delay: number = 0): Subscription;\n * }\n * ```\n *\n * @class Action<T>\n */\nvar Action = (function (_super) {\n    __extends(Action, _super);\n    function Action(scheduler, work) {\n        _super.call(this);\n    }\n    /**\n     * Schedules this action on its parent Scheduler for execution. May be passed\n     * some context object, `state`. May happen at some point in the future,\n     * according to the `delay` parameter, if specified.\n     * @param {T} [state] Some contextual data that the `work` function uses when\n     * called by the Scheduler.\n     * @param {number} [delay] Time to wait before executing the work, where the\n     * time unit is implicit and defined by the Scheduler.\n     * @return {void}\n     */\n    Action.prototype.schedule = function (state, delay) {\n        if (delay === void 0) { delay = 0; }\n        return this;\n    };\n    return Action;\n}(Subscription_1.Subscription));\nexports.Action = Action;\n//# sourceMappingURL=Action.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar AsyncAction_1 = require('./AsyncAction');\nvar AnimationFrame_1 = require('../util/AnimationFrame');\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar AnimationFrameAction = (function (_super) {\n    __extends(AnimationFrameAction, _super);\n    function AnimationFrameAction(scheduler, work) {\n        _super.call(this, scheduler, work);\n        this.scheduler = scheduler;\n        this.work = work;\n    }\n    AnimationFrameAction.prototype.requestAsyncId = function (scheduler, id, delay) {\n        if (delay === void 0) { delay = 0; }\n        // If delay is greater than 0, request as an async action.\n        if (delay !== null && delay > 0) {\n            return _super.prototype.requestAsyncId.call(this, scheduler, id, delay);\n        }\n        // Push the action to the end of the scheduler queue.\n        scheduler.actions.push(this);\n        // If an animation frame has already been requested, don't request another\n        // one. If an animation frame hasn't been requested yet, request one. Return\n        // the current animation frame request id.\n        return scheduler.scheduled || (scheduler.scheduled = AnimationFrame_1.AnimationFrame.requestAnimationFrame(scheduler.flush.bind(scheduler, null)));\n    };\n    AnimationFrameAction.prototype.recycleAsyncId = function (scheduler, id, delay) {\n        if (delay === void 0) { delay = 0; }\n        // If delay exists and is greater than 0, or if the delay is null (the\n        // action wasn't rescheduled) but was originally scheduled as an async\n        // action, then recycle as an async action.\n        if ((delay !== null && delay > 0) || (delay === null && this.delay > 0)) {\n            return _super.prototype.recycleAsyncId.call(this, scheduler, id, delay);\n        }\n        // If the scheduler queue is empty, cancel the requested animation frame and\n        // set the scheduled flag to undefined so the next AnimationFrameAction will\n        // request its own.\n        if (scheduler.actions.length === 0) {\n            AnimationFrame_1.AnimationFrame.cancelAnimationFrame(id);\n            scheduler.scheduled = undefined;\n        }\n        // Return undefined so the action knows to request a new async id if it's rescheduled.\n        return undefined;\n    };\n    return AnimationFrameAction;\n}(AsyncAction_1.AsyncAction));\nexports.AnimationFrameAction = AnimationFrameAction;\n//# sourceMappingURL=AnimationFrameAction.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar AsyncScheduler_1 = require('./AsyncScheduler');\nvar AnimationFrameScheduler = (function (_super) {\n    __extends(AnimationFrameScheduler, _super);\n    function AnimationFrameScheduler() {\n        _super.apply(this, arguments);\n    }\n    AnimationFrameScheduler.prototype.flush = function (action) {\n        this.active = true;\n        this.scheduled = undefined;\n        var actions = this.actions;\n        var error;\n        var index = -1;\n        var count = actions.length;\n        action = action || actions.shift();\n        do {\n            if (error = action.execute(action.state, action.delay)) {\n                break;\n            }\n        } while (++index < count && (action = actions.shift()));\n        this.active = false;\n        if (error) {\n            while (++index < count && (action = actions.shift())) {\n                action.unsubscribe();\n            }\n            throw error;\n        }\n    };\n    return AnimationFrameScheduler;\n}(AsyncScheduler_1.AsyncScheduler));\nexports.AnimationFrameScheduler = AnimationFrameScheduler;\n//# sourceMappingURL=AnimationFrameScheduler.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar Immediate_1 = require('../util/Immediate');\nvar AsyncAction_1 = require('./AsyncAction');\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar AsapAction = (function (_super) {\n    __extends(AsapAction, _super);\n    function AsapAction(scheduler, work) {\n        _super.call(this, scheduler, work);\n        this.scheduler = scheduler;\n        this.work = work;\n    }\n    AsapAction.prototype.requestAsyncId = function (scheduler, id, delay) {\n        if (delay === void 0) { delay = 0; }\n        // If delay is greater than 0, request as an async action.\n        if (delay !== null && delay > 0) {\n            return _super.prototype.requestAsyncId.call(this, scheduler, id, delay);\n        }\n        // Push the action to the end of the scheduler queue.\n        scheduler.actions.push(this);\n        // If a microtask has already been scheduled, don't schedule another\n        // one. If a microtask hasn't been scheduled yet, schedule one now. Return\n        // the current scheduled microtask id.\n        return scheduler.scheduled || (scheduler.scheduled = Immediate_1.Immediate.setImmediate(scheduler.flush.bind(scheduler, null)));\n    };\n    AsapAction.prototype.recycleAsyncId = function (scheduler, id, delay) {\n        if (delay === void 0) { delay = 0; }\n        // If delay exists and is greater than 0, or if the delay is null (the\n        // action wasn't rescheduled) but was originally scheduled as an async\n        // action, then recycle as an async action.\n        if ((delay !== null && delay > 0) || (delay === null && this.delay > 0)) {\n            return _super.prototype.recycleAsyncId.call(this, scheduler, id, delay);\n        }\n        // If the scheduler queue is empty, cancel the requested microtask and\n        // set the scheduled flag to undefined so the next AsapAction will schedule\n        // its own.\n        if (scheduler.actions.length === 0) {\n            Immediate_1.Immediate.clearImmediate(id);\n            scheduler.scheduled = undefined;\n        }\n        // Return undefined so the action knows to request a new async id if it's rescheduled.\n        return undefined;\n    };\n    return AsapAction;\n}(AsyncAction_1.AsyncAction));\nexports.AsapAction = AsapAction;\n//# sourceMappingURL=AsapAction.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar AsyncScheduler_1 = require('./AsyncScheduler');\nvar AsapScheduler = (function (_super) {\n    __extends(AsapScheduler, _super);\n    function AsapScheduler() {\n        _super.apply(this, arguments);\n    }\n    AsapScheduler.prototype.flush = function (action) {\n        this.active = true;\n        this.scheduled = undefined;\n        var actions = this.actions;\n        var error;\n        var index = -1;\n        var count = actions.length;\n        action = action || actions.shift();\n        do {\n            if (error = action.execute(action.state, action.delay)) {\n                break;\n            }\n        } while (++index < count && (action = actions.shift()));\n        this.active = false;\n        if (error) {\n            while (++index < count && (action = actions.shift())) {\n                action.unsubscribe();\n            }\n            throw error;\n        }\n    };\n    return AsapScheduler;\n}(AsyncScheduler_1.AsyncScheduler));\nexports.AsapScheduler = AsapScheduler;\n//# sourceMappingURL=AsapScheduler.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar root_1 = require('../util/root');\nvar Action_1 = require('./Action');\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar AsyncAction = (function (_super) {\n    __extends(AsyncAction, _super);\n    function AsyncAction(scheduler, work) {\n        _super.call(this, scheduler, work);\n        this.scheduler = scheduler;\n        this.work = work;\n        this.pending = false;\n    }\n    AsyncAction.prototype.schedule = function (state, delay) {\n        if (delay === void 0) { delay = 0; }\n        if (this.closed) {\n            return this;\n        }\n        // Always replace the current state with the new state.\n        this.state = state;\n        // Set the pending flag indicating that this action has been scheduled, or\n        // has recursively rescheduled itself.\n        this.pending = true;\n        var id = this.id;\n        var scheduler = this.scheduler;\n        //\n        // Important implementation note:\n        //\n        // Actions only execute once by default, unless rescheduled from within the\n        // scheduled callback. This allows us to implement single and repeat\n        // actions via the same code path, without adding API surface area, as well\n        // as mimic traditional recursion but across asynchronous boundaries.\n        //\n        // However, JS runtimes and timers distinguish between intervals achieved by\n        // serial `setTimeout` calls vs. a single `setInterval` call. An interval of\n        // serial `setTimeout` calls can be individually delayed, which delays\n        // scheduling the next `setTimeout`, and so on. `setInterval` attempts to\n        // guarantee the interval callback will be invoked more precisely to the\n        // interval period, regardless of load.\n        //\n        // Therefore, we use `setInterval` to schedule single and repeat actions.\n        // If the action reschedules itself with the same delay, the interval is not\n        // canceled. If the action doesn't reschedule, or reschedules with a\n        // different delay, the interval will be canceled after scheduled callback\n        // execution.\n        //\n        if (id != null) {\n            this.id = this.recycleAsyncId(scheduler, id, delay);\n        }\n        this.delay = delay;\n        // If this action has already an async Id, don't request a new one.\n        this.id = this.id || this.requestAsyncId(scheduler, this.id, delay);\n        return this;\n    };\n    AsyncAction.prototype.requestAsyncId = function (scheduler, id, delay) {\n        if (delay === void 0) { delay = 0; }\n        return root_1.root.setInterval(scheduler.flush.bind(scheduler, this), delay);\n    };\n    AsyncAction.prototype.recycleAsyncId = function (scheduler, id, delay) {\n        if (delay === void 0) { delay = 0; }\n        // If this action is rescheduled with the same delay time, don't clear the interval id.\n        if (delay !== null && this.delay === delay && this.pending === false) {\n            return id;\n        }\n        // Otherwise, if the action's delay time is different from the current delay,\n        // or the action has been rescheduled before it's executed, clear the interval id\n        return root_1.root.clearInterval(id) && undefined || undefined;\n    };\n    /**\n     * Immediately executes this action and the `work` it contains.\n     * @return {any}\n     */\n    AsyncAction.prototype.execute = function (state, delay) {\n        if (this.closed) {\n            return new Error('executing a cancelled action');\n        }\n        this.pending = false;\n        var error = this._execute(state, delay);\n        if (error) {\n            return error;\n        }\n        else if (this.pending === false && this.id != null) {\n            // Dequeue if the action didn't reschedule itself. Don't call\n            // unsubscribe(), because the action could reschedule later.\n            // For example:\n            // ```\n            // scheduler.schedule(function doWork(counter) {\n            //   /* ... I'm a busy worker bee ... */\n            //   var originalAction = this;\n            //   /* wait 100ms before rescheduling the action */\n            //   setTimeout(function () {\n            //     originalAction.schedule(counter + 1);\n            //   }, 100);\n            // }, 1000);\n            // ```\n            this.id = this.recycleAsyncId(this.scheduler, this.id, null);\n        }\n    };\n    AsyncAction.prototype._execute = function (state, delay) {\n        var errored = false;\n        var errorValue = undefined;\n        try {\n            this.work(state);\n        }\n        catch (e) {\n            errored = true;\n            errorValue = !!e && e || new Error(e);\n        }\n        if (errored) {\n            this.unsubscribe();\n            return errorValue;\n        }\n    };\n    /** @deprecated internal use only */ AsyncAction.prototype._unsubscribe = function () {\n        var id = this.id;\n        var scheduler = this.scheduler;\n        var actions = scheduler.actions;\n        var index = actions.indexOf(this);\n        this.work = null;\n        this.state = null;\n        this.pending = false;\n        this.scheduler = null;\n        if (index !== -1) {\n            actions.splice(index, 1);\n        }\n        if (id != null) {\n            this.id = this.recycleAsyncId(scheduler, id, null);\n        }\n        this.delay = null;\n    };\n    return AsyncAction;\n}(Action_1.Action));\nexports.AsyncAction = AsyncAction;\n//# sourceMappingURL=AsyncAction.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar Scheduler_1 = require('../Scheduler');\nvar AsyncScheduler = (function (_super) {\n    __extends(AsyncScheduler, _super);\n    function AsyncScheduler() {\n        _super.apply(this, arguments);\n        this.actions = [];\n        /**\n         * A flag to indicate whether the Scheduler is currently executing a batch of\n         * queued actions.\n         * @type {boolean}\n         */\n        this.active = false;\n        /**\n         * An internal ID used to track the latest asynchronous task such as those\n         * coming from `setTimeout`, `setInterval`, `requestAnimationFrame`, and\n         * others.\n         * @type {any}\n         */\n        this.scheduled = undefined;\n    }\n    AsyncScheduler.prototype.flush = function (action) {\n        var actions = this.actions;\n        if (this.active) {\n            actions.push(action);\n            return;\n        }\n        var error;\n        this.active = true;\n        do {\n            if (error = action.execute(action.state, action.delay)) {\n                break;\n            }\n        } while (action = actions.shift()); // exhaust the scheduler queue\n        this.active = false;\n        if (error) {\n            while (action = actions.shift()) {\n                action.unsubscribe();\n            }\n            throw error;\n        }\n    };\n    return AsyncScheduler;\n}(Scheduler_1.Scheduler));\nexports.AsyncScheduler = AsyncScheduler;\n//# sourceMappingURL=AsyncScheduler.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar AsyncAction_1 = require('./AsyncAction');\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar QueueAction = (function (_super) {\n    __extends(QueueAction, _super);\n    function QueueAction(scheduler, work) {\n        _super.call(this, scheduler, work);\n        this.scheduler = scheduler;\n        this.work = work;\n    }\n    QueueAction.prototype.schedule = function (state, delay) {\n        if (delay === void 0) { delay = 0; }\n        if (delay > 0) {\n            return _super.prototype.schedule.call(this, state, delay);\n        }\n        this.delay = delay;\n        this.state = state;\n        this.scheduler.flush(this);\n        return this;\n    };\n    QueueAction.prototype.execute = function (state, delay) {\n        return (delay > 0 || this.closed) ?\n            _super.prototype.execute.call(this, state, delay) :\n            this._execute(state, delay);\n    };\n    QueueAction.prototype.requestAsyncId = function (scheduler, id, delay) {\n        if (delay === void 0) { delay = 0; }\n        // If delay exists and is greater than 0, or if the delay is null (the\n        // action wasn't rescheduled) but was originally scheduled as an async\n        // action, then recycle as an async action.\n        if ((delay !== null && delay > 0) || (delay === null && this.delay > 0)) {\n            return _super.prototype.requestAsyncId.call(this, scheduler, id, delay);\n        }\n        // Otherwise flush the scheduler starting with this action.\n        return scheduler.flush(this);\n    };\n    return QueueAction;\n}(AsyncAction_1.AsyncAction));\nexports.QueueAction = QueueAction;\n//# sourceMappingURL=QueueAction.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar AsyncScheduler_1 = require('./AsyncScheduler');\nvar QueueScheduler = (function (_super) {\n    __extends(QueueScheduler, _super);\n    function QueueScheduler() {\n        _super.apply(this, arguments);\n    }\n    return QueueScheduler;\n}(AsyncScheduler_1.AsyncScheduler));\nexports.QueueScheduler = QueueScheduler;\n//# sourceMappingURL=QueueScheduler.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar AsyncAction_1 = require('./AsyncAction');\nvar AsyncScheduler_1 = require('./AsyncScheduler');\nvar VirtualTimeScheduler = (function (_super) {\n    __extends(VirtualTimeScheduler, _super);\n    function VirtualTimeScheduler(SchedulerAction, maxFrames) {\n        var _this = this;\n        if (SchedulerAction === void 0) { SchedulerAction = VirtualAction; }\n        if (maxFrames === void 0) { maxFrames = Number.POSITIVE_INFINITY; }\n        _super.call(this, SchedulerAction, function () { return _this.frame; });\n        this.maxFrames = maxFrames;\n        this.frame = 0;\n        this.index = -1;\n    }\n    /**\n     * Prompt the Scheduler to execute all of its queued actions, therefore\n     * clearing its queue.\n     * @return {void}\n     */\n    VirtualTimeScheduler.prototype.flush = function () {\n        var _a = this, actions = _a.actions, maxFrames = _a.maxFrames;\n        var error, action;\n        while ((action = actions.shift()) && (this.frame = action.delay) <= maxFrames) {\n            if (error = action.execute(action.state, action.delay)) {\n                break;\n            }\n        }\n        if (error) {\n            while (action = actions.shift()) {\n                action.unsubscribe();\n            }\n            throw error;\n        }\n    };\n    VirtualTimeScheduler.frameTimeFactor = 10;\n    return VirtualTimeScheduler;\n}(AsyncScheduler_1.AsyncScheduler));\nexports.VirtualTimeScheduler = VirtualTimeScheduler;\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar VirtualAction = (function (_super) {\n    __extends(VirtualAction, _super);\n    function VirtualAction(scheduler, work, index) {\n        if (index === void 0) { index = scheduler.index += 1; }\n        _super.call(this, scheduler, work);\n        this.scheduler = scheduler;\n        this.work = work;\n        this.index = index;\n        this.active = true;\n        this.index = scheduler.index = index;\n    }\n    VirtualAction.prototype.schedule = function (state, delay) {\n        if (delay === void 0) { delay = 0; }\n        if (!this.id) {\n            return _super.prototype.schedule.call(this, state, delay);\n        }\n        this.active = false;\n        // If an action is rescheduled, we save allocations by mutating its state,\n        // pushing it to the end of the scheduler queue, and recycling the action.\n        // But since the VirtualTimeScheduler is used for testing, VirtualActions\n        // must be immutable so they can be inspected later.\n        var action = new VirtualAction(this.scheduler, this.work);\n        this.add(action);\n        return action.schedule(state, delay);\n    };\n    VirtualAction.prototype.requestAsyncId = function (scheduler, id, delay) {\n        if (delay === void 0) { delay = 0; }\n        this.delay = scheduler.frame + delay;\n        var actions = scheduler.actions;\n        actions.push(this);\n        actions.sort(VirtualAction.sortActions);\n        return true;\n    };\n    VirtualAction.prototype.recycleAsyncId = function (scheduler, id, delay) {\n        if (delay === void 0) { delay = 0; }\n        return undefined;\n    };\n    VirtualAction.prototype._execute = function (state, delay) {\n        if (this.active === true) {\n            return _super.prototype._execute.call(this, state, delay);\n        }\n    };\n    VirtualAction.sortActions = function (a, b) {\n        if (a.delay === b.delay) {\n            if (a.index === b.index) {\n                return 0;\n            }\n            else if (a.index > b.index) {\n                return 1;\n            }\n            else {\n                return -1;\n            }\n        }\n        else if (a.delay > b.delay) {\n            return 1;\n        }\n        else {\n            return -1;\n        }\n    };\n    return VirtualAction;\n}(AsyncAction_1.AsyncAction));\nexports.VirtualAction = VirtualAction;\n//# sourceMappingURL=VirtualTimeScheduler.js.map","\"use strict\";\nvar AnimationFrameAction_1 = require('./AnimationFrameAction');\nvar AnimationFrameScheduler_1 = require('./AnimationFrameScheduler');\n/**\n *\n * Animation Frame Scheduler\n *\n * <span class=\"informal\">Perform task when `window.requestAnimationFrame` would fire</span>\n *\n * When `animationFrame` scheduler is used with delay, it will fall back to {@link async} scheduler\n * behaviour.\n *\n * Without delay, `animationFrame` scheduler can be used to create smooth browser animations.\n * It makes sure scheduled task will happen just before next browser content repaint,\n * thus performing animations as efficiently as possible.\n *\n * @example <caption>Schedule div height animation</caption>\n * const div = document.querySelector('.some-div');\n *\n * Rx.Scheduler.schedule(function(height) {\n *   div.style.height = height + \"px\";\n *\n *   this.schedule(height + 1);  // `this` references currently executing Action,\n *                               // which we reschedule with new state\n * }, 0, 0);\n *\n * // You will see .some-div element growing in height\n *\n *\n * @static true\n * @name animationFrame\n * @owner Scheduler\n */\nexports.animationFrame = new AnimationFrameScheduler_1.AnimationFrameScheduler(AnimationFrameAction_1.AnimationFrameAction);\n//# sourceMappingURL=animationFrame.js.map","\"use strict\";\nvar AsapAction_1 = require('./AsapAction');\nvar AsapScheduler_1 = require('./AsapScheduler');\n/**\n *\n * Asap Scheduler\n *\n * <span class=\"informal\">Perform task as fast as it can be performed asynchronously</span>\n *\n * `asap` scheduler behaves the same as {@link async} scheduler when you use it to delay task\n * in time. If however you set delay to `0`, `asap` will wait for current synchronously executing\n * code to end and then it will try to execute given task as fast as possible.\n *\n * `asap` scheduler will do its best to minimize time between end of currently executing code\n * and start of scheduled task. This makes it best candidate for performing so called \"deferring\".\n * Traditionally this was achieved by calling `setTimeout(deferredTask, 0)`, but that technique involves\n * some (although minimal) unwanted delay.\n *\n * Note that using `asap` scheduler does not necessarily mean that your task will be first to process\n * after currently executing code. In particular, if some task was also scheduled with `asap` before,\n * that task will execute first. That being said, if you need to schedule task asynchronously, but\n * as soon as possible, `asap` scheduler is your best bet.\n *\n * @example <caption>Compare async and asap scheduler</caption>\n *\n * Rx.Scheduler.async.schedule(() => console.log('async')); // scheduling 'async' first...\n * Rx.Scheduler.asap.schedule(() => console.log('asap'));\n *\n * // Logs:\n * // \"asap\"\n * // \"async\"\n * // ... but 'asap' goes first!\n *\n * @static true\n * @name asap\n * @owner Scheduler\n */\nexports.asap = new AsapScheduler_1.AsapScheduler(AsapAction_1.AsapAction);\n//# sourceMappingURL=asap.js.map","\"use strict\";\nvar AsyncAction_1 = require('./AsyncAction');\nvar AsyncScheduler_1 = require('./AsyncScheduler');\n/**\n *\n * Async Scheduler\n *\n * <span class=\"informal\">Schedule task as if you used setTimeout(task, duration)</span>\n *\n * `async` scheduler schedules tasks asynchronously, by putting them on the JavaScript\n * event loop queue. It is best used to delay tasks in time or to schedule tasks repeating\n * in intervals.\n *\n * If you just want to \"defer\" task, that is to perform it right after currently\n * executing synchronous code ends (commonly achieved by `setTimeout(deferredTask, 0)`),\n * better choice will be the {@link asap} scheduler.\n *\n * @example <caption>Use async scheduler to delay task</caption>\n * const task = () => console.log('it works!');\n *\n * Rx.Scheduler.async.schedule(task, 2000);\n *\n * // After 2 seconds logs:\n * // \"it works!\"\n *\n *\n * @example <caption>Use async scheduler to repeat task in intervals</caption>\n * function task(state) {\n *   console.log(state);\n *   this.schedule(state + 1, 1000); // `this` references currently executing Action,\n *                                   // which we reschedule with new state and delay\n * }\n *\n * Rx.Scheduler.async.schedule(task, 3000, 0);\n *\n * // Logs:\n * // 0 after 3s\n * // 1 after 4s\n * // 2 after 5s\n * // 3 after 6s\n *\n * @static true\n * @name async\n * @owner Scheduler\n */\nexports.async = new AsyncScheduler_1.AsyncScheduler(AsyncAction_1.AsyncAction);\n//# sourceMappingURL=async.js.map","\"use strict\";\nvar QueueAction_1 = require('./QueueAction');\nvar QueueScheduler_1 = require('./QueueScheduler');\n/**\n *\n * Queue Scheduler\n *\n * <span class=\"informal\">Put every next task on a queue, instead of executing it immediately</span>\n *\n * `queue` scheduler, when used with delay, behaves the same as {@link async} scheduler.\n *\n * When used without delay, it schedules given task synchronously - executes it right when\n * it is scheduled. However when called recursively, that is when inside the scheduled task,\n * another task is scheduled with queue scheduler, instead of executing immediately as well,\n * that task will be put on a queue and wait for current one to finish.\n *\n * This means that when you execute task with `queue` scheduler, you are sure it will end\n * before any other task scheduled with that scheduler will start.\n *\n * @examples <caption>Schedule recursively first, then do something</caption>\n *\n * Rx.Scheduler.queue.schedule(() => {\n *   Rx.Scheduler.queue.schedule(() => console.log('second')); // will not happen now, but will be put on a queue\n *\n *   console.log('first');\n * });\n *\n * // Logs:\n * // \"first\"\n * // \"second\"\n *\n *\n * @example <caption>Reschedule itself recursively</caption>\n *\n * Rx.Scheduler.queue.schedule(function(state) {\n *   if (state !== 0) {\n *     console.log('before', state);\n *     this.schedule(state - 1); // `this` references currently executing Action,\n *                               // which we reschedule with new state\n *     console.log('after', state);\n *   }\n * }, 0, 3);\n *\n * // In scheduler that runs recursively, you would expect:\n * // \"before\", 3\n * // \"before\", 2\n * // \"before\", 1\n * // \"after\", 1\n * // \"after\", 2\n * // \"after\", 3\n *\n * // But with queue it logs:\n * // \"before\", 3\n * // \"after\", 3\n * // \"before\", 2\n * // \"after\", 2\n * // \"before\", 1\n * // \"after\", 1\n *\n *\n * @static true\n * @name queue\n * @owner Scheduler\n */\nexports.queue = new QueueScheduler_1.QueueScheduler(QueueAction_1.QueueAction);\n//# sourceMappingURL=queue.js.map","\"use strict\";\nvar root_1 = require('../util/root');\nfunction symbolIteratorPonyfill(root) {\n    var Symbol = root.Symbol;\n    if (typeof Symbol === 'function') {\n        if (!Symbol.iterator) {\n            Symbol.iterator = Symbol('iterator polyfill');\n        }\n        return Symbol.iterator;\n    }\n    else {\n        // [for Mozilla Gecko 27-35:](https://mzl.la/2ewE1zC)\n        var Set_1 = root.Set;\n        if (Set_1 && typeof new Set_1()['@@iterator'] === 'function') {\n            return '@@iterator';\n        }\n        var Map_1 = root.Map;\n        // required for compatability with es6-shim\n        if (Map_1) {\n            var keys = Object.getOwnPropertyNames(Map_1.prototype);\n            for (var i = 0; i < keys.length; ++i) {\n                var key = keys[i];\n                // according to spec, Map.prototype[@@iterator] and Map.orototype.entries must be equal.\n                if (key !== 'entries' && key !== 'size' && Map_1.prototype[key] === Map_1.prototype['entries']) {\n                    return key;\n                }\n            }\n        }\n        return '@@iterator';\n    }\n}\nexports.symbolIteratorPonyfill = symbolIteratorPonyfill;\nexports.iterator = symbolIteratorPonyfill(root_1.root);\n/**\n * @deprecated use iterator instead\n */\nexports.$$iterator = exports.iterator;\n//# sourceMappingURL=iterator.js.map","\"use strict\";\nvar root_1 = require('../util/root');\nfunction getSymbolObservable(context) {\n    var $$observable;\n    var Symbol = context.Symbol;\n    if (typeof Symbol === 'function') {\n        if (Symbol.observable) {\n            $$observable = Symbol.observable;\n        }\n        else {\n            $$observable = Symbol('observable');\n            Symbol.observable = $$observable;\n        }\n    }\n    else {\n        $$observable = '@@observable';\n    }\n    return $$observable;\n}\nexports.getSymbolObservable = getSymbolObservable;\nexports.observable = getSymbolObservable(root_1.root);\n/**\n * @deprecated use observable instead\n */\nexports.$$observable = exports.observable;\n//# sourceMappingURL=observable.js.map","\"use strict\";\nvar root_1 = require('../util/root');\nvar Symbol = root_1.root.Symbol;\nexports.rxSubscriber = (typeof Symbol === 'function' && typeof Symbol.for === 'function') ?\n    Symbol.for('rxSubscriber') : '@@rxSubscriber';\n/**\n * @deprecated use rxSubscriber instead\n */\nexports.$$rxSubscriber = exports.rxSubscriber;\n//# sourceMappingURL=rxSubscriber.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar Observable_1 = require('../Observable');\nvar Subscription_1 = require('../Subscription');\nvar SubscriptionLoggable_1 = require('./SubscriptionLoggable');\nvar applyMixins_1 = require('../util/applyMixins');\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar ColdObservable = (function (_super) {\n    __extends(ColdObservable, _super);\n    function ColdObservable(messages, scheduler) {\n        _super.call(this, function (subscriber) {\n            var observable = this;\n            var index = observable.logSubscribedFrame();\n            subscriber.add(new Subscription_1.Subscription(function () {\n                observable.logUnsubscribedFrame(index);\n            }));\n            observable.scheduleMessages(subscriber);\n            return subscriber;\n        });\n        this.messages = messages;\n        this.subscriptions = [];\n        this.scheduler = scheduler;\n    }\n    ColdObservable.prototype.scheduleMessages = function (subscriber) {\n        var messagesLength = this.messages.length;\n        for (var i = 0; i < messagesLength; i++) {\n            var message = this.messages[i];\n            subscriber.add(this.scheduler.schedule(function (_a) {\n                var message = _a.message, subscriber = _a.subscriber;\n                message.notification.observe(subscriber);\n            }, message.frame, { message: message, subscriber: subscriber }));\n        }\n    };\n    return ColdObservable;\n}(Observable_1.Observable));\nexports.ColdObservable = ColdObservable;\napplyMixins_1.applyMixins(ColdObservable, [SubscriptionLoggable_1.SubscriptionLoggable]);\n//# sourceMappingURL=ColdObservable.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar Subject_1 = require('../Subject');\nvar Subscription_1 = require('../Subscription');\nvar SubscriptionLoggable_1 = require('./SubscriptionLoggable');\nvar applyMixins_1 = require('../util/applyMixins');\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar HotObservable = (function (_super) {\n    __extends(HotObservable, _super);\n    function HotObservable(messages, scheduler) {\n        _super.call(this);\n        this.messages = messages;\n        this.subscriptions = [];\n        this.scheduler = scheduler;\n    }\n    /** @deprecated internal use only */ HotObservable.prototype._subscribe = function (subscriber) {\n        var subject = this;\n        var index = subject.logSubscribedFrame();\n        subscriber.add(new Subscription_1.Subscription(function () {\n            subject.logUnsubscribedFrame(index);\n        }));\n        return _super.prototype._subscribe.call(this, subscriber);\n    };\n    HotObservable.prototype.setup = function () {\n        var subject = this;\n        var messagesLength = subject.messages.length;\n        /* tslint:disable:no-var-keyword */\n        for (var i = 0; i < messagesLength; i++) {\n            (function () {\n                var message = subject.messages[i];\n                /* tslint:enable */\n                subject.scheduler.schedule(function () { message.notification.observe(subject); }, message.frame);\n            })();\n        }\n    };\n    return HotObservable;\n}(Subject_1.Subject));\nexports.HotObservable = HotObservable;\napplyMixins_1.applyMixins(HotObservable, [SubscriptionLoggable_1.SubscriptionLoggable]);\n//# sourceMappingURL=HotObservable.js.map","\"use strict\";\nvar SubscriptionLog = (function () {\n    function SubscriptionLog(subscribedFrame, unsubscribedFrame) {\n        if (unsubscribedFrame === void 0) { unsubscribedFrame = Number.POSITIVE_INFINITY; }\n        this.subscribedFrame = subscribedFrame;\n        this.unsubscribedFrame = unsubscribedFrame;\n    }\n    return SubscriptionLog;\n}());\nexports.SubscriptionLog = SubscriptionLog;\n//# sourceMappingURL=SubscriptionLog.js.map","\"use strict\";\nvar SubscriptionLog_1 = require('./SubscriptionLog');\nvar SubscriptionLoggable = (function () {\n    function SubscriptionLoggable() {\n        this.subscriptions = [];\n    }\n    SubscriptionLoggable.prototype.logSubscribedFrame = function () {\n        this.subscriptions.push(new SubscriptionLog_1.SubscriptionLog(this.scheduler.now()));\n        return this.subscriptions.length - 1;\n    };\n    SubscriptionLoggable.prototype.logUnsubscribedFrame = function (index) {\n        var subscriptionLogs = this.subscriptions;\n        var oldSubscriptionLog = subscriptionLogs[index];\n        subscriptionLogs[index] = new SubscriptionLog_1.SubscriptionLog(oldSubscriptionLog.subscribedFrame, this.scheduler.now());\n    };\n    return SubscriptionLoggable;\n}());\nexports.SubscriptionLoggable = SubscriptionLoggable;\n//# sourceMappingURL=SubscriptionLoggable.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar Observable_1 = require('../Observable');\nvar Notification_1 = require('../Notification');\nvar ColdObservable_1 = require('./ColdObservable');\nvar HotObservable_1 = require('./HotObservable');\nvar SubscriptionLog_1 = require('./SubscriptionLog');\nvar VirtualTimeScheduler_1 = require('../scheduler/VirtualTimeScheduler');\nvar defaultMaxFrame = 750;\nvar TestScheduler = (function (_super) {\n    __extends(TestScheduler, _super);\n    function TestScheduler(assertDeepEqual) {\n        _super.call(this, VirtualTimeScheduler_1.VirtualAction, defaultMaxFrame);\n        this.assertDeepEqual = assertDeepEqual;\n        this.hotObservables = [];\n        this.coldObservables = [];\n        this.flushTests = [];\n    }\n    TestScheduler.prototype.createTime = function (marbles) {\n        var indexOf = marbles.indexOf('|');\n        if (indexOf === -1) {\n            throw new Error('marble diagram for time should have a completion marker \"|\"');\n        }\n        return indexOf * TestScheduler.frameTimeFactor;\n    };\n    TestScheduler.prototype.createColdObservable = function (marbles, values, error) {\n        if (marbles.indexOf('^') !== -1) {\n            throw new Error('cold observable cannot have subscription offset \"^\"');\n        }\n        if (marbles.indexOf('!') !== -1) {\n            throw new Error('cold observable cannot have unsubscription marker \"!\"');\n        }\n        var messages = TestScheduler.parseMarbles(marbles, values, error);\n        var cold = new ColdObservable_1.ColdObservable(messages, this);\n        this.coldObservables.push(cold);\n        return cold;\n    };\n    TestScheduler.prototype.createHotObservable = function (marbles, values, error) {\n        if (marbles.indexOf('!') !== -1) {\n            throw new Error('hot observable cannot have unsubscription marker \"!\"');\n        }\n        var messages = TestScheduler.parseMarbles(marbles, values, error);\n        var subject = new HotObservable_1.HotObservable(messages, this);\n        this.hotObservables.push(subject);\n        return subject;\n    };\n    TestScheduler.prototype.materializeInnerObservable = function (observable, outerFrame) {\n        var _this = this;\n        var messages = [];\n        observable.subscribe(function (value) {\n            messages.push({ frame: _this.frame - outerFrame, notification: Notification_1.Notification.createNext(value) });\n        }, function (err) {\n            messages.push({ frame: _this.frame - outerFrame, notification: Notification_1.Notification.createError(err) });\n        }, function () {\n            messages.push({ frame: _this.frame - outerFrame, notification: Notification_1.Notification.createComplete() });\n        });\n        return messages;\n    };\n    TestScheduler.prototype.expectObservable = function (observable, unsubscriptionMarbles) {\n        var _this = this;\n        if (unsubscriptionMarbles === void 0) { unsubscriptionMarbles = null; }\n        var actual = [];\n        var flushTest = { actual: actual, ready: false };\n        var unsubscriptionFrame = TestScheduler\n            .parseMarblesAsSubscriptions(unsubscriptionMarbles).unsubscribedFrame;\n        var subscription;\n        this.schedule(function () {\n            subscription = observable.subscribe(function (x) {\n                var value = x;\n                // Support Observable-of-Observables\n                if (x instanceof Observable_1.Observable) {\n                    value = _this.materializeInnerObservable(value, _this.frame);\n                }\n                actual.push({ frame: _this.frame, notification: Notification_1.Notification.createNext(value) });\n            }, function (err) {\n                actual.push({ frame: _this.frame, notification: Notification_1.Notification.createError(err) });\n            }, function () {\n                actual.push({ frame: _this.frame, notification: Notification_1.Notification.createComplete() });\n            });\n        }, 0);\n        if (unsubscriptionFrame !== Number.POSITIVE_INFINITY) {\n            this.schedule(function () { return subscription.unsubscribe(); }, unsubscriptionFrame);\n        }\n        this.flushTests.push(flushTest);\n        return {\n            toBe: function (marbles, values, errorValue) {\n                flushTest.ready = true;\n                flushTest.expected = TestScheduler.parseMarbles(marbles, values, errorValue, true);\n            }\n        };\n    };\n    TestScheduler.prototype.expectSubscriptions = function (actualSubscriptionLogs) {\n        var flushTest = { actual: actualSubscriptionLogs, ready: false };\n        this.flushTests.push(flushTest);\n        return {\n            toBe: function (marbles) {\n                var marblesArray = (typeof marbles === 'string') ? [marbles] : marbles;\n                flushTest.ready = true;\n                flushTest.expected = marblesArray.map(function (marbles) {\n                    return TestScheduler.parseMarblesAsSubscriptions(marbles);\n                });\n            }\n        };\n    };\n    TestScheduler.prototype.flush = function () {\n        var hotObservables = this.hotObservables;\n        while (hotObservables.length > 0) {\n            hotObservables.shift().setup();\n        }\n        _super.prototype.flush.call(this);\n        var readyFlushTests = this.flushTests.filter(function (test) { return test.ready; });\n        while (readyFlushTests.length > 0) {\n            var test = readyFlushTests.shift();\n            this.assertDeepEqual(test.actual, test.expected);\n        }\n    };\n    TestScheduler.parseMarblesAsSubscriptions = function (marbles) {\n        if (typeof marbles !== 'string') {\n            return new SubscriptionLog_1.SubscriptionLog(Number.POSITIVE_INFINITY);\n        }\n        var len = marbles.length;\n        var groupStart = -1;\n        var subscriptionFrame = Number.POSITIVE_INFINITY;\n        var unsubscriptionFrame = Number.POSITIVE_INFINITY;\n        for (var i = 0; i < len; i++) {\n            var frame = i * this.frameTimeFactor;\n            var c = marbles[i];\n            switch (c) {\n                case '-':\n                case ' ':\n                    break;\n                case '(':\n                    groupStart = frame;\n                    break;\n                case ')':\n                    groupStart = -1;\n                    break;\n                case '^':\n                    if (subscriptionFrame !== Number.POSITIVE_INFINITY) {\n                        throw new Error('found a second subscription point \\'^\\' in a ' +\n                            'subscription marble diagram. There can only be one.');\n                    }\n                    subscriptionFrame = groupStart > -1 ? groupStart : frame;\n                    break;\n                case '!':\n                    if (unsubscriptionFrame !== Number.POSITIVE_INFINITY) {\n                        throw new Error('found a second subscription point \\'^\\' in a ' +\n                            'subscription marble diagram. There can only be one.');\n                    }\n                    unsubscriptionFrame = groupStart > -1 ? groupStart : frame;\n                    break;\n                default:\n                    throw new Error('there can only be \\'^\\' and \\'!\\' markers in a ' +\n                        'subscription marble diagram. Found instead \\'' + c + '\\'.');\n            }\n        }\n        if (unsubscriptionFrame < 0) {\n            return new SubscriptionLog_1.SubscriptionLog(subscriptionFrame);\n        }\n        else {\n            return new SubscriptionLog_1.SubscriptionLog(subscriptionFrame, unsubscriptionFrame);\n        }\n    };\n    TestScheduler.parseMarbles = function (marbles, values, errorValue, materializeInnerObservables) {\n        if (materializeInnerObservables === void 0) { materializeInnerObservables = false; }\n        if (marbles.indexOf('!') !== -1) {\n            throw new Error('conventional marble diagrams cannot have the ' +\n                'unsubscription marker \"!\"');\n        }\n        var len = marbles.length;\n        var testMessages = [];\n        var subIndex = marbles.indexOf('^');\n        var frameOffset = subIndex === -1 ? 0 : (subIndex * -this.frameTimeFactor);\n        var getValue = typeof values !== 'object' ?\n            function (x) { return x; } :\n            function (x) {\n                // Support Observable-of-Observables\n                if (materializeInnerObservables && values[x] instanceof ColdObservable_1.ColdObservable) {\n                    return values[x].messages;\n                }\n                return values[x];\n            };\n        var groupStart = -1;\n        for (var i = 0; i < len; i++) {\n            var frame = i * this.frameTimeFactor + frameOffset;\n            var notification = void 0;\n            var c = marbles[i];\n            switch (c) {\n                case '-':\n                case ' ':\n                    break;\n                case '(':\n                    groupStart = frame;\n                    break;\n                case ')':\n                    groupStart = -1;\n                    break;\n                case '|':\n                    notification = Notification_1.Notification.createComplete();\n                    break;\n                case '^':\n                    break;\n                case '#':\n                    notification = Notification_1.Notification.createError(errorValue || 'error');\n                    break;\n                default:\n                    notification = Notification_1.Notification.createNext(getValue(c));\n                    break;\n            }\n            if (notification) {\n                testMessages.push({ frame: groupStart > -1 ? groupStart : frame, notification: notification });\n            }\n        }\n        return testMessages;\n    };\n    return TestScheduler;\n}(VirtualTimeScheduler_1.VirtualTimeScheduler));\nexports.TestScheduler = TestScheduler;\n//# sourceMappingURL=TestScheduler.js.map","\"use strict\";\nvar root_1 = require('./root');\nvar RequestAnimationFrameDefinition = (function () {\n    function RequestAnimationFrameDefinition(root) {\n        if (root.requestAnimationFrame) {\n            this.cancelAnimationFrame = root.cancelAnimationFrame.bind(root);\n            this.requestAnimationFrame = root.requestAnimationFrame.bind(root);\n        }\n        else if (root.mozRequestAnimationFrame) {\n            this.cancelAnimationFrame = root.mozCancelAnimationFrame.bind(root);\n            this.requestAnimationFrame = root.mozRequestAnimationFrame.bind(root);\n        }\n        else if (root.webkitRequestAnimationFrame) {\n            this.cancelAnimationFrame = root.webkitCancelAnimationFrame.bind(root);\n            this.requestAnimationFrame = root.webkitRequestAnimationFrame.bind(root);\n        }\n        else if (root.msRequestAnimationFrame) {\n            this.cancelAnimationFrame = root.msCancelAnimationFrame.bind(root);\n            this.requestAnimationFrame = root.msRequestAnimationFrame.bind(root);\n        }\n        else if (root.oRequestAnimationFrame) {\n            this.cancelAnimationFrame = root.oCancelAnimationFrame.bind(root);\n            this.requestAnimationFrame = root.oRequestAnimationFrame.bind(root);\n        }\n        else {\n            this.cancelAnimationFrame = root.clearTimeout.bind(root);\n            this.requestAnimationFrame = function (cb) { return root.setTimeout(cb, 1000 / 60); };\n        }\n    }\n    return RequestAnimationFrameDefinition;\n}());\nexports.RequestAnimationFrameDefinition = RequestAnimationFrameDefinition;\nexports.AnimationFrame = new RequestAnimationFrameDefinition(root_1.root);\n//# sourceMappingURL=AnimationFrame.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\n/**\n * An error thrown when an element was queried at a certain index of an\n * Observable, but no such index or position exists in that sequence.\n *\n * @see {@link elementAt}\n * @see {@link take}\n * @see {@link takeLast}\n *\n * @class ArgumentOutOfRangeError\n */\nvar ArgumentOutOfRangeError = (function (_super) {\n    __extends(ArgumentOutOfRangeError, _super);\n    function ArgumentOutOfRangeError() {\n        var err = _super.call(this, 'argument out of range');\n        this.name = err.name = 'ArgumentOutOfRangeError';\n        this.stack = err.stack;\n        this.message = err.message;\n    }\n    return ArgumentOutOfRangeError;\n}(Error));\nexports.ArgumentOutOfRangeError = ArgumentOutOfRangeError;\n//# sourceMappingURL=ArgumentOutOfRangeError.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\n/**\n * An error thrown when an Observable or a sequence was queried but has no\n * elements.\n *\n * @see {@link first}\n * @see {@link last}\n * @see {@link single}\n *\n * @class EmptyError\n */\nvar EmptyError = (function (_super) {\n    __extends(EmptyError, _super);\n    function EmptyError() {\n        var err = _super.call(this, 'no elements in sequence');\n        this.name = err.name = 'EmptyError';\n        this.stack = err.stack;\n        this.message = err.message;\n    }\n    return EmptyError;\n}(Error));\nexports.EmptyError = EmptyError;\n//# sourceMappingURL=EmptyError.js.map","\"use strict\";\nvar FastMap = (function () {\n    function FastMap() {\n        this.values = {};\n    }\n    FastMap.prototype.delete = function (key) {\n        this.values[key] = null;\n        return true;\n    };\n    FastMap.prototype.set = function (key, value) {\n        this.values[key] = value;\n        return this;\n    };\n    FastMap.prototype.get = function (key) {\n        return this.values[key];\n    };\n    FastMap.prototype.forEach = function (cb, thisArg) {\n        var values = this.values;\n        for (var key in values) {\n            if (values.hasOwnProperty(key) && values[key] !== null) {\n                cb.call(thisArg, values[key], key);\n            }\n        }\n    };\n    FastMap.prototype.clear = function () {\n        this.values = {};\n    };\n    return FastMap;\n}());\nexports.FastMap = FastMap;\n//# sourceMappingURL=FastMap.js.map","/**\nSome credit for this helper goes to http://github.com/YuzuJS/setImmediate\n*/\n\"use strict\";\nvar root_1 = require('./root');\nvar ImmediateDefinition = (function () {\n    function ImmediateDefinition(root) {\n        this.root = root;\n        if (root.setImmediate && typeof root.setImmediate === 'function') {\n            this.setImmediate = root.setImmediate.bind(root);\n            this.clearImmediate = root.clearImmediate.bind(root);\n        }\n        else {\n            this.nextHandle = 1;\n            this.tasksByHandle = {};\n            this.currentlyRunningATask = false;\n            // Don't get fooled by e.g. browserify environments.\n            if (this.canUseProcessNextTick()) {\n                // For Node.js before 0.9\n                this.setImmediate = this.createProcessNextTickSetImmediate();\n            }\n            else if (this.canUsePostMessage()) {\n                // For non-IE10 modern browsers\n                this.setImmediate = this.createPostMessageSetImmediate();\n            }\n            else if (this.canUseMessageChannel()) {\n                // For web workers, where supported\n                this.setImmediate = this.createMessageChannelSetImmediate();\n            }\n            else if (this.canUseReadyStateChange()) {\n                // For IE 68\n                this.setImmediate = this.createReadyStateChangeSetImmediate();\n            }\n            else {\n                // For older browsers\n                this.setImmediate = this.createSetTimeoutSetImmediate();\n            }\n            var ci = function clearImmediate(handle) {\n                delete clearImmediate.instance.tasksByHandle[handle];\n            };\n            ci.instance = this;\n            this.clearImmediate = ci;\n        }\n    }\n    ImmediateDefinition.prototype.identify = function (o) {\n        return this.root.Object.prototype.toString.call(o);\n    };\n    ImmediateDefinition.prototype.canUseProcessNextTick = function () {\n        return this.identify(this.root.process) === '[object process]';\n    };\n    ImmediateDefinition.prototype.canUseMessageChannel = function () {\n        return Boolean(this.root.MessageChannel);\n    };\n    ImmediateDefinition.prototype.canUseReadyStateChange = function () {\n        var document = this.root.document;\n        return Boolean(document && 'onreadystatechange' in document.createElement('script'));\n    };\n    ImmediateDefinition.prototype.canUsePostMessage = function () {\n        var root = this.root;\n        // The test against `importScripts` prevents this implementation from being installed inside a web worker,\n        // where `root.postMessage` means something completely different and can't be used for this purpose.\n        if (root.postMessage && !root.importScripts) {\n            var postMessageIsAsynchronous_1 = true;\n            var oldOnMessage = root.onmessage;\n            root.onmessage = function () {\n                postMessageIsAsynchronous_1 = false;\n            };\n            root.postMessage('', '*');\n            root.onmessage = oldOnMessage;\n            return postMessageIsAsynchronous_1;\n        }\n        return false;\n    };\n    // This function accepts the same arguments as setImmediate, but\n    // returns a function that requires no arguments.\n    ImmediateDefinition.prototype.partiallyApplied = function (handler) {\n        var args = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            args[_i - 1] = arguments[_i];\n        }\n        var fn = function result() {\n            var _a = result, handler = _a.handler, args = _a.args;\n            if (typeof handler === 'function') {\n                handler.apply(undefined, args);\n            }\n            else {\n                (new Function('' + handler))();\n            }\n        };\n        fn.handler = handler;\n        fn.args = args;\n        return fn;\n    };\n    ImmediateDefinition.prototype.addFromSetImmediateArguments = function (args) {\n        this.tasksByHandle[this.nextHandle] = this.partiallyApplied.apply(undefined, args);\n        return this.nextHandle++;\n    };\n    ImmediateDefinition.prototype.createProcessNextTickSetImmediate = function () {\n        var fn = function setImmediate() {\n            var instance = setImmediate.instance;\n            var handle = instance.addFromSetImmediateArguments(arguments);\n            instance.root.process.nextTick(instance.partiallyApplied(instance.runIfPresent, handle));\n            return handle;\n        };\n        fn.instance = this;\n        return fn;\n    };\n    ImmediateDefinition.prototype.createPostMessageSetImmediate = function () {\n        // Installs an event handler on `global` for the `message` event: see\n        // * https://developer.mozilla.org/en/DOM/window.postMessage\n        // * http://www.whatwg.org/specs/web-apps/current-work/multipage/comms.html#crossDocumentMessages\n        var root = this.root;\n        var messagePrefix = 'setImmediate$' + root.Math.random() + '$';\n        var onGlobalMessage = function globalMessageHandler(event) {\n            var instance = globalMessageHandler.instance;\n            if (event.source === root &&\n                typeof event.data === 'string' &&\n                event.data.indexOf(messagePrefix) === 0) {\n                instance.runIfPresent(+event.data.slice(messagePrefix.length));\n            }\n        };\n        onGlobalMessage.instance = this;\n        root.addEventListener('message', onGlobalMessage, false);\n        var fn = function setImmediate() {\n            var _a = setImmediate, messagePrefix = _a.messagePrefix, instance = _a.instance;\n            var handle = instance.addFromSetImmediateArguments(arguments);\n            instance.root.postMessage(messagePrefix + handle, '*');\n            return handle;\n        };\n        fn.instance = this;\n        fn.messagePrefix = messagePrefix;\n        return fn;\n    };\n    ImmediateDefinition.prototype.runIfPresent = function (handle) {\n        // From the spec: 'Wait until any invocations of this algorithm started before this one have completed.'\n        // So if we're currently running a task, we'll need to delay this invocation.\n        if (this.currentlyRunningATask) {\n            // Delay by doing a setTimeout. setImmediate was tried instead, but in Firefox 7 it generated a\n            // 'too much recursion' error.\n            this.root.setTimeout(this.partiallyApplied(this.runIfPresent, handle), 0);\n        }\n        else {\n            var task = this.tasksByHandle[handle];\n            if (task) {\n                this.currentlyRunningATask = true;\n                try {\n                    task();\n                }\n                finally {\n                    this.clearImmediate(handle);\n                    this.currentlyRunningATask = false;\n                }\n            }\n        }\n    };\n    ImmediateDefinition.prototype.createMessageChannelSetImmediate = function () {\n        var _this = this;\n        var channel = new this.root.MessageChannel();\n        channel.port1.onmessage = function (event) {\n            var handle = event.data;\n            _this.runIfPresent(handle);\n        };\n        var fn = function setImmediate() {\n            var _a = setImmediate, channel = _a.channel, instance = _a.instance;\n            var handle = instance.addFromSetImmediateArguments(arguments);\n            channel.port2.postMessage(handle);\n            return handle;\n        };\n        fn.channel = channel;\n        fn.instance = this;\n        return fn;\n    };\n    ImmediateDefinition.prototype.createReadyStateChangeSetImmediate = function () {\n        var fn = function setImmediate() {\n            var instance = setImmediate.instance;\n            var root = instance.root;\n            var doc = root.document;\n            var html = doc.documentElement;\n            var handle = instance.addFromSetImmediateArguments(arguments);\n            // Create a <script> element; its readystatechange event will be fired asynchronously once it is inserted\n            // into the document. Do so, thus queuing up the task. Remember to clean up once it's been called.\n            var script = doc.createElement('script');\n            script.onreadystatechange = function () {\n                instance.runIfPresent(handle);\n                script.onreadystatechange = null;\n                html.removeChild(script);\n                script = null;\n            };\n            html.appendChild(script);\n            return handle;\n        };\n        fn.instance = this;\n        return fn;\n    };\n    ImmediateDefinition.prototype.createSetTimeoutSetImmediate = function () {\n        var fn = function setImmediate() {\n            var instance = setImmediate.instance;\n            var handle = instance.addFromSetImmediateArguments(arguments);\n            instance.root.setTimeout(instance.partiallyApplied(instance.runIfPresent, handle), 0);\n            return handle;\n        };\n        fn.instance = this;\n        return fn;\n    };\n    return ImmediateDefinition;\n}());\nexports.ImmediateDefinition = ImmediateDefinition;\nexports.Immediate = new ImmediateDefinition(root_1.root);\n//# sourceMappingURL=Immediate.js.map","\"use strict\";\nvar root_1 = require('./root');\nvar MapPolyfill_1 = require('./MapPolyfill');\nexports.Map = root_1.root.Map || (function () { return MapPolyfill_1.MapPolyfill; })();\n//# sourceMappingURL=Map.js.map","\"use strict\";\nvar MapPolyfill = (function () {\n    function MapPolyfill() {\n        this.size = 0;\n        this._values = [];\n        this._keys = [];\n    }\n    MapPolyfill.prototype.get = function (key) {\n        var i = this._keys.indexOf(key);\n        return i === -1 ? undefined : this._values[i];\n    };\n    MapPolyfill.prototype.set = function (key, value) {\n        var i = this._keys.indexOf(key);\n        if (i === -1) {\n            this._keys.push(key);\n            this._values.push(value);\n            this.size++;\n        }\n        else {\n            this._values[i] = value;\n        }\n        return this;\n    };\n    MapPolyfill.prototype.delete = function (key) {\n        var i = this._keys.indexOf(key);\n        if (i === -1) {\n            return false;\n        }\n        this._values.splice(i, 1);\n        this._keys.splice(i, 1);\n        this.size--;\n        return true;\n    };\n    MapPolyfill.prototype.clear = function () {\n        this._keys.length = 0;\n        this._values.length = 0;\n        this.size = 0;\n    };\n    MapPolyfill.prototype.forEach = function (cb, thisArg) {\n        for (var i = 0; i < this.size; i++) {\n            cb.call(thisArg, this._values[i], this._keys[i]);\n        }\n    };\n    return MapPolyfill;\n}());\nexports.MapPolyfill = MapPolyfill;\n//# sourceMappingURL=MapPolyfill.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\n/**\n * An error thrown when an action is invalid because the object has been\n * unsubscribed.\n *\n * @see {@link Subject}\n * @see {@link BehaviorSubject}\n *\n * @class ObjectUnsubscribedError\n */\nvar ObjectUnsubscribedError = (function (_super) {\n    __extends(ObjectUnsubscribedError, _super);\n    function ObjectUnsubscribedError() {\n        var err = _super.call(this, 'object unsubscribed');\n        this.name = err.name = 'ObjectUnsubscribedError';\n        this.stack = err.stack;\n        this.message = err.message;\n    }\n    return ObjectUnsubscribedError;\n}(Error));\nexports.ObjectUnsubscribedError = ObjectUnsubscribedError;\n//# sourceMappingURL=ObjectUnsubscribedError.js.map","\"use strict\";\nvar root_1 = require('./root');\nfunction minimalSetImpl() {\n    // THIS IS NOT a full impl of Set, this is just the minimum\n    // bits of functionality we need for this library.\n    return (function () {\n        function MinimalSet() {\n            this._values = [];\n        }\n        MinimalSet.prototype.add = function (value) {\n            if (!this.has(value)) {\n                this._values.push(value);\n            }\n        };\n        MinimalSet.prototype.has = function (value) {\n            return this._values.indexOf(value) !== -1;\n        };\n        Object.defineProperty(MinimalSet.prototype, \"size\", {\n            get: function () {\n                return this._values.length;\n            },\n            enumerable: true,\n            configurable: true\n        });\n        MinimalSet.prototype.clear = function () {\n            this._values.length = 0;\n        };\n        return MinimalSet;\n    }());\n}\nexports.minimalSetImpl = minimalSetImpl;\nexports.Set = root_1.root.Set || minimalSetImpl();\n//# sourceMappingURL=Set.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\n/**\n * An error thrown when duetime elapses.\n *\n * @see {@link timeout}\n *\n * @class TimeoutError\n */\nvar TimeoutError = (function (_super) {\n    __extends(TimeoutError, _super);\n    function TimeoutError() {\n        var err = _super.call(this, 'Timeout has occurred');\n        this.name = err.name = 'TimeoutError';\n        this.stack = err.stack;\n        this.message = err.message;\n    }\n    return TimeoutError;\n}(Error));\nexports.TimeoutError = TimeoutError;\n//# sourceMappingURL=TimeoutError.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\n/**\n * An error thrown when one or more errors have occurred during the\n * `unsubscribe` of a {@link Subscription}.\n */\nvar UnsubscriptionError = (function (_super) {\n    __extends(UnsubscriptionError, _super);\n    function UnsubscriptionError(errors) {\n        _super.call(this);\n        this.errors = errors;\n        var err = Error.call(this, errors ?\n            errors.length + \" errors occurred during unsubscription:\\n  \" + errors.map(function (err, i) { return ((i + 1) + \") \" + err.toString()); }).join('\\n  ') : '');\n        this.name = err.name = 'UnsubscriptionError';\n        this.stack = err.stack;\n        this.message = err.message;\n    }\n    return UnsubscriptionError;\n}(Error));\nexports.UnsubscriptionError = UnsubscriptionError;\n//# sourceMappingURL=UnsubscriptionError.js.map","\"use strict\";\nfunction applyMixins(derivedCtor, baseCtors) {\n    for (var i = 0, len = baseCtors.length; i < len; i++) {\n        var baseCtor = baseCtors[i];\n        var propertyKeys = Object.getOwnPropertyNames(baseCtor.prototype);\n        for (var j = 0, len2 = propertyKeys.length; j < len2; j++) {\n            var name_1 = propertyKeys[j];\n            derivedCtor.prototype[name_1] = baseCtor.prototype[name_1];\n        }\n    }\n}\nexports.applyMixins = applyMixins;\n//# sourceMappingURL=applyMixins.js.map","\"use strict\";\nvar root_1 = require('./root');\nfunction assignImpl(target) {\n    var sources = [];\n    for (var _i = 1; _i < arguments.length; _i++) {\n        sources[_i - 1] = arguments[_i];\n    }\n    var len = sources.length;\n    for (var i = 0; i < len; i++) {\n        var source = sources[i];\n        for (var k in source) {\n            if (source.hasOwnProperty(k)) {\n                target[k] = source[k];\n            }\n        }\n    }\n    return target;\n}\nexports.assignImpl = assignImpl;\n;\nfunction getAssign(root) {\n    return root.Object.assign || assignImpl;\n}\nexports.getAssign = getAssign;\nexports.assign = getAssign(root_1.root);\n//# sourceMappingURL=assign.js.map","\"use strict\";\n// typeof any so that it we don't have to cast when comparing a result to the error object\nexports.errorObject = { e: {} };\n//# sourceMappingURL=errorObject.js.map","\"use strict\";\nfunction identity(x) {\n    return x;\n}\nexports.identity = identity;\n//# sourceMappingURL=identity.js.map","\"use strict\";\nexports.isArray = Array.isArray || (function (x) { return x && typeof x.length === 'number'; });\n//# sourceMappingURL=isArray.js.map","\"use strict\";\nexports.isArrayLike = (function (x) { return x && typeof x.length === 'number'; });\n//# sourceMappingURL=isArrayLike.js.map","\"use strict\";\nfunction isDate(value) {\n    return value instanceof Date && !isNaN(+value);\n}\nexports.isDate = isDate;\n//# sourceMappingURL=isDate.js.map","\"use strict\";\nfunction isFunction(x) {\n    return typeof x === 'function';\n}\nexports.isFunction = isFunction;\n//# sourceMappingURL=isFunction.js.map","\"use strict\";\nvar isArray_1 = require('../util/isArray');\nfunction isNumeric(val) {\n    // parseFloat NaNs numeric-cast false positives (null|true|false|\"\")\n    // ...but misinterprets leading-number strings, particularly hex literals (\"0x...\")\n    // subtraction forces infinities to NaN\n    // adding 1 corrects loss of precision from parseFloat (#15100)\n    return !isArray_1.isArray(val) && (val - parseFloat(val) + 1) >= 0;\n}\nexports.isNumeric = isNumeric;\n;\n//# sourceMappingURL=isNumeric.js.map","\"use strict\";\nfunction isObject(x) {\n    return x != null && typeof x === 'object';\n}\nexports.isObject = isObject;\n//# sourceMappingURL=isObject.js.map","\"use strict\";\nfunction isPromise(value) {\n    return value && typeof value.subscribe !== 'function' && typeof value.then === 'function';\n}\nexports.isPromise = isPromise;\n//# sourceMappingURL=isPromise.js.map","\"use strict\";\nfunction isScheduler(value) {\n    return value && typeof value.schedule === 'function';\n}\nexports.isScheduler = isScheduler;\n//# sourceMappingURL=isScheduler.js.map","\"use strict\";\n/* tslint:disable:no-empty */\nfunction noop() { }\nexports.noop = noop;\n//# sourceMappingURL=noop.js.map","\"use strict\";\nfunction not(pred, thisArg) {\n    function notPred() {\n        return !(notPred.pred.apply(notPred.thisArg, arguments));\n    }\n    notPred.pred = pred;\n    notPred.thisArg = thisArg;\n    return notPred;\n}\nexports.not = not;\n//# sourceMappingURL=not.js.map","\"use strict\";\nvar noop_1 = require('./noop');\n/* tslint:enable:max-line-length */\nfunction pipe() {\n    var fns = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        fns[_i - 0] = arguments[_i];\n    }\n    return pipeFromArray(fns);\n}\nexports.pipe = pipe;\n/* @internal */\nfunction pipeFromArray(fns) {\n    if (!fns) {\n        return noop_1.noop;\n    }\n    if (fns.length === 1) {\n        return fns[0];\n    }\n    return function piped(input) {\n        return fns.reduce(function (prev, fn) { return fn(prev); }, input);\n    };\n}\nexports.pipeFromArray = pipeFromArray;\n//# sourceMappingURL=pipe.js.map","\"use strict\";\n// CommonJS / Node have global context exposed as \"global\" variable.\n// We don't want to include the whole node.d.ts this this compilation unit so we'll just fake\n// the global \"global\" var for now.\nvar __window = typeof window !== 'undefined' && window;\nvar __self = typeof self !== 'undefined' && typeof WorkerGlobalScope !== 'undefined' &&\n    self instanceof WorkerGlobalScope && self;\nvar __global = typeof global !== 'undefined' && global;\nvar _root = __window || __global || __self;\nexports.root = _root;\n// Workaround Closure Compiler restriction: The body of a goog.module cannot use throw.\n// This is needed when used with angular/tsickle which inserts a goog.module statement.\n// Wrap in IIFE\n(function () {\n    if (!_root) {\n        throw new Error('RxJS could not find any global context (window, self, global)');\n    }\n})();\n//# sourceMappingURL=root.js.map","\"use strict\";\nvar root_1 = require('./root');\nvar isArrayLike_1 = require('./isArrayLike');\nvar isPromise_1 = require('./isPromise');\nvar isObject_1 = require('./isObject');\nvar Observable_1 = require('../Observable');\nvar iterator_1 = require('../symbol/iterator');\nvar InnerSubscriber_1 = require('../InnerSubscriber');\nvar observable_1 = require('../symbol/observable');\nfunction subscribeToResult(outerSubscriber, result, outerValue, outerIndex) {\n    var destination = new InnerSubscriber_1.InnerSubscriber(outerSubscriber, outerValue, outerIndex);\n    if (destination.closed) {\n        return null;\n    }\n    if (result instanceof Observable_1.Observable) {\n        if (result._isScalar) {\n            destination.next(result.value);\n            destination.complete();\n            return null;\n        }\n        else {\n            destination.syncErrorThrowable = true;\n            return result.subscribe(destination);\n        }\n    }\n    else if (isArrayLike_1.isArrayLike(result)) {\n        for (var i = 0, len = result.length; i < len && !destination.closed; i++) {\n            destination.next(result[i]);\n        }\n        if (!destination.closed) {\n            destination.complete();\n        }\n    }\n    else if (isPromise_1.isPromise(result)) {\n        result.then(function (value) {\n            if (!destination.closed) {\n                destination.next(value);\n                destination.complete();\n            }\n        }, function (err) { return destination.error(err); })\n            .then(null, function (err) {\n            // Escaping the Promise trap: globally throw unhandled errors\n            root_1.root.setTimeout(function () { throw err; });\n        });\n        return destination;\n    }\n    else if (result && typeof result[iterator_1.iterator] === 'function') {\n        var iterator = result[iterator_1.iterator]();\n        do {\n            var item = iterator.next();\n            if (item.done) {\n                destination.complete();\n                break;\n            }\n            destination.next(item.value);\n            if (destination.closed) {\n                break;\n            }\n        } while (true);\n    }\n    else if (result && typeof result[observable_1.observable] === 'function') {\n        var obs = result[observable_1.observable]();\n        if (typeof obs.subscribe !== 'function') {\n            destination.error(new TypeError('Provided object does not correctly implement Symbol.observable'));\n        }\n        else {\n            return obs.subscribe(new InnerSubscriber_1.InnerSubscriber(outerSubscriber, outerValue, outerIndex));\n        }\n    }\n    else {\n        var value = isObject_1.isObject(result) ? 'an invalid object' : \"'\" + result + \"'\";\n        var msg = (\"You provided \" + value + \" where a stream was expected.\")\n            + ' You can provide an Observable, Promise, Array, or Iterable.';\n        destination.error(new TypeError(msg));\n    }\n    return null;\n}\nexports.subscribeToResult = subscribeToResult;\n//# sourceMappingURL=subscribeToResult.js.map","\"use strict\";\nvar Subscriber_1 = require('../Subscriber');\nvar rxSubscriber_1 = require('../symbol/rxSubscriber');\nvar Observer_1 = require('../Observer');\nfunction toSubscriber(nextOrObserver, error, complete) {\n    if (nextOrObserver) {\n        if (nextOrObserver instanceof Subscriber_1.Subscriber) {\n            return nextOrObserver;\n        }\n        if (nextOrObserver[rxSubscriber_1.rxSubscriber]) {\n            return nextOrObserver[rxSubscriber_1.rxSubscriber]();\n        }\n    }\n    if (!nextOrObserver && !error && !complete) {\n        return new Subscriber_1.Subscriber(Observer_1.empty);\n    }\n    return new Subscriber_1.Subscriber(nextOrObserver, error, complete);\n}\nexports.toSubscriber = toSubscriber;\n//# sourceMappingURL=toSubscriber.js.map","\"use strict\";\nvar errorObject_1 = require('./errorObject');\nvar tryCatchTarget;\nfunction tryCatcher() {\n    try {\n        return tryCatchTarget.apply(this, arguments);\n    }\n    catch (e) {\n        errorObject_1.errorObject.e = e;\n        return errorObject_1.errorObject;\n    }\n}\nfunction tryCatch(fn) {\n    tryCatchTarget = fn;\n    return tryCatcher;\n}\nexports.tryCatch = tryCatch;\n;\n//# sourceMappingURL=tryCatch.js.map","/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */\n/* eslint-disable node/no-deprecated-api */\nvar buffer = require('buffer')\nvar Buffer = buffer.Buffer\n\n// alternative to using Object.keys for old browsers\nfunction copyProps (src, dst) {\n  for (var key in src) {\n    dst[key] = src[key]\n  }\n}\nif (Buffer.from && Buffer.alloc && Buffer.allocUnsafe && Buffer.allocUnsafeSlow) {\n  module.exports = buffer\n} else {\n  // Copy properties from require('buffer')\n  copyProps(buffer, exports)\n  exports.Buffer = SafeBuffer\n}\n\nfunction SafeBuffer (arg, encodingOrOffset, length) {\n  return Buffer(arg, encodingOrOffset, length)\n}\n\nSafeBuffer.prototype = Object.create(Buffer.prototype)\n\n// Copy static methods from Buffer\ncopyProps(Buffer, SafeBuffer)\n\nSafeBuffer.from = function (arg, encodingOrOffset, length) {\n  if (typeof arg === 'number') {\n    throw new TypeError('Argument must not be a number')\n  }\n  return Buffer(arg, encodingOrOffset, length)\n}\n\nSafeBuffer.alloc = function (size, fill, encoding) {\n  if (typeof size !== 'number') {\n    throw new TypeError('Argument must be a number')\n  }\n  var buf = Buffer(size)\n  if (fill !== undefined) {\n    if (typeof encoding === 'string') {\n      buf.fill(fill, encoding)\n    } else {\n      buf.fill(fill)\n    }\n  } else {\n    buf.fill(0)\n  }\n  return buf\n}\n\nSafeBuffer.allocUnsafe = function (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('Argument must be a number')\n  }\n  return Buffer(size)\n}\n\nSafeBuffer.allocUnsafeSlow = function (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('Argument must be a number')\n  }\n  return buffer.SlowBuffer(size)\n}\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\n/*<replacement>*/\n\nvar Buffer = require('safe-buffer').Buffer;\n/*</replacement>*/\n\nvar isEncoding = Buffer.isEncoding || function (encoding) {\n  encoding = '' + encoding;\n  switch (encoding && encoding.toLowerCase()) {\n    case 'hex':case 'utf8':case 'utf-8':case 'ascii':case 'binary':case 'base64':case 'ucs2':case 'ucs-2':case 'utf16le':case 'utf-16le':case 'raw':\n      return true;\n    default:\n      return false;\n  }\n};\n\nfunction _normalizeEncoding(enc) {\n  if (!enc) return 'utf8';\n  var retried;\n  while (true) {\n    switch (enc) {\n      case 'utf8':\n      case 'utf-8':\n        return 'utf8';\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return 'utf16le';\n      case 'latin1':\n      case 'binary':\n        return 'latin1';\n      case 'base64':\n      case 'ascii':\n      case 'hex':\n        return enc;\n      default:\n        if (retried) return; // undefined\n        enc = ('' + enc).toLowerCase();\n        retried = true;\n    }\n  }\n};\n\n// Do not cache `Buffer.isEncoding` when checking encoding names as some\n// modules monkey-patch it to support additional encodings\nfunction normalizeEncoding(enc) {\n  var nenc = _normalizeEncoding(enc);\n  if (typeof nenc !== 'string' && (Buffer.isEncoding === isEncoding || !isEncoding(enc))) throw new Error('Unknown encoding: ' + enc);\n  return nenc || enc;\n}\n\n// StringDecoder provides an interface for efficiently splitting a series of\n// buffers into a series of JS strings without breaking apart multi-byte\n// characters.\nexports.StringDecoder = StringDecoder;\nfunction StringDecoder(encoding) {\n  this.encoding = normalizeEncoding(encoding);\n  var nb;\n  switch (this.encoding) {\n    case 'utf16le':\n      this.text = utf16Text;\n      this.end = utf16End;\n      nb = 4;\n      break;\n    case 'utf8':\n      this.fillLast = utf8FillLast;\n      nb = 4;\n      break;\n    case 'base64':\n      this.text = base64Text;\n      this.end = base64End;\n      nb = 3;\n      break;\n    default:\n      this.write = simpleWrite;\n      this.end = simpleEnd;\n      return;\n  }\n  this.lastNeed = 0;\n  this.lastTotal = 0;\n  this.lastChar = Buffer.allocUnsafe(nb);\n}\n\nStringDecoder.prototype.write = function (buf) {\n  if (buf.length === 0) return '';\n  var r;\n  var i;\n  if (this.lastNeed) {\n    r = this.fillLast(buf);\n    if (r === undefined) return '';\n    i = this.lastNeed;\n    this.lastNeed = 0;\n  } else {\n    i = 0;\n  }\n  if (i < buf.length) return r ? r + this.text(buf, i) : this.text(buf, i);\n  return r || '';\n};\n\nStringDecoder.prototype.end = utf8End;\n\n// Returns only complete characters in a Buffer\nStringDecoder.prototype.text = utf8Text;\n\n// Attempts to complete a partial non-UTF-8 character using bytes from a Buffer\nStringDecoder.prototype.fillLast = function (buf) {\n  if (this.lastNeed <= buf.length) {\n    buf.copy(this.lastChar, this.lastTotal - this.lastNeed, 0, this.lastNeed);\n    return this.lastChar.toString(this.encoding, 0, this.lastTotal);\n  }\n  buf.copy(this.lastChar, this.lastTotal - this.lastNeed, 0, buf.length);\n  this.lastNeed -= buf.length;\n};\n\n// Checks the type of a UTF-8 byte, whether it's ASCII, a leading byte, or a\n// continuation byte. If an invalid byte is detected, -2 is returned.\nfunction utf8CheckByte(byte) {\n  if (byte <= 0x7F) return 0;else if (byte >> 5 === 0x06) return 2;else if (byte >> 4 === 0x0E) return 3;else if (byte >> 3 === 0x1E) return 4;\n  return byte >> 6 === 0x02 ? -1 : -2;\n}\n\n// Checks at most 3 bytes at the end of a Buffer in order to detect an\n// incomplete multi-byte UTF-8 character. The total number of bytes (2, 3, or 4)\n// needed to complete the UTF-8 character (if applicable) are returned.\nfunction utf8CheckIncomplete(self, buf, i) {\n  var j = buf.length - 1;\n  if (j < i) return 0;\n  var nb = utf8CheckByte(buf[j]);\n  if (nb >= 0) {\n    if (nb > 0) self.lastNeed = nb - 1;\n    return nb;\n  }\n  if (--j < i || nb === -2) return 0;\n  nb = utf8CheckByte(buf[j]);\n  if (nb >= 0) {\n    if (nb > 0) self.lastNeed = nb - 2;\n    return nb;\n  }\n  if (--j < i || nb === -2) return 0;\n  nb = utf8CheckByte(buf[j]);\n  if (nb >= 0) {\n    if (nb > 0) {\n      if (nb === 2) nb = 0;else self.lastNeed = nb - 3;\n    }\n    return nb;\n  }\n  return 0;\n}\n\n// Validates as many continuation bytes for a multi-byte UTF-8 character as\n// needed or are available. If we see a non-continuation byte where we expect\n// one, we \"replace\" the validated continuation bytes we've seen so far with\n// a single UTF-8 replacement character ('\\ufffd'), to match v8's UTF-8 decoding\n// behavior. The continuation byte check is included three times in the case\n// where all of the continuation bytes for a character exist in the same buffer.\n// It is also done this way as a slight performance increase instead of using a\n// loop.\nfunction utf8CheckExtraBytes(self, buf, p) {\n  if ((buf[0] & 0xC0) !== 0x80) {\n    self.lastNeed = 0;\n    return '\\ufffd';\n  }\n  if (self.lastNeed > 1 && buf.length > 1) {\n    if ((buf[1] & 0xC0) !== 0x80) {\n      self.lastNeed = 1;\n      return '\\ufffd';\n    }\n    if (self.lastNeed > 2 && buf.length > 2) {\n      if ((buf[2] & 0xC0) !== 0x80) {\n        self.lastNeed = 2;\n        return '\\ufffd';\n      }\n    }\n  }\n}\n\n// Attempts to complete a multi-byte UTF-8 character using bytes from a Buffer.\nfunction utf8FillLast(buf) {\n  var p = this.lastTotal - this.lastNeed;\n  var r = utf8CheckExtraBytes(this, buf, p);\n  if (r !== undefined) return r;\n  if (this.lastNeed <= buf.length) {\n    buf.copy(this.lastChar, p, 0, this.lastNeed);\n    return this.lastChar.toString(this.encoding, 0, this.lastTotal);\n  }\n  buf.copy(this.lastChar, p, 0, buf.length);\n  this.lastNeed -= buf.length;\n}\n\n// Returns all complete UTF-8 characters in a Buffer. If the Buffer ended on a\n// partial character, the character's bytes are buffered until the required\n// number of bytes are available.\nfunction utf8Text(buf, i) {\n  var total = utf8CheckIncomplete(this, buf, i);\n  if (!this.lastNeed) return buf.toString('utf8', i);\n  this.lastTotal = total;\n  var end = buf.length - (total - this.lastNeed);\n  buf.copy(this.lastChar, 0, end);\n  return buf.toString('utf8', i, end);\n}\n\n// For UTF-8, a replacement character is added when ending on a partial\n// character.\nfunction utf8End(buf) {\n  var r = buf && buf.length ? this.write(buf) : '';\n  if (this.lastNeed) return r + '\\ufffd';\n  return r;\n}\n\n// UTF-16LE typically needs two bytes per character, but even if we have an even\n// number of bytes available, we need to check if we end on a leading/high\n// surrogate. In that case, we need to wait for the next two bytes in order to\n// decode the last character properly.\nfunction utf16Text(buf, i) {\n  if ((buf.length - i) % 2 === 0) {\n    var r = buf.toString('utf16le', i);\n    if (r) {\n      var c = r.charCodeAt(r.length - 1);\n      if (c >= 0xD800 && c <= 0xDBFF) {\n        this.lastNeed = 2;\n        this.lastTotal = 4;\n        this.lastChar[0] = buf[buf.length - 2];\n        this.lastChar[1] = buf[buf.length - 1];\n        return r.slice(0, -1);\n      }\n    }\n    return r;\n  }\n  this.lastNeed = 1;\n  this.lastTotal = 2;\n  this.lastChar[0] = buf[buf.length - 1];\n  return buf.toString('utf16le', i, buf.length - 1);\n}\n\n// For UTF-16LE we do not explicitly append special replacement characters if we\n// end on a partial character, we simply let v8 handle that.\nfunction utf16End(buf) {\n  var r = buf && buf.length ? this.write(buf) : '';\n  if (this.lastNeed) {\n    var end = this.lastTotal - this.lastNeed;\n    return r + this.lastChar.toString('utf16le', 0, end);\n  }\n  return r;\n}\n\nfunction base64Text(buf, i) {\n  var n = (buf.length - i) % 3;\n  if (n === 0) return buf.toString('base64', i);\n  this.lastNeed = 3 - n;\n  this.lastTotal = 3;\n  if (n === 1) {\n    this.lastChar[0] = buf[buf.length - 1];\n  } else {\n    this.lastChar[0] = buf[buf.length - 2];\n    this.lastChar[1] = buf[buf.length - 1];\n  }\n  return buf.toString('base64', i, buf.length - n);\n}\n\nfunction base64End(buf) {\n  var r = buf && buf.length ? this.write(buf) : '';\n  if (this.lastNeed) return r + this.lastChar.toString('base64', 0, 3 - this.lastNeed);\n  return r;\n}\n\n// Pass bytes on through for single-byte encodings (e.g. ascii, latin1, hex)\nfunction simpleWrite(buf) {\n  return buf.toString(this.encoding);\n}\n\nfunction simpleEnd(buf) {\n  return buf && buf.length ? this.write(buf) : '';\n}","import {Readable} from 'stream';\nimport * as core from '@node-wot/core';\nconst {ProtocolHelpers} = core;\n\n/**\n * Decodes a ReadableStream into JSON.\n * @param data The ReadableStream to decode\n * @returns The decoded JSON\n */\nexport const readableStreamToJson = async function (\n  data: NodeJS.ReadableStream\n) {\n  const chunks = [];\n  for await (const chunk of data) {\n    chunks.push(chunk as Buffer);\n  }\n  const buffer = Buffer.concat(chunks);\n  const str = new TextDecoder().decode(buffer);\n  return JSON.parse(str);\n};\n\n/**\n * Converts a ReadableStream into buffer.\n * @param data The ReadableStream to convert\n * @returns The converted buffer\n */\nexport const readableStreamToBuffer = async function (\n  data: NodeJS.ReadableStream\n) {\n  const chunks = [];\n  for await (const chunk of data) {\n    chunks.push(chunk as Buffer);\n  }\n  const buffer = Buffer.concat(chunks);\n  return buffer;\n};\n\n/**\n * Converts a ReadableStream into a string.\n * @param data The ReadableStream to convert\n * @returns The converted string\n */\nexport const readableStreamToString = async function (\n  data: NodeJS.ReadableStream\n) {\n  const chunks = [];\n  for await (const chunk of data) {\n    chunks.push(chunk as Buffer);\n  }\n  const buffer = Buffer.concat(chunks);\n  return new TextDecoder().decode(buffer);\n};\n\n/**\n * Endocdes json data into a ReadableStream.\n * @param {JSON} data the data to encode\n */\nexport const jsonToReadable = function (data: JSON): ReadableStream {\n  const encoder = new TextEncoder();\n  const jsonArr = encoder.encode(JSON.stringify(data));\n\n  return new ReadableStream({\n    start(controller) {\n      controller.enqueue(jsonArr);\n      controller.close();\n    },\n  });\n};\n\n/**\n * Converts a string into a ReadableStream.\n * @param str The string to convert\n * @returns The converted ReadableStream\n */\nexport const stringToReadable = function (str: string): ReadableStream {\n  const encoder = new TextEncoder();\n  const strArr = encoder.encode(str);\n\n  return new ReadableStream({\n    start(controller) {\n      controller.enqueue(strArr);\n      controller.close();\n    },\n  });\n};\n\n/**\n * Converts data into a NodeJS.ReadableStream.\n * @param data The data to convert\n * @returns The converted data as a ReadableStream\n */\nexport const convertToNodeReadable = function (data: any): Readable {\n  // create a new NodeJS.ReadableStream and push the data into it\n  const readable = new Readable();\n  // push buffer into readable\n  readable.push(data);\n  // close readable\n  readable.push(null);\n  const stream = ProtocolHelpers.toNodeStream(readable);\n\n  return stream;\n};\n","/**\n * @fileoverview WebBluetooth protocol binding for eclipse/thingweb.node-wot\n */\n\nimport {Content, ProtocolClient} from '@node-wot/core';\nimport {Form, SecurityScheme} from '@node-wot/td-tools';\nimport {Subscription} from 'rxjs';\nimport {BluetoothForm} from './Bluetooth';\nimport {\n  convertToNodeReadable,\n  readableStreamToBuffer,\n} from '../binding-helpers';\nimport {BluetoothAdapter} from './BluetoothAdapter';\n\nexport default class WebBluetoothClient implements ProtocolClient {\n  bluetoothAdapter: BluetoothAdapter;\n\n  constructor(bluetoothAdapter: BluetoothAdapter) {\n    console.debug('[binding-webBluetooth]', 'created client');\n    this.bluetoothAdapter = bluetoothAdapter;\n  }\n\n  public toString(): string {\n    return '[WebBluetoothClientNew]';\n  }\n  public async readResource(form: BluetoothForm): Promise<Content> {\n    const deconstructedForm = this.deconstructForm(form);\n\n    const characteristic = await this.bluetoothAdapter.getCharacteristic(\n      deconstructedForm.deviceId,\n      deconstructedForm.serviceId,\n      deconstructedForm.characteristicId\n    );\n\n    const value = await characteristic.readValue();\n\n    const buff = new Uint8Array(value.buffer);\n    // Convert to readable\n    const body = convertToNodeReadable(buff);\n\n    // Return\n    return {\n      type: form.contentType || 'application/x.binary-data-stream',\n      body: body,\n    };\n  }\n\n  public async writeResource(\n    form: BluetoothForm,\n    content: Content\n  ): Promise<void> {\n    // Extract information out of form\n    const deconstructedForm = this.deconstructForm(form);\n\n    let buffer;\n    //Convert readableStreamToBuffer\n    if (typeof content !== 'undefined') {\n      buffer = await readableStreamToBuffer(content.body);\n    } else {\n      // If content not definied write buffer < 00 >\n      buffer = Buffer.alloc(1);\n    }\n\n    const characteristic = await this.bluetoothAdapter.getCharacteristic(\n      deconstructedForm.deviceId,\n      deconstructedForm.serviceId,\n      deconstructedForm.characteristicId\n    );\n\n    // Select what operation should be executed\n    switch (deconstructedForm.bleOperation) {\n      case 'sbo:write-without-response':\n        await characteristic.writeValueWithoutResponse(buffer);\n        break;\n\n      case 'sbo:write':\n        await characteristic.writeValueWithResponse(buffer);\n        break;\n\n      default: {\n        throw new Error(\n          `[binding-Bluetooth] unknown operation ${deconstructedForm.operation}`\n        );\n      }\n    }\n  }\n\n  public invokeResource(\n    form: BluetoothForm,\n    content: Content\n  ): Promise<Content> {\n    // TODO check if href is service/char/operation, then write,\n    // might also be gatt://operation, i.e watchAdvertisements\n    return this.writeResource(form, content).then(() => {\n      return {\n        type: 'text/plain',\n        body: convertToNodeReadable(''),\n      };\n    });\n  }\n\n  public unlinkResource(form: Form): Promise<void> {\n    throw new Error('not implemented');\n  }\n\n  public async subscribeResource(\n    form: BluetoothForm,\n    next: (content: Content) => void,\n    error?: (error: Error) => void,\n    complete?: () => void\n  ): Promise<Subscription> {\n    const path = form.href.split('//')[1];\n    const deviceId = form['wbt:id'];\n    const deconstructedPath = this.deconstructPath(path);\n    const {serviceId, characteristicId, operation} = deconstructedPath;\n\n    if (operation !== 'subscribe') {\n      throw new Error(\n        `[binding-webBluetooth] operation ${operation} is not supported`\n      );\n    }\n\n    console.debug(\n      '[binding-webBluetooth]',\n      `subscribing to characteristic with serviceId ${serviceId} characteristicId ${characteristicId}`\n    );\n\n    const handler = (event: Event) => {\n      const value = (event.target as any).value as DataView;\n      const array = new Uint8Array(value.buffer);\n      // Convert value a DataView to ReadableStream\n      const content = {\n        type: form.contentType || 'text/plain',\n        body: convertToNodeReadable(array),\n      };\n      next(content);\n    };\n\n    const characteristic = await this.bluetoothAdapter.getCharacteristic(\n      deviceId,\n      serviceId,\n      characteristicId\n    );\n\n    characteristic.addEventListener('characteristicvaluechanged', handler);\n\n    await characteristic.startNotifications();\n\n    return new Subscription(() => {\n      characteristic.removeEventListener('characteristicvaluechanged', handler);\n      characteristic.stopNotifications();\n    });\n  }\n\n  public async start(): Promise<void> {\n    // do nothing\n  }\n\n  public async stop(): Promise<void> {\n    // do nothing\n  }\n\n  public setSecurity(\n    metadata: SecurityScheme[],\n    credentials?: unknown\n  ): boolean {\n    return false;\n  }\n\n  private deconstructPath(path: string) {\n    // path can either be device/service/characteristic/operation or device/service/operation or device/operation\n    let serviceId: BluetoothServiceUUID,\n      characteristicId: BluetoothCharacteristicUUID,\n      operation;\n    const pathArray = path.split('/');\n    if (pathArray.length === 3) {\n      // path is device/service/characteristic?{parameter1, parameter2}\n      [serviceId, characteristicId, operation] = pathArray;\n      return {\n        serviceId,\n        characteristicId,\n        operation,\n      };\n    } else {\n      // path is invalid\n      console.warn(`[binding-webBluetooth] invalid path ${path}`);\n      throw new Error('href is not valid');\n    }\n  }\n\n  /**\n   * Deconsructs form in object\n   * @param {Form} form form to analyze\n   * @returns {Object} Object containing all parameters\n   */\n  deconstructForm = function (form: BluetoothForm) {\n    const deconstructedForm: Record<string, any> = {};\n\n    // Remove gatt://\n    deconstructedForm.path = form.href.split('//')[1];\n\n    // If deviceID contains '/' it gets also split.\n    // path string is check if it is a UUID; everything else is added together to deviceID\n    const pathElements = deconstructedForm.path.split('/');\n\n    if (pathElements.length !== 3) {\n      const regex = new RegExp(\n        '^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$'\n      );\n\n      let deviceId = pathElements[0];\n\n      for (let i = 1; i < pathElements.length; i++) {\n        if (regex.test(pathElements[i]) === false) {\n          deviceId = deviceId + '/' + pathElements[i];\n        } else {\n          // second last element is service id\n          if (i === pathElements.length - 2) {\n            deconstructedForm.serviceId = pathElements[i];\n          }\n          // Last element is characteristic\n          if (i === pathElements.length - 1) {\n            deconstructedForm.characteristicId = pathElements[i];\n          }\n        }\n      }\n      // DeviceId\n      deconstructedForm.deviceId = deviceId;\n    } else {\n      // DeviceId\n      deconstructedForm.deviceId = pathElements[0];\n\n      // Extract serviceId\n      deconstructedForm.serviceId = pathElements[1];\n\n      // Extract characteristicId\n      deconstructedForm.characteristicId = pathElements[2];\n    }\n\n    // Extract operation -> e.g. readproperty; writeproperty\n    deconstructedForm.operation = form.op;\n\n    // Get BLE operation type\n    deconstructedForm.bleOperation = form['sbo:methodName'];\n\n    return deconstructedForm;\n  };\n}\n","import {ContentCodec} from '@node-wot/core';\nimport {DataSchema, DataSchemaValue} from 'wot-typescript-definitions';\nimport * as UriTemplate from 'uritemplate';\n\nexport class BinaryDataStreamCodec implements ContentCodec {\n  getMediaType(): string {\n    return 'application/x.binary-data-stream';\n  }\n\n  /**\n   * Convert received bytes to concrete value.\n   * @param {Buffer} bytes The received binary buffer.\n   * @param {DataSchema} schema The schema information of the Thing Description for decoding.\n   * @param {[key: string]: string} parameters Additonal parameters; not used in this codec.\n   * @returns {DataSchemaValue} Decoded value.\n   */\n  bytesToValue(\n    bytes: Buffer,\n    schema: DataSchema,\n    _parameters?: {[key: string]: string}\n  ): DataSchemaValue {\n    let parsed: DataSchemaValue = null;\n    let nameList;\n    let valueList;\n\n    if (typeof schema['bdo:pattern'] !== 'undefined') {\n      // Pattern\n      const resultArr = readPattern(schema, bytes);\n      nameList = resultArr[0];\n      valueList = resultArr[1];\n      const decodedResultArr = [];\n      for (let i = 0; i < nameList.length; i++) {\n        // Get parameter\n        const schemaTemp = schema['bdo:variables'][nameList[i]];\n        const bytesTemp = valueList[i];\n\n        if (schemaTemp.type === 'integer') {\n          decodedResultArr.push(byte2int(schemaTemp, bytesTemp));\n        } else if (schemaTemp.type === 'string') {\n          decodedResultArr.push(byte2string(schemaTemp, bytesTemp));\n        }\n\n        // Used if scale leads to float number, instead of int\n        else if (schemaTemp.type === 'number') {\n          decodedResultArr.push(byte2int(schemaTemp, bytesTemp));\n        } else {\n          throw new Error('Datatype not supported by codec');\n        }\n        parsed = decodedResultArr;\n      }\n    } else {\n      if (schema.type === 'integer') {\n        parsed = byte2int(schema, bytes);\n      } else if (schema.type === 'string') {\n        parsed = byte2string(schema, bytes);\n      }\n\n      // Used if scale leads to float number, instead of int\n      else if (schema.type === 'number') {\n        parsed = byte2int(schema, bytes);\n      } else {\n        throw new Error('Datatype not supported by codec');\n      }\n    }\n\n    return parsed;\n  }\n\n  /**\n   * Convert concrete value to bytes.\n   * @param {any} dataValue The data to be encoded.\n   * @param {DataSchema} schema The schema information of the Thing Description for encoding.\n   * @param {[key: string]: string} parameters Additonal parameters; not used in this codec.\n   * @returns {Buffer} Encodec value.\n   */\n  valueToBytes(\n    dataValue: any,\n    schema: DataSchema,\n    _parameters?: {[key: string]: string}\n  ): Buffer {\n    let buf: Buffer = Buffer.alloc(1);\n    let hexString: string;\n\n    // Check if pattern is provieded and fill in\n    if (typeof schema['bdo:pattern'] !== 'undefined') {\n      // String Pattern\n\n      hexString = fillStringPattern(schema, dataValue);\n      buf = string2byte(schema, hexString);\n    }\n    // Else create buffer without pattern\n    else {\n      // Convert to specified type\n      switch (schema.type) {\n        case 'integer':\n          buf = int2byte(schema, dataValue);\n          break;\n        case 'string':\n          buf = string2byte(schema, dataValue);\n          break;\n      }\n    }\n    return buf;\n  }\n}\n\n/**\n * Converts bytes to integer.\n * @param {DataSchema} schema schema of executed property, action or event.\n * @param {Buffer} bytes received byte value.\n * @return {Integer} converted byte value.\n */\nfunction byte2int(schema: DataSchema, bytes: Buffer) {\n  const bytelength = schema['bdo:bytelength'];\n  const signed = schema['bdo:signed'] || false;\n  const byteOrder = schema['bdo:byteOrder'] || 'little';\n  const scale = schema['bdo:scale'] || 1;\n  const offset = schema['bdo:offset'] || 0;\n  const precision = schema['bdo:precision'] || 2;\n\n  if (typeof bytelength === 'undefined') {\n    throw new Error('Not all parameters are provided!');\n  }\n\n  let parsed = 0;\n\n  if (byteOrder === 'little') {\n    if (signed) {\n      parsed = bytes.readIntLE(offset, bytelength);\n    } else {\n      parsed = bytes.readUIntLE(offset, bytelength);\n    }\n  } else if (byteOrder === 'big') {\n    if (signed) {\n      parsed = bytes.readIntBE(offset, bytelength);\n    } else {\n      parsed = bytes.readUIntBE(offset, bytelength);\n    }\n  }\n\n  parsed = parsed * scale;\n\n  // Round parsed number\n  parsed = +(Math.round(Number(parsed + 'e+' + precision)) + 'e-' + precision);\n  return parsed;\n}\n\n/**\n * Converts integer to bytes.\n * @param {DataSchema} schema schema of executed property, action or event.\n * @param {Buffer} bytes received byte value.\n * @return {Integer} converted byte value.\n */\nfunction int2byte(schema: DataSchema, dataValue: number) {\n  const bytelength = schema['bdo:bytelength'];\n  const signed = schema['bdo:signed'] || false;\n  const byteOrder = schema['bdo:byteOrder'] || 'little';\n  const scale = schema['bdo:scale'] || 1;\n  const offset = schema['bdo:offset'] || 0;\n\n  if (typeof bytelength === 'undefined') {\n    throw new Error('Not all parameters are provided!');\n  }\n\n  // Apply scale\n  dataValue = dataValue * scale;\n\n  const buf = Buffer.alloc(bytelength);\n  if (byteOrder === 'little') {\n    if (signed) {\n      buf.writeIntLE(dataValue, offset, bytelength);\n    } else {\n      buf.writeUIntLE(dataValue, offset, bytelength);\n    }\n  } else if (byteOrder === 'big') {\n    if (signed) {\n      buf.writeIntBE(dataValue, offset, bytelength);\n    } else {\n      buf.writeUIntBE(dataValue, offset, bytelength);\n    }\n  }\n\n  return buf;\n}\n\n/**\n * Reads binary buffer based on provided pattern.\n * @param {DataSchema} schema schema of executed property, action or event.\n * @param {Buffer} bytes received byte value.\n * @return {Array} Array containing bytes in the order of the provided variables.\n */\nfunction readPattern(schema: DataSchema, bytes: Buffer) {\n  // Get name of variables in template\n  const template = schema['bdo:pattern'];\n  const variables = schema['bdo:variables'];\n\n  // additionalOffset is offset beetween variables\n  // e.g.  {temp}00{light}\n  // additionalOffset = [0, 1]\n  // means: no offset before temp but offset of 1 byte after temp\n  const additionalOffset = [];\n  const variableNameList = [];\n\n  // Get variable names and additional offset\n  const splitTemplate = template.split('{');\n  for (let i = 0; i < splitTemplate.length; i++) {\n    const splitValue = splitTemplate[i].split('}');\n    if (i === 0) {\n      // Only additional offest at i == 0; never a variable name\n      // divided by 2 to get bytelength\n      additionalOffset.push(splitValue[0].length / 2);\n    } else {\n      variableNameList.push(splitValue[0]);\n      additionalOffset.push(splitValue[1].length / 2);\n    }\n  }\n\n  // Slice buffer\n  const valueList = [];\n  let offset = 0 + additionalOffset[0];\n  for (let i = 0; i < variableNameList.length; i++) {\n    const byteLength = variables[variableNameList[i]]['bdo:bytelength'];\n    valueList.push(bytes.subarray(offset, offset + byteLength));\n    offset += byteLength + additionalOffset[i + 1];\n  }\n\n  return [variableNameList, valueList];\n}\n\n/**\n * Fills in the desired pattern.\n * @param {DataSchema} schema schema of executed property, action or event.\n * @param {any} dataValue values to fill in.\n * @return {String} filled in hexString.\n */\nfunction fillStringPattern(schema: DataSchema, dataValue: any) {\n  let key: string;\n  let params: any;\n  // Iterate over provided parameters and convert to hex string\n  for ([key, params] of Object.entries(schema['bdo:variables'])) {\n    // Convert integer values to hex string\n    if (params.type === 'integer') {\n      const buf = int2byte(params, dataValue[key]);\n      // Convert Buffer back to hex\n      dataValue[key] = buf.toString('hex');\n    }\n    // Fill in Hex values\n    // if (params.type === 'string') {\n    //   if (params.format === 'hex') {\n    //     dataValue[key] = dataValue[key];\n    //   }\n    // }\n  }\n\n  //Fill in pattern\n  const template = UriTemplate.parse(schema['bdo:pattern']);\n  // replace dataValue object with filled in pattern\n  dataValue = template.expand(dataValue);\n\n  return dataValue;\n}\n\n/**\n * Convert string to buffer.\n * @param {DataSchema} schema schema of executed property, action or event.\n * @param {String} dataValue values to convert.\n * @return {String} hexString.\n */\nfunction string2byte(schema: DataSchema, dataValue: string) {\n  let buf: Buffer;\n  if (typeof schema.format === 'undefined') {\n    buf = Buffer.from(dataValue, 'utf-8');\n    return buf;\n  } else if (schema.format === 'hex') {\n    buf = Buffer.from(dataValue, 'hex');\n    return buf;\n  } else {\n    throw Error('String can not be converted to bytes, format not supported');\n  }\n}\n\n/**\n * Convert buffer to string.\n * @param {DataSchema} schema schema of executed property, action or event.\n * @param {Buffer} bytes values to convert.\n * @return {String} Converted String.\n */\nfunction byte2string(schema: DataSchema, bytes: Buffer): string {\n  let value;\n  if (typeof schema.format === 'undefined') {\n    value = bytes.toString('utf-8');\n  } else if (schema.format === 'hex') {\n    value = bytes.toString('hex');\n  }\n  if (typeof value === 'undefined') {\n    throw Error('String can not be converted to bytes, format not supported');\n  }\n  return value;\n}\n","/**\n * WebBluetooth protocol binding\n */\nimport {\n  ProtocolClientFactory,\n  ProtocolClient,\n  ContentSerdes,\n} from '@node-wot/core';\nimport BluetoothClient from './Bluetooth-client';\nimport {BinaryDataStreamCodec} from '../../codecs/BinaryDataCodec';\nimport {BluetoothAdapter} from './BluetoothAdapter';\n\nexport default class BluetoothClientFactory implements ProtocolClientFactory {\n  public readonly scheme: string = 'ble-web+gatt';\n  public contentSerdes: ContentSerdes = ContentSerdes.get();\n  adapter: BluetoothAdapter;\n\n  constructor(adapter: BluetoothAdapter) {\n    this.contentSerdes.addCodec(new BinaryDataStreamCodec());\n    this.adapter = adapter;\n  }\n\n  public getClient(): ProtocolClient {\n    console.debug(\n      '[binding-webBluetoothNew]',\n      `WebBluetoothClientFactory creating client for ${this.scheme}`\n    );\n    return new BluetoothClient(this.adapter);\n  }\n\n  public init = (): boolean => true;\n  public destroy = (): boolean => true;\n}\n","import {BluetoothAdapter} from './BluetoothAdapter';\n\nexport default class ConcreteBluetoothAdapter implements BluetoothAdapter {\n  public async getCharacteristic(\n    deviceId: string,\n    serviceID: BluetoothServiceUUID,\n    characteristicId: BluetoothCharacteristicUUID\n  ): Promise<BluetoothRemoteGATTCharacteristic> {\n    const devices = await navigator.bluetooth.getDevices();\n    const device = devices.find(device => device.id === deviceId);\n    if (!device) {\n      throw new Error(`Device with id ${deviceId} not found`);\n    }\n    if (!device.gatt) {\n      throw new Error(`Device with id ${deviceId} is not connected`);\n    }\n    const server = await device.gatt.connect();\n    const service = await server.getPrimaryService(serviceID);\n    return service.getCharacteristic(characteristicId);\n  }\n}\n","import * as WoT from 'wot-typescript-definitions';\nimport {Servient} from '@node-wot/core';\nimport {BluetoothClientFactory} from './bindings/binding-bluetooth/Bluetooth';\nimport {BluetoothAdapter} from './bindings/binding-bluetooth/BluetoothAdapter';\nimport ConcreteBluetoothAdapter from 'BluetoothAdapter';\n\nlet servient: Servient;\nlet wot: typeof WoT;\n\ndeclare const Wot: any;\n\nexport const getServient = function (\n  bluetoothAdapter: BluetoothAdapter\n): Servient {\n  if (!servient) {\n    try {\n      servient = new Servient();\n    } catch (e) {\n      servient = new Wot.Core.Servient();\n    }\n    servient.addClientFactory(new BluetoothClientFactory(bluetoothAdapter));\n  }\n  return servient;\n};\n\nexport const getWot = async function (\n  bluetoothAdapter?: BluetoothAdapter\n): Promise<typeof WoT> {\n  if (!wot) {\n    if (bluetoothAdapter) {\n      wot = await getServient(bluetoothAdapter).start();\n    } else {\n      wot = await getServient(new ConcreteBluetoothAdapter()).start();\n    }\n  }\n  return wot;\n};\n","import BleRgbController from './BleRgbController';\nimport Blinkstick from './Blinkstick';\nimport BluetoothGeneric from './BluetoothGeneric';\nimport EddystoneDevice from './EddystoneDevice';\nimport HuskyDuino from './HuskyDuino';\nimport RuuviTag from './RuuviTag';\nimport XiaomiFlowerCare from './XiaomiFlowerCare';\nimport XiaomiThermometer from './XiaomiThermometer';\n\nexport default {\n  BleRgbController,\n  Blinkstick,\n  BluetoothGeneric,\n  EddystoneDevice,\n  HuskyDuino,\n  RuuviTag,\n  XiaomiFlowerCare,\n  XiaomiThermometer,\n};\n","import * as WoT from 'wot-typescript-definitions';\nimport {getWot} from '../wot/index';\n\nexport default class BleRgbController {\n  public thing: WoT.ConsumedThing | null = null;\n\n  async init(webBluetoothId: string): Promise<WoT.ConsumedThing> {\n    const td: WoT.ThingDescription = {\n      '@context': [\n        'https://www.w3.org/2019/wot/td/v1',\n        'https://www.w3.org/2022/wot/td/v1.1',\n        {\n          sbo: 'https://freumi.inrupt.net/SimpleBluetoothOntology.ttl#',\n          bdo: 'https://freumi.inrupt.net/BinaryDataOntology.ttl#',\n          qudt: '',\n          qudtUnit: '',\n        },\n        {'@language': 'en'},\n      ],\n      title: 'BLE RGB Controller',\n      description:\n        'A Bluetooth Low Energy (BLE) controller that can be used to control RGB LED lights.',\n      securityDefinitions: {\n        nosec_sc: {\n          scheme: 'nosec',\n        },\n      },\n      '@type': ['Thing', 'sbo:BluetoothLEDevice'],\n      security: ['nosec_sc'],\n      'sbo:hasGAPRole': 'sbo:Peripheral',\n      'sbo:isConnectable': true,\n      'sbo:hasAdvertisingIntervall': {\n        'qudt:numericValue': 50,\n        'qutdUnit:unit': 'qudtUnit:MilliSEC',\n      },\n      properties: {\n        colour: {\n          title: 'colour',\n          description: 'The colour of the LED light.',\n          unit: '',\n          type: 'string',\n          format: 'hex',\n          observable: false,\n          readOnly: false,\n          writeOnly: true,\n          'bdo:pattern': '7e000503{R}{G}{B}00ef',\n          'bdo:variables': {\n            R: {\n              type: 'integer',\n              'bdo:bytelength': 1,\n              minimum: 0,\n              maximum: 255,\n              description: 'Red value.',\n            },\n            G: {\n              type: 'integer',\n              'bdo:bytelength': 1,\n              minimum: 0,\n              maximum: 255,\n              description: 'Green value.',\n            },\n            B: {\n              type: 'integer',\n              'bdo:bytelength': 1,\n              minimum: 0,\n              maximum: 255,\n              description: 'Blue value.',\n            },\n          },\n          forms: [\n            {\n              href: `ble-web+gatt://${webBluetoothId}/0000fff0-0000-1000-8000-00805f9b34fb/0000fff3-0000-1000-8000-00805f9b34fb`,\n              op: 'writeproperty',\n              'sbo:methodName': 'sbo:write-without-response',\n              contentType: 'application/x.binary-data-stream',\n            },\n          ],\n        },\n        power: {\n          type: 'string',\n          format: 'hex',\n\n          observable: false,\n          readOnly: false,\n          writeOnly: true,\n          description: 'The power switch of the controller.',\n\n          'bdo:pattern': '7e0004{is_on}00000000ef',\n          'bdo:variables': {\n            is_on: {\n              type: 'integer',\n              minimum: 0,\n              maximum: 1,\n              'bdo:bytelength': 1,\n            },\n          },\n          forms: [\n            {\n              href: `gatt://${webBluetoothId}/0000fff0-0000-1000-8000-00805f9b34fb/0000fff3-0000-1000-8000-00805f9b34fb`,\n              op: ['writeproperty'],\n              'sbo:methodName': 'sbo:write',\n              contentType: 'application/x.binary-data-stream',\n            },\n          ],\n        },\n        effect: {\n          type: 'string',\n          format: 'hex',\n\n          observable: false,\n          readOnly: false,\n          writeOnly: true,\n          description: 'The effect of the LED light.',\n\n          'bdo:pattern': '7e0003{type}03000000ef',\n          'bdo:variables': {\n            type: {\n              type: 'integer',\n              minimum: 128,\n              maximum: 156,\n              'bdo:bytelength': 1,\n            },\n          },\n          forms: [\n            {\n              href: `gatt://${webBluetoothId}/0000fff0-0000-1000-8000-00805f9b34fb/0000fff3-0000-1000-8000-00805f9b34fb`,\n              op: ['writeproperty'],\n              'sbo:methodName': 'sbo:write',\n              contentType: 'application/x.binary-data-stream',\n            },\n          ],\n        },\n      },\n    };\n    const wot = await getWot();\n    const thing = await wot.consume(td);\n    this.thing = thing;\n    return thing;\n  }\n}\n","import * as WoT from 'wot-typescript-definitions';\nimport {getWot} from '../wot/index';\n\nexport default class Blinkstick {\n  private thing: WoT.ConsumedThing | null = null;\n\n  public thingModel: WoT.ThingDescription | null = null;\n\n  public async init(webHidId: string): Promise<WoT.ConsumedThing> {\n    const td: WoT.ThingDescription = {\n      '@context': ['https://www.w3.org/2019/wot/td/v1'],\n      '@type': ['Thing'],\n      id: 'blast:webhid:blinkstick',\n      title: 'Blinkstick',\n      description:\n        'The tulogic Blinkstick is a Smart LED controller with integrated USB firmware.',\n      securityDefinitions: {\n        nosec_sc: {\n          scheme: 'nosec',\n        },\n      },\n      security: 'nosec_sc',\n      properties: {\n        colours: {\n          title: 'colours',\n          description: 'The colour of the LED at the given index',\n          unit: '',\n          type: 'object',\n          properties: {\n            0: {\n              title: 'Colour 0',\n              description: 'The colour of the LED at index 0',\n              unit: '',\n              type: 'string',\n              writeOnly: true,\n            },\n            1: {\n              title: 'Colour 1',\n              description: 'The colour of the LED at index 1',\n              unit: '',\n              type: 'string',\n              writeOnly: true,\n            },\n            2: {\n              title: 'Colour 2',\n              description: 'The colour of the LED at index 2',\n              unit: '',\n              type: 'string',\n              writeOnly: true,\n            },\n            3: {\n              title: 'Colour 3',\n              description: 'The colour of the LED at index 3',\n              unit: '',\n              type: 'string',\n              writeOnly: true,\n            },\n            4: {\n              title: 'Colour 4',\n              description: 'The colour of the LED at index 4',\n              unit: '',\n              type: 'string',\n              writeOnly: true,\n            },\n            5: {\n              title: 'Colour 5',\n              description: 'The colour of the LED at index 5',\n              unit: '',\n              type: 'string',\n              writeOnly: true,\n            },\n            6: {\n              title: 'Colour 6',\n              description: 'The colour of the LED at index 6',\n              unit: '',\n              type: 'string',\n              writeOnly: true,\n            },\n            7: {\n              title: 'Colour 7',\n              description: 'The colour of the LED at index 7',\n              unit: '',\n              type: 'string',\n              writeOnly: true,\n            },\n          },\n          readOnly: false,\n          writeOnly: true,\n          forms: [\n            {\n              href: 'hid://sendFeatureReport',\n              'wHid:id': webHidId,\n              'wHid:reportId': 5,\n            },\n          ],\n        },\n      },\n    };\n    const wot = await getWot();\n    const thing = await wot.consume(td);\n    this.thing = thing;\n    return thing;\n  }\n}\n","import * as WoT from 'wot-typescript-definitions';\nimport {getWot} from '../wot/index';\n\nexport default class BluetoothGeneric {\n  public thing: WoT.ConsumedThing | null = null;\n\n  public async init(webBluetoothId: string) {\n    const td: WoT.ThingDescription = {\n      '@context': [\n        'https://www.w3.org/2019/wot/td/v1',\n        'https://www.w3.org/2022/wot/td/v1.1',\n        {\n          sbo: 'http://example.org/simple-bluetooth-ontology#',\n          bdo: 'http://example.org/binary-data-ontology#',\n        },\n        {'@language': 'en'},\n      ],\n      '@type': ['Thing'],\n      id: 'blast:bluetooth:BluetoothGeneric',\n      title: 'Genereic Bluetooth device',\n      description: 'A generic Bluetooth device',\n      'sbo:isConnectable': true,\n      securityDefinitions: {\n        nosec_sc: {\n          scheme: 'nosec',\n        },\n      },\n      security: ['nosec_sc'],\n      actions: {},\n      events: {},\n      links: [],\n      observedProperties: {},\n      properties: {\n        barometricPressureTrend: {\n          title: 'Barometric pressure trend',\n          description: 'The barometric pressure trend in hPa.',\n          unit: 'hPa',\n          type: 'number',\n          observable: false,\n          readOnly: true,\n          writeOnly: false,\n          forms: [\n            {\n              href: `ble-web+gatt://${webBluetoothId}/00001802-0000-1000-8000-00805f9b34fb/00002a1c-0000-1000-8000-00805f9b34fb`,\n              op: 'readproperty',\n              'sbo:methodName': 'sbo:read',\n              contentType: 'application/x.binary-data-stream',\n            },\n          ],\n        },\n        batteryLevel: {\n          title: 'Battery level',\n          description: 'Battery level in %.',\n          unit: '%',\n          type: 'number',\n          observable: false,\n          readOnly: true,\n          writeOnly: false,\n          forms: [\n            {\n              href: `ble-web+gatt://${webBluetoothId}/0000180f-0000-1000-8000-00805f9b34fb/00002a19-0000-1000-8000-00805f9b34fb`,\n              op: 'readproperty',\n              'sbo:methodName': 'sbo:read',\n              contentType: 'application/x.binary-data-stream',\n            },\n          ],\n        },\n        deviceName: {\n          title: 'Device name',\n          description: 'User defined name of the device',\n          type: 'string',\n          observable: false,\n          readOnly: false,\n          writeOnly: false,\n          forms: [\n            {\n              href: `ble-web+gatt://${webBluetoothId}/00001800-0000-1000-8000-00805f9b34fb/00002a00-0000-1000-8000-00805f9b34fb`,\n              op: 'writeproperty',\n              'sbo:methodName': 'sbo:write-without-response',\n              contentType: 'application/x.binary-data-stream',\n            },\n            {\n              href: `ble-web+gatt://${webBluetoothId}/00001800-0000-1000-8000-00805f9b34fb/00002a00-0000-1000-8000-00805f9b34fb`,\n              op: 'readproperty',\n              'sbo:methodName': 'sbo:read',\n              contentType: 'application/x.binary-data-stream',\n            },\n          ],\n        },\n        elevation: {\n          title: 'Elevation',\n          description: 'The elevation measured by the device.',\n          type: 'number',\n          observable: false,\n          readOnly: true,\n          writeOnly: false,\n          forms: [\n            {\n              href: `ble-web+gatt://${webBluetoothId}/00001803-0000-1000-8000-00805f9b34fb/00002a6c-0000-1000-8000-00805f9b34fb`,\n              op: 'readproperty',\n              'sbo:methodName': 'sbo:read',\n              contentType: 'application/x.binary-data-stream',\n            },\n          ],\n        },\n        firmwareRevision: {\n          title: 'Firmware revision',\n          description: \"Revision of the device's firmware\",\n          type: 'string',\n          observable: false,\n          readOnly: true,\n          writeOnly: false,\n          forms: [\n            {\n              href: `ble-web+gatt://${webBluetoothId}/0000180a-0000-1000-8000-00805f9b34fb/00002a26-0000-1000-8000-00805f9b34fb`,\n              op: 'readproperty',\n              'sbo:methodName': 'sbo:read',\n              contentType: 'application/x.binary-data-stream',\n            },\n          ],\n        },\n        hardwareRevision: {\n          title: 'Hardware revision',\n          description: \"Revision of the device's hardware\",\n          type: 'string',\n          observable: false,\n          readOnly: true,\n          writeOnly: false,\n          forms: [\n            {\n              href: `ble-web+gatt://${webBluetoothId}/0000180a-0000-1000-8000-00805f9b34fb/00002a27-0000-1000-8000-00805f9b34fb`,\n              op: 'readproperty',\n              'sbo:methodName': 'sbo:read',\n              contentType: 'application/x.binary-data-stream',\n            },\n          ],\n        },\n        humidity: {\n          title: 'Humidity',\n          description: 'The relative humidity in %',\n          unit: '%',\n          type: 'number',\n          observable: false,\n          readOnly: true,\n          writeOnly: false,\n          forms: [\n            {\n              href: `ble-web+gatt://${webBluetoothId}/00001803-0000-1000-8000-00805f9b34fb/00002a6f-0000-1000-8000-00805f9b34fb`,\n              op: 'readproperty',\n              'sbo:methodName': 'sbo:read',\n              contentType: 'application/x.binary-data-stream',\n            },\n          ],\n        },\n        irradiance: {\n          title: 'Irradiance',\n          description: 'Irradiance measured by the device.',\n          type: 'number',\n          observable: false,\n          readOnly: true,\n          writeOnly: false,\n          forms: [\n            {\n              href: `ble-web+gatt://${webBluetoothId}/00001803-0000-1000-8000-00805f9b34fb/00002a77-0000-1000-8000-00805f9b34fb`,\n              op: 'readproperty',\n              'sbo:methodName': 'sbo:read',\n              contentType: 'application/x.binary-data-stream',\n            },\n          ],\n        },\n        intermediateTemperature: {\n          title: 'Intermediate temperature',\n          description: 'The intermediate temperature measured by the device.',\n          type: 'number',\n          observable: false,\n          readOnly: true,\n          writeOnly: false,\n          forms: [\n            {\n              href: `ble-web+gatt://${webBluetoothId}/00001809-0000-1000-8000-00805f9b34fb/00002a1e-0000-1000-8000-00805f9b34fb`,\n              op: 'readproperty',\n              'sbo:methodName': 'sbo:read',\n              contentType: 'application/x.binary-data-stream',\n            },\n          ],\n        },\n        manufacturerName: {\n          title: 'Manufacturer name',\n          type: 'string',\n          observable: false,\n          readOnly: true,\n          writeOnly: false,\n          forms: [\n            {\n              href: `ble-web+gatt://${webBluetoothId}/0000180a-0000-1000-8000-00805f9b34fb/00002a29-0000-1000-8000-00805f9b34fb`,\n              op: 'readproperty',\n              'sbo:methodName': 'sbo:read',\n              contentType: 'application/x.binary-data-stream',\n            },\n          ],\n        },\n        modelNumber: {\n          title: 'Model number',\n          type: 'number',\n          observable: false,\n          readOnly: true,\n          writeOnly: false,\n          forms: [\n            {\n              href: `ble-web+gatt://${webBluetoothId}/0000180a-0000-1000-8000-00805f9b34fb/00002a24-0000-1000-8000-00805f9b34fb`,\n              op: 'readproperty',\n              'sbo:methodName': 'sbo:read',\n              contentType: 'application/x.binary-data-stream',\n            },\n          ],\n        },\n        movementCounter: {\n          title: 'Movement counter',\n          description:\n            'A counter incremented everytime the device starts moving.',\n          type: 'number',\n          observable: false,\n          readOnly: true,\n          writeOnly: false,\n          forms: [\n            {\n              href: `ble-web+gatt://${webBluetoothId}/00001809-0000-1000-8000-00805f9b34fb/00002a56-0000-1000-8000-00805f9b34fb`,\n              op: 'readproperty',\n              'sbo:methodName': 'sbo:read',\n              contentType: 'application/x.binary-data-stream',\n            },\n          ],\n        },\n        pressure: {\n          title: 'Pressure',\n          description: 'Barometric pressure in hPa',\n          unit: 'hPa',\n          type: 'number',\n          observable: false,\n          readOnly: true,\n          writeOnly: false,\n          forms: [\n            {\n              href: `ble-web+gatt://${webBluetoothId}/00001809-0000-1000-8000-00805f9b34fb/00002a6d-0000-1000-8000-00805f9b34fb`,\n              op: 'readproperty',\n              'sbo:methodName': 'sbo:read',\n              contentType: 'application/x.binary-data-stream',\n            },\n          ],\n        },\n        serialNumber: {\n          title: 'Serial number',\n          type: 'string',\n          observable: false,\n          readOnly: true,\n          writeOnly: false,\n          forms: [\n            {\n              href: `ble-web+gatt://${webBluetoothId}/0000180a-0000-1000-8000-00805f9b34fb/00002a25-0000-1000-8000-00805f9b34fb`,\n              op: 'readproperty',\n              'sbo:methodName': 'sbo:read',\n              contentType: 'application/x.binary-data-stream',\n            },\n          ],\n        },\n        softwareRevision: {\n          title: 'Software revision',\n          description: \"Revision of the device's software\",\n          type: 'string',\n          observable: false,\n          readOnly: true,\n          writeOnly: false,\n          forms: [\n            {\n              href: `ble-web+gatt://${webBluetoothId}/0000180a-0000-1000-8000-00805f9b34fb/00002a28-0000-1000-8000-00805f9b34fb`,\n              op: 'readproperty',\n              'sbo:methodName': 'sbo:read',\n              contentType: 'application/x.binary-data-stream',\n            },\n          ],\n        },\n        temperature: {\n          title: 'Temperature',\n          type: 'number',\n          observable: false,\n          readOnly: true,\n          writeOnly: false,\n          forms: [\n            {\n              href: `ble-web+gatt://${webBluetoothId}/00001809-0000-1000-8000-00805f9b34fb/00002a6e-0000-1000-8000-00805f9b34fb`,\n              op: 'readproperty',\n              'sbo:methodName': 'sbo:read',\n              contentType: 'application/x.binary-data-stream',\n            },\n          ],\n        },\n        temperatureMeasurement: {\n          title: 'Temperature measurement',\n          type: 'number',\n          observable: false,\n          readOnly: true,\n          writeOnly: false,\n          forms: [\n            {\n              href: `ble-web+gatt://${webBluetoothId}/00001809-0000-1000-8000-00805f9b34fb/00002a1c-0000-1000-8000-00805f9b34fb`,\n              op: 'readproperty',\n              'sbo:methodName': 'sbo:read',\n              contentType: 'application/x.binary-data-stream',\n            },\n          ],\n        },\n        temperatureType: {\n          title: 'Temperature type',\n          type: 'string',\n          observable: false,\n          readOnly: true,\n          writeOnly: false,\n          forms: [\n            {\n              href: `ble-web+gatt://${webBluetoothId}/00001809-0000-1000-8000-00805f9b34fb/00002a1d-0000-1000-8000-00805f9b34fb`,\n              op: 'readproperty',\n              'sbo:methodName': 'sbo:read',\n              contentType: 'application/x.binary-data-stream',\n            },\n          ],\n        },\n        txPowerLevel: {\n          title: 'Tx Power Level',\n          type: 'number',\n          observable: false,\n          readOnly: true,\n          writeOnly: false,\n          forms: [\n            {\n              href: `ble-web+gatt://${webBluetoothId}/00001804-0000-1000-8000-00805f9b34fb/00002a07-0000-1000-8000-00805f9b34fb`,\n              op: 'readproperty',\n              'sbo:methodName': 'sbo:read',\n              contentType: 'application/x.binary-data-stream',\n            },\n          ],\n        },\n        weight: {\n          title: 'Weight',\n          type: 'number',\n          observable: false,\n          readOnly: true,\n          writeOnly: false,\n          forms: [\n            {\n              href: `ble-web+gatt://${webBluetoothId}/00001808-0000-1000-8000-00805f9b34fb/00002a9d-0000-1000-8000-00805f9b34fb`,\n              op: 'readproperty',\n              'sbo:methodName': 'sbo:read',\n              contentType: 'application/x.binary-data-stream',\n            },\n          ],\n        },\n      },\n      subscribedEvents: {},\n    };\n    const wot = await getWot();\n    const thing = await wot.consume(td);\n    this.thing = thing;\n    return thing;\n  }\n}\n","import * as WoT from 'wot-typescript-definitions';\nimport {getWot} from '../wot/index';\n\nexport default class EddystoneDevice {\n  public thing: WoT.ConsumedThing | null = null;\n\n  public async init(webBluetoothId: string) {\n    const td: WoT.ThingDescription = {\n      '@context': ['https://www.w3.org/2019/wot/td/v1'],\n      '@type': ['Thing'],\n      id: 'blast:bluetooth:EddystoneDevice',\n      title: 'Eddystone Device',\n      description: 'A Bluetooth device implementing the Eddystone protocol',\n      securityDefinitions: {\n        nosec_sc: {\n          scheme: 'nosec',\n        },\n      },\n      security: 'nosec_sc',\n      properties: {\n        activeSlot: {\n          title: 'Active Slot',\n          description: 'The active slot of the Eddystone device',\n          type: 'integer',\n          readOnly: false,\n          forms: [\n            {\n              op: 'readproperty',\n              href: 'gatt://a3c87500-8ed3-4bdf-8a39-a01bebede295/a3c87502-8ed3-4bdf-8a39-a01bebede295/readEddystoneProperty',\n              'wbt:id': webBluetoothId,\n            },\n            {\n              op: 'writeproperty',\n              href: 'gatt://a3c87500-8ed3-4bdf-8a39-a01bebede295/a3c87502-8ed3-4bdf-8a39-a01bebede295/writeEddystoneProperty',\n              'wbt:id': webBluetoothId,\n            },\n          ],\n        },\n        advertisedTxPower: {\n          title: 'Advertised Tx Power',\n          description: 'The advertised TX power of the iBeacon',\n          unit: 'dBm',\n          type: 'integer',\n          readOnly: false,\n          forms: [\n            {\n              op: 'readproperty',\n              href: 'gatt://a3c87500-8ed3-4bdf-8a39-a01bebede295/a3c87505-8ed3-4bdf-8a39-a01bebede295/readEddystoneProperty',\n              'wbt:id': webBluetoothId,\n            },\n            {\n              op: 'writeproperty',\n              href: 'gatt://a3c87500-8ed3-4bdf-8a39-a01bebede295/a3c87505-8ed3-4bdf-8a39-a01bebede295/writeEddystoneProperty',\n              'wbt:id': webBluetoothId,\n            },\n          ],\n        },\n        advertisedData: {\n          title: 'Advertised Data',\n          description: 'The advertised data of the eddystone device',\n          unit: '',\n          type: 'string',\n          readOnly: false,\n          forms: [\n            {\n              op: 'readproperty',\n              href: 'gatt://a3c87500-8ed3-4bdf-8a39-a01bebede295/a3c8750a-8ed3-4bdf-8a39-a01bebede295/readEddystoneProperty',\n              'wbt:id': webBluetoothId,\n            },\n            {\n              op: 'writeproperty',\n              href: 'gatt://a3c87500-8ed3-4bdf-8a39-a01bebede295/a3c8750a-8ed3-4bdf-8a39-a01bebede295/writeEddystoneProperty',\n              'wbt:id': webBluetoothId,\n            },\n          ],\n        },\n        advertisingInterval: {\n          title: 'Advertising Interval',\n          description: 'The advertising interval of the eddystone device',\n          unit: 'ms',\n          type: 'integer',\n          readOnly: false,\n          forms: [\n            {\n              op: 'readproperty',\n              href: 'gatt://a3c87500-8ed3-4bdf-8a39-a01bebede295/a3c87503-8ed3-4bdf-8a39-a01bebede295/readEddystoneProperty',\n              'wbt:id': webBluetoothId,\n            },\n            {\n              op: 'writeproperty',\n              href: 'gatt://a3c87500-8ed3-4bdf-8a39-a01bebede295/a3c87503-8ed3-4bdf-8a39-a01bebede295/writeEddystoneProperty',\n              'wbt:id': webBluetoothId,\n            },\n          ],\n        },\n        capabilities: {\n          title: 'Capabilities',\n          description: 'The capabilities of the eddystone device',\n          type: 'array',\n          readOnly: false,\n          forms: [\n            {\n              op: 'readproperty',\n              href: 'gatt://a3c87500-8ed3-4bdf-8a39-a01bebede295/a3c87501-8ed3-4bdf-8a39-a01bebede295/readEddystoneProperty',\n              'wbt:id': webBluetoothId,\n            },\n          ],\n        },\n        lockState: {\n          title: 'Lock State',\n          description: 'The lock state of the eddystone device',\n          unit: '',\n          type: 'string',\n          readOnly: true,\n          forms: [\n            {\n              op: 'readproperty',\n              href: 'gatt://a3c87500-8ed3-4bdf-8a39-a01bebede295/a3c87506-8ed3-4bdf-8a39-a01bebede295/readEddystoneProperty',\n              'wbt:id': webBluetoothId,\n            },\n          ],\n        },\n        publicEcdhKey: {\n          title: 'Public ECDH Key',\n          description: 'The public ECDH key of the eddystone device',\n          unit: '',\n          type: 'string',\n          readOnly: true,\n          forms: [\n            {\n              op: 'readproperty',\n              href: 'gatt://a3c87500-8ed3-4bdf-8a39-a01bebede295/a3c87508-8ed3-4bdf-8a39-a01bebede295/readEddystoneProperty',\n              'wbt:id': webBluetoothId,\n            },\n          ],\n        },\n        radioTxPower: {\n          title: 'Radio Tx Power',\n          description: 'The radio TX power of the eddystone device',\n          unit: 'dBm',\n          type: 'integer',\n          readOnly: false,\n          forms: [\n            {\n              op: 'readproperty',\n              href: 'gatt://a3c87500-8ed3-4bdf-8a39-a01bebede295/a3c87504-8ed3-4bdf-8a39-a01bebede295/readEddystoneProperty',\n              'wbt:id': webBluetoothId,\n            },\n            {\n              op: 'writeproperty',\n              href: 'gatt://a3c87500-8ed3-4bdf-8a39-a01bebede295/a3c87504-8ed3-4bdf-8a39-a01bebede295/writeEddystoneProperty',\n              'wbt:id': webBluetoothId,\n            },\n          ],\n        },\n      },\n    };\n    const wot = await getWot();\n    const thing = await wot.consume(td);\n    this.thing = thing;\n    return thing;\n  }\n}\n","import * as WoT from 'wot-typescript-definitions';\nimport {getWot} from '../wot/index';\n\nexport default class HuskyDuino {\n  public thing: WoT.ConsumedThing | null = null;\n\n  async init(webBluetoothId: string) {\n    const td: WoT.ThingDescription = {\n      '@context': [\n        'https://www.w3.org/2019/wot/td/v1',\n        'https://www.w3.org/2022/wot/td/v1.1',\n        {\n          sbo: 'http://example.org/simple-bluetooth-ontology#',\n          bdo: 'http://example.org/binary-data-ontology#',\n        },\n        {'@language': 'en'},\n      ],\n      title: 'HuskyDuino',\n      description: 'A HuskyLens interface running on Arduino.',\n      securityDefinitions: {\n        nosec_sc: {\n          scheme: 'nosec',\n        },\n      },\n      '@type': 'Thing',\n      security: ['nosec_sc'],\n\n      'sbo:hasGAPRole': 'sbo:Peripheral',\n      'sbo:isConnectable': true,\n      'sbo:hasAdvertisingIntervall': {\n        'qudt:numericValue': 200,\n        'qutdUnit:unit': 'qudtUnit:MilliSEC',\n      },\n\n      properties: {\n        algorithm: {\n          type: 'integer',\n          observable: false,\n          readOnly: false,\n          writeOnly: false,\n          description: 'The currently active algorithm',\n\n          minimum: 1,\n          maximum: 7,\n\n          'bdo:bytelength': 1,\n          forms: [\n            {\n              href: `ble-web+gatt://${webBluetoothId}/5be35d20-f9b0-11eb-9a03-0242ac130003/5be35d26-f9b0-11eb-9a03-0242ac130003`,\n              op: 'readproperty',\n              'sbo:methodName': 'sbo:read',\n              contentType: 'application/x.binary-data-stream',\n            },\n            {\n              href: `ble-web+gatt://${webBluetoothId}/5be35d20-f9b0-11eb-9a03-0242ac130003/5be35d26-f9b0-11eb-9a03-0242ac130003`,\n              op: 'writeproperty',\n              'sbo:methodName': 'sbo:write-without-response',\n              contentType: 'application/x.binary-data-stream',\n            },\n          ],\n        },\n        id: {\n          type: 'string',\n          observable: false,\n          readOnly: true,\n          writeOnly: false,\n          description: 'The ID of the face or object',\n\n          forms: [\n            {\n              href: `ble-web+gatt://${webBluetoothId}/5be35d20-f9b0-11eb-9a03-0242ac130003/5be3628a-f9b0-11eb-9a03-0242ac130003`,\n              op: 'readproperty',\n              'sbo:methodName': 'sbo:read',\n              contentType: 'application/x.binary-data-stream',\n            },\n          ],\n        },\n        location: {\n          type: 'string',\n          observable: false,\n          readOnly: true,\n          writeOnly: false,\n          description: 'The location of the face or object',\n\n          forms: [\n            {\n              href: `ble-web+gatt://${webBluetoothId}/5be35d20-f9b0-11eb-9a03-0242ac130003/5be3628a-f9b0-11eb-9a03-0242ac130003`,\n              op: 'readproperty',\n              'sbo:methodName': 'sbo:read',\n              contentType: 'application/x.binary-data-stream',\n            },\n          ],\n        },\n      },\n      actions: {\n        forgetAll: {\n          description: 'Forget all faces and objects',\n          input: {\n            type: 'string',\n            enum: ['true'],\n          },\n          forms: [\n            {\n              href: `ble-web+gatt://${webBluetoothId}/5be35d20-f9b0-11eb-9a03-0242ac130003/5be361b8-f9b0-11eb-9a03-0242ac130003`,\n              op: 'invokeaction',\n              'sbo:methodName': 'sbo:write-without-response',\n              contentType: 'application/x.binary-data-stream',\n            },\n          ],\n        },\n\n        learn: {\n          description: 'Learn a new face or object.',\n          input: {\n            type: 'integer',\n            minimum: 0,\n            maximum: 255,\n            'bdo:bytelength': 1,\n            description: 'The ID of the face or object to learn.',\n          },\n          forms: [\n            {\n              href: `ble-web+gatt://${webBluetoothId}/5be35d20-f9b0-11eb-9a03-0242ac130003/5be35eca-f9b0-11eb-9a03-0242ac130003`,\n              op: 'invokeaction',\n              'sbo:methodName': 'sbo:write-without-response',\n              contentType: 'application/x.binary-data-stream',\n            },\n          ],\n        },\n      },\n    };\n\n    const wot = await getWot();\n    const thing = await wot.consume(td);\n    this.thing = thing;\n    return thing;\n  }\n}\n","// DEPRECATED, THIS FILE IS NOT YET UPDATED TO WORK WITH NEW WOT API\nimport * as WoT from 'wot-typescript-definitions';\nimport {getWot} from '../wot/index';\n\nexport default class RuuviTag {\n  public thing: WoT.ConsumedThing | null = null;\n\n  async init(webBluetoothId: string): Promise<WoT.ConsumedThing> {\n    const td: WoT.ThingDescription = {\n      '@context': ['https://www.w3.org/2019/wot/td/v1'],\n      '@type': ['Thing'],\n      id: 'blast:Bluetooth:RuuviTag',\n      title: 'Ruuvi Tag',\n      description:\n        'RuuviTag is a wireless Bluetooth sensor node that measures temperature, air humidity, and movement.',\n      securityDefinitions: {\n        nosec_sc: {\n          scheme: 'nosec',\n        },\n      },\n      security: 'nosec_sc',\n      events: {\n        manufacturerData: {\n          title: 'Ruuvi Data V5',\n          description: 'The RuuviTag data in version 5 format',\n          data: {\n            type: 'object',\n            properties: {\n              accelerationX: {\n                description: 'Acceleration in X axis',\n                type: 'number',\n                readOnly: true,\n                unit: 'g',\n                multipleOf: 0.1,\n              },\n              accelerationY: {\n                description: 'Acceleration in Y axis',\n                type: 'number',\n                readOnly: true,\n                unit: 'g',\n                multipleOf: 0.1,\n              },\n              accelerationZ: {\n                description: 'Acceleration in Z axis',\n                type: 'number',\n                readOnly: true,\n                unit: 'g',\n                multipleOf: 0.1,\n              },\n              battery: {\n                description: 'Battery level in %',\n                type: 'number',\n                readOnly: true,\n                unit: '%',\n                minimum: 0,\n                maximum: 100,\n                multipleOf: 0.1,\n              },\n              humidity: {\n                description: 'Relative humidity in %',\n                type: 'number',\n                readOnly: true,\n                unit: '%',\n                minimum: 0,\n                maximum: 100,\n                multipleOf: 0.1,\n              },\n              pressure: {\n                description: 'Air pressure in hPa',\n                type: 'number',\n                readOnly: true,\n                unit: 'hPa',\n                minimum: 300,\n                maximum: 1100,\n                multipleOf: 0.1,\n              },\n              temperature: {\n                description: 'Temperature in Celsius',\n                type: 'number',\n                readOnly: true,\n                unit: 'C',\n                minimum: -40,\n                maximum: 80,\n                multipleOf: 0.1,\n              },\n              txPower: {\n                description: 'Transmission power in dBm',\n                type: 'number',\n                readOnly: true,\n                unit: 'dBm',\n                minimum: -100,\n                maximum: 20,\n                multipleOf: 0.1,\n              },\n              movementCounter: {\n                description: 'Movement counter',\n                type: 'number',\n                readOnly: true,\n                minimum: 0,\n                multipleOf: 1,\n              },\n              measurementSequenceNumber: {\n                description: 'Measurement sequence number',\n                type: 'number',\n                readOnly: true,\n                minimum: 0,\n                multipleOf: 1,\n              },\n              mac: {\n                description: 'MAC address',\n                type: 'string',\n                readOnly: true,\n              },\n            },\n          },\n          forms: [\n            {\n              href: 'gatt://startLEScan',\n              'wbt:id': webBluetoothId,\n            },\n          ],\n        },\n      },\n    };\n    const wot = await getWot();\n    const thing = await wot.consume(td);\n    this.thing = thing;\n    return thing;\n  }\n}\n","import * as WoT from 'wot-typescript-definitions';\nimport {getWot} from '../wot/index';\n\nexport default class XiaomiFlowerCare {\n  public thing: WoT.ConsumedThing | null = null;\n\n  async init(webBluetoothId: string): Promise<WoT.ConsumedThing> {\n    const td: WoT.ThingDescription = {\n      '@context': [\n        'https://www.w3.org/2019/wot/td/v1',\n        'https://www.w3.org/2022/wot/td/v1.1',\n        {\n          sbo: 'https://freumi.inrupt.net/SimpleBluetoothOntology.ttl#',\n          bdo: 'https://freumi.inrupt.net/BinaryDataOntology.ttl#',\n          qudt: '',\n          qudtUnit: '',\n        },\n        {'@language': 'en'},\n      ],\n      title: 'Flower Care',\n      description: 'A Xiaomi Flower Care Sensor.',\n      securityDefinitions: {\n        nosec_sc: {\n          scheme: 'nosec',\n        },\n      },\n      '@type': 'Thing',\n      security: ['nosec_sc'],\n\n      'sbo:hasGAPRole': 'sbo:Peripheral',\n      'sbo:isConnectable': true,\n      'sbo:hasAdvertisingIntervall': {\n        'qudt:numericValue': 2000,\n        'qutdUnit:unit': 'qudtUnit:MilliSEC',\n      },\n\n      properties: {\n        valueString: {\n          type: 'array',\n\n          observable: false,\n          readOnly: true,\n          writeOnly: false,\n          description: 'The Values of the device',\n\n          'bdo:pattern': '{temp}00{brightness}{moisture}{conduct}023c00fb349b',\n          'bdo:variables': {\n            temp: {\n              type: 'integer',\n              'bdo:bytelength': 2,\n              'bdo:scale': 0.1,\n              description: 'The current temperature value.',\n            },\n            brightness: {\n              type: 'integer',\n              'bdo:bytelength': 4,\n              description: 'The current brightness value.',\n            },\n            moisture: {\n              type: 'integer',\n              'bdo:bytelength': 1,\n              description: 'The current moisture value.',\n            },\n            conduct: {\n              type: 'integer',\n              'bdo:bytelength': 2,\n              description: 'The current conductivity value.',\n            },\n          },\n          forms: [\n            {\n              href: `ble-web+gatt://${webBluetoothId}/00001204-0000-1000-8000-00805f9b34fb/00001a01-0000-1000-8000-00805f9b34fb`,\n              op: 'readproperty',\n              'sbo:methodName': 'sbo:read',\n              contentType: 'application/x.binary-data-stream',\n            },\n          ],\n        },\n      },\n      actions: {\n        readMode: {\n          type: 'string',\n          observable: false,\n          readOnly: false,\n          writeOnly: true,\n          description: 'Enable write mode',\n\n          input: {\n            type: 'string',\n            format: 'hex',\n            enum: ['A01F'],\n            'bdo:bytelength': 2,\n            description: 'The command \"A01F\" enables write mode.',\n          },\n\n          forms: [\n            {\n              href: `ble-web+gatt://${webBluetoothId}/00001204-0000-1000-8000-00805f9b34fb/00001a00-0000-1000-8000-00805f9b34fb`,\n              op: 'invokeaction',\n              'sbo:methodName': 'sbo:write',\n              contentType: 'application/x.binary-data-stream',\n            },\n          ],\n        },\n      },\n    };\n    const wot = await getWot();\n    const thing = await wot.consume(td);\n    this.thing = thing;\n    return thing;\n  }\n}\n","import * as WoT from 'wot-typescript-definitions';\nimport {getWot} from '../wot/index';\n\nexport default class XiamoiThermometer {\n  public thing: WoT.ConsumedThing | null = null;\n\n  async init(webBluetoothId: string): Promise<WoT.ConsumedThing> {\n    const td: WoT.ThingDescription = {\n      '@context': ['https://www.w3.org/2019/wot/td/v1'],\n      '@type': ['Thing'],\n      id: 'blast:Bluetooth:xiamoiThermometer',\n      title: 'Xiaomi Thermometer',\n      description:\n        'The Xiaomi Thermometer is a temperature and humidity sensor with a Bluetooth Low Energy interface.',\n      securityDefinitions: {\n        nosec_sc: {\n          scheme: 'nosec',\n        },\n      },\n      security: 'nosec_sc',\n      events: {\n        measurements: {\n          title: 'Temperature and humidity measurements',\n          description:\n            'The temperature and humidity values measured by the thermometer.',\n          type: 'object',\n          properties: {\n            temperature: {\n              title: 'temperature value measured by the thermometer.',\n              description: 'The temperature value measured by the thermometer.',\n              unit: 'C',\n              type: 'number',\n            },\n            humidity: {\n              title: 'humidity',\n              description: 'The relative humidity measured by the thermometer.',\n              unit: '%',\n              type: 'number',\n            },\n          },\n          forms: [\n            {\n              href: 'gatt://ebe0ccb0-7a0a-4b0c-8a1a-6ff2997da3a6/ebe0ccc1-7a0a-4b0c-8a1a-6ff2997da3a6/subscribe',\n              'wbt:id': webBluetoothId,\n            },\n          ],\n        },\n      },\n    };\n    const wot = await getWot();\n    const thing = await wot.consume(td);\n    this.thing = thing;\n    return thing;\n  }\n}\n","/** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */\n(function (global, factory) {\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n\ttypeof define === 'function' && define.amd ? define(['exports'], factory) :\n\t(factory((global.URI = global.URI || {})));\n}(this, (function (exports) { 'use strict';\n\nfunction merge() {\n    for (var _len = arguments.length, sets = Array(_len), _key = 0; _key < _len; _key++) {\n        sets[_key] = arguments[_key];\n    }\n\n    if (sets.length > 1) {\n        sets[0] = sets[0].slice(0, -1);\n        var xl = sets.length - 1;\n        for (var x = 1; x < xl; ++x) {\n            sets[x] = sets[x].slice(1, -1);\n        }\n        sets[xl] = sets[xl].slice(1);\n        return sets.join('');\n    } else {\n        return sets[0];\n    }\n}\nfunction subexp(str) {\n    return \"(?:\" + str + \")\";\n}\nfunction typeOf(o) {\n    return o === undefined ? \"undefined\" : o === null ? \"null\" : Object.prototype.toString.call(o).split(\" \").pop().split(\"]\").shift().toLowerCase();\n}\nfunction toUpperCase(str) {\n    return str.toUpperCase();\n}\nfunction toArray(obj) {\n    return obj !== undefined && obj !== null ? obj instanceof Array ? obj : typeof obj.length !== \"number\" || obj.split || obj.setInterval || obj.call ? [obj] : Array.prototype.slice.call(obj) : [];\n}\nfunction assign(target, source) {\n    var obj = target;\n    if (source) {\n        for (var key in source) {\n            obj[key] = source[key];\n        }\n    }\n    return obj;\n}\n\nfunction buildExps(isIRI) {\n    var ALPHA$$ = \"[A-Za-z]\",\n        CR$ = \"[\\\\x0D]\",\n        DIGIT$$ = \"[0-9]\",\n        DQUOTE$$ = \"[\\\\x22]\",\n        HEXDIG$$ = merge(DIGIT$$, \"[A-Fa-f]\"),\n        //case-insensitive\n    LF$$ = \"[\\\\x0A]\",\n        SP$$ = \"[\\\\x20]\",\n        PCT_ENCODED$ = subexp(subexp(\"%[EFef]\" + HEXDIG$$ + \"%\" + HEXDIG$$ + HEXDIG$$ + \"%\" + HEXDIG$$ + HEXDIG$$) + \"|\" + subexp(\"%[89A-Fa-f]\" + HEXDIG$$ + \"%\" + HEXDIG$$ + HEXDIG$$) + \"|\" + subexp(\"%\" + HEXDIG$$ + HEXDIG$$)),\n        //expanded\n    GEN_DELIMS$$ = \"[\\\\:\\\\/\\\\?\\\\#\\\\[\\\\]\\\\@]\",\n        SUB_DELIMS$$ = \"[\\\\!\\\\$\\\\&\\\\'\\\\(\\\\)\\\\*\\\\+\\\\,\\\\;\\\\=]\",\n        RESERVED$$ = merge(GEN_DELIMS$$, SUB_DELIMS$$),\n        UCSCHAR$$ = isIRI ? \"[\\\\xA0-\\\\u200D\\\\u2010-\\\\u2029\\\\u202F-\\\\uD7FF\\\\uF900-\\\\uFDCF\\\\uFDF0-\\\\uFFEF]\" : \"[]\",\n        //subset, excludes bidi control characters\n    IPRIVATE$$ = isIRI ? \"[\\\\uE000-\\\\uF8FF]\" : \"[]\",\n        //subset\n    UNRESERVED$$ = merge(ALPHA$$, DIGIT$$, \"[\\\\-\\\\.\\\\_\\\\~]\", UCSCHAR$$),\n        SCHEME$ = subexp(ALPHA$$ + merge(ALPHA$$, DIGIT$$, \"[\\\\+\\\\-\\\\.]\") + \"*\"),\n        USERINFO$ = subexp(subexp(PCT_ENCODED$ + \"|\" + merge(UNRESERVED$$, SUB_DELIMS$$, \"[\\\\:]\")) + \"*\"),\n        DEC_OCTET$ = subexp(subexp(\"25[0-5]\") + \"|\" + subexp(\"2[0-4]\" + DIGIT$$) + \"|\" + subexp(\"1\" + DIGIT$$ + DIGIT$$) + \"|\" + subexp(\"[1-9]\" + DIGIT$$) + \"|\" + DIGIT$$),\n        DEC_OCTET_RELAXED$ = subexp(subexp(\"25[0-5]\") + \"|\" + subexp(\"2[0-4]\" + DIGIT$$) + \"|\" + subexp(\"1\" + DIGIT$$ + DIGIT$$) + \"|\" + subexp(\"0?[1-9]\" + DIGIT$$) + \"|0?0?\" + DIGIT$$),\n        //relaxed parsing rules\n    IPV4ADDRESS$ = subexp(DEC_OCTET_RELAXED$ + \"\\\\.\" + DEC_OCTET_RELAXED$ + \"\\\\.\" + DEC_OCTET_RELAXED$ + \"\\\\.\" + DEC_OCTET_RELAXED$),\n        H16$ = subexp(HEXDIG$$ + \"{1,4}\"),\n        LS32$ = subexp(subexp(H16$ + \"\\\\:\" + H16$) + \"|\" + IPV4ADDRESS$),\n        IPV6ADDRESS1$ = subexp(subexp(H16$ + \"\\\\:\") + \"{6}\" + LS32$),\n        //                           6( h16 \":\" ) ls32\n    IPV6ADDRESS2$ = subexp(\"\\\\:\\\\:\" + subexp(H16$ + \"\\\\:\") + \"{5}\" + LS32$),\n        //                      \"::\" 5( h16 \":\" ) ls32\n    IPV6ADDRESS3$ = subexp(subexp(H16$) + \"?\\\\:\\\\:\" + subexp(H16$ + \"\\\\:\") + \"{4}\" + LS32$),\n        //[               h16 ] \"::\" 4( h16 \":\" ) ls32\n    IPV6ADDRESS4$ = subexp(subexp(subexp(H16$ + \"\\\\:\") + \"{0,1}\" + H16$) + \"?\\\\:\\\\:\" + subexp(H16$ + \"\\\\:\") + \"{3}\" + LS32$),\n        //[ *1( h16 \":\" ) h16 ] \"::\" 3( h16 \":\" ) ls32\n    IPV6ADDRESS5$ = subexp(subexp(subexp(H16$ + \"\\\\:\") + \"{0,2}\" + H16$) + \"?\\\\:\\\\:\" + subexp(H16$ + \"\\\\:\") + \"{2}\" + LS32$),\n        //[ *2( h16 \":\" ) h16 ] \"::\" 2( h16 \":\" ) ls32\n    IPV6ADDRESS6$ = subexp(subexp(subexp(H16$ + \"\\\\:\") + \"{0,3}\" + H16$) + \"?\\\\:\\\\:\" + H16$ + \"\\\\:\" + LS32$),\n        //[ *3( h16 \":\" ) h16 ] \"::\"    h16 \":\"   ls32\n    IPV6ADDRESS7$ = subexp(subexp(subexp(H16$ + \"\\\\:\") + \"{0,4}\" + H16$) + \"?\\\\:\\\\:\" + LS32$),\n        //[ *4( h16 \":\" ) h16 ] \"::\"              ls32\n    IPV6ADDRESS8$ = subexp(subexp(subexp(H16$ + \"\\\\:\") + \"{0,5}\" + H16$) + \"?\\\\:\\\\:\" + H16$),\n        //[ *5( h16 \":\" ) h16 ] \"::\"              h16\n    IPV6ADDRESS9$ = subexp(subexp(subexp(H16$ + \"\\\\:\") + \"{0,6}\" + H16$) + \"?\\\\:\\\\:\"),\n        //[ *6( h16 \":\" ) h16 ] \"::\"\n    IPV6ADDRESS$ = subexp([IPV6ADDRESS1$, IPV6ADDRESS2$, IPV6ADDRESS3$, IPV6ADDRESS4$, IPV6ADDRESS5$, IPV6ADDRESS6$, IPV6ADDRESS7$, IPV6ADDRESS8$, IPV6ADDRESS9$].join(\"|\")),\n        ZONEID$ = subexp(subexp(UNRESERVED$$ + \"|\" + PCT_ENCODED$) + \"+\"),\n        //RFC 6874\n    IPV6ADDRZ$ = subexp(IPV6ADDRESS$ + \"\\\\%25\" + ZONEID$),\n        //RFC 6874\n    IPV6ADDRZ_RELAXED$ = subexp(IPV6ADDRESS$ + subexp(\"\\\\%25|\\\\%(?!\" + HEXDIG$$ + \"{2})\") + ZONEID$),\n        //RFC 6874, with relaxed parsing rules\n    IPVFUTURE$ = subexp(\"[vV]\" + HEXDIG$$ + \"+\\\\.\" + merge(UNRESERVED$$, SUB_DELIMS$$, \"[\\\\:]\") + \"+\"),\n        IP_LITERAL$ = subexp(\"\\\\[\" + subexp(IPV6ADDRZ_RELAXED$ + \"|\" + IPV6ADDRESS$ + \"|\" + IPVFUTURE$) + \"\\\\]\"),\n        //RFC 6874\n    REG_NAME$ = subexp(subexp(PCT_ENCODED$ + \"|\" + merge(UNRESERVED$$, SUB_DELIMS$$)) + \"*\"),\n        HOST$ = subexp(IP_LITERAL$ + \"|\" + IPV4ADDRESS$ + \"(?!\" + REG_NAME$ + \")\" + \"|\" + REG_NAME$),\n        PORT$ = subexp(DIGIT$$ + \"*\"),\n        AUTHORITY$ = subexp(subexp(USERINFO$ + \"@\") + \"?\" + HOST$ + subexp(\"\\\\:\" + PORT$) + \"?\"),\n        PCHAR$ = subexp(PCT_ENCODED$ + \"|\" + merge(UNRESERVED$$, SUB_DELIMS$$, \"[\\\\:\\\\@]\")),\n        SEGMENT$ = subexp(PCHAR$ + \"*\"),\n        SEGMENT_NZ$ = subexp(PCHAR$ + \"+\"),\n        SEGMENT_NZ_NC$ = subexp(subexp(PCT_ENCODED$ + \"|\" + merge(UNRESERVED$$, SUB_DELIMS$$, \"[\\\\@]\")) + \"+\"),\n        PATH_ABEMPTY$ = subexp(subexp(\"\\\\/\" + SEGMENT$) + \"*\"),\n        PATH_ABSOLUTE$ = subexp(\"\\\\/\" + subexp(SEGMENT_NZ$ + PATH_ABEMPTY$) + \"?\"),\n        //simplified\n    PATH_NOSCHEME$ = subexp(SEGMENT_NZ_NC$ + PATH_ABEMPTY$),\n        //simplified\n    PATH_ROOTLESS$ = subexp(SEGMENT_NZ$ + PATH_ABEMPTY$),\n        //simplified\n    PATH_EMPTY$ = \"(?!\" + PCHAR$ + \")\",\n        PATH$ = subexp(PATH_ABEMPTY$ + \"|\" + PATH_ABSOLUTE$ + \"|\" + PATH_NOSCHEME$ + \"|\" + PATH_ROOTLESS$ + \"|\" + PATH_EMPTY$),\n        QUERY$ = subexp(subexp(PCHAR$ + \"|\" + merge(\"[\\\\/\\\\?]\", IPRIVATE$$)) + \"*\"),\n        FRAGMENT$ = subexp(subexp(PCHAR$ + \"|[\\\\/\\\\?]\") + \"*\"),\n        HIER_PART$ = subexp(subexp(\"\\\\/\\\\/\" + AUTHORITY$ + PATH_ABEMPTY$) + \"|\" + PATH_ABSOLUTE$ + \"|\" + PATH_ROOTLESS$ + \"|\" + PATH_EMPTY$),\n        URI$ = subexp(SCHEME$ + \"\\\\:\" + HIER_PART$ + subexp(\"\\\\?\" + QUERY$) + \"?\" + subexp(\"\\\\#\" + FRAGMENT$) + \"?\"),\n        RELATIVE_PART$ = subexp(subexp(\"\\\\/\\\\/\" + AUTHORITY$ + PATH_ABEMPTY$) + \"|\" + PATH_ABSOLUTE$ + \"|\" + PATH_NOSCHEME$ + \"|\" + PATH_EMPTY$),\n        RELATIVE$ = subexp(RELATIVE_PART$ + subexp(\"\\\\?\" + QUERY$) + \"?\" + subexp(\"\\\\#\" + FRAGMENT$) + \"?\"),\n        URI_REFERENCE$ = subexp(URI$ + \"|\" + RELATIVE$),\n        ABSOLUTE_URI$ = subexp(SCHEME$ + \"\\\\:\" + HIER_PART$ + subexp(\"\\\\?\" + QUERY$) + \"?\"),\n        GENERIC_REF$ = \"^(\" + SCHEME$ + \")\\\\:\" + subexp(subexp(\"\\\\/\\\\/(\" + subexp(\"(\" + USERINFO$ + \")@\") + \"?(\" + HOST$ + \")\" + subexp(\"\\\\:(\" + PORT$ + \")\") + \"?)\") + \"?(\" + PATH_ABEMPTY$ + \"|\" + PATH_ABSOLUTE$ + \"|\" + PATH_ROOTLESS$ + \"|\" + PATH_EMPTY$ + \")\") + subexp(\"\\\\?(\" + QUERY$ + \")\") + \"?\" + subexp(\"\\\\#(\" + FRAGMENT$ + \")\") + \"?$\",\n        RELATIVE_REF$ = \"^(){0}\" + subexp(subexp(\"\\\\/\\\\/(\" + subexp(\"(\" + USERINFO$ + \")@\") + \"?(\" + HOST$ + \")\" + subexp(\"\\\\:(\" + PORT$ + \")\") + \"?)\") + \"?(\" + PATH_ABEMPTY$ + \"|\" + PATH_ABSOLUTE$ + \"|\" + PATH_NOSCHEME$ + \"|\" + PATH_EMPTY$ + \")\") + subexp(\"\\\\?(\" + QUERY$ + \")\") + \"?\" + subexp(\"\\\\#(\" + FRAGMENT$ + \")\") + \"?$\",\n        ABSOLUTE_REF$ = \"^(\" + SCHEME$ + \")\\\\:\" + subexp(subexp(\"\\\\/\\\\/(\" + subexp(\"(\" + USERINFO$ + \")@\") + \"?(\" + HOST$ + \")\" + subexp(\"\\\\:(\" + PORT$ + \")\") + \"?)\") + \"?(\" + PATH_ABEMPTY$ + \"|\" + PATH_ABSOLUTE$ + \"|\" + PATH_ROOTLESS$ + \"|\" + PATH_EMPTY$ + \")\") + subexp(\"\\\\?(\" + QUERY$ + \")\") + \"?$\",\n        SAMEDOC_REF$ = \"^\" + subexp(\"\\\\#(\" + FRAGMENT$ + \")\") + \"?$\",\n        AUTHORITY_REF$ = \"^\" + subexp(\"(\" + USERINFO$ + \")@\") + \"?(\" + HOST$ + \")\" + subexp(\"\\\\:(\" + PORT$ + \")\") + \"?$\";\n    return {\n        NOT_SCHEME: new RegExp(merge(\"[^]\", ALPHA$$, DIGIT$$, \"[\\\\+\\\\-\\\\.]\"), \"g\"),\n        NOT_USERINFO: new RegExp(merge(\"[^\\\\%\\\\:]\", UNRESERVED$$, SUB_DELIMS$$), \"g\"),\n        NOT_HOST: new RegExp(merge(\"[^\\\\%\\\\[\\\\]\\\\:]\", UNRESERVED$$, SUB_DELIMS$$), \"g\"),\n        NOT_PATH: new RegExp(merge(\"[^\\\\%\\\\/\\\\:\\\\@]\", UNRESERVED$$, SUB_DELIMS$$), \"g\"),\n        NOT_PATH_NOSCHEME: new RegExp(merge(\"[^\\\\%\\\\/\\\\@]\", UNRESERVED$$, SUB_DELIMS$$), \"g\"),\n        NOT_QUERY: new RegExp(merge(\"[^\\\\%]\", UNRESERVED$$, SUB_DELIMS$$, \"[\\\\:\\\\@\\\\/\\\\?]\", IPRIVATE$$), \"g\"),\n        NOT_FRAGMENT: new RegExp(merge(\"[^\\\\%]\", UNRESERVED$$, SUB_DELIMS$$, \"[\\\\:\\\\@\\\\/\\\\?]\"), \"g\"),\n        ESCAPE: new RegExp(merge(\"[^]\", UNRESERVED$$, SUB_DELIMS$$), \"g\"),\n        UNRESERVED: new RegExp(UNRESERVED$$, \"g\"),\n        OTHER_CHARS: new RegExp(merge(\"[^\\\\%]\", UNRESERVED$$, RESERVED$$), \"g\"),\n        PCT_ENCODED: new RegExp(PCT_ENCODED$, \"g\"),\n        IPV4ADDRESS: new RegExp(\"^(\" + IPV4ADDRESS$ + \")$\"),\n        IPV6ADDRESS: new RegExp(\"^\\\\[?(\" + IPV6ADDRESS$ + \")\" + subexp(subexp(\"\\\\%25|\\\\%(?!\" + HEXDIG$$ + \"{2})\") + \"(\" + ZONEID$ + \")\") + \"?\\\\]?$\") //RFC 6874, with relaxed parsing rules\n    };\n}\nvar URI_PROTOCOL = buildExps(false);\n\nvar IRI_PROTOCOL = buildExps(true);\n\nvar slicedToArray = function () {\n  function sliceIterator(arr, i) {\n    var _arr = [];\n    var _n = true;\n    var _d = false;\n    var _e = undefined;\n\n    try {\n      for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n        _arr.push(_s.value);\n\n        if (i && _arr.length === i) break;\n      }\n    } catch (err) {\n      _d = true;\n      _e = err;\n    } finally {\n      try {\n        if (!_n && _i[\"return\"]) _i[\"return\"]();\n      } finally {\n        if (_d) throw _e;\n      }\n    }\n\n    return _arr;\n  }\n\n  return function (arr, i) {\n    if (Array.isArray(arr)) {\n      return arr;\n    } else if (Symbol.iterator in Object(arr)) {\n      return sliceIterator(arr, i);\n    } else {\n      throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n    }\n  };\n}();\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar toConsumableArray = function (arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) arr2[i] = arr[i];\n\n    return arr2;\n  } else {\n    return Array.from(arr);\n  }\n};\n\n/** Highest positive signed 32-bit float value */\n\nvar maxInt = 2147483647; // aka. 0x7FFFFFFF or 2^31-1\n\n/** Bootstring parameters */\nvar base = 36;\nvar tMin = 1;\nvar tMax = 26;\nvar skew = 38;\nvar damp = 700;\nvar initialBias = 72;\nvar initialN = 128; // 0x80\nvar delimiter = '-'; // '\\x2D'\n\n/** Regular expressions */\nvar regexPunycode = /^xn--/;\nvar regexNonASCII = /[^\\0-\\x7E]/; // non-ASCII chars\nvar regexSeparators = /[\\x2E\\u3002\\uFF0E\\uFF61]/g; // RFC 3490 separators\n\n/** Error messages */\nvar errors = {\n\t'overflow': 'Overflow: input needs wider integers to process',\n\t'not-basic': 'Illegal input >= 0x80 (not a basic code point)',\n\t'invalid-input': 'Invalid input'\n};\n\n/** Convenience shortcuts */\nvar baseMinusTMin = base - tMin;\nvar floor = Math.floor;\nvar stringFromCharCode = String.fromCharCode;\n\n/*--------------------------------------------------------------------------*/\n\n/**\n * A generic error utility function.\n * @private\n * @param {String} type The error type.\n * @returns {Error} Throws a `RangeError` with the applicable error message.\n */\nfunction error$1(type) {\n\tthrow new RangeError(errors[type]);\n}\n\n/**\n * A generic `Array#map` utility function.\n * @private\n * @param {Array} array The array to iterate over.\n * @param {Function} callback The function that gets called for every array\n * item.\n * @returns {Array} A new array of values returned by the callback function.\n */\nfunction map(array, fn) {\n\tvar result = [];\n\tvar length = array.length;\n\twhile (length--) {\n\t\tresult[length] = fn(array[length]);\n\t}\n\treturn result;\n}\n\n/**\n * A simple `Array#map`-like wrapper to work with domain name strings or email\n * addresses.\n * @private\n * @param {String} domain The domain name or email address.\n * @param {Function} callback The function that gets called for every\n * character.\n * @returns {Array} A new string of characters returned by the callback\n * function.\n */\nfunction mapDomain(string, fn) {\n\tvar parts = string.split('@');\n\tvar result = '';\n\tif (parts.length > 1) {\n\t\t// In email addresses, only the domain name should be punycoded. Leave\n\t\t// the local part (i.e. everything up to `@`) intact.\n\t\tresult = parts[0] + '@';\n\t\tstring = parts[1];\n\t}\n\t// Avoid `split(regex)` for IE8 compatibility. See #17.\n\tstring = string.replace(regexSeparators, '\\x2E');\n\tvar labels = string.split('.');\n\tvar encoded = map(labels, fn).join('.');\n\treturn result + encoded;\n}\n\n/**\n * Creates an array containing the numeric code points of each Unicode\n * character in the string. While JavaScript uses UCS-2 internally,\n * this function will convert a pair of surrogate halves (each of which\n * UCS-2 exposes as separate characters) into a single code point,\n * matching UTF-16.\n * @see `punycode.ucs2.encode`\n * @see <https://mathiasbynens.be/notes/javascript-encoding>\n * @memberOf punycode.ucs2\n * @name decode\n * @param {String} string The Unicode input string (UCS-2).\n * @returns {Array} The new array of code points.\n */\nfunction ucs2decode(string) {\n\tvar output = [];\n\tvar counter = 0;\n\tvar length = string.length;\n\twhile (counter < length) {\n\t\tvar value = string.charCodeAt(counter++);\n\t\tif (value >= 0xD800 && value <= 0xDBFF && counter < length) {\n\t\t\t// It's a high surrogate, and there is a next character.\n\t\t\tvar extra = string.charCodeAt(counter++);\n\t\t\tif ((extra & 0xFC00) == 0xDC00) {\n\t\t\t\t// Low surrogate.\n\t\t\t\toutput.push(((value & 0x3FF) << 10) + (extra & 0x3FF) + 0x10000);\n\t\t\t} else {\n\t\t\t\t// It's an unmatched surrogate; only append this code unit, in case the\n\t\t\t\t// next code unit is the high surrogate of a surrogate pair.\n\t\t\t\toutput.push(value);\n\t\t\t\tcounter--;\n\t\t\t}\n\t\t} else {\n\t\t\toutput.push(value);\n\t\t}\n\t}\n\treturn output;\n}\n\n/**\n * Creates a string based on an array of numeric code points.\n * @see `punycode.ucs2.decode`\n * @memberOf punycode.ucs2\n * @name encode\n * @param {Array} codePoints The array of numeric code points.\n * @returns {String} The new Unicode string (UCS-2).\n */\nvar ucs2encode = function ucs2encode(array) {\n\treturn String.fromCodePoint.apply(String, toConsumableArray(array));\n};\n\n/**\n * Converts a basic code point into a digit/integer.\n * @see `digitToBasic()`\n * @private\n * @param {Number} codePoint The basic numeric code point value.\n * @returns {Number} The numeric value of a basic code point (for use in\n * representing integers) in the range `0` to `base - 1`, or `base` if\n * the code point does not represent a value.\n */\nvar basicToDigit = function basicToDigit(codePoint) {\n\tif (codePoint - 0x30 < 0x0A) {\n\t\treturn codePoint - 0x16;\n\t}\n\tif (codePoint - 0x41 < 0x1A) {\n\t\treturn codePoint - 0x41;\n\t}\n\tif (codePoint - 0x61 < 0x1A) {\n\t\treturn codePoint - 0x61;\n\t}\n\treturn base;\n};\n\n/**\n * Converts a digit/integer into a basic code point.\n * @see `basicToDigit()`\n * @private\n * @param {Number} digit The numeric value of a basic code point.\n * @returns {Number} The basic code point whose value (when used for\n * representing integers) is `digit`, which needs to be in the range\n * `0` to `base - 1`. If `flag` is non-zero, the uppercase form is\n * used; else, the lowercase form is used. The behavior is undefined\n * if `flag` is non-zero and `digit` has no uppercase form.\n */\nvar digitToBasic = function digitToBasic(digit, flag) {\n\t//  0..25 map to ASCII a..z or A..Z\n\t// 26..35 map to ASCII 0..9\n\treturn digit + 22 + 75 * (digit < 26) - ((flag != 0) << 5);\n};\n\n/**\n * Bias adaptation function as per section 3.4 of RFC 3492.\n * https://tools.ietf.org/html/rfc3492#section-3.4\n * @private\n */\nvar adapt = function adapt(delta, numPoints, firstTime) {\n\tvar k = 0;\n\tdelta = firstTime ? floor(delta / damp) : delta >> 1;\n\tdelta += floor(delta / numPoints);\n\tfor (; /* no initialization */delta > baseMinusTMin * tMax >> 1; k += base) {\n\t\tdelta = floor(delta / baseMinusTMin);\n\t}\n\treturn floor(k + (baseMinusTMin + 1) * delta / (delta + skew));\n};\n\n/**\n * Converts a Punycode string of ASCII-only symbols to a string of Unicode\n * symbols.\n * @memberOf punycode\n * @param {String} input The Punycode string of ASCII-only symbols.\n * @returns {String} The resulting string of Unicode symbols.\n */\nvar decode = function decode(input) {\n\t// Don't use UCS-2.\n\tvar output = [];\n\tvar inputLength = input.length;\n\tvar i = 0;\n\tvar n = initialN;\n\tvar bias = initialBias;\n\n\t// Handle the basic code points: let `basic` be the number of input code\n\t// points before the last delimiter, or `0` if there is none, then copy\n\t// the first basic code points to the output.\n\n\tvar basic = input.lastIndexOf(delimiter);\n\tif (basic < 0) {\n\t\tbasic = 0;\n\t}\n\n\tfor (var j = 0; j < basic; ++j) {\n\t\t// if it's not a basic code point\n\t\tif (input.charCodeAt(j) >= 0x80) {\n\t\t\terror$1('not-basic');\n\t\t}\n\t\toutput.push(input.charCodeAt(j));\n\t}\n\n\t// Main decoding loop: start just after the last delimiter if any basic code\n\t// points were copied; start at the beginning otherwise.\n\n\tfor (var index = basic > 0 ? basic + 1 : 0; index < inputLength;) /* no final expression */{\n\n\t\t// `index` is the index of the next character to be consumed.\n\t\t// Decode a generalized variable-length integer into `delta`,\n\t\t// which gets added to `i`. The overflow checking is easier\n\t\t// if we increase `i` as we go, then subtract off its starting\n\t\t// value at the end to obtain `delta`.\n\t\tvar oldi = i;\n\t\tfor (var w = 1, k = base;; /* no condition */k += base) {\n\n\t\t\tif (index >= inputLength) {\n\t\t\t\terror$1('invalid-input');\n\t\t\t}\n\n\t\t\tvar digit = basicToDigit(input.charCodeAt(index++));\n\n\t\t\tif (digit >= base || digit > floor((maxInt - i) / w)) {\n\t\t\t\terror$1('overflow');\n\t\t\t}\n\n\t\t\ti += digit * w;\n\t\t\tvar t = k <= bias ? tMin : k >= bias + tMax ? tMax : k - bias;\n\n\t\t\tif (digit < t) {\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tvar baseMinusT = base - t;\n\t\t\tif (w > floor(maxInt / baseMinusT)) {\n\t\t\t\terror$1('overflow');\n\t\t\t}\n\n\t\t\tw *= baseMinusT;\n\t\t}\n\n\t\tvar out = output.length + 1;\n\t\tbias = adapt(i - oldi, out, oldi == 0);\n\n\t\t// `i` was supposed to wrap around from `out` to `0`,\n\t\t// incrementing `n` each time, so we'll fix that now:\n\t\tif (floor(i / out) > maxInt - n) {\n\t\t\terror$1('overflow');\n\t\t}\n\n\t\tn += floor(i / out);\n\t\ti %= out;\n\n\t\t// Insert `n` at position `i` of the output.\n\t\toutput.splice(i++, 0, n);\n\t}\n\n\treturn String.fromCodePoint.apply(String, output);\n};\n\n/**\n * Converts a string of Unicode symbols (e.g. a domain name label) to a\n * Punycode string of ASCII-only symbols.\n * @memberOf punycode\n * @param {String} input The string of Unicode symbols.\n * @returns {String} The resulting Punycode string of ASCII-only symbols.\n */\nvar encode = function encode(input) {\n\tvar output = [];\n\n\t// Convert the input in UCS-2 to an array of Unicode code points.\n\tinput = ucs2decode(input);\n\n\t// Cache the length.\n\tvar inputLength = input.length;\n\n\t// Initialize the state.\n\tvar n = initialN;\n\tvar delta = 0;\n\tvar bias = initialBias;\n\n\t// Handle the basic code points.\n\tvar _iteratorNormalCompletion = true;\n\tvar _didIteratorError = false;\n\tvar _iteratorError = undefined;\n\n\ttry {\n\t\tfor (var _iterator = input[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n\t\t\tvar _currentValue2 = _step.value;\n\n\t\t\tif (_currentValue2 < 0x80) {\n\t\t\t\toutput.push(stringFromCharCode(_currentValue2));\n\t\t\t}\n\t\t}\n\t} catch (err) {\n\t\t_didIteratorError = true;\n\t\t_iteratorError = err;\n\t} finally {\n\t\ttry {\n\t\t\tif (!_iteratorNormalCompletion && _iterator.return) {\n\t\t\t\t_iterator.return();\n\t\t\t}\n\t\t} finally {\n\t\t\tif (_didIteratorError) {\n\t\t\t\tthrow _iteratorError;\n\t\t\t}\n\t\t}\n\t}\n\n\tvar basicLength = output.length;\n\tvar handledCPCount = basicLength;\n\n\t// `handledCPCount` is the number of code points that have been handled;\n\t// `basicLength` is the number of basic code points.\n\n\t// Finish the basic string with a delimiter unless it's empty.\n\tif (basicLength) {\n\t\toutput.push(delimiter);\n\t}\n\n\t// Main encoding loop:\n\twhile (handledCPCount < inputLength) {\n\n\t\t// All non-basic code points < n have been handled already. Find the next\n\t\t// larger one:\n\t\tvar m = maxInt;\n\t\tvar _iteratorNormalCompletion2 = true;\n\t\tvar _didIteratorError2 = false;\n\t\tvar _iteratorError2 = undefined;\n\n\t\ttry {\n\t\t\tfor (var _iterator2 = input[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n\t\t\t\tvar currentValue = _step2.value;\n\n\t\t\t\tif (currentValue >= n && currentValue < m) {\n\t\t\t\t\tm = currentValue;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Increase `delta` enough to advance the decoder's <n,i> state to <m,0>,\n\t\t\t// but guard against overflow.\n\t\t} catch (err) {\n\t\t\t_didIteratorError2 = true;\n\t\t\t_iteratorError2 = err;\n\t\t} finally {\n\t\t\ttry {\n\t\t\t\tif (!_iteratorNormalCompletion2 && _iterator2.return) {\n\t\t\t\t\t_iterator2.return();\n\t\t\t\t}\n\t\t\t} finally {\n\t\t\t\tif (_didIteratorError2) {\n\t\t\t\t\tthrow _iteratorError2;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tvar handledCPCountPlusOne = handledCPCount + 1;\n\t\tif (m - n > floor((maxInt - delta) / handledCPCountPlusOne)) {\n\t\t\terror$1('overflow');\n\t\t}\n\n\t\tdelta += (m - n) * handledCPCountPlusOne;\n\t\tn = m;\n\n\t\tvar _iteratorNormalCompletion3 = true;\n\t\tvar _didIteratorError3 = false;\n\t\tvar _iteratorError3 = undefined;\n\n\t\ttry {\n\t\t\tfor (var _iterator3 = input[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n\t\t\t\tvar _currentValue = _step3.value;\n\n\t\t\t\tif (_currentValue < n && ++delta > maxInt) {\n\t\t\t\t\terror$1('overflow');\n\t\t\t\t}\n\t\t\t\tif (_currentValue == n) {\n\t\t\t\t\t// Represent delta as a generalized variable-length integer.\n\t\t\t\t\tvar q = delta;\n\t\t\t\t\tfor (var k = base;; /* no condition */k += base) {\n\t\t\t\t\t\tvar t = k <= bias ? tMin : k >= bias + tMax ? tMax : k - bias;\n\t\t\t\t\t\tif (q < t) {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar qMinusT = q - t;\n\t\t\t\t\t\tvar baseMinusT = base - t;\n\t\t\t\t\t\toutput.push(stringFromCharCode(digitToBasic(t + qMinusT % baseMinusT, 0)));\n\t\t\t\t\t\tq = floor(qMinusT / baseMinusT);\n\t\t\t\t\t}\n\n\t\t\t\t\toutput.push(stringFromCharCode(digitToBasic(q, 0)));\n\t\t\t\t\tbias = adapt(delta, handledCPCountPlusOne, handledCPCount == basicLength);\n\t\t\t\t\tdelta = 0;\n\t\t\t\t\t++handledCPCount;\n\t\t\t\t}\n\t\t\t}\n\t\t} catch (err) {\n\t\t\t_didIteratorError3 = true;\n\t\t\t_iteratorError3 = err;\n\t\t} finally {\n\t\t\ttry {\n\t\t\t\tif (!_iteratorNormalCompletion3 && _iterator3.return) {\n\t\t\t\t\t_iterator3.return();\n\t\t\t\t}\n\t\t\t} finally {\n\t\t\t\tif (_didIteratorError3) {\n\t\t\t\t\tthrow _iteratorError3;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t++delta;\n\t\t++n;\n\t}\n\treturn output.join('');\n};\n\n/**\n * Converts a Punycode string representing a domain name or an email address\n * to Unicode. Only the Punycoded parts of the input will be converted, i.e.\n * it doesn't matter if you call it on a string that has already been\n * converted to Unicode.\n * @memberOf punycode\n * @param {String} input The Punycoded domain name or email address to\n * convert to Unicode.\n * @returns {String} The Unicode representation of the given Punycode\n * string.\n */\nvar toUnicode = function toUnicode(input) {\n\treturn mapDomain(input, function (string) {\n\t\treturn regexPunycode.test(string) ? decode(string.slice(4).toLowerCase()) : string;\n\t});\n};\n\n/**\n * Converts a Unicode string representing a domain name or an email address to\n * Punycode. Only the non-ASCII parts of the domain name will be converted,\n * i.e. it doesn't matter if you call it with a domain that's already in\n * ASCII.\n * @memberOf punycode\n * @param {String} input The domain name or email address to convert, as a\n * Unicode string.\n * @returns {String} The Punycode representation of the given domain name or\n * email address.\n */\nvar toASCII = function toASCII(input) {\n\treturn mapDomain(input, function (string) {\n\t\treturn regexNonASCII.test(string) ? 'xn--' + encode(string) : string;\n\t});\n};\n\n/*--------------------------------------------------------------------------*/\n\n/** Define the public API */\nvar punycode = {\n\t/**\n  * A string representing the current Punycode.js version number.\n  * @memberOf punycode\n  * @type String\n  */\n\t'version': '2.1.0',\n\t/**\n  * An object of methods to convert from JavaScript's internal character\n  * representation (UCS-2) to Unicode code points, and back.\n  * @see <https://mathiasbynens.be/notes/javascript-encoding>\n  * @memberOf punycode\n  * @type Object\n  */\n\t'ucs2': {\n\t\t'decode': ucs2decode,\n\t\t'encode': ucs2encode\n\t},\n\t'decode': decode,\n\t'encode': encode,\n\t'toASCII': toASCII,\n\t'toUnicode': toUnicode\n};\n\n/**\n * URI.js\n *\n * @fileoverview An RFC 3986 compliant, scheme extendable URI parsing/validating/resolving library for JavaScript.\n * @author <a href=\"mailto:gary.court@gmail.com\">Gary Court</a>\n * @see http://github.com/garycourt/uri-js\n */\n/**\n * Copyright 2011 Gary Court. All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without modification, are\n * permitted provided that the following conditions are met:\n *\n *    1. Redistributions of source code must retain the above copyright notice, this list of\n *       conditions and the following disclaimer.\n *\n *    2. Redistributions in binary form must reproduce the above copyright notice, this list\n *       of conditions and the following disclaimer in the documentation and/or other materials\n *       provided with the distribution.\n *\n * THIS SOFTWARE IS PROVIDED BY GARY COURT ``AS IS'' AND ANY EXPRESS OR IMPLIED\n * WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND\n * FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL GARY COURT OR\n * CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR\n * SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON\n * ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING\n * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF\n * ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * The views and conclusions contained in the software and documentation are those of the\n * authors and should not be interpreted as representing official policies, either expressed\n * or implied, of Gary Court.\n */\nvar SCHEMES = {};\nfunction pctEncChar(chr) {\n    var c = chr.charCodeAt(0);\n    var e = void 0;\n    if (c < 16) e = \"%0\" + c.toString(16).toUpperCase();else if (c < 128) e = \"%\" + c.toString(16).toUpperCase();else if (c < 2048) e = \"%\" + (c >> 6 | 192).toString(16).toUpperCase() + \"%\" + (c & 63 | 128).toString(16).toUpperCase();else e = \"%\" + (c >> 12 | 224).toString(16).toUpperCase() + \"%\" + (c >> 6 & 63 | 128).toString(16).toUpperCase() + \"%\" + (c & 63 | 128).toString(16).toUpperCase();\n    return e;\n}\nfunction pctDecChars(str) {\n    var newStr = \"\";\n    var i = 0;\n    var il = str.length;\n    while (i < il) {\n        var c = parseInt(str.substr(i + 1, 2), 16);\n        if (c < 128) {\n            newStr += String.fromCharCode(c);\n            i += 3;\n        } else if (c >= 194 && c < 224) {\n            if (il - i >= 6) {\n                var c2 = parseInt(str.substr(i + 4, 2), 16);\n                newStr += String.fromCharCode((c & 31) << 6 | c2 & 63);\n            } else {\n                newStr += str.substr(i, 6);\n            }\n            i += 6;\n        } else if (c >= 224) {\n            if (il - i >= 9) {\n                var _c = parseInt(str.substr(i + 4, 2), 16);\n                var c3 = parseInt(str.substr(i + 7, 2), 16);\n                newStr += String.fromCharCode((c & 15) << 12 | (_c & 63) << 6 | c3 & 63);\n            } else {\n                newStr += str.substr(i, 9);\n            }\n            i += 9;\n        } else {\n            newStr += str.substr(i, 3);\n            i += 3;\n        }\n    }\n    return newStr;\n}\nfunction _normalizeComponentEncoding(components, protocol) {\n    function decodeUnreserved(str) {\n        var decStr = pctDecChars(str);\n        return !decStr.match(protocol.UNRESERVED) ? str : decStr;\n    }\n    if (components.scheme) components.scheme = String(components.scheme).replace(protocol.PCT_ENCODED, decodeUnreserved).toLowerCase().replace(protocol.NOT_SCHEME, \"\");\n    if (components.userinfo !== undefined) components.userinfo = String(components.userinfo).replace(protocol.PCT_ENCODED, decodeUnreserved).replace(protocol.NOT_USERINFO, pctEncChar).replace(protocol.PCT_ENCODED, toUpperCase);\n    if (components.host !== undefined) components.host = String(components.host).replace(protocol.PCT_ENCODED, decodeUnreserved).toLowerCase().replace(protocol.NOT_HOST, pctEncChar).replace(protocol.PCT_ENCODED, toUpperCase);\n    if (components.path !== undefined) components.path = String(components.path).replace(protocol.PCT_ENCODED, decodeUnreserved).replace(components.scheme ? protocol.NOT_PATH : protocol.NOT_PATH_NOSCHEME, pctEncChar).replace(protocol.PCT_ENCODED, toUpperCase);\n    if (components.query !== undefined) components.query = String(components.query).replace(protocol.PCT_ENCODED, decodeUnreserved).replace(protocol.NOT_QUERY, pctEncChar).replace(protocol.PCT_ENCODED, toUpperCase);\n    if (components.fragment !== undefined) components.fragment = String(components.fragment).replace(protocol.PCT_ENCODED, decodeUnreserved).replace(protocol.NOT_FRAGMENT, pctEncChar).replace(protocol.PCT_ENCODED, toUpperCase);\n    return components;\n}\n\nfunction _stripLeadingZeros(str) {\n    return str.replace(/^0*(.*)/, \"$1\") || \"0\";\n}\nfunction _normalizeIPv4(host, protocol) {\n    var matches = host.match(protocol.IPV4ADDRESS) || [];\n\n    var _matches = slicedToArray(matches, 2),\n        address = _matches[1];\n\n    if (address) {\n        return address.split(\".\").map(_stripLeadingZeros).join(\".\");\n    } else {\n        return host;\n    }\n}\nfunction _normalizeIPv6(host, protocol) {\n    var matches = host.match(protocol.IPV6ADDRESS) || [];\n\n    var _matches2 = slicedToArray(matches, 3),\n        address = _matches2[1],\n        zone = _matches2[2];\n\n    if (address) {\n        var _address$toLowerCase$ = address.toLowerCase().split('::').reverse(),\n            _address$toLowerCase$2 = slicedToArray(_address$toLowerCase$, 2),\n            last = _address$toLowerCase$2[0],\n            first = _address$toLowerCase$2[1];\n\n        var firstFields = first ? first.split(\":\").map(_stripLeadingZeros) : [];\n        var lastFields = last.split(\":\").map(_stripLeadingZeros);\n        var isLastFieldIPv4Address = protocol.IPV4ADDRESS.test(lastFields[lastFields.length - 1]);\n        var fieldCount = isLastFieldIPv4Address ? 7 : 8;\n        var lastFieldsStart = lastFields.length - fieldCount;\n        var fields = Array(fieldCount);\n        for (var x = 0; x < fieldCount; ++x) {\n            fields[x] = firstFields[x] || lastFields[lastFieldsStart + x] || '';\n        }\n        if (isLastFieldIPv4Address) {\n            fields[fieldCount - 1] = _normalizeIPv4(fields[fieldCount - 1], protocol);\n        }\n        var allZeroFields = fields.reduce(function (acc, field, index) {\n            if (!field || field === \"0\") {\n                var lastLongest = acc[acc.length - 1];\n                if (lastLongest && lastLongest.index + lastLongest.length === index) {\n                    lastLongest.length++;\n                } else {\n                    acc.push({ index: index, length: 1 });\n                }\n            }\n            return acc;\n        }, []);\n        var longestZeroFields = allZeroFields.sort(function (a, b) {\n            return b.length - a.length;\n        })[0];\n        var newHost = void 0;\n        if (longestZeroFields && longestZeroFields.length > 1) {\n            var newFirst = fields.slice(0, longestZeroFields.index);\n            var newLast = fields.slice(longestZeroFields.index + longestZeroFields.length);\n            newHost = newFirst.join(\":\") + \"::\" + newLast.join(\":\");\n        } else {\n            newHost = fields.join(\":\");\n        }\n        if (zone) {\n            newHost += \"%\" + zone;\n        }\n        return newHost;\n    } else {\n        return host;\n    }\n}\nvar URI_PARSE = /^(?:([^:\\/?#]+):)?(?:\\/\\/((?:([^\\/?#@]*)@)?(\\[[^\\/?#\\]]+\\]|[^\\/?#:]*)(?:\\:(\\d*))?))?([^?#]*)(?:\\?([^#]*))?(?:#((?:.|\\n|\\r)*))?/i;\nvar NO_MATCH_IS_UNDEFINED = \"\".match(/(){0}/)[1] === undefined;\nfunction parse(uriString) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    var components = {};\n    var protocol = options.iri !== false ? IRI_PROTOCOL : URI_PROTOCOL;\n    if (options.reference === \"suffix\") uriString = (options.scheme ? options.scheme + \":\" : \"\") + \"//\" + uriString;\n    var matches = uriString.match(URI_PARSE);\n    if (matches) {\n        if (NO_MATCH_IS_UNDEFINED) {\n            //store each component\n            components.scheme = matches[1];\n            components.userinfo = matches[3];\n            components.host = matches[4];\n            components.port = parseInt(matches[5], 10);\n            components.path = matches[6] || \"\";\n            components.query = matches[7];\n            components.fragment = matches[8];\n            //fix port number\n            if (isNaN(components.port)) {\n                components.port = matches[5];\n            }\n        } else {\n            //IE FIX for improper RegExp matching\n            //store each component\n            components.scheme = matches[1] || undefined;\n            components.userinfo = uriString.indexOf(\"@\") !== -1 ? matches[3] : undefined;\n            components.host = uriString.indexOf(\"//\") !== -1 ? matches[4] : undefined;\n            components.port = parseInt(matches[5], 10);\n            components.path = matches[6] || \"\";\n            components.query = uriString.indexOf(\"?\") !== -1 ? matches[7] : undefined;\n            components.fragment = uriString.indexOf(\"#\") !== -1 ? matches[8] : undefined;\n            //fix port number\n            if (isNaN(components.port)) {\n                components.port = uriString.match(/\\/\\/(?:.|\\n)*\\:(?:\\/|\\?|\\#|$)/) ? matches[4] : undefined;\n            }\n        }\n        if (components.host) {\n            //normalize IP hosts\n            components.host = _normalizeIPv6(_normalizeIPv4(components.host, protocol), protocol);\n        }\n        //determine reference type\n        if (components.scheme === undefined && components.userinfo === undefined && components.host === undefined && components.port === undefined && !components.path && components.query === undefined) {\n            components.reference = \"same-document\";\n        } else if (components.scheme === undefined) {\n            components.reference = \"relative\";\n        } else if (components.fragment === undefined) {\n            components.reference = \"absolute\";\n        } else {\n            components.reference = \"uri\";\n        }\n        //check for reference errors\n        if (options.reference && options.reference !== \"suffix\" && options.reference !== components.reference) {\n            components.error = components.error || \"URI is not a \" + options.reference + \" reference.\";\n        }\n        //find scheme handler\n        var schemeHandler = SCHEMES[(options.scheme || components.scheme || \"\").toLowerCase()];\n        //check if scheme can't handle IRIs\n        if (!options.unicodeSupport && (!schemeHandler || !schemeHandler.unicodeSupport)) {\n            //if host component is a domain name\n            if (components.host && (options.domainHost || schemeHandler && schemeHandler.domainHost)) {\n                //convert Unicode IDN -> ASCII IDN\n                try {\n                    components.host = punycode.toASCII(components.host.replace(protocol.PCT_ENCODED, pctDecChars).toLowerCase());\n                } catch (e) {\n                    components.error = components.error || \"Host's domain name can not be converted to ASCII via punycode: \" + e;\n                }\n            }\n            //convert IRI -> URI\n            _normalizeComponentEncoding(components, URI_PROTOCOL);\n        } else {\n            //normalize encodings\n            _normalizeComponentEncoding(components, protocol);\n        }\n        //perform scheme specific parsing\n        if (schemeHandler && schemeHandler.parse) {\n            schemeHandler.parse(components, options);\n        }\n    } else {\n        components.error = components.error || \"URI can not be parsed.\";\n    }\n    return components;\n}\n\nfunction _recomposeAuthority(components, options) {\n    var protocol = options.iri !== false ? IRI_PROTOCOL : URI_PROTOCOL;\n    var uriTokens = [];\n    if (components.userinfo !== undefined) {\n        uriTokens.push(components.userinfo);\n        uriTokens.push(\"@\");\n    }\n    if (components.host !== undefined) {\n        //normalize IP hosts, add brackets and escape zone separator for IPv6\n        uriTokens.push(_normalizeIPv6(_normalizeIPv4(String(components.host), protocol), protocol).replace(protocol.IPV6ADDRESS, function (_, $1, $2) {\n            return \"[\" + $1 + ($2 ? \"%25\" + $2 : \"\") + \"]\";\n        }));\n    }\n    if (typeof components.port === \"number\" || typeof components.port === \"string\") {\n        uriTokens.push(\":\");\n        uriTokens.push(String(components.port));\n    }\n    return uriTokens.length ? uriTokens.join(\"\") : undefined;\n}\n\nvar RDS1 = /^\\.\\.?\\//;\nvar RDS2 = /^\\/\\.(\\/|$)/;\nvar RDS3 = /^\\/\\.\\.(\\/|$)/;\nvar RDS5 = /^\\/?(?:.|\\n)*?(?=\\/|$)/;\nfunction removeDotSegments(input) {\n    var output = [];\n    while (input.length) {\n        if (input.match(RDS1)) {\n            input = input.replace(RDS1, \"\");\n        } else if (input.match(RDS2)) {\n            input = input.replace(RDS2, \"/\");\n        } else if (input.match(RDS3)) {\n            input = input.replace(RDS3, \"/\");\n            output.pop();\n        } else if (input === \".\" || input === \"..\") {\n            input = \"\";\n        } else {\n            var im = input.match(RDS5);\n            if (im) {\n                var s = im[0];\n                input = input.slice(s.length);\n                output.push(s);\n            } else {\n                throw new Error(\"Unexpected dot segment condition\");\n            }\n        }\n    }\n    return output.join(\"\");\n}\n\nfunction serialize(components) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    var protocol = options.iri ? IRI_PROTOCOL : URI_PROTOCOL;\n    var uriTokens = [];\n    //find scheme handler\n    var schemeHandler = SCHEMES[(options.scheme || components.scheme || \"\").toLowerCase()];\n    //perform scheme specific serialization\n    if (schemeHandler && schemeHandler.serialize) schemeHandler.serialize(components, options);\n    if (components.host) {\n        //if host component is an IPv6 address\n        if (protocol.IPV6ADDRESS.test(components.host)) {}\n        //TODO: normalize IPv6 address as per RFC 5952\n\n        //if host component is a domain name\n        else if (options.domainHost || schemeHandler && schemeHandler.domainHost) {\n                //convert IDN via punycode\n                try {\n                    components.host = !options.iri ? punycode.toASCII(components.host.replace(protocol.PCT_ENCODED, pctDecChars).toLowerCase()) : punycode.toUnicode(components.host);\n                } catch (e) {\n                    components.error = components.error || \"Host's domain name can not be converted to \" + (!options.iri ? \"ASCII\" : \"Unicode\") + \" via punycode: \" + e;\n                }\n            }\n    }\n    //normalize encoding\n    _normalizeComponentEncoding(components, protocol);\n    if (options.reference !== \"suffix\" && components.scheme) {\n        uriTokens.push(components.scheme);\n        uriTokens.push(\":\");\n    }\n    var authority = _recomposeAuthority(components, options);\n    if (authority !== undefined) {\n        if (options.reference !== \"suffix\") {\n            uriTokens.push(\"//\");\n        }\n        uriTokens.push(authority);\n        if (components.path && components.path.charAt(0) !== \"/\") {\n            uriTokens.push(\"/\");\n        }\n    }\n    if (components.path !== undefined) {\n        var s = components.path;\n        if (!options.absolutePath && (!schemeHandler || !schemeHandler.absolutePath)) {\n            s = removeDotSegments(s);\n        }\n        if (authority === undefined) {\n            s = s.replace(/^\\/\\//, \"/%2F\"); //don't allow the path to start with \"//\"\n        }\n        uriTokens.push(s);\n    }\n    if (components.query !== undefined) {\n        uriTokens.push(\"?\");\n        uriTokens.push(components.query);\n    }\n    if (components.fragment !== undefined) {\n        uriTokens.push(\"#\");\n        uriTokens.push(components.fragment);\n    }\n    return uriTokens.join(\"\"); //merge tokens into a string\n}\n\nfunction resolveComponents(base, relative) {\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    var skipNormalization = arguments[3];\n\n    var target = {};\n    if (!skipNormalization) {\n        base = parse(serialize(base, options), options); //normalize base components\n        relative = parse(serialize(relative, options), options); //normalize relative components\n    }\n    options = options || {};\n    if (!options.tolerant && relative.scheme) {\n        target.scheme = relative.scheme;\n        //target.authority = relative.authority;\n        target.userinfo = relative.userinfo;\n        target.host = relative.host;\n        target.port = relative.port;\n        target.path = removeDotSegments(relative.path || \"\");\n        target.query = relative.query;\n    } else {\n        if (relative.userinfo !== undefined || relative.host !== undefined || relative.port !== undefined) {\n            //target.authority = relative.authority;\n            target.userinfo = relative.userinfo;\n            target.host = relative.host;\n            target.port = relative.port;\n            target.path = removeDotSegments(relative.path || \"\");\n            target.query = relative.query;\n        } else {\n            if (!relative.path) {\n                target.path = base.path;\n                if (relative.query !== undefined) {\n                    target.query = relative.query;\n                } else {\n                    target.query = base.query;\n                }\n            } else {\n                if (relative.path.charAt(0) === \"/\") {\n                    target.path = removeDotSegments(relative.path);\n                } else {\n                    if ((base.userinfo !== undefined || base.host !== undefined || base.port !== undefined) && !base.path) {\n                        target.path = \"/\" + relative.path;\n                    } else if (!base.path) {\n                        target.path = relative.path;\n                    } else {\n                        target.path = base.path.slice(0, base.path.lastIndexOf(\"/\") + 1) + relative.path;\n                    }\n                    target.path = removeDotSegments(target.path);\n                }\n                target.query = relative.query;\n            }\n            //target.authority = base.authority;\n            target.userinfo = base.userinfo;\n            target.host = base.host;\n            target.port = base.port;\n        }\n        target.scheme = base.scheme;\n    }\n    target.fragment = relative.fragment;\n    return target;\n}\n\nfunction resolve(baseURI, relativeURI, options) {\n    var schemelessOptions = assign({ scheme: 'null' }, options);\n    return serialize(resolveComponents(parse(baseURI, schemelessOptions), parse(relativeURI, schemelessOptions), schemelessOptions, true), schemelessOptions);\n}\n\nfunction normalize(uri, options) {\n    if (typeof uri === \"string\") {\n        uri = serialize(parse(uri, options), options);\n    } else if (typeOf(uri) === \"object\") {\n        uri = parse(serialize(uri, options), options);\n    }\n    return uri;\n}\n\nfunction equal(uriA, uriB, options) {\n    if (typeof uriA === \"string\") {\n        uriA = serialize(parse(uriA, options), options);\n    } else if (typeOf(uriA) === \"object\") {\n        uriA = serialize(uriA, options);\n    }\n    if (typeof uriB === \"string\") {\n        uriB = serialize(parse(uriB, options), options);\n    } else if (typeOf(uriB) === \"object\") {\n        uriB = serialize(uriB, options);\n    }\n    return uriA === uriB;\n}\n\nfunction escapeComponent(str, options) {\n    return str && str.toString().replace(!options || !options.iri ? URI_PROTOCOL.ESCAPE : IRI_PROTOCOL.ESCAPE, pctEncChar);\n}\n\nfunction unescapeComponent(str, options) {\n    return str && str.toString().replace(!options || !options.iri ? URI_PROTOCOL.PCT_ENCODED : IRI_PROTOCOL.PCT_ENCODED, pctDecChars);\n}\n\nvar handler = {\n    scheme: \"http\",\n    domainHost: true,\n    parse: function parse(components, options) {\n        //report missing host\n        if (!components.host) {\n            components.error = components.error || \"HTTP URIs must have a host.\";\n        }\n        return components;\n    },\n    serialize: function serialize(components, options) {\n        var secure = String(components.scheme).toLowerCase() === \"https\";\n        //normalize the default port\n        if (components.port === (secure ? 443 : 80) || components.port === \"\") {\n            components.port = undefined;\n        }\n        //normalize the empty path\n        if (!components.path) {\n            components.path = \"/\";\n        }\n        //NOTE: We do not parse query strings for HTTP URIs\n        //as WWW Form Url Encoded query strings are part of the HTML4+ spec,\n        //and not the HTTP spec.\n        return components;\n    }\n};\n\nvar handler$1 = {\n    scheme: \"https\",\n    domainHost: handler.domainHost,\n    parse: handler.parse,\n    serialize: handler.serialize\n};\n\nfunction isSecure(wsComponents) {\n    return typeof wsComponents.secure === 'boolean' ? wsComponents.secure : String(wsComponents.scheme).toLowerCase() === \"wss\";\n}\n//RFC 6455\nvar handler$2 = {\n    scheme: \"ws\",\n    domainHost: true,\n    parse: function parse(components, options) {\n        var wsComponents = components;\n        //indicate if the secure flag is set\n        wsComponents.secure = isSecure(wsComponents);\n        //construct resouce name\n        wsComponents.resourceName = (wsComponents.path || '/') + (wsComponents.query ? '?' + wsComponents.query : '');\n        wsComponents.path = undefined;\n        wsComponents.query = undefined;\n        return wsComponents;\n    },\n    serialize: function serialize(wsComponents, options) {\n        //normalize the default port\n        if (wsComponents.port === (isSecure(wsComponents) ? 443 : 80) || wsComponents.port === \"\") {\n            wsComponents.port = undefined;\n        }\n        //ensure scheme matches secure flag\n        if (typeof wsComponents.secure === 'boolean') {\n            wsComponents.scheme = wsComponents.secure ? 'wss' : 'ws';\n            wsComponents.secure = undefined;\n        }\n        //reconstruct path from resource name\n        if (wsComponents.resourceName) {\n            var _wsComponents$resourc = wsComponents.resourceName.split('?'),\n                _wsComponents$resourc2 = slicedToArray(_wsComponents$resourc, 2),\n                path = _wsComponents$resourc2[0],\n                query = _wsComponents$resourc2[1];\n\n            wsComponents.path = path && path !== '/' ? path : undefined;\n            wsComponents.query = query;\n            wsComponents.resourceName = undefined;\n        }\n        //forbid fragment component\n        wsComponents.fragment = undefined;\n        return wsComponents;\n    }\n};\n\nvar handler$3 = {\n    scheme: \"wss\",\n    domainHost: handler$2.domainHost,\n    parse: handler$2.parse,\n    serialize: handler$2.serialize\n};\n\nvar O = {};\nvar isIRI = true;\n//RFC 3986\nvar UNRESERVED$$ = \"[A-Za-z0-9\\\\-\\\\.\\\\_\\\\~\" + (isIRI ? \"\\\\xA0-\\\\u200D\\\\u2010-\\\\u2029\\\\u202F-\\\\uD7FF\\\\uF900-\\\\uFDCF\\\\uFDF0-\\\\uFFEF\" : \"\") + \"]\";\nvar HEXDIG$$ = \"[0-9A-Fa-f]\"; //case-insensitive\nvar PCT_ENCODED$ = subexp(subexp(\"%[EFef]\" + HEXDIG$$ + \"%\" + HEXDIG$$ + HEXDIG$$ + \"%\" + HEXDIG$$ + HEXDIG$$) + \"|\" + subexp(\"%[89A-Fa-f]\" + HEXDIG$$ + \"%\" + HEXDIG$$ + HEXDIG$$) + \"|\" + subexp(\"%\" + HEXDIG$$ + HEXDIG$$)); //expanded\n//RFC 5322, except these symbols as per RFC 6068: @ : / ? # [ ] & ; =\n//const ATEXT$$ = \"[A-Za-z0-9\\\\!\\\\#\\\\$\\\\%\\\\&\\\\'\\\\*\\\\+\\\\-\\\\/\\\\=\\\\?\\\\^\\\\_\\\\`\\\\{\\\\|\\\\}\\\\~]\";\n//const WSP$$ = \"[\\\\x20\\\\x09]\";\n//const OBS_QTEXT$$ = \"[\\\\x01-\\\\x08\\\\x0B\\\\x0C\\\\x0E-\\\\x1F\\\\x7F]\";  //(%d1-8 / %d11-12 / %d14-31 / %d127)\n//const QTEXT$$ = merge(\"[\\\\x21\\\\x23-\\\\x5B\\\\x5D-\\\\x7E]\", OBS_QTEXT$$);  //%d33 / %d35-91 / %d93-126 / obs-qtext\n//const VCHAR$$ = \"[\\\\x21-\\\\x7E]\";\n//const WSP$$ = \"[\\\\x20\\\\x09]\";\n//const OBS_QP$ = subexp(\"\\\\\\\\\" + merge(\"[\\\\x00\\\\x0D\\\\x0A]\", OBS_QTEXT$$));  //%d0 / CR / LF / obs-qtext\n//const FWS$ = subexp(subexp(WSP$$ + \"*\" + \"\\\\x0D\\\\x0A\") + \"?\" + WSP$$ + \"+\");\n//const QUOTED_PAIR$ = subexp(subexp(\"\\\\\\\\\" + subexp(VCHAR$$ + \"|\" + WSP$$)) + \"|\" + OBS_QP$);\n//const QUOTED_STRING$ = subexp('\\\\\"' + subexp(FWS$ + \"?\" + QCONTENT$) + \"*\" + FWS$ + \"?\" + '\\\\\"');\nvar ATEXT$$ = \"[A-Za-z0-9\\\\!\\\\$\\\\%\\\\'\\\\*\\\\+\\\\-\\\\^\\\\_\\\\`\\\\{\\\\|\\\\}\\\\~]\";\nvar QTEXT$$ = \"[\\\\!\\\\$\\\\%\\\\'\\\\(\\\\)\\\\*\\\\+\\\\,\\\\-\\\\.0-9\\\\<\\\\>A-Z\\\\x5E-\\\\x7E]\";\nvar VCHAR$$ = merge(QTEXT$$, \"[\\\\\\\"\\\\\\\\]\");\nvar SOME_DELIMS$$ = \"[\\\\!\\\\$\\\\'\\\\(\\\\)\\\\*\\\\+\\\\,\\\\;\\\\:\\\\@]\";\nvar UNRESERVED = new RegExp(UNRESERVED$$, \"g\");\nvar PCT_ENCODED = new RegExp(PCT_ENCODED$, \"g\");\nvar NOT_LOCAL_PART = new RegExp(merge(\"[^]\", ATEXT$$, \"[\\\\.]\", '[\\\\\"]', VCHAR$$), \"g\");\nvar NOT_HFNAME = new RegExp(merge(\"[^]\", UNRESERVED$$, SOME_DELIMS$$), \"g\");\nvar NOT_HFVALUE = NOT_HFNAME;\nfunction decodeUnreserved(str) {\n    var decStr = pctDecChars(str);\n    return !decStr.match(UNRESERVED) ? str : decStr;\n}\nvar handler$4 = {\n    scheme: \"mailto\",\n    parse: function parse$$1(components, options) {\n        var mailtoComponents = components;\n        var to = mailtoComponents.to = mailtoComponents.path ? mailtoComponents.path.split(\",\") : [];\n        mailtoComponents.path = undefined;\n        if (mailtoComponents.query) {\n            var unknownHeaders = false;\n            var headers = {};\n            var hfields = mailtoComponents.query.split(\"&\");\n            for (var x = 0, xl = hfields.length; x < xl; ++x) {\n                var hfield = hfields[x].split(\"=\");\n                switch (hfield[0]) {\n                    case \"to\":\n                        var toAddrs = hfield[1].split(\",\");\n                        for (var _x = 0, _xl = toAddrs.length; _x < _xl; ++_x) {\n                            to.push(toAddrs[_x]);\n                        }\n                        break;\n                    case \"subject\":\n                        mailtoComponents.subject = unescapeComponent(hfield[1], options);\n                        break;\n                    case \"body\":\n                        mailtoComponents.body = unescapeComponent(hfield[1], options);\n                        break;\n                    default:\n                        unknownHeaders = true;\n                        headers[unescapeComponent(hfield[0], options)] = unescapeComponent(hfield[1], options);\n                        break;\n                }\n            }\n            if (unknownHeaders) mailtoComponents.headers = headers;\n        }\n        mailtoComponents.query = undefined;\n        for (var _x2 = 0, _xl2 = to.length; _x2 < _xl2; ++_x2) {\n            var addr = to[_x2].split(\"@\");\n            addr[0] = unescapeComponent(addr[0]);\n            if (!options.unicodeSupport) {\n                //convert Unicode IDN -> ASCII IDN\n                try {\n                    addr[1] = punycode.toASCII(unescapeComponent(addr[1], options).toLowerCase());\n                } catch (e) {\n                    mailtoComponents.error = mailtoComponents.error || \"Email address's domain name can not be converted to ASCII via punycode: \" + e;\n                }\n            } else {\n                addr[1] = unescapeComponent(addr[1], options).toLowerCase();\n            }\n            to[_x2] = addr.join(\"@\");\n        }\n        return mailtoComponents;\n    },\n    serialize: function serialize$$1(mailtoComponents, options) {\n        var components = mailtoComponents;\n        var to = toArray(mailtoComponents.to);\n        if (to) {\n            for (var x = 0, xl = to.length; x < xl; ++x) {\n                var toAddr = String(to[x]);\n                var atIdx = toAddr.lastIndexOf(\"@\");\n                var localPart = toAddr.slice(0, atIdx).replace(PCT_ENCODED, decodeUnreserved).replace(PCT_ENCODED, toUpperCase).replace(NOT_LOCAL_PART, pctEncChar);\n                var domain = toAddr.slice(atIdx + 1);\n                //convert IDN via punycode\n                try {\n                    domain = !options.iri ? punycode.toASCII(unescapeComponent(domain, options).toLowerCase()) : punycode.toUnicode(domain);\n                } catch (e) {\n                    components.error = components.error || \"Email address's domain name can not be converted to \" + (!options.iri ? \"ASCII\" : \"Unicode\") + \" via punycode: \" + e;\n                }\n                to[x] = localPart + \"@\" + domain;\n            }\n            components.path = to.join(\",\");\n        }\n        var headers = mailtoComponents.headers = mailtoComponents.headers || {};\n        if (mailtoComponents.subject) headers[\"subject\"] = mailtoComponents.subject;\n        if (mailtoComponents.body) headers[\"body\"] = mailtoComponents.body;\n        var fields = [];\n        for (var name in headers) {\n            if (headers[name] !== O[name]) {\n                fields.push(name.replace(PCT_ENCODED, decodeUnreserved).replace(PCT_ENCODED, toUpperCase).replace(NOT_HFNAME, pctEncChar) + \"=\" + headers[name].replace(PCT_ENCODED, decodeUnreserved).replace(PCT_ENCODED, toUpperCase).replace(NOT_HFVALUE, pctEncChar));\n            }\n        }\n        if (fields.length) {\n            components.query = fields.join(\"&\");\n        }\n        return components;\n    }\n};\n\nvar URN_PARSE = /^([^\\:]+)\\:(.*)/;\n//RFC 2141\nvar handler$5 = {\n    scheme: \"urn\",\n    parse: function parse$$1(components, options) {\n        var matches = components.path && components.path.match(URN_PARSE);\n        var urnComponents = components;\n        if (matches) {\n            var scheme = options.scheme || urnComponents.scheme || \"urn\";\n            var nid = matches[1].toLowerCase();\n            var nss = matches[2];\n            var urnScheme = scheme + \":\" + (options.nid || nid);\n            var schemeHandler = SCHEMES[urnScheme];\n            urnComponents.nid = nid;\n            urnComponents.nss = nss;\n            urnComponents.path = undefined;\n            if (schemeHandler) {\n                urnComponents = schemeHandler.parse(urnComponents, options);\n            }\n        } else {\n            urnComponents.error = urnComponents.error || \"URN can not be parsed.\";\n        }\n        return urnComponents;\n    },\n    serialize: function serialize$$1(urnComponents, options) {\n        var scheme = options.scheme || urnComponents.scheme || \"urn\";\n        var nid = urnComponents.nid;\n        var urnScheme = scheme + \":\" + (options.nid || nid);\n        var schemeHandler = SCHEMES[urnScheme];\n        if (schemeHandler) {\n            urnComponents = schemeHandler.serialize(urnComponents, options);\n        }\n        var uriComponents = urnComponents;\n        var nss = urnComponents.nss;\n        uriComponents.path = (nid || options.nid) + \":\" + nss;\n        return uriComponents;\n    }\n};\n\nvar UUID = /^[0-9A-Fa-f]{8}(?:\\-[0-9A-Fa-f]{4}){3}\\-[0-9A-Fa-f]{12}$/;\n//RFC 4122\nvar handler$6 = {\n    scheme: \"urn:uuid\",\n    parse: function parse(urnComponents, options) {\n        var uuidComponents = urnComponents;\n        uuidComponents.uuid = uuidComponents.nss;\n        uuidComponents.nss = undefined;\n        if (!options.tolerant && (!uuidComponents.uuid || !uuidComponents.uuid.match(UUID))) {\n            uuidComponents.error = uuidComponents.error || \"UUID is not valid.\";\n        }\n        return uuidComponents;\n    },\n    serialize: function serialize(uuidComponents, options) {\n        var urnComponents = uuidComponents;\n        //normalize UUID\n        urnComponents.nss = (uuidComponents.uuid || \"\").toLowerCase();\n        return urnComponents;\n    }\n};\n\nSCHEMES[handler.scheme] = handler;\nSCHEMES[handler$1.scheme] = handler$1;\nSCHEMES[handler$2.scheme] = handler$2;\nSCHEMES[handler$3.scheme] = handler$3;\nSCHEMES[handler$4.scheme] = handler$4;\nSCHEMES[handler$5.scheme] = handler$5;\nSCHEMES[handler$6.scheme] = handler$6;\n\nexports.SCHEMES = SCHEMES;\nexports.pctEncChar = pctEncChar;\nexports.pctDecChars = pctDecChars;\nexports.parse = parse;\nexports.removeDotSegments = removeDotSegments;\nexports.serialize = serialize;\nexports.resolveComponents = resolveComponents;\nexports.resolve = resolve;\nexports.normalize = normalize;\nexports.equal = equal;\nexports.escapeComponent = escapeComponent;\nexports.unescapeComponent = unescapeComponent;\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\n})));\n//# sourceMappingURL=uri.all.js.map\n","/*global unescape, module, define, window, global*/\r\n\r\n/*\r\n UriTemplate Copyright (c) 2012-2013 Franz Antesberger. All Rights Reserved.\r\n Available via the MIT license.\r\n*/\r\n\r\n(function (exportCallback) {\r\n    \"use strict\";\r\n\r\nvar UriTemplateError = (function () {\r\n\r\n    function UriTemplateError (options) {\r\n        this.options = options;\r\n    }\r\n\r\n    UriTemplateError.prototype.toString = function () {\r\n        if (JSON && JSON.stringify) {\r\n            return JSON.stringify(this.options);\r\n        }\r\n        else {\r\n            return this.options;\r\n        }\r\n    };\r\n\r\n    return UriTemplateError;\r\n}());\r\n\r\nvar objectHelper = (function () {\r\n    function isArray (value) {\r\n        return Object.prototype.toString.apply(value) === '[object Array]';\r\n    }\r\n\r\n    function isString (value) {\r\n        return Object.prototype.toString.apply(value) === '[object String]';\r\n    }\r\n    \r\n    function isNumber (value) {\r\n        return Object.prototype.toString.apply(value) === '[object Number]';\r\n    }\r\n    \r\n    function isBoolean (value) {\r\n        return Object.prototype.toString.apply(value) === '[object Boolean]';\r\n    }\r\n    \r\n    function join (arr, separator) {\r\n        var\r\n            result = '',\r\n            first = true,\r\n            index;\r\n        for (index = 0; index < arr.length; index += 1) {\r\n            if (first) {\r\n                first = false;\r\n            }\r\n            else {\r\n                result += separator;\r\n            }\r\n            result += arr[index];\r\n        }\r\n        return result;\r\n    }\r\n\r\n    function map (arr, mapper) {\r\n        var\r\n            result = [],\r\n            index = 0;\r\n        for (; index < arr.length; index += 1) {\r\n            result.push(mapper(arr[index]));\r\n        }\r\n        return result;\r\n    }\r\n\r\n    function filter (arr, predicate) {\r\n        var\r\n            result = [],\r\n            index = 0;\r\n        for (; index < arr.length; index += 1) {\r\n            if (predicate(arr[index])) {\r\n                result.push(arr[index]);\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n\r\n    function deepFreezeUsingObjectFreeze (object) {\r\n        if (typeof object !== \"object\" || object === null) {\r\n            return object;\r\n        }\r\n        Object.freeze(object);\r\n        var property, propertyName;\r\n        for (propertyName in object) {\r\n            if (object.hasOwnProperty(propertyName)) {\r\n                property = object[propertyName];\r\n                // be aware, arrays are 'object', too\r\n                if (typeof property === \"object\") {\r\n                    deepFreeze(property);\r\n                }\r\n            }\r\n        }\r\n        return object;\r\n    }\r\n\r\n    function deepFreeze (object) {\r\n        if (typeof Object.freeze === 'function') {\r\n            return deepFreezeUsingObjectFreeze(object);\r\n        }\r\n        return object;\r\n    }\r\n\r\n\r\n    return {\r\n        isArray: isArray,\r\n        isString: isString,\r\n        isNumber: isNumber,\r\n        isBoolean: isBoolean,\r\n        join: join,\r\n        map: map,\r\n        filter: filter,\r\n        deepFreeze: deepFreeze\r\n    };\r\n}());\r\n\r\nvar charHelper = (function () {\r\n\r\n    function isAlpha (chr) {\r\n        return (chr >= 'a' && chr <= 'z') || ((chr >= 'A' && chr <= 'Z'));\r\n    }\r\n\r\n    function isDigit (chr) {\r\n        return chr >= '0' && chr <= '9';\r\n    }\r\n\r\n    function isHexDigit (chr) {\r\n        return isDigit(chr) || (chr >= 'a' && chr <= 'f') || (chr >= 'A' && chr <= 'F');\r\n    }\r\n\r\n    return {\r\n        isAlpha: isAlpha,\r\n        isDigit: isDigit,\r\n        isHexDigit: isHexDigit\r\n    };\r\n}());\r\n\r\nvar pctEncoder = (function () {\r\n    var utf8 = {\r\n        encode: function (chr) {\r\n            // see http://ecmanaut.blogspot.de/2006/07/encoding-decoding-utf8-in-javascript.html\r\n            return unescape(encodeURIComponent(chr));\r\n        },\r\n        numBytes: function (firstCharCode) {\r\n            if (firstCharCode <= 0x7F) {\r\n                return 1;\r\n            }\r\n            else if (0xC2 <= firstCharCode && firstCharCode <= 0xDF) {\r\n                return 2;\r\n            }\r\n            else if (0xE0 <= firstCharCode && firstCharCode <= 0xEF) {\r\n                return 3;\r\n            }\r\n            else if (0xF0 <= firstCharCode && firstCharCode <= 0xF4) {\r\n                return 4;\r\n            }\r\n            // no valid first octet\r\n            return 0;\r\n        },\r\n        isValidFollowingCharCode: function (charCode) {\r\n            return 0x80 <= charCode && charCode <= 0xBF;\r\n        }\r\n    };\r\n\r\n    /**\r\n     * encodes a character, if needed or not.\r\n     * @param chr\r\n     * @return pct-encoded character\r\n     */\r\n    function encodeCharacter (chr) {\r\n        var\r\n            result = '',\r\n            octets = utf8.encode(chr),\r\n            octet,\r\n            index;\r\n        for (index = 0; index < octets.length; index += 1) {\r\n            octet = octets.charCodeAt(index);\r\n            result += '%' + (octet < 0x10 ? '0' : '') + octet.toString(16).toUpperCase();\r\n        }\r\n        return result;\r\n    }\r\n\r\n    /**\r\n     * Returns, whether the given text at start is in the form 'percent hex-digit hex-digit', like '%3F'\r\n     * @param text\r\n     * @param start\r\n     * @return {boolean|*|*}\r\n     */\r\n    function isPercentDigitDigit (text, start) {\r\n        return text.charAt(start) === '%' && charHelper.isHexDigit(text.charAt(start + 1)) && charHelper.isHexDigit(text.charAt(start + 2));\r\n    }\r\n\r\n    /**\r\n     * Parses a hex number from start with length 2.\r\n     * @param text a string\r\n     * @param start the start index of the 2-digit hex number\r\n     * @return {Number}\r\n     */\r\n    function parseHex2 (text, start) {\r\n        return parseInt(text.substr(start, 2), 16);\r\n    }\r\n\r\n    /**\r\n     * Returns whether or not the given char sequence is a correctly pct-encoded sequence.\r\n     * @param chr\r\n     * @return {boolean}\r\n     */\r\n    function isPctEncoded (chr) {\r\n        if (!isPercentDigitDigit(chr, 0)) {\r\n            return false;\r\n        }\r\n        var firstCharCode = parseHex2(chr, 1);\r\n        var numBytes = utf8.numBytes(firstCharCode);\r\n        if (numBytes === 0) {\r\n            return false;\r\n        }\r\n        for (var byteNumber = 1; byteNumber < numBytes; byteNumber += 1) {\r\n            if (!isPercentDigitDigit(chr, 3*byteNumber) || !utf8.isValidFollowingCharCode(parseHex2(chr, 3*byteNumber + 1))) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n\r\n    /**\r\n     * Reads as much as needed from the text, e.g. '%20' or '%C3%B6'. It does not decode!\r\n     * @param text\r\n     * @param startIndex\r\n     * @return the character or pct-string of the text at startIndex\r\n     */\r\n    function pctCharAt(text, startIndex) {\r\n        var chr = text.charAt(startIndex);\r\n        if (!isPercentDigitDigit(text, startIndex)) {\r\n            return chr;\r\n        }\r\n        var utf8CharCode = parseHex2(text, startIndex + 1);\r\n        var numBytes = utf8.numBytes(utf8CharCode);\r\n        if (numBytes === 0) {\r\n            return chr;\r\n        }\r\n        for (var byteNumber = 1; byteNumber < numBytes; byteNumber += 1) {\r\n            if (!isPercentDigitDigit(text, startIndex + 3 * byteNumber) || !utf8.isValidFollowingCharCode(parseHex2(text, startIndex + 3 * byteNumber + 1))) {\r\n                return chr;\r\n            }\r\n        }\r\n        return text.substr(startIndex, 3 * numBytes);\r\n    }\r\n\r\n    return {\r\n        encodeCharacter: encodeCharacter,\r\n        isPctEncoded: isPctEncoded,\r\n        pctCharAt: pctCharAt\r\n    };\r\n}());\r\n\r\nvar rfcCharHelper = (function () {\r\n\r\n    /**\r\n     * Returns if an character is an varchar character according 2.3 of rfc 6570\r\n     * @param chr\r\n     * @return (Boolean)\r\n     */\r\n    function isVarchar (chr) {\r\n        return charHelper.isAlpha(chr) || charHelper.isDigit(chr) || chr === '_' || pctEncoder.isPctEncoded(chr);\r\n    }\r\n\r\n    /**\r\n     * Returns if chr is an unreserved character according 1.5 of rfc 6570\r\n     * @param chr\r\n     * @return {Boolean}\r\n     */\r\n    function isUnreserved (chr) {\r\n        return charHelper.isAlpha(chr) || charHelper.isDigit(chr) || chr === '-' || chr === '.' || chr === '_' || chr === '~';\r\n    }\r\n\r\n    /**\r\n     * Returns if chr is an reserved character according 1.5 of rfc 6570\r\n     * or the percent character mentioned in 3.2.1.\r\n     * @param chr\r\n     * @return {Boolean}\r\n     */\r\n    function isReserved (chr) {\r\n        return chr === ':' || chr === '/' || chr === '?' || chr === '#' || chr === '[' || chr === ']' || chr === '@' || chr === '!' || chr === '$' || chr === '&' || chr === '(' ||\r\n            chr === ')' || chr === '*' || chr === '+' || chr === ',' || chr === ';' || chr === '=' || chr === \"'\";\r\n    }\r\n\r\n    return {\r\n        isVarchar: isVarchar,\r\n        isUnreserved: isUnreserved,\r\n        isReserved: isReserved\r\n    };\r\n\r\n}());\r\n\r\n/**\r\n * encoding of rfc 6570\r\n */\r\nvar encodingHelper = (function () {\r\n\r\n    function encode (text, passReserved) {\r\n        var\r\n            result = '',\r\n            index,\r\n            chr = '';\r\n        if (typeof text === \"number\" || typeof text === \"boolean\") {\r\n            text = text.toString();\r\n        }\r\n        for (index = 0; index < text.length; index += chr.length) {\r\n            chr = text.charAt(index);\r\n            result += rfcCharHelper.isUnreserved(chr) || (passReserved && rfcCharHelper.isReserved(chr)) ? chr : pctEncoder.encodeCharacter(chr);\r\n        }\r\n        return result;\r\n    }\r\n\r\n    function encodePassReserved (text) {\r\n        return encode(text, true);\r\n    }\r\n\r\n    function encodeLiteralCharacter (literal, index) {\r\n        var chr = pctEncoder.pctCharAt(literal, index);\r\n        if (chr.length > 1) {\r\n            return chr;\r\n        }\r\n        else {\r\n            return rfcCharHelper.isReserved(chr) || rfcCharHelper.isUnreserved(chr) ? chr : pctEncoder.encodeCharacter(chr);\r\n        }\r\n    }\r\n\r\n    function encodeLiteral (literal) {\r\n        var\r\n            result = '',\r\n            index,\r\n            chr = '';\r\n        for (index = 0; index < literal.length; index += chr.length) {\r\n            chr = pctEncoder.pctCharAt(literal, index);\r\n            if (chr.length > 1) {\r\n                result += chr;\r\n            }\r\n            else {\r\n                result += rfcCharHelper.isReserved(chr) || rfcCharHelper.isUnreserved(chr) ? chr : pctEncoder.encodeCharacter(chr);\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n\r\n    return {\r\n        encode: encode,\r\n        encodePassReserved: encodePassReserved,\r\n        encodeLiteral: encodeLiteral,\r\n        encodeLiteralCharacter: encodeLiteralCharacter\r\n    };\r\n\r\n}());\r\n\r\n\r\n// the operators defined by rfc 6570\r\nvar operators = (function () {\r\n\r\n    var\r\n        bySymbol = {};\r\n\r\n    function create (symbol) {\r\n        bySymbol[symbol] = {\r\n            symbol: symbol,\r\n            separator: (symbol === '?') ? '&' : (symbol === '' || symbol === '+' || symbol === '#') ? ',' : symbol,\r\n            named: symbol === ';' || symbol === '&' || symbol === '?',\r\n            ifEmpty: (symbol === '&' || symbol === '?') ? '=' : '',\r\n            first: (symbol === '+' ) ? '' : symbol,\r\n            encode: (symbol === '+' || symbol === '#') ? encodingHelper.encodePassReserved : encodingHelper.encode,\r\n            toString: function () {\r\n                return this.symbol;\r\n            }\r\n        };\r\n    }\r\n\r\n    create('');\r\n    create('+');\r\n    create('#');\r\n    create('.');\r\n    create('/');\r\n    create(';');\r\n    create('?');\r\n    create('&');\r\n    return {\r\n        valueOf: function (chr) {\r\n            if (bySymbol[chr]) {\r\n                return bySymbol[chr];\r\n            }\r\n            if (\"=,!@|\".indexOf(chr) >= 0) {\r\n                return null;\r\n            }\r\n            return bySymbol[''];\r\n        }\r\n    };\r\n}());\r\n\r\n\r\n/**\r\n * Detects, whether a given element is defined in the sense of rfc 6570\r\n * Section 2.3 of the RFC makes clear defintions:\r\n * * undefined and null are not defined.\r\n * * the empty string is defined\r\n * * an array (\"list\") is defined, if it is not empty (even if all elements are not defined)\r\n * * an object (\"map\") is defined, if it contains at least one property with defined value\r\n * @param object\r\n * @return {Boolean}\r\n */\r\nfunction isDefined (object) {\r\n    var\r\n        propertyName;\r\n    if (object === null || object === undefined) {\r\n        return false;\r\n    }\r\n    if (objectHelper.isArray(object)) {\r\n        // Section 2.3: A variable defined as a list value is considered undefined if the list contains zero members\r\n        return object.length > 0;\r\n    }\r\n    if (typeof object === \"string\" || typeof object === \"number\" || typeof object === \"boolean\") {\r\n        // falsy values like empty strings, false or 0 are \"defined\"\r\n        return true;\r\n    }\r\n    // else Object\r\n    for (propertyName in object) {\r\n        if (object.hasOwnProperty(propertyName) && isDefined(object[propertyName])) {\r\n            return true;\r\n        }\r\n    }\r\n    return false;\r\n}\r\n\r\nvar LiteralExpression = (function () {\r\n    function LiteralExpression (literal) {\r\n        this.literal = encodingHelper.encodeLiteral(literal);\r\n    }\r\n\r\n    LiteralExpression.prototype.expand = function () {\r\n        return this.literal;\r\n    };\r\n\r\n    LiteralExpression.prototype.toString = LiteralExpression.prototype.expand;\r\n\r\n    return LiteralExpression;\r\n}());\r\n\r\nvar parse = (function () {\r\n\r\n    function parseExpression (expressionText) {\r\n        var\r\n            operator,\r\n            varspecs = [],\r\n            varspec = null,\r\n            varnameStart = null,\r\n            maxLengthStart = null,\r\n            index,\r\n            chr = '';\r\n\r\n        function closeVarname () {\r\n            var varname = expressionText.substring(varnameStart, index);\r\n            if (varname.length === 0) {\r\n                throw new UriTemplateError({expressionText: expressionText, message: \"a varname must be specified\", position: index});\r\n            }\r\n            varspec = {varname: varname, exploded: false, maxLength: null};\r\n            varnameStart = null;\r\n        }\r\n\r\n        function closeMaxLength () {\r\n            if (maxLengthStart === index) {\r\n                throw new UriTemplateError({expressionText: expressionText, message: \"after a ':' you have to specify the length\", position: index});\r\n            }\r\n            varspec.maxLength = parseInt(expressionText.substring(maxLengthStart, index), 10);\r\n            maxLengthStart = null;\r\n        }\r\n\r\n        operator = (function (operatorText) {\r\n            var op = operators.valueOf(operatorText);\r\n            if (op === null) {\r\n                throw new UriTemplateError({expressionText: expressionText, message: \"illegal use of reserved operator\", position: index, operator: operatorText});\r\n            }\r\n            return op;\r\n        }(expressionText.charAt(0)));\r\n        index = operator.symbol.length;\r\n\r\n        varnameStart = index;\r\n\r\n        for (; index < expressionText.length; index += chr.length) {\r\n            chr = pctEncoder.pctCharAt(expressionText, index);\r\n\r\n            if (varnameStart !== null) {\r\n                // the spec says: varname =  varchar *( [\".\"] varchar )\r\n                // so a dot is allowed except for the first char\r\n                if (chr === '.') {\r\n                    if (varnameStart === index) {\r\n                        throw new UriTemplateError({expressionText: expressionText, message: \"a varname MUST NOT start with a dot\", position: index});\r\n                    }\r\n                    continue;\r\n                }\r\n                if (rfcCharHelper.isVarchar(chr)) {\r\n                    continue;\r\n                }\r\n                closeVarname();\r\n            }\r\n            if (maxLengthStart !== null) {\r\n                if (index === maxLengthStart && chr === '0') {\r\n                    throw new UriTemplateError({expressionText: expressionText, message: \"A :prefix must not start with digit 0\", position: index});\r\n                }\r\n                if (charHelper.isDigit(chr)) {\r\n                    if (index - maxLengthStart >= 4) {\r\n                        throw new UriTemplateError({expressionText: expressionText, message: \"A :prefix must have max 4 digits\", position: index});\r\n                    }\r\n                    continue;\r\n                }\r\n                closeMaxLength();\r\n            }\r\n            if (chr === ':') {\r\n                if (varspec.maxLength !== null) {\r\n                    throw new UriTemplateError({expressionText: expressionText, message: \"only one :maxLength is allowed per varspec\", position: index});\r\n                }\r\n                if (varspec.exploded) {\r\n                    throw new UriTemplateError({expressionText: expressionText, message: \"an exploeded varspec MUST NOT be varspeced\", position: index});\r\n                }\r\n                maxLengthStart = index + 1;\r\n                continue;\r\n            }\r\n            if (chr === '*') {\r\n                if (varspec === null) {\r\n                    throw new UriTemplateError({expressionText: expressionText, message: \"exploded without varspec\", position: index});\r\n                }\r\n                if (varspec.exploded) {\r\n                    throw new UriTemplateError({expressionText: expressionText, message: \"exploded twice\", position: index});\r\n                }\r\n                if (varspec.maxLength) {\r\n                    throw new UriTemplateError({expressionText: expressionText, message: \"an explode (*) MUST NOT follow to a prefix\", position: index});\r\n                }\r\n                varspec.exploded = true;\r\n                continue;\r\n            }\r\n            // the only legal character now is the comma\r\n            if (chr === ',') {\r\n                varspecs.push(varspec);\r\n                varspec = null;\r\n                varnameStart = index + 1;\r\n                continue;\r\n            }\r\n            throw new UriTemplateError({expressionText: expressionText, message: \"illegal character\", character: chr, position: index});\r\n        } // for chr\r\n        if (varnameStart !== null) {\r\n            closeVarname();\r\n        }\r\n        if (maxLengthStart !== null) {\r\n            closeMaxLength();\r\n        }\r\n        varspecs.push(varspec);\r\n        return new VariableExpression(expressionText, operator, varspecs);\r\n    }\r\n\r\n    function parse (uriTemplateText) {\r\n        // assert filled string\r\n        var\r\n            index,\r\n            chr,\r\n            expressions = [],\r\n            braceOpenIndex = null,\r\n            literalStart = 0;\r\n        for (index = 0; index < uriTemplateText.length; index += 1) {\r\n            chr = uriTemplateText.charAt(index);\r\n            if (literalStart !== null) {\r\n                if (chr === '}') {\r\n                    throw new UriTemplateError({templateText: uriTemplateText, message: \"unopened brace closed\", position: index});\r\n                }\r\n                if (chr === '{') {\r\n                    if (literalStart < index) {\r\n                        expressions.push(new LiteralExpression(uriTemplateText.substring(literalStart, index)));\r\n                    }\r\n                    literalStart = null;\r\n                    braceOpenIndex = index;\r\n                }\r\n                continue;\r\n            }\r\n\r\n            if (braceOpenIndex !== null) {\r\n                // here just { is forbidden\r\n                if (chr === '{') {\r\n                    throw new UriTemplateError({templateText: uriTemplateText, message: \"brace already opened\", position: index});\r\n                }\r\n                if (chr === '}') {\r\n                    if (braceOpenIndex + 1 === index) {\r\n                        throw new UriTemplateError({templateText: uriTemplateText, message: \"empty braces\", position: braceOpenIndex});\r\n                    }\r\n                    try {\r\n                        expressions.push(parseExpression(uriTemplateText.substring(braceOpenIndex + 1, index)));\r\n                    }\r\n                    catch (error) {\r\n                        if (error.prototype === UriTemplateError.prototype) {\r\n                            throw new UriTemplateError({templateText: uriTemplateText, message: error.options.message, position: braceOpenIndex + error.options.position, details: error.options});\r\n                        }\r\n                        throw error;\r\n                    }\r\n                    braceOpenIndex = null;\r\n                    literalStart = index + 1;\r\n                }\r\n                continue;\r\n            }\r\n            throw new Error('reached unreachable code');\r\n        }\r\n        if (braceOpenIndex !== null) {\r\n            throw new UriTemplateError({templateText: uriTemplateText, message: \"unclosed brace\", position: braceOpenIndex});\r\n        }\r\n        if (literalStart < uriTemplateText.length) {\r\n            expressions.push(new LiteralExpression(uriTemplateText.substr(literalStart)));\r\n        }\r\n        return new UriTemplate(uriTemplateText, expressions);\r\n    }\r\n\r\n    return parse;\r\n}());\r\n\r\nvar VariableExpression = (function () {\r\n    // helper function if JSON is not available\r\n    function prettyPrint (value) {\r\n        return (JSON && JSON.stringify) ? JSON.stringify(value) : value;\r\n    }\r\n\r\n    function isEmpty (value) {\r\n        if (!isDefined(value)) {\r\n            return true;\r\n        }\r\n        if (objectHelper.isString(value)) {\r\n            return value === '';\r\n        }\r\n        if (objectHelper.isNumber(value) || objectHelper.isBoolean(value)) {\r\n            return false;\r\n        }\r\n        if (objectHelper.isArray(value)) {\r\n            return value.length === 0;\r\n        }\r\n        for (var propertyName in value) {\r\n            if (value.hasOwnProperty(propertyName)) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n\r\n    function propertyArray (object) {\r\n        var\r\n            result = [],\r\n            propertyName;\r\n        for (propertyName in object) {\r\n            if (object.hasOwnProperty(propertyName)) {\r\n                result.push({name: propertyName, value: object[propertyName]});\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n\r\n    function VariableExpression (templateText, operator, varspecs) {\r\n        this.templateText = templateText;\r\n        this.operator = operator;\r\n        this.varspecs = varspecs;\r\n    }\r\n\r\n    VariableExpression.prototype.toString = function () {\r\n        return this.templateText;\r\n    };\r\n\r\n    function expandSimpleValue(varspec, operator, value) {\r\n        var result = '';\r\n        value = value.toString();\r\n        if (operator.named) {\r\n            result += encodingHelper.encodeLiteral(varspec.varname);\r\n            if (value === '') {\r\n                result += operator.ifEmpty;\r\n                return result;\r\n            }\r\n            result += '=';\r\n        }\r\n        if (varspec.maxLength !== null) {\r\n            value = value.substr(0, varspec.maxLength);\r\n        }\r\n        result += operator.encode(value);\r\n        return result;\r\n    }\r\n\r\n    function valueDefined (nameValue) {\r\n        return isDefined(nameValue.value);\r\n    }\r\n\r\n    function expandNotExploded(varspec, operator, value) {\r\n        var\r\n            arr = [],\r\n            result = '';\r\n        if (operator.named) {\r\n            result += encodingHelper.encodeLiteral(varspec.varname);\r\n            if (isEmpty(value)) {\r\n                result += operator.ifEmpty;\r\n                return result;\r\n            }\r\n            result += '=';\r\n        }\r\n        if (objectHelper.isArray(value)) {\r\n            arr = value;\r\n            arr = objectHelper.filter(arr, isDefined);\r\n            arr = objectHelper.map(arr, operator.encode);\r\n            result += objectHelper.join(arr, ',');\r\n        }\r\n        else {\r\n            arr = propertyArray(value);\r\n            arr = objectHelper.filter(arr, valueDefined);\r\n            arr = objectHelper.map(arr, function (nameValue) {\r\n                return operator.encode(nameValue.name) + ',' + operator.encode(nameValue.value);\r\n            });\r\n            result += objectHelper.join(arr, ',');\r\n        }\r\n        return result;\r\n    }\r\n\r\n    function expandExplodedNamed (varspec, operator, value) {\r\n        var\r\n            isArray = objectHelper.isArray(value),\r\n            arr = [];\r\n        if (isArray) {\r\n            arr = value;\r\n            arr = objectHelper.filter(arr, isDefined);\r\n            arr = objectHelper.map(arr, function (listElement) {\r\n                var tmp = encodingHelper.encodeLiteral(varspec.varname);\r\n                if (isEmpty(listElement)) {\r\n                    tmp += operator.ifEmpty;\r\n                }\r\n                else {\r\n                    tmp += '=' + operator.encode(listElement);\r\n                }\r\n                return tmp;\r\n            });\r\n        }\r\n        else {\r\n            arr = propertyArray(value);\r\n            arr = objectHelper.filter(arr, valueDefined);\r\n            arr = objectHelper.map(arr, function (nameValue) {\r\n                var tmp = encodingHelper.encodeLiteral(nameValue.name);\r\n                if (isEmpty(nameValue.value)) {\r\n                    tmp += operator.ifEmpty;\r\n                }\r\n                else {\r\n                    tmp += '=' + operator.encode(nameValue.value);\r\n                }\r\n                return tmp;\r\n            });\r\n        }\r\n        return objectHelper.join(arr, operator.separator);\r\n    }\r\n\r\n    function expandExplodedUnnamed (operator, value) {\r\n        var\r\n            arr = [],\r\n            result = '';\r\n        if (objectHelper.isArray(value)) {\r\n            arr = value;\r\n            arr = objectHelper.filter(arr, isDefined);\r\n            arr = objectHelper.map(arr, operator.encode);\r\n            result += objectHelper.join(arr, operator.separator);\r\n        }\r\n        else {\r\n            arr = propertyArray(value);\r\n            arr = objectHelper.filter(arr, function (nameValue) {\r\n                return isDefined(nameValue.value);\r\n            });\r\n            arr = objectHelper.map(arr, function (nameValue) {\r\n                return operator.encode(nameValue.name) + '=' + operator.encode(nameValue.value);\r\n            });\r\n            result += objectHelper.join(arr, operator.separator);\r\n        }\r\n        return result;\r\n    }\r\n\r\n\r\n    VariableExpression.prototype.expand = function (variables) {\r\n        var\r\n            expanded = [],\r\n            index,\r\n            varspec,\r\n            value,\r\n            valueIsArr,\r\n            oneExploded = false,\r\n            operator = this.operator;\r\n\r\n        // expand each varspec and join with operator's separator\r\n        for (index = 0; index < this.varspecs.length; index += 1) {\r\n            varspec = this.varspecs[index];\r\n            value = variables[varspec.varname];\r\n            // if (!isDefined(value)) {\r\n            // if (variables.hasOwnProperty(varspec.name)) {\r\n            if (value === null || value === undefined) {\r\n                continue;\r\n            }\r\n            if (varspec.exploded) {\r\n                oneExploded = true;\r\n            }\r\n            valueIsArr = objectHelper.isArray(value);\r\n            if (typeof value === \"string\" || typeof value === \"number\" || typeof value === \"boolean\") {\r\n                expanded.push(expandSimpleValue(varspec, operator, value));\r\n            }\r\n            else if (varspec.maxLength && isDefined(value)) {\r\n                // 2.4.1 of the spec says: \"Prefix modifiers are not applicable to variables that have composite values.\"\r\n                throw new Error('Prefix modifiers are not applicable to variables that have composite values. You tried to expand ' + this + \" with \" + prettyPrint(value));\r\n            }\r\n            else if (!varspec.exploded) {\r\n                if (operator.named || !isEmpty(value)) {\r\n                    expanded.push(expandNotExploded(varspec, operator, value));\r\n                }\r\n            }\r\n            else if (isDefined(value)) {\r\n                if (operator.named) {\r\n                    expanded.push(expandExplodedNamed(varspec, operator, value));\r\n                }\r\n                else {\r\n                    expanded.push(expandExplodedUnnamed(operator, value));\r\n                }\r\n            }\r\n        }\r\n\r\n        if (expanded.length === 0) {\r\n            return \"\";\r\n        }\r\n        else {\r\n            return operator.first + objectHelper.join(expanded, operator.separator);\r\n        }\r\n    };\r\n\r\n    return VariableExpression;\r\n}());\r\n\r\nvar UriTemplate = (function () {\r\n    function UriTemplate (templateText, expressions) {\r\n        this.templateText = templateText;\r\n        this.expressions = expressions;\r\n        objectHelper.deepFreeze(this);\r\n    }\r\n\r\n    UriTemplate.prototype.toString = function () {\r\n        return this.templateText;\r\n    };\r\n\r\n    UriTemplate.prototype.expand = function (variables) {\r\n        // this.expressions.map(function (expression) {return expression.expand(variables);}).join('');\r\n        var\r\n            index,\r\n            result = '';\r\n        for (index = 0; index < this.expressions.length; index += 1) {\r\n            result += this.expressions[index].expand(variables);\r\n        }\r\n        return result;\r\n    };\r\n\r\n    UriTemplate.parse = parse;\r\n    UriTemplate.UriTemplateError = UriTemplateError;\r\n    return UriTemplate;\r\n}());\r\n\r\n    exportCallback(UriTemplate);\r\n\r\n}(function (UriTemplate) {\r\n        \"use strict\";\r\n        // export UriTemplate, when module is present, or pass it to window or global\r\n        if (typeof module !== \"undefined\") {\r\n            module.exports = UriTemplate;\r\n        }\r\n        else if (typeof define === \"function\") {\r\n            define([],function() {\r\n                return UriTemplate;\r\n            });\r\n        }\r\n        else if (typeof window !== \"undefined\") {\r\n            window.UriTemplate = UriTemplate;\r\n        }\r\n        else {\r\n            global.UriTemplate = UriTemplate;\r\n        }\r\n    }\r\n));\r\n","// see https://tools.ietf.org/html/rfc1808\n\n/* jshint ignore:start */\n(function(root) { \n/* jshint ignore:end */\n\n  var URL_REGEX = /^((?:[a-zA-Z0-9+\\-.]+:)?)(\\/\\/[^\\/?#]*)?((?:[^\\/\\?#]*\\/)*.*?)??(;.*?)?(\\?.*?)?(#.*?)?$/;\n  var FIRST_SEGMENT_REGEX = /^([^\\/?#]*)(.*)$/;\n  var SLASH_DOT_REGEX = /(?:\\/|^)\\.(?=\\/)/g;\n  var SLASH_DOT_DOT_REGEX = /(?:\\/|^)\\.\\.\\/(?!\\.\\.\\/).*?(?=\\/)/g;\n\n  var URLToolkit = { // jshint ignore:line\n    // If opts.alwaysNormalize is true then the path will always be normalized even when it starts with / or //\n    // E.g\n    // With opts.alwaysNormalize = false (default, spec compliant)\n    // http://a.com/b/cd + /e/f/../g => http://a.com/e/f/../g\n    // With opts.alwaysNormalize = true (not spec compliant)\n    // http://a.com/b/cd + /e/f/../g => http://a.com/e/g\n    buildAbsoluteURL: function(baseURL, relativeURL, opts) {\n      opts = opts || {};\n      // remove any remaining space and CRLF\n      baseURL = baseURL.trim();\n      relativeURL = relativeURL.trim();\n      if (!relativeURL) {\n        // 2a) If the embedded URL is entirely empty, it inherits the\n        // entire base URL (i.e., is set equal to the base URL)\n        // and we are done.\n        if (!opts.alwaysNormalize) {\n          return baseURL;\n        }\n        var basePartsForNormalise = URLToolkit.parseURL(baseURL);\n        if (!basePartsForNormalise) {\n          throw new Error('Error trying to parse base URL.');\n        }\n        basePartsForNormalise.path = URLToolkit.normalizePath(basePartsForNormalise.path);\n        return URLToolkit.buildURLFromParts(basePartsForNormalise);\n      }\n      var relativeParts = URLToolkit.parseURL(relativeURL);\n      if (!relativeParts) {\n        throw new Error('Error trying to parse relative URL.');\n      }\n      if (relativeParts.scheme) {\n        // 2b) If the embedded URL starts with a scheme name, it is\n        // interpreted as an absolute URL and we are done.\n        if (!opts.alwaysNormalize) {\n          return relativeURL;\n        }\n        relativeParts.path = URLToolkit.normalizePath(relativeParts.path);\n        return URLToolkit.buildURLFromParts(relativeParts);\n      }\n      var baseParts = URLToolkit.parseURL(baseURL);\n      if (!baseParts) {\n        throw new Error('Error trying to parse base URL.');\n      }\n      if (!baseParts.netLoc && baseParts.path && baseParts.path[0] !== '/') {\n        // If netLoc missing and path doesn't start with '/', assume everthing before the first '/' is the netLoc\n        // This causes 'example.com/a' to be handled as '//example.com/a' instead of '/example.com/a'\n        var pathParts = FIRST_SEGMENT_REGEX.exec(baseParts.path);\n        baseParts.netLoc = pathParts[1];\n        baseParts.path = pathParts[2];\n      }\n      if (baseParts.netLoc && !baseParts.path) {\n        baseParts.path = '/';\n      }\n      var builtParts = {\n        // 2c) Otherwise, the embedded URL inherits the scheme of\n        // the base URL.\n        scheme: baseParts.scheme,\n        netLoc: relativeParts.netLoc,\n        path: null,\n        params: relativeParts.params,\n        query: relativeParts.query,\n        fragment: relativeParts.fragment\n      };\n      if (!relativeParts.netLoc) {\n        // 3) If the embedded URL's <net_loc> is non-empty, we skip to\n        // Step 7.  Otherwise, the embedded URL inherits the <net_loc>\n        // (if any) of the base URL.\n        builtParts.netLoc = baseParts.netLoc;\n        // 4) If the embedded URL path is preceded by a slash \"/\", the\n        // path is not relative and we skip to Step 7.\n        if (relativeParts.path[0] !== '/') {\n          if (!relativeParts.path) {\n            // 5) If the embedded URL path is empty (and not preceded by a\n            // slash), then the embedded URL inherits the base URL path\n            builtParts.path = baseParts.path;\n            // 5a) if the embedded URL's <params> is non-empty, we skip to\n            // step 7; otherwise, it inherits the <params> of the base\n            // URL (if any) and\n            if (!relativeParts.params) {\n              builtParts.params = baseParts.params;\n              // 5b) if the embedded URL's <query> is non-empty, we skip to\n              // step 7; otherwise, it inherits the <query> of the base\n              // URL (if any) and we skip to step 7.\n              if (!relativeParts.query) {\n                builtParts.query = baseParts.query;\n              }\n            }\n          } else {\n            // 6) The last segment of the base URL's path (anything\n            // following the rightmost slash \"/\", or the entire path if no\n            // slash is present) is removed and the embedded URL's path is\n            // appended in its place.\n            var baseURLPath = baseParts.path;\n            var newPath = baseURLPath.substring(0, baseURLPath.lastIndexOf('/') + 1) + relativeParts.path;\n            builtParts.path = URLToolkit.normalizePath(newPath);\n          }\n        }\n      }\n      if (builtParts.path === null) {\n        builtParts.path = opts.alwaysNormalize ? URLToolkit.normalizePath(relativeParts.path) : relativeParts.path;\n      }\n      return URLToolkit.buildURLFromParts(builtParts);\n    },\n    parseURL: function(url) {\n      var parts = URL_REGEX.exec(url);\n      if (!parts) {\n        return null;\n      }\n      return {\n        scheme: parts[1] || '',\n        netLoc: parts[2] || '',\n        path: parts[3] || '',\n        params: parts[4] || '',\n        query: parts[5] || '',\n        fragment: parts[6] || ''\n      };\n    },\n    normalizePath: function(path) {\n      // The following operations are\n      // then applied, in order, to the new path:\n      // 6a) All occurrences of \"./\", where \".\" is a complete path\n      // segment, are removed.\n      // 6b) If the path ends with \".\" as a complete path segment,\n      // that \".\" is removed.\n      path = path.split('').reverse().join('').replace(SLASH_DOT_REGEX, '');\n      // 6c) All occurrences of \"<segment>/../\", where <segment> is a\n      // complete path segment not equal to \"..\", are removed.\n      // Removal of these path segments is performed iteratively,\n      // removing the leftmost matching pattern on each iteration,\n      // until no matching pattern remains.\n      // 6d) If the path ends with \"<segment>/..\", where <segment> is a\n      // complete path segment not equal to \"..\", that\n      // \"<segment>/..\" is removed.\n      while (path.length !== (path = path.replace(SLASH_DOT_DOT_REGEX, '')).length) {} // jshint ignore:line\n      return path.split('').reverse().join('');\n    },\n    buildURLFromParts: function(parts) {\n      return parts.scheme + parts.netLoc + parts.path + parts.params + parts.query + parts.fragment;\n    }\n  };\n\n/* jshint ignore:start */\n  if(typeof exports === 'object' && typeof module === 'object')\n    module.exports = URLToolkit;\n  else if(typeof define === 'function' && define.amd)\n    define([], function() { return URLToolkit; });\n  else if(typeof exports === 'object')\n    exports[\"URLToolkit\"] = URLToolkit;\n  else\n    root[\"URLToolkit\"] = URLToolkit;\n})(this);\n/* jshint ignore:end */\n","// Unique ID creation requires a high quality random # generator. In the browser we therefore\n// require the crypto API and do not support built-in fallback to lower quality random number\n// generators (like Math.random()).\n// getRandomValues needs to be invoked in a context where \"this\" is a Crypto implementation. Also,\n// find the complete implementation of crypto (msCrypto) on IE11.\nvar getRandomValues = typeof crypto != 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto) || typeof msCrypto != 'undefined' && typeof msCrypto.getRandomValues == 'function' && msCrypto.getRandomValues.bind(msCrypto);\nvar rnds8 = new Uint8Array(16); // eslint-disable-line no-undef\n\nexport default function rng() {\n  if (!getRandomValues) {\n    throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');\n  }\n\n  return getRandomValues(rnds8);\n}","/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\nvar byteToHex = [];\n\nfor (var i = 0; i < 256; ++i) {\n  byteToHex[i] = (i + 0x100).toString(16).substr(1);\n}\n\nfunction bytesToUuid(buf, offset) {\n  var i = offset || 0;\n  var bth = byteToHex; // join used to fix memory issue caused by concatenation: https://bugs.chromium.org/p/v8/issues/detail?id=3175#c4\n\n  return [bth[buf[i++]], bth[buf[i++]], bth[buf[i++]], bth[buf[i++]], '-', bth[buf[i++]], bth[buf[i++]], '-', bth[buf[i++]], bth[buf[i++]], '-', bth[buf[i++]], bth[buf[i++]], '-', bth[buf[i++]], bth[buf[i++]], bth[buf[i++]], bth[buf[i++]], bth[buf[i++]], bth[buf[i++]]].join('');\n}\n\nexport default bytesToUuid;","import rng from './rng.js';\nimport bytesToUuid from './bytesToUuid.js'; // **`v1()` - Generate time-based UUID**\n//\n// Inspired by https://github.com/LiosK/UUID.js\n// and http://docs.python.org/library/uuid.html\n\nvar _nodeId;\n\nvar _clockseq; // Previous uuid creation time\n\n\nvar _lastMSecs = 0;\nvar _lastNSecs = 0; // See https://github.com/uuidjs/uuid for API details\n\nfunction v1(options, buf, offset) {\n  var i = buf && offset || 0;\n  var b = buf || [];\n  options = options || {};\n  var node = options.node || _nodeId;\n  var clockseq = options.clockseq !== undefined ? options.clockseq : _clockseq; // node and clockseq need to be initialized to random values if they're not\n  // specified.  We do this lazily to minimize issues related to insufficient\n  // system entropy.  See #189\n\n  if (node == null || clockseq == null) {\n    var seedBytes = options.random || (options.rng || rng)();\n\n    if (node == null) {\n      // Per 4.5, create and 48-bit node id, (47 random bits + multicast bit = 1)\n      node = _nodeId = [seedBytes[0] | 0x01, seedBytes[1], seedBytes[2], seedBytes[3], seedBytes[4], seedBytes[5]];\n    }\n\n    if (clockseq == null) {\n      // Per 4.2.2, randomize (14 bit) clockseq\n      clockseq = _clockseq = (seedBytes[6] << 8 | seedBytes[7]) & 0x3fff;\n    }\n  } // UUID timestamps are 100 nano-second units since the Gregorian epoch,\n  // (1582-10-15 00:00).  JSNumbers aren't precise enough for this, so\n  // time is handled internally as 'msecs' (integer milliseconds) and 'nsecs'\n  // (100-nanoseconds offset from msecs) since unix epoch, 1970-01-01 00:00.\n\n\n  var msecs = options.msecs !== undefined ? options.msecs : new Date().getTime(); // Per 4.2.1.2, use count of uuid's generated during the current clock\n  // cycle to simulate higher resolution clock\n\n  var nsecs = options.nsecs !== undefined ? options.nsecs : _lastNSecs + 1; // Time since last uuid creation (in msecs)\n\n  var dt = msecs - _lastMSecs + (nsecs - _lastNSecs) / 10000; // Per 4.2.1.2, Bump clockseq on clock regression\n\n  if (dt < 0 && options.clockseq === undefined) {\n    clockseq = clockseq + 1 & 0x3fff;\n  } // Reset nsecs if clock regresses (new clockseq) or we've moved onto a new\n  // time interval\n\n\n  if ((dt < 0 || msecs > _lastMSecs) && options.nsecs === undefined) {\n    nsecs = 0;\n  } // Per 4.2.1.2 Throw error if too many uuids are requested\n\n\n  if (nsecs >= 10000) {\n    throw new Error(\"uuid.v1(): Can't create more than 10M uuids/sec\");\n  }\n\n  _lastMSecs = msecs;\n  _lastNSecs = nsecs;\n  _clockseq = clockseq; // Per 4.1.4 - Convert from unix epoch to Gregorian epoch\n\n  msecs += 12219292800000; // `time_low`\n\n  var tl = ((msecs & 0xfffffff) * 10000 + nsecs) % 0x100000000;\n  b[i++] = tl >>> 24 & 0xff;\n  b[i++] = tl >>> 16 & 0xff;\n  b[i++] = tl >>> 8 & 0xff;\n  b[i++] = tl & 0xff; // `time_mid`\n\n  var tmh = msecs / 0x100000000 * 10000 & 0xfffffff;\n  b[i++] = tmh >>> 8 & 0xff;\n  b[i++] = tmh & 0xff; // `time_high_and_version`\n\n  b[i++] = tmh >>> 24 & 0xf | 0x10; // include version\n\n  b[i++] = tmh >>> 16 & 0xff; // `clock_seq_hi_and_reserved` (Per 4.2.2 - include variant)\n\n  b[i++] = clockseq >>> 8 | 0x80; // `clock_seq_low`\n\n  b[i++] = clockseq & 0xff; // `node`\n\n  for (var n = 0; n < 6; ++n) {\n    b[i + n] = node[n];\n  }\n\n  return buf ? buf : bytesToUuid(b);\n}\n\nexport default v1;","import bytesToUuid from './bytesToUuid.js';\n\nfunction uuidToBytes(uuid) {\n  // Note: We assume we're being passed a valid uuid string\n  var bytes = [];\n  uuid.replace(/[a-fA-F0-9]{2}/g, function (hex) {\n    bytes.push(parseInt(hex, 16));\n  });\n  return bytes;\n}\n\nfunction stringToBytes(str) {\n  str = unescape(encodeURIComponent(str)); // UTF8 escape\n\n  var bytes = new Array(str.length);\n\n  for (var i = 0; i < str.length; i++) {\n    bytes[i] = str.charCodeAt(i);\n  }\n\n  return bytes;\n}\n\nexport var DNS = '6ba7b810-9dad-11d1-80b4-00c04fd430c8';\nexport var URL = '6ba7b811-9dad-11d1-80b4-00c04fd430c8';\nexport default function (name, version, hashfunc) {\n  var generateUUID = function generateUUID(value, namespace, buf, offset) {\n    var off = buf && offset || 0;\n    if (typeof value == 'string') value = stringToBytes(value);\n    if (typeof namespace == 'string') namespace = uuidToBytes(namespace);\n    if (!Array.isArray(value)) throw TypeError('value must be an array of bytes');\n    if (!Array.isArray(namespace) || namespace.length !== 16) throw TypeError('namespace must be uuid string or an Array of 16 byte values'); // Per 4.3\n\n    var bytes = hashfunc(namespace.concat(value));\n    bytes[6] = bytes[6] & 0x0f | version;\n    bytes[8] = bytes[8] & 0x3f | 0x80;\n\n    if (buf) {\n      for (var idx = 0; idx < 16; ++idx) {\n        buf[off + idx] = bytes[idx];\n      }\n    }\n\n    return buf || bytesToUuid(bytes);\n  }; // Function#name is not settable on some platforms (#270)\n\n\n  try {\n    generateUUID.name = name;\n  } catch (err) {} // For CommonJS default export support\n\n\n  generateUUID.DNS = DNS;\n  generateUUID.URL = URL;\n  return generateUUID;\n}","/*\n * Browser-compatible JavaScript MD5\n *\n * Modification of JavaScript MD5\n * https://github.com/blueimp/JavaScript-MD5\n *\n * Copyright 2011, Sebastian Tschan\n * https://blueimp.net\n *\n * Licensed under the MIT license:\n * https://opensource.org/licenses/MIT\n *\n * Based on\n * A JavaScript implementation of the RSA Data Security, Inc. MD5 Message\n * Digest Algorithm, as defined in RFC 1321.\n * Version 2.2 Copyright (C) Paul Johnston 1999 - 2009\n * Other contributors: Greg Holt, Andrew Kepert, Ydnar, Lostinet\n * Distributed under the BSD License\n * See http://pajhome.org.uk/crypt/md5 for more info.\n */\nfunction md5(bytes) {\n  if (typeof bytes == 'string') {\n    var msg = unescape(encodeURIComponent(bytes)); // UTF8 escape\n\n    bytes = new Array(msg.length);\n\n    for (var i = 0; i < msg.length; i++) {\n      bytes[i] = msg.charCodeAt(i);\n    }\n  }\n\n  return md5ToHexEncodedArray(wordsToMd5(bytesToWords(bytes), bytes.length * 8));\n}\n/*\n * Convert an array of little-endian words to an array of bytes\n */\n\n\nfunction md5ToHexEncodedArray(input) {\n  var i;\n  var x;\n  var output = [];\n  var length32 = input.length * 32;\n  var hexTab = '0123456789abcdef';\n  var hex;\n\n  for (i = 0; i < length32; i += 8) {\n    x = input[i >> 5] >>> i % 32 & 0xff;\n    hex = parseInt(hexTab.charAt(x >>> 4 & 0x0f) + hexTab.charAt(x & 0x0f), 16);\n    output.push(hex);\n  }\n\n  return output;\n}\n/*\n * Calculate the MD5 of an array of little-endian words, and a bit length.\n */\n\n\nfunction wordsToMd5(x, len) {\n  /* append padding */\n  x[len >> 5] |= 0x80 << len % 32;\n  x[(len + 64 >>> 9 << 4) + 14] = len;\n  var i;\n  var olda;\n  var oldb;\n  var oldc;\n  var oldd;\n  var a = 1732584193;\n  var b = -271733879;\n  var c = -1732584194;\n  var d = 271733878;\n\n  for (i = 0; i < x.length; i += 16) {\n    olda = a;\n    oldb = b;\n    oldc = c;\n    oldd = d;\n    a = md5ff(a, b, c, d, x[i], 7, -680876936);\n    d = md5ff(d, a, b, c, x[i + 1], 12, -389564586);\n    c = md5ff(c, d, a, b, x[i + 2], 17, 606105819);\n    b = md5ff(b, c, d, a, x[i + 3], 22, -1044525330);\n    a = md5ff(a, b, c, d, x[i + 4], 7, -176418897);\n    d = md5ff(d, a, b, c, x[i + 5], 12, 1200080426);\n    c = md5ff(c, d, a, b, x[i + 6], 17, -1473231341);\n    b = md5ff(b, c, d, a, x[i + 7], 22, -45705983);\n    a = md5ff(a, b, c, d, x[i + 8], 7, 1770035416);\n    d = md5ff(d, a, b, c, x[i + 9], 12, -1958414417);\n    c = md5ff(c, d, a, b, x[i + 10], 17, -42063);\n    b = md5ff(b, c, d, a, x[i + 11], 22, -1990404162);\n    a = md5ff(a, b, c, d, x[i + 12], 7, 1804603682);\n    d = md5ff(d, a, b, c, x[i + 13], 12, -40341101);\n    c = md5ff(c, d, a, b, x[i + 14], 17, -1502002290);\n    b = md5ff(b, c, d, a, x[i + 15], 22, 1236535329);\n    a = md5gg(a, b, c, d, x[i + 1], 5, -165796510);\n    d = md5gg(d, a, b, c, x[i + 6], 9, -1069501632);\n    c = md5gg(c, d, a, b, x[i + 11], 14, 643717713);\n    b = md5gg(b, c, d, a, x[i], 20, -373897302);\n    a = md5gg(a, b, c, d, x[i + 5], 5, -701558691);\n    d = md5gg(d, a, b, c, x[i + 10], 9, 38016083);\n    c = md5gg(c, d, a, b, x[i + 15], 14, -660478335);\n    b = md5gg(b, c, d, a, x[i + 4], 20, -405537848);\n    a = md5gg(a, b, c, d, x[i + 9], 5, 568446438);\n    d = md5gg(d, a, b, c, x[i + 14], 9, -1019803690);\n    c = md5gg(c, d, a, b, x[i + 3], 14, -187363961);\n    b = md5gg(b, c, d, a, x[i + 8], 20, 1163531501);\n    a = md5gg(a, b, c, d, x[i + 13], 5, -1444681467);\n    d = md5gg(d, a, b, c, x[i + 2], 9, -51403784);\n    c = md5gg(c, d, a, b, x[i + 7], 14, 1735328473);\n    b = md5gg(b, c, d, a, x[i + 12], 20, -1926607734);\n    a = md5hh(a, b, c, d, x[i + 5], 4, -378558);\n    d = md5hh(d, a, b, c, x[i + 8], 11, -2022574463);\n    c = md5hh(c, d, a, b, x[i + 11], 16, 1839030562);\n    b = md5hh(b, c, d, a, x[i + 14], 23, -35309556);\n    a = md5hh(a, b, c, d, x[i + 1], 4, -1530992060);\n    d = md5hh(d, a, b, c, x[i + 4], 11, 1272893353);\n    c = md5hh(c, d, a, b, x[i + 7], 16, -155497632);\n    b = md5hh(b, c, d, a, x[i + 10], 23, -1094730640);\n    a = md5hh(a, b, c, d, x[i + 13], 4, 681279174);\n    d = md5hh(d, a, b, c, x[i], 11, -358537222);\n    c = md5hh(c, d, a, b, x[i + 3], 16, -722521979);\n    b = md5hh(b, c, d, a, x[i + 6], 23, 76029189);\n    a = md5hh(a, b, c, d, x[i + 9], 4, -640364487);\n    d = md5hh(d, a, b, c, x[i + 12], 11, -421815835);\n    c = md5hh(c, d, a, b, x[i + 15], 16, 530742520);\n    b = md5hh(b, c, d, a, x[i + 2], 23, -995338651);\n    a = md5ii(a, b, c, d, x[i], 6, -198630844);\n    d = md5ii(d, a, b, c, x[i + 7], 10, 1126891415);\n    c = md5ii(c, d, a, b, x[i + 14], 15, -1416354905);\n    b = md5ii(b, c, d, a, x[i + 5], 21, -57434055);\n    a = md5ii(a, b, c, d, x[i + 12], 6, 1700485571);\n    d = md5ii(d, a, b, c, x[i + 3], 10, -1894986606);\n    c = md5ii(c, d, a, b, x[i + 10], 15, -1051523);\n    b = md5ii(b, c, d, a, x[i + 1], 21, -2054922799);\n    a = md5ii(a, b, c, d, x[i + 8], 6, 1873313359);\n    d = md5ii(d, a, b, c, x[i + 15], 10, -30611744);\n    c = md5ii(c, d, a, b, x[i + 6], 15, -1560198380);\n    b = md5ii(b, c, d, a, x[i + 13], 21, 1309151649);\n    a = md5ii(a, b, c, d, x[i + 4], 6, -145523070);\n    d = md5ii(d, a, b, c, x[i + 11], 10, -1120210379);\n    c = md5ii(c, d, a, b, x[i + 2], 15, 718787259);\n    b = md5ii(b, c, d, a, x[i + 9], 21, -343485551);\n    a = safeAdd(a, olda);\n    b = safeAdd(b, oldb);\n    c = safeAdd(c, oldc);\n    d = safeAdd(d, oldd);\n  }\n\n  return [a, b, c, d];\n}\n/*\n * Convert an array bytes to an array of little-endian words\n * Characters >255 have their high-byte silently ignored.\n */\n\n\nfunction bytesToWords(input) {\n  var i;\n  var output = [];\n  output[(input.length >> 2) - 1] = undefined;\n\n  for (i = 0; i < output.length; i += 1) {\n    output[i] = 0;\n  }\n\n  var length8 = input.length * 8;\n\n  for (i = 0; i < length8; i += 8) {\n    output[i >> 5] |= (input[i / 8] & 0xff) << i % 32;\n  }\n\n  return output;\n}\n/*\n * Add integers, wrapping at 2^32. This uses 16-bit operations internally\n * to work around bugs in some JS interpreters.\n */\n\n\nfunction safeAdd(x, y) {\n  var lsw = (x & 0xffff) + (y & 0xffff);\n  var msw = (x >> 16) + (y >> 16) + (lsw >> 16);\n  return msw << 16 | lsw & 0xffff;\n}\n/*\n * Bitwise rotate a 32-bit number to the left.\n */\n\n\nfunction bitRotateLeft(num, cnt) {\n  return num << cnt | num >>> 32 - cnt;\n}\n/*\n * These functions implement the four basic operations the algorithm uses.\n */\n\n\nfunction md5cmn(q, a, b, x, s, t) {\n  return safeAdd(bitRotateLeft(safeAdd(safeAdd(a, q), safeAdd(x, t)), s), b);\n}\n\nfunction md5ff(a, b, c, d, x, s, t) {\n  return md5cmn(b & c | ~b & d, a, b, x, s, t);\n}\n\nfunction md5gg(a, b, c, d, x, s, t) {\n  return md5cmn(b & d | c & ~d, a, b, x, s, t);\n}\n\nfunction md5hh(a, b, c, d, x, s, t) {\n  return md5cmn(b ^ c ^ d, a, b, x, s, t);\n}\n\nfunction md5ii(a, b, c, d, x, s, t) {\n  return md5cmn(c ^ (b | ~d), a, b, x, s, t);\n}\n\nexport default md5;","import v35 from './v35.js';\nimport md5 from './md5.js';\nvar v3 = v35('v3', 0x30, md5);\nexport default v3;","import rng from './rng.js';\nimport bytesToUuid from './bytesToUuid.js';\n\nfunction v4(options, buf, offset) {\n  var i = buf && offset || 0;\n\n  if (typeof options == 'string') {\n    buf = options === 'binary' ? new Array(16) : null;\n    options = null;\n  }\n\n  options = options || {};\n  var rnds = options.random || (options.rng || rng)(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n\n  if (buf) {\n    for (var ii = 0; ii < 16; ++ii) {\n      buf[i + ii] = rnds[ii];\n    }\n  }\n\n  return buf || bytesToUuid(rnds);\n}\n\nexport default v4;","// Adapted from Chris Veness' SHA1 code at\n// http://www.movable-type.co.uk/scripts/sha1.html\nfunction f(s, x, y, z) {\n  switch (s) {\n    case 0:\n      return x & y ^ ~x & z;\n\n    case 1:\n      return x ^ y ^ z;\n\n    case 2:\n      return x & y ^ x & z ^ y & z;\n\n    case 3:\n      return x ^ y ^ z;\n  }\n}\n\nfunction ROTL(x, n) {\n  return x << n | x >>> 32 - n;\n}\n\nfunction sha1(bytes) {\n  var K = [0x5a827999, 0x6ed9eba1, 0x8f1bbcdc, 0xca62c1d6];\n  var H = [0x67452301, 0xefcdab89, 0x98badcfe, 0x10325476, 0xc3d2e1f0];\n\n  if (typeof bytes == 'string') {\n    var msg = unescape(encodeURIComponent(bytes)); // UTF8 escape\n\n    bytes = new Array(msg.length);\n\n    for (var i = 0; i < msg.length; i++) {\n      bytes[i] = msg.charCodeAt(i);\n    }\n  }\n\n  bytes.push(0x80);\n  var l = bytes.length / 4 + 2;\n  var N = Math.ceil(l / 16);\n  var M = new Array(N);\n\n  for (var i = 0; i < N; i++) {\n    M[i] = new Array(16);\n\n    for (var j = 0; j < 16; j++) {\n      M[i][j] = bytes[i * 64 + j * 4] << 24 | bytes[i * 64 + j * 4 + 1] << 16 | bytes[i * 64 + j * 4 + 2] << 8 | bytes[i * 64 + j * 4 + 3];\n    }\n  }\n\n  M[N - 1][14] = (bytes.length - 1) * 8 / Math.pow(2, 32);\n  M[N - 1][14] = Math.floor(M[N - 1][14]);\n  M[N - 1][15] = (bytes.length - 1) * 8 & 0xffffffff;\n\n  for (var i = 0; i < N; i++) {\n    var W = new Array(80);\n\n    for (var t = 0; t < 16; t++) {\n      W[t] = M[i][t];\n    }\n\n    for (var t = 16; t < 80; t++) {\n      W[t] = ROTL(W[t - 3] ^ W[t - 8] ^ W[t - 14] ^ W[t - 16], 1);\n    }\n\n    var a = H[0];\n    var b = H[1];\n    var c = H[2];\n    var d = H[3];\n    var e = H[4];\n\n    for (var t = 0; t < 80; t++) {\n      var s = Math.floor(t / 20);\n      var T = ROTL(a, 5) + f(s, b, c, d) + e + K[s] + W[t] >>> 0;\n      e = d;\n      d = c;\n      c = ROTL(b, 30) >>> 0;\n      b = a;\n      a = T;\n    }\n\n    H[0] = H[0] + a >>> 0;\n    H[1] = H[1] + b >>> 0;\n    H[2] = H[2] + c >>> 0;\n    H[3] = H[3] + d >>> 0;\n    H[4] = H[4] + e >>> 0;\n  }\n\n  return [H[0] >> 24 & 0xff, H[0] >> 16 & 0xff, H[0] >> 8 & 0xff, H[0] & 0xff, H[1] >> 24 & 0xff, H[1] >> 16 & 0xff, H[1] >> 8 & 0xff, H[1] & 0xff, H[2] >> 24 & 0xff, H[2] >> 16 & 0xff, H[2] >> 8 & 0xff, H[2] & 0xff, H[3] >> 24 & 0xff, H[3] >> 16 & 0xff, H[3] >> 8 & 0xff, H[3] & 0xff, H[4] >> 24 & 0xff, H[4] >> 16 & 0xff, H[4] >> 8 & 0xff, H[4] & 0xff];\n}\n\nexport default sha1;","import v35 from './v35.js';\nimport sha1 from './sha1.js';\nvar v5 = v35('v5', 0x50, sha1);\nexport default v5;","'use strict';\n\nvar possibleNames = [\n\t'BigInt64Array',\n\t'BigUint64Array',\n\t'Float32Array',\n\t'Float64Array',\n\t'Int16Array',\n\t'Int32Array',\n\t'Int8Array',\n\t'Uint16Array',\n\t'Uint32Array',\n\t'Uint8Array',\n\t'Uint8ClampedArray'\n];\n\nvar g = typeof globalThis === 'undefined' ? global : globalThis;\n\nmodule.exports = function availableTypedArrays() {\n\tvar out = [];\n\tfor (var i = 0; i < possibleNames.length; i++) {\n\t\tif (typeof g[possibleNames[i]] === 'function') {\n\t\t\tout[out.length] = possibleNames[i];\n\t\t}\n\t}\n\treturn out;\n};\n","'use strict';\n\nvar GetIntrinsic = require('get-intrinsic');\n\nvar $gOPD = GetIntrinsic('%Object.getOwnPropertyDescriptor%', true);\nif ($gOPD) {\n\ttry {\n\t\t$gOPD([], 'length');\n\t} catch (e) {\n\t\t// IE 8 has a broken gOPD\n\t\t$gOPD = null;\n\t}\n}\n\nmodule.exports = $gOPD;\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getFloat16 = getFloat16;\nexports.setFloat16 = setFloat16;\n\nvar _arrayIterator = require(\"./_util/arrayIterator.cjs\");\n\nvar _converter = require(\"./_util/converter.cjs\");\n\nvar _primordials = require(\"./_util/primordials.cjs\");\n\nfunction getFloat16(dataView, byteOffset, ...opts) {\n  return (0, _converter.convertToNumber)((0, _primordials.DataViewPrototypeGetUint16)(dataView, byteOffset, ...(0, _arrayIterator.safeIfNeeded)(opts)));\n}\n\nfunction setFloat16(dataView, byteOffset, value, ...opts) {\n  return (0, _primordials.DataViewPrototypeSetUint16)(dataView, byteOffset, (0, _converter.roundToFloat16Bits)(value), ...(0, _arrayIterator.safeIfNeeded)(opts));\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.isFloat16Array = isFloat16Array;\n\nvar _arrayIterator = require(\"./_util/arrayIterator.cjs\");\n\nvar _brand = require(\"./_util/brand.cjs\");\n\nvar _converter = require(\"./_util/converter.cjs\");\n\nvar _is = require(\"./_util/is.cjs\");\n\nvar _messages = require(\"./_util/messages.cjs\");\n\nvar _primordials = require(\"./_util/primordials.cjs\");\n\nvar _spec = require(\"./_util/spec.cjs\");\n\nconst BYTES_PER_ELEMENT = 2;\nconst float16bitsArrays = new _primordials.NativeWeakMap();\n\nfunction isFloat16Array(target) {\n  return (0, _primordials.WeakMapPrototypeHas)(float16bitsArrays, target) || !(0, _primordials.ArrayBufferIsView)(target) && (0, _brand.hasFloat16ArrayBrand)(target);\n}\n\nfunction assertFloat16Array(target) {\n  if (!isFloat16Array(target)) {\n    throw (0, _primordials.NativeTypeError)(_messages.THIS_IS_NOT_A_FLOAT16ARRAY_OBJECT);\n  }\n}\n\nfunction assertSpeciesTypedArray(target, count) {\n  const isTargetFloat16Array = isFloat16Array(target);\n  const isTargetTypedArray = (0, _is.isNativeTypedArray)(target);\n\n  if (!isTargetFloat16Array && !isTargetTypedArray) {\n    throw (0, _primordials.NativeTypeError)(_messages.SPECIES_CONSTRUCTOR_DIDNT_RETURN_TYPEDARRAY_OBJECT);\n  }\n\n  if (typeof count === \"number\") {\n    let length;\n\n    if (isTargetFloat16Array) {\n      const float16bitsArray = getFloat16BitsArray(target);\n      length = (0, _primordials.TypedArrayPrototypeGetLength)(float16bitsArray);\n    } else {\n      length = (0, _primordials.TypedArrayPrototypeGetLength)(target);\n    }\n\n    if (length < count) {\n      throw (0, _primordials.NativeTypeError)(_messages.DERIVED_CONSTRUCTOR_CREATED_TYPEDARRAY_OBJECT_WHICH_WAS_TOO_SMALL_LENGTH);\n    }\n  }\n\n  if ((0, _is.isNativeBigIntTypedArray)(target)) {\n    throw (0, _primordials.NativeTypeError)(_messages.CANNOT_MIX_BIGINT_AND_OTHER_TYPES);\n  }\n}\n\nfunction getFloat16BitsArray(float16) {\n  const float16bitsArray = (0, _primordials.WeakMapPrototypeGet)(float16bitsArrays, float16);\n\n  if (float16bitsArray !== undefined) {\n    const buffer = (0, _primordials.TypedArrayPrototypeGetBuffer)(float16bitsArray);\n\n    if ((0, _spec.IsDetachedBuffer)(buffer)) {\n      throw (0, _primordials.NativeTypeError)(_messages.ATTEMPTING_TO_ACCESS_DETACHED_ARRAYBUFFER);\n    }\n\n    return float16bitsArray;\n  }\n\n  const buffer = float16.buffer;\n\n  if ((0, _spec.IsDetachedBuffer)(buffer)) {\n    throw (0, _primordials.NativeTypeError)(_messages.ATTEMPTING_TO_ACCESS_DETACHED_ARRAYBUFFER);\n  }\n\n  const cloned = (0, _primordials.ReflectConstruct)(Float16Array, [buffer, float16.byteOffset, float16.length], float16.constructor);\n  return (0, _primordials.WeakMapPrototypeGet)(float16bitsArrays, cloned);\n}\n\nfunction copyToArray(float16bitsArray) {\n  const length = (0, _primordials.TypedArrayPrototypeGetLength)(float16bitsArray);\n  const array = [];\n\n  for (let i = 0; i < length; ++i) {\n    array[i] = (0, _converter.convertToNumber)(float16bitsArray[i]);\n  }\n\n  return array;\n}\n\nconst TypedArrayPrototypeGetters = new _primordials.NativeWeakSet();\n\nfor (const key of (0, _primordials.ReflectOwnKeys)(_primordials.TypedArrayPrototype)) {\n  if (key === _primordials.SymbolToStringTag) {\n    continue;\n  }\n\n  const descriptor = (0, _primordials.ReflectGetOwnPropertyDescriptor)(_primordials.TypedArrayPrototype, key);\n\n  if ((0, _primordials.ObjectHasOwn)(descriptor, \"get\") && typeof descriptor.get === \"function\") {\n    (0, _primordials.WeakSetPrototypeAdd)(TypedArrayPrototypeGetters, descriptor.get);\n  }\n}\n\nconst handler = (0, _primordials.ObjectFreeze)({\n  get(target, key, receiver) {\n    if ((0, _is.isCanonicalIntegerIndexString)(key) && (0, _primordials.ObjectHasOwn)(target, key)) {\n      return (0, _converter.convertToNumber)((0, _primordials.ReflectGet)(target, key));\n    }\n\n    if ((0, _primordials.WeakSetPrototypeHas)(TypedArrayPrototypeGetters, (0, _primordials.ObjectPrototype__lookupGetter__)(target, key))) {\n      return (0, _primordials.ReflectGet)(target, key);\n    }\n\n    return (0, _primordials.ReflectGet)(target, key, receiver);\n  },\n\n  set(target, key, value, receiver) {\n    if ((0, _is.isCanonicalIntegerIndexString)(key) && (0, _primordials.ObjectHasOwn)(target, key)) {\n      return (0, _primordials.ReflectSet)(target, key, (0, _converter.roundToFloat16Bits)(value));\n    }\n\n    return (0, _primordials.ReflectSet)(target, key, value, receiver);\n  },\n\n  getOwnPropertyDescriptor(target, key) {\n    if ((0, _is.isCanonicalIntegerIndexString)(key) && (0, _primordials.ObjectHasOwn)(target, key)) {\n      const descriptor = (0, _primordials.ReflectGetOwnPropertyDescriptor)(target, key);\n      descriptor.value = (0, _converter.convertToNumber)(descriptor.value);\n      return descriptor;\n    }\n\n    return (0, _primordials.ReflectGetOwnPropertyDescriptor)(target, key);\n  },\n\n  defineProperty(target, key, descriptor) {\n    if ((0, _is.isCanonicalIntegerIndexString)(key) && (0, _primordials.ObjectHasOwn)(target, key) && (0, _primordials.ObjectHasOwn)(descriptor, \"value\")) {\n      descriptor.value = (0, _converter.roundToFloat16Bits)(descriptor.value);\n      return (0, _primordials.ReflectDefineProperty)(target, key, descriptor);\n    }\n\n    return (0, _primordials.ReflectDefineProperty)(target, key, descriptor);\n  }\n\n});\n\nclass Float16Array {\n  constructor(input, _byteOffset, _length) {\n    let float16bitsArray;\n\n    if (isFloat16Array(input)) {\n      float16bitsArray = (0, _primordials.ReflectConstruct)(_primordials.NativeUint16Array, [getFloat16BitsArray(input)], new.target);\n    } else if ((0, _is.isObject)(input) && !(0, _is.isArrayBuffer)(input)) {\n      let list;\n      let length;\n\n      if ((0, _is.isNativeTypedArray)(input)) {\n        list = input;\n        length = (0, _primordials.TypedArrayPrototypeGetLength)(input);\n        const buffer = (0, _primordials.TypedArrayPrototypeGetBuffer)(input);\n        const BufferConstructor = !(0, _is.isSharedArrayBuffer)(buffer) ? (0, _spec.SpeciesConstructor)(buffer, _primordials.NativeArrayBuffer) : _primordials.NativeArrayBuffer;\n\n        if ((0, _spec.IsDetachedBuffer)(buffer)) {\n          throw (0, _primordials.NativeTypeError)(_messages.ATTEMPTING_TO_ACCESS_DETACHED_ARRAYBUFFER);\n        }\n\n        if ((0, _is.isNativeBigIntTypedArray)(input)) {\n          throw (0, _primordials.NativeTypeError)(_messages.CANNOT_MIX_BIGINT_AND_OTHER_TYPES);\n        }\n\n        const data = new BufferConstructor(length * BYTES_PER_ELEMENT);\n        float16bitsArray = (0, _primordials.ReflectConstruct)(_primordials.NativeUint16Array, [data], new.target);\n      } else {\n        const iterator = input[_primordials.SymbolIterator];\n\n        if (iterator != null && typeof iterator !== \"function\") {\n          throw (0, _primordials.NativeTypeError)(_messages.ITERATOR_PROPERTY_IS_NOT_CALLABLE);\n        }\n\n        if (iterator != null) {\n          if ((0, _is.isOrdinaryArray)(input)) {\n            list = input;\n            length = input.length;\n          } else {\n            list = [...input];\n            length = list.length;\n          }\n        } else {\n          list = input;\n          length = (0, _spec.ToLength)(list.length);\n        }\n\n        float16bitsArray = (0, _primordials.ReflectConstruct)(_primordials.NativeUint16Array, [length], new.target);\n      }\n\n      for (let i = 0; i < length; ++i) {\n        float16bitsArray[i] = (0, _converter.roundToFloat16Bits)(list[i]);\n      }\n    } else {\n      float16bitsArray = (0, _primordials.ReflectConstruct)(_primordials.NativeUint16Array, arguments, new.target);\n    }\n\n    const proxy = new _primordials.NativeProxy(float16bitsArray, handler);\n    (0, _primordials.WeakMapPrototypeSet)(float16bitsArrays, proxy, float16bitsArray);\n    return proxy;\n  }\n\n  static from(src, ...opts) {\n    const Constructor = this;\n\n    if (!(0, _primordials.ReflectHas)(Constructor, _brand.brand)) {\n      throw (0, _primordials.NativeTypeError)(_messages.THIS_CONSTRUCTOR_IS_NOT_A_SUBCLASS_OF_FLOAT16ARRAY);\n    }\n\n    if (Constructor === Float16Array) {\n      if (isFloat16Array(src) && opts.length === 0) {\n        const float16bitsArray = getFloat16BitsArray(src);\n        const uint16 = new _primordials.NativeUint16Array((0, _primordials.TypedArrayPrototypeGetBuffer)(float16bitsArray), (0, _primordials.TypedArrayPrototypeGetByteOffset)(float16bitsArray), (0, _primordials.TypedArrayPrototypeGetLength)(float16bitsArray));\n        return new Float16Array((0, _primordials.TypedArrayPrototypeGetBuffer)((0, _primordials.TypedArrayPrototypeSlice)(uint16)));\n      }\n\n      if (opts.length === 0) {\n        return new Float16Array((0, _primordials.TypedArrayPrototypeGetBuffer)((0, _primordials.Uint16ArrayFrom)(src, _converter.roundToFloat16Bits)));\n      }\n\n      const mapFunc = opts[0];\n      const thisArg = opts[1];\n      return new Float16Array((0, _primordials.TypedArrayPrototypeGetBuffer)((0, _primordials.Uint16ArrayFrom)(src, function (val, ...args) {\n        return (0, _converter.roundToFloat16Bits)((0, _primordials.ReflectApply)(mapFunc, this, [val, ...(0, _arrayIterator.safeIfNeeded)(args)]));\n      }, thisArg)));\n    }\n\n    let list;\n    let length;\n    const iterator = src[_primordials.SymbolIterator];\n\n    if (iterator != null && typeof iterator !== \"function\") {\n      throw (0, _primordials.NativeTypeError)(_messages.ITERATOR_PROPERTY_IS_NOT_CALLABLE);\n    }\n\n    if (iterator != null) {\n      if ((0, _is.isOrdinaryArray)(src)) {\n        list = src;\n        length = src.length;\n      } else if ((0, _is.isOrdinaryNativeTypedArray)(src)) {\n        list = src;\n        length = (0, _primordials.TypedArrayPrototypeGetLength)(src);\n      } else {\n        list = [...src];\n        length = list.length;\n      }\n    } else {\n      if (src == null) {\n        throw (0, _primordials.NativeTypeError)(_messages.CANNOT_CONVERT_UNDEFINED_OR_NULL_TO_OBJECT);\n      }\n\n      list = (0, _primordials.NativeObject)(src);\n      length = (0, _spec.ToLength)(list.length);\n    }\n\n    const array = new Constructor(length);\n\n    if (opts.length === 0) {\n      for (let i = 0; i < length; ++i) {\n        array[i] = list[i];\n      }\n    } else {\n      const mapFunc = opts[0];\n      const thisArg = opts[1];\n\n      for (let i = 0; i < length; ++i) {\n        array[i] = (0, _primordials.ReflectApply)(mapFunc, thisArg, [list[i], i]);\n      }\n    }\n\n    return array;\n  }\n\n  static of(...items) {\n    const Constructor = this;\n\n    if (!(0, _primordials.ReflectHas)(Constructor, _brand.brand)) {\n      throw (0, _primordials.NativeTypeError)(_messages.THIS_CONSTRUCTOR_IS_NOT_A_SUBCLASS_OF_FLOAT16ARRAY);\n    }\n\n    const length = items.length;\n\n    if (Constructor === Float16Array) {\n      const proxy = new Float16Array(length);\n      const float16bitsArray = getFloat16BitsArray(proxy);\n\n      for (let i = 0; i < length; ++i) {\n        float16bitsArray[i] = (0, _converter.roundToFloat16Bits)(items[i]);\n      }\n\n      return proxy;\n    }\n\n    const array = new Constructor(length);\n\n    for (let i = 0; i < length; ++i) {\n      array[i] = items[i];\n    }\n\n    return array;\n  }\n\n  keys() {\n    assertFloat16Array(this);\n    const float16bitsArray = getFloat16BitsArray(this);\n    return (0, _primordials.TypedArrayPrototypeKeys)(float16bitsArray);\n  }\n\n  values() {\n    assertFloat16Array(this);\n    const float16bitsArray = getFloat16BitsArray(this);\n    return (0, _arrayIterator.wrap)(function* () {\n      for (const val of (0, _primordials.TypedArrayPrototypeValues)(float16bitsArray)) {\n        yield (0, _converter.convertToNumber)(val);\n      }\n    }());\n  }\n\n  entries() {\n    assertFloat16Array(this);\n    const float16bitsArray = getFloat16BitsArray(this);\n    return (0, _arrayIterator.wrap)(function* () {\n      for (const [i, val] of (0, _primordials.TypedArrayPrototypeEntries)(float16bitsArray)) {\n        yield [i, (0, _converter.convertToNumber)(val)];\n      }\n    }());\n  }\n\n  at(index) {\n    assertFloat16Array(this);\n    const float16bitsArray = getFloat16BitsArray(this);\n    const length = (0, _primordials.TypedArrayPrototypeGetLength)(float16bitsArray);\n    const relativeIndex = (0, _spec.ToIntegerOrInfinity)(index);\n    const k = relativeIndex >= 0 ? relativeIndex : length + relativeIndex;\n\n    if (k < 0 || k >= length) {\n      return;\n    }\n\n    return (0, _converter.convertToNumber)(float16bitsArray[k]);\n  }\n\n  map(callback, ...opts) {\n    assertFloat16Array(this);\n    const float16bitsArray = getFloat16BitsArray(this);\n    const length = (0, _primordials.TypedArrayPrototypeGetLength)(float16bitsArray);\n    const thisArg = opts[0];\n    const Constructor = (0, _spec.SpeciesConstructor)(float16bitsArray, Float16Array);\n\n    if (Constructor === Float16Array) {\n      const proxy = new Float16Array(length);\n      const array = getFloat16BitsArray(proxy);\n\n      for (let i = 0; i < length; ++i) {\n        const val = (0, _converter.convertToNumber)(float16bitsArray[i]);\n        array[i] = (0, _converter.roundToFloat16Bits)((0, _primordials.ReflectApply)(callback, thisArg, [val, i, this]));\n      }\n\n      return proxy;\n    }\n\n    const array = new Constructor(length);\n    assertSpeciesTypedArray(array, length);\n\n    for (let i = 0; i < length; ++i) {\n      const val = (0, _converter.convertToNumber)(float16bitsArray[i]);\n      array[i] = (0, _primordials.ReflectApply)(callback, thisArg, [val, i, this]);\n    }\n\n    return array;\n  }\n\n  filter(callback, ...opts) {\n    assertFloat16Array(this);\n    const float16bitsArray = getFloat16BitsArray(this);\n    const length = (0, _primordials.TypedArrayPrototypeGetLength)(float16bitsArray);\n    const thisArg = opts[0];\n    const kept = [];\n\n    for (let i = 0; i < length; ++i) {\n      const val = (0, _converter.convertToNumber)(float16bitsArray[i]);\n\n      if ((0, _primordials.ReflectApply)(callback, thisArg, [val, i, this])) {\n        (0, _primordials.ArrayPrototypePush)(kept, val);\n      }\n    }\n\n    const Constructor = (0, _spec.SpeciesConstructor)(float16bitsArray, Float16Array);\n    const array = new Constructor(kept);\n    assertSpeciesTypedArray(array);\n    return array;\n  }\n\n  reduce(callback, ...opts) {\n    assertFloat16Array(this);\n    const float16bitsArray = getFloat16BitsArray(this);\n    const length = (0, _primordials.TypedArrayPrototypeGetLength)(float16bitsArray);\n\n    if (length === 0 && opts.length === 0) {\n      throw (0, _primordials.NativeTypeError)(_messages.REDUCE_OF_EMPTY_ARRAY_WITH_NO_INITIAL_VALUE);\n    }\n\n    let accumulator, start;\n\n    if (opts.length === 0) {\n      accumulator = (0, _converter.convertToNumber)(float16bitsArray[0]);\n      start = 1;\n    } else {\n      accumulator = opts[0];\n      start = 0;\n    }\n\n    for (let i = start; i < length; ++i) {\n      accumulator = callback(accumulator, (0, _converter.convertToNumber)(float16bitsArray[i]), i, this);\n    }\n\n    return accumulator;\n  }\n\n  reduceRight(callback, ...opts) {\n    assertFloat16Array(this);\n    const float16bitsArray = getFloat16BitsArray(this);\n    const length = (0, _primordials.TypedArrayPrototypeGetLength)(float16bitsArray);\n\n    if (length === 0 && opts.length === 0) {\n      throw (0, _primordials.NativeTypeError)(_messages.REDUCE_OF_EMPTY_ARRAY_WITH_NO_INITIAL_VALUE);\n    }\n\n    let accumulator, start;\n\n    if (opts.length === 0) {\n      accumulator = (0, _converter.convertToNumber)(float16bitsArray[length - 1]);\n      start = length - 2;\n    } else {\n      accumulator = opts[0];\n      start = length - 1;\n    }\n\n    for (let i = start; i >= 0; --i) {\n      accumulator = callback(accumulator, (0, _converter.convertToNumber)(float16bitsArray[i]), i, this);\n    }\n\n    return accumulator;\n  }\n\n  forEach(callback, ...opts) {\n    assertFloat16Array(this);\n    const float16bitsArray = getFloat16BitsArray(this);\n    const length = (0, _primordials.TypedArrayPrototypeGetLength)(float16bitsArray);\n    const thisArg = opts[0];\n\n    for (let i = 0; i < length; ++i) {\n      (0, _primordials.ReflectApply)(callback, thisArg, [(0, _converter.convertToNumber)(float16bitsArray[i]), i, this]);\n    }\n  }\n\n  find(callback, ...opts) {\n    assertFloat16Array(this);\n    const float16bitsArray = getFloat16BitsArray(this);\n    const length = (0, _primordials.TypedArrayPrototypeGetLength)(float16bitsArray);\n    const thisArg = opts[0];\n\n    for (let i = 0; i < length; ++i) {\n      const value = (0, _converter.convertToNumber)(float16bitsArray[i]);\n\n      if ((0, _primordials.ReflectApply)(callback, thisArg, [value, i, this])) {\n        return value;\n      }\n    }\n  }\n\n  findIndex(callback, ...opts) {\n    assertFloat16Array(this);\n    const float16bitsArray = getFloat16BitsArray(this);\n    const length = (0, _primordials.TypedArrayPrototypeGetLength)(float16bitsArray);\n    const thisArg = opts[0];\n\n    for (let i = 0; i < length; ++i) {\n      const value = (0, _converter.convertToNumber)(float16bitsArray[i]);\n\n      if ((0, _primordials.ReflectApply)(callback, thisArg, [value, i, this])) {\n        return i;\n      }\n    }\n\n    return -1;\n  }\n\n  findLast(callback, ...opts) {\n    assertFloat16Array(this);\n    const float16bitsArray = getFloat16BitsArray(this);\n    const length = (0, _primordials.TypedArrayPrototypeGetLength)(float16bitsArray);\n    const thisArg = opts[0];\n\n    for (let i = length - 1; i >= 0; --i) {\n      const value = (0, _converter.convertToNumber)(float16bitsArray[i]);\n\n      if ((0, _primordials.ReflectApply)(callback, thisArg, [value, i, this])) {\n        return value;\n      }\n    }\n  }\n\n  findLastIndex(callback, ...opts) {\n    assertFloat16Array(this);\n    const float16bitsArray = getFloat16BitsArray(this);\n    const length = (0, _primordials.TypedArrayPrototypeGetLength)(float16bitsArray);\n    const thisArg = opts[0];\n\n    for (let i = length - 1; i >= 0; --i) {\n      const value = (0, _converter.convertToNumber)(float16bitsArray[i]);\n\n      if ((0, _primordials.ReflectApply)(callback, thisArg, [value, i, this])) {\n        return i;\n      }\n    }\n\n    return -1;\n  }\n\n  every(callback, ...opts) {\n    assertFloat16Array(this);\n    const float16bitsArray = getFloat16BitsArray(this);\n    const length = (0, _primordials.TypedArrayPrototypeGetLength)(float16bitsArray);\n    const thisArg = opts[0];\n\n    for (let i = 0; i < length; ++i) {\n      if (!(0, _primordials.ReflectApply)(callback, thisArg, [(0, _converter.convertToNumber)(float16bitsArray[i]), i, this])) {\n        return false;\n      }\n    }\n\n    return true;\n  }\n\n  some(callback, ...opts) {\n    assertFloat16Array(this);\n    const float16bitsArray = getFloat16BitsArray(this);\n    const length = (0, _primordials.TypedArrayPrototypeGetLength)(float16bitsArray);\n    const thisArg = opts[0];\n\n    for (let i = 0; i < length; ++i) {\n      if ((0, _primordials.ReflectApply)(callback, thisArg, [(0, _converter.convertToNumber)(float16bitsArray[i]), i, this])) {\n        return true;\n      }\n    }\n\n    return false;\n  }\n\n  set(input, ...opts) {\n    assertFloat16Array(this);\n    const float16bitsArray = getFloat16BitsArray(this);\n    const targetOffset = (0, _spec.ToIntegerOrInfinity)(opts[0]);\n\n    if (targetOffset < 0) {\n      throw (0, _primordials.NativeRangeError)(_messages.OFFSET_IS_OUT_OF_BOUNDS);\n    }\n\n    if (input == null) {\n      throw (0, _primordials.NativeTypeError)(_messages.CANNOT_CONVERT_UNDEFINED_OR_NULL_TO_OBJECT);\n    }\n\n    if ((0, _is.isNativeBigIntTypedArray)(input)) {\n      throw (0, _primordials.NativeTypeError)(_messages.CANNOT_MIX_BIGINT_AND_OTHER_TYPES);\n    }\n\n    if (isFloat16Array(input)) {\n      return (0, _primordials.TypedArrayPrototypeSet)(getFloat16BitsArray(this), getFloat16BitsArray(input), targetOffset);\n    }\n\n    if ((0, _is.isNativeTypedArray)(input)) {\n      const buffer = (0, _primordials.TypedArrayPrototypeGetBuffer)(input);\n\n      if ((0, _spec.IsDetachedBuffer)(buffer)) {\n        throw (0, _primordials.NativeTypeError)(_messages.ATTEMPTING_TO_ACCESS_DETACHED_ARRAYBUFFER);\n      }\n    }\n\n    const targetLength = (0, _primordials.TypedArrayPrototypeGetLength)(float16bitsArray);\n    const src = (0, _primordials.NativeObject)(input);\n    const srcLength = (0, _spec.ToLength)(src.length);\n\n    if (targetOffset === Infinity || srcLength + targetOffset > targetLength) {\n      throw (0, _primordials.NativeRangeError)(_messages.OFFSET_IS_OUT_OF_BOUNDS);\n    }\n\n    for (let i = 0; i < srcLength; ++i) {\n      float16bitsArray[i + targetOffset] = (0, _converter.roundToFloat16Bits)(src[i]);\n    }\n  }\n\n  reverse() {\n    assertFloat16Array(this);\n    const float16bitsArray = getFloat16BitsArray(this);\n    (0, _primordials.TypedArrayPrototypeReverse)(float16bitsArray);\n    return this;\n  }\n\n  fill(value, ...opts) {\n    assertFloat16Array(this);\n    const float16bitsArray = getFloat16BitsArray(this);\n    (0, _primordials.TypedArrayPrototypeFill)(float16bitsArray, (0, _converter.roundToFloat16Bits)(value), ...(0, _arrayIterator.safeIfNeeded)(opts));\n    return this;\n  }\n\n  copyWithin(target, start, ...opts) {\n    assertFloat16Array(this);\n    const float16bitsArray = getFloat16BitsArray(this);\n    (0, _primordials.TypedArrayPrototypeCopyWithin)(float16bitsArray, target, start, ...(0, _arrayIterator.safeIfNeeded)(opts));\n    return this;\n  }\n\n  sort(compareFn) {\n    assertFloat16Array(this);\n    const float16bitsArray = getFloat16BitsArray(this);\n    const sortCompare = compareFn !== undefined ? compareFn : _spec.defaultCompare;\n    (0, _primordials.TypedArrayPrototypeSort)(float16bitsArray, (x, y) => {\n      return sortCompare((0, _converter.convertToNumber)(x), (0, _converter.convertToNumber)(y));\n    });\n    return this;\n  }\n\n  slice(start, end) {\n    assertFloat16Array(this);\n    const float16bitsArray = getFloat16BitsArray(this);\n    const Constructor = (0, _spec.SpeciesConstructor)(float16bitsArray, Float16Array);\n\n    if (Constructor === Float16Array) {\n      const uint16 = new _primordials.NativeUint16Array((0, _primordials.TypedArrayPrototypeGetBuffer)(float16bitsArray), (0, _primordials.TypedArrayPrototypeGetByteOffset)(float16bitsArray), (0, _primordials.TypedArrayPrototypeGetLength)(float16bitsArray));\n      return new Float16Array((0, _primordials.TypedArrayPrototypeGetBuffer)((0, _primordials.TypedArrayPrototypeSlice)(uint16, start, end)));\n    }\n\n    const length = (0, _primordials.TypedArrayPrototypeGetLength)(float16bitsArray);\n    const relativeStart = (0, _spec.ToIntegerOrInfinity)(start);\n    const relativeEnd = end === undefined ? length : (0, _spec.ToIntegerOrInfinity)(end);\n    let k;\n\n    if (relativeStart === -Infinity) {\n      k = 0;\n    } else if (relativeStart < 0) {\n      k = length + relativeStart > 0 ? length + relativeStart : 0;\n    } else {\n      k = length < relativeStart ? length : relativeStart;\n    }\n\n    let final;\n\n    if (relativeEnd === -Infinity) {\n      final = 0;\n    } else if (relativeEnd < 0) {\n      final = length + relativeEnd > 0 ? length + relativeEnd : 0;\n    } else {\n      final = length < relativeEnd ? length : relativeEnd;\n    }\n\n    const count = final - k > 0 ? final - k : 0;\n    const array = new Constructor(count);\n    assertSpeciesTypedArray(array, count);\n\n    if (count === 0) {\n      return array;\n    }\n\n    const buffer = (0, _primordials.TypedArrayPrototypeGetBuffer)(float16bitsArray);\n\n    if ((0, _spec.IsDetachedBuffer)(buffer)) {\n      throw (0, _primordials.NativeTypeError)(_messages.ATTEMPTING_TO_ACCESS_DETACHED_ARRAYBUFFER);\n    }\n\n    let n = 0;\n\n    while (k < final) {\n      array[n] = (0, _converter.convertToNumber)(float16bitsArray[k]);\n      ++k;\n      ++n;\n    }\n\n    return array;\n  }\n\n  subarray(begin, end) {\n    assertFloat16Array(this);\n    const float16bitsArray = getFloat16BitsArray(this);\n    const Constructor = (0, _spec.SpeciesConstructor)(float16bitsArray, Float16Array);\n    const uint16 = new _primordials.NativeUint16Array((0, _primordials.TypedArrayPrototypeGetBuffer)(float16bitsArray), (0, _primordials.TypedArrayPrototypeGetByteOffset)(float16bitsArray), (0, _primordials.TypedArrayPrototypeGetLength)(float16bitsArray));\n    const uint16Subarray = (0, _primordials.TypedArrayPrototypeSubarray)(uint16, begin, end);\n    const array = new Constructor((0, _primordials.TypedArrayPrototypeGetBuffer)(uint16Subarray), (0, _primordials.TypedArrayPrototypeGetByteOffset)(uint16Subarray), (0, _primordials.TypedArrayPrototypeGetLength)(uint16Subarray));\n    assertSpeciesTypedArray(array);\n    return array;\n  }\n\n  indexOf(element, ...opts) {\n    assertFloat16Array(this);\n    const float16bitsArray = getFloat16BitsArray(this);\n    const length = (0, _primordials.TypedArrayPrototypeGetLength)(float16bitsArray);\n    let from = (0, _spec.ToIntegerOrInfinity)(opts[0]);\n\n    if (from === Infinity) {\n      return -1;\n    }\n\n    if (from < 0) {\n      from += length;\n\n      if (from < 0) {\n        from = 0;\n      }\n    }\n\n    for (let i = from; i < length; ++i) {\n      if ((0, _primordials.ObjectHasOwn)(float16bitsArray, i) && (0, _converter.convertToNumber)(float16bitsArray[i]) === element) {\n        return i;\n      }\n    }\n\n    return -1;\n  }\n\n  lastIndexOf(element, ...opts) {\n    assertFloat16Array(this);\n    const float16bitsArray = getFloat16BitsArray(this);\n    const length = (0, _primordials.TypedArrayPrototypeGetLength)(float16bitsArray);\n    let from = opts.length >= 1 ? (0, _spec.ToIntegerOrInfinity)(opts[0]) : length - 1;\n\n    if (from === -Infinity) {\n      return -1;\n    }\n\n    if (from >= 0) {\n      from = from < length - 1 ? from : length - 1;\n    } else {\n      from += length;\n    }\n\n    for (let i = from; i >= 0; --i) {\n      if ((0, _primordials.ObjectHasOwn)(float16bitsArray, i) && (0, _converter.convertToNumber)(float16bitsArray[i]) === element) {\n        return i;\n      }\n    }\n\n    return -1;\n  }\n\n  includes(element, ...opts) {\n    assertFloat16Array(this);\n    const float16bitsArray = getFloat16BitsArray(this);\n    const length = (0, _primordials.TypedArrayPrototypeGetLength)(float16bitsArray);\n    let from = (0, _spec.ToIntegerOrInfinity)(opts[0]);\n\n    if (from === Infinity) {\n      return false;\n    }\n\n    if (from < 0) {\n      from += length;\n\n      if (from < 0) {\n        from = 0;\n      }\n    }\n\n    const isNaN = (0, _primordials.NumberIsNaN)(element);\n\n    for (let i = from; i < length; ++i) {\n      const value = (0, _converter.convertToNumber)(float16bitsArray[i]);\n\n      if (isNaN && (0, _primordials.NumberIsNaN)(value)) {\n        return true;\n      }\n\n      if (value === element) {\n        return true;\n      }\n    }\n\n    return false;\n  }\n\n  join(separator) {\n    assertFloat16Array(this);\n    const float16bitsArray = getFloat16BitsArray(this);\n    const array = copyToArray(float16bitsArray);\n    return (0, _primordials.ArrayPrototypeJoin)(array, separator);\n  }\n\n  toLocaleString(...opts) {\n    assertFloat16Array(this);\n    const float16bitsArray = getFloat16BitsArray(this);\n    const array = copyToArray(float16bitsArray);\n    return (0, _primordials.ArrayPrototypeToLocaleString)(array, ...(0, _arrayIterator.safeIfNeeded)(opts));\n  }\n\n  get [_primordials.SymbolToStringTag]() {\n    if (isFloat16Array(this)) {\n      return \"Float16Array\";\n    }\n  }\n\n}\n\nexports.Float16Array = Float16Array;\n(0, _primordials.ObjectDefineProperty)(Float16Array, \"BYTES_PER_ELEMENT\", {\n  value: BYTES_PER_ELEMENT\n});\n(0, _primordials.ObjectDefineProperty)(Float16Array, _brand.brand, {});\n(0, _primordials.ReflectSetPrototypeOf)(Float16Array, _primordials.TypedArray);\nconst Float16ArrayPrototype = Float16Array.prototype;\n(0, _primordials.ObjectDefineProperty)(Float16ArrayPrototype, \"BYTES_PER_ELEMENT\", {\n  value: BYTES_PER_ELEMENT\n});\n(0, _primordials.ObjectDefineProperty)(Float16ArrayPrototype, _primordials.SymbolIterator, {\n  value: Float16ArrayPrototype.values,\n  writable: true,\n  configurable: true\n});\n(0, _primordials.ReflectSetPrototypeOf)(Float16ArrayPrototype, _primordials.TypedArrayPrototype);","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.safeIfNeeded = safeIfNeeded;\nexports.wrap = wrap;\n\nvar _primordials = require(\"./primordials.cjs\");\n\nconst arrayIterators = new _primordials.NativeWeakMap();\nconst SafeIteratorPrototype = (0, _primordials.ObjectCreate)(null, {\n  next: {\n    value: function next() {\n      const arrayIterator = (0, _primordials.WeakMapPrototypeGet)(arrayIterators, this);\n      return (0, _primordials.ArrayIteratorPrototypeNext)(arrayIterator);\n    }\n  },\n  [_primordials.SymbolIterator]: {\n    value: function values() {\n      return this;\n    }\n  }\n});\n\nfunction safeIfNeeded(array) {\n  if (array[_primordials.SymbolIterator] === _primordials.NativeArrayPrototypeSymbolIterator) {\n    return array;\n  }\n\n  const safe = (0, _primordials.ObjectCreate)(SafeIteratorPrototype);\n  (0, _primordials.WeakMapPrototypeSet)(arrayIterators, safe, (0, _primordials.ArrayPrototypeSymbolIterator)(array));\n  return safe;\n}\n\nconst generators = new _primordials.NativeWeakMap();\nconst DummyArrayIteratorPrototype = (0, _primordials.ObjectCreate)(_primordials.IteratorPrototype, {\n  next: {\n    value: function next() {\n      const generator = (0, _primordials.WeakMapPrototypeGet)(generators, this);\n      return (0, _primordials.GeneratorPrototypeNext)(generator);\n    },\n    writable: true,\n    configurable: true\n  }\n});\n\nfor (const key of (0, _primordials.ReflectOwnKeys)(_primordials.ArrayIteratorPrototype)) {\n  if (key === \"next\") {\n    continue;\n  }\n\n  (0, _primordials.ObjectDefineProperty)(DummyArrayIteratorPrototype, key, (0, _primordials.ReflectGetOwnPropertyDescriptor)(_primordials.ArrayIteratorPrototype, key));\n}\n\nfunction wrap(generator) {\n  const dummy = (0, _primordials.ObjectCreate)(DummyArrayIteratorPrototype);\n  (0, _primordials.WeakMapPrototypeSet)(generators, dummy, generator);\n  return dummy;\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.hasFloat16ArrayBrand = hasFloat16ArrayBrand;\n\nvar _is = require(\"./is.cjs\");\n\nvar _messages = require(\"./messages.cjs\");\n\nvar _primordials = require(\"./primordials.cjs\");\n\nconst brand = (0, _primordials.SymbolFor)(\"__Float16Array__\");\nexports.brand = brand;\n\nfunction hasFloat16ArrayBrand(target) {\n  if (!(0, _is.isObjectLike)(target)) {\n    return false;\n  }\n\n  const prototype = (0, _primordials.ReflectGetPrototypeOf)(target);\n\n  if (!(0, _is.isObjectLike)(prototype)) {\n    return false;\n  }\n\n  const constructor = prototype.constructor;\n\n  if (constructor === undefined) {\n    return false;\n  }\n\n  if (!(0, _is.isObject)(constructor)) {\n    throw (0, _primordials.NativeTypeError)(_messages.THE_CONSTRUCTOR_PROPERTY_VALUE_IS_NOT_AN_OBJECT);\n  }\n\n  return (0, _primordials.ReflectHas)(constructor, brand);\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.convertToNumber = convertToNumber;\nexports.roundToFloat16Bits = roundToFloat16Bits;\n\nvar _primordials = require(\"./primordials.cjs\");\n\nconst buffer = new _primordials.NativeArrayBuffer(4);\nconst floatView = new _primordials.NativeFloat32Array(buffer);\nconst uint32View = new _primordials.NativeUint32Array(buffer);\nconst baseTable = new _primordials.NativeUint32Array(512);\nconst shiftTable = new _primordials.NativeUint32Array(512);\n\nfor (let i = 0; i < 256; ++i) {\n  const e = i - 127;\n\n  if (e < -27) {\n    baseTable[i] = 0x0000;\n    baseTable[i | 0x100] = 0x8000;\n    shiftTable[i] = 24;\n    shiftTable[i | 0x100] = 24;\n  } else if (e < -14) {\n    baseTable[i] = 0x0400 >> -e - 14;\n    baseTable[i | 0x100] = 0x0400 >> -e - 14 | 0x8000;\n    shiftTable[i] = -e - 1;\n    shiftTable[i | 0x100] = -e - 1;\n  } else if (e <= 15) {\n    baseTable[i] = e + 15 << 10;\n    baseTable[i | 0x100] = e + 15 << 10 | 0x8000;\n    shiftTable[i] = 13;\n    shiftTable[i | 0x100] = 13;\n  } else if (e < 128) {\n    baseTable[i] = 0x7c00;\n    baseTable[i | 0x100] = 0xfc00;\n    shiftTable[i] = 24;\n    shiftTable[i | 0x100] = 24;\n  } else {\n    baseTable[i] = 0x7c00;\n    baseTable[i | 0x100] = 0xfc00;\n    shiftTable[i] = 13;\n    shiftTable[i | 0x100] = 13;\n  }\n}\n\nfunction roundToFloat16Bits(num) {\n  floatView[0] = num;\n  const f = uint32View[0];\n  const e = f >> 23 & 0x1ff;\n  return baseTable[e] + ((f & 0x007fffff) >> shiftTable[e]);\n}\n\nconst mantissaTable = new _primordials.NativeUint32Array(2048);\nconst exponentTable = new _primordials.NativeUint32Array(64);\nconst offsetTable = new _primordials.NativeUint32Array(64);\n\nfor (let i = 1; i < 1024; ++i) {\n  let m = i << 13;\n  let e = 0;\n\n  while ((m & 0x00800000) === 0) {\n    m <<= 1;\n    e -= 0x00800000;\n  }\n\n  m &= ~0x00800000;\n  e += 0x38800000;\n  mantissaTable[i] = m | e;\n}\n\nfor (let i = 1024; i < 2048; ++i) {\n  mantissaTable[i] = 0x38000000 + (i - 1024 << 13);\n}\n\nfor (let i = 1; i < 31; ++i) {\n  exponentTable[i] = i << 23;\n}\n\nexponentTable[31] = 0x47800000;\nexponentTable[32] = 0x80000000;\n\nfor (let i = 33; i < 63; ++i) {\n  exponentTable[i] = 0x80000000 + (i - 32 << 23);\n}\n\nexponentTable[63] = 0xc7800000;\n\nfor (let i = 1; i < 64; ++i) {\n  if (i !== 32) {\n    offsetTable[i] = 1024;\n  }\n}\n\nfunction convertToNumber(float16bits) {\n  const m = float16bits >> 10;\n  uint32View[0] = mantissaTable[offsetTable[m] + (float16bits & 0x3ff)] + exponentTable[m];\n  return floatView[0];\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.isArrayBuffer = isArrayBuffer;\nexports.isCanonicalIntegerIndexString = isCanonicalIntegerIndexString;\nexports.isNativeBigIntTypedArray = isNativeBigIntTypedArray;\nexports.isNativeTypedArray = isNativeTypedArray;\nexports.isObject = isObject;\nexports.isObjectLike = isObjectLike;\nexports.isOrdinaryArray = isOrdinaryArray;\nexports.isOrdinaryNativeTypedArray = isOrdinaryNativeTypedArray;\nexports.isSharedArrayBuffer = isSharedArrayBuffer;\n\nvar _primordials = require(\"./primordials.cjs\");\n\nfunction isObject(value) {\n  return value !== null && typeof value === \"object\" || typeof value === \"function\";\n}\n\nfunction isObjectLike(value) {\n  return value !== null && typeof value === \"object\";\n}\n\nfunction isNativeTypedArray(value) {\n  return (0, _primordials.TypedArrayPrototypeGetSymbolToStringTag)(value) !== undefined;\n}\n\nfunction isNativeBigIntTypedArray(value) {\n  const typedArrayName = (0, _primordials.TypedArrayPrototypeGetSymbolToStringTag)(value);\n  return typedArrayName === \"BigInt64Array\" || typedArrayName === \"BigUint64Array\";\n}\n\nfunction isArrayBuffer(value) {\n  try {\n    (0, _primordials.ArrayBufferPrototypeGetByteLength)(value);\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction isSharedArrayBuffer(value) {\n  if (_primordials.NativeSharedArrayBuffer === null) {\n    return false;\n  }\n\n  try {\n    (0, _primordials.SharedArrayBufferPrototypeGetByteLength)(value);\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction isOrdinaryArray(value) {\n  if (!(0, _primordials.ArrayIsArray)(value)) {\n    return false;\n  }\n\n  if (value[_primordials.SymbolIterator] === _primordials.NativeArrayPrototypeSymbolIterator) {\n    return true;\n  }\n\n  const iterator = value[_primordials.SymbolIterator]();\n\n  return iterator[_primordials.SymbolToStringTag] === \"Array Iterator\";\n}\n\nfunction isOrdinaryNativeTypedArray(value) {\n  if (!isNativeTypedArray(value)) {\n    return false;\n  }\n\n  if (value[_primordials.SymbolIterator] === _primordials.NativeTypedArrayPrototypeSymbolIterator) {\n    return true;\n  }\n\n  const iterator = value[_primordials.SymbolIterator]();\n\n  return iterator[_primordials.SymbolToStringTag] === \"Array Iterator\";\n}\n\nfunction isCanonicalIntegerIndexString(value) {\n  if (typeof value !== \"string\") {\n    return false;\n  }\n\n  const number = +value;\n\n  if (value !== number + \"\") {\n    return false;\n  }\n\n  if (!(0, _primordials.NumberIsFinite)(number)) {\n    return false;\n  }\n\n  return number === (0, _primordials.MathTrunc)(number);\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nconst THIS_IS_NOT_AN_OBJECT = \"This is not an object\";\nexports.THIS_IS_NOT_AN_OBJECT = THIS_IS_NOT_AN_OBJECT;\nconst THIS_IS_NOT_A_FLOAT16ARRAY_OBJECT = \"This is not a Float16Array object\";\nexports.THIS_IS_NOT_A_FLOAT16ARRAY_OBJECT = THIS_IS_NOT_A_FLOAT16ARRAY_OBJECT;\nconst THIS_CONSTRUCTOR_IS_NOT_A_SUBCLASS_OF_FLOAT16ARRAY = \"This constructor is not a subclass of Float16Array\";\nexports.THIS_CONSTRUCTOR_IS_NOT_A_SUBCLASS_OF_FLOAT16ARRAY = THIS_CONSTRUCTOR_IS_NOT_A_SUBCLASS_OF_FLOAT16ARRAY;\nconst THE_CONSTRUCTOR_PROPERTY_VALUE_IS_NOT_AN_OBJECT = \"The constructor property value is not an object\";\nexports.THE_CONSTRUCTOR_PROPERTY_VALUE_IS_NOT_AN_OBJECT = THE_CONSTRUCTOR_PROPERTY_VALUE_IS_NOT_AN_OBJECT;\nconst SPECIES_CONSTRUCTOR_DIDNT_RETURN_TYPEDARRAY_OBJECT = \"Species constructor didn't return TypedArray object\";\nexports.SPECIES_CONSTRUCTOR_DIDNT_RETURN_TYPEDARRAY_OBJECT = SPECIES_CONSTRUCTOR_DIDNT_RETURN_TYPEDARRAY_OBJECT;\nconst DERIVED_CONSTRUCTOR_CREATED_TYPEDARRAY_OBJECT_WHICH_WAS_TOO_SMALL_LENGTH = \"Derived constructor created TypedArray object which was too small length\";\nexports.DERIVED_CONSTRUCTOR_CREATED_TYPEDARRAY_OBJECT_WHICH_WAS_TOO_SMALL_LENGTH = DERIVED_CONSTRUCTOR_CREATED_TYPEDARRAY_OBJECT_WHICH_WAS_TOO_SMALL_LENGTH;\nconst ATTEMPTING_TO_ACCESS_DETACHED_ARRAYBUFFER = \"Attempting to access detached ArrayBuffer\";\nexports.ATTEMPTING_TO_ACCESS_DETACHED_ARRAYBUFFER = ATTEMPTING_TO_ACCESS_DETACHED_ARRAYBUFFER;\nconst CANNOT_CONVERT_UNDEFINED_OR_NULL_TO_OBJECT = \"Cannot convert undefined or null to object\";\nexports.CANNOT_CONVERT_UNDEFINED_OR_NULL_TO_OBJECT = CANNOT_CONVERT_UNDEFINED_OR_NULL_TO_OBJECT;\nconst CANNOT_MIX_BIGINT_AND_OTHER_TYPES = \"Cannot mix BigInt and other types, use explicit conversions\";\nexports.CANNOT_MIX_BIGINT_AND_OTHER_TYPES = CANNOT_MIX_BIGINT_AND_OTHER_TYPES;\nconst ITERATOR_PROPERTY_IS_NOT_CALLABLE = \"@@iterator property is not callable\";\nexports.ITERATOR_PROPERTY_IS_NOT_CALLABLE = ITERATOR_PROPERTY_IS_NOT_CALLABLE;\nconst REDUCE_OF_EMPTY_ARRAY_WITH_NO_INITIAL_VALUE = \"Reduce of empty array with no initial value\";\nexports.REDUCE_OF_EMPTY_ARRAY_WITH_NO_INITIAL_VALUE = REDUCE_OF_EMPTY_ARRAY_WITH_NO_INITIAL_VALUE;\nconst OFFSET_IS_OUT_OF_BOUNDS = \"Offset is out of bounds\";\nexports.OFFSET_IS_OUT_OF_BOUNDS = OFFSET_IS_OUT_OF_BOUNDS;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _messages = require(\"./messages.cjs\");\n\nfunction uncurryThis(target) {\n  return (thisArg, ...args) => {\n    return ReflectApply(target, thisArg, args);\n  };\n}\n\nfunction uncurryThisGetter(target, key) {\n  return uncurryThis(ReflectGetOwnPropertyDescriptor(target, key).get);\n}\n\nconst {\n  apply: ReflectApply,\n  construct: ReflectConstruct,\n  defineProperty: ReflectDefineProperty,\n  get: ReflectGet,\n  getOwnPropertyDescriptor: ReflectGetOwnPropertyDescriptor,\n  getPrototypeOf: ReflectGetPrototypeOf,\n  has: ReflectHas,\n  ownKeys: ReflectOwnKeys,\n  set: ReflectSet,\n  setPrototypeOf: ReflectSetPrototypeOf\n} = Reflect;\nexports.ReflectSetPrototypeOf = ReflectSetPrototypeOf;\nexports.ReflectSet = ReflectSet;\nexports.ReflectOwnKeys = ReflectOwnKeys;\nexports.ReflectHas = ReflectHas;\nexports.ReflectGetPrototypeOf = ReflectGetPrototypeOf;\nexports.ReflectGetOwnPropertyDescriptor = ReflectGetOwnPropertyDescriptor;\nexports.ReflectGet = ReflectGet;\nexports.ReflectDefineProperty = ReflectDefineProperty;\nexports.ReflectConstruct = ReflectConstruct;\nexports.ReflectApply = ReflectApply;\nconst NativeProxy = Proxy;\nexports.NativeProxy = NativeProxy;\nconst {\n  MAX_SAFE_INTEGER: MAX_SAFE_INTEGER,\n  isFinite: NumberIsFinite,\n  isNaN: NumberIsNaN\n} = Number;\nexports.NumberIsNaN = NumberIsNaN;\nexports.NumberIsFinite = NumberIsFinite;\nexports.MAX_SAFE_INTEGER = MAX_SAFE_INTEGER;\nconst {\n  iterator: SymbolIterator,\n  species: SymbolSpecies,\n  toStringTag: SymbolToStringTag,\n  for: SymbolFor\n} = Symbol;\nexports.SymbolFor = SymbolFor;\nexports.SymbolToStringTag = SymbolToStringTag;\nexports.SymbolSpecies = SymbolSpecies;\nexports.SymbolIterator = SymbolIterator;\nconst NativeObject = Object;\nexports.NativeObject = NativeObject;\nconst {\n  create: ObjectCreate,\n  defineProperty: ObjectDefineProperty,\n  freeze: ObjectFreeze,\n  is: ObjectIs\n} = NativeObject;\nexports.ObjectIs = ObjectIs;\nexports.ObjectFreeze = ObjectFreeze;\nexports.ObjectDefineProperty = ObjectDefineProperty;\nexports.ObjectCreate = ObjectCreate;\nconst ObjectPrototype = NativeObject.prototype;\nconst ObjectPrototype__lookupGetter__ = ObjectPrototype.__lookupGetter__ ? uncurryThis(ObjectPrototype.__lookupGetter__) : (object, key) => {\n  if (object == null) {\n    throw NativeTypeError(_messages.CANNOT_CONVERT_UNDEFINED_OR_NULL_TO_OBJECT);\n  }\n\n  let target = NativeObject(object);\n\n  do {\n    const descriptor = ReflectGetOwnPropertyDescriptor(target, key);\n\n    if (descriptor !== undefined) {\n      if (ObjectHasOwn(descriptor, \"get\")) {\n        return descriptor.get;\n      }\n\n      return;\n    }\n  } while ((target = ReflectGetPrototypeOf(target)) !== null);\n};\nexports.ObjectPrototype__lookupGetter__ = ObjectPrototype__lookupGetter__;\nconst ObjectHasOwn = NativeObject.hasOwn || uncurryThis(ObjectPrototype.hasOwnProperty);\nexports.ObjectHasOwn = ObjectHasOwn;\nconst NativeArray = Array;\nconst ArrayIsArray = NativeArray.isArray;\nexports.ArrayIsArray = ArrayIsArray;\nconst ArrayPrototype = NativeArray.prototype;\nconst ArrayPrototypeJoin = uncurryThis(ArrayPrototype.join);\nexports.ArrayPrototypeJoin = ArrayPrototypeJoin;\nconst ArrayPrototypePush = uncurryThis(ArrayPrototype.push);\nexports.ArrayPrototypePush = ArrayPrototypePush;\nconst ArrayPrototypeToLocaleString = uncurryThis(ArrayPrototype.toLocaleString);\nexports.ArrayPrototypeToLocaleString = ArrayPrototypeToLocaleString;\nconst NativeArrayPrototypeSymbolIterator = ArrayPrototype[SymbolIterator];\nexports.NativeArrayPrototypeSymbolIterator = NativeArrayPrototypeSymbolIterator;\nconst ArrayPrototypeSymbolIterator = uncurryThis(NativeArrayPrototypeSymbolIterator);\nexports.ArrayPrototypeSymbolIterator = ArrayPrototypeSymbolIterator;\nconst MathTrunc = Math.trunc;\nexports.MathTrunc = MathTrunc;\nconst NativeArrayBuffer = ArrayBuffer;\nexports.NativeArrayBuffer = NativeArrayBuffer;\nconst ArrayBufferIsView = NativeArrayBuffer.isView;\nexports.ArrayBufferIsView = ArrayBufferIsView;\nconst ArrayBufferPrototype = NativeArrayBuffer.prototype;\nconst ArrayBufferPrototypeSlice = uncurryThis(ArrayBufferPrototype.slice);\nexports.ArrayBufferPrototypeSlice = ArrayBufferPrototypeSlice;\nconst ArrayBufferPrototypeGetByteLength = uncurryThisGetter(ArrayBufferPrototype, \"byteLength\");\nexports.ArrayBufferPrototypeGetByteLength = ArrayBufferPrototypeGetByteLength;\nconst NativeSharedArrayBuffer = typeof SharedArrayBuffer !== \"undefined\" ? SharedArrayBuffer : null;\nexports.NativeSharedArrayBuffer = NativeSharedArrayBuffer;\nconst SharedArrayBufferPrototypeGetByteLength = NativeSharedArrayBuffer && uncurryThisGetter(NativeSharedArrayBuffer.prototype, \"byteLength\");\nexports.SharedArrayBufferPrototypeGetByteLength = SharedArrayBufferPrototypeGetByteLength;\nconst TypedArray = ReflectGetPrototypeOf(Uint8Array);\nexports.TypedArray = TypedArray;\nconst TypedArrayFrom = TypedArray.from;\nconst TypedArrayPrototype = TypedArray.prototype;\nexports.TypedArrayPrototype = TypedArrayPrototype;\nconst NativeTypedArrayPrototypeSymbolIterator = TypedArrayPrototype[SymbolIterator];\nexports.NativeTypedArrayPrototypeSymbolIterator = NativeTypedArrayPrototypeSymbolIterator;\nconst TypedArrayPrototypeKeys = uncurryThis(TypedArrayPrototype.keys);\nexports.TypedArrayPrototypeKeys = TypedArrayPrototypeKeys;\nconst TypedArrayPrototypeValues = uncurryThis(TypedArrayPrototype.values);\nexports.TypedArrayPrototypeValues = TypedArrayPrototypeValues;\nconst TypedArrayPrototypeEntries = uncurryThis(TypedArrayPrototype.entries);\nexports.TypedArrayPrototypeEntries = TypedArrayPrototypeEntries;\nconst TypedArrayPrototypeSet = uncurryThis(TypedArrayPrototype.set);\nexports.TypedArrayPrototypeSet = TypedArrayPrototypeSet;\nconst TypedArrayPrototypeReverse = uncurryThis(TypedArrayPrototype.reverse);\nexports.TypedArrayPrototypeReverse = TypedArrayPrototypeReverse;\nconst TypedArrayPrototypeFill = uncurryThis(TypedArrayPrototype.fill);\nexports.TypedArrayPrototypeFill = TypedArrayPrototypeFill;\nconst TypedArrayPrototypeCopyWithin = uncurryThis(TypedArrayPrototype.copyWithin);\nexports.TypedArrayPrototypeCopyWithin = TypedArrayPrototypeCopyWithin;\nconst TypedArrayPrototypeSort = uncurryThis(TypedArrayPrototype.sort);\nexports.TypedArrayPrototypeSort = TypedArrayPrototypeSort;\nconst TypedArrayPrototypeSlice = uncurryThis(TypedArrayPrototype.slice);\nexports.TypedArrayPrototypeSlice = TypedArrayPrototypeSlice;\nconst TypedArrayPrototypeSubarray = uncurryThis(TypedArrayPrototype.subarray);\nexports.TypedArrayPrototypeSubarray = TypedArrayPrototypeSubarray;\nconst TypedArrayPrototypeGetBuffer = uncurryThisGetter(TypedArrayPrototype, \"buffer\");\nexports.TypedArrayPrototypeGetBuffer = TypedArrayPrototypeGetBuffer;\nconst TypedArrayPrototypeGetByteOffset = uncurryThisGetter(TypedArrayPrototype, \"byteOffset\");\nexports.TypedArrayPrototypeGetByteOffset = TypedArrayPrototypeGetByteOffset;\nconst TypedArrayPrototypeGetLength = uncurryThisGetter(TypedArrayPrototype, \"length\");\nexports.TypedArrayPrototypeGetLength = TypedArrayPrototypeGetLength;\nconst TypedArrayPrototypeGetSymbolToStringTag = uncurryThisGetter(TypedArrayPrototype, SymbolToStringTag);\nexports.TypedArrayPrototypeGetSymbolToStringTag = TypedArrayPrototypeGetSymbolToStringTag;\nconst NativeUint16Array = Uint16Array;\nexports.NativeUint16Array = NativeUint16Array;\n\nconst Uint16ArrayFrom = (...args) => {\n  return ReflectApply(TypedArrayFrom, NativeUint16Array, args);\n};\n\nexports.Uint16ArrayFrom = Uint16ArrayFrom;\nconst NativeUint32Array = Uint32Array;\nexports.NativeUint32Array = NativeUint32Array;\nconst NativeFloat32Array = Float32Array;\nexports.NativeFloat32Array = NativeFloat32Array;\nconst ArrayIteratorPrototype = ReflectGetPrototypeOf([][SymbolIterator]());\nexports.ArrayIteratorPrototype = ArrayIteratorPrototype;\nconst ArrayIteratorPrototypeNext = uncurryThis(ArrayIteratorPrototype.next);\nexports.ArrayIteratorPrototypeNext = ArrayIteratorPrototypeNext;\nconst GeneratorPrototypeNext = uncurryThis(function* () {}().next);\nexports.GeneratorPrototypeNext = GeneratorPrototypeNext;\nconst IteratorPrototype = ReflectGetPrototypeOf(ArrayIteratorPrototype);\nexports.IteratorPrototype = IteratorPrototype;\nconst DataViewPrototype = DataView.prototype;\nconst DataViewPrototypeGetUint16 = uncurryThis(DataViewPrototype.getUint16);\nexports.DataViewPrototypeGetUint16 = DataViewPrototypeGetUint16;\nconst DataViewPrototypeSetUint16 = uncurryThis(DataViewPrototype.setUint16);\nexports.DataViewPrototypeSetUint16 = DataViewPrototypeSetUint16;\nconst NativeTypeError = TypeError;\nexports.NativeTypeError = NativeTypeError;\nconst NativeRangeError = RangeError;\nexports.NativeRangeError = NativeRangeError;\nconst NativeWeakSet = WeakSet;\nexports.NativeWeakSet = NativeWeakSet;\nconst WeakSetPrototype = NativeWeakSet.prototype;\nconst WeakSetPrototypeAdd = uncurryThis(WeakSetPrototype.add);\nexports.WeakSetPrototypeAdd = WeakSetPrototypeAdd;\nconst WeakSetPrototypeHas = uncurryThis(WeakSetPrototype.has);\nexports.WeakSetPrototypeHas = WeakSetPrototypeHas;\nconst NativeWeakMap = WeakMap;\nexports.NativeWeakMap = NativeWeakMap;\nconst WeakMapPrototype = NativeWeakMap.prototype;\nconst WeakMapPrototypeGet = uncurryThis(WeakMapPrototype.get);\nexports.WeakMapPrototypeGet = WeakMapPrototypeGet;\nconst WeakMapPrototypeHas = uncurryThis(WeakMapPrototype.has);\nexports.WeakMapPrototypeHas = WeakMapPrototypeHas;\nconst WeakMapPrototypeSet = uncurryThis(WeakMapPrototype.set);\nexports.WeakMapPrototypeSet = WeakMapPrototypeSet;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.IsDetachedBuffer = IsDetachedBuffer;\nexports.SpeciesConstructor = SpeciesConstructor;\nexports.ToIntegerOrInfinity = ToIntegerOrInfinity;\nexports.ToLength = ToLength;\nexports.defaultCompare = defaultCompare;\n\nvar _is = require(\"./is.cjs\");\n\nvar _messages = require(\"./messages.cjs\");\n\nvar _primordials = require(\"./primordials.cjs\");\n\nfunction ToIntegerOrInfinity(target) {\n  const number = +target;\n\n  if ((0, _primordials.NumberIsNaN)(number) || number === 0) {\n    return 0;\n  }\n\n  return (0, _primordials.MathTrunc)(number);\n}\n\nfunction ToLength(target) {\n  const length = ToIntegerOrInfinity(target);\n\n  if (length < 0) {\n    return 0;\n  }\n\n  return length < _primordials.MAX_SAFE_INTEGER ? length : _primordials.MAX_SAFE_INTEGER;\n}\n\nfunction SpeciesConstructor(target, defaultConstructor) {\n  if (!(0, _is.isObject)(target)) {\n    throw (0, _primordials.NativeTypeError)(_messages.THIS_IS_NOT_AN_OBJECT);\n  }\n\n  const constructor = target.constructor;\n\n  if (constructor === undefined) {\n    return defaultConstructor;\n  }\n\n  if (!(0, _is.isObject)(constructor)) {\n    throw (0, _primordials.NativeTypeError)(_messages.THE_CONSTRUCTOR_PROPERTY_VALUE_IS_NOT_AN_OBJECT);\n  }\n\n  const species = constructor[_primordials.SymbolSpecies];\n\n  if (species == null) {\n    return defaultConstructor;\n  }\n\n  return species;\n}\n\nfunction IsDetachedBuffer(buffer) {\n  if ((0, _is.isSharedArrayBuffer)(buffer)) {\n    return false;\n  }\n\n  try {\n    (0, _primordials.ArrayBufferPrototypeSlice)(buffer, 0, 0);\n    return false;\n  } catch (e) {}\n\n  return true;\n}\n\nfunction defaultCompare(x, y) {\n  const isXNaN = (0, _primordials.NumberIsNaN)(x);\n  const isYNaN = (0, _primordials.NumberIsNaN)(y);\n\n  if (isXNaN && isYNaN) {\n    return 0;\n  }\n\n  if (isXNaN) {\n    return 1;\n  }\n\n  if (isYNaN) {\n    return -1;\n  }\n\n  if (x < y) {\n    return -1;\n  }\n\n  if (x > y) {\n    return 1;\n  }\n\n  if (x === 0 && y === 0) {\n    const isXPlusZero = (0, _primordials.ObjectIs)(x, 0);\n    const isYPlusZero = (0, _primordials.ObjectIs)(y, 0);\n\n    if (!isXPlusZero && isYPlusZero) {\n      return -1;\n    }\n\n    if (isXPlusZero && !isYPlusZero) {\n      return 1;\n    }\n  }\n\n  return 0;\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.hfround = hfround;\n\nvar _converter = require(\"./_util/converter.cjs\");\n\nvar _primordials = require(\"./_util/primordials.cjs\");\n\nfunction hfround(x) {\n  const number = +x;\n\n  if (!(0, _primordials.NumberIsFinite)(number) || number === 0) {\n    return number;\n  }\n\n  const x16 = (0, _converter.roundToFloat16Bits)(number);\n  return (0, _converter.convertToNumber)(x16);\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _Float16Array = require(\"./Float16Array.cjs\");\n\nexports.Float16Array = _Float16Array.Float16Array;\nexports.isFloat16Array = _Float16Array.isFloat16Array;\n\nvar _isTypedArray = require(\"./isTypedArray.cjs\");\n\nexports.isTypedArray = _isTypedArray.isTypedArray;\n\nvar _DataView = require(\"./DataView.cjs\");\n\nexports.getFloat16 = _DataView.getFloat16;\nexports.setFloat16 = _DataView.setFloat16;\n\nvar _hfround = require(\"./hfround.cjs\");\n\nexports.hfround = _hfround.hfround;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.isTypedArray = isTypedArray;\n\nvar _Float16Array = require(\"./Float16Array.cjs\");\n\nvar _is = require(\"./_util/is.cjs\");\n\nfunction isTypedArray(target) {\n  return (0, _is.isNativeTypedArray)(target) || (0, _Float16Array.isFloat16Array)(target);\n}","/**\n * web-streams-polyfill v3.2.1\n */\n/// <reference lib=\"es2015.symbol\" />\nconst SymbolPolyfill = typeof Symbol === 'function' && typeof Symbol.iterator === 'symbol' ?\n    Symbol :\n    description => `Symbol(${description})`;\n\n/// <reference lib=\"dom\" />\nfunction noop() {\n    return undefined;\n}\nfunction getGlobals() {\n    if (typeof self !== 'undefined') {\n        return self;\n    }\n    else if (typeof window !== 'undefined') {\n        return window;\n    }\n    else if (typeof global !== 'undefined') {\n        return global;\n    }\n    return undefined;\n}\nconst globals = getGlobals();\n\nfunction typeIsObject(x) {\n    return (typeof x === 'object' && x !== null) || typeof x === 'function';\n}\nconst rethrowAssertionErrorRejection = noop;\n\nconst originalPromise = Promise;\nconst originalPromiseThen = Promise.prototype.then;\nconst originalPromiseResolve = Promise.resolve.bind(originalPromise);\nconst originalPromiseReject = Promise.reject.bind(originalPromise);\nfunction newPromise(executor) {\n    return new originalPromise(executor);\n}\nfunction promiseResolvedWith(value) {\n    return originalPromiseResolve(value);\n}\nfunction promiseRejectedWith(reason) {\n    return originalPromiseReject(reason);\n}\nfunction PerformPromiseThen(promise, onFulfilled, onRejected) {\n    // There doesn't appear to be any way to correctly emulate the behaviour from JavaScript, so this is just an\n    // approximation.\n    return originalPromiseThen.call(promise, onFulfilled, onRejected);\n}\nfunction uponPromise(promise, onFulfilled, onRejected) {\n    PerformPromiseThen(PerformPromiseThen(promise, onFulfilled, onRejected), undefined, rethrowAssertionErrorRejection);\n}\nfunction uponFulfillment(promise, onFulfilled) {\n    uponPromise(promise, onFulfilled);\n}\nfunction uponRejection(promise, onRejected) {\n    uponPromise(promise, undefined, onRejected);\n}\nfunction transformPromiseWith(promise, fulfillmentHandler, rejectionHandler) {\n    return PerformPromiseThen(promise, fulfillmentHandler, rejectionHandler);\n}\nfunction setPromiseIsHandledToTrue(promise) {\n    PerformPromiseThen(promise, undefined, rethrowAssertionErrorRejection);\n}\nconst queueMicrotask = (() => {\n    const globalQueueMicrotask = globals && globals.queueMicrotask;\n    if (typeof globalQueueMicrotask === 'function') {\n        return globalQueueMicrotask;\n    }\n    const resolvedPromise = promiseResolvedWith(undefined);\n    return (fn) => PerformPromiseThen(resolvedPromise, fn);\n})();\nfunction reflectCall(F, V, args) {\n    if (typeof F !== 'function') {\n        throw new TypeError('Argument is not a function');\n    }\n    return Function.prototype.apply.call(F, V, args);\n}\nfunction promiseCall(F, V, args) {\n    try {\n        return promiseResolvedWith(reflectCall(F, V, args));\n    }\n    catch (value) {\n        return promiseRejectedWith(value);\n    }\n}\n\n// Original from Chromium\n// https://chromium.googlesource.com/chromium/src/+/0aee4434a4dba42a42abaea9bfbc0cd196a63bc1/third_party/blink/renderer/core/streams/SimpleQueue.js\nconst QUEUE_MAX_ARRAY_SIZE = 16384;\n/**\n * Simple queue structure.\n *\n * Avoids scalability issues with using a packed array directly by using\n * multiple arrays in a linked list and keeping the array size bounded.\n */\nclass SimpleQueue {\n    constructor() {\n        this._cursor = 0;\n        this._size = 0;\n        // _front and _back are always defined.\n        this._front = {\n            _elements: [],\n            _next: undefined\n        };\n        this._back = this._front;\n        // The cursor is used to avoid calling Array.shift().\n        // It contains the index of the front element of the array inside the\n        // front-most node. It is always in the range [0, QUEUE_MAX_ARRAY_SIZE).\n        this._cursor = 0;\n        // When there is only one node, size === elements.length - cursor.\n        this._size = 0;\n    }\n    get length() {\n        return this._size;\n    }\n    // For exception safety, this method is structured in order:\n    // 1. Read state\n    // 2. Calculate required state mutations\n    // 3. Perform state mutations\n    push(element) {\n        const oldBack = this._back;\n        let newBack = oldBack;\n        if (oldBack._elements.length === QUEUE_MAX_ARRAY_SIZE - 1) {\n            newBack = {\n                _elements: [],\n                _next: undefined\n            };\n        }\n        // push() is the mutation most likely to throw an exception, so it\n        // goes first.\n        oldBack._elements.push(element);\n        if (newBack !== oldBack) {\n            this._back = newBack;\n            oldBack._next = newBack;\n        }\n        ++this._size;\n    }\n    // Like push(), shift() follows the read -> calculate -> mutate pattern for\n    // exception safety.\n    shift() { // must not be called on an empty queue\n        const oldFront = this._front;\n        let newFront = oldFront;\n        const oldCursor = this._cursor;\n        let newCursor = oldCursor + 1;\n        const elements = oldFront._elements;\n        const element = elements[oldCursor];\n        if (newCursor === QUEUE_MAX_ARRAY_SIZE) {\n            newFront = oldFront._next;\n            newCursor = 0;\n        }\n        // No mutations before this point.\n        --this._size;\n        this._cursor = newCursor;\n        if (oldFront !== newFront) {\n            this._front = newFront;\n        }\n        // Permit shifted element to be garbage collected.\n        elements[oldCursor] = undefined;\n        return element;\n    }\n    // The tricky thing about forEach() is that it can be called\n    // re-entrantly. The queue may be mutated inside the callback. It is easy to\n    // see that push() within the callback has no negative effects since the end\n    // of the queue is checked for on every iteration. If shift() is called\n    // repeatedly within the callback then the next iteration may return an\n    // element that has been removed. In this case the callback will be called\n    // with undefined values until we either \"catch up\" with elements that still\n    // exist or reach the back of the queue.\n    forEach(callback) {\n        let i = this._cursor;\n        let node = this._front;\n        let elements = node._elements;\n        while (i !== elements.length || node._next !== undefined) {\n            if (i === elements.length) {\n                node = node._next;\n                elements = node._elements;\n                i = 0;\n                if (elements.length === 0) {\n                    break;\n                }\n            }\n            callback(elements[i]);\n            ++i;\n        }\n    }\n    // Return the element that would be returned if shift() was called now,\n    // without modifying the queue.\n    peek() { // must not be called on an empty queue\n        const front = this._front;\n        const cursor = this._cursor;\n        return front._elements[cursor];\n    }\n}\n\nfunction ReadableStreamReaderGenericInitialize(reader, stream) {\n    reader._ownerReadableStream = stream;\n    stream._reader = reader;\n    if (stream._state === 'readable') {\n        defaultReaderClosedPromiseInitialize(reader);\n    }\n    else if (stream._state === 'closed') {\n        defaultReaderClosedPromiseInitializeAsResolved(reader);\n    }\n    else {\n        defaultReaderClosedPromiseInitializeAsRejected(reader, stream._storedError);\n    }\n}\n// A client of ReadableStreamDefaultReader and ReadableStreamBYOBReader may use these functions directly to bypass state\n// check.\nfunction ReadableStreamReaderGenericCancel(reader, reason) {\n    const stream = reader._ownerReadableStream;\n    return ReadableStreamCancel(stream, reason);\n}\nfunction ReadableStreamReaderGenericRelease(reader) {\n    if (reader._ownerReadableStream._state === 'readable') {\n        defaultReaderClosedPromiseReject(reader, new TypeError(`Reader was released and can no longer be used to monitor the stream's closedness`));\n    }\n    else {\n        defaultReaderClosedPromiseResetToRejected(reader, new TypeError(`Reader was released and can no longer be used to monitor the stream's closedness`));\n    }\n    reader._ownerReadableStream._reader = undefined;\n    reader._ownerReadableStream = undefined;\n}\n// Helper functions for the readers.\nfunction readerLockException(name) {\n    return new TypeError('Cannot ' + name + ' a stream using a released reader');\n}\n// Helper functions for the ReadableStreamDefaultReader.\nfunction defaultReaderClosedPromiseInitialize(reader) {\n    reader._closedPromise = newPromise((resolve, reject) => {\n        reader._closedPromise_resolve = resolve;\n        reader._closedPromise_reject = reject;\n    });\n}\nfunction defaultReaderClosedPromiseInitializeAsRejected(reader, reason) {\n    defaultReaderClosedPromiseInitialize(reader);\n    defaultReaderClosedPromiseReject(reader, reason);\n}\nfunction defaultReaderClosedPromiseInitializeAsResolved(reader) {\n    defaultReaderClosedPromiseInitialize(reader);\n    defaultReaderClosedPromiseResolve(reader);\n}\nfunction defaultReaderClosedPromiseReject(reader, reason) {\n    if (reader._closedPromise_reject === undefined) {\n        return;\n    }\n    setPromiseIsHandledToTrue(reader._closedPromise);\n    reader._closedPromise_reject(reason);\n    reader._closedPromise_resolve = undefined;\n    reader._closedPromise_reject = undefined;\n}\nfunction defaultReaderClosedPromiseResetToRejected(reader, reason) {\n    defaultReaderClosedPromiseInitializeAsRejected(reader, reason);\n}\nfunction defaultReaderClosedPromiseResolve(reader) {\n    if (reader._closedPromise_resolve === undefined) {\n        return;\n    }\n    reader._closedPromise_resolve(undefined);\n    reader._closedPromise_resolve = undefined;\n    reader._closedPromise_reject = undefined;\n}\n\nconst AbortSteps = SymbolPolyfill('[[AbortSteps]]');\nconst ErrorSteps = SymbolPolyfill('[[ErrorSteps]]');\nconst CancelSteps = SymbolPolyfill('[[CancelSteps]]');\nconst PullSteps = SymbolPolyfill('[[PullSteps]]');\n\n/// <reference lib=\"es2015.core\" />\n// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number/isFinite#Polyfill\nconst NumberIsFinite = Number.isFinite || function (x) {\n    return typeof x === 'number' && isFinite(x);\n};\n\n/// <reference lib=\"es2015.core\" />\n// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Math/trunc#Polyfill\nconst MathTrunc = Math.trunc || function (v) {\n    return v < 0 ? Math.ceil(v) : Math.floor(v);\n};\n\n// https://heycam.github.io/webidl/#idl-dictionaries\nfunction isDictionary(x) {\n    return typeof x === 'object' || typeof x === 'function';\n}\nfunction assertDictionary(obj, context) {\n    if (obj !== undefined && !isDictionary(obj)) {\n        throw new TypeError(`${context} is not an object.`);\n    }\n}\n// https://heycam.github.io/webidl/#idl-callback-functions\nfunction assertFunction(x, context) {\n    if (typeof x !== 'function') {\n        throw new TypeError(`${context} is not a function.`);\n    }\n}\n// https://heycam.github.io/webidl/#idl-object\nfunction isObject(x) {\n    return (typeof x === 'object' && x !== null) || typeof x === 'function';\n}\nfunction assertObject(x, context) {\n    if (!isObject(x)) {\n        throw new TypeError(`${context} is not an object.`);\n    }\n}\nfunction assertRequiredArgument(x, position, context) {\n    if (x === undefined) {\n        throw new TypeError(`Parameter ${position} is required in '${context}'.`);\n    }\n}\nfunction assertRequiredField(x, field, context) {\n    if (x === undefined) {\n        throw new TypeError(`${field} is required in '${context}'.`);\n    }\n}\n// https://heycam.github.io/webidl/#idl-unrestricted-double\nfunction convertUnrestrictedDouble(value) {\n    return Number(value);\n}\nfunction censorNegativeZero(x) {\n    return x === 0 ? 0 : x;\n}\nfunction integerPart(x) {\n    return censorNegativeZero(MathTrunc(x));\n}\n// https://heycam.github.io/webidl/#idl-unsigned-long-long\nfunction convertUnsignedLongLongWithEnforceRange(value, context) {\n    const lowerBound = 0;\n    const upperBound = Number.MAX_SAFE_INTEGER;\n    let x = Number(value);\n    x = censorNegativeZero(x);\n    if (!NumberIsFinite(x)) {\n        throw new TypeError(`${context} is not a finite number`);\n    }\n    x = integerPart(x);\n    if (x < lowerBound || x > upperBound) {\n        throw new TypeError(`${context} is outside the accepted range of ${lowerBound} to ${upperBound}, inclusive`);\n    }\n    if (!NumberIsFinite(x) || x === 0) {\n        return 0;\n    }\n    // TODO Use BigInt if supported?\n    // let xBigInt = BigInt(integerPart(x));\n    // xBigInt = BigInt.asUintN(64, xBigInt);\n    // return Number(xBigInt);\n    return x;\n}\n\nfunction assertReadableStream(x, context) {\n    if (!IsReadableStream(x)) {\n        throw new TypeError(`${context} is not a ReadableStream.`);\n    }\n}\n\n// Abstract operations for the ReadableStream.\nfunction AcquireReadableStreamDefaultReader(stream) {\n    return new ReadableStreamDefaultReader(stream);\n}\n// ReadableStream API exposed for controllers.\nfunction ReadableStreamAddReadRequest(stream, readRequest) {\n    stream._reader._readRequests.push(readRequest);\n}\nfunction ReadableStreamFulfillReadRequest(stream, chunk, done) {\n    const reader = stream._reader;\n    const readRequest = reader._readRequests.shift();\n    if (done) {\n        readRequest._closeSteps();\n    }\n    else {\n        readRequest._chunkSteps(chunk);\n    }\n}\nfunction ReadableStreamGetNumReadRequests(stream) {\n    return stream._reader._readRequests.length;\n}\nfunction ReadableStreamHasDefaultReader(stream) {\n    const reader = stream._reader;\n    if (reader === undefined) {\n        return false;\n    }\n    if (!IsReadableStreamDefaultReader(reader)) {\n        return false;\n    }\n    return true;\n}\n/**\n * A default reader vended by a {@link ReadableStream}.\n *\n * @public\n */\nclass ReadableStreamDefaultReader {\n    constructor(stream) {\n        assertRequiredArgument(stream, 1, 'ReadableStreamDefaultReader');\n        assertReadableStream(stream, 'First parameter');\n        if (IsReadableStreamLocked(stream)) {\n            throw new TypeError('This stream has already been locked for exclusive reading by another reader');\n        }\n        ReadableStreamReaderGenericInitialize(this, stream);\n        this._readRequests = new SimpleQueue();\n    }\n    /**\n     * Returns a promise that will be fulfilled when the stream becomes closed,\n     * or rejected if the stream ever errors or the reader's lock is released before the stream finishes closing.\n     */\n    get closed() {\n        if (!IsReadableStreamDefaultReader(this)) {\n            return promiseRejectedWith(defaultReaderBrandCheckException('closed'));\n        }\n        return this._closedPromise;\n    }\n    /**\n     * If the reader is active, behaves the same as {@link ReadableStream.cancel | stream.cancel(reason)}.\n     */\n    cancel(reason = undefined) {\n        if (!IsReadableStreamDefaultReader(this)) {\n            return promiseRejectedWith(defaultReaderBrandCheckException('cancel'));\n        }\n        if (this._ownerReadableStream === undefined) {\n            return promiseRejectedWith(readerLockException('cancel'));\n        }\n        return ReadableStreamReaderGenericCancel(this, reason);\n    }\n    /**\n     * Returns a promise that allows access to the next chunk from the stream's internal queue, if available.\n     *\n     * If reading a chunk causes the queue to become empty, more data will be pulled from the underlying source.\n     */\n    read() {\n        if (!IsReadableStreamDefaultReader(this)) {\n            return promiseRejectedWith(defaultReaderBrandCheckException('read'));\n        }\n        if (this._ownerReadableStream === undefined) {\n            return promiseRejectedWith(readerLockException('read from'));\n        }\n        let resolvePromise;\n        let rejectPromise;\n        const promise = newPromise((resolve, reject) => {\n            resolvePromise = resolve;\n            rejectPromise = reject;\n        });\n        const readRequest = {\n            _chunkSteps: chunk => resolvePromise({ value: chunk, done: false }),\n            _closeSteps: () => resolvePromise({ value: undefined, done: true }),\n            _errorSteps: e => rejectPromise(e)\n        };\n        ReadableStreamDefaultReaderRead(this, readRequest);\n        return promise;\n    }\n    /**\n     * Releases the reader's lock on the corresponding stream. After the lock is released, the reader is no longer active.\n     * If the associated stream is errored when the lock is released, the reader will appear errored in the same way\n     * from now on; otherwise, the reader will appear closed.\n     *\n     * A reader's lock cannot be released while it still has a pending read request, i.e., if a promise returned by\n     * the reader's {@link ReadableStreamDefaultReader.read | read()} method has not yet been settled. Attempting to\n     * do so will throw a `TypeError` and leave the reader locked to the stream.\n     */\n    releaseLock() {\n        if (!IsReadableStreamDefaultReader(this)) {\n            throw defaultReaderBrandCheckException('releaseLock');\n        }\n        if (this._ownerReadableStream === undefined) {\n            return;\n        }\n        if (this._readRequests.length > 0) {\n            throw new TypeError('Tried to release a reader lock when that reader has pending read() calls un-settled');\n        }\n        ReadableStreamReaderGenericRelease(this);\n    }\n}\nObject.defineProperties(ReadableStreamDefaultReader.prototype, {\n    cancel: { enumerable: true },\n    read: { enumerable: true },\n    releaseLock: { enumerable: true },\n    closed: { enumerable: true }\n});\nif (typeof SymbolPolyfill.toStringTag === 'symbol') {\n    Object.defineProperty(ReadableStreamDefaultReader.prototype, SymbolPolyfill.toStringTag, {\n        value: 'ReadableStreamDefaultReader',\n        configurable: true\n    });\n}\n// Abstract operations for the readers.\nfunction IsReadableStreamDefaultReader(x) {\n    if (!typeIsObject(x)) {\n        return false;\n    }\n    if (!Object.prototype.hasOwnProperty.call(x, '_readRequests')) {\n        return false;\n    }\n    return x instanceof ReadableStreamDefaultReader;\n}\nfunction ReadableStreamDefaultReaderRead(reader, readRequest) {\n    const stream = reader._ownerReadableStream;\n    stream._disturbed = true;\n    if (stream._state === 'closed') {\n        readRequest._closeSteps();\n    }\n    else if (stream._state === 'errored') {\n        readRequest._errorSteps(stream._storedError);\n    }\n    else {\n        stream._readableStreamController[PullSteps](readRequest);\n    }\n}\n// Helper functions for the ReadableStreamDefaultReader.\nfunction defaultReaderBrandCheckException(name) {\n    return new TypeError(`ReadableStreamDefaultReader.prototype.${name} can only be used on a ReadableStreamDefaultReader`);\n}\n\n/// <reference lib=\"es2018.asynciterable\" />\n/* eslint-disable @typescript-eslint/no-empty-function */\nconst AsyncIteratorPrototype = Object.getPrototypeOf(Object.getPrototypeOf(async function* () { }).prototype);\n\n/// <reference lib=\"es2018.asynciterable\" />\nclass ReadableStreamAsyncIteratorImpl {\n    constructor(reader, preventCancel) {\n        this._ongoingPromise = undefined;\n        this._isFinished = false;\n        this._reader = reader;\n        this._preventCancel = preventCancel;\n    }\n    next() {\n        const nextSteps = () => this._nextSteps();\n        this._ongoingPromise = this._ongoingPromise ?\n            transformPromiseWith(this._ongoingPromise, nextSteps, nextSteps) :\n            nextSteps();\n        return this._ongoingPromise;\n    }\n    return(value) {\n        const returnSteps = () => this._returnSteps(value);\n        return this._ongoingPromise ?\n            transformPromiseWith(this._ongoingPromise, returnSteps, returnSteps) :\n            returnSteps();\n    }\n    _nextSteps() {\n        if (this._isFinished) {\n            return Promise.resolve({ value: undefined, done: true });\n        }\n        const reader = this._reader;\n        if (reader._ownerReadableStream === undefined) {\n            return promiseRejectedWith(readerLockException('iterate'));\n        }\n        let resolvePromise;\n        let rejectPromise;\n        const promise = newPromise((resolve, reject) => {\n            resolvePromise = resolve;\n            rejectPromise = reject;\n        });\n        const readRequest = {\n            _chunkSteps: chunk => {\n                this._ongoingPromise = undefined;\n                // This needs to be delayed by one microtask, otherwise we stop pulling too early which breaks a test.\n                // FIXME Is this a bug in the specification, or in the test?\n                queueMicrotask(() => resolvePromise({ value: chunk, done: false }));\n            },\n            _closeSteps: () => {\n                this._ongoingPromise = undefined;\n                this._isFinished = true;\n                ReadableStreamReaderGenericRelease(reader);\n                resolvePromise({ value: undefined, done: true });\n            },\n            _errorSteps: reason => {\n                this._ongoingPromise = undefined;\n                this._isFinished = true;\n                ReadableStreamReaderGenericRelease(reader);\n                rejectPromise(reason);\n            }\n        };\n        ReadableStreamDefaultReaderRead(reader, readRequest);\n        return promise;\n    }\n    _returnSteps(value) {\n        if (this._isFinished) {\n            return Promise.resolve({ value, done: true });\n        }\n        this._isFinished = true;\n        const reader = this._reader;\n        if (reader._ownerReadableStream === undefined) {\n            return promiseRejectedWith(readerLockException('finish iterating'));\n        }\n        if (!this._preventCancel) {\n            const result = ReadableStreamReaderGenericCancel(reader, value);\n            ReadableStreamReaderGenericRelease(reader);\n            return transformPromiseWith(result, () => ({ value, done: true }));\n        }\n        ReadableStreamReaderGenericRelease(reader);\n        return promiseResolvedWith({ value, done: true });\n    }\n}\nconst ReadableStreamAsyncIteratorPrototype = {\n    next() {\n        if (!IsReadableStreamAsyncIterator(this)) {\n            return promiseRejectedWith(streamAsyncIteratorBrandCheckException('next'));\n        }\n        return this._asyncIteratorImpl.next();\n    },\n    return(value) {\n        if (!IsReadableStreamAsyncIterator(this)) {\n            return promiseRejectedWith(streamAsyncIteratorBrandCheckException('return'));\n        }\n        return this._asyncIteratorImpl.return(value);\n    }\n};\nif (AsyncIteratorPrototype !== undefined) {\n    Object.setPrototypeOf(ReadableStreamAsyncIteratorPrototype, AsyncIteratorPrototype);\n}\n// Abstract operations for the ReadableStream.\nfunction AcquireReadableStreamAsyncIterator(stream, preventCancel) {\n    const reader = AcquireReadableStreamDefaultReader(stream);\n    const impl = new ReadableStreamAsyncIteratorImpl(reader, preventCancel);\n    const iterator = Object.create(ReadableStreamAsyncIteratorPrototype);\n    iterator._asyncIteratorImpl = impl;\n    return iterator;\n}\nfunction IsReadableStreamAsyncIterator(x) {\n    if (!typeIsObject(x)) {\n        return false;\n    }\n    if (!Object.prototype.hasOwnProperty.call(x, '_asyncIteratorImpl')) {\n        return false;\n    }\n    try {\n        // noinspection SuspiciousTypeOfGuard\n        return x._asyncIteratorImpl instanceof\n            ReadableStreamAsyncIteratorImpl;\n    }\n    catch (_a) {\n        return false;\n    }\n}\n// Helper functions for the ReadableStream.\nfunction streamAsyncIteratorBrandCheckException(name) {\n    return new TypeError(`ReadableStreamAsyncIterator.${name} can only be used on a ReadableSteamAsyncIterator`);\n}\n\n/// <reference lib=\"es2015.core\" />\n// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number/isNaN#Polyfill\nconst NumberIsNaN = Number.isNaN || function (x) {\n    // eslint-disable-next-line no-self-compare\n    return x !== x;\n};\n\nfunction CreateArrayFromList(elements) {\n    // We use arrays to represent lists, so this is basically a no-op.\n    // Do a slice though just in case we happen to depend on the unique-ness.\n    return elements.slice();\n}\nfunction CopyDataBlockBytes(dest, destOffset, src, srcOffset, n) {\n    new Uint8Array(dest).set(new Uint8Array(src, srcOffset, n), destOffset);\n}\n// Not implemented correctly\nfunction TransferArrayBuffer(O) {\n    return O;\n}\n// Not implemented correctly\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nfunction IsDetachedBuffer(O) {\n    return false;\n}\nfunction ArrayBufferSlice(buffer, begin, end) {\n    // ArrayBuffer.prototype.slice is not available on IE10\n    // https://www.caniuse.com/mdn-javascript_builtins_arraybuffer_slice\n    if (buffer.slice) {\n        return buffer.slice(begin, end);\n    }\n    const length = end - begin;\n    const slice = new ArrayBuffer(length);\n    CopyDataBlockBytes(slice, 0, buffer, begin, length);\n    return slice;\n}\n\nfunction IsNonNegativeNumber(v) {\n    if (typeof v !== 'number') {\n        return false;\n    }\n    if (NumberIsNaN(v)) {\n        return false;\n    }\n    if (v < 0) {\n        return false;\n    }\n    return true;\n}\nfunction CloneAsUint8Array(O) {\n    const buffer = ArrayBufferSlice(O.buffer, O.byteOffset, O.byteOffset + O.byteLength);\n    return new Uint8Array(buffer);\n}\n\nfunction DequeueValue(container) {\n    const pair = container._queue.shift();\n    container._queueTotalSize -= pair.size;\n    if (container._queueTotalSize < 0) {\n        container._queueTotalSize = 0;\n    }\n    return pair.value;\n}\nfunction EnqueueValueWithSize(container, value, size) {\n    if (!IsNonNegativeNumber(size) || size === Infinity) {\n        throw new RangeError('Size must be a finite, non-NaN, non-negative number.');\n    }\n    container._queue.push({ value, size });\n    container._queueTotalSize += size;\n}\nfunction PeekQueueValue(container) {\n    const pair = container._queue.peek();\n    return pair.value;\n}\nfunction ResetQueue(container) {\n    container._queue = new SimpleQueue();\n    container._queueTotalSize = 0;\n}\n\n/**\n * A pull-into request in a {@link ReadableByteStreamController}.\n *\n * @public\n */\nclass ReadableStreamBYOBRequest {\n    constructor() {\n        throw new TypeError('Illegal constructor');\n    }\n    /**\n     * Returns the view for writing in to, or `null` if the BYOB request has already been responded to.\n     */\n    get view() {\n        if (!IsReadableStreamBYOBRequest(this)) {\n            throw byobRequestBrandCheckException('view');\n        }\n        return this._view;\n    }\n    respond(bytesWritten) {\n        if (!IsReadableStreamBYOBRequest(this)) {\n            throw byobRequestBrandCheckException('respond');\n        }\n        assertRequiredArgument(bytesWritten, 1, 'respond');\n        bytesWritten = convertUnsignedLongLongWithEnforceRange(bytesWritten, 'First parameter');\n        if (this._associatedReadableByteStreamController === undefined) {\n            throw new TypeError('This BYOB request has been invalidated');\n        }\n        if (IsDetachedBuffer(this._view.buffer)) ;\n        ReadableByteStreamControllerRespond(this._associatedReadableByteStreamController, bytesWritten);\n    }\n    respondWithNewView(view) {\n        if (!IsReadableStreamBYOBRequest(this)) {\n            throw byobRequestBrandCheckException('respondWithNewView');\n        }\n        assertRequiredArgument(view, 1, 'respondWithNewView');\n        if (!ArrayBuffer.isView(view)) {\n            throw new TypeError('You can only respond with array buffer views');\n        }\n        if (this._associatedReadableByteStreamController === undefined) {\n            throw new TypeError('This BYOB request has been invalidated');\n        }\n        if (IsDetachedBuffer(view.buffer)) ;\n        ReadableByteStreamControllerRespondWithNewView(this._associatedReadableByteStreamController, view);\n    }\n}\nObject.defineProperties(ReadableStreamBYOBRequest.prototype, {\n    respond: { enumerable: true },\n    respondWithNewView: { enumerable: true },\n    view: { enumerable: true }\n});\nif (typeof SymbolPolyfill.toStringTag === 'symbol') {\n    Object.defineProperty(ReadableStreamBYOBRequest.prototype, SymbolPolyfill.toStringTag, {\n        value: 'ReadableStreamBYOBRequest',\n        configurable: true\n    });\n}\n/**\n * Allows control of a {@link ReadableStream | readable byte stream}'s state and internal queue.\n *\n * @public\n */\nclass ReadableByteStreamController {\n    constructor() {\n        throw new TypeError('Illegal constructor');\n    }\n    /**\n     * Returns the current BYOB pull request, or `null` if there isn't one.\n     */\n    get byobRequest() {\n        if (!IsReadableByteStreamController(this)) {\n            throw byteStreamControllerBrandCheckException('byobRequest');\n        }\n        return ReadableByteStreamControllerGetBYOBRequest(this);\n    }\n    /**\n     * Returns the desired size to fill the controlled stream's internal queue. It can be negative, if the queue is\n     * over-full. An underlying byte source ought to use this information to determine when and how to apply backpressure.\n     */\n    get desiredSize() {\n        if (!IsReadableByteStreamController(this)) {\n            throw byteStreamControllerBrandCheckException('desiredSize');\n        }\n        return ReadableByteStreamControllerGetDesiredSize(this);\n    }\n    /**\n     * Closes the controlled readable stream. Consumers will still be able to read any previously-enqueued chunks from\n     * the stream, but once those are read, the stream will become closed.\n     */\n    close() {\n        if (!IsReadableByteStreamController(this)) {\n            throw byteStreamControllerBrandCheckException('close');\n        }\n        if (this._closeRequested) {\n            throw new TypeError('The stream has already been closed; do not close it again!');\n        }\n        const state = this._controlledReadableByteStream._state;\n        if (state !== 'readable') {\n            throw new TypeError(`The stream (in ${state} state) is not in the readable state and cannot be closed`);\n        }\n        ReadableByteStreamControllerClose(this);\n    }\n    enqueue(chunk) {\n        if (!IsReadableByteStreamController(this)) {\n            throw byteStreamControllerBrandCheckException('enqueue');\n        }\n        assertRequiredArgument(chunk, 1, 'enqueue');\n        if (!ArrayBuffer.isView(chunk)) {\n            throw new TypeError('chunk must be an array buffer view');\n        }\n        if (chunk.byteLength === 0) {\n            throw new TypeError('chunk must have non-zero byteLength');\n        }\n        if (chunk.buffer.byteLength === 0) {\n            throw new TypeError(`chunk's buffer must have non-zero byteLength`);\n        }\n        if (this._closeRequested) {\n            throw new TypeError('stream is closed or draining');\n        }\n        const state = this._controlledReadableByteStream._state;\n        if (state !== 'readable') {\n            throw new TypeError(`The stream (in ${state} state) is not in the readable state and cannot be enqueued to`);\n        }\n        ReadableByteStreamControllerEnqueue(this, chunk);\n    }\n    /**\n     * Errors the controlled readable stream, making all future interactions with it fail with the given error `e`.\n     */\n    error(e = undefined) {\n        if (!IsReadableByteStreamController(this)) {\n            throw byteStreamControllerBrandCheckException('error');\n        }\n        ReadableByteStreamControllerError(this, e);\n    }\n    /** @internal */\n    [CancelSteps](reason) {\n        ReadableByteStreamControllerClearPendingPullIntos(this);\n        ResetQueue(this);\n        const result = this._cancelAlgorithm(reason);\n        ReadableByteStreamControllerClearAlgorithms(this);\n        return result;\n    }\n    /** @internal */\n    [PullSteps](readRequest) {\n        const stream = this._controlledReadableByteStream;\n        if (this._queueTotalSize > 0) {\n            const entry = this._queue.shift();\n            this._queueTotalSize -= entry.byteLength;\n            ReadableByteStreamControllerHandleQueueDrain(this);\n            const view = new Uint8Array(entry.buffer, entry.byteOffset, entry.byteLength);\n            readRequest._chunkSteps(view);\n            return;\n        }\n        const autoAllocateChunkSize = this._autoAllocateChunkSize;\n        if (autoAllocateChunkSize !== undefined) {\n            let buffer;\n            try {\n                buffer = new ArrayBuffer(autoAllocateChunkSize);\n            }\n            catch (bufferE) {\n                readRequest._errorSteps(bufferE);\n                return;\n            }\n            const pullIntoDescriptor = {\n                buffer,\n                bufferByteLength: autoAllocateChunkSize,\n                byteOffset: 0,\n                byteLength: autoAllocateChunkSize,\n                bytesFilled: 0,\n                elementSize: 1,\n                viewConstructor: Uint8Array,\n                readerType: 'default'\n            };\n            this._pendingPullIntos.push(pullIntoDescriptor);\n        }\n        ReadableStreamAddReadRequest(stream, readRequest);\n        ReadableByteStreamControllerCallPullIfNeeded(this);\n    }\n}\nObject.defineProperties(ReadableByteStreamController.prototype, {\n    close: { enumerable: true },\n    enqueue: { enumerable: true },\n    error: { enumerable: true },\n    byobRequest: { enumerable: true },\n    desiredSize: { enumerable: true }\n});\nif (typeof SymbolPolyfill.toStringTag === 'symbol') {\n    Object.defineProperty(ReadableByteStreamController.prototype, SymbolPolyfill.toStringTag, {\n        value: 'ReadableByteStreamController',\n        configurable: true\n    });\n}\n// Abstract operations for the ReadableByteStreamController.\nfunction IsReadableByteStreamController(x) {\n    if (!typeIsObject(x)) {\n        return false;\n    }\n    if (!Object.prototype.hasOwnProperty.call(x, '_controlledReadableByteStream')) {\n        return false;\n    }\n    return x instanceof ReadableByteStreamController;\n}\nfunction IsReadableStreamBYOBRequest(x) {\n    if (!typeIsObject(x)) {\n        return false;\n    }\n    if (!Object.prototype.hasOwnProperty.call(x, '_associatedReadableByteStreamController')) {\n        return false;\n    }\n    return x instanceof ReadableStreamBYOBRequest;\n}\nfunction ReadableByteStreamControllerCallPullIfNeeded(controller) {\n    const shouldPull = ReadableByteStreamControllerShouldCallPull(controller);\n    if (!shouldPull) {\n        return;\n    }\n    if (controller._pulling) {\n        controller._pullAgain = true;\n        return;\n    }\n    controller._pulling = true;\n    // TODO: Test controller argument\n    const pullPromise = controller._pullAlgorithm();\n    uponPromise(pullPromise, () => {\n        controller._pulling = false;\n        if (controller._pullAgain) {\n            controller._pullAgain = false;\n            ReadableByteStreamControllerCallPullIfNeeded(controller);\n        }\n    }, e => {\n        ReadableByteStreamControllerError(controller, e);\n    });\n}\nfunction ReadableByteStreamControllerClearPendingPullIntos(controller) {\n    ReadableByteStreamControllerInvalidateBYOBRequest(controller);\n    controller._pendingPullIntos = new SimpleQueue();\n}\nfunction ReadableByteStreamControllerCommitPullIntoDescriptor(stream, pullIntoDescriptor) {\n    let done = false;\n    if (stream._state === 'closed') {\n        done = true;\n    }\n    const filledView = ReadableByteStreamControllerConvertPullIntoDescriptor(pullIntoDescriptor);\n    if (pullIntoDescriptor.readerType === 'default') {\n        ReadableStreamFulfillReadRequest(stream, filledView, done);\n    }\n    else {\n        ReadableStreamFulfillReadIntoRequest(stream, filledView, done);\n    }\n}\nfunction ReadableByteStreamControllerConvertPullIntoDescriptor(pullIntoDescriptor) {\n    const bytesFilled = pullIntoDescriptor.bytesFilled;\n    const elementSize = pullIntoDescriptor.elementSize;\n    return new pullIntoDescriptor.viewConstructor(pullIntoDescriptor.buffer, pullIntoDescriptor.byteOffset, bytesFilled / elementSize);\n}\nfunction ReadableByteStreamControllerEnqueueChunkToQueue(controller, buffer, byteOffset, byteLength) {\n    controller._queue.push({ buffer, byteOffset, byteLength });\n    controller._queueTotalSize += byteLength;\n}\nfunction ReadableByteStreamControllerFillPullIntoDescriptorFromQueue(controller, pullIntoDescriptor) {\n    const elementSize = pullIntoDescriptor.elementSize;\n    const currentAlignedBytes = pullIntoDescriptor.bytesFilled - pullIntoDescriptor.bytesFilled % elementSize;\n    const maxBytesToCopy = Math.min(controller._queueTotalSize, pullIntoDescriptor.byteLength - pullIntoDescriptor.bytesFilled);\n    const maxBytesFilled = pullIntoDescriptor.bytesFilled + maxBytesToCopy;\n    const maxAlignedBytes = maxBytesFilled - maxBytesFilled % elementSize;\n    let totalBytesToCopyRemaining = maxBytesToCopy;\n    let ready = false;\n    if (maxAlignedBytes > currentAlignedBytes) {\n        totalBytesToCopyRemaining = maxAlignedBytes - pullIntoDescriptor.bytesFilled;\n        ready = true;\n    }\n    const queue = controller._queue;\n    while (totalBytesToCopyRemaining > 0) {\n        const headOfQueue = queue.peek();\n        const bytesToCopy = Math.min(totalBytesToCopyRemaining, headOfQueue.byteLength);\n        const destStart = pullIntoDescriptor.byteOffset + pullIntoDescriptor.bytesFilled;\n        CopyDataBlockBytes(pullIntoDescriptor.buffer, destStart, headOfQueue.buffer, headOfQueue.byteOffset, bytesToCopy);\n        if (headOfQueue.byteLength === bytesToCopy) {\n            queue.shift();\n        }\n        else {\n            headOfQueue.byteOffset += bytesToCopy;\n            headOfQueue.byteLength -= bytesToCopy;\n        }\n        controller._queueTotalSize -= bytesToCopy;\n        ReadableByteStreamControllerFillHeadPullIntoDescriptor(controller, bytesToCopy, pullIntoDescriptor);\n        totalBytesToCopyRemaining -= bytesToCopy;\n    }\n    return ready;\n}\nfunction ReadableByteStreamControllerFillHeadPullIntoDescriptor(controller, size, pullIntoDescriptor) {\n    pullIntoDescriptor.bytesFilled += size;\n}\nfunction ReadableByteStreamControllerHandleQueueDrain(controller) {\n    if (controller._queueTotalSize === 0 && controller._closeRequested) {\n        ReadableByteStreamControllerClearAlgorithms(controller);\n        ReadableStreamClose(controller._controlledReadableByteStream);\n    }\n    else {\n        ReadableByteStreamControllerCallPullIfNeeded(controller);\n    }\n}\nfunction ReadableByteStreamControllerInvalidateBYOBRequest(controller) {\n    if (controller._byobRequest === null) {\n        return;\n    }\n    controller._byobRequest._associatedReadableByteStreamController = undefined;\n    controller._byobRequest._view = null;\n    controller._byobRequest = null;\n}\nfunction ReadableByteStreamControllerProcessPullIntoDescriptorsUsingQueue(controller) {\n    while (controller._pendingPullIntos.length > 0) {\n        if (controller._queueTotalSize === 0) {\n            return;\n        }\n        const pullIntoDescriptor = controller._pendingPullIntos.peek();\n        if (ReadableByteStreamControllerFillPullIntoDescriptorFromQueue(controller, pullIntoDescriptor)) {\n            ReadableByteStreamControllerShiftPendingPullInto(controller);\n            ReadableByteStreamControllerCommitPullIntoDescriptor(controller._controlledReadableByteStream, pullIntoDescriptor);\n        }\n    }\n}\nfunction ReadableByteStreamControllerPullInto(controller, view, readIntoRequest) {\n    const stream = controller._controlledReadableByteStream;\n    let elementSize = 1;\n    if (view.constructor !== DataView) {\n        elementSize = view.constructor.BYTES_PER_ELEMENT;\n    }\n    const ctor = view.constructor;\n    // try {\n    const buffer = TransferArrayBuffer(view.buffer);\n    // } catch (e) {\n    //   readIntoRequest._errorSteps(e);\n    //   return;\n    // }\n    const pullIntoDescriptor = {\n        buffer,\n        bufferByteLength: buffer.byteLength,\n        byteOffset: view.byteOffset,\n        byteLength: view.byteLength,\n        bytesFilled: 0,\n        elementSize,\n        viewConstructor: ctor,\n        readerType: 'byob'\n    };\n    if (controller._pendingPullIntos.length > 0) {\n        controller._pendingPullIntos.push(pullIntoDescriptor);\n        // No ReadableByteStreamControllerCallPullIfNeeded() call since:\n        // - No change happens on desiredSize\n        // - The source has already been notified of that there's at least 1 pending read(view)\n        ReadableStreamAddReadIntoRequest(stream, readIntoRequest);\n        return;\n    }\n    if (stream._state === 'closed') {\n        const emptyView = new ctor(pullIntoDescriptor.buffer, pullIntoDescriptor.byteOffset, 0);\n        readIntoRequest._closeSteps(emptyView);\n        return;\n    }\n    if (controller._queueTotalSize > 0) {\n        if (ReadableByteStreamControllerFillPullIntoDescriptorFromQueue(controller, pullIntoDescriptor)) {\n            const filledView = ReadableByteStreamControllerConvertPullIntoDescriptor(pullIntoDescriptor);\n            ReadableByteStreamControllerHandleQueueDrain(controller);\n            readIntoRequest._chunkSteps(filledView);\n            return;\n        }\n        if (controller._closeRequested) {\n            const e = new TypeError('Insufficient bytes to fill elements in the given buffer');\n            ReadableByteStreamControllerError(controller, e);\n            readIntoRequest._errorSteps(e);\n            return;\n        }\n    }\n    controller._pendingPullIntos.push(pullIntoDescriptor);\n    ReadableStreamAddReadIntoRequest(stream, readIntoRequest);\n    ReadableByteStreamControllerCallPullIfNeeded(controller);\n}\nfunction ReadableByteStreamControllerRespondInClosedState(controller, firstDescriptor) {\n    const stream = controller._controlledReadableByteStream;\n    if (ReadableStreamHasBYOBReader(stream)) {\n        while (ReadableStreamGetNumReadIntoRequests(stream) > 0) {\n            const pullIntoDescriptor = ReadableByteStreamControllerShiftPendingPullInto(controller);\n            ReadableByteStreamControllerCommitPullIntoDescriptor(stream, pullIntoDescriptor);\n        }\n    }\n}\nfunction ReadableByteStreamControllerRespondInReadableState(controller, bytesWritten, pullIntoDescriptor) {\n    ReadableByteStreamControllerFillHeadPullIntoDescriptor(controller, bytesWritten, pullIntoDescriptor);\n    if (pullIntoDescriptor.bytesFilled < pullIntoDescriptor.elementSize) {\n        return;\n    }\n    ReadableByteStreamControllerShiftPendingPullInto(controller);\n    const remainderSize = pullIntoDescriptor.bytesFilled % pullIntoDescriptor.elementSize;\n    if (remainderSize > 0) {\n        const end = pullIntoDescriptor.byteOffset + pullIntoDescriptor.bytesFilled;\n        const remainder = ArrayBufferSlice(pullIntoDescriptor.buffer, end - remainderSize, end);\n        ReadableByteStreamControllerEnqueueChunkToQueue(controller, remainder, 0, remainder.byteLength);\n    }\n    pullIntoDescriptor.bytesFilled -= remainderSize;\n    ReadableByteStreamControllerCommitPullIntoDescriptor(controller._controlledReadableByteStream, pullIntoDescriptor);\n    ReadableByteStreamControllerProcessPullIntoDescriptorsUsingQueue(controller);\n}\nfunction ReadableByteStreamControllerRespondInternal(controller, bytesWritten) {\n    const firstDescriptor = controller._pendingPullIntos.peek();\n    ReadableByteStreamControllerInvalidateBYOBRequest(controller);\n    const state = controller._controlledReadableByteStream._state;\n    if (state === 'closed') {\n        ReadableByteStreamControllerRespondInClosedState(controller);\n    }\n    else {\n        ReadableByteStreamControllerRespondInReadableState(controller, bytesWritten, firstDescriptor);\n    }\n    ReadableByteStreamControllerCallPullIfNeeded(controller);\n}\nfunction ReadableByteStreamControllerShiftPendingPullInto(controller) {\n    const descriptor = controller._pendingPullIntos.shift();\n    return descriptor;\n}\nfunction ReadableByteStreamControllerShouldCallPull(controller) {\n    const stream = controller._controlledReadableByteStream;\n    if (stream._state !== 'readable') {\n        return false;\n    }\n    if (controller._closeRequested) {\n        return false;\n    }\n    if (!controller._started) {\n        return false;\n    }\n    if (ReadableStreamHasDefaultReader(stream) && ReadableStreamGetNumReadRequests(stream) > 0) {\n        return true;\n    }\n    if (ReadableStreamHasBYOBReader(stream) && ReadableStreamGetNumReadIntoRequests(stream) > 0) {\n        return true;\n    }\n    const desiredSize = ReadableByteStreamControllerGetDesiredSize(controller);\n    if (desiredSize > 0) {\n        return true;\n    }\n    return false;\n}\nfunction ReadableByteStreamControllerClearAlgorithms(controller) {\n    controller._pullAlgorithm = undefined;\n    controller._cancelAlgorithm = undefined;\n}\n// A client of ReadableByteStreamController may use these functions directly to bypass state check.\nfunction ReadableByteStreamControllerClose(controller) {\n    const stream = controller._controlledReadableByteStream;\n    if (controller._closeRequested || stream._state !== 'readable') {\n        return;\n    }\n    if (controller._queueTotalSize > 0) {\n        controller._closeRequested = true;\n        return;\n    }\n    if (controller._pendingPullIntos.length > 0) {\n        const firstPendingPullInto = controller._pendingPullIntos.peek();\n        if (firstPendingPullInto.bytesFilled > 0) {\n            const e = new TypeError('Insufficient bytes to fill elements in the given buffer');\n            ReadableByteStreamControllerError(controller, e);\n            throw e;\n        }\n    }\n    ReadableByteStreamControllerClearAlgorithms(controller);\n    ReadableStreamClose(stream);\n}\nfunction ReadableByteStreamControllerEnqueue(controller, chunk) {\n    const stream = controller._controlledReadableByteStream;\n    if (controller._closeRequested || stream._state !== 'readable') {\n        return;\n    }\n    const buffer = chunk.buffer;\n    const byteOffset = chunk.byteOffset;\n    const byteLength = chunk.byteLength;\n    const transferredBuffer = TransferArrayBuffer(buffer);\n    if (controller._pendingPullIntos.length > 0) {\n        const firstPendingPullInto = controller._pendingPullIntos.peek();\n        if (IsDetachedBuffer(firstPendingPullInto.buffer)) ;\n        firstPendingPullInto.buffer = TransferArrayBuffer(firstPendingPullInto.buffer);\n    }\n    ReadableByteStreamControllerInvalidateBYOBRequest(controller);\n    if (ReadableStreamHasDefaultReader(stream)) {\n        if (ReadableStreamGetNumReadRequests(stream) === 0) {\n            ReadableByteStreamControllerEnqueueChunkToQueue(controller, transferredBuffer, byteOffset, byteLength);\n        }\n        else {\n            if (controller._pendingPullIntos.length > 0) {\n                ReadableByteStreamControllerShiftPendingPullInto(controller);\n            }\n            const transferredView = new Uint8Array(transferredBuffer, byteOffset, byteLength);\n            ReadableStreamFulfillReadRequest(stream, transferredView, false);\n        }\n    }\n    else if (ReadableStreamHasBYOBReader(stream)) {\n        // TODO: Ideally in this branch detaching should happen only if the buffer is not consumed fully.\n        ReadableByteStreamControllerEnqueueChunkToQueue(controller, transferredBuffer, byteOffset, byteLength);\n        ReadableByteStreamControllerProcessPullIntoDescriptorsUsingQueue(controller);\n    }\n    else {\n        ReadableByteStreamControllerEnqueueChunkToQueue(controller, transferredBuffer, byteOffset, byteLength);\n    }\n    ReadableByteStreamControllerCallPullIfNeeded(controller);\n}\nfunction ReadableByteStreamControllerError(controller, e) {\n    const stream = controller._controlledReadableByteStream;\n    if (stream._state !== 'readable') {\n        return;\n    }\n    ReadableByteStreamControllerClearPendingPullIntos(controller);\n    ResetQueue(controller);\n    ReadableByteStreamControllerClearAlgorithms(controller);\n    ReadableStreamError(stream, e);\n}\nfunction ReadableByteStreamControllerGetBYOBRequest(controller) {\n    if (controller._byobRequest === null && controller._pendingPullIntos.length > 0) {\n        const firstDescriptor = controller._pendingPullIntos.peek();\n        const view = new Uint8Array(firstDescriptor.buffer, firstDescriptor.byteOffset + firstDescriptor.bytesFilled, firstDescriptor.byteLength - firstDescriptor.bytesFilled);\n        const byobRequest = Object.create(ReadableStreamBYOBRequest.prototype);\n        SetUpReadableStreamBYOBRequest(byobRequest, controller, view);\n        controller._byobRequest = byobRequest;\n    }\n    return controller._byobRequest;\n}\nfunction ReadableByteStreamControllerGetDesiredSize(controller) {\n    const state = controller._controlledReadableByteStream._state;\n    if (state === 'errored') {\n        return null;\n    }\n    if (state === 'closed') {\n        return 0;\n    }\n    return controller._strategyHWM - controller._queueTotalSize;\n}\nfunction ReadableByteStreamControllerRespond(controller, bytesWritten) {\n    const firstDescriptor = controller._pendingPullIntos.peek();\n    const state = controller._controlledReadableByteStream._state;\n    if (state === 'closed') {\n        if (bytesWritten !== 0) {\n            throw new TypeError('bytesWritten must be 0 when calling respond() on a closed stream');\n        }\n    }\n    else {\n        if (bytesWritten === 0) {\n            throw new TypeError('bytesWritten must be greater than 0 when calling respond() on a readable stream');\n        }\n        if (firstDescriptor.bytesFilled + bytesWritten > firstDescriptor.byteLength) {\n            throw new RangeError('bytesWritten out of range');\n        }\n    }\n    firstDescriptor.buffer = TransferArrayBuffer(firstDescriptor.buffer);\n    ReadableByteStreamControllerRespondInternal(controller, bytesWritten);\n}\nfunction ReadableByteStreamControllerRespondWithNewView(controller, view) {\n    const firstDescriptor = controller._pendingPullIntos.peek();\n    const state = controller._controlledReadableByteStream._state;\n    if (state === 'closed') {\n        if (view.byteLength !== 0) {\n            throw new TypeError('The view\\'s length must be 0 when calling respondWithNewView() on a closed stream');\n        }\n    }\n    else {\n        if (view.byteLength === 0) {\n            throw new TypeError('The view\\'s length must be greater than 0 when calling respondWithNewView() on a readable stream');\n        }\n    }\n    if (firstDescriptor.byteOffset + firstDescriptor.bytesFilled !== view.byteOffset) {\n        throw new RangeError('The region specified by view does not match byobRequest');\n    }\n    if (firstDescriptor.bufferByteLength !== view.buffer.byteLength) {\n        throw new RangeError('The buffer of view has different capacity than byobRequest');\n    }\n    if (firstDescriptor.bytesFilled + view.byteLength > firstDescriptor.byteLength) {\n        throw new RangeError('The region specified by view is larger than byobRequest');\n    }\n    const viewByteLength = view.byteLength;\n    firstDescriptor.buffer = TransferArrayBuffer(view.buffer);\n    ReadableByteStreamControllerRespondInternal(controller, viewByteLength);\n}\nfunction SetUpReadableByteStreamController(stream, controller, startAlgorithm, pullAlgorithm, cancelAlgorithm, highWaterMark, autoAllocateChunkSize) {\n    controller._controlledReadableByteStream = stream;\n    controller._pullAgain = false;\n    controller._pulling = false;\n    controller._byobRequest = null;\n    // Need to set the slots so that the assert doesn't fire. In the spec the slots already exist implicitly.\n    controller._queue = controller._queueTotalSize = undefined;\n    ResetQueue(controller);\n    controller._closeRequested = false;\n    controller._started = false;\n    controller._strategyHWM = highWaterMark;\n    controller._pullAlgorithm = pullAlgorithm;\n    controller._cancelAlgorithm = cancelAlgorithm;\n    controller._autoAllocateChunkSize = autoAllocateChunkSize;\n    controller._pendingPullIntos = new SimpleQueue();\n    stream._readableStreamController = controller;\n    const startResult = startAlgorithm();\n    uponPromise(promiseResolvedWith(startResult), () => {\n        controller._started = true;\n        ReadableByteStreamControllerCallPullIfNeeded(controller);\n    }, r => {\n        ReadableByteStreamControllerError(controller, r);\n    });\n}\nfunction SetUpReadableByteStreamControllerFromUnderlyingSource(stream, underlyingByteSource, highWaterMark) {\n    const controller = Object.create(ReadableByteStreamController.prototype);\n    let startAlgorithm = () => undefined;\n    let pullAlgorithm = () => promiseResolvedWith(undefined);\n    let cancelAlgorithm = () => promiseResolvedWith(undefined);\n    if (underlyingByteSource.start !== undefined) {\n        startAlgorithm = () => underlyingByteSource.start(controller);\n    }\n    if (underlyingByteSource.pull !== undefined) {\n        pullAlgorithm = () => underlyingByteSource.pull(controller);\n    }\n    if (underlyingByteSource.cancel !== undefined) {\n        cancelAlgorithm = reason => underlyingByteSource.cancel(reason);\n    }\n    const autoAllocateChunkSize = underlyingByteSource.autoAllocateChunkSize;\n    if (autoAllocateChunkSize === 0) {\n        throw new TypeError('autoAllocateChunkSize must be greater than 0');\n    }\n    SetUpReadableByteStreamController(stream, controller, startAlgorithm, pullAlgorithm, cancelAlgorithm, highWaterMark, autoAllocateChunkSize);\n}\nfunction SetUpReadableStreamBYOBRequest(request, controller, view) {\n    request._associatedReadableByteStreamController = controller;\n    request._view = view;\n}\n// Helper functions for the ReadableStreamBYOBRequest.\nfunction byobRequestBrandCheckException(name) {\n    return new TypeError(`ReadableStreamBYOBRequest.prototype.${name} can only be used on a ReadableStreamBYOBRequest`);\n}\n// Helper functions for the ReadableByteStreamController.\nfunction byteStreamControllerBrandCheckException(name) {\n    return new TypeError(`ReadableByteStreamController.prototype.${name} can only be used on a ReadableByteStreamController`);\n}\n\n// Abstract operations for the ReadableStream.\nfunction AcquireReadableStreamBYOBReader(stream) {\n    return new ReadableStreamBYOBReader(stream);\n}\n// ReadableStream API exposed for controllers.\nfunction ReadableStreamAddReadIntoRequest(stream, readIntoRequest) {\n    stream._reader._readIntoRequests.push(readIntoRequest);\n}\nfunction ReadableStreamFulfillReadIntoRequest(stream, chunk, done) {\n    const reader = stream._reader;\n    const readIntoRequest = reader._readIntoRequests.shift();\n    if (done) {\n        readIntoRequest._closeSteps(chunk);\n    }\n    else {\n        readIntoRequest._chunkSteps(chunk);\n    }\n}\nfunction ReadableStreamGetNumReadIntoRequests(stream) {\n    return stream._reader._readIntoRequests.length;\n}\nfunction ReadableStreamHasBYOBReader(stream) {\n    const reader = stream._reader;\n    if (reader === undefined) {\n        return false;\n    }\n    if (!IsReadableStreamBYOBReader(reader)) {\n        return false;\n    }\n    return true;\n}\n/**\n * A BYOB reader vended by a {@link ReadableStream}.\n *\n * @public\n */\nclass ReadableStreamBYOBReader {\n    constructor(stream) {\n        assertRequiredArgument(stream, 1, 'ReadableStreamBYOBReader');\n        assertReadableStream(stream, 'First parameter');\n        if (IsReadableStreamLocked(stream)) {\n            throw new TypeError('This stream has already been locked for exclusive reading by another reader');\n        }\n        if (!IsReadableByteStreamController(stream._readableStreamController)) {\n            throw new TypeError('Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte ' +\n                'source');\n        }\n        ReadableStreamReaderGenericInitialize(this, stream);\n        this._readIntoRequests = new SimpleQueue();\n    }\n    /**\n     * Returns a promise that will be fulfilled when the stream becomes closed, or rejected if the stream ever errors or\n     * the reader's lock is released before the stream finishes closing.\n     */\n    get closed() {\n        if (!IsReadableStreamBYOBReader(this)) {\n            return promiseRejectedWith(byobReaderBrandCheckException('closed'));\n        }\n        return this._closedPromise;\n    }\n    /**\n     * If the reader is active, behaves the same as {@link ReadableStream.cancel | stream.cancel(reason)}.\n     */\n    cancel(reason = undefined) {\n        if (!IsReadableStreamBYOBReader(this)) {\n            return promiseRejectedWith(byobReaderBrandCheckException('cancel'));\n        }\n        if (this._ownerReadableStream === undefined) {\n            return promiseRejectedWith(readerLockException('cancel'));\n        }\n        return ReadableStreamReaderGenericCancel(this, reason);\n    }\n    /**\n     * Attempts to reads bytes into view, and returns a promise resolved with the result.\n     *\n     * If reading a chunk causes the queue to become empty, more data will be pulled from the underlying source.\n     */\n    read(view) {\n        if (!IsReadableStreamBYOBReader(this)) {\n            return promiseRejectedWith(byobReaderBrandCheckException('read'));\n        }\n        if (!ArrayBuffer.isView(view)) {\n            return promiseRejectedWith(new TypeError('view must be an array buffer view'));\n        }\n        if (view.byteLength === 0) {\n            return promiseRejectedWith(new TypeError('view must have non-zero byteLength'));\n        }\n        if (view.buffer.byteLength === 0) {\n            return promiseRejectedWith(new TypeError(`view's buffer must have non-zero byteLength`));\n        }\n        if (IsDetachedBuffer(view.buffer)) ;\n        if (this._ownerReadableStream === undefined) {\n            return promiseRejectedWith(readerLockException('read from'));\n        }\n        let resolvePromise;\n        let rejectPromise;\n        const promise = newPromise((resolve, reject) => {\n            resolvePromise = resolve;\n            rejectPromise = reject;\n        });\n        const readIntoRequest = {\n            _chunkSteps: chunk => resolvePromise({ value: chunk, done: false }),\n            _closeSteps: chunk => resolvePromise({ value: chunk, done: true }),\n            _errorSteps: e => rejectPromise(e)\n        };\n        ReadableStreamBYOBReaderRead(this, view, readIntoRequest);\n        return promise;\n    }\n    /**\n     * Releases the reader's lock on the corresponding stream. After the lock is released, the reader is no longer active.\n     * If the associated stream is errored when the lock is released, the reader will appear errored in the same way\n     * from now on; otherwise, the reader will appear closed.\n     *\n     * A reader's lock cannot be released while it still has a pending read request, i.e., if a promise returned by\n     * the reader's {@link ReadableStreamBYOBReader.read | read()} method has not yet been settled. Attempting to\n     * do so will throw a `TypeError` and leave the reader locked to the stream.\n     */\n    releaseLock() {\n        if (!IsReadableStreamBYOBReader(this)) {\n            throw byobReaderBrandCheckException('releaseLock');\n        }\n        if (this._ownerReadableStream === undefined) {\n            return;\n        }\n        if (this._readIntoRequests.length > 0) {\n            throw new TypeError('Tried to release a reader lock when that reader has pending read() calls un-settled');\n        }\n        ReadableStreamReaderGenericRelease(this);\n    }\n}\nObject.defineProperties(ReadableStreamBYOBReader.prototype, {\n    cancel: { enumerable: true },\n    read: { enumerable: true },\n    releaseLock: { enumerable: true },\n    closed: { enumerable: true }\n});\nif (typeof SymbolPolyfill.toStringTag === 'symbol') {\n    Object.defineProperty(ReadableStreamBYOBReader.prototype, SymbolPolyfill.toStringTag, {\n        value: 'ReadableStreamBYOBReader',\n        configurable: true\n    });\n}\n// Abstract operations for the readers.\nfunction IsReadableStreamBYOBReader(x) {\n    if (!typeIsObject(x)) {\n        return false;\n    }\n    if (!Object.prototype.hasOwnProperty.call(x, '_readIntoRequests')) {\n        return false;\n    }\n    return x instanceof ReadableStreamBYOBReader;\n}\nfunction ReadableStreamBYOBReaderRead(reader, view, readIntoRequest) {\n    const stream = reader._ownerReadableStream;\n    stream._disturbed = true;\n    if (stream._state === 'errored') {\n        readIntoRequest._errorSteps(stream._storedError);\n    }\n    else {\n        ReadableByteStreamControllerPullInto(stream._readableStreamController, view, readIntoRequest);\n    }\n}\n// Helper functions for the ReadableStreamBYOBReader.\nfunction byobReaderBrandCheckException(name) {\n    return new TypeError(`ReadableStreamBYOBReader.prototype.${name} can only be used on a ReadableStreamBYOBReader`);\n}\n\nfunction ExtractHighWaterMark(strategy, defaultHWM) {\n    const { highWaterMark } = strategy;\n    if (highWaterMark === undefined) {\n        return defaultHWM;\n    }\n    if (NumberIsNaN(highWaterMark) || highWaterMark < 0) {\n        throw new RangeError('Invalid highWaterMark');\n    }\n    return highWaterMark;\n}\nfunction ExtractSizeAlgorithm(strategy) {\n    const { size } = strategy;\n    if (!size) {\n        return () => 1;\n    }\n    return size;\n}\n\nfunction convertQueuingStrategy(init, context) {\n    assertDictionary(init, context);\n    const highWaterMark = init === null || init === void 0 ? void 0 : init.highWaterMark;\n    const size = init === null || init === void 0 ? void 0 : init.size;\n    return {\n        highWaterMark: highWaterMark === undefined ? undefined : convertUnrestrictedDouble(highWaterMark),\n        size: size === undefined ? undefined : convertQueuingStrategySize(size, `${context} has member 'size' that`)\n    };\n}\nfunction convertQueuingStrategySize(fn, context) {\n    assertFunction(fn, context);\n    return chunk => convertUnrestrictedDouble(fn(chunk));\n}\n\nfunction convertUnderlyingSink(original, context) {\n    assertDictionary(original, context);\n    const abort = original === null || original === void 0 ? void 0 : original.abort;\n    const close = original === null || original === void 0 ? void 0 : original.close;\n    const start = original === null || original === void 0 ? void 0 : original.start;\n    const type = original === null || original === void 0 ? void 0 : original.type;\n    const write = original === null || original === void 0 ? void 0 : original.write;\n    return {\n        abort: abort === undefined ?\n            undefined :\n            convertUnderlyingSinkAbortCallback(abort, original, `${context} has member 'abort' that`),\n        close: close === undefined ?\n            undefined :\n            convertUnderlyingSinkCloseCallback(close, original, `${context} has member 'close' that`),\n        start: start === undefined ?\n            undefined :\n            convertUnderlyingSinkStartCallback(start, original, `${context} has member 'start' that`),\n        write: write === undefined ?\n            undefined :\n            convertUnderlyingSinkWriteCallback(write, original, `${context} has member 'write' that`),\n        type\n    };\n}\nfunction convertUnderlyingSinkAbortCallback(fn, original, context) {\n    assertFunction(fn, context);\n    return (reason) => promiseCall(fn, original, [reason]);\n}\nfunction convertUnderlyingSinkCloseCallback(fn, original, context) {\n    assertFunction(fn, context);\n    return () => promiseCall(fn, original, []);\n}\nfunction convertUnderlyingSinkStartCallback(fn, original, context) {\n    assertFunction(fn, context);\n    return (controller) => reflectCall(fn, original, [controller]);\n}\nfunction convertUnderlyingSinkWriteCallback(fn, original, context) {\n    assertFunction(fn, context);\n    return (chunk, controller) => promiseCall(fn, original, [chunk, controller]);\n}\n\nfunction assertWritableStream(x, context) {\n    if (!IsWritableStream(x)) {\n        throw new TypeError(`${context} is not a WritableStream.`);\n    }\n}\n\nfunction isAbortSignal(value) {\n    if (typeof value !== 'object' || value === null) {\n        return false;\n    }\n    try {\n        return typeof value.aborted === 'boolean';\n    }\n    catch (_a) {\n        // AbortSignal.prototype.aborted throws if its brand check fails\n        return false;\n    }\n}\nconst supportsAbortController = typeof AbortController === 'function';\n/**\n * Construct a new AbortController, if supported by the platform.\n *\n * @internal\n */\nfunction createAbortController() {\n    if (supportsAbortController) {\n        return new AbortController();\n    }\n    return undefined;\n}\n\n/**\n * A writable stream represents a destination for data, into which you can write.\n *\n * @public\n */\nclass WritableStream {\n    constructor(rawUnderlyingSink = {}, rawStrategy = {}) {\n        if (rawUnderlyingSink === undefined) {\n            rawUnderlyingSink = null;\n        }\n        else {\n            assertObject(rawUnderlyingSink, 'First parameter');\n        }\n        const strategy = convertQueuingStrategy(rawStrategy, 'Second parameter');\n        const underlyingSink = convertUnderlyingSink(rawUnderlyingSink, 'First parameter');\n        InitializeWritableStream(this);\n        const type = underlyingSink.type;\n        if (type !== undefined) {\n            throw new RangeError('Invalid type is specified');\n        }\n        const sizeAlgorithm = ExtractSizeAlgorithm(strategy);\n        const highWaterMark = ExtractHighWaterMark(strategy, 1);\n        SetUpWritableStreamDefaultControllerFromUnderlyingSink(this, underlyingSink, highWaterMark, sizeAlgorithm);\n    }\n    /**\n     * Returns whether or not the writable stream is locked to a writer.\n     */\n    get locked() {\n        if (!IsWritableStream(this)) {\n            throw streamBrandCheckException$2('locked');\n        }\n        return IsWritableStreamLocked(this);\n    }\n    /**\n     * Aborts the stream, signaling that the producer can no longer successfully write to the stream and it is to be\n     * immediately moved to an errored state, with any queued-up writes discarded. This will also execute any abort\n     * mechanism of the underlying sink.\n     *\n     * The returned promise will fulfill if the stream shuts down successfully, or reject if the underlying sink signaled\n     * that there was an error doing so. Additionally, it will reject with a `TypeError` (without attempting to cancel\n     * the stream) if the stream is currently locked.\n     */\n    abort(reason = undefined) {\n        if (!IsWritableStream(this)) {\n            return promiseRejectedWith(streamBrandCheckException$2('abort'));\n        }\n        if (IsWritableStreamLocked(this)) {\n            return promiseRejectedWith(new TypeError('Cannot abort a stream that already has a writer'));\n        }\n        return WritableStreamAbort(this, reason);\n    }\n    /**\n     * Closes the stream. The underlying sink will finish processing any previously-written chunks, before invoking its\n     * close behavior. During this time any further attempts to write will fail (without erroring the stream).\n     *\n     * The method returns a promise that will fulfill if all remaining chunks are successfully written and the stream\n     * successfully closes, or rejects if an error is encountered during this process. Additionally, it will reject with\n     * a `TypeError` (without attempting to cancel the stream) if the stream is currently locked.\n     */\n    close() {\n        if (!IsWritableStream(this)) {\n            return promiseRejectedWith(streamBrandCheckException$2('close'));\n        }\n        if (IsWritableStreamLocked(this)) {\n            return promiseRejectedWith(new TypeError('Cannot close a stream that already has a writer'));\n        }\n        if (WritableStreamCloseQueuedOrInFlight(this)) {\n            return promiseRejectedWith(new TypeError('Cannot close an already-closing stream'));\n        }\n        return WritableStreamClose(this);\n    }\n    /**\n     * Creates a {@link WritableStreamDefaultWriter | writer} and locks the stream to the new writer. While the stream\n     * is locked, no other writer can be acquired until this one is released.\n     *\n     * This functionality is especially useful for creating abstractions that desire the ability to write to a stream\n     * without interruption or interleaving. By getting a writer for the stream, you can ensure nobody else can write at\n     * the same time, which would cause the resulting written data to be unpredictable and probably useless.\n     */\n    getWriter() {\n        if (!IsWritableStream(this)) {\n            throw streamBrandCheckException$2('getWriter');\n        }\n        return AcquireWritableStreamDefaultWriter(this);\n    }\n}\nObject.defineProperties(WritableStream.prototype, {\n    abort: { enumerable: true },\n    close: { enumerable: true },\n    getWriter: { enumerable: true },\n    locked: { enumerable: true }\n});\nif (typeof SymbolPolyfill.toStringTag === 'symbol') {\n    Object.defineProperty(WritableStream.prototype, SymbolPolyfill.toStringTag, {\n        value: 'WritableStream',\n        configurable: true\n    });\n}\n// Abstract operations for the WritableStream.\nfunction AcquireWritableStreamDefaultWriter(stream) {\n    return new WritableStreamDefaultWriter(stream);\n}\n// Throws if and only if startAlgorithm throws.\nfunction CreateWritableStream(startAlgorithm, writeAlgorithm, closeAlgorithm, abortAlgorithm, highWaterMark = 1, sizeAlgorithm = () => 1) {\n    const stream = Object.create(WritableStream.prototype);\n    InitializeWritableStream(stream);\n    const controller = Object.create(WritableStreamDefaultController.prototype);\n    SetUpWritableStreamDefaultController(stream, controller, startAlgorithm, writeAlgorithm, closeAlgorithm, abortAlgorithm, highWaterMark, sizeAlgorithm);\n    return stream;\n}\nfunction InitializeWritableStream(stream) {\n    stream._state = 'writable';\n    // The error that will be reported by new method calls once the state becomes errored. Only set when [[state]] is\n    // 'erroring' or 'errored'. May be set to an undefined value.\n    stream._storedError = undefined;\n    stream._writer = undefined;\n    // Initialize to undefined first because the constructor of the controller checks this\n    // variable to validate the caller.\n    stream._writableStreamController = undefined;\n    // This queue is placed here instead of the writer class in order to allow for passing a writer to the next data\n    // producer without waiting for the queued writes to finish.\n    stream._writeRequests = new SimpleQueue();\n    // Write requests are removed from _writeRequests when write() is called on the underlying sink. This prevents\n    // them from being erroneously rejected on error. If a write() call is in-flight, the request is stored here.\n    stream._inFlightWriteRequest = undefined;\n    // The promise that was returned from writer.close(). Stored here because it may be fulfilled after the writer\n    // has been detached.\n    stream._closeRequest = undefined;\n    // Close request is removed from _closeRequest when close() is called on the underlying sink. This prevents it\n    // from being erroneously rejected on error. If a close() call is in-flight, the request is stored here.\n    stream._inFlightCloseRequest = undefined;\n    // The promise that was returned from writer.abort(). This may also be fulfilled after the writer has detached.\n    stream._pendingAbortRequest = undefined;\n    // The backpressure signal set by the controller.\n    stream._backpressure = false;\n}\nfunction IsWritableStream(x) {\n    if (!typeIsObject(x)) {\n        return false;\n    }\n    if (!Object.prototype.hasOwnProperty.call(x, '_writableStreamController')) {\n        return false;\n    }\n    return x instanceof WritableStream;\n}\nfunction IsWritableStreamLocked(stream) {\n    if (stream._writer === undefined) {\n        return false;\n    }\n    return true;\n}\nfunction WritableStreamAbort(stream, reason) {\n    var _a;\n    if (stream._state === 'closed' || stream._state === 'errored') {\n        return promiseResolvedWith(undefined);\n    }\n    stream._writableStreamController._abortReason = reason;\n    (_a = stream._writableStreamController._abortController) === null || _a === void 0 ? void 0 : _a.abort();\n    // TypeScript narrows the type of `stream._state` down to 'writable' | 'erroring',\n    // but it doesn't know that signaling abort runs author code that might have changed the state.\n    // Widen the type again by casting to WritableStreamState.\n    const state = stream._state;\n    if (state === 'closed' || state === 'errored') {\n        return promiseResolvedWith(undefined);\n    }\n    if (stream._pendingAbortRequest !== undefined) {\n        return stream._pendingAbortRequest._promise;\n    }\n    let wasAlreadyErroring = false;\n    if (state === 'erroring') {\n        wasAlreadyErroring = true;\n        // reason will not be used, so don't keep a reference to it.\n        reason = undefined;\n    }\n    const promise = newPromise((resolve, reject) => {\n        stream._pendingAbortRequest = {\n            _promise: undefined,\n            _resolve: resolve,\n            _reject: reject,\n            _reason: reason,\n            _wasAlreadyErroring: wasAlreadyErroring\n        };\n    });\n    stream._pendingAbortRequest._promise = promise;\n    if (!wasAlreadyErroring) {\n        WritableStreamStartErroring(stream, reason);\n    }\n    return promise;\n}\nfunction WritableStreamClose(stream) {\n    const state = stream._state;\n    if (state === 'closed' || state === 'errored') {\n        return promiseRejectedWith(new TypeError(`The stream (in ${state} state) is not in the writable state and cannot be closed`));\n    }\n    const promise = newPromise((resolve, reject) => {\n        const closeRequest = {\n            _resolve: resolve,\n            _reject: reject\n        };\n        stream._closeRequest = closeRequest;\n    });\n    const writer = stream._writer;\n    if (writer !== undefined && stream._backpressure && state === 'writable') {\n        defaultWriterReadyPromiseResolve(writer);\n    }\n    WritableStreamDefaultControllerClose(stream._writableStreamController);\n    return promise;\n}\n// WritableStream API exposed for controllers.\nfunction WritableStreamAddWriteRequest(stream) {\n    const promise = newPromise((resolve, reject) => {\n        const writeRequest = {\n            _resolve: resolve,\n            _reject: reject\n        };\n        stream._writeRequests.push(writeRequest);\n    });\n    return promise;\n}\nfunction WritableStreamDealWithRejection(stream, error) {\n    const state = stream._state;\n    if (state === 'writable') {\n        WritableStreamStartErroring(stream, error);\n        return;\n    }\n    WritableStreamFinishErroring(stream);\n}\nfunction WritableStreamStartErroring(stream, reason) {\n    const controller = stream._writableStreamController;\n    stream._state = 'erroring';\n    stream._storedError = reason;\n    const writer = stream._writer;\n    if (writer !== undefined) {\n        WritableStreamDefaultWriterEnsureReadyPromiseRejected(writer, reason);\n    }\n    if (!WritableStreamHasOperationMarkedInFlight(stream) && controller._started) {\n        WritableStreamFinishErroring(stream);\n    }\n}\nfunction WritableStreamFinishErroring(stream) {\n    stream._state = 'errored';\n    stream._writableStreamController[ErrorSteps]();\n    const storedError = stream._storedError;\n    stream._writeRequests.forEach(writeRequest => {\n        writeRequest._reject(storedError);\n    });\n    stream._writeRequests = new SimpleQueue();\n    if (stream._pendingAbortRequest === undefined) {\n        WritableStreamRejectCloseAndClosedPromiseIfNeeded(stream);\n        return;\n    }\n    const abortRequest = stream._pendingAbortRequest;\n    stream._pendingAbortRequest = undefined;\n    if (abortRequest._wasAlreadyErroring) {\n        abortRequest._reject(storedError);\n        WritableStreamRejectCloseAndClosedPromiseIfNeeded(stream);\n        return;\n    }\n    const promise = stream._writableStreamController[AbortSteps](abortRequest._reason);\n    uponPromise(promise, () => {\n        abortRequest._resolve();\n        WritableStreamRejectCloseAndClosedPromiseIfNeeded(stream);\n    }, (reason) => {\n        abortRequest._reject(reason);\n        WritableStreamRejectCloseAndClosedPromiseIfNeeded(stream);\n    });\n}\nfunction WritableStreamFinishInFlightWrite(stream) {\n    stream._inFlightWriteRequest._resolve(undefined);\n    stream._inFlightWriteRequest = undefined;\n}\nfunction WritableStreamFinishInFlightWriteWithError(stream, error) {\n    stream._inFlightWriteRequest._reject(error);\n    stream._inFlightWriteRequest = undefined;\n    WritableStreamDealWithRejection(stream, error);\n}\nfunction WritableStreamFinishInFlightClose(stream) {\n    stream._inFlightCloseRequest._resolve(undefined);\n    stream._inFlightCloseRequest = undefined;\n    const state = stream._state;\n    if (state === 'erroring') {\n        // The error was too late to do anything, so it is ignored.\n        stream._storedError = undefined;\n        if (stream._pendingAbortRequest !== undefined) {\n            stream._pendingAbortRequest._resolve();\n            stream._pendingAbortRequest = undefined;\n        }\n    }\n    stream._state = 'closed';\n    const writer = stream._writer;\n    if (writer !== undefined) {\n        defaultWriterClosedPromiseResolve(writer);\n    }\n}\nfunction WritableStreamFinishInFlightCloseWithError(stream, error) {\n    stream._inFlightCloseRequest._reject(error);\n    stream._inFlightCloseRequest = undefined;\n    // Never execute sink abort() after sink close().\n    if (stream._pendingAbortRequest !== undefined) {\n        stream._pendingAbortRequest._reject(error);\n        stream._pendingAbortRequest = undefined;\n    }\n    WritableStreamDealWithRejection(stream, error);\n}\n// TODO(ricea): Fix alphabetical order.\nfunction WritableStreamCloseQueuedOrInFlight(stream) {\n    if (stream._closeRequest === undefined && stream._inFlightCloseRequest === undefined) {\n        return false;\n    }\n    return true;\n}\nfunction WritableStreamHasOperationMarkedInFlight(stream) {\n    if (stream._inFlightWriteRequest === undefined && stream._inFlightCloseRequest === undefined) {\n        return false;\n    }\n    return true;\n}\nfunction WritableStreamMarkCloseRequestInFlight(stream) {\n    stream._inFlightCloseRequest = stream._closeRequest;\n    stream._closeRequest = undefined;\n}\nfunction WritableStreamMarkFirstWriteRequestInFlight(stream) {\n    stream._inFlightWriteRequest = stream._writeRequests.shift();\n}\nfunction WritableStreamRejectCloseAndClosedPromiseIfNeeded(stream) {\n    if (stream._closeRequest !== undefined) {\n        stream._closeRequest._reject(stream._storedError);\n        stream._closeRequest = undefined;\n    }\n    const writer = stream._writer;\n    if (writer !== undefined) {\n        defaultWriterClosedPromiseReject(writer, stream._storedError);\n    }\n}\nfunction WritableStreamUpdateBackpressure(stream, backpressure) {\n    const writer = stream._writer;\n    if (writer !== undefined && backpressure !== stream._backpressure) {\n        if (backpressure) {\n            defaultWriterReadyPromiseReset(writer);\n        }\n        else {\n            defaultWriterReadyPromiseResolve(writer);\n        }\n    }\n    stream._backpressure = backpressure;\n}\n/**\n * A default writer vended by a {@link WritableStream}.\n *\n * @public\n */\nclass WritableStreamDefaultWriter {\n    constructor(stream) {\n        assertRequiredArgument(stream, 1, 'WritableStreamDefaultWriter');\n        assertWritableStream(stream, 'First parameter');\n        if (IsWritableStreamLocked(stream)) {\n            throw new TypeError('This stream has already been locked for exclusive writing by another writer');\n        }\n        this._ownerWritableStream = stream;\n        stream._writer = this;\n        const state = stream._state;\n        if (state === 'writable') {\n            if (!WritableStreamCloseQueuedOrInFlight(stream) && stream._backpressure) {\n                defaultWriterReadyPromiseInitialize(this);\n            }\n            else {\n                defaultWriterReadyPromiseInitializeAsResolved(this);\n            }\n            defaultWriterClosedPromiseInitialize(this);\n        }\n        else if (state === 'erroring') {\n            defaultWriterReadyPromiseInitializeAsRejected(this, stream._storedError);\n            defaultWriterClosedPromiseInitialize(this);\n        }\n        else if (state === 'closed') {\n            defaultWriterReadyPromiseInitializeAsResolved(this);\n            defaultWriterClosedPromiseInitializeAsResolved(this);\n        }\n        else {\n            const storedError = stream._storedError;\n            defaultWriterReadyPromiseInitializeAsRejected(this, storedError);\n            defaultWriterClosedPromiseInitializeAsRejected(this, storedError);\n        }\n    }\n    /**\n     * Returns a promise that will be fulfilled when the stream becomes closed, or rejected if the stream ever errors or\n     * the writers lock is released before the stream finishes closing.\n     */\n    get closed() {\n        if (!IsWritableStreamDefaultWriter(this)) {\n            return promiseRejectedWith(defaultWriterBrandCheckException('closed'));\n        }\n        return this._closedPromise;\n    }\n    /**\n     * Returns the desired size to fill the streams internal queue. It can be negative, if the queue is over-full.\n     * A producer can use this information to determine the right amount of data to write.\n     *\n     * It will be `null` if the stream cannot be successfully written to (due to either being errored, or having an abort\n     * queued up). It will return zero if the stream is closed. And the getter will throw an exception if invoked when\n     * the writers lock is released.\n     */\n    get desiredSize() {\n        if (!IsWritableStreamDefaultWriter(this)) {\n            throw defaultWriterBrandCheckException('desiredSize');\n        }\n        if (this._ownerWritableStream === undefined) {\n            throw defaultWriterLockException('desiredSize');\n        }\n        return WritableStreamDefaultWriterGetDesiredSize(this);\n    }\n    /**\n     * Returns a promise that will be fulfilled when the desired size to fill the streams internal queue transitions\n     * from non-positive to positive, signaling that it is no longer applying backpressure. Once the desired size dips\n     * back to zero or below, the getter will return a new promise that stays pending until the next transition.\n     *\n     * If the stream becomes errored or aborted, or the writers lock is released, the returned promise will become\n     * rejected.\n     */\n    get ready() {\n        if (!IsWritableStreamDefaultWriter(this)) {\n            return promiseRejectedWith(defaultWriterBrandCheckException('ready'));\n        }\n        return this._readyPromise;\n    }\n    /**\n     * If the reader is active, behaves the same as {@link WritableStream.abort | stream.abort(reason)}.\n     */\n    abort(reason = undefined) {\n        if (!IsWritableStreamDefaultWriter(this)) {\n            return promiseRejectedWith(defaultWriterBrandCheckException('abort'));\n        }\n        if (this._ownerWritableStream === undefined) {\n            return promiseRejectedWith(defaultWriterLockException('abort'));\n        }\n        return WritableStreamDefaultWriterAbort(this, reason);\n    }\n    /**\n     * If the reader is active, behaves the same as {@link WritableStream.close | stream.close()}.\n     */\n    close() {\n        if (!IsWritableStreamDefaultWriter(this)) {\n            return promiseRejectedWith(defaultWriterBrandCheckException('close'));\n        }\n        const stream = this._ownerWritableStream;\n        if (stream === undefined) {\n            return promiseRejectedWith(defaultWriterLockException('close'));\n        }\n        if (WritableStreamCloseQueuedOrInFlight(stream)) {\n            return promiseRejectedWith(new TypeError('Cannot close an already-closing stream'));\n        }\n        return WritableStreamDefaultWriterClose(this);\n    }\n    /**\n     * Releases the writers lock on the corresponding stream. After the lock is released, the writer is no longer active.\n     * If the associated stream is errored when the lock is released, the writer will appear errored in the same way from\n     * now on; otherwise, the writer will appear closed.\n     *\n     * Note that the lock can still be released even if some ongoing writes have not yet finished (i.e. even if the\n     * promises returned from previous calls to {@link WritableStreamDefaultWriter.write | write()} have not yet settled).\n     * Its not necessary to hold the lock on the writer for the duration of the write; the lock instead simply prevents\n     * other producers from writing in an interleaved manner.\n     */\n    releaseLock() {\n        if (!IsWritableStreamDefaultWriter(this)) {\n            throw defaultWriterBrandCheckException('releaseLock');\n        }\n        const stream = this._ownerWritableStream;\n        if (stream === undefined) {\n            return;\n        }\n        WritableStreamDefaultWriterRelease(this);\n    }\n    write(chunk = undefined) {\n        if (!IsWritableStreamDefaultWriter(this)) {\n            return promiseRejectedWith(defaultWriterBrandCheckException('write'));\n        }\n        if (this._ownerWritableStream === undefined) {\n            return promiseRejectedWith(defaultWriterLockException('write to'));\n        }\n        return WritableStreamDefaultWriterWrite(this, chunk);\n    }\n}\nObject.defineProperties(WritableStreamDefaultWriter.prototype, {\n    abort: { enumerable: true },\n    close: { enumerable: true },\n    releaseLock: { enumerable: true },\n    write: { enumerable: true },\n    closed: { enumerable: true },\n    desiredSize: { enumerable: true },\n    ready: { enumerable: true }\n});\nif (typeof SymbolPolyfill.toStringTag === 'symbol') {\n    Object.defineProperty(WritableStreamDefaultWriter.prototype, SymbolPolyfill.toStringTag, {\n        value: 'WritableStreamDefaultWriter',\n        configurable: true\n    });\n}\n// Abstract operations for the WritableStreamDefaultWriter.\nfunction IsWritableStreamDefaultWriter(x) {\n    if (!typeIsObject(x)) {\n        return false;\n    }\n    if (!Object.prototype.hasOwnProperty.call(x, '_ownerWritableStream')) {\n        return false;\n    }\n    return x instanceof WritableStreamDefaultWriter;\n}\n// A client of WritableStreamDefaultWriter may use these functions directly to bypass state check.\nfunction WritableStreamDefaultWriterAbort(writer, reason) {\n    const stream = writer._ownerWritableStream;\n    return WritableStreamAbort(stream, reason);\n}\nfunction WritableStreamDefaultWriterClose(writer) {\n    const stream = writer._ownerWritableStream;\n    return WritableStreamClose(stream);\n}\nfunction WritableStreamDefaultWriterCloseWithErrorPropagation(writer) {\n    const stream = writer._ownerWritableStream;\n    const state = stream._state;\n    if (WritableStreamCloseQueuedOrInFlight(stream) || state === 'closed') {\n        return promiseResolvedWith(undefined);\n    }\n    if (state === 'errored') {\n        return promiseRejectedWith(stream._storedError);\n    }\n    return WritableStreamDefaultWriterClose(writer);\n}\nfunction WritableStreamDefaultWriterEnsureClosedPromiseRejected(writer, error) {\n    if (writer._closedPromiseState === 'pending') {\n        defaultWriterClosedPromiseReject(writer, error);\n    }\n    else {\n        defaultWriterClosedPromiseResetToRejected(writer, error);\n    }\n}\nfunction WritableStreamDefaultWriterEnsureReadyPromiseRejected(writer, error) {\n    if (writer._readyPromiseState === 'pending') {\n        defaultWriterReadyPromiseReject(writer, error);\n    }\n    else {\n        defaultWriterReadyPromiseResetToRejected(writer, error);\n    }\n}\nfunction WritableStreamDefaultWriterGetDesiredSize(writer) {\n    const stream = writer._ownerWritableStream;\n    const state = stream._state;\n    if (state === 'errored' || state === 'erroring') {\n        return null;\n    }\n    if (state === 'closed') {\n        return 0;\n    }\n    return WritableStreamDefaultControllerGetDesiredSize(stream._writableStreamController);\n}\nfunction WritableStreamDefaultWriterRelease(writer) {\n    const stream = writer._ownerWritableStream;\n    const releasedError = new TypeError(`Writer was released and can no longer be used to monitor the stream's closedness`);\n    WritableStreamDefaultWriterEnsureReadyPromiseRejected(writer, releasedError);\n    // The state transitions to \"errored\" before the sink abort() method runs, but the writer.closed promise is not\n    // rejected until afterwards. This means that simply testing state will not work.\n    WritableStreamDefaultWriterEnsureClosedPromiseRejected(writer, releasedError);\n    stream._writer = undefined;\n    writer._ownerWritableStream = undefined;\n}\nfunction WritableStreamDefaultWriterWrite(writer, chunk) {\n    const stream = writer._ownerWritableStream;\n    const controller = stream._writableStreamController;\n    const chunkSize = WritableStreamDefaultControllerGetChunkSize(controller, chunk);\n    if (stream !== writer._ownerWritableStream) {\n        return promiseRejectedWith(defaultWriterLockException('write to'));\n    }\n    const state = stream._state;\n    if (state === 'errored') {\n        return promiseRejectedWith(stream._storedError);\n    }\n    if (WritableStreamCloseQueuedOrInFlight(stream) || state === 'closed') {\n        return promiseRejectedWith(new TypeError('The stream is closing or closed and cannot be written to'));\n    }\n    if (state === 'erroring') {\n        return promiseRejectedWith(stream._storedError);\n    }\n    const promise = WritableStreamAddWriteRequest(stream);\n    WritableStreamDefaultControllerWrite(controller, chunk, chunkSize);\n    return promise;\n}\nconst closeSentinel = {};\n/**\n * Allows control of a {@link WritableStream | writable stream}'s state and internal queue.\n *\n * @public\n */\nclass WritableStreamDefaultController {\n    constructor() {\n        throw new TypeError('Illegal constructor');\n    }\n    /**\n     * The reason which was passed to `WritableStream.abort(reason)` when the stream was aborted.\n     *\n     * @deprecated\n     *  This property has been removed from the specification, see https://github.com/whatwg/streams/pull/1177.\n     *  Use {@link WritableStreamDefaultController.signal}'s `reason` instead.\n     */\n    get abortReason() {\n        if (!IsWritableStreamDefaultController(this)) {\n            throw defaultControllerBrandCheckException$2('abortReason');\n        }\n        return this._abortReason;\n    }\n    /**\n     * An `AbortSignal` that can be used to abort the pending write or close operation when the stream is aborted.\n     */\n    get signal() {\n        if (!IsWritableStreamDefaultController(this)) {\n            throw defaultControllerBrandCheckException$2('signal');\n        }\n        if (this._abortController === undefined) {\n            // Older browsers or older Node versions may not support `AbortController` or `AbortSignal`.\n            // We don't want to bundle and ship an `AbortController` polyfill together with our polyfill,\n            // so instead we only implement support for `signal` if we find a global `AbortController` constructor.\n            throw new TypeError('WritableStreamDefaultController.prototype.signal is not supported');\n        }\n        return this._abortController.signal;\n    }\n    /**\n     * Closes the controlled writable stream, making all future interactions with it fail with the given error `e`.\n     *\n     * This method is rarely used, since usually it suffices to return a rejected promise from one of the underlying\n     * sink's methods. However, it can be useful for suddenly shutting down a stream in response to an event outside the\n     * normal lifecycle of interactions with the underlying sink.\n     */\n    error(e = undefined) {\n        if (!IsWritableStreamDefaultController(this)) {\n            throw defaultControllerBrandCheckException$2('error');\n        }\n        const state = this._controlledWritableStream._state;\n        if (state !== 'writable') {\n            // The stream is closed, errored or will be soon. The sink can't do anything useful if it gets an error here, so\n            // just treat it as a no-op.\n            return;\n        }\n        WritableStreamDefaultControllerError(this, e);\n    }\n    /** @internal */\n    [AbortSteps](reason) {\n        const result = this._abortAlgorithm(reason);\n        WritableStreamDefaultControllerClearAlgorithms(this);\n        return result;\n    }\n    /** @internal */\n    [ErrorSteps]() {\n        ResetQueue(this);\n    }\n}\nObject.defineProperties(WritableStreamDefaultController.prototype, {\n    abortReason: { enumerable: true },\n    signal: { enumerable: true },\n    error: { enumerable: true }\n});\nif (typeof SymbolPolyfill.toStringTag === 'symbol') {\n    Object.defineProperty(WritableStreamDefaultController.prototype, SymbolPolyfill.toStringTag, {\n        value: 'WritableStreamDefaultController',\n        configurable: true\n    });\n}\n// Abstract operations implementing interface required by the WritableStream.\nfunction IsWritableStreamDefaultController(x) {\n    if (!typeIsObject(x)) {\n        return false;\n    }\n    if (!Object.prototype.hasOwnProperty.call(x, '_controlledWritableStream')) {\n        return false;\n    }\n    return x instanceof WritableStreamDefaultController;\n}\nfunction SetUpWritableStreamDefaultController(stream, controller, startAlgorithm, writeAlgorithm, closeAlgorithm, abortAlgorithm, highWaterMark, sizeAlgorithm) {\n    controller._controlledWritableStream = stream;\n    stream._writableStreamController = controller;\n    // Need to set the slots so that the assert doesn't fire. In the spec the slots already exist implicitly.\n    controller._queue = undefined;\n    controller._queueTotalSize = undefined;\n    ResetQueue(controller);\n    controller._abortReason = undefined;\n    controller._abortController = createAbortController();\n    controller._started = false;\n    controller._strategySizeAlgorithm = sizeAlgorithm;\n    controller._strategyHWM = highWaterMark;\n    controller._writeAlgorithm = writeAlgorithm;\n    controller._closeAlgorithm = closeAlgorithm;\n    controller._abortAlgorithm = abortAlgorithm;\n    const backpressure = WritableStreamDefaultControllerGetBackpressure(controller);\n    WritableStreamUpdateBackpressure(stream, backpressure);\n    const startResult = startAlgorithm();\n    const startPromise = promiseResolvedWith(startResult);\n    uponPromise(startPromise, () => {\n        controller._started = true;\n        WritableStreamDefaultControllerAdvanceQueueIfNeeded(controller);\n    }, r => {\n        controller._started = true;\n        WritableStreamDealWithRejection(stream, r);\n    });\n}\nfunction SetUpWritableStreamDefaultControllerFromUnderlyingSink(stream, underlyingSink, highWaterMark, sizeAlgorithm) {\n    const controller = Object.create(WritableStreamDefaultController.prototype);\n    let startAlgorithm = () => undefined;\n    let writeAlgorithm = () => promiseResolvedWith(undefined);\n    let closeAlgorithm = () => promiseResolvedWith(undefined);\n    let abortAlgorithm = () => promiseResolvedWith(undefined);\n    if (underlyingSink.start !== undefined) {\n        startAlgorithm = () => underlyingSink.start(controller);\n    }\n    if (underlyingSink.write !== undefined) {\n        writeAlgorithm = chunk => underlyingSink.write(chunk, controller);\n    }\n    if (underlyingSink.close !== undefined) {\n        closeAlgorithm = () => underlyingSink.close();\n    }\n    if (underlyingSink.abort !== undefined) {\n        abortAlgorithm = reason => underlyingSink.abort(reason);\n    }\n    SetUpWritableStreamDefaultController(stream, controller, startAlgorithm, writeAlgorithm, closeAlgorithm, abortAlgorithm, highWaterMark, sizeAlgorithm);\n}\n// ClearAlgorithms may be called twice. Erroring the same stream in multiple ways will often result in redundant calls.\nfunction WritableStreamDefaultControllerClearAlgorithms(controller) {\n    controller._writeAlgorithm = undefined;\n    controller._closeAlgorithm = undefined;\n    controller._abortAlgorithm = undefined;\n    controller._strategySizeAlgorithm = undefined;\n}\nfunction WritableStreamDefaultControllerClose(controller) {\n    EnqueueValueWithSize(controller, closeSentinel, 0);\n    WritableStreamDefaultControllerAdvanceQueueIfNeeded(controller);\n}\nfunction WritableStreamDefaultControllerGetChunkSize(controller, chunk) {\n    try {\n        return controller._strategySizeAlgorithm(chunk);\n    }\n    catch (chunkSizeE) {\n        WritableStreamDefaultControllerErrorIfNeeded(controller, chunkSizeE);\n        return 1;\n    }\n}\nfunction WritableStreamDefaultControllerGetDesiredSize(controller) {\n    return controller._strategyHWM - controller._queueTotalSize;\n}\nfunction WritableStreamDefaultControllerWrite(controller, chunk, chunkSize) {\n    try {\n        EnqueueValueWithSize(controller, chunk, chunkSize);\n    }\n    catch (enqueueE) {\n        WritableStreamDefaultControllerErrorIfNeeded(controller, enqueueE);\n        return;\n    }\n    const stream = controller._controlledWritableStream;\n    if (!WritableStreamCloseQueuedOrInFlight(stream) && stream._state === 'writable') {\n        const backpressure = WritableStreamDefaultControllerGetBackpressure(controller);\n        WritableStreamUpdateBackpressure(stream, backpressure);\n    }\n    WritableStreamDefaultControllerAdvanceQueueIfNeeded(controller);\n}\n// Abstract operations for the WritableStreamDefaultController.\nfunction WritableStreamDefaultControllerAdvanceQueueIfNeeded(controller) {\n    const stream = controller._controlledWritableStream;\n    if (!controller._started) {\n        return;\n    }\n    if (stream._inFlightWriteRequest !== undefined) {\n        return;\n    }\n    const state = stream._state;\n    if (state === 'erroring') {\n        WritableStreamFinishErroring(stream);\n        return;\n    }\n    if (controller._queue.length === 0) {\n        return;\n    }\n    const value = PeekQueueValue(controller);\n    if (value === closeSentinel) {\n        WritableStreamDefaultControllerProcessClose(controller);\n    }\n    else {\n        WritableStreamDefaultControllerProcessWrite(controller, value);\n    }\n}\nfunction WritableStreamDefaultControllerErrorIfNeeded(controller, error) {\n    if (controller._controlledWritableStream._state === 'writable') {\n        WritableStreamDefaultControllerError(controller, error);\n    }\n}\nfunction WritableStreamDefaultControllerProcessClose(controller) {\n    const stream = controller._controlledWritableStream;\n    WritableStreamMarkCloseRequestInFlight(stream);\n    DequeueValue(controller);\n    const sinkClosePromise = controller._closeAlgorithm();\n    WritableStreamDefaultControllerClearAlgorithms(controller);\n    uponPromise(sinkClosePromise, () => {\n        WritableStreamFinishInFlightClose(stream);\n    }, reason => {\n        WritableStreamFinishInFlightCloseWithError(stream, reason);\n    });\n}\nfunction WritableStreamDefaultControllerProcessWrite(controller, chunk) {\n    const stream = controller._controlledWritableStream;\n    WritableStreamMarkFirstWriteRequestInFlight(stream);\n    const sinkWritePromise = controller._writeAlgorithm(chunk);\n    uponPromise(sinkWritePromise, () => {\n        WritableStreamFinishInFlightWrite(stream);\n        const state = stream._state;\n        DequeueValue(controller);\n        if (!WritableStreamCloseQueuedOrInFlight(stream) && state === 'writable') {\n            const backpressure = WritableStreamDefaultControllerGetBackpressure(controller);\n            WritableStreamUpdateBackpressure(stream, backpressure);\n        }\n        WritableStreamDefaultControllerAdvanceQueueIfNeeded(controller);\n    }, reason => {\n        if (stream._state === 'writable') {\n            WritableStreamDefaultControllerClearAlgorithms(controller);\n        }\n        WritableStreamFinishInFlightWriteWithError(stream, reason);\n    });\n}\nfunction WritableStreamDefaultControllerGetBackpressure(controller) {\n    const desiredSize = WritableStreamDefaultControllerGetDesiredSize(controller);\n    return desiredSize <= 0;\n}\n// A client of WritableStreamDefaultController may use these functions directly to bypass state check.\nfunction WritableStreamDefaultControllerError(controller, error) {\n    const stream = controller._controlledWritableStream;\n    WritableStreamDefaultControllerClearAlgorithms(controller);\n    WritableStreamStartErroring(stream, error);\n}\n// Helper functions for the WritableStream.\nfunction streamBrandCheckException$2(name) {\n    return new TypeError(`WritableStream.prototype.${name} can only be used on a WritableStream`);\n}\n// Helper functions for the WritableStreamDefaultController.\nfunction defaultControllerBrandCheckException$2(name) {\n    return new TypeError(`WritableStreamDefaultController.prototype.${name} can only be used on a WritableStreamDefaultController`);\n}\n// Helper functions for the WritableStreamDefaultWriter.\nfunction defaultWriterBrandCheckException(name) {\n    return new TypeError(`WritableStreamDefaultWriter.prototype.${name} can only be used on a WritableStreamDefaultWriter`);\n}\nfunction defaultWriterLockException(name) {\n    return new TypeError('Cannot ' + name + ' a stream using a released writer');\n}\nfunction defaultWriterClosedPromiseInitialize(writer) {\n    writer._closedPromise = newPromise((resolve, reject) => {\n        writer._closedPromise_resolve = resolve;\n        writer._closedPromise_reject = reject;\n        writer._closedPromiseState = 'pending';\n    });\n}\nfunction defaultWriterClosedPromiseInitializeAsRejected(writer, reason) {\n    defaultWriterClosedPromiseInitialize(writer);\n    defaultWriterClosedPromiseReject(writer, reason);\n}\nfunction defaultWriterClosedPromiseInitializeAsResolved(writer) {\n    defaultWriterClosedPromiseInitialize(writer);\n    defaultWriterClosedPromiseResolve(writer);\n}\nfunction defaultWriterClosedPromiseReject(writer, reason) {\n    if (writer._closedPromise_reject === undefined) {\n        return;\n    }\n    setPromiseIsHandledToTrue(writer._closedPromise);\n    writer._closedPromise_reject(reason);\n    writer._closedPromise_resolve = undefined;\n    writer._closedPromise_reject = undefined;\n    writer._closedPromiseState = 'rejected';\n}\nfunction defaultWriterClosedPromiseResetToRejected(writer, reason) {\n    defaultWriterClosedPromiseInitializeAsRejected(writer, reason);\n}\nfunction defaultWriterClosedPromiseResolve(writer) {\n    if (writer._closedPromise_resolve === undefined) {\n        return;\n    }\n    writer._closedPromise_resolve(undefined);\n    writer._closedPromise_resolve = undefined;\n    writer._closedPromise_reject = undefined;\n    writer._closedPromiseState = 'resolved';\n}\nfunction defaultWriterReadyPromiseInitialize(writer) {\n    writer._readyPromise = newPromise((resolve, reject) => {\n        writer._readyPromise_resolve = resolve;\n        writer._readyPromise_reject = reject;\n    });\n    writer._readyPromiseState = 'pending';\n}\nfunction defaultWriterReadyPromiseInitializeAsRejected(writer, reason) {\n    defaultWriterReadyPromiseInitialize(writer);\n    defaultWriterReadyPromiseReject(writer, reason);\n}\nfunction defaultWriterReadyPromiseInitializeAsResolved(writer) {\n    defaultWriterReadyPromiseInitialize(writer);\n    defaultWriterReadyPromiseResolve(writer);\n}\nfunction defaultWriterReadyPromiseReject(writer, reason) {\n    if (writer._readyPromise_reject === undefined) {\n        return;\n    }\n    setPromiseIsHandledToTrue(writer._readyPromise);\n    writer._readyPromise_reject(reason);\n    writer._readyPromise_resolve = undefined;\n    writer._readyPromise_reject = undefined;\n    writer._readyPromiseState = 'rejected';\n}\nfunction defaultWriterReadyPromiseReset(writer) {\n    defaultWriterReadyPromiseInitialize(writer);\n}\nfunction defaultWriterReadyPromiseResetToRejected(writer, reason) {\n    defaultWriterReadyPromiseInitializeAsRejected(writer, reason);\n}\nfunction defaultWriterReadyPromiseResolve(writer) {\n    if (writer._readyPromise_resolve === undefined) {\n        return;\n    }\n    writer._readyPromise_resolve(undefined);\n    writer._readyPromise_resolve = undefined;\n    writer._readyPromise_reject = undefined;\n    writer._readyPromiseState = 'fulfilled';\n}\n\n/// <reference lib=\"dom\" />\nconst NativeDOMException = typeof DOMException !== 'undefined' ? DOMException : undefined;\n\n/// <reference types=\"node\" />\nfunction isDOMExceptionConstructor(ctor) {\n    if (!(typeof ctor === 'function' || typeof ctor === 'object')) {\n        return false;\n    }\n    try {\n        new ctor();\n        return true;\n    }\n    catch (_a) {\n        return false;\n    }\n}\nfunction createDOMExceptionPolyfill() {\n    // eslint-disable-next-line no-shadow\n    const ctor = function DOMException(message, name) {\n        this.message = message || '';\n        this.name = name || 'Error';\n        if (Error.captureStackTrace) {\n            Error.captureStackTrace(this, this.constructor);\n        }\n    };\n    ctor.prototype = Object.create(Error.prototype);\n    Object.defineProperty(ctor.prototype, 'constructor', { value: ctor, writable: true, configurable: true });\n    return ctor;\n}\n// eslint-disable-next-line no-redeclare\nconst DOMException$1 = isDOMExceptionConstructor(NativeDOMException) ? NativeDOMException : createDOMExceptionPolyfill();\n\nfunction ReadableStreamPipeTo(source, dest, preventClose, preventAbort, preventCancel, signal) {\n    const reader = AcquireReadableStreamDefaultReader(source);\n    const writer = AcquireWritableStreamDefaultWriter(dest);\n    source._disturbed = true;\n    let shuttingDown = false;\n    // This is used to keep track of the spec's requirement that we wait for ongoing writes during shutdown.\n    let currentWrite = promiseResolvedWith(undefined);\n    return newPromise((resolve, reject) => {\n        let abortAlgorithm;\n        if (signal !== undefined) {\n            abortAlgorithm = () => {\n                const error = new DOMException$1('Aborted', 'AbortError');\n                const actions = [];\n                if (!preventAbort) {\n                    actions.push(() => {\n                        if (dest._state === 'writable') {\n                            return WritableStreamAbort(dest, error);\n                        }\n                        return promiseResolvedWith(undefined);\n                    });\n                }\n                if (!preventCancel) {\n                    actions.push(() => {\n                        if (source._state === 'readable') {\n                            return ReadableStreamCancel(source, error);\n                        }\n                        return promiseResolvedWith(undefined);\n                    });\n                }\n                shutdownWithAction(() => Promise.all(actions.map(action => action())), true, error);\n            };\n            if (signal.aborted) {\n                abortAlgorithm();\n                return;\n            }\n            signal.addEventListener('abort', abortAlgorithm);\n        }\n        // Using reader and writer, read all chunks from this and write them to dest\n        // - Backpressure must be enforced\n        // - Shutdown must stop all activity\n        function pipeLoop() {\n            return newPromise((resolveLoop, rejectLoop) => {\n                function next(done) {\n                    if (done) {\n                        resolveLoop();\n                    }\n                    else {\n                        // Use `PerformPromiseThen` instead of `uponPromise` to avoid\n                        // adding unnecessary `.catch(rethrowAssertionErrorRejection)` handlers\n                        PerformPromiseThen(pipeStep(), next, rejectLoop);\n                    }\n                }\n                next(false);\n            });\n        }\n        function pipeStep() {\n            if (shuttingDown) {\n                return promiseResolvedWith(true);\n            }\n            return PerformPromiseThen(writer._readyPromise, () => {\n                return newPromise((resolveRead, rejectRead) => {\n                    ReadableStreamDefaultReaderRead(reader, {\n                        _chunkSteps: chunk => {\n                            currentWrite = PerformPromiseThen(WritableStreamDefaultWriterWrite(writer, chunk), undefined, noop);\n                            resolveRead(false);\n                        },\n                        _closeSteps: () => resolveRead(true),\n                        _errorSteps: rejectRead\n                    });\n                });\n            });\n        }\n        // Errors must be propagated forward\n        isOrBecomesErrored(source, reader._closedPromise, storedError => {\n            if (!preventAbort) {\n                shutdownWithAction(() => WritableStreamAbort(dest, storedError), true, storedError);\n            }\n            else {\n                shutdown(true, storedError);\n            }\n        });\n        // Errors must be propagated backward\n        isOrBecomesErrored(dest, writer._closedPromise, storedError => {\n            if (!preventCancel) {\n                shutdownWithAction(() => ReadableStreamCancel(source, storedError), true, storedError);\n            }\n            else {\n                shutdown(true, storedError);\n            }\n        });\n        // Closing must be propagated forward\n        isOrBecomesClosed(source, reader._closedPromise, () => {\n            if (!preventClose) {\n                shutdownWithAction(() => WritableStreamDefaultWriterCloseWithErrorPropagation(writer));\n            }\n            else {\n                shutdown();\n            }\n        });\n        // Closing must be propagated backward\n        if (WritableStreamCloseQueuedOrInFlight(dest) || dest._state === 'closed') {\n            const destClosed = new TypeError('the destination writable stream closed before all data could be piped to it');\n            if (!preventCancel) {\n                shutdownWithAction(() => ReadableStreamCancel(source, destClosed), true, destClosed);\n            }\n            else {\n                shutdown(true, destClosed);\n            }\n        }\n        setPromiseIsHandledToTrue(pipeLoop());\n        function waitForWritesToFinish() {\n            // Another write may have started while we were waiting on this currentWrite, so we have to be sure to wait\n            // for that too.\n            const oldCurrentWrite = currentWrite;\n            return PerformPromiseThen(currentWrite, () => oldCurrentWrite !== currentWrite ? waitForWritesToFinish() : undefined);\n        }\n        function isOrBecomesErrored(stream, promise, action) {\n            if (stream._state === 'errored') {\n                action(stream._storedError);\n            }\n            else {\n                uponRejection(promise, action);\n            }\n        }\n        function isOrBecomesClosed(stream, promise, action) {\n            if (stream._state === 'closed') {\n                action();\n            }\n            else {\n                uponFulfillment(promise, action);\n            }\n        }\n        function shutdownWithAction(action, originalIsError, originalError) {\n            if (shuttingDown) {\n                return;\n            }\n            shuttingDown = true;\n            if (dest._state === 'writable' && !WritableStreamCloseQueuedOrInFlight(dest)) {\n                uponFulfillment(waitForWritesToFinish(), doTheRest);\n            }\n            else {\n                doTheRest();\n            }\n            function doTheRest() {\n                uponPromise(action(), () => finalize(originalIsError, originalError), newError => finalize(true, newError));\n            }\n        }\n        function shutdown(isError, error) {\n            if (shuttingDown) {\n                return;\n            }\n            shuttingDown = true;\n            if (dest._state === 'writable' && !WritableStreamCloseQueuedOrInFlight(dest)) {\n                uponFulfillment(waitForWritesToFinish(), () => finalize(isError, error));\n            }\n            else {\n                finalize(isError, error);\n            }\n        }\n        function finalize(isError, error) {\n            WritableStreamDefaultWriterRelease(writer);\n            ReadableStreamReaderGenericRelease(reader);\n            if (signal !== undefined) {\n                signal.removeEventListener('abort', abortAlgorithm);\n            }\n            if (isError) {\n                reject(error);\n            }\n            else {\n                resolve(undefined);\n            }\n        }\n    });\n}\n\n/**\n * Allows control of a {@link ReadableStream | readable stream}'s state and internal queue.\n *\n * @public\n */\nclass ReadableStreamDefaultController {\n    constructor() {\n        throw new TypeError('Illegal constructor');\n    }\n    /**\n     * Returns the desired size to fill the controlled stream's internal queue. It can be negative, if the queue is\n     * over-full. An underlying source ought to use this information to determine when and how to apply backpressure.\n     */\n    get desiredSize() {\n        if (!IsReadableStreamDefaultController(this)) {\n            throw defaultControllerBrandCheckException$1('desiredSize');\n        }\n        return ReadableStreamDefaultControllerGetDesiredSize(this);\n    }\n    /**\n     * Closes the controlled readable stream. Consumers will still be able to read any previously-enqueued chunks from\n     * the stream, but once those are read, the stream will become closed.\n     */\n    close() {\n        if (!IsReadableStreamDefaultController(this)) {\n            throw defaultControllerBrandCheckException$1('close');\n        }\n        if (!ReadableStreamDefaultControllerCanCloseOrEnqueue(this)) {\n            throw new TypeError('The stream is not in a state that permits close');\n        }\n        ReadableStreamDefaultControllerClose(this);\n    }\n    enqueue(chunk = undefined) {\n        if (!IsReadableStreamDefaultController(this)) {\n            throw defaultControllerBrandCheckException$1('enqueue');\n        }\n        if (!ReadableStreamDefaultControllerCanCloseOrEnqueue(this)) {\n            throw new TypeError('The stream is not in a state that permits enqueue');\n        }\n        return ReadableStreamDefaultControllerEnqueue(this, chunk);\n    }\n    /**\n     * Errors the controlled readable stream, making all future interactions with it fail with the given error `e`.\n     */\n    error(e = undefined) {\n        if (!IsReadableStreamDefaultController(this)) {\n            throw defaultControllerBrandCheckException$1('error');\n        }\n        ReadableStreamDefaultControllerError(this, e);\n    }\n    /** @internal */\n    [CancelSteps](reason) {\n        ResetQueue(this);\n        const result = this._cancelAlgorithm(reason);\n        ReadableStreamDefaultControllerClearAlgorithms(this);\n        return result;\n    }\n    /** @internal */\n    [PullSteps](readRequest) {\n        const stream = this._controlledReadableStream;\n        if (this._queue.length > 0) {\n            const chunk = DequeueValue(this);\n            if (this._closeRequested && this._queue.length === 0) {\n                ReadableStreamDefaultControllerClearAlgorithms(this);\n                ReadableStreamClose(stream);\n            }\n            else {\n                ReadableStreamDefaultControllerCallPullIfNeeded(this);\n            }\n            readRequest._chunkSteps(chunk);\n        }\n        else {\n            ReadableStreamAddReadRequest(stream, readRequest);\n            ReadableStreamDefaultControllerCallPullIfNeeded(this);\n        }\n    }\n}\nObject.defineProperties(ReadableStreamDefaultController.prototype, {\n    close: { enumerable: true },\n    enqueue: { enumerable: true },\n    error: { enumerable: true },\n    desiredSize: { enumerable: true }\n});\nif (typeof SymbolPolyfill.toStringTag === 'symbol') {\n    Object.defineProperty(ReadableStreamDefaultController.prototype, SymbolPolyfill.toStringTag, {\n        value: 'ReadableStreamDefaultController',\n        configurable: true\n    });\n}\n// Abstract operations for the ReadableStreamDefaultController.\nfunction IsReadableStreamDefaultController(x) {\n    if (!typeIsObject(x)) {\n        return false;\n    }\n    if (!Object.prototype.hasOwnProperty.call(x, '_controlledReadableStream')) {\n        return false;\n    }\n    return x instanceof ReadableStreamDefaultController;\n}\nfunction ReadableStreamDefaultControllerCallPullIfNeeded(controller) {\n    const shouldPull = ReadableStreamDefaultControllerShouldCallPull(controller);\n    if (!shouldPull) {\n        return;\n    }\n    if (controller._pulling) {\n        controller._pullAgain = true;\n        return;\n    }\n    controller._pulling = true;\n    const pullPromise = controller._pullAlgorithm();\n    uponPromise(pullPromise, () => {\n        controller._pulling = false;\n        if (controller._pullAgain) {\n            controller._pullAgain = false;\n            ReadableStreamDefaultControllerCallPullIfNeeded(controller);\n        }\n    }, e => {\n        ReadableStreamDefaultControllerError(controller, e);\n    });\n}\nfunction ReadableStreamDefaultControllerShouldCallPull(controller) {\n    const stream = controller._controlledReadableStream;\n    if (!ReadableStreamDefaultControllerCanCloseOrEnqueue(controller)) {\n        return false;\n    }\n    if (!controller._started) {\n        return false;\n    }\n    if (IsReadableStreamLocked(stream) && ReadableStreamGetNumReadRequests(stream) > 0) {\n        return true;\n    }\n    const desiredSize = ReadableStreamDefaultControllerGetDesiredSize(controller);\n    if (desiredSize > 0) {\n        return true;\n    }\n    return false;\n}\nfunction ReadableStreamDefaultControllerClearAlgorithms(controller) {\n    controller._pullAlgorithm = undefined;\n    controller._cancelAlgorithm = undefined;\n    controller._strategySizeAlgorithm = undefined;\n}\n// A client of ReadableStreamDefaultController may use these functions directly to bypass state check.\nfunction ReadableStreamDefaultControllerClose(controller) {\n    if (!ReadableStreamDefaultControllerCanCloseOrEnqueue(controller)) {\n        return;\n    }\n    const stream = controller._controlledReadableStream;\n    controller._closeRequested = true;\n    if (controller._queue.length === 0) {\n        ReadableStreamDefaultControllerClearAlgorithms(controller);\n        ReadableStreamClose(stream);\n    }\n}\nfunction ReadableStreamDefaultControllerEnqueue(controller, chunk) {\n    if (!ReadableStreamDefaultControllerCanCloseOrEnqueue(controller)) {\n        return;\n    }\n    const stream = controller._controlledReadableStream;\n    if (IsReadableStreamLocked(stream) && ReadableStreamGetNumReadRequests(stream) > 0) {\n        ReadableStreamFulfillReadRequest(stream, chunk, false);\n    }\n    else {\n        let chunkSize;\n        try {\n            chunkSize = controller._strategySizeAlgorithm(chunk);\n        }\n        catch (chunkSizeE) {\n            ReadableStreamDefaultControllerError(controller, chunkSizeE);\n            throw chunkSizeE;\n        }\n        try {\n            EnqueueValueWithSize(controller, chunk, chunkSize);\n        }\n        catch (enqueueE) {\n            ReadableStreamDefaultControllerError(controller, enqueueE);\n            throw enqueueE;\n        }\n    }\n    ReadableStreamDefaultControllerCallPullIfNeeded(controller);\n}\nfunction ReadableStreamDefaultControllerError(controller, e) {\n    const stream = controller._controlledReadableStream;\n    if (stream._state !== 'readable') {\n        return;\n    }\n    ResetQueue(controller);\n    ReadableStreamDefaultControllerClearAlgorithms(controller);\n    ReadableStreamError(stream, e);\n}\nfunction ReadableStreamDefaultControllerGetDesiredSize(controller) {\n    const state = controller._controlledReadableStream._state;\n    if (state === 'errored') {\n        return null;\n    }\n    if (state === 'closed') {\n        return 0;\n    }\n    return controller._strategyHWM - controller._queueTotalSize;\n}\n// This is used in the implementation of TransformStream.\nfunction ReadableStreamDefaultControllerHasBackpressure(controller) {\n    if (ReadableStreamDefaultControllerShouldCallPull(controller)) {\n        return false;\n    }\n    return true;\n}\nfunction ReadableStreamDefaultControllerCanCloseOrEnqueue(controller) {\n    const state = controller._controlledReadableStream._state;\n    if (!controller._closeRequested && state === 'readable') {\n        return true;\n    }\n    return false;\n}\nfunction SetUpReadableStreamDefaultController(stream, controller, startAlgorithm, pullAlgorithm, cancelAlgorithm, highWaterMark, sizeAlgorithm) {\n    controller._controlledReadableStream = stream;\n    controller._queue = undefined;\n    controller._queueTotalSize = undefined;\n    ResetQueue(controller);\n    controller._started = false;\n    controller._closeRequested = false;\n    controller._pullAgain = false;\n    controller._pulling = false;\n    controller._strategySizeAlgorithm = sizeAlgorithm;\n    controller._strategyHWM = highWaterMark;\n    controller._pullAlgorithm = pullAlgorithm;\n    controller._cancelAlgorithm = cancelAlgorithm;\n    stream._readableStreamController = controller;\n    const startResult = startAlgorithm();\n    uponPromise(promiseResolvedWith(startResult), () => {\n        controller._started = true;\n        ReadableStreamDefaultControllerCallPullIfNeeded(controller);\n    }, r => {\n        ReadableStreamDefaultControllerError(controller, r);\n    });\n}\nfunction SetUpReadableStreamDefaultControllerFromUnderlyingSource(stream, underlyingSource, highWaterMark, sizeAlgorithm) {\n    const controller = Object.create(ReadableStreamDefaultController.prototype);\n    let startAlgorithm = () => undefined;\n    let pullAlgorithm = () => promiseResolvedWith(undefined);\n    let cancelAlgorithm = () => promiseResolvedWith(undefined);\n    if (underlyingSource.start !== undefined) {\n        startAlgorithm = () => underlyingSource.start(controller);\n    }\n    if (underlyingSource.pull !== undefined) {\n        pullAlgorithm = () => underlyingSource.pull(controller);\n    }\n    if (underlyingSource.cancel !== undefined) {\n        cancelAlgorithm = reason => underlyingSource.cancel(reason);\n    }\n    SetUpReadableStreamDefaultController(stream, controller, startAlgorithm, pullAlgorithm, cancelAlgorithm, highWaterMark, sizeAlgorithm);\n}\n// Helper functions for the ReadableStreamDefaultController.\nfunction defaultControllerBrandCheckException$1(name) {\n    return new TypeError(`ReadableStreamDefaultController.prototype.${name} can only be used on a ReadableStreamDefaultController`);\n}\n\nfunction ReadableStreamTee(stream, cloneForBranch2) {\n    if (IsReadableByteStreamController(stream._readableStreamController)) {\n        return ReadableByteStreamTee(stream);\n    }\n    return ReadableStreamDefaultTee(stream);\n}\nfunction ReadableStreamDefaultTee(stream, cloneForBranch2) {\n    const reader = AcquireReadableStreamDefaultReader(stream);\n    let reading = false;\n    let readAgain = false;\n    let canceled1 = false;\n    let canceled2 = false;\n    let reason1;\n    let reason2;\n    let branch1;\n    let branch2;\n    let resolveCancelPromise;\n    const cancelPromise = newPromise(resolve => {\n        resolveCancelPromise = resolve;\n    });\n    function pullAlgorithm() {\n        if (reading) {\n            readAgain = true;\n            return promiseResolvedWith(undefined);\n        }\n        reading = true;\n        const readRequest = {\n            _chunkSteps: chunk => {\n                // This needs to be delayed a microtask because it takes at least a microtask to detect errors (using\n                // reader._closedPromise below), and we want errors in stream to error both branches immediately. We cannot let\n                // successful synchronously-available reads get ahead of asynchronously-available errors.\n                queueMicrotask(() => {\n                    readAgain = false;\n                    const chunk1 = chunk;\n                    const chunk2 = chunk;\n                    // There is no way to access the cloning code right now in the reference implementation.\n                    // If we add one then we'll need an implementation for serializable objects.\n                    // if (!canceled2 && cloneForBranch2) {\n                    //   chunk2 = StructuredDeserialize(StructuredSerialize(chunk2));\n                    // }\n                    if (!canceled1) {\n                        ReadableStreamDefaultControllerEnqueue(branch1._readableStreamController, chunk1);\n                    }\n                    if (!canceled2) {\n                        ReadableStreamDefaultControllerEnqueue(branch2._readableStreamController, chunk2);\n                    }\n                    reading = false;\n                    if (readAgain) {\n                        pullAlgorithm();\n                    }\n                });\n            },\n            _closeSteps: () => {\n                reading = false;\n                if (!canceled1) {\n                    ReadableStreamDefaultControllerClose(branch1._readableStreamController);\n                }\n                if (!canceled2) {\n                    ReadableStreamDefaultControllerClose(branch2._readableStreamController);\n                }\n                if (!canceled1 || !canceled2) {\n                    resolveCancelPromise(undefined);\n                }\n            },\n            _errorSteps: () => {\n                reading = false;\n            }\n        };\n        ReadableStreamDefaultReaderRead(reader, readRequest);\n        return promiseResolvedWith(undefined);\n    }\n    function cancel1Algorithm(reason) {\n        canceled1 = true;\n        reason1 = reason;\n        if (canceled2) {\n            const compositeReason = CreateArrayFromList([reason1, reason2]);\n            const cancelResult = ReadableStreamCancel(stream, compositeReason);\n            resolveCancelPromise(cancelResult);\n        }\n        return cancelPromise;\n    }\n    function cancel2Algorithm(reason) {\n        canceled2 = true;\n        reason2 = reason;\n        if (canceled1) {\n            const compositeReason = CreateArrayFromList([reason1, reason2]);\n            const cancelResult = ReadableStreamCancel(stream, compositeReason);\n            resolveCancelPromise(cancelResult);\n        }\n        return cancelPromise;\n    }\n    function startAlgorithm() {\n        // do nothing\n    }\n    branch1 = CreateReadableStream(startAlgorithm, pullAlgorithm, cancel1Algorithm);\n    branch2 = CreateReadableStream(startAlgorithm, pullAlgorithm, cancel2Algorithm);\n    uponRejection(reader._closedPromise, (r) => {\n        ReadableStreamDefaultControllerError(branch1._readableStreamController, r);\n        ReadableStreamDefaultControllerError(branch2._readableStreamController, r);\n        if (!canceled1 || !canceled2) {\n            resolveCancelPromise(undefined);\n        }\n    });\n    return [branch1, branch2];\n}\nfunction ReadableByteStreamTee(stream) {\n    let reader = AcquireReadableStreamDefaultReader(stream);\n    let reading = false;\n    let readAgainForBranch1 = false;\n    let readAgainForBranch2 = false;\n    let canceled1 = false;\n    let canceled2 = false;\n    let reason1;\n    let reason2;\n    let branch1;\n    let branch2;\n    let resolveCancelPromise;\n    const cancelPromise = newPromise(resolve => {\n        resolveCancelPromise = resolve;\n    });\n    function forwardReaderError(thisReader) {\n        uponRejection(thisReader._closedPromise, r => {\n            if (thisReader !== reader) {\n                return;\n            }\n            ReadableByteStreamControllerError(branch1._readableStreamController, r);\n            ReadableByteStreamControllerError(branch2._readableStreamController, r);\n            if (!canceled1 || !canceled2) {\n                resolveCancelPromise(undefined);\n            }\n        });\n    }\n    function pullWithDefaultReader() {\n        if (IsReadableStreamBYOBReader(reader)) {\n            ReadableStreamReaderGenericRelease(reader);\n            reader = AcquireReadableStreamDefaultReader(stream);\n            forwardReaderError(reader);\n        }\n        const readRequest = {\n            _chunkSteps: chunk => {\n                // This needs to be delayed a microtask because it takes at least a microtask to detect errors (using\n                // reader._closedPromise below), and we want errors in stream to error both branches immediately. We cannot let\n                // successful synchronously-available reads get ahead of asynchronously-available errors.\n                queueMicrotask(() => {\n                    readAgainForBranch1 = false;\n                    readAgainForBranch2 = false;\n                    const chunk1 = chunk;\n                    let chunk2 = chunk;\n                    if (!canceled1 && !canceled2) {\n                        try {\n                            chunk2 = CloneAsUint8Array(chunk);\n                        }\n                        catch (cloneE) {\n                            ReadableByteStreamControllerError(branch1._readableStreamController, cloneE);\n                            ReadableByteStreamControllerError(branch2._readableStreamController, cloneE);\n                            resolveCancelPromise(ReadableStreamCancel(stream, cloneE));\n                            return;\n                        }\n                    }\n                    if (!canceled1) {\n                        ReadableByteStreamControllerEnqueue(branch1._readableStreamController, chunk1);\n                    }\n                    if (!canceled2) {\n                        ReadableByteStreamControllerEnqueue(branch2._readableStreamController, chunk2);\n                    }\n                    reading = false;\n                    if (readAgainForBranch1) {\n                        pull1Algorithm();\n                    }\n                    else if (readAgainForBranch2) {\n                        pull2Algorithm();\n                    }\n                });\n            },\n            _closeSteps: () => {\n                reading = false;\n                if (!canceled1) {\n                    ReadableByteStreamControllerClose(branch1._readableStreamController);\n                }\n                if (!canceled2) {\n                    ReadableByteStreamControllerClose(branch2._readableStreamController);\n                }\n                if (branch1._readableStreamController._pendingPullIntos.length > 0) {\n                    ReadableByteStreamControllerRespond(branch1._readableStreamController, 0);\n                }\n                if (branch2._readableStreamController._pendingPullIntos.length > 0) {\n                    ReadableByteStreamControllerRespond(branch2._readableStreamController, 0);\n                }\n                if (!canceled1 || !canceled2) {\n                    resolveCancelPromise(undefined);\n                }\n            },\n            _errorSteps: () => {\n                reading = false;\n            }\n        };\n        ReadableStreamDefaultReaderRead(reader, readRequest);\n    }\n    function pullWithBYOBReader(view, forBranch2) {\n        if (IsReadableStreamDefaultReader(reader)) {\n            ReadableStreamReaderGenericRelease(reader);\n            reader = AcquireReadableStreamBYOBReader(stream);\n            forwardReaderError(reader);\n        }\n        const byobBranch = forBranch2 ? branch2 : branch1;\n        const otherBranch = forBranch2 ? branch1 : branch2;\n        const readIntoRequest = {\n            _chunkSteps: chunk => {\n                // This needs to be delayed a microtask because it takes at least a microtask to detect errors (using\n                // reader._closedPromise below), and we want errors in stream to error both branches immediately. We cannot let\n                // successful synchronously-available reads get ahead of asynchronously-available errors.\n                queueMicrotask(() => {\n                    readAgainForBranch1 = false;\n                    readAgainForBranch2 = false;\n                    const byobCanceled = forBranch2 ? canceled2 : canceled1;\n                    const otherCanceled = forBranch2 ? canceled1 : canceled2;\n                    if (!otherCanceled) {\n                        let clonedChunk;\n                        try {\n                            clonedChunk = CloneAsUint8Array(chunk);\n                        }\n                        catch (cloneE) {\n                            ReadableByteStreamControllerError(byobBranch._readableStreamController, cloneE);\n                            ReadableByteStreamControllerError(otherBranch._readableStreamController, cloneE);\n                            resolveCancelPromise(ReadableStreamCancel(stream, cloneE));\n                            return;\n                        }\n                        if (!byobCanceled) {\n                            ReadableByteStreamControllerRespondWithNewView(byobBranch._readableStreamController, chunk);\n                        }\n                        ReadableByteStreamControllerEnqueue(otherBranch._readableStreamController, clonedChunk);\n                    }\n                    else if (!byobCanceled) {\n                        ReadableByteStreamControllerRespondWithNewView(byobBranch._readableStreamController, chunk);\n                    }\n                    reading = false;\n                    if (readAgainForBranch1) {\n                        pull1Algorithm();\n                    }\n                    else if (readAgainForBranch2) {\n                        pull2Algorithm();\n                    }\n                });\n            },\n            _closeSteps: chunk => {\n                reading = false;\n                const byobCanceled = forBranch2 ? canceled2 : canceled1;\n                const otherCanceled = forBranch2 ? canceled1 : canceled2;\n                if (!byobCanceled) {\n                    ReadableByteStreamControllerClose(byobBranch._readableStreamController);\n                }\n                if (!otherCanceled) {\n                    ReadableByteStreamControllerClose(otherBranch._readableStreamController);\n                }\n                if (chunk !== undefined) {\n                    if (!byobCanceled) {\n                        ReadableByteStreamControllerRespondWithNewView(byobBranch._readableStreamController, chunk);\n                    }\n                    if (!otherCanceled && otherBranch._readableStreamController._pendingPullIntos.length > 0) {\n                        ReadableByteStreamControllerRespond(otherBranch._readableStreamController, 0);\n                    }\n                }\n                if (!byobCanceled || !otherCanceled) {\n                    resolveCancelPromise(undefined);\n                }\n            },\n            _errorSteps: () => {\n                reading = false;\n            }\n        };\n        ReadableStreamBYOBReaderRead(reader, view, readIntoRequest);\n    }\n    function pull1Algorithm() {\n        if (reading) {\n            readAgainForBranch1 = true;\n            return promiseResolvedWith(undefined);\n        }\n        reading = true;\n        const byobRequest = ReadableByteStreamControllerGetBYOBRequest(branch1._readableStreamController);\n        if (byobRequest === null) {\n            pullWithDefaultReader();\n        }\n        else {\n            pullWithBYOBReader(byobRequest._view, false);\n        }\n        return promiseResolvedWith(undefined);\n    }\n    function pull2Algorithm() {\n        if (reading) {\n            readAgainForBranch2 = true;\n            return promiseResolvedWith(undefined);\n        }\n        reading = true;\n        const byobRequest = ReadableByteStreamControllerGetBYOBRequest(branch2._readableStreamController);\n        if (byobRequest === null) {\n            pullWithDefaultReader();\n        }\n        else {\n            pullWithBYOBReader(byobRequest._view, true);\n        }\n        return promiseResolvedWith(undefined);\n    }\n    function cancel1Algorithm(reason) {\n        canceled1 = true;\n        reason1 = reason;\n        if (canceled2) {\n            const compositeReason = CreateArrayFromList([reason1, reason2]);\n            const cancelResult = ReadableStreamCancel(stream, compositeReason);\n            resolveCancelPromise(cancelResult);\n        }\n        return cancelPromise;\n    }\n    function cancel2Algorithm(reason) {\n        canceled2 = true;\n        reason2 = reason;\n        if (canceled1) {\n            const compositeReason = CreateArrayFromList([reason1, reason2]);\n            const cancelResult = ReadableStreamCancel(stream, compositeReason);\n            resolveCancelPromise(cancelResult);\n        }\n        return cancelPromise;\n    }\n    function startAlgorithm() {\n        return;\n    }\n    branch1 = CreateReadableByteStream(startAlgorithm, pull1Algorithm, cancel1Algorithm);\n    branch2 = CreateReadableByteStream(startAlgorithm, pull2Algorithm, cancel2Algorithm);\n    forwardReaderError(reader);\n    return [branch1, branch2];\n}\n\nfunction convertUnderlyingDefaultOrByteSource(source, context) {\n    assertDictionary(source, context);\n    const original = source;\n    const autoAllocateChunkSize = original === null || original === void 0 ? void 0 : original.autoAllocateChunkSize;\n    const cancel = original === null || original === void 0 ? void 0 : original.cancel;\n    const pull = original === null || original === void 0 ? void 0 : original.pull;\n    const start = original === null || original === void 0 ? void 0 : original.start;\n    const type = original === null || original === void 0 ? void 0 : original.type;\n    return {\n        autoAllocateChunkSize: autoAllocateChunkSize === undefined ?\n            undefined :\n            convertUnsignedLongLongWithEnforceRange(autoAllocateChunkSize, `${context} has member 'autoAllocateChunkSize' that`),\n        cancel: cancel === undefined ?\n            undefined :\n            convertUnderlyingSourceCancelCallback(cancel, original, `${context} has member 'cancel' that`),\n        pull: pull === undefined ?\n            undefined :\n            convertUnderlyingSourcePullCallback(pull, original, `${context} has member 'pull' that`),\n        start: start === undefined ?\n            undefined :\n            convertUnderlyingSourceStartCallback(start, original, `${context} has member 'start' that`),\n        type: type === undefined ? undefined : convertReadableStreamType(type, `${context} has member 'type' that`)\n    };\n}\nfunction convertUnderlyingSourceCancelCallback(fn, original, context) {\n    assertFunction(fn, context);\n    return (reason) => promiseCall(fn, original, [reason]);\n}\nfunction convertUnderlyingSourcePullCallback(fn, original, context) {\n    assertFunction(fn, context);\n    return (controller) => promiseCall(fn, original, [controller]);\n}\nfunction convertUnderlyingSourceStartCallback(fn, original, context) {\n    assertFunction(fn, context);\n    return (controller) => reflectCall(fn, original, [controller]);\n}\nfunction convertReadableStreamType(type, context) {\n    type = `${type}`;\n    if (type !== 'bytes') {\n        throw new TypeError(`${context} '${type}' is not a valid enumeration value for ReadableStreamType`);\n    }\n    return type;\n}\n\nfunction convertReaderOptions(options, context) {\n    assertDictionary(options, context);\n    const mode = options === null || options === void 0 ? void 0 : options.mode;\n    return {\n        mode: mode === undefined ? undefined : convertReadableStreamReaderMode(mode, `${context} has member 'mode' that`)\n    };\n}\nfunction convertReadableStreamReaderMode(mode, context) {\n    mode = `${mode}`;\n    if (mode !== 'byob') {\n        throw new TypeError(`${context} '${mode}' is not a valid enumeration value for ReadableStreamReaderMode`);\n    }\n    return mode;\n}\n\nfunction convertIteratorOptions(options, context) {\n    assertDictionary(options, context);\n    const preventCancel = options === null || options === void 0 ? void 0 : options.preventCancel;\n    return { preventCancel: Boolean(preventCancel) };\n}\n\nfunction convertPipeOptions(options, context) {\n    assertDictionary(options, context);\n    const preventAbort = options === null || options === void 0 ? void 0 : options.preventAbort;\n    const preventCancel = options === null || options === void 0 ? void 0 : options.preventCancel;\n    const preventClose = options === null || options === void 0 ? void 0 : options.preventClose;\n    const signal = options === null || options === void 0 ? void 0 : options.signal;\n    if (signal !== undefined) {\n        assertAbortSignal(signal, `${context} has member 'signal' that`);\n    }\n    return {\n        preventAbort: Boolean(preventAbort),\n        preventCancel: Boolean(preventCancel),\n        preventClose: Boolean(preventClose),\n        signal\n    };\n}\nfunction assertAbortSignal(signal, context) {\n    if (!isAbortSignal(signal)) {\n        throw new TypeError(`${context} is not an AbortSignal.`);\n    }\n}\n\nfunction convertReadableWritablePair(pair, context) {\n    assertDictionary(pair, context);\n    const readable = pair === null || pair === void 0 ? void 0 : pair.readable;\n    assertRequiredField(readable, 'readable', 'ReadableWritablePair');\n    assertReadableStream(readable, `${context} has member 'readable' that`);\n    const writable = pair === null || pair === void 0 ? void 0 : pair.writable;\n    assertRequiredField(writable, 'writable', 'ReadableWritablePair');\n    assertWritableStream(writable, `${context} has member 'writable' that`);\n    return { readable, writable };\n}\n\n/**\n * A readable stream represents a source of data, from which you can read.\n *\n * @public\n */\nclass ReadableStream {\n    constructor(rawUnderlyingSource = {}, rawStrategy = {}) {\n        if (rawUnderlyingSource === undefined) {\n            rawUnderlyingSource = null;\n        }\n        else {\n            assertObject(rawUnderlyingSource, 'First parameter');\n        }\n        const strategy = convertQueuingStrategy(rawStrategy, 'Second parameter');\n        const underlyingSource = convertUnderlyingDefaultOrByteSource(rawUnderlyingSource, 'First parameter');\n        InitializeReadableStream(this);\n        if (underlyingSource.type === 'bytes') {\n            if (strategy.size !== undefined) {\n                throw new RangeError('The strategy for a byte stream cannot have a size function');\n            }\n            const highWaterMark = ExtractHighWaterMark(strategy, 0);\n            SetUpReadableByteStreamControllerFromUnderlyingSource(this, underlyingSource, highWaterMark);\n        }\n        else {\n            const sizeAlgorithm = ExtractSizeAlgorithm(strategy);\n            const highWaterMark = ExtractHighWaterMark(strategy, 1);\n            SetUpReadableStreamDefaultControllerFromUnderlyingSource(this, underlyingSource, highWaterMark, sizeAlgorithm);\n        }\n    }\n    /**\n     * Whether or not the readable stream is locked to a {@link ReadableStreamDefaultReader | reader}.\n     */\n    get locked() {\n        if (!IsReadableStream(this)) {\n            throw streamBrandCheckException$1('locked');\n        }\n        return IsReadableStreamLocked(this);\n    }\n    /**\n     * Cancels the stream, signaling a loss of interest in the stream by a consumer.\n     *\n     * The supplied `reason` argument will be given to the underlying source's {@link UnderlyingSource.cancel | cancel()}\n     * method, which might or might not use it.\n     */\n    cancel(reason = undefined) {\n        if (!IsReadableStream(this)) {\n            return promiseRejectedWith(streamBrandCheckException$1('cancel'));\n        }\n        if (IsReadableStreamLocked(this)) {\n            return promiseRejectedWith(new TypeError('Cannot cancel a stream that already has a reader'));\n        }\n        return ReadableStreamCancel(this, reason);\n    }\n    getReader(rawOptions = undefined) {\n        if (!IsReadableStream(this)) {\n            throw streamBrandCheckException$1('getReader');\n        }\n        const options = convertReaderOptions(rawOptions, 'First parameter');\n        if (options.mode === undefined) {\n            return AcquireReadableStreamDefaultReader(this);\n        }\n        return AcquireReadableStreamBYOBReader(this);\n    }\n    pipeThrough(rawTransform, rawOptions = {}) {\n        if (!IsReadableStream(this)) {\n            throw streamBrandCheckException$1('pipeThrough');\n        }\n        assertRequiredArgument(rawTransform, 1, 'pipeThrough');\n        const transform = convertReadableWritablePair(rawTransform, 'First parameter');\n        const options = convertPipeOptions(rawOptions, 'Second parameter');\n        if (IsReadableStreamLocked(this)) {\n            throw new TypeError('ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream');\n        }\n        if (IsWritableStreamLocked(transform.writable)) {\n            throw new TypeError('ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream');\n        }\n        const promise = ReadableStreamPipeTo(this, transform.writable, options.preventClose, options.preventAbort, options.preventCancel, options.signal);\n        setPromiseIsHandledToTrue(promise);\n        return transform.readable;\n    }\n    pipeTo(destination, rawOptions = {}) {\n        if (!IsReadableStream(this)) {\n            return promiseRejectedWith(streamBrandCheckException$1('pipeTo'));\n        }\n        if (destination === undefined) {\n            return promiseRejectedWith(`Parameter 1 is required in 'pipeTo'.`);\n        }\n        if (!IsWritableStream(destination)) {\n            return promiseRejectedWith(new TypeError(`ReadableStream.prototype.pipeTo's first argument must be a WritableStream`));\n        }\n        let options;\n        try {\n            options = convertPipeOptions(rawOptions, 'Second parameter');\n        }\n        catch (e) {\n            return promiseRejectedWith(e);\n        }\n        if (IsReadableStreamLocked(this)) {\n            return promiseRejectedWith(new TypeError('ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream'));\n        }\n        if (IsWritableStreamLocked(destination)) {\n            return promiseRejectedWith(new TypeError('ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream'));\n        }\n        return ReadableStreamPipeTo(this, destination, options.preventClose, options.preventAbort, options.preventCancel, options.signal);\n    }\n    /**\n     * Tees this readable stream, returning a two-element array containing the two resulting branches as\n     * new {@link ReadableStream} instances.\n     *\n     * Teeing a stream will lock it, preventing any other consumer from acquiring a reader.\n     * To cancel the stream, cancel both of the resulting branches; a composite cancellation reason will then be\n     * propagated to the stream's underlying source.\n     *\n     * Note that the chunks seen in each branch will be the same object. If the chunks are not immutable,\n     * this could allow interference between the two branches.\n     */\n    tee() {\n        if (!IsReadableStream(this)) {\n            throw streamBrandCheckException$1('tee');\n        }\n        const branches = ReadableStreamTee(this);\n        return CreateArrayFromList(branches);\n    }\n    values(rawOptions = undefined) {\n        if (!IsReadableStream(this)) {\n            throw streamBrandCheckException$1('values');\n        }\n        const options = convertIteratorOptions(rawOptions, 'First parameter');\n        return AcquireReadableStreamAsyncIterator(this, options.preventCancel);\n    }\n}\nObject.defineProperties(ReadableStream.prototype, {\n    cancel: { enumerable: true },\n    getReader: { enumerable: true },\n    pipeThrough: { enumerable: true },\n    pipeTo: { enumerable: true },\n    tee: { enumerable: true },\n    values: { enumerable: true },\n    locked: { enumerable: true }\n});\nif (typeof SymbolPolyfill.toStringTag === 'symbol') {\n    Object.defineProperty(ReadableStream.prototype, SymbolPolyfill.toStringTag, {\n        value: 'ReadableStream',\n        configurable: true\n    });\n}\nif (typeof SymbolPolyfill.asyncIterator === 'symbol') {\n    Object.defineProperty(ReadableStream.prototype, SymbolPolyfill.asyncIterator, {\n        value: ReadableStream.prototype.values,\n        writable: true,\n        configurable: true\n    });\n}\n// Abstract operations for the ReadableStream.\n// Throws if and only if startAlgorithm throws.\nfunction CreateReadableStream(startAlgorithm, pullAlgorithm, cancelAlgorithm, highWaterMark = 1, sizeAlgorithm = () => 1) {\n    const stream = Object.create(ReadableStream.prototype);\n    InitializeReadableStream(stream);\n    const controller = Object.create(ReadableStreamDefaultController.prototype);\n    SetUpReadableStreamDefaultController(stream, controller, startAlgorithm, pullAlgorithm, cancelAlgorithm, highWaterMark, sizeAlgorithm);\n    return stream;\n}\n// Throws if and only if startAlgorithm throws.\nfunction CreateReadableByteStream(startAlgorithm, pullAlgorithm, cancelAlgorithm) {\n    const stream = Object.create(ReadableStream.prototype);\n    InitializeReadableStream(stream);\n    const controller = Object.create(ReadableByteStreamController.prototype);\n    SetUpReadableByteStreamController(stream, controller, startAlgorithm, pullAlgorithm, cancelAlgorithm, 0, undefined);\n    return stream;\n}\nfunction InitializeReadableStream(stream) {\n    stream._state = 'readable';\n    stream._reader = undefined;\n    stream._storedError = undefined;\n    stream._disturbed = false;\n}\nfunction IsReadableStream(x) {\n    if (!typeIsObject(x)) {\n        return false;\n    }\n    if (!Object.prototype.hasOwnProperty.call(x, '_readableStreamController')) {\n        return false;\n    }\n    return x instanceof ReadableStream;\n}\nfunction IsReadableStreamLocked(stream) {\n    if (stream._reader === undefined) {\n        return false;\n    }\n    return true;\n}\n// ReadableStream API exposed for controllers.\nfunction ReadableStreamCancel(stream, reason) {\n    stream._disturbed = true;\n    if (stream._state === 'closed') {\n        return promiseResolvedWith(undefined);\n    }\n    if (stream._state === 'errored') {\n        return promiseRejectedWith(stream._storedError);\n    }\n    ReadableStreamClose(stream);\n    const reader = stream._reader;\n    if (reader !== undefined && IsReadableStreamBYOBReader(reader)) {\n        reader._readIntoRequests.forEach(readIntoRequest => {\n            readIntoRequest._closeSteps(undefined);\n        });\n        reader._readIntoRequests = new SimpleQueue();\n    }\n    const sourceCancelPromise = stream._readableStreamController[CancelSteps](reason);\n    return transformPromiseWith(sourceCancelPromise, noop);\n}\nfunction ReadableStreamClose(stream) {\n    stream._state = 'closed';\n    const reader = stream._reader;\n    if (reader === undefined) {\n        return;\n    }\n    defaultReaderClosedPromiseResolve(reader);\n    if (IsReadableStreamDefaultReader(reader)) {\n        reader._readRequests.forEach(readRequest => {\n            readRequest._closeSteps();\n        });\n        reader._readRequests = new SimpleQueue();\n    }\n}\nfunction ReadableStreamError(stream, e) {\n    stream._state = 'errored';\n    stream._storedError = e;\n    const reader = stream._reader;\n    if (reader === undefined) {\n        return;\n    }\n    defaultReaderClosedPromiseReject(reader, e);\n    if (IsReadableStreamDefaultReader(reader)) {\n        reader._readRequests.forEach(readRequest => {\n            readRequest._errorSteps(e);\n        });\n        reader._readRequests = new SimpleQueue();\n    }\n    else {\n        reader._readIntoRequests.forEach(readIntoRequest => {\n            readIntoRequest._errorSteps(e);\n        });\n        reader._readIntoRequests = new SimpleQueue();\n    }\n}\n// Helper functions for the ReadableStream.\nfunction streamBrandCheckException$1(name) {\n    return new TypeError(`ReadableStream.prototype.${name} can only be used on a ReadableStream`);\n}\n\nfunction convertQueuingStrategyInit(init, context) {\n    assertDictionary(init, context);\n    const highWaterMark = init === null || init === void 0 ? void 0 : init.highWaterMark;\n    assertRequiredField(highWaterMark, 'highWaterMark', 'QueuingStrategyInit');\n    return {\n        highWaterMark: convertUnrestrictedDouble(highWaterMark)\n    };\n}\n\n// The size function must not have a prototype property nor be a constructor\nconst byteLengthSizeFunction = (chunk) => {\n    return chunk.byteLength;\n};\ntry {\n    Object.defineProperty(byteLengthSizeFunction, 'name', {\n        value: 'size',\n        configurable: true\n    });\n}\ncatch (_a) {\n    // This property is non-configurable in older browsers, so ignore if this throws.\n    // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function/name#browser_compatibility\n}\n/**\n * A queuing strategy that counts the number of bytes in each chunk.\n *\n * @public\n */\nclass ByteLengthQueuingStrategy {\n    constructor(options) {\n        assertRequiredArgument(options, 1, 'ByteLengthQueuingStrategy');\n        options = convertQueuingStrategyInit(options, 'First parameter');\n        this._byteLengthQueuingStrategyHighWaterMark = options.highWaterMark;\n    }\n    /**\n     * Returns the high water mark provided to the constructor.\n     */\n    get highWaterMark() {\n        if (!IsByteLengthQueuingStrategy(this)) {\n            throw byteLengthBrandCheckException('highWaterMark');\n        }\n        return this._byteLengthQueuingStrategyHighWaterMark;\n    }\n    /**\n     * Measures the size of `chunk` by returning the value of its `byteLength` property.\n     */\n    get size() {\n        if (!IsByteLengthQueuingStrategy(this)) {\n            throw byteLengthBrandCheckException('size');\n        }\n        return byteLengthSizeFunction;\n    }\n}\nObject.defineProperties(ByteLengthQueuingStrategy.prototype, {\n    highWaterMark: { enumerable: true },\n    size: { enumerable: true }\n});\nif (typeof SymbolPolyfill.toStringTag === 'symbol') {\n    Object.defineProperty(ByteLengthQueuingStrategy.prototype, SymbolPolyfill.toStringTag, {\n        value: 'ByteLengthQueuingStrategy',\n        configurable: true\n    });\n}\n// Helper functions for the ByteLengthQueuingStrategy.\nfunction byteLengthBrandCheckException(name) {\n    return new TypeError(`ByteLengthQueuingStrategy.prototype.${name} can only be used on a ByteLengthQueuingStrategy`);\n}\nfunction IsByteLengthQueuingStrategy(x) {\n    if (!typeIsObject(x)) {\n        return false;\n    }\n    if (!Object.prototype.hasOwnProperty.call(x, '_byteLengthQueuingStrategyHighWaterMark')) {\n        return false;\n    }\n    return x instanceof ByteLengthQueuingStrategy;\n}\n\n// The size function must not have a prototype property nor be a constructor\nconst countSizeFunction = () => {\n    return 1;\n};\ntry {\n    Object.defineProperty(countSizeFunction, 'name', {\n        value: 'size',\n        configurable: true\n    });\n}\ncatch (_a) {\n    // This property is non-configurable in older browsers, so ignore if this throws.\n    // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function/name#browser_compatibility\n}\n/**\n * A queuing strategy that counts the number of chunks.\n *\n * @public\n */\nclass CountQueuingStrategy {\n    constructor(options) {\n        assertRequiredArgument(options, 1, 'CountQueuingStrategy');\n        options = convertQueuingStrategyInit(options, 'First parameter');\n        this._countQueuingStrategyHighWaterMark = options.highWaterMark;\n    }\n    /**\n     * Returns the high water mark provided to the constructor.\n     */\n    get highWaterMark() {\n        if (!IsCountQueuingStrategy(this)) {\n            throw countBrandCheckException('highWaterMark');\n        }\n        return this._countQueuingStrategyHighWaterMark;\n    }\n    /**\n     * Measures the size of `chunk` by always returning 1.\n     * This ensures that the total queue size is a count of the number of chunks in the queue.\n     */\n    get size() {\n        if (!IsCountQueuingStrategy(this)) {\n            throw countBrandCheckException('size');\n        }\n        return countSizeFunction;\n    }\n}\nObject.defineProperties(CountQueuingStrategy.prototype, {\n    highWaterMark: { enumerable: true },\n    size: { enumerable: true }\n});\nif (typeof SymbolPolyfill.toStringTag === 'symbol') {\n    Object.defineProperty(CountQueuingStrategy.prototype, SymbolPolyfill.toStringTag, {\n        value: 'CountQueuingStrategy',\n        configurable: true\n    });\n}\n// Helper functions for the CountQueuingStrategy.\nfunction countBrandCheckException(name) {\n    return new TypeError(`CountQueuingStrategy.prototype.${name} can only be used on a CountQueuingStrategy`);\n}\nfunction IsCountQueuingStrategy(x) {\n    if (!typeIsObject(x)) {\n        return false;\n    }\n    if (!Object.prototype.hasOwnProperty.call(x, '_countQueuingStrategyHighWaterMark')) {\n        return false;\n    }\n    return x instanceof CountQueuingStrategy;\n}\n\nfunction convertTransformer(original, context) {\n    assertDictionary(original, context);\n    const flush = original === null || original === void 0 ? void 0 : original.flush;\n    const readableType = original === null || original === void 0 ? void 0 : original.readableType;\n    const start = original === null || original === void 0 ? void 0 : original.start;\n    const transform = original === null || original === void 0 ? void 0 : original.transform;\n    const writableType = original === null || original === void 0 ? void 0 : original.writableType;\n    return {\n        flush: flush === undefined ?\n            undefined :\n            convertTransformerFlushCallback(flush, original, `${context} has member 'flush' that`),\n        readableType,\n        start: start === undefined ?\n            undefined :\n            convertTransformerStartCallback(start, original, `${context} has member 'start' that`),\n        transform: transform === undefined ?\n            undefined :\n            convertTransformerTransformCallback(transform, original, `${context} has member 'transform' that`),\n        writableType\n    };\n}\nfunction convertTransformerFlushCallback(fn, original, context) {\n    assertFunction(fn, context);\n    return (controller) => promiseCall(fn, original, [controller]);\n}\nfunction convertTransformerStartCallback(fn, original, context) {\n    assertFunction(fn, context);\n    return (controller) => reflectCall(fn, original, [controller]);\n}\nfunction convertTransformerTransformCallback(fn, original, context) {\n    assertFunction(fn, context);\n    return (chunk, controller) => promiseCall(fn, original, [chunk, controller]);\n}\n\n// Class TransformStream\n/**\n * A transform stream consists of a pair of streams: a {@link WritableStream | writable stream},\n * known as its writable side, and a {@link ReadableStream | readable stream}, known as its readable side.\n * In a manner specific to the transform stream in question, writes to the writable side result in new data being\n * made available for reading from the readable side.\n *\n * @public\n */\nclass TransformStream {\n    constructor(rawTransformer = {}, rawWritableStrategy = {}, rawReadableStrategy = {}) {\n        if (rawTransformer === undefined) {\n            rawTransformer = null;\n        }\n        const writableStrategy = convertQueuingStrategy(rawWritableStrategy, 'Second parameter');\n        const readableStrategy = convertQueuingStrategy(rawReadableStrategy, 'Third parameter');\n        const transformer = convertTransformer(rawTransformer, 'First parameter');\n        if (transformer.readableType !== undefined) {\n            throw new RangeError('Invalid readableType specified');\n        }\n        if (transformer.writableType !== undefined) {\n            throw new RangeError('Invalid writableType specified');\n        }\n        const readableHighWaterMark = ExtractHighWaterMark(readableStrategy, 0);\n        const readableSizeAlgorithm = ExtractSizeAlgorithm(readableStrategy);\n        const writableHighWaterMark = ExtractHighWaterMark(writableStrategy, 1);\n        const writableSizeAlgorithm = ExtractSizeAlgorithm(writableStrategy);\n        let startPromise_resolve;\n        const startPromise = newPromise(resolve => {\n            startPromise_resolve = resolve;\n        });\n        InitializeTransformStream(this, startPromise, writableHighWaterMark, writableSizeAlgorithm, readableHighWaterMark, readableSizeAlgorithm);\n        SetUpTransformStreamDefaultControllerFromTransformer(this, transformer);\n        if (transformer.start !== undefined) {\n            startPromise_resolve(transformer.start(this._transformStreamController));\n        }\n        else {\n            startPromise_resolve(undefined);\n        }\n    }\n    /**\n     * The readable side of the transform stream.\n     */\n    get readable() {\n        if (!IsTransformStream(this)) {\n            throw streamBrandCheckException('readable');\n        }\n        return this._readable;\n    }\n    /**\n     * The writable side of the transform stream.\n     */\n    get writable() {\n        if (!IsTransformStream(this)) {\n            throw streamBrandCheckException('writable');\n        }\n        return this._writable;\n    }\n}\nObject.defineProperties(TransformStream.prototype, {\n    readable: { enumerable: true },\n    writable: { enumerable: true }\n});\nif (typeof SymbolPolyfill.toStringTag === 'symbol') {\n    Object.defineProperty(TransformStream.prototype, SymbolPolyfill.toStringTag, {\n        value: 'TransformStream',\n        configurable: true\n    });\n}\nfunction InitializeTransformStream(stream, startPromise, writableHighWaterMark, writableSizeAlgorithm, readableHighWaterMark, readableSizeAlgorithm) {\n    function startAlgorithm() {\n        return startPromise;\n    }\n    function writeAlgorithm(chunk) {\n        return TransformStreamDefaultSinkWriteAlgorithm(stream, chunk);\n    }\n    function abortAlgorithm(reason) {\n        return TransformStreamDefaultSinkAbortAlgorithm(stream, reason);\n    }\n    function closeAlgorithm() {\n        return TransformStreamDefaultSinkCloseAlgorithm(stream);\n    }\n    stream._writable = CreateWritableStream(startAlgorithm, writeAlgorithm, closeAlgorithm, abortAlgorithm, writableHighWaterMark, writableSizeAlgorithm);\n    function pullAlgorithm() {\n        return TransformStreamDefaultSourcePullAlgorithm(stream);\n    }\n    function cancelAlgorithm(reason) {\n        TransformStreamErrorWritableAndUnblockWrite(stream, reason);\n        return promiseResolvedWith(undefined);\n    }\n    stream._readable = CreateReadableStream(startAlgorithm, pullAlgorithm, cancelAlgorithm, readableHighWaterMark, readableSizeAlgorithm);\n    // The [[backpressure]] slot is set to undefined so that it can be initialised by TransformStreamSetBackpressure.\n    stream._backpressure = undefined;\n    stream._backpressureChangePromise = undefined;\n    stream._backpressureChangePromise_resolve = undefined;\n    TransformStreamSetBackpressure(stream, true);\n    stream._transformStreamController = undefined;\n}\nfunction IsTransformStream(x) {\n    if (!typeIsObject(x)) {\n        return false;\n    }\n    if (!Object.prototype.hasOwnProperty.call(x, '_transformStreamController')) {\n        return false;\n    }\n    return x instanceof TransformStream;\n}\n// This is a no-op if both sides are already errored.\nfunction TransformStreamError(stream, e) {\n    ReadableStreamDefaultControllerError(stream._readable._readableStreamController, e);\n    TransformStreamErrorWritableAndUnblockWrite(stream, e);\n}\nfunction TransformStreamErrorWritableAndUnblockWrite(stream, e) {\n    TransformStreamDefaultControllerClearAlgorithms(stream._transformStreamController);\n    WritableStreamDefaultControllerErrorIfNeeded(stream._writable._writableStreamController, e);\n    if (stream._backpressure) {\n        // Pretend that pull() was called to permit any pending write() calls to complete. TransformStreamSetBackpressure()\n        // cannot be called from enqueue() or pull() once the ReadableStream is errored, so this will will be the final time\n        // _backpressure is set.\n        TransformStreamSetBackpressure(stream, false);\n    }\n}\nfunction TransformStreamSetBackpressure(stream, backpressure) {\n    // Passes also when called during construction.\n    if (stream._backpressureChangePromise !== undefined) {\n        stream._backpressureChangePromise_resolve();\n    }\n    stream._backpressureChangePromise = newPromise(resolve => {\n        stream._backpressureChangePromise_resolve = resolve;\n    });\n    stream._backpressure = backpressure;\n}\n// Class TransformStreamDefaultController\n/**\n * Allows control of the {@link ReadableStream} and {@link WritableStream} of the associated {@link TransformStream}.\n *\n * @public\n */\nclass TransformStreamDefaultController {\n    constructor() {\n        throw new TypeError('Illegal constructor');\n    }\n    /**\n     * Returns the desired size to fill the readable sides internal queue. It can be negative, if the queue is over-full.\n     */\n    get desiredSize() {\n        if (!IsTransformStreamDefaultController(this)) {\n            throw defaultControllerBrandCheckException('desiredSize');\n        }\n        const readableController = this._controlledTransformStream._readable._readableStreamController;\n        return ReadableStreamDefaultControllerGetDesiredSize(readableController);\n    }\n    enqueue(chunk = undefined) {\n        if (!IsTransformStreamDefaultController(this)) {\n            throw defaultControllerBrandCheckException('enqueue');\n        }\n        TransformStreamDefaultControllerEnqueue(this, chunk);\n    }\n    /**\n     * Errors both the readable side and the writable side of the controlled transform stream, making all future\n     * interactions with it fail with the given error `e`. Any chunks queued for transformation will be discarded.\n     */\n    error(reason = undefined) {\n        if (!IsTransformStreamDefaultController(this)) {\n            throw defaultControllerBrandCheckException('error');\n        }\n        TransformStreamDefaultControllerError(this, reason);\n    }\n    /**\n     * Closes the readable side and errors the writable side of the controlled transform stream. This is useful when the\n     * transformer only needs to consume a portion of the chunks written to the writable side.\n     */\n    terminate() {\n        if (!IsTransformStreamDefaultController(this)) {\n            throw defaultControllerBrandCheckException('terminate');\n        }\n        TransformStreamDefaultControllerTerminate(this);\n    }\n}\nObject.defineProperties(TransformStreamDefaultController.prototype, {\n    enqueue: { enumerable: true },\n    error: { enumerable: true },\n    terminate: { enumerable: true },\n    desiredSize: { enumerable: true }\n});\nif (typeof SymbolPolyfill.toStringTag === 'symbol') {\n    Object.defineProperty(TransformStreamDefaultController.prototype, SymbolPolyfill.toStringTag, {\n        value: 'TransformStreamDefaultController',\n        configurable: true\n    });\n}\n// Transform Stream Default Controller Abstract Operations\nfunction IsTransformStreamDefaultController(x) {\n    if (!typeIsObject(x)) {\n        return false;\n    }\n    if (!Object.prototype.hasOwnProperty.call(x, '_controlledTransformStream')) {\n        return false;\n    }\n    return x instanceof TransformStreamDefaultController;\n}\nfunction SetUpTransformStreamDefaultController(stream, controller, transformAlgorithm, flushAlgorithm) {\n    controller._controlledTransformStream = stream;\n    stream._transformStreamController = controller;\n    controller._transformAlgorithm = transformAlgorithm;\n    controller._flushAlgorithm = flushAlgorithm;\n}\nfunction SetUpTransformStreamDefaultControllerFromTransformer(stream, transformer) {\n    const controller = Object.create(TransformStreamDefaultController.prototype);\n    let transformAlgorithm = (chunk) => {\n        try {\n            TransformStreamDefaultControllerEnqueue(controller, chunk);\n            return promiseResolvedWith(undefined);\n        }\n        catch (transformResultE) {\n            return promiseRejectedWith(transformResultE);\n        }\n    };\n    let flushAlgorithm = () => promiseResolvedWith(undefined);\n    if (transformer.transform !== undefined) {\n        transformAlgorithm = chunk => transformer.transform(chunk, controller);\n    }\n    if (transformer.flush !== undefined) {\n        flushAlgorithm = () => transformer.flush(controller);\n    }\n    SetUpTransformStreamDefaultController(stream, controller, transformAlgorithm, flushAlgorithm);\n}\nfunction TransformStreamDefaultControllerClearAlgorithms(controller) {\n    controller._transformAlgorithm = undefined;\n    controller._flushAlgorithm = undefined;\n}\nfunction TransformStreamDefaultControllerEnqueue(controller, chunk) {\n    const stream = controller._controlledTransformStream;\n    const readableController = stream._readable._readableStreamController;\n    if (!ReadableStreamDefaultControllerCanCloseOrEnqueue(readableController)) {\n        throw new TypeError('Readable side is not in a state that permits enqueue');\n    }\n    // We throttle transform invocations based on the backpressure of the ReadableStream, but we still\n    // accept TransformStreamDefaultControllerEnqueue() calls.\n    try {\n        ReadableStreamDefaultControllerEnqueue(readableController, chunk);\n    }\n    catch (e) {\n        // This happens when readableStrategy.size() throws.\n        TransformStreamErrorWritableAndUnblockWrite(stream, e);\n        throw stream._readable._storedError;\n    }\n    const backpressure = ReadableStreamDefaultControllerHasBackpressure(readableController);\n    if (backpressure !== stream._backpressure) {\n        TransformStreamSetBackpressure(stream, true);\n    }\n}\nfunction TransformStreamDefaultControllerError(controller, e) {\n    TransformStreamError(controller._controlledTransformStream, e);\n}\nfunction TransformStreamDefaultControllerPerformTransform(controller, chunk) {\n    const transformPromise = controller._transformAlgorithm(chunk);\n    return transformPromiseWith(transformPromise, undefined, r => {\n        TransformStreamError(controller._controlledTransformStream, r);\n        throw r;\n    });\n}\nfunction TransformStreamDefaultControllerTerminate(controller) {\n    const stream = controller._controlledTransformStream;\n    const readableController = stream._readable._readableStreamController;\n    ReadableStreamDefaultControllerClose(readableController);\n    const error = new TypeError('TransformStream terminated');\n    TransformStreamErrorWritableAndUnblockWrite(stream, error);\n}\n// TransformStreamDefaultSink Algorithms\nfunction TransformStreamDefaultSinkWriteAlgorithm(stream, chunk) {\n    const controller = stream._transformStreamController;\n    if (stream._backpressure) {\n        const backpressureChangePromise = stream._backpressureChangePromise;\n        return transformPromiseWith(backpressureChangePromise, () => {\n            const writable = stream._writable;\n            const state = writable._state;\n            if (state === 'erroring') {\n                throw writable._storedError;\n            }\n            return TransformStreamDefaultControllerPerformTransform(controller, chunk);\n        });\n    }\n    return TransformStreamDefaultControllerPerformTransform(controller, chunk);\n}\nfunction TransformStreamDefaultSinkAbortAlgorithm(stream, reason) {\n    // abort() is not called synchronously, so it is possible for abort() to be called when the stream is already\n    // errored.\n    TransformStreamError(stream, reason);\n    return promiseResolvedWith(undefined);\n}\nfunction TransformStreamDefaultSinkCloseAlgorithm(stream) {\n    // stream._readable cannot change after construction, so caching it across a call to user code is safe.\n    const readable = stream._readable;\n    const controller = stream._transformStreamController;\n    const flushPromise = controller._flushAlgorithm();\n    TransformStreamDefaultControllerClearAlgorithms(controller);\n    // Return a promise that is fulfilled with undefined on success.\n    return transformPromiseWith(flushPromise, () => {\n        if (readable._state === 'errored') {\n            throw readable._storedError;\n        }\n        ReadableStreamDefaultControllerClose(readable._readableStreamController);\n    }, r => {\n        TransformStreamError(stream, r);\n        throw readable._storedError;\n    });\n}\n// TransformStreamDefaultSource Algorithms\nfunction TransformStreamDefaultSourcePullAlgorithm(stream) {\n    // Invariant. Enforced by the promises returned by start() and pull().\n    TransformStreamSetBackpressure(stream, false);\n    // Prevent the next pull() call until there is backpressure.\n    return stream._backpressureChangePromise;\n}\n// Helper functions for the TransformStreamDefaultController.\nfunction defaultControllerBrandCheckException(name) {\n    return new TypeError(`TransformStreamDefaultController.prototype.${name} can only be used on a TransformStreamDefaultController`);\n}\n// Helper functions for the TransformStream.\nfunction streamBrandCheckException(name) {\n    return new TypeError(`TransformStream.prototype.${name} can only be used on a TransformStream`);\n}\n\nexport { ByteLengthQueuingStrategy, CountQueuingStrategy, ReadableByteStreamController, ReadableStream, ReadableStreamBYOBReader, ReadableStreamBYOBRequest, ReadableStreamDefaultController, ReadableStreamDefaultReader, TransformStream, TransformStreamDefaultController, WritableStream, WritableStreamDefaultController, WritableStreamDefaultWriter };\n//# sourceMappingURL=ponyfill.es2018.mjs.map\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the module cache\n__webpack_require__.c = __webpack_module_cache__;\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nmd = (module) => {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","// module cache are used so entry inlining is disabled\n// startup\n// Load entry module and return exports\nvar __webpack_exports__ = __webpack_require__(__webpack_require__.s = 1842);\n"],"names":["_typeof","obj","Symbol","iterator","constructor","prototype","isDeepEqual","isDeepStrictEqual","_require$codes","codes","ERR_AMBIGUOUS_ARGUMENT","ERR_INVALID_ARG_TYPE","ERR_INVALID_ARG_VALUE","ERR_INVALID_RETURN_VALUE","ERR_MISSING_ARGS","AssertionError","inspect","_require$types","isPromise","isRegExp","objectAssign","Object","assign","objectIs","is","lazyLoadComparison","comparison","Map","warned","assert","module","exports","ok","NO_EXCEPTION_SENTINEL","innerFail","message","Error","innerOk","fn","argLen","value","generatedMessage","err","actual","expected","operator","stackStartFn","_len","arguments","length","args","Array","_key","apply","concat","fail","internalMessage","argsLen","undefined","warn","process","emitWarning","console","bind","errArgs","equal","notEqual","deepEqual","notDeepEqual","deepStrictEqual","notDeepStrictEqual","strictEqual","notStrictEqual","Comparison","keys","_this","this","instance","Constructor","TypeError","_classCallCheck","forEach","key","test","compareExceptionKey","a","b","name","expectedException","msg","push","isPrototypeOf","call","getActual","e","checkIsPromise","then","catch","waitForActual","promiseFn","Promise","resolve","resultPromise","expectsError","error","details","fnType","expectsNoError","strict","_len6","_key6","throws","_len2","_key2","rejects","_len3","_key3","result","doesNotThrow","_len4","_key4","doesNotReject","_len5","_key5","ifError","newErr","origStack","stack","tmp2","split","shift","tmp1","i","pos","indexOf","slice","join","_defineProperty","defineProperty","enumerable","configurable","writable","_defineProperties","target","props","descriptor","_possibleConstructorReturn","self","_assertThisInitialized","ReferenceError","_wrapNativeSuper","Class","_cache","Function","toString","has","get","set","Wrapper","_construct","_getPrototypeOf","create","_setPrototypeOf","isNativeReflectConstruct","Reflect","construct","sham","Proxy","Date","Parent","o","p","setPrototypeOf","__proto__","getPrototypeOf","endsWith","str","search","this_len","substring","blue","green","red","white","kReadableOperator","strictEqualObject","notStrictEqualObject","notIdentical","copyError","source","inspectValue","val","compact","customInspect","depth","maxArrayLength","Infinity","showHidden","breakLength","showProxy","sorted","getters","_Error","options","limit","stackTraceLimit","String","stderr","isTTY","getColorDepth","other","res","lastPos","end","skipped","actualInspected","actualLines","expectedLines","indicator","inputLength","columns","count","Math","floor","maxCount","log","repeat","pop","maxLines","max","_actualLines","printedLines","skippedMsg","cur","expectedLine","actualLine","divergingLines","createErrDiff","base","_res","knownOperators","code","captureStackTrace","protoProps","subClass","superClass","_inherits","custom","recurseTimes","ctx","ownKeys","getOwnPropertySymbols","filter","sym","getOwnPropertyDescriptor","_objectSpread","util","createErrorType","Base","NodeError","_Base","arg1","arg2","arg3","getMessage","oneOf","thing","isArray","len","map","determiner","start","substr","replace","type","reason","inspected","RangeError","input","_slicedToArray","arr","_arrayWithHoles","_arr","_n","_d","_e","_s","_i","next","done","_iterableToArrayLimit","_nonIterableRest","regexFlagsSupported","flags","arrayFromSet","array","arrayFromMap","objectGetOwnPropertySymbols","numberIsNaN","Number","isNaN","uncurryThis","f","hasOwnProperty","propertyIsEnumerable","objectToString","isAnyArrayBuffer","isArrayBufferView","isDate","isMap","isSet","isNativeError","isBoxedPrimitive","isNumberObject","isStringObject","isBooleanObject","isBigIntObject","isSymbolObject","isFloat32Array","isFloat64Array","isNonIndex","charCodeAt","pow","getOwnNonIndexProperties","compare","x","y","min","innerDeepEqual","val1","val2","memos","buf1","buf2","val1Tag","keys1","keys2","keyCheck","getTime","RegExp","byteLength","Uint8Array","buffer","byteOffset","areSimilarTypedArrays","offset","areSimilarFloatArrays","_keys","_keys2","size","valueOf","Boolean","BigInt","isEqualBoxedPrimitive","getEnumerables","k","iterationType","aKeys","bKeys","symbolKeysA","symbolKeysB","_symbolKeysB","position","val2MemoA","val2MemoB","areEq","objEquiv","delete","setHasEqualElement","memo","setValues","findLooseMatchingPrimitives","prim","setMightHaveLoosePrim","altValue","mapMightHaveLoosePrim","item","curB","mapHasEqualEntry","key1","item1","key2","aValues","Set","add","bValues","_val","setEquiv","aEntries","_aEntries$i","item2","bEntries","_i2","_bEntries$_i","mapEquiv","keysA","b64","lens","getLens","validLen","placeHoldersLen","toByteArray","tmp","Arr","_byteLength","curByte","revLookup","fromByteArray","uint8","extraBytes","parts","maxChunkLength","len2","encodeChunk","lookup","num","output","base64","ieee754","customInspectSymbol","Buffer","SlowBuffer","alloc","INSPECT_MAX_BYTES","K_MAX_LENGTH","createBuffer","buf","arg","encodingOrOffset","allocUnsafe","from","string","encoding","isEncoding","write","fromString","ArrayBuffer","isView","arrayView","isInstance","copy","fromArrayBuffer","fromArrayLike","fromArrayView","SharedArrayBuffer","isBuffer","checked","data","fromObject","toPrimitive","assertSize","mustMatch","loweredCase","utf8ToBytes","base64ToBytes","toLowerCase","slowToString","hexSlice","utf8Slice","asciiSlice","latin1Slice","base64Slice","utf16leSlice","swap","n","m","bidirectionalIndexOf","dir","arrayIndexOf","lastIndexOf","indexSize","arrLength","valLength","read","readUInt16BE","foundIndex","found","j","hexWrite","remaining","strLen","parsed","parseInt","utf8Write","blitBuffer","asciiWrite","byteArray","asciiToBytes","base64Write","ucs2Write","units","c","hi","lo","utf16leToBytes","firstByte","codePoint","bytesPerSequence","secondByte","thirdByte","fourthByte","tempCodePoint","codePoints","MAX_ARGUMENTS_LENGTH","fromCharCode","decodeCodePointsArray","kMaxLength","TYPED_ARRAY_SUPPORT","proto","foo","typedArraySupport","poolSize","fill","allocUnsafeSlow","_isBuffer","list","swap16","swap32","swap64","toLocaleString","equals","trim","thisStart","thisEnd","thisCopy","targetCopy","includes","isFinite","toJSON","ret","out","hexSliceLookupTable","bytes","checkOffset","ext","checkInt","wrtBigUInt64LE","checkIntBI","wrtBigUInt64BE","checkIEEE754","writeFloat","littleEndian","noAssert","writeDouble","newBuf","subarray","readUintLE","readUIntLE","mul","readUintBE","readUIntBE","readUint8","readUInt8","readUint16LE","readUInt16LE","readUint16BE","readUint32LE","readUInt32LE","readUint32BE","readUInt32BE","readBigUInt64LE","defineBigIntMethod","validateNumber","first","last","boundsError","readBigUInt64BE","readIntLE","readIntBE","readInt8","readInt16LE","readInt16BE","readInt32LE","readInt32BE","readBigInt64LE","readBigInt64BE","readFloatLE","readFloatBE","readDoubleLE","readDoubleBE","writeUintLE","writeUIntLE","writeUintBE","writeUIntBE","writeUint8","writeUInt8","writeUint16LE","writeUInt16LE","writeUint16BE","writeUInt16BE","writeUint32LE","writeUInt32LE","writeUint32BE","writeUInt32BE","writeBigUInt64LE","writeBigUInt64BE","writeIntLE","sub","writeIntBE","writeInt8","writeInt16LE","writeInt16BE","writeInt32LE","writeInt32BE","writeBigInt64LE","writeBigInt64BE","writeFloatLE","writeFloatBE","writeDoubleLE","writeDoubleBE","targetStart","copyWithin","errors","E","super","addNumericalSeparator","range","ERR_OUT_OF_RANGE","checkBounds","ERR_BUFFER_OUT_OF_BOUNDS","received","isInteger","abs","INVALID_BASE64_RE","leadSurrogate","base64clean","src","dst","alphabet","table","i16","BufferBigIntNotDefined","GetIntrinsic","callBind","$indexOf","allowMissing","intrinsic","$apply","$call","$reflectApply","$gOPD","$defineProperty","$max","originalFunction","func","desc","applyBind","now","times","g","window","functions","label","time","duration","format","object","expression","tuple","hasSymbols","toStr","origDefineProperty","hasPropertyDescriptors","supportsDescriptors","predicate","defineProperties","predicates","firstSource","to","nextSource","keysArray","nextIndex","nextKey","polyfill","ReflectOwnKeys","R","ReflectApply","receiver","getOwnPropertyNames","NumberIsNaN","EventEmitter","init","once","emitter","reject","errorListener","removeListener","resolver","eventTargetAgnosticAddListener","handler","on","addErrorHandlerIfEventEmitter","_events","_eventsCount","_maxListeners","defaultMaxListeners","checkListener","listener","_getMaxListeners","that","_addListener","prepend","events","existing","warning","newListener","emit","unshift","w","onceWrapper","fired","wrapFn","_onceWrap","state","wrapped","_listeners","unwrap","evlistener","unwrapListeners","arrayClone","listenerCount","addEventListener","wrapListener","removeEventListener","setMaxListeners","getMaxListeners","doError","er","context","listeners","addListener","prependListener","prependOnceListener","originalListener","index","spliceOne","off","removeAllListeners","rawListeners","eventNames","isCallable","forEachArray","forEachString","charAt","forEachObject","thisArg","ERROR_MESSAGE","funcType","bound","binder","boundLength","boundArgs","Empty","implementation","$SyntaxError","SyntaxError","$Function","$TypeError","getEvalledConstructor","expressionSyntax","throwTypeError","ThrowTypeError","calleeThrows","gOPDthrows","getProto","needsEval","TypedArray","INTRINSICS","AggregateError","Atomics","DataView","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","eval","EvalError","Float32Array","Float64Array","FinalizationRegistry","Int8Array","Int16Array","Int32Array","JSON","parseFloat","Uint8ClampedArray","Uint16Array","Uint32Array","URIError","WeakMap","WeakRef","WeakSet","doEval","gen","LEGACY_ALIASES","hasOwn","$concat","$spliceApply","splice","$replace","$strSlice","$exec","exec","rePropName","reEscapeChar","stringToPath","match","number","quote","subString","getBaseIntrinsic","alias","intrinsicName","intrinsicBaseName","intrinsicRealName","skipFurtherCaching","isOwn","part","hasArrayLengthDefineBug","origSymbol","hasSymbolSham","symObj","syms","toStringTag","http","url","https","validateParams","params","parse","protocol","request","cb","isLE","mLen","nBytes","eLen","eMax","eBias","nBits","d","s","NaN","rt","LN2","ctor","superCtor","super_","TempCtor","hasToStringTag","$toString","callBound","isStandardArguments","isLegacyArguments","callee","supportsStandardArguments","badArrayLike","isCallableMarker","fnToStr","reflectApply","_","constructorRegex","isES6ClassFn","fnStr","documentDotAll","document","all","tryFunctionObject","strClass","GeneratorFunction","isFnRegex","generatorFunc","getGeneratorFunc","define","getPolyfill","shim","availableTypedArrays","globalThis","typedArrays","$slice","toStrTags","gOPD","typedArray","superProto","tag","anyTrue","getter","tryTypedArrays","keysShim","isArgs","isEnumerable","hasDontEnumBug","hasProtoEnumBug","dontEnums","equalsConstructorPrototype","excludedKeys","$applicationCache","$console","$external","$frame","$frameElement","$frames","$innerHeight","$innerWidth","$onmozfullscreenchange","$onmozfullscreenerror","$outerHeight","$outerWidth","$pageXOffset","$pageYOffset","$parent","$scrollLeft","$scrollTop","$scrollX","$scrollY","$self","$webkitIndexedDB","$webkitStorageInfo","$window","hasAutomationEqualityBug","isObject","isFunction","isArguments","isString","theKeys","skipProto","skipConstructor","equalsConstructorPrototypeIfNotBuggy","origKeys","originalKeys","keysWorksWithArguments","endianness","hostname","location","loadavg","uptime","freemem","MAX_VALUE","totalmem","cpus","release","navigator","appVersion","networkInterfaces","getNetworkInterfaces","arch","platform","tmpdir","tmpDir","EOL","homedir","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","defaultClearTimeout","runTimeout","fun","setTimeout","clearTimeout","currentQueue","queue","draining","queueIndex","cleanUpNextTick","drainQueue","timeout","run","marker","runClearTimeout","Item","noop","nextTick","title","browser","env","argv","version","versions","binding","cwd","chdir","umask","prop","qs","sep","eq","regexp","maxKeys","kstr","vstr","v","idx","stringifyPrimitive","ks","decode","encode","stringify","copyProps","SafeBuffer","ClientRequest","response","extend","statusCodes","opts","defaultProtocol","host","port","path","method","toUpperCase","headers","req","IncomingMessage","Agent","defaultMaxSockets","globalAgent","STATUS_CODES","METHODS","xhr","getXHR","XMLHttpRequest","open","XDomainRequest","checkTypeSupport","responseType","fetch","ReadableStream","writableStream","WritableStream","abortController","AbortController","arraybuffer","msstream","mozchunkedarraybuffer","overrideMimeType","capability","inherits","stream","rStates","readyStates","preferBinary","Writable","_opts","_body","_headers","auth","setHeader","useFetch","mode","_mode","decideMode","_fetchTimer","_socketTimeout","_socketTimer","_onFinish","lowerName","unsafeHeaders","getHeader","header","removeHeader","_destroyed","headersObj","body","Blob","headersList","keyName","signal","controller","_fetchAbortController","requestTimeout","abort","credentials","withCredentials","_fetchResponse","_resetTimers","_connect","_xhr","ontimeout","setRequestHeader","_response","onreadystatechange","readyState","LOADING","DONE","_onXHRProgress","onprogress","onerror","send","status","statusValid","_write","chunk","destroy","flushHeaders","setNoDelay","setSocketKeepAlive","UNSENT","OPENED","HEADERS_RECEIVED","resetTimers","Readable","rawHeaders","trailers","rawTrailers","statusCode","statusMessage","statusText","_resumeFetch","close","pipeTo","reader","getReader","_pos","responseURL","getAllResponseHeaders","matches","_charset","mimeType","charsetMatch","_read","responseText","newData","MSStreamReader","onload","readAsArrayBuffer","objectKeys","Duplex","allowHalfOpen","readable","onend","_writableState","ended","onEndNT","highWaterMark","getBuffer","_readableState","destroyed","PassThrough","Transform","_transform","ReadableState","debug","EElistenerCount","Stream","OurUint8Array","debugUtil","debuglog","StringDecoder","createReadableStreamAsyncIterator","BufferList","destroyImpl","getHighWaterMark","ERR_STREAM_PUSH_AFTER_EOF","ERR_METHOD_NOT_IMPLEMENTED","ERR_STREAM_UNSHIFT_AFTER_END_EVENT","errorOrDestroy","kProxyEvents","isDuplex","objectMode","readableObjectMode","pipes","pipesCount","flowing","endEmitted","reading","sync","needReadable","emittedReadable","readableListening","resumeScheduled","paused","emitClose","autoDestroy","defaultEncoding","awaitDrain","readingMore","decoder","_destroy","readableAddChunk","addToFront","skipChunkCheck","emitReadable","emitReadable_","onEofChunk","chunkInvalid","_uint8ArrayToBuffer","addChunk","maybeReadMore","_undestroy","undestroy","isPaused","setEncoding","enc","head","content","clear","MAX_HWM","howMuchToRead","computeNewHighWaterMark","flow","maybeReadMore_","updateReadableListening","resume","nReadingNextTick","resume_","fromList","consume","endReadable","endReadableNT","wState","finished","xs","l","nOrig","doRead","pipe","dest","pipeOpts","endFn","stdout","unpipe","onunpipe","unpipeInfo","hasUnpiped","onclose","onfinish","ondrain","ondata","cleanedUp","needDrain","pipeOnDrain","pause","event","dests","ev","wrap","asyncIterator","_fromList","iterable","ERR_MULTIPLE_CALLBACK","ERR_TRANSFORM_ALREADY_TRANSFORMING","ERR_TRANSFORM_WITH_LENGTH_0","afterTransform","ts","_transformState","transforming","writecb","writechunk","rs","needTransform","writeencoding","transform","flush","_flush","prefinish","err2","CorkedRequest","entry","finish","corkReq","callback","pendingcb","onCorkedFinish","corkedRequestsFree","WritableState","realHasInstance","internalUtil","deprecate","ERR_STREAM_CANNOT_PIPE","ERR_STREAM_DESTROYED","ERR_STREAM_NULL_VALUES","ERR_STREAM_WRITE_AFTER_END","ERR_UNKNOWN_ENCODING","nop","writableObjectMode","finalCalled","ending","noDecode","decodeStrings","writing","corked","bufferProcessing","onwrite","writelen","onwriteStateUpdate","finishMaybe","errorEmitted","onwriteError","needFinish","bufferedRequest","clearBuffer","afterWrite","lastBufferedRequest","prefinished","bufferedRequestCount","writev","_writev","final","_final","doWrite","onwriteDrain","holder","allBuffers","isBuf","callFinal","need","rState","current","hasInstance","writeAfterEnd","validChunk","newChunk","decodeChunk","writeOrBuffer","cork","uncork","setDefaultEncoding","endWritable","_Object$setPrototypeO","kLastResolve","kLastReject","kError","kEnded","kLastPromise","kHandlePromise","kStream","createIterResult","readAndResolve","iter","onReadable","AsyncIteratorPrototype","ReadableStreamAsyncIteratorPrototype","promise","lastPromise","wrapForNext","_this2","_Object$create","enumerableOnly","symbols","tail","hasStrings","_getString","_getBuffer","nb","getOwnPropertyDescriptors","emitErrorAndCloseNT","emitErrorNT","emitCloseNT","readableDestroyed","writableDestroyed","ERR_STREAM_PREMATURE_CLOSE","eos","called","onlegacyfinish","writableEnded","readableEnded","onrequest","isRequest","destroyer","closed","popCallback","streams","destroys","reduce","ERR_INVALID_OPT_VALUE","duplexKey","hwm","highWaterMarkFrom","pipeline","nenc","retried","_normalizeEncoding","normalizeEncoding","text","utf16Text","utf16End","fillLast","utf8FillLast","base64Text","base64End","simpleWrite","simpleEnd","lastNeed","lastTotal","lastChar","utf8CheckByte","byte","r","utf8CheckExtraBytes","total","utf8CheckIncomplete","root","nodeType","freeGlobal","global","punycode","maxInt","regexPunycode","regexNonASCII","regexSeparators","stringFromCharCode","mapDomain","ucs2decode","extra","counter","ucs2encode","digitToBasic","digit","flag","adapt","delta","numPoints","firstTime","baseMinusTMin","basic","oldi","t","baseMinusT","bias","handledCPCount","basicLength","q","currentValue","handledCPCountPlusOne","qMinusT","Url","slashes","hash","query","pathname","href","urlParse","relative","resolveObject","protocolPattern","portPattern","simplePathPattern","unwise","autoEscape","nonHostChars","hostEndingChars","hostnamePartPattern","hostnamePartStart","unsafeProtocol","hostlessProtocol","slashedProtocol","querystring","parseQueryString","slashesDenoteHost","u","queryIndex","splitter","uSplit","rest","simplePath","lowerProto","atSign","hostEnd","hec","parseHost","ipv6Hostname","hostparts","newpart","validParts","notHost","bit","toASCII","h","ae","esc","escape","qm","rel","tkeys","tk","tkey","rkeys","rk","rkey","relPath","isSourceAbs","isRelAbs","mustEndAbs","removeAllDots","srcPath","psychotic","isNullOrUndefined","authInHost","isNull","hasTrailingSlash","up","isAbsolute","config","localStorage","trace","isArgumentsObject","isGeneratorFunction","whichTypedArray","isTypedArray","BigIntSupported","SymbolSupported","ObjectToString","numberValue","stringValue","booleanValue","bigIntValue","symbolValue","checkBoxedPrimitive","prototypeValueOf","isMapToString","isSetToString","isWeakMapToString","isWeakSetToString","isArrayBufferToString","isArrayBuffer","working","isDataViewToString","isDataView","isUint8Array","isUint8ClampedArray","isUint16Array","isUint32Array","isInt8Array","isInt16Array","isInt32Array","isBigInt64Array","isBigUint64Array","isWeakMap","isWeakSet","SharedArrayBufferCopy","isSharedArrayBufferToString","isSharedArrayBuffer","isAsyncFunction","isMapIterator","isSetIterator","isGeneratorObject","isWebAssemblyCompiledModule","descriptors","formatRegExp","objects","noDeprecation","throwDeprecation","traceDeprecation","debugs","debugEnvRegex","NODE_DEBUG","debugEnv","seen","stylize","stylizeNoColor","colors","isBoolean","_extend","isUndefined","stylizeWithColor","formatValue","styleType","style","styles","primitive","simple","isNumber","formatPrimitive","visibleKeys","arrayToHash","isError","formatError","braces","toUTCString","formatProperty","formatArray","prev","reduceToSingleString","line","ar","re","pad","pid","types","isSymbol","isPrimitive","months","timestamp","getHours","getMinutes","getSeconds","getDate","getMonth","origin","kCustomPromisifiedSymbol","callbackifyOnRejected","newReason","promisify","original","promiseResolve","promiseReject","callbackify","callbackified","maybeCb","rej","foundName","subMediaType","getMediaType","bytesToValue","schema","parameters","valueToBytes","content_serdes_1","logger_1","createLoggers","ContentSerdes","DEFAULT","NSs","tmpObj","getPayloadNamespaces","payload","hasNamespace","properties","nsFound","aliasNs","el","ns","tmpHasNamespace","float16_1","_a","bigendian","byteorder","signed","dataLength","dataType","typeSem","every","negative","curr","reduceRight","isSafeInteger","getFloat16","charset","setFloat16","be","__createBinding","k2","__setModuleDefault","__importStar","mod","__esModule","__awaiter","_arguments","P","generator","fulfilled","step","rejected","__importDefault","TD","helpers_1","UriTemplate","interaction_output_1","Affordance","ConsumedThingProperty","ThingProperty","getName","getThing","ConsumedThingAction","ThingAction","ConsumedThingEvent","ThingEvent","InternalSubscription","active","InternalPropertySubscription","form","forms","formIndex","stop","unobserveProperty","tp","matchingUnsubscribeForm","client","getClientFor","PropertyAffordance","unlinkResource","refForm","op","bestFormMatch","findFormIndexWithScoring","operation","maxScore","maxScoreIndex","score","URL","contentType","InternalEventSubscription","unsubscribeEvent","te","EventAffordance","ConsumedThing","Thing","servient","thingModel","subscribedEvents","observedProperties","getServient","getClients","clients","getMap","actions","clonedModel","extendInteractions","getThingDescription","emitEvent","propertyName","newProp","default","actionName","newAction","eventName","newEvent","findForm","affordance","schemes","fop","ActionAffordance","getSecuritySchemes","security","scs","ws","securityDefinitions","ensureClientSecurity","logStatement","setSecurity","retrieveCredentials","id","getCredentials","scheme","extractScheme","hasClientFor","link","cacheIdx","findIndex","srvIdx","readProperty","handleUriVariables","readResource","InteractionOutput","_readProperties","propertyNames","promises","readAllProperties","readMultipleProperties","writeProperty","valueToContent","writeResource","writeMultipleProperties","valueMap","invokeAction","parameter","ta","invokeResource","_b","observeProperty","subscribeResource","subscription","subscribeEvent","ti","ut","uriVariables","parseInteractionOptions","updatedHref","expand","updForm","json_codec_1","text_codec_1","base64_codec_1","octetstream_codec_1","stream_1","core_1","es2018_1","codecs","offered","static","addCodec","codec","getSupportedMediaTypes","getOfferedMediaTypes","isSupported","mt","contentToValue","par","getMediaTypeParameters","ProtocolHelpers","toNodeStream","JSON_LD","__exportStar","createWarnLogger","createInfoLogger","createErrorLogger","createDebugLogger","Helpers","ExposedThing","NetconfCodec","NetconfOctetstreamCodecCodec","Base64Codec","TextCodec","JsonCodec","Servient","servient_1","netconf_codec_1","consumed_thing_1","exposed_thing_1","protocol_helpers_1","DataSchemaError","NotSupportedError","NotReadableError","Subject_1","protocol_listener_registry_1","__propertyHandlers","__actionHandlers","__eventHandlers","__propertyListeners","__eventListeners","getSubjectTD","subjectTDChange","Subject","getSubject","setContextLanguage","DEFAULT_CONTEXT_LANGUAGE","serializeTD","eventAffordance","notify","emitPropertyChange","property","readHandler","expose","destroyThing","unregisterAll","setPropertyReadHandler","writeOnly","propertyHandler","setPropertyWriteHandler","readOnly","writeHandler","setPropertyObserveHandler","observable","observeHandler","setPropertyUnobserveHandler","unobserveHandler","setActionHandler","setEventSubscribeHandler","eventHandler","subscribe","setEventUnsubscribeHandler","unsubscribe","setEventHandler","handleInvokeAction","inputContent","validateInteractionOptions","handleReadProperty","_handleReadProperties","find","results","handleReadAllProperties","handleReadMultipleProperties","handleWriteProperty","handleWriteMultipleProperties","handleSubscribeEvent","getFormIndexForOperation","register","handleUnsubscribeEvent","unregister","handleObserveProperty","handleUnobserveProperty","os","ajv_1","td_json_schema_validation_json_1","td_tools_1","tdSchema","ajv","addFormat","srv","uri","address","staticAddress","addresses","interfaces","iface","internal","family","scopeid","toUriLiteral","suffix","Form","td","readStreamFully","jo","second","tdSchemaCopy","required","reservedKeywords","reqProps","definitions","createExposeThingInitSchema","ThingModelHelpers","isThingModel","valid","isValid","tsSchemaValidator","interactionUriVariables","thingUriVariables","entries","varKey","varValue","entryVariables","entryVariable","globalUriVariables","queryparams","indexQuery","indexPair","queryKey","queryValue","compile","errors_1","dataUsed","_stream","toWoTStream","arrayBuffer","parsedValue","validate","debug_1","LogLevel","createLogger","namespaces","logLevel","namespace","info","ManagedStream","nodeStream","_nodeStream","wotStream","_wotStream","ManagedReadable","ManagedReadableStream","isManaged","formTemplate","action","uriScheme","startsWith","enqueue","cancel","releaseLock","chunks","requestUrl","matchingForms","formUrl","reqUrl","contentTypeMatchingForms","interaction","operationName","finalFormIndex","defaultOps","ProtocolListenerRegistry","formMap","EMPTY_MAP","wot_impl_1","uuid_1","servers","clientFactories","things","credentialStore","addMediaType","tdTemplate","serverPromises","server","addThing","v4","thingId","getThings","addServer","getServers","addClientFactory","clientFactory","getClient","getClientSchemes","addCredentials","currentCredentials","identifier","serverStatus","shutdown","DataType","DiscoveryMethod","ThingDiscoveryImpl","discover","parseTD","newThing","produce","validated","validateExposedThingInit","CodeGen","Name","nil","KeywordCxt","context_1","codegen_1","draft7_1","draft7MetaSchema","META_SUPPORT_DATA","META_SCHEMA_ID","Ajv","_addVocabularies","addVocabulary","_addDefaultMetaSchema","meta","metaSchema","$data","$dataMetaSchema","addMetaSchema","refs","defaultMeta","getSchema","getProperty","safeStringify","strConcat","addCodeArg","_Code","IDENTIFIER","_CodeOrName","emptyStr","names","_items","_str","_names","strs","plus","expr","mergeExprItems","optimize","c1","c2","or","and","not","operators","varKinds","ValueScopeName","ValueScope","Scope","code_1","scope_1","code_2","scope_2","GT","GTE","LT","LTE","EQ","NEQ","NOT","OR","AND","ADD","Node","optimizeNodes","optimizeNames","_constants","Def","varKind","rhs","render","es5","var","constants","optimizeExpr","Assign","lhs","sideEffects","addExprNames","AssignOp","Label","Break","Throw","AnyCode","ParentNode","nodes","subtractNames","addNames","BlockNode","Root","Else","kind","If","condition","else","cond","For","ForLoop","iteration","ForRange","ForIter","loop","Func","async","Return","Try","finally","Catch","Finally","replaceName","some","items","extScope","_values","_blockStarts","lines","_extScope","_scope","parent","_nodes","_root","prefix","scopeName","scopeValue","prefixOrName","getScopeValue","keyOrRef","getValue","scopeRefs","scopeCode","_def","nameOrPrefix","constant","toName","_leafNode","const","_constant","let","keyValues","if","thenBody","elseBody","_blockNode","endIf","elseIf","_elseNode","_endBlockNode","_for","node","forBody","endFor","for","forRange","forOf","forIn","ownProperties","break","return","try","tryBody","catchCode","finallyCode","_currNode","throw","block","nodeCount","endBlock","toClose","funcBody","endFunc","N1","N2","andCode","mappend","orCode","UsedValueState","ValueError","prefixes","_prefixes","_parent","_newName","_nameGroup","nameStr","setValue","itemIndex","scopePath","scope","ref","valueKey","vs","_name","values","_reduceValues","usedValues","getCode","valueCode","nameSet","Started","def","Completed","getData","dataType_1","util_1","names_1","subschema_1","it","keyword","deps","dependencies","kwd","validateSchema","errorsText","logger","validateKeywordUsage","allErrors","schemaValue","schemaRefOrVal","schemaType","parentSchema","schemaCode","allowUndefined","st","validSchemaType","trackErrors","errsCount","successAction","failAction","pass","fail$data","invalid$data","append","reportExtraError","reportError","$dataError","keyword$DataError","reset","resetErrorsCount","setParams","block$data","codeBlock","$dataValid","check$data","checkDataTypes","Wrong","wrong$DataType","validateSchemaRef","invalid$DataSchema","subschema","appl","applySubschema","mergeEvaluated","schemaCxt","unevaluated","mergeValidEvaluated","JSON_POINTER","RELATIVE_JSON_POINTER","dataLevel","dataNames","dataPathArr","jsonPointer","rootData","errorMsg","segments","segment","unescapeJsonPointer","pointerType","MissingRefError","ValidationError","resolve_1","validation","baseId","missingRef","resolveUrl","missingSchema","normalizeId","getFullPath","extendErrors","keywordError","addError","errObj","vErrors","returnErrors","errs","validateName","schemaEnv","$async","cxt","overrideAllErrors","compositeRule","errorObjectCode","dataPath","errorPath","errSchemaPath","verbose","schemaPath","instancePath","createErrors","jtd","ajvErrors","jtdErrorObject","ajvErrorObject","messages","topSchemaRef","resolveSchema","getCompilingSchema","resolveRef","compileSchema","SchemaEnv","error_classes_1","validate_1","URI","dynamicAnchors","$id","localRefs","sch","_sch","rootId","_ValidationError","parentData","parentDataProperty","dataTypes","definedProperties","sourceCode","_compilations","validateFunctionCode","validateCode","makeValidate","scopeValues","evaluated","dynamicProps","dynamicItems","inlineOrCompile","inlineRef","inlineRefs","schEnv","s2","s1","schemas","refPath","_getFullPath","getJsonPointer","schOrRef","schOrFunc","PREVENT_SCOPE_CHANGE","parsedRef","fragment","unescapeFragment","$ref","schemaHasRulesButRef","RULES","valCxt","json","jsonPos","jsonLen","jsonPart","getSchemaRefs","traverse","SIMPLE_INLINED","hasRef","countKeys","REF_KEYWORDS","eachItem","normalize","serialize","TRAILING_SLASH_HASH","ANCHOR","schemaId","baseIds","pathPrefix","schemaRefs","allKeys","jsonPtr","parentJsonPtr","fullPath","addRef","ambiguos","checkAmbiguosRef","addAnchor","anchor","$anchor","$dynamicAnchor","sch1","sch2","getRules","isJSONType","jsonTypes","groups","rules","integer","boolean","null","post","keywords","Type","schemaProp","escapeFragment","getSubschema","dataProp","dataPropType","dpType","dataContextProps","jsPropertySyntax","Num","escapeJsonPointer","getErrorPath","_nextData","extendSubschemaData","jtdDiscriminator","jtdMetadata","extendSubschemaMode","nextContext","subschemaCode","setEvaluated","evaluatedPropsToName","schemaHasRules","checkUnknownRules","alwaysValidSchema","toHash","checkStrictMode","makeMergeEvaluated","mergeNames","mergeToName","mergeValues","resultToName","ps","shouldUseGroup","group","rule","shouldUseRule","definition","implements","schemaHasRulesForType","boolOrEmptySchema","topBoolOrEmptySchema","boolError","falseSchemaError","reportTypeError","checkDataType","coerceAndCheckDataType","getJSONTypes","getSchemaTypes","rules_1","applicability_1","nullable","coerceTo","coerceTypes","COERCIBLE","coerceToTypes","checkTypes","wrongType","coerced","coerceSpecificType","assignParentData","coerceData","strictNums","correct","Correct","numCond","_cond","notObj","typeError","getTypeErrorContext","assignDefaults","_1","assignDefault","defaultValue","childData","useDefaults","ty","schemaCxtHasRules","boolSchema_1","iterate_1","validateFunction","funcSourceUrl","dynamicRef","destructureValCxtES5","destructureValCxt","isSchemaObj","checkKeywords","ignoreKeywordsWithRef","checkRefsAndKeywords","typeAndKeywords","schemaKeywords","checkedTypes","commentKeyword","$comment","rootName","checkNoDefault","resetEvaluated","assignEvaluated","returnResults","topSchemaObjCode","updateContext","checkAsync","subSchemaObjCode","defaults_1","keyword_1","iterateKeywords","keywordCode","includesType","strictTypesError","strictTypes","typeErrors","groupKeywords","checkContextTypes","allowUnionTypes","checkMultipleTypes","hasApplicableType","kwdT","schTs","checkKeywordTypes","checkStrictTypes","funcKeywordCode","validateRef","useKeyword","assignValid","_await","passCxt","passContext","passSchema","callValidateCode","modifying","reportErrs","modifyData","ruleErrs","validateAsync","validateErrs","validateSync","addErrs","ruleType","macroSchema","macro","schemaRef","macroKeywordCode","compile_1","codegen_2","$dataRefSchema","META_IGNORE_OPTIONS","EXT_SCOPE_NAMES","removedOptions","errorDataPath","jsonPointers","extendRefs","missingRefs","processCode","strictDefaults","strictKeywords","strictNumbers","uniqueItems","unknownFormats","cache","deprecatedOptions","unicode","requiredOptions","_c","_f","_g","_h","_j","_k","_l","_m","strictLog","_optz","strictTuples","loopRequired","loopEnum","addUsedSchema","validateFormats","formats","_loading","noLogs","getLogger","formatOpt","checkOptions","_metaOpts","getMetaSchemaOptions","addInitialFormats","addInitialKeywords","addInitialSchemas","addKeyword","schemaKeyRef","_meta","_addSchema","_compileSchemaEnv","compileAsync","loadSchema","runCompileAsync","_schema","loadMetaSchema","$schema","_compileAsync","checkLoaded","loadMissingSchema","_loadSchema","addSchema","_validateSchema","_checkUnique","throwOrLogError","keyRef","getSchEnv","removeSchema","_removeAllSchemas","cacheKey","kwdOrDef","checkKeyword","addRule","keywordMetaschema","getKeyword","removeKeyword","separator","dataVar","keywordsJsonPointers","seg","schemaOrData","regex","_compileMetaSchema","currentOpts","checkOpts","opt","optsSchemas","defs","metaOpts","KEYWORD_NAME","ruleGroup","before","addBeforeRule","_rule","$dataRef","anyOf","validateItems","additionalProperty","removeAdditional","allSchemaProperties","patProps","patternProperties","deleteAdditional","additionalPropertyCode","applyAdditionalSchema","Str","definedProp","propsSchema","isOwnProperty","usePattern","isAdditional","schCxt","validateUnion","minContains","maxContains","schValid","checkLimits","_valid","validateSchemaDeps","validatePropertyDeps","depsCount","property_ies","missingProperty","propDeps","schDeps","propertyDeps","schemaDeps","splitDependencies","missing","hasProperty","propertyInData","depProp","checkReportMissingProp","checkMissingProp","reportMissingProp","ifClause","hasThen","hasSchema","hasElse","validateIf","validateClause","additionalItems_1","items_1","contains_1","dependencies_1","propertyNames_1","additionalProperties_1","properties_1","patternProperties_1","not_1","anyOf_1","oneOf_1","allOf_1","if_1","thenElse_1","applicator","schArr","minItems","maxItems","additionalItems","fullTupleSchema","validateTuple","validateArray","passing","patterns","schemaProperties","checkProperties","allowMatchingProperties","checkMatchingProperties","pat","validateProperties","validatePatternProperties","additionalProperties","allProps","hasDefault","applyPropertySchema","noPropertyInData","hasPropFunc","schemaMap","dataAndSchema","pattern","validArr","notValid","id_1","ref_1","core","callRef","getValidate","callRootRef","schOrEnv","callValidate","schName","inlineRefSchema","addErrorsFrom","addEvaluatedFrom","schEvaluated","callAsyncRef","validation_1","applicator_1","format_1","metadata_1","draft7Vocabularies","metadataVocabulary","contentVocabulary","fmts","fDef","fType","callFormat","validData","invalidFmt","validate$DataFormat","formatDef","unknownMsg","unknownFormat","fmtType","fmtRef","fmtDef","fmt","getFormat","validCondition","validateFormat","eql","useLoop","vSchema","_x","equalCode","limitNumber_1","multipleOf_1","limitLength_1","pattern_1","limitProperties_1","required_1","limitItems_1","uniqueItems_1","const_1","enum_1","comp","ucs2length_1","u2l","ops","KWDs","maximum","okStr","minimum","exclusiveMaximum","exclusiveMinimum","prec","multipleOfPrecision","invalid","regExp","loopAllRequired","allErrorsMode","loopUntilMissing","exitOnErrorMode","strictRequired","requiredKey","itemTypes","loopN","indices","loopN2","outer","findPort","findProtocol","columnLoc","divLoc","returnString","language","forceOverride","arrayContext","languageSet","arrayEntry","TDHelpers","isAbsoluteUrl","URLToolkit","logDebug","logWarn","DEFAULT_CONTEXT_V1","DEFAULT_CONTEXT_V11","semContext","indexV1","indexV11","DEFAULT_THING_TYPE","semTypes","semType","propName","actName","act","safe","idempotent","allForms","evtName","evt","buildAbsoluteURL","nosec_sc","links","thing_description_1","BaseSchema","fs","json_placeholder_replacer_1","tm_json_schema_validation_json_1","logError","tmSchema","_resolver","_data","getThingModelRef","model","getPartialTDs","_getPartialTDs","fetchModel","tm","addDependency","localFetch","file","readFile","rawData","parsedData","validateThingModel","checkPlaceholderMap","modelInput","fetchAffordances","composeModel","extLinks","getThingModelLinks","extends","affordanceTypes","imports","affType","affRefs","aff","affUri","refObj","parseTmRef","importedAffordance","getRefAffordance","tmLinks","submodel","modelObject","tmpThingModels","baseUrl","newTMHref","returnNewTMHref","newTDHref","returnNewTDHref","extendObjs","extendObj","extendThingModel","importObjs","importedObj","importAffordance","submodelObj","selfComposition","instanceName","subPartialTD","affKey","newAffKey","subTitle","subNewHref","tmpPartialSubTDs","formatSubmodelLink","fillPlaceholder","removeDependency","extendedModel","affordanceType","affordanceName","oldHref","newHref","thingModelUri","affordaceUri","affordanceKey","affordances","placeHolderReplacer","JsonPlaceholderReplacer","addVariableMap","tdname","dep","AbortSignal","formatArgs","useColors","humanize","diff","color","lastC","save","storage","setItem","removeItem","load","getItem","DEBUG","__nwjs","userAgent","documentElement","WebkitAppearance","firebug","exception","$1","localstorage","formatters","createDebug","prevTime","namespacesCache","enabledCache","enableOverride","enabled","ms","coerce","formatter","selectColor","delimiter","newDebug","toNamespace","disable","skips","enable","json_placeholder_replacer_2","exitCode","replacer","readFileSync","replaceableFileContent","replacedValue","defaultDelimiterTags","begin","delimiterTags","variablesMap","escapeRegExp","escapedBeginning","escapedEnding","variableMap","replaceChildren","attribute","replaceValue","delimiterTagRegex","delimiterTag","placeHolderIsInsideStringContext","placeHolder","mapCheckResult","checkInEveryMap","acc","exc","navigateThroughMap","shortCircuit","_traverse","pre","rootSchema","parentKeyword","keyIndex","arrayKeywords","propsKeywords","skipKeywords","contains","allOf","$defs","enum","multipleOf","maxLength","minLength","maxProperties","minProperties","plural","msAbs","isPlural","round","long","fmtShort","AbortError","addAbortSignal","validateAbortSignal","addAbortSignalNoValidate","onAbort","cause","aborted","StringPrototypeSlice","SymbolIterator","TypedArrayPrototypeSet","retLen","isNodeStream","isReadable","isWritable","orgStreams","onreadable","aggregateTwoErrors","kDestroyed","isDestroyed","isFinished","isServerRequest","kDestroy","kConstruct","checkError","errored","onDestroy","emitErrorCloseNT","closeEmitted","constructNT","onConstruct","constructed","emitConstructNT","emitCloseLegacy","emitErrorCloseLegacy","socket","ObjectDefineProperties","ObjectGetOwnPropertyDescriptor","ObjectKeys","ObjectSetPrototypeOf","webStreamsAdapters","duplexify","lazyWebStreams","writableHighWaterMark","writableBuffer","writableLength","writableFinished","writableCorked","writableNeedDrain","fromWeb","pair","newStreamDuplexFromReadableWritablePair","toWeb","duplex","newReadableWritablePairFromDuplex","bufferModule","isIterable","isReadableNodeStream","isWritableNodeStream","isDuplexNodeStream","createDeferredPromise","isBlob","FunctionPrototypeCall","Duplexify","_duplexify","onfinished","ac","_promise","_resolve","fromAsyncGen","kEmptyObject","validateObject","isClosed","isReadableFinished","isReadableErrored","isWritableFinished","isWritableErrored","willEmitClose","_willEmitClose","_options$readable","_options$writable","readableFinished","cleanup","endCallback","originalCallback","PromisePrototypeThen","SymbolAsyncIterator","isAsync","hadError","hasThrow","ArrayIsArray","EE","_isStdio","didOnEnd","validateInteger","kWeakHandler","ArrayPrototypePush","MathFloor","PromiseReject","kEmpty","kEof","concurrency","_options$signal","_options$signal2","signalOpt","onDone","_options$signal3","pump","unused","ReduceAwareErrMissingArgs","toIntegerOrInfinity","streamReturningOperators","asIndexedPairs","_options$signal4","drop","_options$signal8","_options$signal9","flatMap","take","_options$signal10","_options$signal11","promiseReturningOperators","reducer","initialValue","_options$signal5","hasInitialValue","gotAnyItemFromStream","_options$signal6","toArray","_options$signal7","makeAsyncIterable","fromReadable","onresolve","wait","pipelineImpl","outerSignal","lastStreamCleanup","finishImpl","finishCount","isLastStream","onError","_ret","pt","ArrayPrototypeIndexOf","NumberIsInteger","NumberParseInt","SafeSet","getDefaultHighWaterMark","kPaused","awaitDrainWriters","multiAwaitDrain","dataEmitted","_isUint8Array","streamToAsyncIterator","destroyOnReturn","createAsyncIterator","endWritableNT","captureRejectionSymbol","streamKeys","readableDidRead","readableAborted","readableHighWaterMark","readableBuffer","readableFlowing","readableLength","readableEncoding","readableStream","newStreamReadableFromReadableStream","streamReadable","newReadableStreamFromStreamReadable","_ref","_src$readableObjectMo","kCallback","kIsErrored","kIsReadable","kIsDisturbed","_obj$_readableState","_obj$_writableState","isWritableEnded","isOutgoingMessage","_closed","_defaultKeepAlive","_removedConnection","_removedContLen","isServerResponse","_sent100","isDisturbed","_stream$kIsDisturbed","isErrored","_ref2","_ref3","_ref4","_ref5","_stream$kIsErrored","_stream$_readableStat3","_stream$_writableStat3","_stream$_readableStat4","_stream$_writableStat4","readableErrored","writableErrored","isReadableEnded","_stream$_readableStat","_stream$_readableStat2","_stream$_writableStat","_stream$_writableStat2","_stream$req","_consuming","_dumped","upgradeOrConnect","ArrayPrototypeSlice","FunctionPrototypeSymbolHasInstance","ObjectDefineProperty","StringPrototypeToLowerCase","SymbolHasInstance","ERR_STREAM_ALREADY_FINISHED","kOnFinished","afterWriteTickInfo","resetBuffer","buffered","bufferedIndex","allNoop","errorBuffer","afterWriteTick","_state$errored","onfinishCallbacks","_state$errored2","bufferedLength","onFinish","writableAborted","newStreamWritableFromWritableStream","streamWritable","newWritableStreamFromStreamWritable","ArrayPrototypeIncludes","ArrayPrototypeJoin","ArrayPrototypeMap","NumberMAX_SAFE_INTEGER","NumberMIN_SAFE_INTEGER","ObjectPrototypeHasOwnProperty","RegExpPrototypeExec","StringPrototypeToUpperCase","StringPrototypeTrim","hideStackFrames","ERR_SOCKET_BAD_PORT","ERR_UNKNOWN_SIGNAL","signals","octalReg","validateInt32","validateUint32","positive","validateString","validateOneOf","allowed","getOwnPropertyValueOrDefault","allowArray","allowFunction","validateBuffer","validatePlainFunction","validateUndefined","isInt32","isUint32","parseFileMode","validateBoolean","validateEncoding","normalizedEncoding","validatePort","allowZero","validateSignalName","union","CustomAggregateError","kIsNodeError","kTypes","classRegExp","ERR_INTERNAL_ASSERTION","expectedLength","hidden","instances","_actual$constructor","_value$constructor","innerError","outerError","ArrayPrototypePop","thisArgs","MAX_SAFE_INTEGER","MIN_SAFE_INTEGER","PromisePrototypeCatch","thenFn","catchFn","RegExpPrototypeTest","AsyncFunction","freeze","_unused","replacement","toFixed","customPromisify","ERR_ILLEGAL_CONSTRUCTOR","compose","utils","pl","lastArg","__extends","__","Subscription_1","AsyncSubject","_super","hasNext","hasCompleted","_subscribe","subscriber","hasError","thrownError","Subscription","EMPTY","complete","ObjectUnsubscribedError_1","BehaviorSubject","_value","ObjectUnsubscribedError","InnerSubscriber","outerValue","outerIndex","_next","notifyNext","_error","notifyError","_complete","notifyComplete","Subscriber","Observable_1","Notification","hasValue","observe","observer","do","accept","nextOrObserver","toObservable","Observable","of","empty","createNext","undefinedValueNotification","createError","createComplete","completeNotification","root_1","toSubscriber_1","observable_1","pipe_1","_isScalar","lift","observerOrNext","sink","toSubscriber","syncErrorThrowable","_trySubscribe","syncErrorThrown","syncErrorValue","PromiseCtor","Rx","operations","pipeFromArray","toPromise","OuterSubscriber","innerValue","innerIndex","innerSub","destination","queue_1","observeOn_1","SubjectSubscription_1","ReplaySubject","bufferSize","windowTime","scheduler","POSITIVE_INFINITY","_bufferSize","_windowTime","_getNow","ReplayEvent","_trimBufferThenGetEvents","isStopped","observers","SubjectSubscription","ObserveOnSubscriber","eventsCount","spliceCount","AnonymousSubject","ConnectableObservable","EmptyError","ArgumentOutOfRangeError","TimeoutError","UnsubscriptionError","TimeInterval","Timestamp","TestScheduler","VirtualTimeScheduler","AjaxObservable_1","AjaxResponse","AjaxError","AjaxTimeoutError","asap_1","async_1","animationFrame_1","rxSubscriber_1","iterator_1","asap","animationFrame","rxSubscriber","Scheduler","SchedulerAction","schedule","work","delay","Subscriber_1","SubjectSubscriber","subject","asObservable","subscriberIndex","isFunction_1","Observer_1","destinationOrNext","isTrustedSubscriber","trustedSubscriber","SafeSubscriber","_unsubscribeAndRecycle","_parents","_parentSubscriber","_context","__tryOrSetError","__tryOrUnsub","wrappedComplete","_unsubscribe","isArray_1","isObject_1","tryCatch_1","errorObject_1","UnsubscriptionError_1","_subscriptions","hasErrors","remove","tryCatch","errorObject","flattenUnsubscriptionErrors","teardown","_addParent","subscriptions","subscriptionIndex","bindCallback_1","bindCallback","bindNodeCallback_1","bindNodeCallback","combineLatest_1","combineLatest","concat_1","defer_1","defer","ajax_1","ajax","webSocket_1","webSocket","empty_1","forkJoin_1","forkJoin","from_1","fromEvent_1","fromEvent","fromEventPattern_1","fromEventPattern","fromPromise_1","fromPromise","generate_1","generate","_if","interval_1","interval","merge_1","merge","never_1","never","of_1","onErrorResumeNext_1","onErrorResumeNext","pairs_1","pairs","race_1","race","range_1","throw_1","_throw","timer_1","timer","using_1","using","zip_1","zip","audit_1","audit","auditTime_1","auditTime","buffer_1","bufferCount_1","bufferCount","bufferTime_1","bufferTime","bufferToggle_1","bufferToggle","bufferWhen_1","bufferWhen","catch_1","_catch","combineAll_1","combineAll","concatAll_1","concatAll","concatMap_1","concatMap","concatMapTo_1","concatMapTo","count_1","debounce_1","debounce","debounceTime_1","debounceTime","defaultIfEmpty_1","defaultIfEmpty","delay_1","delayWhen_1","delayWhen","dematerialize_1","dematerialize","distinct_1","distinct","distinctUntilChanged_1","distinctUntilChanged","distinctUntilKeyChanged_1","distinctUntilKeyChanged","do_1","_do","elementAt_1","elementAt","every_1","exhaust_1","exhaust","exhaustMap_1","exhaustMap","expand_1","filter_1","finally_1","_finally","find_1","findIndex_1","first_1","groupBy_1","groupBy","ignoreElements_1","ignoreElements","isEmpty_1","isEmpty","last_1","let_1","letProto","letBind","map_1","mapTo_1","mapTo","materialize_1","materialize","max_1","mergeAll_1","mergeAll","mergeMap_1","mergeMap","mergeMapTo_1","flatMapTo","mergeMapTo","mergeScan_1","mergeScan","min_1","multicast_1","multicast","observeOn","pairwise_1","pairwise","partition_1","partition","pluck_1","pluck","publish_1","publish","publishBehavior_1","publishBehavior","publishLast_1","publishLast","publishReplay_1","publishReplay","reduce_1","repeat_1","repeatWhen_1","repeatWhen","retry_1","retry","retryWhen_1","retryWhen","sample_1","sample","sampleTime_1","sampleTime","scan_1","scan","sequenceEqual_1","sequenceEqual","share_1","share","shareReplay_1","shareReplay","single_1","single","skip_1","skip","skipLast_1","skipLast","skipUntil_1","skipUntil","skipWhile_1","skipWhile","startWith_1","startWith","subscribeOn_1","subscribeOn","switch_1","switch","_switch","switchMap_1","switchMap","switchMapTo_1","switchMapTo","take_1","takeLast_1","takeLast","takeUntil_1","takeUntil","takeWhile_1","takeWhile","throttle_1","throttle","throttleTime_1","throttleTime","timeInterval_1","timeInterval","timeout_1","timeoutWith_1","timeoutWith","timestamp_1","toArray_1","window_1","windowCount_1","windowCount","windowTime_1","windowToggle_1","windowToggle","windowWhen_1","windowWhen","withLatestFrom_1","withLatestFrom","zipProto","zipAll_1","zipAll","ScalarObservable_1","EmptyObservable_1","ArrayLikeObservable","arrayLike","EmptyObservable","ScalarObservable","dispatch","isScheduler_1","ArrayObservable","isScheduler","AsyncSubject_1","BoundCallbackObservable","callbackFunc","selector","handlerFn","innerArgs","result_1","result_2","dispatchError","dispatchNext","BoundNodeCallbackObservable","refCount_1","subjectFactory","_refCount","_isComplete","_subject","connect","connection","_connection","ConnectableSubscriber","refCount","connectableProto","connectableObservableDescriptor","connectable","RefCountSubscriber","sharedConnection","subscribeToResult_1","OuterSubscriber_1","DeferObservable","observableFactory","DeferSubscriber","factory","tryDefer","_callFactory","subscribeToResult","ErrorObservable","ForkJoinObservable","sources","resultSelector","ForkJoinSubscriber","completed","haveValues","innerSubscription","_hasValue","FromEventObservable","sourceObj","setupSubscription","isNodeList","isHTMLCollection","isEventTarget","source_1","isJQueryStyleEventEmitter","source_2","isNodeStyleEventEmitter","source_3","FromEventPatternObservable","addHandler","removeHandler","_callSelector","retValue","_callAddHandler","errorSubscriber","isArrayLike_1","isPromise_1","PromiseObservable_1","IteratorObservable_1","ArrayObservable_1","ArrayLikeObservable_1","FromObservable","ish","PromiseObservable","IteratorObservable","isArrayLike","selfSelector","GenerateObservable","initialState","iterate","initialStateOrOptions","resultSelectorOrObservable","conditionResult","needIterate","IfObservable","thenSource","elseSource","IfSubscriber","tryIf","isNumeric_1","IntervalObservable","period","isNumeric","StringIterator","ArrayIterator","getIterator","valueAsNumber","sign","maxSafeInteger","toLength","noop_1","NeverObservable","PairsObservable","RangeObservable","_count","SubscribeOnObservable","delayTime","isDate_1","TimerObservable","dueTime","initialDelay","UsingObservable","resourceFactory","resource","UsingSubscriber","tryUse","BoundCallbackObservable_1","BoundNodeCallbackObservable_1","observables","project","CombineLatestOperator","DeferObservable_1","getCORSRequest","ajaxGet","AjaxObservable","ajaxPost","ajaxDelete","ajaxPut","ajaxPatch","mapResponse","ajaxGetJSON","urlOrRequest","createXHR","crossDomain","progId","progIds","ActiveXObject","getXMLHttpRequest","AjaxSubscriber","put","patch","getJSON","FormData","serializeBody","user","password","setupEvents","setHeaders","splitIndex","xhrProgress_1","xhrError_1","progressSubscriber","xhrTimeout","upload","xhrReadyStateChange","status_1","originalEvent","parseXhrResponse","responseXML","ReplaySubject_1","assign_1","WebSocketSubject","urlConfigOrSource","WebSocketCtor","WebSocket","_output","sock","_resetState","multiplex","subMsg","unsubMsg","messageFilter","_connectSocket","binaryType","onopen","openObserver","closingObserver","closeObserver","wasClean","onmessage","WebSocketSubject_1","ForkJoinObservable_1","FromObservable_1","FromEventObservable_1","FromEventPatternObservable_1","GenerateObservable_1","IfObservable_1","IntervalObservable_1","concurrent","NeverObservable_1","onErrorResumeNextStatic","PairsObservable_1","RaceOperator","RaceSubscriber","hasFirst","RangeObservable_1","ErrorObservable_1","TimerObservable_1","UsingObservable_1","zipStatic","durationSelector","closingNotifier","startBufferEvery","bufferTimeSpan","bufferCreationInterval","maxBufferSize","openings","closingSelector","catchError_1","catchError","concat_2","concatStatic","innerObservable","delayDurationSelector","subscriptionDelay","keySelector","flushes","tap_1","tap","finalize_1","finalize","GroupedObservable","elementSelector","subjectSelector","comparer","merge_2","mergeStatic","accumulator","seed","subjectOrSubjectFactory","nextSources","selectorOrScheduler","race_2","raceStatic","notifier","compareTo","comparor","switchAll_1","switchAll","defaultThrottleConfig","due","withObservable","windowBoundaries","windowSize","startWindowEvery","windowTimeSpan","windowCreationInterval","maxWindowSize","mergeMap_2","AuditOperator","AuditSubscriber","throttled","clearThrottle","BufferOperator","BufferSubscriber","BufferCountOperator","subscriberClass","BufferSkipCountSubscriber","BufferCountSubscriber","buffers","BufferTimeOperator","BufferTimeSubscriber","Context","contexts","openContext","timespanOnly","timeSpanOnlyState","closeAction","dispatchBufferTimeSpanOnly","closeState","creationState","dispatchBufferClose","dispatchBufferCreation","filledBufferContext","onBufferFull","closeContext","prevContext","BufferToggleOperator","BufferToggleSubscriber","closeBuffer","openBuffer","trySubscribe","BufferWhenOperator","BufferWhenSubscriber","subscribing","closingSubscription","CatchOperator","caught","CatchSubscriber","none","CombineLatestSubscriber","toRespond","oldVal","_tryProject","CountOperator","CountSubscriber","_tryPredicate","DebounceOperator","DebounceSubscriber","durationSubscription","_tryNext","emitValue","DebounceTimeOperator","DebounceTimeSubscriber","debouncedSubscription","lastValue","clearDebounce","debouncedNext","DefaultIfEmptyOperator","DefaultIfEmptySubscriber","Notification_1","delayFor","DelayOperator","DelaySubscriber","notification","_schedule","scheduleNotification","DelayMessage","SubscriptionDelayObservable","DelayWhenOperator","DelayWhenSubscriber","delayNotifierSubscriptions","removeSubscription","tryComplete","delayNotifier","tryDelay","subscriptionIdx","notifierSubscription","SubscriptionDelaySubscriber","sourceSubscribed","subscribeToSource","DeMaterializeOperator","DeMaterializeSubscriber","Set_1","DistinctOperator","DistinctSubscriber","_useKeySelector","_finalizeNext","DistinctUntilChangedOperator","DistinctUntilChangedSubscriber","hasKey","ArgumentOutOfRangeError_1","ElementAtOperator","ElementAtSubscriber","EveryOperator","EverySubscriber","everyValueMatch","SwitchFirstOperator","SwitchFirstSubscriber","hasSubscription","SwitchFirstMapOperator","SwitchFirstMapSubscriber","tryNext","trySelectResult","ExpandOperator","ExpandSubscriber","subscribeToProjection","FilterOperator","FilterSubscriber","FinallyOperator","FinallySubscriber","FindValueOperator","yieldIndex","FindValueSubscriber","EmptyError_1","FirstOperator","FirstSubscriber","_emitted","_emit","_tryResultSelector","_emitFinal","Map_1","FastMap_1","GroupByOperator","GroupBySubscriber","attemptedToUnsubscribe","_group","FastMap","element","groupedObservable","GroupDurationSubscriber","removeGroup","groupSubject","refCountSubscription","InnerRefCountSubscription","IgnoreElementsOperator","IgnoreElementsSubscriber","IsEmptyOperator","IsEmptySubscriber","LastOperator","LastSubscriber","MapOperator","MapSubscriber","MapToOperator","MapToSubscriber","MaterializeOperator","MaterializeSubscriber","identity_1","identity","MergeMapOperator","MergeMapSubscriber","_innerSub","_notifyResultSelector","MergeMapToOperator","MergeMapToSubscriber","MergeScanOperator","MergeScanSubscriber","ConnectableObservable_1","MulticastOperator","ObserveOnOperator","scheduleMessage","ObserveOnMessage","OnErrorResumeNextOperator","OnErrorResumeNextSubscriber","subscribeToNextSource","PairwiseOperator","PairwiseSubscriber","hasPrev","plucker","currentProp","BehaviorSubject_1","RefCountOperator","refCounter","RepeatOperator","RepeatSubscriber","RepeatWhenOperator","RepeatWhenSubscriber","sourceIsBeingSubscribedTo","retries","subscribeToRetries","retriesSubscription","notifications","RetryOperator","RetrySubscriber","RetryWhenOperator","RetryWhenSubscriber","SampleOperator","sampleSubscriber","SampleSubscriber","SampleTimeOperator","SampleTimeSubscriber","dispatchNotification","hasSeed","ScanOperator","ScanSubscriber","_seed","SequenceEqualOperator","SequenceEqualSubscriber","_oneComplete","SequenceEqualCompareToSubscriber","checkValues","areEqual","nextB","shareSubjectFactory","isComplete","shareReplayOperator","SingleOperator","SingleSubscriber","seenValue","applySingleValue","singleValue","SkipOperator","SkipSubscriber","SkipLastOperator","_skipCount","SkipLastSubscriber","_ring","skipCount","currentIndex","ring","oldValue","SkipUntilOperator","SkipUntilSubscriber","isInnerStopped","SkipWhileOperator","SkipWhileSubscriber","skipping","tryCallPredicate","SubscribeOnObservable_1","SubscribeOnOperator","SwitchMapOperator","SwitchMapSubscriber","_tryNotifyNext","SwitchMapToOperator","SwitchMapToSubscriber","inner","tryResultSelector","TakeOperator","TakeSubscriber","TakeLastOperator","TakeLastSubscriber","TakeUntilOperator","TakeUntilSubscriber","TakeWhileOperator","TakeWhileSubscriber","nextOrComplete","predicateResult","DoOperator","DoSubscriber","safeSubscriber","leading","trailing","ThrottleOperator","ThrottleSubscriber","_leading","_trailing","_hasTrailingValue","_trailingValue","tryDurationSelector","_sendTrailing","ThrottleTimeOperator","ThrottleTimeSubscriber","TimeIntervalOperator","TimeIntervalSubscriber","lastTime","span","TimeoutError_1","absoluteTimeout","waitFor","TimeoutOperator","errorInstance","TimeoutSubscriber","scheduleTimeout","dispatchTimeout","TimeoutWithOperator","TimeoutWithSubscriber","toArrayReducer","WindowOperator","windowSubscriber","WindowSubscriber","sourceSubscription","openWindow","prevWindow","newWindow","WindowCountOperator","WindowCountSubscriber","windows","WindowTimeOperator","WindowTimeSubscriber","CountedSubject","_numberOfNextedValues","dispatchWindowClose","dispatchWindowCreation","dispatchWindowTimeSpanOnly","numberOfNextedValues","closeWindow","window_2","timeSpanState","WindowToggleOperator","WindowToggleSubscriber","openSubscription","unsubscribeClosingNotification","closingNotification","WithLatestFromOperator","WithLatestFromSubscriber","ZipOperator","ZipSubscriber","iterators","StaticArrayIterator","StaticIterator","ZipBufferIterator","stillUnsubscribed","notifyInactive","checkIterators","shouldComplete","nextResult","Action","AsyncAction_1","AnimationFrame_1","AnimationFrameAction","requestAsyncId","scheduled","AnimationFrame","requestAnimationFrame","recycleAsyncId","cancelAnimationFrame","AsyncAction","AnimationFrameScheduler","execute","AsyncScheduler","Immediate_1","AsapAction","Immediate","setImmediate","clearImmediate","AsapScheduler","pending","setInterval","clearInterval","_execute","errorValue","QueueAction","QueueScheduler","maxFrames","VirtualAction","frame","frameTimeFactor","sort","sortActions","AnimationFrameAction_1","AnimationFrameScheduler_1","AsapAction_1","AsapScheduler_1","AsyncScheduler_1","QueueAction_1","QueueScheduler_1","symbolIteratorPonyfill","$$iterator","getSymbolObservable","$$observable","$$rxSubscriber","SubscriptionLoggable_1","applyMixins_1","ColdObservable","logSubscribedFrame","logUnsubscribedFrame","scheduleMessages","messagesLength","applyMixins","SubscriptionLoggable","HotObservable","setup","SubscriptionLog","subscribedFrame","unsubscribedFrame","SubscriptionLog_1","subscriptionLogs","oldSubscriptionLog","ColdObservable_1","HotObservable_1","VirtualTimeScheduler_1","assertDeepEqual","hotObservables","coldObservables","flushTests","createTime","marbles","createColdObservable","parseMarbles","cold","createHotObservable","materializeInnerObservable","outerFrame","expectObservable","unsubscriptionMarbles","flushTest","ready","unsubscriptionFrame","parseMarblesAsSubscriptions","toBe","expectSubscriptions","actualSubscriptionLogs","marblesArray","readyFlushTests","groupStart","subscriptionFrame","materializeInnerObservables","testMessages","subIndex","frameOffset","RequestAnimationFrameDefinition","mozRequestAnimationFrame","mozCancelAnimationFrame","webkitRequestAnimationFrame","webkitCancelAnimationFrame","msRequestAnimationFrame","msCancelAnimationFrame","oRequestAnimationFrame","oCancelAnimationFrame","ImmediateDefinition","nextHandle","tasksByHandle","currentlyRunningATask","canUseProcessNextTick","createProcessNextTickSetImmediate","canUsePostMessage","createPostMessageSetImmediate","canUseMessageChannel","createMessageChannelSetImmediate","canUseReadyStateChange","createReadyStateChangeSetImmediate","createSetTimeoutSetImmediate","ci","handle","identify","MessageChannel","createElement","postMessage","importScripts","postMessageIsAsynchronous_1","oldOnMessage","partiallyApplied","addFromSetImmediateArguments","runIfPresent","messagePrefix","random","onGlobalMessage","globalMessageHandler","task","channel","port1","port2","doc","html","script","removeChild","appendChild","MapPolyfill_1","MapPolyfill","minimalSetImpl","MinimalSet","derivedCtor","baseCtors","baseCtor","propertyKeys","name_1","assignImpl","getAssign","pred","notPred","fns","__window","__self","WorkerGlobalScope","__global","InnerSubscriber_1","outerSubscriber","obs","tryCatchTarget","tryCatcher","convertToNodeReadable","WebBluetoothClient","bluetoothAdapter","deconstructedForm","deconstructForm","characteristic","getCharacteristic","deviceId","serviceId","characteristicId","readValue","buff","readableStreamToBuffer","bleOperation","writeValueWithoutResponse","writeValueWithResponse","deconstructedPath","deconstructPath","startNotifications","stopNotifications","metadata","pathArray","pathElements","BinaryDataStreamCodec","_parameters","nameList","valueList","resultArr","template","variables","additionalOffset","variableNameList","splitTemplate","splitValue","readPattern","decodedResultArr","schemaTemp","bytesTemp","byte2int","byte2string","dataValue","hexString","int2byte","fillStringPattern","string2byte","bytelength","byteOrder","scale","precision","BluetoothClientFactory","contentSerdes","adapter","ConcreteBluetoothAdapter","serviceID","device","bluetooth","getDevices","gatt","getPrimaryService","wot","Wot","Core","getWot","BleRgbController","webBluetoothId","sbo","bdo","qudt","qudtUnit","description","colour","unit","G","B","power","is_on","effect","Blinkstick","webHidId","colours","BluetoothGeneric","barometricPressureTrend","batteryLevel","deviceName","elevation","firmwareRevision","hardwareRevision","humidity","irradiance","intermediateTemperature","manufacturerName","modelNumber","movementCounter","pressure","serialNumber","softwareRevision","temperature","temperatureMeasurement","temperatureType","txPowerLevel","weight","EddystoneDevice","activeSlot","advertisedTxPower","advertisedData","advertisingInterval","capabilities","lockState","publicEcdhKey","radioTxPower","HuskyDuino","algorithm","forgetAll","learn","RuuviTag","manufacturerData","accelerationX","accelerationY","accelerationZ","battery","txPower","measurementSequenceNumber","mac","XiaomiFlowerCare","valueString","temp","brightness","moisture","conduct","readMode","XiaomiThermometer","measurements","sets","xl","subexp","typeOf","buildExps","isIRI","ALPHA$$","DIGIT$$","HEXDIG$$","PCT_ENCODED$","SUB_DELIMS$$","RESERVED$$","IPRIVATE$$","UNRESERVED$$","SCHEME$","USERINFO$","DEC_OCTET_RELAXED$","IPV4ADDRESS$","H16$","LS32$","IPV6ADDRESS1$","IPV6ADDRESS2$","IPV6ADDRESS3$","IPV6ADDRESS4$","IPV6ADDRESS5$","IPV6ADDRESS6$","IPV6ADDRESS7$","IPV6ADDRESS8$","IPV6ADDRESS9$","IPV6ADDRESS$","ZONEID$","IPV6ADDRZ_RELAXED$","IPVFUTURE$","IP_LITERAL$","REG_NAME$","HOST$","PORT$","AUTHORITY$","PCHAR$","SEGMENT$","SEGMENT_NZ$","SEGMENT_NZ_NC$","PATH_ABEMPTY$","PATH_ABSOLUTE$","PATH_NOSCHEME$","PATH_ROOTLESS$","PATH_EMPTY$","QUERY$","FRAGMENT$","HIER_PART$","URI$","RELATIVE_PART$","RELATIVE$","NOT_SCHEME","NOT_USERINFO","NOT_HOST","NOT_PATH","NOT_PATH_NOSCHEME","NOT_QUERY","NOT_FRAGMENT","ESCAPE","UNRESERVED","OTHER_CHARS","PCT_ENCODED","IPV4ADDRESS","IPV6ADDRESS","URI_PROTOCOL","IRI_PROTOCOL","slicedToArray","sliceIterator","error$1","fromCodePoint","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","_currentValue2","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_step3","_iterator3","_currentValue","SCHEMES","pctEncChar","chr","pctDecChars","newStr","il","c3","_normalizeComponentEncoding","components","decodeUnreserved","decStr","userinfo","_stripLeadingZeros","_normalizeIPv4","_normalizeIPv6","_matches2","zone","_address$toLowerCase$","reverse","_address$toLowerCase$2","firstFields","lastFields","isLastFieldIPv4Address","fieldCount","lastFieldsStart","fields","longestZeroFields","field","lastLongest","newHost","newFirst","newLast","URI_PARSE","NO_MATCH_IS_UNDEFINED","uriString","iri","reference","schemeHandler","unicodeSupport","domainHost","_recomposeAuthority","uriTokens","$2","RDS1","RDS2","RDS3","RDS5","removeDotSegments","im","authority","absolutePath","resolveComponents","tolerant","unescapeComponent","secure","handler$1","isSecure","wsComponents","handler$2","resourceName","_wsComponents$resourc","_wsComponents$resourc2","handler$3","O","VCHAR$$","NOT_LOCAL_PART","NOT_HFNAME","NOT_HFVALUE","handler$4","mailtoComponents","unknownHeaders","hfields","hfield","toAddrs","_xl","_x2","_xl2","addr","toAddr","atIdx","localPart","domain","URN_PARSE","handler$5","urnComponents","nid","nss","urnScheme","uriComponents","UUID","handler$6","uuidComponents","uuid","baseURI","relativeURI","schemelessOptions","uriA","uriB","escapeComponent","exportCallback","UriTemplateError","objectHelper","mapper","deepFreeze","deepFreezeUsingObjectFreeze","charHelper","isDigit","isAlpha","isHexDigit","pctEncoder","utf8","firstCharCode","charCode","isPercentDigitDigit","parseHex2","encodeCharacter","octet","octets","unescape","isPctEncoded","numBytes","byteNumber","pctCharAt","startIndex","utf8CharCode","rfcCharHelper","encodingHelper","passReserved","encodePassReserved","encodeLiteral","literal","encodeLiteralCharacter","bySymbol","symbol","named","ifEmpty","isDefined","LiteralExpression","parseExpression","expressionText","varspecs","varspec","varnameStart","maxLengthStart","closeVarname","varname","exploded","closeMaxLength","operatorText","character","VariableExpression","uriTemplateText","expressions","braceOpenIndex","literalStart","templateText","prettyPrint","propertyArray","expandSimpleValue","valueDefined","nameValue","expandNotExploded","expandExplodedNamed","listElement","expandExplodedUnnamed","expanded","URL_REGEX","FIRST_SEGMENT_REGEX","SLASH_DOT_REGEX","SLASH_DOT_DOT_REGEX","baseURL","relativeURL","alwaysNormalize","basePartsForNormalise","parseURL","normalizePath","buildURLFromParts","relativeParts","baseParts","netLoc","pathParts","builtParts","baseURLPath","newPath","getRandomValues","crypto","msCrypto","rnds8","rng","byteToHex","bth","_nodeId","_clockseq","_lastMSecs","_lastNSecs","clockseq","seedBytes","msecs","nsecs","dt","tl","tmh","hashfunc","generateUUID","stringToBytes","hex","uuidToBytes","DNS","safeAdd","lsw","md5cmn","cnt","md5ff","md5gg","md5hh","md5ii","v35","length32","hexTab","md5ToHexEncodedArray","olda","oldb","oldc","oldd","wordsToMd5","length8","bytesToWords","rnds","ii","z","ROTL","K","H","N","ceil","M","W","T","possibleNames","dataView","_converter","convertToNumber","_primordials","DataViewPrototypeGetUint16","_arrayIterator","safeIfNeeded","DataViewPrototypeSetUint16","roundToFloat16Bits","isFloat16Array","_brand","_is","_messages","_spec","float16bitsArrays","NativeWeakMap","WeakMapPrototypeHas","ArrayBufferIsView","hasFloat16ArrayBrand","assertFloat16Array","NativeTypeError","THIS_IS_NOT_A_FLOAT16ARRAY_OBJECT","assertSpeciesTypedArray","isTargetFloat16Array","isTargetTypedArray","isNativeTypedArray","SPECIES_CONSTRUCTOR_DIDNT_RETURN_TYPEDARRAY_OBJECT","float16bitsArray","getFloat16BitsArray","TypedArrayPrototypeGetLength","DERIVED_CONSTRUCTOR_CREATED_TYPEDARRAY_OBJECT_WHICH_WAS_TOO_SMALL_LENGTH","isNativeBigIntTypedArray","CANNOT_MIX_BIGINT_AND_OTHER_TYPES","float16","WeakMapPrototypeGet","TypedArrayPrototypeGetBuffer","IsDetachedBuffer","ATTEMPTING_TO_ACCESS_DETACHED_ARRAYBUFFER","cloned","ReflectConstruct","Float16Array","copyToArray","TypedArrayPrototypeGetters","NativeWeakSet","TypedArrayPrototype","SymbolToStringTag","ReflectGetOwnPropertyDescriptor","ObjectHasOwn","WeakSetPrototypeAdd","ObjectFreeze","isCanonicalIntegerIndexString","ReflectGet","WeakSetPrototypeHas","ObjectPrototype__lookupGetter__","ReflectSet","ReflectDefineProperty","_byteOffset","_length","NativeUint16Array","BufferConstructor","NativeArrayBuffer","SpeciesConstructor","ITERATOR_PROPERTY_IS_NOT_CALLABLE","isOrdinaryArray","ToLength","proxy","NativeProxy","WeakMapPrototypeSet","ReflectHas","brand","THIS_CONSTRUCTOR_IS_NOT_A_SUBCLASS_OF_FLOAT16ARRAY","uint16","TypedArrayPrototypeGetByteOffset","TypedArrayPrototypeSlice","Uint16ArrayFrom","mapFunc","isOrdinaryNativeTypedArray","CANNOT_CONVERT_UNDEFINED_OR_NULL_TO_OBJECT","NativeObject","TypedArrayPrototypeKeys","TypedArrayPrototypeValues","TypedArrayPrototypeEntries","at","relativeIndex","ToIntegerOrInfinity","kept","REDUCE_OF_EMPTY_ARRAY_WITH_NO_INITIAL_VALUE","findLast","findLastIndex","targetOffset","NativeRangeError","OFFSET_IS_OUT_OF_BOUNDS","targetLength","srcLength","TypedArrayPrototypeReverse","TypedArrayPrototypeFill","TypedArrayPrototypeCopyWithin","compareFn","sortCompare","defaultCompare","TypedArrayPrototypeSort","relativeStart","relativeEnd","uint16Subarray","TypedArrayPrototypeSubarray","ArrayPrototypeToLocaleString","ReflectSetPrototypeOf","Float16ArrayPrototype","NativeArrayPrototypeSymbolIterator","ObjectCreate","SafeIteratorPrototype","arrayIterators","ArrayPrototypeSymbolIterator","dummy","DummyArrayIteratorPrototype","generators","arrayIterator","ArrayIteratorPrototypeNext","IteratorPrototype","GeneratorPrototypeNext","ArrayIteratorPrototype","isObjectLike","ReflectGetPrototypeOf","THE_CONSTRUCTOR_PROPERTY_VALUE_IS_NOT_AN_OBJECT","SymbolFor","float16bits","uint32View","mantissaTable","offsetTable","exponentTable","floatView","baseTable","shiftTable","NativeFloat32Array","NativeUint32Array","ArrayBufferPrototypeGetByteLength","NumberIsFinite","MathTrunc","typedArrayName","TypedArrayPrototypeGetSymbolToStringTag","NativeTypedArrayPrototypeSymbolIterator","NativeSharedArrayBuffer","SharedArrayBufferPrototypeGetByteLength","THIS_IS_NOT_AN_OBJECT","uncurryThisGetter","species","SymbolSpecies","ObjectIs","ObjectPrototype","__lookupGetter__","NativeArray","ArrayPrototype","trunc","ArrayBufferPrototype","ArrayBufferPrototypeSlice","TypedArrayFrom","DataViewPrototype","getUint16","setUint16","WeakSetPrototype","WeakMapPrototype","defaultConstructor","isXNaN","isYNaN","isXPlusZero","isYPlusZero","hfround","x16","_Float16Array","_isTypedArray","_DataView","_hfround","SymbolPolyfill","globals","typeIsObject","rethrowAssertionErrorRejection","originalPromise","originalPromiseThen","originalPromiseResolve","originalPromiseReject","newPromise","executor","promiseResolvedWith","promiseRejectedWith","PerformPromiseThen","onFulfilled","onRejected","uponPromise","uponFulfillment","uponRejection","transformPromiseWith","fulfillmentHandler","rejectionHandler","setPromiseIsHandledToTrue","queueMicrotask","globalQueueMicrotask","resolvedPromise","reflectCall","F","V","promiseCall","SimpleQueue","_cursor","_size","_front","_elements","_back","oldBack","newBack","QUEUE_MAX_ARRAY_SIZE","oldFront","newFront","oldCursor","newCursor","elements","peek","front","cursor","ReadableStreamReaderGenericInitialize","_ownerReadableStream","_reader","_state","defaultReaderClosedPromiseInitialize","defaultReaderClosedPromiseResolve","defaultReaderClosedPromiseInitializeAsResolved","defaultReaderClosedPromiseInitializeAsRejected","_storedError","ReadableStreamReaderGenericCancel","ReadableStreamCancel","ReadableStreamReaderGenericRelease","defaultReaderClosedPromiseReject","defaultReaderClosedPromiseResetToRejected","readerLockException","_closedPromise","_closedPromise_resolve","_closedPromise_reject","AbortSteps","ErrorSteps","CancelSteps","PullSteps","assertDictionary","assertFunction","assertObject","assertRequiredArgument","assertRequiredField","convertUnrestrictedDouble","censorNegativeZero","convertUnsignedLongLongWithEnforceRange","upperBound","integerPart","assertReadableStream","IsReadableStream","AcquireReadableStreamDefaultReader","ReadableStreamDefaultReader","ReadableStreamAddReadRequest","readRequest","_readRequests","ReadableStreamFulfillReadRequest","_closeSteps","_chunkSteps","ReadableStreamGetNumReadRequests","ReadableStreamHasDefaultReader","IsReadableStreamDefaultReader","IsReadableStreamLocked","defaultReaderBrandCheckException","resolvePromise","rejectPromise","ReadableStreamDefaultReaderRead","_errorSteps","_disturbed","_readableStreamController","ReadableStreamAsyncIteratorImpl","preventCancel","_ongoingPromise","_isFinished","_preventCancel","nextSteps","_nextSteps","returnSteps","_returnSteps","IsReadableStreamAsyncIterator","_asyncIteratorImpl","streamAsyncIteratorBrandCheckException","CreateArrayFromList","CopyDataBlockBytes","destOffset","srcOffset","ArrayBufferSlice","CloneAsUint8Array","DequeueValue","container","_queue","_queueTotalSize","EnqueueValueWithSize","ResetQueue","ReadableStreamBYOBRequest","view","IsReadableStreamBYOBRequest","byobRequestBrandCheckException","_view","respond","bytesWritten","_associatedReadableByteStreamController","ReadableByteStreamControllerRespond","respondWithNewView","ReadableByteStreamControllerRespondWithNewView","ReadableByteStreamController","byobRequest","IsReadableByteStreamController","byteStreamControllerBrandCheckException","ReadableByteStreamControllerGetBYOBRequest","desiredSize","ReadableByteStreamControllerGetDesiredSize","_closeRequested","_controlledReadableByteStream","ReadableByteStreamControllerClose","ReadableByteStreamControllerEnqueue","ReadableByteStreamControllerError","ReadableByteStreamControllerClearPendingPullIntos","_cancelAlgorithm","ReadableByteStreamControllerClearAlgorithms","ReadableByteStreamControllerHandleQueueDrain","autoAllocateChunkSize","_autoAllocateChunkSize","bufferE","pullIntoDescriptor","bufferByteLength","bytesFilled","elementSize","viewConstructor","readerType","_pendingPullIntos","ReadableByteStreamControllerCallPullIfNeeded","shouldPull","_started","ReadableStreamHasBYOBReader","ReadableStreamGetNumReadIntoRequests","ReadableByteStreamControllerShouldCallPull","_pulling","_pullAgain","_pullAlgorithm","ReadableByteStreamControllerInvalidateBYOBRequest","ReadableByteStreamControllerCommitPullIntoDescriptor","filledView","ReadableByteStreamControllerConvertPullIntoDescriptor","readIntoRequest","_readIntoRequests","ReadableStreamFulfillReadIntoRequest","ReadableByteStreamControllerEnqueueChunkToQueue","ReadableByteStreamControllerFillPullIntoDescriptorFromQueue","currentAlignedBytes","maxBytesToCopy","maxBytesFilled","maxAlignedBytes","totalBytesToCopyRemaining","headOfQueue","bytesToCopy","destStart","ReadableByteStreamControllerFillHeadPullIntoDescriptor","ReadableStreamClose","_byobRequest","ReadableByteStreamControllerProcessPullIntoDescriptorsUsingQueue","ReadableByteStreamControllerShiftPendingPullInto","ReadableByteStreamControllerRespondInternal","firstDescriptor","ReadableByteStreamControllerRespondInClosedState","remainderSize","remainder","ReadableByteStreamControllerRespondInReadableState","transferredBuffer","firstPendingPullInto","ReadableStreamError","SetUpReadableStreamBYOBRequest","_strategyHWM","viewByteLength","SetUpReadableByteStreamController","startAlgorithm","pullAlgorithm","cancelAlgorithm","AcquireReadableStreamBYOBReader","ReadableStreamBYOBReader","ReadableStreamAddReadIntoRequest","IsReadableStreamBYOBReader","byobReaderBrandCheckException","ReadableStreamBYOBReaderRead","BYTES_PER_ELEMENT","emptyView","ReadableByteStreamControllerPullInto","ExtractHighWaterMark","strategy","defaultHWM","ExtractSizeAlgorithm","convertQueuingStrategy","convertQueuingStrategySize","convertUnderlyingSinkAbortCallback","convertUnderlyingSinkCloseCallback","convertUnderlyingSinkStartCallback","convertUnderlyingSinkWriteCallback","assertWritableStream","IsWritableStream","supportsAbortController","rawUnderlyingSink","rawStrategy","underlyingSink","convertUnderlyingSink","InitializeWritableStream","sizeAlgorithm","WritableStreamDefaultController","writeAlgorithm","closeAlgorithm","abortAlgorithm","SetUpWritableStreamDefaultController","SetUpWritableStreamDefaultControllerFromUnderlyingSink","locked","streamBrandCheckException$2","IsWritableStreamLocked","WritableStreamAbort","WritableStreamCloseQueuedOrInFlight","WritableStreamClose","getWriter","AcquireWritableStreamDefaultWriter","WritableStreamDefaultWriter","_writer","_writableStreamController","_writeRequests","_inFlightWriteRequest","_closeRequest","_inFlightCloseRequest","_pendingAbortRequest","_backpressure","_abortReason","_abortController","wasAlreadyErroring","_reject","_reason","_wasAlreadyErroring","WritableStreamStartErroring","closeRequest","writer","defaultWriterReadyPromiseResolve","closeSentinel","WritableStreamDefaultControllerAdvanceQueueIfNeeded","WritableStreamDealWithRejection","WritableStreamFinishErroring","WritableStreamDefaultWriterEnsureReadyPromiseRejected","WritableStreamHasOperationMarkedInFlight","storedError","writeRequest","WritableStreamRejectCloseAndClosedPromiseIfNeeded","abortRequest","defaultWriterClosedPromiseReject","WritableStreamUpdateBackpressure","backpressure","defaultWriterReadyPromiseInitialize","defaultWriterReadyPromiseReset","_ownerWritableStream","defaultWriterReadyPromiseInitializeAsResolved","defaultWriterClosedPromiseInitialize","defaultWriterReadyPromiseInitializeAsRejected","defaultWriterClosedPromiseResolve","defaultWriterClosedPromiseInitializeAsRejected","IsWritableStreamDefaultWriter","defaultWriterBrandCheckException","defaultWriterLockException","WritableStreamDefaultControllerGetDesiredSize","WritableStreamDefaultWriterGetDesiredSize","_readyPromise","WritableStreamDefaultWriterAbort","WritableStreamDefaultWriterClose","WritableStreamDefaultWriterRelease","WritableStreamDefaultWriterWrite","_readyPromiseState","defaultWriterReadyPromiseReject","defaultWriterReadyPromiseResetToRejected","releasedError","_closedPromiseState","defaultWriterClosedPromiseResetToRejected","WritableStreamDefaultWriterEnsureClosedPromiseRejected","chunkSize","_strategySizeAlgorithm","chunkSizeE","WritableStreamDefaultControllerErrorIfNeeded","WritableStreamDefaultControllerGetChunkSize","WritableStreamAddWriteRequest","enqueueE","_controlledWritableStream","WritableStreamDefaultControllerGetBackpressure","WritableStreamDefaultControllerWrite","abortReason","IsWritableStreamDefaultController","defaultControllerBrandCheckException$2","WritableStreamDefaultControllerError","_abortAlgorithm","WritableStreamDefaultControllerClearAlgorithms","createAbortController","_writeAlgorithm","_closeAlgorithm","WritableStreamMarkCloseRequestInFlight","sinkClosePromise","WritableStreamFinishInFlightClose","WritableStreamFinishInFlightCloseWithError","WritableStreamDefaultControllerProcessClose","WritableStreamMarkFirstWriteRequestInFlight","WritableStreamFinishInFlightWrite","WritableStreamFinishInFlightWriteWithError","WritableStreamDefaultControllerProcessWrite","_readyPromise_resolve","_readyPromise_reject","NativeDOMException","DOMException","DOMException$1","isDOMExceptionConstructor","createDOMExceptionPolyfill","ReadableStreamPipeTo","preventClose","preventAbort","shuttingDown","currentWrite","shutdownWithAction","isOrBecomesErrored","WritableStreamDefaultWriterCloseWithErrorPropagation","destClosed","waitForWritesToFinish","oldCurrentWrite","originalIsError","originalError","doTheRest","newError","resolveLoop","rejectLoop","resolveRead","rejectRead","ReadableStreamDefaultController","IsReadableStreamDefaultController","defaultControllerBrandCheckException$1","ReadableStreamDefaultControllerGetDesiredSize","ReadableStreamDefaultControllerCanCloseOrEnqueue","ReadableStreamDefaultControllerClose","ReadableStreamDefaultControllerEnqueue","ReadableStreamDefaultControllerError","ReadableStreamDefaultControllerClearAlgorithms","_controlledReadableStream","ReadableStreamDefaultControllerCallPullIfNeeded","ReadableStreamDefaultControllerShouldCallPull","SetUpReadableStreamDefaultController","convertUnderlyingSourceCancelCallback","convertUnderlyingSourcePullCallback","convertUnderlyingSourceStartCallback","convertReadableStreamType","convertReadableStreamReaderMode","convertPipeOptions","isAbortSignal","assertAbortSignal","rawUnderlyingSource","underlyingSource","pull","convertUnderlyingDefaultOrByteSource","InitializeReadableStream","underlyingByteSource","SetUpReadableByteStreamControllerFromUnderlyingSource","SetUpReadableStreamDefaultControllerFromUnderlyingSource","streamBrandCheckException$1","rawOptions","convertReaderOptions","pipeThrough","rawTransform","convertReadableWritablePair","tee","reason1","reason2","branch1","branch2","resolveCancelPromise","readAgainForBranch1","readAgainForBranch2","canceled1","canceled2","cancelPromise","forwardReaderError","thisReader","pullWithDefaultReader","chunk1","chunk2","cloneE","pull1Algorithm","pull2Algorithm","pullWithBYOBReader","forBranch2","byobBranch","otherBranch","byobCanceled","clonedChunk","otherCanceled","CreateReadableByteStream","compositeReason","cancelResult","ReadableByteStreamTee","cloneForBranch2","readAgain","CreateReadableStream","ReadableStreamDefaultTee","impl","AcquireReadableStreamAsyncIterator","convertIteratorOptions","convertQueuingStrategyInit","byteLengthSizeFunction","ByteLengthQueuingStrategy","_byteLengthQueuingStrategyHighWaterMark","IsByteLengthQueuingStrategy","byteLengthBrandCheckException","countSizeFunction","CountQueuingStrategy","_countQueuingStrategyHighWaterMark","IsCountQueuingStrategy","countBrandCheckException","convertTransformerFlushCallback","convertTransformerStartCallback","convertTransformerTransformCallback","TransformStream","rawTransformer","rawWritableStrategy","rawReadableStrategy","writableStrategy","readableStrategy","transformer","readableType","writableType","convertTransformer","readableSizeAlgorithm","writableSizeAlgorithm","startPromise_resolve","startPromise","_writable","CreateWritableStream","_transformStreamController","_backpressureChangePromise","TransformStreamDefaultControllerPerformTransform","TransformStreamDefaultSinkWriteAlgorithm","_readable","flushPromise","_flushAlgorithm","TransformStreamDefaultControllerClearAlgorithms","TransformStreamError","TransformStreamDefaultSinkCloseAlgorithm","TransformStreamDefaultSinkAbortAlgorithm","TransformStreamSetBackpressure","TransformStreamDefaultSourcePullAlgorithm","TransformStreamErrorWritableAndUnblockWrite","_backpressureChangePromise_resolve","InitializeTransformStream","TransformStreamDefaultController","transformAlgorithm","TransformStreamDefaultControllerEnqueue","transformResultE","flushAlgorithm","_controlledTransformStream","_transformAlgorithm","SetUpTransformStreamDefaultController","SetUpTransformStreamDefaultControllerFromTransformer","IsTransformStream","streamBrandCheckException","IsTransformStreamDefaultController","defaultControllerBrandCheckException","terminate","TransformStreamDefaultControllerTerminate","readableController","ReadableStreamDefaultControllerHasBackpressure","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","loaded","__webpack_modules__","nmd","paths","children"],"sourceRoot":""}