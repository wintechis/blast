/*! For license information please see blast.web.js.LICENSE.txt */
var e={85687:(e,t,r)=>{var n=r(40585),i=r(12695);t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const r="color: "+this.color;t.splice(1,0,r,"color: inherit");let n=0,i=0;t[0].replace(/%[a-zA-Z%]/g,(e=>{"%%"!==e&&(n++,"%c"===e&&(i=n))})),t.splice(i,0,r)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch(e){}return!e&&void 0!==i&&"env"in i&&(e=i.env.DEBUG),e},t.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},t.storage=function(){try{return localStorage}catch(e){}}(),t.destroy=(()=>{let e=!1;return()=>{e||(e=!0,n.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=n.debug||n.log||(()=>{}),e.exports=r(57642)(t);const{formatters:o}=e.exports;o.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}},57642:(e,t,r)=>{var n=r(40585);e.exports=function(e){function t(e){let r,n,o,s=null;function a(...e){if(!a.enabled)return;const n=a,i=Number(new Date),o=i-(r||i);n.diff=o,n.prev=r,n.curr=i,r=i,e[0]=t.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let s=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,((r,i)=>{if("%%"===r)return"%";s++;const o=t.formatters[i];if("function"==typeof o){const t=e[s];r=o.call(n,t),e.splice(s,1),s--}return r})),t.formatArgs.call(n,e),(n.log||t.log).apply(n,e)}return a.namespace=e,a.useColors=t.useColors(),a.color=t.selectColor(e),a.extend=i,a.destroy=t.destroy,Object.defineProperty(a,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==s?s:(n!==t.namespaces&&(n=t.namespaces,o=t.enabled(e)),o),set:e=>{s=e}}),"function"==typeof t.init&&t.init(a),a}function i(e,r){const n=t(this.namespace+(void 0===r?":":r)+e);return n.log=this.log,n}function o(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return t.debug=t,t.default=t,t.coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){const e=[...t.names.map(o),...t.skips.map(o).map((e=>"-"+e))].join(",");return t.enable(""),e},t.enable=function(e){let r;t.save(e),t.namespaces=e,t.names=[],t.skips=[];const n=("string"==typeof e?e:"").split(/[\s,]+/),i=n.length;for(r=0;r<i;r++)n[r]&&("-"===(e=n[r].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.slice(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){if("*"===e[e.length-1])return!0;let r,n;for(r=0,n=t.skips.length;r<n;r++)if(t.skips[r].test(e))return!1;for(r=0,n=t.names.length;r<n;r++)if(t.names[r].test(e))return!0;return!1},t.humanize=r(66117),t.destroy=function(){n.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach((r=>{t[r]=e[r]})),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){let r=0;for(let t=0;t<e.length;t++)r=(r<<5)-r+e.charCodeAt(t),r|=0;return t.colors[Math.abs(r)%t.colors.length]},t.enable(t.load()),t}},36162:(e,t)=>{var r=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==r)return r;throw new Error("unable to locate global object")}();e.exports=t=r.fetch,r.fetch&&(t.default=r.fetch.bind(r)),t.Headers=r.Headers,t.Request=r.Request,t.Response=r.Response},14482:(e,t,r)=>{r.d(t,{u:()=>k,gz:()=>N,Lx:()=>L,$P:()=>I});var n=r(64455),i=r(34616),o=(r(54022),r(31379)),s=r(95751),a=r(97866).Buffer;const{ProtocolHelpers:c}=n,u=function(e){const t=new s.Readable;return t.push(e),t.push(null),c.toNodeStream(t)},{debug:f,error:l,warn:h}=(0,n.createLoggers)("binding-bluetooth","bluetooth-client");class d{bluetoothAdapter;constructor(e){f("created client"),this.bluetoothAdapter=e}toString(){return"[WebBluetoothClient]"}async readResource(e){const t=this.deconstructForm(e),r=await this.bluetoothAdapter.getCharacteristic(t.deviceId,t.serviceId,t.characteristicId);f(`invoking "readValue" on characteristic ${t.characteristicId}`);const n=await r.readValue(),i=new Uint8Array(n.buffer),o=u(i);return{type:e.contentType||"application/x.binary-data-stream",body:o}}async writeResource(e,t){const r=this.deconstructForm(e);let n;if(void 0!==t){const e=await async function(e){const t=[];for await(const r of e)t.push(r);return a.concat(t)}(t.body);n=e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength)}else n=new ArrayBuffer(1);const i=await this.bluetoothAdapter.getCharacteristic(r.deviceId,r.serviceId,r.characteristicId);switch(r.bleOperation){case"sbo:write-without-response":f(`invoking "writeValueWithoutResponse" on characteristic ${r.characteristicId}`),await i.writeValueWithoutResponse(new DataView(n));break;case"sbo:write":f(`invoking "writeValueWithResponse" on characteristic ${r.characteristicId}`),await i.writeValueWithResponse(new DataView(n));break;default:throw new Error(`unknown operation ${r["sbo:methodName"]}`)}}invokeResource(e,t){return this.writeResource(e,t).then((()=>({type:"text/plain",body:u("")})))}unlinkResource(e){throw new Error("not implemented")}async subscribeResource(e,t,r,n){const i=e.href.split("//")[1],s=e["wbt:id"],a=this.deconstructPath(i),{serviceId:c,characteristicId:l,operation:h}=a;if("subscribe"!==h)throw new Error(`operation ${h} is not supported`);f(`subscribing to characteristic with serviceId ${c} characteristicId ${l}`);const d=r=>{const n=r.target.value,i=new Uint8Array(n.buffer),o={type:e.contentType||"text/plain",body:u(i)};t(o)},p=await this.bluetoothAdapter.getCharacteristic(s,c,l);return p.addEventListener("characteristicvaluechanged",d),await p.startNotifications(),new o.w0((()=>{p.removeEventListener("characteristicvaluechanged",d),p.stopNotifications()}))}async start(){}async stop(){}setSecurity(e,t){return!1}deconstructPath(e){let t,r,n;const i=e.split("/");if(3===i.length)return[t,r,n]=i,{serviceId:t,characteristicId:r,operation:n};throw new Error("href is not valid")}deconstructForm=function(e){const t={};t.path=e.href.split("//")[1];const r=t.path.split("/");if(3!==r.length){const e=new RegExp("^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$");let n=r[0];for(let i=1;i<r.length;i++)!1===e.test(r[i])?n=n+"/"+r[i]:(i===r.length-2&&(t.serviceId=r[i]),i===r.length-1&&(t.characteristicId=r[i]));t.deviceId=n}else t.deviceId=r[0],t.serviceId=r[1],t.characteristicId=r[2];return t.operation=e.op?.toString()||"",t.bleOperation=e["sbo:methodName"],t}}var p=r(4310),b=r(97866).Buffer;class y{getMediaType(){return"application/x.binary-data-stream"}bytesToValue(e,t,r){let n,i,o=null;if(void 0!==t["bdo:pattern"]){const r=function(e,t){const r=e["bdo:pattern"],n=e["bdo:variables"],i=[],o=[],s=r.split("{");for(let e=0;e<s.length;e++){const t=s[e].split("}");0===e?i.push(t[0].length/2):(o.push(t[0]),i.push(t[1].length/2))}const a=[];let c=0+i[0];for(let e=0;e<o.length;e++){const r=n[o[e]]["bdo:bytelength"];a.push(t.subarray(c,c+r)),c+=r+i[e+1]}return[o,a]}(t,e);n=r[0],i=r[1];const s=[];for(let e=0;e<n.length;e++){const r=t["bdo:variables"][n[e]],a=i[e];switch(r.type){case"integer":case"number":s.push(m(r,a));break;case"string":s.push(w(r,a));break;case"object":s.push(_(0,a));break;default:throw new Error("Datatype not supported by codec")}o=s}}else switch(t.type){case"integer":case"number":o=m(t,e);break;case"string":o=w(t,e);break;case"object":o=_(0,e);break;default:throw new Error("Datatype not supported by codec")}return o}valueToBytes(e,t,r){let n,i=b.alloc(1);if(void 0!==t["bdo:pattern"])n=function(e,t){let r,n;for([r,n]of Object.entries(e["bdo:variables"]))if("integer"===n.type){const e=v(n,t[r]);t[r]=e.toString("hex")}return p.parse(e["bdo:pattern"]).expand(t)}(t,e),i=g(t,n);else switch(t.type){case"number":case"integer":i=v(t,e);break;case"string":i=g(t,e);break;case"object":i=function(e,t){const r=JSON.stringify(t);return b.from(r,"utf-8")}(0,e)}if(void 0!==t["tst:function"]){const e=t["tst:function"];i=new Function("buf",e)(i)}return i}}function m(e,t){const r=e["bdo:bytelength"]||t.byteLength,n=e["bdo:signed"]||!1,i=e["bdo:byteOrder"]||"little",o=e["bdo:scale"]||1,s=e["bdo:offset"]||0,a=e["bdo:precision"]||2;if(void 0===r)throw new Error("Not all parameters are provided!");let c=0;return"little"===i?c=n?t.readIntLE(s,r):t.readUIntLE(s,r):"big"===i&&(c=n?t.readIntBE(s,r):t.readUIntBE(s,r)),c*=o,c=+(Math.round(Number(c+"e+"+a))+"e-"+a),c}function v(e,t){const r=e["bdo:bytelength"],n=e["bdo:signed"]||!1,i=e["bdo:byteOrder"]||"little",o=e["bdo:scale"]||1,s=e["bdo:offset"]||0;if(void 0===r)throw new Error("Not all parameters are provided!");t*=o;const a=b.alloc(r);return"little"===i?n?a.writeIntLE(t,s,r):a.writeUIntLE(t,s,r):"big"===i&&(n?a.writeIntBE(t,s,r):a.writeUIntBE(t,s,r)),a}function g(e,t){let r;if(void 0===e.format)return r=b.from(t,"utf-8"),r;if("hex"===e.format)return r=b.from(t,"hex"),r;throw Error("String can not be converted to bytes, format not supported")}function w(e,t){let r;if(void 0===e.format?r=t.toString("utf-8"):"hex"===e.format&&(r=t.toString("hex")),void 0===r)throw Error("String can not be converted to bytes, format not supported");return r}function _(e,t){const r=t.toString("utf-8");return JSON.parse(r)}const{debug:S,error:E,warn:O}=(0,n.createLoggers)("binding-bluetooth","bluetooth-client-factory");class T{scheme="gatt";contentSerdes=n.ContentSerdes.get();adapter;constructor(e){this.contentSerdes.addCodec(new y),this.adapter=e}getClient(){return S(`Creating client for ${this.scheme}`),new d(this.adapter)}init=()=>!0;destroy=()=>!0}const{debug:x,error:A,warn:M}=(0,n.createLoggers)("binding-bluetooth","WebBluetoothAdapter");class P{async getCharacteristic(e,t,r){const n=(await navigator.bluetooth.getDevices()).find((t=>t.id===e));if(!n)throw new Error(`Device with id ${e} not found`);if(!n.gatt)throw new Error(`Device with id ${e} is not connected`);x(`connecting to decive ${n.id}`);const i=await n.gatt.connect();x(`Getting service ${t} of device ${n.id}`);const o=await i.getPrimaryService(t);return x(`Getting characteristic ${r} of service ${t} of device ${n.id}`),o.getCharacteristic(r)}}const j=function(e,t){const r=8*Math.pow(16,t-1),n=-1*Math.pow(16,t);return(parseInt(e,16)&r)>0?n+parseInt(e,16):parseInt(e,16)},k={EDDYSTONE_CONFIG_SERVICE:"a3c87500-8ed3-4bdf-8a39-a01bebede295",EDDYSTONE_CHARACTERISTICS:{"a3c87501-8ed3-4bdf-8a39-a01bebede295":"Capabilities","a3c87502-8ed3-4bdf-8a39-a01bebede295":"Active Slot","a3c87503-8ed3-4bdf-8a39-a01bebede295":"Advertising Interval","a3c87504-8ed3-4bdf-8a39-a01bebede295":"Radio Tx Power","a3c87505-8ed3-4bdf-8a39-a01bebede295":"Advertised Tx Power","a3c87506-8ed3-4bdf-8a39-a01bebede295":"Lock State","a3c87507-8ed3-4bdf-8a39-a01bebede295":"Unlock","a3c87508-8ed3-4bdf-8a39-a01bebede295":"Public ECDH Key","a3c87509-8ed3-4bdf-8a39-a01bebede295":"EID Identity Key","a3c8750a-8ed3-4bdf-8a39-a01bebede295":"Adv Slot Data","a3c8750b-8ed3-4bdf-8a39-a01bebede295":"Factory Reset"},parseCapabilities:function(e){const t=[];for(let r=0;r<e.length;r+=2)t.push(j(e.substring(r,r+2),2));const r=[];for(let e=6;e<t.length;e++){const n=r[r.length-1];if(n&&n>=t[e])break;r.push(t[e])}return{specVersion:t[0],maxSlots:t[1],maxEidPerSlot:t[2],isVarriableAdvIntervalSupported:0!=(1&t[3]),isVariableTxPowerSupported:0!=(2&t[3]),isUidSupported:0!=(1&t[5]),isUrlSupported:0!=(2&t[5]),isTlmSupported:0!=(4&t[5]),isEidSupported:0!=(8&t[5]),supportedTxPowerLevels:r}},decodeAdvertisingData:function(e){const t=[];for(let r=0;r<e.length;r+=2)t.push(parseInt(e.substring(r,r+2),16));const r=new Uint8Array(t).reduce(((e,t)=>e+("0"+t.toString(16)).slice(-2)),"");let n;switch(r[0]+r[1]){case"00":return i=r,n={frameType:"UID",txPower:parseInt(i.substring(2,4),16),namespace:i.substring(4,24),instance:i.substring(25,37)},n.namespace+n.instance;case"10":return n=function(e){const t=parseInt(e.substring(2,4),16);let r="";switch(e.substring(4,6)){case"00":r="http://www.";break;case"01":r="https://www.";break;case"02":r="http://";break;case"03":r="https://";break;default:throw new Error("Eddystone URL scheme is not valid.")}const n=[".com/",".org/",".edu/",".net/",".info/",".biz/",".gov/",".com",".org",".edu",".net",".info",".biz",".gov"],i=e.substring(6,e.length);let o=r;for(let e=0;e<i.length;e+=2){const t=parseInt(i.substring(e,e+2),16);o+=t<n.length?n[t]:String.fromCharCode(t)}return{frameType:"URL",txPower:t,url:o}}(r),n.url;case"20":return n=function(e){return{frameType:"TLM",batteryVoltage:parseInt(e.substring(4,8),16),beaconTemperature:parseInt(e.substring(8,10),16)+parseInt(e.substring(10,12),16)/100,pduCount:parseInt(e.substring(12,20),16),timeSinceReboot:parseInt(e.substring(20,28),16)}}(r),n.beaconTemperature;case"30":throw new Error("EID frame type is not supported by blast.");default:throw new Error("Eddystone frame type is not valid.")}var i},encodeAdvertisingData:function(e,t){let r;switch(t){case"URL":case"UID":break;case"TLM":throw new Error("TLM frame type is not writable.");case"EID":throw new Error("EID frame type is not writable.");default:throw new Error('Unkown frame type. Known types are "UID", "URL", "TLM", or "EID".')}if("URL"===t)r=function(e){const t=["http://www.","https://www.","http://","https://"],r=[".com/",".org/",".edu/",".net/",".info/",".biz/",".gov/",".com",".org",".edu",".net",".info",".biz",".gov"],n=[];let i=0;const o=new TextEncoder;for(let r=0;r<t.length;r++)if(e.startsWith(t[r])){n.push(r),i=t[r].length;break}for(;i<e.length;){const t=i;for(let t=0;t<r.length;t++)if(e.startsWith(r[t],i)){n.push(t),i+=r[t].length;break}t===i&&(n.push(o.encode(e[i])[0]),i++)}if(n.length>18)throw new Error("URL is too long.");return n.splice(0,0,16),new Uint8Array(n)}(e);else{if("UID"!==t)throw new Error('Unsupported frametype! Only "URL and "UID" are writeable');if(!/^[0-9A-Fa-f]{32}$/.test(e))throw new Error("Eddystone UID must be 32 hexadecimal characters.");r="00"+e}return r}};let $,C;const I=function(e){const t={allowSelfSigned:!0};if(!$){try{$=new n.Servient}catch(e){$=new Wot.Core.Servient}$.addClientFactory(new T(e)),$.addClientFactory(new i.HttpsClientFactory(t))}return $},R=async function(e){return C||(C=e?await I(e).start():await I(new P).start()),C},N=async function(e){return(await R()).consume(e)},L=async function(e,t){return e=D(e,t),(await R()).consume(e)},D=function(e,t){for(const r in e.properties)e.properties[r].forms&&e.properties[r].forms.forEach((e=>{e.href=e.href.replace("${MacOrWebBluetoothId}",t)}));for(const r in e.actions)e.actions[r].forms&&e.actions[r].forms.forEach((e=>{e.href=e.href.replace("${MacOrWebBluetoothId}",t)}));for(const r in e.events)e.events[r].forms&&e.events[r].forms.forEach((e=>{e.href=e.href.replace("${MacOrWebBluetoothId}",t),void 0!==e["wbt:id"]&&(e["wbt:id"]=e["wbt:id"]?.replace("${MacOrWebBluetoothId}",t))}));return e}},32653:function(e,t,r){var n=r(97866).Buffer,i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&i(t,e,r);return o(t,e),t},a=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.TuyaCustomBearer=t.OAuthCredential=t.BasicKeyCredential=t.BearerCredential=t.BasicCredential=t.Credential=void 0;const c=s(r(36162)),u=s(r(20960)),f=s(r(95564));class l{}t.Credential=l,t.BasicCredential=class extends l{constructor({username:e,password:t},r){if(super(),void 0===e||void 0===t||null===e||null===t)throw new Error("No Basic credentials for Thing");this.username=e,this.password=t,this.options=r}sign(e){return a(this,void 0,void 0,(function*(){const t=e.clone();let r="authorization";return void 0!==this.options&&"header"===this.options.in&&void 0!==this.options.name&&(r=this.options.name),t.headers.set(r,"Basic "+n.from(this.username+":"+this.password).toString("base64")),t}))}},t.BearerCredential=class extends l{constructor({token:e},t){if(super(),null==e)throw new Error("No Bearer credentials for Thing");this.token=e,this.options=t}sign(e){return a(this,void 0,void 0,(function*(){const t=e.clone();let r="authorization";return"header"===this.options.in&&void 0!==this.options.name&&(r=this.options.name),t.headers.set(r,"Bearer "+this.token),t}))}},t.BasicKeyCredential=class extends l{constructor({apiKey:e},t){if(super(),null==e)throw new Error("No API key credentials for Thing");this.apiKey=e,this.options=t}sign(e){return a(this,void 0,void 0,(function*(){const t=e.clone();let r="authorization";return"header"===this.options.in&&void 0!==this.options.name&&(r=this.options.name),t.headers.append(r,this.apiKey),t}))}};class h extends l{constructor(e,t){super(),this.token=e,this.refresh=t,this.token=e}sign(e){return a(this,void 0,void 0,(function*(){if(this.token instanceof Promise){const e=this.token;this.token=yield e}let t={url:e.url,headers:{}};return t=this.token.sign(t),new c.Request(e,t)}))}refreshToken(){return a(this,void 0,void 0,(function*(){if(this.token instanceof Promise)throw new Error("Uninitialized token. You have to call sing before refresh");let e;return e=this.refresh?yield this.refresh():yield this.token.refresh(),new h(e,this.refresh)}))}}t.OAuthCredential=h,t.TuyaCustomBearer=class extends l{constructor(e,t){super(),this.key=e.key,this.secret=e.secret,this.baseUri=t.baseUri}sign(e){return a(this,void 0,void 0,(function*(){const t=this.isTokenExpired();(void 0===this.token||""===this.token||t)&&(yield this.requestAndRefreshToken(t));const r=e.url,n=e.body?e.body.read().toString():"",i=this.getHeaders(!0,e.headers.raw(),n,r,e.method);return Object.assign(i,e.headers.raw()),new c.Request(r,{method:e.method,body:""!==n?n:null,headers:i})}))}requestAndRefreshToken(e){return a(this,void 0,void 0,(function*(){const t={headers:this.getHeaders(!1,{},"",null,null),method:"GET"};let r=`${this.baseUri}/token?grant_type=1`;e&&(r=`${this.baseUri}/token/${this.refreshToken}`);const n=yield(yield(0,c.default)(r,t)).json();if(!n.success)throw new Error("token fetch failed");this.token=n.result.access_token,this.refreshToken=n.result.refresh_token,this.expireTime=new Date(Date.now()+1e3*n.result.expire_time)}))}getHeaders(e,t,r,n,i){const o=Date.now().toString(),s=this.baseUri.replace("/v1.0",""),a=n?n.replace(`${s}`,""):null,c=this.requestSign(e,o,r,t,a,i);return{t:o,client_id:this.key,sign_method:"HMAC-SHA256",sign:c,access_token:this.token||""}}requestSign(e,t,r,n,i,o){const s=u.createHash("sha256").update(r).digest("hex");let a="/v1.0/token?grant_type=1",c="";const l=o||"GET";if(e){c=this.token;const e=f.parse(i.split("?")[1]);let t={};t=Object.assign(t,e);const r={};Object.keys(t).sort().forEach((e=>{r[e]=t[e]}));const n=f.stringify(r);a=decodeURIComponent(n?`${i.split("?")[0]}?${n}`:i)}const h=[this.key,c,t,[l,s,"",a].join("\n")].join("");return u.createHmac("sha256",this.secret).update(h).digest("hex").toUpperCase()}isTokenExpired(){return!!this.expireTime&&Date.now()>this.expireTime.getTime()}}},34616:function(e,t,r){var n=r(97866).Buffer,i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&i(t,e,r);return o(t,e),t},a=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||i(t,e,r)},c=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.HttpForm=t.HttpHeader=t.HttpsClientFactory=t.HttpClientFactory=t.HttpClient=void 0;const f=s(r(72915)),l=r(36162);var h=r(77685);Object.defineProperty(t,"HttpClient",{enumerable:!0,get:function(){return u(h).default}});var d=r(61851);Object.defineProperty(t,"HttpClientFactory",{enumerable:!0,get:function(){return u(d).default}});var p=r(70140);Object.defineProperty(t,"HttpsClientFactory",{enumerable:!0,get:function(){return u(p).default}}),a(r(77685),t),a(r(61851),t),a(r(70140),t),t.HttpHeader=class{};class b extends f.Form{}t.HttpForm=b,l.Headers.prototype.raw=function(){const e={};for(const t in this.entries())e[t[0]]=t[1].split(",");return e},l.Response.prototype.buffer=function(){return c(this,void 0,void 0,(function*(){return n.from(yield this.arrayBuffer())}))}},77685:function(e,t,r){var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(53493),s=r(95751),a=i(r(88933));class c extends a.default{generateFetchRequest(e,t,r){const i=Object.create(null,{generateFetchRequest:{get:()=>super.generateFetchRequest}});return n(this,void 0,void 0,(function*(){if((null==r?void 0:r.body)instanceof s.Readable){const e=yield o.ProtocolHelpers.readStreamFully(r.body);r.body=e}return i.generateFetchRequest.call(this,e,t,r)}))}}t.default=c},61851:function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(53493),o=n(r(77685)),s=n(r(70987)),{debug:a,warn:c}=(0,i.createLoggers)("binding-http","http-client-factory");t.default=class{constructor(e=null){this.scheme="http",this.config=null,this.oAuthManager=new s.default,this.config=e}getClient(){return this.config&&this.config.proxy&&this.config.proxy.href&&this.config.proxy.href.startsWith("https:")?(c("HttpClientFactory creating client for 'https' due to secure proxy configuration"),new o.default(this.config,!0,this.oAuthManager)):(a(`HttpClientFactory creating client for '${this.scheme}'`),new o.default(this.config))}init(){return!0}destroy(){return!0}}},88933:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t},s=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const c=o(r(90449)),u=o(r(27065)),f=r(84469),l=r(53493),h=o(r(36162)),d=r(97866),p=a(r(70987)),b=r(32653),y=r(15904),{debug:m,warn:v,error:g}=(0,l.createLoggers)("binding-http","http-client-impl");class w{constructor(e=null,t=!1,r=new p.default){this.proxyRequest=null,this.allowSelfSigned=!1,this.credential=null,this.activeSubscriptions=new Map,null!==e&&e.proxy&&e.proxy.href&&(this.proxyRequest=new h.Request(w.fixLocalhostName(e.proxy.href)),"basic"===e.proxy.scheme?(Object.prototype.hasOwnProperty.call(e.proxy,"username")&&Object.prototype.hasOwnProperty.call(e.proxy,"password")||v("HttpClient client configured for basic proxy auth, but no username/password given"),this.proxyRequest.headers.set("proxy-authorization","Basic "+d.Buffer.from(e.proxy.username+":"+e.proxy.password).toString("base64"))):"bearer"===e.proxy.scheme&&(Object.prototype.hasOwnProperty.call(e.proxy,"token")||v("HttpClient client configured for bearer proxy auth, but no token given"),this.proxyRequest.headers.set("proxy-authorization","Bearer "+e.proxy.token)),"https"===this.proxyRequest.protocol&&(t=!0),m(`HttpClient using ${t?"secure ":""}proxy ${this.proxyRequest.hostname}:${this.proxyRequest.port}`)),null!==e&&void 0!==e.allowSelfSigned&&(this.allowSelfSigned=e.allowSelfSigned,v("HttpClient allowing self-signed/untrusted certificates -- USE FOR TESTING ONLY")),this.agent=t?new u.Agent({rejectUnauthorized:!this.allowSelfSigned}):new c.Agent,this.provider=t?"https":"http",this.oauth=r}toString(){return"[HttpClient]"}readResource(e){return s(this,void 0,void 0,(function*(){const t=yield this.generateFetchRequest(e,"GET");m(`HttpClient (readResource) sending ${t.method} to ${t.url}`);const r=yield this.fetch(t);this.checkFetchResponse(r),m(`HttpClient received headers: ${JSON.stringify(r.headers.raw())}`),m(`HttpClient received Content-Type: ${r.headers.get("content-type")}`);const n=l.ProtocolHelpers.toNodeStream(r.body);return new l.Content(r.headers.get("content-type"),n)}))}writeResource(e,t){return s(this,void 0,void 0,(function*(){const r=yield this.generateFetchRequest(e,"PUT",{headers:[["content-type",t.type]],body:t.body});m(`HttpClient (writeResource) sending ${r.method} with '${r.headers.get("Content-Type")}' to ${r.url}`);const n=yield this.fetch(r);m(`HttpClient received ${n.status} from ${n.url}`),this.checkFetchResponse(n),m(`HttpClient received headers: ${JSON.stringify(n.headers.raw())}`)}))}subscribeResource(e,t,r,n){return new Promise(((i,o)=>{let s;void 0===e.subprotocol||"longpoll"===e.subprotocol?s=new y.LongPollingSubscription(e,this):"sse"===e.subprotocol&&(s=new y.SSESubscription(e)),s.open(t,r,n).then((()=>{this.activeSubscriptions.set(e.href,s),i(new f.Subscription(null))})).catch((e=>o(e)))}))}invokeResource(e,t){return s(this,void 0,void 0,(function*(){const r=t?[["content-type",t.type]]:[],n=yield this.generateFetchRequest(e,"POST",{headers:r,body:null==t?void 0:t.body});m(`HttpClient (invokeResource) sending ${n.method} ${t?"with '"+n.headers.get("Content-Type")+"' ":" "}to ${n.url}`);const i=yield this.fetch(n);m(`HttpClient received ${i.status} from ${n.url}`),m(`HttpClient received Content-Type: ${i.headers.get("content-type")}`),this.checkFetchResponse(i);const o=l.ProtocolHelpers.toNodeStream(i.body);return new l.Content(i.headers.get("content-type"),o)}))}unlinkResource(e){return s(this,void 0,void 0,(function*(){m(`HttpClient (unlinkResource) ${e.href}`),this.activeSubscriptions.get(e.href)?this.activeSubscriptions.get(e.href).close():v(`HttpClient cannot unlink ${e.href} no subscription found`)}))}start(){return s(this,void 0,void 0,(function*(){}))}stop(){return s(this,void 0,void 0,(function*(){this.agent&&this.agent.destroy&&this.agent.destroy()}))}setSecurity(e,t){if(void 0===e||!Array.isArray(e)||0===e.length)return v("HttpClient without security"),!1;const r=e[0];switch(r.scheme){case"basic":{const e=r;this.credential=new b.BasicCredential(t,e);break}case"bearer":{const e=r;this.credential=new b.BearerCredential(t,e);break}case"apikey":{const e=r;this.credential=new b.BasicKeyCredential(t,e);break}case"oauth2":{const e=r;"client"===e.flow?(e.flow="client_credentials",this.credential=this.oauth.handleClient(e,t)):"password"===e.flow&&(this.credential=this.oauth.handleResourceOwnerCredential(e,t));break}case"TuyaCustomBearer":this.credential=new b.TuyaCustomBearer(t,r);break;case"nosec":break;default:return g(`HttpClient cannot set security scheme '${r.scheme}'. ${e}`),!1}if(r.proxy)if(null!==this.proxyRequest&&m(`HttpClient overriding client-side proxy with security proxy '${r.proxy}`),this.proxyRequest=new h.Request(w.fixLocalhostName(r.proxy)),"basic"===r.scheme){const e=t;if(void 0===e||void 0===e.username||void 0===e.password)throw new Error("No Basic credentials for Thing");this.proxyRequest.headers.set("proxy-authorization","Basic "+d.Buffer.from(e.username+":"+e.password).toString("base64"))}else if("bearer"===r.scheme){const e=t;if(void 0===t||void 0===e.token)throw new Error("No Bearer credentials for Thing");this.proxyRequest.headers.set("proxy-authorization","Bearer "+e.token)}return m(`HttpClient using security scheme '${r.scheme}'`),!0}generateFetchRequest(e,t,r={}){var n;return s(this,void 0,void 0,(function*(){const i=r,o=w.fixLocalhostName(e.href);if(i.method=e["htv:methodName"]?e["htv:methodName"]:t,i.headers=null!==(n=i.headers)&&void 0!==n?n:[],i.headers=i.headers,Array.isArray(e["htv:headers"])){m(`HttpClient got Form 'headers' ${e["htv:headers"]}`);const t=e["htv:headers"];for(const e of t)i.headers.push([e["htv:fieldName"],e["htv:fieldValue"]])}else if("object"==typeof e["htv:headers"]){m(`HttpClient got Form SINGLE-ENTRY 'headers' ${e["htv:headers"]}`);const t=e["htv:headers"];i.headers.push([t["htv:fieldName"],t["htv:fieldValue"]])}i.agent=this.agent;let s=this.proxyRequest?new h.Request(this.proxyRequest,i):new h.Request(o,i);if(this.credential&&(s=yield this.credential.sign(s)),this.proxyRequest){const e=new URL(o);s.url=s.url+e.pathname,m(`HttpClient proxy request URL: ${s.url}`),s.headers.set("host",e.hostname)}return s}))}fetch(e,t){return s(this,void 0,void 0,(function*(){const r=yield(0,h.default)(e,{body:null==t?void 0:t.body});return w.isOAuthTokenExpired(r,this.credential)?(this.credential=yield this.credential.refreshToken(),yield(0,h.default)(yield this.credential.sign(e))):r}))}checkFetchResponse(e){const t=e.status;if(t<200)throw new Error(`HttpClient received ${t} and cannot continue (not implemented, open GitHub Issue)`);if(!(t<300))throw t<400?new Error(`HttpClient received ${t} and cannot continue (not implemented, open GitHub Issue)`):t<500?new Error(`Client error: ${e.statusText}`):new Error(`Server error: ${e.statusText}`)}static isOAuthTokenExpired(e,t){return 401===e.status&&t instanceof b.OAuthCredential}static fixLocalhostName(e){const t=/^(https?:)?(\/\/)?(?:[^@\n]+@)?(www\.)?(localhost)/gm;return t.test(e)?(v("LOCALHOST FIX"),e.replace(t,"$1$2127.0.0.1")):e}}t.default=w},70140:function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(53493),o=n(r(77685)),{debug:s,warn:a}=(0,i.createLoggers)("binding-http","https-client-factory");t.default=class{constructor(e=null){this.scheme="https",this.config=null,this.config=e}getClient(){return this.config&&this.config.proxy&&this.config.proxy.href&&this.config.proxy.href.startsWith("http:")?(a("HttpsClientFactory creating client for 'http' due to insecure proxy configuration"),new o.default(this.config)):(s(`HttpsClientFactory creating client for '${this.scheme}'`),new o.default(this.config,!0))}init(){return!0}destroy(){return!0}}},70987:function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(53493),o=n(r(91484)),s=r(27065),a=r(32653);function c(e){return(t,r,n,i)=>new Promise(((o,a)=>{const c=new URL(r),u={method:t,host:c.hostname,port:parseInt(c.port),path:c.pathname+c.search,headers:i};u.rejectUnauthorized=e;const f=(0,s.request)(u);f.on("response",(e=>{e.setEncoding("utf8");const t=[];e.on("data",(e=>{t.push(e)})),e.on("end",(()=>{o({status:e.statusCode,body:t.toString()})}))})),f.on("error",(e=>{a(e)})),f.write(n),f.end()}))}t.default=class{constructor(){this.tokenStore=new Map}handleClient(e,t){const r=new o.default({clientId:t.clientId,clientSecret:t.clientSecret,accessTokenUri:e.token,scopes:i.Helpers.toStringArray(e.scopes),body:{}},c(!1)),n=r.credentials.getToken();return new a.OAuthCredential(n,r.credentials.getToken.bind(r.credentials))}handleResourceOwnerCredential(e,t){const r=new o.default({clientId:t.clientId,clientSecret:t.clientSecret,accessTokenUri:e.token,scopes:i.Helpers.toStringArray(e.scopes)},c(!1)).owner.getToken(t.username,t.password);return new a.OAuthCredential(r)}}},15904:function(e,t,r){var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.SSESubscription=t.LongPollingSubscription=void 0;const o=i(r(50320)),s=r(53493),a=r(95751),{debug:c}=(0,s.createLoggers)("binding-http","subscription-protocols");t.LongPollingSubscription=class{constructor(e,t){this.form=e,this.client=t,this.closed=!1}open(e,t,r){return new Promise(((i,o)=>{const a=u=>n(this,void 0,void 0,(function*(){try{if(u){const e=yield this.client.generateFetchRequest(this.form,"HEAD",{timeout:1e3});(yield this.client.fetch(e)).ok&&i()}const t=yield this.client.generateFetchRequest(this.form,"GET",{timeout:36e5});c(`HttpClient (subscribeResource) sending ${t.method} to ${t.url}`);const n=yield this.client.fetch(t);if(this.client.checkFetchResponse(n),c(`HttpClient received ${n.status} from ${t.url}`),c(`HttpClient received headers: ${JSON.stringify(n.headers.raw())}`),c(`HttpClient received Content-Type: ${n.headers.get("content-type")}`),!this.closed){const t=s.ProtocolHelpers.toNodeStream(n.body);e(new s.Content(n.headers.get("content-type"),t)),a(!1)}r&&r()}catch(e){t&&t(e),r&&r(),o(e)}}));a(!0)}))}close(){this.closed=!0}},t.SSESubscription=class{constructor(e){this.form=e,this.closed=!1}open(e,t,r){return new Promise(((n,i)=>{this.eventSource=new o.default(this.form.href),this.eventSource.onopen=e=>{c(`HttpClient (subscribeResource) Server-Sent Event connection is opened to ${this.form.href}`),n()},this.eventSource.onmessage=t=>{c(`HttpClient received ${JSON.stringify(t)} from ${this.form.href}`);const r=new s.Content(this.form.contentType,a.Readable.from(JSON.stringify(t)));e(r)},this.eventSource.onerror=function(e){t(new Error(e.toString())),r&&r(),i(e.toString())}}))}close(){this.eventSource.close()}}},52605:(e,t,r)=>{var n=r(97866).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(e){this.subMediaType=e}getMediaType(){return this.subMediaType}bytesToValue(e,t,r){return e.toString("ascii")}valueToBytes(e,t,r){let i="";return void 0!==e&&(i=JSON.stringify(e)),n.from(i,"base64")}}},13996:(e,t,r)=>{var n=r(97866).Buffer;Object.defineProperty(t,"__esModule",{value:!0});const i=r(18326),o=r(41861),{debug:s}=(0,o.createLoggers)("core","json-codec");t.default=class{constructor(e){this.subMediaType=e||i.ContentSerdes.DEFAULT}getMediaType(){return this.subMediaType}bytesToValue(e,t,r){let n;s(`JsonCodec parsing '${e.toString()}'`);try{n=JSON.parse(e.toString())}catch(t){if(!(t instanceof SyntaxError))throw t;n=0===e.byteLength?void 0:e.toString()}return n}valueToBytes(e,t,r){s("JsonCodec serializing",e);let i="";return void 0!==e&&(i=JSON.stringify(e)),n.from(i)}}},33089:(e,t,r)=>{var n=r(97866).Buffer;Object.defineProperty(t,"__esModule",{value:!0});const i=r(41861),{debug:o}=(0,i.createLoggers)("core","netconf-codec");t.default=class{getMediaType(){return"application/netconf"}bytesToValue(e,t,r){let n;o(`NetconfCodec parsing '${e.toString()}'`);try{n=JSON.parse(e.toString())}catch(t){if(!(t instanceof SyntaxError))throw t;n=0===e.byteLength?void 0:e.toString()}return n}valueToBytes(e,t,r){o("NetconfCodec serializing",e);let i="";if(void 0!==e){const r={},n=this.getPayloadNamespaces(t,e,r,!1);i=JSON.stringify(n)}return n.from(i)}getPayloadNamespaces(e,t,r,n){if(!e)throw new Error('Missing "schema" field in TD');if(n){const n=e.properties;if(!n)throw new Error('Missing "properties" field in TD');let i,o=!1,s="";for(const e in n){const a=n[e];if(!t[e])throw new Error(`Payload is missing '${e}' field specified in TD`);if(!0===a["nc:attribute"]&&t[e]){const n=t[e];s=n.split(":")[n.split(":").length-1],r[s]=t[e],o=!0}else t[e]&&(i=t[e])}if(o)return{payload:s+"\\:"+i,NSs:r};throw new Error("Namespace not found in the payload")}if(e&&e.type&&"object"===e.type&&e.properties){let n;n=e.properties&&e["nc:container"]?this.getPayloadNamespaces(e,t,r,!0):this.getPayloadNamespaces(e.properties,t,r,!1),t=n.payload,r=Object.assign(Object.assign({},r),n.NSs)}for(const i in e)if(e[i].type&&"object"===e[i].type||n){let n=!1;e[i].properties&&e[i]["nc:container"]&&(n=!0);const o=this.getPayloadNamespaces(e[i],t[i],r,n);t[i]=o.payload,r=Object.assign(Object.assign({},r),o.NSs)}return{payload:t,NSs:r}}}},45629:(e,t,r)=>{var n=r(97866).Buffer;Object.defineProperty(t,"__esModule",{value:!0});const i=r(27772),o=r(41861),{debug:s,warn:a}=(0,o.createLoggers)("core","octetstream-codec");t.default=class{getMediaType(){return"application/octet-stream"}bytesToValue(e,t,r={}){var n;s(`OctetstreamCodec parsing '${e.toString()}'`);const o="littleendian"!==r.byteorder;let c="false"!==r.signed;if(r.length&&parseInt(r.length)!==e.length)throw new Error("Lengths do not match, required: "+r.length+" provided: "+e.length);let u=e.length,f=t?t.type:"undefined";if(/(short|(u)?int(8|16|32)?$|float(16|32|64)?|byte)/.test(f.toLowerCase())){const t=/(u)?(short|int|float|byte)(8|16|32|64)?/.exec(f.toLowerCase());t&&(c=void 0===t[1],f=t[2],u=null!==(n=+t[3]/8)&&void 0!==n?n:e.length)}switch(f){case"boolean":return!e.every((e=>0===e));case"byte":case"short":case"int":case"integer":switch(u){case 1:return c?e.readInt8(0):e.readUInt8(0);case 2:return o?c?e.readInt16BE(0):e.readUInt16BE(0):c?e.readInt16LE(0):e.readUInt16LE(0);case 4:return o?c?e.readInt32BE(0):e.readUInt32BE(0):c?e.readInt32LE(0):e.readUInt32LE(0);default:{let t,r=0;return o?(r=e.reduce(((e,t)=>e<<8+t)),t=e.readInt8(0)<0):(r=e.reduceRight(((e,t)=>e<<8+t)),t=e.readInt8(u-1)<0),c&&t&&(r-=1<<8*u),Number.isSafeInteger(r)||a("Result is not a safe integer"),r}}case"float":case"double":case"number":switch(u){case 2:return(0,i.getFloat16)(new DataView(e.buffer),e.byteOffset,!o);case 4:return o?e.readFloatBE(0):e.readFloatLE(0);case 8:return o?e.readDoubleBE(0):e.readDoubleLE(0);default:throw new Error("Wrong buffer length for type 'number', must be 2, 4, 8, or is "+u)}case"string":return e.toString(r.charset);case"array":case"object":throw new Error("Unable to handle dataType "+f);case"null":return null;default:throw new Error("Unable to handle dataType "+f)}}valueToBytes(e,t,r={}){var o;s(`OctetstreamCodec serializing '${e}'`),r.length||a("Missing 'length' parameter necessary for write. I'll do my best");const c="littleendian"!==r.byteorder;let u,f="false"!==r.signed,l=r.length?parseInt(r.length):void 0;if(void 0===e)throw new Error("Undefined value");let h=t?t.type:"undefined";if(/(short|(u)?int(8|16|32)?$|float(16|32|64)?|byte)/.test(h.toLowerCase())){const e=/(u)?(short|int|float|byte)(8|16|32|64)?/.exec(h.toLowerCase());e&&(f=void 0===e[1],h=e[2],l=null!==(o=+e[3]/8)&&void 0!==o?o:l)}switch(h){case"boolean":return n.alloc(null!=l?l:1,e?255:0);case"byte":case"short":case"int":case"integer":{if(l=null!=l?l:4,"number"!=typeof e)throw new Error("Value is not a number");Number.isSafeInteger(e)||a("Value is not a safe integer");const t=Math.pow(2,8*l)-1;if(f){if(e<-t||e>=t)throw new Error("Integer overflow when representing signed "+e+" in "+l+" byte(s)")}else if(e<0||e>=t)throw new Error("Integer overflow when representing unsigned "+e+" in "+l+" byte(s)");switch(u=n.alloc(l),l){case 1:f?u.writeInt8(e,0):u.writeUInt8(e,0);break;case 2:c?f?u.writeInt16BE(e,0):u.writeUInt16BE(e,0):f?u.writeInt16LE(e,0):u.writeUInt16LE(e,0);break;case 4:c?f?u.writeInt32BE(e,0):u.writeUInt32BE(e,0):f?u.writeInt32LE(e,0):u.writeUInt32LE(e,0);break;default:f&&e<0&&(e+=1<<8*l);for(let t=0;t<l;++t){const r=e%256;e/=256,u.writeInt8(r,c?l-t-1:t)}}return u}case"float":case"number":if("number"!=typeof e)throw new Error("Value is not a number");switch(l=null!=l?l:8,u=n.alloc(l),l){case 2:(0,i.setFloat16)(new DataView(u.buffer),0,e,!c);break;case 4:c?u.writeFloatBE(e,0):u.writeFloatLE(e,0);break;case 8:c?u.writeDoubleBE(e,0):u.writeDoubleLE(e,0);break;default:throw new Error("Wrong buffer length for type 'number', must be 4 or 8, is "+l)}return u;case"string":{const t=String(e);return n.from(t)}case"array":case"object":case"undefined":default:throw new Error("Unable to handle dataType "+h);case"null":return n.alloc(0)}}}},65355:(e,t,r)=>{var n=r(97866).Buffer;Object.defineProperty(t,"__esModule",{value:!0});const i=r(41861),{debug:o}=(0,i.createLoggers)("core","text-codec");t.default=class{constructor(e){this.subMediaType=e||"text/plain"}getMediaType(){return this.subMediaType}bytesToValue(e,t,r){return o(`TextCodec parsing '${e.toString()}'`),e.toString(null==r?void 0:r.charset)}valueToBytes(e,t,r){o(`TextCodec serializing '${e}'`);let i,s="";if(void 0!==e&&(s=JSON.stringify(e)),r&&r.charset)switch(r.charset){case"ascii":i="ascii";break;case"utf8":i="utf8";break;case"utf-8":i="utf-8";break;case"utf16le":i="utf16le";break;case"ucs2":i="ucs2";break;case"ucs-2":i="ucs-2";break;case"base64":i="base64";break;case"latin1":i="latin1";break;case"binary":i="binary";break;case"hex":i="hex"}return i?n.from(s,i):n.from(s)}}},1639:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t},s=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const c=o(r(54022)),u=a(r(71239)),f=a(r(18326)),l=r(4310),h=r(10407),d=r(41861),{debug:p,warn:b}=(0,d.createLoggers)("core","consumed-thing");var y;!function(e){e[e.PropertyAffordance=0]="PropertyAffordance",e[e.ActionAffordance=1]="ActionAffordance",e[e.EventAffordance=2]="EventAffordance"}(y||(y={}));class m extends c.ThingProperty{constructor(e,t){super(),this.getName=()=>e,this.getThing=()=>t}}class v extends c.ThingAction{constructor(e,t){super(),this.getName=()=>e,this.getThing=()=>t}}class g extends c.ThingEvent{constructor(e,t){super(),this.getName=()=>e,this.getThing=()=>t}}class w{constructor(e,t){this.thing=e,this.name=t,this.active=!0}}class _ extends w{constructor(e,t,r){var n;super(e,t),this.form=r,this.active=!1;const i=null===(n=this.thing.properties)||void 0===n?void 0:n[t].forms.indexOf(r);if(void 0===i||i<0)throw new Error(`Could not find form ${r.href} in property ${t}`);this.formIndex=i}stop(e){return s(this,void 0,void 0,(function*(){yield this.unobserveProperty(e),this.thing.observedProperties.delete(this.name)}))}unobserveProperty(e={}){return s(this,void 0,void 0,(function*(){const t=this.thing.properties[this.name];if(!t)throw new Error(`ConsumedThing '${this.thing.title}' does not have property ${this.name}`);e.formIndex||(e.formIndex=this.matchingUnsubscribeForm());const{client:r,form:n}=this.thing.getClientFor(t.forms,"unobserveproperty",y.PropertyAffordance,e);if(!n)throw new Error(`ConsumedThing '${this.thing.title}' did not get suitable form`);if(!r)throw new Error(`ConsumedThing '${this.thing.title}' did not get suitable client for ${n.href}`);p(`ConsumedThing '${this.thing.title}' unobserving to ${n.href}`),yield r.unlinkResource(n),this.active=!1}))}matchingUnsubscribeForm(){const e=this.thing.properties[this.name].forms[this.formIndex];if(Array.isArray(e.op)&&e.op.includes("unobserveproperty"))return this.formIndex;const t=this.findFormIndexWithScoring(this.formIndex,this.thing.properties[this.name].forms,"unobserveproperty");if(-1===t)throw new Error("Could not find matching form for unsubscribe");return t}findFormIndexWithScoring(e,t,r){const n=t[e];let i=0,o=-1;for(let e=0;e<t.length;e++){let s=0;const a=t[e];(a.op===r||Array.isArray(a.op)&&a.op.includes(r))&&(s+=1),new URL(a.href).origin===new URL(n.href).origin&&(s+=1),a.contentType===n.contentType&&(s+=1),s>i&&(i=s,o=e)}return o}}class S extends w{constructor(e,t,r){var n;super(e,t),this.form=r;const i=null===(n=this.thing.events)||void 0===n?void 0:n[t].forms.indexOf(r);if(void 0===i||i<0)throw new Error(`Could not find form ${r.href} in event ${t}`);this.formIndex=i}stop(e){return s(this,void 0,void 0,(function*(){yield this.unsubscribeEvent(e),this.thing.subscribedEvents.delete(this.name)}))}unsubscribeEvent(e={}){return s(this,void 0,void 0,(function*(){const t=this.thing.events[this.name];if(!t)throw new Error(`ConsumedThing '${this.thing.title}' does not have event ${this.name}`);e.formIndex||(e.formIndex=this.matchingUnsubscribeForm());const{client:r,form:n}=this.thing.getClientFor(t.forms,"unsubscribeevent",y.EventAffordance,e);if(!n)throw new Error(`ConsumedThing '${this.thing.title}' did not get suitable form`);if(!r)throw new Error(`ConsumedThing '${this.thing.title}' did not get suitable client for ${n.href}`);p(`ConsumedThing '${this.thing.title}' unsubscribing to ${n.href}`),r.unlinkResource(n),this.active=!1}))}matchingUnsubscribeForm(){const e=this.thing.events[this.name].forms[this.formIndex];if(!e.op||Array.isArray(e.op)&&e.op.includes("unsubscribeevent"))return this.formIndex;const t=function(e,t,r){const n=t[e];let i=0,o=-1;for(let e=0;e<t.length;e++){let s=0;const a=t[e];(a.op===r||Array.isArray(a.op)&&a.op.includes(r))&&(s+=1),new URL(a.href).origin===new URL(n.href).origin&&(s+=1),a.contentType===n.contentType&&(s+=1),s>i&&(i=s,o=e)}return o}(this.formIndex,this.thing.events[this.name].forms,"unsubscribeevent");if(-1===t)throw new Error("Could not find matching form for unsubscribe");return t}}class E extends c.Thing{constructor(e,t={}){super(),this.subscribedEvents=new Map,this.observedProperties=new Map,this.getServient=()=>e,this.getClients=(new class{constructor(){this.clients=new Map,this.getMap=()=>this.clients}}).getMap,this.properties={},this.actions={},this.events={};const r=JSON.parse(JSON.stringify(t));Object.assign(this,r),this.extendInteractions()}getThingDescription(){return JSON.parse(JSON.stringify(this))}emitEvent(e,t){b("not implemented")}extendInteractions(){for(const e in this.properties){const t=u.default.extend(this.properties[e],new m(e,this));this.properties[e]=t}for(const e in this.actions){const t=u.default.extend(this.actions[e],new v(e,this));this.actions[e]=t}for(const e in this.events){const t=u.default.extend(this.events[e],new g(e,this));this.events[e]=t}}findForm(e,t,r,n,i){let o;for(const s of e){let e="";if(void 0!==s.op)e=s.op;else switch(r){case y.PropertyAffordance:e=["readproperty","writeproperty"];break;case y.ActionAffordance:e="invokeaction";break;case y.EventAffordance:e="subscribeevent"}if(-1!==e.indexOf(t)&&-1!==s.href.indexOf(n[i]+":")){o=s;break}}return o}getSecuritySchemes(e){const t=[];for(const r of e){const e=this.securityDefinitions[r+""];e&&t.push(e)}return t}ensureClientSecurity(e,t){if(this.securityDefinitions){const r=()=>p(`ConsumedThing '${this.title}' setting credentials for ${e} based on thing security`);t&&Array.isArray(t.security)&&t.security.length>0?(r(),e.setSecurity(this.getSecuritySchemes(t.security),this.getServient().retrieveCredentials(this.id))):this.security&&Array.isArray(this.security)&&this.security.length>0&&(r(),e.setSecurity(this.getSecuritySchemes(this.security),this.getServient().getCredentials(this.id)))}}getClientFor(e,t,r,n){if(0===e.length)throw new Error(`ConsumedThing '${this.title}' has no links for this interaction`);let i,o;if(void 0!==(null==n?void 0:n.formIndex)){if(p(`ConsumedThing '${this.title}' asked to use formIndex '${n.formIndex}'`),!(n.formIndex>=0&&n.formIndex<e.length))throw new Error(`ConsumedThing '${this.title}' missing formIndex '${n.formIndex}'`);{i=e[n.formIndex];const t=u.default.extractScheme(i.href);if(!this.getServient().hasClientFor(t))throw new Error(`ConsumedThing '${this.title}' missing ClientFactory for '${t}'`);p(`ConsumedThing '${this.title}' got client for '${t}'`),o=this.getServient().getClientFor(t),this.getClients().get(t)||(this.ensureClientSecurity(o,i),this.getClients().set(t,o))}}else{const n=e.map((e=>u.default.extractScheme(e.href))),s=n.findIndex((e=>this.getClients().has(e)));if(-1!==s)p(`ConsumedThing '${this.title}' chose cached client for '${n[s]}'`),o=this.getClients().get(n[s]),i=this.findForm(e,t,r,n,s);else{p(`ConsumedThing '${this.title}' has no client in cache (${s})`);const a=n.findIndex((e=>this.getServient().hasClientFor(e)));if(-1===a)throw new Error(`ConsumedThing '${this.title}' missing ClientFactory for '${n}'`);o=this.getServient().getClientFor(n[a]),p(`ConsumedThing '${this.title}' got new client for '${n[a]}'`),this.getClients().set(n[a],o),i=this.findForm(e,t,r,n,a),this.ensureClientSecurity(o,i)}}return{client:o,form:i}}readProperty(e,t){return s(this,void 0,void 0,(function*(){const r=this.properties[e];if(!r)throw new Error(`ConsumedThing '${this.title}' does not have property ${e}`);let{client:n,form:i}=this.getClientFor(r.forms,"readproperty",y.PropertyAffordance,t);if(!i)throw new Error(`ConsumedThing '${this.title}' did not get suitable form`);if(!n)throw new Error(`ConsumedThing '${this.title}' did not get suitable client for ${i.href}`);p(`ConsumedThing '${this.title}' reading ${i.href}`),i=this.handleUriVariables(r,i,t);const o=yield n.readResource(i);return new h.InteractionOutput(o,i,r)}))}_readProperties(e){return s(this,void 0,void 0,(function*(){const t=[];for(const r of e)t.push(this.readProperty(r));const r=new Map;try{const n=yield Promise.all(t);let i=0;for(const t of e)r.set(t,n[i]),i++;return r}catch(t){throw new Error(`ConsumedThing '${this.title}', failed to read properties: ${e}.\n Error: ${t}`)}}))}readAllProperties(e){const t=[];for(const r in this.properties){const n=this.properties[r],{form:i}=this.getClientFor(n.forms,"readproperty",y.PropertyAffordance,e);i&&t.push(r)}return this._readProperties(t)}readMultipleProperties(e,t){return this._readProperties(e)}writeProperty(e,t,r){return s(this,void 0,void 0,(function*(){const n=this.properties[e];if(!n)throw new Error(`ConsumedThing '${this.title}' does not have property ${e}`);let{client:i,form:o}=this.getClientFor(n.forms,"writeproperty",y.PropertyAffordance,r);if(!o)throw new Error(`ConsumedThing '${this.title}' did not get suitable form`);if(!i)throw new Error(`ConsumedThing '${this.title}' did not get suitable client for ${o.href}`);p(`ConsumedThing '${this.title}' writing ${o.href} with '${t}'`);const s=f.default.valueToContent(t,n,o.contentType);o=this.handleUriVariables(n,o,r),yield i.writeResource(o,s)}))}writeMultipleProperties(e,t){return s(this,void 0,void 0,(function*(){const t=[];for(const r in e){const n=e.get(r);t.push(this.writeProperty(r,n))}try{yield Promise.all(t)}catch(t){throw new Error(`ConsumedThing '${this.title}', failed to write multiple propertes: ${e}\n Error: ${t}`)}}))}invokeAction(e,t,r){var n;return s(this,void 0,void 0,(function*(){const i=this.actions[e];if(!i)throw new Error(`ConsumedThing '${this.title}' does not have action ${e}`);let o,{client:s,form:a}=this.getClientFor(i.forms,"invokeaction",y.ActionAffordance,r);if(!a)throw new Error(`ConsumedThing '${this.title}' did not get suitable form`);if(!s)throw new Error(`ConsumedThing '${this.title}' did not get suitable client for ${a.href}`);p(`ConsumedThing '${this.title}' invoking ${a.href}${void 0!==t?" with '"+t+"'":""}`),void 0!==t&&(o=f.default.valueToContent(t,i.input,a.contentType)),a=this.handleUriVariables(i,a,r);const c=yield s.invokeResource(a,o);if(c.type||(c.type=null!==(n=a.contentType)&&void 0!==n?n:"application/json"),a.response&&c.type!==a.response.contentType)throw new Error("Unexpected type in response");try{return new h.InteractionOutput(c,a,i.output)}catch(e){throw new Error("Received invalid content from Thing")}}))}observeProperty(e,t,r,n){return s(this,void 0,void 0,(function*(){const i=this.properties[e];if(!i)throw new Error(`ConsumedThing '${this.title}' does not have property ${e}`);let{client:o,form:s}=this.getClientFor(i.forms,"observeproperty",y.PropertyAffordance,n);if(!s)throw new Error(`ConsumedThing '${this.title}' did not get suitable form`);if(!o)throw new Error(`ConsumedThing '${this.title}' did not get suitable client for ${s.href}`);if(this.observedProperties.has(e))throw new Error(`ConsumedThing '${this.title}' has already a function subscribed to ${e}. You can only observe once`);p(`ConsumedThing '${this.title}' observing to ${s.href}`),s=this.handleUriVariables(i,s,n),yield o.subscribeResource(s,(e=>{var r;e.type||(e.type=null!==(r=s.contentType)&&void 0!==r?r:"application/json");try{t(new h.InteractionOutput(e,s,i))}catch(e){b(`Error while processing observe event for ${i.title}`),b(e)}}),(e=>{null==r||r(e)}),(()=>{}));const a=new _(this,e,s);return this.observedProperties.set(e,a),a}))}subscribeEvent(e,t,r,n){return s(this,void 0,void 0,(function*(){const i=this.events[e];if(!i)throw new Error(`ConsumedThing '${this.title}' does not have event ${e}`);let{client:o,form:s}=this.getClientFor(i.forms,"subscribeevent",y.EventAffordance,n);if(!s)throw new Error(`ConsumedThing '${this.title}' did not get suitable form`);if(!o)throw new Error(`ConsumedThing '${this.title}' did not get suitable client for ${s.href}`);if(this.subscribedEvents.has(e))throw new Error(`ConsumedThing '${this.title}' has already a function subscribed to ${e}. You can only subscribe once`);p(`ConsumedThing '${this.title}' subscribing to ${s.href}`),s=this.handleUriVariables(i,s,n),yield o.subscribeResource(s,(e=>{var r;e.type||(e.type=null!==(r=s.contentType)&&void 0!==r?r:"application/json");try{t(new h.InteractionOutput(e,s,i.data))}catch(e){b(`Error while processing event for ${i.title}`),b(e)}}),(e=>{null==r||r(e)}),(()=>{}));const a=new S(this,e,s);return this.subscribedEvents.set(e,a),a}))}handleUriVariables(e,t,r){const n=l.parse(t.href),i=u.default.parseInteractionOptions(this,e,r).uriVariables,o=n.expand(null!=i?i:{});if(o!==t.href){const e=Object.assign({},t);e.href=o,t=e,p(`ConsumedThing '${this.title}' update form URI to ${t.href}`)}return t}}t.default=E},18326:function(e,t,r){var n=r(97866).Buffer,i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ContentSerdes=void 0;const o=i(r(13996)),s=i(r(65355)),a=i(r(52605)),c=i(r(45629)),u=r(95751),f=r(64455),l=r(20538),h=r(41861),{debug:d,warn:p}=(0,h.createLoggers)("core","content-serdes");class b{constructor(){this.codecs=new Map,this.offered=new Set}static get(){return this.instance||(this.instance=new b,this.instance.addCodec(new o.default,!0),this.instance.addCodec(new o.default("application/senml+json")),this.instance.addCodec(new s.default),this.instance.addCodec(new s.default("text/html")),this.instance.addCodec(new s.default("text/css")),this.instance.addCodec(new s.default("application/xml")),this.instance.addCodec(new s.default("application/xhtml+xml")),this.instance.addCodec(new s.default("image/svg+xml")),this.instance.addCodec(new a.default("image/png")),this.instance.addCodec(new a.default("image/gif")),this.instance.addCodec(new a.default("image/jpeg")),this.instance.addCodec(new c.default)),this.instance}static getMediaType(e){return e.split(";")[0].trim()}static getMediaTypeParameters(e){const t=e.split(";").slice(1),r={};return t.forEach((e=>{const t=e.indexOf("=");t>=0?r[e.substr(0,t).trim()]=e.substr(t+1).trim():r[e.trim()]=void 0})),r}addCodec(e,t=!1){b.get().codecs.set(e.getMediaType(),e),t&&b.get().offered.add(e.getMediaType())}getSupportedMediaTypes(){return Array.from(b.get().codecs.keys())}getOfferedMediaTypes(){return Array.from(b.get().offered)}isSupported(e){const t=b.getMediaType(e);return this.codecs.has(t)}contentToValue(e,t){if(void 0===e.type){if(!(e.body.byteLength>0))return;e.type=b.DEFAULT}const r=b.getMediaType(e.type),n=b.getMediaTypeParameters(e.type);return this.codecs.has(r)?(d(`ContentSerdes deserializing from ${e.type}`),this.codecs.get(r).bytesToValue(e.body,t,n)):(p(`ContentSerdes passthrough due to unsupported media type '${r}'`),e.body.toString())}valueToContent(e,t,r=b.DEFAULT){if(void 0===e&&p("ContentSerdes valueToContent got no value"),e instanceof l.ReadableStream)return{type:r,body:f.ProtocolHelpers.toNodeStream(e)};let i;const o=b.getMediaType(r),s=b.getMediaTypeParameters(r),a=this.codecs.get(o);return a?(d(`ContentSerdes serializing to ${r}`),i=a.valueToBytes(e,t,s)):(p(`ContentSerdes passthrough due to unsupported serialization format '${r}'`),i=n.from(null===e?"":e.toString())),{type:r,body:u.Readable.from([i])}}}t.ContentSerdes=b,b.DEFAULT="application/json",b.TD="application/td+json",b.JSON_LD="application/ld+json",t.default=b.get()},64455:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.createWarnLogger=t.createInfoLogger=t.createErrorLogger=t.createDebugLogger=t.createLoggers=t.ProtocolHelpers=t.Helpers=t.ExposedThing=t.ConsumedThing=t.NetconfCodec=t.NetconfOctetstreamCodecCodec=t.Base64Codec=t.TextCodec=t.JsonCodec=t.Servient=void 0;const s=o(r(15203));t.Servient=s.default,t.default=s.default,i(r(18326),t);var a=r(13996);Object.defineProperty(t,"JsonCodec",{enumerable:!0,get:function(){return o(a).default}});var c=r(65355);Object.defineProperty(t,"TextCodec",{enumerable:!0,get:function(){return o(c).default}});var u=r(52605);Object.defineProperty(t,"Base64Codec",{enumerable:!0,get:function(){return o(u).default}});var f=r(45629);Object.defineProperty(t,"NetconfOctetstreamCodecCodec",{enumerable:!0,get:function(){return o(f).default}});var l=r(33089);Object.defineProperty(t,"NetconfCodec",{enumerable:!0,get:function(){return o(l).default}}),i(r(80291),t);var h=r(1639);Object.defineProperty(t,"ConsumedThing",{enumerable:!0,get:function(){return o(h).default}});var d=r(34891);Object.defineProperty(t,"ExposedThing",{enumerable:!0,get:function(){return o(d).default}});var p=r(71239);Object.defineProperty(t,"Helpers",{enumerable:!0,get:function(){return o(p).default}});var b=r(83139);Object.defineProperty(t,"ProtocolHelpers",{enumerable:!0,get:function(){return o(b).default}});var y=r(41861);Object.defineProperty(t,"createLoggers",{enumerable:!0,get:function(){return y.createLoggers}}),Object.defineProperty(t,"createDebugLogger",{enumerable:!0,get:function(){return y.createDebugLogger}}),Object.defineProperty(t,"createErrorLogger",{enumerable:!0,get:function(){return y.createErrorLogger}}),Object.defineProperty(t,"createInfoLogger",{enumerable:!0,get:function(){return y.createInfoLogger}}),Object.defineProperty(t,"createWarnLogger",{enumerable:!0,get:function(){return y.createWarnLogger}})},61546:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DataSchemaError=t.NotSupportedError=t.NotReadableError=void 0;class r extends Error{constructor(e){super(e),Object.setPrototypeOf(this,r.prototype)}}t.NotReadableError=r;class n extends Error{constructor(e){super(e),Object.setPrototypeOf(this,n.prototype)}}t.NotSupportedError=n;class i extends Error{constructor(e,t){super(e),this.value=t,Object.setPrototypeOf(this,n.prototype)}}t.DataSchemaError=i},34891:function(e,t,r){var n=r(97866).Buffer,i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&i(t,e,r);return o(t,e),t},a=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const u=r(31377),f=s(r(54022)),l=c(r(71239)),h=r(10407),d=r(95751),p=c(r(83139)),b=r(20538),y=c(r(18326)),m=c(r(8924)),v=r(41861),{debug:g}=(0,v.createLoggers)("core","exposed-thing");class w extends f.Thing{constructor(e,t={}){var r,n;super(),this.__propertyHandlers=new Map,this.__actionHandlers=new Map,this.__eventHandlers=new Map,this.__propertyListeners=new m.default,this.__eventListeners=new m.default,this.getServient=()=>e,this.getSubjectTD=(new class{constructor(){this.subjectTDChange=new u.Subject,this.getSubject=()=>this.subjectTDChange}}).getSubject,this.id=null!==(r=t.id)&&void 0!==r?r:"",this.title=null!==(n=t.title)&&void 0!==n?n:"",this.security="",this.securityDefinitions={},this.properties={},this.actions={},this.events={};const i=JSON.parse(JSON.stringify(t));Object.assign(this,i),f.setContextLanguage(this,f.DEFAULT_CONTEXT_LANGUAGE,!1)}getThingDescription(){return JSON.parse(f.serializeTD(this),((e,t)=>{if("__propertyHandlers"!==e&&"__actionHandlers"!==e&&"__eventHandlers"!==e&&"__propertyListeners"!==e&&"__eventListeners"!==e)return t}))}emitEvent(e,t){if(!this.events[e])throw new Error("NotFoundError for event '"+e+"'");{const r=this.events[e];this.__eventListeners.notify(r,t,r.data)}}emitPropertyChange(e){var t;return a(this,void 0,void 0,(function*(){if(!this.properties[e])throw new Error("NotFoundError for property '"+e+"'");{const r=this.properties[e],n=null===(t=this.__propertyHandlers.get(e))||void 0===t?void 0:t.readHandler;if(!n)throw new Error("Can't read property readHandler is not defined. Did you forget to register a readHandler?");const i=yield n();this.__propertyListeners.notify(r,i,r)}}))}expose(){return g(`ExposedThing '${this.title}' exposing all Interactions and TD`),new Promise(((e,t)=>{this.getServient().expose(this).then((()=>{this.getSubjectTD().next(this.getThingDescription()),e()})).catch((e=>t(e)))}))}destroy(){return a(this,void 0,void 0,(function*(){g(`ExposedThing '${this.title}' destroying the thing and its interactions`),yield this.getServient().destroyThing(this.id),this.__eventListeners.unregisterAll(),this.__propertyListeners.unregisterAll(),this.__eventHandlers.clear(),this.__propertyHandlers.clear(),this.__eventHandlers.clear(),this.getSubjectTD().next()}))}setPropertyReadHandler(e,t){if(g(`ExposedThing '${this.title}' setting read handler for '${e}'`),!this.properties[e])throw new Error(`ExposedThing '${this.title}' has no Property '${e}'`);if(this.properties[e].writeOnly)throw new Error(`ExposedThing '${this.title}' cannot set read handler for property '${e}' due to writeOnly flag`);{let r=this.__propertyHandlers.get(e);r?r.readHandler=t:r={readHandler:t},this.__propertyHandlers.set(e,r)}return this}setPropertyWriteHandler(e,t){if(g(`ExposedThing '${this.title}' setting write handler for '${e}'`),!this.properties[e])throw new Error(`ExposedThing '${this.title}' has no Property '${e}'`);if(this.properties[e].readOnly)throw new Error(`ExposedThing '${this.title}' cannot set write handler for property '${e}' due to readOnly flag`);{let r=this.__propertyHandlers.get(e);r?r.writeHandler=t:r={writeHandler:t},this.__propertyHandlers.set(e,r)}return this}setPropertyObserveHandler(e,t){if(g(`ExposedThing '${this.title}' setting property observe handler for '${e}'`),!this.properties[e])throw new Error(`ExposedThing '${this.title}' has no Property '${e}'`);if(!this.properties[e].observable)throw new Error(`ExposedThing '${this.title}' cannot set observe handler for property '${e}' since the observable flag is set to false`);{let r=this.__propertyHandlers.get(e);r?r.observeHandler=t:r={observeHandler:t},this.__propertyHandlers.set(e,r)}return this}setPropertyUnobserveHandler(e,t){if(g(`ExposedThing '${this.title}' setting property unobserve handler for '${e}'`),!this.properties[e])throw new Error(`ExposedThing '${this.title}' has no Property '${e}'`);if(!this.properties[e].observable)throw new Error(`ExposedThing '${this.title}' cannot set unobserve handler for property '${e}' due to missing observable flag`);{let r=this.__propertyHandlers.get(e);r?r.unobserveHandler=t:r={unobserveHandler:t},this.__propertyHandlers.set(e,r)}return this}setActionHandler(e,t){if(g(`ExposedThing '${this.title}' setting action handler for '${e}'`),!this.actions[e])throw new Error(`ExposedThing '${this.title}' has no Action '${e}'`);return this.__actionHandlers.set(e,t),this}setEventSubscribeHandler(e,t){if(g(`ExposedThing '${this.title}' setting event subscribe handler for '${e}'`),!this.events[e])throw new Error(`ExposedThing '${this.title}' has no Event '${e}'`);{let r=this.__eventHandlers.get(e);r?r.subscribe=t:r={subscribe:t},this.__eventHandlers.set(e,r)}return this}setEventUnsubscribeHandler(e,t){if(g(`ExposedThing '${this.title}' setting event unsubscribe handler for '${e}'`),!this.events[e])throw new Error(`ExposedThing '${this.title}' has no Event '${e}'`);{let r=this.__eventHandlers.get(e);r?r.unsubscribe=t:r={unsubscribe:t},this.__eventHandlers.set(e,r)}return this}setEventHandler(e,t){if(g(`ExposedThing '${this.title}' setting event handler for '${e}'`),!this.events[e])throw new Error(`ExposedThing '${this.title}' has no Event '${e}'`);{let r=this.__eventHandlers.get(e);r?r.handler=t:r={handler:t},this.__eventHandlers.set(e,r)}return this}handleInvokeAction(e,t,r){return a(this,void 0,void 0,(function*(){if(!this.actions[e])throw new Error(`ExposedThing '${this.title}', no action found for '${e}'`);{g(`ExposedThing '${this.title}' has Action state of '${e}'`);const n=this.__actionHandlers.get(e);if(null==n)throw new Error(`ExposedThing '${this.title}' has no handler for Action '${e}'`);{g(`ExposedThing '${this.title}' calls registered handler for Action '${e}'`),l.default.validateInteractionOptions(this,this.actions[e],r);const i=this.actions[e].forms?this.actions[e].forms[r.formIndex]:{contentType:"application/json"},o=yield n(new h.InteractionOutput(t,i,this.actions[e].input),r);if(o)return y.default.valueToContent(o,this.actions[e].output,i.contentType)}}}))}handleReadProperty(e,t){var r,n;return a(this,void 0,void 0,(function*(){if(this.properties[e]){g(`ExposedThing '${this.title}' has Action state of '${e}'`);const i=null===(r=this.__propertyHandlers.get(e))||void 0===r?void 0:r.readHandler;if(null!=i){g(`ExposedThing '${this.title}' calls registered readHandler for Property '${e}'`),l.default.validateInteractionOptions(this,this.properties[e],t);const r=yield i(t),o=this.properties[e].forms?this.properties[e].forms[t.formIndex]:{contentType:"application/json"};return y.default.valueToContent(r,this.properties[e],null!==(n=null==o?void 0:o.contentType)&&void 0!==n?n:"application/json")}throw new Error(`ExposedThing '${this.title}' has no readHandler for Property '${e}'`)}throw new Error(`ExposedThing '${this.title}', no property found for '${e}'`)}))}_handleReadProperties(e,t){return a(this,void 0,void 0,(function*(){const r=[];for(const n of e)this.properties[n].forms.find((e=>"application/json"===e.contentType||!e.contentType))&&r.push(this.handleReadProperty(n,t));try{const t=new Map,n=yield Promise.all(r);for(let r=0;r<n.length;r++)t.set(e[r],n[r]);return t}catch(t){throw new Error(`ConsumedThing '${this.title}', failed to read properties: ${e}.\n Error: ${t}`)}}))}handleReadAllProperties(e){return a(this,void 0,void 0,(function*(){const t=[];for(const e in this.properties)t.push(e);return yield this._handleReadProperties(t,e)}))}handleReadMultipleProperties(e,t){return a(this,void 0,void 0,(function*(){return yield this._handleReadProperties(e,t)}))}handleWriteProperty(e,t,r){var n;return a(this,void 0,void 0,(function*(){if(!this.properties[e])throw new Error(`ExposedThing '${this.title}', no property found for '${e}'`);{if(this.properties[e].readOnly&&!0===this.properties[e].readOnly)throw new Error(`ExposedThing '${this.title}', property '${e}' is readOnly`);l.default.validateInteractionOptions(this,this.properties[e],r);const i=null===(n=this.__propertyHandlers.get(e))||void 0===n?void 0:n.writeHandler,o=this.properties[e].forms?this.properties[e].forms[r.formIndex]:{};if(null==i)throw new Error(`ExposedThing '${this.title}' has no writeHandler for Property '${e}'`);yield i(new h.InteractionOutput(t,o,this.properties[e]),r)}}))}handleWriteMultipleProperties(e,t){return a(this,void 0,void 0,(function*(){const r=[];for(const n in e)this.properties[n].forms.find((e=>"application/json"===e.contentType||!e.contentType))&&r.push(this.handleWriteProperty(n,e.get(n),t));try{yield Promise.all(r)}catch(e){throw new Error(`ExposedThing '${this.title}', failed to write multiple properties. ${e.message}`)}}))}handleSubscribeEvent(e,t,r){var n;return a(this,void 0,void 0,(function*(){if(!this.events[e])throw new Error(`ExposedThing '${this.title}', no event found for '${e}'`);{l.default.validateInteractionOptions(this,this.events[e],r);const i=p.default.getFormIndexForOperation(this.events[e],"event","subscribeevent",r.formIndex);if(-1===i)throw new Error(`ExposedThing '${this.title}', no property listener from found for '${e}' with form index '${r.formIndex}'`);this.__eventListeners.register(this.events[e],i,t),g(`ExposedThing '${this.title}' subscribes to event '${e}'`);const o=null===(n=this.__eventHandlers.get(e))||void 0===n?void 0:n.subscribe;o&&(yield o(r)),g(`ExposedThing '${this.title}' subscribes to event '${e}'`)}}))}handleUnsubscribeEvent(e,t,r){var n;if(!this.events[e])throw new Error(`ExposedThing '${this.title}', no event found for '${e}'`);{l.default.validateInteractionOptions(this,this.events[e],r);const i=p.default.getFormIndexForOperation(this.events[e],"event","unsubscribeevent",r.formIndex);if(-1===i)throw new Error(`ExposedThing '${this.title}', no event listener from found for '${e}' with form index '${r.formIndex}'`);this.__eventListeners.unregister(this.events[e],i,t);const o=null===(n=this.__eventHandlers.get(e))||void 0===n?void 0:n.unsubscribe;o&&o(r),g(`ExposedThing '${this.title}' unsubscribes from event '${e}'`)}}handleObserveProperty(e,t,r){var n;return a(this,void 0,void 0,(function*(){if(!this.properties[e])throw new Error(`ExposedThing '${this.title}', no property found for '${e}'`);{l.default.validateInteractionOptions(this,this.properties[e],r);const i=p.default.getFormIndexForOperation(this.properties[e],"property","observeproperty",r.formIndex);if(-1===i)throw new Error(`ExposedThing '${this.title}', no property listener from found for '${e}' with form index '${r.formIndex}'`);this.__propertyListeners.register(this.properties[e],i,t),g(`ExposedThing '${this.title}' subscribes to property '${e}'`);const o=null===(n=this.__propertyHandlers.get(e))||void 0===n?void 0:n.observeHandler;o&&(yield o(r))}}))}handleUnobserveProperty(e,t,r){var n;if(!this.properties[e])throw new Error(`ExposedThing '${this.title}', no property found for '${e}'`);{l.default.validateInteractionOptions(this,this.properties[e],r);const i=p.default.getFormIndexForOperation(this.properties[e],"property","unobserveproperty",r.formIndex);if(-1===i)throw new Error(`ExposedThing '${this.title}', no property listener from found for '${e}' with form index '${r.formIndex}'`);this.__propertyListeners.unregister(this.properties[e],i,t);const o=null===(n=this.__propertyHandlers.get(e))||void 0===n?void 0:n.unobserveHandler;o&&o(r)}}static interactionInputToReadable(e){let t;return t="undefined"!=typeof ReadableStream&&e instanceof ReadableStream||e instanceof b.ReadableStream?p.default.toNodeStream(e):Array.isArray(e)||"object"==typeof e?d.Readable.from(n.from(JSON.stringify(e),"utf-8")):d.Readable.from(n.from(e.toString(),"utf-8")),t}}t.default=w},71239:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t},s=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const c=o(r(14068)),u=o(r(54022)),f=r(18326),l=r(64455),h=a(r(45982)),d=a(r(4535)),p=r(54022),b=r(41861),{debug:y,error:m,warn:v}=(0,b.createLoggers)("core","helpers"),g=d.default,w=new h.default({strict:!1}).addFormat("iri-reference",/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i).addFormat("uri",/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/).addFormat("date-time",/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/);class _{constructor(e){this.srv=e}static extractScheme(e){const t=new URL(e);if(y(t),null===t.protocol)throw new Error(`Protocol in url "${e}" must be valid`);const r=t.protocol.slice(0,-1);return y(`Helpers found scheme '${r}'`),r}static setStaticAddress(e){_.staticAddress=e}static getAddresses(){var e;const t=[];if(void 0!==_.staticAddress)return t.push(_.staticAddress),y(`AddressHelper uses static ${t}`),t;{const r=c.networkInterfaces();for(const n in r)null===(e=r[n])||void 0===e||e.forEach((e=>{y(`AddressHelper found ${e.address}`),!1===e.internal&&("IPv4"===e.family?t.push(e.address):0===e.scopeid&&t.push(_.toUriLiteral(e.address)))}));return 0===t.length&&t.push("localhost"),y(`AddressHelper identified ${t}`),t}}static toUriLiteral(e){return e?(-1!==e.indexOf(":")&&(e=`[${e}]`),e):(m(`AddressHelper received invalid address '${e}'`),"{invalid address}")}static generateUniqueName(e){const t=e.match(/.+_([0-9]+)$/);return null!==t?e.slice(0,-t[1].length)+(1+parseInt(t[1])):e+"_2"}static toStringArray(e){return e?"string"==typeof e?[e]:e:[]}fetch(e){return new Promise(((t,r)=>{const n=this.srv.getClientFor(_.extractScheme(e));y(`WoTImpl fetching TD from '${e}' with ${n}`),n.readResource(new u.Form(e,f.ContentSerdes.TD)).then((n=>s(this,void 0,void 0,(function*(){n.type!==f.ContentSerdes.TD&&n.type!==f.ContentSerdes.JSON_LD&&v(`WoTImpl received TD with media type '${n.type}' from ${e}`);const i=(yield l.ProtocolHelpers.readStreamFully(n.body)).toString("utf-8");try{const e=JSON.parse(i);t(e)}catch(t){r(new Error(`WoTImpl fetched invalid JSON from '${e}': ${t instanceof Error?t.message:t}`))}})))).then((e=>s(this,void 0,void 0,(function*(){return yield n.stop(),e})))).catch((e=>{r(e)}))}))}static extend(e,t){const r={};for(const t in e)r[t]=e[t];for(const e in t)Object.prototype.hasOwnProperty.call(r,e)||(r[e]=t[e]);return r}static parseInteractionOutput(e){return s(this,void 0,void 0,(function*(){try{return yield e.value()}catch(e){throw m("parseInteractionOutput low-level stream not implemented"),new Error("parseInteractionOutput low-level stream not implemented")}}))}static createExposeThingInitSchema(e){const t=JSON.parse(JSON.stringify(e));if(void 0!==t.required){const e=["title","@context","instance","forms","security","href","securityDefinitions"];if(Array.isArray(t.required)){const r=t.required;t.required=r.filter((t=>!e.includes(t)))}else"string"==typeof t.required&&-1!==e.indexOf(t.required)&&delete t.required}if(void 0!==t.definitions)for(const e in t.definitions)t.definitions[e]=this.createExposeThingInitSchema(t.definitions[e]);return t}static validateExposedThingInit(e){var t;if("tm:ThingModel"===e["@type"]||p.ThingModelHelpers.isThingModel(e))return{valid:!1,errors:"ThingModel declaration is not supported"};const r=_.tsSchemaValidator(e);let n;return r||(n=null===(t=_.tsSchemaValidator.errors)||void 0===t?void 0:t.map((e=>e.message)).join("\n")),{valid:r,errors:n}}static parseInteractionOptions(e,t,r){var n,i;if(!this.validateInteractionOptions(e,t,r))throw new Error(`CoreHelpers one or more uriVariables were not found under neither '${t.title}' Thing Interaction nor '${e.title}' Thing`);const o=null!==(n=t.uriVariables)&&void 0!==n?n:{},s=null!==(i=e.uriVariables)&&void 0!==i?i:{},a={};(null==r?void 0:r.uriVariables)?Object.entries(r.uriVariables).forEach((e=>{e[0]in o&&(a[e[0]]=e[1])})):r={uriVariables:{}};for(const e in s){const t=s[e];!(e in a)&&"default"in t&&(a[e]=t.default)}return r.uriVariables=a,r}static validateInteractionOptions(e,t,r){var n,i;const o=null!==(n=t.uriVariables)&&void 0!==n?n:{},s=null!==(i=e.uriVariables)&&void 0!==i?i:{};if(null==r?void 0:r.uriVariables){const e=Object.entries(r.uriVariables);for(let t=0;t<e.length;t++){const r=e[t];if(!(r[0]in o)&&!(r[0]in s))return!1}}return!0}static parseUrlParameters(e,t,r){const n={};if(null==e||!r&&!t)return n;const i=e.split("?")[1];return null==i||(-1!==i.indexOf("&")?i.split("&"):[i]).forEach((e=>{const i=e.split("="),o=decodeURIComponent(i[0]),s=decodeURIComponent(i.length>1?i[1]:"");r&&r[o]?"integer"===r[o].type||"number"===r[o].type?n[o]=+s:n[o]=s:t&&t[o]&&("integer"===t[o].type||"number"===t[o].type?n[o]=+s:n[o]=s)})),n}}t.default=_,_.tsSchemaValidator=w.compile(_.createExposeThingInitSchema(g)),_.staticAddress=void 0},10407:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t},s=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.InteractionOutput=void 0;const c=o(r(85130)),u=r(18326),f=r(64455),l=r(61546),h=a(r(45982)),d=r(41861),{debug:p}=(0,d.createLoggers)("core","interaction-output"),b=new h.default({strict:!1});t.InteractionOutput=class{constructor(e,t,r){this.content=e,this.form=t,this.schema=r,this.dataUsed=!1}get data(){if(this._stream)return this._stream;if(this.dataUsed)throw new Error("Can't read the stream once it has been already used");return this.dataUsed=!0,this._stream=f.ProtocolHelpers.toWoTStream(this.content.body)}arrayBuffer(){return s(this,void 0,void 0,(function*(){if(this.buffer)return this.buffer;if(this.dataUsed)throw new Error("Can't read the stream once it has been already used");const e=yield f.ProtocolHelpers.readStreamFully(this.content.body);return this.dataUsed=!0,this.buffer=e,e}))}value(){var e;return s(this,void 0,void 0,(function*(){if(this.parsedValue)return this.parsedValue;if(this.dataUsed)throw new Error("Can't read the stream once it has been already used");if(!this.form||!u.ContentSerdes.get().isSupported(this.content.type)){const e=this.form?`Content type ${this.content.type} not supported`:"Missing form";throw new l.NotSupportedError(e)}const t=yield f.ProtocolHelpers.readStreamFully(this.content.body);this.dataUsed=!0,this.buffer=t;const r=u.ContentSerdes.get().contentToValue({type:this.content.type,body:t},null!==(e=this.schema)&&void 0!==e?e:{});if(this.schema){const e=b.compile(this.schema);if(!e(r))throw p(`schema = ${c.inspect(this.schema,{depth:10,colors:!0})}`),p(`value: ${r}`),p(`Errror: ${e.errors}`),new l.DataSchemaError("Invalid value according to DataSchema",r)}return this.parsedValue=r,this.parsedValue}))}}},41861:function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.createLoggers=t.createErrorLogger=t.createWarnLogger=t.createDebugLogger=t.createInfoLogger=void 0;const i=n(r(85687));var o;function s(e,t){const r=["node-wot",...e,o[t]].join(":");return(0,i.default)(r)}function a(...e){return s(e,o.info)}function c(...e){return s(e,o.debug)}function u(...e){return s(e,o.warn)}function f(...e){return s(e,o.error)}!function(e){e[e.info=0]="info",e[e.debug=1]="debug",e[e.warn=2]="warn",e[e.error=3]="error"}(o||(o={})),t.createInfoLogger=a,t.createDebugLogger=c,t.createWarnLogger=u,t.createErrorLogger=f,t.createLoggers=function(...e){return{info:a(...e),debug:c(...e),warn:u(...e),error:f(...e)}}},83139:(e,t,r)=>{var n=r(97866).Buffer;Object.defineProperty(t,"__esModule",{value:!0});const i=r(95751),o=r(20538),s=r(41861),{debug:a}=(0,s.createLoggers)("core","protocol-helpers");function c(e){return class extends e{set nodeStream(e){this._nodeStream=e}get nodeStream(){if(!this._nodeStream)throw new Error("ManagedStream not correctly initialized nodeStream is undefined");return this._nodeStream}set wotStream(e){this._wotStream=e}get wotStream(){if(!this._wotStream)throw new Error("ManagedStream not correctly initialized wotStream is undefined");return this._wotStream}}}const u=c(i.Readable),f=c(o.ReadableStream);function l(e){return e instanceof f||e instanceof u}t.default=class{static updatePropertyFormWithTemplate(e,t){var r;for(const n of null!==(r=t.forms)&&void 0!==r?r:[])if(n.href,n.contentType)return void(e.contentType=n.contentType)}static updateActionFormWithTemplate(e,t){var r;for(const n of null!==(r=t.forms)&&void 0!==r?r:[])if(n.href,n.contentType)return void(e.contentType=n.contentType)}static updateEventFormWithTemplate(e,t){var r;for(const n of null!==(r=t.forms)&&void 0!==r?r:[])if(n.href,n.contentType)return void(e.contentType=n.contentType)}static getPropertyContentType(e,t,r){if(e&&t&&r&&e.properties&&e.properties[t]&&e.properties[t].forms&&Array.isArray(e.properties[t].forms))for(const n of e.properties[t].forms)if(n.href&&n.href.startsWith(r)&&n.contentType)return n.contentType}static getActionContentType(e,t,r){if(e&&t&&r&&e.actions&&e.actions[t]&&e.actions[t].forms&&Array.isArray(e.actions[t].forms))for(const n of e.actions[t].forms)if(n.href&&n.href.startsWith(r)&&n.contentType)return n.contentType}static getEventContentType(e,t,r){if(e&&t&&r&&e.events&&e.events[t]&&e.events[t].forms&&Array.isArray(e.events[t].forms))for(const n of e.events[t].forms)if(n.href&&n.href.startsWith(r)&&n.contentType)return n.contentType}static toWoTStream(e){if(l(e))return e.wotStream;const t=new f({start:t=>{e.on("data",(e=>t.enqueue(e))),e.on("error",(e=>t.error(e))),e.on("end",(()=>t.close()))},cancel:t=>{e instanceof i.Readable&&e.destroy(t)}});return e instanceof i.Readable?t.nodeStream=e:t.nodeStream=new i.Readable(e),t}static toNodeStream(e){if(l(e))return e.nodeStream;if(e instanceof i.Readable)return e;const t=e.getReader(),r=new u({read:e=>{t.read().then((e=>{r.push(e.value),e.done&&r.push(null)}))},destroy:(r,n)=>{t.releaseLock(),e.cancel(r).then((()=>n(r)))}});return r.wotStream=e,r.nodeStream=r,r}static readStreamFully(e){return new Promise(((t,r)=>{if(e){const i=[];e.on("data",(e=>i.push(e))),e.on("error",r),e.on("end",(()=>{i[0]&&(i[0]instanceof Array||i[0]instanceof n||i[0]instanceof Uint8Array)?t(n.concat(i)):i[0]&&"string"==typeof i[0]?t(n.from(i.join())):t(n.from(i))}))}else a("Protocol-Helper returns empty buffer for readStreamFully due to undefined stream"),t(n.alloc(0))}))}static findRequestMatchingFormIndex(e,t,r,n){if(void 0===e)return 0;let i=e.filter((e=>{const n=new URL(e.href.replace(/(\{[\S]*\})/,"")),i=void 0!==r?-1!==r.indexOf("?")?r.split("?")[0]:r:void 0;return n.protocol===t+":"&&(void 0===i||n.pathname===i)}));if(n){const e=i.filter((e=>e.contentType===n));e.length>0&&(i=e)}return i.length>0?e.indexOf(i[0]):0}static getFormIndexForOperation(e,t,r,n){var i;let o=-1,s=[];switch(t){case"property":if(e.readOnly&&"writeproperty"===r||e.writeOnly&&"readproperty"===r)return o;void 0!==e.readOnly&&e.readOnly||s.push("writeproperty"),void 0!==e.writeOnly&&e.writeOnly||s.push("readproperty");break;case"action":s=["invokeaction"];break;case"event":s=["subscribeevent","unsubscribeevent"]}if(-1!==s.indexOf(r)&&(r=void 0),void 0!==e.forms&&void 0!==n&&e.forms.length>n){const t=e.forms[n];t&&(void 0===r||(null===(i=t.op)||void 0===i?void 0:i.includes(r)))&&(o=n)}return void 0!==e.forms&&-1===o&&(void 0!==r?e.forms.every((t=>{var n;return(null===(n=t.op)||void 0===n?void 0:n.includes(r))&&(o=e.forms.indexOf(t)),-1===o})):e.forms.every((t=>(o=e.forms.indexOf(t),!1)))),o}}},80291:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0})},8924:function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(r(18326));class o{constructor(){this.listeners=new Map}register(e,t,r){if(!e.forms[t])throw new Error("Can't register the listener for affordance with formIndex. The affordance does not contain the form");let n=this.listeners.get(e);n||(n=new Map,this.listeners.set(e,n));let i=n.get(t);i||(i=[],n.set(t,i)),i.push(r)}unregister(e,t,r){const n=this.listeners.get(e);if(!n)throw new Error("Not found");const i=n.get(t);if(!i)throw new Error("Form not found");const o=i.indexOf(r);if(o<0)throw new Error("Form not found");i.splice(o,1)}unregisterAll(){this.listeners.clear()}notify(e,t,r,n){var s;const a=null!==(s=this.listeners.get(e))&&void 0!==s?s:o.EMPTY_MAP;if(void 0!==n){const o=a.get(n);if(o){const s=e.forms[n].contentType,a=i.default.valueToContent(t,r,s);return void o.forEach((e=>e(a)))}}for(const[n,o]of a){const s=e.forms[n].contentType,a=i.default.valueToContent(t,r,s);o.forEach((e=>e(a)))}}}t.default=o,o.EMPTY_MAP=new Map},15203:function(e,t,r){var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(r(92368)),s=i(r(18326)),a=r(15743),c=r(41861),{debug:u,warn:f}=(0,c.createLoggers)("core","servient");t.default=class{constructor(){this.servers=[],this.clientFactories=new Map,this.things=new Map,this.credentialStore=new Map}addMediaType(e,t=!1){s.default.addCodec(e,t)}expose(e){if(0===this.servers.length)return f("Servient has no servers to expose Things"),new Promise((e=>{e()}));u(`Servient exposing '${e.title}'`);const t=JSON.parse(JSON.stringify(e));e.forms=[];for(const t in e.properties)e.properties[t].forms=[];for(const t in e.actions)e.actions[t].forms=[];for(const t in e.events)e.events[t].forms=[];const r=[];return this.servers.forEach((n=>{r.push(n.expose(e,t))})),new Promise(((e,t)=>{Promise.all(r).then((()=>e())).catch((e=>t(e)))}))}addThing(e){return e.id||(e.id="urn:uuid:"+(0,a.v4)(),f(`Servient generating ID for '${e.title}': '${e.id}'`)),!this.things.has(e.id)&&(this.things.set(e.id,e),u(`Servient reset ID '${e.id}' with '${e.title}'`),!0)}destroyThing(e){return new Promise(((t,r)=>{if(this.things.has(e)){u(`Servient destroying thing with id '${e}'`),this.things.delete(e);const n=[];this.servers.forEach((t=>{n.push(t.destroy(e))})),Promise.all(n).then((()=>t(!0))).catch((e=>r(e)))}else f(`Servient was asked to destroy thing but failed to find thing with id '${e}'`),t(!1)}))}getThing(e){return this.things.has(e)?this.things.get(e):void 0}getThings(){u(`Servient getThings size == '${this.things.size}'`);const e={};return this.things.forEach(((t,r)=>{e[r]=t.getThingDescription()})),e}addServer(e){return this.things.forEach(((t,r)=>e.expose(t))),this.servers.push(e),!0}getServers(){return this.servers.slice(0)}addClientFactory(e){this.clientFactories.set(e.scheme,e)}hasClientFor(e){return u(`Servient checking for '${e}' scheme in ${this.clientFactories.size} ClientFactories`),this.clientFactories.has(e)}getClientFor(e){const t=this.clientFactories.get(e);if(t)return u(`Servient creating client for scheme '${e}'`),t.getClient();throw new Error(`Servient has no ClientFactory for scheme '${e}'`)}getClientSchemes(){return Array.from(this.clientFactories.keys())}addCredentials(e){if("object"==typeof e)for(const t in e){u(`Servient storing credentials for '${t}'`);let r=this.credentialStore.get(t);r||(r=[],this.credentialStore.set(t,r)),r.push(e[t])}}getCredentials(e){u(`Servient looking up credentials for '${e}' (@deprecated)`);const t=this.credentialStore.get(e);return t&&t.length>0?t[0]:void 0}retrieveCredentials(e){return u(`Servient looking up credentials for '${e}'`),this.credentialStore.get(e)}start(){return n(this,void 0,void 0,(function*(){const e=[];return this.servers.forEach((t=>e.push(t.start(this)))),this.clientFactories.forEach((e=>e.init())),yield Promise.all(e),new o.default(this)}))}shutdown(){return n(this,void 0,void 0,(function*(){this.clientFactories.forEach((e=>e.destroy()));const e=this.servers.map((e=>e.stop()));yield Promise.all(e)}))}}},92368:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t},s=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.DataType=t.DiscoveryMethod=t.ThingDiscoveryImpl=void 0;const c=o(r(54022)),u=a(r(34891)),f=a(r(1639)),l=a(r(71239)),h=r(41861),{debug:d}=(0,h.createLoggers)("core","wot-impl");class p{constructor(e){this.filter=e,this.active=!1,this.done=!1,this.error=new Error("not implemented")}start(){this.active=!0}next(){return new Promise(((e,t)=>{t(this.error)}))}stop(){this.active=!1,this.done=!1}}var b,y;t.ThingDiscoveryImpl=p,function(e){e[e.any=0]="any",e[e.local=1]="local",e[e.directory=2]="directory",e[e.multicast=3]="multicast"}(b=t.DiscoveryMethod||(t.DiscoveryMethod={})),t.default=class{constructor(e){this.srv=e,this.DiscoveryMethod=b}discover(e){return new p(e)}consume(e){return s(this,void 0,void 0,(function*(){try{const t=c.parseTD(JSON.stringify(e),!0),r=new f.default(this.srv,t);return d(`WoTImpl consuming TD ${r.id?"'"+r.id+"'":"without id"} to instantiate ConsumedThing '${r.title}'`),r}catch(e){throw new Error(`Cannot consume TD because ${e instanceof Error?e.message:e}`)}}))}produce(e){return new Promise(((t,r)=>{try{const r=l.default.validateExposedThingInit(e);if(!r.valid)throw new Error("Thing Description JSON schema validation failed:\n"+r.errors);const n=new u.default(this.srv,e);if(d(`WoTImpl producing new ExposedThing '${n.title}'`),!this.srv.addThing(n))throw new Error("Thing already exists: "+n.title);t(n)}catch(e){r(new Error(`Cannot produce ExposedThing because " + ${e instanceof Error?e.message:e}`))}}))}},(y=t.DataType||(t.DataType={})).boolean="boolean",y.number="number",y.integer="integer",y.string="string",y.object="object",y.array="array",y.null="null"},68057:(e,t,r)=>{var n=r(97866).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(e){this.subMediaType=e}getMediaType(){return this.subMediaType}bytesToValue(e,t,r){return e.toString("ascii")}valueToBytes(e,t,r){let i="";return void 0!==e&&(i=JSON.stringify(e)),n.from(i,"base64")}}},60564:(e,t,r)=>{var n=r(97866).Buffer;Object.defineProperty(t,"__esModule",{value:!0});const i=r(51813),o=r(14675),{debug:s}=(0,o.createLoggers)("core","json-codec");t.default=class{constructor(e){this.subMediaType=e||i.ContentSerdes.DEFAULT}getMediaType(){return this.subMediaType}bytesToValue(e,t,r){let n;s(`JsonCodec parsing '${e.toString()}'`);try{n=JSON.parse(e.toString())}catch(t){if(!(t instanceof SyntaxError))throw t;n=0===e.byteLength?void 0:e.toString()}return n}valueToBytes(e,t,r){s("JsonCodec serializing",e);let i="";return void 0!==e&&(i=JSON.stringify(e)),n.from(i)}}},79212:(e,t,r)=>{var n=r(97866).Buffer;Object.defineProperty(t,"__esModule",{value:!0});const i=r(14675),{debug:o}=(0,i.createLoggers)("core","netconf-codec");t.default=class{getMediaType(){return"application/netconf"}bytesToValue(e,t,r){let n;o(`NetconfCodec parsing '${e.toString()}'`);try{n=JSON.parse(e.toString())}catch(t){if(!(t instanceof SyntaxError))throw t;n=0===e.byteLength?void 0:e.toString()}return n}valueToBytes(e,t,r){o("NetconfCodec serializing",e);let i="";if(void 0!==e){const r={},n=this.getPayloadNamespaces(t,e,r,!1);i=JSON.stringify(n)}return n.from(i)}getPayloadNamespaces(e,t,r,n){if(!e)throw new Error('Missing "schema" field in TD');if(n){const n=e.properties;if(!n)throw new Error('Missing "properties" field in TD');let i,o=!1,s="";for(const e in n){const a=n[e];if(!t[e])throw new Error(`Payload is missing '${e}' field specified in TD`);if(!0===a["nc:attribute"]&&t[e]){const n=t[e];s=n.split(":")[n.split(":").length-1],r[s]=t[e],o=!0}else t[e]&&(i=t[e])}if(o)return{payload:s+"\\:"+i,NSs:r};throw new Error("Namespace not found in the payload")}if(e&&e.type&&"object"===e.type&&e.properties){let n;n=e.properties&&e["nc:container"]?this.getPayloadNamespaces(e,t,r,!0):this.getPayloadNamespaces(e.properties,t,r,!1),t=n.payload,r=Object.assign(Object.assign({},r),n.NSs)}for(const i in e)if(e[i].type&&"object"===e[i].type||n){let n=!1;e[i].properties&&e[i]["nc:container"]&&(n=!0);const o=this.getPayloadNamespaces(e[i],t[i],r,n);t[i]=o.payload,r=Object.assign(Object.assign({},r),o.NSs)}return{payload:t,NSs:r}}}},32737:(e,t,r)=>{var n=r(97866).Buffer;Object.defineProperty(t,"__esModule",{value:!0});const i=r(27772),o=r(14675),{debug:s,warn:a}=(0,o.createLoggers)("core","octetstream-codec");t.default=class{getMediaType(){return"application/octet-stream"}bytesToValue(e,t,r={}){var n;s(`OctetstreamCodec parsing '${e.toString()}'`);const o="littleendian"!==r.byteorder;let c="false"!==r.signed;if(r.length&&parseInt(r.length)!==e.length)throw new Error("Lengths do not match, required: "+r.length+" provided: "+e.length);let u=e.length,f=t?t.type:"undefined";if(/(short|(u)?int(8|16|32)?$|float(16|32|64)?|byte)/.test(f.toLowerCase())){const t=/(u)?(short|int|float|byte)(8|16|32|64)?/.exec(f.toLowerCase());t&&(c=void 0===t[1],f=t[2],u=null!==(n=+t[3]/8)&&void 0!==n?n:e.length)}switch(f){case"boolean":return!e.every((e=>0===e));case"byte":case"short":case"int":case"integer":switch(u){case 1:return c?e.readInt8(0):e.readUInt8(0);case 2:return o?c?e.readInt16BE(0):e.readUInt16BE(0):c?e.readInt16LE(0):e.readUInt16LE(0);case 4:return o?c?e.readInt32BE(0):e.readUInt32BE(0):c?e.readInt32LE(0):e.readUInt32LE(0);default:{let t,r=0;return o?(r=e.reduce(((e,t)=>e<<8+t)),t=e.readInt8(0)<0):(r=e.reduceRight(((e,t)=>e<<8+t)),t=e.readInt8(u-1)<0),c&&t&&(r-=1<<8*u),Number.isSafeInteger(r)||a("Result is not a safe integer"),r}}case"float":case"double":case"number":switch(u){case 2:return(0,i.getFloat16)(new DataView(e.buffer),e.byteOffset,!o);case 4:return o?e.readFloatBE(0):e.readFloatLE(0);case 8:return o?e.readDoubleBE(0):e.readDoubleLE(0);default:throw new Error("Wrong buffer length for type 'number', must be 2, 4, 8, or is "+u)}case"string":return e.toString(r.charset);case"array":case"object":throw new Error("Unable to handle dataType "+f);case"null":return null;default:throw new Error("Unable to handle dataType "+f)}}valueToBytes(e,t,r={}){var o;s(`OctetstreamCodec serializing '${e}'`),r.length||a("Missing 'length' parameter necessary for write. I'll do my best");const c="littleendian"!==r.byteorder;let u,f="false"!==r.signed,l=r.length?parseInt(r.length):void 0;if(void 0===e)throw new Error("Undefined value");let h=t?t.type:"undefined";if(/(short|(u)?int(8|16|32)?$|float(16|32|64)?|byte)/.test(h.toLowerCase())){const e=/(u)?(short|int|float|byte)(8|16|32|64)?/.exec(h.toLowerCase());e&&(f=void 0===e[1],h=e[2],l=null!==(o=+e[3]/8)&&void 0!==o?o:l)}switch(h){case"boolean":return n.alloc(null!=l?l:1,e?255:0);case"byte":case"short":case"int":case"integer":{if(l=null!=l?l:4,"number"!=typeof e)throw new Error("Value is not a number");Number.isSafeInteger(e)||a("Value is not a safe integer");const t=Math.pow(2,8*l)-1;if(f){if(e<-t||e>=t)throw new Error("Integer overflow when representing signed "+e+" in "+l+" byte(s)")}else if(e<0||e>=t)throw new Error("Integer overflow when representing unsigned "+e+" in "+l+" byte(s)");switch(u=n.alloc(l),l){case 1:f?u.writeInt8(e,0):u.writeUInt8(e,0);break;case 2:c?f?u.writeInt16BE(e,0):u.writeUInt16BE(e,0):f?u.writeInt16LE(e,0):u.writeUInt16LE(e,0);break;case 4:c?f?u.writeInt32BE(e,0):u.writeUInt32BE(e,0):f?u.writeInt32LE(e,0):u.writeUInt32LE(e,0);break;default:f&&e<0&&(e+=1<<8*l);for(let t=0;t<l;++t){const r=e%256;e/=256,u.writeInt8(r,c?l-t-1:t)}}return u}case"float":case"number":if("number"!=typeof e)throw new Error("Value is not a number");switch(l=null!=l?l:8,u=n.alloc(l),l){case 2:(0,i.setFloat16)(new DataView(u.buffer),0,e,!c);break;case 4:c?u.writeFloatBE(e,0):u.writeFloatLE(e,0);break;case 8:c?u.writeDoubleBE(e,0):u.writeDoubleLE(e,0);break;default:throw new Error("Wrong buffer length for type 'number', must be 4 or 8, is "+l)}return u;case"string":{const t=String(e);return n.from(t)}case"array":case"object":case"undefined":default:throw new Error("Unable to handle dataType "+h);case"null":return n.alloc(0)}}}},5453:(e,t,r)=>{var n=r(97866).Buffer;Object.defineProperty(t,"__esModule",{value:!0});const i=r(14675),{debug:o}=(0,i.createLoggers)("core","text-codec");t.default=class{constructor(e){this.subMediaType=e||"text/plain"}getMediaType(){return this.subMediaType}bytesToValue(e,t,r){return o(`TextCodec parsing '${e.toString()}'`),e.toString(null==r?void 0:r.charset)}valueToBytes(e,t,r){o(`TextCodec serializing '${e}'`);let i,s="";if(void 0!==e&&(s=JSON.stringify(e)),r&&r.charset)switch(r.charset){case"ascii":i="ascii";break;case"utf8":i="utf8";break;case"utf-8":i="utf-8";break;case"utf16le":i="utf16le";break;case"ucs2":i="ucs2";break;case"ucs-2":i="ucs-2";break;case"base64":i="base64";break;case"latin1":i="latin1";break;case"binary":i="binary";break;case"hex":i="hex"}return i?n.from(s,i):n.from(s)}}},68027:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t},s=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const c=o(r(72915)),u=a(r(37447)),f=a(r(51813)),l=r(4310),h=r(17541),d=r(14675),{debug:p,warn:b}=(0,d.createLoggers)("core","consumed-thing");var y;!function(e){e[e.PropertyAffordance=0]="PropertyAffordance",e[e.ActionAffordance=1]="ActionAffordance",e[e.EventAffordance=2]="EventAffordance"}(y||(y={}));class m extends c.ThingProperty{constructor(e,t){super(),this.getName=()=>e,this.getThing=()=>t}}class v extends c.ThingAction{constructor(e,t){super(),this.getName=()=>e,this.getThing=()=>t}}class g extends c.ThingEvent{constructor(e,t){super(),this.getName=()=>e,this.getThing=()=>t}}class w{constructor(e,t){this.thing=e,this.name=t,this.active=!0}}class _ extends w{constructor(e,t,r){var n;super(e,t),this.form=r,this.active=!1;const i=null===(n=this.thing.properties)||void 0===n?void 0:n[t].forms.indexOf(r);if(void 0===i||i<0)throw new Error(`Could not find form ${r.href} in property ${t}`);this.formIndex=i}stop(e){return s(this,void 0,void 0,(function*(){yield this.unobserveProperty(e),this.thing.observedProperties.delete(this.name)}))}unobserveProperty(e={}){return s(this,void 0,void 0,(function*(){const t=this.thing.properties[this.name];if(!t)throw new Error(`ConsumedThing '${this.thing.title}' does not have property ${this.name}`);e.formIndex||(e.formIndex=this.matchingUnsubscribeForm());const{client:r,form:n}=this.thing.getClientFor(t.forms,"unobserveproperty",y.PropertyAffordance,e);if(!n)throw new Error(`ConsumedThing '${this.thing.title}' did not get suitable form`);if(!r)throw new Error(`ConsumedThing '${this.thing.title}' did not get suitable client for ${n.href}`);p(`ConsumedThing '${this.thing.title}' unobserving to ${n.href}`),yield r.unlinkResource(n),this.active=!1}))}matchingUnsubscribeForm(){const e=this.thing.properties[this.name].forms[this.formIndex];if(Array.isArray(e.op)&&e.op.includes("unobserveproperty"))return this.formIndex;const t=this.findFormIndexWithScoring(this.formIndex,this.thing.properties[this.name].forms,"unobserveproperty");if(-1===t)throw new Error("Could not find matching form for unsubscribe");return t}findFormIndexWithScoring(e,t,r){const n=t[e];let i=0,o=-1;for(let e=0;e<t.length;e++){let s=0;const a=t[e];(a.op===r||Array.isArray(a.op)&&a.op.includes(r))&&(s+=1),new URL(a.href).origin===new URL(n.href).origin&&(s+=1),a.contentType===n.contentType&&(s+=1),s>i&&(i=s,o=e)}return o}}class S extends w{constructor(e,t,r){var n;super(e,t),this.form=r;const i=null===(n=this.thing.events)||void 0===n?void 0:n[t].forms.indexOf(r);if(void 0===i||i<0)throw new Error(`Could not find form ${r.href} in event ${t}`);this.formIndex=i}stop(e){return s(this,void 0,void 0,(function*(){yield this.unsubscribeEvent(e),this.thing.subscribedEvents.delete(this.name)}))}unsubscribeEvent(e={}){return s(this,void 0,void 0,(function*(){const t=this.thing.events[this.name];if(!t)throw new Error(`ConsumedThing '${this.thing.title}' does not have event ${this.name}`);e.formIndex||(e.formIndex=this.matchingUnsubscribeForm());const{client:r,form:n}=this.thing.getClientFor(t.forms,"unsubscribeevent",y.EventAffordance,e);if(!n)throw new Error(`ConsumedThing '${this.thing.title}' did not get suitable form`);if(!r)throw new Error(`ConsumedThing '${this.thing.title}' did not get suitable client for ${n.href}`);p(`ConsumedThing '${this.thing.title}' unsubscribing to ${n.href}`),r.unlinkResource(n),this.active=!1}))}matchingUnsubscribeForm(){const e=this.thing.events[this.name].forms[this.formIndex];if(!e.op||Array.isArray(e.op)&&e.op.includes("unsubscribeevent"))return this.formIndex;const t=function(e,t,r){const n=t[e];let i=0,o=-1;for(let e=0;e<t.length;e++){let s=0;const a=t[e];(a.op===r||Array.isArray(a.op)&&a.op.includes(r))&&(s+=1),new URL(a.href).origin===new URL(n.href).origin&&(s+=1),a.contentType===n.contentType&&(s+=1),s>i&&(i=s,o=e)}return o}(this.formIndex,this.thing.events[this.name].forms,"unsubscribeevent");if(-1===t)throw new Error("Could not find matching form for unsubscribe");return t}}class E extends c.Thing{constructor(e,t={}){super(),this.subscribedEvents=new Map,this.observedProperties=new Map,this.getServient=()=>e,this.getClients=(new class{constructor(){this.clients=new Map,this.getMap=()=>this.clients}}).getMap,this.properties={},this.actions={},this.events={};const r=JSON.parse(JSON.stringify(t));Object.assign(this,r),this.extendInteractions()}getThingDescription(){return JSON.parse(JSON.stringify(this))}emitEvent(e,t){b("not implemented")}extendInteractions(){for(const e in this.properties){const t=u.default.extend(this.properties[e],new m(e,this));this.properties[e]=t}for(const e in this.actions){const t=u.default.extend(this.actions[e],new v(e,this));this.actions[e]=t}for(const e in this.events){const t=u.default.extend(this.events[e],new g(e,this));this.events[e]=t}}findForm(e,t,r,n,i){let o;for(const s of e){let e="";if(void 0!==s.op)e=s.op;else switch(r){case y.PropertyAffordance:e=["readproperty","writeproperty"];break;case y.ActionAffordance:e="invokeaction";break;case y.EventAffordance:e="subscribeevent"}if(-1!==e.indexOf(t)&&-1!==s.href.indexOf(n[i]+":")){o=s;break}}return o}getSecuritySchemes(e){const t=[];for(const r of e){const e=this.securityDefinitions[r+""];e&&t.push(e)}return t}ensureClientSecurity(e,t){if(this.securityDefinitions){const r=()=>p(`ConsumedThing '${this.title}' setting credentials for ${e} based on thing security`);t&&Array.isArray(t.security)&&t.security.length>0?(r(),e.setSecurity(this.getSecuritySchemes(t.security),this.getServient().retrieveCredentials(this.id))):this.security&&Array.isArray(this.security)&&this.security.length>0&&(r(),e.setSecurity(this.getSecuritySchemes(this.security),this.getServient().getCredentials(this.id)))}}getClientFor(e,t,r,n){if(0===e.length)throw new Error(`ConsumedThing '${this.title}' has no links for this interaction`);let i,o;if(void 0!==(null==n?void 0:n.formIndex)){if(p(`ConsumedThing '${this.title}' asked to use formIndex '${n.formIndex}'`),!(n.formIndex>=0&&n.formIndex<e.length))throw new Error(`ConsumedThing '${this.title}' missing formIndex '${n.formIndex}'`);{i=e[n.formIndex];const t=u.default.extractScheme(i.href);if(!this.getServient().hasClientFor(t))throw new Error(`ConsumedThing '${this.title}' missing ClientFactory for '${t}'`);p(`ConsumedThing '${this.title}' got client for '${t}'`),o=this.getServient().getClientFor(t),this.getClients().get(t)||(this.ensureClientSecurity(o,i),this.getClients().set(t,o))}}else{const n=e.map((e=>u.default.extractScheme(e.href))),s=n.findIndex((e=>this.getClients().has(e)));if(-1!==s)p(`ConsumedThing '${this.title}' chose cached client for '${n[s]}'`),o=this.getClients().get(n[s]),i=this.findForm(e,t,r,n,s);else{p(`ConsumedThing '${this.title}' has no client in cache (${s})`);const a=n.findIndex((e=>this.getServient().hasClientFor(e)));if(-1===a)throw new Error(`ConsumedThing '${this.title}' missing ClientFactory for '${n}'`);o=this.getServient().getClientFor(n[a]),p(`ConsumedThing '${this.title}' got new client for '${n[a]}'`),this.getClients().set(n[a],o),i=this.findForm(e,t,r,n,a),this.ensureClientSecurity(o,i)}}return{client:o,form:i}}readProperty(e,t){return s(this,void 0,void 0,(function*(){const r=this.properties[e];if(!r)throw new Error(`ConsumedThing '${this.title}' does not have property ${e}`);let{client:n,form:i}=this.getClientFor(r.forms,"readproperty",y.PropertyAffordance,t);if(!i)throw new Error(`ConsumedThing '${this.title}' did not get suitable form`);if(!n)throw new Error(`ConsumedThing '${this.title}' did not get suitable client for ${i.href}`);p(`ConsumedThing '${this.title}' reading ${i.href}`),i=this.handleUriVariables(r,i,t);const o=yield n.readResource(i);return new h.InteractionOutput(o,i,r)}))}_readProperties(e){return s(this,void 0,void 0,(function*(){const t=[];for(const r of e)t.push(this.readProperty(r));const r=new Map;try{const n=yield Promise.all(t);let i=0;for(const t of e)r.set(t,n[i]),i++;return r}catch(t){throw new Error(`ConsumedThing '${this.title}', failed to read properties: ${e}.\n Error: ${t}`)}}))}readAllProperties(e){const t=[];for(const r in this.properties){const n=this.properties[r],{form:i}=this.getClientFor(n.forms,"readproperty",y.PropertyAffordance,e);i&&t.push(r)}return this._readProperties(t)}readMultipleProperties(e,t){return this._readProperties(e)}writeProperty(e,t,r){return s(this,void 0,void 0,(function*(){const n=this.properties[e];if(!n)throw new Error(`ConsumedThing '${this.title}' does not have property ${e}`);let{client:i,form:o}=this.getClientFor(n.forms,"writeproperty",y.PropertyAffordance,r);if(!o)throw new Error(`ConsumedThing '${this.title}' did not get suitable form`);if(!i)throw new Error(`ConsumedThing '${this.title}' did not get suitable client for ${o.href}`);p(`ConsumedThing '${this.title}' writing ${o.href} with '${t}'`);const s=f.default.valueToContent(t,n,o.contentType);o=this.handleUriVariables(n,o,r),yield i.writeResource(o,s)}))}writeMultipleProperties(e,t){return s(this,void 0,void 0,(function*(){const t=[];for(const r in e){const n=e.get(r);t.push(this.writeProperty(r,n))}try{yield Promise.all(t)}catch(t){throw new Error(`ConsumedThing '${this.title}', failed to write multiple propertes: ${e}\n Error: ${t}`)}}))}invokeAction(e,t,r){var n;return s(this,void 0,void 0,(function*(){const i=this.actions[e];if(!i)throw new Error(`ConsumedThing '${this.title}' does not have action ${e}`);let o,{client:s,form:a}=this.getClientFor(i.forms,"invokeaction",y.ActionAffordance,r);if(!a)throw new Error(`ConsumedThing '${this.title}' did not get suitable form`);if(!s)throw new Error(`ConsumedThing '${this.title}' did not get suitable client for ${a.href}`);p(`ConsumedThing '${this.title}' invoking ${a.href}${void 0!==t?" with '"+t+"'":""}`),void 0!==t&&(o=f.default.valueToContent(t,i.input,a.contentType)),a=this.handleUriVariables(i,a,r);const c=yield s.invokeResource(a,o);if(c.type||(c.type=null!==(n=a.contentType)&&void 0!==n?n:"application/json"),a.response&&c.type!==a.response.contentType)throw new Error("Unexpected type in response");try{return new h.InteractionOutput(c,a,i.output)}catch(e){throw new Error("Received invalid content from Thing")}}))}observeProperty(e,t,r,n){return s(this,void 0,void 0,(function*(){const i=this.properties[e];if(!i)throw new Error(`ConsumedThing '${this.title}' does not have property ${e}`);let{client:o,form:s}=this.getClientFor(i.forms,"observeproperty",y.PropertyAffordance,n);if(!s)throw new Error(`ConsumedThing '${this.title}' did not get suitable form`);if(!o)throw new Error(`ConsumedThing '${this.title}' did not get suitable client for ${s.href}`);if(this.observedProperties.has(e))throw new Error(`ConsumedThing '${this.title}' has already a function subscribed to ${e}. You can only observe once`);p(`ConsumedThing '${this.title}' observing to ${s.href}`),s=this.handleUriVariables(i,s,n),yield o.subscribeResource(s,(e=>{var r;e.type||(e.type=null!==(r=s.contentType)&&void 0!==r?r:"application/json");try{t(new h.InteractionOutput(e,s,i))}catch(e){b(`Error while processing observe event for ${i.title}`),b(e)}}),(e=>{null==r||r(e)}),(()=>{}));const a=new _(this,e,s);return this.observedProperties.set(e,a),a}))}subscribeEvent(e,t,r,n){return s(this,void 0,void 0,(function*(){const i=this.events[e];if(!i)throw new Error(`ConsumedThing '${this.title}' does not have event ${e}`);let{client:o,form:s}=this.getClientFor(i.forms,"subscribeevent",y.EventAffordance,n);if(!s)throw new Error(`ConsumedThing '${this.title}' did not get suitable form`);if(!o)throw new Error(`ConsumedThing '${this.title}' did not get suitable client for ${s.href}`);if(this.subscribedEvents.has(e))throw new Error(`ConsumedThing '${this.title}' has already a function subscribed to ${e}. You can only subscribe once`);p(`ConsumedThing '${this.title}' subscribing to ${s.href}`),s=this.handleUriVariables(i,s,n),yield o.subscribeResource(s,(e=>{var r;e.type||(e.type=null!==(r=s.contentType)&&void 0!==r?r:"application/json");try{t(new h.InteractionOutput(e,s,i.data))}catch(e){b(`Error while processing event for ${i.title}`),b(e)}}),(e=>{null==r||r(e)}),(()=>{}));const a=new S(this,e,s);return this.subscribedEvents.set(e,a),a}))}handleUriVariables(e,t,r){const n=l.parse(t.href),i=u.default.parseInteractionOptions(this,e,r).uriVariables,o=n.expand(null!=i?i:{});if(o!==t.href){const e=Object.assign({},t);e.href=o,t=e,p(`ConsumedThing '${this.title}' update form URI to ${t.href}`)}return t}}t.default=E},51813:function(e,t,r){var n=r(97866).Buffer,i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ContentSerdes=void 0;const o=r(77480),s=i(r(60564)),a=i(r(5453)),c=i(r(68057)),u=i(r(32737)),f=r(95751),l=r(53493),h=r(20538),d=r(14675),{debug:p,warn:b}=(0,d.createLoggers)("core","content-serdes");class y{constructor(){this.codecs=new Map,this.offered=new Set}static get(){return this.instance||(this.instance=new y,this.instance.addCodec(new s.default,!0),this.instance.addCodec(new s.default("application/senml+json")),this.instance.addCodec(new s.default("application/td+json")),this.instance.addCodec(new a.default),this.instance.addCodec(new a.default("text/html")),this.instance.addCodec(new a.default("text/css")),this.instance.addCodec(new a.default("application/xml")),this.instance.addCodec(new a.default("application/xhtml+xml")),this.instance.addCodec(new a.default("image/svg+xml")),this.instance.addCodec(new c.default("image/png")),this.instance.addCodec(new c.default("image/gif")),this.instance.addCodec(new c.default("image/jpeg")),this.instance.addCodec(new u.default)),this.instance}static getMediaType(e){return e.split(";")[0].trim()}static getMediaTypeParameters(e){const t=e.split(";").slice(1),r={};return t.forEach((e=>{const t=e.indexOf("=");t>=0?r[e.substr(0,t).trim()]=e.substr(t+1).trim():r[e.trim()]=void 0})),r}addCodec(e,t=!1){y.get().codecs.set(e.getMediaType(),e),t&&y.get().offered.add(e.getMediaType())}getSupportedMediaTypes(){return Array.from(y.get().codecs.keys())}getOfferedMediaTypes(){return Array.from(y.get().offered)}isSupported(e){const t=y.getMediaType(e);return this.codecs.has(t)}contentToValue(e,t){if(void 0===e.type){if(!(e.body.byteLength>0))return;e.type=y.DEFAULT}const r=y.getMediaType(e.type),n=y.getMediaTypeParameters(e.type);return this.codecs.has(r)?(p(`ContentSerdes deserializing from ${e.type}`),this.codecs.get(r).bytesToValue(e.body,t,n)):(b(`ContentSerdes passthrough due to unsupported media type '${r}'`),e.body.toString())}valueToContent(e,t,r=y.DEFAULT){if(void 0===e&&b("ContentSerdes valueToContent got no value"),e instanceof h.ReadableStream)return new o.Content(r,l.ProtocolHelpers.toNodeStream(e));let i;const s=y.getMediaType(r),a=y.getMediaTypeParameters(r),c=this.codecs.get(s);return c?(p(`ContentSerdes serializing to ${r}`),i=c.valueToBytes(e,t,a)):(b(`ContentSerdes passthrough due to unsupported serialization format '${r}'`),i=n.from(null===e?"":e.toString())),new o.Content(r,f.Readable.from([i]))}}t.ContentSerdes=y,y.DEFAULT="application/json",y.TD="application/td+json",y.JSON_LD="application/ld+json",t.default=y.get()},77480:function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultContent=t.Content=void 0;const i=r(51813),o=n(r(56170));class s{constructor(e,t){this.type=e,this.body=t}toBuffer(){return o.default.readStreamFully(this.body)}}t.Content=s,t.DefaultContent=class extends s{constructor(e){super(i.ContentSerdes.DEFAULT,e)}}},53493:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.createWarnLogger=t.createInfoLogger=t.createErrorLogger=t.createDebugLogger=t.createLoggers=t.ProtocolHelpers=t.Helpers=t.ExposedThing=t.ConsumedThing=t.DefaultContent=t.Content=t.NetconfCodec=t.NetconfOctetstreamCodecCodec=t.Base64Codec=t.TextCodec=t.JsonCodec=t.Servient=void 0;const s=o(r(84707));t.Servient=s.default,t.default=s.default,i(r(51813),t);var a=r(60564);Object.defineProperty(t,"JsonCodec",{enumerable:!0,get:function(){return o(a).default}});var c=r(5453);Object.defineProperty(t,"TextCodec",{enumerable:!0,get:function(){return o(c).default}});var u=r(68057);Object.defineProperty(t,"Base64Codec",{enumerable:!0,get:function(){return o(u).default}});var f=r(32737);Object.defineProperty(t,"NetconfOctetstreamCodecCodec",{enumerable:!0,get:function(){return o(f).default}});var l=r(79212);Object.defineProperty(t,"NetconfCodec",{enumerable:!0,get:function(){return o(l).default}}),i(r(41122),t);var h=r(77480);Object.defineProperty(t,"Content",{enumerable:!0,get:function(){return h.Content}}),Object.defineProperty(t,"DefaultContent",{enumerable:!0,get:function(){return h.DefaultContent}});var d=r(68027);Object.defineProperty(t,"ConsumedThing",{enumerable:!0,get:function(){return o(d).default}});var p=r(80895);Object.defineProperty(t,"ExposedThing",{enumerable:!0,get:function(){return o(p).default}});var b=r(37447);Object.defineProperty(t,"Helpers",{enumerable:!0,get:function(){return o(b).default}});var y=r(56170);Object.defineProperty(t,"ProtocolHelpers",{enumerable:!0,get:function(){return o(y).default}});var m=r(14675);Object.defineProperty(t,"createLoggers",{enumerable:!0,get:function(){return m.createLoggers}}),Object.defineProperty(t,"createDebugLogger",{enumerable:!0,get:function(){return m.createDebugLogger}}),Object.defineProperty(t,"createErrorLogger",{enumerable:!0,get:function(){return m.createErrorLogger}}),Object.defineProperty(t,"createInfoLogger",{enumerable:!0,get:function(){return m.createInfoLogger}}),Object.defineProperty(t,"createWarnLogger",{enumerable:!0,get:function(){return m.createWarnLogger}})},18599:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DataSchemaError=t.NotSupportedError=t.NotReadableError=void 0;class r extends Error{constructor(e){super(e),Object.setPrototypeOf(this,r.prototype)}}t.NotReadableError=r;class n extends Error{constructor(e){super(e),Object.setPrototypeOf(this,n.prototype)}}t.NotSupportedError=n;class i extends Error{constructor(e,t){super(e),this.value=t,Object.setPrototypeOf(this,n.prototype)}}t.DataSchemaError=i},80895:function(e,t,r){var n=r(97866).Buffer,i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&i(t,e,r);return o(t,e),t},a=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const u=r(31377),f=s(r(72915)),l=c(r(37447)),h=r(17541),d=r(95751),p=c(r(56170)),b=r(20538),y=c(r(51813)),m=c(r(93139)),v=r(14675),{debug:g}=(0,v.createLoggers)("core","exposed-thing");class w extends f.Thing{constructor(e,t={}){var r,n;super(),this.__propertyHandlers=new Map,this.__actionHandlers=new Map,this.__eventHandlers=new Map,this.__propertyListeners=new m.default,this.__eventListeners=new m.default,this.getServient=()=>e,this.getSubjectTD=(new class{constructor(){this.subjectTDChange=new u.Subject,this.getSubject=()=>this.subjectTDChange}}).getSubject,this.id=null!==(r=t.id)&&void 0!==r?r:"",this.title=null!==(n=t.title)&&void 0!==n?n:"",this.security="",this.securityDefinitions={},this.properties={},this.actions={},this.events={};const i=JSON.parse(JSON.stringify(t));Object.assign(this,i),f.setContextLanguage(this,f.DEFAULT_CONTEXT_LANGUAGE,!1)}getThingDescription(){return JSON.parse(f.serializeTD(this),((e,t)=>{if("__propertyHandlers"!==e&&"__actionHandlers"!==e&&"__eventHandlers"!==e&&"__propertyListeners"!==e&&"__eventListeners"!==e)return t}))}emitEvent(e,t){if(!this.events[e])throw new Error("NotFoundError for event '"+e+"'");{const r=this.events[e];this.__eventListeners.notify(r,t,r.data)}}emitPropertyChange(e){var t;return a(this,void 0,void 0,(function*(){if(!this.properties[e])throw new Error("NotFoundError for property '"+e+"'");{const r=this.properties[e],n=null===(t=this.__propertyHandlers.get(e))||void 0===t?void 0:t.readHandler;if(!n)throw new Error("Can't read property readHandler is not defined. Did you forget to register a readHandler?");const i=yield n();this.__propertyListeners.notify(r,i,r)}}))}expose(){return g(`ExposedThing '${this.title}' exposing all Interactions and TD`),new Promise(((e,t)=>{this.getServient().expose(this).then((()=>{this.getSubjectTD().next(this.getThingDescription()),e()})).catch((e=>t(e)))}))}destroy(){return a(this,void 0,void 0,(function*(){g(`ExposedThing '${this.title}' destroying the thing and its interactions`),yield this.getServient().destroyThing(this.id),this.__eventListeners.unregisterAll(),this.__propertyListeners.unregisterAll(),this.__eventHandlers.clear(),this.__propertyHandlers.clear(),this.__eventHandlers.clear(),this.getSubjectTD().next()}))}setPropertyReadHandler(e,t){if(g(`ExposedThing '${this.title}' setting read handler for '${e}'`),!this.properties[e])throw new Error(`ExposedThing '${this.title}' has no Property '${e}'`);if(this.properties[e].writeOnly)throw new Error(`ExposedThing '${this.title}' cannot set read handler for property '${e}' due to writeOnly flag`);{let r=this.__propertyHandlers.get(e);r?r.readHandler=t:r={readHandler:t},this.__propertyHandlers.set(e,r)}return this}setPropertyWriteHandler(e,t){if(g(`ExposedThing '${this.title}' setting write handler for '${e}'`),!this.properties[e])throw new Error(`ExposedThing '${this.title}' has no Property '${e}'`);if(this.properties[e].readOnly)throw new Error(`ExposedThing '${this.title}' cannot set write handler for property '${e}' due to readOnly flag`);{let r=this.__propertyHandlers.get(e);r?r.writeHandler=t:r={writeHandler:t},this.__propertyHandlers.set(e,r)}return this}setPropertyObserveHandler(e,t){if(g(`ExposedThing '${this.title}' setting property observe handler for '${e}'`),!this.properties[e])throw new Error(`ExposedThing '${this.title}' has no Property '${e}'`);if(!this.properties[e].observable)throw new Error(`ExposedThing '${this.title}' cannot set observe handler for property '${e}' since the observable flag is set to false`);{let r=this.__propertyHandlers.get(e);r?r.observeHandler=t:r={observeHandler:t},this.__propertyHandlers.set(e,r)}return this}setPropertyUnobserveHandler(e,t){if(g(`ExposedThing '${this.title}' setting property unobserve handler for '${e}'`),!this.properties[e])throw new Error(`ExposedThing '${this.title}' has no Property '${e}'`);if(!this.properties[e].observable)throw new Error(`ExposedThing '${this.title}' cannot set unobserve handler for property '${e}' due to missing observable flag`);{let r=this.__propertyHandlers.get(e);r?r.unobserveHandler=t:r={unobserveHandler:t},this.__propertyHandlers.set(e,r)}return this}setActionHandler(e,t){if(g(`ExposedThing '${this.title}' setting action handler for '${e}'`),!this.actions[e])throw new Error(`ExposedThing '${this.title}' has no Action '${e}'`);return this.__actionHandlers.set(e,t),this}setEventSubscribeHandler(e,t){if(g(`ExposedThing '${this.title}' setting event subscribe handler for '${e}'`),!this.events[e])throw new Error(`ExposedThing '${this.title}' has no Event '${e}'`);{let r=this.__eventHandlers.get(e);r?r.subscribe=t:r={subscribe:t},this.__eventHandlers.set(e,r)}return this}setEventUnsubscribeHandler(e,t){if(g(`ExposedThing '${this.title}' setting event unsubscribe handler for '${e}'`),!this.events[e])throw new Error(`ExposedThing '${this.title}' has no Event '${e}'`);{let r=this.__eventHandlers.get(e);r?r.unsubscribe=t:r={unsubscribe:t},this.__eventHandlers.set(e,r)}return this}setEventHandler(e,t){if(g(`ExposedThing '${this.title}' setting event handler for '${e}'`),!this.events[e])throw new Error(`ExposedThing '${this.title}' has no Event '${e}'`);{let r=this.__eventHandlers.get(e);r?r.handler=t:r={handler:t},this.__eventHandlers.set(e,r)}return this}handleInvokeAction(e,t,r){return a(this,void 0,void 0,(function*(){if(!this.actions[e])throw new Error(`ExposedThing '${this.title}', no action found for '${e}'`);{g(`ExposedThing '${this.title}' has Action state of '${e}'`);const n=this.__actionHandlers.get(e);if(null==n)throw new Error(`ExposedThing '${this.title}' has no handler for Action '${e}'`);{g(`ExposedThing '${this.title}' calls registered handler for Action '${e}'`),l.default.validateInteractionOptions(this,this.actions[e],r);const i=this.actions[e].forms?this.actions[e].forms[r.formIndex]:{contentType:"application/json"},o=yield n(new h.InteractionOutput(t,i,this.actions[e].input),r);if(o)return y.default.valueToContent(o,this.actions[e].output,i.contentType)}}}))}handleReadProperty(e,t){var r,n;return a(this,void 0,void 0,(function*(){if(this.properties[e]){g(`ExposedThing '${this.title}' has Action state of '${e}'`);const i=null===(r=this.__propertyHandlers.get(e))||void 0===r?void 0:r.readHandler;if(null!=i){g(`ExposedThing '${this.title}' calls registered readHandler for Property '${e}'`),l.default.validateInteractionOptions(this,this.properties[e],t);const r=yield i(t),o=this.properties[e].forms?this.properties[e].forms[t.formIndex]:{contentType:"application/json"};return y.default.valueToContent(r,this.properties[e],null!==(n=null==o?void 0:o.contentType)&&void 0!==n?n:"application/json")}throw new Error(`ExposedThing '${this.title}' has no readHandler for Property '${e}'`)}throw new Error(`ExposedThing '${this.title}', no property found for '${e}'`)}))}_handleReadProperties(e,t){return a(this,void 0,void 0,(function*(){const r=[];for(const n of e)this.properties[n].forms.find((e=>"application/json"===e.contentType||!e.contentType))&&r.push(this.handleReadProperty(n,t));try{const t=new Map,n=yield Promise.all(r);for(let r=0;r<n.length;r++)t.set(e[r],n[r]);return t}catch(t){throw new Error(`ConsumedThing '${this.title}', failed to read properties: ${e}.\n Error: ${t}`)}}))}handleReadAllProperties(e){return a(this,void 0,void 0,(function*(){const t=[];for(const e in this.properties)t.push(e);return yield this._handleReadProperties(t,e)}))}handleReadMultipleProperties(e,t){return a(this,void 0,void 0,(function*(){return yield this._handleReadProperties(e,t)}))}handleWriteProperty(e,t,r){var n;return a(this,void 0,void 0,(function*(){if(!this.properties[e])throw new Error(`ExposedThing '${this.title}', no property found for '${e}'`);{if(this.properties[e].readOnly&&!0===this.properties[e].readOnly)throw new Error(`ExposedThing '${this.title}', property '${e}' is readOnly`);l.default.validateInteractionOptions(this,this.properties[e],r);const i=null===(n=this.__propertyHandlers.get(e))||void 0===n?void 0:n.writeHandler,o=this.properties[e].forms?this.properties[e].forms[r.formIndex]:{};if(null==i)throw new Error(`ExposedThing '${this.title}' has no writeHandler for Property '${e}'`);yield i(new h.InteractionOutput(t,o,this.properties[e]),r)}}))}handleWriteMultipleProperties(e,t){return a(this,void 0,void 0,(function*(){const r=[];for(const n in e)this.properties[n].forms.find((e=>"application/json"===e.contentType||!e.contentType))&&r.push(this.handleWriteProperty(n,e.get(n),t));try{yield Promise.all(r)}catch(e){throw new Error(`ExposedThing '${this.title}', failed to write multiple properties. ${e.message}`)}}))}handleSubscribeEvent(e,t,r){var n;return a(this,void 0,void 0,(function*(){if(!this.events[e])throw new Error(`ExposedThing '${this.title}', no event found for '${e}'`);{l.default.validateInteractionOptions(this,this.events[e],r);const i=p.default.getFormIndexForOperation(this.events[e],"event","subscribeevent",r.formIndex);if(-1===i)throw new Error(`ExposedThing '${this.title}', no property listener from found for '${e}' with form index '${r.formIndex}'`);this.__eventListeners.register(this.events[e],i,t),g(`ExposedThing '${this.title}' subscribes to event '${e}'`);const o=null===(n=this.__eventHandlers.get(e))||void 0===n?void 0:n.subscribe;o&&(yield o(r)),g(`ExposedThing '${this.title}' subscribes to event '${e}'`)}}))}handleUnsubscribeEvent(e,t,r){var n;if(!this.events[e])throw new Error(`ExposedThing '${this.title}', no event found for '${e}'`);{l.default.validateInteractionOptions(this,this.events[e],r);const i=p.default.getFormIndexForOperation(this.events[e],"event","unsubscribeevent",r.formIndex);if(-1===i)throw new Error(`ExposedThing '${this.title}', no event listener from found for '${e}' with form index '${r.formIndex}'`);this.__eventListeners.unregister(this.events[e],i,t);const o=null===(n=this.__eventHandlers.get(e))||void 0===n?void 0:n.unsubscribe;o&&o(r),g(`ExposedThing '${this.title}' unsubscribes from event '${e}'`)}}handleObserveProperty(e,t,r){var n;return a(this,void 0,void 0,(function*(){if(!this.properties[e])throw new Error(`ExposedThing '${this.title}', no property found for '${e}'`);{l.default.validateInteractionOptions(this,this.properties[e],r);const i=p.default.getFormIndexForOperation(this.properties[e],"property","observeproperty",r.formIndex);if(-1===i)throw new Error(`ExposedThing '${this.title}', no property listener from found for '${e}' with form index '${r.formIndex}'`);this.__propertyListeners.register(this.properties[e],i,t),g(`ExposedThing '${this.title}' subscribes to property '${e}'`);const o=null===(n=this.__propertyHandlers.get(e))||void 0===n?void 0:n.observeHandler;o&&(yield o(r))}}))}handleUnobserveProperty(e,t,r){var n;if(!this.properties[e])throw new Error(`ExposedThing '${this.title}', no property found for '${e}'`);{l.default.validateInteractionOptions(this,this.properties[e],r);const i=p.default.getFormIndexForOperation(this.properties[e],"property","unobserveproperty",r.formIndex);if(-1===i)throw new Error(`ExposedThing '${this.title}', no property listener from found for '${e}' with form index '${r.formIndex}'`);this.__propertyListeners.unregister(this.properties[e],i,t);const o=null===(n=this.__propertyHandlers.get(e))||void 0===n?void 0:n.unobserveHandler;o&&o(r)}}static interactionInputToReadable(e){let t;return t="undefined"!=typeof ReadableStream&&e instanceof ReadableStream||e instanceof b.ReadableStream?p.default.toNodeStream(e):Array.isArray(e)||"object"==typeof e?d.Readable.from(n.from(JSON.stringify(e),"utf-8")):d.Readable.from(n.from(e.toString(),"utf-8")),t}}t.default=w},37447:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t},s=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const c=o(r(14068)),u=o(r(72915)),f=r(51813),l=a(r(45982)),h=a(r(4535)),d=r(72915),p=r(14675),{debug:b,error:y,warn:m}=(0,p.createLoggers)("core","helpers"),v=h.default,g=new l.default({strict:!1}).addFormat("iri-reference",/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i).addFormat("uri",/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/).addFormat("date-time",/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/);class w{constructor(e){this.srv=e}static extractScheme(e){const t=new URL(e);if(b(t),null===t.protocol)throw new Error(`Protocol in url "${e}" must be valid`);const r=t.protocol.slice(0,-1);return b(`Helpers found scheme '${r}'`),r}static setStaticAddress(e){w.staticAddress=e}static getAddresses(){var e;const t=[];if(void 0!==w.staticAddress)return t.push(w.staticAddress),b(`AddressHelper uses static ${t}`),t;{const r=c.networkInterfaces();for(const n in r)null===(e=r[n])||void 0===e||e.forEach((e=>{b(`AddressHelper found ${e.address}`),!1===e.internal&&("IPv4"===e.family?t.push(e.address):0===e.scopeid&&t.push(w.toUriLiteral(e.address)))}));return 0===t.length&&t.push("localhost"),b(`AddressHelper identified ${t}`),t}}static toUriLiteral(e){return e?(-1!==e.indexOf(":")&&(e=`[${e}]`),e):(y(`AddressHelper received invalid address '${e}'`),"{invalid address}")}static generateUniqueName(e){const t=e.match(/.+_([0-9]+)$/);return null!==t?e.slice(0,-t[1].length)+(1+parseInt(t[1])):e+"_2"}static toStringArray(e){return e?"string"==typeof e?[e]:e:[]}fetch(e){return new Promise(((t,r)=>{const n=this.srv.getClientFor(w.extractScheme(e));b(`WoTImpl fetching TD from '${e}' with ${n}`),n.readResource(new u.Form(e,f.ContentSerdes.TD)).then((n=>s(this,void 0,void 0,(function*(){n.type!==f.ContentSerdes.TD&&n.type!==f.ContentSerdes.JSON_LD&&m(`WoTImpl received TD with media type '${n.type}' from ${e}`);const i=(yield n.toBuffer()).toString("utf-8");try{const e=JSON.parse(i);t(e)}catch(t){r(new Error(`WoTImpl fetched invalid JSON from '${e}': ${t instanceof Error?t.message:t}`))}})))).then((e=>s(this,void 0,void 0,(function*(){return yield n.stop(),e})))).catch((e=>{r(e)}))}))}static extend(e,t){const r={};for(const t in e)r[t]=e[t];for(const e in t)Object.prototype.hasOwnProperty.call(r,e)||(r[e]=t[e]);return r}static parseInteractionOutput(e){return s(this,void 0,void 0,(function*(){try{return yield e.value()}catch(e){throw y("parseInteractionOutput low-level stream not implemented"),new Error("parseInteractionOutput low-level stream not implemented")}}))}static createExposeThingInitSchema(e){const t=JSON.parse(JSON.stringify(e));if(void 0!==t.required){const e=["title","@context","instance","forms","security","href","securityDefinitions"];if(Array.isArray(t.required)){const r=t.required;t.required=r.filter((t=>!e.includes(t)))}else"string"==typeof t.required&&-1!==e.indexOf(t.required)&&delete t.required}if(void 0!==t.definitions)for(const e in t.definitions)t.definitions[e]=this.createExposeThingInitSchema(t.definitions[e]);return t}static validateExposedThingInit(e){var t;if("tm:ThingModel"===e["@type"]||d.ThingModelHelpers.isThingModel(e))return{valid:!1,errors:"ThingModel declaration is not supported"};const r=w.tsSchemaValidator(e);let n;return r||(n=null===(t=w.tsSchemaValidator.errors)||void 0===t?void 0:t.map((e=>e.message)).join("\n")),{valid:r,errors:n}}static parseInteractionOptions(e,t,r){var n,i;if(!this.validateInteractionOptions(e,t,r))throw new Error(`CoreHelpers one or more uriVariables were not found under neither '${t.title}' Thing Interaction nor '${e.title}' Thing`);const o=null!==(n=t.uriVariables)&&void 0!==n?n:{},s=null!==(i=e.uriVariables)&&void 0!==i?i:{},a={};(null==r?void 0:r.uriVariables)?Object.entries(r.uriVariables).forEach((e=>{(e[0]in o||e[0]in s)&&(a[e[0]]=e[1])})):r={uriVariables:{}};for(const e in s){const t=s[e];!(e in a)&&"default"in t&&(a[e]=t.default)}return r.uriVariables=a,r}static validateInteractionOptions(e,t,r){var n,i;const o=null!==(n=t.uriVariables)&&void 0!==n?n:{},s=null!==(i=e.uriVariables)&&void 0!==i?i:{};if(null==r?void 0:r.uriVariables){const e=Object.entries(r.uriVariables);for(let t=0;t<e.length;t++){const r=e[t];if(!(r[0]in o)&&!(r[0]in s))return!1}}return!0}static parseUrlParameters(e,t,r){const n={};if(null==e||!r&&!t)return n;const i=e.split("?")[1];return null==i||(-1!==i.indexOf("&")?i.split("&"):[i]).forEach((e=>{const i=e.split("="),o=decodeURIComponent(i[0]),s=decodeURIComponent(i.length>1?i[1]:"");r&&r[o]?"integer"===r[o].type||"number"===r[o].type?n[o]=+s:n[o]=s:t&&t[o]&&("integer"===t[o].type||"number"===t[o].type?n[o]=+s:n[o]=s)})),n}}t.default=w,w.tsSchemaValidator=g.compile(w.createExposeThingInitSchema(v)),w.staticAddress=void 0},17541:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t},s=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.InteractionOutput=void 0;const c=o(r(85130)),u=r(51813),f=r(53493),l=r(18599),h=a(r(45982)),d=r(14675),{debug:p}=(0,d.createLoggers)("core","interaction-output"),b=new h.default({strict:!1});t.InteractionOutput=class{constructor(e,t,r){this.content=e,this.form=t,this.schema=r,this.dataUsed=!1}get data(){if(this._stream)return this._stream;if(this.dataUsed)throw new Error("Can't read the stream once it has been already used");return this.dataUsed=!0,this._stream=f.ProtocolHelpers.toWoTStream(this.content.body)}arrayBuffer(){return s(this,void 0,void 0,(function*(){if(this.buffer)return this.buffer;if(this.dataUsed)throw new Error("Can't read the stream once it has been already used");const e=yield this.content.toBuffer();return this.dataUsed=!0,this.buffer=e,e}))}value(){var e;return s(this,void 0,void 0,(function*(){if(this.parsedValue)return this.parsedValue;if(this.dataUsed)throw new Error("Can't read the stream once it has been already used");if(!this.form||!u.ContentSerdes.get().isSupported(this.content.type)){const e=this.form?`Content type ${this.content.type} not supported`:"Missing form";throw new l.NotSupportedError(e)}const t=yield this.content.toBuffer();this.dataUsed=!0,this.buffer=t;const r=u.ContentSerdes.get().contentToValue({type:this.content.type,body:t},null!==(e=this.schema)&&void 0!==e?e:{});if(this.schema){const e=b.compile(this.schema);if(!e(r))throw p(`schema = ${c.inspect(this.schema,{depth:10,colors:!0})}`),p(`value: ${r}`),p(`Errror: ${e.errors}`),new l.DataSchemaError("Invalid value according to DataSchema",r)}return this.parsedValue=r,this.parsedValue}))}}},14675:function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.createLoggers=t.createErrorLogger=t.createWarnLogger=t.createDebugLogger=t.createInfoLogger=void 0;const i=n(r(85687));var o;function s(e,t){const r=["node-wot",...e,o[t]].join(":");return(0,i.default)(r)}function a(...e){return s(e,o.info)}function c(...e){return s(e,o.debug)}function u(...e){return s(e,o.warn)}function f(...e){return s(e,o.error)}!function(e){e[e.info=0]="info",e[e.debug=1]="debug",e[e.warn=2]="warn",e[e.error=3]="error"}(o||(o={})),t.createInfoLogger=a,t.createDebugLogger=c,t.createWarnLogger=u,t.createErrorLogger=f,t.createLoggers=function(...e){return{info:a(...e),debug:c(...e),warn:u(...e),error:f(...e)}}},56170:(e,t,r)=>{var n=r(97866).Buffer;Object.defineProperty(t,"__esModule",{value:!0});const i=r(95751),o=r(20538),s=r(14675),{debug:a}=(0,s.createLoggers)("core","protocol-helpers");function c(e){return class extends e{set nodeStream(e){this._nodeStream=e}get nodeStream(){if(!this._nodeStream)throw new Error("ManagedStream not correctly initialized nodeStream is undefined");return this._nodeStream}set wotStream(e){this._wotStream=e}get wotStream(){if(!this._wotStream)throw new Error("ManagedStream not correctly initialized wotStream is undefined");return this._wotStream}}}const u=c(i.Readable),f=c(o.ReadableStream);function l(e){return e instanceof f||e instanceof u}t.default=class{static updatePropertyFormWithTemplate(e,t){var r;for(const n of null!==(r=t.forms)&&void 0!==r?r:[])if(n.href,n.contentType)return void(e.contentType=n.contentType)}static updateActionFormWithTemplate(e,t){var r;for(const n of null!==(r=t.forms)&&void 0!==r?r:[])if(n.href,n.contentType)return void(e.contentType=n.contentType)}static updateEventFormWithTemplate(e,t){var r;for(const n of null!==(r=t.forms)&&void 0!==r?r:[])if(n.href,n.contentType)return void(e.contentType=n.contentType)}static getPropertyContentType(e,t,r){if(e&&t&&r&&e.properties&&e.properties[t]&&e.properties[t].forms&&Array.isArray(e.properties[t].forms))for(const n of e.properties[t].forms)if(n.href&&n.href.startsWith(r)&&n.contentType)return n.contentType}static getActionContentType(e,t,r){if(e&&t&&r&&e.actions&&e.actions[t]&&e.actions[t].forms&&Array.isArray(e.actions[t].forms))for(const n of e.actions[t].forms)if(n.href&&n.href.startsWith(r)&&n.contentType)return n.contentType}static getEventContentType(e,t,r){if(e&&t&&r&&e.events&&e.events[t]&&e.events[t].forms&&Array.isArray(e.events[t].forms))for(const n of e.events[t].forms)if(n.href&&n.href.startsWith(r)&&n.contentType)return n.contentType}static toWoTStream(e){if(l(e))return e.wotStream;const t=new f({start:t=>{e.on("data",(e=>t.enqueue(e))),e.on("error",(e=>t.error(e))),e.on("end",(()=>t.close()))},cancel:t=>{e instanceof i.Readable&&e.destroy(t)}});return e instanceof i.Readable?t.nodeStream=e:t.nodeStream=new i.Readable(e),t}static toNodeStream(e){if(l(e))return e.nodeStream;if(e instanceof i.Readable)return e;const t=e.getReader(),r=new u({read:e=>{t.read().then((e=>{r.push(e.value),e.done&&r.push(null)}))},destroy:(r,n)=>{t.releaseLock(),e.cancel(r).then((()=>n(r)))}});return r.wotStream=e,r.nodeStream=r,r}static readStreamFully(e){return new Promise(((t,r)=>{if(e){const i=[];e.on("data",(e=>i.push(e))),e.on("error",r),e.on("end",(()=>{i[0]&&(i[0]instanceof Array||i[0]instanceof n||i[0]instanceof Uint8Array)?t(n.concat(i)):i[0]&&"string"==typeof i[0]?t(n.from(i.join())):t(n.from(i))}))}else a("Protocol-Helper returns empty buffer for readStreamFully due to undefined stream"),t(n.alloc(0))}))}static findRequestMatchingFormIndex(e,t,r,n){if(void 0===e)return 0;let i=e.filter((e=>{const n=new URL(e.href.replace(/(\{[\S]*\})/,"")),i=void 0!==r?-1!==r.indexOf("?")?r.split("?")[0]:r:void 0;return n.protocol===t+":"&&(void 0===i||n.pathname===i)}));if(n){const e=i.filter((e=>e.contentType===n));e.length>0&&(i=e)}return i.length>0?e.indexOf(i[0]):0}static getFormIndexForOperation(e,t,r,n){var i;let o=-1,s=[];switch(t){case"property":if(e.readOnly&&"writeproperty"===r||e.writeOnly&&"readproperty"===r)return o;void 0!==e.readOnly&&e.readOnly||s.push("writeproperty"),void 0!==e.writeOnly&&e.writeOnly||s.push("readproperty");break;case"action":s=["invokeaction"];break;case"event":s=["subscribeevent","unsubscribeevent"]}if(-1!==s.indexOf(r)&&(r=void 0),void 0!==e.forms&&void 0!==n&&e.forms.length>n){const t=e.forms[n];t&&(void 0===r||(null===(i=t.op)||void 0===i?void 0:i.includes(r)))&&(o=n)}return void 0!==e.forms&&-1===o&&(void 0!==r?e.forms.every((t=>{var n;return(null===(n=t.op)||void 0===n?void 0:n.includes(r))&&(o=e.forms.indexOf(t)),-1===o})):e.forms.every((t=>(o=e.forms.indexOf(t),!1)))),o}}},41122:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0})},93139:function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(r(51813));class o{constructor(){this.listeners=new Map}register(e,t,r){if(!e.forms[t])throw new Error("Can't register the listener for affordance with formIndex. The affordance does not contain the form");let n=this.listeners.get(e);n||(n=new Map,this.listeners.set(e,n));let i=n.get(t);i||(i=[],n.set(t,i)),i.push(r)}unregister(e,t,r){const n=this.listeners.get(e);if(!n)throw new Error("Not found");const i=n.get(t);if(!i)throw new Error("Form not found");const o=i.indexOf(r);if(o<0)throw new Error("Form not found");i.splice(o,1)}unregisterAll(){this.listeners.clear()}notify(e,t,r,n){var s;const a=null!==(s=this.listeners.get(e))&&void 0!==s?s:o.EMPTY_MAP;if(void 0!==n){const o=a.get(n);if(o){const s=e.forms[n].contentType,a=i.default.valueToContent(t,r,s);return void o.forEach((e=>e(a)))}}for(const[n,o]of a){const s=e.forms[n].contentType,a=i.default.valueToContent(t,r,s);o.forEach((e=>e(a)))}}}t.default=o,o.EMPTY_MAP=new Map},84707:function(e,t,r){var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(r(81291)),s=i(r(51813)),a=r(15743),c=r(14675),{debug:u,warn:f}=(0,c.createLoggers)("core","servient");t.default=class{constructor(){this.servers=[],this.clientFactories=new Map,this.things=new Map,this.credentialStore=new Map}addMediaType(e,t=!1){s.default.addCodec(e,t)}expose(e){if(0===this.servers.length)return f("Servient has no servers to expose Things"),new Promise((e=>{e()}));u(`Servient exposing '${e.title}'`);const t=JSON.parse(JSON.stringify(e));e.forms=[];for(const t in e.properties)e.properties[t].forms=[];for(const t in e.actions)e.actions[t].forms=[];for(const t in e.events)e.events[t].forms=[];const r=[];return this.servers.forEach((n=>{r.push(n.expose(e,t))})),new Promise(((e,t)=>{Promise.all(r).then((()=>e())).catch((e=>t(e)))}))}addThing(e){return e.id||(e.id="urn:uuid:"+(0,a.v4)(),f(`Servient generating ID for '${e.title}': '${e.id}'`)),!this.things.has(e.id)&&(this.things.set(e.id,e),u(`Servient reset ID '${e.id}' with '${e.title}'`),!0)}destroyThing(e){return new Promise(((t,r)=>{if(this.things.has(e)){u(`Servient destroying thing with id '${e}'`),this.things.delete(e);const n=[];this.servers.forEach((t=>{n.push(t.destroy(e))})),Promise.all(n).then((()=>t(!0))).catch((e=>r(e)))}else f(`Servient was asked to destroy thing but failed to find thing with id '${e}'`),t(!1)}))}getThing(e){return this.things.has(e)?this.things.get(e):void 0}getThings(){u(`Servient getThings size == '${this.things.size}'`);const e={};return this.things.forEach(((t,r)=>{e[r]=t.getThingDescription()})),e}addServer(e){return this.things.forEach(((t,r)=>e.expose(t))),this.servers.push(e),!0}getServers(){return this.servers.slice(0)}addClientFactory(e){this.clientFactories.set(e.scheme,e)}hasClientFor(e){return u(`Servient checking for '${e}' scheme in ${this.clientFactories.size} ClientFactories`),this.clientFactories.has(e)}getClientFor(e){const t=this.clientFactories.get(e);if(t)return u(`Servient creating client for scheme '${e}'`),t.getClient();throw new Error(`Servient has no ClientFactory for scheme '${e}'`)}getClientSchemes(){return Array.from(this.clientFactories.keys())}addCredentials(e){if("object"==typeof e)for(const t in e){u(`Servient storing credentials for '${t}'`);let r=this.credentialStore.get(t);r||(r=[],this.credentialStore.set(t,r)),r.push(e[t])}}getCredentials(e){u(`Servient looking up credentials for '${e}' (@deprecated)`);const t=this.credentialStore.get(e);return t&&t.length>0?t[0]:void 0}retrieveCredentials(e){return u(`Servient looking up credentials for '${e}'`),this.credentialStore.get(e)}start(){return n(this,void 0,void 0,(function*(){const e=[];return this.servers.forEach((t=>e.push(t.start(this)))),this.clientFactories.forEach((e=>e.init())),yield Promise.all(e),new o.default(this)}))}shutdown(){return n(this,void 0,void 0,(function*(){this.clientFactories.forEach((e=>e.destroy()));const e=this.servers.map((e=>e.stop()));yield Promise.all(e)}))}}},81291:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t},s=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.DataType=t.DiscoveryMethod=t.ThingDiscoveryImpl=void 0;const c=o(r(72915)),u=a(r(80895)),f=a(r(68027)),l=a(r(37447)),h=r(14675),{debug:d}=(0,h.createLoggers)("core","wot-impl");class p{constructor(e){this.filter=e,this.active=!1,this.done=!1,this.error=new Error("not implemented")}start(){this.active=!0}next(){return new Promise(((e,t)=>{t(this.error)}))}stop(){this.active=!1,this.done=!1}}var b,y;t.ThingDiscoveryImpl=p,function(e){e[e.any=0]="any",e[e.local=1]="local",e[e.directory=2]="directory",e[e.multicast=3]="multicast"}(b=t.DiscoveryMethod||(t.DiscoveryMethod={})),t.default=class{constructor(e){this.srv=e,this.DiscoveryMethod=b}discover(e){return new p(e)}consume(e){return s(this,void 0,void 0,(function*(){try{const t=c.parseTD(JSON.stringify(e),!0),r=new f.default(this.srv,t);return d(`WoTImpl consuming TD ${r.id?"'"+r.id+"'":"without id"} to instantiate ConsumedThing '${r.title}'`),r}catch(e){throw new Error(`Cannot consume TD because ${e instanceof Error?e.message:e}`)}}))}produce(e){return new Promise(((t,r)=>{try{const r=l.default.validateExposedThingInit(e);if(!r.valid)throw new Error("Thing Description JSON schema validation failed:\n"+r.errors);const n=new u.default(this.srv,e);if(d(`WoTImpl producing new ExposedThing '${n.title}'`),!this.srv.addThing(n))throw new Error("Thing already exists: "+n.title);t(n)}catch(e){r(new Error(`Cannot produce ExposedThing because " + ${e instanceof Error?e.message:e}`))}}))}},(y=t.DataType||(t.DataType={})).boolean="boolean",y.number="number",y.integer="integer",y.string="string",y.object="object",y.array="array",y.null="null"},34677:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.setContextLanguage=t.findPort=t.findProtocol=void 0,t.findProtocol=function(e){const t=e.base,r=t.indexOf(":");return t.substring(0,r)},t.findPort=function(e){const t=e.base,r=t.indexOf(":",6),n=t.indexOf("/",r),i=t.substring(r+1,n);return parseInt(i)},t.setContextLanguage=function(e,t,r){if(Array.isArray(e["@context"])){const n=e["@context"];let i=!1;for(const e of n)"object"==typeof e&&void 0!==e["@language"]&&(r&&(e["@language"]=t),i=!0);i||n.push({"@language":t})}}},50170:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.serializeTD=t.parseTD=void 0;const a=o(r(7529)),c=o(r(34677)),u=r(55830),f=r(61263),l=s(r(85687)),h="node-wot:td-tools:td-parser",d=(0,l.default)(`${h}:debug`),p=(0,l.default)(`${h}:warn`);t.parseTD=function(e,t){d(`parseTD() parsing\n\`\`\`\n${e}\n\`\`\``);const r=JSON.parse(e.replace(/^\uFEFF/,""));if(void 0===r["@context"])r["@context"]=[a.DEFAULT_CONTEXT_V1,a.DEFAULT_CONTEXT_V11];else if(Array.isArray(r["@context"])){let e=r["@context"];const t=e.indexOf(a.DEFAULT_CONTEXT_V1),n=e.indexOf(a.DEFAULT_CONTEXT_V11);-1===t&&-1===n?(e.unshift(a.DEFAULT_CONTEXT_V11),e.unshift(a.DEFAULT_CONTEXT_V1)):(-1!==t&&-1!==n?(e=e.filter((function(e){return e!==a.DEFAULT_CONTEXT_V1})),e=e.filter((function(e){return e!==a.DEFAULT_CONTEXT_V11})),e.unshift(a.DEFAULT_CONTEXT_V11),e.unshift(a.DEFAULT_CONTEXT_V1)):(-1!==t&&0!==t&&(e=e.filter((function(e){return e!==a.DEFAULT_CONTEXT_V1})),e.unshift(a.DEFAULT_CONTEXT_V1)),-1!==n&&0!==n&&(e=e.filter((function(e){return e!==a.DEFAULT_CONTEXT_V11})),e.unshift(a.DEFAULT_CONTEXT_V11))),r["@context"]=e)}else if(r["@context"]!==a.DEFAULT_CONTEXT_V1&&r["@context"]!==a.DEFAULT_CONTEXT_V11){const e=r["@context"];r["@context"]=[a.DEFAULT_CONTEXT_V1,a.DEFAULT_CONTEXT_V11,e]}if(c.setContextLanguage(r,a.DEFAULT_CONTEXT_LANGUAGE,!1),void 0===r["@type"])r["@type"]=a.DEFAULT_THING_TYPE;else if(Array.isArray(r["@type"])){const e=r["@type"];-1===e.indexOf(a.DEFAULT_THING_TYPE)&&e.unshift(a.DEFAULT_THING_TYPE)}else if(r["@type"]!==a.DEFAULT_THING_TYPE){const e=r["@type"];r["@type"]=[a.DEFAULT_THING_TYPE,e]}if(void 0!==r.properties&&r.properties instanceof Object)for(const e in r.properties){const t=r.properties[e];void 0!==t.readOnly&&"boolean"==typeof t.readOnly||(t.readOnly=!1),void 0!==t.writeOnly&&"boolean"==typeof t.writeOnly||(t.writeOnly=!1),void 0!==t.observable&&"boolean"==typeof t.observable||(t.observable=!1)}if(void 0!==r.actions&&r.actions instanceof Object)for(const e in r.actions){const t=r.actions[e];void 0!==t.safe&&"boolean"==typeof t.safe||(t.safe=!1),void 0!==t.idempotent&&"boolean"==typeof t.idempotent||(t.idempotent=!1)}"object"==typeof r.properties&&null!==r.properties||(r.properties={}),"object"==typeof r.actions&&null!==r.actions||(r.actions={}),"object"==typeof r.events&&null!==r.events||(r.events={}),void 0===r.security&&p("parseTD() found no security metadata"),"string"==typeof r.security&&(r.security=[r.security]);const n=[];for(const e in r.properties){const t=r.properties[e];if(!t.forms)throw new Error(`Property '${e}' has no forms field`);for(const i of t.forms){if(!i.href)throw new Error(`Form of Property '${e}' has no href field`);if(!u(i.href)&&!r.base)throw new Error(`Form of Property '${e}' has relative URI while TD has no base field`);n.push(i)}}for(const e in r.actions){const t=r.actions[e];if(!t.forms)throw new Error(`Action '${e}' has no forms field`);for(const i of t.forms){if(!i.href)throw new Error(`Form of Action '${e}' has no href field`);if(!u(i.href)&&!r.base)throw new Error(`Form of Action '${e}' has relative URI while TD has no base field`);n.push(i)}}for(const e in r.events){const t=r.events[e];if(!t.forms)throw new Error(`Event '${e}' has no forms field`);for(const i of t.forms){if(!i.href)throw new Error(`Form of Event '${e}' has no href field`);if(!u(i.href)&&!r.base)throw new Error(`Form of Event '${e}' has relative URI while TD has no base field`);n.push(i)}}if(Object.prototype.hasOwnProperty.call(r,"base")&&(void 0===t||!0===t)){d("parseTD() normalizing 'base' into 'forms'");for(const e of n)e.href.match(/^([a-z0-9+-.]+:).+/i)||(d(`parseTDString() applying base '${r.base}' to '${e.href}'`),e.href=f.buildAbsoluteURL(r.base,e.href))}return r},t.serializeTD=function(e){const t=JSON.parse(JSON.stringify(e));if(t.security&&0!==t.security.length||(t.securityDefinitions={nosec_sc:{scheme:"nosec"}},t.security=["nosec_sc"]),t.forms&&0===t.forms.length&&delete t.forms,t.properties&&0===Object.keys(t.properties).length)delete t.properties;else if(t.properties)for(const e in t.properties){const r=t.properties[e];void 0!==r.readOnly&&"boolean"==typeof r.readOnly||(r.readOnly=!1),void 0!==r.writeOnly&&"boolean"==typeof r.writeOnly||(r.writeOnly=!1),void 0!==r.observable&&"boolean"==typeof r.observable||(r.observable=!1)}if(t.actions&&0===Object.keys(t.actions).length)delete t.actions;else if(t.actions)for(const e in t.actions){const r=t.actions[e];void 0!==r.idempotent&&"boolean"==typeof r.idempotent||(r.idempotent=!1),void 0!==r.safe&&"boolean"==typeof r.safe||(r.safe=!1)}return t.events&&0===Object.keys(t.events).length&&delete t.events,t.links&&0===t.links.length&&delete t.links,JSON.stringify(t)}},54022:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Thing=void 0;var s=r(7529);Object.defineProperty(t,"Thing",{enumerable:!0,get:function(){return o(s).default}}),i(r(7529),t),i(r(50170),t),i(r(34677),t),i(r(50495),t)},7529:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ThingEvent=t.ThingAction=t.ThingProperty=t.BaseSchema=t.Form=t.DEFAULT_THING_TYPE=t.DEFAULT_CONTEXT_LANGUAGE=t.DEFAULT_CONTEXT_V11=t.DEFAULT_CONTEXT_V1=void 0,t.DEFAULT_CONTEXT_V1="https://www.w3.org/2019/wot/td/v1",t.DEFAULT_CONTEXT_V11="https://www.w3.org/2022/wot/td/v1.1",t.DEFAULT_CONTEXT_LANGUAGE="en",t.DEFAULT_THING_TYPE="Thing",t.default=class{constructor(){this["@context"]=[t.DEFAULT_CONTEXT_V1,t.DEFAULT_CONTEXT_V11],this["@type"]=t.DEFAULT_THING_TYPE,this.title="",this.securityDefinitions={},this.security="",this.properties={},this.actions={},this.events={},this.links=[]}},t.Form=class{constructor(e,t){this.href=e,t&&(this.contentType=t)}};class r{}t.BaseSchema=r,t.ThingProperty=class extends r{},t.ThingAction=class{},t.ThingEvent=class{}},50495:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t},s=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ThingModelHelpers=void 0;const c=a(r(45982)),u=o(r(90449)),f=o(r(27065)),l=o(r(98184)),h=r(34261),d=a(r(88766)),p=a(r(85687)),b="node-wot:td-tools:thing-model-helpers",y=(0,p.default)(`${b}:debug`),m=(0,p.default)(`${b}:error`),v=d.default,g=new c.default({strict:!1}).addFormat("iri-reference",/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i).addFormat("uri-reference",/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i).addFormat("uri",/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/).addFormat("json-pointer",/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/).addFormat("date-time",/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/);class w{constructor(e){this.deps=[],this.resolver=void 0,e&&(this.resolver=e)}static isThingModel(e){if(null==e)return!1;if("object"!=typeof e||Array.isArray(e))return!1;const t=e;if(Array.isArray(t["@type"])){if(t["@type"].filter((e=>"tm:ThingModel"===e)).length>0)return!0}else if("tm:ThingModel"===t["@type"])return!0;return Object.keys(this.getThingModelRef(t)).length>0||(!!("links"in t&&Array.isArray(t.links)&&t.links.find((e=>"tm:extends"===e.rel)))||(!(void 0===t.properties||!this.isThingModel(t.properties))||!(void 0===t.actions||!this.isThingModel(t.actions))||!(void 0===t.events||!this.isThingModel(t.events))))}static getModelVersion(e){return"version"in e&&e.version&&"object"==typeof e.version&&"model"in e.version&&"string"==typeof e.version.model?e.version.model:void 0}static validateThingModel(e){var t;const r=w.tsSchemaValidator(e);let n;return r||(n=null===(t=w.tsSchemaValidator.errors)||void 0===t?void 0:t.map((e=>e.message)).join("\n")),{valid:r,errors:n}}getPartialTDs(e,t){return s(this,void 0,void 0,(function*(){return(yield this._getPartialTDs(e,t)).map((e=>{const t=e;return t["@type"]instanceof Array?t["@type"]=t["@type"].map((e=>"tm:ThingModel"===e?"Thing":e)):t["@type"]="Thing",t}))}))}fetchModel(e){return s(this,void 0,void 0,(function*(){let t;if(this.addDependency(e),t=this.resolver?yield this.resolver.fetch(e):yield this.localFetch(e),!w.isThingModel(t))throw new Error(`Data at ${e} is not a Thing Model`);return t}))}localFetch(e){switch(e.split("://")[0]){case"file":{const t=e.split("://")[1];return new Promise(((e,r)=>{l.readFile(t,{encoding:"utf-8"},(function(t,n){t?r(t):e(JSON.parse(n))}))}))}case"http":return new Promise(((t,r)=>{u.get(e,(e=>{e.setEncoding("utf8");let r="";e.on("data",(e=>{r+=e})),e.on("end",(()=>{try{const e=JSON.parse(r);y(`https fetched: ${e}`),t(e)}catch(e){m(e)}}))})).on("error",(e=>{r(e)}))}));case"https":return new Promise(((t,r)=>{f.get(e,(e=>{e.setEncoding("utf8");let r="";e.on("data",(e=>{r+=e})),e.on("end",(()=>{try{const e=JSON.parse(r);y(`https fetched: ${e}`),t(e)}catch(e){m(e)}}))})).on("error",(e=>{r(e)}))}))}return null}_getPartialTDs(e,t){return s(this,void 0,void 0,(function*(){if(!w.isThingModel(e))throw new Error(`${e} is not a Thing Model`);let r=w.validateThingModel(e);if(!1===r.valid||void 0!==r.errors)throw new Error(r.errors);if(r=this.checkPlaceholderMap(e,null==t?void 0:t.map),!1===r.valid||void 0!==r.errors)throw new Error(r.errors);const n=yield this.fetchAffordances(e);return yield this.composeModel(e,n,t)}))}fetchAffordances(e){var t;return s(this,void 0,void 0,(function*(){const r={},n=w.getThingModelLinks(e,"tm:extends");if(n.length>0){r.extends=[];for(const e of n){let t=yield this.fetchModel(e.href);[t]=yield this._getPartialTDs(t),r.extends.push(t)}}const i=["properties","actions","events"];r.imports=[];for(const n of i){const i=w.getThingModelRef(e[n]);if(Object.keys(i).length>0)for(const o in i){const s=i[o],a=this.parseTmRef(s);if(!a.uri)throw new Error(`Missing remote path in ${s}`);let c=yield this.fetchModel(a.uri);[c]=yield this._getPartialTDs(c),delete e[n][o]["tm:ref"];const u=null!==(t=this.getRefAffordance(a,c))&&void 0!==t?t:{};a.name=o,r.imports.push(Object.assign({affordance:u},a))}}const o=w.getThingModelLinks(e,"tm:submodel");if(o.length>0){r.submodel={};for(const e of o){const t=yield this.fetchModel(e.href);r.submodel[e.href]=t}}return r}))}composeModel(e,t,r){var n,i,o,a,c;return s(this,void 0,void 0,(function*(){let s=[];const u=(null!==(n=e.title)&&void 0!==n?n:"").replace(/ /g,"");r||(r={}),r.baseUrl||(r.baseUrl=".");const f=this.returnNewTMHref(r.baseUrl,u),l=this.returnNewTDHref(r.baseUrl,u);if("extends"in t){const r=null!==(i=t.extends)&&void 0!==i?i:[];for(const t of r)e=w.extendThingModel(t,e);e.links=null===(o=e.links)||void 0===o?void 0:o.filter((e=>"tm:extends"!==e.rel))}if("imports"in t){const r=null!==(a=t.imports)&&void 0!==a?a:[];for(const t of r)e=w.importAffordance(t.type,t.name,t.affordance,e)}if("submodel"in t){const n=t.submodel;for(const t in n){const i=n[t];if(r.selfComposition){if(!e.links)throw new Error("You used self composition but links are missing; they are needed to extract the instance name");const n=e.links.findIndex((e=>e.href===t)),o=e.links[n].instanceName;if(!o)throw new Error("Self composition is not possible without instance names");const[s]=yield this._getPartialTDs(i,r),a=["properties","actions","events"];for(const t of a)for(const r in s[t]){const n=`${o}_${r}`;t in e||(e[t]={}),e[t][n]=s[t][r]}}else{const n=(null!==(c=i.title)&&void 0!==c?c:"").replace(/ /g,""),o=this.returnNewTDHref(r.baseUrl,n);i.links||(i.links=[]),i.links.push({rel:"collection",href:l,type:"application/td+json"});const a=yield this._getPartialTDs(i,r);s.push(...a),e=w.formatSubmodelLink(e,t,o)}}}return e.links&&!r.selfComposition||(e.links=[]),e.links.push({rel:"type",href:f,type:"application/tm+json"}),"version"in e&&delete e.version,r.map&&(e=this.fillPlaceholder(e,r.map)),s.unshift(e),s=s.map((e=>this.fillPlaceholder(e,null==r?void 0:r.map))),this.deps.length>0&&this.removeDependency(),s}))}static getThingModelRef(e){const t={};if(!e)return t;for(const r in e)for(const n in e[r])"tm:ref"===n&&(t[r]=e[r]["tm:ref"]);return t}static getThingModelLinks(e,t){let r=[];return"links"in e&&Array.isArray(e.links)&&(r=e.links),r.filter((e=>e.rel===t))}static extendThingModel(e,t){let r={};const n=e.properties,i=e.actions,o=e.events;if(r=Object.assign(Object.assign({},e),t),n){r.properties||(r.properties={});for(const e in n)t.properties&&t.properties[e]?r.properties[e]=Object.assign(Object.assign({},n[e]),t.properties[e]):r.properties[e]=n[e]}if(i){r.actions||(r.actions={});for(const e in i)t.actions&&e in t.actions?r.actions[e]=Object.assign(Object.assign({},i[e]),t.actions[e]):r.actions[e]=i[e]}if(o){r.events||(r.events={});for(const e in o)t.events&&e in t.events?r.events[e]=Object.assign(Object.assign({},o[e]),t.events[e]):r.events[e]=o[e]}return r}static importAffordance(e,t,r,n){n[e]||(n[e]={});const i=n[e][t];n[e][t]=Object.assign(Object.assign({},r),i);for(const r in n[e][t])void 0===n[e][t][r]&&delete n[e][t][r];return n}static formatSubmodelLink(e,t,r){if(!e.links)throw new Error("Links are missing");const n=e.links.findIndex((e=>e.href===t));if(-1===n)throw new Error("Link not found");const i=e.links[n];return"instanceName"in i&&delete i.instanceName,e.links[n]=Object.assign(Object.assign({},i),{href:r,type:"application/td+json",rel:"item"}),e}parseTmRef(e){const t=e.split("#")[0],r=e.split("#")[1];return{uri:t,type:r.split("/")[1],name:r.split("/")[2]}}getRefAffordance(e,t){const r=e.type,n=e.name;if(!(r in t))return;const i=t[r];return n in i?i[n]:void 0}fillPlaceholder(e,t={}){const r=new h.JsonPlaceholderReplacer;return r.addVariableMap(t),r.replace(e)}checkPlaceholderMap(e,t={}){let r=JSON.stringify(e).match(new RegExp("{{.*?}}","g"))||[];r=r.map((e=>e.replace("{{","").replace("}}","")));let n,i=!0;return r&&r.length>0&&null==t?(i=!1,n=`No map provided for model ${e.title}`):r.length>0&&r.every((r=>r in t||(n=`Missing required fields in map for model ${e.title}`,i=!1,!1))),{valid:i,errors:n}}returnNewTMHref(e,t){return`${e}/${t}.tm.jsonld`}returnNewTDHref(e,t){return`${e}/${t}.td.jsonld`}addDependency(e){if(this.deps.indexOf(e)>-1)throw new Error(`Circular dependency found for ${e}`);this.deps.push(e)}removeDependency(e){e?this.deps=this.deps.filter((t=>t!==e)):this.deps.pop()}}t.ThingModelHelpers=w,w.tsSchemaValidator=g.compile(v)},91690:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.setContextLanguage=t.findPort=t.findProtocol=void 0,t.findProtocol=function(e){const t=e.base,r=t.indexOf(":");return t.substring(0,r)},t.findPort=function(e){const t=e.base,r=t.indexOf(":",6),n=t.indexOf("/",r),i=t.substring(r+1,n);return parseInt(i)},t.setContextLanguage=function(e,t,r){if(Array.isArray(e["@context"])){const n=e["@context"];let i=!1;for(const e of n)"object"==typeof e&&void 0!==e["@language"]&&(r&&(e["@language"]=t),i=!0);i||n.push({"@language":t})}}},22090:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.serializeTD=t.parseTD=void 0;const a=o(r(83687)),c=o(r(91690)),u=r(55830),f=r(61263),l=s(r(85687)),h="node-wot:td-tools:td-parser",d=(0,l.default)(`${h}:debug`),p=(0,l.default)(`${h}:warn`);t.parseTD=function(e,t){d(`parseTD() parsing\n\`\`\`\n${e}\n\`\`\``);const r=JSON.parse(e.replace(/^\uFEFF/,""));if(void 0===r["@context"])r["@context"]=[a.DEFAULT_CONTEXT_V1,a.DEFAULT_CONTEXT_V11];else if(Array.isArray(r["@context"])){let e=r["@context"];const t=e.indexOf(a.DEFAULT_CONTEXT_V1),n=e.indexOf(a.DEFAULT_CONTEXT_V11);-1===t&&-1===n?(e.unshift(a.DEFAULT_CONTEXT_V11),e.unshift(a.DEFAULT_CONTEXT_V1)):(-1!==t&&-1!==n?(e=e.filter((function(e){return e!==a.DEFAULT_CONTEXT_V1})),e=e.filter((function(e){return e!==a.DEFAULT_CONTEXT_V11})),e.unshift(a.DEFAULT_CONTEXT_V11),e.unshift(a.DEFAULT_CONTEXT_V1)):(-1!==t&&0!==t&&(e=e.filter((function(e){return e!==a.DEFAULT_CONTEXT_V1})),e.unshift(a.DEFAULT_CONTEXT_V1)),-1!==n&&0!==n&&(e=e.filter((function(e){return e!==a.DEFAULT_CONTEXT_V11})),e.unshift(a.DEFAULT_CONTEXT_V11))),r["@context"]=e)}else if(r["@context"]!==a.DEFAULT_CONTEXT_V1&&r["@context"]!==a.DEFAULT_CONTEXT_V11){const e=r["@context"];r["@context"]=[a.DEFAULT_CONTEXT_V1,a.DEFAULT_CONTEXT_V11,e]}if(c.setContextLanguage(r,a.DEFAULT_CONTEXT_LANGUAGE,!1),void 0===r["@type"])r["@type"]=a.DEFAULT_THING_TYPE;else if(Array.isArray(r["@type"])){const e=r["@type"];-1===e.indexOf(a.DEFAULT_THING_TYPE)&&e.unshift(a.DEFAULT_THING_TYPE)}else if(r["@type"]!==a.DEFAULT_THING_TYPE){const e=r["@type"];r["@type"]=[a.DEFAULT_THING_TYPE,e]}if(void 0!==r.properties&&r.properties instanceof Object)for(const e in r.properties){const t=r.properties[e];void 0!==t.readOnly&&"boolean"==typeof t.readOnly||(t.readOnly=!1),void 0!==t.writeOnly&&"boolean"==typeof t.writeOnly||(t.writeOnly=!1),void 0!==t.observable&&"boolean"==typeof t.observable||(t.observable=!1)}if(void 0!==r.actions&&r.actions instanceof Object)for(const e in r.actions){const t=r.actions[e];void 0!==t.safe&&"boolean"==typeof t.safe||(t.safe=!1),void 0!==t.idempotent&&"boolean"==typeof t.idempotent||(t.idempotent=!1)}"object"==typeof r.properties&&null!==r.properties||(r.properties={}),"object"==typeof r.actions&&null!==r.actions||(r.actions={}),"object"==typeof r.events&&null!==r.events||(r.events={}),void 0===r.security&&p("parseTD() found no security metadata"),"string"==typeof r.security&&(r.security=[r.security]);const n=[];for(const e in r.properties){const t=r.properties[e];if(!t.forms)throw new Error(`Property '${e}' has no forms field`);for(const i of t.forms){if(!i.href)throw new Error(`Form of Property '${e}' has no href field`);if(!u(i.href)&&!r.base)throw new Error(`Form of Property '${e}' has relative URI while TD has no base field`);n.push(i)}}for(const e in r.actions){const t=r.actions[e];if(!t.forms)throw new Error(`Action '${e}' has no forms field`);for(const i of t.forms){if(!i.href)throw new Error(`Form of Action '${e}' has no href field`);if(!u(i.href)&&!r.base)throw new Error(`Form of Action '${e}' has relative URI while TD has no base field`);n.push(i)}}for(const e in r.events){const t=r.events[e];if(!t.forms)throw new Error(`Event '${e}' has no forms field`);for(const i of t.forms){if(!i.href)throw new Error(`Form of Event '${e}' has no href field`);if(!u(i.href)&&!r.base)throw new Error(`Form of Event '${e}' has relative URI while TD has no base field`);n.push(i)}}if(Object.prototype.hasOwnProperty.call(r,"base")&&(void 0===t||!0===t)){d("parseTD() normalizing 'base' into 'forms'");for(const e of n)e.href.match(/^([a-z0-9+-.]+:).+/i)||(d(`parseTDString() applying base '${r.base}' to '${e.href}'`),e.href=f.buildAbsoluteURL(r.base,e.href))}return r},t.serializeTD=function(e){const t=JSON.parse(JSON.stringify(e));if(t.security&&0!==t.security.length||(t.securityDefinitions={nosec_sc:{scheme:"nosec"}},t.security=["nosec_sc"]),t.forms&&0===t.forms.length&&delete t.forms,t.properties&&0===Object.keys(t.properties).length)delete t.properties;else if(t.properties)for(const e in t.properties){const r=t.properties[e];void 0!==r.readOnly&&"boolean"==typeof r.readOnly||(r.readOnly=!1),void 0!==r.writeOnly&&"boolean"==typeof r.writeOnly||(r.writeOnly=!1),void 0!==r.observable&&"boolean"==typeof r.observable||(r.observable=!1)}if(t.actions&&0===Object.keys(t.actions).length)delete t.actions;else if(t.actions)for(const e in t.actions){const r=t.actions[e];void 0!==r.idempotent&&"boolean"==typeof r.idempotent||(r.idempotent=!1),void 0!==r.safe&&"boolean"==typeof r.safe||(r.safe=!1)}return t.events&&0===Object.keys(t.events).length&&delete t.events,t.links&&0===t.links.length&&delete t.links,JSON.stringify(t)}},72915:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Thing=void 0;var s=r(83687);Object.defineProperty(t,"Thing",{enumerable:!0,get:function(){return o(s).default}}),i(r(83687),t),i(r(22090),t),i(r(91690),t),i(r(75811),t),i(r(88049),t)},83687:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ThingEvent=t.ThingAction=t.ThingProperty=t.BaseSchema=t.Form=t.DEFAULT_THING_TYPE=t.DEFAULT_CONTEXT_LANGUAGE=t.DEFAULT_CONTEXT_V11=t.DEFAULT_CONTEXT_V1=void 0,t.DEFAULT_CONTEXT_V1="https://www.w3.org/2019/wot/td/v1",t.DEFAULT_CONTEXT_V11="https://www.w3.org/2022/wot/td/v1.1",t.DEFAULT_CONTEXT_LANGUAGE="en",t.DEFAULT_THING_TYPE="Thing",t.default=class{constructor(){this["@context"]=[t.DEFAULT_CONTEXT_V1,t.DEFAULT_CONTEXT_V11],this["@type"]=t.DEFAULT_THING_TYPE,this.title="",this.securityDefinitions={},this.security="",this.properties={},this.actions={},this.events={},this.links=[]}},t.Form=class{constructor(e,t){this.href=e,t&&(this.contentType=t)}};class r{}t.BaseSchema=r,t.ThingProperty=class extends r{},t.ThingAction=class{},t.ThingEvent=class{}},75811:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t},s=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ThingModelHelpers=void 0;const c=a(r(45982)),u=o(r(90449)),f=o(r(27065)),l=o(r(11893)),h=r(34261),d=a(r(88766)),p=a(r(85687)),b="node-wot:td-tools:thing-model-helpers",y=(0,p.default)(`${b}:debug`),m=(0,p.default)(`${b}:error`),v=d.default,g=new c.default({strict:!1}).addFormat("iri-reference",/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i).addFormat("uri-reference",/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i).addFormat("uri",/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/).addFormat("json-pointer",/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/).addFormat("date-time",/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/);class w{constructor(e){this.deps=[],this.resolver=void 0,e&&(this.resolver=e)}static isThingModel(e){if(null==e)return!1;if("object"!=typeof e||Array.isArray(e))return!1;const t=e;if(Array.isArray(t["@type"])){if(t["@type"].filter((e=>"tm:ThingModel"===e)).length>0)return!0}else if("tm:ThingModel"===t["@type"])return!0;return Object.keys(this.getThingModelRef(t)).length>0||(!!("links"in t&&Array.isArray(t.links)&&t.links.find((e=>"tm:extends"===e.rel)))||(!(void 0===t.properties||!this.isThingModel(t.properties))||!(void 0===t.actions||!this.isThingModel(t.actions))||!(void 0===t.events||!this.isThingModel(t.events))))}static getModelVersion(e){return"version"in e&&e.version&&"object"==typeof e.version&&"model"in e.version&&"string"==typeof e.version.model?e.version.model:void 0}static validateThingModel(e){var t;const r=w.tsSchemaValidator(e);let n;return r||(n=null===(t=w.tsSchemaValidator.errors)||void 0===t?void 0:t.map((e=>e.message)).join("\n")),{valid:r,errors:n}}getPartialTDs(e,t){return s(this,void 0,void 0,(function*(){return(yield this._getPartialTDs(e,t)).map((e=>{const t=e;return t["@type"]instanceof Array?t["@type"]=t["@type"].map((e=>"tm:ThingModel"===e?"Thing":e)):t["@type"]="Thing",t}))}))}fetchModel(e){return s(this,void 0,void 0,(function*(){let t;if(this.addDependency(e),t=this.resolver?yield this.resolver.fetch(e):yield this.localFetch(e),!w.isThingModel(t))throw new Error(`Data at ${e} is not a Thing Model`);return t}))}localFetch(e){switch(e.split("://")[0]){case"file":{const t=e.split("://")[1];return new Promise(((e,r)=>{l.readFile(t,{encoding:"utf-8"},(function(t,n){t?r(t):e(JSON.parse(n))}))}))}case"http":return new Promise(((t,r)=>{u.get(e,(e=>{e.setEncoding("utf8");let r="";e.on("data",(e=>{r+=e})),e.on("end",(()=>{try{const e=JSON.parse(r);y(`https fetched: ${e}`),t(e)}catch(e){m(e)}}))})).on("error",(e=>{r(e)}))}));case"https":return new Promise(((t,r)=>{f.get(e,(e=>{e.setEncoding("utf8");let r="";e.on("data",(e=>{r+=e})),e.on("end",(()=>{try{const e=JSON.parse(r);y(`https fetched: ${e}`),t(e)}catch(e){m(e)}}))})).on("error",(e=>{r(e)}))}))}return null}_getPartialTDs(e,t){return s(this,void 0,void 0,(function*(){if(!w.isThingModel(e))throw new Error(`${e} is not a Thing Model`);let r=w.validateThingModel(e);if(!1===r.valid||void 0!==r.errors)throw new Error(r.errors);if(r=this.checkPlaceholderMap(e,null==t?void 0:t.map),!1===r.valid||void 0!==r.errors)throw new Error(r.errors);const n=yield this.fetchAffordances(e);return yield this.composeModel(e,n,t)}))}fetchAffordances(e){var t;return s(this,void 0,void 0,(function*(){const r={},n=w.getThingModelLinks(e,"tm:extends");if(n.length>0){r.extends=[];for(const e of n){let t=yield this.fetchModel(e.href);[t]=yield this._getPartialTDs(t),r.extends.push(t)}}const i=["properties","actions","events"];r.imports=[];for(const n of i){const i=w.getThingModelRef(e[n]);if(Object.keys(i).length>0)for(const o in i){const s=i[o],a=this.parseTmRef(s);if(!a.uri)throw new Error(`Missing remote path in ${s}`);let c=yield this.fetchModel(a.uri);[c]=yield this._getPartialTDs(c),delete e[n][o]["tm:ref"];const u=null!==(t=this.getRefAffordance(a,c))&&void 0!==t?t:{};a.name=o,r.imports.push(Object.assign({affordance:u},a))}}const o=w.getThingModelLinks(e,"tm:submodel");if(o.length>0){r.submodel={};for(const e of o){const t=yield this.fetchModel(e.href);r.submodel[e.href]=t}}return r}))}composeModel(e,t,r){var n,i,o,a,c;return s(this,void 0,void 0,(function*(){let s=[];const u=(null!==(n=e.title)&&void 0!==n?n:"").replace(/ /g,"");r||(r={}),r.baseUrl||(r.baseUrl=".");const f=this.returnNewTMHref(r.baseUrl,u),l=this.returnNewTDHref(r.baseUrl,u);if("extends"in t){const r=null!==(i=t.extends)&&void 0!==i?i:[];for(const t of r)e=w.extendThingModel(t,e);e.links=null===(o=e.links)||void 0===o?void 0:o.filter((e=>"tm:extends"!==e.rel))}if("imports"in t){const r=null!==(a=t.imports)&&void 0!==a?a:[];for(const t of r)e=w.importAffordance(t.type,t.name,t.affordance,e)}if("submodel"in t){const n=t.submodel;for(const t in n){const i=n[t];if(r.selfComposition){if(!e.links)throw new Error("You used self composition but links are missing; they are needed to extract the instance name");const n=e.links.findIndex((e=>e.href===t)),o=e.links[n].instanceName;if(!o)throw new Error("Self composition is not possible without instance names");const[s]=yield this._getPartialTDs(i,r),a=["properties","actions","events"];for(const t of a)for(const r in s[t]){const n=`${o}_${r}`;t in e||(e[t]={}),e[t][n]=s[t][r]}}else{const n=(null!==(c=i.title)&&void 0!==c?c:"").replace(/ /g,""),o=this.returnNewTDHref(r.baseUrl,n);i.links||(i.links=[]),i.links.push({rel:"collection",href:l,type:"application/td+json"});const a=yield this._getPartialTDs(i,r);s.push(...a),e=w.formatSubmodelLink(e,t,o)}}}return e.links&&!r.selfComposition||(e.links=[]),e.links.push({rel:"type",href:f,type:"application/tm+json"}),"version"in e&&delete e.version,r.map&&(e=this.fillPlaceholder(e,r.map)),s.unshift(e),s=s.map((e=>this.fillPlaceholder(e,null==r?void 0:r.map))),this.deps.length>0&&this.removeDependency(),s}))}static getThingModelRef(e){const t={};if(!e)return t;for(const r in e)for(const n in e[r])"tm:ref"===n&&(t[r]=e[r]["tm:ref"]);return t}static getThingModelLinks(e,t){let r=[];return"links"in e&&Array.isArray(e.links)&&(r=e.links),r.filter((e=>e.rel===t))}static extendThingModel(e,t){let r={};const n=e.properties,i=e.actions,o=e.events;if(r=Object.assign(Object.assign({},e),t),n){r.properties||(r.properties={});for(const e in n)t.properties&&t.properties[e]?r.properties[e]=Object.assign(Object.assign({},n[e]),t.properties[e]):r.properties[e]=n[e]}if(i){r.actions||(r.actions={});for(const e in i)t.actions&&e in t.actions?r.actions[e]=Object.assign(Object.assign({},i[e]),t.actions[e]):r.actions[e]=i[e]}if(o){r.events||(r.events={});for(const e in o)t.events&&e in t.events?r.events[e]=Object.assign(Object.assign({},o[e]),t.events[e]):r.events[e]=o[e]}return r}static importAffordance(e,t,r,n){n[e]||(n[e]={});const i=n[e][t];n[e][t]=Object.assign(Object.assign({},r),i);for(const r in n[e][t])void 0===n[e][t][r]&&delete n[e][t][r];return n}static formatSubmodelLink(e,t,r){if(!e.links)throw new Error("Links are missing");const n=e.links.findIndex((e=>e.href===t));if(-1===n)throw new Error("Link not found");const i=e.links[n];return"instanceName"in i&&delete i.instanceName,e.links[n]=Object.assign(Object.assign({},i),{href:r,type:"application/td+json",rel:"item"}),e}parseTmRef(e){const t=e.split("#")[0],r=e.split("#")[1];return{uri:t,type:r.split("/")[1],name:r.split("/")[2]}}getRefAffordance(e,t){const r=e.type,n=e.name;if(!(r in t))return;const i=t[r];return n in i?i[n]:void 0}fillPlaceholder(e,t={}){const r=new h.JsonPlaceholderReplacer;return r.addVariableMap(t),r.replace(e)}checkPlaceholderMap(e,t={}){let r=JSON.stringify(e).match(new RegExp("{{.*?}}","g"))||[];r=r.map((e=>e.replace("{{","").replace("}}","")));let n,i=!0;return r&&r.length>0&&null==t?(i=!1,n=`No map provided for model ${e.title}`):r.length>0&&r.every((r=>r in t||(n=`Missing required fields in map for model ${e.title}`,i=!1,!1))),{valid:i,errors:n}}returnNewTMHref(e,t){return`${e}/${t}.tm.jsonld`}returnNewTDHref(e,t){return`${e}/${t}.td.jsonld`}addDependency(e){if(this.deps.indexOf(e)>-1)throw new Error(`Circular dependency found for ${e}`);this.deps.push(e)}removeDependency(e){e?this.deps=this.deps.filter((t=>t!==e)):this.deps.pop()}}t.ThingModelHelpers=w,w.tsSchemaValidator=g.compile(v)},88049:function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.AssetInterfaceDescriptionUtil=void 0;const i=n(r(85687)),o="node-wot:td-tools:asset-interface-description-util",s=(0,i.default)(`${o}:debug`),a=(0,i.default)(`${o}:info`),c={scheme:"nosec"},u="0_sc";t.AssetInterfaceDescriptionUtil=class{getBaseFromEndpointMetadata(e){if((null==e?void 0:e.value)&&e.value instanceof Array)for(const t of e.value)if("base"===t.idShort)return t.value;return"undefined"}getContentTypeFromEndpointMetadata(e){if((null==e?void 0:e.value)&&e.value instanceof Array)for(const t of e.value)if("contentType"===t.idShort)return t.value;return""}getSecuritySchemesFromEndpointMetadata(e){if((null==e?void 0:e.value)&&e.value instanceof Array)for(const t of e.value)if("securityDefinitions"===t.idShort){const e=[];if(t.value&&t.value instanceof Array)for(const r of t.value){const t={scheme:r.idShort};if(e.push(t),r.value&&r.value instanceof Array)for(const e of r.value)e.idShort&&"string"==typeof e.idShort&&e.idShort.length>0&&e.value&&(t[e.idShort]=e.value)}return e}}createInteractionForm(e,t){const r={href:this.getBaseFromEndpointMetadata(e.endpointMetadata),contentType:this.getContentTypeFromEndpointMetadata(e.endpointMetadata)};if(t&&(void 0===this.getSecuritySchemesFromEndpointMetadata(e.endpointMetadata)?r.security=[u]:e.secNamesForEndpoint&&(r.security=e.secNamesForEndpoint)),e.interaction.value instanceof Array)for(const t of e.interaction.value)if("href"===t.idShort)r.href&&r.href.length>0?r.href=r.href+t.value:r.href=t.value;else if("string"==typeof t.idShort&&t.idShort.length>0&&t.value&&(r[t.idShort]=t.value,t.valueType&&t.valueType&&t.valueType.dataObjectType&&t.valueType.dataObjectType.name&&"string"==typeof t.valueType.dataObjectType.name))switch(t.valueType.dataObjectType.name){case"boolean":r[t.idShort]="true"===r[t.idShort];break;case"float":case"double":case"decimal":case"integer":case"nonPositiveInteger":case"negativeInteger":case"long":case"int":case"short":case"byte":case"nonNegativeInteger":case"unsignedLong":case"unsignedInt":case"unsignedShort":case"unsignedByte":case"positiveInteger":r[t.idShort]=Number(r[t.idShort])}return r}transformToTD(e,t,r){var n,i,o;const f=t?JSON.parse(t):{},l=JSON.parse(e);f["@context"]||(f["@context"]="https://www.w3.org/2022/wot/td/v1.1"),f.title||(f.title="?TODO?");const h=new Map,d=new Map,p=new Map,b=[];if(l instanceof Object&&l.submodels&&l.submodels instanceof Array)for(const e of l.submodels)if(e instanceof Object&&e.idShort&&"AssetInterfaceDescription"===e.idShort&&e.submodelElements&&e.submodelElements instanceof Array)for(const t of e.submodelElements)if(t instanceof Object){if(s("SubmodelElement.idShort: "+t.idShort),r&&"string"==typeof r&&r.length>0&&!new RegExp(r).test(t.idShort)){a("submodel not of interest");continue}if(t.value&&t.value instanceof Array){let e={};for(const r of t.value)r instanceof Object&&"EndpointMetadata"===r.idShort&&(a("EndpointMetadata"),e=r,b.push(e));for(const r of t.value)if(r instanceof Object&&"InterfaceMetadata"===r.idShort&&(a("InterfaceMetadata"),r.value&&r.value instanceof Array))for(const t of r.value)if("Properties"===t.idShort){if(t.value instanceof Array)for(const r of t.value){a("Property: "+r.idShort),h.has(r.idShort)||h.set(r.idShort,[]);const t={endpointMetadata:e,interaction:r};null===(n=h.get(r.idShort))||void 0===n||n.push(t)}}else if("Operations"===t.idShort){if(t.value instanceof Array)for(const r of t.value){a("Action: "+r.idShort),d.has(r.idShort)||d.set(r.idShort,[]);const t={endpointMetadata:e,interaction:r};null===(i=d.get(r.idShort))||void 0===i||i.push(t)}}else if("Events"===t.idShort&&t.value instanceof Array)for(const r of t.value){a("Event: "+r.idShort),p.has(r.idShort)||p.set(r.idShort,[]);const t={endpointMetadata:e,interaction:r};null===(o=p.get(r.idShort))||void 0===o||o.push(t)}}}f.securityDefinitions||(f.securityDefinitions={});let y=1;const m=new Array,v=new Map;for(const e of b){const t=[],r=this.getSecuritySchemesFromEndpointMetadata(e);if(void 0===r)f.securityDefinitions["0_sc"]=c,m.push(u),t.push(u);else for(const e of r){const r=y+"_sc";f.securityDefinitions[r]=e,m.push(r),t.push(r),y++}v.set(e,t)}if(0===m.length?(f.securityDefinitions.nosec_sc=c,f.security=[u]):f.security=m,s("########### PROPERTIES ("+h.size+")"),h.size>0){f.properties={};for(const e of h.entries()){const t=e[0],r=e[1];a("Property"+t+" = "+r),f.properties[t]={},f.properties[t].forms=[];for(const e of r){e.endpointMetadata&&(e.secNamesForEndpoint=v.get(e.endpointMetadata));const r=this.createInteractionForm(e,b.length>1);f.properties[t].forms.push(r)}}}if(s("########### ACTIONS ("+d.size+")"),d.size>0){f.actions={};for(const e of d.entries()){const t=e[0],r=e[1];a("Action"+t+" = "+r),f.actions[t]={},f.actions[t].forms=[];for(const e of r){e.endpointMetadata&&(e.secNamesForEndpoint=v.get(e.endpointMetadata));const r=this.createInteractionForm(e,b.length>1);f.properties[t].forms.push(r)}}}if(s("########### EVENTS ("+p.size+")"),p.size>0){f.events={};for(const e of p.entries()){const t=e[0],r=e[1];a("Event "+t+" = "+r),f.events[t]={},f.events[t].forms=[];for(const e of r){e.endpointMetadata&&(e.secNamesForEndpoint=v.get(e.endpointMetadata));const r=this.createInteractionForm(e,b.length>1);f.properties[t].forms.push(r)}}}return JSON.stringify(f)}}},44892:e=>{const{AbortController:t,AbortSignal:r}="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0;e.exports=t,e.exports.AbortSignal=r,e.exports.default=t},45982:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=void 0;const n=r(67640);t.KeywordCxt=n.default;var i=r(5648);Object.defineProperty(t,"_",{enumerable:!0,get:function(){return i._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return i.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return i.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return i.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return i.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return i.CodeGen}});const o=r(42877),s=r(25761),a=r(21379),c=["/properties"],u="http://json-schema.org/draft-07/schema";class f extends o.default{_addVocabularies(){super._addVocabularies(),s.default.forEach((e=>this.addVocabulary(e)))}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const e=this.opts.$data?this.$dataMetaSchema(a,c):a;this.addMetaSchema(e,u,!1),this.refs["http://json-schema.org/schema"]=u}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(u)?u:void 0)}}t.default=f},4501:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getProperty=t.safeStringify=t.stringify=t.strConcat=t.addCodeArg=t.str=t._=t.nil=t._Code=t.Name=t.IDENTIFIER=t._CodeOrName=void 0;class r{}t._CodeOrName=r,t.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class n extends r{constructor(e){if(super(),!t.IDENTIFIER.test(e))throw new Error("CodeGen: name must be a valid identifier");this.str=e}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}t.Name=n;class i extends r{constructor(e){super(),this._items="string"==typeof e?[e]:e}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const e=this._items[0];return""===e||'""'===e}get str(){var e;return null!==(e=this._str)&&void 0!==e?e:this._str=this._items.reduce(((e,t)=>`${e}${t}`),"")}get names(){var e;return null!==(e=this._names)&&void 0!==e?e:this._names=this._items.reduce(((e,t)=>(t instanceof n&&(e[t.str]=(e[t.str]||0)+1),e)),{})}}function o(e,...t){const r=[e[0]];let n=0;for(;n<t.length;)c(r,t[n]),r.push(e[++n]);return new i(r)}t._Code=i,t.nil=new i(""),t._=o;const s=new i("+");function a(e,...t){const r=[f(e[0])];let n=0;for(;n<t.length;)r.push(s),c(r,t[n]),r.push(s,f(e[++n]));return function(e){let t=1;for(;t<e.length-1;){if(e[t]===s){const r=u(e[t-1],e[t+1]);if(void 0!==r){e.splice(t-1,3,r);continue}e[t++]="+"}t++}}(r),new i(r)}function c(e,t){var r;t instanceof i?e.push(...t._items):t instanceof n?e.push(t):e.push("number"==typeof(r=t)||"boolean"==typeof r||null===r?r:f(Array.isArray(r)?r.join(","):r))}function u(e,t){if('""'===t)return e;if('""'===e)return t;if("string"==typeof e){if(t instanceof n||'"'!==e[e.length-1])return;return"string"!=typeof t?`${e.slice(0,-1)}${t}"`:'"'===t[0]?e.slice(0,-1)+t.slice(1):void 0}return"string"!=typeof t||'"'!==t[0]||e instanceof n?void 0:`"${e}${t.slice(1)}`}function f(e){return JSON.stringify(e).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}t.str=a,t.addCodeArg=c,t.strConcat=function(e,t){return t.emptyStr()?e:e.emptyStr()?t:a`${e}${t}`},t.stringify=function(e){return new i(f(e))},t.safeStringify=f,t.getProperty=function(e){return"string"==typeof e&&t.IDENTIFIER.test(e)?new i(`.${e}`):o`[${e}]`}},5648:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.or=t.and=t.not=t.CodeGen=t.operators=t.varKinds=t.ValueScopeName=t.ValueScope=t.Scope=t.Name=t.stringify=t.getProperty=t.nil=t.strConcat=t.str=t._=void 0;const n=r(4501),i=r(78227);var o=r(4501);Object.defineProperty(t,"_",{enumerable:!0,get:function(){return o._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return o.str}}),Object.defineProperty(t,"strConcat",{enumerable:!0,get:function(){return o.strConcat}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return o.nil}}),Object.defineProperty(t,"getProperty",{enumerable:!0,get:function(){return o.getProperty}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return o.stringify}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return o.Name}});var s=r(78227);Object.defineProperty(t,"Scope",{enumerable:!0,get:function(){return s.Scope}}),Object.defineProperty(t,"ValueScope",{enumerable:!0,get:function(){return s.ValueScope}}),Object.defineProperty(t,"ValueScopeName",{enumerable:!0,get:function(){return s.ValueScopeName}}),Object.defineProperty(t,"varKinds",{enumerable:!0,get:function(){return s.varKinds}}),t.operators={GT:new n._Code(">"),GTE:new n._Code(">="),LT:new n._Code("<"),LTE:new n._Code("<="),EQ:new n._Code("==="),NEQ:new n._Code("!=="),NOT:new n._Code("!"),OR:new n._Code("||"),AND:new n._Code("&&"),ADD:new n._Code("+")};class a{optimizeNodes(){return this}optimizeNames(e,t){return this}}class c extends a{constructor(e,t,r){super(),this.varKind=e,this.name=t,this.rhs=r}render({es5:e,_n:t}){const r=e?i.varKinds.var:this.varKind,n=void 0===this.rhs?"":` = ${this.rhs}`;return`${r} ${this.name}${n};`+t}optimizeNames(e,t){if(e[this.name.str])return this.rhs&&(this.rhs=k(this.rhs,e,t)),this}get names(){return this.rhs instanceof n._CodeOrName?this.rhs.names:{}}}class u extends a{constructor(e,t,r){super(),this.lhs=e,this.rhs=t,this.sideEffects=r}render({_n:e}){return`${this.lhs} = ${this.rhs};`+e}optimizeNames(e,t){if(!(this.lhs instanceof n.Name)||e[this.lhs.str]||this.sideEffects)return this.rhs=k(this.rhs,e,t),this}get names(){return j(this.lhs instanceof n.Name?{}:{...this.lhs.names},this.rhs)}}class f extends u{constructor(e,t,r,n){super(e,r,n),this.op=t}render({_n:e}){return`${this.lhs} ${this.op}= ${this.rhs};`+e}}class l extends a{constructor(e){super(),this.label=e,this.names={}}render({_n:e}){return`${this.label}:`+e}}class h extends a{constructor(e){super(),this.label=e,this.names={}}render({_n:e}){return`break${this.label?` ${this.label}`:""};`+e}}class d extends a{constructor(e){super(),this.error=e}render({_n:e}){return`throw ${this.error};`+e}get names(){return this.error.names}}class p extends a{constructor(e){super(),this.code=e}render({_n:e}){return`${this.code};`+e}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(e,t){return this.code=k(this.code,e,t),this}get names(){return this.code instanceof n._CodeOrName?this.code.names:{}}}class b extends a{constructor(e=[]){super(),this.nodes=e}render(e){return this.nodes.reduce(((t,r)=>t+r.render(e)),"")}optimizeNodes(){const{nodes:e}=this;let t=e.length;for(;t--;){const r=e[t].optimizeNodes();Array.isArray(r)?e.splice(t,1,...r):r?e[t]=r:e.splice(t,1)}return e.length>0?this:void 0}optimizeNames(e,t){const{nodes:r}=this;let n=r.length;for(;n--;){const i=r[n];i.optimizeNames(e,t)||($(e,i.names),r.splice(n,1))}return r.length>0?this:void 0}get names(){return this.nodes.reduce(((e,t)=>P(e,t.names)),{})}}class y extends b{render(e){return"{"+e._n+super.render(e)+"}"+e._n}}class m extends b{}class v extends y{}v.kind="else";class g extends y{constructor(e,t){super(t),this.condition=e}render(e){let t=`if(${this.condition})`+super.render(e);return this.else&&(t+="else "+this.else.render(e)),t}optimizeNodes(){super.optimizeNodes();const e=this.condition;if(!0===e)return this.nodes;let t=this.else;if(t){const e=t.optimizeNodes();t=this.else=Array.isArray(e)?new v(e):e}return t?!1===e?t instanceof g?t:t.nodes:this.nodes.length?this:new g(C(e),t instanceof g?[t]:t.nodes):!1!==e&&this.nodes.length?this:void 0}optimizeNames(e,t){var r;if(this.else=null===(r=this.else)||void 0===r?void 0:r.optimizeNames(e,t),super.optimizeNames(e,t)||this.else)return this.condition=k(this.condition,e,t),this}get names(){const e=super.names;return j(e,this.condition),this.else&&P(e,this.else.names),e}}g.kind="if";class w extends y{}w.kind="for";class _ extends w{constructor(e){super(),this.iteration=e}render(e){return`for(${this.iteration})`+super.render(e)}optimizeNames(e,t){if(super.optimizeNames(e,t))return this.iteration=k(this.iteration,e,t),this}get names(){return P(super.names,this.iteration.names)}}class S extends w{constructor(e,t,r,n){super(),this.varKind=e,this.name=t,this.from=r,this.to=n}render(e){const t=e.es5?i.varKinds.var:this.varKind,{name:r,from:n,to:o}=this;return`for(${t} ${r}=${n}; ${r}<${o}; ${r}++)`+super.render(e)}get names(){const e=j(super.names,this.from);return j(e,this.to)}}class E extends w{constructor(e,t,r,n){super(),this.loop=e,this.varKind=t,this.name=r,this.iterable=n}render(e){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(e)}optimizeNames(e,t){if(super.optimizeNames(e,t))return this.iterable=k(this.iterable,e,t),this}get names(){return P(super.names,this.iterable.names)}}class O extends y{constructor(e,t,r){super(),this.name=e,this.args=t,this.async=r}render(e){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(e)}}O.kind="func";class T extends b{render(e){return"return "+super.render(e)}}T.kind="return";class x extends y{render(e){let t="try"+super.render(e);return this.catch&&(t+=this.catch.render(e)),this.finally&&(t+=this.finally.render(e)),t}optimizeNodes(){var e,t;return super.optimizeNodes(),null===(e=this.catch)||void 0===e||e.optimizeNodes(),null===(t=this.finally)||void 0===t||t.optimizeNodes(),this}optimizeNames(e,t){var r,n;return super.optimizeNames(e,t),null===(r=this.catch)||void 0===r||r.optimizeNames(e,t),null===(n=this.finally)||void 0===n||n.optimizeNames(e,t),this}get names(){const e=super.names;return this.catch&&P(e,this.catch.names),this.finally&&P(e,this.finally.names),e}}class A extends y{constructor(e){super(),this.error=e}render(e){return`catch(${this.error})`+super.render(e)}}A.kind="catch";class M extends y{render(e){return"finally"+super.render(e)}}function P(e,t){for(const r in t)e[r]=(e[r]||0)+(t[r]||0);return e}function j(e,t){return t instanceof n._CodeOrName?P(e,t.names):e}function k(e,t,r){return e instanceof n.Name?o(e):(i=e)instanceof n._Code&&i._items.some((e=>e instanceof n.Name&&1===t[e.str]&&void 0!==r[e.str]))?new n._Code(e._items.reduce(((e,t)=>(t instanceof n.Name&&(t=o(t)),t instanceof n._Code?e.push(...t._items):e.push(t),e)),[])):e;var i;function o(e){const n=r[e.str];return void 0===n||1!==t[e.str]?e:(delete t[e.str],n)}}function $(e,t){for(const r in t)e[r]=(e[r]||0)-(t[r]||0)}function C(e){return"boolean"==typeof e||"number"==typeof e||null===e?!e:n._`!${L(e)}`}M.kind="finally",t.CodeGen=class{constructor(e,t={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...t,_n:t.lines?"\n":""},this._extScope=e,this._scope=new i.Scope({parent:e}),this._nodes=[new m]}toString(){return this._root.render(this.opts)}name(e){return this._scope.name(e)}scopeName(e){return this._extScope.name(e)}scopeValue(e,t){const r=this._extScope.value(e,t);return(this._values[r.prefix]||(this._values[r.prefix]=new Set)).add(r),r}getScopeValue(e,t){return this._extScope.getValue(e,t)}scopeRefs(e){return this._extScope.scopeRefs(e,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(e,t,r,n){const i=this._scope.toName(t);return void 0!==r&&n&&(this._constants[i.str]=r),this._leafNode(new c(e,i,r)),i}const(e,t,r){return this._def(i.varKinds.const,e,t,r)}let(e,t,r){return this._def(i.varKinds.let,e,t,r)}var(e,t,r){return this._def(i.varKinds.var,e,t,r)}assign(e,t,r){return this._leafNode(new u(e,t,r))}add(e,r){return this._leafNode(new f(e,t.operators.ADD,r))}code(e){return"function"==typeof e?e():e!==n.nil&&this._leafNode(new p(e)),this}object(...e){const t=["{"];for(const[r,i]of e)t.length>1&&t.push(","),t.push(r),(r!==i||this.opts.es5)&&(t.push(":"),n.addCodeArg(t,i));return t.push("}"),new n._Code(t)}if(e,t,r){if(this._blockNode(new g(e)),t&&r)this.code(t).else().code(r).endIf();else if(t)this.code(t).endIf();else if(r)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(e){return this._elseNode(new g(e))}else(){return this._elseNode(new v)}endIf(){return this._endBlockNode(g,v)}_for(e,t){return this._blockNode(e),t&&this.code(t).endFor(),this}for(e,t){return this._for(new _(e),t)}forRange(e,t,r,n,o=(this.opts.es5?i.varKinds.var:i.varKinds.let)){const s=this._scope.toName(e);return this._for(new S(o,s,t,r),(()=>n(s)))}forOf(e,t,r,o=i.varKinds.const){const s=this._scope.toName(e);if(this.opts.es5){const e=t instanceof n.Name?t:this.var("_arr",t);return this.forRange("_i",0,n._`${e}.length`,(t=>{this.var(s,n._`${e}[${t}]`),r(s)}))}return this._for(new E("of",o,s,t),(()=>r(s)))}forIn(e,t,r,o=(this.opts.es5?i.varKinds.var:i.varKinds.const)){if(this.opts.ownProperties)return this.forOf(e,n._`Object.keys(${t})`,r);const s=this._scope.toName(e);return this._for(new E("in",o,s,t),(()=>r(s)))}endFor(){return this._endBlockNode(w)}label(e){return this._leafNode(new l(e))}break(e){return this._leafNode(new h(e))}return(e){const t=new T;if(this._blockNode(t),this.code(e),1!==t.nodes.length)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(T)}try(e,t,r){if(!t&&!r)throw new Error('CodeGen: "try" without "catch" and "finally"');const n=new x;if(this._blockNode(n),this.code(e),t){const e=this.name("e");this._currNode=n.catch=new A(e),t(e)}return r&&(this._currNode=n.finally=new M,this.code(r)),this._endBlockNode(A,M)}throw(e){return this._leafNode(new d(e))}block(e,t){return this._blockStarts.push(this._nodes.length),e&&this.code(e).endBlock(t),this}endBlock(e){const t=this._blockStarts.pop();if(void 0===t)throw new Error("CodeGen: not in self-balancing block");const r=this._nodes.length-t;if(r<0||void 0!==e&&r!==e)throw new Error(`CodeGen: wrong number of nodes: ${r} vs ${e} expected`);return this._nodes.length=t,this}func(e,t=n.nil,r,i){return this._blockNode(new O(e,t,r)),i&&this.code(i).endFunc(),this}endFunc(){return this._endBlockNode(O)}optimize(e=1){for(;e-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(e){return this._currNode.nodes.push(e),this}_blockNode(e){this._currNode.nodes.push(e),this._nodes.push(e)}_endBlockNode(e,t){const r=this._currNode;if(r instanceof e||t&&r instanceof t)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${t?`${e.kind}/${t.kind}`:e.kind}"`)}_elseNode(e){const t=this._currNode;if(!(t instanceof g))throw new Error('CodeGen: "else" without "if"');return this._currNode=t.else=e,this}get _root(){return this._nodes[0]}get _currNode(){const e=this._nodes;return e[e.length-1]}set _currNode(e){const t=this._nodes;t[t.length-1]=e}},t.not=C;const I=N(t.operators.AND);t.and=function(...e){return e.reduce(I)};const R=N(t.operators.OR);function N(e){return(t,r)=>t===n.nil?r:r===n.nil?t:n._`${L(t)} ${e} ${L(r)}`}function L(e){return e instanceof n.Name?e:n._`(${e})`}t.or=function(...e){return e.reduce(R)}},78227:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ValueScope=t.ValueScopeName=t.Scope=t.varKinds=t.UsedValueState=void 0;const n=r(4501);class i extends Error{constructor(e){super(`CodeGen: "code" for ${e} not defined`),this.value=e.value}}var o;!function(e){e[e.Started=0]="Started",e[e.Completed=1]="Completed"}(o=t.UsedValueState||(t.UsedValueState={})),t.varKinds={const:new n.Name("const"),let:new n.Name("let"),var:new n.Name("var")};class s{constructor({prefixes:e,parent:t}={}){this._names={},this._prefixes=e,this._parent=t}toName(e){return e instanceof n.Name?e:this.name(e)}name(e){return new n.Name(this._newName(e))}_newName(e){return`${e}${(this._names[e]||this._nameGroup(e)).index++}`}_nameGroup(e){var t,r;if((null===(r=null===(t=this._parent)||void 0===t?void 0:t._prefixes)||void 0===r?void 0:r.has(e))||this._prefixes&&!this._prefixes.has(e))throw new Error(`CodeGen: prefix "${e}" is not allowed in this scope`);return this._names[e]={prefix:e,index:0}}}t.Scope=s;class a extends n.Name{constructor(e,t){super(t),this.prefix=e}setValue(e,{property:t,itemIndex:r}){this.value=e,this.scopePath=n._`.${new n.Name(t)}[${r}]`}}t.ValueScopeName=a;const c=n._`\n`;t.ValueScope=class extends s{constructor(e){super(e),this._values={},this._scope=e.scope,this.opts={...e,_n:e.lines?c:n.nil}}get(){return this._scope}name(e){return new a(e,this._newName(e))}value(e,t){var r;if(void 0===t.ref)throw new Error("CodeGen: ref must be passed in value");const n=this.toName(e),{prefix:i}=n,o=null!==(r=t.key)&&void 0!==r?r:t.ref;let s=this._values[i];if(s){const e=s.get(o);if(e)return e}else s=this._values[i]=new Map;s.set(o,n);const a=this._scope[i]||(this._scope[i]=[]),c=a.length;return a[c]=t.ref,n.setValue(t,{property:i,itemIndex:c}),n}getValue(e,t){const r=this._values[e];if(r)return r.get(t)}scopeRefs(e,t=this._values){return this._reduceValues(t,(t=>{if(void 0===t.scopePath)throw new Error(`CodeGen: name "${t}" has no value`);return n._`${e}${t.scopePath}`}))}scopeCode(e=this._values,t,r){return this._reduceValues(e,(e=>{if(void 0===e.value)throw new Error(`CodeGen: name "${e}" has no value`);return e.value.code}),t,r)}_reduceValues(e,r,s={},a){let c=n.nil;for(const u in e){const f=e[u];if(!f)continue;const l=s[u]=s[u]||new Map;f.forEach((e=>{if(l.has(e))return;l.set(e,o.Started);let s=r(e);if(s){const r=this.opts.es5?t.varKinds.var:t.varKinds.const;c=n._`${c}${r} ${e} = ${s};${this.opts._n}`}else{if(!(s=null==a?void 0:a(e)))throw new i(e);c=n._`${c}${s}${this.opts._n}`}l.set(e,o.Completed)}))}return c}}},67640:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getData=void 0;const n=r(57553),i=r(43928),o=r(95495),s=r(5648),a=r(19522),c=r(91962);t.default=class{constructor(e,t,r){if(function({schema:e,opts:t,self:r},n,i){if(Array.isArray(n.keyword)?!n.keyword.includes(i):n.keyword!==i)throw new Error("ajv implementation error");const o=n.dependencies;if(null==o?void 0:o.some((t=>!Object.prototype.hasOwnProperty.call(e,t))))throw new Error(`parent schema must have dependencies of ${i}: ${o.join(",")}`);if(n.validateSchema&&!n.validateSchema(e[i])){const e="keyword value is invalid: "+r.errorsText(n.validateSchema.errors);if("log"!==t.validateSchema)throw new Error(e);r.logger.error(e)}}(e,t,r),this.gen=e.gen,this.allErrors=e.allErrors,this.keyword=r,this.data=e.data,this.schema=e.schema[r],this.$data=t.$data&&e.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=i.schemaRefOrVal(e,this.schema,r,this.$data),this.schemaType=t.schemaType,this.parentSchema=e.schema,this.params={},this.it=e,this.def=t,this.$data)this.schemaCode=e.gen.const("vSchema",l(this.$data,e));else if(this.schemaCode=this.schemaValue,!function(e,t,r=!1){return!t.length||t.some((t=>"array"===t?Array.isArray(e):"object"===t?e&&"object"==typeof e&&!Array.isArray(e):typeof e==t||r&&void 0===e))}(this.schema,t.schemaType,t.allowUndefined))throw new Error(`${r} value must be ${JSON.stringify(t.schemaType)}`);("code"in t?t.trackErrors:!1!==t.errors)&&(this.errsCount=e.gen.const("_errs",a.default.errors))}result(e,t,r){this.gen.if(s.not(e)),r?r():this.error(),t?(this.gen.else(),t(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(e,t){this.result(e,void 0,t)}fail(e){if(void 0===e)return this.error(),void(this.allErrors||this.gen.if(!1));this.gen.if(e),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(e){if(!this.$data)return this.fail(e);const{schemaCode:t}=this;this.fail(s._`${t} !== undefined && (${s.or(this.invalid$data(),e)})`)}error(e){(e?o.reportExtraError:o.reportError)(this,this.def.error)}$dataError(){o.reportError(this,this.def.$dataError||o.keyword$DataError)}reset(){if(void 0===this.errsCount)throw new Error('add "trackErrors" to keyword definition');o.resetErrorsCount(this.gen,this.errsCount)}ok(e){this.allErrors||this.gen.if(e)}setParams(e,t){t?Object.assign(this.params,e):this.params=e}block$data(e,t,r=s.nil){this.gen.block((()=>{this.check$data(e,r),t()}))}check$data(e=s.nil,t=s.nil){if(!this.$data)return;const{gen:r,schemaCode:n,schemaType:i,def:o}=this;r.if(s.or(s._`${n} === undefined`,t)),e!==s.nil&&r.assign(e,!0),(i.length||o.validateSchema)&&(r.elseIf(this.invalid$data()),this.$dataError(),e!==s.nil&&r.assign(e,!1)),r.else()}invalid$data(){const{gen:e,schemaCode:t,schemaType:r,def:i,it:o}=this;return s.or(function(){if(r.length){if(!(t instanceof s.Name))throw new Error("ajv implementation error");const e=Array.isArray(r)?r:[r];return s._`${n.checkDataTypes(e,t,o.opts.strict,n.DataType.Wrong)}`}return s.nil}(),function(){if(i.validateSchema){const r=e.scopeValue("validate$data",{ref:i.validateSchema});return s._`!${r}(${t})`}return s.nil}())}subschema(e,t){return c.applySubschema(this.it,e,t)}mergeEvaluated(e,t){const{it:r,gen:n}=this;r.opts.unevaluated&&(!0!==r.props&&void 0!==e.props&&(r.props=i.mergeEvaluated.props(n,e.props,r.props,t)),!0!==r.items&&void 0!==e.items&&(r.items=i.mergeEvaluated.items(n,e.items,r.items,t)))}mergeValidEvaluated(e,t){const{it:r,gen:n}=this;if(r.opts.unevaluated&&(!0!==r.props||!0!==r.items))return n.if(t,(()=>this.mergeEvaluated(e,s.Name))),!0}};const u=/^\/(?:[^~]|~0|~1)*$/,f=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function l(e,{dataLevel:t,dataNames:r,dataPathArr:n}){let o,c;if(""===e)return a.default.rootData;if("/"===e[0]){if(!u.test(e))throw new Error(`Invalid JSON-pointer: ${e}`);o=e,c=a.default.rootData}else{const i=f.exec(e);if(!i)throw new Error(`Invalid JSON-pointer: ${e}`);const s=+i[1];if(o=i[2],"#"===o){if(s>=t)throw new Error(d("property/index",s));return n[t-s]}if(s>t)throw new Error(d("data",s));if(c=r[t-s],!o)return c}let l=c;const h=o.split("/");for(const e of h)e&&(c=s._`${c}${s.getProperty(i.unescapeJsonPointer(e))}`,l=s._`${l} && ${c}`);return l;function d(e,r){return`Cannot access ${e} ${r} levels up, current level is ${t}`}}t.getData=l},63661:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.MissingRefError=t.ValidationError=void 0;const n=r(21044);class i extends Error{constructor(e){super("validation failed"),this.errors=e,this.ajv=this.validation=!0}}t.ValidationError=i;class o extends Error{constructor(e,t,r){super(r||`can't resolve reference ${t} from id ${e}`),this.missingRef=n.resolveUrl(e,t),this.missingSchema=n.normalizeId(n.getFullPath(this.missingRef))}}t.MissingRefError=o,e.exports={ValidationError:i,MissingRefError:o}},95495:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.extendErrors=t.resetErrorsCount=t.reportExtraError=t.reportError=t.keyword$DataError=t.keywordError=void 0;const n=r(5648),i=r(19522);function o(e,t){const r=e.const("err",t);e.if(n._`${i.default.vErrors} === null`,(()=>e.assign(i.default.vErrors,n._`[${r}]`)),n._`${i.default.vErrors}.push(${r})`),e.code(n._`${i.default.errors}++`)}function s(e,t){const{gen:r,validateName:i,schemaEnv:o}=e;o.$async?r.throw(n._`new ${e.ValidationError}(${t})`):(r.assign(n._`${i}.errors`,t),r.return(!1))}t.keywordError={message:({keyword:e})=>n.str`should pass "${e}" keyword validation`},t.keyword$DataError={message:({keyword:e,schemaType:t})=>t?n.str`"${e}" keyword must be ${t} ($data)`:n.str`"${e}" keyword is invalid ($data)`},t.reportError=function(e,r=t.keywordError,i){const{it:a}=e,{gen:u,compositeRule:f,allErrors:l}=a,h=c(e,r);(null!=i?i:f||l)?o(u,h):s(a,n._`[${h}]`)},t.reportExtraError=function(e,r=t.keywordError){const{it:n}=e,{gen:a,compositeRule:u,allErrors:f}=n;o(a,c(e,r)),u||f||s(n,i.default.vErrors)},t.resetErrorsCount=function(e,t){e.assign(i.default.errors,t),e.if(n._`${i.default.vErrors} !== null`,(()=>e.if(t,(()=>e.assign(n._`${i.default.vErrors}.length`,t)),(()=>e.assign(i.default.vErrors,null)))))},t.extendErrors=function({gen:e,keyword:t,schemaValue:r,data:o,errsCount:s,it:a}){if(void 0===s)throw new Error("ajv implementation error");const c=e.name("err");e.forRange("i",s,i.default.errors,(s=>{e.const(c,n._`${i.default.vErrors}[${s}]`),e.if(n._`${c}.dataPath === undefined`,(()=>e.assign(n._`${c}.dataPath`,n.strConcat(i.default.dataPath,a.errorPath)))),e.assign(n._`${c}.schemaPath`,n.str`${a.errSchemaPath}/${t}`),a.opts.verbose&&(e.assign(n._`${c}.schema`,r),e.assign(n._`${c}.data`,o))}))};const a={keyword:new n.Name("keyword"),schemaPath:new n.Name("schemaPath"),params:new n.Name("params"),propertyName:new n.Name("propertyName"),message:new n.Name("message"),schema:new n.Name("schema"),parentSchema:new n.Name("parentSchema"),instancePath:new n.Name("instancePath")};function c(e,t){const{createErrors:r,opts:i}=e.it;return!1===r?n._`{}`:(i.jtd&&!i.ajvErrors?u:f)(e,t)}function u(e,{message:t}){const{gen:r,keyword:o,it:s}=e,{errorPath:c,errSchemaPath:u,opts:f}=s,l=[[a.instancePath,n.strConcat(i.default.dataPath,c)],[a.schemaPath,n.str`${u}/${o}`]];return f.messages&&l.push([a.message,"function"==typeof t?t(e):t]),r.object(...l)}function f(e,t){const{gen:r,keyword:o,data:s,schemaValue:c,it:u}=e,{topSchemaRef:f,schemaPath:l,errorPath:h,errSchemaPath:d,propertyName:p,opts:b}=u,{params:y,message:m}=t,v=[[a.keyword,o],[i.default.dataPath,n.strConcat(i.default.dataPath,h)],[a.schemaPath,n.str`${d}/${o}`],[a.params,"function"==typeof y?y(e):y||n._`{}`]];return p&&v.push([a.propertyName,p]),b.messages&&v.push([a.message,"function"==typeof m?m(e):m]),b.verbose&&v.push([a.schema,c],[a.parentSchema,n._`${f}${l}`],[i.default.data,s]),r.object(...v)}},13248:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.resolveSchema=t.getCompilingSchema=t.resolveRef=t.compileSchema=t.SchemaEnv=void 0;const n=r(5648),i=r(63661),o=r(19522),s=r(21044),a=r(43928),c=r(14872),u=r(3654);class f{constructor(e){var t;let r;this.refs={},this.dynamicAnchors={},"object"==typeof e.schema&&(r=e.schema),this.schema=e.schema,this.root=e.root||this,this.baseId=null!==(t=e.baseId)&&void 0!==t?t:s.normalizeId(null==r?void 0:r.$id),this.localRefs=e.localRefs,this.meta=e.meta,this.$async=null==r?void 0:r.$async,this.refs={}}}function l(e){const t=d.call(this,e);if(t)return t;const r=s.getFullPath(e.root.baseId),{es5:a,lines:u}=this.opts.code,{ownProperties:f}=this.opts,l=new n.CodeGen(this.scope,{es5:a,lines:u,ownProperties:f});let h;e.$async&&(h=l.scopeValue("Error",{ref:i.ValidationError,code:n._`require("ajv/dist/compile/error_classes").ValidationError`}));const p=l.scopeName("validate");e.validateName=p;const b={gen:l,allErrors:this.opts.allErrors,data:o.default.data,parentData:o.default.parentData,parentDataProperty:o.default.parentDataProperty,dataNames:[o.default.data],dataPathArr:[n.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:l.scopeValue("schema",!0===this.opts.code.source?{ref:e.schema,code:n.stringify(e.schema)}:{ref:e.schema}),validateName:p,ValidationError:h,schema:e.schema,schemaEnv:e,rootId:r,baseId:e.baseId||r,schemaPath:n.nil,errSchemaPath:this.opts.jtd?"":"#",errorPath:n._`""`,opts:this.opts,self:this};let y;try{this._compilations.add(e),c.validateFunctionCode(b),l.optimize(this.opts.code.optimize);const t=l.toString();y=`${l.scopeRefs(o.default.scope)}return ${t}`,this.opts.code.process&&(y=this.opts.code.process(y,e));const r=new Function(`${o.default.self}`,`${o.default.scope}`,y)(this,this.scope.get());if(this.scope.value(p,{ref:r}),r.errors=null,r.schema=e.schema,r.schemaEnv=e,e.$async&&(r.$async=!0),!0===this.opts.code.source&&(r.source={validateName:p,validateCode:t,scopeValues:l._values}),this.opts.unevaluated){const{props:e,items:t}=b;r.evaluated={props:e instanceof n.Name?void 0:e,items:t instanceof n.Name?void 0:t,dynamicProps:e instanceof n.Name,dynamicItems:t instanceof n.Name},r.source&&(r.source.evaluated=n.stringify(r.evaluated))}return e.validate=r,e}catch(t){throw delete e.validate,delete e.validateName,y&&this.logger.error("Error compiling schema, function code:",y),t}finally{this._compilations.delete(e)}}function h(e){return s.inlineRef(e.schema,this.opts.inlineRefs)?e.schema:e.validate?e:l.call(this,e)}function d(e){for(const n of this._compilations)if(r=e,(t=n).schema===r.schema&&t.root===r.root&&t.baseId===r.baseId)return n;var t,r}function p(e,t){let r;for(;"string"==typeof(r=this.refs[t]);)t=r;return r||this.schemas[t]||b.call(this,e,t)}function b(e,t){const r=u.parse(t),n=s._getFullPath(r);let i=s.getFullPath(e.baseId);if(Object.keys(e.schema).length>0&&n===i)return m.call(this,r,e);const o=s.normalizeId(n),a=this.refs[o]||this.schemas[o];if("string"==typeof a){const t=b.call(this,e,a);if("object"!=typeof(null==t?void 0:t.schema))return;return m.call(this,r,t)}if("object"==typeof(null==a?void 0:a.schema)){if(a.validate||l.call(this,a),o===s.normalizeId(t)){const{schema:t}=a;return t.$id&&(i=s.resolveUrl(i,t.$id)),new f({schema:t,root:e,baseId:i})}return m.call(this,r,a)}}t.SchemaEnv=f,t.compileSchema=l,t.resolveRef=function(e,t,r){var n;r=s.resolveUrl(t,r);const i=e.refs[r];if(i)return i;let o=p.call(this,e,r);if(void 0===o){const i=null===(n=e.localRefs)||void 0===n?void 0:n[r];i&&(o=new f({schema:i,root:e,baseId:t}))}return void 0!==o?e.refs[r]=h.call(this,o):void 0},t.getCompilingSchema=d,t.resolveSchema=b;const y=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function m(e,{baseId:t,schema:r,root:n}){var i;if("/"!==(null===(i=e.fragment)||void 0===i?void 0:i[0]))return;for(const n of e.fragment.slice(1).split("/")){if("boolean"==typeof r)return;if(void 0===(r=r[a.unescapeFragment(n)]))return;!y.has(n)&&"object"==typeof r&&r.$id&&(t=s.resolveUrl(t,r.$id))}let o;if("boolean"!=typeof r&&r.$ref&&!a.schemaHasRulesButRef(r,this.RULES)){const e=s.resolveUrl(t,r.$ref);o=b.call(this,n,e)}return o=o||new f({schema:r,root:n,baseId:t}),o.schema!==o.root.schema?o:void 0}},19522:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(5648),i={data:new n.Name("data"),valCxt:new n.Name("valCxt"),dataPath:new n.Name("dataPath"),parentData:new n.Name("parentData"),parentDataProperty:new n.Name("parentDataProperty"),rootData:new n.Name("rootData"),dynamicAnchors:new n.Name("dynamicAnchors"),vErrors:new n.Name("vErrors"),errors:new n.Name("errors"),this:new n.Name("this"),self:new n.Name("self"),scope:new n.Name("scope"),json:new n.Name("json"),jsonPos:new n.Name("jsonPos"),jsonLen:new n.Name("jsonLen"),jsonPart:new n.Name("jsonPart")};t.default=i},21044:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getSchemaRefs=t.resolveUrl=t.normalizeId=t._getFullPath=t.getFullPath=t.inlineRef=void 0;const n=r(43928),i=r(89162),o=r(11150),s=r(3654),a=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);t.inlineRef=function(e,t=!0){return"boolean"==typeof e||(!0===t?!u(e):!!t&&f(e)<=t)};const c=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function u(e){for(const t in e){if(c.has(t))return!0;const r=e[t];if(Array.isArray(r)&&r.some(u))return!0;if("object"==typeof r&&u(r))return!0}return!1}function f(e){let t=0;for(const r in e){if("$ref"===r)return 1/0;if(t++,!a.has(r)&&("object"==typeof e[r]&&n.eachItem(e[r],(e=>t+=f(e))),t===1/0))return 1/0}return t}function l(e="",t){return!1!==t&&(e=p(e)),h(s.parse(e))}function h(e){return s.serialize(e).split("#")[0]+"#"}t.getFullPath=l,t._getFullPath=h;const d=/#\/?$/;function p(e){return e?e.replace(d,""):""}t.normalizeId=p,t.resolveUrl=function(e,t){return t=p(t),s.resolve(e,t)};const b=/^[a-z_][-a-z0-9._]*$/i;t.getSchemaRefs=function(e){if("boolean"==typeof e)return{};const t=p(e.$id),r={"":t},n=l(t,!1),a={},c=new Set;return o(e,{allKeys:!0},((e,t,i,o)=>{if(void 0===o)return;const l=n+t;let h=r[o];function d(t){if(t=p(h?s.resolve(h,t):t),c.has(t))throw f(t);c.add(t);let r=this.refs[t];return"string"==typeof r&&(r=this.refs[r]),"object"==typeof r?u(e,r.schema,t):t!==p(l)&&("#"===t[0]?(u(e,a[t],t),a[t]=e):this.refs[t]=l),t}function y(e){if("string"==typeof e){if(!b.test(e))throw new Error(`invalid anchor "${e}"`);d.call(this,`#${e}`)}}"string"==typeof e.$id&&(h=d.call(this,e.$id)),y.call(this,e.$anchor),y.call(this,e.$dynamicAnchor),r[t]=h})),a;function u(e,t,r){if(void 0!==t&&!i(e,t))throw f(r)}function f(e){return new Error(`reference "${e}" resolves to more than one schema`)}}},9358:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getRules=t.isJSONType=void 0;const r=new Set(["string","number","integer","boolean","null","object","array"]);t.isJSONType=function(e){return"string"==typeof e&&r.has(e)},t.getRules=function(){const e={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...e,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},e.number,e.string,e.array,e.object],post:{rules:[]},all:{},keywords:{}}}},91962:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.applySubschema=t.Type=void 0;const n=r(14872),i=r(43928),o=r(5648);var s;!function(e){e[e.Num=0]="Num",e[e.Str=1]="Str"}(s=t.Type||(t.Type={})),t.applySubschema=function(e,t,r){const a=function(e,{keyword:t,schemaProp:r,schema:n,schemaPath:s,errSchemaPath:a,topSchemaRef:c}){if(void 0!==t&&void 0!==n)throw new Error('both "keyword" and "schema" passed, only one allowed');if(void 0!==t){const n=e.schema[t];return void 0===r?{schema:n,schemaPath:o._`${e.schemaPath}${o.getProperty(t)}`,errSchemaPath:`${e.errSchemaPath}/${t}`}:{schema:n[r],schemaPath:o._`${e.schemaPath}${o.getProperty(t)}${o.getProperty(r)}`,errSchemaPath:`${e.errSchemaPath}/${t}/${i.escapeFragment(r)}`}}if(void 0!==n){if(void 0===s||void 0===a||void 0===c)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:n,schemaPath:s,topSchemaRef:c,errSchemaPath:a}}throw new Error('either "keyword" or "schema" must be passed')}(e,t);!function(e,t,{dataProp:r,dataPropType:n,data:a,dataTypes:c,propertyName:u}){if(void 0!==a&&void 0!==r)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:f}=t;if(void 0!==r){const{errorPath:a,dataPathArr:c,opts:u}=t;l(f.let("data",o._`${t.data}${o.getProperty(r)}`,!0)),e.errorPath=o.str`${a}${function(e,t,r){if(e instanceof o.Name){const n=t===s.Num;return r?n?o._`"[" + ${e} + "]"`:o._`"['" + ${e} + "']"`:n?o._`"/" + ${e}`:o._`"/" + ${e}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return r?o.getProperty(e).toString():"/"+i.escapeJsonPointer(e)}(r,n,u.jsPropertySyntax)}`,e.parentDataProperty=o._`${r}`,e.dataPathArr=[...c,e.parentDataProperty]}function l(r){e.data=r,e.dataLevel=t.dataLevel+1,e.dataTypes=[],t.definedProperties=new Set,e.parentData=t.data,e.dataNames=[...t.dataNames,r]}void 0!==a&&(l(a instanceof o.Name?a:f.let("data",a,!0)),void 0!==u&&(e.propertyName=u)),c&&(e.dataTypes=c)}(a,e,t),function(e,{jtdDiscriminator:t,jtdMetadata:r,compositeRule:n,createErrors:i,allErrors:o}){void 0!==n&&(e.compositeRule=n),void 0!==i&&(e.createErrors=i),void 0!==o&&(e.allErrors=o),e.jtdDiscriminator=t,e.jtdMetadata=r}(a,t);const c={...e,...a,items:void 0,props:void 0};return n.subschemaCode(c,r),c}},89185:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=e.length;let r,n=0,i=0;for(;i<t;)n++,r=e.charCodeAt(i++),r>=55296&&r<=56319&&i<t&&(r=e.charCodeAt(i),56320==(64512&r)&&i++);return n}},43928:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.func=t.setEvaluated=t.evaluatedPropsToName=t.mergeEvaluated=t.eachItem=t.unescapeJsonPointer=t.escapeJsonPointer=t.escapeFragment=t.unescapeFragment=t.schemaRefOrVal=t.schemaHasRulesButRef=t.schemaHasRules=t.checkUnknownRules=t.alwaysValidSchema=t.toHash=void 0;const n=r(5648),i=r(14872);function o(e,t=e.schema){const{opts:r,self:n}=e;if(!r.strict)return;if("boolean"==typeof t)return;const o=n.RULES.keywords;for(const r in t)o[r]||i.checkStrictMode(e,`unknown keyword: "${r}"`)}function s(e,t){if("boolean"==typeof e)return!e;for(const r in e)if(t[r])return!0;return!1}function a(e){return"number"==typeof e?`${e}`:e.replace(/~/g,"~0").replace(/\//g,"~1")}function c(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function u({mergeNames:e,mergeToName:t,mergeValues:r,resultToName:i}){return(o,s,a,c)=>{const u=void 0===a?s:a instanceof n.Name?(s instanceof n.Name?e(o,s,a):t(o,s,a),a):s instanceof n.Name?(t(o,a,s),s):r(s,a);return c!==n.Name||u instanceof n.Name?u:i(o,u)}}function f(e,t){if(!0===t)return e.var("props",!0);const r=e.var("props",n._`{}`);return void 0!==t&&l(e,r,t),r}function l(e,t,r){Object.keys(r).forEach((r=>e.assign(n._`${t}${n.getProperty(r)}`,!0)))}t.toHash=function(e){const t={};for(const r of e)t[r]=!0;return t},t.alwaysValidSchema=function(e,t){return"boolean"==typeof t?t:0===Object.keys(t).length||(o(e,t),!s(t,e.self.RULES.all))},t.checkUnknownRules=o,t.schemaHasRules=s,t.schemaHasRulesButRef=function(e,t){if("boolean"==typeof e)return!e;for(const r in e)if("$ref"!==r&&t.all[r])return!0;return!1},t.schemaRefOrVal=function({topSchemaRef:e,schemaPath:t},r,i,o){if(!o){if("number"==typeof r||"boolean"==typeof r)return r;if("string"==typeof r)return n._`${r}`}return n._`${e}${t}${n.getProperty(i)}`},t.unescapeFragment=function(e){return c(decodeURIComponent(e))},t.escapeFragment=function(e){return encodeURIComponent(a(e))},t.escapeJsonPointer=a,t.unescapeJsonPointer=c,t.eachItem=function(e,t){if(Array.isArray(e))for(const r of e)t(r);else t(e)},t.mergeEvaluated={props:u({mergeNames:(e,t,r)=>e.if(n._`${r} !== true && ${t} !== undefined`,(()=>{e.if(n._`${t} === true`,(()=>e.assign(r,!0)),(()=>e.assign(r,n._`${r} || {}`).code(n._`Object.assign(${r}, ${t})`)))})),mergeToName:(e,t,r)=>e.if(n._`${r} !== true`,(()=>{!0===t?e.assign(r,!0):(e.assign(r,n._`${r} || {}`),l(e,r,t))})),mergeValues:(e,t)=>!0===e||{...e,...t},resultToName:f}),items:u({mergeNames:(e,t,r)=>e.if(n._`${r} !== true && ${t} !== undefined`,(()=>e.assign(r,n._`${t} === true ? true : ${r} > ${t} ? ${r} : ${t}`))),mergeToName:(e,t,r)=>e.if(n._`${r} !== true`,(()=>e.assign(r,!0===t||n._`${r} > ${t} ? ${r} : ${t}`))),mergeValues:(e,t)=>!0===e||Math.max(e,t),resultToName:(e,t)=>e.var("items",t)})},t.evaluatedPropsToName=f,t.setEvaluated=l,t.func=function(e,t){return e.scopeValue("func",{ref:t,code:t.code})}},74420:(e,t)=>{function r(e,t){return t.rules.some((t=>n(e,t)))}function n(e,t){var r;return void 0!==e[t.keyword]||(null===(r=t.definition.implements)||void 0===r?void 0:r.some((t=>void 0!==e[t])))}Object.defineProperty(t,"__esModule",{value:!0}),t.shouldUseRule=t.shouldUseGroup=t.schemaHasRulesForType=void 0,t.schemaHasRulesForType=function({schema:e,self:t},n){const i=t.RULES.types[n];return i&&!0!==i&&r(e,i)},t.shouldUseGroup=r,t.shouldUseRule=n},60448:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.boolOrEmptySchema=t.topBoolOrEmptySchema=void 0;const n=r(95495),i=r(5648),o=r(19522),s={message:"boolean schema is false"};function a(e,t){const{gen:r,data:i}=e,o={gen:r,keyword:"false schema",data:i,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:e};n.reportError(o,s,t)}t.topBoolOrEmptySchema=function(e){const{gen:t,schema:r,validateName:n}=e;!1===r?a(e,!1):"object"==typeof r&&!0===r.$async?t.return(o.default.data):(t.assign(i._`${n}.errors`,null),t.return(!0))},t.boolOrEmptySchema=function(e,t){const{gen:r,schema:n}=e;!1===n?(r.var(t,!1),a(e)):r.var(t,!0)}},57553:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.reportTypeError=t.checkDataTypes=t.checkDataType=t.coerceAndCheckDataType=t.getJSONTypes=t.getSchemaTypes=t.DataType=void 0;const n=r(9358),i=r(74420),o=r(95495),s=r(5648),a=r(43928);var c;function u(e){const t=Array.isArray(e)?e:e?[e]:[];if(t.every(n.isJSONType))return t;throw new Error("type must be JSONType or JSONType[]: "+t.join(","))}!function(e){e[e.Correct=0]="Correct",e[e.Wrong=1]="Wrong"}(c=t.DataType||(t.DataType={})),t.getSchemaTypes=function(e){const t=u(e.type);if(t.includes("null")){if(!1===e.nullable)throw new Error("type: null contradicts nullable: false")}else{if(!t.length&&void 0!==e.nullable)throw new Error('"nullable" cannot be used without "type"');!0===e.nullable&&t.push("null")}return t},t.getJSONTypes=u,t.coerceAndCheckDataType=function(e,t){const{gen:r,data:n,opts:o}=e,a=function(e,t){return t?e.filter((e=>f.has(e)||"array"===t&&"array"===e)):[]}(t,o.coerceTypes),u=t.length>0&&!(0===a.length&&1===t.length&&i.schemaHasRulesForType(e,t[0]));if(u){const i=h(t,n,o.strict,c.Wrong);r.if(i,(()=>{a.length?function(e,t,r){const{gen:n,data:i,opts:o}=e,a=n.let("dataType",s._`typeof ${i}`),c=n.let("coerced",s._`undefined`);"array"===o.coerceTypes&&n.if(s._`${a} == 'object' && Array.isArray(${i}) && ${i}.length == 1`,(()=>n.assign(i,s._`${i}[0]`).assign(a,s._`typeof ${i}`).if(h(t,i,o.strict),(()=>n.assign(c,i))))),n.if(s._`${c} !== undefined`);for(const e of r)(f.has(e)||"array"===e&&"array"===o.coerceTypes)&&u(e);function u(e){switch(e){case"string":return void n.elseIf(s._`${a} == "number" || ${a} == "boolean"`).assign(c,s._`"" + ${i}`).elseIf(s._`${i} === null`).assign(c,s._`""`);case"number":return void n.elseIf(s._`${a} == "boolean" || ${i} === null
              || (${a} == "string" && ${i} && ${i} == +${i})`).assign(c,s._`+${i}`);case"integer":return void n.elseIf(s._`${a} === "boolean" || ${i} === null
              || (${a} === "string" && ${i} && ${i} == +${i} && !(${i} % 1))`).assign(c,s._`+${i}`);case"boolean":return void n.elseIf(s._`${i} === "false" || ${i} === 0 || ${i} === null`).assign(c,!1).elseIf(s._`${i} === "true" || ${i} === 1`).assign(c,!0);case"null":return n.elseIf(s._`${i} === "" || ${i} === 0 || ${i} === false`),void n.assign(c,null);case"array":n.elseIf(s._`${a} === "string" || ${a} === "number"
              || ${a} === "boolean" || ${i} === null`).assign(c,s._`[${i}]`)}}n.else(),p(e),n.endIf(),n.if(s._`${c} !== undefined`,(()=>{n.assign(i,c),function({gen:e,parentData:t,parentDataProperty:r},n){e.if(s._`${t} !== undefined`,(()=>e.assign(s._`${t}[${r}]`,n)))}(e,c)}))}(e,t,a):p(e)}))}return u};const f=new Set(["string","number","integer","boolean","null"]);function l(e,t,r,n=c.Correct){const i=n===c.Correct?s.operators.EQ:s.operators.NEQ;let o;switch(e){case"null":return s._`${t} ${i} null`;case"array":o=s._`Array.isArray(${t})`;break;case"object":o=s._`${t} && typeof ${t} == "object" && !Array.isArray(${t})`;break;case"integer":o=a(s._`!(${t} % 1) && !isNaN(${t})`);break;case"number":o=a();break;default:return s._`typeof ${t} ${i} ${e}`}return n===c.Correct?o:s.not(o);function a(e=s.nil){return s.and(s._`typeof ${t} == "number"`,e,r?s._`isFinite(${t})`:s.nil)}}function h(e,t,r,n){if(1===e.length)return l(e[0],t,r,n);let i;const o=a.toHash(e);if(o.array&&o.object){const e=s._`typeof ${t} != "object"`;i=o.null?e:s._`!${t} || ${e}`,delete o.null,delete o.array,delete o.object}else i=s.nil;o.number&&delete o.integer;for(const e in o)i=s.and(i,l(e,t,r,n));return i}t.checkDataType=l,t.checkDataTypes=h;const d={message:({schema:e})=>s.str`should be ${e}`,params:({schema:e,schemaValue:t})=>"string"==typeof e?s._`{type: ${e}}`:s._`{type: ${t}}`};function p(e){const t=function(e){const{gen:t,data:r,schema:n}=e,i=a.schemaRefOrVal(e,n,"type");return{gen:t,keyword:"type",data:r,schema:n.type,schemaCode:i,schemaValue:i,parentSchema:n,params:{},it:e}}(e);o.reportError(t,d)}t.reportTypeError=p},63254:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.assignDefaults=void 0;const n=r(5648),i=r(14872);function o(e,t,r){const{gen:o,compositeRule:s,data:a,opts:c}=e;if(void 0===r)return;const u=n._`${a}${n.getProperty(t)}`;if(s)return void i.checkStrictMode(e,`default is ignored for: ${u}`);let f=n._`${u} === undefined`;"empty"===c.useDefaults&&(f=n._`${f} || ${u} === null || ${u} === ""`),o.if(f,n._`${u} = ${n.stringify(r)}`)}t.assignDefaults=function(e,t){const{properties:r,items:n}=e.schema;if("object"===t&&r)for(const t in r)o(e,t,r[t].default);else"array"===t&&Array.isArray(n)&&n.forEach(((t,r)=>o(e,r,t.default)))}},14872:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.checkStrictMode=t.schemaCxtHasRules=t.subschemaCode=t.validateFunctionCode=void 0;const n=r(60448),i=r(57553),o=r(96790),s=r(5648),a=r(19522),c=r(21044),u=r(43928);function f({gen:e,validateName:t,schema:r,schemaEnv:n,opts:i},o){i.code.es5?e.func(t,s._`${a.default.data}, ${a.default.valCxt}`,n.$async,(()=>{e.code(s._`"use strict"; ${l(r,i)}`),function(e,t){e.if(a.default.valCxt,(()=>{e.var(a.default.dataPath,s._`${a.default.valCxt}.${a.default.dataPath}`),e.var(a.default.parentData,s._`${a.default.valCxt}.${a.default.parentData}`),e.var(a.default.parentDataProperty,s._`${a.default.valCxt}.${a.default.parentDataProperty}`),e.var(a.default.rootData,s._`${a.default.valCxt}.${a.default.rootData}`),t.dynamicRef&&e.var(a.default.dynamicAnchors,s._`${a.default.valCxt}.${a.default.dynamicAnchors}`)}),(()=>{e.var(a.default.dataPath,s._`""`),e.var(a.default.parentData,s._`undefined`),e.var(a.default.parentDataProperty,s._`undefined`),e.var(a.default.rootData,a.default.data),t.dynamicRef&&e.var(a.default.dynamicAnchors,s._`{}`)}))}(e,i),e.code(o)})):e.func(t,s._`${a.default.data}, ${function(e){return s._`{${a.default.dataPath}="", ${a.default.parentData}, ${a.default.parentDataProperty}, ${a.default.rootData}=${a.default.data}${e.dynamicRef?s._`, ${a.default.dynamicAnchors}={}`:s.nil}}={}`}(i)}`,n.$async,(()=>e.code(l(r,i)).code(o)))}function l(e,t){return"object"==typeof e&&e.$id&&(t.code.source||t.code.process)?s._`/*# sourceURL=${e.$id} */`:s.nil}function h({schema:e,self:t}){if("boolean"==typeof e)return!e;for(const r in e)if(t.RULES.all[r])return!0;return!1}function d(e){return"boolean"!=typeof e.schema}function p(e){u.checkUnknownRules(e),function(e){const{schema:t,errSchemaPath:r,opts:n,self:i}=e;t.$ref&&n.ignoreKeywordsWithRef&&u.schemaHasRulesButRef(t,i.RULES)&&i.logger.warn(`$ref: keywords ignored in schema at path "${r}"`)}(e)}function b(e,t){if(e.opts.jtd)return o.schemaKeywords(e,[],!1,t);const r=i.getSchemaTypes(e.schema),n=i.coerceAndCheckDataType(e,r);o.schemaKeywords(e,r,!n,t)}function y({gen:e,schemaEnv:t,schema:r,errSchemaPath:n,opts:i}){const o=r.$comment;if(!0===i.$comment)e.code(s._`${a.default.self}.logger.log(${o})`);else if("function"==typeof i.$comment){const r=s.str`${n}/$comment`,i=e.scopeValue("root",{ref:t.root});e.code(s._`${a.default.self}.opts.$comment(${o}, ${r}, ${i}.schema)`)}}function m(e,t,r=e.opts.strict){if(r){if(t=`strict mode: ${t}`,!0===r)throw new Error(t);e.self.logger.warn(t)}}t.validateFunctionCode=function(e){d(e)&&(p(e),h(e))?function(e){const{schema:t,opts:r,gen:n}=e;f(e,(()=>{r.$comment&&t.$comment&&y(e),function(e){const{schema:t,opts:r}=e;void 0!==t.default&&r.useDefaults&&r.strict&&m(e,"default is ignored in the schema root")}(e),n.let(a.default.vErrors,null),n.let(a.default.errors,0),r.unevaluated&&function(e){const{gen:t,validateName:r}=e;e.evaluated=t.const("evaluated",s._`${r}.evaluated`),t.if(s._`${e.evaluated}.dynamicProps`,(()=>t.assign(s._`${e.evaluated}.props`,s._`undefined`))),t.if(s._`${e.evaluated}.dynamicItems`,(()=>t.assign(s._`${e.evaluated}.items`,s._`undefined`)))}(e),b(e),function(e){const{gen:t,schemaEnv:r,validateName:n,ValidationError:i,opts:o}=e;r.$async?t.if(s._`${a.default.errors} === 0`,(()=>t.return(a.default.data)),(()=>t.throw(s._`new ${i}(${a.default.vErrors})`))):(t.assign(s._`${n}.errors`,a.default.vErrors),o.unevaluated&&function({gen:e,evaluated:t,props:r,items:n}){r instanceof s.Name&&e.assign(s._`${t}.props`,r),n instanceof s.Name&&e.assign(s._`${t}.items`,n)}(e),t.return(s._`${a.default.errors} === 0`))}(e)}))}(e):f(e,(()=>n.topBoolOrEmptySchema(e)))},t.subschemaCode=function(e,t){d(e)&&(p(e),h(e))?function(e,t){const{schema:r,gen:n,opts:i}=e;i.$comment&&r.$comment&&y(e),function(e){e.schema.$id&&(e.baseId=c.resolveUrl(e.baseId,e.schema.$id))}(e),function(e){if(e.schema.$async&&!e.schemaEnv.$async)throw new Error("async schema in sync schema")}(e);const o=n.const("_errs",a.default.errors);b(e,o),n.var(t,s._`${o} === ${a.default.errors}`)}(e,t):n.boolOrEmptySchema(e,t)},t.schemaCxtHasRules=h,t.checkStrictMode=m},96790:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.schemaKeywords=void 0;const n=r(74420),i=r(57553),o=r(63254),s=r(87976),a=r(43928),c=r(14872),u=r(5648),f=r(19522);function l(e,t){const{gen:r,schema:i,opts:{useDefaults:a}}=e;a&&o.assignDefaults(e,t.type),r.block((()=>{for(const r of t.rules)n.shouldUseRule(i,r)&&s.keywordCode(e,r.keyword,r.definition,t.type)}))}function h(e,t){return e.includes(t)||"integer"===t&&e.includes("number")}function d(e,t){t+=` at "${e.schemaEnv.baseId+e.errSchemaPath}" (strictTypes)`,c.checkStrictMode(e,t,e.opts.strictTypes)}t.schemaKeywords=function(e,t,r,o){const{gen:c,schema:p,data:b,allErrors:y,opts:m,self:v}=e,{RULES:g}=v;function w(s){n.shouldUseGroup(p,s)&&(s.type?(c.if(i.checkDataType(s.type,b,m.strict)),l(e,s),1===t.length&&t[0]===s.type&&r&&(c.else(),i.reportTypeError(e)),c.endIf()):l(e,s),y||c.if(u._`${f.default.errors} === ${o||0}`))}!p.$ref||!m.ignoreKeywordsWithRef&&a.schemaHasRulesButRef(p,g)?(m.jtd||function(e,t){!e.schemaEnv.meta&&e.opts.strictTypes&&(function(e,t){t.length&&(e.dataTypes.length?(t.forEach((t=>{h(e.dataTypes,t)||d(e,`type "${t}" not allowed by context "${e.dataTypes.join(",")}"`)})),e.dataTypes=e.dataTypes.filter((e=>h(t,e)))):e.dataTypes=t)}(e,t),e.opts.allowUnionTypes||function(e,t){t.length>1&&(2!==t.length||!t.includes("null"))&&d(e,"use allowUnionTypes to allow union type keyword")}(e,t),function(e,t){const r=e.self.RULES.all;for(const i in r){const o=r[i];if("object"==typeof o&&n.shouldUseRule(e.schema,o)){const{type:r}=o.definition;r.length&&!r.some((e=>{return n=e,(r=t).includes(n)||"number"===n&&r.includes("integer");var r,n}))&&d(e,`missing type "${r.join(",")}" for keyword "${i}"`)}}}(e,e.dataTypes))}(e,t),c.block((()=>{for(const e of g.rules)w(e);w(g.post)}))):c.block((()=>s.keywordCode(e,"$ref",g.all.$ref.definition)))}},87976:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.keywordCode=void 0;const n=r(67640),i=r(95495),o=r(34083),s=r(5648),a=r(19522);function c(e,t){var r;const{gen:n,keyword:c,schema:l,parentSchema:h,$data:d,it:p}=e;!function({schemaEnv:e},t){if(t.async&&!e.$async)throw new Error("async keyword in sync schema")}(p,t);const b=!d&&t.compile?t.compile.call(p.self,l,h,p):t.validate,y=f(n,c,b),m=n.let("valid");function v(r=(t.async?s._`await `:s.nil)){const i=p.opts.passContext?a.default.this:a.default.self,c=!("compile"in t&&!d||!1===t.schema);n.assign(m,s._`${r}${o.callValidateCode(e,y,i,c)}`,t.modifying)}function g(e){var r;n.if(s.not(null!==(r=t.valid)&&void 0!==r?r:m),e)}e.block$data(m,(function(){if(!1===t.errors)v(),t.modifying&&u(e),g((()=>e.error()));else{const r=t.async?function(){const e=n.let("ruleErrs",null);return n.try((()=>v(s._`await `)),(t=>n.assign(m,!1).if(s._`${t} instanceof ${p.ValidationError}`,(()=>n.assign(e,s._`${t}.errors`)),(()=>n.throw(t))))),e}():function(){const e=s._`${y}.errors`;return n.assign(e,null),v(s.nil),e}();t.modifying&&u(e),g((()=>function(e,t){const{gen:r}=e;r.if(s._`Array.isArray(${t})`,(()=>{r.assign(a.default.vErrors,s._`${a.default.vErrors} === null ? ${t} : ${a.default.vErrors}.concat(${t})`).assign(a.default.errors,s._`${a.default.vErrors}.length`),i.extendErrors(e)}),(()=>e.error()))}(e,r)))}})),e.ok(null!==(r=t.valid)&&void 0!==r?r:m)}function u(e){const{gen:t,data:r,it:n}=e;t.if(n.parentData,(()=>t.assign(r,s._`${n.parentData}[${n.parentDataProperty}]`)))}function f(e,t,r){if(void 0===r)throw new Error(`keyword "${t}" failed to compile`);return e.scopeValue("keyword","function"==typeof r?{ref:r}:{ref:r,code:s.stringify(r)})}t.keywordCode=function(e,t,r,i){const o=new n.default(e,r,t);"code"in r?r.code(o,i):o.$data&&r.validate?c(o,r):"macro"in r?function(e,t){const{gen:r,keyword:n,schema:i,parentSchema:o,it:a}=e,c=t.macro.call(a.self,i,o,a),u=f(r,n,c);!1!==a.opts.validateSchema&&a.self.validateSchema(c,!0);const l=r.name("valid");e.subschema({schema:c,schemaPath:s.nil,errSchemaPath:`${a.errSchemaPath}/${n}`,topSchemaRef:u,compositeRule:!0},l),e.pass(l,(()=>e.error(!0)))}(o,r):(r.compile||r.validate)&&c(o,r)}},42877:(e,t,r)=>{var n=r(40585);Object.defineProperty(t,"__esModule",{value:!0}),t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=void 0;const i=r(67640);t.KeywordCxt=i.default;var o=r(5648);Object.defineProperty(t,"_",{enumerable:!0,get:function(){return o._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return o.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return o.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return o.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return o.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return o.CodeGen}});const s=r(63661),a=r(9358),c=r(13248),u=r(5648),f=r(21044),l=r(57553),h=r(43928),d=r(77664),p=["removeAdditional","useDefaults","coerceTypes"],b=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),y={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",schemaId:"JSON Schema draft-04 is not supported in Ajv v7.",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",strictNumbers:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key."},m={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'};function v(e){var t,r,n,i,o,s,a,c,u,f,l,h;const d=null===(t=e.strict)||void 0===t||t,p=!!d&&"log",b=null===(r=e.code)||void 0===r?void 0:r.optimize,y=!0===b||void 0===b?1:b||0;return{strict:d,strictTypes:null!==(n=e.strictTypes)&&void 0!==n?n:p,strictTuples:null!==(i=e.strictTuples)&&void 0!==i?i:p,code:e.code?{...e.code,optimize:y}:{optimize:y},loopRequired:null!==(o=e.loopRequired)&&void 0!==o?o:1/0,loopEnum:null!==(s=e.loopEnum)&&void 0!==s?s:1/0,meta:null===(a=e.meta)||void 0===a||a,messages:null===(c=e.messages)||void 0===c||c,inlineRefs:null===(u=e.inlineRefs)||void 0===u||u,addUsedSchema:null===(f=e.addUsedSchema)||void 0===f||f,validateSchema:null===(l=e.validateSchema)||void 0===l||l,validateFormats:null===(h=e.validateFormats)||void 0===h||h}}class g{constructor(e={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,e=this.opts={...e,...v(e)};const{es5:t,lines:r}=this.opts.code;this.scope=new u.ValueScope({scope:{},prefixes:b,es5:t,lines:r}),this.logger=function(e){if(!1===e)return x;if(void 0===e)return n;if(e.log&&e.warn&&e.error)return e;throw new Error("logger must implement log, warn and error methods")}(e.logger);const i=e.validateFormats;e.validateFormats=!1,this.RULES=a.getRules(),w.call(this,y,e,"NOT SUPPORTED"),w.call(this,m,e,"DEPRECATED","warn"),this._metaOpts=T.call(this),e.formats&&E.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),e.keywords&&O.call(this,e.keywords),"object"==typeof e.meta&&this.addMetaSchema(e.meta),S.call(this),e.validateFormats=i}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:e,meta:t}=this.opts;t&&e&&this.addMetaSchema(d,d.$id,!1)}defaultMeta(){const{meta:e}=this.opts;return this.opts.defaultMeta="object"==typeof e?e.$id||e:void 0}validate(e,t){let r;if("string"==typeof e){if(r=this.getSchema(e),!r)throw new Error(`no schema with key or ref "${e}"`)}else r=this.compile(e);const n=r(t);return"$async"in r||(this.errors=r.errors),n}compile(e,t){const r=this._addSchema(e,t);return r.validate||this._compileSchemaEnv(r)}compileAsync(e,t){if("function"!=typeof this.opts.loadSchema)throw new Error("options.loadSchema should be a function");const{loadSchema:r}=this.opts;return n.call(this,e,t);async function n(e,t){await i.call(this,e.$schema);const r=this._addSchema(e,t);return r.validate||o.call(this,r)}async function i(e){e&&!this.getSchema(e)&&await n.call(this,{$ref:e},!0)}async function o(e){try{return this._compileSchemaEnv(e)}catch(t){if(!(t instanceof s.MissingRefError))throw t;return a.call(this,t),await c.call(this,t.missingSchema),o.call(this,e)}}function a({missingSchema:e,missingRef:t}){if(this.refs[e])throw new Error(`AnySchema ${e} is loaded but ${t} cannot be resolved`)}async function c(e){const r=await u.call(this,e);this.refs[e]||await i.call(this,r.$schema),this.refs[e]||this.addSchema(r,e,t)}async function u(e){const t=this._loading[e];if(t)return t;try{return await(this._loading[e]=r(e))}finally{delete this._loading[e]}}}addSchema(e,t,r,n=this.opts.validateSchema){if(Array.isArray(e)){for(const t of e)this.addSchema(t,void 0,r,n);return this}let i;if("object"==typeof e&&(i=e.$id,void 0!==i&&"string"!=typeof i))throw new Error("schema id must be string");return t=f.normalizeId(t||i),this._checkUnique(t),this.schemas[t]=this._addSchema(e,r,n,!0),this}addMetaSchema(e,t,r=this.opts.validateSchema){return this.addSchema(e,t,!0,r),this}validateSchema(e,t){if("boolean"==typeof e)return!0;let r;if(r=e.$schema,void 0!==r&&"string"!=typeof r)throw new Error("$schema must be a string");if(r=r||this.opts.defaultMeta||this.defaultMeta(),!r)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const n=this.validate(r,e);if(!n&&t){const e="schema is invalid: "+this.errorsText();if("log"!==this.opts.validateSchema)throw new Error(e);this.logger.error(e)}return n}getSchema(e){let t;for(;"string"==typeof(t=_.call(this,e));)e=t;if(void 0===t){const r=new c.SchemaEnv({schema:{}});if(t=c.resolveSchema.call(this,r,e),!t)return;this.refs[e]=t}return t.validate||this._compileSchemaEnv(t)}removeSchema(e){if(e instanceof RegExp)return this._removeAllSchemas(this.schemas,e),this._removeAllSchemas(this.refs,e),this;switch(typeof e){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const t=_.call(this,e);return"object"==typeof t&&this._cache.delete(t.schema),delete this.schemas[e],delete this.refs[e],this}case"object":{const t=e;this._cache.delete(t);let r=e.$id;return r&&(r=f.normalizeId(r),delete this.schemas[r],delete this.refs[r]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(e){for(const t of e)this.addKeyword(t);return this}addKeyword(e,t){let r;if("string"==typeof e)r=e,"object"==typeof t&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),t.keyword=r);else{if("object"!=typeof e||void 0!==t)throw new Error("invalid addKeywords parameters");if(r=(t=e).keyword,Array.isArray(r)&&!r.length)throw new Error("addKeywords: keyword must be string or non-empty array")}if(M.call(this,r,t),!t)return h.eachItem(r,(e=>P.call(this,e))),this;k.call(this,t);const n={...t,type:l.getJSONTypes(t.type),schemaType:l.getJSONTypes(t.schemaType)};return h.eachItem(r,0===n.type.length?e=>P.call(this,e,n):e=>n.type.forEach((t=>P.call(this,e,n,t)))),this}getKeyword(e){const t=this.RULES.all[e];return"object"==typeof t?t.definition:!!t}removeKeyword(e){const{RULES:t}=this;delete t.keywords[e],delete t.all[e];for(const r of t.rules){const t=r.rules.findIndex((t=>t.keyword===e));t>=0&&r.rules.splice(t,1)}return this}addFormat(e,t){return"string"==typeof t&&(t=new RegExp(t)),this.formats[e]=t,this}errorsText(e=this.errors,{separator:t=", ",dataVar:r="data"}={}){return e&&0!==e.length?e.map((e=>`${r}${e.dataPath} ${e.message}`)).reduce(((e,r)=>e+t+r)):"No errors"}$dataMetaSchema(e,t){const r=this.RULES.all;e=JSON.parse(JSON.stringify(e));for(const n of t){const t=n.split("/").slice(1);let i=e;for(const e of t)i=i[e];for(const e in r){const t=r[e];if("object"!=typeof t)continue;const{$data:n}=t.definition,o=i[e];n&&o&&(i[e]=C(o))}}return e}_removeAllSchemas(e,t){for(const r in e){const n=e[r];t&&!t.test(r)||("string"==typeof n?delete e[r]:n&&!n.meta&&(this._cache.delete(n.schema),delete e[r]))}}_addSchema(e,t,r=this.opts.validateSchema,n=this.opts.addUsedSchema){if("object"!=typeof e){if(this.opts.jtd)throw new Error("schema must be object");if("boolean"!=typeof e)throw new Error("schema must be object or boolean")}let i=this._cache.get(e);if(void 0!==i)return i;const o=f.getSchemaRefs.call(this,e);i=new c.SchemaEnv({schema:e,meta:t,localRefs:o}),this._cache.set(i.schema,i);const s=i.baseId;return n&&!s.startsWith("#")&&(s&&this._checkUnique(s),this.refs[s]=i),r&&this.validateSchema(e,!0),i}_checkUnique(e){if(this.schemas[e]||this.refs[e])throw new Error(`schema with key or id "${e}" already exists`)}_compileSchemaEnv(e){if(e.meta?this._compileMetaSchema(e):c.compileSchema.call(this,e),!e.validate)throw new Error("ajv implementation error");return e.validate}_compileMetaSchema(e){const t=this.opts;this.opts=this._metaOpts;try{c.compileSchema.call(this,e)}finally{this.opts=t}}}function w(e,t,r,n="error"){for(const i in e){const o=i;o in t&&this.logger[n](`${r}: option ${i}. ${e[o]}`)}}function _(e){return e=f.normalizeId(e),this.schemas[e]||this.refs[e]}function S(){const e=this.opts.schemas;if(e)if(Array.isArray(e))this.addSchema(e);else for(const t in e)this.addSchema(e[t],t)}function E(){for(const e in this.opts.formats){const t=this.opts.formats[e];t&&this.addFormat(e,t)}}function O(e){if(Array.isArray(e))this.addVocabulary(e);else{this.logger.warn("keywords option as map is deprecated, pass array");for(const t in e){const r=e[t];r.keyword||(r.keyword=t),this.addKeyword(r)}}}function T(){const e={...this.opts};for(const t of p)delete e[t];return e}t.default=g,g.ValidationError=s.ValidationError,g.MissingRefError=s.MissingRefError;const x={log(){},warn(){},error(){}},A=/^[a-z_$][a-z0-9_$:-]*$/i;function M(e,t){const{RULES:r}=this;if(h.eachItem(e,(e=>{if(r.keywords[e])throw new Error(`Keyword ${e} is already defined`);if(!A.test(e))throw new Error(`Keyword ${e} has invalid name`)})),t&&t.$data&&!("code"in t)&&!("validate"in t))throw new Error('$data keyword must have "code" or "validate" function')}function P(e,t,r){var n;const i=null==t?void 0:t.post;if(r&&i)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:o}=this;let s=i?o.post:o.rules.find((({type:e})=>e===r));if(s||(s={type:r,rules:[]},o.rules.push(s)),o.keywords[e]=!0,!t)return;const a={keyword:e,definition:{...t,type:l.getJSONTypes(t.type),schemaType:l.getJSONTypes(t.schemaType)}};t.before?j.call(this,s,a,t.before):s.rules.push(a),o.all[e]=a,null===(n=t.implements)||void 0===n||n.forEach((e=>this.addKeyword(e)))}function j(e,t,r){const n=e.rules.findIndex((e=>e.keyword===r));n>=0?e.rules.splice(n,0,t):(e.rules.push(t),this.logger.warn(`rule ${r} is not defined`))}function k(e){let{metaSchema:t}=e;void 0!==t&&(e.$data&&this.opts.$data&&(t=C(t)),e.validateSchema=this.compile(t,!0))}const $={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function C(e){return{anyOf:[e,$]}}},21390:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(5648),i=r(91962),o=r(43928),s=r(14872),a={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:{message:({params:{len:e}})=>n.str`should NOT have more than ${e} items`,params:({params:{len:e}})=>n._`{limit: ${e}}`},code(e){const{gen:t,schema:r,parentSchema:a,data:c,it:u}=e,{items:f}=a;if(!Array.isArray(f))return void s.checkStrictMode(u,'"additionalItems" is ignored when "items" is not an array of schemas');u.items=!0;const l=t.const("len",n._`${c}.length`);if(!1===r)e.setParams({len:f.length}),e.pass(n._`${l} <= ${f.length}`);else if("object"==typeof r&&!o.alwaysValidSchema(u,r)){const r=t.var("valid",n._`${l} <= ${f.length}`);t.if(n.not(r),(()=>function(r){t.forRange("i",f.length,l,(o=>{e.subschema({keyword:"additionalItems",dataProp:o,dataPropType:i.Type.Num},r),u.allErrors||t.if(n.not(r),(()=>t.break()))}))}(r))),e.ok(r)}}};t.default=a},56252:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(34083),i=r(5648),o=r(19522),s=r(91962),a=r(43928),c={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:{message:"should NOT have additional properties",params:({params:e})=>i._`{additionalProperty: ${e.additionalProperty}}`},code(e){const{gen:t,schema:r,parentSchema:c,data:u,errsCount:f,it:l}=e;if(!f)throw new Error("ajv implementation error");const{allErrors:h,opts:d}=l;if(l.props=!0,"all"!==d.removeAdditional&&a.alwaysValidSchema(l,r))return;const p=n.allSchemaProperties(c.properties),b=n.allSchemaProperties(c.patternProperties);function y(e){t.code(i._`delete ${u}[${e}]`)}function m(n){if("all"===d.removeAdditional||d.removeAdditional&&!1===r)y(n);else{if(!1===r)return e.setParams({additionalProperty:n}),e.error(),void(h||t.break());if("object"==typeof r&&!a.alwaysValidSchema(l,r)){const r=t.name("valid");"failing"===d.removeAdditional?(v(n,r,!1),t.if(i.not(r),(()=>{e.reset(),y(n)}))):(v(n,r),h||t.if(i.not(r),(()=>t.break())))}}}function v(t,r,n){const i={keyword:"additionalProperties",dataProp:t,dataPropType:s.Type.Str};!1===n&&Object.assign(i,{compositeRule:!0,createErrors:!1,allErrors:!1}),e.subschema(i,r)}t.forIn("key",u,(e=>{p.length||b.length?t.if(function(e){let r;if(p.length>8){const i=a.schemaRefOrVal(l,c.properties,"properties");r=n.isOwnProperty(t,i,e)}else r=p.length?i.or(...p.map((t=>i._`${e} === ${t}`))):i.nil;return b.length&&(r=i.or(r,...b.map((r=>i._`${n.usePattern(t,r)}.test(${e})`)))),i.not(r)}(e),(()=>m(e))):m(e)})),e.ok(i._`${f} === ${o.default.errors}`)}};t.default=c},8869:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(43928),i={keyword:"allOf",schemaType:"array",code(e){const{gen:t,schema:r,it:i}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");const o=t.name("valid");r.forEach(((t,r)=>{if(n.alwaysValidSchema(i,t))return;const s=e.subschema({keyword:"allOf",schemaProp:r},o);e.ok(o),e.mergeEvaluated(s)}))}};t.default=i},48840:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:r(34083).validateUnion,error:{message:"should match some schema in anyOf"}};t.default=n},10333:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(5648),i=r(91962),o=r(43928),s=r(14872),a={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:{message:({params:{min:e,max:t}})=>void 0===t?n.str`should contain at least ${e} valid item(s)`:n.str`should contain at least ${e} and no more than ${t} valid item(s)`,params:({params:{min:e,max:t}})=>void 0===t?n._`{minContains: ${e}}`:n._`{minContains: ${e}, maxContains: ${t}}`},code(e){const{gen:t,schema:r,parentSchema:a,data:c,it:u}=e;let f,l;const{minContains:h,maxContains:d}=a;u.opts.next?(f=void 0===h?1:h,l=d):f=1;const p=t.const("len",n._`${c}.length`);if(e.setParams({min:f,max:l}),void 0===l&&0===f)return void s.checkStrictMode(u,'"minContains" == 0 without "maxContains": "contains" keyword ignored');if(void 0!==l&&f>l)return s.checkStrictMode(u,'"minContains" > "maxContains" is always invalid'),void e.fail();if(o.alwaysValidSchema(u,r)){let t=n._`${p} >= ${f}`;return void 0!==l&&(t=n._`${t} && ${p} <= ${l}`),void e.pass(t)}u.items=!0;const b=t.name("valid");if(void 0===l&&1===f)y(b,(()=>t.if(b,(()=>t.break()))));else{t.let(b,!1);const e=t.name("_valid"),r=t.let("count",0);y(e,(()=>t.if(e,(()=>function(e){t.code(n._`${e}++`),void 0===l?t.if(n._`${e} >= ${f}`,(()=>t.assign(b,!0).break())):(t.if(n._`${e} > ${l}`,(()=>t.assign(b,!1).break())),1===f?t.assign(b,!0):t.if(n._`${e} >= ${f}`,(()=>t.assign(b,!0))))}(r)))))}function y(r,n){t.forRange("i",0,p,(t=>{e.subschema({keyword:"contains",dataProp:t,dataPropType:i.Type.Num,compositeRule:!0},r),n()}))}e.result(b,(()=>e.reset()))}};t.default=a},73083:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.validateSchemaDeps=t.validatePropertyDeps=t.error=void 0;const n=r(5648),i=r(43928),o=r(34083);t.error={message:({params:{property:e,depsCount:t,deps:r}})=>{const i=1===t?"property":"properties";return n.str`should have ${i} ${r} when property ${e} is present`},params:({params:{property:e,depsCount:t,deps:r,missingProperty:i}})=>n._`{property: ${e},
    missingProperty: ${i},
    depsCount: ${t},
    deps: ${r}}`};const s={keyword:"dependencies",type:"object",schemaType:"object",error:t.error,code(e){const[t,r]=function({schema:e}){const t={},r={};for(const n in e)"__proto__"!==n&&((Array.isArray(e[n])?t:r)[n]=e[n]);return[t,r]}(e);a(e,t),c(e,r)}};function a(e,t=e.schema){const{gen:r,data:i,it:s}=e;if(0===Object.keys(t).length)return;const a=r.let("missing");for(const c in t){const u=t[c];if(0===u.length)continue;const f=o.propertyInData(r,i,c,s.opts.ownProperties);e.setParams({property:c,depsCount:u.length,deps:u.join(", ")}),s.allErrors?r.if(f,(()=>{for(const t of u)o.checkReportMissingProp(e,t)})):(r.if(n._`${f} && (${o.checkMissingProp(e,u,a)})`),o.reportMissingProp(e,a),r.else())}}function c(e,t=e.schema){const{gen:r,data:n,keyword:s,it:a}=e,c=r.name("valid");for(const u in t)i.alwaysValidSchema(a,t[u])||(r.if(o.propertyInData(r,n,u,a.opts.ownProperties),(()=>{const t=e.subschema({keyword:s,schemaProp:u},c);e.mergeValidEvaluated(t,c)}),(()=>r.var(c,!0))),e.ok(c))}t.validatePropertyDeps=a,t.validateSchemaDeps=c,t.default=s},61721:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(5648),i=r(43928),o=r(14872),s={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:{message:({params:e})=>n.str`should match "${e.ifClause}" schema`,params:({params:e})=>n._`{failingKeyword: ${e.ifClause}}`},code(e){const{gen:t,parentSchema:r,it:i}=e;void 0===r.then&&void 0===r.else&&o.checkStrictMode(i,'"if" without "then" and "else" is ignored');const s=a(i,"then"),c=a(i,"else");if(!s&&!c)return;const u=t.let("valid",!0),f=t.name("_valid");if(function(){const t=e.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},f);e.mergeEvaluated(t)}(),e.reset(),s&&c){const r=t.let("ifClause");e.setParams({ifClause:r}),t.if(f,l("then",r),l("else",r))}else s?t.if(f,l("then")):t.if(n.not(f),l("else"));function l(r,i){return()=>{const o=e.subschema({keyword:r},f);t.assign(u,f),e.mergeValidEvaluated(o,u),i?t.assign(i,n._`${r}`):e.setParams({ifClause:r})}}e.pass(u,(()=>e.error(!0)))}};function a(e,t){const r=e.schema[t];return void 0!==r&&!i.alwaysValidSchema(e,r)}t.default=s},41207:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(21390),i=r(40645),o=r(10333),s=r(73083),a=r(28788),c=r(56252),u=r(55746),f=r(62465),l=r(12119),h=r(48840),d=r(79665),p=r(8869),b=r(61721),y=r(77411),m=[l.default,h.default,d.default,p.default,b.default,y.default,n.default,i.default,o.default,a.default,c.default,s.default,u.default,f.default];t.default=m},40645:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(5648),i=r(43928),o=r(14872),s=r(34083),a={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(e){const{gen:t,schema:r,it:a}=e;if(Array.isArray(r))a.opts.unevaluated&&r.length&&!0!==a.items&&(a.items=i.mergeEvaluated.items(t,r.length,a.items)),function(r){const{parentSchema:s,data:c}=e;if(a.opts.strictTuples&&!function(e,t){return e===t.minItems&&(e===t.maxItems||!1===t.additionalItems)}(r.length,s)){const e=`"items" is ${r.length}-tuple, but minItems or maxItems/additionalItems are not specified or different`;o.checkStrictMode(a,e,a.opts.strictTuples)}const u=t.name("valid"),f=t.const("len",n._`${c}.length`);r.forEach(((r,o)=>{i.alwaysValidSchema(a,r)||(t.if(n._`${f} > ${o}`,(()=>e.subschema({keyword:"items",schemaProp:o,dataProp:o},u))),e.ok(u))}))}(r);else{if(a.items=!0,i.alwaysValidSchema(a,r))return;e.ok(s.validateArray(e))}}};t.default=a},12119:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(43928),i={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(e){const{gen:t,schema:r,it:i}=e;if(n.alwaysValidSchema(i,r))return void e.fail();const o=t.name("valid");e.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},o),e.result(o,(()=>e.error()),(()=>e.reset()))},error:{message:"should NOT be valid"}};t.default=i},79665:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(5648),i=r(43928),o={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:{message:"should match exactly one schema in oneOf",params:({params:e})=>n._`{passingSchemas: ${e.passing}}`},code(e){const{gen:t,schema:r,it:o}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");const s=r,a=t.let("valid",!1),c=t.let("passing",null),u=t.name("_valid");e.setParams({passing:c}),t.block((function(){s.forEach(((r,s)=>{let f;i.alwaysValidSchema(o,r)?t.var(u,!0):f=e.subschema({keyword:"oneOf",schemaProp:s,compositeRule:!0},u),s>0&&t.if(n._`${u} && ${a}`).assign(a,!1).assign(c,n._`[${c}, ${s}]`).else(),t.if(u,(()=>{t.assign(a,!0),t.assign(c,s),f&&e.mergeEvaluated(f,n.Name)}))}))})),e.result(a,(()=>e.reset()),(()=>e.error(!0)))}};t.default=o},62465:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(34083),i=r(5648),o=r(91962),s=r(14872),a=r(43928),c={keyword:"patternProperties",type:"object",schemaType:"object",code(e){const{gen:t,schema:r,data:c,parentSchema:u,it:f}=e,{opts:l}=f,h=n.schemaProperties(f,r);if(0===h.length)return;const d=l.strict&&!l.allowMatchingProperties&&u.properties,p=t.name("valid");!0===f.props||f.props instanceof i.Name||(f.props=a.evaluatedPropsToName(t,f.props));const{props:b}=f;function y(e){for(const t in d)new RegExp(e).test(t)&&s.checkStrictMode(f,`property ${t} matches pattern ${e} (use allowMatchingProperties)`)}function m(r){t.forIn("key",c,(s=>{t.if(i._`${n.usePattern(t,r)}.test(${s})`,(()=>{e.subschema({keyword:"patternProperties",schemaProp:r,dataProp:s,dataPropType:o.Type.Str},p),f.opts.unevaluated&&!0!==b?t.assign(i._`${b}[${s}]`,!0):f.allErrors||t.if(i.not(p),(()=>t.break()))}))}))}!function(){for(const e of h)d&&y(e),f.allErrors?m(e):(t.var(p,!0),m(e),t.if(p))}()}};t.default=c},55746:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(67640),i=r(34083),o=r(43928),s=r(56252),a={keyword:"properties",type:"object",schemaType:"object",code(e){const{gen:t,schema:r,parentSchema:a,data:c,it:u}=e;"all"===u.opts.removeAdditional&&void 0===a.additionalProperties&&s.default.code(new n.default(u,s.default,"additionalProperties"));const f=i.allSchemaProperties(r);for(const e of f)u.definedProperties.add(e);u.opts.unevaluated&&f.length&&!0!==u.props&&(u.props=o.mergeEvaluated.props(t,o.toHash(f),u.props));const l=f.filter((e=>!o.alwaysValidSchema(u,r[e])));if(0===l.length)return;const h=t.name("valid");for(const r of l)d(r)?p(r):(t.if(i.propertyInData(t,c,r,u.opts.ownProperties)),p(r),u.allErrors||t.else().var(h,!0),t.endIf()),e.it.definedProperties.add(r),e.ok(h);function d(e){return u.opts.useDefaults&&!u.compositeRule&&void 0!==r[e].default}function p(t){e.subschema({keyword:"properties",schemaProp:t,dataProp:t},h)}}};t.default=a},28788:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(5648),i=r(43928),o={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:{message:({params:e})=>n.str`property name '${e.propertyName}' is invalid`,params:({params:e})=>n._`{propertyName: ${e.propertyName}}`},code(e){const{gen:t,schema:r,data:o,it:s}=e;if(i.alwaysValidSchema(s,r))return;const a=t.name("valid");t.forIn("key",o,(r=>{e.setParams({propertyName:r}),e.subschema({keyword:"propertyNames",data:r,dataTypes:["string"],propertyName:r,compositeRule:!0},a),t.if(n.not(a),(()=>{e.error(!0),s.allErrors||t.break()}))})),e.ok(a)}};t.default=o},77411:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(14872),i={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:e,parentSchema:t,it:r}){void 0===t.if&&n.checkStrictMode(r,`"${e}" without "if" is ignored`)}};t.default=i},34083:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.validateUnion=t.validateArray=t.usePattern=t.callValidateCode=t.schemaProperties=t.allSchemaProperties=t.noPropertyInData=t.propertyInData=t.isOwnProperty=t.hasPropFunc=t.reportMissingProp=t.checkMissingProp=t.checkReportMissingProp=void 0;const n=r(5648),i=r(43928),o=r(91962),s=r(19522);function a(e){return e.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:n._`Object.prototype.hasOwnProperty`})}function c(e,t,r){return n._`${a(e)}.call(${t}, ${r})`}function u(e,t,r,i){const o=n._`${t}${n.getProperty(r)} === undefined`;return i?n.or(o,n.not(c(e,t,r))):o}function f(e){return e?Object.keys(e).filter((e=>"__proto__"!==e)):[]}t.checkReportMissingProp=function(e,t){const{gen:r,data:i,it:o}=e;r.if(u(r,i,t,o.opts.ownProperties),(()=>{e.setParams({missingProperty:n._`${t}`},!0),e.error()}))},t.checkMissingProp=function({gen:e,data:t,it:{opts:r}},i,o){return n.or(...i.map((i=>n.and(u(e,t,i,r.ownProperties),n._`${o} = ${i}`))))},t.reportMissingProp=function(e,t){e.setParams({missingProperty:t},!0),e.error()},t.hasPropFunc=a,t.isOwnProperty=c,t.propertyInData=function(e,t,r,i){const o=n._`${t}${n.getProperty(r)} !== undefined`;return i?n._`${o} && ${c(e,t,r)}`:o},t.noPropertyInData=u,t.allSchemaProperties=f,t.schemaProperties=function(e,t){return f(t).filter((r=>!i.alwaysValidSchema(e,t[r])))},t.callValidateCode=function({schemaCode:e,data:t,it:{gen:r,topSchemaRef:i,schemaPath:o,errorPath:a},it:c},u,f,l){const h=l?n._`${e}, ${t}, ${i}${o}`:t,d=[[s.default.dataPath,n.strConcat(s.default.dataPath,a)],[s.default.parentData,c.parentData],[s.default.parentDataProperty,c.parentDataProperty],[s.default.rootData,s.default.rootData]];c.opts.dynamicRef&&d.push([s.default.dynamicAnchors,s.default.dynamicAnchors]);const p=n._`${h}, ${r.object(...d)}`;return f!==n.nil?n._`${u}.call(${f}, ${p})`:n._`${u}(${p})`},t.usePattern=function(e,t){return e.scopeValue("pattern",{key:t,ref:new RegExp(t,"u"),code:n._`new RegExp(${t}, "u")`})},t.validateArray=function(e){const{gen:t,data:r,keyword:i,it:s}=e,a=t.name("valid");if(s.allErrors){const e=t.let("valid",!0);return c((()=>t.assign(e,!1))),e}return t.var(a,!0),c((()=>t.break())),a;function c(s){const c=t.const("len",n._`${r}.length`);t.forRange("i",0,c,(r=>{e.subschema({keyword:i,dataProp:r,dataPropType:o.Type.Num},a),t.if(n.not(a),s)}))}},t.validateUnion=function(e){const{gen:t,schema:r,keyword:o,it:s}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(r.some((e=>i.alwaysValidSchema(s,e)))&&!s.opts.unevaluated)return;const a=t.let("valid",!1),c=t.name("_valid");t.block((()=>r.forEach(((r,i)=>{const s=e.subschema({keyword:o,schemaProp:i,compositeRule:!0},c);t.assign(a,n._`${a} || ${c}`),e.mergeValidEvaluated(s,c)||t.if(n.not(a))})))),e.result(a,(()=>e.reset()),(()=>e.error(!0)))}},69429:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});const r={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};t.default=r},47381:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(69429),i=r(92817),o=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",n.default,i.default];t.default=o},92817:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.callRef=t.getValidate=void 0;const n=r(63661),i=r(34083),o=r(5648),s=r(19522),a=r(13248),c=r(43928),u={keyword:"$ref",schemaType:"string",code(e){const{gen:t,schema:r,it:i}=e,{baseId:s,schemaEnv:c,validateName:u,opts:h,self:d}=i;if("#"===r||"#/"===r)return function(){if(c===c.root)return l(e,u,c,c.$async);const r=t.scopeValue("root",{ref:c.root});return l(e,o._`${r}.validate`,c.root,c.root.$async)}();const p=a.resolveRef.call(d,c.root,s,r);if(void 0===p)throw new n.MissingRefError(s,r);return p instanceof a.SchemaEnv?function(t){const r=f(e,t);l(e,r,t,t.$async)}(p):function(n){const i=t.scopeValue("schema",!0===h.code.source?{ref:n,code:o.stringify(n)}:{ref:n}),s=t.name("valid"),a=e.subschema({schema:n,dataTypes:[],schemaPath:o.nil,topSchemaRef:i,errSchemaPath:r},s);e.mergeEvaluated(a),e.ok(s)}(p)}};function f(e,t){const{gen:r}=e;return t.validate?r.scopeValue("validate",{ref:t.validate}):o._`${r.scopeValue("wrapper",{ref:t})}.validate`}function l(e,t,r,n){const{gen:a,it:u}=e,{allErrors:f,schemaEnv:l,opts:h}=u,d=h.passContext?s.default.this:o.nil;function p(e){const t=o._`${e}.errors`;a.assign(s.default.vErrors,o._`${s.default.vErrors} === null ? ${t} : ${s.default.vErrors}.concat(${t})`),a.assign(s.default.errors,o._`${s.default.vErrors}.length`)}function b(e){var t;if(!u.opts.unevaluated)return;const n=null===(t=null==r?void 0:r.validate)||void 0===t?void 0:t.evaluated;if(!0!==u.props)if(n&&!n.dynamicProps)void 0!==n.props&&(u.props=c.mergeEvaluated.props(a,n.props,u.props));else{const t=a.var("props",o._`${e}.evaluated.props`);u.props=c.mergeEvaluated.props(a,t,u.props,o.Name)}if(!0!==u.items)if(n&&!n.dynamicItems)void 0!==n.items&&(u.items=c.mergeEvaluated.items(a,n.items,u.items));else{const t=a.var("items",o._`${e}.evaluated.items`);u.items=c.mergeEvaluated.items(a,t,u.items,o.Name)}}n?function(){if(!l.$async)throw new Error("async schema referenced by sync schema");const r=a.let("valid");a.try((()=>{a.code(o._`await ${i.callValidateCode(e,t,d)}`),b(t),f||a.assign(r,!0)}),(e=>{a.if(o._`!(${e} instanceof ${u.ValidationError})`,(()=>a.throw(e))),p(e),f||a.assign(r,!1)})),e.ok(r)}():e.result(i.callValidateCode(e,t,d),(()=>b(t)),(()=>p(t)))}t.getValidate=f,t.callRef=l,t.default=u},25761:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(47381),i=r(98133),o=r(41207),s=r(51727),a=r(58812),c=[n.default,i.default,o.default,s.default,a.metadataVocabulary,a.contentVocabulary];t.default=c},37982:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(5648),i={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:{message:({schemaCode:e})=>n.str`should match format "${e}"`,params:({schemaCode:e})=>n._`{format: ${e}}`},code(e,t){const{gen:r,data:i,$data:o,schema:s,schemaCode:a,it:c}=e,{opts:u,errSchemaPath:f,schemaEnv:l,self:h}=c;u.validateFormats&&(o?function(){const o=r.scopeValue("formats",{ref:h.formats,code:u.code.formats}),s=r.const("fDef",n._`${o}[${a}]`),c=r.let("fType"),f=r.let("format");r.if(n._`typeof ${s} == "object" && !(${s} instanceof RegExp)`,(()=>r.assign(c,n._`${s}.type || "string"`).assign(f,n._`${s}.validate`)),(()=>r.assign(c,n._`"string"`).assign(f,s))),e.fail$data(n.or(!1===u.strict?n.nil:n._`${a} && !${f}`,function(){const e=l.$async?n._`(${s}.async ? await ${f}(${i}) : ${f}(${i}))`:n._`${f}(${i})`,r=n._`(typeof ${f} == "function" ? ${e} : ${f}.test(${i}))`;return n._`${f} && ${f} !== true && ${c} === ${t} && !${r}`}()))}():function(){const o=h.formats[s];if(!o)return void function(){if(!1!==u.strict)throw new Error(e());function e(){return`unknown format "${s}" ignored in schema at path "${f}"`}h.logger.warn(e())}();if(!0===o)return;const[a,c,d]=function(e){const t=r.scopeValue("formats",{key:s,ref:e,code:u.code.formats?n._`${u.code.formats}${n.getProperty(s)}`:void 0});return"object"!=typeof e||e instanceof RegExp?["string",e,t]:[e.type||"string",e.validate,n._`${t}.validate`]}(o);a===t&&e.pass(function(){if("object"==typeof o&&!(o instanceof RegExp)&&o.async){if(!l.$async)throw new Error("async format in sync schema");return n._`await ${d}(${i})`}return"function"==typeof c?n._`${d}(${i})`:n._`${d}.test(${i})`}())}())}};t.default=i},51727:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=[r(37982).default];t.default=n},58812:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.contentVocabulary=t.metadataVocabulary=void 0,t.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],t.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]},44723:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(5648),i=r(89162),o={keyword:"const",$data:!0,error:{message:"should be equal to constant",params:({schemaCode:e})=>n._`{allowedValue: ${e}}`},code(e){const t=e.gen.scopeValue("func",{ref:i,code:n._`require("ajv/dist/compile/equal")`});e.fail$data(n._`!${t}(${e.data}, ${e.schemaCode})`)}};t.default=o},7160:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(5648),i=r(89162),o={keyword:"enum",schemaType:"array",$data:!0,error:{message:"should be equal to one of the allowed values",params:({schemaCode:e})=>n._`{allowedValues: ${e}}`},code(e){const{gen:t,data:r,$data:o,schema:s,schemaCode:a,it:c}=e;if(!o&&0===s.length)throw new Error("enum must have non-empty array");const u=s.length>=c.opts.loopEnum,f=e.gen.scopeValue("func",{ref:i,code:n._`require("ajv/dist/compile/equal")`});let l;if(u||o)l=t.let("valid"),e.block$data(l,(function(){t.assign(l,!1),t.forOf("v",a,(e=>t.if(n._`${f}(${r}, ${e})`,(()=>t.assign(l,!0).break()))))}));else{if(!Array.isArray(s))throw new Error("ajv implementation error");const e=t.const("vSchema",a);l=n.or(...s.map(((t,i)=>function(e,t){const i=s[t];return i&&"object"==typeof i?n._`${f}(${r}, ${e}[${t}])`:n._`${r} === ${i}`}(e,i))))}e.pass(l)}};t.default=o},98133:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(45138),i=r(76684),o=r(37432),s=r(27897),a=r(26271),c=r(44891),u=r(6810),f=r(53828),l=r(44723),h=r(7160),d=[n.default,i.default,o.default,s.default,a.default,c.default,u.default,f.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},l.default,h.default];t.default=d},6810:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(5648),i={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:{message({keyword:e,schemaCode:t}){const r="maxItems"===e?"more":"fewer";return n.str`should NOT have ${r} than ${t} items`},params:({schemaCode:e})=>n._`{limit: ${e}}`},code(e){const{keyword:t,data:r,schemaCode:i}=e,o="maxItems"===t?n.operators.GT:n.operators.LT;e.fail$data(n._`${r}.length ${o} ${i}`)}};t.default=i},37432:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(5648),i=r(89185),o={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:{message({keyword:e,schemaCode:t}){const r="maxLength"===e?"more":"fewer";return n.str`should NOT have ${r} than ${t} characters`},params:({schemaCode:e})=>n._`{limit: ${e}}`},code(e){const{keyword:t,data:r,schemaCode:o,it:s}=e,a="maxLength"===t?n.operators.GT:n.operators.LT;let c;if(!1===s.opts.unicode)c=n._`${r}.length`;else{const t=e.gen.scopeValue("func",{ref:i.default,code:n._`require("ajv/dist/compile/ucs2length").default`});c=n._`${t}(${r})`}e.fail$data(n._`${c} ${a} ${o}`)}};t.default=o},45138:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(5648),i=n.operators,o={maximum:{okStr:"<=",ok:i.LTE,fail:i.GT},minimum:{okStr:">=",ok:i.GTE,fail:i.LT},exclusiveMaximum:{okStr:"<",ok:i.LT,fail:i.GTE},exclusiveMinimum:{okStr:">",ok:i.GT,fail:i.LTE}},s={message:({keyword:e,schemaCode:t})=>n.str`should be ${o[e].okStr} ${t}`,params:({keyword:e,schemaCode:t})=>n._`{comparison: ${o[e].okStr}, limit: ${t}}`},a={keyword:Object.keys(o),type:"number",schemaType:"number",$data:!0,error:s,code(e){const{keyword:t,data:r,schemaCode:i}=e;e.fail$data(n._`${r} ${o[t].fail} ${i} || isNaN(${r})`)}};t.default=a},26271:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(5648),i={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:{message({keyword:e,schemaCode:t}){const r="maxProperties"===e?"more":"fewer";return n.str`should NOT have ${r} than ${t} items`},params:({schemaCode:e})=>n._`{limit: ${e}}`},code(e){const{keyword:t,data:r,schemaCode:i}=e,o="maxProperties"===t?n.operators.GT:n.operators.LT;e.fail$data(n._`Object.keys(${r}).length ${o} ${i}`)}};t.default=i},76684:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(5648),i={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:{message:({schemaCode:e})=>n.str`should be multiple of ${e}`,params:({schemaCode:e})=>n._`{multipleOf: ${e}}`},code(e){const{gen:t,data:r,schemaCode:i,it:o}=e,s=o.opts.multipleOfPrecision,a=t.let("res"),c=s?n._`Math.abs(Math.round(${a}) - ${a}) > 1e-${s}`:n._`${a} !== parseInt(${a})`;e.fail$data(n._`(${i} === 0 || (${a} = ${r}/${i}, ${c}))`)}};t.default=i},27897:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(34083),i=r(5648),o={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:{message:({schemaCode:e})=>i.str`should match pattern "${e}"`,params:({schemaCode:e})=>i._`{pattern: ${e}}`},code(e){const{gen:t,data:r,$data:o,schema:s,schemaCode:a}=e,c=o?i._`(new RegExp(${a}, "u"))`:n.usePattern(t,s);e.fail$data(i._`!${c}.test(${r})`)}};t.default=o},44891:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(34083),i=r(5648),o=r(14872),s={keyword:"required",type:"object",schemaType:"array",$data:!0,error:{message:({params:{missingProperty:e}})=>i.str`should have required property '${e}'`,params:({params:{missingProperty:e}})=>i._`{missingProperty: ${e}}`},code(e){const{gen:t,schema:r,schemaCode:s,data:a,$data:c,it:u}=e,{opts:f}=u;if(!c&&0===r.length)return;const l=r.length>=f.loopRequired;if(u.allErrors?function(){if(l||c)e.block$data(i.nil,h);else for(const t of r)n.checkReportMissingProp(e,t)}():function(){const o=t.let("missing");if(l||c){const r=t.let("valid",!0);e.block$data(r,(()=>function(r,o){e.setParams({missingProperty:r}),t.forOf(r,s,(()=>{t.assign(o,n.propertyInData(t,a,r,f.ownProperties)),t.if(i.not(o),(()=>{e.error(),t.break()}))}),i.nil)}(o,r))),e.ok(r)}else t.if(n.checkMissingProp(e,r,o)),n.reportMissingProp(e,o),t.else()}(),f.strictRequired){const t=e.parentSchema.properties,{definedProperties:n}=e.it;for(const e of r)if(void 0===(null==t?void 0:t[e])&&!n.has(e)){const t=`required property "${e}" is not defined at "${u.schemaEnv.baseId+u.errSchemaPath}" (strictRequired)`;o.checkStrictMode(u,t,u.opts.strictRequired)}}function h(){t.forOf("prop",s,(r=>{e.setParams({missingProperty:r}),t.if(n.noPropertyInData(t,a,r,f.ownProperties),(()=>e.error()))}))}}};t.default=s},53828:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(57553),i=r(5648),o=r(89162),s={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:{message:({params:{i:e,j:t}})=>i.str`should NOT have duplicate items (items ## ${t} and ${e} are identical)`,params:({params:{i:e,j:t}})=>i._`{i: ${e}, j: ${t}}`},code(e){const{gen:t,data:r,$data:s,schema:a,parentSchema:c,schemaCode:u,it:f}=e;if(!s&&!a)return;const l=t.let("valid"),h=c.items?n.getSchemaTypes(c.items):[];function d(o,s){const a=t.name("item"),c=n.checkDataTypes(h,a,f.opts.strict,n.DataType.Wrong),u=t.const("indices",i._`{}`);t.for(i._`;${o}--;`,(()=>{t.let(a,i._`${r}[${o}]`),t.if(c,i._`continue`),h.length>1&&t.if(i._`typeof ${a} == "string"`,i._`${a} += "_"`),t.if(i._`typeof ${u}[${a}] == "number"`,(()=>{t.assign(s,i._`${u}[${a}]`),e.error(),t.assign(l,!1).break()})).code(i._`${u}[${a}] = ${o}`)}))}function p(n,s){const a=e.gen.scopeValue("func",{ref:o,code:i._`require("ajv/dist/compile/equal")`}),c=t.name("outer");t.label(c).for(i._`;${n}--;`,(()=>t.for(i._`${s} = ${n}; ${s}--;`,(()=>t.if(i._`${a}(${r}[${n}], ${r}[${s}])`,(()=>{e.error(),t.assign(l,!1).break(c)}))))))}e.block$data(l,(function(){const n=t.let("i",i._`${r}.length`),o=t.let("j");e.setParams({i:n,j:o}),t.assign(l,!0),t.if(i._`${n} > 1`,(()=>(h.length>0&&!h.some((e=>"object"===e||"array"===e))?d:p)(n,o)))}),i._`${u} === false`),e.ok(l)}};t.default=s},30470:(e,t,r)=>{const n=t;n.bignum=r(65482),n.define=r(82541).define,n.base=r(92749),n.constants=r(9978),n.decoders=r(38067),n.encoders=r(26409)},82541:(e,t,r)=>{const n=r(26409),i=r(38067),o=r(23730);function s(e,t){this.name=e,this.body=t,this.decoders={},this.encoders={}}t.define=function(e,t){return new s(e,t)},s.prototype._createNamed=function(e){const t=this.name;function r(e){this._initNamed(e,t)}return o(r,e),r.prototype._initNamed=function(t,r){e.call(this,t,r)},new r(this)},s.prototype._getDecoder=function(e){return e=e||"der",this.decoders.hasOwnProperty(e)||(this.decoders[e]=this._createNamed(i[e])),this.decoders[e]},s.prototype.decode=function(e,t,r){return this._getDecoder(t).decode(e,r)},s.prototype._getEncoder=function(e){return e=e||"der",this.encoders.hasOwnProperty(e)||(this.encoders[e]=this._createNamed(n[e])),this.encoders[e]},s.prototype.encode=function(e,t,r){return this._getEncoder(t).encode(e,r)}},54375:(e,t,r)=>{const n=r(23730),i=r(7701).b,o=r(74312).Buffer;function s(e,t){i.call(this,t),o.isBuffer(e)?(this.base=e,this.offset=0,this.length=e.length):this.error("Input not Buffer")}function a(e,t){if(Array.isArray(e))this.length=0,this.value=e.map((function(e){return a.isEncoderBuffer(e)||(e=new a(e,t)),this.length+=e.length,e}),this);else if("number"==typeof e){if(!(0<=e&&e<=255))return t.error("non-byte EncoderBuffer value");this.value=e,this.length=1}else if("string"==typeof e)this.value=e,this.length=o.byteLength(e);else{if(!o.isBuffer(e))return t.error("Unsupported type: "+typeof e);this.value=e,this.length=e.length}}n(s,i),t.C=s,s.isDecoderBuffer=function(e){return e instanceof s||"object"==typeof e&&o.isBuffer(e.base)&&"DecoderBuffer"===e.constructor.name&&"number"==typeof e.offset&&"number"==typeof e.length&&"function"==typeof e.save&&"function"==typeof e.restore&&"function"==typeof e.isEmpty&&"function"==typeof e.readUInt8&&"function"==typeof e.skip&&"function"==typeof e.raw},s.prototype.save=function(){return{offset:this.offset,reporter:i.prototype.save.call(this)}},s.prototype.restore=function(e){const t=new s(this.base);return t.offset=e.offset,t.length=this.offset,this.offset=e.offset,i.prototype.restore.call(this,e.reporter),t},s.prototype.isEmpty=function(){return this.offset===this.length},s.prototype.readUInt8=function(e){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(e||"DecoderBuffer overrun")},s.prototype.skip=function(e,t){if(!(this.offset+e<=this.length))return this.error(t||"DecoderBuffer overrun");const r=new s(this.base);return r._reporterState=this._reporterState,r.offset=this.offset,r.length=this.offset+e,this.offset+=e,r},s.prototype.raw=function(e){return this.base.slice(e?e.offset:this.offset,this.length)},t.R=a,a.isEncoderBuffer=function(e){return e instanceof a||"object"==typeof e&&"EncoderBuffer"===e.constructor.name&&"number"==typeof e.length&&"function"==typeof e.join},a.prototype.join=function(e,t){return e||(e=o.alloc(this.length)),t||(t=0),0===this.length||(Array.isArray(this.value)?this.value.forEach((function(r){r.join(e,t),t+=r.length})):("number"==typeof this.value?e[t]=this.value:"string"==typeof this.value?e.write(this.value,t):o.isBuffer(this.value)&&this.value.copy(e,t),t+=this.length)),e}},92749:(e,t,r)=>{const n=t;n.Reporter=r(7701).b,n.DecoderBuffer=r(54375).C,n.EncoderBuffer=r(54375).R,n.Node=r(56797)},56797:(e,t,r)=>{const n=r(7701).b,i=r(54375).R,o=r(54375).C,s=r(83141),a=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],c=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(a);function u(e,t,r){const n={};this._baseState=n,n.name=r,n.enc=e,n.parent=t||null,n.children=null,n.tag=null,n.args=null,n.reverseArgs=null,n.choice=null,n.optional=!1,n.any=!1,n.obj=!1,n.use=null,n.useDecoder=null,n.key=null,n.default=null,n.explicit=null,n.implicit=null,n.contains=null,n.parent||(n.children=[],this._wrap())}e.exports=u;const f=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];u.prototype.clone=function(){const e=this._baseState,t={};f.forEach((function(r){t[r]=e[r]}));const r=new this.constructor(t.parent);return r._baseState=t,r},u.prototype._wrap=function(){const e=this._baseState;c.forEach((function(t){this[t]=function(){const r=new this.constructor(this);return e.children.push(r),r[t].apply(r,arguments)}}),this)},u.prototype._init=function(e){const t=this._baseState;s(null===t.parent),e.call(this),t.children=t.children.filter((function(e){return e._baseState.parent===this}),this),s.equal(t.children.length,1,"Root node can have only one child")},u.prototype._useArgs=function(e){const t=this._baseState,r=e.filter((function(e){return e instanceof this.constructor}),this);e=e.filter((function(e){return!(e instanceof this.constructor)}),this),0!==r.length&&(s(null===t.children),t.children=r,r.forEach((function(e){e._baseState.parent=this}),this)),0!==e.length&&(s(null===t.args),t.args=e,t.reverseArgs=e.map((function(e){if("object"!=typeof e||e.constructor!==Object)return e;const t={};return Object.keys(e).forEach((function(r){r==(0|r)&&(r|=0);const n=e[r];t[n]=r})),t})))},["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"].forEach((function(e){u.prototype[e]=function(){const t=this._baseState;throw new Error(e+" not implemented for encoding: "+t.enc)}})),a.forEach((function(e){u.prototype[e]=function(){const t=this._baseState,r=Array.prototype.slice.call(arguments);return s(null===t.tag),t.tag=e,this._useArgs(r),this}})),u.prototype.use=function(e){s(e);const t=this._baseState;return s(null===t.use),t.use=e,this},u.prototype.optional=function(){return this._baseState.optional=!0,this},u.prototype.def=function(e){const t=this._baseState;return s(null===t.default),t.default=e,t.optional=!0,this},u.prototype.explicit=function(e){const t=this._baseState;return s(null===t.explicit&&null===t.implicit),t.explicit=e,this},u.prototype.implicit=function(e){const t=this._baseState;return s(null===t.explicit&&null===t.implicit),t.implicit=e,this},u.prototype.obj=function(){const e=this._baseState,t=Array.prototype.slice.call(arguments);return e.obj=!0,0!==t.length&&this._useArgs(t),this},u.prototype.key=function(e){const t=this._baseState;return s(null===t.key),t.key=e,this},u.prototype.any=function(){return this._baseState.any=!0,this},u.prototype.choice=function(e){const t=this._baseState;return s(null===t.choice),t.choice=e,this._useArgs(Object.keys(e).map((function(t){return e[t]}))),this},u.prototype.contains=function(e){const t=this._baseState;return s(null===t.use),t.contains=e,this},u.prototype._decode=function(e,t){const r=this._baseState;if(null===r.parent)return e.wrapResult(r.children[0]._decode(e,t));let n,i=r.default,s=!0,a=null;if(null!==r.key&&(a=e.enterKey(r.key)),r.optional){let n=null;if(null!==r.explicit?n=r.explicit:null!==r.implicit?n=r.implicit:null!==r.tag&&(n=r.tag),null!==n||r.any){if(s=this._peekTag(e,n,r.any),e.isError(s))return s}else{const n=e.save();try{null===r.choice?this._decodeGeneric(r.tag,e,t):this._decodeChoice(e,t),s=!0}catch(e){s=!1}e.restore(n)}}if(r.obj&&s&&(n=e.enterObject()),s){if(null!==r.explicit){const t=this._decodeTag(e,r.explicit);if(e.isError(t))return t;e=t}const n=e.offset;if(null===r.use&&null===r.choice){let t;r.any&&(t=e.save());const n=this._decodeTag(e,null!==r.implicit?r.implicit:r.tag,r.any);if(e.isError(n))return n;r.any?i=e.raw(t):e=n}if(t&&t.track&&null!==r.tag&&t.track(e.path(),n,e.length,"tagged"),t&&t.track&&null!==r.tag&&t.track(e.path(),e.offset,e.length,"content"),r.any||(i=null===r.choice?this._decodeGeneric(r.tag,e,t):this._decodeChoice(e,t)),e.isError(i))return i;if(r.any||null!==r.choice||null===r.children||r.children.forEach((function(r){r._decode(e,t)})),r.contains&&("octstr"===r.tag||"bitstr"===r.tag)){const n=new o(i);i=this._getUse(r.contains,e._reporterState.obj)._decode(n,t)}}return r.obj&&s&&(i=e.leaveObject(n)),null===r.key||null===i&&!0!==s?null!==a&&e.exitKey(a):e.leaveKey(a,r.key,i),i},u.prototype._decodeGeneric=function(e,t,r){const n=this._baseState;return"seq"===e||"set"===e?null:"seqof"===e||"setof"===e?this._decodeList(t,e,n.args[0],r):/str$/.test(e)?this._decodeStr(t,e,r):"objid"===e&&n.args?this._decodeObjid(t,n.args[0],n.args[1],r):"objid"===e?this._decodeObjid(t,null,null,r):"gentime"===e||"utctime"===e?this._decodeTime(t,e,r):"null_"===e?this._decodeNull(t,r):"bool"===e?this._decodeBool(t,r):"objDesc"===e?this._decodeStr(t,e,r):"int"===e||"enum"===e?this._decodeInt(t,n.args&&n.args[0],r):null!==n.use?this._getUse(n.use,t._reporterState.obj)._decode(t,r):t.error("unknown tag: "+e)},u.prototype._getUse=function(e,t){const r=this._baseState;return r.useDecoder=this._use(e,t),s(null===r.useDecoder._baseState.parent),r.useDecoder=r.useDecoder._baseState.children[0],r.implicit!==r.useDecoder._baseState.implicit&&(r.useDecoder=r.useDecoder.clone(),r.useDecoder._baseState.implicit=r.implicit),r.useDecoder},u.prototype._decodeChoice=function(e,t){const r=this._baseState;let n=null,i=!1;return Object.keys(r.choice).some((function(o){const s=e.save(),a=r.choice[o];try{const r=a._decode(e,t);if(e.isError(r))return!1;n={type:o,value:r},i=!0}catch(t){return e.restore(s),!1}return!0}),this),i?n:e.error("Choice not matched")},u.prototype._createEncoderBuffer=function(e){return new i(e,this.reporter)},u.prototype._encode=function(e,t,r){const n=this._baseState;if(null!==n.default&&n.default===e)return;const i=this._encodeValue(e,t,r);return void 0===i||this._skipDefault(i,t,r)?void 0:i},u.prototype._encodeValue=function(e,t,r){const i=this._baseState;if(null===i.parent)return i.children[0]._encode(e,t||new n);let o=null;if(this.reporter=t,i.optional&&void 0===e){if(null===i.default)return;e=i.default}let s=null,a=!1;if(i.any)o=this._createEncoderBuffer(e);else if(i.choice)o=this._encodeChoice(e,t);else if(i.contains)s=this._getUse(i.contains,r)._encode(e,t),a=!0;else if(i.children)s=i.children.map((function(r){if("null_"===r._baseState.tag)return r._encode(null,t,e);if(null===r._baseState.key)return t.error("Child should have a key");const n=t.enterKey(r._baseState.key);if("object"!=typeof e)return t.error("Child expected, but input is not object");const i=r._encode(e[r._baseState.key],t,e);return t.leaveKey(n),i}),this).filter((function(e){return e})),s=this._createEncoderBuffer(s);else if("seqof"===i.tag||"setof"===i.tag){if(!i.args||1!==i.args.length)return t.error("Too many args for : "+i.tag);if(!Array.isArray(e))return t.error("seqof/setof, but data is not Array");const r=this.clone();r._baseState.implicit=null,s=this._createEncoderBuffer(e.map((function(r){const n=this._baseState;return this._getUse(n.args[0],e)._encode(r,t)}),r))}else null!==i.use?o=this._getUse(i.use,r)._encode(e,t):(s=this._encodePrimitive(i.tag,e),a=!0);if(!i.any&&null===i.choice){const e=null!==i.implicit?i.implicit:i.tag,r=null===i.implicit?"universal":"context";null===e?null===i.use&&t.error("Tag could be omitted only for .use()"):null===i.use&&(o=this._encodeComposite(e,a,r,s))}return null!==i.explicit&&(o=this._encodeComposite(i.explicit,!1,"context",o)),o},u.prototype._encodeChoice=function(e,t){const r=this._baseState,n=r.choice[e.type];return n||s(!1,e.type+" not found in "+JSON.stringify(Object.keys(r.choice))),n._encode(e.value,t)},u.prototype._encodePrimitive=function(e,t){const r=this._baseState;if(/str$/.test(e))return this._encodeStr(t,e);if("objid"===e&&r.args)return this._encodeObjid(t,r.reverseArgs[0],r.args[1]);if("objid"===e)return this._encodeObjid(t,null,null);if("gentime"===e||"utctime"===e)return this._encodeTime(t,e);if("null_"===e)return this._encodeNull();if("int"===e||"enum"===e)return this._encodeInt(t,r.args&&r.reverseArgs[0]);if("bool"===e)return this._encodeBool(t);if("objDesc"===e)return this._encodeStr(t,e);throw new Error("Unsupported tag: "+e)},u.prototype._isNumstr=function(e){return/^[0-9 ]*$/.test(e)},u.prototype._isPrintstr=function(e){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(e)}},7701:(e,t,r)=>{const n=r(23730);function i(e){this._reporterState={obj:null,path:[],options:e||{},errors:[]}}function o(e,t){this.path=e,this.rethrow(t)}t.b=i,i.prototype.isError=function(e){return e instanceof o},i.prototype.save=function(){const e=this._reporterState;return{obj:e.obj,pathLen:e.path.length}},i.prototype.restore=function(e){const t=this._reporterState;t.obj=e.obj,t.path=t.path.slice(0,e.pathLen)},i.prototype.enterKey=function(e){return this._reporterState.path.push(e)},i.prototype.exitKey=function(e){const t=this._reporterState;t.path=t.path.slice(0,e-1)},i.prototype.leaveKey=function(e,t,r){const n=this._reporterState;this.exitKey(e),null!==n.obj&&(n.obj[t]=r)},i.prototype.path=function(){return this._reporterState.path.join("/")},i.prototype.enterObject=function(){const e=this._reporterState,t=e.obj;return e.obj={},t},i.prototype.leaveObject=function(e){const t=this._reporterState,r=t.obj;return t.obj=e,r},i.prototype.error=function(e){let t;const r=this._reporterState,n=e instanceof o;if(t=n?e:new o(r.path.map((function(e){return"["+JSON.stringify(e)+"]"})).join(""),e.message||e,e.stack),!r.options.partial)throw t;return n||r.errors.push(t),t},i.prototype.wrapResult=function(e){const t=this._reporterState;return t.options.partial?{result:this.isError(e)?null:e,errors:t.errors}:e},n(o,Error),o.prototype.rethrow=function(e){if(this.message=e+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,o),!this.stack)try{throw new Error(this.message)}catch(e){this.stack=e.stack}return this}},11559:(e,t)=>{function r(e){const t={};return Object.keys(e).forEach((function(r){(0|r)==r&&(r|=0);const n=e[r];t[n]=r})),t}t.tagClass={0:"universal",1:"application",2:"context",3:"private"},t.tagClassByName=r(t.tagClass),t.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},t.tagByName=r(t.tag)},9978:(e,t,r)=>{const n=t;n._reverse=function(e){const t={};return Object.keys(e).forEach((function(r){(0|r)==r&&(r|=0);const n=e[r];t[n]=r})),t},n.der=r(11559)},30381:(e,t,r)=>{const n=r(23730),i=r(65482),o=r(54375).C,s=r(56797),a=r(11559);function c(e){this.enc="der",this.name=e.name,this.entity=e,this.tree=new u,this.tree._init(e.body)}function u(e){s.call(this,"der",e)}function f(e,t){let r=e.readUInt8(t);if(e.isError(r))return r;const n=a.tagClass[r>>6],i=0==(32&r);if(31==(31&r)){let n=r;for(r=0;128==(128&n);){if(n=e.readUInt8(t),e.isError(n))return n;r<<=7,r|=127&n}}else r&=31;return{cls:n,primitive:i,tag:r,tagStr:a.tag[r]}}function l(e,t,r){let n=e.readUInt8(r);if(e.isError(n))return n;if(!t&&128===n)return null;if(0==(128&n))return n;const i=127&n;if(i>4)return e.error("length octect is too long");n=0;for(let t=0;t<i;t++){n<<=8;const t=e.readUInt8(r);if(e.isError(t))return t;n|=t}return n}e.exports=c,c.prototype.decode=function(e,t){return o.isDecoderBuffer(e)||(e=new o(e,t)),this.tree._decode(e,t)},n(u,s),u.prototype._peekTag=function(e,t,r){if(e.isEmpty())return!1;const n=e.save(),i=f(e,'Failed to peek tag: "'+t+'"');return e.isError(i)?i:(e.restore(n),i.tag===t||i.tagStr===t||i.tagStr+"of"===t||r)},u.prototype._decodeTag=function(e,t,r){const n=f(e,'Failed to decode tag of "'+t+'"');if(e.isError(n))return n;let i=l(e,n.primitive,'Failed to get length of "'+t+'"');if(e.isError(i))return i;if(!r&&n.tag!==t&&n.tagStr!==t&&n.tagStr+"of"!==t)return e.error('Failed to match tag: "'+t+'"');if(n.primitive||null!==i)return e.skip(i,'Failed to match body of: "'+t+'"');const o=e.save(),s=this._skipUntilEnd(e,'Failed to skip indefinite length body: "'+this.tag+'"');return e.isError(s)?s:(i=e.offset-o.offset,e.restore(o),e.skip(i,'Failed to match body of: "'+t+'"'))},u.prototype._skipUntilEnd=function(e,t){for(;;){const r=f(e,t);if(e.isError(r))return r;const n=l(e,r.primitive,t);if(e.isError(n))return n;let i;if(i=r.primitive||null!==n?e.skip(n):this._skipUntilEnd(e,t),e.isError(i))return i;if("end"===r.tagStr)break}},u.prototype._decodeList=function(e,t,r,n){const i=[];for(;!e.isEmpty();){const t=this._peekTag(e,"end");if(e.isError(t))return t;const o=r.decode(e,"der",n);if(e.isError(o)&&t)break;i.push(o)}return i},u.prototype._decodeStr=function(e,t){if("bitstr"===t){const t=e.readUInt8();return e.isError(t)?t:{unused:t,data:e.raw()}}if("bmpstr"===t){const t=e.raw();if(t.length%2==1)return e.error("Decoding of string type: bmpstr length mismatch");let r="";for(let e=0;e<t.length/2;e++)r+=String.fromCharCode(t.readUInt16BE(2*e));return r}if("numstr"===t){const t=e.raw().toString("ascii");return this._isNumstr(t)?t:e.error("Decoding of string type: numstr unsupported characters")}if("octstr"===t)return e.raw();if("objDesc"===t)return e.raw();if("printstr"===t){const t=e.raw().toString("ascii");return this._isPrintstr(t)?t:e.error("Decoding of string type: printstr unsupported characters")}return/str$/.test(t)?e.raw().toString():e.error("Decoding of string type: "+t+" unsupported")},u.prototype._decodeObjid=function(e,t,r){let n;const i=[];let o=0,s=0;for(;!e.isEmpty();)s=e.readUInt8(),o<<=7,o|=127&s,0==(128&s)&&(i.push(o),o=0);128&s&&i.push(o);const a=i[0]/40|0,c=i[0]%40;if(n=r?i:[a,c].concat(i.slice(1)),t){let e=t[n.join(" ")];void 0===e&&(e=t[n.join(".")]),void 0!==e&&(n=e)}return n},u.prototype._decodeTime=function(e,t){const r=e.raw().toString();let n,i,o,s,a,c;if("gentime"===t)n=0|r.slice(0,4),i=0|r.slice(4,6),o=0|r.slice(6,8),s=0|r.slice(8,10),a=0|r.slice(10,12),c=0|r.slice(12,14);else{if("utctime"!==t)return e.error("Decoding "+t+" time is not supported yet");n=0|r.slice(0,2),i=0|r.slice(2,4),o=0|r.slice(4,6),s=0|r.slice(6,8),a=0|r.slice(8,10),c=0|r.slice(10,12),n=n<70?2e3+n:1900+n}return Date.UTC(n,i-1,o,s,a,c,0)},u.prototype._decodeNull=function(){return null},u.prototype._decodeBool=function(e){const t=e.readUInt8();return e.isError(t)?t:0!==t},u.prototype._decodeInt=function(e,t){const r=e.raw();let n=new i(r);return t&&(n=t[n.toString(10)]||n),n},u.prototype._use=function(e,t){return"function"==typeof e&&(e=e(t)),e._getDecoder("der").tree}},38067:(e,t,r)=>{const n=t;n.der=r(30381),n.pem=r(11128)},11128:(e,t,r)=>{const n=r(23730),i=r(74312).Buffer,o=r(30381);function s(e){o.call(this,e),this.enc="pem"}n(s,o),e.exports=s,s.prototype.decode=function(e,t){const r=e.toString().split(/[\r\n]+/g),n=t.label.toUpperCase(),s=/^-----(BEGIN|END) ([^-]+)-----$/;let a=-1,c=-1;for(let e=0;e<r.length;e++){const t=r[e].match(s);if(null!==t&&t[2]===n){if(-1!==a){if("END"!==t[1])break;c=e;break}if("BEGIN"!==t[1])break;a=e}}if(-1===a||-1===c)throw new Error("PEM section not found for: "+n);const u=r.slice(a+1,c).join("");u.replace(/[^a-z0-9+/=]+/gi,"");const f=i.from(u,"base64");return o.prototype.decode.call(this,f,t)}},96475:(e,t,r)=>{const n=r(23730),i=r(74312).Buffer,o=r(56797),s=r(11559);function a(e){this.enc="der",this.name=e.name,this.entity=e,this.tree=new c,this.tree._init(e.body)}function c(e){o.call(this,"der",e)}function u(e){return e<10?"0"+e:e}e.exports=a,a.prototype.encode=function(e,t){return this.tree._encode(e,t).join()},n(c,o),c.prototype._encodeComposite=function(e,t,r,n){const o=function(e,t,r,n){let i;if("seqof"===e?e="seq":"setof"===e&&(e="set"),s.tagByName.hasOwnProperty(e))i=s.tagByName[e];else{if("number"!=typeof e||(0|e)!==e)return n.error("Unknown tag: "+e);i=e}return i>=31?n.error("Multi-octet tag encoding unsupported"):(t||(i|=32),i|=s.tagClassByName[r||"universal"]<<6,i)}(e,t,r,this.reporter);if(n.length<128){const e=i.alloc(2);return e[0]=o,e[1]=n.length,this._createEncoderBuffer([e,n])}let a=1;for(let e=n.length;e>=256;e>>=8)a++;const c=i.alloc(2+a);c[0]=o,c[1]=128|a;for(let e=1+a,t=n.length;t>0;e--,t>>=8)c[e]=255&t;return this._createEncoderBuffer([c,n])},c.prototype._encodeStr=function(e,t){if("bitstr"===t)return this._createEncoderBuffer([0|e.unused,e.data]);if("bmpstr"===t){const t=i.alloc(2*e.length);for(let r=0;r<e.length;r++)t.writeUInt16BE(e.charCodeAt(r),2*r);return this._createEncoderBuffer(t)}return"numstr"===t?this._isNumstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: numstr supports only digits and space"):"printstr"===t?this._isPrintstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(t)||"objDesc"===t?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: "+t+" unsupported")},c.prototype._encodeObjid=function(e,t,r){if("string"==typeof e){if(!t)return this.reporter.error("string objid given, but no values map found");if(!t.hasOwnProperty(e))return this.reporter.error("objid not found in values map");e=t[e].split(/[\s.]+/g);for(let t=0;t<e.length;t++)e[t]|=0}else if(Array.isArray(e)){e=e.slice();for(let t=0;t<e.length;t++)e[t]|=0}if(!Array.isArray(e))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(e));if(!r){if(e[1]>=40)return this.reporter.error("Second objid identifier OOB");e.splice(0,2,40*e[0]+e[1])}let n=0;for(let t=0;t<e.length;t++){let r=e[t];for(n++;r>=128;r>>=7)n++}const o=i.alloc(n);let s=o.length-1;for(let t=e.length-1;t>=0;t--){let r=e[t];for(o[s--]=127&r;(r>>=7)>0;)o[s--]=128|127&r}return this._createEncoderBuffer(o)},c.prototype._encodeTime=function(e,t){let r;const n=new Date(e);return"gentime"===t?r=[u(n.getUTCFullYear()),u(n.getUTCMonth()+1),u(n.getUTCDate()),u(n.getUTCHours()),u(n.getUTCMinutes()),u(n.getUTCSeconds()),"Z"].join(""):"utctime"===t?r=[u(n.getUTCFullYear()%100),u(n.getUTCMonth()+1),u(n.getUTCDate()),u(n.getUTCHours()),u(n.getUTCMinutes()),u(n.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+t+" time is not supported yet"),this._encodeStr(r,"octstr")},c.prototype._encodeNull=function(){return this._createEncoderBuffer("")},c.prototype._encodeInt=function(e,t){if("string"==typeof e){if(!t)return this.reporter.error("String int or enum given, but no values map");if(!t.hasOwnProperty(e))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(e));e=t[e]}if("number"!=typeof e&&!i.isBuffer(e)){const t=e.toArray();!e.sign&&128&t[0]&&t.unshift(0),e=i.from(t)}if(i.isBuffer(e)){let t=e.length;0===e.length&&t++;const r=i.alloc(t);return e.copy(r),0===e.length&&(r[0]=0),this._createEncoderBuffer(r)}if(e<128)return this._createEncoderBuffer(e);if(e<256)return this._createEncoderBuffer([0,e]);let r=1;for(let t=e;t>=256;t>>=8)r++;const n=new Array(r);for(let t=n.length-1;t>=0;t--)n[t]=255&e,e>>=8;return 128&n[0]&&n.unshift(0),this._createEncoderBuffer(i.from(n))},c.prototype._encodeBool=function(e){return this._createEncoderBuffer(e?255:0)},c.prototype._use=function(e,t){return"function"==typeof e&&(e=e(t)),e._getEncoder("der").tree},c.prototype._skipDefault=function(e,t,r){const n=this._baseState;let i;if(null===n.default)return!1;const o=e.join();if(void 0===n.defaultBuffer&&(n.defaultBuffer=this._encodeValue(n.default,t,r).join()),o.length!==n.defaultBuffer.length)return!1;for(i=0;i<o.length;i++)if(o[i]!==n.defaultBuffer[i])return!1;return!0}},26409:(e,t,r)=>{const n=t;n.der=r(96475),n.pem=r(46748)},46748:(e,t,r)=>{const n=r(23730),i=r(96475);function o(e){i.call(this,e),this.enc="pem"}n(o,i),e.exports=o,o.prototype.encode=function(e,t){const r=i.prototype.encode.call(this,e).toString("base64"),n=["-----BEGIN "+t.label+"-----"];for(let e=0;e<r.length;e+=64)n.push(r.slice(e,e+64));return n.push("-----END "+t.label+"-----"),n.join("\n")}},94343:(e,t,r)=>{var n=r(12695),i=r(40585);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}var s,a,c=r(88370).codes,u=c.ERR_AMBIGUOUS_ARGUMENT,f=c.ERR_INVALID_ARG_TYPE,l=c.ERR_INVALID_ARG_VALUE,h=c.ERR_INVALID_RETURN_VALUE,d=c.ERR_MISSING_ARGS,p=r(70669),b=r(85130).inspect,y=r(85130).types,m=y.isPromise,v=y.isRegExp,g=Object.assign?Object.assign:r(64401).assign,w=Object.is?Object.is:r(92369);function _(){var e=r(98195);s=e.isDeepEqual,a=e.isDeepStrictEqual}new Map;var S=!1,E=e.exports=A,O={};function T(e){if(e.message instanceof Error)throw e.message;throw new p(e)}function x(e,t,r,n){if(!r){var i=!1;if(0===t)i=!0,n="No value argument passed to `assert.ok()`";else if(n instanceof Error)throw n;var o=new p({actual:r,expected:!0,message:n,operator:"==",stackStartFn:e});throw o.generatedMessage=i,o}}function A(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];x.apply(void 0,[A,t.length].concat(t))}E.fail=function e(t,r,o,s,a){var c,u=arguments.length;if(0===u)c="Failed";else if(1===u)o=t,t=void 0;else{if(!1===S){S=!0;var f=n.emitWarning?n.emitWarning:i.warn.bind(i);f("assert.fail() with more than one argument is deprecated. Please use assert.strictEqual() instead or only pass a message.","DeprecationWarning","DEP0094")}2===u&&(s="!=")}if(o instanceof Error)throw o;var l={actual:t,expected:r,operator:void 0===s?"fail":s,stackStartFn:a||e};void 0!==o&&(l.message=o);var h=new p(l);throw c&&(h.message=c,h.generatedMessage=!0),h},E.AssertionError=p,E.ok=A,E.equal=function e(t,r,n){if(arguments.length<2)throw new d("actual","expected");t!=r&&T({actual:t,expected:r,message:n,operator:"==",stackStartFn:e})},E.notEqual=function e(t,r,n){if(arguments.length<2)throw new d("actual","expected");t==r&&T({actual:t,expected:r,message:n,operator:"!=",stackStartFn:e})},E.deepEqual=function e(t,r,n){if(arguments.length<2)throw new d("actual","expected");void 0===s&&_(),s(t,r)||T({actual:t,expected:r,message:n,operator:"deepEqual",stackStartFn:e})},E.notDeepEqual=function e(t,r,n){if(arguments.length<2)throw new d("actual","expected");void 0===s&&_(),s(t,r)&&T({actual:t,expected:r,message:n,operator:"notDeepEqual",stackStartFn:e})},E.deepStrictEqual=function e(t,r,n){if(arguments.length<2)throw new d("actual","expected");void 0===s&&_(),a(t,r)||T({actual:t,expected:r,message:n,operator:"deepStrictEqual",stackStartFn:e})},E.notDeepStrictEqual=function e(t,r,n){if(arguments.length<2)throw new d("actual","expected");void 0===s&&_(),a(t,r)&&T({actual:t,expected:r,message:n,operator:"notDeepStrictEqual",stackStartFn:e})},E.strictEqual=function e(t,r,n){if(arguments.length<2)throw new d("actual","expected");w(t,r)||T({actual:t,expected:r,message:n,operator:"strictEqual",stackStartFn:e})},E.notStrictEqual=function e(t,r,n){if(arguments.length<2)throw new d("actual","expected");w(t,r)&&T({actual:t,expected:r,message:n,operator:"notStrictEqual",stackStartFn:e})};var M=function e(t,r,n){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),r.forEach((function(e){e in t&&(void 0!==n&&"string"==typeof n[e]&&v(t[e])&&t[e].test(n[e])?i[e]=n[e]:i[e]=t[e])}))};function P(e,t,r,n,i,o){if(!(r in e)||!a(e[r],t[r])){if(!n){var s=new M(e,i),c=new M(t,i,e),u=new p({actual:s,expected:c,operator:"deepStrictEqual",stackStartFn:o});throw u.actual=e,u.expected=t,u.operator=o.name,u}T({actual:e,expected:t,message:n,operator:o.name,stackStartFn:o})}}function j(e,t,r,n){if("function"!=typeof t){if(v(t))return t.test(e);if(2===arguments.length)throw new f("expected",["Function","RegExp"],t);if("object"!==o(e)||null===e){var i=new p({actual:e,expected:t,message:r,operator:"deepStrictEqual",stackStartFn:n});throw i.operator=n.name,i}var a=Object.keys(t);if(t instanceof Error)a.push("name","message");else if(0===a.length)throw new l("error",t,"may not be an empty object");return void 0===s&&_(),a.forEach((function(i){"string"==typeof e[i]&&v(t[i])&&t[i].test(e[i])||P(e,t,i,r,a,n)})),!0}return void 0!==t.prototype&&e instanceof t||!Error.isPrototypeOf(t)&&!0===t.call({},e)}function k(e){if("function"!=typeof e)throw new f("fn","Function",e);try{e()}catch(e){return e}return O}function $(e){return m(e)||null!==e&&"object"===o(e)&&"function"==typeof e.then&&"function"==typeof e.catch}function C(e){return Promise.resolve().then((function(){var t;if("function"==typeof e){if(!$(t=e()))throw new h("instance of Promise","promiseFn",t)}else{if(!$(e))throw new f("promiseFn",["Function","Promise"],e);t=e}return Promise.resolve().then((function(){return t})).then((function(){return O})).catch((function(e){return e}))}))}function I(e,t,r,n){if("string"==typeof r){if(4===arguments.length)throw new f("error",["Object","Error","Function","RegExp"],r);if("object"===o(t)&&null!==t){if(t.message===r)throw new u("error/message",'The error message "'.concat(t.message,'" is identical to the message.'))}else if(t===r)throw new u("error/message",'The error "'.concat(t,'" is identical to the message.'));n=r,r=void 0}else if(null!=r&&"object"!==o(r)&&"function"!=typeof r)throw new f("error",["Object","Error","Function","RegExp"],r);if(t===O){var i="";r&&r.name&&(i+=" (".concat(r.name,")")),i+=n?": ".concat(n):".";var s="rejects"===e.name?"rejection":"exception";T({actual:void 0,expected:r,operator:e.name,message:"Missing expected ".concat(s).concat(i),stackStartFn:e})}if(r&&!j(t,r,n,e))throw t}function R(e,t,r,n){if(t!==O){if("string"==typeof r&&(n=r,r=void 0),!r||j(t,r)){var i=n?": ".concat(n):".",o="doesNotReject"===e.name?"rejection":"exception";T({actual:t,expected:r,operator:e.name,message:"Got unwanted ".concat(o).concat(i,"\n")+'Actual message: "'.concat(t&&t.message,'"'),stackStartFn:e})}throw t}}function N(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];x.apply(void 0,[N,t.length].concat(t))}E.throws=function e(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];I.apply(void 0,[e,k(t)].concat(n))},E.rejects=function e(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return C(t).then((function(t){return I.apply(void 0,[e,t].concat(n))}))},E.doesNotThrow=function e(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];R.apply(void 0,[e,k(t)].concat(n))},E.doesNotReject=function e(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return C(t).then((function(t){return R.apply(void 0,[e,t].concat(n))}))},E.ifError=function e(t){if(null!=t){var r="ifError got unwanted exception: ";"object"===o(t)&&"string"==typeof t.message?0===t.message.length&&t.constructor?r+=t.constructor.name:r+=t.message:r+=b(t);var n=new p({actual:t,expected:null,operator:"ifError",message:r,stackStartFn:e}),i=t.stack;if("string"==typeof i){var s=i.split("\n");s.shift();for(var a=n.stack.split("\n"),c=0;c<s.length;c++){var u=a.indexOf(s[c]);if(-1!==u){a=a.slice(0,u);break}}n.stack="".concat(a.join("\n"),"\n").concat(s.join("\n"))}throw n}},E.strict=g(N,E,{equal:E.strictEqual,deepEqual:E.deepStrictEqual,notEqual:E.notStrictEqual,notDeepEqual:E.notDeepStrictEqual}),E.strict.strict=E.strict},70669:(e,t,r)=>{var n=r(12695);function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?a(e):t}function a(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e){var t="function"==typeof Map?new Map:void 0;return c=function(e){if(null===e||(r=e,-1===Function.toString.call(r).indexOf("[native code]")))return e;var r;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return f(e,arguments,h(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),l(n,e)},c(e)}function u(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function f(e,t,r){return f=u()?Reflect.construct:function(e,t,r){var n=[null];n.push.apply(n,t);var i=new(Function.bind.apply(e,n));return r&&l(i,r.prototype),i},f.apply(null,arguments)}function l(e,t){return l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},l(e,t)}function h(e){return h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},h(e)}function d(e){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}var p=r(85130).inspect,b=r(88370).codes.ERR_INVALID_ARG_TYPE;function y(e,t,r){return(void 0===r||r>e.length)&&(r=e.length),e.substring(r-t.length,r)===t}var m="",v="",g="",w="",_={deepStrictEqual:"Expected values to be strictly deep-equal:",strictEqual:"Expected values to be strictly equal:",strictEqualObject:'Expected "actual" to be reference-equal to "expected":',deepEqual:"Expected values to be loosely deep-equal:",equal:"Expected values to be loosely equal:",notDeepStrictEqual:'Expected "actual" not to be strictly deep-equal to:',notStrictEqual:'Expected "actual" to be strictly unequal to:',notStrictEqualObject:'Expected "actual" not to be reference-equal to "expected":',notDeepEqual:'Expected "actual" not to be loosely deep-equal to:',notEqual:'Expected "actual" to be loosely unequal to:',notIdentical:"Values identical but not reference-equal:"};function S(e){var t=Object.keys(e),r=Object.create(Object.getPrototypeOf(e));return t.forEach((function(t){r[t]=e[t]})),Object.defineProperty(r,"message",{value:e.message}),r}function E(e){return p(e,{compact:!1,customInspect:!1,depth:1e3,maxArrayLength:1/0,showHidden:!1,breakLength:1/0,showProxy:!1,sorted:!0,getters:!0})}var O=function(e){function t(e){var r;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),"object"!==d(e)||null===e)throw new b("options","Object",e);var i=e.message,o=e.operator,c=e.stackStartFn,u=e.actual,f=e.expected,l=Error.stackTraceLimit;if(Error.stackTraceLimit=0,null!=i)r=s(this,h(t).call(this,String(i)));else if(n.stderr&&n.stderr.isTTY&&(n.stderr&&n.stderr.getColorDepth&&1!==n.stderr.getColorDepth()?(m="[34m",v="[32m",w="[39m",g="[31m"):(m="",v="",w="",g="")),"object"===d(u)&&null!==u&&"object"===d(f)&&null!==f&&"stack"in u&&u instanceof Error&&"stack"in f&&f instanceof Error&&(u=S(u),f=S(f)),"deepStrictEqual"===o||"strictEqual"===o)r=s(this,h(t).call(this,function(e,t,r){var i="",o="",s=0,a="",c=!1,u=E(e),f=u.split("\n"),l=E(t).split("\n"),h=0,p="";if("strictEqual"===r&&"object"===d(e)&&"object"===d(t)&&null!==e&&null!==t&&(r="strictEqualObject"),1===f.length&&1===l.length&&f[0]!==l[0]){var b=f[0].length+l[0].length;if(b<=10){if(!("object"===d(e)&&null!==e||"object"===d(t)&&null!==t||0===e&&0===t))return"".concat(_[r],"\n\n")+"".concat(f[0]," !== ").concat(l[0],"\n")}else if("strictEqualObject"!==r&&b<(n.stderr&&n.stderr.isTTY?n.stderr.columns:80)){for(;f[0][h]===l[0][h];)h++;h>2&&(p="\n  ".concat(function(e,t){if(t=Math.floor(t),0==e.length||0==t)return"";var r=e.length*t;for(t=Math.floor(Math.log(t)/Math.log(2));t;)e+=e,t--;return e+e.substring(0,r-e.length)}(" ",h),"^"),h=0)}}for(var S=f[f.length-1],O=l[l.length-1];S===O&&(h++<2?a="\n  ".concat(S).concat(a):i=S,f.pop(),l.pop(),0!==f.length&&0!==l.length);)S=f[f.length-1],O=l[l.length-1];var T=Math.max(f.length,l.length);if(0===T){var x=u.split("\n");if(x.length>30)for(x[26]="".concat(m,"...").concat(w);x.length>27;)x.pop();return"".concat(_.notIdentical,"\n\n").concat(x.join("\n"),"\n")}h>3&&(a="\n".concat(m,"...").concat(w).concat(a),c=!0),""!==i&&(a="\n  ".concat(i).concat(a),i="");var A=0,M=_[r]+"\n".concat(v,"+ actual").concat(w," ").concat(g,"- expected").concat(w),P=" ".concat(m,"...").concat(w," Lines skipped");for(h=0;h<T;h++){var j=h-s;if(f.length<h+1)j>1&&h>2&&(j>4?(o+="\n".concat(m,"...").concat(w),c=!0):j>3&&(o+="\n  ".concat(l[h-2]),A++),o+="\n  ".concat(l[h-1]),A++),s=h,i+="\n".concat(g,"-").concat(w," ").concat(l[h]),A++;else if(l.length<h+1)j>1&&h>2&&(j>4?(o+="\n".concat(m,"...").concat(w),c=!0):j>3&&(o+="\n  ".concat(f[h-2]),A++),o+="\n  ".concat(f[h-1]),A++),s=h,o+="\n".concat(v,"+").concat(w," ").concat(f[h]),A++;else{var k=l[h],$=f[h],C=$!==k&&(!y($,",")||$.slice(0,-1)!==k);C&&y(k,",")&&k.slice(0,-1)===$&&(C=!1,$+=","),C?(j>1&&h>2&&(j>4?(o+="\n".concat(m,"...").concat(w),c=!0):j>3&&(o+="\n  ".concat(f[h-2]),A++),o+="\n  ".concat(f[h-1]),A++),s=h,o+="\n".concat(v,"+").concat(w," ").concat($),i+="\n".concat(g,"-").concat(w," ").concat(k),A+=2):(o+=i,i="",1!==j&&0!==h||(o+="\n  ".concat($),A++))}if(A>20&&h<T-2)return"".concat(M).concat(P,"\n").concat(o,"\n").concat(m,"...").concat(w).concat(i,"\n")+"".concat(m,"...").concat(w)}return"".concat(M).concat(c?P:"","\n").concat(o).concat(i).concat(a).concat(p)}(u,f,o)));else if("notDeepStrictEqual"===o||"notStrictEqual"===o){var p=_[o],O=E(u).split("\n");if("notStrictEqual"===o&&"object"===d(u)&&null!==u&&(p=_.notStrictEqualObject),O.length>30)for(O[26]="".concat(m,"...").concat(w);O.length>27;)O.pop();r=1===O.length?s(this,h(t).call(this,"".concat(p," ").concat(O[0]))):s(this,h(t).call(this,"".concat(p,"\n\n").concat(O.join("\n"),"\n")))}else{var T=E(u),x="",A=_[o];"notDeepEqual"===o||"notEqual"===o?(T="".concat(_[o],"\n\n").concat(T)).length>1024&&(T="".concat(T.slice(0,1021),"...")):(x="".concat(E(f)),T.length>512&&(T="".concat(T.slice(0,509),"...")),x.length>512&&(x="".concat(x.slice(0,509),"...")),"deepEqual"===o||"equal"===o?T="".concat(A,"\n\n").concat(T,"\n\nshould equal\n\n"):x=" ".concat(o," ").concat(x)),r=s(this,h(t).call(this,"".concat(T).concat(x)))}return Error.stackTraceLimit=l,r.generatedMessage=!i,Object.defineProperty(a(r),"name",{value:"AssertionError [ERR_ASSERTION]",enumerable:!1,writable:!0,configurable:!0}),r.code="ERR_ASSERTION",r.actual=u,r.expected=f,r.operator=o,Error.captureStackTrace&&Error.captureStackTrace(a(r),c),r.stack,r.name="AssertionError",s(r)}var r,c;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(t,e),r=t,c=[{key:"toString",value:function(){return"".concat(this.name," [").concat(this.code,"]: ").concat(this.message)}},{key:p.custom,value:function(e,t){return p(this,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){i(e,t,r[t])}))}return e}({},t,{customInspect:!1,depth:0}))}}],c&&o(r.prototype,c),t}(c(Error));e.exports=O},88370:(e,t,r)=>{function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function i(e){return i=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},i(e)}function o(e,t){return o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},o(e,t)}var s,a,c={};function u(e,t,r){r||(r=Error);var s=function(r){function s(r,o,a){var c;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),c=function(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}(this,i(s).call(this,function(e,r,n){return"string"==typeof t?t:t(e,r,n)}(r,o,a))),c.code=e,c}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(s,r),s}(r);c[e]=s}function f(e,t){if(Array.isArray(e)){var r=e.length;return e=e.map((function(e){return String(e)})),r>2?"one of ".concat(t," ").concat(e.slice(0,r-1).join(", "),", or ")+e[r-1]:2===r?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}return"of ".concat(t," ").concat(String(e))}u("ERR_AMBIGUOUS_ARGUMENT",'The "%s" argument is ambiguous. %s',TypeError),u("ERR_INVALID_ARG_TYPE",(function(e,t,i){var o,a,c,u,l;if(void 0===s&&(s=r(94343)),s("string"==typeof e,"'name' must be a string"),"string"==typeof t&&(a="not ",t.substr(0,a.length)===a)?(o="must not be",t=t.replace(/^not /,"")):o="must be",function(e,t,r){return(void 0===r||r>e.length)&&(r=e.length),e.substring(r-t.length,r)===t}(e," argument"))c="The ".concat(e," ").concat(o," ").concat(f(t,"type"));else{var h=("number"!=typeof l&&(l=0),l+".".length>(u=e).length||-1===u.indexOf(".",l)?"argument":"property");c='The "'.concat(e,'" ').concat(h," ").concat(o," ").concat(f(t,"type"))}return c+". Received type ".concat(n(i))}),TypeError),u("ERR_INVALID_ARG_VALUE",(function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"is invalid";void 0===a&&(a=r(85130));var i=a.inspect(t);return i.length>128&&(i="".concat(i.slice(0,128),"...")),"The argument '".concat(e,"' ").concat(n,". Received ").concat(i)}),TypeError,RangeError),u("ERR_INVALID_RETURN_VALUE",(function(e,t,r){var i;return i=r&&r.constructor&&r.constructor.name?"instance of ".concat(r.constructor.name):"type ".concat(n(r)),"Expected ".concat(e,' to be returned from the "').concat(t,'"')+" function but got ".concat(i,".")}),TypeError),u("ERR_MISSING_ARGS",(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];void 0===s&&(s=r(94343)),s(t.length>0,"At least one arg needs to be specified");var i="The ",o=t.length;switch(t=t.map((function(e){return'"'.concat(e,'"')})),o){case 1:i+="".concat(t[0]," argument");break;case 2:i+="".concat(t[0]," and ").concat(t[1]," arguments");break;default:i+=t.slice(0,o-1).join(", "),i+=", and ".concat(t[o-1]," arguments")}return"".concat(i," must be specified")}),TypeError),e.exports.codes=c},98195:(e,t,r)=>{function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=[],n=!0,i=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(n=(s=a.next()).done)&&(r.push(s.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw o}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}var o=void 0!==/a/g.flags,s=function(e){var t=[];return e.forEach((function(e){return t.push(e)})),t},a=function(e){var t=[];return e.forEach((function(e,r){return t.push([r,e])})),t},c=Object.is?Object.is:r(92369),u=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols:function(){return[]},f=Number.isNaN?Number.isNaN:r(61292);function l(e){return e.call.bind(e)}var h=l(Object.prototype.hasOwnProperty),d=l(Object.prototype.propertyIsEnumerable),p=l(Object.prototype.toString),b=r(85130).types,y=b.isAnyArrayBuffer,m=b.isArrayBufferView,v=b.isDate,g=b.isMap,w=b.isRegExp,_=b.isSet,S=b.isNativeError,E=b.isBoxedPrimitive,O=b.isNumberObject,T=b.isStringObject,x=b.isBooleanObject,A=b.isBigIntObject,M=b.isSymbolObject,P=b.isFloat32Array,j=b.isFloat64Array;function k(e){if(0===e.length||e.length>10)return!0;for(var t=0;t<e.length;t++){var r=e.charCodeAt(t);if(r<48||r>57)return!0}return 10===e.length&&e>=Math.pow(2,32)}function $(e){return Object.keys(e).filter(k).concat(u(e).filter(Object.prototype.propertyIsEnumerable.bind(e)))}function C(e,t){if(e===t)return 0;for(var r=e.length,n=t.length,i=0,o=Math.min(r,n);i<o;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0}function I(e,t,r,n){if(e===t)return 0!==e||!r||c(e,t);if(r){if("object"!==i(e))return"number"==typeof e&&f(e)&&f(t);if("object"!==i(t)||null===e||null===t)return!1;if(Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1}else{if(null===e||"object"!==i(e))return(null===t||"object"!==i(t))&&e==t;if(null===t||"object"!==i(t))return!1}var s,a,u,l,h=p(e);if(h!==p(t))return!1;if(Array.isArray(e)){if(e.length!==t.length)return!1;var d=$(e),b=$(t);return d.length===b.length&&N(e,t,r,n,1,d)}if("[object Object]"===h&&(!g(e)&&g(t)||!_(e)&&_(t)))return!1;if(v(e)){if(!v(t)||Date.prototype.getTime.call(e)!==Date.prototype.getTime.call(t))return!1}else if(w(e)){if(!w(t)||(u=e,l=t,!(o?u.source===l.source&&u.flags===l.flags:RegExp.prototype.toString.call(u)===RegExp.prototype.toString.call(l))))return!1}else if(S(e)||e instanceof Error){if(e.message!==t.message||e.name!==t.name)return!1}else{if(m(e)){if(r||!P(e)&&!j(e)){if(!function(e,t){return e.byteLength===t.byteLength&&0===C(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),new Uint8Array(t.buffer,t.byteOffset,t.byteLength))}(e,t))return!1}else if(!function(e,t){if(e.byteLength!==t.byteLength)return!1;for(var r=0;r<e.byteLength;r++)if(e[r]!==t[r])return!1;return!0}(e,t))return!1;var k=$(e),I=$(t);return k.length===I.length&&N(e,t,r,n,0,k)}if(_(e))return!(!_(t)||e.size!==t.size)&&N(e,t,r,n,2);if(g(e))return!(!g(t)||e.size!==t.size)&&N(e,t,r,n,3);if(y(e)){if(a=t,(s=e).byteLength!==a.byteLength||0!==C(new Uint8Array(s),new Uint8Array(a)))return!1}else if(E(e)&&!function(e,t){return O(e)?O(t)&&c(Number.prototype.valueOf.call(e),Number.prototype.valueOf.call(t)):T(e)?T(t)&&String.prototype.valueOf.call(e)===String.prototype.valueOf.call(t):x(e)?x(t)&&Boolean.prototype.valueOf.call(e)===Boolean.prototype.valueOf.call(t):A(e)?A(t)&&BigInt.prototype.valueOf.call(e)===BigInt.prototype.valueOf.call(t):M(t)&&Symbol.prototype.valueOf.call(e)===Symbol.prototype.valueOf.call(t)}(e,t))return!1}return N(e,t,r,n,0)}function R(e,t){return t.filter((function(t){return d(e,t)}))}function N(e,t,r,n,i,o){if(5===arguments.length){o=Object.keys(e);var s=Object.keys(t);if(o.length!==s.length)return!1}for(var a=0;a<o.length;a++)if(!h(t,o[a]))return!1;if(r&&5===arguments.length){var c=u(e);if(0!==c.length){var f=0;for(a=0;a<c.length;a++){var l=c[a];if(d(e,l)){if(!d(t,l))return!1;o.push(l),f++}else if(d(t,l))return!1}var p=u(t);if(c.length!==p.length&&R(t,p).length!==f)return!1}else{var b=u(t);if(0!==b.length&&0!==R(t,b).length)return!1}}if(0===o.length&&(0===i||1===i&&0===e.length||0===e.size))return!0;if(void 0===n)n={val1:new Map,val2:new Map,position:0};else{var y=n.val1.get(e);if(void 0!==y){var m=n.val2.get(t);if(void 0!==m)return y===m}n.position++}n.val1.set(e,n.position),n.val2.set(t,n.position);var v=q(e,t,r,o,n,i);return n.val1.delete(e),n.val2.delete(t),v}function L(e,t,r,n){for(var i=s(e),o=0;o<i.length;o++){var a=i[o];if(I(t,a,r,n))return e.delete(a),!0}return!1}function D(e){switch(i(e)){case"undefined":return null;case"object":return;case"symbol":return!1;case"string":e=+e;case"number":if(f(e))return!1}return!0}function F(e,t,r){var n=D(r);return null!=n?n:t.has(n)&&!e.has(n)}function B(e,t,r,n,i){var o=D(r);if(null!=o)return o;var s=t.get(o);return!(void 0===s&&!t.has(o)||!I(n,s,!1,i))&&!e.has(o)&&I(n,s,!1,i)}function U(e,t,r,n,i,o){for(var a=s(e),c=0;c<a.length;c++){var u=a[c];if(I(r,u,i,o)&&I(n,t.get(u),i,o))return e.delete(u),!0}return!1}function q(e,t,r,o,c,u){var f=0;if(2===u){if(!function(e,t,r,n){for(var o=null,a=s(e),c=0;c<a.length;c++){var u=a[c];if("object"===i(u)&&null!==u)null===o&&(o=new Set),o.add(u);else if(!t.has(u)){if(r)return!1;if(!F(e,t,u))return!1;null===o&&(o=new Set),o.add(u)}}if(null!==o){for(var f=s(t),l=0;l<f.length;l++){var h=f[l];if("object"===i(h)&&null!==h){if(!L(o,h,r,n))return!1}else if(!r&&!e.has(h)&&!L(o,h,r,n))return!1}return 0===o.size}return!0}(e,t,r,c))return!1}else if(3===u){if(!function(e,t,r,o){for(var s=null,c=a(e),u=0;u<c.length;u++){var f=n(c[u],2),l=f[0],h=f[1];if("object"===i(l)&&null!==l)null===s&&(s=new Set),s.add(l);else{var d=t.get(l);if(void 0===d&&!t.has(l)||!I(h,d,r,o)){if(r)return!1;if(!B(e,t,l,h,o))return!1;null===s&&(s=new Set),s.add(l)}}}if(null!==s){for(var p=a(t),b=0;b<p.length;b++){var y=n(p[b],2),m=(l=y[0],y[1]);if("object"===i(l)&&null!==l){if(!U(s,e,l,m,r,o))return!1}else if(!(r||e.has(l)&&I(e.get(l),m,!1,o)||U(s,e,l,m,!1,o)))return!1}return 0===s.size}return!0}(e,t,r,c))return!1}else if(1===u)for(;f<e.length;f++){if(!h(e,f)){if(h(t,f))return!1;for(var l=Object.keys(e);f<l.length;f++){var d=l[f];if(!h(t,d)||!I(e[d],t[d],r,c))return!1}return l.length===Object.keys(t).length}if(!h(t,f)||!I(e[f],t[f],r,c))return!1}for(f=0;f<o.length;f++){var p=o[f];if(!I(e[p],t[p],r,c))return!1}return!0}e.exports={isDeepEqual:function(e,t){return I(e,t,!1)},isDeepStrictEqual:function(e,t){return I(e,t,!0)}}},16666:(e,t)=>{t.byteLength=function(e){var t=c(e),r=t[0],n=t[1];return 3*(r+n)/4-n},t.toByteArray=function(e){var t,r,o=c(e),s=o[0],a=o[1],u=new i(function(e,t,r){return 3*(t+r)/4-r}(0,s,a)),f=0,l=a>0?s-4:s;for(r=0;r<l;r+=4)t=n[e.charCodeAt(r)]<<18|n[e.charCodeAt(r+1)]<<12|n[e.charCodeAt(r+2)]<<6|n[e.charCodeAt(r+3)],u[f++]=t>>16&255,u[f++]=t>>8&255,u[f++]=255&t;return 2===a&&(t=n[e.charCodeAt(r)]<<2|n[e.charCodeAt(r+1)]>>4,u[f++]=255&t),1===a&&(t=n[e.charCodeAt(r)]<<10|n[e.charCodeAt(r+1)]<<4|n[e.charCodeAt(r+2)]>>2,u[f++]=t>>8&255,u[f++]=255&t),u},t.fromByteArray=function(e){for(var t,n=e.length,i=n%3,o=[],s=16383,a=0,c=n-i;a<c;a+=s)o.push(u(e,a,a+s>c?c:a+s));return 1===i?(t=e[n-1],o.push(r[t>>2]+r[t<<4&63]+"==")):2===i&&(t=(e[n-2]<<8)+e[n-1],o.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"=")),o.join("")};for(var r=[],n=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,a=o.length;s<a;++s)r[s]=o[s],n[o.charCodeAt(s)]=s;function c(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function u(e,t,n){for(var i,o,s=[],a=t;a<n;a+=3)i=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]),s.push(r[(o=i)>>18&63]+r[o>>12&63]+r[o>>6&63]+r[63&o]);return s.join("")}n["-".charCodeAt(0)]=62,n["_".charCodeAt(0)]=63},65482:function(e,t,r){!function(e,t){function n(e,t){if(!e)throw new Error(t||"Assertion failed")}function i(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}function o(e,t,r){if(o.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(r=t,t=10),this._init(e||0,t||10,r||"be"))}var s;"object"==typeof e?e.exports=o:t.BN=o,o.BN=o,o.wordSize=26;try{s="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:r(46360).Buffer}catch(e){}function a(e,t){var r=e.charCodeAt(t);return r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:r-48&15}function c(e,t,r){var n=a(e,r);return r-1>=t&&(n|=a(e,r-1)<<4),n}function u(e,t,r,n){for(var i=0,o=Math.min(e.length,r),s=t;s<o;s++){var a=e.charCodeAt(s)-48;i*=n,i+=a>=49?a-49+10:a>=17?a-17+10:a}return i}o.isBN=function(e){return e instanceof o||null!==e&&"object"==typeof e&&e.constructor.wordSize===o.wordSize&&Array.isArray(e.words)},o.max=function(e,t){return e.cmp(t)>0?e:t},o.min=function(e,t){return e.cmp(t)<0?e:t},o.prototype._init=function(e,t,r){if("number"==typeof e)return this._initNumber(e,t,r);if("object"==typeof e)return this._initArray(e,t,r);"hex"===t&&(t=16),n(t===(0|t)&&t>=2&&t<=36);var i=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<e.length&&(16===t?this._parseHex(e,i,r):(this._parseBase(e,t,i),"le"===r&&this._initArray(this.toArray(),t,r)))},o.prototype._initNumber=function(e,t,r){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(n(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),t,r)},o.prototype._initArray=function(e,t,r){if(n("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,s,a=0;if("be"===r)for(i=e.length-1,o=0;i>=0;i-=3)s=e[i]|e[i-1]<<8|e[i-2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);else if("le"===r)for(i=0,o=0;i<e.length;i+=3)s=e[i]|e[i+1]<<8|e[i+2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);return this.strip()},o.prototype._parseHex=function(e,t,r){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var i,o=0,s=0;if("be"===r)for(n=e.length-1;n>=t;n-=2)i=c(e,t,n)<<o,this.words[s]|=67108863&i,o>=18?(o-=18,s+=1,this.words[s]|=i>>>26):o+=8;else for(n=(e.length-t)%2==0?t+1:t;n<e.length;n+=2)i=c(e,t,n)<<o,this.words[s]|=67108863&i,o>=18?(o-=18,s+=1,this.words[s]|=i>>>26):o+=8;this.strip()},o.prototype._parseBase=function(e,t,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=t)n++;n--,i=i/t|0;for(var o=e.length-r,s=o%n,a=Math.min(o,o-s)+r,c=0,f=r;f<a;f+=n)c=u(e,f,f+n,t),this.imuln(i),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(0!==s){var l=1;for(c=u(e,f,e.length,t),f=0;f<s;f++)l*=t;this.imuln(l),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}this.strip()},o.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},o.prototype.clone=function(){var e=new o(null);return this.copy(e),e},o.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var f=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],l=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],h=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function d(e,t,r){r.negative=t.negative^e.negative;var n=e.length+t.length|0;r.length=n,n=n-1|0;var i=0|e.words[0],o=0|t.words[0],s=i*o,a=67108863&s,c=s/67108864|0;r.words[0]=a;for(var u=1;u<n;u++){for(var f=c>>>26,l=67108863&c,h=Math.min(u,t.length-1),d=Math.max(0,u-e.length+1);d<=h;d++){var p=u-d|0;f+=(s=(i=0|e.words[p])*(o=0|t.words[d])+l)/67108864|0,l=67108863&s}r.words[u]=0|l,c=0|f}return 0!==c?r.words[u]=0|c:r.length--,r.strip()}o.prototype.toString=function(e,t){var r;if(t=0|t||1,16===(e=e||10)||"hex"===e){r="";for(var i=0,o=0,s=0;s<this.length;s++){var a=this.words[s],c=(16777215&(a<<i|o)).toString(16);r=0!=(o=a>>>24-i&16777215)||s!==this.length-1?f[6-c.length]+c+r:c+r,(i+=2)>=26&&(i-=26,s--)}for(0!==o&&(r=o.toString(16)+r);r.length%t!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(e===(0|e)&&e>=2&&e<=36){var u=l[e],d=h[e];r="";var p=this.clone();for(p.negative=0;!p.isZero();){var b=p.modn(d).toString(e);r=(p=p.idivn(d)).isZero()?b+r:f[u-b.length]+b+r}for(this.isZero()&&(r="0"+r);r.length%t!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}n(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(e,t){return n(void 0!==s),this.toArrayLike(s,e,t)},o.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},o.prototype.toArrayLike=function(e,t,r){var i=this.byteLength(),o=r||Math.max(1,i);n(i<=o,"byte array longer than desired length"),n(o>0,"Requested array length <= 0"),this.strip();var s,a,c="le"===t,u=new e(o),f=this.clone();if(c){for(a=0;!f.isZero();a++)s=f.andln(255),f.iushrn(8),u[a]=s;for(;a<o;a++)u[a]=0}else{for(a=0;a<o-i;a++)u[a]=0;for(a=0;!f.isZero();a++)s=f.andln(255),f.iushrn(8),u[o-a-1]=s}return u},Math.clz32?o.prototype._countBits=function(e){return 32-Math.clz32(e)}:o.prototype._countBits=function(e){var t=e,r=0;return t>=4096&&(r+=13,t>>>=13),t>=64&&(r+=7,t>>>=7),t>=8&&(r+=4,t>>>=4),t>=2&&(r+=2,t>>>=2),r+t},o.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,r=0;return 0==(8191&t)&&(r+=13,t>>>=13),0==(127&t)&&(r+=7,t>>>=7),0==(15&t)&&(r+=4,t>>>=4),0==(3&t)&&(r+=2,t>>>=2),0==(1&t)&&r++,r},o.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var r=this._zeroBits(this.words[t]);if(e+=r,26!==r)break}return e},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},o.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this.strip()},o.prototype.ior=function(e){return n(0==(this.negative|e.negative)),this.iuor(e)},o.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},o.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},o.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var r=0;r<t.length;r++)this.words[r]=this.words[r]&e.words[r];return this.length=t.length,this.strip()},o.prototype.iand=function(e){return n(0==(this.negative|e.negative)),this.iuand(e)},o.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},o.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},o.prototype.iuxor=function(e){var t,r;this.length>e.length?(t=this,r=e):(t=e,r=this);for(var n=0;n<r.length;n++)this.words[n]=t.words[n]^r.words[n];if(this!==t)for(;n<t.length;n++)this.words[n]=t.words[n];return this.length=t.length,this.strip()},o.prototype.ixor=function(e){return n(0==(this.negative|e.negative)),this.iuxor(e)},o.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},o.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},o.prototype.inotn=function(e){n("number"==typeof e&&e>=0);var t=0|Math.ceil(e/26),r=e%26;this._expand(t),r>0&&t--;for(var i=0;i<t;i++)this.words[i]=67108863&~this.words[i];return r>0&&(this.words[i]=~this.words[i]&67108863>>26-r),this.strip()},o.prototype.notn=function(e){return this.clone().inotn(e)},o.prototype.setn=function(e,t){n("number"==typeof e&&e>=0);var r=e/26|0,i=e%26;return this._expand(r+1),this.words[r]=t?this.words[r]|1<<i:this.words[r]&~(1<<i),this.strip()},o.prototype.iadd=function(e){var t,r,n;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(r=this,n=e):(r=e,n=this);for(var i=0,o=0;o<n.length;o++)t=(0|r.words[o])+(0|n.words[o])+i,this.words[o]=67108863&t,i=t>>>26;for(;0!==i&&o<r.length;o++)t=(0|r.words[o])+i,this.words[o]=67108863&t,i=t>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},o.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},o.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var r,n,i=this.cmp(e);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=e):(r=e,n=this);for(var o=0,s=0;s<n.length;s++)o=(t=(0|r.words[s])-(0|n.words[s])+o)>>26,this.words[s]=67108863&t;for(;0!==o&&s<r.length;s++)o=(t=(0|r.words[s])+o)>>26,this.words[s]=67108863&t;if(0===o&&s<r.length&&r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this.length=Math.max(this.length,s),r!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(e){return this.clone().isub(e)};var p=function(e,t,r){var n,i,o,s=e.words,a=t.words,c=r.words,u=0,f=0|s[0],l=8191&f,h=f>>>13,d=0|s[1],p=8191&d,b=d>>>13,y=0|s[2],m=8191&y,v=y>>>13,g=0|s[3],w=8191&g,_=g>>>13,S=0|s[4],E=8191&S,O=S>>>13,T=0|s[5],x=8191&T,A=T>>>13,M=0|s[6],P=8191&M,j=M>>>13,k=0|s[7],$=8191&k,C=k>>>13,I=0|s[8],R=8191&I,N=I>>>13,L=0|s[9],D=8191&L,F=L>>>13,B=0|a[0],U=8191&B,q=B>>>13,z=0|a[1],V=8191&z,H=z>>>13,W=0|a[2],G=8191&W,K=W>>>13,J=0|a[3],Y=8191&J,X=J>>>13,Z=0|a[4],Q=8191&Z,ee=Z>>>13,te=0|a[5],re=8191&te,ne=te>>>13,ie=0|a[6],oe=8191&ie,se=ie>>>13,ae=0|a[7],ce=8191&ae,ue=ae>>>13,fe=0|a[8],le=8191&fe,he=fe>>>13,de=0|a[9],pe=8191&de,be=de>>>13;r.negative=e.negative^t.negative,r.length=19;var ye=(u+(n=Math.imul(l,U))|0)+((8191&(i=(i=Math.imul(l,q))+Math.imul(h,U)|0))<<13)|0;u=((o=Math.imul(h,q))+(i>>>13)|0)+(ye>>>26)|0,ye&=67108863,n=Math.imul(p,U),i=(i=Math.imul(p,q))+Math.imul(b,U)|0,o=Math.imul(b,q);var me=(u+(n=n+Math.imul(l,V)|0)|0)+((8191&(i=(i=i+Math.imul(l,H)|0)+Math.imul(h,V)|0))<<13)|0;u=((o=o+Math.imul(h,H)|0)+(i>>>13)|0)+(me>>>26)|0,me&=67108863,n=Math.imul(m,U),i=(i=Math.imul(m,q))+Math.imul(v,U)|0,o=Math.imul(v,q),n=n+Math.imul(p,V)|0,i=(i=i+Math.imul(p,H)|0)+Math.imul(b,V)|0,o=o+Math.imul(b,H)|0;var ve=(u+(n=n+Math.imul(l,G)|0)|0)+((8191&(i=(i=i+Math.imul(l,K)|0)+Math.imul(h,G)|0))<<13)|0;u=((o=o+Math.imul(h,K)|0)+(i>>>13)|0)+(ve>>>26)|0,ve&=67108863,n=Math.imul(w,U),i=(i=Math.imul(w,q))+Math.imul(_,U)|0,o=Math.imul(_,q),n=n+Math.imul(m,V)|0,i=(i=i+Math.imul(m,H)|0)+Math.imul(v,V)|0,o=o+Math.imul(v,H)|0,n=n+Math.imul(p,G)|0,i=(i=i+Math.imul(p,K)|0)+Math.imul(b,G)|0,o=o+Math.imul(b,K)|0;var ge=(u+(n=n+Math.imul(l,Y)|0)|0)+((8191&(i=(i=i+Math.imul(l,X)|0)+Math.imul(h,Y)|0))<<13)|0;u=((o=o+Math.imul(h,X)|0)+(i>>>13)|0)+(ge>>>26)|0,ge&=67108863,n=Math.imul(E,U),i=(i=Math.imul(E,q))+Math.imul(O,U)|0,o=Math.imul(O,q),n=n+Math.imul(w,V)|0,i=(i=i+Math.imul(w,H)|0)+Math.imul(_,V)|0,o=o+Math.imul(_,H)|0,n=n+Math.imul(m,G)|0,i=(i=i+Math.imul(m,K)|0)+Math.imul(v,G)|0,o=o+Math.imul(v,K)|0,n=n+Math.imul(p,Y)|0,i=(i=i+Math.imul(p,X)|0)+Math.imul(b,Y)|0,o=o+Math.imul(b,X)|0;var we=(u+(n=n+Math.imul(l,Q)|0)|0)+((8191&(i=(i=i+Math.imul(l,ee)|0)+Math.imul(h,Q)|0))<<13)|0;u=((o=o+Math.imul(h,ee)|0)+(i>>>13)|0)+(we>>>26)|0,we&=67108863,n=Math.imul(x,U),i=(i=Math.imul(x,q))+Math.imul(A,U)|0,o=Math.imul(A,q),n=n+Math.imul(E,V)|0,i=(i=i+Math.imul(E,H)|0)+Math.imul(O,V)|0,o=o+Math.imul(O,H)|0,n=n+Math.imul(w,G)|0,i=(i=i+Math.imul(w,K)|0)+Math.imul(_,G)|0,o=o+Math.imul(_,K)|0,n=n+Math.imul(m,Y)|0,i=(i=i+Math.imul(m,X)|0)+Math.imul(v,Y)|0,o=o+Math.imul(v,X)|0,n=n+Math.imul(p,Q)|0,i=(i=i+Math.imul(p,ee)|0)+Math.imul(b,Q)|0,o=o+Math.imul(b,ee)|0;var _e=(u+(n=n+Math.imul(l,re)|0)|0)+((8191&(i=(i=i+Math.imul(l,ne)|0)+Math.imul(h,re)|0))<<13)|0;u=((o=o+Math.imul(h,ne)|0)+(i>>>13)|0)+(_e>>>26)|0,_e&=67108863,n=Math.imul(P,U),i=(i=Math.imul(P,q))+Math.imul(j,U)|0,o=Math.imul(j,q),n=n+Math.imul(x,V)|0,i=(i=i+Math.imul(x,H)|0)+Math.imul(A,V)|0,o=o+Math.imul(A,H)|0,n=n+Math.imul(E,G)|0,i=(i=i+Math.imul(E,K)|0)+Math.imul(O,G)|0,o=o+Math.imul(O,K)|0,n=n+Math.imul(w,Y)|0,i=(i=i+Math.imul(w,X)|0)+Math.imul(_,Y)|0,o=o+Math.imul(_,X)|0,n=n+Math.imul(m,Q)|0,i=(i=i+Math.imul(m,ee)|0)+Math.imul(v,Q)|0,o=o+Math.imul(v,ee)|0,n=n+Math.imul(p,re)|0,i=(i=i+Math.imul(p,ne)|0)+Math.imul(b,re)|0,o=o+Math.imul(b,ne)|0;var Se=(u+(n=n+Math.imul(l,oe)|0)|0)+((8191&(i=(i=i+Math.imul(l,se)|0)+Math.imul(h,oe)|0))<<13)|0;u=((o=o+Math.imul(h,se)|0)+(i>>>13)|0)+(Se>>>26)|0,Se&=67108863,n=Math.imul($,U),i=(i=Math.imul($,q))+Math.imul(C,U)|0,o=Math.imul(C,q),n=n+Math.imul(P,V)|0,i=(i=i+Math.imul(P,H)|0)+Math.imul(j,V)|0,o=o+Math.imul(j,H)|0,n=n+Math.imul(x,G)|0,i=(i=i+Math.imul(x,K)|0)+Math.imul(A,G)|0,o=o+Math.imul(A,K)|0,n=n+Math.imul(E,Y)|0,i=(i=i+Math.imul(E,X)|0)+Math.imul(O,Y)|0,o=o+Math.imul(O,X)|0,n=n+Math.imul(w,Q)|0,i=(i=i+Math.imul(w,ee)|0)+Math.imul(_,Q)|0,o=o+Math.imul(_,ee)|0,n=n+Math.imul(m,re)|0,i=(i=i+Math.imul(m,ne)|0)+Math.imul(v,re)|0,o=o+Math.imul(v,ne)|0,n=n+Math.imul(p,oe)|0,i=(i=i+Math.imul(p,se)|0)+Math.imul(b,oe)|0,o=o+Math.imul(b,se)|0;var Ee=(u+(n=n+Math.imul(l,ce)|0)|0)+((8191&(i=(i=i+Math.imul(l,ue)|0)+Math.imul(h,ce)|0))<<13)|0;u=((o=o+Math.imul(h,ue)|0)+(i>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,n=Math.imul(R,U),i=(i=Math.imul(R,q))+Math.imul(N,U)|0,o=Math.imul(N,q),n=n+Math.imul($,V)|0,i=(i=i+Math.imul($,H)|0)+Math.imul(C,V)|0,o=o+Math.imul(C,H)|0,n=n+Math.imul(P,G)|0,i=(i=i+Math.imul(P,K)|0)+Math.imul(j,G)|0,o=o+Math.imul(j,K)|0,n=n+Math.imul(x,Y)|0,i=(i=i+Math.imul(x,X)|0)+Math.imul(A,Y)|0,o=o+Math.imul(A,X)|0,n=n+Math.imul(E,Q)|0,i=(i=i+Math.imul(E,ee)|0)+Math.imul(O,Q)|0,o=o+Math.imul(O,ee)|0,n=n+Math.imul(w,re)|0,i=(i=i+Math.imul(w,ne)|0)+Math.imul(_,re)|0,o=o+Math.imul(_,ne)|0,n=n+Math.imul(m,oe)|0,i=(i=i+Math.imul(m,se)|0)+Math.imul(v,oe)|0,o=o+Math.imul(v,se)|0,n=n+Math.imul(p,ce)|0,i=(i=i+Math.imul(p,ue)|0)+Math.imul(b,ce)|0,o=o+Math.imul(b,ue)|0;var Oe=(u+(n=n+Math.imul(l,le)|0)|0)+((8191&(i=(i=i+Math.imul(l,he)|0)+Math.imul(h,le)|0))<<13)|0;u=((o=o+Math.imul(h,he)|0)+(i>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,n=Math.imul(D,U),i=(i=Math.imul(D,q))+Math.imul(F,U)|0,o=Math.imul(F,q),n=n+Math.imul(R,V)|0,i=(i=i+Math.imul(R,H)|0)+Math.imul(N,V)|0,o=o+Math.imul(N,H)|0,n=n+Math.imul($,G)|0,i=(i=i+Math.imul($,K)|0)+Math.imul(C,G)|0,o=o+Math.imul(C,K)|0,n=n+Math.imul(P,Y)|0,i=(i=i+Math.imul(P,X)|0)+Math.imul(j,Y)|0,o=o+Math.imul(j,X)|0,n=n+Math.imul(x,Q)|0,i=(i=i+Math.imul(x,ee)|0)+Math.imul(A,Q)|0,o=o+Math.imul(A,ee)|0,n=n+Math.imul(E,re)|0,i=(i=i+Math.imul(E,ne)|0)+Math.imul(O,re)|0,o=o+Math.imul(O,ne)|0,n=n+Math.imul(w,oe)|0,i=(i=i+Math.imul(w,se)|0)+Math.imul(_,oe)|0,o=o+Math.imul(_,se)|0,n=n+Math.imul(m,ce)|0,i=(i=i+Math.imul(m,ue)|0)+Math.imul(v,ce)|0,o=o+Math.imul(v,ue)|0,n=n+Math.imul(p,le)|0,i=(i=i+Math.imul(p,he)|0)+Math.imul(b,le)|0,o=o+Math.imul(b,he)|0;var Te=(u+(n=n+Math.imul(l,pe)|0)|0)+((8191&(i=(i=i+Math.imul(l,be)|0)+Math.imul(h,pe)|0))<<13)|0;u=((o=o+Math.imul(h,be)|0)+(i>>>13)|0)+(Te>>>26)|0,Te&=67108863,n=Math.imul(D,V),i=(i=Math.imul(D,H))+Math.imul(F,V)|0,o=Math.imul(F,H),n=n+Math.imul(R,G)|0,i=(i=i+Math.imul(R,K)|0)+Math.imul(N,G)|0,o=o+Math.imul(N,K)|0,n=n+Math.imul($,Y)|0,i=(i=i+Math.imul($,X)|0)+Math.imul(C,Y)|0,o=o+Math.imul(C,X)|0,n=n+Math.imul(P,Q)|0,i=(i=i+Math.imul(P,ee)|0)+Math.imul(j,Q)|0,o=o+Math.imul(j,ee)|0,n=n+Math.imul(x,re)|0,i=(i=i+Math.imul(x,ne)|0)+Math.imul(A,re)|0,o=o+Math.imul(A,ne)|0,n=n+Math.imul(E,oe)|0,i=(i=i+Math.imul(E,se)|0)+Math.imul(O,oe)|0,o=o+Math.imul(O,se)|0,n=n+Math.imul(w,ce)|0,i=(i=i+Math.imul(w,ue)|0)+Math.imul(_,ce)|0,o=o+Math.imul(_,ue)|0,n=n+Math.imul(m,le)|0,i=(i=i+Math.imul(m,he)|0)+Math.imul(v,le)|0,o=o+Math.imul(v,he)|0;var xe=(u+(n=n+Math.imul(p,pe)|0)|0)+((8191&(i=(i=i+Math.imul(p,be)|0)+Math.imul(b,pe)|0))<<13)|0;u=((o=o+Math.imul(b,be)|0)+(i>>>13)|0)+(xe>>>26)|0,xe&=67108863,n=Math.imul(D,G),i=(i=Math.imul(D,K))+Math.imul(F,G)|0,o=Math.imul(F,K),n=n+Math.imul(R,Y)|0,i=(i=i+Math.imul(R,X)|0)+Math.imul(N,Y)|0,o=o+Math.imul(N,X)|0,n=n+Math.imul($,Q)|0,i=(i=i+Math.imul($,ee)|0)+Math.imul(C,Q)|0,o=o+Math.imul(C,ee)|0,n=n+Math.imul(P,re)|0,i=(i=i+Math.imul(P,ne)|0)+Math.imul(j,re)|0,o=o+Math.imul(j,ne)|0,n=n+Math.imul(x,oe)|0,i=(i=i+Math.imul(x,se)|0)+Math.imul(A,oe)|0,o=o+Math.imul(A,se)|0,n=n+Math.imul(E,ce)|0,i=(i=i+Math.imul(E,ue)|0)+Math.imul(O,ce)|0,o=o+Math.imul(O,ue)|0,n=n+Math.imul(w,le)|0,i=(i=i+Math.imul(w,he)|0)+Math.imul(_,le)|0,o=o+Math.imul(_,he)|0;var Ae=(u+(n=n+Math.imul(m,pe)|0)|0)+((8191&(i=(i=i+Math.imul(m,be)|0)+Math.imul(v,pe)|0))<<13)|0;u=((o=o+Math.imul(v,be)|0)+(i>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,n=Math.imul(D,Y),i=(i=Math.imul(D,X))+Math.imul(F,Y)|0,o=Math.imul(F,X),n=n+Math.imul(R,Q)|0,i=(i=i+Math.imul(R,ee)|0)+Math.imul(N,Q)|0,o=o+Math.imul(N,ee)|0,n=n+Math.imul($,re)|0,i=(i=i+Math.imul($,ne)|0)+Math.imul(C,re)|0,o=o+Math.imul(C,ne)|0,n=n+Math.imul(P,oe)|0,i=(i=i+Math.imul(P,se)|0)+Math.imul(j,oe)|0,o=o+Math.imul(j,se)|0,n=n+Math.imul(x,ce)|0,i=(i=i+Math.imul(x,ue)|0)+Math.imul(A,ce)|0,o=o+Math.imul(A,ue)|0,n=n+Math.imul(E,le)|0,i=(i=i+Math.imul(E,he)|0)+Math.imul(O,le)|0,o=o+Math.imul(O,he)|0;var Me=(u+(n=n+Math.imul(w,pe)|0)|0)+((8191&(i=(i=i+Math.imul(w,be)|0)+Math.imul(_,pe)|0))<<13)|0;u=((o=o+Math.imul(_,be)|0)+(i>>>13)|0)+(Me>>>26)|0,Me&=67108863,n=Math.imul(D,Q),i=(i=Math.imul(D,ee))+Math.imul(F,Q)|0,o=Math.imul(F,ee),n=n+Math.imul(R,re)|0,i=(i=i+Math.imul(R,ne)|0)+Math.imul(N,re)|0,o=o+Math.imul(N,ne)|0,n=n+Math.imul($,oe)|0,i=(i=i+Math.imul($,se)|0)+Math.imul(C,oe)|0,o=o+Math.imul(C,se)|0,n=n+Math.imul(P,ce)|0,i=(i=i+Math.imul(P,ue)|0)+Math.imul(j,ce)|0,o=o+Math.imul(j,ue)|0,n=n+Math.imul(x,le)|0,i=(i=i+Math.imul(x,he)|0)+Math.imul(A,le)|0,o=o+Math.imul(A,he)|0;var Pe=(u+(n=n+Math.imul(E,pe)|0)|0)+((8191&(i=(i=i+Math.imul(E,be)|0)+Math.imul(O,pe)|0))<<13)|0;u=((o=o+Math.imul(O,be)|0)+(i>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,n=Math.imul(D,re),i=(i=Math.imul(D,ne))+Math.imul(F,re)|0,o=Math.imul(F,ne),n=n+Math.imul(R,oe)|0,i=(i=i+Math.imul(R,se)|0)+Math.imul(N,oe)|0,o=o+Math.imul(N,se)|0,n=n+Math.imul($,ce)|0,i=(i=i+Math.imul($,ue)|0)+Math.imul(C,ce)|0,o=o+Math.imul(C,ue)|0,n=n+Math.imul(P,le)|0,i=(i=i+Math.imul(P,he)|0)+Math.imul(j,le)|0,o=o+Math.imul(j,he)|0;var je=(u+(n=n+Math.imul(x,pe)|0)|0)+((8191&(i=(i=i+Math.imul(x,be)|0)+Math.imul(A,pe)|0))<<13)|0;u=((o=o+Math.imul(A,be)|0)+(i>>>13)|0)+(je>>>26)|0,je&=67108863,n=Math.imul(D,oe),i=(i=Math.imul(D,se))+Math.imul(F,oe)|0,o=Math.imul(F,se),n=n+Math.imul(R,ce)|0,i=(i=i+Math.imul(R,ue)|0)+Math.imul(N,ce)|0,o=o+Math.imul(N,ue)|0,n=n+Math.imul($,le)|0,i=(i=i+Math.imul($,he)|0)+Math.imul(C,le)|0,o=o+Math.imul(C,he)|0;var ke=(u+(n=n+Math.imul(P,pe)|0)|0)+((8191&(i=(i=i+Math.imul(P,be)|0)+Math.imul(j,pe)|0))<<13)|0;u=((o=o+Math.imul(j,be)|0)+(i>>>13)|0)+(ke>>>26)|0,ke&=67108863,n=Math.imul(D,ce),i=(i=Math.imul(D,ue))+Math.imul(F,ce)|0,o=Math.imul(F,ue),n=n+Math.imul(R,le)|0,i=(i=i+Math.imul(R,he)|0)+Math.imul(N,le)|0,o=o+Math.imul(N,he)|0;var $e=(u+(n=n+Math.imul($,pe)|0)|0)+((8191&(i=(i=i+Math.imul($,be)|0)+Math.imul(C,pe)|0))<<13)|0;u=((o=o+Math.imul(C,be)|0)+(i>>>13)|0)+($e>>>26)|0,$e&=67108863,n=Math.imul(D,le),i=(i=Math.imul(D,he))+Math.imul(F,le)|0,o=Math.imul(F,he);var Ce=(u+(n=n+Math.imul(R,pe)|0)|0)+((8191&(i=(i=i+Math.imul(R,be)|0)+Math.imul(N,pe)|0))<<13)|0;u=((o=o+Math.imul(N,be)|0)+(i>>>13)|0)+(Ce>>>26)|0,Ce&=67108863;var Ie=(u+(n=Math.imul(D,pe))|0)+((8191&(i=(i=Math.imul(D,be))+Math.imul(F,pe)|0))<<13)|0;return u=((o=Math.imul(F,be))+(i>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,c[0]=ye,c[1]=me,c[2]=ve,c[3]=ge,c[4]=we,c[5]=_e,c[6]=Se,c[7]=Ee,c[8]=Oe,c[9]=Te,c[10]=xe,c[11]=Ae,c[12]=Me,c[13]=Pe,c[14]=je,c[15]=ke,c[16]=$e,c[17]=Ce,c[18]=Ie,0!==u&&(c[19]=u,r.length++),r};function b(e,t,r){return(new y).mulp(e,t,r)}function y(e,t){this.x=e,this.y=t}Math.imul||(p=d),o.prototype.mulTo=function(e,t){var r,n=this.length+e.length;return r=10===this.length&&10===e.length?p(this,e,t):n<63?d(this,e,t):n<1024?function(e,t,r){r.negative=t.negative^e.negative,r.length=e.length+t.length;for(var n=0,i=0,o=0;o<r.length-1;o++){var s=i;i=0;for(var a=67108863&n,c=Math.min(o,t.length-1),u=Math.max(0,o-e.length+1);u<=c;u++){var f=o-u,l=(0|e.words[f])*(0|t.words[u]),h=67108863&l;a=67108863&(h=h+a|0),i+=(s=(s=s+(l/67108864|0)|0)+(h>>>26)|0)>>>26,s&=67108863}r.words[o]=a,n=s,s=i}return 0!==n?r.words[o]=n:r.length--,r.strip()}(this,e,t):b(this,e,t),r},y.prototype.makeRBT=function(e){for(var t=new Array(e),r=o.prototype._countBits(e)-1,n=0;n<e;n++)t[n]=this.revBin(n,r,e);return t},y.prototype.revBin=function(e,t,r){if(0===e||e===r-1)return e;for(var n=0,i=0;i<t;i++)n|=(1&e)<<t-i-1,e>>=1;return n},y.prototype.permute=function(e,t,r,n,i,o){for(var s=0;s<o;s++)n[s]=t[e[s]],i[s]=r[e[s]]},y.prototype.transform=function(e,t,r,n,i,o){this.permute(o,e,t,r,n,i);for(var s=1;s<i;s<<=1)for(var a=s<<1,c=Math.cos(2*Math.PI/a),u=Math.sin(2*Math.PI/a),f=0;f<i;f+=a)for(var l=c,h=u,d=0;d<s;d++){var p=r[f+d],b=n[f+d],y=r[f+d+s],m=n[f+d+s],v=l*y-h*m;m=l*m+h*y,y=v,r[f+d]=p+y,n[f+d]=b+m,r[f+d+s]=p-y,n[f+d+s]=b-m,d!==a&&(v=c*l-u*h,h=c*h+u*l,l=v)}},y.prototype.guessLen13b=function(e,t){var r=1|Math.max(t,e),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},y.prototype.conjugate=function(e,t,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=e[n];e[n]=e[r-n-1],e[r-n-1]=i,i=t[n],t[n]=-t[r-n-1],t[r-n-1]=-i}},y.prototype.normalize13b=function(e,t){for(var r=0,n=0;n<t/2;n++){var i=8192*Math.round(e[2*n+1]/t)+Math.round(e[2*n]/t)+r;e[n]=67108863&i,r=i<67108864?0:i/67108864|0}return e},y.prototype.convert13b=function(e,t,r,i){for(var o=0,s=0;s<t;s++)o+=0|e[s],r[2*s]=8191&o,o>>>=13,r[2*s+1]=8191&o,o>>>=13;for(s=2*t;s<i;++s)r[s]=0;n(0===o),n(0==(-8192&o))},y.prototype.stub=function(e){for(var t=new Array(e),r=0;r<e;r++)t[r]=0;return t},y.prototype.mulp=function(e,t,r){var n=2*this.guessLen13b(e.length,t.length),i=this.makeRBT(n),o=this.stub(n),s=new Array(n),a=new Array(n),c=new Array(n),u=new Array(n),f=new Array(n),l=new Array(n),h=r.words;h.length=n,this.convert13b(e.words,e.length,s,n),this.convert13b(t.words,t.length,u,n),this.transform(s,o,a,c,n,i),this.transform(u,o,f,l,n,i);for(var d=0;d<n;d++){var p=a[d]*f[d]-c[d]*l[d];c[d]=a[d]*l[d]+c[d]*f[d],a[d]=p}return this.conjugate(a,c,n),this.transform(a,c,h,o,n,i),this.conjugate(h,o,n),this.normalize13b(h,n),r.negative=e.negative^t.negative,r.length=e.length+t.length,r.strip()},o.prototype.mul=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},o.prototype.mulf=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),b(this,e,t)},o.prototype.imul=function(e){return this.clone().mulTo(e,this)},o.prototype.imuln=function(e){n("number"==typeof e),n(e<67108864);for(var t=0,r=0;r<this.length;r++){var i=(0|this.words[r])*e,o=(67108863&i)+(67108863&t);t>>=26,t+=i/67108864|0,t+=o>>>26,this.words[r]=67108863&o}return 0!==t&&(this.words[r]=t,this.length++),this},o.prototype.muln=function(e){return this.clone().imuln(e)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),r=0;r<t.length;r++){var n=r/26|0,i=r%26;t[r]=(e.words[n]&1<<i)>>>i}return t}(e);if(0===t.length)return new o(1);for(var r=this,n=0;n<t.length&&0===t[n];n++,r=r.sqr());if(++n<t.length)for(var i=r.sqr();n<t.length;n++,i=i.sqr())0!==t[n]&&(r=r.mul(i));return r},o.prototype.iushln=function(e){n("number"==typeof e&&e>=0);var t,r=e%26,i=(e-r)/26,o=67108863>>>26-r<<26-r;if(0!==r){var s=0;for(t=0;t<this.length;t++){var a=this.words[t]&o,c=(0|this.words[t])-a<<r;this.words[t]=c|s,s=a>>>26-r}s&&(this.words[t]=s,this.length++)}if(0!==i){for(t=this.length-1;t>=0;t--)this.words[t+i]=this.words[t];for(t=0;t<i;t++)this.words[t]=0;this.length+=i}return this.strip()},o.prototype.ishln=function(e){return n(0===this.negative),this.iushln(e)},o.prototype.iushrn=function(e,t,r){var i;n("number"==typeof e&&e>=0),i=t?(t-t%26)/26:0;var o=e%26,s=Math.min((e-o)/26,this.length),a=67108863^67108863>>>o<<o,c=r;if(i-=s,i=Math.max(0,i),c){for(var u=0;u<s;u++)c.words[u]=this.words[u];c.length=s}if(0===s);else if(this.length>s)for(this.length-=s,u=0;u<this.length;u++)this.words[u]=this.words[u+s];else this.words[0]=0,this.length=1;var f=0;for(u=this.length-1;u>=0&&(0!==f||u>=i);u--){var l=0|this.words[u];this.words[u]=f<<26-o|l>>>o,f=l&a}return c&&0!==f&&(c.words[c.length++]=f),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(e,t,r){return n(0===this.negative),this.iushrn(e,t,r)},o.prototype.shln=function(e){return this.clone().ishln(e)},o.prototype.ushln=function(e){return this.clone().iushln(e)},o.prototype.shrn=function(e){return this.clone().ishrn(e)},o.prototype.ushrn=function(e){return this.clone().iushrn(e)},o.prototype.testn=function(e){n("number"==typeof e&&e>=0);var t=e%26,r=(e-t)/26,i=1<<t;return!(this.length<=r||!(this.words[r]&i))},o.prototype.imaskn=function(e){n("number"==typeof e&&e>=0);var t=e%26,r=(e-t)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==t&&r++,this.length=Math.min(r,this.length),0!==t){var i=67108863^67108863>>>t<<t;this.words[this.length-1]&=i}return this.strip()},o.prototype.maskn=function(e){return this.clone().imaskn(e)},o.prototype.iaddn=function(e){return n("number"==typeof e),n(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},o.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},o.prototype.isubn=function(e){if(n("number"==typeof e),n(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this.strip()},o.prototype.addn=function(e){return this.clone().iaddn(e)},o.prototype.subn=function(e){return this.clone().isubn(e)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(e,t,r){var i,o,s=e.length+r;this._expand(s);var a=0;for(i=0;i<e.length;i++){o=(0|this.words[i+r])+a;var c=(0|e.words[i])*t;a=((o-=67108863&c)>>26)-(c/67108864|0),this.words[i+r]=67108863&o}for(;i<this.length-r;i++)a=(o=(0|this.words[i+r])+a)>>26,this.words[i+r]=67108863&o;if(0===a)return this.strip();for(n(-1===a),a=0,i=0;i<this.length;i++)a=(o=-(0|this.words[i])+a)>>26,this.words[i]=67108863&o;return this.negative=1,this.strip()},o.prototype._wordDiv=function(e,t){var r=(this.length,e.length),n=this.clone(),i=e,s=0|i.words[i.length-1];0!=(r=26-this._countBits(s))&&(i=i.ushln(r),n.iushln(r),s=0|i.words[i.length-1]);var a,c=n.length-i.length;if("mod"!==t){(a=new o(null)).length=c+1,a.words=new Array(a.length);for(var u=0;u<a.length;u++)a.words[u]=0}var f=n.clone()._ishlnsubmul(i,1,c);0===f.negative&&(n=f,a&&(a.words[c]=1));for(var l=c-1;l>=0;l--){var h=67108864*(0|n.words[i.length+l])+(0|n.words[i.length+l-1]);for(h=Math.min(h/s|0,67108863),n._ishlnsubmul(i,h,l);0!==n.negative;)h--,n.negative=0,n._ishlnsubmul(i,1,l),n.isZero()||(n.negative^=1);a&&(a.words[l]=h)}return a&&a.strip(),n.strip(),"div"!==t&&0!==r&&n.iushrn(r),{div:a||null,mod:n}},o.prototype.divmod=function(e,t,r){return n(!e.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===e.negative?(a=this.neg().divmod(e,t),"mod"!==t&&(i=a.div.neg()),"div"!==t&&(s=a.mod.neg(),r&&0!==s.negative&&s.iadd(e)),{div:i,mod:s}):0===this.negative&&0!==e.negative?(a=this.divmod(e.neg(),t),"mod"!==t&&(i=a.div.neg()),{div:i,mod:a.mod}):0!=(this.negative&e.negative)?(a=this.neg().divmod(e.neg(),t),"div"!==t&&(s=a.mod.neg(),r&&0!==s.negative&&s.isub(e)),{div:a.div,mod:s}):e.length>this.length||this.cmp(e)<0?{div:new o(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new o(this.modn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new o(this.modn(e.words[0]))}:this._wordDiv(e,t);var i,s,a},o.prototype.div=function(e){return this.divmod(e,"div",!1).div},o.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},o.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},o.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var r=0!==t.div.negative?t.mod.isub(e):t.mod,n=e.ushrn(1),i=e.andln(1),o=r.cmp(n);return o<0||1===i&&0===o?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},o.prototype.modn=function(e){n(e<=67108863);for(var t=(1<<26)%e,r=0,i=this.length-1;i>=0;i--)r=(t*r+(0|this.words[i]))%e;return r},o.prototype.idivn=function(e){n(e<=67108863);for(var t=0,r=this.length-1;r>=0;r--){var i=(0|this.words[r])+67108864*t;this.words[r]=i/e|0,t=i%e}return this.strip()},o.prototype.divn=function(e){return this.clone().idivn(e)},o.prototype.egcd=function(e){n(0===e.negative),n(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i=new o(1),s=new o(0),a=new o(0),c=new o(1),u=0;t.isEven()&&r.isEven();)t.iushrn(1),r.iushrn(1),++u;for(var f=r.clone(),l=t.clone();!t.isZero();){for(var h=0,d=1;0==(t.words[0]&d)&&h<26;++h,d<<=1);if(h>0)for(t.iushrn(h);h-- >0;)(i.isOdd()||s.isOdd())&&(i.iadd(f),s.isub(l)),i.iushrn(1),s.iushrn(1);for(var p=0,b=1;0==(r.words[0]&b)&&p<26;++p,b<<=1);if(p>0)for(r.iushrn(p);p-- >0;)(a.isOdd()||c.isOdd())&&(a.iadd(f),c.isub(l)),a.iushrn(1),c.iushrn(1);t.cmp(r)>=0?(t.isub(r),i.isub(a),s.isub(c)):(r.isub(t),a.isub(i),c.isub(s))}return{a,b:c,gcd:r.iushln(u)}},o.prototype._invmp=function(e){n(0===e.negative),n(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i,s=new o(1),a=new o(0),c=r.clone();t.cmpn(1)>0&&r.cmpn(1)>0;){for(var u=0,f=1;0==(t.words[0]&f)&&u<26;++u,f<<=1);if(u>0)for(t.iushrn(u);u-- >0;)s.isOdd()&&s.iadd(c),s.iushrn(1);for(var l=0,h=1;0==(r.words[0]&h)&&l<26;++l,h<<=1);if(l>0)for(r.iushrn(l);l-- >0;)a.isOdd()&&a.iadd(c),a.iushrn(1);t.cmp(r)>=0?(t.isub(r),s.isub(a)):(r.isub(t),a.isub(s))}return(i=0===t.cmpn(1)?s:a).cmpn(0)<0&&i.iadd(e),i},o.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),r=e.clone();t.negative=0,r.negative=0;for(var n=0;t.isEven()&&r.isEven();n++)t.iushrn(1),r.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=t.cmp(r);if(i<0){var o=t;t=r,r=o}else if(0===i||0===r.cmpn(1))break;t.isub(r)}return r.iushln(n)},o.prototype.invm=function(e){return this.egcd(e).a.umod(e)},o.prototype.isEven=function(){return 0==(1&this.words[0])},o.prototype.isOdd=function(){return 1==(1&this.words[0])},o.prototype.andln=function(e){return this.words[0]&e},o.prototype.bincn=function(e){n("number"==typeof e);var t=e%26,r=(e-t)/26,i=1<<t;if(this.length<=r)return this._expand(r+1),this.words[r]|=i,this;for(var o=i,s=r;0!==o&&s<this.length;s++){var a=0|this.words[s];o=(a+=o)>>>26,a&=67108863,this.words[s]=a}return 0!==o&&(this.words[s]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(e){var t,r=e<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this.strip(),this.length>1)t=1;else{r&&(e=-e),n(e<=67108863,"Number is too big");var i=0|this.words[0];t=i===e?0:i<e?-1:1}return 0!==this.negative?0|-t:t},o.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},o.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|e.words[r];if(n!==i){n<i?t=-1:n>i&&(t=1);break}}return t},o.prototype.gtn=function(e){return 1===this.cmpn(e)},o.prototype.gt=function(e){return 1===this.cmp(e)},o.prototype.gten=function(e){return this.cmpn(e)>=0},o.prototype.gte=function(e){return this.cmp(e)>=0},o.prototype.ltn=function(e){return-1===this.cmpn(e)},o.prototype.lt=function(e){return-1===this.cmp(e)},o.prototype.lten=function(e){return this.cmpn(e)<=0},o.prototype.lte=function(e){return this.cmp(e)<=0},o.prototype.eqn=function(e){return 0===this.cmpn(e)},o.prototype.eq=function(e){return 0===this.cmp(e)},o.red=function(e){return new E(e)},o.prototype.toRed=function(e){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},o.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(e){return this.red=e,this},o.prototype.forceRed=function(e){return n(!this.red,"Already a number in reduction context"),this._forceRed(e)},o.prototype.redAdd=function(e){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},o.prototype.redIAdd=function(e){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},o.prototype.redSub=function(e){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},o.prototype.redISub=function(e){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},o.prototype.redShl=function(e){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},o.prototype.redMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},o.prototype.redIMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},o.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(e){return n(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var m={k256:null,p224:null,p192:null,p25519:null};function v(e,t){this.name=e,this.p=new o(t,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function g(){v.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function w(){v.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function _(){v.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function S(){v.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function E(e){if("string"==typeof e){var t=o._prime(e);this.m=t.p,this.prime=t}else n(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function O(e){E.call(this,e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}v.prototype._tmp=function(){var e=new o(null);return e.words=new Array(Math.ceil(this.n/13)),e},v.prototype.ireduce=function(e){var t,r=e;do{this.split(r,this.tmp),t=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(t>this.n);var n=t<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},v.prototype.split=function(e,t){e.iushrn(this.n,0,t)},v.prototype.imulK=function(e){return e.imul(this.k)},i(g,v),g.prototype.split=function(e,t){for(var r=4194303,n=Math.min(e.length,9),i=0;i<n;i++)t.words[i]=e.words[i];if(t.length=n,e.length<=9)return e.words[0]=0,void(e.length=1);var o=e.words[9];for(t.words[t.length++]=o&r,i=10;i<e.length;i++){var s=0|e.words[i];e.words[i-10]=(s&r)<<4|o>>>22,o=s}o>>>=22,e.words[i-10]=o,0===o&&e.length>10?e.length-=10:e.length-=9},g.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,r=0;r<e.length;r++){var n=0|e.words[r];t+=977*n,e.words[r]=67108863&t,t=64*n+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},i(w,v),i(_,v),i(S,v),S.prototype.imulK=function(e){for(var t=0,r=0;r<e.length;r++){var n=19*(0|e.words[r])+t,i=67108863&n;n>>>=26,e.words[r]=i,t=n}return 0!==t&&(e.words[e.length++]=t),e},o._prime=function(e){if(m[e])return m[e];var t;if("k256"===e)t=new g;else if("p224"===e)t=new w;else if("p192"===e)t=new _;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new S}return m[e]=t,t},E.prototype._verify1=function(e){n(0===e.negative,"red works only with positives"),n(e.red,"red works only with red numbers")},E.prototype._verify2=function(e,t){n(0==(e.negative|t.negative),"red works only with positives"),n(e.red&&e.red===t.red,"red works only with red numbers")},E.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):e.umod(this.m)._forceRed(this)},E.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},E.prototype.add=function(e,t){this._verify2(e,t);var r=e.add(t);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},E.prototype.iadd=function(e,t){this._verify2(e,t);var r=e.iadd(t);return r.cmp(this.m)>=0&&r.isub(this.m),r},E.prototype.sub=function(e,t){this._verify2(e,t);var r=e.sub(t);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},E.prototype.isub=function(e,t){this._verify2(e,t);var r=e.isub(t);return r.cmpn(0)<0&&r.iadd(this.m),r},E.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},E.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},E.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},E.prototype.isqr=function(e){return this.imul(e,e.clone())},E.prototype.sqr=function(e){return this.mul(e,e)},E.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(n(t%2==1),3===t){var r=this.m.add(new o(1)).iushrn(2);return this.pow(e,r)}for(var i=this.m.subn(1),s=0;!i.isZero()&&0===i.andln(1);)s++,i.iushrn(1);n(!i.isZero());var a=new o(1).toRed(this),c=a.redNeg(),u=this.m.subn(1).iushrn(1),f=this.m.bitLength();for(f=new o(2*f*f).toRed(this);0!==this.pow(f,u).cmp(c);)f.redIAdd(c);for(var l=this.pow(f,i),h=this.pow(e,i.addn(1).iushrn(1)),d=this.pow(e,i),p=s;0!==d.cmp(a);){for(var b=d,y=0;0!==b.cmp(a);y++)b=b.redSqr();n(y<p);var m=this.pow(l,new o(1).iushln(p-y-1));h=h.redMul(m),l=m.redSqr(),d=d.redMul(l),p=y}return h},E.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},E.prototype.pow=function(e,t){if(t.isZero())return new o(1).toRed(this);if(0===t.cmpn(1))return e.clone();var r=new Array(16);r[0]=new o(1).toRed(this),r[1]=e;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],e);var i=r[0],s=0,a=0,c=t.bitLength()%26;for(0===c&&(c=26),n=t.length-1;n>=0;n--){for(var u=t.words[n],f=c-1;f>=0;f--){var l=u>>f&1;i!==r[0]&&(i=this.sqr(i)),0!==l||0!==s?(s<<=1,s|=l,(4==++a||0===n&&0===f)&&(i=this.mul(i,r[s]),a=0,s=0)):a=0}c=26}return i},E.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},E.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},o.mont=function(e){return new O(e)},i(O,E),O.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},O.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},O.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var r=e.imul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},O.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new o(0)._forceRed(this);var r=e.mul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),s=i;return i.cmp(this.m)>=0?s=i.isub(this.m):i.cmpn(0)<0&&(s=i.iadd(this.m)),s._forceRed(this)},O.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(e=r.nmd(e),this)},27172:function(e,t,r){!function(e,t){function n(e,t){if(!e)throw new Error(t||"Assertion failed")}function i(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}function o(e,t,r){if(o.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(r=t,t=10),this._init(e||0,t||10,r||"be"))}var s;"object"==typeof e?e.exports=o:t.BN=o,o.BN=o,o.wordSize=26;try{s="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:r(13358).Buffer}catch(e){}function a(e,t){var r=e.charCodeAt(t);return r>=48&&r<=57?r-48:r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:void n(!1,"Invalid character in "+e)}function c(e,t,r){var n=a(e,r);return r-1>=t&&(n|=a(e,r-1)<<4),n}function u(e,t,r,i){for(var o=0,s=0,a=Math.min(e.length,r),c=t;c<a;c++){var u=e.charCodeAt(c)-48;o*=i,s=u>=49?u-49+10:u>=17?u-17+10:u,n(u>=0&&s<i,"Invalid character"),o+=s}return o}function f(e,t){e.words=t.words,e.length=t.length,e.negative=t.negative,e.red=t.red}if(o.isBN=function(e){return e instanceof o||null!==e&&"object"==typeof e&&e.constructor.wordSize===o.wordSize&&Array.isArray(e.words)},o.max=function(e,t){return e.cmp(t)>0?e:t},o.min=function(e,t){return e.cmp(t)<0?e:t},o.prototype._init=function(e,t,r){if("number"==typeof e)return this._initNumber(e,t,r);if("object"==typeof e)return this._initArray(e,t,r);"hex"===t&&(t=16),n(t===(0|t)&&t>=2&&t<=36);var i=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<e.length&&(16===t?this._parseHex(e,i,r):(this._parseBase(e,t,i),"le"===r&&this._initArray(this.toArray(),t,r)))},o.prototype._initNumber=function(e,t,r){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(n(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),t,r)},o.prototype._initArray=function(e,t,r){if(n("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,s,a=0;if("be"===r)for(i=e.length-1,o=0;i>=0;i-=3)s=e[i]|e[i-1]<<8|e[i-2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);else if("le"===r)for(i=0,o=0;i<e.length;i+=3)s=e[i]|e[i+1]<<8|e[i+2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);return this._strip()},o.prototype._parseHex=function(e,t,r){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var i,o=0,s=0;if("be"===r)for(n=e.length-1;n>=t;n-=2)i=c(e,t,n)<<o,this.words[s]|=67108863&i,o>=18?(o-=18,s+=1,this.words[s]|=i>>>26):o+=8;else for(n=(e.length-t)%2==0?t+1:t;n<e.length;n+=2)i=c(e,t,n)<<o,this.words[s]|=67108863&i,o>=18?(o-=18,s+=1,this.words[s]|=i>>>26):o+=8;this._strip()},o.prototype._parseBase=function(e,t,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=t)n++;n--,i=i/t|0;for(var o=e.length-r,s=o%n,a=Math.min(o,o-s)+r,c=0,f=r;f<a;f+=n)c=u(e,f,f+n,t),this.imuln(i),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(0!==s){var l=1;for(c=u(e,f,e.length,t),f=0;f<s;f++)l*=t;this.imuln(l),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}this._strip()},o.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},o.prototype._move=function(e){f(e,this)},o.prototype.clone=function(){var e=new o(null);return this.copy(e),e},o.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},o.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!=typeof Symbol&&"function"==typeof Symbol.for)try{o.prototype[Symbol.for("nodejs.util.inspect.custom")]=l}catch(e){o.prototype.inspect=l}else o.prototype.inspect=l;function l(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var h=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],d=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],p=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function b(e,t,r){r.negative=t.negative^e.negative;var n=e.length+t.length|0;r.length=n,n=n-1|0;var i=0|e.words[0],o=0|t.words[0],s=i*o,a=67108863&s,c=s/67108864|0;r.words[0]=a;for(var u=1;u<n;u++){for(var f=c>>>26,l=67108863&c,h=Math.min(u,t.length-1),d=Math.max(0,u-e.length+1);d<=h;d++){var p=u-d|0;f+=(s=(i=0|e.words[p])*(o=0|t.words[d])+l)/67108864|0,l=67108863&s}r.words[u]=0|l,c=0|f}return 0!==c?r.words[u]=0|c:r.length--,r._strip()}o.prototype.toString=function(e,t){var r;if(t=0|t||1,16===(e=e||10)||"hex"===e){r="";for(var i=0,o=0,s=0;s<this.length;s++){var a=this.words[s],c=(16777215&(a<<i|o)).toString(16);o=a>>>24-i&16777215,(i+=2)>=26&&(i-=26,s--),r=0!==o||s!==this.length-1?h[6-c.length]+c+r:c+r}for(0!==o&&(r=o.toString(16)+r);r.length%t!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(e===(0|e)&&e>=2&&e<=36){var u=d[e],f=p[e];r="";var l=this.clone();for(l.negative=0;!l.isZero();){var b=l.modrn(f).toString(e);r=(l=l.idivn(f)).isZero()?b+r:h[u-b.length]+b+r}for(this.isZero()&&(r="0"+r);r.length%t!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}n(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},o.prototype.toJSON=function(){return this.toString(16,2)},s&&(o.prototype.toBuffer=function(e,t){return this.toArrayLike(s,e,t)}),o.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},o.prototype.toArrayLike=function(e,t,r){this._strip();var i=this.byteLength(),o=r||Math.max(1,i);n(i<=o,"byte array longer than desired length"),n(o>0,"Requested array length <= 0");var s=function(e,t){return e.allocUnsafe?e.allocUnsafe(t):new e(t)}(e,o);return this["_toArrayLike"+("le"===t?"LE":"BE")](s,i),s},o.prototype._toArrayLikeLE=function(e,t){for(var r=0,n=0,i=0,o=0;i<this.length;i++){var s=this.words[i]<<o|n;e[r++]=255&s,r<e.length&&(e[r++]=s>>8&255),r<e.length&&(e[r++]=s>>16&255),6===o?(r<e.length&&(e[r++]=s>>24&255),n=0,o=0):(n=s>>>24,o+=2)}if(r<e.length)for(e[r++]=n;r<e.length;)e[r++]=0},o.prototype._toArrayLikeBE=function(e,t){for(var r=e.length-1,n=0,i=0,o=0;i<this.length;i++){var s=this.words[i]<<o|n;e[r--]=255&s,r>=0&&(e[r--]=s>>8&255),r>=0&&(e[r--]=s>>16&255),6===o?(r>=0&&(e[r--]=s>>24&255),n=0,o=0):(n=s>>>24,o+=2)}if(r>=0)for(e[r--]=n;r>=0;)e[r--]=0},Math.clz32?o.prototype._countBits=function(e){return 32-Math.clz32(e)}:o.prototype._countBits=function(e){var t=e,r=0;return t>=4096&&(r+=13,t>>>=13),t>=64&&(r+=7,t>>>=7),t>=8&&(r+=4,t>>>=4),t>=2&&(r+=2,t>>>=2),r+t},o.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,r=0;return 0==(8191&t)&&(r+=13,t>>>=13),0==(127&t)&&(r+=7,t>>>=7),0==(15&t)&&(r+=4,t>>>=4),0==(3&t)&&(r+=2,t>>>=2),0==(1&t)&&r++,r},o.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var r=this._zeroBits(this.words[t]);if(e+=r,26!==r)break}return e},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},o.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this._strip()},o.prototype.ior=function(e){return n(0==(this.negative|e.negative)),this.iuor(e)},o.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},o.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},o.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var r=0;r<t.length;r++)this.words[r]=this.words[r]&e.words[r];return this.length=t.length,this._strip()},o.prototype.iand=function(e){return n(0==(this.negative|e.negative)),this.iuand(e)},o.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},o.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},o.prototype.iuxor=function(e){var t,r;this.length>e.length?(t=this,r=e):(t=e,r=this);for(var n=0;n<r.length;n++)this.words[n]=t.words[n]^r.words[n];if(this!==t)for(;n<t.length;n++)this.words[n]=t.words[n];return this.length=t.length,this._strip()},o.prototype.ixor=function(e){return n(0==(this.negative|e.negative)),this.iuxor(e)},o.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},o.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},o.prototype.inotn=function(e){n("number"==typeof e&&e>=0);var t=0|Math.ceil(e/26),r=e%26;this._expand(t),r>0&&t--;for(var i=0;i<t;i++)this.words[i]=67108863&~this.words[i];return r>0&&(this.words[i]=~this.words[i]&67108863>>26-r),this._strip()},o.prototype.notn=function(e){return this.clone().inotn(e)},o.prototype.setn=function(e,t){n("number"==typeof e&&e>=0);var r=e/26|0,i=e%26;return this._expand(r+1),this.words[r]=t?this.words[r]|1<<i:this.words[r]&~(1<<i),this._strip()},o.prototype.iadd=function(e){var t,r,n;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(r=this,n=e):(r=e,n=this);for(var i=0,o=0;o<n.length;o++)t=(0|r.words[o])+(0|n.words[o])+i,this.words[o]=67108863&t,i=t>>>26;for(;0!==i&&o<r.length;o++)t=(0|r.words[o])+i,this.words[o]=67108863&t,i=t>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},o.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},o.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var r,n,i=this.cmp(e);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=e):(r=e,n=this);for(var o=0,s=0;s<n.length;s++)o=(t=(0|r.words[s])-(0|n.words[s])+o)>>26,this.words[s]=67108863&t;for(;0!==o&&s<r.length;s++)o=(t=(0|r.words[s])+o)>>26,this.words[s]=67108863&t;if(0===o&&s<r.length&&r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this.length=Math.max(this.length,s),r!==this&&(this.negative=1),this._strip()},o.prototype.sub=function(e){return this.clone().isub(e)};var y=function(e,t,r){var n,i,o,s=e.words,a=t.words,c=r.words,u=0,f=0|s[0],l=8191&f,h=f>>>13,d=0|s[1],p=8191&d,b=d>>>13,y=0|s[2],m=8191&y,v=y>>>13,g=0|s[3],w=8191&g,_=g>>>13,S=0|s[4],E=8191&S,O=S>>>13,T=0|s[5],x=8191&T,A=T>>>13,M=0|s[6],P=8191&M,j=M>>>13,k=0|s[7],$=8191&k,C=k>>>13,I=0|s[8],R=8191&I,N=I>>>13,L=0|s[9],D=8191&L,F=L>>>13,B=0|a[0],U=8191&B,q=B>>>13,z=0|a[1],V=8191&z,H=z>>>13,W=0|a[2],G=8191&W,K=W>>>13,J=0|a[3],Y=8191&J,X=J>>>13,Z=0|a[4],Q=8191&Z,ee=Z>>>13,te=0|a[5],re=8191&te,ne=te>>>13,ie=0|a[6],oe=8191&ie,se=ie>>>13,ae=0|a[7],ce=8191&ae,ue=ae>>>13,fe=0|a[8],le=8191&fe,he=fe>>>13,de=0|a[9],pe=8191&de,be=de>>>13;r.negative=e.negative^t.negative,r.length=19;var ye=(u+(n=Math.imul(l,U))|0)+((8191&(i=(i=Math.imul(l,q))+Math.imul(h,U)|0))<<13)|0;u=((o=Math.imul(h,q))+(i>>>13)|0)+(ye>>>26)|0,ye&=67108863,n=Math.imul(p,U),i=(i=Math.imul(p,q))+Math.imul(b,U)|0,o=Math.imul(b,q);var me=(u+(n=n+Math.imul(l,V)|0)|0)+((8191&(i=(i=i+Math.imul(l,H)|0)+Math.imul(h,V)|0))<<13)|0;u=((o=o+Math.imul(h,H)|0)+(i>>>13)|0)+(me>>>26)|0,me&=67108863,n=Math.imul(m,U),i=(i=Math.imul(m,q))+Math.imul(v,U)|0,o=Math.imul(v,q),n=n+Math.imul(p,V)|0,i=(i=i+Math.imul(p,H)|0)+Math.imul(b,V)|0,o=o+Math.imul(b,H)|0;var ve=(u+(n=n+Math.imul(l,G)|0)|0)+((8191&(i=(i=i+Math.imul(l,K)|0)+Math.imul(h,G)|0))<<13)|0;u=((o=o+Math.imul(h,K)|0)+(i>>>13)|0)+(ve>>>26)|0,ve&=67108863,n=Math.imul(w,U),i=(i=Math.imul(w,q))+Math.imul(_,U)|0,o=Math.imul(_,q),n=n+Math.imul(m,V)|0,i=(i=i+Math.imul(m,H)|0)+Math.imul(v,V)|0,o=o+Math.imul(v,H)|0,n=n+Math.imul(p,G)|0,i=(i=i+Math.imul(p,K)|0)+Math.imul(b,G)|0,o=o+Math.imul(b,K)|0;var ge=(u+(n=n+Math.imul(l,Y)|0)|0)+((8191&(i=(i=i+Math.imul(l,X)|0)+Math.imul(h,Y)|0))<<13)|0;u=((o=o+Math.imul(h,X)|0)+(i>>>13)|0)+(ge>>>26)|0,ge&=67108863,n=Math.imul(E,U),i=(i=Math.imul(E,q))+Math.imul(O,U)|0,o=Math.imul(O,q),n=n+Math.imul(w,V)|0,i=(i=i+Math.imul(w,H)|0)+Math.imul(_,V)|0,o=o+Math.imul(_,H)|0,n=n+Math.imul(m,G)|0,i=(i=i+Math.imul(m,K)|0)+Math.imul(v,G)|0,o=o+Math.imul(v,K)|0,n=n+Math.imul(p,Y)|0,i=(i=i+Math.imul(p,X)|0)+Math.imul(b,Y)|0,o=o+Math.imul(b,X)|0;var we=(u+(n=n+Math.imul(l,Q)|0)|0)+((8191&(i=(i=i+Math.imul(l,ee)|0)+Math.imul(h,Q)|0))<<13)|0;u=((o=o+Math.imul(h,ee)|0)+(i>>>13)|0)+(we>>>26)|0,we&=67108863,n=Math.imul(x,U),i=(i=Math.imul(x,q))+Math.imul(A,U)|0,o=Math.imul(A,q),n=n+Math.imul(E,V)|0,i=(i=i+Math.imul(E,H)|0)+Math.imul(O,V)|0,o=o+Math.imul(O,H)|0,n=n+Math.imul(w,G)|0,i=(i=i+Math.imul(w,K)|0)+Math.imul(_,G)|0,o=o+Math.imul(_,K)|0,n=n+Math.imul(m,Y)|0,i=(i=i+Math.imul(m,X)|0)+Math.imul(v,Y)|0,o=o+Math.imul(v,X)|0,n=n+Math.imul(p,Q)|0,i=(i=i+Math.imul(p,ee)|0)+Math.imul(b,Q)|0,o=o+Math.imul(b,ee)|0;var _e=(u+(n=n+Math.imul(l,re)|0)|0)+((8191&(i=(i=i+Math.imul(l,ne)|0)+Math.imul(h,re)|0))<<13)|0;u=((o=o+Math.imul(h,ne)|0)+(i>>>13)|0)+(_e>>>26)|0,_e&=67108863,n=Math.imul(P,U),i=(i=Math.imul(P,q))+Math.imul(j,U)|0,o=Math.imul(j,q),n=n+Math.imul(x,V)|0,i=(i=i+Math.imul(x,H)|0)+Math.imul(A,V)|0,o=o+Math.imul(A,H)|0,n=n+Math.imul(E,G)|0,i=(i=i+Math.imul(E,K)|0)+Math.imul(O,G)|0,o=o+Math.imul(O,K)|0,n=n+Math.imul(w,Y)|0,i=(i=i+Math.imul(w,X)|0)+Math.imul(_,Y)|0,o=o+Math.imul(_,X)|0,n=n+Math.imul(m,Q)|0,i=(i=i+Math.imul(m,ee)|0)+Math.imul(v,Q)|0,o=o+Math.imul(v,ee)|0,n=n+Math.imul(p,re)|0,i=(i=i+Math.imul(p,ne)|0)+Math.imul(b,re)|0,o=o+Math.imul(b,ne)|0;var Se=(u+(n=n+Math.imul(l,oe)|0)|0)+((8191&(i=(i=i+Math.imul(l,se)|0)+Math.imul(h,oe)|0))<<13)|0;u=((o=o+Math.imul(h,se)|0)+(i>>>13)|0)+(Se>>>26)|0,Se&=67108863,n=Math.imul($,U),i=(i=Math.imul($,q))+Math.imul(C,U)|0,o=Math.imul(C,q),n=n+Math.imul(P,V)|0,i=(i=i+Math.imul(P,H)|0)+Math.imul(j,V)|0,o=o+Math.imul(j,H)|0,n=n+Math.imul(x,G)|0,i=(i=i+Math.imul(x,K)|0)+Math.imul(A,G)|0,o=o+Math.imul(A,K)|0,n=n+Math.imul(E,Y)|0,i=(i=i+Math.imul(E,X)|0)+Math.imul(O,Y)|0,o=o+Math.imul(O,X)|0,n=n+Math.imul(w,Q)|0,i=(i=i+Math.imul(w,ee)|0)+Math.imul(_,Q)|0,o=o+Math.imul(_,ee)|0,n=n+Math.imul(m,re)|0,i=(i=i+Math.imul(m,ne)|0)+Math.imul(v,re)|0,o=o+Math.imul(v,ne)|0,n=n+Math.imul(p,oe)|0,i=(i=i+Math.imul(p,se)|0)+Math.imul(b,oe)|0,o=o+Math.imul(b,se)|0;var Ee=(u+(n=n+Math.imul(l,ce)|0)|0)+((8191&(i=(i=i+Math.imul(l,ue)|0)+Math.imul(h,ce)|0))<<13)|0;u=((o=o+Math.imul(h,ue)|0)+(i>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,n=Math.imul(R,U),i=(i=Math.imul(R,q))+Math.imul(N,U)|0,o=Math.imul(N,q),n=n+Math.imul($,V)|0,i=(i=i+Math.imul($,H)|0)+Math.imul(C,V)|0,o=o+Math.imul(C,H)|0,n=n+Math.imul(P,G)|0,i=(i=i+Math.imul(P,K)|0)+Math.imul(j,G)|0,o=o+Math.imul(j,K)|0,n=n+Math.imul(x,Y)|0,i=(i=i+Math.imul(x,X)|0)+Math.imul(A,Y)|0,o=o+Math.imul(A,X)|0,n=n+Math.imul(E,Q)|0,i=(i=i+Math.imul(E,ee)|0)+Math.imul(O,Q)|0,o=o+Math.imul(O,ee)|0,n=n+Math.imul(w,re)|0,i=(i=i+Math.imul(w,ne)|0)+Math.imul(_,re)|0,o=o+Math.imul(_,ne)|0,n=n+Math.imul(m,oe)|0,i=(i=i+Math.imul(m,se)|0)+Math.imul(v,oe)|0,o=o+Math.imul(v,se)|0,n=n+Math.imul(p,ce)|0,i=(i=i+Math.imul(p,ue)|0)+Math.imul(b,ce)|0,o=o+Math.imul(b,ue)|0;var Oe=(u+(n=n+Math.imul(l,le)|0)|0)+((8191&(i=(i=i+Math.imul(l,he)|0)+Math.imul(h,le)|0))<<13)|0;u=((o=o+Math.imul(h,he)|0)+(i>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,n=Math.imul(D,U),i=(i=Math.imul(D,q))+Math.imul(F,U)|0,o=Math.imul(F,q),n=n+Math.imul(R,V)|0,i=(i=i+Math.imul(R,H)|0)+Math.imul(N,V)|0,o=o+Math.imul(N,H)|0,n=n+Math.imul($,G)|0,i=(i=i+Math.imul($,K)|0)+Math.imul(C,G)|0,o=o+Math.imul(C,K)|0,n=n+Math.imul(P,Y)|0,i=(i=i+Math.imul(P,X)|0)+Math.imul(j,Y)|0,o=o+Math.imul(j,X)|0,n=n+Math.imul(x,Q)|0,i=(i=i+Math.imul(x,ee)|0)+Math.imul(A,Q)|0,o=o+Math.imul(A,ee)|0,n=n+Math.imul(E,re)|0,i=(i=i+Math.imul(E,ne)|0)+Math.imul(O,re)|0,o=o+Math.imul(O,ne)|0,n=n+Math.imul(w,oe)|0,i=(i=i+Math.imul(w,se)|0)+Math.imul(_,oe)|0,o=o+Math.imul(_,se)|0,n=n+Math.imul(m,ce)|0,i=(i=i+Math.imul(m,ue)|0)+Math.imul(v,ce)|0,o=o+Math.imul(v,ue)|0,n=n+Math.imul(p,le)|0,i=(i=i+Math.imul(p,he)|0)+Math.imul(b,le)|0,o=o+Math.imul(b,he)|0;var Te=(u+(n=n+Math.imul(l,pe)|0)|0)+((8191&(i=(i=i+Math.imul(l,be)|0)+Math.imul(h,pe)|0))<<13)|0;u=((o=o+Math.imul(h,be)|0)+(i>>>13)|0)+(Te>>>26)|0,Te&=67108863,n=Math.imul(D,V),i=(i=Math.imul(D,H))+Math.imul(F,V)|0,o=Math.imul(F,H),n=n+Math.imul(R,G)|0,i=(i=i+Math.imul(R,K)|0)+Math.imul(N,G)|0,o=o+Math.imul(N,K)|0,n=n+Math.imul($,Y)|0,i=(i=i+Math.imul($,X)|0)+Math.imul(C,Y)|0,o=o+Math.imul(C,X)|0,n=n+Math.imul(P,Q)|0,i=(i=i+Math.imul(P,ee)|0)+Math.imul(j,Q)|0,o=o+Math.imul(j,ee)|0,n=n+Math.imul(x,re)|0,i=(i=i+Math.imul(x,ne)|0)+Math.imul(A,re)|0,o=o+Math.imul(A,ne)|0,n=n+Math.imul(E,oe)|0,i=(i=i+Math.imul(E,se)|0)+Math.imul(O,oe)|0,o=o+Math.imul(O,se)|0,n=n+Math.imul(w,ce)|0,i=(i=i+Math.imul(w,ue)|0)+Math.imul(_,ce)|0,o=o+Math.imul(_,ue)|0,n=n+Math.imul(m,le)|0,i=(i=i+Math.imul(m,he)|0)+Math.imul(v,le)|0,o=o+Math.imul(v,he)|0;var xe=(u+(n=n+Math.imul(p,pe)|0)|0)+((8191&(i=(i=i+Math.imul(p,be)|0)+Math.imul(b,pe)|0))<<13)|0;u=((o=o+Math.imul(b,be)|0)+(i>>>13)|0)+(xe>>>26)|0,xe&=67108863,n=Math.imul(D,G),i=(i=Math.imul(D,K))+Math.imul(F,G)|0,o=Math.imul(F,K),n=n+Math.imul(R,Y)|0,i=(i=i+Math.imul(R,X)|0)+Math.imul(N,Y)|0,o=o+Math.imul(N,X)|0,n=n+Math.imul($,Q)|0,i=(i=i+Math.imul($,ee)|0)+Math.imul(C,Q)|0,o=o+Math.imul(C,ee)|0,n=n+Math.imul(P,re)|0,i=(i=i+Math.imul(P,ne)|0)+Math.imul(j,re)|0,o=o+Math.imul(j,ne)|0,n=n+Math.imul(x,oe)|0,i=(i=i+Math.imul(x,se)|0)+Math.imul(A,oe)|0,o=o+Math.imul(A,se)|0,n=n+Math.imul(E,ce)|0,i=(i=i+Math.imul(E,ue)|0)+Math.imul(O,ce)|0,o=o+Math.imul(O,ue)|0,n=n+Math.imul(w,le)|0,i=(i=i+Math.imul(w,he)|0)+Math.imul(_,le)|0,o=o+Math.imul(_,he)|0;var Ae=(u+(n=n+Math.imul(m,pe)|0)|0)+((8191&(i=(i=i+Math.imul(m,be)|0)+Math.imul(v,pe)|0))<<13)|0;u=((o=o+Math.imul(v,be)|0)+(i>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,n=Math.imul(D,Y),i=(i=Math.imul(D,X))+Math.imul(F,Y)|0,o=Math.imul(F,X),n=n+Math.imul(R,Q)|0,i=(i=i+Math.imul(R,ee)|0)+Math.imul(N,Q)|0,o=o+Math.imul(N,ee)|0,n=n+Math.imul($,re)|0,i=(i=i+Math.imul($,ne)|0)+Math.imul(C,re)|0,o=o+Math.imul(C,ne)|0,n=n+Math.imul(P,oe)|0,i=(i=i+Math.imul(P,se)|0)+Math.imul(j,oe)|0,o=o+Math.imul(j,se)|0,n=n+Math.imul(x,ce)|0,i=(i=i+Math.imul(x,ue)|0)+Math.imul(A,ce)|0,o=o+Math.imul(A,ue)|0,n=n+Math.imul(E,le)|0,i=(i=i+Math.imul(E,he)|0)+Math.imul(O,le)|0,o=o+Math.imul(O,he)|0;var Me=(u+(n=n+Math.imul(w,pe)|0)|0)+((8191&(i=(i=i+Math.imul(w,be)|0)+Math.imul(_,pe)|0))<<13)|0;u=((o=o+Math.imul(_,be)|0)+(i>>>13)|0)+(Me>>>26)|0,Me&=67108863,n=Math.imul(D,Q),i=(i=Math.imul(D,ee))+Math.imul(F,Q)|0,o=Math.imul(F,ee),n=n+Math.imul(R,re)|0,i=(i=i+Math.imul(R,ne)|0)+Math.imul(N,re)|0,o=o+Math.imul(N,ne)|0,n=n+Math.imul($,oe)|0,i=(i=i+Math.imul($,se)|0)+Math.imul(C,oe)|0,o=o+Math.imul(C,se)|0,n=n+Math.imul(P,ce)|0,i=(i=i+Math.imul(P,ue)|0)+Math.imul(j,ce)|0,o=o+Math.imul(j,ue)|0,n=n+Math.imul(x,le)|0,i=(i=i+Math.imul(x,he)|0)+Math.imul(A,le)|0,o=o+Math.imul(A,he)|0;var Pe=(u+(n=n+Math.imul(E,pe)|0)|0)+((8191&(i=(i=i+Math.imul(E,be)|0)+Math.imul(O,pe)|0))<<13)|0;u=((o=o+Math.imul(O,be)|0)+(i>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,n=Math.imul(D,re),i=(i=Math.imul(D,ne))+Math.imul(F,re)|0,o=Math.imul(F,ne),n=n+Math.imul(R,oe)|0,i=(i=i+Math.imul(R,se)|0)+Math.imul(N,oe)|0,o=o+Math.imul(N,se)|0,n=n+Math.imul($,ce)|0,i=(i=i+Math.imul($,ue)|0)+Math.imul(C,ce)|0,o=o+Math.imul(C,ue)|0,n=n+Math.imul(P,le)|0,i=(i=i+Math.imul(P,he)|0)+Math.imul(j,le)|0,o=o+Math.imul(j,he)|0;var je=(u+(n=n+Math.imul(x,pe)|0)|0)+((8191&(i=(i=i+Math.imul(x,be)|0)+Math.imul(A,pe)|0))<<13)|0;u=((o=o+Math.imul(A,be)|0)+(i>>>13)|0)+(je>>>26)|0,je&=67108863,n=Math.imul(D,oe),i=(i=Math.imul(D,se))+Math.imul(F,oe)|0,o=Math.imul(F,se),n=n+Math.imul(R,ce)|0,i=(i=i+Math.imul(R,ue)|0)+Math.imul(N,ce)|0,o=o+Math.imul(N,ue)|0,n=n+Math.imul($,le)|0,i=(i=i+Math.imul($,he)|0)+Math.imul(C,le)|0,o=o+Math.imul(C,he)|0;var ke=(u+(n=n+Math.imul(P,pe)|0)|0)+((8191&(i=(i=i+Math.imul(P,be)|0)+Math.imul(j,pe)|0))<<13)|0;u=((o=o+Math.imul(j,be)|0)+(i>>>13)|0)+(ke>>>26)|0,ke&=67108863,n=Math.imul(D,ce),i=(i=Math.imul(D,ue))+Math.imul(F,ce)|0,o=Math.imul(F,ue),n=n+Math.imul(R,le)|0,i=(i=i+Math.imul(R,he)|0)+Math.imul(N,le)|0,o=o+Math.imul(N,he)|0;var $e=(u+(n=n+Math.imul($,pe)|0)|0)+((8191&(i=(i=i+Math.imul($,be)|0)+Math.imul(C,pe)|0))<<13)|0;u=((o=o+Math.imul(C,be)|0)+(i>>>13)|0)+($e>>>26)|0,$e&=67108863,n=Math.imul(D,le),i=(i=Math.imul(D,he))+Math.imul(F,le)|0,o=Math.imul(F,he);var Ce=(u+(n=n+Math.imul(R,pe)|0)|0)+((8191&(i=(i=i+Math.imul(R,be)|0)+Math.imul(N,pe)|0))<<13)|0;u=((o=o+Math.imul(N,be)|0)+(i>>>13)|0)+(Ce>>>26)|0,Ce&=67108863;var Ie=(u+(n=Math.imul(D,pe))|0)+((8191&(i=(i=Math.imul(D,be))+Math.imul(F,pe)|0))<<13)|0;return u=((o=Math.imul(F,be))+(i>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,c[0]=ye,c[1]=me,c[2]=ve,c[3]=ge,c[4]=we,c[5]=_e,c[6]=Se,c[7]=Ee,c[8]=Oe,c[9]=Te,c[10]=xe,c[11]=Ae,c[12]=Me,c[13]=Pe,c[14]=je,c[15]=ke,c[16]=$e,c[17]=Ce,c[18]=Ie,0!==u&&(c[19]=u,r.length++),r};function m(e,t,r){r.negative=t.negative^e.negative,r.length=e.length+t.length;for(var n=0,i=0,o=0;o<r.length-1;o++){var s=i;i=0;for(var a=67108863&n,c=Math.min(o,t.length-1),u=Math.max(0,o-e.length+1);u<=c;u++){var f=o-u,l=(0|e.words[f])*(0|t.words[u]),h=67108863&l;a=67108863&(h=h+a|0),i+=(s=(s=s+(l/67108864|0)|0)+(h>>>26)|0)>>>26,s&=67108863}r.words[o]=a,n=s,s=i}return 0!==n?r.words[o]=n:r.length--,r._strip()}function v(e,t,r){return m(e,t,r)}function g(e,t){this.x=e,this.y=t}Math.imul||(y=b),o.prototype.mulTo=function(e,t){var r=this.length+e.length;return 10===this.length&&10===e.length?y(this,e,t):r<63?b(this,e,t):r<1024?m(this,e,t):v(this,e,t)},g.prototype.makeRBT=function(e){for(var t=new Array(e),r=o.prototype._countBits(e)-1,n=0;n<e;n++)t[n]=this.revBin(n,r,e);return t},g.prototype.revBin=function(e,t,r){if(0===e||e===r-1)return e;for(var n=0,i=0;i<t;i++)n|=(1&e)<<t-i-1,e>>=1;return n},g.prototype.permute=function(e,t,r,n,i,o){for(var s=0;s<o;s++)n[s]=t[e[s]],i[s]=r[e[s]]},g.prototype.transform=function(e,t,r,n,i,o){this.permute(o,e,t,r,n,i);for(var s=1;s<i;s<<=1)for(var a=s<<1,c=Math.cos(2*Math.PI/a),u=Math.sin(2*Math.PI/a),f=0;f<i;f+=a)for(var l=c,h=u,d=0;d<s;d++){var p=r[f+d],b=n[f+d],y=r[f+d+s],m=n[f+d+s],v=l*y-h*m;m=l*m+h*y,y=v,r[f+d]=p+y,n[f+d]=b+m,r[f+d+s]=p-y,n[f+d+s]=b-m,d!==a&&(v=c*l-u*h,h=c*h+u*l,l=v)}},g.prototype.guessLen13b=function(e,t){var r=1|Math.max(t,e),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},g.prototype.conjugate=function(e,t,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=e[n];e[n]=e[r-n-1],e[r-n-1]=i,i=t[n],t[n]=-t[r-n-1],t[r-n-1]=-i}},g.prototype.normalize13b=function(e,t){for(var r=0,n=0;n<t/2;n++){var i=8192*Math.round(e[2*n+1]/t)+Math.round(e[2*n]/t)+r;e[n]=67108863&i,r=i<67108864?0:i/67108864|0}return e},g.prototype.convert13b=function(e,t,r,i){for(var o=0,s=0;s<t;s++)o+=0|e[s],r[2*s]=8191&o,o>>>=13,r[2*s+1]=8191&o,o>>>=13;for(s=2*t;s<i;++s)r[s]=0;n(0===o),n(0==(-8192&o))},g.prototype.stub=function(e){for(var t=new Array(e),r=0;r<e;r++)t[r]=0;return t},g.prototype.mulp=function(e,t,r){var n=2*this.guessLen13b(e.length,t.length),i=this.makeRBT(n),o=this.stub(n),s=new Array(n),a=new Array(n),c=new Array(n),u=new Array(n),f=new Array(n),l=new Array(n),h=r.words;h.length=n,this.convert13b(e.words,e.length,s,n),this.convert13b(t.words,t.length,u,n),this.transform(s,o,a,c,n,i),this.transform(u,o,f,l,n,i);for(var d=0;d<n;d++){var p=a[d]*f[d]-c[d]*l[d];c[d]=a[d]*l[d]+c[d]*f[d],a[d]=p}return this.conjugate(a,c,n),this.transform(a,c,h,o,n,i),this.conjugate(h,o,n),this.normalize13b(h,n),r.negative=e.negative^t.negative,r.length=e.length+t.length,r._strip()},o.prototype.mul=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},o.prototype.mulf=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),v(this,e,t)},o.prototype.imul=function(e){return this.clone().mulTo(e,this)},o.prototype.imuln=function(e){var t=e<0;t&&(e=-e),n("number"==typeof e),n(e<67108864);for(var r=0,i=0;i<this.length;i++){var o=(0|this.words[i])*e,s=(67108863&o)+(67108863&r);r>>=26,r+=o/67108864|0,r+=s>>>26,this.words[i]=67108863&s}return 0!==r&&(this.words[i]=r,this.length++),t?this.ineg():this},o.prototype.muln=function(e){return this.clone().imuln(e)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),r=0;r<t.length;r++){var n=r/26|0,i=r%26;t[r]=e.words[n]>>>i&1}return t}(e);if(0===t.length)return new o(1);for(var r=this,n=0;n<t.length&&0===t[n];n++,r=r.sqr());if(++n<t.length)for(var i=r.sqr();n<t.length;n++,i=i.sqr())0!==t[n]&&(r=r.mul(i));return r},o.prototype.iushln=function(e){n("number"==typeof e&&e>=0);var t,r=e%26,i=(e-r)/26,o=67108863>>>26-r<<26-r;if(0!==r){var s=0;for(t=0;t<this.length;t++){var a=this.words[t]&o,c=(0|this.words[t])-a<<r;this.words[t]=c|s,s=a>>>26-r}s&&(this.words[t]=s,this.length++)}if(0!==i){for(t=this.length-1;t>=0;t--)this.words[t+i]=this.words[t];for(t=0;t<i;t++)this.words[t]=0;this.length+=i}return this._strip()},o.prototype.ishln=function(e){return n(0===this.negative),this.iushln(e)},o.prototype.iushrn=function(e,t,r){var i;n("number"==typeof e&&e>=0),i=t?(t-t%26)/26:0;var o=e%26,s=Math.min((e-o)/26,this.length),a=67108863^67108863>>>o<<o,c=r;if(i-=s,i=Math.max(0,i),c){for(var u=0;u<s;u++)c.words[u]=this.words[u];c.length=s}if(0===s);else if(this.length>s)for(this.length-=s,u=0;u<this.length;u++)this.words[u]=this.words[u+s];else this.words[0]=0,this.length=1;var f=0;for(u=this.length-1;u>=0&&(0!==f||u>=i);u--){var l=0|this.words[u];this.words[u]=f<<26-o|l>>>o,f=l&a}return c&&0!==f&&(c.words[c.length++]=f),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},o.prototype.ishrn=function(e,t,r){return n(0===this.negative),this.iushrn(e,t,r)},o.prototype.shln=function(e){return this.clone().ishln(e)},o.prototype.ushln=function(e){return this.clone().iushln(e)},o.prototype.shrn=function(e){return this.clone().ishrn(e)},o.prototype.ushrn=function(e){return this.clone().iushrn(e)},o.prototype.testn=function(e){n("number"==typeof e&&e>=0);var t=e%26,r=(e-t)/26,i=1<<t;return!(this.length<=r||!(this.words[r]&i))},o.prototype.imaskn=function(e){n("number"==typeof e&&e>=0);var t=e%26,r=(e-t)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==t&&r++,this.length=Math.min(r,this.length),0!==t){var i=67108863^67108863>>>t<<t;this.words[this.length-1]&=i}return this._strip()},o.prototype.maskn=function(e){return this.clone().imaskn(e)},o.prototype.iaddn=function(e){return n("number"==typeof e),n(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<=e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},o.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},o.prototype.isubn=function(e){if(n("number"==typeof e),n(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this._strip()},o.prototype.addn=function(e){return this.clone().iaddn(e)},o.prototype.subn=function(e){return this.clone().isubn(e)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(e,t,r){var i,o,s=e.length+r;this._expand(s);var a=0;for(i=0;i<e.length;i++){o=(0|this.words[i+r])+a;var c=(0|e.words[i])*t;a=((o-=67108863&c)>>26)-(c/67108864|0),this.words[i+r]=67108863&o}for(;i<this.length-r;i++)a=(o=(0|this.words[i+r])+a)>>26,this.words[i+r]=67108863&o;if(0===a)return this._strip();for(n(-1===a),a=0,i=0;i<this.length;i++)a=(o=-(0|this.words[i])+a)>>26,this.words[i]=67108863&o;return this.negative=1,this._strip()},o.prototype._wordDiv=function(e,t){var r=(this.length,e.length),n=this.clone(),i=e,s=0|i.words[i.length-1];0!=(r=26-this._countBits(s))&&(i=i.ushln(r),n.iushln(r),s=0|i.words[i.length-1]);var a,c=n.length-i.length;if("mod"!==t){(a=new o(null)).length=c+1,a.words=new Array(a.length);for(var u=0;u<a.length;u++)a.words[u]=0}var f=n.clone()._ishlnsubmul(i,1,c);0===f.negative&&(n=f,a&&(a.words[c]=1));for(var l=c-1;l>=0;l--){var h=67108864*(0|n.words[i.length+l])+(0|n.words[i.length+l-1]);for(h=Math.min(h/s|0,67108863),n._ishlnsubmul(i,h,l);0!==n.negative;)h--,n.negative=0,n._ishlnsubmul(i,1,l),n.isZero()||(n.negative^=1);a&&(a.words[l]=h)}return a&&a._strip(),n._strip(),"div"!==t&&0!==r&&n.iushrn(r),{div:a||null,mod:n}},o.prototype.divmod=function(e,t,r){return n(!e.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===e.negative?(a=this.neg().divmod(e,t),"mod"!==t&&(i=a.div.neg()),"div"!==t&&(s=a.mod.neg(),r&&0!==s.negative&&s.iadd(e)),{div:i,mod:s}):0===this.negative&&0!==e.negative?(a=this.divmod(e.neg(),t),"mod"!==t&&(i=a.div.neg()),{div:i,mod:a.mod}):0!=(this.negative&e.negative)?(a=this.neg().divmod(e.neg(),t),"div"!==t&&(s=a.mod.neg(),r&&0!==s.negative&&s.isub(e)),{div:a.div,mod:s}):e.length>this.length||this.cmp(e)<0?{div:new o(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new o(this.modrn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new o(this.modrn(e.words[0]))}:this._wordDiv(e,t);var i,s,a},o.prototype.div=function(e){return this.divmod(e,"div",!1).div},o.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},o.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},o.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var r=0!==t.div.negative?t.mod.isub(e):t.mod,n=e.ushrn(1),i=e.andln(1),o=r.cmp(n);return o<0||1===i&&0===o?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},o.prototype.modrn=function(e){var t=e<0;t&&(e=-e),n(e<=67108863);for(var r=(1<<26)%e,i=0,o=this.length-1;o>=0;o--)i=(r*i+(0|this.words[o]))%e;return t?-i:i},o.prototype.modn=function(e){return this.modrn(e)},o.prototype.idivn=function(e){var t=e<0;t&&(e=-e),n(e<=67108863);for(var r=0,i=this.length-1;i>=0;i--){var o=(0|this.words[i])+67108864*r;this.words[i]=o/e|0,r=o%e}return this._strip(),t?this.ineg():this},o.prototype.divn=function(e){return this.clone().idivn(e)},o.prototype.egcd=function(e){n(0===e.negative),n(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i=new o(1),s=new o(0),a=new o(0),c=new o(1),u=0;t.isEven()&&r.isEven();)t.iushrn(1),r.iushrn(1),++u;for(var f=r.clone(),l=t.clone();!t.isZero();){for(var h=0,d=1;0==(t.words[0]&d)&&h<26;++h,d<<=1);if(h>0)for(t.iushrn(h);h-- >0;)(i.isOdd()||s.isOdd())&&(i.iadd(f),s.isub(l)),i.iushrn(1),s.iushrn(1);for(var p=0,b=1;0==(r.words[0]&b)&&p<26;++p,b<<=1);if(p>0)for(r.iushrn(p);p-- >0;)(a.isOdd()||c.isOdd())&&(a.iadd(f),c.isub(l)),a.iushrn(1),c.iushrn(1);t.cmp(r)>=0?(t.isub(r),i.isub(a),s.isub(c)):(r.isub(t),a.isub(i),c.isub(s))}return{a,b:c,gcd:r.iushln(u)}},o.prototype._invmp=function(e){n(0===e.negative),n(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i,s=new o(1),a=new o(0),c=r.clone();t.cmpn(1)>0&&r.cmpn(1)>0;){for(var u=0,f=1;0==(t.words[0]&f)&&u<26;++u,f<<=1);if(u>0)for(t.iushrn(u);u-- >0;)s.isOdd()&&s.iadd(c),s.iushrn(1);for(var l=0,h=1;0==(r.words[0]&h)&&l<26;++l,h<<=1);if(l>0)for(r.iushrn(l);l-- >0;)a.isOdd()&&a.iadd(c),a.iushrn(1);t.cmp(r)>=0?(t.isub(r),s.isub(a)):(r.isub(t),a.isub(s))}return(i=0===t.cmpn(1)?s:a).cmpn(0)<0&&i.iadd(e),i},o.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),r=e.clone();t.negative=0,r.negative=0;for(var n=0;t.isEven()&&r.isEven();n++)t.iushrn(1),r.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=t.cmp(r);if(i<0){var o=t;t=r,r=o}else if(0===i||0===r.cmpn(1))break;t.isub(r)}return r.iushln(n)},o.prototype.invm=function(e){return this.egcd(e).a.umod(e)},o.prototype.isEven=function(){return 0==(1&this.words[0])},o.prototype.isOdd=function(){return 1==(1&this.words[0])},o.prototype.andln=function(e){return this.words[0]&e},o.prototype.bincn=function(e){n("number"==typeof e);var t=e%26,r=(e-t)/26,i=1<<t;if(this.length<=r)return this._expand(r+1),this.words[r]|=i,this;for(var o=i,s=r;0!==o&&s<this.length;s++){var a=0|this.words[s];o=(a+=o)>>>26,a&=67108863,this.words[s]=a}return 0!==o&&(this.words[s]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(e){var t,r=e<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this._strip(),this.length>1)t=1;else{r&&(e=-e),n(e<=67108863,"Number is too big");var i=0|this.words[0];t=i===e?0:i<e?-1:1}return 0!==this.negative?0|-t:t},o.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},o.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|e.words[r];if(n!==i){n<i?t=-1:n>i&&(t=1);break}}return t},o.prototype.gtn=function(e){return 1===this.cmpn(e)},o.prototype.gt=function(e){return 1===this.cmp(e)},o.prototype.gten=function(e){return this.cmpn(e)>=0},o.prototype.gte=function(e){return this.cmp(e)>=0},o.prototype.ltn=function(e){return-1===this.cmpn(e)},o.prototype.lt=function(e){return-1===this.cmp(e)},o.prototype.lten=function(e){return this.cmpn(e)<=0},o.prototype.lte=function(e){return this.cmp(e)<=0},o.prototype.eqn=function(e){return 0===this.cmpn(e)},o.prototype.eq=function(e){return 0===this.cmp(e)},o.red=function(e){return new x(e)},o.prototype.toRed=function(e){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},o.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(e){return this.red=e,this},o.prototype.forceRed=function(e){return n(!this.red,"Already a number in reduction context"),this._forceRed(e)},o.prototype.redAdd=function(e){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},o.prototype.redIAdd=function(e){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},o.prototype.redSub=function(e){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},o.prototype.redISub=function(e){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},o.prototype.redShl=function(e){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},o.prototype.redMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},o.prototype.redIMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},o.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(e){return n(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var w={k256:null,p224:null,p192:null,p25519:null};function _(e,t){this.name=e,this.p=new o(t,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function S(){_.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function E(){_.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function O(){_.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function T(){_.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function x(e){if("string"==typeof e){var t=o._prime(e);this.m=t.p,this.prime=t}else n(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function A(e){x.call(this,e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}_.prototype._tmp=function(){var e=new o(null);return e.words=new Array(Math.ceil(this.n/13)),e},_.prototype.ireduce=function(e){var t,r=e;do{this.split(r,this.tmp),t=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(t>this.n);var n=t<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},_.prototype.split=function(e,t){e.iushrn(this.n,0,t)},_.prototype.imulK=function(e){return e.imul(this.k)},i(S,_),S.prototype.split=function(e,t){for(var r=4194303,n=Math.min(e.length,9),i=0;i<n;i++)t.words[i]=e.words[i];if(t.length=n,e.length<=9)return e.words[0]=0,void(e.length=1);var o=e.words[9];for(t.words[t.length++]=o&r,i=10;i<e.length;i++){var s=0|e.words[i];e.words[i-10]=(s&r)<<4|o>>>22,o=s}o>>>=22,e.words[i-10]=o,0===o&&e.length>10?e.length-=10:e.length-=9},S.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,r=0;r<e.length;r++){var n=0|e.words[r];t+=977*n,e.words[r]=67108863&t,t=64*n+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},i(E,_),i(O,_),i(T,_),T.prototype.imulK=function(e){for(var t=0,r=0;r<e.length;r++){var n=19*(0|e.words[r])+t,i=67108863&n;n>>>=26,e.words[r]=i,t=n}return 0!==t&&(e.words[e.length++]=t),e},o._prime=function(e){if(w[e])return w[e];var t;if("k256"===e)t=new S;else if("p224"===e)t=new E;else if("p192"===e)t=new O;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new T}return w[e]=t,t},x.prototype._verify1=function(e){n(0===e.negative,"red works only with positives"),n(e.red,"red works only with red numbers")},x.prototype._verify2=function(e,t){n(0==(e.negative|t.negative),"red works only with positives"),n(e.red&&e.red===t.red,"red works only with red numbers")},x.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):(f(e,e.umod(this.m)._forceRed(this)),e)},x.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},x.prototype.add=function(e,t){this._verify2(e,t);var r=e.add(t);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},x.prototype.iadd=function(e,t){this._verify2(e,t);var r=e.iadd(t);return r.cmp(this.m)>=0&&r.isub(this.m),r},x.prototype.sub=function(e,t){this._verify2(e,t);var r=e.sub(t);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},x.prototype.isub=function(e,t){this._verify2(e,t);var r=e.isub(t);return r.cmpn(0)<0&&r.iadd(this.m),r},x.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},x.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},x.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},x.prototype.isqr=function(e){return this.imul(e,e.clone())},x.prototype.sqr=function(e){return this.mul(e,e)},x.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(n(t%2==1),3===t){var r=this.m.add(new o(1)).iushrn(2);return this.pow(e,r)}for(var i=this.m.subn(1),s=0;!i.isZero()&&0===i.andln(1);)s++,i.iushrn(1);n(!i.isZero());var a=new o(1).toRed(this),c=a.redNeg(),u=this.m.subn(1).iushrn(1),f=this.m.bitLength();for(f=new o(2*f*f).toRed(this);0!==this.pow(f,u).cmp(c);)f.redIAdd(c);for(var l=this.pow(f,i),h=this.pow(e,i.addn(1).iushrn(1)),d=this.pow(e,i),p=s;0!==d.cmp(a);){for(var b=d,y=0;0!==b.cmp(a);y++)b=b.redSqr();n(y<p);var m=this.pow(l,new o(1).iushln(p-y-1));h=h.redMul(m),l=m.redSqr(),d=d.redMul(l),p=y}return h},x.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},x.prototype.pow=function(e,t){if(t.isZero())return new o(1).toRed(this);if(0===t.cmpn(1))return e.clone();var r=new Array(16);r[0]=new o(1).toRed(this),r[1]=e;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],e);var i=r[0],s=0,a=0,c=t.bitLength()%26;for(0===c&&(c=26),n=t.length-1;n>=0;n--){for(var u=t.words[n],f=c-1;f>=0;f--){var l=u>>f&1;i!==r[0]&&(i=this.sqr(i)),0!==l||0!==s?(s<<=1,s|=l,(4==++a||0===n&&0===f)&&(i=this.mul(i,r[s]),a=0,s=0)):a=0}c=26}return i},x.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},x.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},o.mont=function(e){return new A(e)},i(A,x),A.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},A.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},A.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var r=e.imul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},A.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new o(0)._forceRed(this);var r=e.mul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),s=i;return i.cmp(this.m)>=0?s=i.isub(this.m):i.cmpn(0)<0&&(s=i.iadd(this.m)),s._forceRed(this)},A.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(e=r.nmd(e),this)},38217:(e,t,r)=>{var n;function i(e){this.rand=e}if(e.exports=function(e){return n||(n=new i(null)),n.generate(e)},e.exports.Rand=i,i.prototype.generate=function(e){return this._rand(e)},i.prototype._rand=function(e){if(this.rand.getBytes)return this.rand.getBytes(e);for(var t=new Uint8Array(e),r=0;r<t.length;r++)t[r]=this.rand.getByte();return t},"object"==typeof self)self.crypto&&self.crypto.getRandomValues?i.prototype._rand=function(e){var t=new Uint8Array(e);return self.crypto.getRandomValues(t),t}:self.msCrypto&&self.msCrypto.getRandomValues?i.prototype._rand=function(e){var t=new Uint8Array(e);return self.msCrypto.getRandomValues(t),t}:"object"==typeof window&&(i.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var o=r(36324);if("function"!=typeof o.randomBytes)throw new Error("Not supported");i.prototype._rand=function(e){return o.randomBytes(e)}}catch(e){}},86540:(e,t,r)=>{var n=r(49685).Buffer;function i(e){n.isBuffer(e)||(e=n.from(e));for(var t=e.length/4|0,r=new Array(t),i=0;i<t;i++)r[i]=e.readUInt32BE(4*i);return r}function o(e){for(;0<e.length;e++)e[0]=0}function s(e,t,r,n,i){for(var o,s,a,c,u=r[0],f=r[1],l=r[2],h=r[3],d=e[0]^t[0],p=e[1]^t[1],b=e[2]^t[2],y=e[3]^t[3],m=4,v=1;v<i;v++)o=u[d>>>24]^f[p>>>16&255]^l[b>>>8&255]^h[255&y]^t[m++],s=u[p>>>24]^f[b>>>16&255]^l[y>>>8&255]^h[255&d]^t[m++],a=u[b>>>24]^f[y>>>16&255]^l[d>>>8&255]^h[255&p]^t[m++],c=u[y>>>24]^f[d>>>16&255]^l[p>>>8&255]^h[255&b]^t[m++],d=o,p=s,b=a,y=c;return o=(n[d>>>24]<<24|n[p>>>16&255]<<16|n[b>>>8&255]<<8|n[255&y])^t[m++],s=(n[p>>>24]<<24|n[b>>>16&255]<<16|n[y>>>8&255]<<8|n[255&d])^t[m++],a=(n[b>>>24]<<24|n[y>>>16&255]<<16|n[d>>>8&255]<<8|n[255&p])^t[m++],c=(n[y>>>24]<<24|n[d>>>16&255]<<16|n[p>>>8&255]<<8|n[255&b])^t[m++],[o>>>=0,s>>>=0,a>>>=0,c>>>=0]}var a=[0,1,2,4,8,16,32,64,128,27,54],c=function(){for(var e=new Array(256),t=0;t<256;t++)e[t]=t<128?t<<1:t<<1^283;for(var r=[],n=[],i=[[],[],[],[]],o=[[],[],[],[]],s=0,a=0,c=0;c<256;++c){var u=a^a<<1^a<<2^a<<3^a<<4;u=u>>>8^255&u^99,r[s]=u,n[u]=s;var f=e[s],l=e[f],h=e[l],d=257*e[u]^16843008*u;i[0][s]=d<<24|d>>>8,i[1][s]=d<<16|d>>>16,i[2][s]=d<<8|d>>>24,i[3][s]=d,d=16843009*h^65537*l^257*f^16843008*s,o[0][u]=d<<24|d>>>8,o[1][u]=d<<16|d>>>16,o[2][u]=d<<8|d>>>24,o[3][u]=d,0===s?s=a=1:(s=f^e[e[e[h^f]]],a^=e[e[a]])}return{SBOX:r,INV_SBOX:n,SUB_MIX:i,INV_SUB_MIX:o}}();function u(e){this._key=i(e),this._reset()}u.blockSize=16,u.keySize=32,u.prototype.blockSize=u.blockSize,u.prototype.keySize=u.keySize,u.prototype._reset=function(){for(var e=this._key,t=e.length,r=t+6,n=4*(r+1),i=[],o=0;o<t;o++)i[o]=e[o];for(o=t;o<n;o++){var s=i[o-1];o%t==0?(s=s<<8|s>>>24,s=c.SBOX[s>>>24]<<24|c.SBOX[s>>>16&255]<<16|c.SBOX[s>>>8&255]<<8|c.SBOX[255&s],s^=a[o/t|0]<<24):t>6&&o%t==4&&(s=c.SBOX[s>>>24]<<24|c.SBOX[s>>>16&255]<<16|c.SBOX[s>>>8&255]<<8|c.SBOX[255&s]),i[o]=i[o-t]^s}for(var u=[],f=0;f<n;f++){var l=n-f,h=i[l-(f%4?0:4)];u[f]=f<4||l<=4?h:c.INV_SUB_MIX[0][c.SBOX[h>>>24]]^c.INV_SUB_MIX[1][c.SBOX[h>>>16&255]]^c.INV_SUB_MIX[2][c.SBOX[h>>>8&255]]^c.INV_SUB_MIX[3][c.SBOX[255&h]]}this._nRounds=r,this._keySchedule=i,this._invKeySchedule=u},u.prototype.encryptBlockRaw=function(e){return s(e=i(e),this._keySchedule,c.SUB_MIX,c.SBOX,this._nRounds)},u.prototype.encryptBlock=function(e){var t=this.encryptBlockRaw(e),r=n.allocUnsafe(16);return r.writeUInt32BE(t[0],0),r.writeUInt32BE(t[1],4),r.writeUInt32BE(t[2],8),r.writeUInt32BE(t[3],12),r},u.prototype.decryptBlock=function(e){var t=(e=i(e))[1];e[1]=e[3],e[3]=t;var r=s(e,this._invKeySchedule,c.INV_SUB_MIX,c.INV_SBOX,this._nRounds),o=n.allocUnsafe(16);return o.writeUInt32BE(r[0],0),o.writeUInt32BE(r[3],4),o.writeUInt32BE(r[2],8),o.writeUInt32BE(r[1],12),o},u.prototype.scrub=function(){o(this._keySchedule),o(this._invKeySchedule),o(this._key)},e.exports.AES=u},44718:(e,t,r)=>{var n=r(86540),i=r(49685).Buffer,o=r(81001),s=r(23730),a=r(67605),c=r(13558),u=r(31467);function f(e,t,r,s){o.call(this);var c=i.alloc(4,0);this._cipher=new n.AES(t);var f=this._cipher.encryptBlock(c);this._ghash=new a(f),r=function(e,t,r){if(12===t.length)return e._finID=i.concat([t,i.from([0,0,0,1])]),i.concat([t,i.from([0,0,0,2])]);var n=new a(r),o=t.length,s=o%16;n.update(t),s&&(s=16-s,n.update(i.alloc(s,0))),n.update(i.alloc(8,0));var c=8*o,f=i.alloc(8);f.writeUIntBE(c,0,8),n.update(f),e._finID=n.state;var l=i.from(e._finID);return u(l),l}(this,r,f),this._prev=i.from(r),this._cache=i.allocUnsafe(0),this._secCache=i.allocUnsafe(0),this._decrypt=s,this._alen=0,this._len=0,this._mode=e,this._authTag=null,this._called=!1}s(f,o),f.prototype._update=function(e){if(!this._called&&this._alen){var t=16-this._alen%16;t<16&&(t=i.alloc(t,0),this._ghash.update(t))}this._called=!0;var r=this._mode.encrypt(this,e);return this._decrypt?this._ghash.update(e):this._ghash.update(r),this._len+=e.length,r},f.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var e=c(this._ghash.final(8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt&&function(e,t){var r=0;e.length!==t.length&&r++;for(var n=Math.min(e.length,t.length),i=0;i<n;++i)r+=e[i]^t[i];return r}(e,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=e,this._cipher.scrub()},f.prototype.getAuthTag=function(){if(this._decrypt||!i.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},f.prototype.setAuthTag=function(e){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=e},f.prototype.setAAD=function(e){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(e),this._alen+=e.length},e.exports=f},55687:(e,t,r)=>{var n=r(83667),i=r(69117),o=r(96497);t.createCipher=t.Cipher=n.createCipher,t.createCipheriv=t.Cipheriv=n.createCipheriv,t.createDecipher=t.Decipher=i.createDecipher,t.createDecipheriv=t.Decipheriv=i.createDecipheriv,t.listCiphers=t.getCiphers=function(){return Object.keys(o)}},69117:(e,t,r)=>{var n=r(44718),i=r(49685).Buffer,o=r(23741),s=r(26866),a=r(81001),c=r(86540),u=r(80073);function f(e,t,r){a.call(this),this._cache=new l,this._last=void 0,this._cipher=new c.AES(t),this._prev=i.from(r),this._mode=e,this._autopadding=!0}function l(){this.cache=i.allocUnsafe(0)}function h(e,t,r){var a=o[e.toLowerCase()];if(!a)throw new TypeError("invalid suite type");if("string"==typeof r&&(r=i.from(r)),"GCM"!==a.mode&&r.length!==a.iv)throw new TypeError("invalid iv length "+r.length);if("string"==typeof t&&(t=i.from(t)),t.length!==a.key/8)throw new TypeError("invalid key length "+t.length);return"stream"===a.type?new s(a.module,t,r,!0):"auth"===a.type?new n(a.module,t,r,!0):new f(a.module,t,r)}r(23730)(f,a),f.prototype._update=function(e){var t,r;this._cache.add(e);for(var n=[];t=this._cache.get(this._autopadding);)r=this._mode.decrypt(this,t),n.push(r);return i.concat(n)},f.prototype._final=function(){var e=this._cache.flush();if(this._autopadding)return function(e){var t=e[15];if(t<1||t>16)throw new Error("unable to decrypt data");for(var r=-1;++r<t;)if(e[r+(16-t)]!==t)throw new Error("unable to decrypt data");if(16!==t)return e.slice(0,16-t)}(this._mode.decrypt(this,e));if(e)throw new Error("data not multiple of block length")},f.prototype.setAutoPadding=function(e){return this._autopadding=!!e,this},l.prototype.add=function(e){this.cache=i.concat([this.cache,e])},l.prototype.get=function(e){var t;if(e){if(this.cache.length>16)return t=this.cache.slice(0,16),this.cache=this.cache.slice(16),t}else if(this.cache.length>=16)return t=this.cache.slice(0,16),this.cache=this.cache.slice(16),t;return null},l.prototype.flush=function(){if(this.cache.length)return this.cache},t.createDecipher=function(e,t){var r=o[e.toLowerCase()];if(!r)throw new TypeError("invalid suite type");var n=u(t,!1,r.key,r.iv);return h(e,n.key,n.iv)},t.createDecipheriv=h},83667:(e,t,r)=>{var n=r(23741),i=r(44718),o=r(49685).Buffer,s=r(26866),a=r(81001),c=r(86540),u=r(80073);function f(e,t,r){a.call(this),this._cache=new h,this._cipher=new c.AES(t),this._prev=o.from(r),this._mode=e,this._autopadding=!0}r(23730)(f,a),f.prototype._update=function(e){var t,r;this._cache.add(e);for(var n=[];t=this._cache.get();)r=this._mode.encrypt(this,t),n.push(r);return o.concat(n)};var l=o.alloc(16,16);function h(){this.cache=o.allocUnsafe(0)}function d(e,t,r){var a=n[e.toLowerCase()];if(!a)throw new TypeError("invalid suite type");if("string"==typeof t&&(t=o.from(t)),t.length!==a.key/8)throw new TypeError("invalid key length "+t.length);if("string"==typeof r&&(r=o.from(r)),"GCM"!==a.mode&&r.length!==a.iv)throw new TypeError("invalid iv length "+r.length);return"stream"===a.type?new s(a.module,t,r):"auth"===a.type?new i(a.module,t,r):new f(a.module,t,r)}f.prototype._final=function(){var e=this._cache.flush();if(this._autopadding)return e=this._mode.encrypt(this,e),this._cipher.scrub(),e;if(!e.equals(l))throw this._cipher.scrub(),new Error("data not multiple of block length")},f.prototype.setAutoPadding=function(e){return this._autopadding=!!e,this},h.prototype.add=function(e){this.cache=o.concat([this.cache,e])},h.prototype.get=function(){if(this.cache.length>15){var e=this.cache.slice(0,16);return this.cache=this.cache.slice(16),e}return null},h.prototype.flush=function(){for(var e=16-this.cache.length,t=o.allocUnsafe(e),r=-1;++r<e;)t.writeUInt8(e,r);return o.concat([this.cache,t])},t.createCipheriv=d,t.createCipher=function(e,t){var r=n[e.toLowerCase()];if(!r)throw new TypeError("invalid suite type");var i=u(t,!1,r.key,r.iv);return d(e,i.key,i.iv)}},67605:(e,t,r)=>{var n=r(49685).Buffer,i=n.alloc(16,0);function o(e){var t=n.allocUnsafe(16);return t.writeUInt32BE(e[0]>>>0,0),t.writeUInt32BE(e[1]>>>0,4),t.writeUInt32BE(e[2]>>>0,8),t.writeUInt32BE(e[3]>>>0,12),t}function s(e){this.h=e,this.state=n.alloc(16,0),this.cache=n.allocUnsafe(0)}s.prototype.ghash=function(e){for(var t=-1;++t<e.length;)this.state[t]^=e[t];this._multiply()},s.prototype._multiply=function(){for(var e,t,r,n=[(e=this.h).readUInt32BE(0),e.readUInt32BE(4),e.readUInt32BE(8),e.readUInt32BE(12)],i=[0,0,0,0],s=-1;++s<128;){for(0!=(this.state[~~(s/8)]&1<<7-s%8)&&(i[0]^=n[0],i[1]^=n[1],i[2]^=n[2],i[3]^=n[3]),r=0!=(1&n[3]),t=3;t>0;t--)n[t]=n[t]>>>1|(1&n[t-1])<<31;n[0]=n[0]>>>1,r&&(n[0]=n[0]^225<<24)}this.state=o(i)},s.prototype.update=function(e){var t;for(this.cache=n.concat([this.cache,e]);this.cache.length>=16;)t=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(t)},s.prototype.final=function(e,t){return this.cache.length&&this.ghash(n.concat([this.cache,i],16)),this.ghash(o([0,e,0,t])),this.state},e.exports=s},31467:e=>{e.exports=function(e){for(var t,r=e.length;r--;){if(255!==(t=e.readUInt8(r))){t++,e.writeUInt8(t,r);break}e.writeUInt8(0,r)}}},94519:(e,t,r)=>{var n=r(13558);t.encrypt=function(e,t){var r=n(t,e._prev);return e._prev=e._cipher.encryptBlock(r),e._prev},t.decrypt=function(e,t){var r=e._prev;e._prev=t;var i=e._cipher.decryptBlock(t);return n(i,r)}},85070:(e,t,r)=>{var n=r(49685).Buffer,i=r(13558);function o(e,t,r){var o=t.length,s=i(t,e._cache);return e._cache=e._cache.slice(o),e._prev=n.concat([e._prev,r?t:s]),s}t.encrypt=function(e,t,r){for(var i,s=n.allocUnsafe(0);t.length;){if(0===e._cache.length&&(e._cache=e._cipher.encryptBlock(e._prev),e._prev=n.allocUnsafe(0)),!(e._cache.length<=t.length)){s=n.concat([s,o(e,t,r)]);break}i=e._cache.length,s=n.concat([s,o(e,t.slice(0,i),r)]),t=t.slice(i)}return s}},34228:(e,t,r)=>{var n=r(49685).Buffer;function i(e,t,r){for(var n,i,s=-1,a=0;++s<8;)n=t&1<<7-s?128:0,a+=(128&(i=e._cipher.encryptBlock(e._prev)[0]^n))>>s%8,e._prev=o(e._prev,r?n:i);return a}function o(e,t){var r=e.length,i=-1,o=n.allocUnsafe(e.length);for(e=n.concat([e,n.from([t])]);++i<r;)o[i]=e[i]<<1|e[i+1]>>7;return o}t.encrypt=function(e,t,r){for(var o=t.length,s=n.allocUnsafe(o),a=-1;++a<o;)s[a]=i(e,t[a],r);return s}},58807:(e,t,r)=>{var n=r(49685).Buffer;function i(e,t,r){var i=e._cipher.encryptBlock(e._prev)[0]^t;return e._prev=n.concat([e._prev.slice(1),n.from([r?t:i])]),i}t.encrypt=function(e,t,r){for(var o=t.length,s=n.allocUnsafe(o),a=-1;++a<o;)s[a]=i(e,t[a],r);return s}},97082:(e,t,r)=>{var n=r(13558),i=r(49685).Buffer,o=r(31467);function s(e){var t=e._cipher.encryptBlockRaw(e._prev);return o(e._prev),t}t.encrypt=function(e,t){var r=Math.ceil(t.length/16),o=e._cache.length;e._cache=i.concat([e._cache,i.allocUnsafe(16*r)]);for(var a=0;a<r;a++){var c=s(e),u=o+16*a;e._cache.writeUInt32BE(c[0],u+0),e._cache.writeUInt32BE(c[1],u+4),e._cache.writeUInt32BE(c[2],u+8),e._cache.writeUInt32BE(c[3],u+12)}var f=e._cache.slice(0,t.length);return e._cache=e._cache.slice(t.length),n(t,f)}},19393:(e,t)=>{t.encrypt=function(e,t){return e._cipher.encryptBlock(t)},t.decrypt=function(e,t){return e._cipher.decryptBlock(t)}},23741:(e,t,r)=>{var n={ECB:r(19393),CBC:r(94519),CFB:r(85070),CFB8:r(58807),CFB1:r(34228),OFB:r(26470),CTR:r(97082),GCM:r(97082)},i=r(96497);for(var o in i)i[o].module=n[i[o].mode];e.exports=i},26470:(e,t,r)=>{var n=r(97866).Buffer,i=r(13558);function o(e){return e._prev=e._cipher.encryptBlock(e._prev),e._prev}t.encrypt=function(e,t){for(;e._cache.length<t.length;)e._cache=n.concat([e._cache,o(e)]);var r=e._cache.slice(0,t.length);return e._cache=e._cache.slice(t.length),i(t,r)}},26866:(e,t,r)=>{var n=r(86540),i=r(49685).Buffer,o=r(81001);function s(e,t,r,s){o.call(this),this._cipher=new n.AES(t),this._prev=i.from(r),this._cache=i.allocUnsafe(0),this._secCache=i.allocUnsafe(0),this._decrypt=s,this._mode=e}r(23730)(s,o),s.prototype._update=function(e){return this._mode.encrypt(this,e,this._decrypt)},s.prototype._final=function(){this._cipher.scrub()},e.exports=s},85832:(e,t,r)=>{var n=r(86223),i=r(55687),o=r(23741),s=r(31393),a=r(80073);function c(e,t,r){if(e=e.toLowerCase(),o[e])return i.createCipheriv(e,t,r);if(s[e])return new n({key:t,iv:r,mode:e});throw new TypeError("invalid suite type")}function u(e,t,r){if(e=e.toLowerCase(),o[e])return i.createDecipheriv(e,t,r);if(s[e])return new n({key:t,iv:r,mode:e,decrypt:!0});throw new TypeError("invalid suite type")}t.createCipher=t.Cipher=function(e,t){var r,n;if(e=e.toLowerCase(),o[e])r=o[e].key,n=o[e].iv;else{if(!s[e])throw new TypeError("invalid suite type");r=8*s[e].key,n=s[e].iv}var i=a(t,!1,r,n);return c(e,i.key,i.iv)},t.createCipheriv=t.Cipheriv=c,t.createDecipher=t.Decipher=function(e,t){var r,n;if(e=e.toLowerCase(),o[e])r=o[e].key,n=o[e].iv;else{if(!s[e])throw new TypeError("invalid suite type");r=8*s[e].key,n=s[e].iv}var i=a(t,!1,r,n);return u(e,i.key,i.iv)},t.createDecipheriv=t.Decipheriv=u,t.listCiphers=t.getCiphers=function(){return Object.keys(s).concat(i.getCiphers())}},86223:(e,t,r)=>{var n=r(81001),i=r(93989),o=r(23730),s=r(49685).Buffer,a={"des-ede3-cbc":i.CBC.instantiate(i.EDE),"des-ede3":i.EDE,"des-ede-cbc":i.CBC.instantiate(i.EDE),"des-ede":i.EDE,"des-cbc":i.CBC.instantiate(i.DES),"des-ecb":i.DES};function c(e){n.call(this);var t,r=e.mode.toLowerCase(),i=a[r];t=e.decrypt?"decrypt":"encrypt";var o=e.key;s.isBuffer(o)||(o=s.from(o)),"des-ede"!==r&&"des-ede-cbc"!==r||(o=s.concat([o,o.slice(0,8)]));var c=e.iv;s.isBuffer(c)||(c=s.from(c)),this._des=i.create({key:o,iv:c,type:t})}a.des=a["des-cbc"],a.des3=a["des-ede3-cbc"],e.exports=c,o(c,n),c.prototype._update=function(e){return s.from(this._des.update(e))},c.prototype._final=function(){return s.from(this._des.final())}},31393:(e,t)=>{t["des-ecb"]={key:8,iv:0},t["des-cbc"]=t.des={key:8,iv:8},t["des-ede3-cbc"]=t.des3={key:24,iv:8},t["des-ede3"]={key:24,iv:0},t["des-ede-cbc"]={key:16,iv:8},t["des-ede"]={key:16,iv:0}},78709:(e,t,r)=>{var n=r(97866).Buffer,i=r(27172),o=r(88737);function s(e){var t,r=e.modulus.byteLength();do{t=new i(o(r))}while(t.cmp(e.modulus)>=0||!t.umod(e.prime1)||!t.umod(e.prime2));return t}function a(e,t){var r=function(e){var t=s(e);return{blinder:t.toRed(i.mont(e.modulus)).redPow(new i(e.publicExponent)).fromRed(),unblinder:t.invm(e.modulus)}}(t),o=t.modulus.byteLength(),a=new i(e).mul(r.blinder).umod(t.modulus),c=a.toRed(i.mont(t.prime1)),u=a.toRed(i.mont(t.prime2)),f=t.coefficient,l=t.prime1,h=t.prime2,d=c.redPow(t.exponent1).fromRed(),p=u.redPow(t.exponent2).fromRed(),b=d.isub(p).imul(f).umod(l).imul(h);return p.iadd(b).imul(r.unblinder).umod(t.modulus).toArrayLike(n,"be",o)}a.getr=s,e.exports=a},4063:(e,t,r)=>{e.exports=r(18889)},60342:(e,t,r)=>{var n=r(49685).Buffer,i=r(79759),o=r(29142),s=r(23730),a=r(47394),c=r(5303),u=r(18889);function f(e){o.Writable.call(this);var t=u[e];if(!t)throw new Error("Unknown message digest");this._hashType=t.hash,this._hash=i(t.hash),this._tag=t.id,this._signType=t.sign}function l(e){o.Writable.call(this);var t=u[e];if(!t)throw new Error("Unknown message digest");this._hash=i(t.hash),this._tag=t.id,this._signType=t.sign}function h(e){return new f(e)}function d(e){return new l(e)}Object.keys(u).forEach((function(e){u[e].id=n.from(u[e].id,"hex"),u[e.toLowerCase()]=u[e]})),s(f,o.Writable),f.prototype._write=function(e,t,r){this._hash.update(e),r()},f.prototype.update=function(e,t){return"string"==typeof e&&(e=n.from(e,t)),this._hash.update(e),this},f.prototype.sign=function(e,t){this.end();var r=this._hash.digest(),n=a(r,e,this._hashType,this._signType,this._tag);return t?n.toString(t):n},s(l,o.Writable),l.prototype._write=function(e,t,r){this._hash.update(e),r()},l.prototype.update=function(e,t){return"string"==typeof e&&(e=n.from(e,t)),this._hash.update(e),this},l.prototype.verify=function(e,t,r){"string"==typeof t&&(t=n.from(t,r)),this.end();var i=this._hash.digest();return c(t,i,e,this._signType,this._tag)},e.exports={Sign:h,Verify:d,createSign:h,createVerify:d}},47394:(e,t,r)=>{var n=r(49685).Buffer,i=r(88996),o=r(78709),s=r(43258).ec,a=r(27172),c=r(10622),u=r(17419);function f(e,t,r,o){if((e=n.from(e.toArray())).length<t.byteLength()){var s=n.alloc(t.byteLength()-e.length);e=n.concat([s,e])}var a=r.length,c=function(e,t){e=(e=l(e,t)).mod(t);var r=n.from(e.toArray());if(r.length<t.byteLength()){var i=n.alloc(t.byteLength()-r.length);r=n.concat([i,r])}return r}(r,t),u=n.alloc(a);u.fill(1);var f=n.alloc(a);return f=i(o,f).update(u).update(n.from([0])).update(e).update(c).digest(),u=i(o,f).update(u).digest(),{k:f=i(o,f).update(u).update(n.from([1])).update(e).update(c).digest(),v:u=i(o,f).update(u).digest()}}function l(e,t){var r=new a(e),n=(e.length<<3)-t.bitLength();return n>0&&r.ishrn(n),r}function h(e,t,r){var o,s;do{for(o=n.alloc(0);8*o.length<e.bitLength();)t.v=i(r,t.k).update(t.v).digest(),o=n.concat([o,t.v]);s=l(o,e),t.k=i(r,t.k).update(t.v).update(n.from([0])).digest(),t.v=i(r,t.k).update(t.v).digest()}while(-1!==s.cmp(e));return s}function d(e,t,r,n){return e.toRed(a.mont(r)).redPow(t).fromRed().mod(n)}e.exports=function(e,t,r,i,p){var b=c(t);if(b.curve){if("ecdsa"!==i&&"ecdsa/rsa"!==i)throw new Error("wrong private key type");return function(e,t){var r=u[t.curve.join(".")];if(!r)throw new Error("unknown curve "+t.curve.join("."));var i=new s(r).keyFromPrivate(t.privateKey).sign(e);return n.from(i.toDER())}(e,b)}if("dsa"===b.type){if("dsa"!==i)throw new Error("wrong private key type");return function(e,t,r){for(var i,o=t.params.priv_key,s=t.params.p,c=t.params.q,u=t.params.g,p=new a(0),b=l(e,c).mod(c),y=!1,m=f(o,c,e,r);!1===y;)p=d(u,i=h(c,m,r),s,c),0===(y=i.invm(c).imul(b.add(o.mul(p))).mod(c)).cmpn(0)&&(y=!1,p=new a(0));return function(e,t){e=e.toArray(),t=t.toArray(),128&e[0]&&(e=[0].concat(e)),128&t[0]&&(t=[0].concat(t));var r=[48,e.length+t.length+4,2,e.length];return r=r.concat(e,[2,t.length],t),n.from(r)}(p,y)}(e,b,r)}if("rsa"!==i&&"ecdsa/rsa"!==i)throw new Error("wrong private key type");e=n.concat([p,e]);for(var y=b.modulus.byteLength(),m=[0,1];e.length+m.length+1<y;)m.push(255);m.push(0);for(var v=-1;++v<e.length;)m.push(e[v]);return o(m,b)},e.exports.getKey=f,e.exports.makeKey=h},5303:(e,t,r)=>{var n=r(49685).Buffer,i=r(27172),o=r(43258).ec,s=r(10622),a=r(17419);function c(e,t){if(e.cmpn(0)<=0)throw new Error("invalid sig");if(e.cmp(t)>=t)throw new Error("invalid sig")}e.exports=function(e,t,r,u,f){var l=s(r);if("ec"===l.type){if("ecdsa"!==u&&"ecdsa/rsa"!==u)throw new Error("wrong public key type");return function(e,t,r){var n=a[r.data.algorithm.curve.join(".")];if(!n)throw new Error("unknown curve "+r.data.algorithm.curve.join("."));var i=new o(n),s=r.data.subjectPrivateKey.data;return i.verify(t,e,s)}(e,t,l)}if("dsa"===l.type){if("dsa"!==u)throw new Error("wrong public key type");return function(e,t,r){var n=r.data.p,o=r.data.q,a=r.data.g,u=r.data.pub_key,f=s.signature.decode(e,"der"),l=f.s,h=f.r;c(l,o),c(h,o);var d=i.mont(n),p=l.invm(o);return 0===a.toRed(d).redPow(new i(t).mul(p).mod(o)).fromRed().mul(u.toRed(d).redPow(h.mul(p).mod(o)).fromRed()).mod(n).mod(o).cmp(h)}(e,t,l)}if("rsa"!==u&&"ecdsa/rsa"!==u)throw new Error("wrong public key type");t=n.concat([f,t]);for(var h=l.modulus.byteLength(),d=[1],p=0;t.length+d.length+2<h;)d.push(255),p++;d.push(0);for(var b=-1;++b<t.length;)d.push(t[b]);d=n.from(d);var y=i.mont(l.modulus);e=(e=new i(e).toRed(y)).redPow(new i(l.publicExponent)),e=n.from(e.fromRed().toArray());var m=p<8?1:0;for(h=Math.min(e.length,d.length),e.length!==d.length&&(m=1),b=-1;++b<h;)m|=e[b]^d[b];return 0===m}},97866:(e,t,r)=>{var n=r(40585);const i=r(16666),o=r(59258),s="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=u,t.SlowBuffer=function(e){return+e!=e&&(e=0),u.alloc(+e)},t.INSPECT_MAX_BYTES=50;const a=2147483647;function c(e){if(e>a)throw new RangeError('The value "'+e+'" is invalid for option "size"');const t=new Uint8Array(e);return Object.setPrototypeOf(t,u.prototype),t}function u(e,t,r){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return h(e)}return f(e,t,r)}function f(e,t,r){if("string"==typeof e)return function(e,t){if("string"==typeof t&&""!==t||(t="utf8"),!u.isEncoding(t))throw new TypeError("Unknown encoding: "+t);const r=0|y(e,t);let n=c(r);const i=n.write(e,t);return i!==r&&(n=n.slice(0,i)),n}(e,t);if(ArrayBuffer.isView(e))return function(e){if(Y(e,Uint8Array)){const t=new Uint8Array(e);return p(t.buffer,t.byteOffset,t.byteLength)}return d(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(Y(e,ArrayBuffer)||e&&Y(e.buffer,ArrayBuffer))return p(e,t,r);if("undefined"!=typeof SharedArrayBuffer&&(Y(e,SharedArrayBuffer)||e&&Y(e.buffer,SharedArrayBuffer)))return p(e,t,r);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');const n=e.valueOf&&e.valueOf();if(null!=n&&n!==e)return u.from(n,t,r);const i=function(e){if(u.isBuffer(e)){const t=0|b(e.length),r=c(t);return 0===r.length||e.copy(r,0,0,t),r}return void 0!==e.length?"number"!=typeof e.length||X(e.length)?c(0):d(e):"Buffer"===e.type&&Array.isArray(e.data)?d(e.data):void 0}(e);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return u.from(e[Symbol.toPrimitive]("string"),t,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function l(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function h(e){return l(e),c(e<0?0:0|b(e))}function d(e){const t=e.length<0?0:0|b(e.length),r=c(t);for(let n=0;n<t;n+=1)r[n]=255&e[n];return r}function p(e,t,r){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw new RangeError('"length" is outside of buffer bounds');let n;return n=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),Object.setPrototypeOf(n,u.prototype),n}function b(e){if(e>=a)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a.toString(16)+" bytes");return 0|e}function y(e,t){if(u.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||Y(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);const r=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;let i=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return G(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return K(e).length;default:if(i)return n?-1:G(e).length;t=(""+t).toLowerCase(),i=!0}}function m(e,t,r){let n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return k(this,t,r);case"utf8":case"utf-8":return A(this,t,r);case"ascii":return P(this,t,r);case"latin1":case"binary":return j(this,t,r);case"base64":return x(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return $(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function v(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function g(e,t,r,n,i){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),X(r=+r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof t&&(t=u.from(t,n)),u.isBuffer(t))return 0===t.length?-1:w(e,t,r,n,i);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):w(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function w(e,t,r,n,i){let o,s=1,a=e.length,c=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;s=2,a/=2,c/=2,r/=2}function u(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(i){let n=-1;for(o=r;o<a;o++)if(u(e,o)===u(t,-1===n?0:o-n)){if(-1===n&&(n=o),o-n+1===c)return n*s}else-1!==n&&(o-=o-n),n=-1}else for(r+c>a&&(r=a-c),o=r;o>=0;o--){let r=!0;for(let n=0;n<c;n++)if(u(e,o+n)!==u(t,n)){r=!1;break}if(r)return o}return-1}function _(e,t,r,n){r=Number(r)||0;const i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;const o=t.length;let s;for(n>o/2&&(n=o/2),s=0;s<n;++s){const n=parseInt(t.substr(2*s,2),16);if(X(n))return s;e[r+s]=n}return s}function S(e,t,r,n){return J(G(t,e.length-r),e,r,n)}function E(e,t,r,n){return J(function(e){const t=[];for(let r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function O(e,t,r,n){return J(K(t),e,r,n)}function T(e,t,r,n){return J(function(e,t){let r,n,i;const o=[];for(let s=0;s<e.length&&!((t-=2)<0);++s)r=e.charCodeAt(s),n=r>>8,i=r%256,o.push(i),o.push(n);return o}(t,e.length-r),e,r,n)}function x(e,t,r){return 0===t&&r===e.length?i.fromByteArray(e):i.fromByteArray(e.slice(t,r))}function A(e,t,r){r=Math.min(e.length,r);const n=[];let i=t;for(;i<r;){const t=e[i];let o=null,s=t>239?4:t>223?3:t>191?2:1;if(i+s<=r){let r,n,a,c;switch(s){case 1:t<128&&(o=t);break;case 2:r=e[i+1],128==(192&r)&&(c=(31&t)<<6|63&r,c>127&&(o=c));break;case 3:r=e[i+1],n=e[i+2],128==(192&r)&&128==(192&n)&&(c=(15&t)<<12|(63&r)<<6|63&n,c>2047&&(c<55296||c>57343)&&(o=c));break;case 4:r=e[i+1],n=e[i+2],a=e[i+3],128==(192&r)&&128==(192&n)&&128==(192&a)&&(c=(15&t)<<18|(63&r)<<12|(63&n)<<6|63&a,c>65535&&c<1114112&&(o=c))}}null===o?(o=65533,s=1):o>65535&&(o-=65536,n.push(o>>>10&1023|55296),o=56320|1023&o),n.push(o),i+=s}return function(e){const t=e.length;if(t<=M)return String.fromCharCode.apply(String,e);let r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=M));return r}(n)}t.kMaxLength=a,u.TYPED_ARRAY_SUPPORT=function(){try{const e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),u.TYPED_ARRAY_SUPPORT||void 0===n||"function"!=typeof n.error||n.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.byteOffset}}),u.poolSize=8192,u.from=function(e,t,r){return f(e,t,r)},Object.setPrototypeOf(u.prototype,Uint8Array.prototype),Object.setPrototypeOf(u,Uint8Array),u.alloc=function(e,t,r){return function(e,t,r){return l(e),e<=0?c(e):void 0!==t?"string"==typeof r?c(e).fill(t,r):c(e).fill(t):c(e)}(e,t,r)},u.allocUnsafe=function(e){return h(e)},u.allocUnsafeSlow=function(e){return h(e)},u.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==u.prototype},u.compare=function(e,t){if(Y(e,Uint8Array)&&(e=u.from(e,e.offset,e.byteLength)),Y(t,Uint8Array)&&(t=u.from(t,t.offset,t.byteLength)),!u.isBuffer(e)||!u.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let r=e.length,n=t.length;for(let i=0,o=Math.min(r,n);i<o;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},u.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return u.alloc(0);let r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;const n=u.allocUnsafe(t);let i=0;for(r=0;r<e.length;++r){let t=e[r];if(Y(t,Uint8Array))i+t.length>n.length?(u.isBuffer(t)||(t=u.from(t)),t.copy(n,i)):Uint8Array.prototype.set.call(n,t,i);else{if(!u.isBuffer(t))throw new TypeError('"list" argument must be an Array of Buffers');t.copy(n,i)}i+=t.length}return n},u.byteLength=y,u.prototype._isBuffer=!0,u.prototype.swap16=function(){const e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)v(this,t,t+1);return this},u.prototype.swap32=function(){const e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)v(this,t,t+3),v(this,t+1,t+2);return this},u.prototype.swap64=function(){const e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)v(this,t,t+7),v(this,t+1,t+6),v(this,t+2,t+5),v(this,t+3,t+4);return this},u.prototype.toString=function(){const e=this.length;return 0===e?"":0===arguments.length?A(this,0,e):m.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(e){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===u.compare(this,e)},u.prototype.inspect=function(){let e="";const r=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"},s&&(u.prototype[s]=u.prototype.inspect),u.prototype.compare=function(e,t,r,n,i){if(Y(e,Uint8Array)&&(e=u.from(e,e.offset,e.byteLength)),!u.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(this===e)return 0;let o=(i>>>=0)-(n>>>=0),s=(r>>>=0)-(t>>>=0);const a=Math.min(o,s),c=this.slice(n,i),f=e.slice(t,r);for(let e=0;e<a;++e)if(c[e]!==f[e]){o=c[e],s=f[e];break}return o<s?-1:s<o?1:0},u.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},u.prototype.indexOf=function(e,t,r){return g(this,e,t,r,!0)},u.prototype.lastIndexOf=function(e,t,r){return g(this,e,t,r,!1)},u.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}const i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");let o=!1;for(;;)switch(n){case"hex":return _(this,e,t,r);case"utf8":case"utf-8":return S(this,e,t,r);case"ascii":case"latin1":case"binary":return E(this,e,t,r);case"base64":return O(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,e,t,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const M=4096;function P(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function j(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function k(e,t,r){const n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);let i="";for(let n=t;n<r;++n)i+=Z[e[n]];return i}function $(e,t,r){const n=e.slice(t,r);let i="";for(let e=0;e<n.length-1;e+=2)i+=String.fromCharCode(n[e]+256*n[e+1]);return i}function C(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function I(e,t,r,n,i,o){if(!u.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function R(e,t,r,n,i){z(t,n,i,e,r,7);let o=Number(t&BigInt(4294967295));e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o;let s=Number(t>>BigInt(32)&BigInt(4294967295));return e[r++]=s,s>>=8,e[r++]=s,s>>=8,e[r++]=s,s>>=8,e[r++]=s,r}function N(e,t,r,n,i){z(t,n,i,e,r,7);let o=Number(t&BigInt(4294967295));e[r+7]=o,o>>=8,e[r+6]=o,o>>=8,e[r+5]=o,o>>=8,e[r+4]=o;let s=Number(t>>BigInt(32)&BigInt(4294967295));return e[r+3]=s,s>>=8,e[r+2]=s,s>>=8,e[r+1]=s,s>>=8,e[r]=s,r+8}function L(e,t,r,n,i,o){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function D(e,t,r,n,i){return t=+t,r>>>=0,i||L(e,0,r,4),o.write(e,t,r,n,23,4),r+4}function F(e,t,r,n,i){return t=+t,r>>>=0,i||L(e,0,r,8),o.write(e,t,r,n,52,8),r+8}u.prototype.slice=function(e,t){const r=this.length;(e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);const n=this.subarray(e,t);return Object.setPrototypeOf(n,u.prototype),n},u.prototype.readUintLE=u.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||C(e,t,this.length);let n=this[e],i=1,o=0;for(;++o<t&&(i*=256);)n+=this[e+o]*i;return n},u.prototype.readUintBE=u.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||C(e,t,this.length);let n=this[e+--t],i=1;for(;t>0&&(i*=256);)n+=this[e+--t]*i;return n},u.prototype.readUint8=u.prototype.readUInt8=function(e,t){return e>>>=0,t||C(e,1,this.length),this[e]},u.prototype.readUint16LE=u.prototype.readUInt16LE=function(e,t){return e>>>=0,t||C(e,2,this.length),this[e]|this[e+1]<<8},u.prototype.readUint16BE=u.prototype.readUInt16BE=function(e,t){return e>>>=0,t||C(e,2,this.length),this[e]<<8|this[e+1]},u.prototype.readUint32LE=u.prototype.readUInt32LE=function(e,t){return e>>>=0,t||C(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},u.prototype.readUint32BE=u.prototype.readUInt32BE=function(e,t){return e>>>=0,t||C(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},u.prototype.readBigUInt64LE=Q((function(e){V(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||H(e,this.length-8);const n=t+256*this[++e]+65536*this[++e]+this[++e]*2**24,i=this[++e]+256*this[++e]+65536*this[++e]+r*2**24;return BigInt(n)+(BigInt(i)<<BigInt(32))})),u.prototype.readBigUInt64BE=Q((function(e){V(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||H(e,this.length-8);const n=t*2**24+65536*this[++e]+256*this[++e]+this[++e],i=this[++e]*2**24+65536*this[++e]+256*this[++e]+r;return(BigInt(n)<<BigInt(32))+BigInt(i)})),u.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||C(e,t,this.length);let n=this[e],i=1,o=0;for(;++o<t&&(i*=256);)n+=this[e+o]*i;return i*=128,n>=i&&(n-=Math.pow(2,8*t)),n},u.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||C(e,t,this.length);let n=t,i=1,o=this[e+--n];for(;n>0&&(i*=256);)o+=this[e+--n]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*t)),o},u.prototype.readInt8=function(e,t){return e>>>=0,t||C(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},u.prototype.readInt16LE=function(e,t){e>>>=0,t||C(e,2,this.length);const r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt16BE=function(e,t){e>>>=0,t||C(e,2,this.length);const r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt32LE=function(e,t){return e>>>=0,t||C(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},u.prototype.readInt32BE=function(e,t){return e>>>=0,t||C(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},u.prototype.readBigInt64LE=Q((function(e){V(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||H(e,this.length-8);const n=this[e+4]+256*this[e+5]+65536*this[e+6]+(r<<24);return(BigInt(n)<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+this[++e]*2**24)})),u.prototype.readBigInt64BE=Q((function(e){V(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||H(e,this.length-8);const n=(t<<24)+65536*this[++e]+256*this[++e]+this[++e];return(BigInt(n)<<BigInt(32))+BigInt(this[++e]*2**24+65536*this[++e]+256*this[++e]+r)})),u.prototype.readFloatLE=function(e,t){return e>>>=0,t||C(e,4,this.length),o.read(this,e,!0,23,4)},u.prototype.readFloatBE=function(e,t){return e>>>=0,t||C(e,4,this.length),o.read(this,e,!1,23,4)},u.prototype.readDoubleLE=function(e,t){return e>>>=0,t||C(e,8,this.length),o.read(this,e,!0,52,8)},u.prototype.readDoubleBE=function(e,t){return e>>>=0,t||C(e,8,this.length),o.read(this,e,!1,52,8)},u.prototype.writeUintLE=u.prototype.writeUIntLE=function(e,t,r,n){e=+e,t>>>=0,r>>>=0,n||I(this,e,t,r,Math.pow(2,8*r)-1,0);let i=1,o=0;for(this[t]=255&e;++o<r&&(i*=256);)this[t+o]=e/i&255;return t+r},u.prototype.writeUintBE=u.prototype.writeUIntBE=function(e,t,r,n){e=+e,t>>>=0,r>>>=0,n||I(this,e,t,r,Math.pow(2,8*r)-1,0);let i=r-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+r},u.prototype.writeUint8=u.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||I(this,e,t,1,255,0),this[t]=255&e,t+1},u.prototype.writeUint16LE=u.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||I(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},u.prototype.writeUint16BE=u.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||I(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},u.prototype.writeUint32LE=u.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||I(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},u.prototype.writeUint32BE=u.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||I(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},u.prototype.writeBigUInt64LE=Q((function(e,t=0){return R(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),u.prototype.writeBigUInt64BE=Q((function(e,t=0){return N(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),u.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t>>>=0,!n){const n=Math.pow(2,8*r-1);I(this,e,t,r,n-1,-n)}let i=0,o=1,s=0;for(this[t]=255&e;++i<r&&(o*=256);)e<0&&0===s&&0!==this[t+i-1]&&(s=1),this[t+i]=(e/o>>0)-s&255;return t+r},u.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t>>>=0,!n){const n=Math.pow(2,8*r-1);I(this,e,t,r,n-1,-n)}let i=r-1,o=1,s=0;for(this[t+i]=255&e;--i>=0&&(o*=256);)e<0&&0===s&&0!==this[t+i+1]&&(s=1),this[t+i]=(e/o>>0)-s&255;return t+r},u.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||I(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},u.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||I(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},u.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||I(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},u.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||I(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},u.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||I(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},u.prototype.writeBigInt64LE=Q((function(e,t=0){return R(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),u.prototype.writeBigInt64BE=Q((function(e,t=0){return N(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),u.prototype.writeFloatLE=function(e,t,r){return D(this,e,t,!0,r)},u.prototype.writeFloatBE=function(e,t,r){return D(this,e,t,!1,r)},u.prototype.writeDoubleLE=function(e,t,r){return F(this,e,t,!0,r)},u.prototype.writeDoubleBE=function(e,t,r){return F(this,e,t,!1,r)},u.prototype.copy=function(e,t,r,n){if(!u.isBuffer(e))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);const i=n-r;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,r,n):Uint8Array.prototype.set.call(e,this.subarray(r,n),t),i},u.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!u.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===e.length){const t=e.charCodeAt(0);("utf8"===n&&t<128||"latin1"===n)&&(e=t)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;let i;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(i=t;i<r;++i)this[i]=e;else{const o=u.isBuffer(e)?e:u.from(e,n),s=o.length;if(0===s)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<r-t;++i)this[i+t]=o[i%s]}return this};const B={};function U(e,t,r){B[e]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function q(e){let t="",r=e.length;const n="-"===e[0]?1:0;for(;r>=n+4;r-=3)t=`_${e.slice(r-3,r)}${t}`;return`${e.slice(0,r)}${t}`}function z(e,t,r,n,i,o){if(e>r||e<t){const n="bigint"==typeof t?"n":"";let i;throw i=o>3?0===t||t===BigInt(0)?`>= 0${n} and < 2${n} ** ${8*(o+1)}${n}`:`>= -(2${n} ** ${8*(o+1)-1}${n}) and < 2 ** ${8*(o+1)-1}${n}`:`>= ${t}${n} and <= ${r}${n}`,new B.ERR_OUT_OF_RANGE("value",i,e)}!function(e,t,r){V(t,"offset"),void 0!==e[t]&&void 0!==e[t+r]||H(t,e.length-(r+1))}(n,i,o)}function V(e,t){if("number"!=typeof e)throw new B.ERR_INVALID_ARG_TYPE(t,"number",e)}function H(e,t,r){if(Math.floor(e)!==e)throw V(e,r),new B.ERR_OUT_OF_RANGE(r||"offset","an integer",e);if(t<0)throw new B.ERR_BUFFER_OUT_OF_BOUNDS;throw new B.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${t}`,e)}U("ERR_BUFFER_OUT_OF_BOUNDS",(function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),U("ERR_INVALID_ARG_TYPE",(function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`}),TypeError),U("ERR_OUT_OF_RANGE",(function(e,t,r){let n=`The value of "${e}" is out of range.`,i=r;return Number.isInteger(r)&&Math.abs(r)>2**32?i=q(String(r)):"bigint"==typeof r&&(i=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(i=q(i)),i+="n"),n+=` It must be ${t}. Received ${i}`,n}),RangeError);const W=/[^+/0-9A-Za-z-_]/g;function G(e,t){let r;t=t||1/0;const n=e.length;let i=null;const o=[];for(let s=0;s<n;++s){if(r=e.charCodeAt(s),r>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(s+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function K(e){return i.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(W,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function J(e,t,r,n){let i;for(i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}function Y(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function X(e){return e!=e}const Z=function(){const e="0123456789abcdef",t=new Array(256);for(let r=0;r<16;++r){const n=16*r;for(let i=0;i<16;++i)t[n+i]=e[r]+e[i]}return t}();function Q(e){return"undefined"==typeof BigInt?ee:e}function ee(){throw new Error("BigInt not supported")}},13558:(e,t,r)=>{var n=r(97866).Buffer;e.exports=function(e,t){for(var r=Math.min(e.length,t.length),i=new n(r),o=0;o<r;++o)i[o]=e[o]^t[o];return i}},19372:e=>{e.exports={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}},86018:(e,t,r)=>{var n=r(43681),i=r(37694),o=i(n("String.prototype.indexOf"));e.exports=function(e,t){var r=n(e,!!t);return"function"==typeof r&&o(e,".prototype.")>-1?i(r):r}},37694:(e,t,r)=>{var n=r(25654),i=r(43681),o=i("%Function.prototype.apply%"),s=i("%Function.prototype.call%"),a=i("%Reflect.apply%",!0)||n.call(s,o),c=i("%Object.getOwnPropertyDescriptor%",!0),u=i("%Object.defineProperty%",!0),f=i("%Math.max%");if(u)try{u({},"a",{value:1})}catch(e){u=null}e.exports=function(e){var t=a(n,s,arguments);if(c&&u){var r=c(t,"length");r.configurable&&u(t,"length",{value:1+f(0,e.length-(arguments.length-1))})}return t};var l=function(){return a(n,o,arguments)};u?u(e.exports,"apply",{value:l}):e.exports.apply=l},81001:(e,t,r)=>{var n=r(49685).Buffer,i=r(95751).Transform,o=r(37361).StringDecoder;function s(e){i.call(this),this.hashMode="string"==typeof e,this.hashMode?this[e]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}r(23730)(s,i),s.prototype.update=function(e,t,r){"string"==typeof e&&(e=n.from(e,t));var i=this._update(e);return this.hashMode?this:(r&&(i=this._toString(i,r)),i)},s.prototype.setAutoPadding=function(){},s.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},s.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},s.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},s.prototype._transform=function(e,t,r){var n;try{this.hashMode?this._update(e):this.push(this._update(e))}catch(e){n=e}finally{r(n)}},s.prototype._flush=function(e){var t;try{this.push(this.__final())}catch(e){t=e}e(t)},s.prototype._finalOrDigest=function(e){var t=this.__final()||n.alloc(0);return e&&(t=this._toString(t,e,!0)),t},s.prototype._toString=function(e,t,r){if(this._decoder||(this._decoder=new o(t),this._encoding=t),this._encoding!==t)throw new Error("can't switch encodings");var n=this._decoder.write(e);return r&&(n+=this._decoder.end()),n},e.exports=s},91484:(e,t,r)=>{var n=r(8618).Buffer,i=r(65953),o=r(24902);const s="https://example.org/";var a;a="function"==typeof n?function(e){return n.from(e).toString("base64")}:window.btoa.bind(window),e.exports=m;var c={Accept:"application/json, application/x-www-form-urlencoded","Content-Type":"application/x-www-form-urlencoded"},u={invalid_request:["The request is missing a required parameter, includes an","invalid parameter value, includes a parameter more than","once, or is otherwise malformed."].join(" "),invalid_client:["Client authentication failed (e.g., unknown client, no","client authentication included, or unsupported","authentication method)."].join(" "),invalid_grant:["The provided authorization grant (e.g., authorization","code, resource owner credentials) or refresh token is","invalid, expired, revoked, does not match the redirection","URI used in the authorization request, or was issued to","another client."].join(" "),unauthorized_client:["The client is not authorized to request an authorization","code using this method."].join(" "),unsupported_grant_type:["The authorization grant type is not supported by the","authorization server."].join(" "),access_denied:["The resource owner or authorization server denied the request."].join(" "),unsupported_response_type:["The authorization server does not support obtaining","an authorization code using this method."].join(" "),invalid_scope:["The requested scope is invalid, unknown, or malformed."].join(" "),server_error:["The authorization server encountered an unexpected","condition that prevented it from fulfilling the request.","(This error code is needed because a 500 Internal Server","Error HTTP status code cannot be returned to the client","via an HTTP redirect.)"].join(" "),temporarily_unavailable:["The authorization server is currently unable to handle","the request due to a temporary overloading or maintenance","of the server."].join(" ")};function f(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];if(null==e[r])throw new TypeError('Expected "'+r+'" to exist')}}function l(e){var t=u[e.error]||e.error_description||e.error;if(t){var r=new Error(t);return r.body=e,r.code="EAUTH",r}}function h(e){return Array.isArray(e)?e.join(" "):b(e)}function d(e,t){f(e,"clientId","authorizationUri");const r={client_id:e.clientId,redirect_uri:e.redirectUri,response_type:t,state:e.state};void 0!==e.scopes&&(r.scope=h(e.scopes));const n=e.authorizationUri.includes("?")?"&":"?";return e.authorizationUri+n+i.stringify(Object.assign(r,e.query))}function p(e,t){return"Basic "+a(b(e)+":"+b(t))}function b(e){return null==e?"":String(e)}function y(e,t){return{url:e.url,method:e.method,body:Object.assign({},e.body,t.body),query:Object.assign({},e.query,t.query),headers:Object.assign({},e.headers,t.headers)}}function m(e,t){this.options=e,this.request=t||o,this.code=new S(this),this.token=new w(this),this.owner=new g(this),this.credentials=new _(this),this.jwt=new E(this)}function v(e,t){this.client=e,this.data=t,this.tokenType=t.token_type&&t.token_type.toLowerCase(),this.accessToken=t.access_token,this.refreshToken=t.refresh_token,this.expiresIn(Number(t.expires_in))}function g(e){this.client=e}function w(e){this.client=e}function _(e){this.client=e}function S(e){this.client=e}function E(e){this.client=e}m.Token=v,m.prototype.createToken=function(e,t,r,n){var i=Object.assign({},n,"string"==typeof e?{access_token:e}:e,"string"==typeof t?{refresh_token:t}:t,"string"==typeof r?{token_type:r}:r);return new m.Token(this,i)},m.prototype._request=function(e){var t=e.url,r=i.stringify(e.body),n=i.stringify(e.query);return n&&(t+=(-1===t.indexOf("?")?"?":"&")+n),this.request(e.method,t,r,e.headers).then((function(e){var t=function(e){try{return JSON.parse(e)}catch(t){return i.parse(e)}}(e.body),r=l(t);if(r)return Promise.reject(r);if(e.status<200||e.status>=399){var n=new Error("HTTP status "+e.status);return n.status=e.status,n.body=e.body,n.code="ESTATUS",Promise.reject(n)}return t}))},v.prototype.expiresIn=function(e){if("number"==typeof e)this.expires=new Date,this.expires.setSeconds(this.expires.getSeconds()+e);else{if(!(e instanceof Date))throw new TypeError("Unknown duration: "+e);this.expires=new Date(e.getTime())}return this.expires},v.prototype.sign=function(e){if(!this.accessToken)throw new Error("Unable to sign without access token");if(e.headers=e.headers||{},"bearer"===this.tokenType)e.headers.Authorization="Bearer "+this.accessToken;else{var t=e.url.split("#"),r="access_token="+this.accessToken,n=t[0].replace(/[?&]access_token=[^&#]/,""),i=t[1]?"#"+t[1]:"";e.url=n+(n.indexOf("?")>-1?"&":"?")+r+i,e.headers.Pragma="no-store",e.headers["Cache-Control"]="no-store"}return e},v.prototype.refresh=function(e){var t=this,r=Object.assign({},this.client.options,e);return this.refreshToken?this.client._request(y({url:r.accessTokenUri,method:"POST",headers:Object.assign({},c,{Authorization:p(r.clientId,r.clientSecret)}),body:{refresh_token:this.refreshToken,grant_type:"refresh_token"}},r)).then((function(e){return t.client.createToken(Object.assign({},t.data,e))})):Promise.reject(new Error("No refresh token"))},v.prototype.expired=function(){return Date.now()>this.expires.getTime()},g.prototype.getToken=function(e,t,r){var n=this,i=Object.assign({},this.client.options,r);const o={username:e,password:t,grant_type:"password"};return void 0!==i.scopes&&(o.scope=h(i.scopes)),this.client._request(y({url:i.accessTokenUri,method:"POST",headers:Object.assign({},c,{Authorization:p(i.clientId,i.clientSecret)}),body:o},i)).then((function(e){return n.client.createToken(e)}))},w.prototype.getUri=function(e){return d(Object.assign({},this.client.options,e),"token")},w.prototype.getToken=function(e,t){var r=Object.assign({},this.client.options,t),n="object"==typeof e?e:new URL(e,s),o=new URL(r.redirectUri,s);if("string"==typeof n.pathname&&n.pathname!==o.pathname)return Promise.reject(new TypeError("Redirected path should match configured path, but got: "+n.pathname));if(!n.hash&&!n.search)return Promise.reject(new TypeError("Unable to process uri: "+e));var a=Object.assign({},"string"==typeof n.search?i.parse(n.search.substr(1)):n.search||{},"string"==typeof n.hash?i.parse(n.hash.substr(1)):n.hash||{}),c=l(a);return c?Promise.reject(c):null!=r.state&&a.state!==r.state?Promise.reject(new TypeError("Invalid state: "+a.state)):Promise.resolve(this.client.createToken(a))},_.prototype.getToken=function(e){var t=this,r=Object.assign({},this.client.options,e);f(r,"clientId","clientSecret","accessTokenUri");const n={grant_type:"client_credentials"};return void 0!==r.scopes&&(n.scope=h(r.scopes)),this.client._request(y({url:r.accessTokenUri,method:"POST",headers:Object.assign({},c,{Authorization:p(r.clientId,r.clientSecret)}),body:n},r)).then((function(e){return t.client.createToken(e)}))},S.prototype.getUri=function(e){return d(Object.assign({},this.client.options,e),"code")},S.prototype.getToken=function(e,t){var r=this,n=Object.assign({},this.client.options,t);f(n,"clientId","accessTokenUri");var o="object"==typeof e?e:new URL(e,s);if("string"==typeof n.redirectUri&&"string"==typeof o.pathname&&o.pathname!==new URL(n.redirectUri,s).pathname)return Promise.reject(new TypeError("Redirected path should match configured path, but got: "+o.pathname));if(!o.search||!o.search.substr(1))return Promise.reject(new TypeError("Unable to process uri: "+e));var a="string"==typeof o.search?i.parse(o.search.substr(1)):o.search||{},u=l(a);if(u)return Promise.reject(u);if(null!=n.state&&a.state!==n.state)return Promise.reject(new TypeError("Invalid state: "+a.state));if(!a.code)return Promise.reject(new TypeError("Missing code, unable to request token"));var h=Object.assign({},c),d={code:a.code,grant_type:"authorization_code",redirect_uri:n.redirectUri};return n.clientSecret?h.Authorization=p(n.clientId,n.clientSecret):d.client_id=n.clientId,this.client._request(y({url:n.accessTokenUri,method:"POST",headers:h,body:d},n)).then((function(e){return r.client.createToken(e)}))},E.prototype.getToken=function(e,t){var r=this,n=Object.assign({},this.client.options,t),i=Object.assign({},c);f(n,"accessTokenUri"),n.clientId&&(i.Authorization=p(n.clientId,n.clientSecret));const o={grant_type:"urn:ietf:params:oauth:grant-type:jwt-bearer",assertion:e};return void 0!==n.scopes&&(o.scope=h(n.scopes)),this.client._request(y({url:n.accessTokenUri,method:"POST",headers:i,body:o},n)).then((function(e){return r.client.createToken(e)}))}},24902:e=>{e.exports=function(e,t,r,n){return new Promise((function(i,o){var s=new window.XMLHttpRequest;s.open(e,t),s.onload=function(){return i({status:s.status,body:s.responseText})},s.onerror=s.onabort=function(){return o(new Error(s.statusText||"XHR aborted: "+t))},Object.keys(n).forEach((function(e){s.setRequestHeader(e,n[e])})),s.send(r)}))}},40585:(e,t,r)=>{var n=r(85130),i=r(94343);function o(){return(new Date).getTime()}var s,a=Array.prototype.slice,c={};s=void 0!==r.g&&r.g.console?r.g.console:"undefined"!=typeof window&&window.console?window.console:{};for(var u=[[function(){},"log"],[function(){s.log.apply(s,arguments)},"info"],[function(){s.log.apply(s,arguments)},"warn"],[function(){s.warn.apply(s,arguments)},"error"],[function(e){c[e]=o()},"time"],[function(e){var t=c[e];if(!t)throw new Error("No such label: "+e);delete c[e];var r=o()-t;s.log(e+": "+r+"ms")},"timeEnd"],[function(){var e=new Error;e.name="Trace",e.message=n.format.apply(null,arguments),s.error(e.stack)},"trace"],[function(e){s.log(n.inspect(e)+"\n")},"dir"],[function(e){if(!e){var t=a.call(arguments,1);i.ok(!1,n.format.apply(null,t))}},"assert"]],f=0;f<u.length;f++){var l=u[f],h=l[0],d=l[1];s[d]||(s[d]=h)}e.exports=s},66056:(e,t,r)=>{var n=r(97866).Buffer,i=r(43258),o=r(65482);e.exports=function(e){return new a(e)};var s={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};function a(e){this.curveType=s[e],this.curveType||(this.curveType={name:e}),this.curve=new i.ec(this.curveType.name),this.keys=void 0}function c(e,t,r){Array.isArray(e)||(e=e.toArray());var i=new n(e);if(r&&i.length<r){var o=new n(r-i.length);o.fill(0),i=n.concat([o,i])}return t?i.toString(t):i}s.p224=s.secp224r1,s.p256=s.secp256r1=s.prime256v1,s.p192=s.secp192r1=s.prime192v1,s.p384=s.secp384r1,s.p521=s.secp521r1,a.prototype.generateKeys=function(e,t){return this.keys=this.curve.genKeyPair(),this.getPublicKey(e,t)},a.prototype.computeSecret=function(e,t,r){return t=t||"utf8",n.isBuffer(e)||(e=new n(e,t)),c(this.curve.keyFromPublic(e).getPublic().mul(this.keys.getPrivate()).getX(),r,this.curveType.byteLength)},a.prototype.getPublicKey=function(e,t){var r=this.keys.getPublic("compressed"===t,!0);return"hybrid"===t&&(r[r.length-1]%2?r[0]=7:r[0]=6),c(r,e)},a.prototype.getPrivateKey=function(e){return c(this.keys.getPrivate(),e)},a.prototype.setPublicKey=function(e,t){return t=t||"utf8",n.isBuffer(e)||(e=new n(e,t)),this.keys._importPublic(e),this},a.prototype.setPrivateKey=function(e,t){t=t||"utf8",n.isBuffer(e)||(e=new n(e,t));var r=new o(e);return r=r.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(r),this}},79759:(e,t,r)=>{var n=r(23730),i=r(83641),o=r(46455),s=r(8909),a=r(81001);function c(e){a.call(this,"digest"),this._hash=e}n(c,a),c.prototype._update=function(e){this._hash.update(e)},c.prototype._final=function(){return this._hash.digest()},e.exports=function(e){return"md5"===(e=e.toLowerCase())?new i:"rmd160"===e||"ripemd160"===e?new o:new c(s(e))}},28247:(e,t,r)=>{var n=r(83641);e.exports=function(e){return(new n).update(e).digest()}},88996:(e,t,r)=>{var n=r(23730),i=r(83148),o=r(81001),s=r(49685).Buffer,a=r(28247),c=r(46455),u=r(8909),f=s.alloc(128);function l(e,t){o.call(this,"digest"),"string"==typeof t&&(t=s.from(t));var r="sha512"===e||"sha384"===e?128:64;this._alg=e,this._key=t,t.length>r?t=("rmd160"===e?new c:u(e)).update(t).digest():t.length<r&&(t=s.concat([t,f],r));for(var n=this._ipad=s.allocUnsafe(r),i=this._opad=s.allocUnsafe(r),a=0;a<r;a++)n[a]=54^t[a],i[a]=92^t[a];this._hash="rmd160"===e?new c:u(e),this._hash.update(n)}n(l,o),l.prototype._update=function(e){this._hash.update(e)},l.prototype._final=function(){var e=this._hash.digest();return("rmd160"===this._alg?new c:u(this._alg)).update(this._opad).update(e).digest()},e.exports=function(e,t){return"rmd160"===(e=e.toLowerCase())||"ripemd160"===e?new l("rmd160",t):"md5"===e?new i(a,t):new l(e,t)}},83148:(e,t,r)=>{var n=r(23730),i=r(49685).Buffer,o=r(81001),s=i.alloc(128),a=64;function c(e,t){o.call(this,"digest"),"string"==typeof t&&(t=i.from(t)),this._alg=e,this._key=t,t.length>a?t=e(t):t.length<a&&(t=i.concat([t,s],a));for(var r=this._ipad=i.allocUnsafe(a),n=this._opad=i.allocUnsafe(a),c=0;c<a;c++)r[c]=54^t[c],n[c]=92^t[c];this._hash=[r]}n(c,o),c.prototype._update=function(e){this._hash.push(e)},c.prototype._final=function(){var e=this._alg(i.concat(this._hash));return this._alg(i.concat([this._opad,e]))},e.exports=c},20960:(e,t,r)=>{t.randomBytes=t.rng=t.pseudoRandomBytes=t.prng=r(88737),t.createHash=t.Hash=r(79759),t.createHmac=t.Hmac=r(88996);var n=r(4063),i=Object.keys(n),o=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(i);t.getHashes=function(){return o};var s=r(3972);t.pbkdf2=s.pbkdf2,t.pbkdf2Sync=s.pbkdf2Sync;var a=r(85832);t.Cipher=a.Cipher,t.createCipher=a.createCipher,t.Cipheriv=a.Cipheriv,t.createCipheriv=a.createCipheriv,t.Decipher=a.Decipher,t.createDecipher=a.createDecipher,t.Decipheriv=a.Decipheriv,t.createDecipheriv=a.createDecipheriv,t.getCiphers=a.getCiphers,t.listCiphers=a.listCiphers;var c=r(27658);t.DiffieHellmanGroup=c.DiffieHellmanGroup,t.createDiffieHellmanGroup=c.createDiffieHellmanGroup,t.getDiffieHellman=c.getDiffieHellman,t.createDiffieHellman=c.createDiffieHellman,t.DiffieHellman=c.DiffieHellman;var u=r(60342);t.createSign=u.createSign,t.Sign=u.Sign,t.createVerify=u.createVerify,t.Verify=u.Verify,t.createECDH=r(66056);var f=r(73247);t.publicEncrypt=f.publicEncrypt,t.privateEncrypt=f.privateEncrypt,t.publicDecrypt=f.publicDecrypt,t.privateDecrypt=f.privateDecrypt;var l=r(43752);t.randomFill=l.randomFill,t.randomFillSync=l.randomFillSync,t.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join("\n"))},t.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}},1201:e=>{var t="%[a-f0-9]{2}",r=new RegExp("("+t+")|([^%]+?)","gi"),n=new RegExp("("+t+")+","gi");function i(e,t){try{return[decodeURIComponent(e.join(""))]}catch(e){}if(1===e.length)return e;t=t||1;var r=e.slice(0,t),n=e.slice(t);return Array.prototype.concat.call([],i(r),i(n))}function o(e){try{return decodeURIComponent(e)}catch(o){for(var t=e.match(r)||[],n=1;n<t.length;n++)t=(e=i(t,n).join("")).match(r)||[];return e}}e.exports=function(e){if("string"!=typeof e)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return function(e){for(var t={"%FE%FF":"","%FF%FE":""},r=n.exec(e);r;){try{t[r[0]]=decodeURIComponent(r[0])}catch(e){var i=o(r[0]);i!==r[0]&&(t[r[0]]=i)}r=n.exec(e)}t["%C2"]="";for(var s=Object.keys(t),a=0;a<s.length;a++){var c=s[a];e=e.replace(new RegExp(c,"g"),t[c])}return e}(e)}}},96116:(e,t,r)=>{var n=r(89328),i="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),o=Object.prototype.toString,s=Array.prototype.concat,a=Object.defineProperty,c=r(61e3)(),u=a&&c,f=function(e,t,r,n){var i;(!(t in e)||"function"==typeof(i=n)&&"[object Function]"===o.call(i)&&n())&&(u?a(e,t,{configurable:!0,enumerable:!1,value:r,writable:!0}):e[t]=r)},l=function(e,t){var r=arguments.length>2?arguments[2]:{},o=n(t);i&&(o=s.call(o,Object.getOwnPropertySymbols(t)));for(var a=0;a<o.length;a+=1)f(e,o[a],t[o[a]],r[o[a]])};l.supportsDescriptors=!!u,e.exports=l},93989:(e,t,r)=>{t.utils=r(49878),t.Cipher=r(95782),t.DES=r(49588),t.CBC=r(7884),t.EDE=r(64806)},7884:(e,t,r)=>{var n=r(83141),i=r(23730),o={};function s(e){n.equal(e.length,8,"Invalid IV length"),this.iv=new Array(8);for(var t=0;t<this.iv.length;t++)this.iv[t]=e[t]}t.instantiate=function(e){function t(t){e.call(this,t),this._cbcInit()}i(t,e);for(var r=Object.keys(o),n=0;n<r.length;n++){var s=r[n];t.prototype[s]=o[s]}return t.create=function(e){return new t(e)},t},o._cbcInit=function(){var e=new s(this.options.iv);this._cbcState=e},o._update=function(e,t,r,n){var i=this._cbcState,o=this.constructor.super_.prototype,s=i.iv;if("encrypt"===this.type){for(var a=0;a<this.blockSize;a++)s[a]^=e[t+a];for(o._update.call(this,s,0,r,n),a=0;a<this.blockSize;a++)s[a]=r[n+a]}else{for(o._update.call(this,e,t,r,n),a=0;a<this.blockSize;a++)r[n+a]^=s[a];for(a=0;a<this.blockSize;a++)s[a]=e[t+a]}}},95782:(e,t,r)=>{var n=r(83141);function i(e){this.options=e,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0}e.exports=i,i.prototype._init=function(){},i.prototype.update=function(e){return 0===e.length?[]:"decrypt"===this.type?this._updateDecrypt(e):this._updateEncrypt(e)},i.prototype._buffer=function(e,t){for(var r=Math.min(this.buffer.length-this.bufferOff,e.length-t),n=0;n<r;n++)this.buffer[this.bufferOff+n]=e[t+n];return this.bufferOff+=r,r},i.prototype._flushBuffer=function(e,t){return this._update(this.buffer,0,e,t),this.bufferOff=0,this.blockSize},i.prototype._updateEncrypt=function(e){var t=0,r=0,n=(this.bufferOff+e.length)/this.blockSize|0,i=new Array(n*this.blockSize);0!==this.bufferOff&&(t+=this._buffer(e,t),this.bufferOff===this.buffer.length&&(r+=this._flushBuffer(i,r)));for(var o=e.length-(e.length-t)%this.blockSize;t<o;t+=this.blockSize)this._update(e,t,i,r),r+=this.blockSize;for(;t<e.length;t++,this.bufferOff++)this.buffer[this.bufferOff]=e[t];return i},i.prototype._updateDecrypt=function(e){for(var t=0,r=0,n=Math.ceil((this.bufferOff+e.length)/this.blockSize)-1,i=new Array(n*this.blockSize);n>0;n--)t+=this._buffer(e,t),r+=this._flushBuffer(i,r);return t+=this._buffer(e,t),i},i.prototype.final=function(e){var t,r;return e&&(t=this.update(e)),r="encrypt"===this.type?this._finalEncrypt():this._finalDecrypt(),t?t.concat(r):r},i.prototype._pad=function(e,t){if(0===t)return!1;for(;t<e.length;)e[t++]=0;return!0},i.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var e=new Array(this.blockSize);return this._update(this.buffer,0,e,0),e},i.prototype._unpad=function(e){return e},i.prototype._finalDecrypt=function(){n.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var e=new Array(this.blockSize);return this._flushBuffer(e,0),this._unpad(e)}},49588:(e,t,r)=>{var n=r(83141),i=r(23730),o=r(49878),s=r(95782);function a(){this.tmp=new Array(2),this.keys=null}function c(e){s.call(this,e);var t=new a;this._desState=t,this.deriveKeys(t,e.key)}i(c,s),e.exports=c,c.create=function(e){return new c(e)};var u=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];c.prototype.deriveKeys=function(e,t){e.keys=new Array(32),n.equal(t.length,this.blockSize,"Invalid key length");var r=o.readUInt32BE(t,0),i=o.readUInt32BE(t,4);o.pc1(r,i,e.tmp,0),r=e.tmp[0],i=e.tmp[1];for(var s=0;s<e.keys.length;s+=2){var a=u[s>>>1];r=o.r28shl(r,a),i=o.r28shl(i,a),o.pc2(r,i,e.keys,s)}},c.prototype._update=function(e,t,r,n){var i=this._desState,s=o.readUInt32BE(e,t),a=o.readUInt32BE(e,t+4);o.ip(s,a,i.tmp,0),s=i.tmp[0],a=i.tmp[1],"encrypt"===this.type?this._encrypt(i,s,a,i.tmp,0):this._decrypt(i,s,a,i.tmp,0),s=i.tmp[0],a=i.tmp[1],o.writeUInt32BE(r,s,n),o.writeUInt32BE(r,a,n+4)},c.prototype._pad=function(e,t){for(var r=e.length-t,n=t;n<e.length;n++)e[n]=r;return!0},c.prototype._unpad=function(e){for(var t=e[e.length-1],r=e.length-t;r<e.length;r++)n.equal(e[r],t);return e.slice(0,e.length-t)},c.prototype._encrypt=function(e,t,r,n,i){for(var s=t,a=r,c=0;c<e.keys.length;c+=2){var u=e.keys[c],f=e.keys[c+1];o.expand(a,e.tmp,0),u^=e.tmp[0],f^=e.tmp[1];var l=o.substitute(u,f),h=a;a=(s^o.permute(l))>>>0,s=h}o.rip(a,s,n,i)},c.prototype._decrypt=function(e,t,r,n,i){for(var s=r,a=t,c=e.keys.length-2;c>=0;c-=2){var u=e.keys[c],f=e.keys[c+1];o.expand(s,e.tmp,0),u^=e.tmp[0],f^=e.tmp[1];var l=o.substitute(u,f),h=s;s=(a^o.permute(l))>>>0,a=h}o.rip(s,a,n,i)}},64806:(e,t,r)=>{var n=r(83141),i=r(23730),o=r(95782),s=r(49588);function a(e,t){n.equal(t.length,24,"Invalid key length");var r=t.slice(0,8),i=t.slice(8,16),o=t.slice(16,24);this.ciphers="encrypt"===e?[s.create({type:"encrypt",key:r}),s.create({type:"decrypt",key:i}),s.create({type:"encrypt",key:o})]:[s.create({type:"decrypt",key:o}),s.create({type:"encrypt",key:i}),s.create({type:"decrypt",key:r})]}function c(e){o.call(this,e);var t=new a(this.type,this.options.key);this._edeState=t}i(c,o),e.exports=c,c.create=function(e){return new c(e)},c.prototype._update=function(e,t,r,n){var i=this._edeState;i.ciphers[0]._update(e,t,r,n),i.ciphers[1]._update(r,n,r,n),i.ciphers[2]._update(r,n,r,n)},c.prototype._pad=s.prototype._pad,c.prototype._unpad=s.prototype._unpad},49878:(e,t)=>{t.readUInt32BE=function(e,t){return(e[0+t]<<24|e[1+t]<<16|e[2+t]<<8|e[3+t])>>>0},t.writeUInt32BE=function(e,t,r){e[0+r]=t>>>24,e[1+r]=t>>>16&255,e[2+r]=t>>>8&255,e[3+r]=255&t},t.ip=function(e,t,r,n){for(var i=0,o=0,s=6;s>=0;s-=2){for(var a=0;a<=24;a+=8)i<<=1,i|=t>>>a+s&1;for(a=0;a<=24;a+=8)i<<=1,i|=e>>>a+s&1}for(s=6;s>=0;s-=2){for(a=1;a<=25;a+=8)o<<=1,o|=t>>>a+s&1;for(a=1;a<=25;a+=8)o<<=1,o|=e>>>a+s&1}r[n+0]=i>>>0,r[n+1]=o>>>0},t.rip=function(e,t,r,n){for(var i=0,o=0,s=0;s<4;s++)for(var a=24;a>=0;a-=8)i<<=1,i|=t>>>a+s&1,i<<=1,i|=e>>>a+s&1;for(s=4;s<8;s++)for(a=24;a>=0;a-=8)o<<=1,o|=t>>>a+s&1,o<<=1,o|=e>>>a+s&1;r[n+0]=i>>>0,r[n+1]=o>>>0},t.pc1=function(e,t,r,n){for(var i=0,o=0,s=7;s>=5;s--){for(var a=0;a<=24;a+=8)i<<=1,i|=t>>a+s&1;for(a=0;a<=24;a+=8)i<<=1,i|=e>>a+s&1}for(a=0;a<=24;a+=8)i<<=1,i|=t>>a+s&1;for(s=1;s<=3;s++){for(a=0;a<=24;a+=8)o<<=1,o|=t>>a+s&1;for(a=0;a<=24;a+=8)o<<=1,o|=e>>a+s&1}for(a=0;a<=24;a+=8)o<<=1,o|=e>>a+s&1;r[n+0]=i>>>0,r[n+1]=o>>>0},t.r28shl=function(e,t){return e<<t&268435455|e>>>28-t};var r=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];t.pc2=function(e,t,n,i){for(var o=0,s=0,a=r.length>>>1,c=0;c<a;c++)o<<=1,o|=e>>>r[c]&1;for(c=a;c<r.length;c++)s<<=1,s|=t>>>r[c]&1;n[i+0]=o>>>0,n[i+1]=s>>>0},t.expand=function(e,t,r){var n=0,i=0;n=(1&e)<<5|e>>>27;for(var o=23;o>=15;o-=4)n<<=6,n|=e>>>o&63;for(o=11;o>=3;o-=4)i|=e>>>o&63,i<<=6;i|=(31&e)<<1|e>>>31,t[r+0]=n>>>0,t[r+1]=i>>>0};var n=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];t.substitute=function(e,t){for(var r=0,i=0;i<4;i++)r<<=4,r|=n[64*i+(e>>>18-6*i&63)];for(i=0;i<4;i++)r<<=4,r|=n[256+64*i+(t>>>18-6*i&63)];return r>>>0};var i=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];t.permute=function(e){for(var t=0,r=0;r<i.length;r++)t<<=1,t|=e>>>i[r]&1;return t>>>0},t.padSplit=function(e,t,r){for(var n=e.toString(2);n.length<t;)n="0"+n;for(var i=[],o=0;o<t;o+=r)i.push(n.slice(o,o+r));return i.join(" ")}},27658:(e,t,r)=>{var n=r(97866).Buffer,i=r(81067),o=r(16662),s=r(80268),a={binary:!0,hex:!0,base64:!0};t.DiffieHellmanGroup=t.createDiffieHellmanGroup=t.getDiffieHellman=function(e){var t=new n(o[e].prime,"hex"),r=new n(o[e].gen,"hex");return new s(t,r)},t.createDiffieHellman=t.DiffieHellman=function e(t,r,o,c){return n.isBuffer(r)||void 0===a[r]?e(t,"binary",r,o):(r=r||"binary",c=c||"binary",o=o||new n([2]),n.isBuffer(o)||(o=new n(o,c)),"number"==typeof t?new s(i(t,o),o,!0):(n.isBuffer(t)||(t=new n(t,r)),new s(t,o,!0)))}},80268:(e,t,r)=>{var n=r(97866).Buffer,i=r(65482),o=new(r(93986)),s=new i(24),a=new i(11),c=new i(10),u=new i(3),f=new i(7),l=r(81067),h=r(88737);function d(e,t){return t=t||"utf8",n.isBuffer(e)||(e=new n(e,t)),this._pub=new i(e),this}function p(e,t){return t=t||"utf8",n.isBuffer(e)||(e=new n(e,t)),this._priv=new i(e),this}e.exports=y;var b={};function y(e,t,r){this.setGenerator(t),this.__prime=new i(e),this._prime=i.mont(this.__prime),this._primeLen=e.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,r?(this.setPublicKey=d,this.setPrivateKey=p):this._primeCode=8}function m(e,t){var r=new n(e.toArray());return t?r.toString(t):r}Object.defineProperty(y.prototype,"verifyError",{enumerable:!0,get:function(){return"number"!=typeof this._primeCode&&(this._primeCode=function(e,t){var r=t.toString("hex"),n=[r,e.toString(16)].join("_");if(n in b)return b[n];var i,h=0;if(e.isEven()||!l.simpleSieve||!l.fermatTest(e)||!o.test(e))return h+=1,h+="02"===r||"05"===r?8:4,b[n]=h,h;switch(o.test(e.shrn(1))||(h+=2),r){case"02":e.mod(s).cmp(a)&&(h+=8);break;case"05":(i=e.mod(c)).cmp(u)&&i.cmp(f)&&(h+=8);break;default:h+=4}return b[n]=h,h}(this.__prime,this.__gen)),this._primeCode}}),y.prototype.generateKeys=function(){return this._priv||(this._priv=new i(h(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},y.prototype.computeSecret=function(e){var t=(e=(e=new i(e)).toRed(this._prime)).redPow(this._priv).fromRed(),r=new n(t.toArray()),o=this.getPrime();if(r.length<o.length){var s=new n(o.length-r.length);s.fill(0),r=n.concat([s,r])}return r},y.prototype.getPublicKey=function(e){return m(this._pub,e)},y.prototype.getPrivateKey=function(e){return m(this._priv,e)},y.prototype.getPrime=function(e){return m(this.__prime,e)},y.prototype.getGenerator=function(e){return m(this._gen,e)},y.prototype.setGenerator=function(e,t){return t=t||"utf8",n.isBuffer(e)||(e=new n(e,t)),this.__gen=e,this._gen=new i(e),this}},81067:(e,t,r)=>{var n=r(88737);e.exports=v,v.simpleSieve=y,v.fermatTest=m;var i=r(65482),o=new i(24),s=new(r(93986)),a=new i(1),c=new i(2),u=new i(5),f=(new i(16),new i(8),new i(10)),l=new i(3),h=(new i(7),new i(11)),d=new i(4),p=(new i(12),null);function b(){if(null!==p)return p;var e=[];e[0]=2;for(var t=1,r=3;r<1048576;r+=2){for(var n=Math.ceil(Math.sqrt(r)),i=0;i<t&&e[i]<=n&&r%e[i]!=0;i++);t!==i&&e[i]<=n||(e[t++]=r)}return p=e,e}function y(e){for(var t=b(),r=0;r<t.length;r++)if(0===e.modn(t[r]))return 0===e.cmpn(t[r]);return!0}function m(e){var t=i.mont(e);return 0===c.toRed(t).redPow(e.subn(1)).fromRed().cmpn(1)}function v(e,t){if(e<16)return new i(2===t||5===t?[140,123]:[140,39]);var r,p;for(t=new i(t);;){for(r=new i(n(Math.ceil(e/8)));r.bitLength()>e;)r.ishrn(1);if(r.isEven()&&r.iadd(a),r.testn(1)||r.iadd(c),t.cmp(c)){if(!t.cmp(u))for(;r.mod(f).cmp(l);)r.iadd(d)}else for(;r.mod(o).cmp(h);)r.iadd(d);if(y(p=r.shrn(1))&&y(r)&&m(p)&&m(r)&&s.test(p)&&s.test(r))return r}}},43258:(e,t,r)=>{var n=t;n.version=r(37327).i8,n.utils=r(52945),n.rand=r(38217),n.curve=r(69546),n.curves=r(34361),n.ec=r(33360),n.eddsa=r(37396)},8696:(e,t,r)=>{var n=r(65482),i=r(52945),o=i.getNAF,s=i.getJSF,a=i.assert;function c(e,t){this.type=e,this.p=new n(t.p,16),this.red=t.prime?n.red(t.prime):n.mont(this.p),this.zero=new n(0).toRed(this.red),this.one=new n(1).toRed(this.red),this.two=new n(2).toRed(this.red),this.n=t.n&&new n(t.n,16),this.g=t.g&&this.pointFromJSON(t.g,t.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function u(e,t){this.curve=e,this.type=t,this.precomputed=null}e.exports=c,c.prototype.point=function(){throw new Error("Not implemented")},c.prototype.validate=function(){throw new Error("Not implemented")},c.prototype._fixedNafMul=function(e,t){a(e.precomputed);var r=e._getDoubles(),n=o(t,1,this._bitLength),i=(1<<r.step+1)-(r.step%2==0?2:1);i/=3;var s,c,u=[];for(s=0;s<n.length;s+=r.step){c=0;for(var f=s+r.step-1;f>=s;f--)c=(c<<1)+n[f];u.push(c)}for(var l=this.jpoint(null,null,null),h=this.jpoint(null,null,null),d=i;d>0;d--){for(s=0;s<u.length;s++)(c=u[s])===d?h=h.mixedAdd(r.points[s]):c===-d&&(h=h.mixedAdd(r.points[s].neg()));l=l.add(h)}return l.toP()},c.prototype._wnafMul=function(e,t){var r=4,n=e._getNAFPoints(r);r=n.wnd;for(var i=n.points,s=o(t,r,this._bitLength),c=this.jpoint(null,null,null),u=s.length-1;u>=0;u--){for(var f=0;u>=0&&0===s[u];u--)f++;if(u>=0&&f++,c=c.dblp(f),u<0)break;var l=s[u];a(0!==l),c="affine"===e.type?l>0?c.mixedAdd(i[l-1>>1]):c.mixedAdd(i[-l-1>>1].neg()):l>0?c.add(i[l-1>>1]):c.add(i[-l-1>>1].neg())}return"affine"===e.type?c.toP():c},c.prototype._wnafMulAdd=function(e,t,r,n,i){var a,c,u,f=this._wnafT1,l=this._wnafT2,h=this._wnafT3,d=0;for(a=0;a<n;a++){var p=(u=t[a])._getNAFPoints(e);f[a]=p.wnd,l[a]=p.points}for(a=n-1;a>=1;a-=2){var b=a-1,y=a;if(1===f[b]&&1===f[y]){var m=[t[b],null,null,t[y]];0===t[b].y.cmp(t[y].y)?(m[1]=t[b].add(t[y]),m[2]=t[b].toJ().mixedAdd(t[y].neg())):0===t[b].y.cmp(t[y].y.redNeg())?(m[1]=t[b].toJ().mixedAdd(t[y]),m[2]=t[b].add(t[y].neg())):(m[1]=t[b].toJ().mixedAdd(t[y]),m[2]=t[b].toJ().mixedAdd(t[y].neg()));var v=[-3,-1,-5,-7,0,7,5,1,3],g=s(r[b],r[y]);for(d=Math.max(g[0].length,d),h[b]=new Array(d),h[y]=new Array(d),c=0;c<d;c++){var w=0|g[0][c],_=0|g[1][c];h[b][c]=v[3*(w+1)+(_+1)],h[y][c]=0,l[b]=m}}else h[b]=o(r[b],f[b],this._bitLength),h[y]=o(r[y],f[y],this._bitLength),d=Math.max(h[b].length,d),d=Math.max(h[y].length,d)}var S=this.jpoint(null,null,null),E=this._wnafT4;for(a=d;a>=0;a--){for(var O=0;a>=0;){var T=!0;for(c=0;c<n;c++)E[c]=0|h[c][a],0!==E[c]&&(T=!1);if(!T)break;O++,a--}if(a>=0&&O++,S=S.dblp(O),a<0)break;for(c=0;c<n;c++){var x=E[c];0!==x&&(x>0?u=l[c][x-1>>1]:x<0&&(u=l[c][-x-1>>1].neg()),S="affine"===u.type?S.mixedAdd(u):S.add(u))}}for(a=0;a<n;a++)l[a]=null;return i?S:S.toP()},c.BasePoint=u,u.prototype.eq=function(){throw new Error("Not implemented")},u.prototype.validate=function(){return this.curve.validate(this)},c.prototype.decodePoint=function(e,t){e=i.toArray(e,t);var r=this.p.byteLength();if((4===e[0]||6===e[0]||7===e[0])&&e.length-1==2*r)return 6===e[0]?a(e[e.length-1]%2==0):7===e[0]&&a(e[e.length-1]%2==1),this.point(e.slice(1,1+r),e.slice(1+r,1+2*r));if((2===e[0]||3===e[0])&&e.length-1===r)return this.pointFromX(e.slice(1,1+r),3===e[0]);throw new Error("Unknown point format")},u.prototype.encodeCompressed=function(e){return this.encode(e,!0)},u.prototype._encode=function(e){var t=this.curve.p.byteLength(),r=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",t))},u.prototype.encode=function(e,t){return i.encode(this._encode(t),e)},u.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this},u.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return!!t&&t.points.length>=Math.ceil((e.bitLength()+1)/t.step)},u.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],n=this,i=0;i<t;i+=e){for(var o=0;o<e;o++)n=n.dbl();r.push(n)}return{step:e,points:r}},u.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],r=(1<<e)-1,n=1===r?null:this.dbl(),i=1;i<r;i++)t[i]=t[i-1].add(n);return{wnd:e,points:t}},u.prototype._getBeta=function(){return null},u.prototype.dblp=function(e){for(var t=this,r=0;r<e;r++)t=t.dbl();return t}},23484:(e,t,r)=>{var n=r(52945),i=r(65482),o=r(23730),s=r(8696),a=n.assert;function c(e){this.twisted=1!=(0|e.a),this.mOneA=this.twisted&&-1==(0|e.a),this.extended=this.mOneA,s.call(this,"edwards",e),this.a=new i(e.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new i(e.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new i(e.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),a(!this.twisted||0===this.c.fromRed().cmpn(1)),this.oneC=1==(0|e.c)}function u(e,t,r,n,o){s.BasePoint.call(this,e,"projective"),null===t&&null===r&&null===n?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new i(t,16),this.y=new i(r,16),this.z=n?new i(n,16):this.curve.one,this.t=o&&new i(o,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}o(c,s),e.exports=c,c.prototype._mulA=function(e){return this.mOneA?e.redNeg():this.a.redMul(e)},c.prototype._mulC=function(e){return this.oneC?e:this.c.redMul(e)},c.prototype.jpoint=function(e,t,r,n){return this.point(e,t,r,n)},c.prototype.pointFromX=function(e,t){(e=new i(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr(),n=this.c2.redSub(this.a.redMul(r)),o=this.one.redSub(this.c2.redMul(this.d).redMul(r)),s=n.redMul(o.redInvm()),a=s.redSqrt();if(0!==a.redSqr().redSub(s).cmp(this.zero))throw new Error("invalid point");var c=a.fromRed().isOdd();return(t&&!c||!t&&c)&&(a=a.redNeg()),this.point(e,a)},c.prototype.pointFromY=function(e,t){(e=new i(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr(),n=r.redSub(this.c2),o=r.redMul(this.d).redMul(this.c2).redSub(this.a),s=n.redMul(o.redInvm());if(0===s.cmp(this.zero)){if(t)throw new Error("invalid point");return this.point(this.zero,e)}var a=s.redSqrt();if(0!==a.redSqr().redSub(s).cmp(this.zero))throw new Error("invalid point");return a.fromRed().isOdd()!==t&&(a=a.redNeg()),this.point(a,e)},c.prototype.validate=function(e){if(e.isInfinity())return!0;e.normalize();var t=e.x.redSqr(),r=e.y.redSqr(),n=t.redMul(this.a).redAdd(r),i=this.c2.redMul(this.one.redAdd(this.d.redMul(t).redMul(r)));return 0===n.cmp(i)},o(u,s.BasePoint),c.prototype.pointFromJSON=function(e){return u.fromJSON(this,e)},c.prototype.point=function(e,t,r,n){return new u(this,e,t,r,n)},u.fromJSON=function(e,t){return new u(e,t[0],t[1],t[2])},u.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},u.prototype.isInfinity=function(){return 0===this.x.cmpn(0)&&(0===this.y.cmp(this.z)||this.zOne&&0===this.y.cmp(this.curve.c))},u.prototype._extDbl=function(){var e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr();r=r.redIAdd(r);var n=this.curve._mulA(e),i=this.x.redAdd(this.y).redSqr().redISub(e).redISub(t),o=n.redAdd(t),s=o.redSub(r),a=n.redSub(t),c=i.redMul(s),u=o.redMul(a),f=i.redMul(a),l=s.redMul(o);return this.curve.point(c,u,l,f)},u.prototype._projDbl=function(){var e,t,r,n,i,o,s=this.x.redAdd(this.y).redSqr(),a=this.x.redSqr(),c=this.y.redSqr();if(this.curve.twisted){var u=(n=this.curve._mulA(a)).redAdd(c);this.zOne?(e=s.redSub(a).redSub(c).redMul(u.redSub(this.curve.two)),t=u.redMul(n.redSub(c)),r=u.redSqr().redSub(u).redSub(u)):(i=this.z.redSqr(),o=u.redSub(i).redISub(i),e=s.redSub(a).redISub(c).redMul(o),t=u.redMul(n.redSub(c)),r=u.redMul(o))}else n=a.redAdd(c),i=this.curve._mulC(this.z).redSqr(),o=n.redSub(i).redSub(i),e=this.curve._mulC(s.redISub(n)).redMul(o),t=this.curve._mulC(n).redMul(a.redISub(c)),r=n.redMul(o);return this.curve.point(e,t,r)},u.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},u.prototype._extAdd=function(e){var t=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),r=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),n=this.t.redMul(this.curve.dd).redMul(e.t),i=this.z.redMul(e.z.redAdd(e.z)),o=r.redSub(t),s=i.redSub(n),a=i.redAdd(n),c=r.redAdd(t),u=o.redMul(s),f=a.redMul(c),l=o.redMul(c),h=s.redMul(a);return this.curve.point(u,f,h,l)},u.prototype._projAdd=function(e){var t,r,n=this.z.redMul(e.z),i=n.redSqr(),o=this.x.redMul(e.x),s=this.y.redMul(e.y),a=this.curve.d.redMul(o).redMul(s),c=i.redSub(a),u=i.redAdd(a),f=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(o).redISub(s),l=n.redMul(c).redMul(f);return this.curve.twisted?(t=n.redMul(u).redMul(s.redSub(this.curve._mulA(o))),r=c.redMul(u)):(t=n.redMul(u).redMul(s.redSub(o)),r=this.curve._mulC(c).redMul(u)),this.curve.point(l,t,r)},u.prototype.add=function(e){return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)},u.prototype.mul=function(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)},u.prototype.mulAdd=function(e,t,r){return this.curve._wnafMulAdd(1,[this,t],[e,r],2,!1)},u.prototype.jmulAdd=function(e,t,r){return this.curve._wnafMulAdd(1,[this,t],[e,r],2,!0)},u.prototype.normalize=function(){if(this.zOne)return this;var e=this.z.redInvm();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this},u.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},u.prototype.getX=function(){return this.normalize(),this.x.fromRed()},u.prototype.getY=function(){return this.normalize(),this.y.fromRed()},u.prototype.eq=function(e){return this===e||0===this.getX().cmp(e.getX())&&0===this.getY().cmp(e.getY())},u.prototype.eqXToP=function(e){var t=e.toRed(this.curve.red).redMul(this.z);if(0===this.x.cmp(t))return!0;for(var r=e.clone(),n=this.curve.redN.redMul(this.z);;){if(r.iadd(this.curve.n),r.cmp(this.curve.p)>=0)return!1;if(t.redIAdd(n),0===this.x.cmp(t))return!0}},u.prototype.toP=u.prototype.normalize,u.prototype.mixedAdd=u.prototype.add},69546:(e,t,r)=>{var n=t;n.base=r(8696),n.short=r(71788),n.mont=r(50133),n.edwards=r(23484)},50133:(e,t,r)=>{var n=r(65482),i=r(23730),o=r(8696),s=r(52945);function a(e){o.call(this,"mont",e),this.a=new n(e.a,16).toRed(this.red),this.b=new n(e.b,16).toRed(this.red),this.i4=new n(4).toRed(this.red).redInvm(),this.two=new n(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function c(e,t,r){o.BasePoint.call(this,e,"projective"),null===t&&null===r?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new n(t,16),this.z=new n(r,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}i(a,o),e.exports=a,a.prototype.validate=function(e){var t=e.normalize().x,r=t.redSqr(),n=r.redMul(t).redAdd(r.redMul(this.a)).redAdd(t);return 0===n.redSqrt().redSqr().cmp(n)},i(c,o.BasePoint),a.prototype.decodePoint=function(e,t){return this.point(s.toArray(e,t),1)},a.prototype.point=function(e,t){return new c(this,e,t)},a.prototype.pointFromJSON=function(e){return c.fromJSON(this,e)},c.prototype.precompute=function(){},c.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},c.fromJSON=function(e,t){return new c(e,t[0],t[1]||e.one)},c.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},c.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},c.prototype.dbl=function(){var e=this.x.redAdd(this.z).redSqr(),t=this.x.redSub(this.z).redSqr(),r=e.redSub(t),n=e.redMul(t),i=r.redMul(t.redAdd(this.curve.a24.redMul(r)));return this.curve.point(n,i)},c.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},c.prototype.diffAdd=function(e,t){var r=this.x.redAdd(this.z),n=this.x.redSub(this.z),i=e.x.redAdd(e.z),o=e.x.redSub(e.z).redMul(r),s=i.redMul(n),a=t.z.redMul(o.redAdd(s).redSqr()),c=t.x.redMul(o.redISub(s).redSqr());return this.curve.point(a,c)},c.prototype.mul=function(e){for(var t=e.clone(),r=this,n=this.curve.point(null,null),i=[];0!==t.cmpn(0);t.iushrn(1))i.push(t.andln(1));for(var o=i.length-1;o>=0;o--)0===i[o]?(r=r.diffAdd(n,this),n=n.dbl()):(n=r.diffAdd(n,this),r=r.dbl());return n},c.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},c.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},c.prototype.eq=function(e){return 0===this.getX().cmp(e.getX())},c.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},c.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},71788:(e,t,r)=>{var n=r(52945),i=r(65482),o=r(23730),s=r(8696),a=n.assert;function c(e){s.call(this,"short",e),this.a=new i(e.a,16).toRed(this.red),this.b=new i(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(e),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function u(e,t,r,n){s.BasePoint.call(this,e,"affine"),null===t&&null===r?(this.x=null,this.y=null,this.inf=!0):(this.x=new i(t,16),this.y=new i(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function f(e,t,r,n){s.BasePoint.call(this,e,"jacobian"),null===t&&null===r&&null===n?(this.x=this.curve.one,this.y=this.curve.one,this.z=new i(0)):(this.x=new i(t,16),this.y=new i(r,16),this.z=new i(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}o(c,s),e.exports=c,c.prototype._getEndomorphism=function(e){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var t,r;if(e.beta)t=new i(e.beta,16).toRed(this.red);else{var n=this._getEndoRoots(this.p);t=(t=n[0].cmp(n[1])<0?n[0]:n[1]).toRed(this.red)}if(e.lambda)r=new i(e.lambda,16);else{var o=this._getEndoRoots(this.n);0===this.g.mul(o[0]).x.cmp(this.g.x.redMul(t))?r=o[0]:(r=o[1],a(0===this.g.mul(r).x.cmp(this.g.x.redMul(t))))}return{beta:t,lambda:r,basis:e.basis?e.basis.map((function(e){return{a:new i(e.a,16),b:new i(e.b,16)}})):this._getEndoBasis(r)}}},c.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:i.mont(e),r=new i(2).toRed(t).redInvm(),n=r.redNeg(),o=new i(3).toRed(t).redNeg().redSqrt().redMul(r);return[n.redAdd(o).fromRed(),n.redSub(o).fromRed()]},c.prototype._getEndoBasis=function(e){for(var t,r,n,o,s,a,c,u,f,l=this.n.ushrn(Math.floor(this.n.bitLength()/2)),h=e,d=this.n.clone(),p=new i(1),b=new i(0),y=new i(0),m=new i(1),v=0;0!==h.cmpn(0);){var g=d.div(h);u=d.sub(g.mul(h)),f=y.sub(g.mul(p));var w=m.sub(g.mul(b));if(!n&&u.cmp(l)<0)t=c.neg(),r=p,n=u.neg(),o=f;else if(n&&2==++v)break;c=u,d=h,h=u,y=p,p=f,m=b,b=w}s=u.neg(),a=f;var _=n.sqr().add(o.sqr());return s.sqr().add(a.sqr()).cmp(_)>=0&&(s=t,a=r),n.negative&&(n=n.neg(),o=o.neg()),s.negative&&(s=s.neg(),a=a.neg()),[{a:n,b:o},{a:s,b:a}]},c.prototype._endoSplit=function(e){var t=this.endo.basis,r=t[0],n=t[1],i=n.b.mul(e).divRound(this.n),o=r.b.neg().mul(e).divRound(this.n),s=i.mul(r.a),a=o.mul(n.a),c=i.mul(r.b),u=o.mul(n.b);return{k1:e.sub(s).sub(a),k2:c.add(u).neg()}},c.prototype.pointFromX=function(e,t){(e=new i(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),n=r.redSqrt();if(0!==n.redSqr().redSub(r).cmp(this.zero))throw new Error("invalid point");var o=n.fromRed().isOdd();return(t&&!o||!t&&o)&&(n=n.redNeg()),this.point(e,n)},c.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,r=e.y,n=this.a.redMul(t),i=t.redSqr().redMul(t).redIAdd(n).redIAdd(this.b);return 0===r.redSqr().redISub(i).cmpn(0)},c.prototype._endoWnafMulAdd=function(e,t,r){for(var n=this._endoWnafT1,i=this._endoWnafT2,o=0;o<e.length;o++){var s=this._endoSplit(t[o]),a=e[o],c=a._getBeta();s.k1.negative&&(s.k1.ineg(),a=a.neg(!0)),s.k2.negative&&(s.k2.ineg(),c=c.neg(!0)),n[2*o]=a,n[2*o+1]=c,i[2*o]=s.k1,i[2*o+1]=s.k2}for(var u=this._wnafMulAdd(1,n,i,2*o,r),f=0;f<2*o;f++)n[f]=null,i[f]=null;return u},o(u,s.BasePoint),c.prototype.point=function(e,t,r){return new u(this,e,t,r)},c.prototype.pointFromJSON=function(e,t){return u.fromJSON(this,e,t)},u.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var r=this.curve,n=function(e){return r.point(e.x.redMul(r.endo.beta),e.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(n)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(n)}}}return t}},u.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},u.fromJSON=function(e,t,r){"string"==typeof t&&(t=JSON.parse(t));var n=e.point(t[0],t[1],r);if(!t[2])return n;function i(t){return e.point(t[0],t[1],r)}var o=t[2];return n.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[n].concat(o.doubles.points.map(i))},naf:o.naf&&{wnd:o.naf.wnd,points:[n].concat(o.naf.points.map(i))}},n},u.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},u.prototype.isInfinity=function(){return this.inf},u.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(0===this.x.cmp(e.x))return this.curve.point(null,null);var t=this.y.redSub(e.y);0!==t.cmpn(0)&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var r=t.redSqr().redISub(this.x).redISub(e.x),n=t.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,n)},u.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(0===e.cmpn(0))return this.curve.point(null,null);var t=this.curve.a,r=this.x.redSqr(),n=e.redInvm(),i=r.redAdd(r).redIAdd(r).redIAdd(t).redMul(n),o=i.redSqr().redISub(this.x.redAdd(this.x)),s=i.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,s)},u.prototype.getX=function(){return this.x.fromRed()},u.prototype.getY=function(){return this.y.fromRed()},u.prototype.mul=function(e){return e=new i(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)},u.prototype.mulAdd=function(e,t,r){var n=[this,t],i=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i):this.curve._wnafMulAdd(1,n,i,2)},u.prototype.jmulAdd=function(e,t,r){var n=[this,t],i=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i,!0):this.curve._wnafMulAdd(1,n,i,2,!0)},u.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||0===this.x.cmp(e.x)&&0===this.y.cmp(e.y))},u.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var r=this.precomputed,n=function(e){return e.neg()};t.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(n)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(n)}}}return t},u.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},o(f,s.BasePoint),c.prototype.jpoint=function(e,t,r){return new f(this,e,t,r)},f.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),r=this.x.redMul(t),n=this.y.redMul(t).redMul(e);return this.curve.point(r,n)},f.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},f.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),r=this.z.redSqr(),n=this.x.redMul(t),i=e.x.redMul(r),o=this.y.redMul(t.redMul(e.z)),s=e.y.redMul(r.redMul(this.z)),a=n.redSub(i),c=o.redSub(s);if(0===a.cmpn(0))return 0!==c.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var u=a.redSqr(),f=u.redMul(a),l=n.redMul(u),h=c.redSqr().redIAdd(f).redISub(l).redISub(l),d=c.redMul(l.redISub(h)).redISub(o.redMul(f)),p=this.z.redMul(e.z).redMul(a);return this.curve.jpoint(h,d,p)},f.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),r=this.x,n=e.x.redMul(t),i=this.y,o=e.y.redMul(t).redMul(this.z),s=r.redSub(n),a=i.redSub(o);if(0===s.cmpn(0))return 0!==a.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var c=s.redSqr(),u=c.redMul(s),f=r.redMul(c),l=a.redSqr().redIAdd(u).redISub(f).redISub(f),h=a.redMul(f.redISub(l)).redISub(i.redMul(u)),d=this.z.redMul(s);return this.curve.jpoint(l,h,d)},f.prototype.dblp=function(e){if(0===e)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var t;if(this.curve.zeroA||this.curve.threeA){var r=this;for(t=0;t<e;t++)r=r.dbl();return r}var n=this.curve.a,i=this.curve.tinv,o=this.x,s=this.y,a=this.z,c=a.redSqr().redSqr(),u=s.redAdd(s);for(t=0;t<e;t++){var f=o.redSqr(),l=u.redSqr(),h=l.redSqr(),d=f.redAdd(f).redIAdd(f).redIAdd(n.redMul(c)),p=o.redMul(l),b=d.redSqr().redISub(p.redAdd(p)),y=p.redISub(b),m=d.redMul(y);m=m.redIAdd(m).redISub(h);var v=u.redMul(a);t+1<e&&(c=c.redMul(h)),o=b,a=v,u=m}return this.curve.jpoint(o,u.redMul(i),a)},f.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},f.prototype._zeroDbl=function(){var e,t,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),s=this.x.redAdd(i).redSqr().redISub(n).redISub(o);s=s.redIAdd(s);var a=n.redAdd(n).redIAdd(n),c=a.redSqr().redISub(s).redISub(s),u=o.redIAdd(o);u=(u=u.redIAdd(u)).redIAdd(u),e=c,t=a.redMul(s.redISub(c)).redISub(u),r=this.y.redAdd(this.y)}else{var f=this.x.redSqr(),l=this.y.redSqr(),h=l.redSqr(),d=this.x.redAdd(l).redSqr().redISub(f).redISub(h);d=d.redIAdd(d);var p=f.redAdd(f).redIAdd(f),b=p.redSqr(),y=h.redIAdd(h);y=(y=y.redIAdd(y)).redIAdd(y),e=b.redISub(d).redISub(d),t=p.redMul(d.redISub(e)).redISub(y),r=(r=this.y.redMul(this.z)).redIAdd(r)}return this.curve.jpoint(e,t,r)},f.prototype._threeDbl=function(){var e,t,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),s=this.x.redAdd(i).redSqr().redISub(n).redISub(o);s=s.redIAdd(s);var a=n.redAdd(n).redIAdd(n).redIAdd(this.curve.a),c=a.redSqr().redISub(s).redISub(s);e=c;var u=o.redIAdd(o);u=(u=u.redIAdd(u)).redIAdd(u),t=a.redMul(s.redISub(c)).redISub(u),r=this.y.redAdd(this.y)}else{var f=this.z.redSqr(),l=this.y.redSqr(),h=this.x.redMul(l),d=this.x.redSub(f).redMul(this.x.redAdd(f));d=d.redAdd(d).redIAdd(d);var p=h.redIAdd(h),b=(p=p.redIAdd(p)).redAdd(p);e=d.redSqr().redISub(b),r=this.y.redAdd(this.z).redSqr().redISub(l).redISub(f);var y=l.redSqr();y=(y=(y=y.redIAdd(y)).redIAdd(y)).redIAdd(y),t=d.redMul(p.redISub(e)).redISub(y)}return this.curve.jpoint(e,t,r)},f.prototype._dbl=function(){var e=this.curve.a,t=this.x,r=this.y,n=this.z,i=n.redSqr().redSqr(),o=t.redSqr(),s=r.redSqr(),a=o.redAdd(o).redIAdd(o).redIAdd(e.redMul(i)),c=t.redAdd(t),u=(c=c.redIAdd(c)).redMul(s),f=a.redSqr().redISub(u.redAdd(u)),l=u.redISub(f),h=s.redSqr();h=(h=(h=h.redIAdd(h)).redIAdd(h)).redIAdd(h);var d=a.redMul(l).redISub(h),p=r.redAdd(r).redMul(n);return this.curve.jpoint(f,d,p)},f.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr(),n=t.redSqr(),i=e.redAdd(e).redIAdd(e),o=i.redSqr(),s=this.x.redAdd(t).redSqr().redISub(e).redISub(n),a=(s=(s=(s=s.redIAdd(s)).redAdd(s).redIAdd(s)).redISub(o)).redSqr(),c=n.redIAdd(n);c=(c=(c=c.redIAdd(c)).redIAdd(c)).redIAdd(c);var u=i.redIAdd(s).redSqr().redISub(o).redISub(a).redISub(c),f=t.redMul(u);f=(f=f.redIAdd(f)).redIAdd(f);var l=this.x.redMul(a).redISub(f);l=(l=l.redIAdd(l)).redIAdd(l);var h=this.y.redMul(u.redMul(c.redISub(u)).redISub(s.redMul(a)));h=(h=(h=h.redIAdd(h)).redIAdd(h)).redIAdd(h);var d=this.z.redAdd(s).redSqr().redISub(r).redISub(a);return this.curve.jpoint(l,h,d)},f.prototype.mul=function(e,t){return e=new i(e,t),this.curve._wnafMul(this,e)},f.prototype.eq=function(e){if("affine"===e.type)return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),r=e.z.redSqr();if(0!==this.x.redMul(r).redISub(e.x.redMul(t)).cmpn(0))return!1;var n=t.redMul(this.z),i=r.redMul(e.z);return 0===this.y.redMul(i).redISub(e.y.redMul(n)).cmpn(0)},f.prototype.eqXToP=function(e){var t=this.z.redSqr(),r=e.toRed(this.curve.red).redMul(t);if(0===this.x.cmp(r))return!0;for(var n=e.clone(),i=this.curve.redN.redMul(t);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(i),0===this.x.cmp(r))return!0}},f.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},f.prototype.isInfinity=function(){return 0===this.z.cmpn(0)}},34361:(e,t,r)=>{var n,i=t,o=r(38969),s=r(69546),a=r(52945).assert;function c(e){"short"===e.type?this.curve=new s.short(e):"edwards"===e.type?this.curve=new s.edwards(e):this.curve=new s.mont(e),this.g=this.curve.g,this.n=this.curve.n,this.hash=e.hash,a(this.g.validate(),"Invalid curve"),a(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function u(e,t){Object.defineProperty(i,e,{configurable:!0,enumerable:!0,get:function(){var r=new c(t);return Object.defineProperty(i,e,{configurable:!0,enumerable:!0,value:r}),r}})}i.PresetCurve=c,u("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:o.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),u("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:o.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),u("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:o.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),u("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:o.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),u("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:o.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),u("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:o.sha256,gRed:!1,g:["9"]}),u("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:o.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{n=r(40379)}catch(e){n=void 0}u("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:o.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",n]})},33360:(e,t,r)=>{var n=r(65482),i=r(9032),o=r(52945),s=r(34361),a=r(38217),c=o.assert,u=r(13067),f=r(27327);function l(e){if(!(this instanceof l))return new l(e);"string"==typeof e&&(c(Object.prototype.hasOwnProperty.call(s,e),"Unknown curve "+e),e=s[e]),e instanceof s.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),this.hash=e.hash||e.curve.hash}e.exports=l,l.prototype.keyPair=function(e){return new u(this,e)},l.prototype.keyFromPrivate=function(e,t){return u.fromPrivate(this,e,t)},l.prototype.keyFromPublic=function(e,t){return u.fromPublic(this,e,t)},l.prototype.genKeyPair=function(e){e||(e={});for(var t=new i({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||a(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),r=this.n.byteLength(),o=this.n.sub(new n(2));;){var s=new n(t.generate(r));if(!(s.cmp(o)>0))return s.iaddn(1),this.keyFromPrivate(s)}},l.prototype._truncateToN=function(e,t){var r=8*e.byteLength()-this.n.bitLength();return r>0&&(e=e.ushrn(r)),!t&&e.cmp(this.n)>=0?e.sub(this.n):e},l.prototype.sign=function(e,t,r,o){"object"==typeof r&&(o=r,r=null),o||(o={}),t=this.keyFromPrivate(t,r),e=this._truncateToN(new n(e,16));for(var s=this.n.byteLength(),a=t.getPrivate().toArray("be",s),c=e.toArray("be",s),u=new i({hash:this.hash,entropy:a,nonce:c,pers:o.pers,persEnc:o.persEnc||"utf8"}),l=this.n.sub(new n(1)),h=0;;h++){var d=o.k?o.k(h):new n(u.generate(this.n.byteLength()));if(!((d=this._truncateToN(d,!0)).cmpn(1)<=0||d.cmp(l)>=0)){var p=this.g.mul(d);if(!p.isInfinity()){var b=p.getX(),y=b.umod(this.n);if(0!==y.cmpn(0)){var m=d.invm(this.n).mul(y.mul(t.getPrivate()).iadd(e));if(0!==(m=m.umod(this.n)).cmpn(0)){var v=(p.getY().isOdd()?1:0)|(0!==b.cmp(y)?2:0);return o.canonical&&m.cmp(this.nh)>0&&(m=this.n.sub(m),v^=1),new f({r:y,s:m,recoveryParam:v})}}}}}},l.prototype.verify=function(e,t,r,i){e=this._truncateToN(new n(e,16)),r=this.keyFromPublic(r,i);var o=(t=new f(t,"hex")).r,s=t.s;if(o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;if(s.cmpn(1)<0||s.cmp(this.n)>=0)return!1;var a,c=s.invm(this.n),u=c.mul(e).umod(this.n),l=c.mul(o).umod(this.n);return this.curve._maxwellTrick?!(a=this.g.jmulAdd(u,r.getPublic(),l)).isInfinity()&&a.eqXToP(o):!(a=this.g.mulAdd(u,r.getPublic(),l)).isInfinity()&&0===a.getX().umod(this.n).cmp(o)},l.prototype.recoverPubKey=function(e,t,r,i){c((3&r)===r,"The recovery param is more than two bits"),t=new f(t,i);var o=this.n,s=new n(e),a=t.r,u=t.s,l=1&r,h=r>>1;if(a.cmp(this.curve.p.umod(this.curve.n))>=0&&h)throw new Error("Unable to find sencond key candinate");a=h?this.curve.pointFromX(a.add(this.curve.n),l):this.curve.pointFromX(a,l);var d=t.r.invm(o),p=o.sub(s).mul(d).umod(o),b=u.mul(d).umod(o);return this.g.mulAdd(p,a,b)},l.prototype.getKeyRecoveryParam=function(e,t,r,n){if(null!==(t=new f(t,n)).recoveryParam)return t.recoveryParam;for(var i=0;i<4;i++){var o;try{o=this.recoverPubKey(e,t,i)}catch(e){continue}if(o.eq(r))return i}throw new Error("Unable to find valid recovery factor")}},13067:(e,t,r)=>{var n=r(65482),i=r(52945).assert;function o(e,t){this.ec=e,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}e.exports=o,o.fromPublic=function(e,t,r){return t instanceof o?t:new o(e,{pub:t,pubEnc:r})},o.fromPrivate=function(e,t,r){return t instanceof o?t:new o(e,{priv:t,privEnc:r})},o.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},o.prototype.getPublic=function(e,t){return"string"==typeof e&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t?this.pub.encode(t,e):this.pub},o.prototype.getPrivate=function(e){return"hex"===e?this.priv.toString(16,2):this.priv},o.prototype._importPrivate=function(e,t){this.priv=new n(e,t||16),this.priv=this.priv.umod(this.ec.curve.n)},o.prototype._importPublic=function(e,t){if(e.x||e.y)return"mont"===this.ec.curve.type?i(e.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||i(e.x&&e.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(e.x,e.y));this.pub=this.ec.curve.decodePoint(e,t)},o.prototype.derive=function(e){return e.validate()||i(e.validate(),"public point not validated"),e.mul(this.priv).getX()},o.prototype.sign=function(e,t,r){return this.ec.sign(e,this,t,r)},o.prototype.verify=function(e,t){return this.ec.verify(e,t,this)},o.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},27327:(e,t,r)=>{var n=r(65482),i=r(52945),o=i.assert;function s(e,t){if(e instanceof s)return e;this._importDER(e,t)||(o(e.r&&e.s,"Signature without r or s"),this.r=new n(e.r,16),this.s=new n(e.s,16),void 0===e.recoveryParam?this.recoveryParam=null:this.recoveryParam=e.recoveryParam)}function a(){this.place=0}function c(e,t){var r=e[t.place++];if(!(128&r))return r;var n=15&r;if(0===n||n>4)return!1;for(var i=0,o=0,s=t.place;o<n;o++,s++)i<<=8,i|=e[s],i>>>=0;return!(i<=127)&&(t.place=s,i)}function u(e){for(var t=0,r=e.length-1;!e[t]&&!(128&e[t+1])&&t<r;)t++;return 0===t?e:e.slice(t)}function f(e,t){if(t<128)e.push(t);else{var r=1+(Math.log(t)/Math.LN2>>>3);for(e.push(128|r);--r;)e.push(t>>>(r<<3)&255);e.push(t)}}e.exports=s,s.prototype._importDER=function(e,t){e=i.toArray(e,t);var r=new a;if(48!==e[r.place++])return!1;var o=c(e,r);if(!1===o)return!1;if(o+r.place!==e.length)return!1;if(2!==e[r.place++])return!1;var s=c(e,r);if(!1===s)return!1;var u=e.slice(r.place,s+r.place);if(r.place+=s,2!==e[r.place++])return!1;var f=c(e,r);if(!1===f)return!1;if(e.length!==f+r.place)return!1;var l=e.slice(r.place,f+r.place);if(0===u[0]){if(!(128&u[1]))return!1;u=u.slice(1)}if(0===l[0]){if(!(128&l[1]))return!1;l=l.slice(1)}return this.r=new n(u),this.s=new n(l),this.recoveryParam=null,!0},s.prototype.toDER=function(e){var t=this.r.toArray(),r=this.s.toArray();for(128&t[0]&&(t=[0].concat(t)),128&r[0]&&(r=[0].concat(r)),t=u(t),r=u(r);!(r[0]||128&r[1]);)r=r.slice(1);var n=[2];f(n,t.length),(n=n.concat(t)).push(2),f(n,r.length);var o=n.concat(r),s=[48];return f(s,o.length),s=s.concat(o),i.encode(s,e)}},37396:(e,t,r)=>{var n=r(38969),i=r(34361),o=r(52945),s=o.assert,a=o.parseBytes,c=r(12085),u=r(12931);function f(e){if(s("ed25519"===e,"only tested with ed25519 so far"),!(this instanceof f))return new f(e);e=i[e].curve,this.curve=e,this.g=e.g,this.g.precompute(e.n.bitLength()+1),this.pointClass=e.point().constructor,this.encodingLength=Math.ceil(e.n.bitLength()/8),this.hash=n.sha512}e.exports=f,f.prototype.sign=function(e,t){e=a(e);var r=this.keyFromSecret(t),n=this.hashInt(r.messagePrefix(),e),i=this.g.mul(n),o=this.encodePoint(i),s=this.hashInt(o,r.pubBytes(),e).mul(r.priv()),c=n.add(s).umod(this.curve.n);return this.makeSignature({R:i,S:c,Rencoded:o})},f.prototype.verify=function(e,t,r){e=a(e),t=this.makeSignature(t);var n=this.keyFromPublic(r),i=this.hashInt(t.Rencoded(),n.pubBytes(),e),o=this.g.mul(t.S());return t.R().add(n.pub().mul(i)).eq(o)},f.prototype.hashInt=function(){for(var e=this.hash(),t=0;t<arguments.length;t++)e.update(arguments[t]);return o.intFromLE(e.digest()).umod(this.curve.n)},f.prototype.keyFromPublic=function(e){return c.fromPublic(this,e)},f.prototype.keyFromSecret=function(e){return c.fromSecret(this,e)},f.prototype.makeSignature=function(e){return e instanceof u?e:new u(this,e)},f.prototype.encodePoint=function(e){var t=e.getY().toArray("le",this.encodingLength);return t[this.encodingLength-1]|=e.getX().isOdd()?128:0,t},f.prototype.decodePoint=function(e){var t=(e=o.parseBytes(e)).length-1,r=e.slice(0,t).concat(-129&e[t]),n=0!=(128&e[t]),i=o.intFromLE(r);return this.curve.pointFromY(i,n)},f.prototype.encodeInt=function(e){return e.toArray("le",this.encodingLength)},f.prototype.decodeInt=function(e){return o.intFromLE(e)},f.prototype.isPoint=function(e){return e instanceof this.pointClass}},12085:(e,t,r)=>{var n=r(52945),i=n.assert,o=n.parseBytes,s=n.cachedProperty;function a(e,t){this.eddsa=e,this._secret=o(t.secret),e.isPoint(t.pub)?this._pub=t.pub:this._pubBytes=o(t.pub)}a.fromPublic=function(e,t){return t instanceof a?t:new a(e,{pub:t})},a.fromSecret=function(e,t){return t instanceof a?t:new a(e,{secret:t})},a.prototype.secret=function(){return this._secret},s(a,"pubBytes",(function(){return this.eddsa.encodePoint(this.pub())})),s(a,"pub",(function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())})),s(a,"privBytes",(function(){var e=this.eddsa,t=this.hash(),r=e.encodingLength-1,n=t.slice(0,e.encodingLength);return n[0]&=248,n[r]&=127,n[r]|=64,n})),s(a,"priv",(function(){return this.eddsa.decodeInt(this.privBytes())})),s(a,"hash",(function(){return this.eddsa.hash().update(this.secret()).digest()})),s(a,"messagePrefix",(function(){return this.hash().slice(this.eddsa.encodingLength)})),a.prototype.sign=function(e){return i(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)},a.prototype.verify=function(e,t){return this.eddsa.verify(e,t,this)},a.prototype.getSecret=function(e){return i(this._secret,"KeyPair is public only"),n.encode(this.secret(),e)},a.prototype.getPublic=function(e){return n.encode(this.pubBytes(),e)},e.exports=a},12931:(e,t,r)=>{var n=r(65482),i=r(52945),o=i.assert,s=i.cachedProperty,a=i.parseBytes;function c(e,t){this.eddsa=e,"object"!=typeof t&&(t=a(t)),Array.isArray(t)&&(t={R:t.slice(0,e.encodingLength),S:t.slice(e.encodingLength)}),o(t.R&&t.S,"Signature without R or S"),e.isPoint(t.R)&&(this._R=t.R),t.S instanceof n&&(this._S=t.S),this._Rencoded=Array.isArray(t.R)?t.R:t.Rencoded,this._Sencoded=Array.isArray(t.S)?t.S:t.Sencoded}s(c,"S",(function(){return this.eddsa.decodeInt(this.Sencoded())})),s(c,"R",(function(){return this.eddsa.decodePoint(this.Rencoded())})),s(c,"Rencoded",(function(){return this.eddsa.encodePoint(this.R())})),s(c,"Sencoded",(function(){return this.eddsa.encodeInt(this.S())})),c.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},c.prototype.toHex=function(){return i.encode(this.toBytes(),"hex").toUpperCase()},e.exports=c},40379:e=>{e.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},52945:(e,t,r)=>{var n=t,i=r(65482),o=r(83141),s=r(69785);n.assert=o,n.toArray=s.toArray,n.zero2=s.zero2,n.toHex=s.toHex,n.encode=s.encode,n.getNAF=function(e,t,r){var n=new Array(Math.max(e.bitLength(),r)+1);n.fill(0);for(var i=1<<t+1,o=e.clone(),s=0;s<n.length;s++){var a,c=o.andln(i-1);o.isOdd()?(a=c>(i>>1)-1?(i>>1)-c:c,o.isubn(a)):a=0,n[s]=a,o.iushrn(1)}return n},n.getJSF=function(e,t){var r=[[],[]];e=e.clone(),t=t.clone();for(var n,i=0,o=0;e.cmpn(-i)>0||t.cmpn(-o)>0;){var s,a,c=e.andln(3)+i&3,u=t.andln(3)+o&3;3===c&&(c=-1),3===u&&(u=-1),s=0==(1&c)?0:3!=(n=e.andln(7)+i&7)&&5!==n||2!==u?c:-c,r[0].push(s),a=0==(1&u)?0:3!=(n=t.andln(7)+o&7)&&5!==n||2!==c?u:-u,r[1].push(a),2*i===s+1&&(i=1-i),2*o===a+1&&(o=1-o),e.iushrn(1),t.iushrn(1)}return r},n.cachedProperty=function(e,t,r){var n="_"+t;e.prototype[t]=function(){return void 0!==this[n]?this[n]:this[n]=r.call(this)}},n.parseBytes=function(e){return"string"==typeof e?n.toArray(e,"hex"):e},n.intFromLE=function(e){return new i(e,"hex","le")}},64401:e=>{function t(e,t){if(null==e)throw new TypeError("Cannot convert first argument to object");for(var r=Object(e),n=1;n<arguments.length;n++){var i=arguments[n];if(null!=i)for(var o=Object.keys(Object(i)),s=0,a=o.length;s<a;s++){var c=o[s],u=Object.getOwnPropertyDescriptor(i,c);void 0!==u&&u.enumerable&&(r[c]=i[c])}}return r}e.exports={assign:t,polyfill:function(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:t})}}},33346:(e,t,r)=>{var n,i=r(40585),o="object"==typeof Reflect?Reflect:null,s=o&&"function"==typeof o.apply?o.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)};n=o&&"function"==typeof o.ownKeys?o.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var a=Number.isNaN||function(e){return e!=e};function c(){c.init.call(this)}e.exports=c,e.exports.once=function(e,t){return new Promise((function(r,n){function i(r){e.removeListener(t,o),n(r)}function o(){"function"==typeof e.removeListener&&e.removeListener("error",i),r([].slice.call(arguments))}v(e,t,o,{once:!0}),"error"!==t&&function(e,t,r){"function"==typeof e.on&&v(e,"error",t,{once:!0})}(e,i)}))},c.EventEmitter=c,c.prototype._events=void 0,c.prototype._eventsCount=0,c.prototype._maxListeners=void 0;var u=10;function f(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function l(e){return void 0===e._maxListeners?c.defaultMaxListeners:e._maxListeners}function h(e,t,r,n){var o,s,a,c;if(f(r),void 0===(s=e._events)?(s=e._events=Object.create(null),e._eventsCount=0):(void 0!==s.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),s=e._events),a=s[t]),void 0===a)a=s[t]=r,++e._eventsCount;else if("function"==typeof a?a=s[t]=n?[r,a]:[a,r]:n?a.unshift(r):a.push(r),(o=l(e))>0&&a.length>o&&!a.warned){a.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=e,u.type=t,u.count=a.length,c=u,i&&i.warn&&i.warn(c)}return e}function d(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function p(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},i=d.bind(n);return i.listener=r,n.wrapFn=i,i}function b(e,t,r){var n=e._events;if(void 0===n)return[];var i=n[t];return void 0===i?[]:"function"==typeof i?r?[i.listener||i]:[i]:r?function(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}(i):m(i,i.length)}function y(e){var t=this._events;if(void 0!==t){var r=t[e];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function m(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}function v(e,t,r,n){if("function"==typeof e.on)n.once?e.once(t,r):e.on(t,r);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function i(o){n.once&&e.removeEventListener(t,i),r(o)}))}}Object.defineProperty(c,"defaultMaxListeners",{enumerable:!0,get:function(){return u},set:function(e){if("number"!=typeof e||e<0||a(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");u=e}}),c.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},c.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||a(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},c.prototype.getMaxListeners=function(){return l(this)},c.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var n="error"===e,i=this._events;if(void 0!==i)n=n&&void 0===i.error;else if(!n)return!1;if(n){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var a=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var c=i[e];if(void 0===c)return!1;if("function"==typeof c)s(c,this,t);else{var u=c.length,f=m(c,u);for(r=0;r<u;++r)s(f[r],this,t)}return!0},c.prototype.addListener=function(e,t){return h(this,e,t,!1)},c.prototype.on=c.prototype.addListener,c.prototype.prependListener=function(e,t){return h(this,e,t,!0)},c.prototype.once=function(e,t){return f(t),this.on(e,p(this,e,t)),this},c.prototype.prependOnceListener=function(e,t){return f(t),this.prependListener(e,p(this,e,t)),this},c.prototype.removeListener=function(e,t){var r,n,i,o,s;if(f(t),void 0===(n=this._events))return this;if(void 0===(r=n[e]))return this;if(r===t||r.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!=typeof r){for(i=-1,o=r.length-1;o>=0;o--)if(r[o]===t||r[o].listener===t){s=r[o].listener,i=o;break}if(i<0)return this;0===i?r.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(r,i),1===r.length&&(n[e]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",e,s||t)}return this},c.prototype.off=c.prototype.removeListener,c.prototype.removeAllListeners=function(e){var t,r,n;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[e]),this;if(0===arguments.length){var i,o=Object.keys(r);for(n=0;n<o.length;++n)"removeListener"!==(i=o[n])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=r[e]))this.removeListener(e,t);else if(void 0!==t)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this},c.prototype.listeners=function(e){return b(this,e,!0)},c.prototype.rawListeners=function(e){return b(this,e,!1)},c.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):y.call(e,t)},c.prototype.listenerCount=y,c.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]}},50320:(e,t,r)=>{var n=r(12695),i=r(97866).Buffer,o=r(12155).parse,s=r(33346),a=r(27065),c=r(90449),u=r(85130),f=["pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","secureProtocol","servername","checkServerIdentity"],l=[239,187,191],h=262144,d=/^(cookie|authorization)$/i;function p(e,t){var r=p.CONNECTING,s=t&&t.headers,u=!1;Object.defineProperty(this,"readyState",{get:function(){return r}}),Object.defineProperty(this,"url",{get:function(){return e}});var m,v=this;function g(t){r!==p.CLOSED&&(r=p.CONNECTING,x("error",new b("error",{message:t})),O&&(e=O,O=null,u=!1),setTimeout((function(){r!==p.CONNECTING||v.connectionInProgress||(v.connectionInProgress=!0,T())}),v.reconnectInterval))}v.reconnectInterval=1e3,v.connectionInProgress=!1;var w="";s&&s["Last-Event-ID"]&&(w=s["Last-Event-ID"],delete s["Last-Event-ID"]);var _=!1,S="",E="",O=null;function T(){var y=o(e),S="https:"===y.protocol;if(y.headers={"Cache-Control":"no-cache",Accept:"text/event-stream"},w&&(y.headers["Last-Event-ID"]=w),s){var E=u?function(e){var t={};for(var r in e)d.test(r)||(t[r]=e[r]);return t}(s):s;for(var M in E){var P=E[M];P&&(y.headers[M]=P)}}if(y.rejectUnauthorized=!(t&&!t.rejectUnauthorized),t&&void 0!==t.createConnection&&(y.createConnection=t.createConnection),t&&t.proxy){var j=o(t.proxy);S="https:"===j.protocol,y.protocol=S?"https:":"http:",y.path=e,y.headers.Host=y.host,y.hostname=j.hostname,y.host=j.host,y.port=j.port}if(t&&t.https)for(var k in t.https)if(-1!==f.indexOf(k)){var $=t.https[k];void 0!==$&&(y[k]=$)}t&&void 0!==t.withCredentials&&(y.withCredentials=t.withCredentials),m=(S?a:c).request(y,(function(t){if(v.connectionInProgress=!1,500===t.statusCode||502===t.statusCode||503===t.statusCode||504===t.statusCode)return x("error",new b("error",{status:t.statusCode,message:t.statusMessage})),void g();if(301===t.statusCode||302===t.statusCode||307===t.statusCode){var o=t.headers.location;if(!o)return void x("error",new b("error",{status:t.statusCode,message:t.statusMessage}));var s=new URL(e).origin,a=new URL(o).origin;return u=s!==a,307===t.statusCode&&(O=e),e=o,void n.nextTick(T)}if(200!==t.statusCode)return x("error",new b("error",{status:t.statusCode,message:t.statusMessage})),v.close();var c,f;r=p.OPEN,t.on("close",(function(){t.removeAllListeners("close"),t.removeAllListeners("end"),g()})),t.on("end",(function(){t.removeAllListeners("close"),t.removeAllListeners("end"),g()})),x("open",new b("open"));var d=0,y=-1,m=0,w=0;t.on("data",(function(e){c?(e.length>c.length-w&&((m=2*c.length+e.length)>h&&(m=c.length+e.length+h),f=i.alloc(m),c.copy(f,0,0,w),c=f),e.copy(c,w),w+=e.length):(function(e){return l.every((function(t,r){return e[r]===t}))}(c=e)&&(c=c.slice(l.length)),w=c.length);for(var t=0,r=w;t<r;){_&&(10===c[t]&&++t,_=!1);for(var n,o=-1,s=y,a=d;o<0&&a<r;++a)58===(n=c[a])?s<0&&(s=a-t):13===n?(_=!0,o=a-t):10===n&&(o=a-t);if(o<0){d=r-t,y=s;break}d=0,y=-1,A(c,t,s,o),t+=o+1}t===r?(c=void 0,w=0):t>0&&(c=c.slice(t,w),w=c.length)}))})),m.on("error",(function(e){v.connectionInProgress=!1,g(e.message)})),m.setNoDelay&&m.setNoDelay(!0),m.end()}function x(){v.listeners(arguments[0]).length>0&&v.emit.apply(v,arguments)}function A(t,r,n,i){if(0===i){if(S.length>0){var o=E||"message";x(o,new y(o,{data:S.slice(0,-1),lastEventId:w,origin:new URL(e).origin})),S=""}E=void 0}else if(n>0){var s,a=n<0,c=t.slice(r,r+(a?i:n)).toString();r+=s=a?i:32!==t[r+n+1]?n+1:n+2;var u=i-s,f=t.slice(r,r+u).toString();if("data"===c)S+=f+"\n";else if("event"===c)E=f;else if("id"===c)w=f;else if("retry"===c){var l=parseInt(f,10);Number.isNaN(l)||(v.reconnectInterval=l)}}}T(),this._close=function(){r!==p.CLOSED&&(r=p.CLOSED,m.abort&&m.abort(),m.xhr&&m.xhr.abort&&m.xhr.abort())}}function b(e,t){if(Object.defineProperty(this,"type",{writable:!1,value:e,enumerable:!0}),t)for(var r in t)t.hasOwnProperty(r)&&Object.defineProperty(this,r,{writable:!1,value:t[r],enumerable:!0})}function y(e,t){for(var r in Object.defineProperty(this,"type",{writable:!1,value:e,enumerable:!0}),t)t.hasOwnProperty(r)&&Object.defineProperty(this,r,{writable:!1,value:t[r],enumerable:!0})}e.exports=p,u.inherits(p,s.EventEmitter),p.prototype.constructor=p,["open","error","message"].forEach((function(e){Object.defineProperty(p.prototype,"on"+e,{get:function(){var t=this.listeners(e)[0];return t?t._listener?t._listener:t:void 0},set:function(t){this.removeAllListeners(e),this.addEventListener(e,t)}})})),Object.defineProperty(p,"CONNECTING",{enumerable:!0,value:0}),Object.defineProperty(p,"OPEN",{enumerable:!0,value:1}),Object.defineProperty(p,"CLOSED",{enumerable:!0,value:2}),p.prototype.CONNECTING=0,p.prototype.OPEN=1,p.prototype.CLOSED=2,p.prototype.close=function(){this._close()},p.prototype.addEventListener=function(e,t){"function"==typeof t&&(t._listener=t,this.on(e,t))},p.prototype.dispatchEvent=function(e){if(!e.type)throw new Error("UNSPECIFIED_EVENT_TYPE_ERR");this.emit(e.type,e.detail)},p.prototype.removeEventListener=function(e,t){"function"==typeof t&&(t._listener=void 0,this.removeListener(e,t))}},80073:(e,t,r)=>{var n=r(49685).Buffer,i=r(83641);e.exports=function(e,t,r,o){if(n.isBuffer(e)||(e=n.from(e,"binary")),t&&(n.isBuffer(t)||(t=n.from(t,"binary")),8!==t.length))throw new RangeError("salt should be Buffer with 8 byte length");for(var s=r/8,a=n.alloc(s),c=n.alloc(o||0),u=n.alloc(0);s>0||o>0;){var f=new i;f.update(u),f.update(e),t&&f.update(t),u=f.digest();var l=0;if(s>0){var h=a.length-s;l=Math.min(s,u.length),u.copy(a,h,0,l),s-=l}if(l<u.length&&o>0){var d=c.length-o,p=Math.min(o,u.length-l);u.copy(c,d,l,l+p),o-=p}}return u.fill(0),{key:a,iv:c}}},89162:e=>{e.exports=function e(t,r){if(t===r)return!0;if(t&&r&&"object"==typeof t&&"object"==typeof r){if(t.constructor!==r.constructor)return!1;var n,i,o;if(Array.isArray(t)){if((n=t.length)!=r.length)return!1;for(i=n;0!=i--;)if(!e(t[i],r[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if((n=(o=Object.keys(t)).length)!==Object.keys(r).length)return!1;for(i=n;0!=i--;)if(!Object.prototype.hasOwnProperty.call(r,o[i]))return!1;for(i=n;0!=i--;){var s=o[i];if(!e(t[s],r[s]))return!1}return!0}return t!=t&&r!=r}},22742:e=>{e.exports=function(e,t){for(var r={},n=Object.keys(e),i=Array.isArray(t),o=0;o<n.length;o++){var s=n[o],a=e[s];(i?-1!==t.indexOf(s):t(s,a,e))&&(r[s]=a)}return r}},79068:(e,t,r)=>{var n=r(48484),i=Object.prototype.toString,o=Object.prototype.hasOwnProperty,s=function(e,t,r){for(var n=0,i=e.length;n<i;n++)o.call(e,n)&&(null==r?t(e[n],n,e):t.call(r,e[n],n,e))},a=function(e,t,r){for(var n=0,i=e.length;n<i;n++)null==r?t(e.charAt(n),n,e):t.call(r,e.charAt(n),n,e)},c=function(e,t,r){for(var n in e)o.call(e,n)&&(null==r?t(e[n],n,e):t.call(r,e[n],n,e))};e.exports=function(e,t,r){if(!n(t))throw new TypeError("iterator must be a function");var o;arguments.length>=3&&(o=r),"[object Array]"===i.call(e)?s(e,t,o):"string"==typeof e?a(e,t,o):c(e,t,o)}},60225:e=>{var t="Function.prototype.bind called on incompatible ",r=Array.prototype.slice,n=Object.prototype.toString,i="[object Function]";e.exports=function(e){var o=this;if("function"!=typeof o||n.call(o)!==i)throw new TypeError(t+o);for(var s,a=r.call(arguments,1),c=function(){if(this instanceof s){var t=o.apply(this,a.concat(r.call(arguments)));return Object(t)===t?t:this}return o.apply(e,a.concat(r.call(arguments)))},u=Math.max(0,o.length-a.length),f=[],l=0;l<u;l++)f.push("$"+l);if(s=Function("binder","return function ("+f.join(",")+"){ return binder.apply(this,arguments); }")(c),o.prototype){var h=function(){};h.prototype=o.prototype,s.prototype=new h,h.prototype=null}return s}},25654:(e,t,r)=>{var n=r(60225);e.exports=Function.prototype.bind||n},43681:(e,t,r)=>{var n,i=SyntaxError,o=Function,s=TypeError,a=function(e){try{return o('"use strict"; return ('+e+").constructor;")()}catch(e){}},c=Object.getOwnPropertyDescriptor;if(c)try{c({},"")}catch(e){c=null}var u=function(){throw new s},f=c?function(){try{return u}catch(e){try{return c(arguments,"callee").get}catch(e){return u}}}():u,l=r(61658)(),h=Object.getPrototypeOf||function(e){return e.__proto__},d={},p="undefined"==typeof Uint8Array?n:h(Uint8Array),b={"%AggregateError%":"undefined"==typeof AggregateError?n:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?n:ArrayBuffer,"%ArrayIteratorPrototype%":l?h([][Symbol.iterator]()):n,"%AsyncFromSyncIteratorPrototype%":n,"%AsyncFunction%":d,"%AsyncGenerator%":d,"%AsyncGeneratorFunction%":d,"%AsyncIteratorPrototype%":d,"%Atomics%":"undefined"==typeof Atomics?n:Atomics,"%BigInt%":"undefined"==typeof BigInt?n:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?n:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?n:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?n:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?n:FinalizationRegistry,"%Function%":o,"%GeneratorFunction%":d,"%Int8Array%":"undefined"==typeof Int8Array?n:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?n:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?n:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":l?h(h([][Symbol.iterator]())):n,"%JSON%":"object"==typeof JSON?JSON:n,"%Map%":"undefined"==typeof Map?n:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&l?h((new Map)[Symbol.iterator]()):n,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?n:Promise,"%Proxy%":"undefined"==typeof Proxy?n:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?n:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?n:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&l?h((new Set)[Symbol.iterator]()):n,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?n:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":l?h(""[Symbol.iterator]()):n,"%Symbol%":l?Symbol:n,"%SyntaxError%":i,"%ThrowTypeError%":f,"%TypedArray%":p,"%TypeError%":s,"%Uint8Array%":"undefined"==typeof Uint8Array?n:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?n:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?n:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?n:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?n:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?n:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?n:WeakSet},y=function e(t){var r;if("%AsyncFunction%"===t)r=a("async function () {}");else if("%GeneratorFunction%"===t)r=a("function* () {}");else if("%AsyncGeneratorFunction%"===t)r=a("async function* () {}");else if("%AsyncGenerator%"===t){var n=e("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if("%AsyncIteratorPrototype%"===t){var i=e("%AsyncGenerator%");i&&(r=h(i.prototype))}return b[t]=r,r},m={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},v=r(25654),g=r(60126),w=v.call(Function.call,Array.prototype.concat),_=v.call(Function.apply,Array.prototype.splice),S=v.call(Function.call,String.prototype.replace),E=v.call(Function.call,String.prototype.slice),O=v.call(Function.call,RegExp.prototype.exec),T=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,x=/\\(\\)?/g,A=function(e){var t=E(e,0,1),r=E(e,-1);if("%"===t&&"%"!==r)throw new i("invalid intrinsic syntax, expected closing `%`");if("%"===r&&"%"!==t)throw new i("invalid intrinsic syntax, expected opening `%`");var n=[];return S(e,T,(function(e,t,r,i){n[n.length]=r?S(i,x,"$1"):t||e})),n},M=function(e,t){var r,n=e;if(g(m,n)&&(n="%"+(r=m[n])[0]+"%"),g(b,n)){var o=b[n];if(o===d&&(o=y(n)),void 0===o&&!t)throw new s("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:r,name:n,value:o}}throw new i("intrinsic "+e+" does not exist!")};e.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new s("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new s('"allowMissing" argument must be a boolean');if(null===O(/^%?[^%]*%?$/,e))throw new i("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=A(e),n=r.length>0?r[0]:"",o=M("%"+n+"%",t),a=o.name,u=o.value,f=!1,l=o.alias;l&&(n=l[0],_(r,w([0,1],l)));for(var h=1,d=!0;h<r.length;h+=1){var p=r[h],y=E(p,0,1),m=E(p,-1);if(('"'===y||"'"===y||"`"===y||'"'===m||"'"===m||"`"===m)&&y!==m)throw new i("property names with quotes must have matching quotes");if("constructor"!==p&&d||(f=!0),g(b,a="%"+(n+="."+p)+"%"))u=b[a];else if(null!=u){if(!(p in u)){if(!t)throw new s("base intrinsic for "+e+" exists, but the property is not available.");return}if(c&&h+1>=r.length){var v=c(u,p);u=(d=!!v)&&"get"in v&&!("originalValue"in v.get)?v.get:u[p]}else d=g(u,p),u=u[p];d&&!f&&(b[a]=u)}}return u}},60126:(e,t,r)=>{var n=r(25654);e.exports=n.call(Function.call,Object.prototype.hasOwnProperty)},61e3:(e,t,r)=>{var n=r(43681)("%Object.defineProperty%",!0),i=function(){if(n)try{return n({},"a",{value:1}),!0}catch(e){return!1}return!1};i.hasArrayLengthDefineBug=function(){if(!i())return null;try{return 1!==n([],"length",{value:1}).length}catch(e){return!0}},e.exports=i},61658:(e,t,r)=>{var n="undefined"!=typeof Symbol&&Symbol,i=r(85180);e.exports=function(){return"function"==typeof n&&"function"==typeof Symbol&&"symbol"==typeof n("foo")&&"symbol"==typeof Symbol("bar")&&i()}},85180:e=>{e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),r=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(r))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var n=Object.getOwnPropertySymbols(e);if(1!==n.length||n[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var i=Object.getOwnPropertyDescriptor(e,t);if(42!==i.value||!0!==i.enumerable)return!1}return!0}},87936:(e,t,r)=>{var n=r(85180);e.exports=function(){return n()&&!!Symbol.toStringTag}},7579:(e,t,r)=>{var n=r(49685).Buffer,i=r(29142).Transform;function o(e){i.call(this),this._block=n.allocUnsafe(e),this._blockSize=e,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}r(23730)(o,i),o.prototype._transform=function(e,t,r){var n=null;try{this.update(e,t)}catch(e){n=e}r(n)},o.prototype._flush=function(e){var t=null;try{this.push(this.digest())}catch(e){t=e}e(t)},o.prototype.update=function(e,t){if(function(e,t){if(!n.isBuffer(e)&&"string"!=typeof e)throw new TypeError("Data must be a string or a buffer")}(e),this._finalized)throw new Error("Digest already called");n.isBuffer(e)||(e=n.from(e,t));for(var r=this._block,i=0;this._blockOffset+e.length-i>=this._blockSize;){for(var o=this._blockOffset;o<this._blockSize;)r[o++]=e[i++];this._update(),this._blockOffset=0}for(;i<e.length;)r[this._blockOffset++]=e[i++];for(var s=0,a=8*e.length;a>0;++s)this._length[s]+=a,(a=this._length[s]/4294967296|0)>0&&(this._length[s]-=4294967296*a);return this},o.prototype._update=function(){throw new Error("_update is not implemented")},o.prototype.digest=function(e){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var t=this._digest();void 0!==e&&(t=t.toString(e)),this._block.fill(0),this._blockOffset=0;for(var r=0;r<4;++r)this._length[r]=0;return t},o.prototype._digest=function(){throw new Error("_digest is not implemented")},e.exports=o},38969:(e,t,r)=>{var n=t;n.utils=r(45525),n.common=r(20588),n.sha=r(86988),n.ripemd=r(57493),n.hmac=r(37669),n.sha1=n.sha.sha1,n.sha256=n.sha.sha256,n.sha224=n.sha.sha224,n.sha384=n.sha.sha384,n.sha512=n.sha.sha512,n.ripemd160=n.ripemd.ripemd160},20588:(e,t,r)=>{var n=r(45525),i=r(83141);function o(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}t.BlockHash=o,o.prototype.update=function(e,t){if(e=n.toArray(e,t),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){var r=(e=this.pending).length%this._delta8;this.pending=e.slice(e.length-r,e.length),0===this.pending.length&&(this.pending=null),e=n.join32(e,0,e.length-r,this.endian);for(var i=0;i<e.length;i+=this._delta32)this._update(e,i,i+this._delta32)}return this},o.prototype.digest=function(e){return this.update(this._pad()),i(null===this.pending),this._digest(e)},o.prototype._pad=function(){var e=this.pendingTotal,t=this._delta8,r=t-(e+this.padLength)%t,n=new Array(r+this.padLength);n[0]=128;for(var i=1;i<r;i++)n[i]=0;if(e<<=3,"big"===this.endian){for(var o=8;o<this.padLength;o++)n[i++]=0;n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=e>>>24&255,n[i++]=e>>>16&255,n[i++]=e>>>8&255,n[i++]=255&e}else for(n[i++]=255&e,n[i++]=e>>>8&255,n[i++]=e>>>16&255,n[i++]=e>>>24&255,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,o=8;o<this.padLength;o++)n[i++]=0;return n}},37669:(e,t,r)=>{var n=r(45525),i=r(83141);function o(e,t,r){if(!(this instanceof o))return new o(e,t,r);this.Hash=e,this.blockSize=e.blockSize/8,this.outSize=e.outSize/8,this.inner=null,this.outer=null,this._init(n.toArray(t,r))}e.exports=o,o.prototype._init=function(e){e.length>this.blockSize&&(e=(new this.Hash).update(e).digest()),i(e.length<=this.blockSize);for(var t=e.length;t<this.blockSize;t++)e.push(0);for(t=0;t<e.length;t++)e[t]^=54;for(this.inner=(new this.Hash).update(e),t=0;t<e.length;t++)e[t]^=106;this.outer=(new this.Hash).update(e)},o.prototype.update=function(e,t){return this.inner.update(e,t),this},o.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)}},57493:(e,t,r)=>{var n=r(45525),i=r(20588),o=n.rotl32,s=n.sum32,a=n.sum32_3,c=n.sum32_4,u=i.BlockHash;function f(){if(!(this instanceof f))return new f;u.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function l(e,t,r,n){return e<=15?t^r^n:e<=31?t&r|~t&n:e<=47?(t|~r)^n:e<=63?t&n|r&~n:t^(r|~n)}function h(e){return e<=15?0:e<=31?1518500249:e<=47?1859775393:e<=63?2400959708:2840853838}function d(e){return e<=15?1352829926:e<=31?1548603684:e<=47?1836072691:e<=63?2053994217:0}n.inherits(f,u),t.ripemd160=f,f.blockSize=512,f.outSize=160,f.hmacStrength=192,f.padLength=64,f.prototype._update=function(e,t){for(var r=this.h[0],n=this.h[1],i=this.h[2],u=this.h[3],f=this.h[4],v=r,g=n,w=i,_=u,S=f,E=0;E<80;E++){var O=s(o(c(r,l(E,n,i,u),e[p[E]+t],h(E)),y[E]),f);r=f,f=u,u=o(i,10),i=n,n=O,O=s(o(c(v,l(79-E,g,w,_),e[b[E]+t],d(E)),m[E]),S),v=S,S=_,_=o(w,10),w=g,g=O}O=a(this.h[1],i,_),this.h[1]=a(this.h[2],u,S),this.h[2]=a(this.h[3],f,v),this.h[3]=a(this.h[4],r,g),this.h[4]=a(this.h[0],n,w),this.h[0]=O},f.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h,"little"):n.split32(this.h,"little")};var p=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],b=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],y=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],m=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},86988:(e,t,r)=>{t.sha1=r(20216),t.sha224=r(73523),t.sha256=r(29453),t.sha384=r(66575),t.sha512=r(39586)},20216:(e,t,r)=>{var n=r(45525),i=r(20588),o=r(45387),s=n.rotl32,a=n.sum32,c=n.sum32_5,u=o.ft_1,f=i.BlockHash,l=[1518500249,1859775393,2400959708,3395469782];function h(){if(!(this instanceof h))return new h;f.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}n.inherits(h,f),e.exports=h,h.blockSize=512,h.outSize=160,h.hmacStrength=80,h.padLength=64,h.prototype._update=function(e,t){for(var r=this.W,n=0;n<16;n++)r[n]=e[t+n];for(;n<r.length;n++)r[n]=s(r[n-3]^r[n-8]^r[n-14]^r[n-16],1);var i=this.h[0],o=this.h[1],f=this.h[2],h=this.h[3],d=this.h[4];for(n=0;n<r.length;n++){var p=~~(n/20),b=c(s(i,5),u(p,o,f,h),d,r[n],l[p]);d=h,h=f,f=s(o,30),o=i,i=b}this.h[0]=a(this.h[0],i),this.h[1]=a(this.h[1],o),this.h[2]=a(this.h[2],f),this.h[3]=a(this.h[3],h),this.h[4]=a(this.h[4],d)},h.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},73523:(e,t,r)=>{var n=r(45525),i=r(29453);function o(){if(!(this instanceof o))return new o;i.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}n.inherits(o,i),e.exports=o,o.blockSize=512,o.outSize=224,o.hmacStrength=192,o.padLength=64,o.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h.slice(0,7),"big"):n.split32(this.h.slice(0,7),"big")}},29453:(e,t,r)=>{var n=r(45525),i=r(20588),o=r(45387),s=r(83141),a=n.sum32,c=n.sum32_4,u=n.sum32_5,f=o.ch32,l=o.maj32,h=o.s0_256,d=o.s1_256,p=o.g0_256,b=o.g1_256,y=i.BlockHash,m=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function v(){if(!(this instanceof v))return new v;y.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=m,this.W=new Array(64)}n.inherits(v,y),e.exports=v,v.blockSize=512,v.outSize=256,v.hmacStrength=192,v.padLength=64,v.prototype._update=function(e,t){for(var r=this.W,n=0;n<16;n++)r[n]=e[t+n];for(;n<r.length;n++)r[n]=c(b(r[n-2]),r[n-7],p(r[n-15]),r[n-16]);var i=this.h[0],o=this.h[1],y=this.h[2],m=this.h[3],v=this.h[4],g=this.h[5],w=this.h[6],_=this.h[7];for(s(this.k.length===r.length),n=0;n<r.length;n++){var S=u(_,d(v),f(v,g,w),this.k[n],r[n]),E=a(h(i),l(i,o,y));_=w,w=g,g=v,v=a(m,S),m=y,y=o,o=i,i=a(S,E)}this.h[0]=a(this.h[0],i),this.h[1]=a(this.h[1],o),this.h[2]=a(this.h[2],y),this.h[3]=a(this.h[3],m),this.h[4]=a(this.h[4],v),this.h[5]=a(this.h[5],g),this.h[6]=a(this.h[6],w),this.h[7]=a(this.h[7],_)},v.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},66575:(e,t,r)=>{var n=r(45525),i=r(39586);function o(){if(!(this instanceof o))return new o;i.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}n.inherits(o,i),e.exports=o,o.blockSize=1024,o.outSize=384,o.hmacStrength=192,o.padLength=128,o.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h.slice(0,12),"big"):n.split32(this.h.slice(0,12),"big")}},39586:(e,t,r)=>{var n=r(45525),i=r(20588),o=r(83141),s=n.rotr64_hi,a=n.rotr64_lo,c=n.shr64_hi,u=n.shr64_lo,f=n.sum64,l=n.sum64_hi,h=n.sum64_lo,d=n.sum64_4_hi,p=n.sum64_4_lo,b=n.sum64_5_hi,y=n.sum64_5_lo,m=i.BlockHash,v=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function g(){if(!(this instanceof g))return new g;m.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=v,this.W=new Array(160)}function w(e,t,r,n,i){var o=e&r^~e&i;return o<0&&(o+=4294967296),o}function _(e,t,r,n,i,o){var s=t&n^~t&o;return s<0&&(s+=4294967296),s}function S(e,t,r,n,i){var o=e&r^e&i^r&i;return o<0&&(o+=4294967296),o}function E(e,t,r,n,i,o){var s=t&n^t&o^n&o;return s<0&&(s+=4294967296),s}function O(e,t){var r=s(e,t,28)^s(t,e,2)^s(t,e,7);return r<0&&(r+=4294967296),r}function T(e,t){var r=a(e,t,28)^a(t,e,2)^a(t,e,7);return r<0&&(r+=4294967296),r}function x(e,t){var r=a(e,t,14)^a(e,t,18)^a(t,e,9);return r<0&&(r+=4294967296),r}function A(e,t){var r=s(e,t,1)^s(e,t,8)^c(e,t,7);return r<0&&(r+=4294967296),r}function M(e,t){var r=a(e,t,1)^a(e,t,8)^u(e,t,7);return r<0&&(r+=4294967296),r}function P(e,t){var r=a(e,t,19)^a(t,e,29)^u(e,t,6);return r<0&&(r+=4294967296),r}n.inherits(g,m),e.exports=g,g.blockSize=1024,g.outSize=512,g.hmacStrength=192,g.padLength=128,g.prototype._prepareBlock=function(e,t){for(var r=this.W,n=0;n<32;n++)r[n]=e[t+n];for(;n<r.length;n+=2){var i=(y=r[n-4],m=r[n-3],v=void 0,(v=s(y,m,19)^s(m,y,29)^c(y,m,6))<0&&(v+=4294967296),v),o=P(r[n-4],r[n-3]),a=r[n-14],u=r[n-13],f=A(r[n-30],r[n-29]),l=M(r[n-30],r[n-29]),h=r[n-32],b=r[n-31];r[n]=d(i,o,a,u,f,l,h,b),r[n+1]=p(i,o,a,u,f,l,h,b)}var y,m,v},g.prototype._update=function(e,t){this._prepareBlock(e,t);var r,n,i,a=this.W,c=this.h[0],u=this.h[1],d=this.h[2],p=this.h[3],m=this.h[4],v=this.h[5],g=this.h[6],A=this.h[7],M=this.h[8],P=this.h[9],j=this.h[10],k=this.h[11],$=this.h[12],C=this.h[13],I=this.h[14],R=this.h[15];o(this.k.length===a.length);for(var N=0;N<a.length;N+=2){var L=I,D=R,F=(i=void 0,(i=s(r=M,n=P,14)^s(r,n,18)^s(n,r,9))<0&&(i+=4294967296),i),B=x(M,P),U=w(M,0,j,0,$),q=_(0,P,0,k,0,C),z=this.k[N],V=this.k[N+1],H=a[N],W=a[N+1],G=b(L,D,F,B,U,q,z,V,H,W),K=y(L,D,F,B,U,q,z,V,H,W);L=O(c,u),D=T(c,u),F=S(c,0,d,0,m),B=E(0,u,0,p,0,v);var J=l(L,D,F,B),Y=h(L,D,F,B);I=$,R=C,$=j,C=k,j=M,k=P,M=l(g,A,G,K),P=h(A,A,G,K),g=m,A=v,m=d,v=p,d=c,p=u,c=l(G,K,J,Y),u=h(G,K,J,Y)}f(this.h,0,c,u),f(this.h,2,d,p),f(this.h,4,m,v),f(this.h,6,g,A),f(this.h,8,M,P),f(this.h,10,j,k),f(this.h,12,$,C),f(this.h,14,I,R)},g.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},45387:(e,t,r)=>{var n=r(45525).rotr32;function i(e,t,r){return e&t^~e&r}function o(e,t,r){return e&t^e&r^t&r}function s(e,t,r){return e^t^r}t.ft_1=function(e,t,r,n){return 0===e?i(t,r,n):1===e||3===e?s(t,r,n):2===e?o(t,r,n):void 0},t.ch32=i,t.maj32=o,t.p32=s,t.s0_256=function(e){return n(e,2)^n(e,13)^n(e,22)},t.s1_256=function(e){return n(e,6)^n(e,11)^n(e,25)},t.g0_256=function(e){return n(e,7)^n(e,18)^e>>>3},t.g1_256=function(e){return n(e,17)^n(e,19)^e>>>10}},45525:(e,t,r)=>{var n=r(83141),i=r(23730);function o(e,t){return 55296==(64512&e.charCodeAt(t))&&!(t<0||t+1>=e.length)&&56320==(64512&e.charCodeAt(t+1))}function s(e){return(e>>>24|e>>>8&65280|e<<8&16711680|(255&e)<<24)>>>0}function a(e){return 1===e.length?"0"+e:e}function c(e){return 7===e.length?"0"+e:6===e.length?"00"+e:5===e.length?"000"+e:4===e.length?"0000"+e:3===e.length?"00000"+e:2===e.length?"000000"+e:1===e.length?"0000000"+e:e}t.inherits=i,t.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if("string"==typeof e)if(t){if("hex"===t)for((e=e.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(e="0"+e),i=0;i<e.length;i+=2)r.push(parseInt(e[i]+e[i+1],16))}else for(var n=0,i=0;i<e.length;i++){var s=e.charCodeAt(i);s<128?r[n++]=s:s<2048?(r[n++]=s>>6|192,r[n++]=63&s|128):o(e,i)?(s=65536+((1023&s)<<10)+(1023&e.charCodeAt(++i)),r[n++]=s>>18|240,r[n++]=s>>12&63|128,r[n++]=s>>6&63|128,r[n++]=63&s|128):(r[n++]=s>>12|224,r[n++]=s>>6&63|128,r[n++]=63&s|128)}else for(i=0;i<e.length;i++)r[i]=0|e[i];return r},t.toHex=function(e){for(var t="",r=0;r<e.length;r++)t+=a(e[r].toString(16));return t},t.htonl=s,t.toHex32=function(e,t){for(var r="",n=0;n<e.length;n++){var i=e[n];"little"===t&&(i=s(i)),r+=c(i.toString(16))}return r},t.zero2=a,t.zero8=c,t.join32=function(e,t,r,i){var o=r-t;n(o%4==0);for(var s=new Array(o/4),a=0,c=t;a<s.length;a++,c+=4){var u;u="big"===i?e[c]<<24|e[c+1]<<16|e[c+2]<<8|e[c+3]:e[c+3]<<24|e[c+2]<<16|e[c+1]<<8|e[c],s[a]=u>>>0}return s},t.split32=function(e,t){for(var r=new Array(4*e.length),n=0,i=0;n<e.length;n++,i+=4){var o=e[n];"big"===t?(r[i]=o>>>24,r[i+1]=o>>>16&255,r[i+2]=o>>>8&255,r[i+3]=255&o):(r[i+3]=o>>>24,r[i+2]=o>>>16&255,r[i+1]=o>>>8&255,r[i]=255&o)}return r},t.rotr32=function(e,t){return e>>>t|e<<32-t},t.rotl32=function(e,t){return e<<t|e>>>32-t},t.sum32=function(e,t){return e+t>>>0},t.sum32_3=function(e,t,r){return e+t+r>>>0},t.sum32_4=function(e,t,r,n){return e+t+r+n>>>0},t.sum32_5=function(e,t,r,n,i){return e+t+r+n+i>>>0},t.sum64=function(e,t,r,n){var i=e[t],o=n+e[t+1]>>>0,s=(o<n?1:0)+r+i;e[t]=s>>>0,e[t+1]=o},t.sum64_hi=function(e,t,r,n){return(t+n>>>0<t?1:0)+e+r>>>0},t.sum64_lo=function(e,t,r,n){return t+n>>>0},t.sum64_4_hi=function(e,t,r,n,i,o,s,a){var c=0,u=t;return c+=(u=u+n>>>0)<t?1:0,c+=(u=u+o>>>0)<o?1:0,e+r+i+s+(c+=(u=u+a>>>0)<a?1:0)>>>0},t.sum64_4_lo=function(e,t,r,n,i,o,s,a){return t+n+o+a>>>0},t.sum64_5_hi=function(e,t,r,n,i,o,s,a,c,u){var f=0,l=t;return f+=(l=l+n>>>0)<t?1:0,f+=(l=l+o>>>0)<o?1:0,f+=(l=l+a>>>0)<a?1:0,e+r+i+s+c+(f+=(l=l+u>>>0)<u?1:0)>>>0},t.sum64_5_lo=function(e,t,r,n,i,o,s,a,c,u){return t+n+o+a+u>>>0},t.rotr64_hi=function(e,t,r){return(t<<32-r|e>>>r)>>>0},t.rotr64_lo=function(e,t,r){return(e<<32-r|t>>>r)>>>0},t.shr64_hi=function(e,t,r){return e>>>r},t.shr64_lo=function(e,t,r){return(e<<32-r|t>>>r)>>>0}},9032:(e,t,r)=>{var n=r(38969),i=r(69785),o=r(83141);function s(e){if(!(this instanceof s))return new s(e);this.hash=e.hash,this.predResist=!!e.predResist,this.outLen=this.hash.outSize,this.minEntropy=e.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var t=i.toArray(e.entropy,e.entropyEnc||"hex"),r=i.toArray(e.nonce,e.nonceEnc||"hex"),n=i.toArray(e.pers,e.persEnc||"hex");o(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(t,r,n)}e.exports=s,s.prototype._init=function(e,t,r){var n=e.concat(t).concat(r);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(n),this._reseed=1,this.reseedInterval=281474976710656},s.prototype._hmac=function(){return new n.hmac(this.hash,this.K)},s.prototype._update=function(e){var t=this._hmac().update(this.V).update([0]);e&&(t=t.update(e)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())},s.prototype.reseed=function(e,t,r,n){"string"!=typeof t&&(n=r,r=t,t=null),e=i.toArray(e,t),r=i.toArray(r,n),o(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(r||[])),this._reseed=1},s.prototype.generate=function(e,t,r,n){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!=typeof t&&(n=r,r=t,t=null),r&&(r=i.toArray(r,n||"hex"),this._update(r));for(var o=[];o.length<e;)this.V=this._hmac().update(this.V).digest(),o=o.concat(this.V);var s=o.slice(0,e);return this._update(r),this._reseed++,i.encode(s,t)}},27065:(e,t,r)=>{var n=r(90449),i=r(12155),o=e.exports;for(var s in n)n.hasOwnProperty(s)&&(o[s]=n[s]);function a(e){if("string"==typeof e&&(e=i.parse(e)),e.protocol||(e.protocol="https:"),"https:"!==e.protocol)throw new Error('Protocol "'+e.protocol+'" not supported. Expected "https:"');return e}o.request=function(e,t){return e=a(e),n.request.call(this,e,t)},o.get=function(e,t){return e=a(e),n.get.call(this,e,t)}},59258:(e,t)=>{t.read=function(e,t,r,n,i){var o,s,a=8*i-n-1,c=(1<<a)-1,u=c>>1,f=-7,l=r?i-1:0,h=r?-1:1,d=e[t+l];for(l+=h,o=d&(1<<-f)-1,d>>=-f,f+=a;f>0;o=256*o+e[t+l],l+=h,f-=8);for(s=o&(1<<-f)-1,o>>=-f,f+=n;f>0;s=256*s+e[t+l],l+=h,f-=8);if(0===o)o=1-u;else{if(o===c)return s?NaN:1/0*(d?-1:1);s+=Math.pow(2,n),o-=u}return(d?-1:1)*s*Math.pow(2,o-n)},t.write=function(e,t,r,n,i,o){var s,a,c,u=8*o-i-1,f=(1<<u)-1,l=f>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=n?0:o-1,p=n?1:-1,b=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=f):(s=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-s))<1&&(s--,c*=2),(t+=s+l>=1?h/c:h*Math.pow(2,1-l))*c>=2&&(s++,c/=2),s+l>=f?(a=0,s=f):s+l>=1?(a=(t*c-1)*Math.pow(2,i),s+=l):(a=t*Math.pow(2,l-1)*Math.pow(2,i),s=0));i>=8;e[r+d]=255&a,d+=p,a/=256,i-=8);for(s=s<<i|a,u+=i;u>0;e[r+d]=255&s,d+=p,s/=256,u-=8);e[r+d-p]|=128*b}},23730:e=>{"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}},55830:e=>{e.exports=e=>{if("string"!=typeof e)throw new TypeError(`Expected a \`string\`, got \`${typeof e}\``);return!/^[a-zA-Z]:\\/.test(e)&&/^[a-zA-Z][a-zA-Z\d+\-.]*:/.test(e)}},32391:(e,t,r)=>{var n=r(87936)(),i=r(86018)("Object.prototype.toString"),o=function(e){return!(n&&e&&"object"==typeof e&&Symbol.toStringTag in e)&&"[object Arguments]"===i(e)},s=function(e){return!!o(e)||null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Array]"!==i(e)&&"[object Function]"===i(e.callee)},a=function(){return o(arguments)}();o.isLegacyArguments=s,e.exports=a?o:s},48484:e=>{var t,r,n=Function.prototype.toString,i="object"==typeof Reflect&&null!==Reflect&&Reflect.apply;if("function"==typeof i&&"function"==typeof Object.defineProperty)try{t=Object.defineProperty({},"length",{get:function(){throw r}}),r={},i((function(){throw 42}),null,t)}catch(e){e!==r&&(i=null)}else i=null;var o=/^\s*class\b/,s=function(e){try{var t=n.call(e);return o.test(t)}catch(e){return!1}},a=function(e){try{return!s(e)&&(n.call(e),!0)}catch(e){return!1}},c=Object.prototype.toString,u="function"==typeof Symbol&&!!Symbol.toStringTag,f=!(0 in[,]),l=function(){return!1};if("object"==typeof document){var h=document.all;c.call(h)===c.call(document.all)&&(l=function(e){if((f||!e)&&(void 0===e||"object"==typeof e))try{var t=c.call(e);return("[object HTMLAllCollection]"===t||"[object HTML document.all class]"===t||"[object HTMLCollection]"===t||"[object Object]"===t)&&null==e("")}catch(e){}return!1})}e.exports=i?function(e){if(l(e))return!0;if(!e)return!1;if("function"!=typeof e&&"object"!=typeof e)return!1;try{i(e,null,t)}catch(e){if(e!==r)return!1}return!s(e)&&a(e)}:function(e){if(l(e))return!0;if(!e)return!1;if("function"!=typeof e&&"object"!=typeof e)return!1;if(u)return a(e);if(s(e))return!1;var t=c.call(e);return!("[object Function]"!==t&&"[object GeneratorFunction]"!==t&&!/^\[object HTML/.test(t))&&a(e)}},21266:(e,t,r)=>{var n,i=Object.prototype.toString,o=Function.prototype.toString,s=/^\s*(?:function)?\*/,a=r(87936)(),c=Object.getPrototypeOf;e.exports=function(e){if("function"!=typeof e)return!1;if(s.test(o.call(e)))return!0;if(!a)return"[object GeneratorFunction]"===i.call(e);if(!c)return!1;if(void 0===n){var t=function(){if(!a)return!1;try{return Function("return function*() {}")()}catch(e){}}();n=!!t&&c(t)}return c(e)===n}},59007:e=>{e.exports=function(e){return e!=e}},61292:(e,t,r)=>{var n=r(37694),i=r(96116),o=r(59007),s=r(59294),a=r(21866),c=n(s(),Number);i(c,{getPolyfill:s,implementation:o,shim:a}),e.exports=c},59294:(e,t,r)=>{var n=r(59007);e.exports=function(){return Number.isNaN&&Number.isNaN(NaN)&&!Number.isNaN("a")?Number.isNaN:n}},21866:(e,t,r)=>{var n=r(96116),i=r(59294);e.exports=function(){var e=i();return n(Number,{isNaN:e},{isNaN:function(){return Number.isNaN!==e}}),e}},81233:(e,t,r)=>{var n=r(79068),i=r(18791),o=r(86018),s=o("Object.prototype.toString"),a=r(87936)(),c="undefined"==typeof globalThis?r.g:globalThis,u=i(),f=o("Array.prototype.indexOf",!0)||function(e,t){for(var r=0;r<e.length;r+=1)if(e[r]===t)return r;return-1},l=o("String.prototype.slice"),h={},d=r(26393),p=Object.getPrototypeOf;a&&d&&p&&n(u,(function(e){var t=new c[e];if(Symbol.toStringTag in t){var r=p(t),n=d(r,Symbol.toStringTag);if(!n){var i=p(r);n=d(i,Symbol.toStringTag)}h[e]=n.get}})),e.exports=function(e){if(!e||"object"!=typeof e)return!1;if(!a||!(Symbol.toStringTag in e)){var t=l(s(e),8,-1);return f(u,t)>-1}return!!d&&function(e){var t=!1;return n(h,(function(r,n){if(!t)try{t=r.call(e)===n}catch(e){}})),t}(e)}},34261:function(e,t,r){e=r.nmd(e);var n=r(12695),i=r(40585),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var s=r(46079);t.JsonPlaceholderReplacer=s.JsonPlaceholderReplacer;const a=r(46079),c=o(r(26576));if(r.c[r.s]===e){n.exitCode=n.argv.length;const e=new a.JsonPlaceholderReplacer;n.argv.filter(((e,t)=>t>2)).map((t=>e.addVariableMap(JSON.parse(c.readFileSync(t).toString()))));const t=c.readFileSync(n.argv[2]).toString(),r=e.replace(JSON.parse(t));i.log(JSON.stringify(r,null,4)),n.exitCode=0}},46079:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=[{begin:"{{",end:"}}"},{begin:"<<",end:">>"}];t.JsonPlaceholderReplacer=class{constructor(...e){this.variablesMap=[],0===e.length&&(e=r);const t=e=>e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&");this.delimiterTags=e.map((e=>Object.assign(Object.assign({},e),{escapedBeginning:t(e.begin),escapedEnding:t(e.end)})))}addVariableMap(e){return"string"==typeof e?this.variablesMap.push(JSON.parse(e)):this.variablesMap.push(e),this}replace(e){return this.replaceChildren(e)}replaceChildren(e){for(const t in e){const r=e[t];"object"==typeof r?e[t]=this.replaceChildren(r):void 0!==r&&(e[t]=this.replaceValue(r.toString()))}return e}replaceValue(e){const t=this.delimiterTags.map((e=>`^${e.begin}[^${e.end}]+${e.end}$`)).join("|"),r=!new RegExp(t).test(e),n=e=>t=>{const n=t.substr(e.begin.length,t.length-(e.begin.length+e.end.length)),i=this.checkInEveryMap(n);if(void 0===i)return t;if(!r)return i;const o=JSON.parse(i);return"object"==typeof o?JSON.stringify(o):o},i=this.delimiterTags.reduce(((e,t)=>{const r=new RegExp(`(${t.escapedBeginning}[^${t.escapedEnding}]+${t.escapedEnding})`,"g");return e.replace(r,n(t))}),e);try{return JSON.parse(i)}catch(e){return i}}checkInEveryMap(e){let t;return this.variablesMap.forEach((r=>t=this.navigateThroughMap(r,e))),t}navigateThroughMap(e,t){if(void 0===e)return;const r=e[t];if(void 0!==r)return JSON.stringify(r);let n=t.split(".");const i=n[0];return n.shift(),this.navigateThroughMap(e[i],n.join("."))}}},11150:e=>{var t=e.exports=function(e,t,n){"function"==typeof t&&(n=t,t={}),r(t,"function"==typeof(n=t.cb||n)?n:n.pre||function(){},n.post||function(){},e,"",e)};function r(e,n,i,o,s,a,c,u,f,l){if(o&&"object"==typeof o&&!Array.isArray(o)){for(var h in n(o,s,a,c,u,f,l),o){var d=o[h];if(Array.isArray(d)){if(h in t.arrayKeywords)for(var p=0;p<d.length;p++)r(e,n,i,d[p],s+"/"+h+"/"+p,a,s,h,o,p)}else if(h in t.propsKeywords){if(d&&"object"==typeof d)for(var b in d)r(e,n,i,d[b],s+"/"+h+"/"+b.replace(/~/g,"~0").replace(/\//g,"~1"),a,s,h,o,b)}else(h in t.keywords||e.allKeys&&!(h in t.skipKeywords))&&r(e,n,i,d,s+"/"+h,a,s,h,o)}i(o,s,a,c,u,f,l)}}t.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0},t.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},t.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},t.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0}},83641:(e,t,r)=>{var n=r(23730),i=r(7579),o=r(49685).Buffer,s=new Array(16);function a(){i.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function c(e,t){return e<<t|e>>>32-t}function u(e,t,r,n,i,o,s){return c(e+(t&r|~t&n)+i+o|0,s)+t|0}function f(e,t,r,n,i,o,s){return c(e+(t&n|r&~n)+i+o|0,s)+t|0}function l(e,t,r,n,i,o,s){return c(e+(t^r^n)+i+o|0,s)+t|0}function h(e,t,r,n,i,o,s){return c(e+(r^(t|~n))+i+o|0,s)+t|0}n(a,i),a.prototype._update=function(){for(var e=s,t=0;t<16;++t)e[t]=this._block.readInt32LE(4*t);var r=this._a,n=this._b,i=this._c,o=this._d;r=u(r,n,i,o,e[0],3614090360,7),o=u(o,r,n,i,e[1],3905402710,12),i=u(i,o,r,n,e[2],606105819,17),n=u(n,i,o,r,e[3],3250441966,22),r=u(r,n,i,o,e[4],4118548399,7),o=u(o,r,n,i,e[5],1200080426,12),i=u(i,o,r,n,e[6],2821735955,17),n=u(n,i,o,r,e[7],4249261313,22),r=u(r,n,i,o,e[8],1770035416,7),o=u(o,r,n,i,e[9],2336552879,12),i=u(i,o,r,n,e[10],4294925233,17),n=u(n,i,o,r,e[11],2304563134,22),r=u(r,n,i,o,e[12],1804603682,7),o=u(o,r,n,i,e[13],4254626195,12),i=u(i,o,r,n,e[14],2792965006,17),r=f(r,n=u(n,i,o,r,e[15],1236535329,22),i,o,e[1],4129170786,5),o=f(o,r,n,i,e[6],3225465664,9),i=f(i,o,r,n,e[11],643717713,14),n=f(n,i,o,r,e[0],3921069994,20),r=f(r,n,i,o,e[5],3593408605,5),o=f(o,r,n,i,e[10],38016083,9),i=f(i,o,r,n,e[15],3634488961,14),n=f(n,i,o,r,e[4],3889429448,20),r=f(r,n,i,o,e[9],568446438,5),o=f(o,r,n,i,e[14],3275163606,9),i=f(i,o,r,n,e[3],4107603335,14),n=f(n,i,o,r,e[8],1163531501,20),r=f(r,n,i,o,e[13],2850285829,5),o=f(o,r,n,i,e[2],4243563512,9),i=f(i,o,r,n,e[7],1735328473,14),r=l(r,n=f(n,i,o,r,e[12],2368359562,20),i,o,e[5],4294588738,4),o=l(o,r,n,i,e[8],2272392833,11),i=l(i,o,r,n,e[11],1839030562,16),n=l(n,i,o,r,e[14],4259657740,23),r=l(r,n,i,o,e[1],2763975236,4),o=l(o,r,n,i,e[4],1272893353,11),i=l(i,o,r,n,e[7],4139469664,16),n=l(n,i,o,r,e[10],3200236656,23),r=l(r,n,i,o,e[13],681279174,4),o=l(o,r,n,i,e[0],3936430074,11),i=l(i,o,r,n,e[3],3572445317,16),n=l(n,i,o,r,e[6],76029189,23),r=l(r,n,i,o,e[9],3654602809,4),o=l(o,r,n,i,e[12],3873151461,11),i=l(i,o,r,n,e[15],530742520,16),r=h(r,n=l(n,i,o,r,e[2],3299628645,23),i,o,e[0],4096336452,6),o=h(o,r,n,i,e[7],1126891415,10),i=h(i,o,r,n,e[14],2878612391,15),n=h(n,i,o,r,e[5],4237533241,21),r=h(r,n,i,o,e[12],1700485571,6),o=h(o,r,n,i,e[3],2399980690,10),i=h(i,o,r,n,e[10],4293915773,15),n=h(n,i,o,r,e[1],2240044497,21),r=h(r,n,i,o,e[8],1873313359,6),o=h(o,r,n,i,e[15],4264355552,10),i=h(i,o,r,n,e[6],2734768916,15),n=h(n,i,o,r,e[13],1309151649,21),r=h(r,n,i,o,e[4],4149444226,6),o=h(o,r,n,i,e[11],3174756917,10),i=h(i,o,r,n,e[2],718787259,15),n=h(n,i,o,r,e[9],3951481745,21),this._a=this._a+r|0,this._b=this._b+n|0,this._c=this._c+i|0,this._d=this._d+o|0},a.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var e=o.allocUnsafe(16);return e.writeInt32LE(this._a,0),e.writeInt32LE(this._b,4),e.writeInt32LE(this._c,8),e.writeInt32LE(this._d,12),e},e.exports=a},93986:(e,t,r)=>{var n=r(65482),i=r(38217);function o(e){this.rand=e||new i.Rand}e.exports=o,o.create=function(e){return new o(e)},o.prototype._randbelow=function(e){var t=e.bitLength(),r=Math.ceil(t/8);do{var i=new n(this.rand.generate(r))}while(i.cmp(e)>=0);return i},o.prototype._randrange=function(e,t){var r=t.sub(e);return e.add(this._randbelow(r))},o.prototype.test=function(e,t,r){var i=e.bitLength(),o=n.mont(e),s=new n(1).toRed(o);t||(t=Math.max(1,i/48|0));for(var a=e.subn(1),c=0;!a.testn(c);c++);for(var u=e.shrn(c),f=a.toRed(o);t>0;t--){var l=this._randrange(new n(2),a);r&&r(l);var h=l.toRed(o).redPow(u);if(0!==h.cmp(s)&&0!==h.cmp(f)){for(var d=1;d<c;d++){if(0===(h=h.redSqr()).cmp(s))return!1;if(0===h.cmp(f))break}if(d===c)return!1}}return!0},o.prototype.getDivisor=function(e,t){var r=e.bitLength(),i=n.mont(e),o=new n(1).toRed(i);t||(t=Math.max(1,r/48|0));for(var s=e.subn(1),a=0;!s.testn(a);a++);for(var c=e.shrn(a),u=s.toRed(i);t>0;t--){var f=this._randrange(new n(2),s),l=e.gcd(f);if(0!==l.cmpn(1))return l;var h=f.toRed(i).redPow(c);if(0!==h.cmp(o)&&0!==h.cmp(u)){for(var d=1;d<a;d++){if(0===(h=h.redSqr()).cmp(o))return h.fromRed().subn(1).gcd(e);if(0===h.cmp(u))break}if(d===a)return(h=h.redSqr()).fromRed().subn(1).gcd(e)}}return!1}},83141:e=>{function t(e,t){if(!e)throw new Error(t||"Assertion failed")}e.exports=t,t.equal=function(e,t,r){if(e!=t)throw new Error(r||"Assertion failed: "+e+" != "+t)}},69785:(e,t)=>{var r=t;function n(e){return 1===e.length?"0"+e:e}function i(e){for(var t="",r=0;r<e.length;r++)t+=n(e[r].toString(16));return t}r.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if("string"!=typeof e){for(var n=0;n<e.length;n++)r[n]=0|e[n];return r}if("hex"===t)for((e=e.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(e="0"+e),n=0;n<e.length;n+=2)r.push(parseInt(e[n]+e[n+1],16));else for(n=0;n<e.length;n++){var i=e.charCodeAt(n),o=i>>8,s=255&i;o?r.push(o,s):r.push(s)}return r},r.zero2=n,r.toHex=i,r.encode=function(e,t){return"hex"===t?i(e):e}},66117:e=>{var t=1e3,r=60*t,n=60*r,i=24*n;function o(e,t,r,n){var i=t>=1.5*r;return Math.round(e/r)+" "+n+(i?"s":"")}e.exports=function(e,s){s=s||{};var a,c,u=typeof e;if("string"===u&&e.length>0)return function(e){if(!((e=String(e)).length>100)){var o=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(o){var s=parseFloat(o[1]);switch((o[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*s;case"weeks":case"week":case"w":return 6048e5*s;case"days":case"day":case"d":return s*i;case"hours":case"hour":case"hrs":case"hr":case"h":return s*n;case"minutes":case"minute":case"mins":case"min":case"m":return s*r;case"seconds":case"second":case"secs":case"sec":case"s":return s*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s;default:return}}}}(e);if("number"===u&&isFinite(e))return s.long?(a=e,(c=Math.abs(a))>=i?o(a,c,i,"day"):c>=n?o(a,c,n,"hour"):c>=r?o(a,c,r,"minute"):c>=t?o(a,c,t,"second"):a+" ms"):function(e){var o=Math.abs(e);return o>=i?Math.round(e/i)+"d":o>=n?Math.round(e/n)+"h":o>=r?Math.round(e/r)+"m":o>=t?Math.round(e/t)+"s":e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},41275:e=>{var t=function(e){return e!=e};e.exports=function(e,r){return 0===e&&0===r?1/e==1/r:e===r||!(!t(e)||!t(r))}},92369:(e,t,r)=>{var n=r(96116),i=r(37694),o=r(41275),s=r(84382),a=r(13284),c=i(s(),Object);n(c,{getPolyfill:s,implementation:o,shim:a}),e.exports=c},84382:(e,t,r)=>{var n=r(41275);e.exports=function(){return"function"==typeof Object.is?Object.is:n}},13284:(e,t,r)=>{var n=r(84382),i=r(96116);e.exports=function(){var e=n();return i(Object,{is:e},{is:function(){return Object.is!==e}}),e}},99521:(e,t,r)=>{var n;if(!Object.keys){var i=Object.prototype.hasOwnProperty,o=Object.prototype.toString,s=r(70478),a=Object.prototype.propertyIsEnumerable,c=!a.call({toString:null},"toString"),u=a.call((function(){}),"prototype"),f=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],l=function(e){var t=e.constructor;return t&&t.prototype===e},h={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},d=function(){if("undefined"==typeof window)return!1;for(var e in window)try{if(!h["$"+e]&&i.call(window,e)&&null!==window[e]&&"object"==typeof window[e])try{l(window[e])}catch(e){return!0}}catch(e){return!0}return!1}();n=function(e){var t=null!==e&&"object"==typeof e,r="[object Function]"===o.call(e),n=s(e),a=t&&"[object String]"===o.call(e),h=[];if(!t&&!r&&!n)throw new TypeError("Object.keys called on a non-object");var p=u&&r;if(a&&e.length>0&&!i.call(e,0))for(var b=0;b<e.length;++b)h.push(String(b));if(n&&e.length>0)for(var y=0;y<e.length;++y)h.push(String(y));else for(var m in e)p&&"prototype"===m||!i.call(e,m)||h.push(String(m));if(c)for(var v=function(e){if("undefined"==typeof window||!d)return l(e);try{return l(e)}catch(e){return!1}}(e),g=0;g<f.length;++g)v&&"constructor"===f[g]||!i.call(e,f[g])||h.push(f[g]);return h}}e.exports=n},89328:(e,t,r)=>{var n=Array.prototype.slice,i=r(70478),o=Object.keys,s=o?function(e){return o(e)}:r(99521),a=Object.keys;s.shim=function(){if(Object.keys){var e=function(){var e=Object.keys(arguments);return e&&e.length===arguments.length}(1,2);e||(Object.keys=function(e){return i(e)?a(n.call(e)):a(e)})}else Object.keys=s;return Object.keys||s},e.exports=s},70478:e=>{var t=Object.prototype.toString;e.exports=function(e){var r=t.call(e),n="[object Arguments]"===r;return n||(n="[object Array]"!==r&&null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Function]"===t.call(e.callee)),n}},14068:(e,t)=>{t.endianness=function(){return"LE"},t.hostname=function(){return"undefined"!=typeof location?location.hostname:""},t.loadavg=function(){return[]},t.uptime=function(){return 0},t.freemem=function(){return Number.MAX_VALUE},t.totalmem=function(){return Number.MAX_VALUE},t.cpus=function(){return[]},t.type=function(){return"Browser"},t.release=function(){return"undefined"!=typeof navigator?navigator.appVersion:""},t.networkInterfaces=t.getNetworkInterfaces=function(){return{}},t.arch=function(){return"javascript"},t.platform=function(){return"browser"},t.tmpdir=t.tmpDir=function(){return"/tmp"},t.EOL="\n",t.homedir=function(){return"/"}},79570:(e,t,r)=>{var n=r(30470);t.certificate=r(16256);var i=n.define("RSAPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())}));t.RSAPrivateKey=i;var o=n.define("RSAPublicKey",(function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())}));t.RSAPublicKey=o;var s=n.define("SubjectPublicKeyInfo",(function(){this.seq().obj(this.key("algorithm").use(a),this.key("subjectPublicKey").bitstr())}));t.PublicKey=s;var a=n.define("AlgorithmIdentifier",(function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())})),c=n.define("PrivateKeyInfo",(function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(a),this.key("subjectPrivateKey").octstr())}));t.PrivateKey=c;var u=n.define("EncryptedPrivateKeyInfo",(function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())}));t.EncryptedPrivateKey=u;var f=n.define("DSAPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())}));t.DSAPrivateKey=f,t.DSAparam=n.define("DSAparam",(function(){this.int()}));var l=n.define("ECPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(h),this.key("publicKey").optional().explicit(1).bitstr())}));t.ECPrivateKey=l;var h=n.define("ECParameters",(function(){this.choice({namedCurve:this.objid()})}));t.signature=n.define("signature",(function(){this.seq().obj(this.key("r").int(),this.key("s").int())}))},16256:(e,t,r)=>{var n=r(30470),i=n.define("Time",(function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})})),o=n.define("AttributeTypeValue",(function(){this.seq().obj(this.key("type").objid(),this.key("value").any())})),s=n.define("AlgorithmIdentifier",(function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())})),a=n.define("SubjectPublicKeyInfo",(function(){this.seq().obj(this.key("algorithm").use(s),this.key("subjectPublicKey").bitstr())})),c=n.define("RelativeDistinguishedName",(function(){this.setof(o)})),u=n.define("RDNSequence",(function(){this.seqof(c)})),f=n.define("Name",(function(){this.choice({rdnSequence:this.use(u)})})),l=n.define("Validity",(function(){this.seq().obj(this.key("notBefore").use(i),this.key("notAfter").use(i))})),h=n.define("Extension",(function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())})),d=n.define("TBSCertificate",(function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(s),this.key("issuer").use(f),this.key("validity").use(l),this.key("subject").use(f),this.key("subjectPublicKeyInfo").use(a),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(h).optional())})),p=n.define("X509Certificate",(function(){this.seq().obj(this.key("tbsCertificate").use(d),this.key("signatureAlgorithm").use(s),this.key("signatureValue").bitstr())}));e.exports=p},75042:(e,t,r)=>{var n=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,i=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,o=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,s=r(80073),a=r(55687),c=r(49685).Buffer;e.exports=function(e,t){var r,u=e.toString(),f=u.match(n);if(f){var l="aes"+f[1],h=c.from(f[2],"hex"),d=c.from(f[3].replace(/[\r\n]/g,""),"base64"),p=s(t,h.slice(0,8),parseInt(f[1],10)).key,b=[],y=a.createDecipheriv(l,p,h);b.push(y.update(d)),b.push(y.final()),r=c.concat(b)}else{var m=u.match(o);r=c.from(m[2].replace(/[\r\n]/g,""),"base64")}return{tag:u.match(i)[1],data:r}}},10622:(e,t,r)=>{var n=r(79570),i=r(3679),o=r(75042),s=r(55687),a=r(3972),c=r(49685).Buffer;function u(e){var t;"object"!=typeof e||c.isBuffer(e)||(t=e.passphrase,e=e.key),"string"==typeof e&&(e=c.from(e));var r,u,f=o(e,t),l=f.tag,h=f.data;switch(l){case"CERTIFICATE":u=n.certificate.decode(h,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(u||(u=n.PublicKey.decode(h,"der")),r=u.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return n.RSAPublicKey.decode(u.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return u.subjectPrivateKey=u.subjectPublicKey,{type:"ec",data:u};case"1.2.840.10040.4.1":return u.algorithm.params.pub_key=n.DSAparam.decode(u.subjectPublicKey.data,"der"),{type:"dsa",data:u.algorithm.params};default:throw new Error("unknown key id "+r)}case"ENCRYPTED PRIVATE KEY":h=function(e,t){var r=e.algorithm.decrypt.kde.kdeparams.salt,n=parseInt(e.algorithm.decrypt.kde.kdeparams.iters.toString(),10),o=i[e.algorithm.decrypt.cipher.algo.join(".")],u=e.algorithm.decrypt.cipher.iv,f=e.subjectPrivateKey,l=parseInt(o.split("-")[1],10)/8,h=a.pbkdf2Sync(t,r,n,l,"sha1"),d=s.createDecipheriv(o,h,u),p=[];return p.push(d.update(f)),p.push(d.final()),c.concat(p)}(h=n.EncryptedPrivateKey.decode(h,"der"),t);case"PRIVATE KEY":switch(r=(u=n.PrivateKey.decode(h,"der")).algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return n.RSAPrivateKey.decode(u.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:u.algorithm.curve,privateKey:n.ECPrivateKey.decode(u.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return u.algorithm.params.priv_key=n.DSAparam.decode(u.subjectPrivateKey,"der"),{type:"dsa",params:u.algorithm.params};default:throw new Error("unknown key id "+r)}case"RSA PUBLIC KEY":return n.RSAPublicKey.decode(h,"der");case"RSA PRIVATE KEY":return n.RSAPrivateKey.decode(h,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:n.DSAPrivateKey.decode(h,"der")};case"EC PRIVATE KEY":return{curve:(h=n.ECPrivateKey.decode(h,"der")).parameters.value,privateKey:h.privateKey};default:throw new Error("unknown key type "+l)}}e.exports=u,u.signature=n.signature},3972:(e,t,r)=>{t.pbkdf2=r(68705),t.pbkdf2Sync=r(86799)},68705:(e,t,r)=>{var n,i,o=r(49685).Buffer,s=r(78647),a=r(51796),c=r(86799),u=r(87389),f=r.g.crypto&&r.g.crypto.subtle,l={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},h=[];function d(){return i||(i=r.g.process&&r.g.process.nextTick?r.g.process.nextTick:r.g.queueMicrotask?r.g.queueMicrotask:r.g.setImmediate?r.g.setImmediate:r.g.setTimeout)}function p(e,t,r,n,i){return f.importKey("raw",e,{name:"PBKDF2"},!1,["deriveBits"]).then((function(e){return f.deriveBits({name:"PBKDF2",salt:t,iterations:r,hash:{name:i}},e,n<<3)})).then((function(e){return o.from(e)}))}e.exports=function(e,t,i,b,y,m){"function"==typeof y&&(m=y,y=void 0);var v=l[(y=y||"sha1").toLowerCase()];if(v&&"function"==typeof r.g.Promise){if(s(i,b),e=u(e,a,"Password"),t=u(t,a,"Salt"),"function"!=typeof m)throw new Error("No callback provided to pbkdf2");!function(e,t){e.then((function(e){d()((function(){t(null,e)}))}),(function(e){d()((function(){t(e)}))}))}(function(e){if(r.g.process&&!r.g.process.browser)return Promise.resolve(!1);if(!f||!f.importKey||!f.deriveBits)return Promise.resolve(!1);if(void 0!==h[e])return h[e];var t=p(n=n||o.alloc(8),n,10,128,e).then((function(){return!0})).catch((function(){return!1}));return h[e]=t,t}(v).then((function(r){return r?p(e,t,i,b,v):c(e,t,i,b,y)})),m)}else d()((function(){var r;try{r=c(e,t,i,b,y)}catch(e){return m(e)}m(null,r)}))}},51796:(e,t,r)=>{var n,i=r(12695);n=r.g.process&&r.g.process.browser?"utf-8":r.g.process&&r.g.process.version?parseInt(i.version.split(".")[0].slice(1),10)>=6?"utf-8":"binary":"utf-8",e.exports=n},78647:e=>{var t=Math.pow(2,30)-1;e.exports=function(e,r){if("number"!=typeof e)throw new TypeError("Iterations not a number");if(e<0)throw new TypeError("Bad iterations");if("number"!=typeof r)throw new TypeError("Key length not a number");if(r<0||r>t||r!=r)throw new TypeError("Bad key length")}},86799:(e,t,r)=>{var n=r(28247),i=r(46455),o=r(8909),s=r(49685).Buffer,a=r(78647),c=r(51796),u=r(87389),f=s.alloc(128),l={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function h(e,t,r){var a=function(e){return"rmd160"===e||"ripemd160"===e?function(e){return(new i).update(e).digest()}:"md5"===e?n:function(t){return o(e).update(t).digest()}}(e),c="sha512"===e||"sha384"===e?128:64;t.length>c?t=a(t):t.length<c&&(t=s.concat([t,f],c));for(var u=s.allocUnsafe(c+l[e]),h=s.allocUnsafe(c+l[e]),d=0;d<c;d++)u[d]=54^t[d],h[d]=92^t[d];var p=s.allocUnsafe(c+r+4);u.copy(p,0,0,c),this.ipad1=p,this.ipad2=u,this.opad=h,this.alg=e,this.blocksize=c,this.hash=a,this.size=l[e]}h.prototype.run=function(e,t){return e.copy(t,this.blocksize),this.hash(t).copy(this.opad,this.blocksize),this.hash(this.opad)},e.exports=function(e,t,r,n,i){a(r,n);var o=new h(i=i||"sha1",e=u(e,c,"Password"),(t=u(t,c,"Salt")).length),f=s.allocUnsafe(n),d=s.allocUnsafe(t.length+4);t.copy(d,0,0,t.length);for(var p=0,b=l[i],y=Math.ceil(n/b),m=1;m<=y;m++){d.writeUInt32BE(m,t.length);for(var v=o.run(d,o.ipad1),g=v,w=1;w<r;w++){g=o.run(g,o.ipad2);for(var _=0;_<b;_++)v[_]^=g[_]}v.copy(f,p),p+=b}return f}},87389:(e,t,r)=>{var n=r(49685).Buffer;e.exports=function(e,t,r){if(n.isBuffer(e))return e;if("string"==typeof e)return n.from(e,t);if(ArrayBuffer.isView(e))return n.from(e.buffer);throw new TypeError(r+" must be a string, a Buffer, a typed array or a DataView")}},12695:e=>{var t,r,n=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function s(e){if(t===setTimeout)return setTimeout(e,0);if((t===i||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(r){try{return t.call(null,e,0)}catch(r){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:i}catch(e){t=i}try{r="function"==typeof clearTimeout?clearTimeout:o}catch(e){r=o}}();var a,c=[],u=!1,f=-1;function l(){u&&a&&(u=!1,a.length?c=a.concat(c):f=-1,c.length&&h())}function h(){if(!u){var e=s(l);u=!0;for(var t=c.length;t;){for(a=c,c=[];++f<t;)a&&a[f].run();f=-1,t=c.length}a=null,u=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===o||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function d(e,t){this.fun=e,this.array=t}function p(){}n.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];c.push(new d(e,t)),1!==c.length||u||s(h)},d.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=p,n.addListener=p,n.once=p,n.off=p,n.removeListener=p,n.removeAllListeners=p,n.emit=p,n.prependListener=p,n.prependOnceListener=p,n.listeners=function(e){return[]},n.binding=function(e){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(e){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},73247:(e,t,r)=>{t.publicEncrypt=r(49789),t.privateDecrypt=r(96545),t.privateEncrypt=function(e,r){return t.publicEncrypt(e,r,!0)},t.publicDecrypt=function(e,r){return t.privateDecrypt(e,r,!0)}},35553:(e,t,r)=>{var n=r(79759),i=r(49685).Buffer;function o(e){var t=i.allocUnsafe(4);return t.writeUInt32BE(e,0),t}e.exports=function(e,t){for(var r,s=i.alloc(0),a=0;s.length<t;)r=o(a++),s=i.concat([s,n("sha1").update(e).update(r).digest()]);return s.slice(0,t)}},96545:(e,t,r)=>{var n=r(10622),i=r(35553),o=r(96055),s=r(65482),a=r(78709),c=r(79759),u=r(79050),f=r(49685).Buffer;e.exports=function(e,t,r){var l;l=e.padding?e.padding:r?1:4;var h,d=n(e),p=d.modulus.byteLength();if(t.length>p||new s(t).cmp(d.modulus)>=0)throw new Error("decryption error");h=r?u(new s(t),d):a(t,d);var b=f.alloc(p-h.length);if(h=f.concat([b,h],p),4===l)return function(e,t){var r=e.modulus.byteLength(),n=c("sha1").update(f.alloc(0)).digest(),s=n.length;if(0!==t[0])throw new Error("decryption error");var a=t.slice(1,s+1),u=t.slice(s+1),l=o(a,i(u,s)),h=o(u,i(l,r-s-1));if(function(e,t){e=f.from(e),t=f.from(t);var r=0,n=e.length;e.length!==t.length&&(r++,n=Math.min(e.length,t.length));for(var i=-1;++i<n;)r+=e[i]^t[i];return r}(n,h.slice(0,s)))throw new Error("decryption error");for(var d=s;0===h[d];)d++;if(1!==h[d++])throw new Error("decryption error");return h.slice(d)}(d,h);if(1===l)return function(e,t,r){for(var n=t.slice(0,2),i=2,o=0;0!==t[i++];)if(i>=t.length){o++;break}var s=t.slice(2,i-1);if(("0002"!==n.toString("hex")&&!r||"0001"!==n.toString("hex")&&r)&&o++,s.length<8&&o++,o)throw new Error("decryption error");return t.slice(i)}(0,h,r);if(3===l)return h;throw new Error("unknown padding")}},49789:(e,t,r)=>{var n=r(10622),i=r(88737),o=r(79759),s=r(35553),a=r(96055),c=r(65482),u=r(79050),f=r(78709),l=r(49685).Buffer;e.exports=function(e,t,r){var h;h=e.padding?e.padding:r?1:4;var d,p=n(e);if(4===h)d=function(e,t){var r=e.modulus.byteLength(),n=t.length,u=o("sha1").update(l.alloc(0)).digest(),f=u.length,h=2*f;if(n>r-h-2)throw new Error("message too long");var d=l.alloc(r-n-h-2),p=r-f-1,b=i(f),y=a(l.concat([u,d,l.alloc(1,1),t],p),s(b,p)),m=a(b,s(y,f));return new c(l.concat([l.alloc(1),m,y],r))}(p,t);else if(1===h)d=function(e,t,r){var n,o=t.length,s=e.modulus.byteLength();if(o>s-11)throw new Error("message too long");return n=r?l.alloc(s-o-3,255):function(e){for(var t,r=l.allocUnsafe(e),n=0,o=i(2*e),s=0;n<e;)s===o.length&&(o=i(2*e),s=0),(t=o[s++])&&(r[n++]=t);return r}(s-o-3),new c(l.concat([l.from([0,r?1:2]),n,l.alloc(1),t],s))}(p,t,r);else{if(3!==h)throw new Error("unknown padding");if((d=new c(t)).cmp(p.modulus)>=0)throw new Error("data too long for modulus")}return r?f(d,p):u(d,p)}},79050:(e,t,r)=>{var n=r(65482),i=r(49685).Buffer;e.exports=function(e,t){return i.from(e.toRed(n.mont(t.modulus)).redPow(new n(t.publicExponent)).fromRed().toArray())}},96055:e=>{e.exports=function(e,t){for(var r=e.length,n=-1;++n<r;)e[n]^=t[n];return e}},42233:function(e,t,r){var n;e=r.nmd(e),function(i){t&&t.nodeType,e&&e.nodeType;var o="object"==typeof r.g&&r.g;o.global!==o&&o.window!==o&&o.self;var s,a=2147483647,c=36,u=/^xn--/,f=/[^\x20-\x7E]/,l=/[\x2E\u3002\uFF0E\uFF61]/g,h={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},d=Math.floor,p=String.fromCharCode;function b(e){throw RangeError(h[e])}function y(e,t){for(var r=e.length,n=[];r--;)n[r]=t(e[r]);return n}function m(e,t){var r=e.split("@"),n="";return r.length>1&&(n=r[0]+"@",e=r[1]),n+y((e=e.replace(l,".")).split("."),t).join(".")}function v(e){for(var t,r,n=[],i=0,o=e.length;i<o;)(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<o?56320==(64512&(r=e.charCodeAt(i++)))?n.push(((1023&t)<<10)+(1023&r)+65536):(n.push(t),i--):n.push(t);return n}function g(e){return y(e,(function(e){var t="";return e>65535&&(t+=p((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+p(e)})).join("")}function w(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function _(e,t,r){var n=0;for(e=r?d(e/700):e>>1,e+=d(e/t);e>455;n+=c)e=d(e/35);return d(n+36*e/(e+38))}function S(e){var t,r,n,i,o,s,u,f,l,h,p,y=[],m=e.length,v=0,w=128,S=72;for((r=e.lastIndexOf("-"))<0&&(r=0),n=0;n<r;++n)e.charCodeAt(n)>=128&&b("not-basic"),y.push(e.charCodeAt(n));for(i=r>0?r+1:0;i<m;){for(o=v,s=1,u=c;i>=m&&b("invalid-input"),((f=(p=e.charCodeAt(i++))-48<10?p-22:p-65<26?p-65:p-97<26?p-97:c)>=c||f>d((a-v)/s))&&b("overflow"),v+=f*s,!(f<(l=u<=S?1:u>=S+26?26:u-S));u+=c)s>d(a/(h=c-l))&&b("overflow"),s*=h;S=_(v-o,t=y.length+1,0==o),d(v/t)>a-w&&b("overflow"),w+=d(v/t),v%=t,y.splice(v++,0,w)}return g(y)}function E(e){var t,r,n,i,o,s,u,f,l,h,y,m,g,S,E,O=[];for(m=(e=v(e)).length,t=128,r=0,o=72,s=0;s<m;++s)(y=e[s])<128&&O.push(p(y));for(n=i=O.length,i&&O.push("-");n<m;){for(u=a,s=0;s<m;++s)(y=e[s])>=t&&y<u&&(u=y);for(u-t>d((a-r)/(g=n+1))&&b("overflow"),r+=(u-t)*g,t=u,s=0;s<m;++s)if((y=e[s])<t&&++r>a&&b("overflow"),y==t){for(f=r,l=c;!(f<(h=l<=o?1:l>=o+26?26:l-o));l+=c)E=f-h,S=c-h,O.push(p(w(h+E%S,0))),f=d(E/S);O.push(p(w(f,0))),o=_(r,g,n==i),r=0,++n}++r,++t}return O.join("")}s={version:"1.3.2",ucs2:{decode:v,encode:g},decode:S,encode:E,toASCII:function(e){return m(e,(function(e){return f.test(e)?"xn--"+E(e):e}))},toUnicode:function(e){return m(e,(function(e){return u.test(e)?S(e.slice(4).toLowerCase()):e}))}},void 0===(n=function(){return s}.call(t,r,t,e))||(e.exports=n)}()},95564:(e,t,r)=>{const n=r(93218),i=r(1201),o=r(61422),s=r(22742),a=Symbol("encodeFragmentIdentifier");function c(e){if("string"!=typeof e||1!==e.length)throw new TypeError("arrayFormatSeparator must be single character string")}function u(e,t){return t.encode?t.strict?n(e):encodeURIComponent(e):e}function f(e,t){return t.decode?i(e):e}function l(e){return Array.isArray(e)?e.sort():"object"==typeof e?l(Object.keys(e)).sort(((e,t)=>Number(e)-Number(t))).map((t=>e[t])):e}function h(e){const t=e.indexOf("#");return-1!==t&&(e=e.slice(0,t)),e}function d(e){const t=(e=h(e)).indexOf("?");return-1===t?"":e.slice(t+1)}function p(e,t){return t.parseNumbers&&!Number.isNaN(Number(e))&&"string"==typeof e&&""!==e.trim()?e=Number(e):!t.parseBooleans||null===e||"true"!==e.toLowerCase()&&"false"!==e.toLowerCase()||(e="true"===e.toLowerCase()),e}function b(e,t){c((t=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},t)).arrayFormatSeparator);const r=function(e){let t;switch(e.arrayFormat){case"index":return(e,r,n)=>{t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===n[e]&&(n[e]={}),n[e][t[1]]=r):n[e]=r};case"bracket":return(e,r,n)=>{t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==n[e]?n[e]=[].concat(n[e],r):n[e]=[r]:n[e]=r};case"colon-list-separator":return(e,r,n)=>{t=/(:list)$/.exec(e),e=e.replace(/:list$/,""),t?void 0!==n[e]?n[e]=[].concat(n[e],r):n[e]=[r]:n[e]=r};case"comma":case"separator":return(t,r,n)=>{const i="string"==typeof r&&r.includes(e.arrayFormatSeparator),o="string"==typeof r&&!i&&f(r,e).includes(e.arrayFormatSeparator);r=o?f(r,e):r;const s=i||o?r.split(e.arrayFormatSeparator).map((t=>f(t,e))):null===r?r:f(r,e);n[t]=s};case"bracket-separator":return(t,r,n)=>{const i=/(\[\])$/.test(t);if(t=t.replace(/\[\]$/,""),!i)return void(n[t]=r?f(r,e):r);const o=null===r?[]:r.split(e.arrayFormatSeparator).map((t=>f(t,e)));void 0!==n[t]?n[t]=[].concat(n[t],o):n[t]=o};default:return(e,t,r)=>{void 0!==r[e]?r[e]=[].concat(r[e],t):r[e]=t}}}(t),n=Object.create(null);if("string"!=typeof e)return n;if(!(e=e.trim().replace(/^[?#&]/,"")))return n;for(const i of e.split("&")){if(""===i)continue;let[e,s]=o(t.decode?i.replace(/\+/g," "):i,"=");s=void 0===s?null:["comma","separator","bracket-separator"].includes(t.arrayFormat)?s:f(s,t),r(f(e,t),s,n)}for(const e of Object.keys(n)){const r=n[e];if("object"==typeof r&&null!==r)for(const e of Object.keys(r))r[e]=p(r[e],t);else n[e]=p(r,t)}return!1===t.sort?n:(!0===t.sort?Object.keys(n).sort():Object.keys(n).sort(t.sort)).reduce(((e,t)=>{const r=n[t];return Boolean(r)&&"object"==typeof r&&!Array.isArray(r)?e[t]=l(r):e[t]=r,e}),Object.create(null))}t.extract=d,t.parse=b,t.stringify=(e,t)=>{if(!e)return"";c((t=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},t)).arrayFormatSeparator);const r=r=>t.skipNull&&null==e[r]||t.skipEmptyString&&""===e[r],n=function(e){switch(e.arrayFormat){case"index":return t=>(r,n)=>{const i=r.length;return void 0===n||e.skipNull&&null===n||e.skipEmptyString&&""===n?r:null===n?[...r,[u(t,e),"[",i,"]"].join("")]:[...r,[u(t,e),"[",u(i,e),"]=",u(n,e)].join("")]};case"bracket":return t=>(r,n)=>void 0===n||e.skipNull&&null===n||e.skipEmptyString&&""===n?r:null===n?[...r,[u(t,e),"[]"].join("")]:[...r,[u(t,e),"[]=",u(n,e)].join("")];case"colon-list-separator":return t=>(r,n)=>void 0===n||e.skipNull&&null===n||e.skipEmptyString&&""===n?r:null===n?[...r,[u(t,e),":list="].join("")]:[...r,[u(t,e),":list=",u(n,e)].join("")];case"comma":case"separator":case"bracket-separator":{const t="bracket-separator"===e.arrayFormat?"[]=":"=";return r=>(n,i)=>void 0===i||e.skipNull&&null===i||e.skipEmptyString&&""===i?n:(i=null===i?"":i,0===n.length?[[u(r,e),t,u(i,e)].join("")]:[[n,u(i,e)].join(e.arrayFormatSeparator)])}default:return t=>(r,n)=>void 0===n||e.skipNull&&null===n||e.skipEmptyString&&""===n?r:null===n?[...r,u(t,e)]:[...r,[u(t,e),"=",u(n,e)].join("")]}}(t),i={};for(const t of Object.keys(e))r(t)||(i[t]=e[t]);const o=Object.keys(i);return!1!==t.sort&&o.sort(t.sort),o.map((r=>{const i=e[r];return void 0===i?"":null===i?u(r,t):Array.isArray(i)?0===i.length&&"bracket-separator"===t.arrayFormat?u(r,t)+"[]":i.reduce(n(r),[]).join("&"):u(r,t)+"="+u(i,t)})).filter((e=>e.length>0)).join("&")},t.parseUrl=(e,t)=>{t=Object.assign({decode:!0},t);const[r,n]=o(e,"#");return Object.assign({url:r.split("?")[0]||"",query:b(d(e),t)},t&&t.parseFragmentIdentifier&&n?{fragmentIdentifier:f(n,t)}:{})},t.stringifyUrl=(e,r)=>{r=Object.assign({encode:!0,strict:!0,[a]:!0},r);const n=h(e.url).split("?")[0]||"",i=t.extract(e.url),o=t.parse(i,{sort:!1}),s=Object.assign(o,e.query);let c=t.stringify(s,r);c&&(c=`?${c}`);let f=function(e){let t="";const r=e.indexOf("#");return-1!==r&&(t=e.slice(r)),t}(e.url);return e.fragmentIdentifier&&(f=`#${r[a]?u(e.fragmentIdentifier,r):e.fragmentIdentifier}`),`${n}${c}${f}`},t.pick=(e,r,n)=>{n=Object.assign({parseFragmentIdentifier:!0,[a]:!1},n);const{url:i,query:o,fragmentIdentifier:c}=t.parseUrl(e,n);return t.stringifyUrl({url:i,query:s(o,r),fragmentIdentifier:c},n)},t.exclude=(e,r,n)=>{const i=Array.isArray(r)?e=>!r.includes(e):(e,t)=>!r(e,t);return t.pick(e,i,n)}},39388:e=>{function t(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,n,i,o){n=n||"&",i=i||"=";var s={};if("string"!=typeof e||0===e.length)return s;var a=/\+/g;e=e.split(n);var c=1e3;o&&"number"==typeof o.maxKeys&&(c=o.maxKeys);var u=e.length;c>0&&u>c&&(u=c);for(var f=0;f<u;++f){var l,h,d,p,b=e[f].replace(a,"%20"),y=b.indexOf(i);y>=0?(l=b.substr(0,y),h=b.substr(y+1)):(l=b,h=""),d=decodeURIComponent(l),p=decodeURIComponent(h),t(s,d)?r(s[d])?s[d].push(p):s[d]=[s[d],p]:s[d]=p}return s};var r=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},62710:e=>{var t=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,o,s,a){return o=o||"&",s=s||"=",null===e&&(e=void 0),"object"==typeof e?n(i(e),(function(i){var a=encodeURIComponent(t(i))+s;return r(e[i])?n(e[i],(function(e){return a+encodeURIComponent(t(e))})).join(o):a+encodeURIComponent(t(e[i]))})).join(o):a?encodeURIComponent(t(a))+s+encodeURIComponent(t(e)):""};var r=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function n(e,t){if(e.map)return e.map(t);for(var r=[],n=0;n<e.length;n++)r.push(t(e[n],n));return r}var i=Object.keys||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return t}},65953:(e,t,r)=>{t.decode=t.parse=r(39388),t.encode=t.stringify=r(62710)},7004:e=>{function t(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,r,n,i){r=r||"&",n=n||"=";var o={};if("string"!=typeof e||0===e.length)return o;var s=/\+/g;e=e.split(r);var a=1e3;i&&"number"==typeof i.maxKeys&&(a=i.maxKeys);var c=e.length;a>0&&c>a&&(c=a);for(var u=0;u<c;++u){var f,l,h,d,p=e[u].replace(s,"%20"),b=p.indexOf(n);b>=0?(f=p.substr(0,b),l=p.substr(b+1)):(f=p,l=""),h=decodeURIComponent(f),d=decodeURIComponent(l),t(o,h)?Array.isArray(o[h])?o[h].push(d):o[h]=[o[h],d]:o[h]=d}return o}},84399:e=>{var t=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,r,n,i){return r=r||"&",n=n||"=",null===e&&(e=void 0),"object"==typeof e?Object.keys(e).map((function(i){var o=encodeURIComponent(t(i))+n;return Array.isArray(e[i])?e[i].map((function(e){return o+encodeURIComponent(t(e))})).join(r):o+encodeURIComponent(t(e[i]))})).join(r):i?encodeURIComponent(t(i))+n+encodeURIComponent(t(e)):""}},9278:(e,t,r)=>{t.decode=t.parse=r(7004),t.encode=t.stringify=r(84399)},88737:(e,t,r)=>{var n=r(12695),i=65536,o=r(49685).Buffer,s=r.g.crypto||r.g.msCrypto;s&&s.getRandomValues?e.exports=function(e,t){if(e>4294967295)throw new RangeError("requested too many random bytes");var r=o.allocUnsafe(e);if(e>0)if(e>i)for(var a=0;a<e;a+=i)s.getRandomValues(r.slice(a,a+i));else s.getRandomValues(r);return"function"==typeof t?n.nextTick((function(){t(null,r)})):r}:e.exports=function(){throw new Error("Secure random number generation is not supported by this browser.\nUse Chrome, Firefox or Internet Explorer 11")}},43752:(e,t,r)=>{var n=r(12695);function i(){throw new Error("secure random number generation not supported by this browser\nuse chrome, FireFox or Internet Explorer 11")}var o=r(49685),s=r(88737),a=o.Buffer,c=o.kMaxLength,u=r.g.crypto||r.g.msCrypto,f=Math.pow(2,32)-1;function l(e,t){if("number"!=typeof e||e!=e)throw new TypeError("offset must be a number");if(e>f||e<0)throw new TypeError("offset must be a uint32");if(e>c||e>t)throw new RangeError("offset out of range")}function h(e,t,r){if("number"!=typeof e||e!=e)throw new TypeError("size must be a number");if(e>f||e<0)throw new TypeError("size must be a uint32");if(e+t>r||e>c)throw new RangeError("buffer too small")}function d(e,t,r,i){if(n.browser){var o=e.buffer,a=new Uint8Array(o,t,r);return u.getRandomValues(a),i?void n.nextTick((function(){i(null,e)})):e}if(!i)return s(r).copy(e,t),e;s(r,(function(r,n){if(r)return i(r);n.copy(e,t),i(null,e)}))}u&&u.getRandomValues||!n.browser?(t.randomFill=function(e,t,n,i){if(!(a.isBuffer(e)||e instanceof r.g.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if("function"==typeof t)i=t,t=0,n=e.length;else if("function"==typeof n)i=n,n=e.length-t;else if("function"!=typeof i)throw new TypeError('"cb" argument must be a function');return l(t,e.length),h(n,t,e.length),d(e,t,n,i)},t.randomFillSync=function(e,t,n){if(void 0===t&&(t=0),!(a.isBuffer(e)||e instanceof r.g.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return l(t,e.length),void 0===n&&(n=e.length-t),h(n,t,e.length),d(e,t,n)}):(t.randomFill=i,t.randomFillSync=i)},90553:e=>{var t={};function r(e,r,n){n||(n=Error);var i=function(e){var t,n;function i(t,n,i){return e.call(this,function(e,t,n){return"string"==typeof r?r:r(e,t,n)}(t,n,i))||this}return n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,i}(n);i.prototype.name=n.name,i.prototype.code=e,t[e]=i}function n(e,t){if(Array.isArray(e)){var r=e.length;return e=e.map((function(e){return String(e)})),r>2?"one of ".concat(t," ").concat(e.slice(0,r-1).join(", "),", or ")+e[r-1]:2===r?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}return"of ".concat(t," ").concat(String(e))}r("ERR_INVALID_OPT_VALUE",(function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'}),TypeError),r("ERR_INVALID_ARG_TYPE",(function(e,t,r){var i,o,s,a,c;if("string"==typeof t&&(o="not ",t.substr(0,o.length)===o)?(i="must not be",t=t.replace(/^not /,"")):i="must be",function(e,t,r){return(void 0===r||r>e.length)&&(r=e.length),e.substring(r-t.length,r)===t}(e," argument"))s="The ".concat(e," ").concat(i," ").concat(n(t,"type"));else{var u=("number"!=typeof c&&(c=0),c+".".length>(a=e).length||-1===a.indexOf(".",c)?"argument":"property");s='The "'.concat(e,'" ').concat(u," ").concat(i," ").concat(n(t,"type"))}return s+". Received type ".concat(typeof r)}),TypeError),r("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),r("ERR_METHOD_NOT_IMPLEMENTED",(function(e){return"The "+e+" method is not implemented"})),r("ERR_STREAM_PREMATURE_CLOSE","Premature close"),r("ERR_STREAM_DESTROYED",(function(e){return"Cannot call "+e+" after a stream was destroyed"})),r("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),r("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),r("ERR_STREAM_WRITE_AFTER_END","write after end"),r("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),r("ERR_UNKNOWN_ENCODING",(function(e){return"Unknown encoding: "+e}),TypeError),r("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),e.exports.q=t},70673:(e,t,r)=>{var n=r(12695),i=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};e.exports=f;var o=r(95006),s=r(98719);r(23730)(f,o);for(var a=i(s.prototype),c=0;c<a.length;c++){var u=a[c];f.prototype[u]||(f.prototype[u]=s.prototype[u])}function f(e){if(!(this instanceof f))return new f(e);o.call(this,e),s.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",l)))}function l(){this._writableState.ended||n.nextTick(h,this)}function h(e){e.end()}Object.defineProperty(f.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(f.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(f.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(f.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}})},24324:(e,t,r)=>{e.exports=i;var n=r(48597);function i(e){if(!(this instanceof i))return new i(e);n.call(this,e)}r(23730)(i,n),i.prototype._transform=function(e,t,r){r(null,e)}},95006:(e,t,r)=>{var n,i=r(12695);e.exports=T,T.ReadableState=O,r(33346).EventEmitter;var o,s=function(e,t){return e.listeners(t).length},a=r(48208),c=r(97866).Buffer,u=r.g.Uint8Array||function(){},f=r(56029);o=f&&f.debuglog?f.debuglog("stream"):function(){};var l,h,d,p=r(24506),b=r(33390),y=r(21111).getHighWaterMark,m=r(90553).q,v=m.ERR_INVALID_ARG_TYPE,g=m.ERR_STREAM_PUSH_AFTER_EOF,w=m.ERR_METHOD_NOT_IMPLEMENTED,_=m.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;r(23730)(T,a);var S=b.errorOrDestroy,E=["error","close","destroy","pause","resume"];function O(e,t,i){n=n||r(70673),e=e||{},"boolean"!=typeof i&&(i=t instanceof n),this.objectMode=!!e.objectMode,i&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=y(this,e,"readableHighWaterMark",i),this.buffer=new p,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(l||(l=r(37361).StringDecoder),this.decoder=new l(e.encoding),this.encoding=e.encoding)}function T(e){if(n=n||r(70673),!(this instanceof T))return new T(e);var t=this instanceof n;this._readableState=new O(e,this,t),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),a.call(this)}function x(e,t,r,n,i){o("readableAddChunk",t);var s,a=e._readableState;if(null===t)a.reading=!1,function(e,t){if(o("onEofChunk"),!t.ended){if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,t.sync?j(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,k(e)))}}(e,a);else if(i||(s=function(e,t){var r,n;return n=t,c.isBuffer(n)||n instanceof u||"string"==typeof t||void 0===t||e.objectMode||(r=new v("chunk",["string","Buffer","Uint8Array"],t)),r}(a,t)),s)S(e,s);else if(a.objectMode||t&&t.length>0)if("string"==typeof t||a.objectMode||Object.getPrototypeOf(t)===c.prototype||(t=function(e){return c.from(e)}(t)),n)a.endEmitted?S(e,new _):A(e,a,t,!0);else if(a.ended)S(e,new g);else{if(a.destroyed)return!1;a.reading=!1,a.decoder&&!r?(t=a.decoder.write(t),a.objectMode||0!==t.length?A(e,a,t,!1):$(e,a)):A(e,a,t,!1)}else n||(a.reading=!1,$(e,a));return!a.ended&&(a.length<a.highWaterMark||0===a.length)}function A(e,t,r,n){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",r)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&j(e)),$(e,t)}Object.defineProperty(T.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),T.prototype.destroy=b.destroy,T.prototype._undestroy=b.undestroy,T.prototype._destroy=function(e,t){t(e)},T.prototype.push=function(e,t){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof e&&((t=t||n.defaultEncoding)!==n.encoding&&(e=c.from(e,t),t=""),r=!0),x(this,e,t,!1,r)},T.prototype.unshift=function(e){return x(this,e,null,!0,!1)},T.prototype.isPaused=function(){return!1===this._readableState.flowing},T.prototype.setEncoding=function(e){l||(l=r(37361).StringDecoder);var t=new l(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var n=this._readableState.buffer.head,i="";null!==n;)i+=t.write(n.data),n=n.next;return this._readableState.buffer.clear(),""!==i&&this._readableState.buffer.push(i),this._readableState.length=i.length,this};var M=1073741824;function P(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=M?e=M:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function j(e){var t=e._readableState;o("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(o("emitReadable",t.flowing),t.emittedReadable=!0,i.nextTick(k,e))}function k(e){var t=e._readableState;o("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,L(e)}function $(e,t){t.readingMore||(t.readingMore=!0,i.nextTick(C,e,t))}function C(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var r=t.length;if(o("maybeReadMore read 0"),e.read(0),r===t.length)break}t.readingMore=!1}function I(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function R(e){o("readable nexttick read 0"),e.read(0)}function N(e,t){o("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),L(e),t.flowing&&!t.reading&&e.read(0)}function L(e){var t=e._readableState;for(o("flow",t.flowing);t.flowing&&null!==e.read(););}function D(e,t){return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):r=t.buffer.consume(e,t.decoder),r);var r}function F(e){var t=e._readableState;o("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,i.nextTick(B,t,e))}function B(e,t){if(o("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var r=t._writableState;(!r||r.autoDestroy&&r.finished)&&t.destroy()}}function U(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}T.prototype.read=function(e){o("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return o("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?F(this):j(this),null;if(0===(e=P(e,t))&&t.ended)return 0===t.length&&F(this),null;var n,i=t.needReadable;return o("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&o("length less than watermark",i=!0),t.ended||t.reading?o("reading or ended",i=!1):i&&(o("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=P(r,t))),null===(n=e>0?D(e,t):null)?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&F(this)),null!==n&&this.emit("data",n),n},T.prototype._read=function(e){S(this,new w("_read()"))},T.prototype.pipe=function(e,t){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=e;break;case 1:n.pipes=[n.pipes,e];break;default:n.pipes.push(e)}n.pipesCount+=1,o("pipe count=%d opts=%j",n.pipesCount,t);var a=t&&!1===t.end||e===i.stdout||e===i.stderr?b:c;function c(){o("onend"),e.end()}n.endEmitted?i.nextTick(a):r.once("end",a),e.on("unpipe",(function t(i,s){o("onunpipe"),i===r&&s&&!1===s.hasUnpiped&&(s.hasUnpiped=!0,o("cleanup"),e.removeListener("close",d),e.removeListener("finish",p),e.removeListener("drain",u),e.removeListener("error",h),e.removeListener("unpipe",t),r.removeListener("end",c),r.removeListener("end",b),r.removeListener("data",l),f=!0,!n.awaitDrain||e._writableState&&!e._writableState.needDrain||u())}));var u=function(e){return function(){var t=e._readableState;o("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&s(e,"data")&&(t.flowing=!0,L(e))}}(r);e.on("drain",u);var f=!1;function l(t){o("ondata");var i=e.write(t);o("dest.write",i),!1===i&&((1===n.pipesCount&&n.pipes===e||n.pipesCount>1&&-1!==U(n.pipes,e))&&!f&&(o("false write response, pause",n.awaitDrain),n.awaitDrain++),r.pause())}function h(t){o("onerror",t),b(),e.removeListener("error",h),0===s(e,"error")&&S(e,t)}function d(){e.removeListener("finish",p),b()}function p(){o("onfinish"),e.removeListener("close",d),b()}function b(){o("unpipe"),r.unpipe(e)}return r.on("data",l),function(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events.error?Array.isArray(e._events.error)?e._events.error.unshift(r):e._events.error=[r,e._events.error]:e.on(t,r)}(e,"error",h),e.once("close",d),e.once("finish",p),e.emit("pipe",r),n.flowing||(o("pipe resume"),r.resume()),e},T.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r)),this;if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)n[o].emit("unpipe",this,{hasUnpiped:!1});return this}var s=U(t.pipes,e);return-1===s||(t.pipes.splice(s,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r)),this},T.prototype.on=function(e,t){var r=a.prototype.on.call(this,e,t),n=this._readableState;return"data"===e?(n.readableListening=this.listenerCount("readable")>0,!1!==n.flowing&&this.resume()):"readable"===e&&(n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,o("on readable",n.length,n.reading),n.length?j(this):n.reading||i.nextTick(R,this))),r},T.prototype.addListener=T.prototype.on,T.prototype.removeListener=function(e,t){var r=a.prototype.removeListener.call(this,e,t);return"readable"===e&&i.nextTick(I,this),r},T.prototype.removeAllListeners=function(e){var t=a.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||i.nextTick(I,this),t},T.prototype.resume=function(){var e=this._readableState;return e.flowing||(o("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,i.nextTick(N,e,t))}(this,e)),e.paused=!1,this},T.prototype.pause=function(){return o("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(o("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},T.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;for(var i in e.on("end",(function(){if(o("wrapped end"),r.decoder&&!r.ended){var e=r.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(i){o("wrapped data"),r.decoder&&(i=r.decoder.write(i)),r.objectMode&&null==i||(r.objectMode||i&&i.length)&&(t.push(i)||(n=!0,e.pause()))})),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var s=0;s<E.length;s++)e.on(E[s],this.emit.bind(this,E[s]));return this._read=function(t){o("wrapped _read",t),n&&(n=!1,e.resume())},this},"function"==typeof Symbol&&(T.prototype[Symbol.asyncIterator]=function(){return void 0===h&&(h=r(48187)),h(this)}),Object.defineProperty(T.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(T.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(T.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),T._fromList=D,Object.defineProperty(T.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(T.from=function(e,t){return void 0===d&&(d=r(83733)),d(T,e,t)})},48597:(e,t,r)=>{e.exports=f;var n=r(90553).q,i=n.ERR_METHOD_NOT_IMPLEMENTED,o=n.ERR_MULTIPLE_CALLBACK,s=n.ERR_TRANSFORM_ALREADY_TRANSFORMING,a=n.ERR_TRANSFORM_WITH_LENGTH_0,c=r(70673);function u(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(null===n)return this.emit("error",new o);r.writechunk=null,r.writecb=null,null!=t&&this.push(t),n(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function f(e){if(!(this instanceof f))return new f(e);c.call(this,e),this._transformState={afterTransform:u.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",l)}function l(){var e=this;"function"!=typeof this._flush||this._readableState.destroyed?h(this,null,null):this._flush((function(t,r){h(e,t,r)}))}function h(e,t,r){if(t)return e.emit("error",t);if(null!=r&&e.push(r),e._writableState.length)throw new a;if(e._transformState.transforming)throw new s;return e.push(null)}r(23730)(f,c),f.prototype.push=function(e,t){return this._transformState.needTransform=!1,c.prototype.push.call(this,e,t)},f.prototype._transform=function(e,t,r){r(new i("_transform()"))},f.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},f.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},f.prototype._destroy=function(e,t){c.prototype._destroy.call(this,e,(function(e){t(e)}))}},98719:(e,t,r)=>{var n,i=r(12695);function o(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,r){var n=e.entry;for(e.entry=null;n;){var i=n.callback;t.pendingcb--,i(undefined),n=n.next}t.corkedRequestsFree.next=e}(t,e)}}e.exports=T,T.WritableState=O;var s,a={deprecate:r(20072)},c=r(48208),u=r(97866).Buffer,f=r.g.Uint8Array||function(){},l=r(33390),h=r(21111).getHighWaterMark,d=r(90553).q,p=d.ERR_INVALID_ARG_TYPE,b=d.ERR_METHOD_NOT_IMPLEMENTED,y=d.ERR_MULTIPLE_CALLBACK,m=d.ERR_STREAM_CANNOT_PIPE,v=d.ERR_STREAM_DESTROYED,g=d.ERR_STREAM_NULL_VALUES,w=d.ERR_STREAM_WRITE_AFTER_END,_=d.ERR_UNKNOWN_ENCODING,S=l.errorOrDestroy;function E(){}function O(e,t,s){n=n||r(70673),e=e||{},"boolean"!=typeof s&&(s=t instanceof n),this.objectMode=!!e.objectMode,s&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=h(this,e,"writableHighWaterMark",s),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var a=!1===e.decodeStrings;this.decodeStrings=!a,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var r=e._writableState,n=r.sync,o=r.writecb;if("function"!=typeof o)throw new y;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(r),t)!function(e,t,r,n,o){--t.pendingcb,r?(i.nextTick(o,n),i.nextTick(k,e,t),e._writableState.errorEmitted=!0,S(e,n)):(o(n),e._writableState.errorEmitted=!0,S(e,n),k(e,t))}(e,r,n,t,o);else{var s=P(r)||e.destroyed;s||r.corked||r.bufferProcessing||!r.bufferedRequest||M(e,r),n?i.nextTick(A,e,r,s,o):A(e,r,s,o)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new o(this)}function T(e){var t=this instanceof(n=n||r(70673));if(!t&&!s.call(T,this))return new T(e);this._writableState=new O(e,this,t),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),c.call(this)}function x(e,t,r,n,i,o,s){t.writelen=n,t.writecb=s,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new v("write")):r?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function A(e,t,r,n){r||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,n(),k(e,t)}function M(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=t.bufferedRequestCount,i=new Array(n),s=t.corkedRequestsFree;s.entry=r;for(var a=0,c=!0;r;)i[a]=r,r.isBuf||(c=!1),r=r.next,a+=1;i.allBuffers=c,x(e,t,!0,t.length,i,"",s.finish),t.pendingcb++,t.lastBufferedRequest=null,s.next?(t.corkedRequestsFree=s.next,s.next=null):t.corkedRequestsFree=new o(t),t.bufferedRequestCount=0}else{for(;r;){var u=r.chunk,f=r.encoding,l=r.callback;if(x(e,t,!1,t.objectMode?1:u.length,u,f,l),r=r.next,t.bufferedRequestCount--,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}function P(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function j(e,t){e._final((function(r){t.pendingcb--,r&&S(e,r),t.prefinished=!0,e.emit("prefinish"),k(e,t)}))}function k(e,t){var r=P(t);if(r&&(function(e,t){t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,i.nextTick(j,e,t)))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var n=e._readableState;(!n||n.autoDestroy&&n.endEmitted)&&e.destroy()}return r}r(23730)(T,c),O.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(O.prototype,"buffer",{get:a.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(s=Function.prototype[Symbol.hasInstance],Object.defineProperty(T,Symbol.hasInstance,{value:function(e){return!!s.call(this,e)||this===T&&e&&e._writableState instanceof O}})):s=function(e){return e instanceof this},T.prototype.pipe=function(){S(this,new m)},T.prototype.write=function(e,t,r){var n,o=this._writableState,s=!1,a=!o.objectMode&&(n=e,u.isBuffer(n)||n instanceof f);return a&&!u.isBuffer(e)&&(e=function(e){return u.from(e)}(e)),"function"==typeof t&&(r=t,t=null),a?t="buffer":t||(t=o.defaultEncoding),"function"!=typeof r&&(r=E),o.ending?function(e,t){var r=new w;S(e,r),i.nextTick(t,r)}(this,r):(a||function(e,t,r,n){var o;return null===r?o=new g:"string"==typeof r||t.objectMode||(o=new p("chunk",["string","Buffer"],r)),!o||(S(e,o),i.nextTick(n,o),!1)}(this,o,e,r))&&(o.pendingcb++,s=function(e,t,r,n,i,o){if(!r){var s=function(e,t,r){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=u.from(t,r)),t}(t,n,i);n!==s&&(r=!0,i="buffer",n=s)}var a=t.objectMode?1:n.length;t.length+=a;var c=t.length<t.highWaterMark;if(c||(t.needDrain=!0),t.writing||t.corked){var f=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:o,next:null},f?f.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else x(e,t,!1,a,n,i,o);return c}(this,o,a,e,t,r)),s},T.prototype.cork=function(){this._writableState.corked++},T.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||M(this,e))},T.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new _(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(T.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(T.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),T.prototype._write=function(e,t,r){r(new b("_write()"))},T.prototype._writev=null,T.prototype.end=function(e,t,r){var n=this._writableState;return"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!=e&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),n.ending||function(e,t,r){t.ending=!0,k(e,t),r&&(t.finished?i.nextTick(r):e.once("finish",r)),t.ended=!0,e.writable=!1}(this,n,r),this},Object.defineProperty(T.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(T.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),T.prototype.destroy=l.destroy,T.prototype._undestroy=l.undestroy,T.prototype._destroy=function(e,t){t(e)}},48187:(e,t,r)=>{var n,i=r(12695);function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var s=r(2426),a=Symbol("lastResolve"),c=Symbol("lastReject"),u=Symbol("error"),f=Symbol("ended"),l=Symbol("lastPromise"),h=Symbol("handlePromise"),d=Symbol("stream");function p(e,t){return{value:e,done:t}}function b(e){var t=e[a];if(null!==t){var r=e[d].read();null!==r&&(e[l]=null,e[a]=null,e[c]=null,t(p(r,!1)))}}function y(e){i.nextTick(b,e)}var m=Object.getPrototypeOf((function(){})),v=Object.setPrototypeOf((o(n={get stream(){return this[d]},next:function(){var e=this,t=this[u];if(null!==t)return Promise.reject(t);if(this[f])return Promise.resolve(p(void 0,!0));if(this[d].destroyed)return new Promise((function(t,r){i.nextTick((function(){e[u]?r(e[u]):t(p(void 0,!0))}))}));var r,n=this[l];if(n)r=new Promise(function(e,t){return function(r,n){e.then((function(){t[f]?r(p(void 0,!0)):t[h](r,n)}),n)}}(n,this));else{var o=this[d].read();if(null!==o)return Promise.resolve(p(o,!1));r=new Promise(this[h])}return this[l]=r,r}},Symbol.asyncIterator,(function(){return this})),o(n,"return",(function(){var e=this;return new Promise((function(t,r){e[d].destroy(null,(function(e){e?r(e):t(p(void 0,!0))}))}))})),n),m);e.exports=function(e){var t,r=Object.create(v,(o(t={},d,{value:e,writable:!0}),o(t,a,{value:null,writable:!0}),o(t,c,{value:null,writable:!0}),o(t,u,{value:null,writable:!0}),o(t,f,{value:e._readableState.endEmitted,writable:!0}),o(t,h,{value:function(e,t){var n=r[d].read();n?(r[l]=null,r[a]=null,r[c]=null,e(p(n,!1))):(r[a]=e,r[c]=t)},writable:!0}),t));return r[l]=null,s(e,(function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=r[c];return null!==t&&(r[l]=null,r[a]=null,r[c]=null,t(e)),void(r[u]=e)}var n=r[a];null!==n&&(r[l]=null,r[a]=null,r[c]=null,n(p(void 0,!0))),r[f]=!0})),e.on("readable",y.bind(null,r)),r}},24506:(e,t,r)=>{function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var s=r(97866).Buffer,a=r(10462).inspect,c=a&&a.custom||"inspect";e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}var t,r;return t=e,r=[{key:"push",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r}},{key:"concat",value:function(e){if(0===this.length)return s.alloc(0);for(var t,r,n,i=s.allocUnsafe(e>>>0),o=this.head,a=0;o;)t=o.data,r=i,n=a,s.prototype.copy.call(t,r,n),a+=o.data.length,o=o.next;return i}},{key:"consume",value:function(e,t){var r;return e<this.head.data.length?(r=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):r=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),r}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,r=1,n=t.data;for(e-=n.length;t=t.next;){var i=t.data,o=e>i.length?i.length:e;if(o===i.length?n+=i:n+=i.slice(0,e),0==(e-=o)){o===i.length?(++r,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=i.slice(o));break}++r}return this.length-=r,n}},{key:"_getBuffer",value:function(e){var t=s.allocUnsafe(e),r=this.head,n=1;for(r.data.copy(t),e-=r.data.length;r=r.next;){var i=r.data,o=e>i.length?i.length:e;if(i.copy(t,t.length-e,0,o),0==(e-=o)){o===i.length?(++n,r.next?this.head=r.next:this.head=this.tail=null):(this.head=r,r.data=i.slice(o));break}++n}return this.length-=n,t}},{key:c,value:function(e,t){return a(this,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},t,{depth:0,customInspect:!1}))}}],r&&o(t.prototype,r),e}()},33390:(e,t,r)=>{var n=r(12695);function i(e,t){s(e,t),o(e)}function o(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function s(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var r=this,a=this._readableState&&this._readableState.destroyed,c=this._writableState&&this._writableState.destroyed;return a||c?(t?t(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,n.nextTick(s,this,e)):n.nextTick(s,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!t&&e?r._writableState?r._writableState.errorEmitted?n.nextTick(o,r):(r._writableState.errorEmitted=!0,n.nextTick(i,r,e)):n.nextTick(i,r,e):t?(n.nextTick(o,r),t(e)):n.nextTick(o,r)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(e,t){var r=e._readableState,n=e._writableState;r&&r.autoDestroy||n&&n.autoDestroy?e.destroy(t):e.emit("error",t)}}},2426:(e,t,r)=>{var n=r(90553).q.ERR_STREAM_PREMATURE_CLOSE;function i(){}e.exports=function e(t,r,o){if("function"==typeof r)return e(t,null,r);r||(r={}),o=function(e){var t=!1;return function(){if(!t){t=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];e.apply(this,n)}}}(o||i);var s=r.readable||!1!==r.readable&&t.readable,a=r.writable||!1!==r.writable&&t.writable,c=function(){t.writable||f()},u=t._writableState&&t._writableState.finished,f=function(){a=!1,u=!0,s||o.call(t)},l=t._readableState&&t._readableState.endEmitted,h=function(){s=!1,l=!0,a||o.call(t)},d=function(e){o.call(t,e)},p=function(){var e;return s&&!l?(t._readableState&&t._readableState.ended||(e=new n),o.call(t,e)):a&&!u?(t._writableState&&t._writableState.ended||(e=new n),o.call(t,e)):void 0},b=function(){t.req.on("finish",f)};return function(e){return e.setHeader&&"function"==typeof e.abort}(t)?(t.on("complete",f),t.on("abort",p),t.req?b():t.on("request",b)):a&&!t._writableState&&(t.on("end",c),t.on("close",c)),t.on("end",h),t.on("finish",f),!1!==r.error&&t.on("error",d),t.on("close",p),function(){t.removeListener("complete",f),t.removeListener("abort",p),t.removeListener("request",b),t.req&&t.req.removeListener("finish",f),t.removeListener("end",c),t.removeListener("close",c),t.removeListener("finish",f),t.removeListener("end",h),t.removeListener("error",d),t.removeListener("close",p)}}},83733:e=>{e.exports=function(){throw new Error("Readable.from is not available in the browser")}},22970:(e,t,r)=>{var n,i=r(90553).q,o=i.ERR_MISSING_ARGS,s=i.ERR_STREAM_DESTROYED;function a(e){if(e)throw e}function c(e,t,i,o){o=function(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}(o);var a=!1;e.on("close",(function(){a=!0})),void 0===n&&(n=r(2426)),n(e,{readable:t,writable:i},(function(e){if(e)return o(e);a=!0,o()}));var c=!1;return function(t){if(!a&&!c)return c=!0,function(e){return e.setHeader&&"function"==typeof e.abort}(e)?e.abort():"function"==typeof e.destroy?e.destroy():void o(t||new s("pipe"))}}function u(e){e()}function f(e,t){return e.pipe(t)}function l(e){return e.length?"function"!=typeof e[e.length-1]?a:e.pop():a}e.exports=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n,i=l(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new o("streams");var s=t.map((function(e,r){var o=r<t.length-1;return c(e,o,r>0,(function(e){n||(n=e),e&&s.forEach(u),o||(s.forEach(u),i(n))}))}));return t.reduce(f)}},21111:(e,t,r)=>{var n=r(90553).q.ERR_INVALID_OPT_VALUE;e.exports={getHighWaterMark:function(e,t,r,i){var o=function(e,t,r){return null!=e.highWaterMark?e.highWaterMark:t?e[r]:null}(t,i,r);if(null!=o){if(!isFinite(o)||Math.floor(o)!==o||o<0)throw new n(i?r:"highWaterMark",o);return Math.floor(o)}return e.objectMode?16:16384}}},48208:(e,t,r)=>{e.exports=r(33346).EventEmitter},29142:(e,t,r)=>{(t=e.exports=r(95006)).Stream=t,t.Readable=t,t.Writable=r(98719),t.Duplex=r(70673),t.Transform=r(48597),t.PassThrough=r(24324),t.finished=r(2426),t.pipeline=r(22970)},40543:(e,t,r)=>{const{AbortError:n,codes:i}=r(43696),o=r(53735),{ERR_INVALID_ARG_TYPE:s}=i;e.exports.addAbortSignal=function(t,r){if(((e,t)=>{if("object"!=typeof e||!("aborted"in e))throw new s("signal","AbortSignal",e)})(t),!(n=r)||"function"!=typeof n.pipe)throw new s("stream","stream.Stream",r);var n;return e.exports.addAbortSignalNoValidate(t,r)},e.exports.addAbortSignalNoValidate=function(e,t){if("object"!=typeof e||!("aborted"in e))return t;const r=()=>{t.destroy(new n(void 0,{cause:e.reason}))};return e.aborted?r():(e.addEventListener("abort",r),o(t,(()=>e.removeEventListener("abort",r)))),t}},71586:(e,t,r)=>{const{StringPrototypeSlice:n,SymbolIterator:i,TypedArrayPrototypeSet:o,Uint8Array:s}=r(8216),{Buffer:a}=r(97866),{inspect:c}=r(93878);e.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(e){const t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}unshift(e){const t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}shift(){if(0===this.length)return;const e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}clear(){this.head=this.tail=null,this.length=0}join(e){if(0===this.length)return"";let t=this.head,r=""+t.data;for(;null!==(t=t.next);)r+=e+t.data;return r}concat(e){if(0===this.length)return a.alloc(0);const t=a.allocUnsafe(e>>>0);let r=this.head,n=0;for(;r;)o(t,r.data,n),n+=r.data.length,r=r.next;return t}consume(e,t){const r=this.head.data;if(e<r.length){const t=r.slice(0,e);return this.head.data=r.slice(e),t}return e===r.length?this.shift():t?this._getString(e):this._getBuffer(e)}first(){return this.head.data}*[i](){for(let e=this.head;e;e=e.next)yield e.data}_getString(e){let t="",r=this.head,i=0;do{const o=r.data;if(!(e>o.length)){e===o.length?(t+=o,++i,r.next?this.head=r.next:this.head=this.tail=null):(t+=n(o,0,e),this.head=r,r.data=n(o,e));break}t+=o,e-=o.length,++i}while(null!==(r=r.next));return this.length-=i,t}_getBuffer(e){const t=a.allocUnsafe(e),r=e;let n=this.head,i=0;do{const a=n.data;if(!(e>a.length)){e===a.length?(o(t,a,r-e),++i,n.next?this.head=n.next:this.head=this.tail=null):(o(t,new s(a.buffer,a.byteOffset,e),r-e),this.head=n,n.data=a.slice(e));break}o(t,a,r-e),e-=a.length,++i}while(null!==(n=n.next));return this.length-=i,t}[Symbol.for("nodejs.util.inspect.custom")](e,t){return c(this,{...t,depth:0,customInspect:!1})}}},58626:(e,t,r)=>{const{pipeline:n}=r(21439),i=r(33325),{destroyer:o}=r(94351),{isNodeStream:s,isReadable:a,isWritable:c}=r(65300),{AbortError:u,codes:{ERR_INVALID_ARG_VALUE:f,ERR_MISSING_ARGS:l}}=r(43696);e.exports=function(...e){if(0===e.length)throw new l("streams");if(1===e.length)return i.from(e[0]);const t=[...e];if("function"==typeof e[0]&&(e[0]=i.from(e[0])),"function"==typeof e[e.length-1]){const t=e.length-1;e[t]=i.from(e[t])}for(let r=0;r<e.length;++r)if(s(e[r])){if(r<e.length-1&&!a(e[r]))throw new f(`streams[${r}]`,t[r],"must be readable");if(r>0&&!c(e[r]))throw new f(`streams[${r}]`,t[r],"must be writable")}let r,h,d,p,b;const y=e[0],m=n(e,(function(e){const t=p;p=null,t?t(e):e?b.destroy(e):g||v||b.destroy()})),v=!!c(y),g=!!a(m);return b=new i({writableObjectMode:!(null==y||!y.writableObjectMode),readableObjectMode:!(null==m||!m.writableObjectMode),writable:v,readable:g}),v&&(b._write=function(e,t,n){y.write(e,t)?n():r=n},b._final=function(e){y.end(),h=e},y.on("drain",(function(){if(r){const e=r;r=null,e()}})),m.on("finish",(function(){if(h){const e=h;h=null,e()}}))),g&&(m.on("readable",(function(){if(d){const e=d;d=null,e()}})),m.on("end",(function(){b.push(null)})),b._read=function(){for(;;){const e=m.read();if(null===e)return void(d=b._read);if(!b.push(e))return}}),b._destroy=function(e,t){e||null===p||(e=new u),d=null,r=null,h=null,null===p?t(e):(p=t,o(m,e))},b}},94351:(e,t,r)=>{const n=r(12695),{aggregateTwoErrors:i,codes:{ERR_MULTIPLE_CALLBACK:o},AbortError:s}=r(43696),{Symbol:a}=r(8216),{kDestroyed:c,isDestroyed:u,isFinished:f,isServerRequest:l}=r(65300),h=a("kDestroy"),d=a("kConstruct");function p(e,t,r){e&&(e.stack,t&&!t.errored&&(t.errored=e),r&&!r.errored&&(r.errored=e))}function b(e,t,r){let i=!1;function o(t){if(i)return;i=!0;const o=e._readableState,s=e._writableState;p(t,s,o),s&&(s.closed=!0),o&&(o.closed=!0),"function"==typeof r&&r(t),t?n.nextTick(y,e,t):n.nextTick(m,e)}try{e._destroy(t||null,o)}catch(t){o(t)}}function y(e,t){v(e,t),m(e)}function m(e){const t=e._readableState,r=e._writableState;r&&(r.closeEmitted=!0),t&&(t.closeEmitted=!0),(r&&r.emitClose||t&&t.emitClose)&&e.emit("close")}function v(e,t){const r=e._readableState,n=e._writableState;n&&n.errorEmitted||r&&r.errorEmitted||(n&&(n.errorEmitted=!0),r&&(r.errorEmitted=!0),e.emit("error",t))}function g(e,t,r){const i=e._readableState,o=e._writableState;if(o&&o.destroyed||i&&i.destroyed)return this;i&&i.autoDestroy||o&&o.autoDestroy?e.destroy(t):t&&(t.stack,o&&!o.errored&&(o.errored=t),i&&!i.errored&&(i.errored=t),r?n.nextTick(v,e,t):v(e,t))}function w(e){let t=!1;function r(r){if(t)return void g(e,null!=r?r:new o);t=!0;const i=e._readableState,s=e._writableState,a=s||i;i&&(i.constructed=!0),s&&(s.constructed=!0),a.destroyed?e.emit(h,r):r?g(e,r,!0):n.nextTick(_,e)}try{e._construct(r)}catch(e){r(e)}}function _(e){e.emit(d)}function S(e){return e&&e.setHeader&&"function"==typeof e.abort}function E(e){e.emit("close")}function O(e,t){e.emit("error",t),n.nextTick(E,e)}e.exports={construct:function(e,t){if("function"!=typeof e._construct)return;const r=e._readableState,i=e._writableState;r&&(r.constructed=!1),i&&(i.constructed=!1),e.once(d,t),e.listenerCount(d)>1||n.nextTick(w,e)},destroyer:function(e,t){e&&!u(e)&&(t||f(e)||(t=new s),l(e)?(e.socket=null,e.destroy(t)):S(e)?e.abort():S(e.req)?e.req.abort():"function"==typeof e.destroy?e.destroy(t):"function"==typeof e.close?e.close():t?n.nextTick(O,e,t):n.nextTick(E,e),e.destroyed||(e[c]=!0))},destroy:function(e,t){const r=this._readableState,n=this._writableState,o=n||r;return n&&n.destroyed||r&&r.destroyed?("function"==typeof t&&t(),this):(p(e,n,r),n&&(n.destroyed=!0),r&&(r.destroyed=!0),o.constructed?b(this,e,t):this.once(h,(function(r){b(this,i(r,e),t)})),this)},undestroy:function(){const e=this._readableState,t=this._writableState;e&&(e.constructed=!0,e.closed=!1,e.closeEmitted=!1,e.destroyed=!1,e.errored=null,e.errorEmitted=!1,e.reading=!1,e.ended=!1===e.readable,e.endEmitted=!1===e.readable),t&&(t.constructed=!0,t.destroyed=!1,t.closed=!1,t.closeEmitted=!1,t.errored=null,t.errorEmitted=!1,t.finalCalled=!1,t.prefinished=!1,t.ended=!1===t.writable,t.ending=!1===t.writable,t.finished=!1===t.writable)},errorOrDestroy:g}},33325:(e,t,r)=>{const{ObjectDefineProperties:n,ObjectGetOwnPropertyDescriptor:i,ObjectKeys:o,ObjectSetPrototypeOf:s}=r(8216);e.exports=u;const a=r(33728),c=r(79052);s(u.prototype,a.prototype),s(u,a);{const e=o(c.prototype);for(let t=0;t<e.length;t++){const r=e[t];u.prototype[r]||(u.prototype[r]=c.prototype[r])}}function u(e){if(!(this instanceof u))return new u(e);a.call(this,e),c.call(this,e),e?(this.allowHalfOpen=!1!==e.allowHalfOpen,!1===e.readable&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),!1===e.writable&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}let f,l;function h(){return void 0===f&&(f={}),f}n(u.prototype,{writable:{__proto__:null,...i(c.prototype,"writable")},writableHighWaterMark:{__proto__:null,...i(c.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...i(c.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...i(c.prototype,"writableBuffer")},writableLength:{__proto__:null,...i(c.prototype,"writableLength")},writableFinished:{__proto__:null,...i(c.prototype,"writableFinished")},writableCorked:{__proto__:null,...i(c.prototype,"writableCorked")},writableEnded:{__proto__:null,...i(c.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...i(c.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set(e){this._readableState&&this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}}),u.fromWeb=function(e,t){return h().newStreamDuplexFromReadableWritablePair(e,t)},u.toWeb=function(e){return h().newReadableWritablePairFromDuplex(e)},u.from=function(e){return l||(l=r(7455)),l(e,"body")}},7455:(e,t,r)=>{const n=r(12695),i=r(97866),{isReadable:o,isWritable:s,isIterable:a,isNodeStream:c,isReadableNodeStream:u,isWritableNodeStream:f,isDuplexNodeStream:l}=r(65300),h=r(53735),{AbortError:d,codes:{ERR_INVALID_ARG_TYPE:p,ERR_INVALID_RETURN_VALUE:b}}=r(43696),{destroyer:y}=r(94351),m=r(33325),v=r(33728),{createDeferredPromise:g}=r(93878),w=r(36680),_=globalThis.Blob||i.Blob,S=void 0!==_?function(e){return e instanceof _}:function(e){return!1},E=globalThis.AbortController||r(44892).AbortController,{FunctionPrototypeCall:O}=r(8216);class T extends m{constructor(e){super(e),!1===(null==e?void 0:e.readable)&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),!1===(null==e?void 0:e.writable)&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}}function x(e){const t=e.readable&&"function"!=typeof e.readable.read?v.wrap(e.readable):e.readable,r=e.writable;let n,i,a,c,u,f=!!o(t),l=!!s(r);function p(e){const t=c;c=null,t?t(e):e?u.destroy(e):f||l||u.destroy()}return u=new T({readableObjectMode:!(null==t||!t.readableObjectMode),writableObjectMode:!(null==r||!r.writableObjectMode),readable:f,writable:l}),l&&(h(r,(e=>{l=!1,e&&y(t,e),p(e)})),u._write=function(e,t,i){r.write(e,t)?i():n=i},u._final=function(e){r.end(),i=e},r.on("drain",(function(){if(n){const e=n;n=null,e()}})),r.on("finish",(function(){if(i){const e=i;i=null,e()}}))),f&&(h(t,(e=>{f=!1,e&&y(t,e),p(e)})),t.on("readable",(function(){if(a){const e=a;a=null,e()}})),t.on("end",(function(){u.push(null)})),u._read=function(){for(;;){const e=t.read();if(null===e)return void(a=u._read);if(!u.push(e))return}}),u._destroy=function(e,o){e||null===c||(e=new d),a=null,n=null,i=null,null===c?o(e):(c=o,y(r,e),y(t,e))},u}e.exports=function e(t,r){if(l(t))return t;if(u(t))return x({readable:t});if(f(t))return x({writable:t});if(c(t))return x({writable:!1,readable:!1});if("function"==typeof t){const{value:e,write:i,final:o,destroy:s}=function(e){let{promise:t,resolve:r}=g();const i=new E,o=i.signal;return{value:e(async function*(){for(;;){const e=t;t=null;const{chunk:i,done:s,cb:a}=await e;if(n.nextTick(a),s)return;if(o.aborted)throw new d(void 0,{cause:o.reason});({promise:t,resolve:r}=g()),yield i}}(),{signal:o}),write(e,t,n){const i=r;r=null,i({chunk:e,done:!1,cb:n})},final(e){const t=r;r=null,t({done:!0,cb:e})},destroy(e,t){i.abort(),t(e)}}}(t);if(a(e))return w(T,e,{objectMode:!0,write:i,final:o,destroy:s});const c=null==e?void 0:e.then;if("function"==typeof c){let t;const r=O(c,e,(e=>{if(null!=e)throw new b("nully","body",e)}),(e=>{y(t,e)}));return t=new T({objectMode:!0,readable:!1,write:i,final(e){o((async()=>{try{await r,n.nextTick(e,null)}catch(t){n.nextTick(e,t)}}))},destroy:s})}throw new b("Iterable, AsyncIterable or AsyncFunction",r,e)}if(S(t))return e(t.arrayBuffer());if(a(t))return w(T,t,{objectMode:!0,writable:!1});if("object"==typeof(null==t?void 0:t.writable)||"object"==typeof(null==t?void 0:t.readable))return x({readable:null!=t&&t.readable?u(null==t?void 0:t.readable)?null==t?void 0:t.readable:e(t.readable):void 0,writable:null!=t&&t.writable?f(null==t?void 0:t.writable)?null==t?void 0:t.writable:e(t.writable):void 0});const i=null==t?void 0:t.then;if("function"==typeof i){let e;return O(i,t,(t=>{null!=t&&e.push(t),e.push(null)}),(t=>{y(e,t)})),e=new T({objectMode:!0,writable:!1,read(){}})}throw new p(r,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],t)}},53735:(e,t,r)=>{const n=r(12695),{AbortError:i,codes:o}=r(43696),{ERR_INVALID_ARG_TYPE:s,ERR_STREAM_PREMATURE_CLOSE:a}=o,{kEmptyObject:c,once:u}=r(93878),{validateAbortSignal:f,validateFunction:l,validateObject:h}=r(81762),{Promise:d}=r(8216),{isClosed:p,isReadable:b,isReadableNodeStream:y,isReadableFinished:m,isReadableErrored:v,isWritable:g,isWritableNodeStream:w,isWritableFinished:_,isWritableErrored:S,isNodeStream:E,willEmitClose:O}=r(65300);function T(e){return e.setHeader&&"function"==typeof e.abort}const x=()=>{};function A(e,t,r){var o,d;2===arguments.length?(r=t,t=c):null==t?t=c:h(t,"options"),l(r,"callback"),f(t.signal,"options.signal"),r=u(r);const A=null!==(o=t.readable)&&void 0!==o?o:y(e),M=null!==(d=t.writable)&&void 0!==d?d:w(e);if(!E(e))throw new s("stream","Stream",e);const P=e._writableState,j=e._readableState,k=()=>{e.writable||I()};let $=O(e)&&y(e)===A&&w(e)===M,C=_(e,!1);const I=()=>{C=!0,e.destroyed&&($=!1),(!$||e.readable&&!A)&&(A&&!R||r.call(e))};let R=m(e,!1);const N=()=>{R=!0,e.destroyed&&($=!1),(!$||e.writable&&!M)&&(M&&!C||r.call(e))},L=t=>{r.call(e,t)};let D=p(e);const F=()=>{D=!0;const t=S(e)||v(e);return t&&"boolean"!=typeof t?r.call(e,t):A&&!R&&y(e,!0)&&!m(e,!1)?r.call(e,new a):!M||C||_(e,!1)?void r.call(e):r.call(e,new a)},B=()=>{e.req.on("finish",I)};T(e)?(e.on("complete",I),$||e.on("abort",F),e.req?B():e.on("request",B)):M&&!P&&(e.on("end",k),e.on("close",k)),$||"boolean"!=typeof e.aborted||e.on("aborted",F),e.on("end",N),e.on("finish",I),!1!==t.error&&e.on("error",L),e.on("close",F),D?n.nextTick(F):null!=P&&P.errorEmitted||null!=j&&j.errorEmitted?$||n.nextTick(F):(A||$&&!b(e)||!C&&!1!==g(e))&&(M||$&&!g(e)||!R&&!1!==b(e))?j&&e.req&&e.aborted&&n.nextTick(F):n.nextTick(F);const U=()=>{r=x,e.removeListener("aborted",F),e.removeListener("complete",I),e.removeListener("abort",F),e.removeListener("request",B),e.req&&e.req.removeListener("finish",I),e.removeListener("end",k),e.removeListener("close",k),e.removeListener("finish",I),e.removeListener("end",N),e.removeListener("error",L),e.removeListener("close",F)};if(t.signal&&!D){const o=()=>{const n=r;U(),n.call(e,new i(void 0,{cause:t.signal.reason}))};if(t.signal.aborted)n.nextTick(o);else{const n=r;r=u(((...r)=>{t.signal.removeEventListener("abort",o),n.apply(e,r)})),t.signal.addEventListener("abort",o)}}return U}e.exports=A,e.exports.finished=function(e,t){return new d(((r,n)=>{A(e,t,(e=>{e?n(e):r()}))}))}},36680:(e,t,r)=>{const n=r(12695),{PromisePrototypeThen:i,SymbolAsyncIterator:o,SymbolIterator:s}=r(8216),{Buffer:a}=r(97866),{ERR_INVALID_ARG_TYPE:c,ERR_STREAM_NULL_VALUES:u}=r(43696).codes;e.exports=function(e,t,r){let f,l;if("string"==typeof t||t instanceof a)return new e({objectMode:!0,...r,read(){this.push(t),this.push(null)}});if(t&&t[o])l=!0,f=t[o]();else{if(!t||!t[s])throw new c("iterable",["Iterable"],t);l=!1,f=t[s]()}const h=new e({objectMode:!0,highWaterMark:1,...r});let d=!1;return h._read=function(){d||(d=!0,async function(){for(;;){try{const{value:e,done:t}=l?await f.next():f.next();if(t)h.push(null);else{const t=e&&"function"==typeof e.then?await e:e;if(null===t)throw d=!1,new u;if(h.push(t))continue;d=!1}}catch(e){h.destroy(e)}break}}())},h._destroy=function(e,t){i(async function(e){const t=null!=e,r="function"==typeof f.throw;if(t&&r){const{value:t,done:r}=await f.throw(e);if(await t,r)return}if("function"==typeof f.return){const{value:e}=await f.return();await e}}(e),(()=>n.nextTick(t,e)),(r=>n.nextTick(t,r||e)))},h}},24272:(e,t,r)=>{const{ArrayIsArray:n,ObjectSetPrototypeOf:i}=r(8216),{EventEmitter:o}=r(33346);function s(e){o.call(this,e)}function a(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?n(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}i(s.prototype,o.prototype),i(s,o),s.prototype.pipe=function(e,t){const r=this;function n(t){e.writable&&!1===e.write(t)&&r.pause&&r.pause()}function i(){r.readable&&r.resume&&r.resume()}r.on("data",n),e.on("drain",i),e._isStdio||t&&!1===t.end||(r.on("end",c),r.on("close",u));let s=!1;function c(){s||(s=!0,e.end())}function u(){s||(s=!0,"function"==typeof e.destroy&&e.destroy())}function f(e){l(),0===o.listenerCount(this,"error")&&this.emit("error",e)}function l(){r.removeListener("data",n),e.removeListener("drain",i),r.removeListener("end",c),r.removeListener("close",u),r.removeListener("error",f),e.removeListener("error",f),r.removeListener("end",l),r.removeListener("close",l),e.removeListener("close",l)}return a(r,"error",f),a(e,"error",f),r.on("end",l),r.on("close",l),e.on("close",l),e.emit("pipe",r),e},e.exports={Stream:s,prependListener:a}},61074:(e,t,r)=>{const n=globalThis.AbortController||r(44892).AbortController,{codes:{ERR_INVALID_ARG_TYPE:i,ERR_MISSING_ARGS:o,ERR_OUT_OF_RANGE:s},AbortError:a}=r(43696),{validateAbortSignal:c,validateInteger:u,validateObject:f}=r(81762),l=r(8216).Symbol("kWeak"),{finished:h}=r(53735),{ArrayPrototypePush:d,MathFloor:p,Number:b,NumberIsNaN:y,Promise:m,PromiseReject:v,PromisePrototypeThen:g,Symbol:w}=r(8216),_=w("kEmpty"),S=w("kEof");function E(e,t){if("function"!=typeof e)throw new i("fn",["Function","AsyncFunction"],e);null!=t&&f(t,"options"),null!=(null==t?void 0:t.signal)&&c(t.signal,"options.signal");let r=1;return null!=(null==t?void 0:t.concurrency)&&(r=p(t.concurrency)),u(r,"concurrency",1),async function*(){var i,o;const s=new n,c=this,u=[],f=s.signal,l={signal:f},h=()=>s.abort();let d,p;null!=t&&null!==(i=t.signal)&&void 0!==i&&i.aborted&&h(),null==t||null===(o=t.signal)||void 0===o||o.addEventListener("abort",h);let b=!1;function y(){b=!0}!async function(){try{for await(let t of c){var n;if(b)return;if(f.aborted)throw new a;try{t=e(t,l)}catch(e){t=v(e)}t!==_&&("function"==typeof(null===(n=t)||void 0===n?void 0:n.catch)&&t.catch(y),u.push(t),d&&(d(),d=null),!b&&u.length&&u.length>=r&&await new m((e=>{p=e})))}u.push(S)}catch(e){const t=v(e);g(t,void 0,y),u.push(t)}finally{var i;b=!0,d&&(d(),d=null),null==t||null===(i=t.signal)||void 0===i||i.removeEventListener("abort",h)}}();try{for(;;){for(;u.length>0;){const e=await u[0];if(e===S)return;if(f.aborted)throw new a;e!==_&&(yield e),u.shift(),p&&(p(),p=null)}await new m((e=>{d=e}))}}finally{s.abort(),b=!0,p&&(p(),p=null)}}.call(this)}async function O(e,t){for await(const r of T.call(this,e,t))return!0;return!1}function T(e,t){if("function"!=typeof e)throw new i("fn",["Function","AsyncFunction"],e);return E.call(this,(async function(t,r){return await e(t,r)?t:_}),t)}class x extends o{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}}function A(e){if(e=b(e),y(e))return 0;if(e<0)throw new s("number",">= 0",e);return e}e.exports.streamReturningOperators={asIndexedPairs:function(e){return null!=e&&f(e,"options"),null!=(null==e?void 0:e.signal)&&c(e.signal,"options.signal"),async function*(){let t=0;for await(const n of this){var r;if(null!=e&&null!==(r=e.signal)&&void 0!==r&&r.aborted)throw new a({cause:e.signal.reason});yield[t++,n]}}.call(this)},drop:function(e,t){return null!=t&&f(t,"options"),null!=(null==t?void 0:t.signal)&&c(t.signal,"options.signal"),e=A(e),async function*(){var r;if(null!=t&&null!==(r=t.signal)&&void 0!==r&&r.aborted)throw new a;for await(const r of this){var n;if(null!=t&&null!==(n=t.signal)&&void 0!==n&&n.aborted)throw new a;e--<=0&&(yield r)}}.call(this)},filter:T,flatMap:function(e,t){const r=E.call(this,e,t);return async function*(){for await(const e of r)yield*e}.call(this)},map:E,take:function(e,t){return null!=t&&f(t,"options"),null!=(null==t?void 0:t.signal)&&c(t.signal,"options.signal"),e=A(e),async function*(){var r;if(null!=t&&null!==(r=t.signal)&&void 0!==r&&r.aborted)throw new a;for await(const r of this){var n;if(null!=t&&null!==(n=t.signal)&&void 0!==n&&n.aborted)throw new a;if(!(e-- >0))return;yield r}}.call(this)}},e.exports.promiseReturningOperators={every:async function(e,t){if("function"!=typeof e)throw new i("fn",["Function","AsyncFunction"],e);return!await O.call(this,(async(...t)=>!await e(...t)),t)},forEach:async function(e,t){if("function"!=typeof e)throw new i("fn",["Function","AsyncFunction"],e);for await(const r of E.call(this,(async function(t,r){return await e(t,r),_}),t));},reduce:async function(e,t,r){var o;if("function"!=typeof e)throw new i("reducer",["Function","AsyncFunction"],e);null!=r&&f(r,"options"),null!=(null==r?void 0:r.signal)&&c(r.signal,"options.signal");let s=arguments.length>1;if(null!=r&&null!==(o=r.signal)&&void 0!==o&&o.aborted){const e=new a(void 0,{cause:r.signal.reason});throw this.once("error",(()=>{})),await h(this.destroy(e)),e}const u=new n,d=u.signal;if(null!=r&&r.signal){const e={once:!0,[l]:this};r.signal.addEventListener("abort",(()=>u.abort()),e)}let p=!1;try{for await(const n of this){var b;if(p=!0,null!=r&&null!==(b=r.signal)&&void 0!==b&&b.aborted)throw new a;s?t=await e(t,n,{signal:d}):(t=n,s=!0)}if(!p&&!s)throw new x}finally{u.abort()}return t},toArray:async function(e){null!=e&&f(e,"options"),null!=(null==e?void 0:e.signal)&&c(e.signal,"options.signal");const t=[];for await(const n of this){var r;if(null!=e&&null!==(r=e.signal)&&void 0!==r&&r.aborted)throw new a(void 0,{cause:e.signal.reason});d(t,n)}return t},some:O,find:async function(e,t){for await(const r of T.call(this,e,t))return r}}},93592:(e,t,r)=>{const{ObjectSetPrototypeOf:n}=r(8216);e.exports=o;const i=r(21955);function o(e){if(!(this instanceof o))return new o(e);i.call(this,e)}n(o.prototype,i.prototype),n(o,i),o.prototype._transform=function(e,t,r){r(null,e)}},21439:(e,t,r)=>{const n=r(12695),{ArrayIsArray:i,Promise:o,SymbolAsyncIterator:s}=r(8216),a=r(53735),{once:c}=r(93878),u=r(94351),f=r(33325),{aggregateTwoErrors:l,codes:{ERR_INVALID_ARG_TYPE:h,ERR_INVALID_RETURN_VALUE:d,ERR_MISSING_ARGS:p,ERR_STREAM_DESTROYED:b,ERR_STREAM_PREMATURE_CLOSE:y},AbortError:m}=r(43696),{validateFunction:v,validateAbortSignal:g}=r(81762),{isIterable:w,isReadable:_,isReadableNodeStream:S,isNodeStream:E}=r(65300),O=globalThis.AbortController||r(44892).AbortController;let T,x;function A(e,t,r){let n=!1;return e.on("close",(()=>{n=!0})),{destroy:t=>{n||(n=!0,u.destroyer(e,t||new b("pipe")))},cleanup:a(e,{readable:t,writable:r},(e=>{n=!e}))}}function M(e){if(w(e))return e;if(S(e))return async function*(e){x||(x=r(33728)),yield*x.prototype[s].call(e)}(e);throw new h("val",["Readable","Iterable","AsyncIterable"],e)}async function P(e,t,r,{end:n}){let i,s=null;const c=e=>{if(e&&(i=e),s){const e=s;s=null,e()}},u=()=>new o(((e,t)=>{i?t(i):s=()=>{i?t(i):e()}}));t.on("drain",c);const f=a(t,{readable:!1},c);try{t.writableNeedDrain&&await u();for await(const r of e)t.write(r)||await u();n&&t.end(),await u(),r()}catch(e){r(i!==e?l(i,e):e)}finally{f(),t.off("drain",c)}}function j(e,t,o){if(1===e.length&&i(e[0])&&(e=e[0]),e.length<2)throw new p("streams");const s=new O,a=s.signal,c=null==o?void 0:o.signal,u=[];function l(){C(new m)}let b,y;g(c,"options.signal"),null==c||c.addEventListener("abort",l);const v=[];let x,j=0;function $(e){C(e,0==--j)}function C(e,r){if(!e||b&&"ERR_STREAM_PREMATURE_CLOSE"!==b.code||(b=e),b||r){for(;v.length;)v.shift()(b);null==c||c.removeEventListener("abort",l),s.abort(),r&&(b||u.forEach((e=>e())),n.nextTick(t,b,y))}}for(let N=0;N<e.length;N++){const L=e[N],D=N<e.length-1,F=N>0,B=D||!1!==(null==o?void 0:o.end),U=N===e.length-1;if(E(L)){if(B){const{destroy:q,cleanup:z}=A(L,D,F);v.push(q),_(L)&&U&&u.push(z)}function I(e){e&&"AbortError"!==e.name&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code&&$(e)}L.on("error",I),_(L)&&U&&u.push((()=>{L.removeListener("error",I)}))}if(0===N)if("function"==typeof L){if(x=L({signal:a}),!w(x))throw new d("Iterable, AsyncIterable or Stream","source",x)}else x=w(L)||S(L)?L:f.from(L);else if("function"==typeof L)if(x=M(x),x=L(x,{signal:a}),D){if(!w(x,!0))throw new d("AsyncIterable",`transform[${N-1}]`,x)}else{var R;T||(T=r(93592));const V=new T({objectMode:!0}),H=null===(R=x)||void 0===R?void 0:R.then;if("function"==typeof H)j++,H.call(x,(e=>{y=e,null!=e&&V.write(e),B&&V.end(),n.nextTick($)}),(e=>{V.destroy(e),n.nextTick($,e)}));else{if(!w(x,!0))throw new d("AsyncIterable or Promise","destination",x);j++,P(x,V,$,{end:B})}x=V;const{destroy:W,cleanup:G}=A(x,!1,!0);v.push(W),U&&u.push(G)}else if(E(L)){if(S(x)){j+=2;const K=k(x,L,$,{end:B});_(L)&&U&&u.push(K)}else{if(!w(x))throw new h("val",["Readable","Iterable","AsyncIterable"],x);j++,P(x,L,$,{end:B})}x=L}else x=f.from(L)}return(null!=a&&a.aborted||null!=c&&c.aborted)&&n.nextTick(l),x}function k(e,t,r,{end:n}){let i=!1;return t.on("close",(()=>{i||r(new y)})),e.pipe(t,{end:n}),n?e.once("end",(()=>{i=!0,t.end()})):r(),a(e,{readable:!0,writable:!1},(t=>{const n=e._readableState;t&&"ERR_STREAM_PREMATURE_CLOSE"===t.code&&n&&n.ended&&!n.errored&&!n.errorEmitted?e.once("end",r).once("error",r):r(t)})),a(t,{readable:!1,writable:!0},r)}e.exports={pipelineImpl:j,pipeline:function(...e){return j(e,c(function(e){return v(e[e.length-1],"streams[stream.length - 1]"),e.pop()}(e)))}}},33728:(e,t,r)=>{const n=r(12695),{ArrayPrototypeIndexOf:i,NumberIsInteger:o,NumberIsNaN:s,NumberParseInt:a,ObjectDefineProperties:c,ObjectKeys:u,ObjectSetPrototypeOf:f,Promise:l,SafeSet:h,SymbolAsyncIterator:d,Symbol:p}=r(8216);e.exports=F,F.ReadableState=D;const{EventEmitter:b}=r(33346),{Stream:y,prependListener:m}=r(24272),{Buffer:v}=r(97866),{addAbortSignal:g}=r(40543),w=r(53735);let _=r(93878).debuglog("stream",(e=>{_=e}));const S=r(71586),E=r(94351),{getHighWaterMark:O,getDefaultHighWaterMark:T}=r(46099),{aggregateTwoErrors:x,codes:{ERR_INVALID_ARG_TYPE:A,ERR_METHOD_NOT_IMPLEMENTED:M,ERR_OUT_OF_RANGE:P,ERR_STREAM_PUSH_AFTER_EOF:j,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:k}}=r(43696),{validateObject:$}=r(81762),C=p("kPaused"),{StringDecoder:I}=r(37361),R=r(36680);f(F.prototype,y.prototype),f(F,y);const N=()=>{},{errorOrDestroy:L}=E;function D(e,t,n){"boolean"!=typeof n&&(n=t instanceof r(33325)),this.objectMode=!(!e||!e.objectMode),n&&(this.objectMode=this.objectMode||!(!e||!e.readableObjectMode)),this.highWaterMark=e?O(this,e,"readableHighWaterMark",n):T(!1),this.buffer=new S,this.length=0,this.pipes=[],this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.constructed=!0,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this[C]=null,this.errorEmitted=!1,this.emitClose=!e||!1!==e.emitClose,this.autoDestroy=!e||!1!==e.autoDestroy,this.destroyed=!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this.defaultEncoding=e&&e.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.multiAwaitDrain=!1,this.readingMore=!1,this.dataEmitted=!1,this.decoder=null,this.encoding=null,e&&e.encoding&&(this.decoder=new I(e.encoding),this.encoding=e.encoding)}function F(e){if(!(this instanceof F))return new F(e);const t=this instanceof r(33325);this._readableState=new D(e,this,t),e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.construct&&(this._construct=e.construct),e.signal&&!t&&g(e.signal,this)),y.call(this,e),E.construct(this,(()=>{this._readableState.needReadable&&H(this,this._readableState)}))}function B(e,t,r,n){_("readableAddChunk",t);const i=e._readableState;let o;if(i.objectMode||("string"==typeof t?(r=r||i.defaultEncoding,i.encoding!==r&&(n&&i.encoding?t=v.from(t,r).toString(i.encoding):(t=v.from(t,r),r=""))):t instanceof v?r="":y._isUint8Array(t)?(t=y._uint8ArrayToBuffer(t),r=""):null!=t&&(o=new A("chunk",["string","Buffer","Uint8Array"],t))),o)L(e,o);else if(null===t)i.reading=!1,function(e,t){if(_("onEofChunk"),!t.ended){if(t.decoder){const e=t.decoder.end();e&&e.length&&(t.buffer.push(e),t.length+=t.objectMode?1:e.length)}t.ended=!0,t.sync?z(e):(t.needReadable=!1,t.emittedReadable=!0,V(e))}}(e,i);else if(i.objectMode||t&&t.length>0)if(n)if(i.endEmitted)L(e,new k);else{if(i.destroyed||i.errored)return!1;U(e,i,t,!0)}else if(i.ended)L(e,new j);else{if(i.destroyed||i.errored)return!1;i.reading=!1,i.decoder&&!r?(t=i.decoder.write(t),i.objectMode||0!==t.length?U(e,i,t,!1):H(e,i)):U(e,i,t,!1)}else n||(i.reading=!1,H(e,i));return!i.ended&&(i.length<i.highWaterMark||0===i.length)}function U(e,t,r,n){t.flowing&&0===t.length&&!t.sync&&e.listenerCount("data")>0?(t.multiAwaitDrain?t.awaitDrainWriters.clear():t.awaitDrainWriters=null,t.dataEmitted=!0,e.emit("data",r)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&z(e)),H(e,t)}function q(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:s(e)?t.flowing&&t.length?t.buffer.first().length:t.length:e<=t.length?e:t.ended?t.length:0}function z(e){const t=e._readableState;_("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(_("emitReadable",t.flowing),t.emittedReadable=!0,n.nextTick(V,e))}function V(e){const t=e._readableState;_("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||t.errored||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,Y(e)}function H(e,t){!t.readingMore&&t.constructed&&(t.readingMore=!0,n.nextTick(W,e,t))}function W(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){const r=t.length;if(_("maybeReadMore read 0"),e.read(0),r===t.length)break}t.readingMore=!1}function G(e){const t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!1===t[C]?t.flowing=!0:e.listenerCount("data")>0?e.resume():t.readableListening||(t.flowing=null)}function K(e){_("readable nexttick read 0"),e.read(0)}function J(e,t){_("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),Y(e),t.flowing&&!t.reading&&e.read(0)}function Y(e){const t=e._readableState;for(_("flow",t.flowing);t.flowing&&null!==e.read(););}function X(e,t){"function"!=typeof e.read&&(e=F.wrap(e,{objectMode:!0}));const r=async function*(e,t){let r,n=N;function i(t){this===e?(n(),n=N):n=t}e.on("readable",i);const o=w(e,{writable:!1},(e=>{r=e?x(r,e):null,n(),n=N}));try{for(;;){const t=e.destroyed?null:e.read();if(null!==t)yield t;else{if(r)throw r;if(null===r)return;await new l(i)}}}catch(e){throw r=x(r,e),r}finally{!r&&!1===(null==t?void 0:t.destroyOnReturn)||void 0!==r&&!e._readableState.autoDestroy?(e.off("readable",i),o()):E.destroyer(e,null)}}(e,t);return r.stream=e,r}function Z(e,t){if(0===t.length)return null;let r;return t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):r=t.buffer.consume(e,t.decoder),r}function Q(e){const t=e._readableState;_("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,n.nextTick(ee,t,e))}function ee(e,t){if(_("endReadableNT",e.endEmitted,e.length),!e.errored&&!e.closeEmitted&&!e.endEmitted&&0===e.length)if(e.endEmitted=!0,t.emit("end"),t.writable&&!1===t.allowHalfOpen)n.nextTick(te,t);else if(e.autoDestroy){const e=t._writableState;(!e||e.autoDestroy&&(e.finished||!1===e.writable))&&t.destroy()}}function te(e){e.writable&&!e.writableEnded&&!e.destroyed&&e.end()}let re;function ne(){return void 0===re&&(re={}),re}F.prototype.destroy=E.destroy,F.prototype._undestroy=E.undestroy,F.prototype._destroy=function(e,t){t(e)},F.prototype[b.captureRejectionSymbol]=function(e){this.destroy(e)},F.prototype.push=function(e,t){return B(this,e,t,!1)},F.prototype.unshift=function(e,t){return B(this,e,t,!0)},F.prototype.isPaused=function(){const e=this._readableState;return!0===e[C]||!1===e.flowing},F.prototype.setEncoding=function(e){const t=new I(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;const r=this._readableState.buffer;let n="";for(const e of r)n+=t.write(e);return r.clear(),""!==n&&r.push(n),this._readableState.length=n.length,this},F.prototype.read=function(e){_("read",e),void 0===e?e=NaN:o(e)||(e=a(e,10));const t=this._readableState,r=e;if(e>t.highWaterMark&&(t.highWaterMark=function(e){if(e>1073741824)throw new P("size","<= 1GiB",e);return e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,++e}(e)),0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return _("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?Q(this):z(this),null;if(0===(e=q(e,t))&&t.ended)return 0===t.length&&Q(this),null;let n,i=t.needReadable;if(_("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&(i=!0,_("length less than watermark",i)),t.ended||t.reading||t.destroyed||t.errored||!t.constructed)i=!1,_("reading, ended or constructing",i);else if(i){_("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0);try{this._read(t.highWaterMark)}catch(e){L(this,e)}t.sync=!1,t.reading||(e=q(r,t))}return n=e>0?Z(e,t):null,null===n?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.multiAwaitDrain?t.awaitDrainWriters.clear():t.awaitDrainWriters=null),0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&Q(this)),null===n||t.errorEmitted||t.closeEmitted||(t.dataEmitted=!0,this.emit("data",n)),n},F.prototype._read=function(e){throw new M("_read()")},F.prototype.pipe=function(e,t){const r=this,i=this._readableState;1===i.pipes.length&&(i.multiAwaitDrain||(i.multiAwaitDrain=!0,i.awaitDrainWriters=new h(i.awaitDrainWriters?[i.awaitDrainWriters]:[]))),i.pipes.push(e),_("pipe count=%d opts=%j",i.pipes.length,t);const o=t&&!1===t.end||e===n.stdout||e===n.stderr?b:s;function s(){_("onend"),e.end()}let a;i.endEmitted?n.nextTick(o):r.once("end",o),e.on("unpipe",(function t(n,o){_("onunpipe"),n===r&&o&&!1===o.hasUnpiped&&(o.hasUnpiped=!0,_("cleanup"),e.removeListener("close",d),e.removeListener("finish",p),a&&e.removeListener("drain",a),e.removeListener("error",l),e.removeListener("unpipe",t),r.removeListener("end",s),r.removeListener("end",b),r.removeListener("data",f),c=!0,a&&i.awaitDrainWriters&&(!e._writableState||e._writableState.needDrain)&&a())}));let c=!1;function u(){c||(1===i.pipes.length&&i.pipes[0]===e?(_("false write response, pause",0),i.awaitDrainWriters=e,i.multiAwaitDrain=!1):i.pipes.length>1&&i.pipes.includes(e)&&(_("false write response, pause",i.awaitDrainWriters.size),i.awaitDrainWriters.add(e)),r.pause()),a||(a=function(e,t){return function(){const r=e._readableState;r.awaitDrainWriters===t?(_("pipeOnDrain",1),r.awaitDrainWriters=null):r.multiAwaitDrain&&(_("pipeOnDrain",r.awaitDrainWriters.size),r.awaitDrainWriters.delete(t)),r.awaitDrainWriters&&0!==r.awaitDrainWriters.size||!e.listenerCount("data")||e.resume()}}(r,e),e.on("drain",a))}function f(t){_("ondata");const r=e.write(t);_("dest.write",r),!1===r&&u()}function l(t){if(_("onerror",t),b(),e.removeListener("error",l),0===e.listenerCount("error")){const r=e._writableState||e._readableState;r&&!r.errorEmitted?L(e,t):e.emit("error",t)}}function d(){e.removeListener("finish",p),b()}function p(){_("onfinish"),e.removeListener("close",d),b()}function b(){_("unpipe"),r.unpipe(e)}return r.on("data",f),m(e,"error",l),e.once("close",d),e.once("finish",p),e.emit("pipe",r),!0===e.writableNeedDrain?i.flowing&&u():i.flowing||(_("pipe resume"),r.resume()),e},F.prototype.unpipe=function(e){const t=this._readableState;if(0===t.pipes.length)return this;if(!e){const e=t.pipes;t.pipes=[],this.pause();for(let t=0;t<e.length;t++)e[t].emit("unpipe",this,{hasUnpiped:!1});return this}const r=i(t.pipes,e);return-1===r||(t.pipes.splice(r,1),0===t.pipes.length&&this.pause(),e.emit("unpipe",this,{hasUnpiped:!1})),this},F.prototype.on=function(e,t){const r=y.prototype.on.call(this,e,t),i=this._readableState;return"data"===e?(i.readableListening=this.listenerCount("readable")>0,!1!==i.flowing&&this.resume()):"readable"===e&&(i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,_("on readable",i.length,i.reading),i.length?z(this):i.reading||n.nextTick(K,this))),r},F.prototype.addListener=F.prototype.on,F.prototype.removeListener=function(e,t){const r=y.prototype.removeListener.call(this,e,t);return"readable"===e&&n.nextTick(G,this),r},F.prototype.off=F.prototype.removeListener,F.prototype.removeAllListeners=function(e){const t=y.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||n.nextTick(G,this),t},F.prototype.resume=function(){const e=this._readableState;return e.flowing||(_("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,n.nextTick(J,e,t))}(this,e)),e[C]=!1,this},F.prototype.pause=function(){return _("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(_("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[C]=!0,this},F.prototype.wrap=function(e){let t=!1;e.on("data",(r=>{!this.push(r)&&e.pause&&(t=!0,e.pause())})),e.on("end",(()=>{this.push(null)})),e.on("error",(e=>{L(this,e)})),e.on("close",(()=>{this.destroy()})),e.on("destroy",(()=>{this.destroy()})),this._read=()=>{t&&e.resume&&(t=!1,e.resume())};const r=u(e);for(let t=1;t<r.length;t++){const n=r[t];void 0===this[n]&&"function"==typeof e[n]&&(this[n]=e[n].bind(e))}return this},F.prototype[d]=function(){return X(this)},F.prototype.iterator=function(e){return void 0!==e&&$(e,"options"),X(this,e)},c(F.prototype,{readable:{__proto__:null,get(){const e=this._readableState;return!(!e||!1===e.readable||e.destroyed||e.errorEmitted||e.endEmitted)},set(e){this._readableState&&(this._readableState.readable=!!e)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!(!1===this._readableState.readable||!this._readableState.destroyed&&!this._readableState.errored||this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.objectMode}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return!!this._readableState&&this._readableState.closed}},destroyed:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.destroyed},set(e){this._readableState&&(this._readableState.destroyed=e)}},readableEnded:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.endEmitted}}}),c(D.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return!1!==this[C]},set(e){this[C]=!!e}}}),F._fromList=Z,F.from=function(e,t){return R(F,e,t)},F.fromWeb=function(e,t){return ne().newStreamReadableFromReadableStream(e,t)},F.toWeb=function(e,t){return ne().newReadableStreamFromStreamReadable(e,t)},F.wrap=function(e,t){var r,n;return new F({objectMode:null===(r=null!==(n=e.readableObjectMode)&&void 0!==n?n:e.objectMode)||void 0===r||r,...t,destroy(t,r){E.destroyer(e,t),r(t)}}).wrap(e)}},46099:(e,t,r)=>{const{MathFloor:n,NumberIsInteger:i}=r(8216),{ERR_INVALID_ARG_VALUE:o}=r(43696).codes;function s(e){return e?16:16384}e.exports={getHighWaterMark:function(e,t,r,a){const c=function(e,t,r){return null!=e.highWaterMark?e.highWaterMark:t?e[r]:null}(t,a,r);if(null!=c){if(!i(c)||c<0)throw new o(a?`options.${r}`:"options.highWaterMark",c);return n(c)}return s(e.objectMode)},getDefaultHighWaterMark:s}},21955:(e,t,r)=>{const{ObjectSetPrototypeOf:n,Symbol:i}=r(8216);e.exports=u;const{ERR_METHOD_NOT_IMPLEMENTED:o}=r(43696).codes,s=r(33325),{getHighWaterMark:a}=r(46099);n(u.prototype,s.prototype),n(u,s);const c=i("kCallback");function u(e){if(!(this instanceof u))return new u(e);const t=e?a(this,e,"readableHighWaterMark",!0):null;0===t&&(e={...e,highWaterMark:null,readableHighWaterMark:t,writableHighWaterMark:e.writableHighWaterMark||0}),s.call(this,e),this._readableState.sync=!1,this[c]=null,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",l)}function f(e){"function"!=typeof this._flush||this.destroyed?(this.push(null),e&&e()):this._flush(((t,r)=>{t?e?e(t):this.destroy(t):(null!=r&&this.push(r),this.push(null),e&&e())}))}function l(){this._final!==f&&f.call(this)}u.prototype._final=f,u.prototype._transform=function(e,t,r){throw new o("_transform()")},u.prototype._write=function(e,t,r){const n=this._readableState,i=this._writableState,o=n.length;this._transform(e,t,((e,t)=>{e?r(e):(null!=t&&this.push(t),i.ended||o===n.length||n.length<n.highWaterMark?r():this[c]=r)}))},u.prototype._read=function(){if(this[c]){const e=this[c];this[c]=null,e()}}},65300:(e,t,r)=>{const{Symbol:n,SymbolAsyncIterator:i,SymbolIterator:o}=r(8216),s=n("kDestroyed"),a=n("kIsErrored"),c=n("kIsReadable"),u=n("kIsDisturbed");function f(e,t=!1){var r;return!(!e||"function"!=typeof e.pipe||"function"!=typeof e.on||t&&("function"!=typeof e.pause||"function"!=typeof e.resume)||e._writableState&&!1===(null===(r=e._readableState)||void 0===r?void 0:r.readable)||e._writableState&&!e._readableState)}function l(e){var t;return!(!e||"function"!=typeof e.write||"function"!=typeof e.on||e._readableState&&!1===(null===(t=e._writableState)||void 0===t?void 0:t.writable))}function h(e){return e&&(e._readableState||e._writableState||"function"==typeof e.write&&"function"==typeof e.on||"function"==typeof e.pipe&&"function"==typeof e.on)}function d(e){if(!h(e))return null;const t=e._writableState,r=e._readableState,n=t||r;return!!(e.destroyed||e[s]||null!=n&&n.destroyed)}function p(e){if(!l(e))return null;if(!0===e.writableEnded)return!0;const t=e._writableState;return(null==t||!t.errored)&&("boolean"!=typeof(null==t?void 0:t.ended)?null:t.ended)}function b(e,t){if(!f(e))return null;const r=e._readableState;return(null==r||!r.errored)&&("boolean"!=typeof(null==r?void 0:r.endEmitted)?null:!!(r.endEmitted||!1===t&&!0===r.ended&&0===r.length))}function y(e){return e&&null!=e[c]?e[c]:"boolean"!=typeof(null==e?void 0:e.readable)?null:!d(e)&&f(e)&&e.readable&&!b(e)}function m(e){return"boolean"!=typeof(null==e?void 0:e.writable)?null:!d(e)&&l(e)&&e.writable&&!p(e)}function v(e){return"boolean"==typeof e._closed&&"boolean"==typeof e._defaultKeepAlive&&"boolean"==typeof e._removedConnection&&"boolean"==typeof e._removedContLen}function g(e){return"boolean"==typeof e._sent100&&v(e)}e.exports={kDestroyed:s,isDisturbed:function(e){var t;return!(!e||!(null!==(t=e[u])&&void 0!==t?t:e.readableDidRead||e.readableAborted))},kIsDisturbed:u,isErrored:function(e){var t,r,n,i,o,s,c,u,f,l;return!(!e||!(null!==(t=null!==(r=null!==(n=null!==(i=null!==(o=null!==(s=e[a])&&void 0!==s?s:e.readableErrored)&&void 0!==o?o:e.writableErrored)&&void 0!==i?i:null===(c=e._readableState)||void 0===c?void 0:c.errorEmitted)&&void 0!==n?n:null===(u=e._writableState)||void 0===u?void 0:u.errorEmitted)&&void 0!==r?r:null===(f=e._readableState)||void 0===f?void 0:f.errored)&&void 0!==t?t:null===(l=e._writableState)||void 0===l?void 0:l.errored))},kIsErrored:a,isReadable:y,kIsReadable:c,isClosed:function(e){if(!h(e))return null;if("boolean"==typeof e.closed)return e.closed;const t=e._writableState,r=e._readableState;return"boolean"==typeof(null==t?void 0:t.closed)||"boolean"==typeof(null==r?void 0:r.closed)?(null==t?void 0:t.closed)||(null==r?void 0:r.closed):"boolean"==typeof e._closed&&v(e)?e._closed:null},isDestroyed:d,isDuplexNodeStream:function(e){return!(!e||"function"!=typeof e.pipe||!e._readableState||"function"!=typeof e.on||"function"!=typeof e.write)},isFinished:function(e,t){return h(e)?!(!d(e)&&(!1!==(null==t?void 0:t.readable)&&y(e)||!1!==(null==t?void 0:t.writable)&&m(e))):null},isIterable:function(e,t){return null!=e&&(!0===t?"function"==typeof e[i]:!1===t?"function"==typeof e[o]:"function"==typeof e[i]||"function"==typeof e[o])},isReadableNodeStream:f,isReadableEnded:function(e){if(!f(e))return null;if(!0===e.readableEnded)return!0;const t=e._readableState;return!(!t||t.errored)&&("boolean"!=typeof(null==t?void 0:t.ended)?null:t.ended)},isReadableFinished:b,isReadableErrored:function(e){var t,r;return h(e)?e.readableErrored?e.readableErrored:null!==(t=null===(r=e._readableState)||void 0===r?void 0:r.errored)&&void 0!==t?t:null:null},isNodeStream:h,isWritable:m,isWritableNodeStream:l,isWritableEnded:p,isWritableFinished:function(e,t){if(!l(e))return null;if(!0===e.writableFinished)return!0;const r=e._writableState;return(null==r||!r.errored)&&("boolean"!=typeof(null==r?void 0:r.finished)?null:!!(r.finished||!1===t&&!0===r.ended&&0===r.length))},isWritableErrored:function(e){var t,r;return h(e)?e.writableErrored?e.writableErrored:null!==(t=null===(r=e._writableState)||void 0===r?void 0:r.errored)&&void 0!==t?t:null:null},isServerRequest:function(e){var t;return"boolean"==typeof e._consuming&&"boolean"==typeof e._dumped&&void 0===(null===(t=e.req)||void 0===t?void 0:t.upgradeOrConnect)},isServerResponse:g,willEmitClose:function(e){if(!h(e))return null;const t=e._writableState,r=e._readableState,n=t||r;return!n&&g(e)||!!(n&&n.autoDestroy&&n.emitClose&&!1===n.closed)}}},79052:(e,t,r)=>{const n=r(12695),{ArrayPrototypeSlice:i,Error:o,FunctionPrototypeSymbolHasInstance:s,ObjectDefineProperty:a,ObjectDefineProperties:c,ObjectSetPrototypeOf:u,StringPrototypeToLowerCase:f,Symbol:l,SymbolHasInstance:h}=r(8216);e.exports=I,I.WritableState=$;const{EventEmitter:d}=r(33346),p=r(24272).Stream,{Buffer:b}=r(97866),y=r(94351),{addAbortSignal:m}=r(40543),{getHighWaterMark:v,getDefaultHighWaterMark:g}=r(46099),{ERR_INVALID_ARG_TYPE:w,ERR_METHOD_NOT_IMPLEMENTED:_,ERR_MULTIPLE_CALLBACK:S,ERR_STREAM_CANNOT_PIPE:E,ERR_STREAM_DESTROYED:O,ERR_STREAM_ALREADY_FINISHED:T,ERR_STREAM_NULL_VALUES:x,ERR_STREAM_WRITE_AFTER_END:A,ERR_UNKNOWN_ENCODING:M}=r(43696).codes,{errorOrDestroy:P}=y;function j(){}u(I.prototype,p.prototype),u(I,p);const k=l("kOnFinished");function $(e,t,n){"boolean"!=typeof n&&(n=t instanceof r(33325)),this.objectMode=!(!e||!e.objectMode),n&&(this.objectMode=this.objectMode||!(!e||!e.writableObjectMode)),this.highWaterMark=e?v(this,e,"writableHighWaterMark",n):g(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;const i=!(!e||!1!==e.decodeStrings);this.decodeStrings=!i,this.defaultEncoding=e&&e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=D.bind(void 0,t),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,C(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!e||!1!==e.emitClose,this.autoDestroy=!e||!1!==e.autoDestroy,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[k]=[]}function C(e){e.buffered=[],e.bufferedIndex=0,e.allBuffers=!0,e.allNoop=!0}function I(e){const t=this instanceof r(33325);if(!t&&!s(I,this))return new I(e);this._writableState=new $(e,this,t),e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final),"function"==typeof e.construct&&(this._construct=e.construct),e.signal&&m(e.signal,this)),p.call(this,e),y.construct(this,(()=>{const e=this._writableState;e.writing||q(this,e),V(this,e)}))}function R(e,t,r,i){const o=e._writableState;if("function"==typeof r)i=r,r=o.defaultEncoding;else{if(r){if("buffer"!==r&&!b.isEncoding(r))throw new M(r)}else r=o.defaultEncoding;"function"!=typeof i&&(i=j)}if(null===t)throw new x;if(!o.objectMode)if("string"==typeof t)!1!==o.decodeStrings&&(t=b.from(t,r),r="buffer");else if(t instanceof b)r="buffer";else{if(!p._isUint8Array(t))throw new w("chunk",["string","Buffer","Uint8Array"],t);t=p._uint8ArrayToBuffer(t),r="buffer"}let s;return o.ending?s=new A:o.destroyed&&(s=new O("write")),s?(n.nextTick(i,s),P(e,s,!0),s):(o.pendingcb++,function(e,t,r,n,i){const o=t.objectMode?1:r.length;t.length+=o;const s=t.length<t.highWaterMark;return s||(t.needDrain=!0),t.writing||t.corked||t.errored||!t.constructed?(t.buffered.push({chunk:r,encoding:n,callback:i}),t.allBuffers&&"buffer"!==n&&(t.allBuffers=!1),t.allNoop&&i!==j&&(t.allNoop=!1)):(t.writelen=o,t.writecb=i,t.writing=!0,t.sync=!0,e._write(r,n,t.onwrite),t.sync=!1),s&&!t.errored&&!t.destroyed}(e,o,t,r,i))}function N(e,t,r,n,i,o,s){t.writelen=n,t.writecb=s,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new O("write")):r?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function L(e,t,r,n){--t.pendingcb,n(r),U(t),P(e,r)}function D(e,t){const r=e._writableState,i=r.sync,o=r.writecb;"function"==typeof o?(r.writing=!1,r.writecb=null,r.length-=r.writelen,r.writelen=0,t?(t.stack,r.errored||(r.errored=t),e._readableState&&!e._readableState.errored&&(e._readableState.errored=t),i?n.nextTick(L,e,r,t,o):L(e,r,t,o)):(r.buffered.length>r.bufferedIndex&&q(e,r),i?null!==r.afterWriteTickInfo&&r.afterWriteTickInfo.cb===o?r.afterWriteTickInfo.count++:(r.afterWriteTickInfo={count:1,cb:o,stream:e,state:r},n.nextTick(F,r.afterWriteTickInfo)):B(e,r,1,o))):P(e,new S)}function F({stream:e,state:t,count:r,cb:n}){return t.afterWriteTickInfo=null,B(e,t,r,n)}function B(e,t,r,n){for(!t.ending&&!e.destroyed&&0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"));r-- >0;)t.pendingcb--,n();t.destroyed&&U(t),V(e,t)}function U(e){if(e.writing)return;for(let r=e.bufferedIndex;r<e.buffered.length;++r){var t;const{chunk:n,callback:i}=e.buffered[r],o=e.objectMode?1:n.length;e.length-=o,i(null!==(t=e.errored)&&void 0!==t?t:new O("write"))}const r=e[k].splice(0);for(let t=0;t<r.length;t++){var n;r[t](null!==(n=e.errored)&&void 0!==n?n:new O("end"))}C(e)}function q(e,t){if(t.corked||t.bufferProcessing||t.destroyed||!t.constructed)return;const{buffered:r,bufferedIndex:n,objectMode:o}=t,s=r.length-n;if(!s)return;let a=n;if(t.bufferProcessing=!0,s>1&&e._writev){t.pendingcb-=s-1;const n=t.allNoop?j:e=>{for(let t=a;t<r.length;++t)r[t].callback(e)},o=t.allNoop&&0===a?r:i(r,a);o.allBuffers=t.allBuffers,N(e,t,!0,t.length,o,"",n),C(t)}else{do{const{chunk:n,encoding:i,callback:s}=r[a];r[a++]=null,N(e,t,!1,o?1:n.length,n,i,s)}while(a<r.length&&!t.writing);a===r.length?C(t):a>256?(r.splice(0,a),t.bufferedIndex=0):t.bufferedIndex=a}t.bufferProcessing=!1}function z(e){return e.ending&&!e.destroyed&&e.constructed&&0===e.length&&!e.errored&&0===e.buffered.length&&!e.finished&&!e.writing&&!e.errorEmitted&&!e.closeEmitted}function V(e,t,r){z(t)&&(function(e,t){t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.finalCalled=!0,function(e,t){let r=!1;function i(i){if(r)P(e,null!=i?i:S());else if(r=!0,t.pendingcb--,i){const r=t[k].splice(0);for(let e=0;e<r.length;e++)r[e](i);P(e,i,t.sync)}else z(t)&&(t.prefinished=!0,e.emit("prefinish"),t.pendingcb++,n.nextTick(H,e,t))}t.sync=!0,t.pendingcb++;try{e._final(i)}catch(e){i(e)}t.sync=!1}(e,t)))}(e,t),0===t.pendingcb&&(r?(t.pendingcb++,n.nextTick(((e,t)=>{z(t)?H(e,t):t.pendingcb--}),e,t)):z(t)&&(t.pendingcb++,H(e,t))))}function H(e,t){t.pendingcb--,t.finished=!0;const r=t[k].splice(0);for(let e=0;e<r.length;e++)r[e]();if(e.emit("finish"),t.autoDestroy){const t=e._readableState;(!t||t.autoDestroy&&(t.endEmitted||!1===t.readable))&&e.destroy()}}$.prototype.getBuffer=function(){return i(this.buffered,this.bufferedIndex)},a($.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}}),a(I,h,{__proto__:null,value:function(e){return!!s(this,e)||this===I&&e&&e._writableState instanceof $}}),I.prototype.pipe=function(){P(this,new E)},I.prototype.write=function(e,t,r){return!0===R(this,e,t,r)},I.prototype.cork=function(){this._writableState.corked++},I.prototype.uncork=function(){const e=this._writableState;e.corked&&(e.corked--,e.writing||q(this,e))},I.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=f(e)),!b.isEncoding(e))throw new M(e);return this._writableState.defaultEncoding=e,this},I.prototype._write=function(e,t,r){if(!this._writev)throw new _("_write()");this._writev([{chunk:e,encoding:t}],r)},I.prototype._writev=null,I.prototype.end=function(e,t,r){const i=this._writableState;let s;if("function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!=e){const r=R(this,e,t);r instanceof o&&(s=r)}return i.corked&&(i.corked=1,this.uncork()),s||(i.errored||i.ending?i.finished?s=new T("end"):i.destroyed&&(s=new O("end")):(i.ending=!0,V(this,i,!0),i.ended=!0)),"function"==typeof r&&(s||i.finished?n.nextTick(r,s):i[k].push(r)),this},c(I.prototype,{closed:{__proto__:null,get(){return!!this._writableState&&this._writableState.closed}},destroyed:{__proto__:null,get(){return!!this._writableState&&this._writableState.destroyed},set(e){this._writableState&&(this._writableState.destroyed=e)}},writable:{__proto__:null,get(){const e=this._writableState;return!(!e||!1===e.writable||e.destroyed||e.errored||e.ending||e.ended)},set(e){this._writableState&&(this._writableState.writable=!!e)}},writableFinished:{__proto__:null,get(){return!!this._writableState&&this._writableState.finished}},writableObjectMode:{__proto__:null,get(){return!!this._writableState&&this._writableState.objectMode}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return!!this._writableState&&this._writableState.ending}},writableNeedDrain:{__proto__:null,get(){const e=this._writableState;return!!e&&!e.destroyed&&!e.ending&&e.needDrain}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!(!1===this._writableState.writable||!this._writableState.destroyed&&!this._writableState.errored||this._writableState.finished)}}});const W=y.destroy;let G;function K(){return void 0===G&&(G={}),G}I.prototype.destroy=function(e,t){const r=this._writableState;return!r.destroyed&&(r.bufferedIndex<r.buffered.length||r[k].length)&&n.nextTick(U,r),W.call(this,e,t),this},I.prototype._undestroy=y.undestroy,I.prototype._destroy=function(e,t){t(e)},I.prototype[d.captureRejectionSymbol]=function(e){this.destroy(e)},I.fromWeb=function(e,t){return K().newStreamWritableFromWritableStream(e,t)},I.toWeb=function(e){return K().newWritableStreamFromStreamWritable(e)}},81762:(e,t,r)=>{const{ArrayIsArray:n,ArrayPrototypeIncludes:i,ArrayPrototypeJoin:o,ArrayPrototypeMap:s,NumberIsInteger:a,NumberIsNaN:c,NumberMAX_SAFE_INTEGER:u,NumberMIN_SAFE_INTEGER:f,NumberParseInt:l,ObjectPrototypeHasOwnProperty:h,RegExpPrototypeExec:d,String:p,StringPrototypeToUpperCase:b,StringPrototypeTrim:y}=r(8216),{hideStackFrames:m,codes:{ERR_SOCKET_BAD_PORT:v,ERR_INVALID_ARG_TYPE:g,ERR_INVALID_ARG_VALUE:w,ERR_OUT_OF_RANGE:_,ERR_UNKNOWN_SIGNAL:S}}=r(43696),{normalizeEncoding:E}=r(93878),{isAsyncFunction:O,isArrayBufferView:T}=r(93878).types,x={},A=/^[0-7]+$/,M=m(((e,t,r=f,n=u)=>{if("number"!=typeof e)throw new g(t,"number",e);if(!a(e))throw new _(t,"an integer",e);if(e<r||e>n)throw new _(t,`>= ${r} && <= ${n}`,e)})),P=m(((e,t,r=-2147483648,n=2147483647)=>{if("number"!=typeof e)throw new g(t,"number",e);if(!a(e))throw new _(t,"an integer",e);if(e<r||e>n)throw new _(t,`>= ${r} && <= ${n}`,e)})),j=m(((e,t,r=!1)=>{if("number"!=typeof e)throw new g(t,"number",e);if(!a(e))throw new _(t,"an integer",e);const n=r?1:0,i=4294967295;if(e<n||e>i)throw new _(t,`>= ${n} && <= ${i}`,e)}));function k(e,t){if("string"!=typeof e)throw new g(t,"string",e)}const $=m(((e,t,r)=>{if(!i(r,e)){const n=o(s(r,(e=>"string"==typeof e?`'${e}'`:p(e))),", ");throw new w(t,e,"must be one of: "+n)}}));function C(e,t,r){return null!=e&&h(e,t)?e[t]:r}const I=m(((e,t,r=null)=>{const i=C(r,"allowArray",!1),o=C(r,"allowFunction",!1);if(!C(r,"nullable",!1)&&null===e||!i&&n(e)||"object"!=typeof e&&(!o||"function"!=typeof e))throw new g(t,"Object",e)})),R=m(((e,t,r=0)=>{if(!n(e))throw new g(t,"Array",e);if(e.length<r)throw new w(t,e,`must be longer than ${r}`)})),N=m(((e,t="buffer")=>{if(!T(e))throw new g(t,["Buffer","TypedArray","DataView"],e)})),L=m(((e,t)=>{if(void 0!==e&&(null===e||"object"!=typeof e||!("aborted"in e)))throw new g(t,"AbortSignal",e)})),D=m(((e,t)=>{if("function"!=typeof e)throw new g(t,"Function",e)})),F=m(((e,t)=>{if("function"!=typeof e||O(e))throw new g(t,"Function",e)})),B=m(((e,t)=>{if(void 0!==e)throw new g(t,"undefined",e)}));e.exports={isInt32:function(e){return e===(0|e)},isUint32:function(e){return e===e>>>0},parseFileMode:function(e,t,r){if(void 0===e&&(e=r),"string"==typeof e){if(null===d(A,e))throw new w(t,e,"must be a 32-bit unsigned integer or an octal string");e=l(e,8)}return j(e,t),e},validateArray:R,validateBoolean:function(e,t){if("boolean"!=typeof e)throw new g(t,"boolean",e)},validateBuffer:N,validateEncoding:function(e,t){const r=E(t),n=e.length;if("hex"===r&&n%2!=0)throw new w("encoding",t,`is invalid for data of length ${n}`)},validateFunction:D,validateInt32:P,validateInteger:M,validateNumber:function(e,t,r,n){if("number"!=typeof e)throw new g(t,"number",e);if(null!=r&&e<r||null!=n&&e>n||(null!=r||null!=n)&&c(e))throw new _(t,`${null!=r?`>= ${r}`:""}${null!=r&&null!=n?" && ":""}${null!=n?`<= ${n}`:""}`,e)},validateObject:I,validateOneOf:$,validatePlainFunction:F,validatePort:function(e,t="Port",r=!0){if("number"!=typeof e&&"string"!=typeof e||"string"==typeof e&&0===y(e).length||+e!=+e>>>0||e>65535||0===e&&!r)throw new v(t,e,r);return 0|e},validateSignalName:function(e,t="signal"){if(k(e,t),void 0===x[e]){if(void 0!==x[b(e)])throw new S(e+" (signals must use all capital letters)");throw new S(e)}},validateString:k,validateUint32:j,validateUndefined:B,validateUnion:function(e,t,r){if(!i(r,e))throw new g(t,`('${o(r,"|")}')`,e)},validateAbortSignal:L}},43696:(e,t,r)=>{const{format:n,inspect:i,AggregateError:o}=r(93878),s=globalThis.AggregateError||o,a=Symbol("kIsNodeError"),c=["string","function","number","object","Function","Object","boolean","bigint","symbol"],u=/^([A-Z][a-z0-9]*)+$/,f={};function l(e,t){if(!e)throw new f.ERR_INTERNAL_ASSERTION(t)}function h(e){let t="",r=e.length;const n="-"===e[0]?1:0;for(;r>=n+4;r-=3)t=`_${e.slice(r-3,r)}${t}`;return`${e.slice(0,r)}${t}`}function d(e,t,r){r||(r=Error);class i extends r{constructor(...r){super(function(e,t,r){if("function"==typeof t)return l(t.length<=r.length,`Code: ${e}; The provided arguments length (${r.length}) does not match the required ones (${t.length}).`),t(...r);const i=(t.match(/%[dfijoOs]/g)||[]).length;return l(i===r.length,`Code: ${e}; The provided arguments length (${r.length}) does not match the required ones (${i}).`),0===r.length?t:n(t,...r)}(e,t,r))}toString(){return`${this.name} [${e}]: ${this.message}`}}Object.defineProperties(i.prototype,{name:{value:r.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${e}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),i.prototype.code=e,i.prototype[a]=!0,f[e]=i}function p(e){const t="__node_internal_"+e.name;return Object.defineProperty(e,"name",{value:t}),e}class b extends Error{constructor(e="The operation was aborted",t){if(void 0!==t&&"object"!=typeof t)throw new f.ERR_INVALID_ARG_TYPE("options","Object",t);super(e,t),this.code="ABORT_ERR",this.name="AbortError"}}d("ERR_ASSERTION","%s",Error),d("ERR_INVALID_ARG_TYPE",((e,t,r)=>{l("string"==typeof e,"'name' must be a string"),Array.isArray(t)||(t=[t]);let n="The ";e.endsWith(" argument")?n+=`${e} `:n+=`"${e}" ${e.includes(".")?"property":"argument"} `,n+="must be ";const o=[],s=[],a=[];for(const e of t)l("string"==typeof e,"All expected entries have to be of type string"),c.includes(e)?o.push(e.toLowerCase()):u.test(e)?s.push(e):(l("object"!==e,'The value "object" should be written as "Object"'),a.push(e));if(s.length>0){const e=o.indexOf("object");-1!==e&&(o.splice(o,e,1),s.push("Object"))}if(o.length>0){switch(o.length){case 1:n+=`of type ${o[0]}`;break;case 2:n+=`one of type ${o[0]} or ${o[1]}`;break;default:{const e=o.pop();n+=`one of type ${o.join(", ")}, or ${e}`}}(s.length>0||a.length>0)&&(n+=" or ")}if(s.length>0){switch(s.length){case 1:n+=`an instance of ${s[0]}`;break;case 2:n+=`an instance of ${s[0]} or ${s[1]}`;break;default:{const e=s.pop();n+=`an instance of ${s.join(", ")}, or ${e}`}}a.length>0&&(n+=" or ")}switch(a.length){case 0:break;case 1:a[0].toLowerCase()!==a[0]&&(n+="an "),n+=`${a[0]}`;break;case 2:n+=`one of ${a[0]} or ${a[1]}`;break;default:{const e=a.pop();n+=`one of ${a.join(", ")}, or ${e}`}}if(null==r)n+=`. Received ${r}`;else if("function"==typeof r&&r.name)n+=`. Received function ${r.name}`;else if("object"==typeof r){var f;null!==(f=r.constructor)&&void 0!==f&&f.name?n+=`. Received an instance of ${r.constructor.name}`:n+=`. Received ${i(r,{depth:-1})}`}else{let e=i(r,{colors:!1});e.length>25&&(e=`${e.slice(0,25)}...`),n+=`. Received type ${typeof r} (${e})`}return n}),TypeError),d("ERR_INVALID_ARG_VALUE",((e,t,r="is invalid")=>{let n=i(t);return n.length>128&&(n=n.slice(0,128)+"..."),`The ${e.includes(".")?"property":"argument"} '${e}' ${r}. Received ${n}`}),TypeError),d("ERR_INVALID_RETURN_VALUE",((e,t,r)=>{var n;return`Expected ${e} to be returned from the "${t}" function but got ${null!=r&&null!==(n=r.constructor)&&void 0!==n&&n.name?`instance of ${r.constructor.name}`:"type "+typeof r}.`}),TypeError),d("ERR_MISSING_ARGS",((...e)=>{let t;l(e.length>0,"At least one arg needs to be specified");const r=e.length;switch(e=(Array.isArray(e)?e:[e]).map((e=>`"${e}"`)).join(" or "),r){case 1:t+=`The ${e[0]} argument`;break;case 2:t+=`The ${e[0]} and ${e[1]} arguments`;break;default:{const r=e.pop();t+=`The ${e.join(", ")}, and ${r} arguments`}}return`${t} must be specified`}),TypeError),d("ERR_OUT_OF_RANGE",((e,t,r)=>{let n;return l(t,'Missing "range" argument'),Number.isInteger(r)&&Math.abs(r)>2**32?n=h(String(r)):"bigint"==typeof r?(n=String(r),(r>2n**32n||r<-(2n**32n))&&(n=h(n)),n+="n"):n=i(r),`The value of "${e}" is out of range. It must be ${t}. Received ${n}`}),RangeError),d("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),d("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),d("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),d("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),d("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),d("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),d("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),d("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),d("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),d("ERR_STREAM_WRITE_AFTER_END","write after end",Error),d("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),e.exports={AbortError:b,aggregateTwoErrors:p((function(e,t){if(e&&t&&e!==t){if(Array.isArray(t.errors))return t.errors.push(e),t;const r=new s([t,e],t.message);return r.code=t.code,r}return e||t})),hideStackFrames:p,codes:f}},8216:e=>{e.exports={ArrayIsArray:e=>Array.isArray(e),ArrayPrototypeIncludes:(e,t)=>e.includes(t),ArrayPrototypeIndexOf:(e,t)=>e.indexOf(t),ArrayPrototypeJoin:(e,t)=>e.join(t),ArrayPrototypeMap:(e,t)=>e.map(t),ArrayPrototypePop:(e,t)=>e.pop(t),ArrayPrototypePush:(e,t)=>e.push(t),ArrayPrototypeSlice:(e,t,r)=>e.slice(t,r),Error,FunctionPrototypeCall:(e,t,...r)=>e.call(t,...r),FunctionPrototypeSymbolHasInstance:(e,t)=>Function.prototype[Symbol.hasInstance].call(e,t),MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties:(e,t)=>Object.defineProperties(e,t),ObjectDefineProperty:(e,t,r)=>Object.defineProperty(e,t,r),ObjectGetOwnPropertyDescriptor:(e,t)=>Object.getOwnPropertyDescriptor(e,t),ObjectKeys:e=>Object.keys(e),ObjectSetPrototypeOf:(e,t)=>Object.setPrototypeOf(e,t),Promise,PromisePrototypeCatch:(e,t)=>e.catch(t),PromisePrototypeThen:(e,t,r)=>e.then(t,r),PromiseReject:e=>Promise.reject(e),ReflectApply:Reflect.apply,RegExpPrototypeTest:(e,t)=>e.test(t),SafeSet:Set,String,StringPrototypeSlice:(e,t,r)=>e.slice(t,r),StringPrototypeToLowerCase:e=>e.toLowerCase(),StringPrototypeToUpperCase:e=>e.toUpperCase(),StringPrototypeTrim:e=>e.trim(),Symbol,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,TypedArrayPrototypeSet:(e,t,r)=>e.set(t,r),Uint8Array}},93878:(e,t,r)=>{const n=r(97866),i=Object.getPrototypeOf((async function(){})).constructor,o=globalThis.Blob||n.Blob,s=void 0!==o?function(e){return e instanceof o}:function(e){return!1};class a extends Error{constructor(e){if(!Array.isArray(e))throw new TypeError("Expected input to be an Array, got "+typeof e);let t="";for(let r=0;r<e.length;r++)t+=`    ${e[r].stack}\n`;super(t),this.name="AggregateError",this.errors=e}}e.exports={AggregateError:a,kEmptyObject:Object.freeze({}),once(e){let t=!1;return function(...r){t||(t=!0,e.apply(this,r))}},createDeferredPromise:function(){let e,t;return{promise:new Promise(((r,n)=>{e=r,t=n})),resolve:e,reject:t}},promisify:e=>new Promise(((t,r)=>{e(((e,...n)=>e?r(e):t(...n)))})),debuglog:()=>function(){},format:(e,...t)=>e.replace(/%([sdifj])/g,(function(...[e,r]){const n=t.shift();return"f"===r?n.toFixed(6):"j"===r?JSON.stringify(n):"s"===r&&"object"==typeof n?`${n.constructor!==Object?n.constructor.name:""} {}`.trim():n.toString()})),inspect(e){switch(typeof e){case"string":if(e.includes("'")){if(!e.includes('"'))return`"${e}"`;if(!e.includes("`")&&!e.includes("${"))return`\`${e}\``}return`'${e}'`;case"number":return isNaN(e)?"NaN":Object.is(e,-0)?String(e):e;case"bigint":return`${String(e)}n`;case"boolean":case"undefined":return String(e);case"object":return"{}"}},types:{isAsyncFunction:e=>e instanceof i,isArrayBufferView:e=>ArrayBuffer.isView(e)},isBlob:s},e.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")},95751:(e,t,r)=>{const{Buffer:n}=r(97866),{ObjectDefineProperty:i,ObjectKeys:o,ReflectApply:s}=r(8216),{promisify:{custom:a}}=r(93878),{streamReturningOperators:c,promiseReturningOperators:u}=r(61074),{codes:{ERR_ILLEGAL_CONSTRUCTOR:f}}=r(43696),l=r(58626),{pipeline:h}=r(21439),{destroyer:d}=r(94351),p=r(53735),b=r(73411),y=r(65300),m=e.exports=r(24272).Stream;m.isDisturbed=y.isDisturbed,m.isErrored=y.isErrored,m.isReadable=y.isReadable,m.Readable=r(33728);for(const w of o(c)){const _=c[w];function v(...e){if(new.target)throw f();return m.Readable.from(s(_,this,e))}i(v,"name",{__proto__:null,value:_.name}),i(v,"length",{__proto__:null,value:_.length}),i(m.Readable.prototype,w,{__proto__:null,value:v,enumerable:!1,configurable:!0,writable:!0})}for(const S of o(u)){const E=u[S];function v(...e){if(new.target)throw f();return s(E,this,e)}i(v,"name",{__proto__:null,value:E.name}),i(v,"length",{__proto__:null,value:E.length}),i(m.Readable.prototype,S,{__proto__:null,value:v,enumerable:!1,configurable:!0,writable:!0})}m.Writable=r(79052),m.Duplex=r(33325),m.Transform=r(21955),m.PassThrough=r(93592),m.pipeline=h;const{addAbortSignal:g}=r(40543);m.addAbortSignal=g,m.finished=p,m.destroy=d,m.compose=l,i(m,"promises",{__proto__:null,configurable:!0,enumerable:!0,get:()=>b}),i(h,a,{__proto__:null,enumerable:!0,get:()=>b.pipeline}),i(p,a,{__proto__:null,enumerable:!0,get:()=>b.finished}),m.Stream=m,m._isUint8Array=function(e){return e instanceof Uint8Array},m._uint8ArrayToBuffer=function(e){return n.from(e.buffer,e.byteOffset,e.byteLength)}},73411:(e,t,r)=>{const{ArrayPrototypePop:n,Promise:i}=r(8216),{isIterable:o,isNodeStream:s}=r(65300),{pipelineImpl:a}=r(21439),{finished:c}=r(53735);e.exports={finished:c,pipeline:function(...e){return new i(((t,r)=>{let i,c;const u=e[e.length-1];if(u&&"object"==typeof u&&!s(u)&&!o(u)){const t=n(e);i=t.signal,c=t.end}a(e,((e,n)=>{e?r(e):t(n)}),{signal:i,end:c})}))}}},46455:(e,t,r)=>{var n=r(97866).Buffer,i=r(23730),o=r(7579),s=new Array(16),a=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],c=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],u=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],f=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],l=[0,1518500249,1859775393,2400959708,2840853838],h=[1352829926,1548603684,1836072691,2053994217,0];function d(){o.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function p(e,t){return e<<t|e>>>32-t}function b(e,t,r,n,i,o,s,a){return p(e+(t^r^n)+o+s|0,a)+i|0}function y(e,t,r,n,i,o,s,a){return p(e+(t&r|~t&n)+o+s|0,a)+i|0}function m(e,t,r,n,i,o,s,a){return p(e+((t|~r)^n)+o+s|0,a)+i|0}function v(e,t,r,n,i,o,s,a){return p(e+(t&n|r&~n)+o+s|0,a)+i|0}function g(e,t,r,n,i,o,s,a){return p(e+(t^(r|~n))+o+s|0,a)+i|0}i(d,o),d.prototype._update=function(){for(var e=s,t=0;t<16;++t)e[t]=this._block.readInt32LE(4*t);for(var r=0|this._a,n=0|this._b,i=0|this._c,o=0|this._d,d=0|this._e,w=0|this._a,_=0|this._b,S=0|this._c,E=0|this._d,O=0|this._e,T=0;T<80;T+=1){var x,A;T<16?(x=b(r,n,i,o,d,e[a[T]],l[0],u[T]),A=g(w,_,S,E,O,e[c[T]],h[0],f[T])):T<32?(x=y(r,n,i,o,d,e[a[T]],l[1],u[T]),A=v(w,_,S,E,O,e[c[T]],h[1],f[T])):T<48?(x=m(r,n,i,o,d,e[a[T]],l[2],u[T]),A=m(w,_,S,E,O,e[c[T]],h[2],f[T])):T<64?(x=v(r,n,i,o,d,e[a[T]],l[3],u[T]),A=y(w,_,S,E,O,e[c[T]],h[3],f[T])):(x=g(r,n,i,o,d,e[a[T]],l[4],u[T]),A=b(w,_,S,E,O,e[c[T]],h[4],f[T])),r=d,d=o,o=p(i,10),i=n,n=x,w=O,O=E,E=p(S,10),S=_,_=A}var M=this._b+i+E|0;this._b=this._c+o+O|0,this._c=this._d+d+w|0,this._d=this._e+r+_|0,this._e=this._a+n+S|0,this._a=M},d.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var e=n.alloc?n.alloc(20):new n(20);return e.writeInt32LE(this._a,0),e.writeInt32LE(this._b,4),e.writeInt32LE(this._c,8),e.writeInt32LE(this._d,12),e.writeInt32LE(this._e,16),e},e.exports=d},85859:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(31377),o=r(84469),s=function(e){function t(){e.apply(this,arguments),this.value=null,this.hasNext=!1,this.hasCompleted=!1}return n(t,e),t.prototype._subscribe=function(t){return this.hasError?(t.error(this.thrownError),o.Subscription.EMPTY):this.hasCompleted&&this.hasNext?(t.next(this.value),t.complete(),o.Subscription.EMPTY):e.prototype._subscribe.call(this,t)},t.prototype.next=function(e){this.hasCompleted||(this.value=e,this.hasNext=!0)},t.prototype.error=function(t){this.hasCompleted||e.prototype.error.call(this,t)},t.prototype.complete=function(){this.hasCompleted=!0,this.hasNext&&e.prototype.next.call(this,this.value),e.prototype.complete.call(this)},t}(i.Subject);t.AsyncSubject=s},91033:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(31377),o=r(34901),s=function(e){function t(t){e.call(this),this._value=t}return n(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),t.prototype._subscribe=function(t){var r=e.prototype._subscribe.call(this,t);return r&&!r.closed&&t.next(this._value),r},t.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new o.ObjectUnsubscribedError;return this._value},t.prototype.next=function(t){e.prototype.next.call(this,this._value=t)},t}(i.Subject);t.BehaviorSubject=s},1403:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=function(e){function t(t,r,n){e.call(this),this.parent=t,this.outerValue=r,this.outerIndex=n,this.index=0}return n(t,e),t.prototype._next=function(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)},t.prototype._error=function(e){this.parent.notifyError(e,this),this.unsubscribe()},t.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},t}(r(71975).Subscriber);t.InnerSubscriber=i},53926:(e,t,r)=>{var n=r(16561),i=function(){function e(e,t,r){this.kind=e,this.value=t,this.error=r,this.hasValue="N"===e}return e.prototype.observe=function(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}},e.prototype.do=function(e,t,r){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return r&&r()}},e.prototype.accept=function(e,t,r){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,r)},e.prototype.toObservable=function(){switch(this.kind){case"N":return n.Observable.of(this.value);case"E":return n.Observable.throw(this.error);case"C":return n.Observable.empty()}throw new Error("unexpected notification kind value")},e.createNext=function(t){return void 0!==t?new e("N",t):e.undefinedValueNotification},e.createError=function(t){return new e("E",void 0,t)},e.createComplete=function(){return e.completeNotification},e.completeNotification=new e("C"),e.undefinedValueNotification=new e("N",void 0),e}();t.Notification=i},16561:(e,t,r)=>{var n=r(21613),i=r(74119),o=r(62086),s=r(92611),a=function(){function e(e){this._isScalar=!1,e&&(this._subscribe=e)}return e.prototype.lift=function(t){var r=new e;return r.source=this,r.operator=t,r},e.prototype.subscribe=function(e,t,r){var n=this.operator,o=i.toSubscriber(e,t,r);if(n?n.call(o,this.source):o.add(this.source||!o.syncErrorThrowable?this._subscribe(o):this._trySubscribe(o)),o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.syncErrorThrown=!0,e.syncErrorValue=t,e.error(t)}},e.prototype.forEach=function(e,t){var r=this;if(t||(n.root.Rx&&n.root.Rx.config&&n.root.Rx.config.Promise?t=n.root.Rx.config.Promise:n.root.Promise&&(t=n.root.Promise)),!t)throw new Error("no Promise impl found");return new t((function(t,n){var i;i=r.subscribe((function(t){if(i)try{e(t)}catch(e){n(e),i.unsubscribe()}else e(t)}),n,t)}))},e.prototype._subscribe=function(e){return this.source.subscribe(e)},e.prototype[o.observable]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return 0===e.length?this:s.pipeFromArray(e)(this)},e.prototype.toPromise=function(e){var t=this;if(e||(n.root.Rx&&n.root.Rx.config&&n.root.Rx.config.Promise?e=n.root.Rx.config.Promise:n.root.Promise&&(e=n.root.Promise)),!e)throw new Error("no Promise impl found");return new e((function(e,r){var n;t.subscribe((function(e){return n=e}),(function(e){return r(e)}),(function(){return e(n)}))}))},e.create=function(t){return new e(t)},e}();t.Observable=a},83847:(e,t)=>{t.empty={closed:!0,next:function(e){},error:function(e){throw e},complete:function(){}}},62392:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=function(e){function t(){e.apply(this,arguments)}return n(t,e),t.prototype.notifyNext=function(e,t,r,n,i){this.destination.next(t)},t.prototype.notifyError=function(e,t){this.destination.error(e)},t.prototype.notifyComplete=function(e){this.destination.complete()},t}(r(71975).Subscriber);t.OuterSubscriber=i},48885:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(31377),o=r(49700),s=r(84469),a=r(10074),c=r(34901),u=r(7367),f=function(e){function t(t,r,n){void 0===t&&(t=Number.POSITIVE_INFINITY),void 0===r&&(r=Number.POSITIVE_INFINITY),e.call(this),this.scheduler=n,this._events=[],this._bufferSize=t<1?1:t,this._windowTime=r<1?1:r}return n(t,e),t.prototype.next=function(t){var r=this._getNow();this._events.push(new l(r,t)),this._trimBufferThenGetEvents(),e.prototype.next.call(this,t)},t.prototype._subscribe=function(e){var t,r=this._trimBufferThenGetEvents(),n=this.scheduler;if(this.closed)throw new c.ObjectUnsubscribedError;this.hasError||this.isStopped?t=s.Subscription.EMPTY:(this.observers.push(e),t=new u.SubjectSubscription(this,e)),n&&e.add(e=new a.ObserveOnSubscriber(e,n));for(var i=r.length,o=0;o<i&&!e.closed;o++)e.next(r[o].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),t},t.prototype._getNow=function(){return(this.scheduler||o.queue).now()},t.prototype._trimBufferThenGetEvents=function(){for(var e=this._getNow(),t=this._bufferSize,r=this._windowTime,n=this._events,i=n.length,o=0;o<i&&!(e-n[o].time<r);)o++;return i>t&&(o=Math.max(o,i-t)),o>0&&n.splice(0,o),n},t}(i.Subject);t.ReplaySubject=f;var l=function(e,t){this.time=e,this.value=t}},31379:(e,t,r)=>{var n=r(31377);n.Subject,n.AnonymousSubject,r(16561).Observable,r(59686),r(78749),r(53431),r(10535),r(96419),r(1926),r(23917),r(54068),r(45373),r(5740),r(63338),r(69090),r(63391),r(44058),r(94101),r(90772),r(16529),r(15395),r(87522),r(40629),r(52857),r(59024),r(31069),r(53568),r(55814),r(85169),r(54662),r(16965),r(95052),r(14473),r(61110),r(93510),r(58294),r(31309),r(91094),r(45327),r(64801),r(63451),r(11759),r(38273),r(47104),r(33586),r(19738),r(22726),r(22923),r(37638),r(16443),r(98654),r(69598),r(21743),r(66905),r(65335),r(17107),r(99223),r(79745),r(93774),r(36724),r(8671),r(70539),r(28516),r(73609),r(45869),r(22657),r(21369),r(68516),r(99198),r(66938),r(71691),r(39893),r(60933),r(52445),r(42221),r(8405),r(63008),r(93921),r(23392),r(2277),r(43152),r(69372),r(23094),r(82085),r(2403),r(9381),r(77970),r(35426),r(52430),r(97210),r(42363),r(30659),r(94931),r(18212),r(40088),r(29475),r(71198),r(56574),r(6747),r(9118),r(41361),r(60484),r(93746),r(83052),r(98720),r(89122),r(47419),r(57948),r(79996),r(6530),r(50503),r(89903),r(8269),r(90906),r(80866),r(10707),r(62340),r(76389),r(48946),r(97774),r(92162),r(27133),r(20864),r(4027),r(25221),r(70972),r(14862),r(43753),r(37332),r(6109),r(17973),r(87325);var i=r(84469);t.w0=i.Subscription,r(71975).Subscriber,r(85859).AsyncSubject,r(48885).ReplaySubject,r(91033).BehaviorSubject,r(72771).ConnectableObservable,r(53926).Notification,r(8294).EmptyError,r(55122).ArgumentOutOfRangeError,r(34901).ObjectUnsubscribedError,r(12505).TimeoutError,r(71928).UnsubscriptionError,r(691).TimeInterval,r(22655).Timestamp,r(92615).TestScheduler,r(81816).VirtualTimeScheduler;var o=r(58709);o.AjaxResponse,o.AjaxError,o.AjaxTimeoutError,r(92611).pipe;var s=r(24510),a=r(55488),c=r(49700),u=r(65971),f=r(98130),l=r(51474),h=r(62086);r(50878),s.asap,c.queue,u.animationFrame,a.async,f.rxSubscriber,h.observable,l.iterator},86593:(e,t)=>{var r=function(){function e(t,r){void 0===r&&(r=e.now),this.SchedulerAction=t,this.now=r}return e.prototype.schedule=function(e,t,r){return void 0===t&&(t=0),new this.SchedulerAction(this,e).schedule(r,t)},e.now=Date.now?Date.now:function(){return+new Date},e}();t.Scheduler=r},31377:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(16561),o=r(71975),s=r(84469),a=r(34901),c=r(7367),u=r(98130),f=function(e){function t(t){e.call(this,t),this.destination=t}return n(t,e),t}(o.Subscriber);t.SubjectSubscriber=f;var l=function(e){function t(){e.call(this),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}return n(t,e),t.prototype[u.rxSubscriber]=function(){return new f(this)},t.prototype.lift=function(e){var t=new h(this,this);return t.operator=e,t},t.prototype.next=function(e){if(this.closed)throw new a.ObjectUnsubscribedError;if(!this.isStopped)for(var t=this.observers,r=t.length,n=t.slice(),i=0;i<r;i++)n[i].next(e)},t.prototype.error=function(e){if(this.closed)throw new a.ObjectUnsubscribedError;this.hasError=!0,this.thrownError=e,this.isStopped=!0;for(var t=this.observers,r=t.length,n=t.slice(),i=0;i<r;i++)n[i].error(e);this.observers.length=0},t.prototype.complete=function(){if(this.closed)throw new a.ObjectUnsubscribedError;this.isStopped=!0;for(var e=this.observers,t=e.length,r=e.slice(),n=0;n<t;n++)r[n].complete();this.observers.length=0},t.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},t.prototype._trySubscribe=function(t){if(this.closed)throw new a.ObjectUnsubscribedError;return e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){if(this.closed)throw new a.ObjectUnsubscribedError;return this.hasError?(e.error(this.thrownError),s.Subscription.EMPTY):this.isStopped?(e.complete(),s.Subscription.EMPTY):(this.observers.push(e),new c.SubjectSubscription(this,e))},t.prototype.asObservable=function(){var e=new i.Observable;return e.source=this,e},t.create=function(e,t){return new h(e,t)},t}(i.Observable);t.Subject=l;var h=function(e){function t(t,r){e.call(this),this.destination=t,this.source=r}return n(t,e),t.prototype.next=function(e){var t=this.destination;t&&t.next&&t.next(e)},t.prototype.error=function(e){var t=this.destination;t&&t.error&&this.destination.error(e)},t.prototype.complete=function(){var e=this.destination;e&&e.complete&&this.destination.complete()},t.prototype._subscribe=function(e){return this.source?this.source.subscribe(e):s.Subscription.EMPTY},t}(l);t.AnonymousSubject=h},7367:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=function(e){function t(t,r){e.call(this),this.subject=t,this.subscriber=r,this.closed=!1}return n(t,e),t.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var e=this.subject,t=e.observers;if(this.subject=null,t&&0!==t.length&&!e.isStopped&&!e.closed){var r=t.indexOf(this.subscriber);-1!==r&&t.splice(r,1)}}},t}(r(84469).Subscription);t.SubjectSubscription=i},71975:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(78451),o=r(84469),s=r(83847),a=r(98130),c=function(e){function t(t,r,n){switch(e.call(this),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=s.empty;break;case 1:if(!t){this.destination=s.empty;break}if("object"==typeof t){if(f(t)){var i=t[a.rxSubscriber]();this.syncErrorThrowable=i.syncErrorThrowable,this.destination=i,i.add(this)}else this.syncErrorThrowable=!0,this.destination=new u(this,t);break}default:this.syncErrorThrowable=!0,this.destination=new u(this,t,r,n)}}return n(t,e),t.prototype[a.rxSubscriber]=function(){return this},t.create=function(e,r,n){var i=new t(e,r,n);return i.syncErrorThrowable=!1,i},t.prototype.next=function(e){this.isStopped||this._next(e)},t.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this))},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){this.destination.error(e),this.unsubscribe()},t.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},t.prototype._unsubscribeAndRecycle=function(){var e=this._parent,t=this._parents;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=e,this._parents=t,this},t}(o.Subscription);t.Subscriber=c;var u=function(e){function t(t,r,n,o){var a;e.call(this),this._parentSubscriber=t;var c=this;i.isFunction(r)?a=r:r&&(a=r.next,n=r.error,o=r.complete,r!==s.empty&&(c=Object.create(r),i.isFunction(c.unsubscribe)&&this.add(c.unsubscribe.bind(c)),c.unsubscribe=this.unsubscribe.bind(this))),this._context=c,this._next=a,this._error=n,this._complete=o}return n(t,e),t.prototype.next=function(e){if(!this.isStopped&&this._next){var t=this._parentSubscriber;t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}},t.prototype.error=function(e){if(!this.isStopped){var t=this._parentSubscriber;if(this._error)t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else{if(!t.syncErrorThrowable)throw this.unsubscribe(),e;t.syncErrorValue=e,t.syncErrorThrown=!0,this.unsubscribe()}}},t.prototype.complete=function(){var e=this;if(!this.isStopped){var t=this._parentSubscriber;if(this._complete){var r=function(){return e._complete.call(e._context)};t.syncErrorThrowable?(this.__tryOrSetError(t,r),this.unsubscribe()):(this.__tryOrUnsub(r),this.unsubscribe())}else this.unsubscribe()}},t.prototype.__tryOrUnsub=function(e,t){try{e.call(this._context,t)}catch(e){throw this.unsubscribe(),e}},t.prototype.__tryOrSetError=function(e,t,r){try{t.call(this._context,r)}catch(t){return e.syncErrorValue=t,e.syncErrorThrown=!0,!0}return!1},t.prototype._unsubscribe=function(){var e=this._parentSubscriber;this._context=null,this._parentSubscriber=null,e.unsubscribe()},t}(c);function f(e){return e instanceof c||"syncErrorThrowable"in e&&e[a.rxSubscriber]}},84469:(e,t,r)=>{var n=r(70002),i=r(84014),o=r(78451),s=r(27611),a=r(51491),c=r(71928),u=function(){function e(e){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,e&&(this._unsubscribe=e)}var t;return e.prototype.unsubscribe=function(){var e,t=!1;if(!this.closed){var r=this,u=r._parent,l=r._parents,h=r._unsubscribe,d=r._subscriptions;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;for(var p=-1,b=l?l.length:0;u;)u.remove(this),u=++p<b&&l[p]||null;if(o.isFunction(h)&&s.tryCatch(h).call(this)===a.errorObject&&(t=!0,e=e||(a.errorObject.e instanceof c.UnsubscriptionError?f(a.errorObject.e.errors):[a.errorObject.e])),n.isArray(d))for(p=-1,b=d.length;++p<b;){var y=d[p];if(i.isObject(y)&&s.tryCatch(y.unsubscribe).call(y)===a.errorObject){t=!0,e=e||[];var m=a.errorObject.e;m instanceof c.UnsubscriptionError?e=e.concat(f(m.errors)):e.push(m)}}if(t)throw new c.UnsubscriptionError(e)}},e.prototype.add=function(t){if(!t||t===e.EMPTY)return e.EMPTY;if(t===this)return this;var r=t;switch(typeof t){case"function":r=new e(t);case"object":if(r.closed||"function"!=typeof r.unsubscribe)return r;if(this.closed)return r.unsubscribe(),r;if("function"!=typeof r._addParent){var n=r;(r=new e)._subscriptions=[n]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}return(this._subscriptions||(this._subscriptions=[])).push(r),r._addParent(this),r},e.prototype.remove=function(e){var t=this._subscriptions;if(t){var r=t.indexOf(e);-1!==r&&t.splice(r,1)}},e.prototype._addParent=function(e){var t=this._parent,r=this._parents;t&&t!==e?r?-1===r.indexOf(e)&&r.push(e):this._parents=[e]:this._parent=e},e.EMPTY=((t=new e).closed=!0,t),e}();function f(e){return e.reduce((function(e,t){return e.concat(t instanceof c.UnsubscriptionError?t.errors:t)}),[])}t.Subscription=u},59686:(e,t,r)=>{var n=r(16561),i=r(85538);n.Observable.bindCallback=i.bindCallback},78749:(e,t,r)=>{var n=r(16561),i=r(32135);n.Observable.bindNodeCallback=i.bindNodeCallback},53431:(e,t,r)=>{var n=r(16561),i=r(7485);n.Observable.combineLatest=i.combineLatest},10535:(e,t,r)=>{var n=r(16561),i=r(77847);n.Observable.concat=i.concat},96419:(e,t,r)=>{var n=r(16561),i=r(64799);n.Observable.defer=i.defer},85169:(e,t,r)=>{var n=r(16561),i=r(90220);n.Observable.ajax=i.ajax},54662:(e,t,r)=>{var n=r(16561),i=r(80249);n.Observable.webSocket=i.webSocket},1926:(e,t,r)=>{var n=r(16561),i=r(48216);n.Observable.empty=i.empty},23917:(e,t,r)=>{var n=r(16561),i=r(70308);n.Observable.forkJoin=i.forkJoin},54068:(e,t,r)=>{var n=r(16561),i=r(4572);n.Observable.from=i.from},45373:(e,t,r)=>{var n=r(16561),i=r(81230);n.Observable.fromEvent=i.fromEvent},5740:(e,t,r)=>{var n=r(16561),i=r(46776);n.Observable.fromEventPattern=i.fromEventPattern},63338:(e,t,r)=>{var n=r(16561),i=r(46291);n.Observable.fromPromise=i.fromPromise},69090:(e,t,r)=>{var n=r(16561),i=r(77892);n.Observable.generate=i.generate},63391:(e,t,r)=>{var n=r(16561),i=r(16397);n.Observable.if=i._if},44058:(e,t,r)=>{var n=r(16561),i=r(34287);n.Observable.interval=i.interval},94101:(e,t,r)=>{var n=r(16561),i=r(20507);n.Observable.merge=i.merge},16529:(e,t,r)=>{var n=r(16561),i=r(72951);n.Observable.never=i.never},15395:(e,t,r)=>{var n=r(16561),i=r(56187);n.Observable.of=i.of},87522:(e,t,r)=>{var n=r(16561),i=r(89574);n.Observable.onErrorResumeNext=i.onErrorResumeNext},40629:(e,t,r)=>{var n=r(16561),i=r(14493);n.Observable.pairs=i.pairs},90772:(e,t,r)=>{var n=r(16561),i=r(82505);n.Observable.race=i.race},52857:(e,t,r)=>{var n=r(16561),i=r(49778);n.Observable.range=i.range},31069:(e,t,r)=>{var n=r(16561),i=r(30197);n.Observable.throw=i._throw},53568:(e,t,r)=>{var n=r(16561),i=r(86240);n.Observable.timer=i.timer},59024:(e,t,r)=>{var n=r(16561),i=r(49268);n.Observable.using=i.using},55814:(e,t,r)=>{var n=r(16561),i=r(76164);n.Observable.zip=i.zip},22657:(e,t,r)=>{var n=r(16561),i=r(1260);n.Observable.prototype.audit=i.audit},21369:(e,t,r)=>{var n=r(16561),i=r(16231);n.Observable.prototype.auditTime=i.auditTime},16965:(e,t,r)=>{var n=r(16561),i=r(19536);n.Observable.prototype.buffer=i.buffer},95052:(e,t,r)=>{var n=r(16561),i=r(69784);n.Observable.prototype.bufferCount=i.bufferCount},14473:(e,t,r)=>{var n=r(16561),i=r(9347);n.Observable.prototype.bufferTime=i.bufferTime},61110:(e,t,r)=>{var n=r(16561),i=r(6623);n.Observable.prototype.bufferToggle=i.bufferToggle},93510:(e,t,r)=>{var n=r(16561),i=r(2319);n.Observable.prototype.bufferWhen=i.bufferWhen},58294:(e,t,r)=>{var n=r(16561),i=r(65620);n.Observable.prototype.catch=i._catch,n.Observable.prototype._catch=i._catch},31309:(e,t,r)=>{var n=r(16561),i=r(55242);n.Observable.prototype.combineAll=i.combineAll},91094:(e,t,r)=>{var n=r(16561),i=r(77655);n.Observable.prototype.combineLatest=i.combineLatest},45327:(e,t,r)=>{var n=r(16561),i=r(50554);n.Observable.prototype.concat=i.concat},64801:(e,t,r)=>{var n=r(16561),i=r(31834);n.Observable.prototype.concatAll=i.concatAll},63451:(e,t,r)=>{var n=r(16561),i=r(46864);n.Observable.prototype.concatMap=i.concatMap},11759:(e,t,r)=>{var n=r(16561),i=r(48828);n.Observable.prototype.concatMapTo=i.concatMapTo},38273:(e,t,r)=>{var n=r(16561),i=r(17296);n.Observable.prototype.count=i.count},33586:(e,t,r)=>{var n=r(16561),i=r(29926);n.Observable.prototype.debounce=i.debounce},19738:(e,t,r)=>{var n=r(16561),i=r(79372);n.Observable.prototype.debounceTime=i.debounceTime},22726:(e,t,r)=>{var n=r(16561),i=r(68513);n.Observable.prototype.defaultIfEmpty=i.defaultIfEmpty},22923:(e,t,r)=>{var n=r(16561),i=r(29131);n.Observable.prototype.delay=i.delay},37638:(e,t,r)=>{var n=r(16561),i=r(83565);n.Observable.prototype.delayWhen=i.delayWhen},47104:(e,t,r)=>{var n=r(16561),i=r(96930);n.Observable.prototype.dematerialize=i.dematerialize},16443:(e,t,r)=>{var n=r(16561),i=r(57867);n.Observable.prototype.distinct=i.distinct},98654:(e,t,r)=>{var n=r(16561),i=r(8593);n.Observable.prototype.distinctUntilChanged=i.distinctUntilChanged},69598:(e,t,r)=>{var n=r(16561),i=r(20616);n.Observable.prototype.distinctUntilKeyChanged=i.distinctUntilKeyChanged},21743:(e,t,r)=>{var n=r(16561),i=r(67720);n.Observable.prototype.do=i._do,n.Observable.prototype._do=i._do},99223:(e,t,r)=>{var n=r(16561),i=r(17840);n.Observable.prototype.elementAt=i.elementAt},66938:(e,t,r)=>{var n=r(16561),i=r(53243);n.Observable.prototype.every=i.every},66905:(e,t,r)=>{var n=r(16561),i=r(73137);n.Observable.prototype.exhaust=i.exhaust},65335:(e,t,r)=>{var n=r(16561),i=r(62978);n.Observable.prototype.exhaustMap=i.exhaustMap},17107:(e,t,r)=>{var n=r(16561),i=r(53770);n.Observable.prototype.expand=i.expand},79745:(e,t,r)=>{var n=r(16561),i=r(80241);n.Observable.prototype.filter=i.filter},93774:(e,t,r)=>{var n=r(16561),i=r(15710);n.Observable.prototype.finally=i._finally,n.Observable.prototype._finally=i._finally},36724:(e,t,r)=>{var n=r(16561),i=r(9107);n.Observable.prototype.find=i.find},8671:(e,t,r)=>{var n=r(16561),i=r(99486);n.Observable.prototype.findIndex=i.findIndex},70539:(e,t,r)=>{var n=r(16561),i=r(45344);n.Observable.prototype.first=i.first},28516:(e,t,r)=>{var n=r(16561),i=r(2108);n.Observable.prototype.groupBy=i.groupBy},73609:(e,t,r)=>{var n=r(16561),i=r(72524);n.Observable.prototype.ignoreElements=i.ignoreElements},45869:(e,t,r)=>{var n=r(16561),i=r(68936);n.Observable.prototype.isEmpty=i.isEmpty},68516:(e,t,r)=>{var n=r(16561),i=r(78062);n.Observable.prototype.last=i.last},99198:(e,t,r)=>{var n=r(16561),i=r(93211);n.Observable.prototype.let=i.letProto,n.Observable.prototype.letBind=i.letProto},71691:(e,t,r)=>{var n=r(16561),i=r(50338);n.Observable.prototype.map=i.map},39893:(e,t,r)=>{var n=r(16561),i=r(78671);n.Observable.prototype.mapTo=i.mapTo},60933:(e,t,r)=>{var n=r(16561),i=r(87818);n.Observable.prototype.materialize=i.materialize},52445:(e,t,r)=>{var n=r(16561),i=r(83472);n.Observable.prototype.max=i.max},42221:(e,t,r)=>{var n=r(16561),i=r(60084);n.Observable.prototype.merge=i.merge},8405:(e,t,r)=>{var n=r(16561),i=r(18324);n.Observable.prototype.mergeAll=i.mergeAll},63008:(e,t,r)=>{var n=r(16561),i=r(4940);n.Observable.prototype.mergeMap=i.mergeMap,n.Observable.prototype.flatMap=i.mergeMap},93921:(e,t,r)=>{var n=r(16561),i=r(66499);n.Observable.prototype.flatMapTo=i.mergeMapTo,n.Observable.prototype.mergeMapTo=i.mergeMapTo},23392:(e,t,r)=>{var n=r(16561),i=r(72729);n.Observable.prototype.mergeScan=i.mergeScan},2277:(e,t,r)=>{var n=r(16561),i=r(62047);n.Observable.prototype.min=i.min},43152:(e,t,r)=>{var n=r(16561),i=r(46317);n.Observable.prototype.multicast=i.multicast},69372:(e,t,r)=>{var n=r(16561),i=r(4212);n.Observable.prototype.observeOn=i.observeOn},23094:(e,t,r)=>{var n=r(16561),i=r(39127);n.Observable.prototype.onErrorResumeNext=i.onErrorResumeNext},82085:(e,t,r)=>{var n=r(16561),i=r(48996);n.Observable.prototype.pairwise=i.pairwise},2403:(e,t,r)=>{var n=r(16561),i=r(12748);n.Observable.prototype.partition=i.partition},9381:(e,t,r)=>{var n=r(16561),i=r(45867);n.Observable.prototype.pluck=i.pluck},77970:(e,t,r)=>{var n=r(16561),i=r(59128);n.Observable.prototype.publish=i.publish},35426:(e,t,r)=>{var n=r(16561),i=r(89159);n.Observable.prototype.publishBehavior=i.publishBehavior},97210:(e,t,r)=>{var n=r(16561),i=r(60168);n.Observable.prototype.publishLast=i.publishLast},52430:(e,t,r)=>{var n=r(16561),i=r(22879);n.Observable.prototype.publishReplay=i.publishReplay},42363:(e,t,r)=>{var n=r(16561),i=r(503);n.Observable.prototype.race=i.race},30659:(e,t,r)=>{var n=r(16561),i=r(56727);n.Observable.prototype.reduce=i.reduce},94931:(e,t,r)=>{var n=r(16561),i=r(4797);n.Observable.prototype.repeat=i.repeat},18212:(e,t,r)=>{var n=r(16561),i=r(35452);n.Observable.prototype.repeatWhen=i.repeatWhen},40088:(e,t,r)=>{var n=r(16561),i=r(72472);n.Observable.prototype.retry=i.retry},29475:(e,t,r)=>{var n=r(16561),i=r(49807);n.Observable.prototype.retryWhen=i.retryWhen},71198:(e,t,r)=>{var n=r(16561),i=r(84020);n.Observable.prototype.sample=i.sample},56574:(e,t,r)=>{var n=r(16561),i=r(70822);n.Observable.prototype.sampleTime=i.sampleTime},6747:(e,t,r)=>{var n=r(16561),i=r(79447);n.Observable.prototype.scan=i.scan},9118:(e,t,r)=>{var n=r(16561),i=r(69727);n.Observable.prototype.sequenceEqual=i.sequenceEqual},41361:(e,t,r)=>{var n=r(16561),i=r(10183);n.Observable.prototype.share=i.share},60484:(e,t,r)=>{var n=r(16561),i=r(28598);n.Observable.prototype.shareReplay=i.shareReplay},93746:(e,t,r)=>{var n=r(16561),i=r(92505);n.Observable.prototype.single=i.single},83052:(e,t,r)=>{var n=r(16561),i=r(36980);n.Observable.prototype.skip=i.skip},98720:(e,t,r)=>{var n=r(16561),i=r(68609);n.Observable.prototype.skipLast=i.skipLast},89122:(e,t,r)=>{var n=r(16561),i=r(63577);n.Observable.prototype.skipUntil=i.skipUntil},47419:(e,t,r)=>{var n=r(16561),i=r(505);n.Observable.prototype.skipWhile=i.skipWhile},57948:(e,t,r)=>{var n=r(16561),i=r(17323);n.Observable.prototype.startWith=i.startWith},79996:(e,t,r)=>{var n=r(16561),i=r(38653);n.Observable.prototype.subscribeOn=i.subscribeOn},6530:(e,t,r)=>{var n=r(16561),i=r(11711);n.Observable.prototype.switch=i._switch,n.Observable.prototype._switch=i._switch},50503:(e,t,r)=>{var n=r(16561),i=r(40868);n.Observable.prototype.switchMap=i.switchMap},89903:(e,t,r)=>{var n=r(16561),i=r(62231);n.Observable.prototype.switchMapTo=i.switchMapTo},8269:(e,t,r)=>{var n=r(16561),i=r(34712);n.Observable.prototype.take=i.take},90906:(e,t,r)=>{var n=r(16561),i=r(9746);n.Observable.prototype.takeLast=i.takeLast},80866:(e,t,r)=>{var n=r(16561),i=r(63774);n.Observable.prototype.takeUntil=i.takeUntil},10707:(e,t,r)=>{var n=r(16561),i=r(75910);n.Observable.prototype.takeWhile=i.takeWhile},62340:(e,t,r)=>{var n=r(16561),i=r(29764);n.Observable.prototype.throttle=i.throttle},76389:(e,t,r)=>{var n=r(16561),i=r(18196);n.Observable.prototype.throttleTime=i.throttleTime},48946:(e,t,r)=>{var n=r(16561),i=r(691);n.Observable.prototype.timeInterval=i.timeInterval},97774:(e,t,r)=>{var n=r(16561),i=r(17971);n.Observable.prototype.timeout=i.timeout},92162:(e,t,r)=>{var n=r(16561),i=r(98760);n.Observable.prototype.timeoutWith=i.timeoutWith},27133:(e,t,r)=>{var n=r(16561),i=r(8471);n.Observable.prototype.timestamp=i.timestamp},20864:(e,t,r)=>{var n=r(16561),i=r(71773);n.Observable.prototype.toArray=i.toArray},4027:()=>{},25221:(e,t,r)=>{var n=r(16561),i=r(94451);n.Observable.prototype.window=i.window},70972:(e,t,r)=>{var n=r(16561),i=r(45263);n.Observable.prototype.windowCount=i.windowCount},14862:(e,t,r)=>{var n=r(16561),i=r(11641);n.Observable.prototype.windowTime=i.windowTime},43753:(e,t,r)=>{var n=r(16561),i=r(29838);n.Observable.prototype.windowToggle=i.windowToggle},37332:(e,t,r)=>{var n=r(16561),i=r(91900);n.Observable.prototype.windowWhen=i.windowWhen},6109:(e,t,r)=>{var n=r(16561),i=r(40590);n.Observable.prototype.withLatestFrom=i.withLatestFrom},17973:(e,t,r)=>{var n=r(16561),i=r(87349);n.Observable.prototype.zip=i.zipProto},87325:(e,t,r)=>{var n=r(16561),i=r(66219);n.Observable.prototype.zipAll=i.zipAll},61024:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(16561),o=r(70398),s=r(45700),a=function(e){function t(t,r){e.call(this),this.arrayLike=t,this.scheduler=r,r||1!==t.length||(this._isScalar=!0,this.value=t[0])}return n(t,e),t.create=function(e,r){var n=e.length;return 0===n?new s.EmptyObservable:1===n?new o.ScalarObservable(e[0],r):new t(e,r)},t.dispatch=function(e){var t=e.arrayLike,r=e.index,n=e.length,i=e.subscriber;i.closed||(r>=n?i.complete():(i.next(t[r]),e.index=r+1,this.schedule(e)))},t.prototype._subscribe=function(e){var r=this.arrayLike,n=this.scheduler,i=r.length;if(n)return n.schedule(t.dispatch,0,{arrayLike:r,index:0,length:i,subscriber:e});for(var o=0;o<i&&!e.closed;o++)e.next(r[o]);e.complete()},t}(i.Observable);t.ArrayLikeObservable=a},824:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(16561),o=r(70398),s=r(45700),a=r(24469),c=function(e){function t(t,r){e.call(this),this.array=t,this.scheduler=r,r||1!==t.length||(this._isScalar=!0,this.value=t[0])}return n(t,e),t.create=function(e,r){return new t(e,r)},t.of=function(){for(var e=[],r=0;r<arguments.length;r++)e[r-0]=arguments[r];var n=e[e.length-1];a.isScheduler(n)?e.pop():n=null;var i=e.length;return i>1?new t(e,n):1===i?new o.ScalarObservable(e[0],n):new s.EmptyObservable(n)},t.dispatch=function(e){var t=e.array,r=e.index,n=e.count,i=e.subscriber;r>=n?i.complete():(i.next(t[r]),i.closed||(e.index=r+1,this.schedule(e)))},t.prototype._subscribe=function(e){var r=this.array,n=r.length,i=this.scheduler;if(i)return i.schedule(t.dispatch,0,{array:r,index:0,count:n,subscriber:e});for(var o=0;o<n&&!e.closed;o++)e.next(r[o]);e.complete()},t}(i.Observable);t.ArrayObservable=c},85519:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(16561),o=r(27611),s=r(51491),a=r(85859),c=function(e){function t(t,r,n,i,o){e.call(this),this.callbackFunc=t,this.selector=r,this.args=n,this.context=i,this.scheduler=o}return n(t,e),t.create=function(e,r,n){return void 0===r&&(r=void 0),function(){for(var i=[],o=0;o<arguments.length;o++)i[o-0]=arguments[o];return new t(e,r,i,this,n)}},t.prototype._subscribe=function(e){var r=this.callbackFunc,n=this.args,i=this.scheduler,c=this.subject;if(i)return i.schedule(t.dispatch,0,{source:this,subscriber:e,context:this.context});if(!c){c=this.subject=new a.AsyncSubject;var u=function e(){for(var t=[],r=0;r<arguments.length;r++)t[r-0]=arguments[r];var n=e.source,i=n.selector,a=n.subject;if(i){var c=o.tryCatch(i).apply(this,t);c===s.errorObject?a.error(s.errorObject.e):(a.next(c),a.complete())}else a.next(t.length<=1?t[0]:t),a.complete()};u.source=this,o.tryCatch(r).apply(this.context,n.concat(u))===s.errorObject&&c.error(s.errorObject.e)}return c.subscribe(e)},t.dispatch=function(e){var t=this,r=e.source,n=e.subscriber,i=e.context,c=r.callbackFunc,l=r.args,h=r.scheduler,d=r.subject;if(!d){d=r.subject=new a.AsyncSubject;var p=function e(){for(var r=[],n=0;n<arguments.length;n++)r[n-0]=arguments[n];var i=e.source,a=i.selector,c=i.subject;if(a){var l=o.tryCatch(a).apply(this,r);l===s.errorObject?t.add(h.schedule(f,0,{err:s.errorObject.e,subject:c})):t.add(h.schedule(u,0,{value:l,subject:c}))}else{var d=r.length<=1?r[0]:r;t.add(h.schedule(u,0,{value:d,subject:c}))}};p.source=r,o.tryCatch(c).apply(i,l.concat(p))===s.errorObject&&d.error(s.errorObject.e)}t.add(d.subscribe(n))},t}(i.Observable);function u(e){var t=e.value,r=e.subject;r.next(t),r.complete()}function f(e){var t=e.err;e.subject.error(t)}t.BoundCallbackObservable=c},37e3:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(16561),o=r(27611),s=r(51491),a=r(85859),c=function(e){function t(t,r,n,i,o){e.call(this),this.callbackFunc=t,this.selector=r,this.args=n,this.context=i,this.scheduler=o}return n(t,e),t.create=function(e,r,n){return void 0===r&&(r=void 0),function(){for(var i=[],o=0;o<arguments.length;o++)i[o-0]=arguments[o];return new t(e,r,i,this,n)}},t.prototype._subscribe=function(e){var t=this.callbackFunc,r=this.args,n=this.scheduler,i=this.subject;if(n)return n.schedule(u,0,{source:this,subscriber:e,context:this.context});if(!i){i=this.subject=new a.AsyncSubject;var c=function e(){for(var t=[],r=0;r<arguments.length;r++)t[r-0]=arguments[r];var n=e.source,i=n.selector,a=n.subject,c=t.shift();if(c)a.error(c);else if(i){var u=o.tryCatch(i).apply(this,t);u===s.errorObject?a.error(s.errorObject.e):(a.next(u),a.complete())}else a.next(t.length<=1?t[0]:t),a.complete()};c.source=this,o.tryCatch(t).apply(this.context,r.concat(c))===s.errorObject&&i.error(s.errorObject.e)}return i.subscribe(e)},t}(i.Observable);function u(e){var t=this,r=e.source,n=e.subscriber,i=e.context,c=r,u=c.callbackFunc,h=c.args,d=c.scheduler,p=r.subject;if(!p){p=r.subject=new a.AsyncSubject;var b=function e(){for(var r=[],n=0;n<arguments.length;n++)r[n-0]=arguments[n];var i=e.source,a=i.selector,c=i.subject,u=r.shift();if(u)t.add(d.schedule(l,0,{err:u,subject:c}));else if(a){var h=o.tryCatch(a).apply(this,r);h===s.errorObject?t.add(d.schedule(l,0,{err:s.errorObject.e,subject:c})):t.add(d.schedule(f,0,{value:h,subject:c}))}else{var p=r.length<=1?r[0]:r;t.add(d.schedule(f,0,{value:p,subject:c}))}};b.source=r,o.tryCatch(u).apply(i,h.concat(b))===s.errorObject&&t.add(d.schedule(l,0,{err:s.errorObject.e,subject:p}))}t.add(p.subscribe(n))}function f(e){var t=e.value,r=e.subject;r.next(t),r.complete()}function l(e){var t=e.err;e.subject.error(t)}t.BoundNodeCallbackObservable=c},72771:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(31377),o=r(16561),s=r(71975),a=r(84469),c=r(26195),u=function(e){function t(t,r){e.call(this),this.source=t,this.subjectFactory=r,this._refCount=0,this._isComplete=!1}return n(t,e),t.prototype._subscribe=function(e){return this.getSubject().subscribe(e)},t.prototype.getSubject=function(){var e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject},t.prototype.connect=function(){var e=this._connection;return e||(this._isComplete=!1,(e=this._connection=new a.Subscription).add(this.source.subscribe(new l(this.getSubject(),this))),e.closed?(this._connection=null,e=a.Subscription.EMPTY):this._connection=e),e},t.prototype.refCount=function(){return c.refCount()(this)},t}(o.Observable);t.ConnectableObservable=u;var f=u.prototype;t.connectableObservableDescriptor={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:f._subscribe},_isComplete:{value:f._isComplete,writable:!0},getSubject:{value:f.getSubject},connect:{value:f.connect},refCount:{value:f.refCount}};var l=function(e){function t(t,r){e.call(this,t),this.connectable=r}return n(t,e),t.prototype._error=function(t){this._unsubscribe(),e.prototype._error.call(this,t)},t.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){var e=this.connectable;if(e){this.connectable=null;var t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}},t}(i.SubjectSubscriber);!function(e){function t(t,r){e.call(this,t),this.connectable=r}n(t,e),t.prototype._unsubscribe=function(){var e=this.connectable;if(e){this.connectable=null;var t=e._refCount;if(t<=0)this.connection=null;else if(e._refCount=t-1,t>1)this.connection=null;else{var r=this.connection,n=e._connection;this.connection=null,!n||r&&n!==r||n.unsubscribe()}}else this.connection=null}}(s.Subscriber)},83247:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(16561),o=r(51302),s=r(62392),a=function(e){function t(t){e.call(this),this.observableFactory=t}return n(t,e),t.create=function(e){return new t(e)},t.prototype._subscribe=function(e){return new c(e,this.observableFactory)},t}(i.Observable);t.DeferObservable=a;var c=function(e){function t(t,r){e.call(this,t),this.factory=r,this.tryDefer()}return n(t,e),t.prototype.tryDefer=function(){try{this._callFactory()}catch(e){this._error(e)}},t.prototype._callFactory=function(){var e=this.factory();e&&this.add(o.subscribeToResult(this,e))},t}(s.OuterSubscriber)},45700:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=function(e){function t(t){e.call(this),this.scheduler=t}return n(t,e),t.create=function(e){return new t(e)},t.dispatch=function(e){e.subscriber.complete()},t.prototype._subscribe=function(e){var r=this.scheduler;if(r)return r.schedule(t.dispatch,0,{subscriber:e});e.complete()},t}(r(16561).Observable);t.EmptyObservable=i},68029:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=function(e){function t(t,r){e.call(this),this.error=t,this.scheduler=r}return n(t,e),t.create=function(e,r){return new t(e,r)},t.dispatch=function(e){var t=e.error;e.subscriber.error(t)},t.prototype._subscribe=function(e){var r=this.error,n=this.scheduler;if(e.syncErrorThrowable=!0,n)return n.schedule(t.dispatch,0,{error:r,subscriber:e});e.error(r)},t}(r(16561).Observable);t.ErrorObservable=i},95639:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(16561),o=r(45700),s=r(70002),a=r(51302),c=r(62392),u=function(e){function t(t,r){e.call(this),this.sources=t,this.resultSelector=r}return n(t,e),t.create=function(){for(var e=[],r=0;r<arguments.length;r++)e[r-0]=arguments[r];if(null===e||0===arguments.length)return new o.EmptyObservable;var n=null;return"function"==typeof e[e.length-1]&&(n=e.pop()),1===e.length&&s.isArray(e[0])&&(e=e[0]),0===e.length?new o.EmptyObservable:new t(e,n)},t.prototype._subscribe=function(e){return new f(e,this.sources,this.resultSelector)},t}(i.Observable);t.ForkJoinObservable=u;var f=function(e){function t(t,r,n){e.call(this,t),this.sources=r,this.resultSelector=n,this.completed=0,this.haveValues=0;var i=r.length;this.total=i,this.values=new Array(i);for(var o=0;o<i;o++){var s=r[o],c=a.subscribeToResult(this,s,null,o);c&&(c.outerIndex=o,this.add(c))}}return n(t,e),t.prototype.notifyNext=function(e,t,r,n,i){this.values[r]=t,i._hasValue||(i._hasValue=!0,this.haveValues++)},t.prototype.notifyComplete=function(e){var t=this.destination,r=this,n=r.haveValues,i=r.resultSelector,o=r.values,s=o.length;if(e._hasValue){if(this.completed++,this.completed===s){if(n===s){var a=i?i.apply(this,o):o;t.next(a)}t.complete()}}else t.complete()},t}(c.OuterSubscriber)},7716:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(16561),o=r(27611),s=r(78451),a=r(51491),c=r(84469),u=Object.prototype.toString,f=function(e){function t(t,r,n,i){e.call(this),this.sourceObj=t,this.eventName=r,this.selector=n,this.options=i}return n(t,e),t.create=function(e,r,n,i){return s.isFunction(n)&&(i=n,n=void 0),new t(e,r,i,n)},t.setupSubscription=function(e,r,n,i,o){var s;if(function(e){return!!e&&"[object NodeList]"===u.call(e)}(e)||function(e){return!!e&&"[object HTMLCollection]"===u.call(e)}(e))for(var a=0,f=e.length;a<f;a++)t.setupSubscription(e[a],r,n,i,o);else if(function(e){return!!e&&"function"==typeof e.addEventListener&&"function"==typeof e.removeEventListener}(e)){var l=e;e.addEventListener(r,n,o),s=function(){return l.removeEventListener(r,n,o)}}else if(function(e){return!!e&&"function"==typeof e.on&&"function"==typeof e.off}(e)){var h=e;e.on(r,n),s=function(){return h.off(r,n)}}else{if(!function(e){return!!e&&"function"==typeof e.addListener&&"function"==typeof e.removeListener}(e))throw new TypeError("Invalid event target");var d=e;e.addListener(r,n),s=function(){return d.removeListener(r,n)}}i.add(new c.Subscription(s))},t.prototype._subscribe=function(e){var r=this.sourceObj,n=this.eventName,i=this.options,s=this.selector,c=s?function(){for(var t=[],r=0;r<arguments.length;r++)t[r-0]=arguments[r];var n=o.tryCatch(s).apply(void 0,t);n===a.errorObject?e.error(a.errorObject.e):e.next(n)}:function(t){return e.next(t)};t.setupSubscription(r,n,c,e,i)},t}(i.Observable);t.FromEventObservable=f},79075:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(78451),o=r(16561),s=r(84469),a=function(e){function t(t,r,n){e.call(this),this.addHandler=t,this.removeHandler=r,this.selector=n}return n(t,e),t.create=function(e,r,n){return new t(e,r,n)},t.prototype._subscribe=function(e){var t=this,r=this.removeHandler,n=this.selector?function(){for(var r=[],n=0;n<arguments.length;n++)r[n-0]=arguments[n];t._callSelector(e,r)}:function(t){e.next(t)},o=this._callAddHandler(n,e);i.isFunction(r)&&e.add(new s.Subscription((function(){r(n,o)})))},t.prototype._callSelector=function(e,t){try{var r=this.selector.apply(this,t);e.next(r)}catch(t){e.error(t)}},t.prototype._callAddHandler=function(e,t){try{return this.addHandler(e)||null}catch(e){t.error(e)}},t}(o.Observable);t.FromEventPatternObservable=a},41113:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(70002),o=r(79289),s=r(22808),a=r(18203),c=r(38215),u=r(824),f=r(61024),l=r(51474),h=r(16561),d=r(10074),p=r(62086),b=function(e){function t(t,r){e.call(this,null),this.ish=t,this.scheduler=r}return n(t,e),t.create=function(e,r){if(null!=e){if("function"==typeof e[p.observable])return e instanceof h.Observable&&!r?e:new t(e,r);if(i.isArray(e))return new u.ArrayObservable(e,r);if(s.isPromise(e))return new a.PromiseObservable(e,r);if("function"==typeof e[l.iterator]||"string"==typeof e)return new c.IteratorObservable(e,r);if(o.isArrayLike(e))return new f.ArrayLikeObservable(e,r)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")},t.prototype._subscribe=function(e){var t=this.ish,r=this.scheduler;return null==r?t[p.observable]().subscribe(e):t[p.observable]().subscribe(new d.ObserveOnSubscriber(e,r,0))},t}(h.Observable);t.FromObservable=b},31911:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(16561),o=r(24469),s=function(e){return e},a=function(e){function t(t,r,n,i,o){e.call(this),this.initialState=t,this.condition=r,this.iterate=n,this.resultSelector=i,this.scheduler=o}return n(t,e),t.create=function(e,r,n,i,a){return 1==arguments.length?new t(e.initialState,e.condition,e.iterate,e.resultSelector||s,e.scheduler):void 0===i||o.isScheduler(i)?new t(e,r,n,s,i):new t(e,r,n,i,a)},t.prototype._subscribe=function(e){var r=this.initialState;if(this.scheduler)return this.scheduler.schedule(t.dispatch,0,{subscriber:e,iterate:this.iterate,condition:this.condition,resultSelector:this.resultSelector,state:r});for(var n=this,i=n.condition,o=n.resultSelector,s=n.iterate;;){if(i){var a=void 0;try{a=i(r)}catch(t){return void e.error(t)}if(!a){e.complete();break}}var c=void 0;try{c=o(r)}catch(t){return void e.error(t)}if(e.next(c),e.closed)break;try{r=s(r)}catch(t){return void e.error(t)}}},t.dispatch=function(e){var t=e.subscriber,r=e.condition;if(!t.closed){if(e.needIterate)try{e.state=e.iterate(e.state)}catch(e){return void t.error(e)}else e.needIterate=!0;if(r){var n=void 0;try{n=r(e.state)}catch(e){return void t.error(e)}if(!n)return void t.complete();if(t.closed)return}var i;try{i=e.resultSelector(e.state)}catch(e){return void t.error(e)}if(!t.closed&&(t.next(i),!t.closed))return this.schedule(e)}},t}(i.Observable);t.GenerateObservable=a},48258:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(16561),o=r(51302),s=r(62392),a=function(e){function t(t,r,n){e.call(this),this.condition=t,this.thenSource=r,this.elseSource=n}return n(t,e),t.create=function(e,r,n){return new t(e,r,n)},t.prototype._subscribe=function(e){var t=this,r=t.condition,n=t.thenSource,i=t.elseSource;return new c(e,r,n,i)},t}(i.Observable);t.IfObservable=a;var c=function(e){function t(t,r,n,i){e.call(this,t),this.condition=r,this.thenSource=n,this.elseSource=i,this.tryIf()}return n(t,e),t.prototype.tryIf=function(){var e=this,t=e.condition,r=e.thenSource,n=e.elseSource;try{var i=t()?r:n;i?this.add(o.subscribeToResult(this,i)):this._complete()}catch(e){this._error(e)}},t}(s.OuterSubscriber)},54475:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(54137),o=r(16561),s=r(55488),a=function(e){function t(t,r){void 0===t&&(t=0),void 0===r&&(r=s.async),e.call(this),this.period=t,this.scheduler=r,(!i.isNumeric(t)||t<0)&&(this.period=0),r&&"function"==typeof r.schedule||(this.scheduler=s.async)}return n(t,e),t.create=function(e,r){return void 0===e&&(e=0),void 0===r&&(r=s.async),new t(e,r)},t.dispatch=function(e){var t=e.index,r=e.subscriber,n=e.period;r.next(t),r.closed||(e.index+=1,this.schedule(e,n))},t.prototype._subscribe=function(e){var r=this.period,n=this.scheduler;e.add(n.schedule(t.dispatch,r,{index:0,subscriber:e,period:r}))},t}(o.Observable);t.IntervalObservable=a},38215:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(21613),o=r(16561),s=r(51474),a=function(e){function t(t,r){if(e.call(this),this.scheduler=r,null==t)throw new Error("iterator cannot be null.");this.iterator=function(e){var t=e[s.iterator];if(!t&&"string"==typeof e)return new c(e);if(!t&&void 0!==e.length)return new u(e);if(!t)throw new TypeError("object is not iterable");return e[s.iterator]()}(t)}return n(t,e),t.create=function(e,r){return new t(e,r)},t.dispatch=function(e){var t=e.index,r=e.hasError,n=e.iterator,i=e.subscriber;if(r)i.error(e.error);else{var o=n.next();o.done?i.complete():(i.next(o.value),e.index=t+1,i.closed?"function"==typeof n.return&&n.return():this.schedule(e))}},t.prototype._subscribe=function(e){var r=this.iterator,n=this.scheduler;if(n)return n.schedule(t.dispatch,0,{index:0,iterator:r,subscriber:e});for(;;){var i=r.next();if(i.done){e.complete();break}if(e.next(i.value),e.closed){"function"==typeof r.return&&r.return();break}}},t}(o.Observable);t.IteratorObservable=a;var c=function(){function e(e,t,r){void 0===t&&(t=0),void 0===r&&(r=e.length),this.str=e,this.idx=t,this.len=r}return e.prototype[s.iterator]=function(){return this},e.prototype.next=function(){return this.idx<this.len?{done:!1,value:this.str.charAt(this.idx++)}:{done:!0,value:void 0}},e}(),u=function(){function e(e,t,r){void 0===t&&(t=0),void 0===r&&(r=function(e){var t,r=+e.length;return isNaN(r)?0:0!==r&&("number"==typeof(t=r)&&i.root.isFinite(t))?(r=function(e){var t=+e;return 0===t||isNaN(t)?t:t<0?-1:1}(r)*Math.floor(Math.abs(r)))<=0?0:r>f?f:r:r}(e)),this.arr=e,this.idx=t,this.len=r}return e.prototype[s.iterator]=function(){return this},e.prototype.next=function(){return this.idx<this.len?{done:!1,value:this.arr[this.idx++]}:{done:!0,value:void 0}},e}(),f=Math.pow(2,53)-1},33486:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(16561),o=r(40777),s=function(e){function t(){e.call(this)}return n(t,e),t.create=function(){return new t},t.prototype._subscribe=function(e){o.noop()},t}(i.Observable);t.NeverObservable=s},71317:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)};function i(e){var t=e.obj,r=e.keys,n=e.length,i=e.index,o=e.subscriber;if(i!==n){var s=r[i];o.next([s,t[s]]),e.index=i+1,this.schedule(e)}else o.complete()}var o=function(e){function t(t,r){e.call(this),this.obj=t,this.scheduler=r,this.keys=Object.keys(t)}return n(t,e),t.create=function(e,r){return new t(e,r)},t.prototype._subscribe=function(e){var t=this.keys,r=this.scheduler,n=t.length;if(r)return r.schedule(i,0,{obj:this.obj,keys:t,length:n,index:0,subscriber:e});for(var o=0;o<n;o++){var s=t[o];e.next([s,this.obj[s]])}e.complete()},t}(r(16561).Observable);t.PairsObservable=o},18203:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(21613),o=function(e){function t(t,r){e.call(this),this.promise=t,this.scheduler=r}return n(t,e),t.create=function(e,r){return new t(e,r)},t.prototype._subscribe=function(e){var t=this,r=this.promise,n=this.scheduler;if(null==n)this._isScalar?e.closed||(e.next(this.value),e.complete()):r.then((function(r){t.value=r,t._isScalar=!0,e.closed||(e.next(r),e.complete())}),(function(t){e.closed||e.error(t)})).then(null,(function(e){i.root.setTimeout((function(){throw e}))}));else if(this._isScalar){if(!e.closed)return n.schedule(s,0,{value:this.value,subscriber:e})}else r.then((function(r){t.value=r,t._isScalar=!0,e.closed||e.add(n.schedule(s,0,{value:r,subscriber:e}))}),(function(t){e.closed||e.add(n.schedule(a,0,{err:t,subscriber:e}))})).then(null,(function(e){i.root.setTimeout((function(){throw e}))}))},t}(r(16561).Observable);function s(e){var t=e.value,r=e.subscriber;r.closed||(r.next(t),r.complete())}function a(e){var t=e.err,r=e.subscriber;r.closed||r.error(t)}t.PromiseObservable=o},16374:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=function(e){function t(t,r,n){e.call(this),this.start=t,this._count=r,this.scheduler=n}return n(t,e),t.create=function(e,r,n){return void 0===e&&(e=0),void 0===r&&(r=0),new t(e,r,n)},t.dispatch=function(e){var t=e.start,r=e.index,n=e.count,i=e.subscriber;r>=n?i.complete():(i.next(t),i.closed||(e.index=r+1,e.start=t+1,this.schedule(e)))},t.prototype._subscribe=function(e){var r=0,n=this.start,i=this._count,o=this.scheduler;if(o)return o.schedule(t.dispatch,0,{index:r,count:i,start:n,subscriber:e});for(;;){if(r++>=i){e.complete();break}if(e.next(n++),e.closed)break}},t}(r(16561).Observable);t.RangeObservable=i},70398:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=function(e){function t(t,r){e.call(this),this.value=t,this.scheduler=r,this._isScalar=!0,r&&(this._isScalar=!1)}return n(t,e),t.create=function(e,r){return new t(e,r)},t.dispatch=function(e){var t=e.done,r=e.value,n=e.subscriber;t?n.complete():(n.next(r),n.closed||(e.done=!0,this.schedule(e)))},t.prototype._subscribe=function(e){var r=this.value,n=this.scheduler;if(n)return n.schedule(t.dispatch,0,{done:!1,value:r,subscriber:e});e.next(r),e.closed||e.complete()},t}(r(16561).Observable);t.ScalarObservable=i},19887:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(16561),o=r(24510),s=r(54137),a=function(e){function t(t,r,n){void 0===r&&(r=0),void 0===n&&(n=o.asap),e.call(this),this.source=t,this.delayTime=r,this.scheduler=n,(!s.isNumeric(r)||r<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=o.asap)}return n(t,e),t.create=function(e,r,n){return void 0===r&&(r=0),void 0===n&&(n=o.asap),new t(e,r,n)},t.dispatch=function(e){var t=e.source,r=e.subscriber;return this.add(t.subscribe(r))},t.prototype._subscribe=function(e){var r=this.delayTime,n=this.source;return this.scheduler.schedule(t.dispatch,r,{source:n,subscriber:e})},t}(i.Observable);t.SubscribeOnObservable=a},58353:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(54137),o=r(16561),s=r(55488),a=r(24469),c=r(28595),u=function(e){function t(t,r,n){void 0===t&&(t=0),e.call(this),this.period=-1,this.dueTime=0,i.isNumeric(r)?this.period=Number(r)<1?1:Number(r):a.isScheduler(r)&&(n=r),a.isScheduler(n)||(n=s.async),this.scheduler=n,this.dueTime=c.isDate(t)?+t-this.scheduler.now():t}return n(t,e),t.create=function(e,r,n){return void 0===e&&(e=0),new t(e,r,n)},t.dispatch=function(e){var t=e.index,r=e.period,n=e.subscriber;if(n.next(t),!n.closed){if(-1===r)return n.complete();e.index=t+1,this.schedule(e,r)}},t.prototype._subscribe=function(e){var r=this,n=r.period,i=r.dueTime;return r.scheduler.schedule(t.dispatch,i,{index:0,period:n,subscriber:e})},t}(o.Observable);t.TimerObservable=u},33521:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(16561),o=r(51302),s=r(62392),a=function(e){function t(t,r){e.call(this),this.resourceFactory=t,this.observableFactory=r}return n(t,e),t.create=function(e,r){return new t(e,r)},t.prototype._subscribe=function(e){var t,r=this.resourceFactory,n=this.observableFactory;try{return t=r(),new c(e,t,n)}catch(t){e.error(t)}},t}(i.Observable);t.UsingObservable=a;var c=function(e){function t(t,r,n){e.call(this,t),this.resource=r,this.observableFactory=n,t.add(r),this.tryUse()}return n(t,e),t.prototype.tryUse=function(){try{var e=this.observableFactory.call(this,this.resource);e&&this.add(o.subscribeToResult(this,e))}catch(e){this._error(e)}},t}(s.OuterSubscriber)},85538:(e,t,r)=>{var n=r(85519);t.bindCallback=n.BoundCallbackObservable.create},32135:(e,t,r)=>{var n=r(37e3);t.bindNodeCallback=n.BoundNodeCallbackObservable.create},7485:(e,t,r)=>{var n=r(24469),i=r(70002),o=r(824),s=r(52232);t.combineLatest=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];var r=null,a=null;return n.isScheduler(e[e.length-1])&&(a=e.pop()),"function"==typeof e[e.length-1]&&(r=e.pop()),1===e.length&&i.isArray(e[0])&&(e=e[0]),new o.ArrayObservable(e,a).lift(new s.CombineLatestOperator(r))}},77847:(e,t,r)=>{var n=r(24469),i=r(56187),o=r(4572),s=r(35515);t.concat=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return 1===e.length||2===e.length&&n.isScheduler(e[1])?o.from(e[0]):s.concatAll()(i.of.apply(void 0,e))}},64799:(e,t,r)=>{var n=r(83247);t.defer=n.DeferObservable.create},58709:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(21613),o=r(27611),s=r(51491),a=r(16561),c=r(71975),u=r(20027);function f(){if(i.root.XMLHttpRequest)return new i.root.XMLHttpRequest;if(i.root.XDomainRequest)return new i.root.XDomainRequest;throw new Error("CORS is not supported by your browser")}function l(e,t){return void 0===t&&(t=null),new v({method:"GET",url:e,headers:t})}function h(e,t,r){return new v({method:"POST",url:e,body:t,headers:r})}function d(e,t){return new v({method:"DELETE",url:e,headers:t})}function p(e,t,r){return new v({method:"PUT",url:e,body:t,headers:r})}function b(e,t,r){return new v({method:"PATCH",url:e,body:t,headers:r})}t.ajaxGet=l,t.ajaxPost=h,t.ajaxDelete=d,t.ajaxPut=p,t.ajaxPatch=b;var y=u.map((function(e,t){return e.response}));function m(e,t){return y(new v({method:"GET",url:e,responseType:"json",headers:t}))}t.ajaxGetJSON=m;var v=function(e){function t(t){e.call(this);var r={async:!0,createXHR:function(){return this.crossDomain?f.call(this):function(){if(i.root.XMLHttpRequest)return new i.root.XMLHttpRequest;var e=void 0;try{for(var t=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],r=0;r<3;r++)try{if(e=t[r],new i.root.ActiveXObject(e))break}catch(e){}return new i.root.ActiveXObject(e)}catch(e){throw new Error("XMLHttpRequest is not supported by your browser")}}()},crossDomain:!1,withCredentials:!1,headers:{},method:"GET",responseType:"json",timeout:0};if("string"==typeof t)r.url=t;else for(var n in t)t.hasOwnProperty(n)&&(r[n]=t[n]);this.request=r}var r;return n(t,e),t.prototype._subscribe=function(e){return new g(e,this.request)},t.create=((r=function(e){return new t(e)}).get=l,r.post=h,r.delete=d,r.put=p,r.patch=b,r.getJSON=m,r),t}(a.Observable);t.AjaxObservable=v;var g=function(e){function t(t,r){e.call(this,t),this.request=r,this.done=!1;var n=r.headers=r.headers||{};r.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest"),"Content-Type"in n||i.root.FormData&&r.body instanceof i.root.FormData||void 0===r.body||(n["Content-Type"]="application/x-www-form-urlencoded; charset=UTF-8"),r.body=this.serializeBody(r.body,r.headers["Content-Type"]),this.send()}return n(t,e),t.prototype.next=function(e){this.done=!0;var t=this,r=t.xhr,n=t.request,i=t.destination,o=new w(e,r,n);i.next(o)},t.prototype.send=function(){var e=this.request,t=this.request,r=t.user,n=t.method,i=t.url,a=t.async,c=t.password,u=t.headers,f=t.body,l=e.createXHR,h=o.tryCatch(l).call(e);if(h===s.errorObject)this.error(s.errorObject.e);else{if(this.xhr=h,this.setupEvents(h,e),(r?o.tryCatch(h.open).call(h,n,i,a,r,c):o.tryCatch(h.open).call(h,n,i,a))===s.errorObject)return this.error(s.errorObject.e),null;if(a&&(h.timeout=e.timeout,h.responseType=e.responseType),"withCredentials"in h&&(h.withCredentials=!!e.withCredentials),this.setHeaders(h,u),(f?o.tryCatch(h.send).call(h,f):o.tryCatch(h.send).call(h))===s.errorObject)return this.error(s.errorObject.e),null}return h},t.prototype.serializeBody=function(e,t){if(!e||"string"==typeof e)return e;if(i.root.FormData&&e instanceof i.root.FormData)return e;if(t){var r=t.indexOf(";");-1!==r&&(t=t.substring(0,r))}switch(t){case"application/x-www-form-urlencoded":return Object.keys(e).map((function(t){return encodeURI(t)+"="+encodeURI(e[t])})).join("&");case"application/json":return JSON.stringify(e);default:return e}},t.prototype.setHeaders=function(e,t){for(var r in t)t.hasOwnProperty(r)&&e.setRequestHeader(r,t[r])},t.prototype.setupEvents=function(e,t){var r,n,o=t.progressSubscriber;function s(e){var t=s,r=t.subscriber,n=t.progressSubscriber,i=t.request;n&&n.error(e),r.error(new E(this,i))}(e.ontimeout=s,s.request=t,s.subscriber=this,s.progressSubscriber=o,e.upload&&"withCredentials"in e)&&(o&&(r=function(e){r.progressSubscriber.next(e)},i.root.XDomainRequest?e.onprogress=r:e.upload.onprogress=r,r.progressSubscriber=o),n=function(e){var t=n,r=t.progressSubscriber,i=t.subscriber,o=t.request;r&&r.error(e),i.error(new _("ajax error",this,o))},e.onerror=n,n.request=t,n.subscriber=this,n.progressSubscriber=o);function a(e){var t=a,r=t.subscriber,n=t.progressSubscriber,i=t.request;if(4===this.readyState){var o=1223===this.status?204:this.status,s="text"===this.responseType?this.response||this.responseText:this.response;0===o&&(o=s?200:0),200<=o&&o<300?(n&&n.complete(),r.next(e),r.complete()):(n&&n.error(e),r.error(new _("ajax error "+o,this,i)))}}e.onreadystatechange=a,a.subscriber=this,a.progressSubscriber=o,a.request=t},t.prototype.unsubscribe=function(){var t=this.done,r=this.xhr;!t&&r&&4!==r.readyState&&"function"==typeof r.abort&&r.abort(),e.prototype.unsubscribe.call(this)},t}(c.Subscriber);t.AjaxSubscriber=g;var w=function(e,t,r){this.originalEvent=e,this.xhr=t,this.request=r,this.status=t.status,this.responseType=t.responseType||r.responseType,this.response=S(this.responseType,t)};t.AjaxResponse=w;var _=function(e){function t(t,r,n){e.call(this,t),this.message=t,this.xhr=r,this.request=n,this.status=r.status,this.responseType=r.responseType||n.responseType,this.response=S(this.responseType,r)}return n(t,e),t}(Error);function S(e,t){switch(e){case"json":return"response"in t?t.responseType?t.response:JSON.parse(t.response||t.responseText||"null"):JSON.parse(t.responseText||"null");case"xml":return t.responseXML;default:return"response"in t?t.response:t.responseText}}t.AjaxError=_;var E=function(e){function t(t,r){e.call(this,"ajax timeout",t,r)}return n(t,e),t}(_);t.AjaxTimeoutError=E},25683:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(31377),o=r(71975),s=r(16561),a=r(84469),c=r(21613),u=r(48885),f=r(27611),l=r(51491),h=r(31124),d=function(e){function t(t,r){if(t instanceof s.Observable)e.call(this,r,t);else{if(e.call(this),this.WebSocketCtor=c.root.WebSocket,this._output=new i.Subject,"string"==typeof t?this.url=t:h.assign(this,t),!this.WebSocketCtor)throw new Error("no WebSocket constructor can be found");this.destination=new u.ReplaySubject}}return n(t,e),t.prototype.resultSelector=function(e){return JSON.parse(e.data)},t.create=function(e){return new t(e)},t.prototype.lift=function(e){var r=new t(this,this.destination);return r.operator=e,r},t.prototype._resetState=function(){this.socket=null,this.source||(this.destination=new u.ReplaySubject),this._output=new i.Subject},t.prototype.multiplex=function(e,t,r){var n=this;return new s.Observable((function(i){var o=f.tryCatch(e)();o===l.errorObject?i.error(l.errorObject.e):n.next(o);var s=n.subscribe((function(e){var t=f.tryCatch(r)(e);t===l.errorObject?i.error(l.errorObject.e):t&&i.next(e)}),(function(e){return i.error(e)}),(function(){return i.complete()}));return function(){var e=f.tryCatch(t)();e===l.errorObject?i.error(l.errorObject.e):n.next(e),s.unsubscribe()}}))},t.prototype._connectSocket=function(){var e=this,t=this.WebSocketCtor,r=this._output,n=null;try{n=this.protocol?new t(this.url,this.protocol):new t(this.url),this.socket=n,this.binaryType&&(this.socket.binaryType=this.binaryType)}catch(e){return void r.error(e)}var i=new a.Subscription((function(){e.socket=null,n&&1===n.readyState&&n.close()}));n.onopen=function(t){var s=e.openObserver;s&&s.next(t);var a=e.destination;e.destination=o.Subscriber.create((function(e){return 1===n.readyState&&n.send(e)}),(function(t){var i=e.closingObserver;i&&i.next(void 0),t&&t.code?n.close(t.code,t.reason):r.error(new TypeError("WebSocketSubject.error must be called with an object with an error code, and an optional reason: { code: number, reason: string }")),e._resetState()}),(function(){var t=e.closingObserver;t&&t.next(void 0),n.close(),e._resetState()})),a&&a instanceof u.ReplaySubject&&i.add(a.subscribe(e.destination))},n.onerror=function(t){e._resetState(),r.error(t)},n.onclose=function(t){e._resetState();var n=e.closeObserver;n&&n.next(t),t.wasClean?r.complete():r.error(t)},n.onmessage=function(t){var n=f.tryCatch(e.resultSelector)(t);n===l.errorObject?r.error(l.errorObject.e):r.next(n)}},t.prototype._subscribe=function(e){var t=this,r=this.source;if(r)return r.subscribe(e);this.socket||this._connectSocket();var n=new a.Subscription;return n.add(this._output.subscribe(e)),n.add((function(){var e=t.socket;0===t._output.observers.length&&(e&&1===e.readyState&&e.close(),t._resetState())})),n},t.prototype.unsubscribe=function(){var t=this.source,r=this.socket;r&&1===r.readyState&&(r.close(),this._resetState()),e.prototype.unsubscribe.call(this),t||(this.destination=new u.ReplaySubject)},t}(i.AnonymousSubject);t.WebSocketSubject=d},90220:(e,t,r)=>{var n=r(58709);t.ajax=n.AjaxObservable.create},80249:(e,t,r)=>{var n=r(25683);t.webSocket=n.WebSocketSubject.create},48216:(e,t,r)=>{var n=r(45700);t.empty=n.EmptyObservable.create},70308:(e,t,r)=>{var n=r(95639);t.forkJoin=n.ForkJoinObservable.create},4572:(e,t,r)=>{var n=r(41113);t.from=n.FromObservable.create},81230:(e,t,r)=>{var n=r(7716);t.fromEvent=n.FromEventObservable.create},46776:(e,t,r)=>{var n=r(79075);t.fromEventPattern=n.FromEventPatternObservable.create},46291:(e,t,r)=>{var n=r(18203);t.fromPromise=n.PromiseObservable.create},77892:(e,t,r)=>{var n=r(31911);t.generate=n.GenerateObservable.create},16397:(e,t,r)=>{var n=r(48258);t._if=n.IfObservable.create},34287:(e,t,r)=>{var n=r(54475);t.interval=n.IntervalObservable.create},20507:(e,t,r)=>{var n=r(16561),i=r(824),o=r(24469),s=r(75675);t.merge=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];var r=Number.POSITIVE_INFINITY,a=null,c=e[e.length-1];return o.isScheduler(c)?(a=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(r=e.pop())):"number"==typeof c&&(r=e.pop()),null===a&&1===e.length&&e[0]instanceof n.Observable?e[0]:s.mergeAll(r)(new i.ArrayObservable(e,a))}},72951:(e,t,r)=>{var n=r(33486);t.never=n.NeverObservable.create},56187:(e,t,r)=>{var n=r(824);t.of=n.ArrayObservable.of},89574:(e,t,r)=>{var n=r(66520);t.onErrorResumeNext=n.onErrorResumeNextStatic},14493:(e,t,r)=>{var n=r(71317);t.pairs=n.PairsObservable.create},82505:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(70002),o=r(824),s=r(62392),a=r(51302);t.race=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];if(1===e.length){if(!i.isArray(e[0]))return e[0];e=e[0]}return new o.ArrayObservable(e).lift(new c)};var c=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new u(e))},e}();t.RaceOperator=c;var u=function(e){function t(t){e.call(this,t),this.hasFirst=!1,this.observables=[],this.subscriptions=[]}return n(t,e),t.prototype._next=function(e){this.observables.push(e)},t.prototype._complete=function(){var e=this.observables,t=e.length;if(0===t)this.destination.complete();else{for(var r=0;r<t&&!this.hasFirst;r++){var n=e[r],i=a.subscribeToResult(this,n,n,r);this.subscriptions&&this.subscriptions.push(i),this.add(i)}this.observables=null}},t.prototype.notifyNext=function(e,t,r,n,i){if(!this.hasFirst){this.hasFirst=!0;for(var o=0;o<this.subscriptions.length;o++)if(o!==r){var s=this.subscriptions[o];s.unsubscribe(),this.remove(s)}this.subscriptions=null}this.destination.next(t)},t}(s.OuterSubscriber);t.RaceSubscriber=u},49778:(e,t,r)=>{var n=r(16374);t.range=n.RangeObservable.create},30197:(e,t,r)=>{var n=r(68029);t._throw=n.ErrorObservable.create},86240:(e,t,r)=>{var n=r(58353);t.timer=n.TimerObservable.create},49268:(e,t,r)=>{var n=r(33521);t.using=n.UsingObservable.create},76164:(e,t,r)=>{var n=r(47817);t.zip=n.zipStatic},1260:(e,t,r)=>{var n=r(11010);t.audit=function(e){return n.audit(e)(this)}},16231:(e,t,r)=>{var n=r(55488),i=r(10436);t.auditTime=function(e,t){return void 0===t&&(t=n.async),i.auditTime(e,t)(this)}},19536:(e,t,r)=>{var n=r(43911);t.buffer=function(e){return n.buffer(e)(this)}},69784:(e,t,r)=>{var n=r(10445);t.bufferCount=function(e,t){return void 0===t&&(t=null),n.bufferCount(e,t)(this)}},9347:(e,t,r)=>{var n=r(55488),i=r(24469),o=r(95037);t.bufferTime=function(e){var t=arguments.length,r=n.async;i.isScheduler(arguments[arguments.length-1])&&(r=arguments[arguments.length-1],t--);var s=null;t>=2&&(s=arguments[1]);var a=Number.POSITIVE_INFINITY;return t>=3&&(a=arguments[2]),o.bufferTime(e,s,a,r)(this)}},6623:(e,t,r)=>{var n=r(66724);t.bufferToggle=function(e,t){return n.bufferToggle(e,t)(this)}},2319:(e,t,r)=>{var n=r(16438);t.bufferWhen=function(e){return n.bufferWhen(e)(this)}},65620:(e,t,r)=>{var n=r(51242);t._catch=function(e){return n.catchError(e)(this)}},55242:(e,t,r)=>{var n=r(84059);t.combineAll=function(e){return n.combineAll(e)(this)}},77655:(e,t,r)=>{var n=r(52232);t.combineLatest=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return n.combineLatest.apply(void 0,e)(this)}},50554:(e,t,r)=>{var n=r(70130),i=r(77847);t.concatStatic=i.concat,t.concat=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return n.concat.apply(void 0,e)(this)}},31834:(e,t,r)=>{var n=r(35515);t.concatAll=function(){return n.concatAll()(this)}},46864:(e,t,r)=>{var n=r(8803);t.concatMap=function(e,t){return n.concatMap(e,t)(this)}},48828:(e,t,r)=>{var n=r(74451);t.concatMapTo=function(e,t){return n.concatMapTo(e,t)(this)}},17296:(e,t,r)=>{var n=r(72634);t.count=function(e){return n.count(e)(this)}},29926:(e,t,r)=>{var n=r(61134);t.debounce=function(e){return n.debounce(e)(this)}},79372:(e,t,r)=>{var n=r(55488),i=r(24607);t.debounceTime=function(e,t){return void 0===t&&(t=n.async),i.debounceTime(e,t)(this)}},68513:(e,t,r)=>{var n=r(12298);t.defaultIfEmpty=function(e){return void 0===e&&(e=null),n.defaultIfEmpty(e)(this)}},29131:(e,t,r)=>{var n=r(55488),i=r(58722);t.delay=function(e,t){return void 0===t&&(t=n.async),i.delay(e,t)(this)}},83565:(e,t,r)=>{var n=r(30741);t.delayWhen=function(e,t){return n.delayWhen(e,t)(this)}},96930:(e,t,r)=>{var n=r(24653);t.dematerialize=function(){return n.dematerialize()(this)}},57867:(e,t,r)=>{var n=r(30585);t.distinct=function(e,t){return n.distinct(e,t)(this)}},8593:(e,t,r)=>{var n=r(61151);t.distinctUntilChanged=function(e,t){return n.distinctUntilChanged(e,t)(this)}},20616:(e,t,r)=>{var n=r(81311);t.distinctUntilKeyChanged=function(e,t){return n.distinctUntilKeyChanged(e,t)(this)}},67720:(e,t,r)=>{var n=r(53979);t._do=function(e,t,r){return n.tap(e,t,r)(this)}},17840:(e,t,r)=>{var n=r(29981);t.elementAt=function(e,t){return n.elementAt(e,t)(this)}},53243:(e,t,r)=>{var n=r(69031);t.every=function(e,t){return n.every(e,t)(this)}},73137:(e,t,r)=>{var n=r(87100);t.exhaust=function(){return n.exhaust()(this)}},62978:(e,t,r)=>{var n=r(76220);t.exhaustMap=function(e,t){return n.exhaustMap(e,t)(this)}},53770:(e,t,r)=>{var n=r(77558);t.expand=function(e,t,r){return void 0===t&&(t=Number.POSITIVE_INFINITY),void 0===r&&(r=void 0),t=(t||0)<1?Number.POSITIVE_INFINITY:t,n.expand(e,t,r)(this)}},80241:(e,t,r)=>{var n=r(6909);t.filter=function(e,t){return n.filter(e,t)(this)}},15710:(e,t,r)=>{var n=r(48050);t._finally=function(e){return n.finalize(e)(this)}},9107:(e,t,r)=>{var n=r(22210);t.find=function(e,t){return n.find(e,t)(this)}},99486:(e,t,r)=>{var n=r(3037);t.findIndex=function(e,t){return n.findIndex(e,t)(this)}},45344:(e,t,r)=>{var n=r(80028);t.first=function(e,t,r){return n.first(e,t,r)(this)}},2108:(e,t,r)=>{var n=r(69383);t.GroupedObservable=n.GroupedObservable,t.groupBy=function(e,t,r,i){return n.groupBy(e,t,r,i)(this)}},72524:(e,t,r)=>{var n=r(65714);t.ignoreElements=function(){return n.ignoreElements()(this)}},68936:(e,t,r)=>{var n=r(18318);t.isEmpty=function(){return n.isEmpty()(this)}},78062:(e,t,r)=>{var n=r(79460);t.last=function(e,t,r){return n.last(e,t,r)(this)}},93211:(e,t)=>{t.letProto=function(e){return e(this)}},50338:(e,t,r)=>{var n=r(20027);t.map=function(e,t){return n.map(e,t)(this)}},78671:(e,t,r)=>{var n=r(78937);t.mapTo=function(e){return n.mapTo(e)(this)}},87818:(e,t,r)=>{var n=r(32362);t.materialize=function(){return n.materialize()(this)}},83472:(e,t,r)=>{var n=r(96224);t.max=function(e){return n.max(e)(this)}},60084:(e,t,r)=>{var n=r(57643),i=r(20507);t.mergeStatic=i.merge,t.merge=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return n.merge.apply(void 0,e)(this)}},18324:(e,t,r)=>{var n=r(75675);t.mergeAll=function(e){return void 0===e&&(e=Number.POSITIVE_INFINITY),n.mergeAll(e)(this)}},4940:(e,t,r)=>{var n=r(91041);t.mergeMap=function(e,t,r){return void 0===r&&(r=Number.POSITIVE_INFINITY),n.mergeMap(e,t,r)(this)}},66499:(e,t,r)=>{var n=r(6547);t.mergeMapTo=function(e,t,r){return void 0===r&&(r=Number.POSITIVE_INFINITY),n.mergeMapTo(e,t,r)(this)}},72729:(e,t,r)=>{var n=r(6478);t.mergeScan=function(e,t,r){return void 0===r&&(r=Number.POSITIVE_INFINITY),n.mergeScan(e,t,r)(this)}},62047:(e,t,r)=>{var n=r(7289);t.min=function(e){return n.min(e)(this)}},46317:(e,t,r)=>{var n=r(57202);t.multicast=function(e,t){return n.multicast(e,t)(this)}},4212:(e,t,r)=>{var n=r(10074);t.observeOn=function(e,t){return void 0===t&&(t=0),n.observeOn(e,t)(this)}},39127:(e,t,r)=>{var n=r(66520);t.onErrorResumeNext=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return n.onErrorResumeNext.apply(void 0,e)(this)}},48996:(e,t,r)=>{var n=r(27843);t.pairwise=function(){return n.pairwise()(this)}},12748:(e,t,r)=>{var n=r(45242);t.partition=function(e,t){return n.partition(e,t)(this)}},45867:(e,t,r)=>{var n=r(80946);t.pluck=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return n.pluck.apply(void 0,e)(this)}},59128:(e,t,r)=>{var n=r(28686);t.publish=function(e){return n.publish(e)(this)}},89159:(e,t,r)=>{var n=r(57395);t.publishBehavior=function(e){return n.publishBehavior(e)(this)}},60168:(e,t,r)=>{var n=r(16321);t.publishLast=function(){return n.publishLast()(this)}},22879:(e,t,r)=>{var n=r(73158);t.publishReplay=function(e,t,r,i){return n.publishReplay(e,t,r,i)(this)}},503:(e,t,r)=>{var n=r(45735),i=r(82505);t.raceStatic=i.race,t.race=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return n.race.apply(void 0,e)(this)}},56727:(e,t,r)=>{var n=r(22304);t.reduce=function(e,t){return arguments.length>=2?n.reduce(e,t)(this):n.reduce(e)(this)}},4797:(e,t,r)=>{var n=r(98090);t.repeat=function(e){return void 0===e&&(e=-1),n.repeat(e)(this)}},35452:(e,t,r)=>{var n=r(24389);t.repeatWhen=function(e){return n.repeatWhen(e)(this)}},72472:(e,t,r)=>{var n=r(22257);t.retry=function(e){return void 0===e&&(e=-1),n.retry(e)(this)}},49807:(e,t,r)=>{var n=r(51452);t.retryWhen=function(e){return n.retryWhen(e)(this)}},84020:(e,t,r)=>{var n=r(99636);t.sample=function(e){return n.sample(e)(this)}},70822:(e,t,r)=>{var n=r(55488),i=r(10636);t.sampleTime=function(e,t){return void 0===t&&(t=n.async),i.sampleTime(e,t)(this)}},79447:(e,t,r)=>{var n=r(27706);t.scan=function(e,t){return arguments.length>=2?n.scan(e,t)(this):n.scan(e)(this)}},69727:(e,t,r)=>{var n=r(48170);t.sequenceEqual=function(e,t){return n.sequenceEqual(e,t)(this)}},10183:(e,t,r)=>{var n=r(19992);t.share=function(){return n.share()(this)}},28598:(e,t,r)=>{var n=r(23257);t.shareReplay=function(e,t,r){return n.shareReplay(e,t,r)(this)}},92505:(e,t,r)=>{var n=r(14024);t.single=function(e){return n.single(e)(this)}},36980:(e,t,r)=>{var n=r(82764);t.skip=function(e){return n.skip(e)(this)}},68609:(e,t,r)=>{var n=r(72984);t.skipLast=function(e){return n.skipLast(e)(this)}},63577:(e,t,r)=>{var n=r(53942);t.skipUntil=function(e){return n.skipUntil(e)(this)}},505:(e,t,r)=>{var n=r(96051);t.skipWhile=function(e){return n.skipWhile(e)(this)}},17323:(e,t,r)=>{var n=r(62591);t.startWith=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return n.startWith.apply(void 0,e)(this)}},38653:(e,t,r)=>{var n=r(96296);t.subscribeOn=function(e,t){return void 0===t&&(t=0),n.subscribeOn(e,t)(this)}},11711:(e,t,r)=>{var n=r(64158);t._switch=function(){return n.switchAll()(this)}},40868:(e,t,r)=>{var n=r(57439);t.switchMap=function(e,t){return n.switchMap(e,t)(this)}},62231:(e,t,r)=>{var n=r(40210);t.switchMapTo=function(e,t){return n.switchMapTo(e,t)(this)}},34712:(e,t,r)=>{var n=r(41892);t.take=function(e){return n.take(e)(this)}},9746:(e,t,r)=>{var n=r(76382);t.takeLast=function(e){return n.takeLast(e)(this)}},63774:(e,t,r)=>{var n=r(69084);t.takeUntil=function(e){return n.takeUntil(e)(this)}},75910:(e,t,r)=>{var n=r(52064);t.takeWhile=function(e){return n.takeWhile(e)(this)}},29764:(e,t,r)=>{var n=r(70811);t.throttle=function(e,t){return void 0===t&&(t=n.defaultThrottleConfig),n.throttle(e,t)(this)}},18196:(e,t,r)=>{var n=r(55488),i=r(70811),o=r(89503);t.throttleTime=function(e,t,r){return void 0===t&&(t=n.async),void 0===r&&(r=i.defaultThrottleConfig),o.throttleTime(e,t,r)(this)}},691:(e,t,r)=>{var n=r(55488),i=r(68457);t.TimeInterval=i.TimeInterval,t.timeInterval=function(e){return void 0===e&&(e=n.async),i.timeInterval(e)(this)}},17971:(e,t,r)=>{var n=r(55488),i=r(57347);t.timeout=function(e,t){return void 0===t&&(t=n.async),i.timeout(e,t)(this)}},98760:(e,t,r)=>{var n=r(55488),i=r(85374);t.timeoutWith=function(e,t,r){return void 0===r&&(r=n.async),i.timeoutWith(e,t,r)(this)}},8471:(e,t,r)=>{var n=r(55488),i=r(22655);t.timestamp=function(e){return void 0===e&&(e=n.async),i.timestamp(e)(this)}},71773:(e,t,r)=>{var n=r(95396);t.toArray=function(){return n.toArray()(this)}},94451:(e,t,r)=>{var n=r(947);t.window=function(e){return n.window(e)(this)}},45263:(e,t,r)=>{var n=r(41380);t.windowCount=function(e,t){return void 0===t&&(t=0),n.windowCount(e,t)(this)}},11641:(e,t,r)=>{var n=r(55488),i=r(54137),o=r(24469),s=r(52666);t.windowTime=function(e){var t=n.async,r=null,a=Number.POSITIVE_INFINITY;return o.isScheduler(arguments[3])&&(t=arguments[3]),o.isScheduler(arguments[2])?t=arguments[2]:i.isNumeric(arguments[2])&&(a=arguments[2]),o.isScheduler(arguments[1])?t=arguments[1]:i.isNumeric(arguments[1])&&(r=arguments[1]),s.windowTime(e,r,a,t)(this)}},29838:(e,t,r)=>{var n=r(89164);t.windowToggle=function(e,t){return n.windowToggle(e,t)(this)}},91900:(e,t,r)=>{var n=r(63566);t.windowWhen=function(e){return n.windowWhen(e)(this)}},40590:(e,t,r)=>{var n=r(56245);t.withLatestFrom=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return n.withLatestFrom.apply(void 0,e)(this)}},87349:(e,t,r)=>{var n=r(47817);t.zipProto=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return n.zip.apply(void 0,e)(this)}},66219:(e,t,r)=>{var n=r(59150);t.zipAll=function(e){return n.zipAll(e)(this)}},50878:(e,t,r)=>{var n=r(11010);t.audit=n.audit;var i=r(10436);t.auditTime=i.auditTime;var o=r(43911);t.buffer=o.buffer;var s=r(10445);t.bufferCount=s.bufferCount;var a=r(95037);t.bufferTime=a.bufferTime;var c=r(66724);t.bufferToggle=c.bufferToggle;var u=r(16438);t.bufferWhen=u.bufferWhen;var f=r(51242);t.catchError=f.catchError;var l=r(84059);t.combineAll=l.combineAll;var h=r(52232);t.combineLatest=h.combineLatest;var d=r(70130);t.concat=d.concat;var p=r(35515);t.concatAll=p.concatAll;var b=r(8803);t.concatMap=b.concatMap;var y=r(74451);t.concatMapTo=y.concatMapTo;var m=r(72634);t.count=m.count;var v=r(61134);t.debounce=v.debounce;var g=r(24607);t.debounceTime=g.debounceTime;var w=r(12298);t.defaultIfEmpty=w.defaultIfEmpty;var _=r(58722);t.delay=_.delay;var S=r(30741);t.delayWhen=S.delayWhen;var E=r(24653);t.dematerialize=E.dematerialize;var O=r(30585);t.distinct=O.distinct;var T=r(61151);t.distinctUntilChanged=T.distinctUntilChanged;var x=r(81311);t.distinctUntilKeyChanged=x.distinctUntilKeyChanged;var A=r(29981);t.elementAt=A.elementAt;var M=r(69031);t.every=M.every;var P=r(87100);t.exhaust=P.exhaust;var j=r(76220);t.exhaustMap=j.exhaustMap;var k=r(77558);t.expand=k.expand;var $=r(6909);t.filter=$.filter;var C=r(48050);t.finalize=C.finalize;var I=r(22210);t.find=I.find;var R=r(3037);t.findIndex=R.findIndex;var N=r(80028);t.first=N.first;var L=r(69383);t.groupBy=L.groupBy;var D=r(65714);t.ignoreElements=D.ignoreElements;var F=r(18318);t.isEmpty=F.isEmpty;var B=r(79460);t.last=B.last;var U=r(20027);t.map=U.map;var q=r(78937);t.mapTo=q.mapTo;var z=r(32362);t.materialize=z.materialize;var V=r(96224);t.max=V.max;var H=r(57643);t.merge=H.merge;var W=r(75675);t.mergeAll=W.mergeAll;var G=r(91041);t.mergeMap=G.mergeMap;var K=r(91041);t.flatMap=K.mergeMap;var J=r(6547);t.mergeMapTo=J.mergeMapTo;var Y=r(6478);t.mergeScan=Y.mergeScan;var X=r(7289);t.min=X.min;var Z=r(57202);t.multicast=Z.multicast;var Q=r(10074);t.observeOn=Q.observeOn;var ee=r(66520);t.onErrorResumeNext=ee.onErrorResumeNext;var te=r(27843);t.pairwise=te.pairwise;var re=r(45242);t.partition=re.partition;var ne=r(80946);t.pluck=ne.pluck;var ie=r(28686);t.publish=ie.publish;var oe=r(57395);t.publishBehavior=oe.publishBehavior;var se=r(16321);t.publishLast=se.publishLast;var ae=r(73158);t.publishReplay=ae.publishReplay;var ce=r(45735);t.race=ce.race;var ue=r(22304);t.reduce=ue.reduce;var fe=r(98090);t.repeat=fe.repeat;var le=r(24389);t.repeatWhen=le.repeatWhen;var he=r(22257);t.retry=he.retry;var de=r(51452);t.retryWhen=de.retryWhen;var pe=r(26195);t.refCount=pe.refCount;var be=r(99636);t.sample=be.sample;var ye=r(10636);t.sampleTime=ye.sampleTime;var me=r(27706);t.scan=me.scan;var ve=r(48170);t.sequenceEqual=ve.sequenceEqual;var ge=r(19992);t.share=ge.share;var we=r(23257);t.shareReplay=we.shareReplay;var _e=r(14024);t.single=_e.single;var Se=r(82764);t.skip=Se.skip;var Ee=r(72984);t.skipLast=Ee.skipLast;var Oe=r(53942);t.skipUntil=Oe.skipUntil;var Te=r(96051);t.skipWhile=Te.skipWhile;var xe=r(62591);t.startWith=xe.startWith;var Ae=r(64158);t.switchAll=Ae.switchAll;var Me=r(57439);t.switchMap=Me.switchMap;var Pe=r(40210);t.switchMapTo=Pe.switchMapTo;var je=r(41892);t.take=je.take;var ke=r(76382);t.takeLast=ke.takeLast;var $e=r(69084);t.takeUntil=$e.takeUntil;var Ce=r(52064);t.takeWhile=Ce.takeWhile;var Ie=r(53979);t.tap=Ie.tap;var Re=r(70811);t.throttle=Re.throttle;var Ne=r(89503);t.throttleTime=Ne.throttleTime;var Le=r(68457);t.timeInterval=Le.timeInterval;var De=r(57347);t.timeout=De.timeout;var Fe=r(85374);t.timeoutWith=Fe.timeoutWith;var Be=r(22655);t.timestamp=Be.timestamp;var Ue=r(95396);t.toArray=Ue.toArray;var qe=r(947);t.window=qe.window;var ze=r(41380);t.windowCount=ze.windowCount;var Ve=r(52666);t.windowTime=Ve.windowTime;var He=r(89164);t.windowToggle=He.windowToggle;var We=r(63566);t.windowWhen=We.windowWhen;var Ge=r(56245);t.withLatestFrom=Ge.withLatestFrom;var Ke=r(47817);t.zip=Ke.zip;var Je=r(59150);t.zipAll=Je.zipAll},11010:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(27611),o=r(51491),s=r(62392),a=r(51302);t.audit=function(e){return function(t){return t.lift(new c(e))}};var c=function(){function e(e){this.durationSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.durationSelector))},e}(),u=function(e){function t(t,r){e.call(this,t),this.durationSelector=r,this.hasValue=!1}return n(t,e),t.prototype._next=function(e){if(this.value=e,this.hasValue=!0,!this.throttled){var t=i.tryCatch(this.durationSelector)(e);if(t===o.errorObject)this.destination.error(o.errorObject.e);else{var r=a.subscribeToResult(this,t);r.closed?this.clearThrottle():this.add(this.throttled=r)}}},t.prototype.clearThrottle=function(){var e=this,t=e.value,r=e.hasValue,n=e.throttled;n&&(this.remove(n),this.throttled=null,n.unsubscribe()),r&&(this.value=null,this.hasValue=!1,this.destination.next(t))},t.prototype.notifyNext=function(e,t,r,n){this.clearThrottle()},t.prototype.notifyComplete=function(){this.clearThrottle()},t}(s.OuterSubscriber)},10436:(e,t,r)=>{var n=r(55488),i=r(11010),o=r(86240);t.auditTime=function(e,t){return void 0===t&&(t=n.async),i.audit((function(){return o.timer(e,t)}))}},43911:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(62392),o=r(51302);t.buffer=function(e){return function(t){return t.lift(new s(e))}};var s=function(){function e(e){this.closingNotifier=e}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.closingNotifier))},e}(),a=function(e){function t(t,r){e.call(this,t),this.buffer=[],this.add(o.subscribeToResult(this,r))}return n(t,e),t.prototype._next=function(e){this.buffer.push(e)},t.prototype.notifyNext=function(e,t,r,n,i){var o=this.buffer;this.buffer=[],this.destination.next(o)},t}(i.OuterSubscriber)},10445:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(71975);t.bufferCount=function(e,t){return void 0===t&&(t=null),function(r){return r.lift(new o(e,t))}};var o=function(){function e(e,t){this.bufferSize=e,this.startBufferEvery=t,this.subscriberClass=t&&e!==t?a:s}return e.prototype.call=function(e,t){return t.subscribe(new this.subscriberClass(e,this.bufferSize,this.startBufferEvery))},e}(),s=function(e){function t(t,r){e.call(this,t),this.bufferSize=r,this.buffer=[]}return n(t,e),t.prototype._next=function(e){var t=this.buffer;t.push(e),t.length==this.bufferSize&&(this.destination.next(t),this.buffer=[])},t.prototype._complete=function(){var t=this.buffer;t.length>0&&this.destination.next(t),e.prototype._complete.call(this)},t}(i.Subscriber),a=function(e){function t(t,r,n){e.call(this,t),this.bufferSize=r,this.startBufferEvery=n,this.buffers=[],this.count=0}return n(t,e),t.prototype._next=function(e){var t=this,r=t.bufferSize,n=t.startBufferEvery,i=t.buffers,o=t.count;this.count++,o%n==0&&i.push([]);for(var s=i.length;s--;){var a=i[s];a.push(e),a.length===r&&(i.splice(s,1),this.destination.next(a))}},t.prototype._complete=function(){for(var t=this.buffers,r=this.destination;t.length>0;){var n=t.shift();n.length>0&&r.next(n)}e.prototype._complete.call(this)},t}(i.Subscriber)},95037:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(55488),o=r(71975),s=r(24469);t.bufferTime=function(e){var t=arguments.length,r=i.async;s.isScheduler(arguments[arguments.length-1])&&(r=arguments[arguments.length-1],t--);var n=null;t>=2&&(n=arguments[1]);var o=Number.POSITIVE_INFINITY;return t>=3&&(o=arguments[2]),function(t){return t.lift(new a(e,n,o,r))}};var a=function(){function e(e,t,r,n){this.bufferTimeSpan=e,this.bufferCreationInterval=t,this.maxBufferSize=r,this.scheduler=n}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.bufferTimeSpan,this.bufferCreationInterval,this.maxBufferSize,this.scheduler))},e}(),c=function(){this.buffer=[]},u=function(e){function t(t,r,n,i,o){e.call(this,t),this.bufferTimeSpan=r,this.bufferCreationInterval=n,this.maxBufferSize=i,this.scheduler=o,this.contexts=[];var s=this.openContext();if(this.timespanOnly=null==n||n<0,this.timespanOnly){var a={subscriber:this,context:s,bufferTimeSpan:r};this.add(s.closeAction=o.schedule(f,r,a))}else{var c={subscriber:this,context:s},u={bufferTimeSpan:r,bufferCreationInterval:n,subscriber:this,scheduler:o};this.add(s.closeAction=o.schedule(h,r,c)),this.add(o.schedule(l,n,u))}}return n(t,e),t.prototype._next=function(e){for(var t,r=this.contexts,n=r.length,i=0;i<n;i++){var o=r[i],s=o.buffer;s.push(e),s.length==this.maxBufferSize&&(t=o)}t&&this.onBufferFull(t)},t.prototype._error=function(t){this.contexts.length=0,e.prototype._error.call(this,t)},t.prototype._complete=function(){for(var t=this.contexts,r=this.destination;t.length>0;){var n=t.shift();r.next(n.buffer)}e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){this.contexts=null},t.prototype.onBufferFull=function(e){this.closeContext(e);var t=e.closeAction;if(t.unsubscribe(),this.remove(t),!this.closed&&this.timespanOnly){e=this.openContext();var r=this.bufferTimeSpan,n={subscriber:this,context:e,bufferTimeSpan:r};this.add(e.closeAction=this.scheduler.schedule(f,r,n))}},t.prototype.openContext=function(){var e=new c;return this.contexts.push(e),e},t.prototype.closeContext=function(e){this.destination.next(e.buffer);var t=this.contexts;(t?t.indexOf(e):-1)>=0&&t.splice(t.indexOf(e),1)},t}(o.Subscriber);function f(e){var t=e.subscriber,r=e.context;r&&t.closeContext(r),t.closed||(e.context=t.openContext(),e.context.closeAction=this.schedule(e,e.bufferTimeSpan))}function l(e){var t=e.bufferCreationInterval,r=e.bufferTimeSpan,n=e.subscriber,i=e.scheduler,o=n.openContext();n.closed||(n.add(o.closeAction=i.schedule(h,r,{subscriber:n,context:o})),this.schedule(e,t))}function h(e){var t=e.subscriber,r=e.context;t.closeContext(r)}},66724:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(84469),o=r(51302),s=r(62392);t.bufferToggle=function(e,t){return function(r){return r.lift(new a(e,t))}};var a=function(){function e(e,t){this.openings=e,this.closingSelector=t}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.openings,this.closingSelector))},e}(),c=function(e){function t(t,r,n){e.call(this,t),this.openings=r,this.closingSelector=n,this.contexts=[],this.add(o.subscribeToResult(this,r))}return n(t,e),t.prototype._next=function(e){for(var t=this.contexts,r=t.length,n=0;n<r;n++)t[n].buffer.push(e)},t.prototype._error=function(t){for(var r=this.contexts;r.length>0;){var n=r.shift();n.subscription.unsubscribe(),n.buffer=null,n.subscription=null}this.contexts=null,e.prototype._error.call(this,t)},t.prototype._complete=function(){for(var t=this.contexts;t.length>0;){var r=t.shift();this.destination.next(r.buffer),r.subscription.unsubscribe(),r.buffer=null,r.subscription=null}this.contexts=null,e.prototype._complete.call(this)},t.prototype.notifyNext=function(e,t,r,n,i){e?this.closeBuffer(e):this.openBuffer(t)},t.prototype.notifyComplete=function(e){this.closeBuffer(e.context)},t.prototype.openBuffer=function(e){try{var t=this.closingSelector.call(this,e);t&&this.trySubscribe(t)}catch(e){this._error(e)}},t.prototype.closeBuffer=function(e){var t=this.contexts;if(t&&e){var r=e.buffer,n=e.subscription;this.destination.next(r),t.splice(t.indexOf(e),1),this.remove(n),n.unsubscribe()}},t.prototype.trySubscribe=function(e){var t=this.contexts,r=new i.Subscription,n={buffer:[],subscription:r};t.push(n);var s=o.subscribeToResult(this,e,n);!s||s.closed?this.closeBuffer(n):(s.context=n,this.add(s),r.add(s))},t}(s.OuterSubscriber)},16438:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(84469),o=r(27611),s=r(51491),a=r(62392),c=r(51302);t.bufferWhen=function(e){return function(t){return t.lift(new u(e))}};var u=function(){function e(e){this.closingSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new f(e,this.closingSelector))},e}(),f=function(e){function t(t,r){e.call(this,t),this.closingSelector=r,this.subscribing=!1,this.openBuffer()}return n(t,e),t.prototype._next=function(e){this.buffer.push(e)},t.prototype._complete=function(){var t=this.buffer;t&&this.destination.next(t),e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){this.buffer=null,this.subscribing=!1},t.prototype.notifyNext=function(e,t,r,n,i){this.openBuffer()},t.prototype.notifyComplete=function(){this.subscribing?this.complete():this.openBuffer()},t.prototype.openBuffer=function(){var e=this.closingSubscription;e&&(this.remove(e),e.unsubscribe());var t=this.buffer;this.buffer&&this.destination.next(t),this.buffer=[];var r=o.tryCatch(this.closingSelector)();r===s.errorObject?this.error(s.errorObject.e):(e=new i.Subscription,this.closingSubscription=e,this.add(e),this.subscribing=!0,e.add(c.subscribeToResult(this,r)),this.subscribing=!1)},t}(a.OuterSubscriber)},51242:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(62392),o=r(51302);t.catchError=function(e){return function(t){var r=new s(e),n=t.lift(r);return r.caught=n}};var s=function(){function e(e){this.selector=e}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.selector,this.caught))},e}(),a=function(e){function t(t,r,n){e.call(this,t),this.selector=r,this.caught=n}return n(t,e),t.prototype.error=function(t){if(!this.isStopped){var r=void 0;try{r=this.selector(t,this.caught)}catch(t){return void e.prototype.error.call(this,t)}this._unsubscribeAndRecycle(),this.add(o.subscribeToResult(this,r))}},t}(i.OuterSubscriber)},84059:(e,t,r)=>{var n=r(52232);t.combineAll=function(e){return function(t){return t.lift(new n.CombineLatestOperator(e))}}},52232:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(824),o=r(70002),s=r(62392),a=r(51302),c={};t.combineLatest=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];var r=null;return"function"==typeof e[e.length-1]&&(r=e.pop()),1===e.length&&o.isArray(e[0])&&(e=e[0].slice()),function(t){return t.lift.call(new i.ArrayObservable([t].concat(e)),new u(r))}};var u=function(){function e(e){this.project=e}return e.prototype.call=function(e,t){return t.subscribe(new f(e,this.project))},e}();t.CombineLatestOperator=u;var f=function(e){function t(t,r){e.call(this,t),this.project=r,this.active=0,this.values=[],this.observables=[]}return n(t,e),t.prototype._next=function(e){this.values.push(c),this.observables.push(e)},t.prototype._complete=function(){var e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(var r=0;r<t;r++){var n=e[r];this.add(a.subscribeToResult(this,n,n,r))}}},t.prototype.notifyComplete=function(e){0==(this.active-=1)&&this.destination.complete()},t.prototype.notifyNext=function(e,t,r,n,i){var o=this.values,s=o[r],a=this.toRespond?s===c?--this.toRespond:this.toRespond:0;o[r]=t,0===a&&(this.project?this._tryProject(o):this.destination.next(o.slice()))},t.prototype._tryProject=function(e){var t;try{t=this.project.apply(this,e)}catch(e){return void this.destination.error(e)}this.destination.next(t)},t}(s.OuterSubscriber);t.CombineLatestSubscriber=f},70130:(e,t,r)=>{var n=r(77847),i=r(77847);t.concatStatic=i.concat,t.concat=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return function(t){return t.lift.call(n.concat.apply(void 0,[t].concat(e)))}}},35515:(e,t,r)=>{var n=r(75675);t.concatAll=function(){return n.mergeAll(1)}},8803:(e,t,r)=>{var n=r(91041);t.concatMap=function(e,t){return n.mergeMap(e,t,1)}},74451:(e,t,r)=>{var n=r(8803);t.concatMapTo=function(e,t){return n.concatMap((function(){return e}),t)}},72634:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(71975);t.count=function(e){return function(t){return t.lift(new o(e,t))}};var o=function(){function e(e,t){this.predicate=e,this.source=t}return e.prototype.call=function(e,t){return t.subscribe(new s(e,this.predicate,this.source))},e}(),s=function(e){function t(t,r,n){e.call(this,t),this.predicate=r,this.source=n,this.count=0,this.index=0}return n(t,e),t.prototype._next=function(e){this.predicate?this._tryPredicate(e):this.count++},t.prototype._tryPredicate=function(e){var t;try{t=this.predicate(e,this.index++,this.source)}catch(e){return void this.destination.error(e)}t&&this.count++},t.prototype._complete=function(){this.destination.next(this.count),this.destination.complete()},t}(i.Subscriber)},61134:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(62392),o=r(51302);t.debounce=function(e){return function(t){return t.lift(new s(e))}};var s=function(){function e(e){this.durationSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.durationSelector))},e}(),a=function(e){function t(t,r){e.call(this,t),this.durationSelector=r,this.hasValue=!1,this.durationSubscription=null}return n(t,e),t.prototype._next=function(e){try{var t=this.durationSelector.call(this,e);t&&this._tryNext(e,t)}catch(e){this.destination.error(e)}},t.prototype._complete=function(){this.emitValue(),this.destination.complete()},t.prototype._tryNext=function(e,t){var r=this.durationSubscription;this.value=e,this.hasValue=!0,r&&(r.unsubscribe(),this.remove(r)),(r=o.subscribeToResult(this,t)).closed||this.add(this.durationSubscription=r)},t.prototype.notifyNext=function(e,t,r,n,i){this.emitValue()},t.prototype.notifyComplete=function(){this.emitValue()},t.prototype.emitValue=function(){if(this.hasValue){var t=this.value,r=this.durationSubscription;r&&(this.durationSubscription=null,r.unsubscribe(),this.remove(r)),this.value=null,this.hasValue=!1,e.prototype._next.call(this,t)}},t}(i.OuterSubscriber)},24607:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(71975),o=r(55488);t.debounceTime=function(e,t){return void 0===t&&(t=o.async),function(r){return r.lift(new s(e,t))}};var s=function(){function e(e,t){this.dueTime=e,this.scheduler=t}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.dueTime,this.scheduler))},e}(),a=function(e){function t(t,r,n){e.call(this,t),this.dueTime=r,this.scheduler=n,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}return n(t,e),t.prototype._next=function(e){this.clearDebounce(),this.lastValue=e,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(c,this.dueTime,this))},t.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},t.prototype.debouncedNext=function(){this.clearDebounce(),this.hasValue&&(this.destination.next(this.lastValue),this.lastValue=null,this.hasValue=!1)},t.prototype.clearDebounce=function(){var e=this.debouncedSubscription;null!==e&&(this.remove(e),e.unsubscribe(),this.debouncedSubscription=null)},t}(i.Subscriber);function c(e){e.debouncedNext()}},12298:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(71975);t.defaultIfEmpty=function(e){return void 0===e&&(e=null),function(t){return t.lift(new o(e))}};var o=function(){function e(e){this.defaultValue=e}return e.prototype.call=function(e,t){return t.subscribe(new s(e,this.defaultValue))},e}(),s=function(e){function t(t,r){e.call(this,t),this.defaultValue=r,this.isEmpty=!0}return n(t,e),t.prototype._next=function(e){this.isEmpty=!1,this.destination.next(e)},t.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},t}(i.Subscriber)},58722:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(55488),o=r(28595),s=r(71975),a=r(53926);t.delay=function(e,t){void 0===t&&(t=i.async);var r=o.isDate(e)?+e-t.now():Math.abs(e);return function(e){return e.lift(new c(r,t))}};var c=function(){function e(e,t){this.delay=e,this.scheduler=t}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.delay,this.scheduler))},e}(),u=function(e){function t(t,r,n){e.call(this,t),this.delay=r,this.scheduler=n,this.queue=[],this.active=!1,this.errored=!1}return n(t,e),t.dispatch=function(e){for(var t=e.source,r=t.queue,n=e.scheduler,i=e.destination;r.length>0&&r[0].time-n.now()<=0;)r.shift().notification.observe(i);if(r.length>0){var o=Math.max(0,r[0].time-n.now());this.schedule(e,o)}else this.unsubscribe(),t.active=!1},t.prototype._schedule=function(e){this.active=!0,this.add(e.schedule(t.dispatch,this.delay,{source:this,destination:this.destination,scheduler:e}))},t.prototype.scheduleNotification=function(e){if(!0!==this.errored){var t=this.scheduler,r=new f(t.now()+this.delay,e);this.queue.push(r),!1===this.active&&this._schedule(t)}},t.prototype._next=function(e){this.scheduleNotification(a.Notification.createNext(e))},t.prototype._error=function(e){this.errored=!0,this.queue=[],this.destination.error(e)},t.prototype._complete=function(){this.scheduleNotification(a.Notification.createComplete())},t}(s.Subscriber),f=function(e,t){this.time=e,this.notification=t}},30741:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(71975),o=r(16561),s=r(62392),a=r(51302);t.delayWhen=function(e,t){return t?function(r){return new f(r,t).lift(new c(e))}:function(t){return t.lift(new c(e))}};var c=function(){function e(e){this.delayDurationSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.delayDurationSelector))},e}(),u=function(e){function t(t,r){e.call(this,t),this.delayDurationSelector=r,this.completed=!1,this.delayNotifierSubscriptions=[],this.values=[]}return n(t,e),t.prototype.notifyNext=function(e,t,r,n,i){this.destination.next(e),this.removeSubscription(i),this.tryComplete()},t.prototype.notifyError=function(e,t){this._error(e)},t.prototype.notifyComplete=function(e){var t=this.removeSubscription(e);t&&this.destination.next(t),this.tryComplete()},t.prototype._next=function(e){try{var t=this.delayDurationSelector(e);t&&this.tryDelay(t,e)}catch(e){this.destination.error(e)}},t.prototype._complete=function(){this.completed=!0,this.tryComplete()},t.prototype.removeSubscription=function(e){e.unsubscribe();var t=this.delayNotifierSubscriptions.indexOf(e),r=null;return-1!==t&&(r=this.values[t],this.delayNotifierSubscriptions.splice(t,1),this.values.splice(t,1)),r},t.prototype.tryDelay=function(e,t){var r=a.subscribeToResult(this,e,t);r&&!r.closed&&(this.add(r),this.delayNotifierSubscriptions.push(r)),this.values.push(t)},t.prototype.tryComplete=function(){this.completed&&0===this.delayNotifierSubscriptions.length&&this.destination.complete()},t}(s.OuterSubscriber),f=function(e){function t(t,r){e.call(this),this.source=t,this.subscriptionDelay=r}return n(t,e),t.prototype._subscribe=function(e){this.subscriptionDelay.subscribe(new l(e,this.source))},t}(o.Observable),l=function(e){function t(t,r){e.call(this),this.parent=t,this.source=r,this.sourceSubscribed=!1}return n(t,e),t.prototype._next=function(e){this.subscribeToSource()},t.prototype._error=function(e){this.unsubscribe(),this.parent.error(e)},t.prototype._complete=function(){this.subscribeToSource()},t.prototype.subscribeToSource=function(){this.sourceSubscribed||(this.sourceSubscribed=!0,this.unsubscribe(),this.source.subscribe(this.parent))},t}(i.Subscriber)},24653:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(71975);t.dematerialize=function(){return function(e){return e.lift(new o)}};var o=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new s(e))},e}(),s=function(e){function t(t){e.call(this,t)}return n(t,e),t.prototype._next=function(e){e.observe(this.destination)},t}(i.Subscriber)},30585:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(62392),o=r(51302),s=r(46422);t.distinct=function(e,t){return function(r){return r.lift(new a(e,t))}};var a=function(){function e(e,t){this.keySelector=e,this.flushes=t}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.keySelector,this.flushes))},e}(),c=function(e){function t(t,r,n){e.call(this,t),this.keySelector=r,this.values=new s.Set,n&&this.add(o.subscribeToResult(this,n))}return n(t,e),t.prototype.notifyNext=function(e,t,r,n,i){this.values.clear()},t.prototype.notifyError=function(e,t){this._error(e)},t.prototype._next=function(e){this.keySelector?this._useKeySelector(e):this._finalizeNext(e,e)},t.prototype._useKeySelector=function(e){var t,r=this.destination;try{t=this.keySelector(e)}catch(e){return void r.error(e)}this._finalizeNext(t,e)},t.prototype._finalizeNext=function(e,t){var r=this.values;r.has(e)||(r.add(e),this.destination.next(t))},t}(i.OuterSubscriber);t.DistinctSubscriber=c},61151:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(71975),o=r(27611),s=r(51491);t.distinctUntilChanged=function(e,t){return function(r){return r.lift(new a(e,t))}};var a=function(){function e(e,t){this.compare=e,this.keySelector=t}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.compare,this.keySelector))},e}(),c=function(e){function t(t,r,n){e.call(this,t),this.keySelector=n,this.hasKey=!1,"function"==typeof r&&(this.compare=r)}return n(t,e),t.prototype.compare=function(e,t){return e===t},t.prototype._next=function(e){var t=e;if(this.keySelector&&(t=o.tryCatch(this.keySelector)(e))===s.errorObject)return this.destination.error(s.errorObject.e);var r=!1;if(this.hasKey){if((r=o.tryCatch(this.compare)(this.key,t))===s.errorObject)return this.destination.error(s.errorObject.e)}else this.hasKey=!0;!1===Boolean(r)&&(this.key=t,this.destination.next(e))},t}(i.Subscriber)},81311:(e,t,r)=>{var n=r(61151);t.distinctUntilKeyChanged=function(e,t){return n.distinctUntilChanged((function(r,n){return t?t(r[e],n[e]):r[e]===n[e]}))}},29981:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(71975),o=r(55122);t.elementAt=function(e,t){return function(r){return r.lift(new s(e,t))}};var s=function(){function e(e,t){if(this.index=e,this.defaultValue=t,e<0)throw new o.ArgumentOutOfRangeError}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.index,this.defaultValue))},e}(),a=function(e){function t(t,r,n){e.call(this,t),this.index=r,this.defaultValue=n}return n(t,e),t.prototype._next=function(e){0==this.index--&&(this.destination.next(e),this.destination.complete())},t.prototype._complete=function(){var e=this.destination;this.index>=0&&(void 0!==this.defaultValue?e.next(this.defaultValue):e.error(new o.ArgumentOutOfRangeError)),e.complete()},t}(i.Subscriber)},69031:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(71975);t.every=function(e,t){return function(r){return r.lift(new o(e,t,r))}};var o=function(){function e(e,t,r){this.predicate=e,this.thisArg=t,this.source=r}return e.prototype.call=function(e,t){return t.subscribe(new s(e,this.predicate,this.thisArg,this.source))},e}(),s=function(e){function t(t,r,n,i){e.call(this,t),this.predicate=r,this.thisArg=n,this.source=i,this.index=0,this.thisArg=n||this}return n(t,e),t.prototype.notifyComplete=function(e){this.destination.next(e),this.destination.complete()},t.prototype._next=function(e){var t=!1;try{t=this.predicate.call(this.thisArg,e,this.index++,this.source)}catch(e){return void this.destination.error(e)}t||this.notifyComplete(!1)},t.prototype._complete=function(){this.notifyComplete(!0)},t}(i.Subscriber)},87100:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(62392),o=r(51302);t.exhaust=function(){return function(e){return e.lift(new s)}};var s=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new a(e))},e}(),a=function(e){function t(t){e.call(this,t),this.hasCompleted=!1,this.hasSubscription=!1}return n(t,e),t.prototype._next=function(e){this.hasSubscription||(this.hasSubscription=!0,this.add(o.subscribeToResult(this,e)))},t.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()},t.prototype.notifyComplete=function(e){this.remove(e),this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},t}(i.OuterSubscriber)},76220:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(62392),o=r(51302);t.exhaustMap=function(e,t){return function(r){return r.lift(new s(e,t))}};var s=function(){function e(e,t){this.project=e,this.resultSelector=t}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.project,this.resultSelector))},e}(),a=function(e){function t(t,r,n){e.call(this,t),this.project=r,this.resultSelector=n,this.hasSubscription=!1,this.hasCompleted=!1,this.index=0}return n(t,e),t.prototype._next=function(e){this.hasSubscription||this.tryNext(e)},t.prototype.tryNext=function(e){var t=this.index++,r=this.destination;try{var n=this.project(e,t);this.hasSubscription=!0,this.add(o.subscribeToResult(this,n,e,t))}catch(e){r.error(e)}},t.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()},t.prototype.notifyNext=function(e,t,r,n,i){var o=this.resultSelector,s=this.destination;o?this.trySelectResult(e,t,r,n):s.next(t)},t.prototype.trySelectResult=function(e,t,r,n){var i=this.resultSelector,o=this.destination;try{var s=i(e,t,r,n);o.next(s)}catch(e){o.error(e)}},t.prototype.notifyError=function(e){this.destination.error(e)},t.prototype.notifyComplete=function(e){this.remove(e),this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},t}(i.OuterSubscriber)},77558:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(27611),o=r(51491),s=r(62392),a=r(51302);t.expand=function(e,t,r){return void 0===t&&(t=Number.POSITIVE_INFINITY),void 0===r&&(r=void 0),t=(t||0)<1?Number.POSITIVE_INFINITY:t,function(n){return n.lift(new c(e,t,r))}};var c=function(){function e(e,t,r){this.project=e,this.concurrent=t,this.scheduler=r}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.project,this.concurrent,this.scheduler))},e}();t.ExpandOperator=c;var u=function(e){function t(t,r,n,i){e.call(this,t),this.project=r,this.concurrent=n,this.scheduler=i,this.index=0,this.active=0,this.hasCompleted=!1,n<Number.POSITIVE_INFINITY&&(this.buffer=[])}return n(t,e),t.dispatch=function(e){var t=e.subscriber,r=e.result,n=e.value,i=e.index;t.subscribeToProjection(r,n,i)},t.prototype._next=function(e){var r=this.destination;if(r.closed)this._complete();else{var n=this.index++;if(this.active<this.concurrent){r.next(e);var s=i.tryCatch(this.project)(e,n);if(s===o.errorObject)r.error(o.errorObject.e);else if(this.scheduler){var a={subscriber:this,result:s,value:e,index:n};this.add(this.scheduler.schedule(t.dispatch,0,a))}else this.subscribeToProjection(s,e,n)}else this.buffer.push(e)}},t.prototype.subscribeToProjection=function(e,t,r){this.active++,this.add(a.subscribeToResult(this,e,t,r))},t.prototype._complete=function(){this.hasCompleted=!0,this.hasCompleted&&0===this.active&&this.destination.complete()},t.prototype.notifyNext=function(e,t,r,n,i){this._next(t)},t.prototype.notifyComplete=function(e){var t=this.buffer;this.remove(e),this.active--,t&&t.length>0&&this._next(t.shift()),this.hasCompleted&&0===this.active&&this.destination.complete()},t}(s.OuterSubscriber);t.ExpandSubscriber=u},6909:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(71975);t.filter=function(e,t){return function(r){return r.lift(new o(e,t))}};var o=function(){function e(e,t){this.predicate=e,this.thisArg=t}return e.prototype.call=function(e,t){return t.subscribe(new s(e,this.predicate,this.thisArg))},e}(),s=function(e){function t(t,r,n){e.call(this,t),this.predicate=r,this.thisArg=n,this.count=0}return n(t,e),t.prototype._next=function(e){var t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(e){return void this.destination.error(e)}t&&this.destination.next(e)},t}(i.Subscriber)},48050:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(71975),o=r(84469);t.finalize=function(e){return function(t){return t.lift(new s(e))}};var s=function(){function e(e){this.callback=e}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.callback))},e}(),a=function(e){function t(t,r){e.call(this,t),this.add(new o.Subscription(r))}return n(t,e),t}(i.Subscriber)},22210:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(71975);t.find=function(e,t){if("function"!=typeof e)throw new TypeError("predicate is not a function");return function(r){return r.lift(new o(e,r,!1,t))}};var o=function(){function e(e,t,r,n){this.predicate=e,this.source=t,this.yieldIndex=r,this.thisArg=n}return e.prototype.call=function(e,t){return t.subscribe(new s(e,this.predicate,this.source,this.yieldIndex,this.thisArg))},e}();t.FindValueOperator=o;var s=function(e){function t(t,r,n,i,o){e.call(this,t),this.predicate=r,this.source=n,this.yieldIndex=i,this.thisArg=o,this.index=0}return n(t,e),t.prototype.notifyComplete=function(e){var t=this.destination;t.next(e),t.complete()},t.prototype._next=function(e){var t=this.predicate,r=this.thisArg,n=this.index++;try{t.call(r||this,e,n,this.source)&&this.notifyComplete(this.yieldIndex?n:e)}catch(e){this.destination.error(e)}},t.prototype._complete=function(){this.notifyComplete(this.yieldIndex?-1:void 0)},t}(i.Subscriber);t.FindValueSubscriber=s},3037:(e,t,r)=>{var n=r(22210);t.findIndex=function(e,t){return function(r){return r.lift(new n.FindValueOperator(e,r,!0,t))}}},80028:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(71975),o=r(8294);t.first=function(e,t,r){return function(n){return n.lift(new s(e,t,r,n))}};var s=function(){function e(e,t,r,n){this.predicate=e,this.resultSelector=t,this.defaultValue=r,this.source=n}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.predicate,this.resultSelector,this.defaultValue,this.source))},e}(),a=function(e){function t(t,r,n,i,o){e.call(this,t),this.predicate=r,this.resultSelector=n,this.defaultValue=i,this.source=o,this.index=0,this.hasCompleted=!1,this._emitted=!1}return n(t,e),t.prototype._next=function(e){var t=this.index++;this.predicate?this._tryPredicate(e,t):this._emit(e,t)},t.prototype._tryPredicate=function(e,t){var r;try{r=this.predicate(e,t,this.source)}catch(e){return void this.destination.error(e)}r&&this._emit(e,t)},t.prototype._emit=function(e,t){this.resultSelector?this._tryResultSelector(e,t):this._emitFinal(e)},t.prototype._tryResultSelector=function(e,t){var r;try{r=this.resultSelector(e,t)}catch(e){return void this.destination.error(e)}this._emitFinal(r)},t.prototype._emitFinal=function(e){var t=this.destination;this._emitted||(this._emitted=!0,t.next(e),t.complete(),this.hasCompleted=!0)},t.prototype._complete=function(){var e=this.destination;this.hasCompleted||void 0===this.defaultValue?this.hasCompleted||e.error(new o.EmptyError):(e.next(this.defaultValue),e.complete())},t}(i.Subscriber)},69383:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(71975),o=r(84469),s=r(16561),a=r(31377),c=r(13333),u=r(95685);t.groupBy=function(e,t,r,n){return function(i){return i.lift(new f(e,t,r,n))}};var f=function(){function e(e,t,r,n){this.keySelector=e,this.elementSelector=t,this.durationSelector=r,this.subjectSelector=n}return e.prototype.call=function(e,t){return t.subscribe(new l(e,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))},e}(),l=function(e){function t(t,r,n,i,o){e.call(this,t),this.keySelector=r,this.elementSelector=n,this.durationSelector=i,this.subjectSelector=o,this.groups=null,this.attemptedToUnsubscribe=!1,this.count=0}return n(t,e),t.prototype._next=function(e){var t;try{t=this.keySelector(e)}catch(e){return void this.error(e)}this._group(e,t)},t.prototype._group=function(e,t){var r=this.groups;r||(r=this.groups="string"==typeof t?new u.FastMap:new c.Map);var n,i=r.get(t);if(this.elementSelector)try{n=this.elementSelector(e)}catch(e){this.error(e)}else n=e;if(!i){i=this.subjectSelector?this.subjectSelector():new a.Subject,r.set(t,i);var o=new d(t,i,this);if(this.destination.next(o),this.durationSelector){var s=void 0;try{s=this.durationSelector(new d(t,i))}catch(e){return void this.error(e)}this.add(s.subscribe(new h(t,i,this)))}}i.closed||i.next(n)},t.prototype._error=function(e){var t=this.groups;t&&(t.forEach((function(t,r){t.error(e)})),t.clear()),this.destination.error(e)},t.prototype._complete=function(){var e=this.groups;e&&(e.forEach((function(e,t){e.complete()})),e.clear()),this.destination.complete()},t.prototype.removeGroup=function(e){this.groups.delete(e)},t.prototype.unsubscribe=function(){this.closed||(this.attemptedToUnsubscribe=!0,0===this.count&&e.prototype.unsubscribe.call(this))},t}(i.Subscriber),h=function(e){function t(t,r,n){e.call(this,r),this.key=t,this.group=r,this.parent=n}return n(t,e),t.prototype._next=function(e){this.complete()},t.prototype._unsubscribe=function(){var e=this.parent,t=this.key;this.key=this.parent=null,e&&e.removeGroup(t)},t}(i.Subscriber),d=function(e){function t(t,r,n){e.call(this),this.key=t,this.groupSubject=r,this.refCountSubscription=n}return n(t,e),t.prototype._subscribe=function(e){var t=new o.Subscription,r=this.refCountSubscription,n=this.groupSubject;return r&&!r.closed&&t.add(new p(r)),t.add(n.subscribe(e)),t},t}(s.Observable);t.GroupedObservable=d;var p=function(e){function t(t){e.call(this),this.parent=t,t.count++}return n(t,e),t.prototype.unsubscribe=function(){var t=this.parent;t.closed||this.closed||(e.prototype.unsubscribe.call(this),t.count-=1,0===t.count&&t.attemptedToUnsubscribe&&t.unsubscribe())},t}(o.Subscription)},65714:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(71975),o=r(40777);t.ignoreElements=function(){return function(e){return e.lift(new s)}};var s=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new a(e))},e}(),a=function(e){function t(){e.apply(this,arguments)}return n(t,e),t.prototype._next=function(e){o.noop()},t}(i.Subscriber)},18318:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(71975);t.isEmpty=function(){return function(e){return e.lift(new o)}};var o=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new s(e))},e}(),s=function(e){function t(t){e.call(this,t)}return n(t,e),t.prototype.notifyComplete=function(e){var t=this.destination;t.next(e),t.complete()},t.prototype._next=function(e){this.notifyComplete(!1)},t.prototype._complete=function(){this.notifyComplete(!0)},t}(i.Subscriber)},79460:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(71975),o=r(8294);t.last=function(e,t,r){return function(n){return n.lift(new s(e,t,r,n))}};var s=function(){function e(e,t,r,n){this.predicate=e,this.resultSelector=t,this.defaultValue=r,this.source=n}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.predicate,this.resultSelector,this.defaultValue,this.source))},e}(),a=function(e){function t(t,r,n,i,o){e.call(this,t),this.predicate=r,this.resultSelector=n,this.defaultValue=i,this.source=o,this.hasValue=!1,this.index=0,void 0!==i&&(this.lastValue=i,this.hasValue=!0)}return n(t,e),t.prototype._next=function(e){var t=this.index++;if(this.predicate)this._tryPredicate(e,t);else{if(this.resultSelector)return void this._tryResultSelector(e,t);this.lastValue=e,this.hasValue=!0}},t.prototype._tryPredicate=function(e,t){var r;try{r=this.predicate(e,t,this.source)}catch(e){return void this.destination.error(e)}if(r){if(this.resultSelector)return void this._tryResultSelector(e,t);this.lastValue=e,this.hasValue=!0}},t.prototype._tryResultSelector=function(e,t){var r;try{r=this.resultSelector(e,t)}catch(e){return void this.destination.error(e)}this.lastValue=r,this.hasValue=!0},t.prototype._complete=function(){var e=this.destination;this.hasValue?(e.next(this.lastValue),e.complete()):e.error(new o.EmptyError)},t}(i.Subscriber)},20027:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(71975);t.map=function(e,t){return function(r){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return r.lift(new o(e,t))}};var o=function(){function e(e,t){this.project=e,this.thisArg=t}return e.prototype.call=function(e,t){return t.subscribe(new s(e,this.project,this.thisArg))},e}();t.MapOperator=o;var s=function(e){function t(t,r,n){e.call(this,t),this.project=r,this.count=0,this.thisArg=n||this}return n(t,e),t.prototype._next=function(e){var t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(e){return void this.destination.error(e)}this.destination.next(t)},t}(i.Subscriber)},78937:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(71975);t.mapTo=function(e){return function(t){return t.lift(new o(e))}};var o=function(){function e(e){this.value=e}return e.prototype.call=function(e,t){return t.subscribe(new s(e,this.value))},e}(),s=function(e){function t(t,r){e.call(this,t),this.value=r}return n(t,e),t.prototype._next=function(e){this.destination.next(this.value)},t}(i.Subscriber)},32362:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(71975),o=r(53926);t.materialize=function(){return function(e){return e.lift(new s)}};var s=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new a(e))},e}(),a=function(e){function t(t){e.call(this,t)}return n(t,e),t.prototype._next=function(e){this.destination.next(o.Notification.createNext(e))},t.prototype._error=function(e){var t=this.destination;t.next(o.Notification.createError(e)),t.complete()},t.prototype._complete=function(){var e=this.destination;e.next(o.Notification.createComplete()),e.complete()},t}(i.Subscriber)},96224:(e,t,r)=>{var n=r(22304);t.max=function(e){var t="function"==typeof e?function(t,r){return e(t,r)>0?t:r}:function(e,t){return e>t?e:t};return n.reduce(t)}},57643:(e,t,r)=>{var n=r(20507),i=r(20507);t.mergeStatic=i.merge,t.merge=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return function(t){return t.lift.call(n.merge.apply(void 0,[t].concat(e)))}}},75675:(e,t,r)=>{var n=r(91041),i=r(20642);t.mergeAll=function(e){return void 0===e&&(e=Number.POSITIVE_INFINITY),n.mergeMap(i.identity,null,e)}},91041:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(51302),o=r(62392);t.mergeMap=function(e,t,r){return void 0===r&&(r=Number.POSITIVE_INFINITY),function(n){return"number"==typeof t&&(r=t,t=null),n.lift(new s(e,t,r))}};var s=function(){function e(e,t,r){void 0===r&&(r=Number.POSITIVE_INFINITY),this.project=e,this.resultSelector=t,this.concurrent=r}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.project,this.resultSelector,this.concurrent))},e}();t.MergeMapOperator=s;var a=function(e){function t(t,r,n,i){void 0===i&&(i=Number.POSITIVE_INFINITY),e.call(this,t),this.project=r,this.resultSelector=n,this.concurrent=i,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}return n(t,e),t.prototype._next=function(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)},t.prototype._tryNext=function(e){var t,r=this.index++;try{t=this.project(e,r)}catch(e){return void this.destination.error(e)}this.active++,this._innerSub(t,e,r)},t.prototype._innerSub=function(e,t,r){this.add(i.subscribeToResult(this,e,t,r))},t.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete()},t.prototype.notifyNext=function(e,t,r,n,i){this.resultSelector?this._notifyResultSelector(e,t,r,n):this.destination.next(t)},t.prototype._notifyResultSelector=function(e,t,r,n){var i;try{i=this.resultSelector(e,t,r,n)}catch(e){return void this.destination.error(e)}this.destination.next(i)},t.prototype.notifyComplete=function(e){var t=this.buffer;this.remove(e),this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},t}(o.OuterSubscriber);t.MergeMapSubscriber=a},6547:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(62392),o=r(51302);t.mergeMapTo=function(e,t,r){return void 0===r&&(r=Number.POSITIVE_INFINITY),"number"==typeof t&&(r=t,t=null),function(n){return n.lift(new s(e,t,r))}};var s=function(){function e(e,t,r){void 0===r&&(r=Number.POSITIVE_INFINITY),this.ish=e,this.resultSelector=t,this.concurrent=r}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.ish,this.resultSelector,this.concurrent))},e}();t.MergeMapToOperator=s;var a=function(e){function t(t,r,n,i){void 0===i&&(i=Number.POSITIVE_INFINITY),e.call(this,t),this.ish=r,this.resultSelector=n,this.concurrent=i,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}return n(t,e),t.prototype._next=function(e){if(this.active<this.concurrent){var t=this.resultSelector,r=this.index++,n=this.ish,i=this.destination;this.active++,this._innerSub(n,i,t,e,r)}else this.buffer.push(e)},t.prototype._innerSub=function(e,t,r,n,i){this.add(o.subscribeToResult(this,e,n,i))},t.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete()},t.prototype.notifyNext=function(e,t,r,n,i){var o=this.resultSelector,s=this.destination;o?this.trySelectResult(e,t,r,n):s.next(t)},t.prototype.trySelectResult=function(e,t,r,n){var i,o=this.resultSelector,s=this.destination;try{i=o(e,t,r,n)}catch(e){return void s.error(e)}s.next(i)},t.prototype.notifyError=function(e){this.destination.error(e)},t.prototype.notifyComplete=function(e){var t=this.buffer;this.remove(e),this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},t}(i.OuterSubscriber);t.MergeMapToSubscriber=a},6478:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(27611),o=r(51491),s=r(51302),a=r(62392);t.mergeScan=function(e,t,r){return void 0===r&&(r=Number.POSITIVE_INFINITY),function(n){return n.lift(new c(e,t,r))}};var c=function(){function e(e,t,r){this.accumulator=e,this.seed=t,this.concurrent=r}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.accumulator,this.seed,this.concurrent))},e}();t.MergeScanOperator=c;var u=function(e){function t(t,r,n,i){e.call(this,t),this.accumulator=r,this.acc=n,this.concurrent=i,this.hasValue=!1,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}return n(t,e),t.prototype._next=function(e){if(this.active<this.concurrent){var t=this.index++,r=i.tryCatch(this.accumulator)(this.acc,e),n=this.destination;r===o.errorObject?n.error(o.errorObject.e):(this.active++,this._innerSub(r,e,t))}else this.buffer.push(e)},t.prototype._innerSub=function(e,t,r){this.add(s.subscribeToResult(this,e,t,r))},t.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&(!1===this.hasValue&&this.destination.next(this.acc),this.destination.complete())},t.prototype.notifyNext=function(e,t,r,n,i){var o=this.destination;this.acc=t,this.hasValue=!0,o.next(t)},t.prototype.notifyComplete=function(e){var t=this.buffer;this.remove(e),this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&(!1===this.hasValue&&this.destination.next(this.acc),this.destination.complete())},t}(a.OuterSubscriber);t.MergeScanSubscriber=u},7289:(e,t,r)=>{var n=r(22304);t.min=function(e){var t="function"==typeof e?function(t,r){return e(t,r)<0?t:r}:function(e,t){return e<t?e:t};return n.reduce(t)}},57202:(e,t,r)=>{var n=r(72771);t.multicast=function(e,t){return function(r){var o;if(o="function"==typeof e?e:function(){return e},"function"==typeof t)return r.lift(new i(o,t));var s=Object.create(r,n.connectableObservableDescriptor);return s.source=r,s.subjectFactory=o,s}};var i=function(){function e(e,t){this.subjectFactory=e,this.selector=t}return e.prototype.call=function(e,t){var r=this.selector,n=this.subjectFactory(),i=r(n).subscribe(e);return i.add(t.subscribe(n)),i},e}();t.MulticastOperator=i},10074:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(71975),o=r(53926);t.observeOn=function(e,t){return void 0===t&&(t=0),function(r){return r.lift(new s(e,t))}};var s=function(){function e(e,t){void 0===t&&(t=0),this.scheduler=e,this.delay=t}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.scheduler,this.delay))},e}();t.ObserveOnOperator=s;var a=function(e){function t(t,r,n){void 0===n&&(n=0),e.call(this,t),this.scheduler=r,this.delay=n}return n(t,e),t.dispatch=function(e){var t=e.notification,r=e.destination;t.observe(r),this.unsubscribe()},t.prototype.scheduleMessage=function(e){this.add(this.scheduler.schedule(t.dispatch,this.delay,new c(e,this.destination)))},t.prototype._next=function(e){this.scheduleMessage(o.Notification.createNext(e))},t.prototype._error=function(e){this.scheduleMessage(o.Notification.createError(e))},t.prototype._complete=function(){this.scheduleMessage(o.Notification.createComplete())},t}(i.Subscriber);t.ObserveOnSubscriber=a;var c=function(e,t){this.notification=e,this.destination=t};t.ObserveOnMessage=c},66520:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(41113),o=r(70002),s=r(62392),a=r(51302);t.onErrorResumeNext=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return 1===e.length&&o.isArray(e[0])&&(e=e[0]),function(t){return t.lift(new c(e))}},t.onErrorResumeNextStatic=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];var r=null;return 1===e.length&&o.isArray(e[0])&&(e=e[0]),r=e.shift(),new i.FromObservable(r,null).lift(new c(e))};var c=function(){function e(e){this.nextSources=e}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.nextSources))},e}(),u=function(e){function t(t,r){e.call(this,t),this.destination=t,this.nextSources=r}return n(t,e),t.prototype.notifyError=function(e,t){this.subscribeToNextSource()},t.prototype.notifyComplete=function(e){this.subscribeToNextSource()},t.prototype._error=function(e){this.subscribeToNextSource()},t.prototype._complete=function(){this.subscribeToNextSource()},t.prototype.subscribeToNextSource=function(){var e=this.nextSources.shift();e?this.add(a.subscribeToResult(this,e)):this.destination.complete()},t}(s.OuterSubscriber)},27843:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(71975);t.pairwise=function(){return function(e){return e.lift(new o)}};var o=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new s(e))},e}(),s=function(e){function t(t){e.call(this,t),this.hasPrev=!1}return n(t,e),t.prototype._next=function(e){this.hasPrev?this.destination.next([this.prev,e]):this.hasPrev=!0,this.prev=e},t}(i.Subscriber)},45242:(e,t,r)=>{var n=r(87005),i=r(6909);t.partition=function(e,t){return function(r){return[i.filter(e,t)(r),i.filter(n.not(e,t))(r)]}}},80946:(e,t,r)=>{var n=r(20027);function i(e,t){return function(r){for(var n=r,i=0;i<t;i++){var o=n[e[i]];if(void 0===o)return;n=o}return n}}t.pluck=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];var r=e.length;if(0===r)throw new Error("list of properties cannot be empty.");return function(t){return n.map(i(e,r))(t)}}},28686:(e,t,r)=>{var n=r(31377),i=r(57202);t.publish=function(e){return e?i.multicast((function(){return new n.Subject}),e):i.multicast(new n.Subject)}},57395:(e,t,r)=>{var n=r(91033),i=r(57202);t.publishBehavior=function(e){return function(t){return i.multicast(new n.BehaviorSubject(e))(t)}}},16321:(e,t,r)=>{var n=r(85859),i=r(57202);t.publishLast=function(){return function(e){return i.multicast(new n.AsyncSubject)(e)}}},73158:(e,t,r)=>{var n=r(48885),i=r(57202);t.publishReplay=function(e,t,r,o){r&&"function"!=typeof r&&(o=r);var s="function"==typeof r?r:void 0,a=new n.ReplaySubject(e,t,o);return function(e){return i.multicast((function(){return a}),s)(e)}}},45735:(e,t,r)=>{var n=r(70002),i=r(82505);t.race=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return function(t){return 1===e.length&&n.isArray(e[0])&&(e=e[0]),t.lift.call(i.race.apply(void 0,[t].concat(e)))}}},22304:(e,t,r)=>{var n=r(27706),i=r(76382),o=r(12298),s=r(92611);t.reduce=function(e,t){return arguments.length>=2?function(r){return s.pipe(n.scan(e,t),i.takeLast(1),o.defaultIfEmpty(t))(r)}:function(t){return s.pipe(n.scan((function(t,r,n){return e(t,r,n+1)})),i.takeLast(1))(t)}}},26195:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(71975);t.refCount=function(){return function(e){return e.lift(new o(e))}};var o=function(){function e(e){this.connectable=e}return e.prototype.call=function(e,t){var r=this.connectable;r._refCount++;var n=new s(e,r),i=t.subscribe(n);return n.closed||(n.connection=r.connect()),i},e}(),s=function(e){function t(t,r){e.call(this,t),this.connectable=r}return n(t,e),t.prototype._unsubscribe=function(){var e=this.connectable;if(e){this.connectable=null;var t=e._refCount;if(t<=0)this.connection=null;else if(e._refCount=t-1,t>1)this.connection=null;else{var r=this.connection,n=e._connection;this.connection=null,!n||r&&n!==r||n.unsubscribe()}}else this.connection=null},t}(i.Subscriber)},98090:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(71975),o=r(45700);t.repeat=function(e){return void 0===e&&(e=-1),function(t){return 0===e?new o.EmptyObservable:e<0?t.lift(new s(-1,t)):t.lift(new s(e-1,t))}};var s=function(){function e(e,t){this.count=e,this.source=t}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.count,this.source))},e}(),a=function(e){function t(t,r,n){e.call(this,t),this.count=r,this.source=n}return n(t,e),t.prototype.complete=function(){if(!this.isStopped){var t=this.source,r=this.count;if(0===r)return e.prototype.complete.call(this);r>-1&&(this.count=r-1),t.subscribe(this._unsubscribeAndRecycle())}},t}(i.Subscriber)},24389:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(31377),o=r(27611),s=r(51491),a=r(62392),c=r(51302);t.repeatWhen=function(e){return function(t){return t.lift(new u(e))}};var u=function(){function e(e){this.notifier=e}return e.prototype.call=function(e,t){return t.subscribe(new f(e,this.notifier,t))},e}(),f=function(e){function t(t,r,n){e.call(this,t),this.notifier=r,this.source=n,this.sourceIsBeingSubscribedTo=!0}return n(t,e),t.prototype.notifyNext=function(e,t,r,n,i){this.sourceIsBeingSubscribedTo=!0,this.source.subscribe(this)},t.prototype.notifyComplete=function(t){if(!1===this.sourceIsBeingSubscribedTo)return e.prototype.complete.call(this)},t.prototype.complete=function(){if(this.sourceIsBeingSubscribedTo=!1,!this.isStopped){if(this.retries||this.subscribeToRetries(),!this.retriesSubscription||this.retriesSubscription.closed)return e.prototype.complete.call(this);this._unsubscribeAndRecycle(),this.notifications.next()}},t.prototype._unsubscribe=function(){var e=this.notifications,t=this.retriesSubscription;e&&(e.unsubscribe(),this.notifications=null),t&&(t.unsubscribe(),this.retriesSubscription=null),this.retries=null},t.prototype._unsubscribeAndRecycle=function(){var t=this,r=t.notifications,n=t.retries,i=t.retriesSubscription;return this.notifications=null,this.retries=null,this.retriesSubscription=null,e.prototype._unsubscribeAndRecycle.call(this),this.notifications=r,this.retries=n,this.retriesSubscription=i,this},t.prototype.subscribeToRetries=function(){this.notifications=new i.Subject;var t=o.tryCatch(this.notifier)(this.notifications);if(t===s.errorObject)return e.prototype.complete.call(this);this.retries=t,this.retriesSubscription=c.subscribeToResult(this,t)},t}(a.OuterSubscriber)},22257:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(71975);t.retry=function(e){return void 0===e&&(e=-1),function(t){return t.lift(new o(e,t))}};var o=function(){function e(e,t){this.count=e,this.source=t}return e.prototype.call=function(e,t){return t.subscribe(new s(e,this.count,this.source))},e}(),s=function(e){function t(t,r,n){e.call(this,t),this.count=r,this.source=n}return n(t,e),t.prototype.error=function(t){if(!this.isStopped){var r=this.source,n=this.count;if(0===n)return e.prototype.error.call(this,t);n>-1&&(this.count=n-1),r.subscribe(this._unsubscribeAndRecycle())}},t}(i.Subscriber)},51452:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(31377),o=r(27611),s=r(51491),a=r(62392),c=r(51302);t.retryWhen=function(e){return function(t){return t.lift(new u(e,t))}};var u=function(){function e(e,t){this.notifier=e,this.source=t}return e.prototype.call=function(e,t){return t.subscribe(new f(e,this.notifier,this.source))},e}(),f=function(e){function t(t,r,n){e.call(this,t),this.notifier=r,this.source=n}return n(t,e),t.prototype.error=function(t){if(!this.isStopped){var r=this.errors,n=this.retries,a=this.retriesSubscription;if(n)this.errors=null,this.retriesSubscription=null;else{if(r=new i.Subject,(n=o.tryCatch(this.notifier)(r))===s.errorObject)return e.prototype.error.call(this,s.errorObject.e);a=c.subscribeToResult(this,n)}this._unsubscribeAndRecycle(),this.errors=r,this.retries=n,this.retriesSubscription=a,r.next(t)}},t.prototype._unsubscribe=function(){var e=this.errors,t=this.retriesSubscription;e&&(e.unsubscribe(),this.errors=null),t&&(t.unsubscribe(),this.retriesSubscription=null),this.retries=null},t.prototype.notifyNext=function(e,t,r,n,i){var o=this,s=o.errors,a=o.retries,c=o.retriesSubscription;this.errors=null,this.retries=null,this.retriesSubscription=null,this._unsubscribeAndRecycle(),this.errors=s,this.retries=a,this.retriesSubscription=c,this.source.subscribe(this)},t}(a.OuterSubscriber)},99636:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(62392),o=r(51302);t.sample=function(e){return function(t){return t.lift(new s(e))}};var s=function(){function e(e){this.notifier=e}return e.prototype.call=function(e,t){var r=new a(e),n=t.subscribe(r);return n.add(o.subscribeToResult(r,this.notifier)),n},e}(),a=function(e){function t(){e.apply(this,arguments),this.hasValue=!1}return n(t,e),t.prototype._next=function(e){this.value=e,this.hasValue=!0},t.prototype.notifyNext=function(e,t,r,n,i){this.emitValue()},t.prototype.notifyComplete=function(){this.emitValue()},t.prototype.emitValue=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.value))},t}(i.OuterSubscriber)},10636:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(71975),o=r(55488);t.sampleTime=function(e,t){return void 0===t&&(t=o.async),function(r){return r.lift(new s(e,t))}};var s=function(){function e(e,t){this.period=e,this.scheduler=t}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.period,this.scheduler))},e}(),a=function(e){function t(t,r,n){e.call(this,t),this.period=r,this.scheduler=n,this.hasValue=!1,this.add(n.schedule(c,r,{subscriber:this,period:r}))}return n(t,e),t.prototype._next=function(e){this.lastValue=e,this.hasValue=!0},t.prototype.notifyNext=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.lastValue))},t}(i.Subscriber);function c(e){var t=e.subscriber,r=e.period;t.notifyNext(),this.schedule(e,r)}},27706:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(71975);t.scan=function(e,t){var r=!1;return arguments.length>=2&&(r=!0),function(n){return n.lift(new o(e,t,r))}};var o=function(){function e(e,t,r){void 0===r&&(r=!1),this.accumulator=e,this.seed=t,this.hasSeed=r}return e.prototype.call=function(e,t){return t.subscribe(new s(e,this.accumulator,this.seed,this.hasSeed))},e}(),s=function(e){function t(t,r,n,i){e.call(this,t),this.accumulator=r,this._seed=n,this.hasSeed=i,this.index=0}return n(t,e),Object.defineProperty(t.prototype,"seed",{get:function(){return this._seed},set:function(e){this.hasSeed=!0,this._seed=e},enumerable:!0,configurable:!0}),t.prototype._next=function(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)},t.prototype._tryNext=function(e){var t,r=this.index++;try{t=this.accumulator(this.seed,e,r)}catch(e){this.destination.error(e)}this.seed=t,this.destination.next(t)},t}(i.Subscriber)},48170:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(71975),o=r(27611),s=r(51491);t.sequenceEqual=function(e,t){return function(r){return r.lift(new a(e,t))}};var a=function(){function e(e,t){this.compareTo=e,this.comparor=t}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.compareTo,this.comparor))},e}();t.SequenceEqualOperator=a;var c=function(e){function t(t,r,n){e.call(this,t),this.compareTo=r,this.comparor=n,this._a=[],this._b=[],this._oneComplete=!1,this.add(r.subscribe(new u(t,this)))}return n(t,e),t.prototype._next=function(e){this._oneComplete&&0===this._b.length?this.emit(!1):(this._a.push(e),this.checkValues())},t.prototype._complete=function(){this._oneComplete?this.emit(0===this._a.length&&0===this._b.length):this._oneComplete=!0},t.prototype.checkValues=function(){for(var e=this,t=e._a,r=e._b,n=e.comparor;t.length>0&&r.length>0;){var i=t.shift(),a=r.shift(),c=!1;n?(c=o.tryCatch(n)(i,a))===s.errorObject&&this.destination.error(s.errorObject.e):c=i===a,c||this.emit(!1)}},t.prototype.emit=function(e){var t=this.destination;t.next(e),t.complete()},t.prototype.nextB=function(e){this._oneComplete&&0===this._a.length?this.emit(!1):(this._b.push(e),this.checkValues())},t}(i.Subscriber);t.SequenceEqualSubscriber=c;var u=function(e){function t(t,r){e.call(this,t),this.parent=r}return n(t,e),t.prototype._next=function(e){this.parent.nextB(e)},t.prototype._error=function(e){this.parent.error(e)},t.prototype._complete=function(){this.parent._complete()},t}(i.Subscriber)},19992:(e,t,r)=>{var n=r(57202),i=r(26195),o=r(31377);function s(){return new o.Subject}t.share=function(){return function(e){return i.refCount()(n.multicast(s)(e))}}},23257:(e,t,r)=>{var n=r(48885);t.shareReplay=function(e,t,r){return function(i){return i.lift(function(e,t,r){var i,o,s=0,a=!1,c=!1;return function(u){s++,i&&!a||(a=!1,i=new n.ReplaySubject(e,t,r),o=u.subscribe({next:function(e){i.next(e)},error:function(e){a=!0,i.error(e)},complete:function(){c=!0,i.complete()}}));var f=i.subscribe(this);return function(){s--,f.unsubscribe(),o&&0===s&&c&&o.unsubscribe()}}}(e,t,r))}}},14024:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(71975),o=r(8294);t.single=function(e){return function(t){return t.lift(new s(e,t))}};var s=function(){function e(e,t){this.predicate=e,this.source=t}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.predicate,this.source))},e}(),a=function(e){function t(t,r,n){e.call(this,t),this.predicate=r,this.source=n,this.seenValue=!1,this.index=0}return n(t,e),t.prototype.applySingleValue=function(e){this.seenValue?this.destination.error("Sequence contains more than one element"):(this.seenValue=!0,this.singleValue=e)},t.prototype._next=function(e){var t=this.index++;this.predicate?this.tryNext(e,t):this.applySingleValue(e)},t.prototype.tryNext=function(e,t){try{this.predicate(e,t,this.source)&&this.applySingleValue(e)}catch(e){this.destination.error(e)}},t.prototype._complete=function(){var e=this.destination;this.index>0?(e.next(this.seenValue?this.singleValue:void 0),e.complete()):e.error(new o.EmptyError)},t}(i.Subscriber)},82764:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(71975);t.skip=function(e){return function(t){return t.lift(new o(e))}};var o=function(){function e(e){this.total=e}return e.prototype.call=function(e,t){return t.subscribe(new s(e,this.total))},e}(),s=function(e){function t(t,r){e.call(this,t),this.total=r,this.count=0}return n(t,e),t.prototype._next=function(e){++this.count>this.total&&this.destination.next(e)},t}(i.Subscriber)},72984:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(71975),o=r(55122);t.skipLast=function(e){return function(t){return t.lift(new s(e))}};var s=function(){function e(e){if(this._skipCount=e,this._skipCount<0)throw new o.ArgumentOutOfRangeError}return e.prototype.call=function(e,t){return 0===this._skipCount?t.subscribe(new i.Subscriber(e)):t.subscribe(new a(e,this._skipCount))},e}(),a=function(e){function t(t,r){e.call(this,t),this._skipCount=r,this._count=0,this._ring=new Array(r)}return n(t,e),t.prototype._next=function(e){var t=this._skipCount,r=this._count++;if(r<t)this._ring[r]=e;else{var n=r%t,i=this._ring,o=i[n];i[n]=e,this.destination.next(o)}},t}(i.Subscriber)},53942:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(62392),o=r(51302);t.skipUntil=function(e){return function(t){return t.lift(new s(e))}};var s=function(){function e(e){this.notifier=e}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.notifier))},e}(),a=function(e){function t(t,r){e.call(this,t),this.hasValue=!1,this.isInnerStopped=!1,this.add(o.subscribeToResult(this,r))}return n(t,e),t.prototype._next=function(t){this.hasValue&&e.prototype._next.call(this,t)},t.prototype._complete=function(){this.isInnerStopped?e.prototype._complete.call(this):this.unsubscribe()},t.prototype.notifyNext=function(e,t,r,n,i){this.hasValue=!0},t.prototype.notifyComplete=function(){this.isInnerStopped=!0,this.isStopped&&e.prototype._complete.call(this)},t}(i.OuterSubscriber)},96051:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(71975);t.skipWhile=function(e){return function(t){return t.lift(new o(e))}};var o=function(){function e(e){this.predicate=e}return e.prototype.call=function(e,t){return t.subscribe(new s(e,this.predicate))},e}(),s=function(e){function t(t,r){e.call(this,t),this.predicate=r,this.skipping=!0,this.index=0}return n(t,e),t.prototype._next=function(e){var t=this.destination;this.skipping&&this.tryCallPredicate(e),this.skipping||t.next(e)},t.prototype.tryCallPredicate=function(e){try{var t=this.predicate(e,this.index++);this.skipping=Boolean(t)}catch(e){this.destination.error(e)}},t}(i.Subscriber)},62591:(e,t,r)=>{var n=r(824),i=r(70398),o=r(45700),s=r(77847),a=r(24469);t.startWith=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return function(t){var r=e[e.length-1];a.isScheduler(r)?e.pop():r=null;var c=e.length;return 1===c?s.concat(new i.ScalarObservable(e[0],r),t):c>1?s.concat(new n.ArrayObservable(e,r),t):s.concat(new o.EmptyObservable(r),t)}}},96296:(e,t,r)=>{var n=r(19887);t.subscribeOn=function(e,t){return void 0===t&&(t=0),function(r){return r.lift(new i(e,t))}};var i=function(){function e(e,t){this.scheduler=e,this.delay=t}return e.prototype.call=function(e,t){return new n.SubscribeOnObservable(t,this.delay,this.scheduler).subscribe(e)},e}()},64158:(e,t,r)=>{var n=r(57439),i=r(20642);t.switchAll=function(){return n.switchMap(i.identity)}},57439:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(62392),o=r(51302);t.switchMap=function(e,t){return function(r){return r.lift(new s(e,t))}};var s=function(){function e(e,t){this.project=e,this.resultSelector=t}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.project,this.resultSelector))},e}(),a=function(e){function t(t,r,n){e.call(this,t),this.project=r,this.resultSelector=n,this.index=0}return n(t,e),t.prototype._next=function(e){var t,r=this.index++;try{t=this.project(e,r)}catch(e){return void this.destination.error(e)}this._innerSub(t,e,r)},t.prototype._innerSub=function(e,t,r){var n=this.innerSubscription;n&&n.unsubscribe(),this.add(this.innerSubscription=o.subscribeToResult(this,e,t,r))},t.prototype._complete=function(){var t=this.innerSubscription;t&&!t.closed||e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){this.innerSubscription=null},t.prototype.notifyComplete=function(t){this.remove(t),this.innerSubscription=null,this.isStopped&&e.prototype._complete.call(this)},t.prototype.notifyNext=function(e,t,r,n,i){this.resultSelector?this._tryNotifyNext(e,t,r,n):this.destination.next(t)},t.prototype._tryNotifyNext=function(e,t,r,n){var i;try{i=this.resultSelector(e,t,r,n)}catch(e){return void this.destination.error(e)}this.destination.next(i)},t}(i.OuterSubscriber)},40210:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(62392),o=r(51302);t.switchMapTo=function(e,t){return function(r){return r.lift(new s(e,t))}};var s=function(){function e(e,t){this.observable=e,this.resultSelector=t}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.observable,this.resultSelector))},e}(),a=function(e){function t(t,r,n){e.call(this,t),this.inner=r,this.resultSelector=n,this.index=0}return n(t,e),t.prototype._next=function(e){var t=this.innerSubscription;t&&t.unsubscribe(),this.add(this.innerSubscription=o.subscribeToResult(this,this.inner,e,this.index++))},t.prototype._complete=function(){var t=this.innerSubscription;t&&!t.closed||e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){this.innerSubscription=null},t.prototype.notifyComplete=function(t){this.remove(t),this.innerSubscription=null,this.isStopped&&e.prototype._complete.call(this)},t.prototype.notifyNext=function(e,t,r,n,i){var o=this.resultSelector,s=this.destination;o?this.tryResultSelector(e,t,r,n):s.next(t)},t.prototype.tryResultSelector=function(e,t,r,n){var i,o=this.resultSelector,s=this.destination;try{i=o(e,t,r,n)}catch(e){return void s.error(e)}s.next(i)},t}(i.OuterSubscriber)},41892:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(71975),o=r(55122),s=r(45700);t.take=function(e){return function(t){return 0===e?new s.EmptyObservable:t.lift(new a(e))}};var a=function(){function e(e){if(this.total=e,this.total<0)throw new o.ArgumentOutOfRangeError}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.total))},e}(),c=function(e){function t(t,r){e.call(this,t),this.total=r,this.count=0}return n(t,e),t.prototype._next=function(e){var t=this.total,r=++this.count;r<=t&&(this.destination.next(e),r===t&&(this.destination.complete(),this.unsubscribe()))},t}(i.Subscriber)},76382:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(71975),o=r(55122),s=r(45700);t.takeLast=function(e){return function(t){return 0===e?new s.EmptyObservable:t.lift(new a(e))}};var a=function(){function e(e){if(this.total=e,this.total<0)throw new o.ArgumentOutOfRangeError}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.total))},e}(),c=function(e){function t(t,r){e.call(this,t),this.total=r,this.ring=new Array,this.count=0}return n(t,e),t.prototype._next=function(e){var t=this.ring,r=this.total,n=this.count++;t.length<r?t.push(e):t[n%r]=e},t.prototype._complete=function(){var e=this.destination,t=this.count;if(t>0)for(var r=this.count>=this.total?this.total:this.count,n=this.ring,i=0;i<r;i++){var o=t++%r;e.next(n[o])}e.complete()},t}(i.Subscriber)},69084:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(62392),o=r(51302);t.takeUntil=function(e){return function(t){return t.lift(new s(e))}};var s=function(){function e(e){this.notifier=e}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.notifier))},e}(),a=function(e){function t(t,r){e.call(this,t),this.notifier=r,this.add(o.subscribeToResult(this,r))}return n(t,e),t.prototype.notifyNext=function(e,t,r,n,i){this.complete()},t.prototype.notifyComplete=function(){},t}(i.OuterSubscriber)},52064:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(71975);t.takeWhile=function(e){return function(t){return t.lift(new o(e))}};var o=function(){function e(e){this.predicate=e}return e.prototype.call=function(e,t){return t.subscribe(new s(e,this.predicate))},e}(),s=function(e){function t(t,r){e.call(this,t),this.predicate=r,this.index=0}return n(t,e),t.prototype._next=function(e){var t,r=this.destination;try{t=this.predicate(e,this.index++)}catch(e){return void r.error(e)}this.nextOrComplete(e,t)},t.prototype.nextOrComplete=function(e,t){var r=this.destination;Boolean(t)?r.next(e):r.complete()},t}(i.Subscriber)},53979:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(71975);t.tap=function(e,t,r){return function(n){return n.lift(new o(e,t,r))}};var o=function(){function e(e,t,r){this.nextOrObserver=e,this.error=t,this.complete=r}return e.prototype.call=function(e,t){return t.subscribe(new s(e,this.nextOrObserver,this.error,this.complete))},e}(),s=function(e){function t(t,r,n,o){e.call(this,t);var s=new i.Subscriber(r,n,o);s.syncErrorThrowable=!0,this.add(s),this.safeSubscriber=s}return n(t,e),t.prototype._next=function(e){var t=this.safeSubscriber;t.next(e),t.syncErrorThrown?this.destination.error(t.syncErrorValue):this.destination.next(e)},t.prototype._error=function(e){var t=this.safeSubscriber;t.error(e),t.syncErrorThrown?this.destination.error(t.syncErrorValue):this.destination.error(e)},t.prototype._complete=function(){var e=this.safeSubscriber;e.complete(),e.syncErrorThrown?this.destination.error(e.syncErrorValue):this.destination.complete()},t}(i.Subscriber)},70811:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(62392),o=r(51302);t.defaultThrottleConfig={leading:!0,trailing:!1},t.throttle=function(e,r){return void 0===r&&(r=t.defaultThrottleConfig),function(t){return t.lift(new s(e,r.leading,r.trailing))}};var s=function(){function e(e,t,r){this.durationSelector=e,this.leading=t,this.trailing=r}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.durationSelector,this.leading,this.trailing))},e}(),a=function(e){function t(t,r,n,i){e.call(this,t),this.destination=t,this.durationSelector=r,this._leading=n,this._trailing=i,this._hasTrailingValue=!1}return n(t,e),t.prototype._next=function(e){if(this.throttled)this._trailing&&(this._hasTrailingValue=!0,this._trailingValue=e);else{var t=this.tryDurationSelector(e);t&&this.add(this.throttled=o.subscribeToResult(this,t)),this._leading&&(this.destination.next(e),this._trailing&&(this._hasTrailingValue=!0,this._trailingValue=e))}},t.prototype.tryDurationSelector=function(e){try{return this.durationSelector(e)}catch(e){return this.destination.error(e),null}},t.prototype._unsubscribe=function(){var e=this,t=e.throttled;e._trailingValue,e._hasTrailingValue,e._trailing,this._trailingValue=null,this._hasTrailingValue=!1,t&&(this.remove(t),this.throttled=null,t.unsubscribe())},t.prototype._sendTrailing=function(){var e=this,t=e.destination,r=e.throttled,n=e._trailing,i=e._trailingValue,o=e._hasTrailingValue;r&&n&&o&&(t.next(i),this._trailingValue=null,this._hasTrailingValue=!1)},t.prototype.notifyNext=function(e,t,r,n,i){this._sendTrailing(),this._unsubscribe()},t.prototype.notifyComplete=function(){this._sendTrailing(),this._unsubscribe()},t}(i.OuterSubscriber)},89503:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(71975),o=r(55488),s=r(70811);t.throttleTime=function(e,t,r){return void 0===t&&(t=o.async),void 0===r&&(r=s.defaultThrottleConfig),function(n){return n.lift(new a(e,t,r.leading,r.trailing))}};var a=function(){function e(e,t,r,n){this.duration=e,this.scheduler=t,this.leading=r,this.trailing=n}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.duration,this.scheduler,this.leading,this.trailing))},e}(),c=function(e){function t(t,r,n,i,o){e.call(this,t),this.duration=r,this.scheduler=n,this.leading=i,this.trailing=o,this._hasTrailingValue=!1,this._trailingValue=null}return n(t,e),t.prototype._next=function(e){this.throttled?this.trailing&&(this._trailingValue=e,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(u,this.duration,{subscriber:this})),this.leading&&this.destination.next(e))},t.prototype.clearThrottle=function(){var e=this.throttled;e&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),e.unsubscribe(),this.remove(e),this.throttled=null)},t}(i.Subscriber);function u(e){e.subscriber.clearThrottle()}},68457:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(71975),o=r(55488);t.timeInterval=function(e){return void 0===e&&(e=o.async),function(t){return t.lift(new a(e))}};var s=function(e,t){this.value=e,this.interval=t};t.TimeInterval=s;var a=function(){function e(e){this.scheduler=e}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.scheduler))},e}(),c=function(e){function t(t,r){e.call(this,t),this.scheduler=r,this.lastTime=0,this.lastTime=r.now()}return n(t,e),t.prototype._next=function(e){var t=this.scheduler.now(),r=t-this.lastTime;this.lastTime=t,this.destination.next(new s(e,r))},t}(i.Subscriber)},57347:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(55488),o=r(28595),s=r(71975),a=r(12505);t.timeout=function(e,t){void 0===t&&(t=i.async);var r=o.isDate(e),n=r?+e-t.now():Math.abs(e);return function(e){return e.lift(new c(n,r,t,new a.TimeoutError))}};var c=function(){function e(e,t,r,n){this.waitFor=e,this.absoluteTimeout=t,this.scheduler=r,this.errorInstance=n}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.absoluteTimeout,this.waitFor,this.scheduler,this.errorInstance))},e}(),u=function(e){function t(t,r,n,i,o){e.call(this,t),this.absoluteTimeout=r,this.waitFor=n,this.scheduler=i,this.errorInstance=o,this.action=null,this.scheduleTimeout()}return n(t,e),t.dispatchTimeout=function(e){e.error(e.errorInstance)},t.prototype.scheduleTimeout=function(){var e=this.action;e?this.action=e.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(t.dispatchTimeout,this.waitFor,this))},t.prototype._next=function(t){this.absoluteTimeout||this.scheduleTimeout(),e.prototype._next.call(this,t)},t.prototype._unsubscribe=function(){this.action=null,this.scheduler=null,this.errorInstance=null},t}(s.Subscriber)},85374:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(55488),o=r(28595),s=r(62392),a=r(51302);t.timeoutWith=function(e,t,r){return void 0===r&&(r=i.async),function(n){var i=o.isDate(e),s=i?+e-r.now():Math.abs(e);return n.lift(new c(s,i,t,r))}};var c=function(){function e(e,t,r,n){this.waitFor=e,this.absoluteTimeout=t,this.withObservable=r,this.scheduler=n}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))},e}(),u=function(e){function t(t,r,n,i,o){e.call(this,t),this.absoluteTimeout=r,this.waitFor=n,this.withObservable=i,this.scheduler=o,this.action=null,this.scheduleTimeout()}return n(t,e),t.dispatchTimeout=function(e){var t=e.withObservable;e._unsubscribeAndRecycle(),e.add(a.subscribeToResult(e,t))},t.prototype.scheduleTimeout=function(){var e=this.action;e?this.action=e.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(t.dispatchTimeout,this.waitFor,this))},t.prototype._next=function(t){this.absoluteTimeout||this.scheduleTimeout(),e.prototype._next.call(this,t)},t.prototype._unsubscribe=function(){this.action=null,this.scheduler=null,this.withObservable=null},t}(s.OuterSubscriber)},22655:(e,t,r)=>{var n=r(55488),i=r(20027);t.timestamp=function(e){return void 0===e&&(e=n.async),i.map((function(t){return new o(t,e.now())}))};var o=function(e,t){this.value=e,this.timestamp=t};t.Timestamp=o},95396:(e,t,r)=>{var n=r(22304);function i(e,t,r){return 0===r?[t]:(e.push(t),e)}t.toArray=function(){return n.reduce(i,[])}},947:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(31377),o=r(62392),s=r(51302);t.window=function(e){return function(t){return t.lift(new a(e))}};var a=function(){function e(e){this.windowBoundaries=e}return e.prototype.call=function(e,t){var r=new c(e),n=t.subscribe(r);return n.closed||r.add(s.subscribeToResult(r,this.windowBoundaries)),n},e}(),c=function(e){function t(t){e.call(this,t),this.window=new i.Subject,t.next(this.window)}return n(t,e),t.prototype.notifyNext=function(e,t,r,n,i){this.openWindow()},t.prototype.notifyError=function(e,t){this._error(e)},t.prototype.notifyComplete=function(e){this._complete()},t.prototype._next=function(e){this.window.next(e)},t.prototype._error=function(e){this.window.error(e),this.destination.error(e)},t.prototype._complete=function(){this.window.complete(),this.destination.complete()},t.prototype._unsubscribe=function(){this.window=null},t.prototype.openWindow=function(){var e=this.window;e&&e.complete();var t=this.destination,r=this.window=new i.Subject;t.next(r)},t}(o.OuterSubscriber)},41380:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(71975),o=r(31377);t.windowCount=function(e,t){return void 0===t&&(t=0),function(r){return r.lift(new s(e,t))}};var s=function(){function e(e,t){this.windowSize=e,this.startWindowEvery=t}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.windowSize,this.startWindowEvery))},e}(),a=function(e){function t(t,r,n){e.call(this,t),this.destination=t,this.windowSize=r,this.startWindowEvery=n,this.windows=[new o.Subject],this.count=0,t.next(this.windows[0])}return n(t,e),t.prototype._next=function(e){for(var t=this.startWindowEvery>0?this.startWindowEvery:this.windowSize,r=this.destination,n=this.windowSize,i=this.windows,s=i.length,a=0;a<s&&!this.closed;a++)i[a].next(e);var c=this.count-n+1;if(c>=0&&c%t==0&&!this.closed&&i.shift().complete(),++this.count%t==0&&!this.closed){var u=new o.Subject;i.push(u),r.next(u)}},t.prototype._error=function(e){var t=this.windows;if(t)for(;t.length>0&&!this.closed;)t.shift().error(e);this.destination.error(e)},t.prototype._complete=function(){var e=this.windows;if(e)for(;e.length>0&&!this.closed;)e.shift().complete();this.destination.complete()},t.prototype._unsubscribe=function(){this.count=0,this.windows=null},t}(i.Subscriber)},52666:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(31377),o=r(55488),s=r(71975),a=r(54137),c=r(24469);t.windowTime=function(e){var t=o.async,r=null,n=Number.POSITIVE_INFINITY;return c.isScheduler(arguments[3])&&(t=arguments[3]),c.isScheduler(arguments[2])?t=arguments[2]:a.isNumeric(arguments[2])&&(n=arguments[2]),c.isScheduler(arguments[1])?t=arguments[1]:a.isNumeric(arguments[1])&&(r=arguments[1]),function(i){return i.lift(new u(e,r,n,t))}};var u=function(){function e(e,t,r,n){this.windowTimeSpan=e,this.windowCreationInterval=t,this.maxWindowSize=r,this.scheduler=n}return e.prototype.call=function(e,t){return t.subscribe(new l(e,this.windowTimeSpan,this.windowCreationInterval,this.maxWindowSize,this.scheduler))},e}(),f=function(e){function t(){e.apply(this,arguments),this._numberOfNextedValues=0}return n(t,e),t.prototype.next=function(t){this._numberOfNextedValues++,e.prototype.next.call(this,t)},Object.defineProperty(t.prototype,"numberOfNextedValues",{get:function(){return this._numberOfNextedValues},enumerable:!0,configurable:!0}),t}(i.Subject),l=function(e){function t(t,r,n,i,o){e.call(this,t),this.destination=t,this.windowTimeSpan=r,this.windowCreationInterval=n,this.maxWindowSize=i,this.scheduler=o,this.windows=[];var s=this.openWindow();if(null!==n&&n>=0){var a={subscriber:this,window:s,context:null},c={windowTimeSpan:r,windowCreationInterval:n,subscriber:this,scheduler:o};this.add(o.schedule(p,r,a)),this.add(o.schedule(d,n,c))}else{var u={subscriber:this,window:s,windowTimeSpan:r};this.add(o.schedule(h,r,u))}}return n(t,e),t.prototype._next=function(e){for(var t=this.windows,r=t.length,n=0;n<r;n++){var i=t[n];i.closed||(i.next(e),i.numberOfNextedValues>=this.maxWindowSize&&this.closeWindow(i))}},t.prototype._error=function(e){for(var t=this.windows;t.length>0;)t.shift().error(e);this.destination.error(e)},t.prototype._complete=function(){for(var e=this.windows;e.length>0;){var t=e.shift();t.closed||t.complete()}this.destination.complete()},t.prototype.openWindow=function(){var e=new f;return this.windows.push(e),this.destination.next(e),e},t.prototype.closeWindow=function(e){e.complete();var t=this.windows;t.splice(t.indexOf(e),1)},t}(s.Subscriber);function h(e){var t=e.subscriber,r=e.windowTimeSpan,n=e.window;n&&t.closeWindow(n),e.window=t.openWindow(),this.schedule(e,r)}function d(e){var t=e.windowTimeSpan,r=e.subscriber,n=e.scheduler,i=e.windowCreationInterval,o=r.openWindow(),s=this,a={action:s,subscription:null},c={subscriber:r,window:o,context:a};a.subscription=n.schedule(p,t,c),s.add(a.subscription),s.schedule(e,i)}function p(e){var t=e.subscriber,r=e.window,n=e.context;n&&n.action&&n.subscription&&n.action.remove(n.subscription),t.closeWindow(r)}},89164:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(31377),o=r(84469),s=r(27611),a=r(51491),c=r(62392),u=r(51302);t.windowToggle=function(e,t){return function(r){return r.lift(new f(e,t))}};var f=function(){function e(e,t){this.openings=e,this.closingSelector=t}return e.prototype.call=function(e,t){return t.subscribe(new l(e,this.openings,this.closingSelector))},e}(),l=function(e){function t(t,r,n){e.call(this,t),this.openings=r,this.closingSelector=n,this.contexts=[],this.add(this.openSubscription=u.subscribeToResult(this,r,r))}return n(t,e),t.prototype._next=function(e){var t=this.contexts;if(t)for(var r=t.length,n=0;n<r;n++)t[n].window.next(e)},t.prototype._error=function(t){var r=this.contexts;if(this.contexts=null,r)for(var n=r.length,i=-1;++i<n;){var o=r[i];o.window.error(t),o.subscription.unsubscribe()}e.prototype._error.call(this,t)},t.prototype._complete=function(){var t=this.contexts;if(this.contexts=null,t)for(var r=t.length,n=-1;++n<r;){var i=t[n];i.window.complete(),i.subscription.unsubscribe()}e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){var e=this.contexts;if(this.contexts=null,e)for(var t=e.length,r=-1;++r<t;){var n=e[r];n.window.unsubscribe(),n.subscription.unsubscribe()}},t.prototype.notifyNext=function(e,t,r,n,c){if(e===this.openings){var f=this.closingSelector,l=s.tryCatch(f)(t);if(l===a.errorObject)return this.error(a.errorObject.e);var h=new i.Subject,d=new o.Subscription,p={window:h,subscription:d};this.contexts.push(p);var b=u.subscribeToResult(this,l,p);b.closed?this.closeWindow(this.contexts.length-1):(b.context=p,d.add(b)),this.destination.next(h)}else this.closeWindow(this.contexts.indexOf(e))},t.prototype.notifyError=function(e){this.error(e)},t.prototype.notifyComplete=function(e){e!==this.openSubscription&&this.closeWindow(this.contexts.indexOf(e.context))},t.prototype.closeWindow=function(e){if(-1!==e){var t=this.contexts,r=t[e],n=r.window,i=r.subscription;t.splice(e,1),n.complete(),i.unsubscribe()}},t}(c.OuterSubscriber)},63566:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(31377),o=r(27611),s=r(51491),a=r(62392),c=r(51302);t.windowWhen=function(e){return function(t){return t.lift(new u(e))}};var u=function(){function e(e){this.closingSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new f(e,this.closingSelector))},e}(),f=function(e){function t(t,r){e.call(this,t),this.destination=t,this.closingSelector=r,this.openWindow()}return n(t,e),t.prototype.notifyNext=function(e,t,r,n,i){this.openWindow(i)},t.prototype.notifyError=function(e,t){this._error(e)},t.prototype.notifyComplete=function(e){this.openWindow(e)},t.prototype._next=function(e){this.window.next(e)},t.prototype._error=function(e){this.window.error(e),this.destination.error(e),this.unsubscribeClosingNotification()},t.prototype._complete=function(){this.window.complete(),this.destination.complete(),this.unsubscribeClosingNotification()},t.prototype.unsubscribeClosingNotification=function(){this.closingNotification&&this.closingNotification.unsubscribe()},t.prototype.openWindow=function(e){void 0===e&&(e=null),e&&(this.remove(e),e.unsubscribe());var t=this.window;t&&t.complete();var r=this.window=new i.Subject;this.destination.next(r);var n=o.tryCatch(this.closingSelector)();if(n===s.errorObject){var a=s.errorObject.e;this.destination.error(a),this.window.error(a)}else this.add(this.closingNotification=c.subscribeToResult(this,n))},t}(a.OuterSubscriber)},56245:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(62392),o=r(51302);t.withLatestFrom=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return function(t){var r;"function"==typeof e[e.length-1]&&(r=e.pop());var n=e;return t.lift(new s(n,r))}};var s=function(){function e(e,t){this.observables=e,this.project=t}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.observables,this.project))},e}(),a=function(e){function t(t,r,n){e.call(this,t),this.observables=r,this.project=n,this.toRespond=[];var i=r.length;this.values=new Array(i);for(var s=0;s<i;s++)this.toRespond.push(s);for(s=0;s<i;s++){var a=r[s];this.add(o.subscribeToResult(this,a,a,s))}}return n(t,e),t.prototype.notifyNext=function(e,t,r,n,i){this.values[r]=t;var o=this.toRespond;if(o.length>0){var s=o.indexOf(r);-1!==s&&o.splice(s,1)}},t.prototype.notifyComplete=function(){},t.prototype._next=function(e){if(0===this.toRespond.length){var t=[e].concat(this.values);this.project?this._tryProject(t):this.destination.next(t)}},t.prototype._tryProject=function(e){var t;try{t=this.project.apply(this,e)}catch(e){return void this.destination.error(e)}this.destination.next(t)},t}(i.OuterSubscriber)},47817:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(824),o=r(70002),s=r(71975),a=r(62392),c=r(51302),u=r(51474);function f(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];var r=e[e.length-1];return"function"==typeof r&&e.pop(),new i.ArrayObservable(e).lift(new l(r))}t.zip=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return function(t){return t.lift.call(f.apply(void 0,[t].concat(e)))}},t.zipStatic=f;var l=function(){function e(e){this.project=e}return e.prototype.call=function(e,t){return t.subscribe(new h(e,this.project))},e}();t.ZipOperator=l;var h=function(e){function t(t,r,n){void 0===n&&(n=Object.create(null)),e.call(this,t),this.iterators=[],this.active=0,this.project="function"==typeof r?r:null,this.values=n}return n(t,e),t.prototype._next=function(e){var t=this.iterators;o.isArray(e)?t.push(new p(e)):"function"==typeof e[u.iterator]?t.push(new d(e[u.iterator]())):t.push(new b(this.destination,this,e))},t.prototype._complete=function(){var e=this.iterators,t=e.length;if(0!==t){this.active=t;for(var r=0;r<t;r++){var n=e[r];n.stillUnsubscribed?this.add(n.subscribe(n,r)):this.active--}}else this.destination.complete()},t.prototype.notifyInactive=function(){this.active--,0===this.active&&this.destination.complete()},t.prototype.checkIterators=function(){for(var e=this.iterators,t=e.length,r=this.destination,n=0;n<t;n++)if("function"==typeof(s=e[n]).hasValue&&!s.hasValue())return;var i=!1,o=[];for(n=0;n<t;n++){var s,a=(s=e[n]).next();if(s.hasCompleted()&&(i=!0),a.done)return void r.complete();o.push(a.value)}this.project?this._tryProject(o):r.next(o),i&&r.complete()},t.prototype._tryProject=function(e){var t;try{t=this.project.apply(this,e)}catch(e){return void this.destination.error(e)}this.destination.next(t)},t}(s.Subscriber);t.ZipSubscriber=h;var d=function(){function e(e){this.iterator=e,this.nextResult=e.next()}return e.prototype.hasValue=function(){return!0},e.prototype.next=function(){var e=this.nextResult;return this.nextResult=this.iterator.next(),e},e.prototype.hasCompleted=function(){var e=this.nextResult;return e&&e.done},e}(),p=function(){function e(e){this.array=e,this.index=0,this.length=0,this.length=e.length}return e.prototype[u.iterator]=function(){return this},e.prototype.next=function(e){var t=this.index++,r=this.array;return t<this.length?{value:r[t],done:!1}:{value:null,done:!0}},e.prototype.hasValue=function(){return this.array.length>this.index},e.prototype.hasCompleted=function(){return this.array.length===this.index},e}(),b=function(e){function t(t,r,n){e.call(this,t),this.parent=r,this.observable=n,this.stillUnsubscribed=!0,this.buffer=[],this.isComplete=!1}return n(t,e),t.prototype[u.iterator]=function(){return this},t.prototype.next=function(){var e=this.buffer;return 0===e.length&&this.isComplete?{value:null,done:!0}:{value:e.shift(),done:!1}},t.prototype.hasValue=function(){return this.buffer.length>0},t.prototype.hasCompleted=function(){return 0===this.buffer.length&&this.isComplete},t.prototype.notifyComplete=function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},t.prototype.notifyNext=function(e,t,r,n,i){this.buffer.push(t),this.parent.checkIterators()},t.prototype.subscribe=function(e,t){return c.subscribeToResult(this,this.observable,this,t)},t}(a.OuterSubscriber)},59150:(e,t,r)=>{var n=r(47817);t.zipAll=function(e){return function(t){return t.lift(new n.ZipOperator(e))}}},18311:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=function(e){function t(t,r){e.call(this)}return n(t,e),t.prototype.schedule=function(e,t){return void 0===t&&(t=0),this},t}(r(84469).Subscription);t.Action=i},41755:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(37169),o=r(21810),s=function(e){function t(t,r){e.call(this,t,r),this.scheduler=t,this.work=r}return n(t,e),t.prototype.requestAsyncId=function(t,r,n){return void 0===n&&(n=0),null!==n&&n>0?e.prototype.requestAsyncId.call(this,t,r,n):(t.actions.push(this),t.scheduled||(t.scheduled=o.AnimationFrame.requestAnimationFrame(t.flush.bind(t,null))))},t.prototype.recycleAsyncId=function(t,r,n){if(void 0===n&&(n=0),null!==n&&n>0||null===n&&this.delay>0)return e.prototype.recycleAsyncId.call(this,t,r,n);0===t.actions.length&&(o.AnimationFrame.cancelAnimationFrame(r),t.scheduled=void 0)},t}(i.AsyncAction);t.AnimationFrameAction=s},64106:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=function(e){function t(){e.apply(this,arguments)}return n(t,e),t.prototype.flush=function(e){this.active=!0,this.scheduled=void 0;var t,r=this.actions,n=-1,i=r.length;e=e||r.shift();do{if(t=e.execute(e.state,e.delay))break}while(++n<i&&(e=r.shift()));if(this.active=!1,t){for(;++n<i&&(e=r.shift());)e.unsubscribe();throw t}},t}(r(41738).AsyncScheduler);t.AnimationFrameScheduler=i},87054:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(49629),o=function(e){function t(t,r){e.call(this,t,r),this.scheduler=t,this.work=r}return n(t,e),t.prototype.requestAsyncId=function(t,r,n){return void 0===n&&(n=0),null!==n&&n>0?e.prototype.requestAsyncId.call(this,t,r,n):(t.actions.push(this),t.scheduled||(t.scheduled=i.Immediate.setImmediate(t.flush.bind(t,null))))},t.prototype.recycleAsyncId=function(t,r,n){if(void 0===n&&(n=0),null!==n&&n>0||null===n&&this.delay>0)return e.prototype.recycleAsyncId.call(this,t,r,n);0===t.actions.length&&(i.Immediate.clearImmediate(r),t.scheduled=void 0)},t}(r(37169).AsyncAction);t.AsapAction=o},71822:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=function(e){function t(){e.apply(this,arguments)}return n(t,e),t.prototype.flush=function(e){this.active=!0,this.scheduled=void 0;var t,r=this.actions,n=-1,i=r.length;e=e||r.shift();do{if(t=e.execute(e.state,e.delay))break}while(++n<i&&(e=r.shift()));if(this.active=!1,t){for(;++n<i&&(e=r.shift());)e.unsubscribe();throw t}},t}(r(41738).AsyncScheduler);t.AsapScheduler=i},37169:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(21613),o=function(e){function t(t,r){e.call(this,t,r),this.scheduler=t,this.work=r,this.pending=!1}return n(t,e),t.prototype.schedule=function(e,t){if(void 0===t&&(t=0),this.closed)return this;this.state=e,this.pending=!0;var r=this.id,n=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(n,r,t)),this.delay=t,this.id=this.id||this.requestAsyncId(n,this.id,t),this},t.prototype.requestAsyncId=function(e,t,r){return void 0===r&&(r=0),i.root.setInterval(e.flush.bind(e,this),r)},t.prototype.recycleAsyncId=function(e,t,r){if(void 0===r&&(r=0),null!==r&&this.delay===r&&!1===this.pending)return t;i.root.clearInterval(t)},t.prototype.execute=function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(e,t){var r=!1,n=void 0;try{this.work(e)}catch(e){r=!0,n=!!e&&e||new Error(e)}if(r)return this.unsubscribe(),n},t.prototype._unsubscribe=function(){var e=this.id,t=this.scheduler,r=t.actions,n=r.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==n&&r.splice(n,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null},t}(r(18311).Action);t.AsyncAction=o},41738:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=function(e){function t(){e.apply(this,arguments),this.actions=[],this.active=!1,this.scheduled=void 0}return n(t,e),t.prototype.flush=function(e){var t=this.actions;if(this.active)t.push(e);else{var r;this.active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}},t}(r(86593).Scheduler);t.AsyncScheduler=i},53442:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=function(e){function t(t,r){e.call(this,t,r),this.scheduler=t,this.work=r}return n(t,e),t.prototype.schedule=function(t,r){return void 0===r&&(r=0),r>0?e.prototype.schedule.call(this,t,r):(this.delay=r,this.state=t,this.scheduler.flush(this),this)},t.prototype.execute=function(t,r){return r>0||this.closed?e.prototype.execute.call(this,t,r):this._execute(t,r)},t.prototype.requestAsyncId=function(t,r,n){return void 0===n&&(n=0),null!==n&&n>0||null===n&&this.delay>0?e.prototype.requestAsyncId.call(this,t,r,n):t.flush(this)},t}(r(37169).AsyncAction);t.QueueAction=i},99394:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=function(e){function t(){e.apply(this,arguments)}return n(t,e),t}(r(41738).AsyncScheduler);t.QueueScheduler=i},81816:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(37169),o=function(e){function t(t,r){var n=this;void 0===t&&(t=s),void 0===r&&(r=Number.POSITIVE_INFINITY),e.call(this,t,(function(){return n.frame})),this.maxFrames=r,this.frame=0,this.index=-1}return n(t,e),t.prototype.flush=function(){for(var e,t,r=this.actions,n=this.maxFrames;(t=r.shift())&&(this.frame=t.delay)<=n&&!(e=t.execute(t.state,t.delay)););if(e){for(;t=r.shift();)t.unsubscribe();throw e}},t.frameTimeFactor=10,t}(r(41738).AsyncScheduler);t.VirtualTimeScheduler=o;var s=function(e){function t(t,r,n){void 0===n&&(n=t.index+=1),e.call(this,t,r),this.scheduler=t,this.work=r,this.index=n,this.active=!0,this.index=t.index=n}return n(t,e),t.prototype.schedule=function(r,n){if(void 0===n&&(n=0),!this.id)return e.prototype.schedule.call(this,r,n);this.active=!1;var i=new t(this.scheduler,this.work);return this.add(i),i.schedule(r,n)},t.prototype.requestAsyncId=function(e,r,n){void 0===n&&(n=0),this.delay=e.frame+n;var i=e.actions;return i.push(this),i.sort(t.sortActions),!0},t.prototype.recycleAsyncId=function(e,t,r){void 0===r&&(r=0)},t.prototype._execute=function(t,r){if(!0===this.active)return e.prototype._execute.call(this,t,r)},t.sortActions=function(e,t){return e.delay===t.delay?e.index===t.index?0:e.index>t.index?1:-1:e.delay>t.delay?1:-1},t}(i.AsyncAction);t.VirtualAction=s},65971:(e,t,r)=>{var n=r(41755),i=r(64106);t.animationFrame=new i.AnimationFrameScheduler(n.AnimationFrameAction)},24510:(e,t,r)=>{var n=r(87054),i=r(71822);t.asap=new i.AsapScheduler(n.AsapAction)},55488:(e,t,r)=>{var n=r(37169),i=r(41738);t.async=new i.AsyncScheduler(n.AsyncAction)},49700:(e,t,r)=>{var n=r(53442),i=r(99394);t.queue=new i.QueueScheduler(n.QueueAction)},51474:(e,t,r)=>{var n=r(21613);function i(e){var t=e.Symbol;if("function"==typeof t)return t.iterator||(t.iterator=t("iterator polyfill")),t.iterator;var r=e.Set;if(r&&"function"==typeof(new r)["@@iterator"])return"@@iterator";var n=e.Map;if(n)for(var i=Object.getOwnPropertyNames(n.prototype),o=0;o<i.length;++o){var s=i[o];if("entries"!==s&&"size"!==s&&n.prototype[s]===n.prototype.entries)return s}return"@@iterator"}t.symbolIteratorPonyfill=i,t.iterator=i(n.root),t.$$iterator=t.iterator},62086:(e,t,r)=>{var n=r(21613);function i(e){var t,r=e.Symbol;return"function"==typeof r?r.observable?t=r.observable:(t=r("observable"),r.observable=t):t="@@observable",t}t.getSymbolObservable=i,t.observable=i(n.root),t.$$observable=t.observable},98130:(e,t,r)=>{var n=r(21613).root.Symbol;t.rxSubscriber="function"==typeof n&&"function"==typeof n.for?n.for("rxSubscriber"):"@@rxSubscriber",t.$$rxSubscriber=t.rxSubscriber},97302:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(16561),o=r(84469),s=r(86005),a=r(1774),c=function(e){function t(t,r){e.call(this,(function(e){var t=this,r=t.logSubscribedFrame();return e.add(new o.Subscription((function(){t.logUnsubscribedFrame(r)}))),t.scheduleMessages(e),e})),this.messages=t,this.subscriptions=[],this.scheduler=r}return n(t,e),t.prototype.scheduleMessages=function(e){for(var t=this.messages.length,r=0;r<t;r++){var n=this.messages[r];e.add(this.scheduler.schedule((function(e){var t=e.message,r=e.subscriber;t.notification.observe(r)}),n.frame,{message:n,subscriber:e}))}},t}(i.Observable);t.ColdObservable=c,a.applyMixins(c,[s.SubscriptionLoggable])},77481:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(31377),o=r(84469),s=r(86005),a=r(1774),c=function(e){function t(t,r){e.call(this),this.messages=t,this.subscriptions=[],this.scheduler=r}return n(t,e),t.prototype._subscribe=function(t){var r=this,n=r.logSubscribedFrame();return t.add(new o.Subscription((function(){r.logUnsubscribedFrame(n)}))),e.prototype._subscribe.call(this,t)},t.prototype.setup=function(){for(var e=this,t=e.messages.length,r=0;r<t;r++)!function(){var t=e.messages[r];e.scheduler.schedule((function(){t.notification.observe(e)}),t.frame)}()},t}(i.Subject);t.HotObservable=c,a.applyMixins(c,[s.SubscriptionLoggable])},70273:(e,t)=>{t.SubscriptionLog=function(e,t){void 0===t&&(t=Number.POSITIVE_INFINITY),this.subscribedFrame=e,this.unsubscribedFrame=t}},86005:(e,t,r)=>{var n=r(70273),i=function(){function e(){this.subscriptions=[]}return e.prototype.logSubscribedFrame=function(){return this.subscriptions.push(new n.SubscriptionLog(this.scheduler.now())),this.subscriptions.length-1},e.prototype.logUnsubscribedFrame=function(e){var t=this.subscriptions,r=t[e];t[e]=new n.SubscriptionLog(r.subscribedFrame,this.scheduler.now())},e}();t.SubscriptionLoggable=i},92615:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=r(16561),o=r(53926),s=r(97302),a=r(77481),c=r(70273),u=r(81816),f=function(e){function t(t){e.call(this,u.VirtualAction,750),this.assertDeepEqual=t,this.hotObservables=[],this.coldObservables=[],this.flushTests=[]}return n(t,e),t.prototype.createTime=function(e){var r=e.indexOf("|");if(-1===r)throw new Error('marble diagram for time should have a completion marker "|"');return r*t.frameTimeFactor},t.prototype.createColdObservable=function(e,r,n){if(-1!==e.indexOf("^"))throw new Error('cold observable cannot have subscription offset "^"');if(-1!==e.indexOf("!"))throw new Error('cold observable cannot have unsubscription marker "!"');var i=t.parseMarbles(e,r,n),o=new s.ColdObservable(i,this);return this.coldObservables.push(o),o},t.prototype.createHotObservable=function(e,r,n){if(-1!==e.indexOf("!"))throw new Error('hot observable cannot have unsubscription marker "!"');var i=t.parseMarbles(e,r,n),o=new a.HotObservable(i,this);return this.hotObservables.push(o),o},t.prototype.materializeInnerObservable=function(e,t){var r=this,n=[];return e.subscribe((function(e){n.push({frame:r.frame-t,notification:o.Notification.createNext(e)})}),(function(e){n.push({frame:r.frame-t,notification:o.Notification.createError(e)})}),(function(){n.push({frame:r.frame-t,notification:o.Notification.createComplete()})})),n},t.prototype.expectObservable=function(e,r){var n=this;void 0===r&&(r=null);var s,a=[],c={actual:a,ready:!1},u=t.parseMarblesAsSubscriptions(r).unsubscribedFrame;return this.schedule((function(){s=e.subscribe((function(e){var t=e;e instanceof i.Observable&&(t=n.materializeInnerObservable(t,n.frame)),a.push({frame:n.frame,notification:o.Notification.createNext(t)})}),(function(e){a.push({frame:n.frame,notification:o.Notification.createError(e)})}),(function(){a.push({frame:n.frame,notification:o.Notification.createComplete()})}))}),0),u!==Number.POSITIVE_INFINITY&&this.schedule((function(){return s.unsubscribe()}),u),this.flushTests.push(c),{toBe:function(e,r,n){c.ready=!0,c.expected=t.parseMarbles(e,r,n,!0)}}},t.prototype.expectSubscriptions=function(e){var r={actual:e,ready:!1};return this.flushTests.push(r),{toBe:function(e){var n="string"==typeof e?[e]:e;r.ready=!0,r.expected=n.map((function(e){return t.parseMarblesAsSubscriptions(e)}))}}},t.prototype.flush=function(){for(var t=this.hotObservables;t.length>0;)t.shift().setup();e.prototype.flush.call(this);for(var r=this.flushTests.filter((function(e){return e.ready}));r.length>0;){var n=r.shift();this.assertDeepEqual(n.actual,n.expected)}},t.parseMarblesAsSubscriptions=function(e){if("string"!=typeof e)return new c.SubscriptionLog(Number.POSITIVE_INFINITY);for(var t=e.length,r=-1,n=Number.POSITIVE_INFINITY,i=Number.POSITIVE_INFINITY,o=0;o<t;o++){var s=o*this.frameTimeFactor,a=e[o];switch(a){case"-":case" ":break;case"(":r=s;break;case")":r=-1;break;case"^":if(n!==Number.POSITIVE_INFINITY)throw new Error("found a second subscription point '^' in a subscription marble diagram. There can only be one.");n=r>-1?r:s;break;case"!":if(i!==Number.POSITIVE_INFINITY)throw new Error("found a second subscription point '^' in a subscription marble diagram. There can only be one.");i=r>-1?r:s;break;default:throw new Error("there can only be '^' and '!' markers in a subscription marble diagram. Found instead '"+a+"'.")}}return i<0?new c.SubscriptionLog(n):new c.SubscriptionLog(n,i)},t.parseMarbles=function(e,t,r,n){if(void 0===n&&(n=!1),-1!==e.indexOf("!"))throw new Error('conventional marble diagrams cannot have the unsubscription marker "!"');for(var i=e.length,a=[],c=e.indexOf("^"),u=-1===c?0:c*-this.frameTimeFactor,f="object"!=typeof t?function(e){return e}:function(e){return n&&t[e]instanceof s.ColdObservable?t[e].messages:t[e]},l=-1,h=0;h<i;h++){var d=h*this.frameTimeFactor+u,p=void 0,b=e[h];switch(b){case"-":case" ":case"^":break;case"(":l=d;break;case")":l=-1;break;case"|":p=o.Notification.createComplete();break;case"#":p=o.Notification.createError(r||"error");break;default:p=o.Notification.createNext(f(b))}p&&a.push({frame:l>-1?l:d,notification:p})}return a},t}(u.VirtualTimeScheduler);t.TestScheduler=f},21810:(e,t,r)=>{var n=r(21613),i=function(e){e.requestAnimationFrame?(this.cancelAnimationFrame=e.cancelAnimationFrame.bind(e),this.requestAnimationFrame=e.requestAnimationFrame.bind(e)):e.mozRequestAnimationFrame?(this.cancelAnimationFrame=e.mozCancelAnimationFrame.bind(e),this.requestAnimationFrame=e.mozRequestAnimationFrame.bind(e)):e.webkitRequestAnimationFrame?(this.cancelAnimationFrame=e.webkitCancelAnimationFrame.bind(e),this.requestAnimationFrame=e.webkitRequestAnimationFrame.bind(e)):e.msRequestAnimationFrame?(this.cancelAnimationFrame=e.msCancelAnimationFrame.bind(e),this.requestAnimationFrame=e.msRequestAnimationFrame.bind(e)):e.oRequestAnimationFrame?(this.cancelAnimationFrame=e.oCancelAnimationFrame.bind(e),this.requestAnimationFrame=e.oRequestAnimationFrame.bind(e)):(this.cancelAnimationFrame=e.clearTimeout.bind(e),this.requestAnimationFrame=function(t){return e.setTimeout(t,1e3/60)})};t.RequestAnimationFrameDefinition=i,t.AnimationFrame=new i(n.root)},55122:function(e,t){var r=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},n=function(e){function t(){var t=e.call(this,"argument out of range");this.name=t.name="ArgumentOutOfRangeError",this.stack=t.stack,this.message=t.message}return r(t,e),t}(Error);t.ArgumentOutOfRangeError=n},8294:function(e,t){var r=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},n=function(e){function t(){var t=e.call(this,"no elements in sequence");this.name=t.name="EmptyError",this.stack=t.stack,this.message=t.message}return r(t,e),t}(Error);t.EmptyError=n},95685:(e,t)=>{var r=function(){function e(){this.values={}}return e.prototype.delete=function(e){return this.values[e]=null,!0},e.prototype.set=function(e,t){return this.values[e]=t,this},e.prototype.get=function(e){return this.values[e]},e.prototype.forEach=function(e,t){var r=this.values;for(var n in r)r.hasOwnProperty(n)&&null!==r[n]&&e.call(t,r[n],n)},e.prototype.clear=function(){this.values={}},e}();t.FastMap=r},49629:(e,t,r)=>{var n=r(21613),i=function(){function e(e){if(this.root=e,e.setImmediate&&"function"==typeof e.setImmediate)this.setImmediate=e.setImmediate.bind(e),this.clearImmediate=e.clearImmediate.bind(e);else{this.nextHandle=1,this.tasksByHandle={},this.currentlyRunningATask=!1,this.canUseProcessNextTick()?this.setImmediate=this.createProcessNextTickSetImmediate():this.canUsePostMessage()?this.setImmediate=this.createPostMessageSetImmediate():this.canUseMessageChannel()?this.setImmediate=this.createMessageChannelSetImmediate():this.canUseReadyStateChange()?this.setImmediate=this.createReadyStateChangeSetImmediate():this.setImmediate=this.createSetTimeoutSetImmediate();var t=function e(t){delete e.instance.tasksByHandle[t]};t.instance=this,this.clearImmediate=t}}return e.prototype.identify=function(e){return this.root.Object.prototype.toString.call(e)},e.prototype.canUseProcessNextTick=function(){return"[object process]"===this.identify(this.root.process)},e.prototype.canUseMessageChannel=function(){return Boolean(this.root.MessageChannel)},e.prototype.canUseReadyStateChange=function(){var e=this.root.document;return Boolean(e&&"onreadystatechange"in e.createElement("script"))},e.prototype.canUsePostMessage=function(){var e=this.root;if(e.postMessage&&!e.importScripts){var t=!0,r=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=r,t}return!1},e.prototype.partiallyApplied=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var n=function e(){var t=e.handler,r=e.args;"function"==typeof t?t.apply(void 0,r):new Function(""+t)()};return n.handler=e,n.args=t,n},e.prototype.addFromSetImmediateArguments=function(e){return this.tasksByHandle[this.nextHandle]=this.partiallyApplied.apply(void 0,e),this.nextHandle++},e.prototype.createProcessNextTickSetImmediate=function(){var e=function e(){var t=e.instance,r=t.addFromSetImmediateArguments(arguments);return t.root.process.nextTick(t.partiallyApplied(t.runIfPresent,r)),r};return e.instance=this,e},e.prototype.createPostMessageSetImmediate=function(){var e=this.root,t="setImmediate$"+e.Math.random()+"$",r=function r(n){var i=r.instance;n.source===e&&"string"==typeof n.data&&0===n.data.indexOf(t)&&i.runIfPresent(+n.data.slice(t.length))};r.instance=this,e.addEventListener("message",r,!1);var n=function e(){var t=e,r=t.messagePrefix,n=t.instance,i=n.addFromSetImmediateArguments(arguments);return n.root.postMessage(r+i,"*"),i};return n.instance=this,n.messagePrefix=t,n},e.prototype.runIfPresent=function(e){if(this.currentlyRunningATask)this.root.setTimeout(this.partiallyApplied(this.runIfPresent,e),0);else{var t=this.tasksByHandle[e];if(t){this.currentlyRunningATask=!0;try{t()}finally{this.clearImmediate(e),this.currentlyRunningATask=!1}}}},e.prototype.createMessageChannelSetImmediate=function(){var e=this,t=new this.root.MessageChannel;t.port1.onmessage=function(t){var r=t.data;e.runIfPresent(r)};var r=function e(){var t=e,r=t.channel,n=t.instance,i=n.addFromSetImmediateArguments(arguments);return r.port2.postMessage(i),i};return r.channel=t,r.instance=this,r},e.prototype.createReadyStateChangeSetImmediate=function(){var e=function e(){var t=e.instance,r=t.root,n=r.document,i=n.documentElement,o=t.addFromSetImmediateArguments(arguments),s=n.createElement("script");return s.onreadystatechange=function(){t.runIfPresent(o),s.onreadystatechange=null,i.removeChild(s),s=null},i.appendChild(s),o};return e.instance=this,e},e.prototype.createSetTimeoutSetImmediate=function(){var e=function e(){var t=e.instance,r=t.addFromSetImmediateArguments(arguments);return t.root.setTimeout(t.partiallyApplied(t.runIfPresent,r),0),r};return e.instance=this,e},e}();t.ImmediateDefinition=i,t.Immediate=new i(n.root)},13333:(e,t,r)=>{var n=r(21613),i=r(47086);t.Map=n.root.Map||i.MapPolyfill},47086:(e,t)=>{var r=function(){function e(){this.size=0,this._values=[],this._keys=[]}return e.prototype.get=function(e){var t=this._keys.indexOf(e);return-1===t?void 0:this._values[t]},e.prototype.set=function(e,t){var r=this._keys.indexOf(e);return-1===r?(this._keys.push(e),this._values.push(t),this.size++):this._values[r]=t,this},e.prototype.delete=function(e){var t=this._keys.indexOf(e);return-1!==t&&(this._values.splice(t,1),this._keys.splice(t,1),this.size--,!0)},e.prototype.clear=function(){this._keys.length=0,this._values.length=0,this.size=0},e.prototype.forEach=function(e,t){for(var r=0;r<this.size;r++)e.call(t,this._values[r],this._keys[r])},e}();t.MapPolyfill=r},34901:function(e,t){var r=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},n=function(e){function t(){var t=e.call(this,"object unsubscribed");this.name=t.name="ObjectUnsubscribedError",this.stack=t.stack,this.message=t.message}return r(t,e),t}(Error);t.ObjectUnsubscribedError=n},46422:(e,t,r)=>{var n=r(21613);function i(){return function(){function e(){this._values=[]}return e.prototype.add=function(e){this.has(e)||this._values.push(e)},e.prototype.has=function(e){return-1!==this._values.indexOf(e)},Object.defineProperty(e.prototype,"size",{get:function(){return this._values.length},enumerable:!0,configurable:!0}),e.prototype.clear=function(){this._values.length=0},e}()}t.minimalSetImpl=i,t.Set=n.root.Set||i()},12505:function(e,t){var r=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},n=function(e){function t(){var t=e.call(this,"Timeout has occurred");this.name=t.name="TimeoutError",this.stack=t.stack,this.message=t.message}return r(t,e),t}(Error);t.TimeoutError=n},71928:function(e,t){var r=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},n=function(e){function t(t){e.call(this),this.errors=t;var r=Error.call(this,t?t.length+" errors occurred during unsubscription:\n  "+t.map((function(e,t){return t+1+") "+e.toString()})).join("\n  "):"");this.name=r.name="UnsubscriptionError",this.stack=r.stack,this.message=r.message}return r(t,e),t}(Error);t.UnsubscriptionError=n},1774:(e,t)=>{t.applyMixins=function(e,t){for(var r=0,n=t.length;r<n;r++)for(var i=t[r],o=Object.getOwnPropertyNames(i.prototype),s=0,a=o.length;s<a;s++){var c=o[s];e.prototype[c]=i.prototype[c]}}},31124:(e,t,r)=>{var n=r(21613);function i(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];for(var n=t.length,i=0;i<n;i++){var o=t[i];for(var s in o)o.hasOwnProperty(s)&&(e[s]=o[s])}return e}function o(e){return e.Object.assign||i}t.assignImpl=i,t.getAssign=o,t.assign=o(n.root)},51491:(e,t)=>{t.errorObject={e:{}}},20642:(e,t)=>{t.identity=function(e){return e}},70002:(e,t)=>{t.isArray=Array.isArray||function(e){return e&&"number"==typeof e.length}},79289:(e,t)=>{t.isArrayLike=function(e){return e&&"number"==typeof e.length}},28595:(e,t)=>{t.isDate=function(e){return e instanceof Date&&!isNaN(+e)}},78451:(e,t)=>{t.isFunction=function(e){return"function"==typeof e}},54137:(e,t,r)=>{var n=r(70002);t.isNumeric=function(e){return!n.isArray(e)&&e-parseFloat(e)+1>=0}},84014:(e,t)=>{t.isObject=function(e){return null!=e&&"object"==typeof e}},22808:(e,t)=>{t.isPromise=function(e){return e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}},24469:(e,t)=>{t.isScheduler=function(e){return e&&"function"==typeof e.schedule}},40777:(e,t)=>{t.noop=function(){}},87005:(e,t)=>{t.not=function(e,t){function r(){return!r.pred.apply(r.thisArg,arguments)}return r.pred=e,r.thisArg=t,r}},92611:(e,t,r)=>{var n=r(40777);function i(e){return e?1===e.length?e[0]:function(t){return e.reduce((function(e,t){return t(e)}),t)}:n.noop}t.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return i(e)},t.pipeFromArray=i},21613:(e,t,r)=>{var n="undefined"!=typeof window&&window,i="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,o=void 0!==r.g&&r.g,s=n||o||i;t.root=s,function(){if(!s)throw new Error("RxJS could not find any global context (window, self, global)")}()},51302:(e,t,r)=>{var n=r(21613),i=r(79289),o=r(22808),s=r(84014),a=r(16561),c=r(51474),u=r(1403),f=r(62086);t.subscribeToResult=function(e,t,r,l){var h=new u.InnerSubscriber(e,r,l);if(h.closed)return null;if(t instanceof a.Observable)return t._isScalar?(h.next(t.value),h.complete(),null):(h.syncErrorThrowable=!0,t.subscribe(h));if(i.isArrayLike(t)){for(var d=0,p=t.length;d<p&&!h.closed;d++)h.next(t[d]);h.closed||h.complete()}else{if(o.isPromise(t))return t.then((function(e){h.closed||(h.next(e),h.complete())}),(function(e){return h.error(e)})).then(null,(function(e){n.root.setTimeout((function(){throw e}))})),h;if(t&&"function"==typeof t[c.iterator])for(var b=t[c.iterator]();;){var y=b.next();if(y.done){h.complete();break}if(h.next(y.value),h.closed)break}else if(t&&"function"==typeof t[f.observable]){var m=t[f.observable]();if("function"==typeof m.subscribe)return m.subscribe(new u.InnerSubscriber(e,r,l));h.error(new TypeError("Provided object does not correctly implement Symbol.observable"))}else{var v="You provided "+(s.isObject(t)?"an invalid object":"'"+t+"'")+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.";h.error(new TypeError(v))}}return null}},74119:(e,t,r)=>{var n=r(71975),i=r(98130),o=r(83847);t.toSubscriber=function(e,t,r){if(e){if(e instanceof n.Subscriber)return e;if(e[i.rxSubscriber])return e[i.rxSubscriber]()}return e||t||r?new n.Subscriber(e,t,r):new n.Subscriber(o.empty)}},27611:(e,t,r)=>{var n,i=r(51491);function o(){try{return n.apply(this,arguments)}catch(e){return i.errorObject.e=e,i.errorObject}}t.tryCatch=function(e){return n=e,o}},49685:(e,t,r)=>{var n=r(97866),i=n.Buffer;function o(e,t){for(var r in e)t[r]=e[r]}function s(e,t,r){return i(e,t,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=n:(o(n,t),t.Buffer=s),s.prototype=Object.create(i.prototype),o(i,s),s.from=function(e,t,r){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,r)},s.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError("Argument must be a number");var n=i(e);return void 0!==t?"string"==typeof r?n.fill(t,r):n.fill(t):n.fill(0),n},s.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},s.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n.SlowBuffer(e)}},74312:(e,t,r)=>{var n,i=r(12695),o=r(97866),s=o.Buffer,a={};for(n in o)o.hasOwnProperty(n)&&"SlowBuffer"!==n&&"Buffer"!==n&&(a[n]=o[n]);var c=a.Buffer={};for(n in s)s.hasOwnProperty(n)&&"allocUnsafe"!==n&&"allocUnsafeSlow"!==n&&(c[n]=s[n]);if(a.Buffer.prototype=s.prototype,c.from&&c.from!==Uint8Array.from||(c.from=function(e,t,r){if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type '+typeof e);if(e&&void 0===e.length)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);return s(e,t,r)}),c.alloc||(c.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError('The "size" argument must be of type number. Received type '+typeof e);if(e<0||e>=2*(1<<30))throw new RangeError('The value "'+e+'" is invalid for option "size"');var n=s(e);return t&&0!==t.length?"string"==typeof r?n.fill(t,r):n.fill(t):n.fill(0),n}),!a.kStringMaxLength)try{a.kStringMaxLength=i.binding("buffer").kStringMaxLength}catch(e){}a.constants||(a.constants={MAX_LENGTH:a.kMaxLength},a.kStringMaxLength&&(a.constants.MAX_STRING_LENGTH=a.kStringMaxLength)),e.exports=a},14753:(e,t,r)=>{var n=r(49685).Buffer;function i(e,t){this._block=n.alloc(e),this._finalSize=t,this._blockSize=e,this._len=0}i.prototype.update=function(e,t){"string"==typeof e&&(t=t||"utf8",e=n.from(e,t));for(var r=this._block,i=this._blockSize,o=e.length,s=this._len,a=0;a<o;){for(var c=s%i,u=Math.min(o-a,i-c),f=0;f<u;f++)r[c+f]=e[a+f];a+=u,(s+=u)%i==0&&this._update(r)}return this._len+=o,this},i.prototype.digest=function(e){var t=this._len%this._blockSize;this._block[t]=128,this._block.fill(0,t+1),t>=this._finalSize&&(this._update(this._block),this._block.fill(0));var r=8*this._len;if(r<=4294967295)this._block.writeUInt32BE(r,this._blockSize-4);else{var n=(4294967295&r)>>>0,i=(r-n)/4294967296;this._block.writeUInt32BE(i,this._blockSize-8),this._block.writeUInt32BE(n,this._blockSize-4)}this._update(this._block);var o=this._hash();return e?o.toString(e):o},i.prototype._update=function(){throw new Error("_update must be implemented by subclass")},e.exports=i},8909:(e,t,r)=>{var n=e.exports=function(e){e=e.toLowerCase();var t=n[e];if(!t)throw new Error(e+" is not supported (we accept pull requests)");return new t};n.sha=r(64712),n.sha1=r(89769),n.sha224=r(56794),n.sha256=r(31485),n.sha384=r(51347),n.sha512=r(24945)},64712:(e,t,r)=>{var n=r(23730),i=r(14753),o=r(49685).Buffer,s=[1518500249,1859775393,-1894007588,-899497514],a=new Array(80);function c(){this.init(),this._w=a,i.call(this,64,56)}function u(e){return e<<30|e>>>2}function f(e,t,r,n){return 0===e?t&r|~t&n:2===e?t&r|t&n|r&n:t^r^n}n(c,i),c.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},c.prototype._update=function(e){for(var t,r=this._w,n=0|this._a,i=0|this._b,o=0|this._c,a=0|this._d,c=0|this._e,l=0;l<16;++l)r[l]=e.readInt32BE(4*l);for(;l<80;++l)r[l]=r[l-3]^r[l-8]^r[l-14]^r[l-16];for(var h=0;h<80;++h){var d=~~(h/20),p=0|((t=n)<<5|t>>>27)+f(d,i,o,a)+c+r[h]+s[d];c=a,a=o,o=u(i),i=n,n=p}this._a=n+this._a|0,this._b=i+this._b|0,this._c=o+this._c|0,this._d=a+this._d|0,this._e=c+this._e|0},c.prototype._hash=function(){var e=o.allocUnsafe(20);return e.writeInt32BE(0|this._a,0),e.writeInt32BE(0|this._b,4),e.writeInt32BE(0|this._c,8),e.writeInt32BE(0|this._d,12),e.writeInt32BE(0|this._e,16),e},e.exports=c},89769:(e,t,r)=>{var n=r(23730),i=r(14753),o=r(49685).Buffer,s=[1518500249,1859775393,-1894007588,-899497514],a=new Array(80);function c(){this.init(),this._w=a,i.call(this,64,56)}function u(e){return e<<5|e>>>27}function f(e){return e<<30|e>>>2}function l(e,t,r,n){return 0===e?t&r|~t&n:2===e?t&r|t&n|r&n:t^r^n}n(c,i),c.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},c.prototype._update=function(e){for(var t,r=this._w,n=0|this._a,i=0|this._b,o=0|this._c,a=0|this._d,c=0|this._e,h=0;h<16;++h)r[h]=e.readInt32BE(4*h);for(;h<80;++h)r[h]=(t=r[h-3]^r[h-8]^r[h-14]^r[h-16])<<1|t>>>31;for(var d=0;d<80;++d){var p=~~(d/20),b=u(n)+l(p,i,o,a)+c+r[d]+s[p]|0;c=a,a=o,o=f(i),i=n,n=b}this._a=n+this._a|0,this._b=i+this._b|0,this._c=o+this._c|0,this._d=a+this._d|0,this._e=c+this._e|0},c.prototype._hash=function(){var e=o.allocUnsafe(20);return e.writeInt32BE(0|this._a,0),e.writeInt32BE(0|this._b,4),e.writeInt32BE(0|this._c,8),e.writeInt32BE(0|this._d,12),e.writeInt32BE(0|this._e,16),e},e.exports=c},56794:(e,t,r)=>{var n=r(23730),i=r(31485),o=r(14753),s=r(49685).Buffer,a=new Array(64);function c(){this.init(),this._w=a,o.call(this,64,56)}n(c,i),c.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},c.prototype._hash=function(){var e=s.allocUnsafe(28);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e},e.exports=c},31485:(e,t,r)=>{var n=r(23730),i=r(14753),o=r(49685).Buffer,s=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],a=new Array(64);function c(){this.init(),this._w=a,i.call(this,64,56)}function u(e,t,r){return r^e&(t^r)}function f(e,t,r){return e&t|r&(e|t)}function l(e){return(e>>>2|e<<30)^(e>>>13|e<<19)^(e>>>22|e<<10)}function h(e){return(e>>>6|e<<26)^(e>>>11|e<<21)^(e>>>25|e<<7)}function d(e){return(e>>>7|e<<25)^(e>>>18|e<<14)^e>>>3}n(c,i),c.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},c.prototype._update=function(e){for(var t,r=this._w,n=0|this._a,i=0|this._b,o=0|this._c,a=0|this._d,c=0|this._e,p=0|this._f,b=0|this._g,y=0|this._h,m=0;m<16;++m)r[m]=e.readInt32BE(4*m);for(;m<64;++m)r[m]=0|(((t=r[m-2])>>>17|t<<15)^(t>>>19|t<<13)^t>>>10)+r[m-7]+d(r[m-15])+r[m-16];for(var v=0;v<64;++v){var g=y+h(c)+u(c,p,b)+s[v]+r[v]|0,w=l(n)+f(n,i,o)|0;y=b,b=p,p=c,c=a+g|0,a=o,o=i,i=n,n=g+w|0}this._a=n+this._a|0,this._b=i+this._b|0,this._c=o+this._c|0,this._d=a+this._d|0,this._e=c+this._e|0,this._f=p+this._f|0,this._g=b+this._g|0,this._h=y+this._h|0},c.prototype._hash=function(){var e=o.allocUnsafe(32);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e.writeInt32BE(this._h,28),e},e.exports=c},51347:(e,t,r)=>{var n=r(23730),i=r(24945),o=r(14753),s=r(49685).Buffer,a=new Array(160);function c(){this.init(),this._w=a,o.call(this,128,112)}n(c,i),c.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},c.prototype._hash=function(){var e=s.allocUnsafe(48);function t(t,r,n){e.writeInt32BE(t,n),e.writeInt32BE(r,n+4)}return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),e},e.exports=c},24945:(e,t,r)=>{var n=r(23730),i=r(14753),o=r(49685).Buffer,s=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],a=new Array(160);function c(){this.init(),this._w=a,i.call(this,128,112)}function u(e,t,r){return r^e&(t^r)}function f(e,t,r){return e&t|r&(e|t)}function l(e,t){return(e>>>28|t<<4)^(t>>>2|e<<30)^(t>>>7|e<<25)}function h(e,t){return(e>>>14|t<<18)^(e>>>18|t<<14)^(t>>>9|e<<23)}function d(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^e>>>7}function p(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^(e>>>7|t<<25)}function b(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^e>>>6}function y(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^(e>>>6|t<<26)}function m(e,t){return e>>>0<t>>>0?1:0}n(c,i),c.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},c.prototype._update=function(e){for(var t=this._w,r=0|this._ah,n=0|this._bh,i=0|this._ch,o=0|this._dh,a=0|this._eh,c=0|this._fh,v=0|this._gh,g=0|this._hh,w=0|this._al,_=0|this._bl,S=0|this._cl,E=0|this._dl,O=0|this._el,T=0|this._fl,x=0|this._gl,A=0|this._hl,M=0;M<32;M+=2)t[M]=e.readInt32BE(4*M),t[M+1]=e.readInt32BE(4*M+4);for(;M<160;M+=2){var P=t[M-30],j=t[M-30+1],k=d(P,j),$=p(j,P),C=b(P=t[M-4],j=t[M-4+1]),I=y(j,P),R=t[M-14],N=t[M-14+1],L=t[M-32],D=t[M-32+1],F=$+N|0,B=k+R+m(F,$)|0;B=(B=B+C+m(F=F+I|0,I)|0)+L+m(F=F+D|0,D)|0,t[M]=B,t[M+1]=F}for(var U=0;U<160;U+=2){B=t[U],F=t[U+1];var q=f(r,n,i),z=f(w,_,S),V=l(r,w),H=l(w,r),W=h(a,O),G=h(O,a),K=s[U],J=s[U+1],Y=u(a,c,v),X=u(O,T,x),Z=A+G|0,Q=g+W+m(Z,A)|0;Q=(Q=(Q=Q+Y+m(Z=Z+X|0,X)|0)+K+m(Z=Z+J|0,J)|0)+B+m(Z=Z+F|0,F)|0;var ee=H+z|0,te=V+q+m(ee,H)|0;g=v,A=x,v=c,x=T,c=a,T=O,a=o+Q+m(O=E+Z|0,E)|0,o=i,E=S,i=n,S=_,n=r,_=w,r=Q+te+m(w=Z+ee|0,Z)|0}this._al=this._al+w|0,this._bl=this._bl+_|0,this._cl=this._cl+S|0,this._dl=this._dl+E|0,this._el=this._el+O|0,this._fl=this._fl+T|0,this._gl=this._gl+x|0,this._hl=this._hl+A|0,this._ah=this._ah+r+m(this._al,w)|0,this._bh=this._bh+n+m(this._bl,_)|0,this._ch=this._ch+i+m(this._cl,S)|0,this._dh=this._dh+o+m(this._dl,E)|0,this._eh=this._eh+a+m(this._el,O)|0,this._fh=this._fh+c+m(this._fl,T)|0,this._gh=this._gh+v+m(this._gl,x)|0,this._hh=this._hh+g+m(this._hl,A)|0},c.prototype._hash=function(){var e=o.allocUnsafe(64);function t(t,r,n){e.writeInt32BE(t,n),e.writeInt32BE(r,n+4)}return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),t(this._gh,this._gl,48),t(this._hh,this._hl,56),e},e.exports=c},61422:e=>{e.exports=(e,t)=>{if("string"!=typeof e||"string"!=typeof t)throw new TypeError("Expected the arguments to be of type `string`");if(""===t)return[e];const r=e.indexOf(t);return-1===r?[e]:[e.slice(0,r),e.slice(r+t.length)]}},90449:(e,t,r)=>{var n=r(98931),i=r(67343),o=r(6630),s=r(19372),a=r(12155),c=t;c.request=function(e,t){e="string"==typeof e?a.parse(e):o(e);var i=-1===r.g.location.protocol.search(/^https?:$/)?"http:":"",s=e.protocol||i,c=e.hostname||e.host,u=e.port,f=e.path||"/";c&&-1!==c.indexOf(":")&&(c="["+c+"]"),e.url=(c?s+"//"+c:"")+(u?":"+u:"")+f,e.method=(e.method||"GET").toUpperCase(),e.headers=e.headers||{};var l=new n(e);return t&&l.on("response",t),l},c.get=function(e,t){var r=c.request(e,t);return r.end(),r},c.ClientRequest=n,c.IncomingMessage=i.IncomingMessage,c.Agent=function(){},c.Agent.defaultMaxSockets=4,c.globalAgent=new c.Agent,c.STATUS_CODES=s,c.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"]},56812:(e,t,r)=>{var n;function i(){if(void 0!==n)return n;if(r.g.XMLHttpRequest){n=new r.g.XMLHttpRequest;try{n.open("GET",r.g.XDomainRequest?"/":"https://example.com")}catch(e){n=null}}else n=null;return n}function o(e){var t=i();if(!t)return!1;try{return t.responseType=e,t.responseType===e}catch(e){}return!1}function s(e){return"function"==typeof e}t.fetch=s(r.g.fetch)&&s(r.g.ReadableStream),t.writableStream=s(r.g.WritableStream),t.abortController=s(r.g.AbortController),t.arraybuffer=t.fetch||o("arraybuffer"),t.msstream=!t.fetch&&o("ms-stream"),t.mozchunkedarraybuffer=!t.fetch&&o("moz-chunked-arraybuffer"),t.overrideMimeType=t.fetch||!!i()&&s(i().overrideMimeType),n=null},98931:(e,t,r)=>{var n=r(97866).Buffer,i=r(12695),o=r(56812),s=r(23730),a=r(67343),c=r(29142),u=a.IncomingMessage,f=a.readyStates,l=e.exports=function(e){var t,r=this;c.Writable.call(r),r._opts=e,r._body=[],r._headers={},e.auth&&r.setHeader("Authorization","Basic "+n.from(e.auth).toString("base64")),Object.keys(e.headers).forEach((function(t){r.setHeader(t,e.headers[t])}));var i=!0;if("disable-fetch"===e.mode||"requestTimeout"in e&&!o.abortController)i=!1,t=!0;else if("prefer-streaming"===e.mode)t=!1;else if("allow-wrong-content-type"===e.mode)t=!o.overrideMimeType;else{if(e.mode&&"default"!==e.mode&&"prefer-fast"!==e.mode)throw new Error("Invalid value for opts.mode");t=!0}r._mode=function(e,t){return o.fetch&&t?"fetch":o.mozchunkedarraybuffer?"moz-chunked-arraybuffer":o.msstream?"ms-stream":o.arraybuffer&&e?"arraybuffer":"text"}(t,i),r._fetchTimer=null,r._socketTimeout=null,r._socketTimer=null,r.on("finish",(function(){r._onFinish()}))};s(l,c.Writable),l.prototype.setHeader=function(e,t){var r=e.toLowerCase();-1===h.indexOf(r)&&(this._headers[r]={name:e,value:t})},l.prototype.getHeader=function(e){var t=this._headers[e.toLowerCase()];return t?t.value:null},l.prototype.removeHeader=function(e){delete this._headers[e.toLowerCase()]},l.prototype._onFinish=function(){var e=this;if(!e._destroyed){var t=e._opts;"timeout"in t&&0!==t.timeout&&e.setTimeout(t.timeout);var n=e._headers,s=null;"GET"!==t.method&&"HEAD"!==t.method&&(s=new Blob(e._body,{type:(n["content-type"]||{}).value||""}));var a=[];if(Object.keys(n).forEach((function(e){var t=n[e].name,r=n[e].value;Array.isArray(r)?r.forEach((function(e){a.push([t,e])})):a.push([t,r])})),"fetch"===e._mode){var c=null;if(o.abortController){var u=new AbortController;c=u.signal,e._fetchAbortController=u,"requestTimeout"in t&&0!==t.requestTimeout&&(e._fetchTimer=r.g.setTimeout((function(){e.emit("requestTimeout"),e._fetchAbortController&&e._fetchAbortController.abort()}),t.requestTimeout))}r.g.fetch(e._opts.url,{method:e._opts.method,headers:a,body:s||void 0,mode:"cors",credentials:t.withCredentials?"include":"same-origin",signal:c}).then((function(t){e._fetchResponse=t,e._resetTimers(!1),e._connect()}),(function(t){e._resetTimers(!0),e._destroyed||e.emit("error",t)}))}else{var l=e._xhr=new r.g.XMLHttpRequest;try{l.open(e._opts.method,e._opts.url,!0)}catch(t){return void i.nextTick((function(){e.emit("error",t)}))}"responseType"in l&&(l.responseType=e._mode),"withCredentials"in l&&(l.withCredentials=!!t.withCredentials),"text"===e._mode&&"overrideMimeType"in l&&l.overrideMimeType("text/plain; charset=x-user-defined"),"requestTimeout"in t&&(l.timeout=t.requestTimeout,l.ontimeout=function(){e.emit("requestTimeout")}),a.forEach((function(e){l.setRequestHeader(e[0],e[1])})),e._response=null,l.onreadystatechange=function(){switch(l.readyState){case f.LOADING:case f.DONE:e._onXHRProgress()}},"moz-chunked-arraybuffer"===e._mode&&(l.onprogress=function(){e._onXHRProgress()}),l.onerror=function(){e._destroyed||(e._resetTimers(!0),e.emit("error",new Error("XHR error")))};try{l.send(s)}catch(t){return void i.nextTick((function(){e.emit("error",t)}))}}}},l.prototype._onXHRProgress=function(){var e=this;e._resetTimers(!1),function(e){try{var t=e.status;return null!==t&&0!==t}catch(e){return!1}}(e._xhr)&&!e._destroyed&&(e._response||e._connect(),e._response._onXHRProgress(e._resetTimers.bind(e)))},l.prototype._connect=function(){var e=this;e._destroyed||(e._response=new u(e._xhr,e._fetchResponse,e._mode,e._resetTimers.bind(e)),e._response.on("error",(function(t){e.emit("error",t)})),e.emit("response",e._response))},l.prototype._write=function(e,t,r){this._body.push(e),r()},l.prototype._resetTimers=function(e){var t=this;r.g.clearTimeout(t._socketTimer),t._socketTimer=null,e?(r.g.clearTimeout(t._fetchTimer),t._fetchTimer=null):t._socketTimeout&&(t._socketTimer=r.g.setTimeout((function(){t.emit("timeout")}),t._socketTimeout))},l.prototype.abort=l.prototype.destroy=function(e){var t=this;t._destroyed=!0,t._resetTimers(!0),t._response&&(t._response._destroyed=!0),t._xhr?t._xhr.abort():t._fetchAbortController&&t._fetchAbortController.abort(),e&&t.emit("error",e)},l.prototype.end=function(e,t,r){"function"==typeof e&&(r=e,e=void 0),c.Writable.prototype.end.call(this,e,t,r)},l.prototype.setTimeout=function(e,t){var r=this;t&&r.once("timeout",t),r._socketTimeout=e,r._resetTimers(!1)},l.prototype.flushHeaders=function(){},l.prototype.setNoDelay=function(){},l.prototype.setSocketKeepAlive=function(){};var h=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"]},67343:(e,t,r)=>{var n=r(12695),i=r(97866).Buffer,o=r(56812),s=r(23730),a=r(29142),c=t.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},u=t.IncomingMessage=function(e,t,r,s){var c=this;if(a.Readable.call(c),c._mode=r,c.headers={},c.rawHeaders=[],c.trailers={},c.rawTrailers=[],c.on("end",(function(){n.nextTick((function(){c.emit("close")}))})),"fetch"===r){if(c._fetchResponse=t,c.url=t.url,c.statusCode=t.status,c.statusMessage=t.statusText,t.headers.forEach((function(e,t){c.headers[t.toLowerCase()]=e,c.rawHeaders.push(t,e)})),o.writableStream){var u=new WritableStream({write:function(e){return s(!1),new Promise((function(t,r){c._destroyed?r():c.push(i.from(e))?t():c._resumeFetch=t}))},close:function(){s(!0),c._destroyed||c.push(null)},abort:function(e){s(!0),c._destroyed||c.emit("error",e)}});try{return void t.body.pipeTo(u).catch((function(e){s(!0),c._destroyed||c.emit("error",e)}))}catch(e){}}var f=t.body.getReader();!function e(){f.read().then((function(t){c._destroyed||(s(t.done),t.done?c.push(null):(c.push(i.from(t.value)),e()))})).catch((function(e){s(!0),c._destroyed||c.emit("error",e)}))}()}else if(c._xhr=e,c._pos=0,c.url=e.responseURL,c.statusCode=e.status,c.statusMessage=e.statusText,e.getAllResponseHeaders().split(/\r?\n/).forEach((function(e){var t=e.match(/^([^:]+):\s*(.*)/);if(t){var r=t[1].toLowerCase();"set-cookie"===r?(void 0===c.headers[r]&&(c.headers[r]=[]),c.headers[r].push(t[2])):void 0!==c.headers[r]?c.headers[r]+=", "+t[2]:c.headers[r]=t[2],c.rawHeaders.push(t[1],t[2])}})),c._charset="x-user-defined",!o.overrideMimeType){var l=c.rawHeaders["mime-type"];if(l){var h=l.match(/;\s*charset=([^;])(;|$)/);h&&(c._charset=h[1].toLowerCase())}c._charset||(c._charset="utf-8")}};s(u,a.Readable),u.prototype._read=function(){var e=this._resumeFetch;e&&(this._resumeFetch=null,e())},u.prototype._onXHRProgress=function(e){var t=this,n=t._xhr,o=null;switch(t._mode){case"text":if((o=n.responseText).length>t._pos){var s=o.substr(t._pos);if("x-user-defined"===t._charset){for(var a=i.alloc(s.length),u=0;u<s.length;u++)a[u]=255&s.charCodeAt(u);t.push(a)}else t.push(s,t._charset);t._pos=o.length}break;case"arraybuffer":if(n.readyState!==c.DONE||!n.response)break;o=n.response,t.push(i.from(new Uint8Array(o)));break;case"moz-chunked-arraybuffer":if(o=n.response,n.readyState!==c.LOADING||!o)break;t.push(i.from(new Uint8Array(o)));break;case"ms-stream":if(o=n.response,n.readyState!==c.LOADING)break;var f=new r.g.MSStreamReader;f.onprogress=function(){f.result.byteLength>t._pos&&(t.push(i.from(new Uint8Array(f.result.slice(t._pos)))),t._pos=f.result.byteLength)},f.onload=function(){e(!0),t.push(null)},f.readAsArrayBuffer(o)}t._xhr.readyState===c.DONE&&"ms-stream"!==t._mode&&(e(!0),t.push(null))}},93218:e=>{e.exports=e=>encodeURIComponent(e).replace(/[!'()*]/g,(e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`))},37361:(e,t,r)=>{var n=r(49685).Buffer,i=n.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(n.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=c,this.end=u,t=4;break;case"utf8":this.fillLast=a,t=4;break;case"base64":this.text=f,this.end=l,t=3;break;default:return this.write=h,void(this.end=d)}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(t)}function s(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function a(e){var t=this.lastTotal-this.lastNeed,r=function(e,t,r){if(128!=(192&t[0]))return e.lastNeed=0,"";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,""}}(this,e);return void 0!==r?r:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function c(e,t){if((e.length-t)%2==0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function u(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function f(e,t){var r=(e.length-t)%3;return 0===r?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function l(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function h(e){return e.toString(this.encoding)}function d(e){return e&&e.length?this.write(e):""}t.StringDecoder=o,o.prototype.write=function(e){if(0===e.length)return"";var t,r;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},o.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"":t},o.prototype.text=function(e,t){var r=function(e,t,r){var n=t.length-1;if(n<r)return 0;var i=s(t[n]);return i>=0?(i>0&&(e.lastNeed=i-1),i):--n<r||-2===i?0:(i=s(t[n]))>=0?(i>0&&(e.lastNeed=i-2),i):--n<r||-2===i?0:(i=s(t[n]))>=0?(i>0&&(2===i?i=0:e.lastNeed=i-3),i):0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)},o.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},3654:function(e,t){!function(e){function t(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];if(t.length>1){t[0]=t[0].slice(0,-1);for(var n=t.length-1,i=1;i<n;++i)t[i]=t[i].slice(1,-1);return t[n]=t[n].slice(1),t.join("")}return t[0]}function r(e){return"(?:"+e+")"}function n(e){return void 0===e?"undefined":null===e?"null":Object.prototype.toString.call(e).split(" ").pop().split("]").shift().toLowerCase()}function i(e){return e.toUpperCase()}function o(e){var n="[A-Za-z]",i="[0-9]",o=t(i,"[A-Fa-f]"),s=r(r("%[EFef]"+o+"%"+o+o+"%"+o+o)+"|"+r("%[89A-Fa-f]"+o+"%"+o+o)+"|"+r("%"+o+o)),a="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",c=t("[\\:\\/\\?\\#\\[\\]\\@]",a),u=e?"[\\uE000-\\uF8FF]":"[]",f=t(n,i,"[\\-\\.\\_\\~]",e?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]"),l=r(n+t(n,i,"[\\+\\-\\.]")+"*"),h=r(r(s+"|"+t(f,a,"[\\:]"))+"*"),d=(r(r("25[0-5]")+"|"+r("2[0-4][0-9]")+"|"+r("1[0-9][0-9]")+"|"+r("[1-9][0-9]")+"|"+i),r(r("25[0-5]")+"|"+r("2[0-4][0-9]")+"|"+r("1[0-9][0-9]")+"|"+r("0?[1-9][0-9]")+"|0?0?"+i)),p=r(d+"\\."+d+"\\."+d+"\\."+d),b=r(o+"{1,4}"),y=r(r(b+"\\:"+b)+"|"+p),m=r(r(b+"\\:")+"{6}"+y),v=r("\\:\\:"+r(b+"\\:")+"{5}"+y),g=r(r(b)+"?\\:\\:"+r(b+"\\:")+"{4}"+y),w=r(r(r(b+"\\:")+"{0,1}"+b)+"?\\:\\:"+r(b+"\\:")+"{3}"+y),_=r(r(r(b+"\\:")+"{0,2}"+b)+"?\\:\\:"+r(b+"\\:")+"{2}"+y),S=r(r(r(b+"\\:")+"{0,3}"+b)+"?\\:\\:"+b+"\\:"+y),E=r(r(r(b+"\\:")+"{0,4}"+b)+"?\\:\\:"+y),O=r(r(r(b+"\\:")+"{0,5}"+b)+"?\\:\\:"+b),T=r(r(r(b+"\\:")+"{0,6}"+b)+"?\\:\\:"),x=r([m,v,g,w,_,S,E,O,T].join("|")),A=r(r(f+"|"+s)+"+"),M=(r(x+"\\%25"+A),r(x+r("\\%25|\\%(?!"+o+"{2})")+A)),P=r("[vV]"+o+"+\\."+t(f,a,"[\\:]")+"+"),j=r("\\["+r(M+"|"+x+"|"+P)+"\\]"),k=r(r(s+"|"+t(f,a))+"*"),$=r(j+"|"+p+"(?!"+k+")|"+k),C=r("[0-9]*"),I=r(r(h+"@")+"?"+$+r("\\:"+C)+"?"),R=r(s+"|"+t(f,a,"[\\:\\@]")),N=r(R+"*"),L=r(R+"+"),D=r(r(s+"|"+t(f,a,"[\\@]"))+"+"),F=r(r("\\/"+N)+"*"),B=r("\\/"+r(L+F)+"?"),U=r(D+F),q=r(L+F),z="(?!"+R+")",V=(r(F+"|"+B+"|"+U+"|"+q+"|"+z),r(r(R+"|"+t("[\\/\\?]",u))+"*")),H=r(r(R+"|[\\/\\?]")+"*"),W=r(r("\\/\\/"+I+F)+"|"+B+"|"+q+"|"+z),G=r(l+"\\:"+W+r("\\?"+V)+"?"+r("\\#"+H)+"?"),K=r(r("\\/\\/"+I+F)+"|"+B+"|"+U+"|"+z),J=r(K+r("\\?"+V)+"?"+r("\\#"+H)+"?");return r(G+"|"+J),r(l+"\\:"+W+r("\\?"+V)+"?"),r(r("\\/\\/("+r("("+h+")@")+"?("+$+")"+r("\\:("+C+")")+"?)")+"?("+F+"|"+B+"|"+q+"|"+z+")"),r("\\?("+V+")"),r("\\#("+H+")"),r(r("\\/\\/("+r("("+h+")@")+"?("+$+")"+r("\\:("+C+")")+"?)")+"?("+F+"|"+B+"|"+U+"|"+z+")"),r("\\?("+V+")"),r("\\#("+H+")"),r(r("\\/\\/("+r("("+h+")@")+"?("+$+")"+r("\\:("+C+")")+"?)")+"?("+F+"|"+B+"|"+q+"|"+z+")"),r("\\?("+V+")"),r("\\#("+H+")"),r("("+h+")@"),r("\\:("+C+")"),{NOT_SCHEME:new RegExp(t("[^]",n,i,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(t("[^\\%\\:]",f,a),"g"),NOT_HOST:new RegExp(t("[^\\%\\[\\]\\:]",f,a),"g"),NOT_PATH:new RegExp(t("[^\\%\\/\\:\\@]",f,a),"g"),NOT_PATH_NOSCHEME:new RegExp(t("[^\\%\\/\\@]",f,a),"g"),NOT_QUERY:new RegExp(t("[^\\%]",f,a,"[\\:\\@\\/\\?]",u),"g"),NOT_FRAGMENT:new RegExp(t("[^\\%]",f,a,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(t("[^]",f,a),"g"),UNRESERVED:new RegExp(f,"g"),OTHER_CHARS:new RegExp(t("[^\\%]",f,c),"g"),PCT_ENCODED:new RegExp(s,"g"),IPV4ADDRESS:new RegExp("^("+p+")$"),IPV6ADDRESS:new RegExp("^\\[?("+x+")"+r(r("\\%25|\\%(?!"+o+"{2})")+"("+A+")")+"?\\]?$")}}var s=o(!1),a=o(!0),c=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,i=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(n=(s=a.next()).done)&&(r.push(s.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{!n&&a.return&&a.return()}finally{if(i)throw o}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},u=2147483647,f=36,l=/^xn--/,h=/[^\0-\x7E]/,d=/[\x2E\u3002\uFF0E\uFF61]/g,p={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},b=Math.floor,y=String.fromCharCode;function m(e){throw new RangeError(p[e])}function v(e,t){var r=e.split("@"),n="";return r.length>1&&(n=r[0]+"@",e=r[1]),n+function(e,t){for(var r=[],n=e.length;n--;)r[n]=t(e[n]);return r}((e=e.replace(d,".")).split("."),t).join(".")}function g(e){for(var t=[],r=0,n=e.length;r<n;){var i=e.charCodeAt(r++);if(i>=55296&&i<=56319&&r<n){var o=e.charCodeAt(r++);56320==(64512&o)?t.push(((1023&i)<<10)+(1023&o)+65536):(t.push(i),r--)}else t.push(i)}return t}var w=function(e,t){return e+22+75*(e<26)-((0!=t)<<5)},_=function(e,t,r){var n=0;for(e=r?b(e/700):e>>1,e+=b(e/t);e>455;n+=f)e=b(e/35);return b(n+36*e/(e+38))},S=function(e){var t,r=[],n=e.length,i=0,o=128,s=72,a=e.lastIndexOf("-");a<0&&(a=0);for(var c=0;c<a;++c)e.charCodeAt(c)>=128&&m("not-basic"),r.push(e.charCodeAt(c));for(var l=a>0?a+1:0;l<n;){for(var h=i,d=1,p=f;;p+=f){l>=n&&m("invalid-input");var y=(t=e.charCodeAt(l++))-48<10?t-22:t-65<26?t-65:t-97<26?t-97:f;(y>=f||y>b((u-i)/d))&&m("overflow"),i+=y*d;var v=p<=s?1:p>=s+26?26:p-s;if(y<v)break;var g=f-v;d>b(u/g)&&m("overflow"),d*=g}var w=r.length+1;s=_(i-h,w,0==h),b(i/w)>u-o&&m("overflow"),o+=b(i/w),i%=w,r.splice(i++,0,o)}return String.fromCodePoint.apply(String,r)},E=function(e){var t=[],r=(e=g(e)).length,n=128,i=0,o=72,s=!0,a=!1,c=void 0;try{for(var l,h=e[Symbol.iterator]();!(s=(l=h.next()).done);s=!0){var d=l.value;d<128&&t.push(y(d))}}catch(e){a=!0,c=e}finally{try{!s&&h.return&&h.return()}finally{if(a)throw c}}var p=t.length,v=p;for(p&&t.push("-");v<r;){var S=u,E=!0,O=!1,T=void 0;try{for(var x,A=e[Symbol.iterator]();!(E=(x=A.next()).done);E=!0){var M=x.value;M>=n&&M<S&&(S=M)}}catch(e){O=!0,T=e}finally{try{!E&&A.return&&A.return()}finally{if(O)throw T}}var P=v+1;S-n>b((u-i)/P)&&m("overflow"),i+=(S-n)*P,n=S;var j=!0,k=!1,$=void 0;try{for(var C,I=e[Symbol.iterator]();!(j=(C=I.next()).done);j=!0){var R=C.value;if(R<n&&++i>u&&m("overflow"),R==n){for(var N=i,L=f;;L+=f){var D=L<=o?1:L>=o+26?26:L-o;if(N<D)break;var F=N-D,B=f-D;t.push(y(w(D+F%B,0))),N=b(F/B)}t.push(y(w(N,0))),o=_(i,P,v==p),i=0,++v}}}catch(e){k=!0,$=e}finally{try{!j&&I.return&&I.return()}finally{if(k)throw $}}++i,++n}return t.join("")},O=function(e){return v(e,(function(e){return h.test(e)?"xn--"+E(e):e}))},T=function(e){return v(e,(function(e){return l.test(e)?S(e.slice(4).toLowerCase()):e}))},x={};function A(e){var t=e.charCodeAt(0);return t<16?"%0"+t.toString(16).toUpperCase():t<128?"%"+t.toString(16).toUpperCase():t<2048?"%"+(t>>6|192).toString(16).toUpperCase()+"%"+(63&t|128).toString(16).toUpperCase():"%"+(t>>12|224).toString(16).toUpperCase()+"%"+(t>>6&63|128).toString(16).toUpperCase()+"%"+(63&t|128).toString(16).toUpperCase()}function M(e){for(var t="",r=0,n=e.length;r<n;){var i=parseInt(e.substr(r+1,2),16);if(i<128)t+=String.fromCharCode(i),r+=3;else if(i>=194&&i<224){if(n-r>=6){var o=parseInt(e.substr(r+4,2),16);t+=String.fromCharCode((31&i)<<6|63&o)}else t+=e.substr(r,6);r+=6}else if(i>=224){if(n-r>=9){var s=parseInt(e.substr(r+4,2),16),a=parseInt(e.substr(r+7,2),16);t+=String.fromCharCode((15&i)<<12|(63&s)<<6|63&a)}else t+=e.substr(r,9);r+=9}else t+=e.substr(r,3),r+=3}return t}function P(e,t){function r(e){var r=M(e);return r.match(t.UNRESERVED)?r:e}return e.scheme&&(e.scheme=String(e.scheme).replace(t.PCT_ENCODED,r).toLowerCase().replace(t.NOT_SCHEME,"")),void 0!==e.userinfo&&(e.userinfo=String(e.userinfo).replace(t.PCT_ENCODED,r).replace(t.NOT_USERINFO,A).replace(t.PCT_ENCODED,i)),void 0!==e.host&&(e.host=String(e.host).replace(t.PCT_ENCODED,r).toLowerCase().replace(t.NOT_HOST,A).replace(t.PCT_ENCODED,i)),void 0!==e.path&&(e.path=String(e.path).replace(t.PCT_ENCODED,r).replace(e.scheme?t.NOT_PATH:t.NOT_PATH_NOSCHEME,A).replace(t.PCT_ENCODED,i)),void 0!==e.query&&(e.query=String(e.query).replace(t.PCT_ENCODED,r).replace(t.NOT_QUERY,A).replace(t.PCT_ENCODED,i)),void 0!==e.fragment&&(e.fragment=String(e.fragment).replace(t.PCT_ENCODED,r).replace(t.NOT_FRAGMENT,A).replace(t.PCT_ENCODED,i)),e}function j(e){return e.replace(/^0*(.*)/,"$1")||"0"}function k(e,t){var r=e.match(t.IPV4ADDRESS)||[],n=c(r,2)[1];return n?n.split(".").map(j).join("."):e}function $(e,t){var r=e.match(t.IPV6ADDRESS)||[],n=c(r,3),i=n[1],o=n[2];if(i){for(var s=i.toLowerCase().split("::").reverse(),a=c(s,2),u=a[0],f=a[1],l=f?f.split(":").map(j):[],h=u.split(":").map(j),d=t.IPV4ADDRESS.test(h[h.length-1]),p=d?7:8,b=h.length-p,y=Array(p),m=0;m<p;++m)y[m]=l[m]||h[b+m]||"";d&&(y[p-1]=k(y[p-1],t));var v=y.reduce((function(e,t,r){if(!t||"0"===t){var n=e[e.length-1];n&&n.index+n.length===r?n.length++:e.push({index:r,length:1})}return e}),[]).sort((function(e,t){return t.length-e.length}))[0],g=void 0;if(v&&v.length>1){var w=y.slice(0,v.index),_=y.slice(v.index+v.length);g=w.join(":")+"::"+_.join(":")}else g=y.join(":");return o&&(g+="%"+o),g}return e}var C=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,I=void 0==="".match(/(){0}/)[1];function R(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r={},n=!1!==t.iri?a:s;"suffix"===t.reference&&(e=(t.scheme?t.scheme+":":"")+"//"+e);var i=e.match(C);if(i){I?(r.scheme=i[1],r.userinfo=i[3],r.host=i[4],r.port=parseInt(i[5],10),r.path=i[6]||"",r.query=i[7],r.fragment=i[8],isNaN(r.port)&&(r.port=i[5])):(r.scheme=i[1]||void 0,r.userinfo=-1!==e.indexOf("@")?i[3]:void 0,r.host=-1!==e.indexOf("//")?i[4]:void 0,r.port=parseInt(i[5],10),r.path=i[6]||"",r.query=-1!==e.indexOf("?")?i[7]:void 0,r.fragment=-1!==e.indexOf("#")?i[8]:void 0,isNaN(r.port)&&(r.port=e.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?i[4]:void 0)),r.host&&(r.host=$(k(r.host,n),n)),void 0!==r.scheme||void 0!==r.userinfo||void 0!==r.host||void 0!==r.port||r.path||void 0!==r.query?void 0===r.scheme?r.reference="relative":void 0===r.fragment?r.reference="absolute":r.reference="uri":r.reference="same-document",t.reference&&"suffix"!==t.reference&&t.reference!==r.reference&&(r.error=r.error||"URI is not a "+t.reference+" reference.");var o=x[(t.scheme||r.scheme||"").toLowerCase()];if(t.unicodeSupport||o&&o.unicodeSupport)P(r,n);else{if(r.host&&(t.domainHost||o&&o.domainHost))try{r.host=O(r.host.replace(n.PCT_ENCODED,M).toLowerCase())}catch(e){r.error=r.error||"Host's domain name can not be converted to ASCII via punycode: "+e}P(r,s)}o&&o.parse&&o.parse(r,t)}else r.error=r.error||"URI can not be parsed.";return r}function N(e,t){var r=!1!==t.iri?a:s,n=[];return void 0!==e.userinfo&&(n.push(e.userinfo),n.push("@")),void 0!==e.host&&n.push($(k(String(e.host),r),r).replace(r.IPV6ADDRESS,(function(e,t,r){return"["+t+(r?"%25"+r:"")+"]"}))),"number"!=typeof e.port&&"string"!=typeof e.port||(n.push(":"),n.push(String(e.port))),n.length?n.join(""):void 0}var L=/^\.\.?\//,D=/^\/\.(\/|$)/,F=/^\/\.\.(\/|$)/,B=/^\/?(?:.|\n)*?(?=\/|$)/;function U(e){for(var t=[];e.length;)if(e.match(L))e=e.replace(L,"");else if(e.match(D))e=e.replace(D,"/");else if(e.match(F))e=e.replace(F,"/"),t.pop();else if("."===e||".."===e)e="";else{var r=e.match(B);if(!r)throw new Error("Unexpected dot segment condition");var n=r[0];e=e.slice(n.length),t.push(n)}return t.join("")}function q(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.iri?a:s,n=[],i=x[(t.scheme||e.scheme||"").toLowerCase()];if(i&&i.serialize&&i.serialize(e,t),e.host)if(r.IPV6ADDRESS.test(e.host));else if(t.domainHost||i&&i.domainHost)try{e.host=t.iri?T(e.host):O(e.host.replace(r.PCT_ENCODED,M).toLowerCase())}catch(r){e.error=e.error||"Host's domain name can not be converted to "+(t.iri?"Unicode":"ASCII")+" via punycode: "+r}P(e,r),"suffix"!==t.reference&&e.scheme&&(n.push(e.scheme),n.push(":"));var o=N(e,t);if(void 0!==o&&("suffix"!==t.reference&&n.push("//"),n.push(o),e.path&&"/"!==e.path.charAt(0)&&n.push("/")),void 0!==e.path){var c=e.path;t.absolutePath||i&&i.absolutePath||(c=U(c)),void 0===o&&(c=c.replace(/^\/\//,"/%2F")),n.push(c)}return void 0!==e.query&&(n.push("?"),n.push(e.query)),void 0!==e.fragment&&(n.push("#"),n.push(e.fragment)),n.join("")}function z(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n={};return arguments[3]||(e=R(q(e,r),r),t=R(q(t,r),r)),!(r=r||{}).tolerant&&t.scheme?(n.scheme=t.scheme,n.userinfo=t.userinfo,n.host=t.host,n.port=t.port,n.path=U(t.path||""),n.query=t.query):(void 0!==t.userinfo||void 0!==t.host||void 0!==t.port?(n.userinfo=t.userinfo,n.host=t.host,n.port=t.port,n.path=U(t.path||""),n.query=t.query):(t.path?("/"===t.path.charAt(0)?n.path=U(t.path):(void 0===e.userinfo&&void 0===e.host&&void 0===e.port||e.path?e.path?n.path=e.path.slice(0,e.path.lastIndexOf("/")+1)+t.path:n.path=t.path:n.path="/"+t.path,n.path=U(n.path)),n.query=t.query):(n.path=e.path,void 0!==t.query?n.query=t.query:n.query=e.query),n.userinfo=e.userinfo,n.host=e.host,n.port=e.port),n.scheme=e.scheme),n.fragment=t.fragment,n}function V(e,t){return e&&e.toString().replace(t&&t.iri?a.PCT_ENCODED:s.PCT_ENCODED,M)}var H={scheme:"http",domainHost:!0,parse:function(e,t){return e.host||(e.error=e.error||"HTTP URIs must have a host."),e},serialize:function(e,t){var r="https"===String(e.scheme).toLowerCase();return e.port!==(r?443:80)&&""!==e.port||(e.port=void 0),e.path||(e.path="/"),e}},W={scheme:"https",domainHost:H.domainHost,parse:H.parse,serialize:H.serialize};function G(e){return"boolean"==typeof e.secure?e.secure:"wss"===String(e.scheme).toLowerCase()}var K={scheme:"ws",domainHost:!0,parse:function(e,t){var r=e;return r.secure=G(r),r.resourceName=(r.path||"/")+(r.query?"?"+r.query:""),r.path=void 0,r.query=void 0,r},serialize:function(e,t){if(e.port!==(G(e)?443:80)&&""!==e.port||(e.port=void 0),"boolean"==typeof e.secure&&(e.scheme=e.secure?"wss":"ws",e.secure=void 0),e.resourceName){var r=e.resourceName.split("?"),n=c(r,2),i=n[0],o=n[1];e.path=i&&"/"!==i?i:void 0,e.query=o,e.resourceName=void 0}return e.fragment=void 0,e}},J={scheme:"wss",domainHost:K.domainHost,parse:K.parse,serialize:K.serialize},Y={},X="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",Z="[0-9A-Fa-f]",Q=r(r("%[EFef][0-9A-Fa-f]%"+Z+Z+"%"+Z+Z)+"|"+r("%[89A-Fa-f][0-9A-Fa-f]%"+Z+Z)+"|"+r("%"+Z+Z)),ee=t("[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",'[\\"\\\\]'),te=new RegExp(X,"g"),re=new RegExp(Q,"g"),ne=new RegExp(t("[^]","[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]","[\\.]",'[\\"]',ee),"g"),ie=new RegExp(t("[^]",X,"[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]"),"g"),oe=ie;function se(e){var t=M(e);return t.match(te)?t:e}var ae={scheme:"mailto",parse:function(e,t){var r=e,n=r.to=r.path?r.path.split(","):[];if(r.path=void 0,r.query){for(var i=!1,o={},s=r.query.split("&"),a=0,c=s.length;a<c;++a){var u=s[a].split("=");switch(u[0]){case"to":for(var f=u[1].split(","),l=0,h=f.length;l<h;++l)n.push(f[l]);break;case"subject":r.subject=V(u[1],t);break;case"body":r.body=V(u[1],t);break;default:i=!0,o[V(u[0],t)]=V(u[1],t)}}i&&(r.headers=o)}r.query=void 0;for(var d=0,p=n.length;d<p;++d){var b=n[d].split("@");if(b[0]=V(b[0]),t.unicodeSupport)b[1]=V(b[1],t).toLowerCase();else try{b[1]=O(V(b[1],t).toLowerCase())}catch(e){r.error=r.error||"Email address's domain name can not be converted to ASCII via punycode: "+e}n[d]=b.join("@")}return r},serialize:function(e,t){var r,n=e,o=null!=(r=e.to)?r instanceof Array?r:"number"!=typeof r.length||r.split||r.setInterval||r.call?[r]:Array.prototype.slice.call(r):[];if(o){for(var s=0,a=o.length;s<a;++s){var c=String(o[s]),u=c.lastIndexOf("@"),f=c.slice(0,u).replace(re,se).replace(re,i).replace(ne,A),l=c.slice(u+1);try{l=t.iri?T(l):O(V(l,t).toLowerCase())}catch(e){n.error=n.error||"Email address's domain name can not be converted to "+(t.iri?"Unicode":"ASCII")+" via punycode: "+e}o[s]=f+"@"+l}n.path=o.join(",")}var h=e.headers=e.headers||{};e.subject&&(h.subject=e.subject),e.body&&(h.body=e.body);var d=[];for(var p in h)h[p]!==Y[p]&&d.push(p.replace(re,se).replace(re,i).replace(ie,A)+"="+h[p].replace(re,se).replace(re,i).replace(oe,A));return d.length&&(n.query=d.join("&")),n}},ce=/^([^\:]+)\:(.*)/,ue={scheme:"urn",parse:function(e,t){var r=e.path&&e.path.match(ce),n=e;if(r){var i=t.scheme||n.scheme||"urn",o=r[1].toLowerCase(),s=r[2],a=i+":"+(t.nid||o),c=x[a];n.nid=o,n.nss=s,n.path=void 0,c&&(n=c.parse(n,t))}else n.error=n.error||"URN can not be parsed.";return n},serialize:function(e,t){var r=t.scheme||e.scheme||"urn",n=e.nid,i=r+":"+(t.nid||n),o=x[i];o&&(e=o.serialize(e,t));var s=e,a=e.nss;return s.path=(n||t.nid)+":"+a,s}},fe=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,le={scheme:"urn:uuid",parse:function(e,t){var r=e;return r.uuid=r.nss,r.nss=void 0,t.tolerant||r.uuid&&r.uuid.match(fe)||(r.error=r.error||"UUID is not valid."),r},serialize:function(e,t){var r=e;return r.nss=(e.uuid||"").toLowerCase(),r}};x[H.scheme]=H,x[W.scheme]=W,x[K.scheme]=K,x[J.scheme]=J,x[ae.scheme]=ae,x[ue.scheme]=ue,x[le.scheme]=le,e.SCHEMES=x,e.pctEncChar=A,e.pctDecChars=M,e.parse=R,e.removeDotSegments=U,e.serialize=q,e.resolveComponents=z,e.resolve=function(e,t,r){var n=function(e,t){var r=e;if(t)for(var n in t)r[n]=t[n];return r}({scheme:"null"},r);return q(z(R(e,n),R(t,n),n,!0),n)},e.normalize=function(e,t){return"string"==typeof e?e=q(R(e,t),t):"object"===n(e)&&(e=R(q(e,t),t)),e},e.equal=function(e,t,r){return"string"==typeof e?e=q(R(e,r),r):"object"===n(e)&&(e=q(e,r)),"string"==typeof t?t=q(R(t,r),r):"object"===n(t)&&(t=q(t,r)),e===t},e.escapeComponent=function(e,t){return e&&e.toString().replace(t&&t.iri?a.ESCAPE:s.ESCAPE,A)},e.unescapeComponent=V,Object.defineProperty(e,"__esModule",{value:!0})}(t)},4310:e=>{!function(t){var r=function(){function e(e){this.options=e}return e.prototype.toString=function(){return JSON&&JSON.stringify?JSON.stringify(this.options):this.options},e}(),n={isArray:function(e){return"[object Array]"===Object.prototype.toString.apply(e)},isString:function(e){return"[object String]"===Object.prototype.toString.apply(e)},isNumber:function(e){return"[object Number]"===Object.prototype.toString.apply(e)},isBoolean:function(e){return"[object Boolean]"===Object.prototype.toString.apply(e)},join:function(e,t){var r,n="",i=!0;for(r=0;r<e.length;r+=1)i?i=!1:n+=t,n+=e[r];return n},map:function(e,t){for(var r=[],n=0;n<e.length;n+=1)r.push(t(e[n]));return r},filter:function(e,t){for(var r=[],n=0;n<e.length;n+=1)t(e[n])&&r.push(e[n]);return r},deepFreeze:function e(t){return"function"==typeof Object.freeze?function(t){if("object"!=typeof t||null===t)return t;var r,n;for(n in Object.freeze(t),t)t.hasOwnProperty(n)&&"object"==typeof(r=t[n])&&e(r);return t}(t):t}},i=function(){function e(e){return e>="0"&&e<="9"}return{isAlpha:function(e){return e>="a"&&e<="z"||e>="A"&&e<="Z"},isDigit:e,isHexDigit:function(t){return e(t)||t>="a"&&t<="f"||t>="A"&&t<="F"}}}(),o=function(){var e=function(e){return e<=127?1:194<=e&&e<=223?2:224<=e&&e<=239?3:240<=e&&e<=244?4:0},t=function(e){return 128<=e&&e<=191};function r(e,t){return"%"===e.charAt(t)&&i.isHexDigit(e.charAt(t+1))&&i.isHexDigit(e.charAt(t+2))}function n(e,t){return parseInt(e.substr(t,2),16)}return{encodeCharacter:function(e){var t,r,n="",i=function(e){return unescape(encodeURIComponent(e))}(e);for(r=0;r<i.length;r+=1)n+="%"+((t=i.charCodeAt(r))<16?"0":"")+t.toString(16).toUpperCase();return n},isPctEncoded:function(i){if(!r(i,0))return!1;var o=n(i,1),s=e(o);if(0===s)return!1;for(var a=1;a<s;a+=1)if(!r(i,3*a)||!t(n(i,3*a+1)))return!1;return!0},pctCharAt:function(i,o){var s=i.charAt(o);if(!r(i,o))return s;var a=n(i,o+1),c=e(a);if(0===c)return s;for(var u=1;u<c;u+=1)if(!r(i,o+3*u)||!t(n(i,o+3*u+1)))return s;return i.substr(o,3*c)}}}(),s=function(e){return i.isAlpha(e)||i.isDigit(e)||"_"===e||o.isPctEncoded(e)},a=function(e){return i.isAlpha(e)||i.isDigit(e)||"-"===e||"."===e||"_"===e||"~"===e},c=function(e){return":"===e||"/"===e||"?"===e||"#"===e||"["===e||"]"===e||"@"===e||"!"===e||"$"===e||"&"===e||"("===e||")"===e||"*"===e||"+"===e||","===e||";"===e||"="===e||"'"===e},u=function(){function e(e,t){var r,n="",i="";for("number"!=typeof e&&"boolean"!=typeof e||(e=e.toString()),r=0;r<e.length;r+=i.length)i=e.charAt(r),n+=a(i)||t&&c(i)?i:o.encodeCharacter(i);return n}return{encode:e,encodePassReserved:function(t){return e(t,!0)},encodeLiteral:function(e){var t,r="",n="";for(t=0;t<e.length;t+=n.length)(n=o.pctCharAt(e,t)).length>1?r+=n:r+=c(n)||a(n)?n:o.encodeCharacter(n);return r},encodeLiteralCharacter:function(e,t){var r=o.pctCharAt(e,t);return r.length>1||c(r)||a(r)?r:o.encodeCharacter(r)}}}(),f=function(){var e={};function t(t){e[t]={symbol:t,separator:"?"===t?"&":""===t||"+"===t||"#"===t?",":t,named:";"===t||"&"===t||"?"===t,ifEmpty:"&"===t||"?"===t?"=":"",first:"+"===t?"":t,encode:"+"===t||"#"===t?u.encodePassReserved:u.encode,toString:function(){return this.symbol}}}return t(""),t("+"),t("#"),t("."),t("/"),t(";"),t("?"),t("&"),{valueOf:function(t){return e[t]?e[t]:"=,!@|".indexOf(t)>=0?null:e[""]}}}();function l(e){var t;if(null==e)return!1;if(n.isArray(e))return e.length>0;if("string"==typeof e||"number"==typeof e||"boolean"==typeof e)return!0;for(t in e)if(e.hasOwnProperty(t)&&l(e[t]))return!0;return!1}var h=function(){function e(e){this.literal=u.encodeLiteral(e)}return e.prototype.expand=function(){return this.literal},e.prototype.toString=e.prototype.expand,e}(),d=function(){function e(e){var t,n,a=[],c=null,u=null,l=null,h="";function d(){var t=e.substring(u,n);if(0===t.length)throw new r({expressionText:e,message:"a varname must be specified",position:n});c={varname:t,exploded:!1,maxLength:null},u=null}function b(){if(l===n)throw new r({expressionText:e,message:"after a ':' you have to specify the length",position:n});c.maxLength=parseInt(e.substring(l,n),10),l=null}for(t=function(t){var i=f.valueOf(t);if(null===i)throw new r({expressionText:e,message:"illegal use of reserved operator",position:n,operator:t});return i}(e.charAt(0)),n=t.symbol.length,u=n;n<e.length;n+=h.length){if(h=o.pctCharAt(e,n),null!==u){if("."===h){if(u===n)throw new r({expressionText:e,message:"a varname MUST NOT start with a dot",position:n});continue}if(s(h))continue;d()}if(null!==l){if(n===l&&"0"===h)throw new r({expressionText:e,message:"A :prefix must not start with digit 0",position:n});if(i.isDigit(h)){if(n-l>=4)throw new r({expressionText:e,message:"A :prefix must have max 4 digits",position:n});continue}b()}if(":"!==h)if("*"!==h){if(","!==h)throw new r({expressionText:e,message:"illegal character",character:h,position:n});a.push(c),c=null,u=n+1}else{if(null===c)throw new r({expressionText:e,message:"exploded without varspec",position:n});if(c.exploded)throw new r({expressionText:e,message:"exploded twice",position:n});if(c.maxLength)throw new r({expressionText:e,message:"an explode (*) MUST NOT follow to a prefix",position:n});c.exploded=!0}else{if(null!==c.maxLength)throw new r({expressionText:e,message:"only one :maxLength is allowed per varspec",position:n});if(c.exploded)throw new r({expressionText:e,message:"an exploeded varspec MUST NOT be varspeced",position:n});l=n+1}}return null!==u&&d(),null!==l&&b(),a.push(c),new p(e,t,a)}return function(t){var n,i,o=[],s=null,a=0;for(n=0;n<t.length;n+=1)if(i=t.charAt(n),null===a){if(null===s)throw new Error("reached unreachable code");if("{"===i)throw new r({templateText:t,message:"brace already opened",position:n});if("}"===i){if(s+1===n)throw new r({templateText:t,message:"empty braces",position:s});try{o.push(e(t.substring(s+1,n)))}catch(e){if(e.prototype===r.prototype)throw new r({templateText:t,message:e.options.message,position:s+e.options.position,details:e.options});throw e}s=null,a=n+1}}else{if("}"===i)throw new r({templateText:t,message:"unopened brace closed",position:n});"{"===i&&(a<n&&o.push(new h(t.substring(a,n))),a=null,s=n)}if(null!==s)throw new r({templateText:t,message:"unclosed brace",position:s});return a<t.length&&o.push(new h(t.substr(a))),new b(t,o)}}(),p=function(){function e(e){return JSON&&JSON.stringify?JSON.stringify(e):e}function t(e){if(!l(e))return!0;if(n.isString(e))return""===e;if(n.isNumber(e)||n.isBoolean(e))return!1;if(n.isArray(e))return 0===e.length;for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}function r(e){var t,r=[];for(t in e)e.hasOwnProperty(t)&&r.push({name:t,value:e[t]});return r}function i(e,t,r){this.templateText=e,this.operator=t,this.varspecs=r}function o(e,t,r){var n="";if(r=r.toString(),t.named){if(n+=u.encodeLiteral(e.varname),""===r)return n+t.ifEmpty;n+="="}return null!==e.maxLength&&(r=r.substr(0,e.maxLength)),n+t.encode(r)}function s(e){return l(e.value)}function a(e,i,o){var a=[],c="";if(i.named){if(c+=u.encodeLiteral(e.varname),t(o))return c+i.ifEmpty;c+="="}return n.isArray(o)?(a=o,a=n.filter(a,l),a=n.map(a,i.encode),c+=n.join(a,",")):(a=r(o),a=n.filter(a,s),a=n.map(a,(function(e){return i.encode(e.name)+","+i.encode(e.value)})),c+=n.join(a,",")),c}function c(e,i,o){var a=[];return n.isArray(o)?(a=o,a=n.filter(a,l),a=n.map(a,(function(r){var n=u.encodeLiteral(e.varname);return t(r)?n+=i.ifEmpty:n+="="+i.encode(r),n}))):(a=r(o),a=n.filter(a,s),a=n.map(a,(function(e){var r=u.encodeLiteral(e.name);return t(e.value)?r+=i.ifEmpty:r+="="+i.encode(e.value),r}))),n.join(a,i.separator)}function f(e,t){var i=[],o="";return n.isArray(t)?(i=t,i=n.filter(i,l),i=n.map(i,e.encode),o+=n.join(i,e.separator)):(i=r(t),i=n.filter(i,(function(e){return l(e.value)})),i=n.map(i,(function(t){return e.encode(t.name)+"="+e.encode(t.value)})),o+=n.join(i,e.separator)),o}return i.prototype.toString=function(){return this.templateText},i.prototype.expand=function(r){var i,s,u,h=[],d=this.operator;for(i=0;i<this.varspecs.length;i+=1)if(null!=(u=r[(s=this.varspecs[i]).varname]))if(s.exploded,n.isArray(u),"string"==typeof u||"number"==typeof u||"boolean"==typeof u)h.push(o(s,d,u));else{if(s.maxLength&&l(u))throw new Error("Prefix modifiers are not applicable to variables that have composite values. You tried to expand "+this+" with "+e(u));s.exploded?l(u)&&(d.named?h.push(c(s,d,u)):h.push(f(d,u))):!d.named&&t(u)||h.push(a(s,d,u))}return 0===h.length?"":d.first+n.join(h,d.separator)},i}(),b=function(){function e(e,t){this.templateText=e,this.expressions=t,n.deepFreeze(this)}return e.prototype.toString=function(){return this.templateText},e.prototype.expand=function(e){var t,r="";for(t=0;t<this.expressions.length;t+=1)r+=this.expressions[t].expand(e);return r},e.parse=d,e.UriTemplateError=r,e}();!function(t){e.exports=t}(b)}()},12155:(e,t,r)=>{var n=r(42233),i=r(46854);function o(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}t.parse=g,t.resolve=function(e,t){return g(e,!1,!0).resolve(t)},t.resolveObject=function(e,t){return e?g(e,!1,!0).resolveObject(t):t},t.format=function(e){return i.isString(e)&&(e=g(e)),e instanceof o?e.format():o.prototype.format.call(e)},t.Url=o;var s=/^([a-z0-9.+-]+:)/i,a=/:[0-9]*$/,c=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,u=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),f=["'"].concat(u),l=["%","/","?",";","#"].concat(f),h=["/","?","#"],d=/^[+a-z0-9A-Z_-]{0,63}$/,p=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,b={javascript:!0,"javascript:":!0},y={javascript:!0,"javascript:":!0},m={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},v=r(9278);function g(e,t,r){if(e&&i.isObject(e)&&e instanceof o)return e;var n=new o;return n.parse(e,t,r),n}o.prototype.parse=function(e,t,r){if(!i.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var o=e.indexOf("?"),a=-1!==o&&o<e.indexOf("#")?"?":"#",u=e.split(a);u[0]=u[0].replace(/\\/g,"/");var g=e=u.join(a);if(g=g.trim(),!r&&1===e.split("#").length){var w=c.exec(g);if(w)return this.path=g,this.href=g,this.pathname=w[1],w[2]?(this.search=w[2],this.query=t?v.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var _=s.exec(g);if(_){var S=(_=_[0]).toLowerCase();this.protocol=S,g=g.substr(_.length)}if(r||_||g.match(/^\/\/[^@\/]+@[^@\/]+/)){var E="//"===g.substr(0,2);!E||_&&y[_]||(g=g.substr(2),this.slashes=!0)}if(!y[_]&&(E||_&&!m[_])){for(var O,T,x=-1,A=0;A<h.length;A++)-1!==(M=g.indexOf(h[A]))&&(-1===x||M<x)&&(x=M);for(-1!==(T=-1===x?g.lastIndexOf("@"):g.lastIndexOf("@",x))&&(O=g.slice(0,T),g=g.slice(T+1),this.auth=decodeURIComponent(O)),x=-1,A=0;A<l.length;A++){var M;-1!==(M=g.indexOf(l[A]))&&(-1===x||M<x)&&(x=M)}-1===x&&(x=g.length),this.host=g.slice(0,x),g=g.slice(x),this.parseHost(),this.hostname=this.hostname||"";var P="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!P)for(var j=this.hostname.split(/\./),k=(A=0,j.length);A<k;A++){var $=j[A];if($&&!$.match(d)){for(var C="",I=0,R=$.length;I<R;I++)$.charCodeAt(I)>127?C+="x":C+=$[I];if(!C.match(d)){var N=j.slice(0,A),L=j.slice(A+1),D=$.match(p);D&&(N.push(D[1]),L.unshift(D[2])),L.length&&(g="/"+L.join(".")+g),this.hostname=N.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),P||(this.hostname=n.toASCII(this.hostname));var F=this.port?":"+this.port:"",B=this.hostname||"";this.host=B+F,this.href+=this.host,P&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==g[0]&&(g="/"+g))}if(!b[S])for(A=0,k=f.length;A<k;A++){var U=f[A];if(-1!==g.indexOf(U)){var q=encodeURIComponent(U);q===U&&(q=escape(U)),g=g.split(U).join(q)}}var z=g.indexOf("#");-1!==z&&(this.hash=g.substr(z),g=g.slice(0,z));var V=g.indexOf("?");if(-1!==V?(this.search=g.substr(V),this.query=g.substr(V+1),t&&(this.query=v.parse(this.query)),g=g.slice(0,V)):t&&(this.search="",this.query={}),g&&(this.pathname=g),m[S]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){F=this.pathname||"";var H=this.search||"";this.path=F+H}return this.href=this.format(),this},o.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",r=this.pathname||"",n=this.hash||"",o=!1,s="";this.host?o=e+this.host:this.hostname&&(o=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(o+=":"+this.port)),this.query&&i.isObject(this.query)&&Object.keys(this.query).length&&(s=v.stringify(this.query));var a=this.search||s&&"?"+s||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||m[t])&&!1!==o?(o="//"+(o||""),r&&"/"!==r.charAt(0)&&(r="/"+r)):o||(o=""),n&&"#"!==n.charAt(0)&&(n="#"+n),a&&"?"!==a.charAt(0)&&(a="?"+a),t+o+(r=r.replace(/[?#]/g,(function(e){return encodeURIComponent(e)})))+(a=a.replace("#","%23"))+n},o.prototype.resolve=function(e){return this.resolveObject(g(e,!1,!0)).format()},o.prototype.resolveObject=function(e){if(i.isString(e)){var t=new o;t.parse(e,!1,!0),e=t}for(var r=new o,n=Object.keys(this),s=0;s<n.length;s++){var a=n[s];r[a]=this[a]}if(r.hash=e.hash,""===e.href)return r.href=r.format(),r;if(e.slashes&&!e.protocol){for(var c=Object.keys(e),u=0;u<c.length;u++){var f=c[u];"protocol"!==f&&(r[f]=e[f])}return m[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r}if(e.protocol&&e.protocol!==r.protocol){if(!m[e.protocol]){for(var l=Object.keys(e),h=0;h<l.length;h++){var d=l[h];r[d]=e[d]}return r.href=r.format(),r}if(r.protocol=e.protocol,e.host||y[e.protocol])r.pathname=e.pathname;else{for(var p=(e.pathname||"").split("/");p.length&&!(e.host=p.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==p[0]&&p.unshift(""),p.length<2&&p.unshift(""),r.pathname=p.join("/")}if(r.search=e.search,r.query=e.query,r.host=e.host||"",r.auth=e.auth,r.hostname=e.hostname||e.host,r.port=e.port,r.pathname||r.search){var b=r.pathname||"",v=r.search||"";r.path=b+v}return r.slashes=r.slashes||e.slashes,r.href=r.format(),r}var g=r.pathname&&"/"===r.pathname.charAt(0),w=e.host||e.pathname&&"/"===e.pathname.charAt(0),_=w||g||r.host&&e.pathname,S=_,E=r.pathname&&r.pathname.split("/")||[],O=(p=e.pathname&&e.pathname.split("/")||[],r.protocol&&!m[r.protocol]);if(O&&(r.hostname="",r.port=null,r.host&&(""===E[0]?E[0]=r.host:E.unshift(r.host)),r.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===p[0]?p[0]=e.host:p.unshift(e.host)),e.host=null),_=_&&(""===p[0]||""===E[0])),w)r.host=e.host||""===e.host?e.host:r.host,r.hostname=e.hostname||""===e.hostname?e.hostname:r.hostname,r.search=e.search,r.query=e.query,E=p;else if(p.length)E||(E=[]),E.pop(),E=E.concat(p),r.search=e.search,r.query=e.query;else if(!i.isNullOrUndefined(e.search))return O&&(r.hostname=r.host=E.shift(),(P=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=P.shift(),r.host=r.hostname=P.shift())),r.search=e.search,r.query=e.query,i.isNull(r.pathname)&&i.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r;if(!E.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var T=E.slice(-1)[0],x=(r.host||e.host||E.length>1)&&("."===T||".."===T)||""===T,A=0,M=E.length;M>=0;M--)"."===(T=E[M])?E.splice(M,1):".."===T?(E.splice(M,1),A++):A&&(E.splice(M,1),A--);if(!_&&!S)for(;A--;A)E.unshift("..");!_||""===E[0]||E[0]&&"/"===E[0].charAt(0)||E.unshift(""),x&&"/"!==E.join("/").substr(-1)&&E.push("");var P,j=""===E[0]||E[0]&&"/"===E[0].charAt(0);return O&&(r.hostname=r.host=j?"":E.length?E.shift():"",(P=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=P.shift(),r.host=r.hostname=P.shift())),(_=_||r.host&&E.length)&&!j&&E.unshift(""),E.length?r.pathname=E.join("/"):(r.pathname=null,r.path=null),i.isNull(r.pathname)&&i.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=e.auth||r.auth,r.slashes=r.slashes||e.slashes,r.href=r.format(),r},o.prototype.parseHost=function(){var e=this.host,t=a.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},46854:e=>{e.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},61263:function(e){var t,r,n,i,o;t=/^((?:[a-zA-Z0-9+\-.]+:)?)(\/\/[^\/?#]*)?((?:[^\/\?#]*\/)*.*?)??(;.*?)?(\?.*?)?(#.*?)?$/,r=/^([^\/?#]*)(.*)$/,n=/(?:\/|^)\.(?=\/)/g,i=/(?:\/|^)\.\.\/(?!\.\.\/).*?(?=\/)/g,o={buildAbsoluteURL:function(e,t,n){if(n=n||{},e=e.trim(),!(t=t.trim())){if(!n.alwaysNormalize)return e;var i=o.parseURL(e);if(!i)throw new Error("Error trying to parse base URL.");return i.path=o.normalizePath(i.path),o.buildURLFromParts(i)}var s=o.parseURL(t);if(!s)throw new Error("Error trying to parse relative URL.");if(s.scheme)return n.alwaysNormalize?(s.path=o.normalizePath(s.path),o.buildURLFromParts(s)):t;var a=o.parseURL(e);if(!a)throw new Error("Error trying to parse base URL.");if(!a.netLoc&&a.path&&"/"!==a.path[0]){var c=r.exec(a.path);a.netLoc=c[1],a.path=c[2]}a.netLoc&&!a.path&&(a.path="/");var u={scheme:a.scheme,netLoc:s.netLoc,path:null,params:s.params,query:s.query,fragment:s.fragment};if(!s.netLoc&&(u.netLoc=a.netLoc,"/"!==s.path[0]))if(s.path){var f=a.path,l=f.substring(0,f.lastIndexOf("/")+1)+s.path;u.path=o.normalizePath(l)}else u.path=a.path,s.params||(u.params=a.params,s.query||(u.query=a.query));return null===u.path&&(u.path=n.alwaysNormalize?o.normalizePath(s.path):s.path),o.buildURLFromParts(u)},parseURL:function(e){var r=t.exec(e);return r?{scheme:r[1]||"",netLoc:r[2]||"",path:r[3]||"",params:r[4]||"",query:r[5]||"",fragment:r[6]||""}:null},normalizePath:function(e){for(e=e.split("").reverse().join("").replace(n,"");e.length!==(e=e.replace(i,"")).length;);return e.split("").reverse().join("")},buildURLFromParts:function(e){return e.scheme+e.netLoc+e.path+e.params+e.query+e.fragment}},e.exports=o},20072:(e,t,r)=>{var n=r(40585);function i(e){try{if(!r.g.localStorage)return!1}catch(e){return!1}var t=r.g.localStorage[e];return null!=t&&"true"===String(t).toLowerCase()}e.exports=function(e,t){if(i("noDeprecation"))return e;var r=!1;return function(){if(!r){if(i("throwDeprecation"))throw new Error(t);i("traceDeprecation")?n.trace(t):n.warn(t),r=!0}return e.apply(this,arguments)}}},96327:e=>{e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},39585:(e,t,r)=>{var n=r(32391),i=r(21266),o=r(96431),s=r(81233);function a(e){return e.call.bind(e)}var c="undefined"!=typeof BigInt,u="undefined"!=typeof Symbol,f=a(Object.prototype.toString),l=a(Number.prototype.valueOf),h=a(String.prototype.valueOf),d=a(Boolean.prototype.valueOf);if(c)var p=a(BigInt.prototype.valueOf);if(u)var b=a(Symbol.prototype.valueOf);function y(e,t){if("object"!=typeof e)return!1;try{return t(e),!0}catch(e){return!1}}function m(e){return"[object Map]"===f(e)}function v(e){return"[object Set]"===f(e)}function g(e){return"[object WeakMap]"===f(e)}function w(e){return"[object WeakSet]"===f(e)}function _(e){return"[object ArrayBuffer]"===f(e)}function S(e){return"undefined"!=typeof ArrayBuffer&&(_.working?_(e):e instanceof ArrayBuffer)}function E(e){return"[object DataView]"===f(e)}function O(e){return"undefined"!=typeof DataView&&(E.working?E(e):e instanceof DataView)}t.isArgumentsObject=n,t.isGeneratorFunction=i,t.isTypedArray=s,t.isPromise=function(e){return"undefined"!=typeof Promise&&e instanceof Promise||null!==e&&"object"==typeof e&&"function"==typeof e.then&&"function"==typeof e.catch},t.isArrayBufferView=function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):s(e)||O(e)},t.isUint8Array=function(e){return"Uint8Array"===o(e)},t.isUint8ClampedArray=function(e){return"Uint8ClampedArray"===o(e)},t.isUint16Array=function(e){return"Uint16Array"===o(e)},t.isUint32Array=function(e){return"Uint32Array"===o(e)},t.isInt8Array=function(e){return"Int8Array"===o(e)},t.isInt16Array=function(e){return"Int16Array"===o(e)},t.isInt32Array=function(e){return"Int32Array"===o(e)},t.isFloat32Array=function(e){return"Float32Array"===o(e)},t.isFloat64Array=function(e){return"Float64Array"===o(e)},t.isBigInt64Array=function(e){return"BigInt64Array"===o(e)},t.isBigUint64Array=function(e){return"BigUint64Array"===o(e)},m.working="undefined"!=typeof Map&&m(new Map),t.isMap=function(e){return"undefined"!=typeof Map&&(m.working?m(e):e instanceof Map)},v.working="undefined"!=typeof Set&&v(new Set),t.isSet=function(e){return"undefined"!=typeof Set&&(v.working?v(e):e instanceof Set)},g.working="undefined"!=typeof WeakMap&&g(new WeakMap),t.isWeakMap=function(e){return"undefined"!=typeof WeakMap&&(g.working?g(e):e instanceof WeakMap)},w.working="undefined"!=typeof WeakSet&&w(new WeakSet),t.isWeakSet=function(e){return w(e)},_.working="undefined"!=typeof ArrayBuffer&&_(new ArrayBuffer),t.isArrayBuffer=S,E.working="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView&&E(new DataView(new ArrayBuffer(1),0,1)),t.isDataView=O;var T="undefined"!=typeof SharedArrayBuffer?SharedArrayBuffer:void 0;function x(e){return"[object SharedArrayBuffer]"===f(e)}function A(e){return void 0!==T&&(void 0===x.working&&(x.working=x(new T)),x.working?x(e):e instanceof T)}function M(e){return y(e,l)}function P(e){return y(e,h)}function j(e){return y(e,d)}function k(e){return c&&y(e,p)}function $(e){return u&&y(e,b)}t.isSharedArrayBuffer=A,t.isAsyncFunction=function(e){return"[object AsyncFunction]"===f(e)},t.isMapIterator=function(e){return"[object Map Iterator]"===f(e)},t.isSetIterator=function(e){return"[object Set Iterator]"===f(e)},t.isGeneratorObject=function(e){return"[object Generator]"===f(e)},t.isWebAssemblyCompiledModule=function(e){return"[object WebAssembly.Module]"===f(e)},t.isNumberObject=M,t.isStringObject=P,t.isBooleanObject=j,t.isBigIntObject=k,t.isSymbolObject=$,t.isBoxedPrimitive=function(e){return M(e)||P(e)||j(e)||k(e)||$(e)},t.isAnyArrayBuffer=function(e){return"undefined"!=typeof Uint8Array&&(S(e)||A(e))},["isProxy","isExternal","isModuleNamespaceObject"].forEach((function(e){Object.defineProperty(t,e,{enumerable:!1,value:function(){throw new Error(e+" is not supported in userland")}})}))},85130:(e,t,r)=>{var n=r(12695),i=r(40585),o=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),r={},n=0;n<t.length;n++)r[t[n]]=Object.getOwnPropertyDescriptor(e,t[n]);return r},s=/%[sdj%]/g;t.format=function(e){if(!w(e)){for(var t=[],r=0;r<arguments.length;r++)t.push(f(arguments[r]));return t.join(" ")}r=1;for(var n=arguments,i=n.length,o=String(e).replace(s,(function(e){if("%%"===e)return"%";if(r>=i)return e;switch(e){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(e){return"[Circular]"}default:return e}})),a=n[r];r<i;a=n[++r])v(a)||!E(a)?o+=" "+a:o+=" "+f(a);return o},t.deprecate=function(e,r){if(void 0!==n&&!0===n.noDeprecation)return e;if(void 0===n)return function(){return t.deprecate(e,r).apply(this,arguments)};var o=!1;return function(){if(!o){if(n.throwDeprecation)throw new Error(r);n.traceDeprecation?i.trace(r):i.error(r),o=!0}return e.apply(this,arguments)}};var a={},c=/^$/;if(n.env.NODE_DEBUG){var u=n.env.NODE_DEBUG;u=u.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),c=new RegExp("^"+u+"$","i")}function f(e,r){var n={seen:[],stylize:h};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),m(r)?n.showHidden=r:r&&t._extend(n,r),_(n.showHidden)&&(n.showHidden=!1),_(n.depth)&&(n.depth=2),_(n.colors)&&(n.colors=!1),_(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=l),d(n,e,n.depth)}function l(e,t){var r=f.styles[t];return r?"["+f.colors[r][0]+"m"+e+"["+f.colors[r][1]+"m":e}function h(e,t){return e}function d(e,r,n){if(e.customInspect&&r&&x(r.inspect)&&r.inspect!==t.inspect&&(!r.constructor||r.constructor.prototype!==r)){var i=r.inspect(n,e);return w(i)||(i=d(e,i,n)),i}var o=function(e,t){if(_(t))return e.stylize("undefined","undefined");if(w(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}return g(t)?e.stylize(""+t,"number"):m(t)?e.stylize(""+t,"boolean"):v(t)?e.stylize("null","null"):void 0}(e,r);if(o)return o;var s=Object.keys(r),a=function(e){var t={};return e.forEach((function(e,r){t[e]=!0})),t}(s);if(e.showHidden&&(s=Object.getOwnPropertyNames(r)),T(r)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return p(r);if(0===s.length){if(x(r)){var c=r.name?": "+r.name:"";return e.stylize("[Function"+c+"]","special")}if(S(r))return e.stylize(RegExp.prototype.toString.call(r),"regexp");if(O(r))return e.stylize(Date.prototype.toString.call(r),"date");if(T(r))return p(r)}var u,f="",l=!1,h=["{","}"];return y(r)&&(l=!0,h=["[","]"]),x(r)&&(f=" [Function"+(r.name?": "+r.name:"")+"]"),S(r)&&(f=" "+RegExp.prototype.toString.call(r)),O(r)&&(f=" "+Date.prototype.toUTCString.call(r)),T(r)&&(f=" "+p(r)),0!==s.length||l&&0!=r.length?n<0?S(r)?e.stylize(RegExp.prototype.toString.call(r),"regexp"):e.stylize("[Object]","special"):(e.seen.push(r),u=l?function(e,t,r,n,i){for(var o=[],s=0,a=t.length;s<a;++s)k(t,String(s))?o.push(b(e,t,r,n,String(s),!0)):o.push("");return i.forEach((function(i){i.match(/^\d+$/)||o.push(b(e,t,r,n,i,!0))})),o}(e,r,n,a,s):s.map((function(t){return b(e,r,n,a,t,l)})),e.seen.pop(),function(e,t,r){return e.reduce((function(e,t){return t.indexOf("\n"),e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60?r[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+r[1]:r[0]+t+" "+e.join(", ")+" "+r[1]}(u,f,h)):h[0]+f+h[1]}function p(e){return"["+Error.prototype.toString.call(e)+"]"}function b(e,t,r,n,i,o){var s,a,c;if((c=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?a=c.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):c.set&&(a=e.stylize("[Setter]","special")),k(n,i)||(s="["+i+"]"),a||(e.seen.indexOf(c.value)<0?(a=v(r)?d(e,c.value,null):d(e,c.value,r-1)).indexOf("\n")>-1&&(a=o?a.split("\n").map((function(e){return"  "+e})).join("\n").slice(2):"\n"+a.split("\n").map((function(e){return"   "+e})).join("\n")):a=e.stylize("[Circular]","special")),_(s)){if(o&&i.match(/^\d+$/))return a;(s=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.slice(1,-1),s=e.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=e.stylize(s,"string"))}return s+": "+a}function y(e){return Array.isArray(e)}function m(e){return"boolean"==typeof e}function v(e){return null===e}function g(e){return"number"==typeof e}function w(e){return"string"==typeof e}function _(e){return void 0===e}function S(e){return E(e)&&"[object RegExp]"===A(e)}function E(e){return"object"==typeof e&&null!==e}function O(e){return E(e)&&"[object Date]"===A(e)}function T(e){return E(e)&&("[object Error]"===A(e)||e instanceof Error)}function x(e){return"function"==typeof e}function A(e){return Object.prototype.toString.call(e)}function M(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(e){if(e=e.toUpperCase(),!a[e])if(c.test(e)){var r=n.pid;a[e]=function(){var n=t.format.apply(t,arguments);i.error("%s %d: %s",e,r,n)}}else a[e]=function(){};return a[e]},t.inspect=f,f.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},f.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.types=r(39585),t.isArray=y,t.isBoolean=m,t.isNull=v,t.isNullOrUndefined=function(e){return null==e},t.isNumber=g,t.isString=w,t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=_,t.isRegExp=S,t.types.isRegExp=S,t.isObject=E,t.isDate=O,t.types.isDate=O,t.isError=T,t.types.isNativeError=T,t.isFunction=x,t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=r(96327);var P=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function j(){var e=new Date,t=[M(e.getHours()),M(e.getMinutes()),M(e.getSeconds())].join(":");return[e.getDate(),P[e.getMonth()],t].join(" ")}function k(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){i.log("%s - %s",j(),t.format.apply(t,arguments))},t.inherits=r(23730),t._extend=function(e,t){if(!t||!E(t))return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e};var $="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function C(e,t){if(!e){var r=new Error("Promise was rejected with a falsy value");r.reason=e,e=r}return t(e)}t.promisify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');if($&&e[$]){var t;if("function"!=typeof(t=e[$]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,$,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}function t(){for(var t,r,n=new Promise((function(e,n){t=e,r=n})),i=[],o=0;o<arguments.length;o++)i.push(arguments[o]);i.push((function(e,n){e?r(e):t(n)}));try{e.apply(this,i)}catch(e){r(e)}return n}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),$&&Object.defineProperty(t,$,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,o(e))},t.promisify.custom=$,t.callbackify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');function t(){for(var t=[],r=0;r<arguments.length;r++)t.push(arguments[r]);var i=t.pop();if("function"!=typeof i)throw new TypeError("The last argument must be of type Function");var o=this,s=function(){return i.apply(o,arguments)};e.apply(this,t).then((function(e){n.nextTick(s.bind(null,null,e))}),(function(e){n.nextTick(C.bind(null,e,s))}))}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),Object.defineProperties(t,o(e)),t}},15743:(e,t,r)=>{r.r(t),r.d(t,{v1:()=>d,v3:()=>_,v4:()=>S,v5:()=>T});var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),i=new Uint8Array(16);function o(){if(!n)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return n(i)}for(var s=[],a=0;a<256;++a)s[a]=(a+256).toString(16).substr(1);const c=function(e,t){var r=t||0,n=s;return[n[e[r++]],n[e[r++]],n[e[r++]],n[e[r++]],"-",n[e[r++]],n[e[r++]],"-",n[e[r++]],n[e[r++]],"-",n[e[r++]],n[e[r++]],"-",n[e[r++]],n[e[r++]],n[e[r++]],n[e[r++]],n[e[r++]],n[e[r++]]].join("")};var u,f,l=0,h=0;const d=function(e,t,r){var n=t&&r||0,i=t||[],s=(e=e||{}).node||u,a=void 0!==e.clockseq?e.clockseq:f;if(null==s||null==a){var d=e.random||(e.rng||o)();null==s&&(s=u=[1|d[0],d[1],d[2],d[3],d[4],d[5]]),null==a&&(a=f=16383&(d[6]<<8|d[7]))}var p=void 0!==e.msecs?e.msecs:(new Date).getTime(),b=void 0!==e.nsecs?e.nsecs:h+1,y=p-l+(b-h)/1e4;if(y<0&&void 0===e.clockseq&&(a=a+1&16383),(y<0||p>l)&&void 0===e.nsecs&&(b=0),b>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");l=p,h=b,f=a;var m=(1e4*(268435455&(p+=122192928e5))+b)%4294967296;i[n++]=m>>>24&255,i[n++]=m>>>16&255,i[n++]=m>>>8&255,i[n++]=255&m;var v=p/4294967296*1e4&268435455;i[n++]=v>>>8&255,i[n++]=255&v,i[n++]=v>>>24&15|16,i[n++]=v>>>16&255,i[n++]=a>>>8|128,i[n++]=255&a;for(var g=0;g<6;++g)i[n+g]=s[g];return t||c(i)};function p(e,t,r){var n=function(e,n,i,o){var s=i&&o||0;if("string"==typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));for(var t=new Array(e.length),r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(e)),"string"==typeof n&&(n=function(e){var t=[];return e.replace(/[a-fA-F0-9]{2}/g,(function(e){t.push(parseInt(e,16))})),t}(n)),!Array.isArray(e))throw TypeError("value must be an array of bytes");if(!Array.isArray(n)||16!==n.length)throw TypeError("namespace must be uuid string or an Array of 16 byte values");var a=r(n.concat(e));if(a[6]=15&a[6]|t,a[8]=63&a[8]|128,i)for(var u=0;u<16;++u)i[s+u]=a[u];return i||c(a)};try{n.name=e}catch(e){}return n.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",n.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",n}function b(e,t){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}function y(e,t,r,n,i,o){return b((s=b(b(t,e),b(n,o)))<<(a=i)|s>>>32-a,r);var s,a}function m(e,t,r,n,i,o,s){return y(t&r|~t&n,e,t,i,o,s)}function v(e,t,r,n,i,o,s){return y(t&n|r&~n,e,t,i,o,s)}function g(e,t,r,n,i,o,s){return y(t^r^n,e,t,i,o,s)}function w(e,t,r,n,i,o,s){return y(r^(t|~n),e,t,i,o,s)}const _=p("v3",48,(function(e){if("string"==typeof e){var t=unescape(encodeURIComponent(e));e=new Array(t.length);for(var r=0;r<t.length;r++)e[r]=t.charCodeAt(r)}return function(e){var t,r,n,i=[],o=32*e.length,s="0123456789abcdef";for(t=0;t<o;t+=8)r=e[t>>5]>>>t%32&255,n=parseInt(s.charAt(r>>>4&15)+s.charAt(15&r),16),i.push(n);return i}(function(e,t){var r,n,i,o,s;e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;var a=1732584193,c=-271733879,u=-1732584194,f=271733878;for(r=0;r<e.length;r+=16)n=a,i=c,o=u,s=f,a=m(a,c,u,f,e[r],7,-680876936),f=m(f,a,c,u,e[r+1],12,-389564586),u=m(u,f,a,c,e[r+2],17,606105819),c=m(c,u,f,a,e[r+3],22,-1044525330),a=m(a,c,u,f,e[r+4],7,-176418897),f=m(f,a,c,u,e[r+5],12,1200080426),u=m(u,f,a,c,e[r+6],17,-1473231341),c=m(c,u,f,a,e[r+7],22,-45705983),a=m(a,c,u,f,e[r+8],7,1770035416),f=m(f,a,c,u,e[r+9],12,-1958414417),u=m(u,f,a,c,e[r+10],17,-42063),c=m(c,u,f,a,e[r+11],22,-1990404162),a=m(a,c,u,f,e[r+12],7,1804603682),f=m(f,a,c,u,e[r+13],12,-40341101),u=m(u,f,a,c,e[r+14],17,-1502002290),a=v(a,c=m(c,u,f,a,e[r+15],22,1236535329),u,f,e[r+1],5,-165796510),f=v(f,a,c,u,e[r+6],9,-1069501632),u=v(u,f,a,c,e[r+11],14,643717713),c=v(c,u,f,a,e[r],20,-373897302),a=v(a,c,u,f,e[r+5],5,-701558691),f=v(f,a,c,u,e[r+10],9,38016083),u=v(u,f,a,c,e[r+15],14,-660478335),c=v(c,u,f,a,e[r+4],20,-405537848),a=v(a,c,u,f,e[r+9],5,568446438),f=v(f,a,c,u,e[r+14],9,-1019803690),u=v(u,f,a,c,e[r+3],14,-187363961),c=v(c,u,f,a,e[r+8],20,1163531501),a=v(a,c,u,f,e[r+13],5,-1444681467),f=v(f,a,c,u,e[r+2],9,-51403784),u=v(u,f,a,c,e[r+7],14,1735328473),a=g(a,c=v(c,u,f,a,e[r+12],20,-1926607734),u,f,e[r+5],4,-378558),f=g(f,a,c,u,e[r+8],11,-2022574463),u=g(u,f,a,c,e[r+11],16,1839030562),c=g(c,u,f,a,e[r+14],23,-35309556),a=g(a,c,u,f,e[r+1],4,-1530992060),f=g(f,a,c,u,e[r+4],11,1272893353),u=g(u,f,a,c,e[r+7],16,-155497632),c=g(c,u,f,a,e[r+10],23,-1094730640),a=g(a,c,u,f,e[r+13],4,681279174),f=g(f,a,c,u,e[r],11,-358537222),u=g(u,f,a,c,e[r+3],16,-722521979),c=g(c,u,f,a,e[r+6],23,76029189),a=g(a,c,u,f,e[r+9],4,-640364487),f=g(f,a,c,u,e[r+12],11,-421815835),u=g(u,f,a,c,e[r+15],16,530742520),a=w(a,c=g(c,u,f,a,e[r+2],23,-995338651),u,f,e[r],6,-198630844),f=w(f,a,c,u,e[r+7],10,1126891415),u=w(u,f,a,c,e[r+14],15,-1416354905),c=w(c,u,f,a,e[r+5],21,-57434055),a=w(a,c,u,f,e[r+12],6,1700485571),f=w(f,a,c,u,e[r+3],10,-1894986606),u=w(u,f,a,c,e[r+10],15,-1051523),c=w(c,u,f,a,e[r+1],21,-2054922799),a=w(a,c,u,f,e[r+8],6,1873313359),f=w(f,a,c,u,e[r+15],10,-30611744),u=w(u,f,a,c,e[r+6],15,-1560198380),c=w(c,u,f,a,e[r+13],21,1309151649),a=w(a,c,u,f,e[r+4],6,-145523070),f=w(f,a,c,u,e[r+11],10,-1120210379),u=w(u,f,a,c,e[r+2],15,718787259),c=w(c,u,f,a,e[r+9],21,-343485551),a=b(a,n),c=b(c,i),u=b(u,o),f=b(f,s);return[a,c,u,f]}(function(e){var t,r=[];for(r[(e.length>>2)-1]=void 0,t=0;t<r.length;t+=1)r[t]=0;var n=8*e.length;for(t=0;t<n;t+=8)r[t>>5]|=(255&e[t/8])<<t%32;return r}(e),8*e.length))})),S=function(e,t,r){var n=t&&r||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var i=(e=e||{}).random||(e.rng||o)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,t)for(var s=0;s<16;++s)t[n+s]=i[s];return t||c(i)};function E(e,t,r,n){switch(e){case 0:return t&r^~t&n;case 1:case 3:return t^r^n;case 2:return t&r^t&n^r&n}}function O(e,t){return e<<t|e>>>32-t}const T=p("v5",80,(function(e){var t=[1518500249,1859775393,2400959708,3395469782],r=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof e){var n=unescape(encodeURIComponent(e));e=new Array(n.length);for(var i=0;i<n.length;i++)e[i]=n.charCodeAt(i)}e.push(128);var o=e.length/4+2,s=Math.ceil(o/16),a=new Array(s);for(i=0;i<s;i++){a[i]=new Array(16);for(var c=0;c<16;c++)a[i][c]=e[64*i+4*c]<<24|e[64*i+4*c+1]<<16|e[64*i+4*c+2]<<8|e[64*i+4*c+3]}for(a[s-1][14]=8*(e.length-1)/Math.pow(2,32),a[s-1][14]=Math.floor(a[s-1][14]),a[s-1][15]=8*(e.length-1)&4294967295,i=0;i<s;i++){for(var u=new Array(80),f=0;f<16;f++)u[f]=a[i][f];for(f=16;f<80;f++)u[f]=O(u[f-3]^u[f-8]^u[f-14]^u[f-16],1);var l=r[0],h=r[1],d=r[2],p=r[3],b=r[4];for(f=0;f<80;f++){var y=Math.floor(f/20),m=O(l,5)+E(y,h,d,p)+b+t[y]+u[f]>>>0;b=p,p=d,d=O(h,30)>>>0,h=l,l=m}r[0]=r[0]+l>>>0,r[1]=r[1]+h>>>0,r[2]=r[2]+d>>>0,r[3]=r[3]+p>>>0,r[4]=r[4]+b>>>0}return[r[0]>>24&255,r[0]>>16&255,r[0]>>8&255,255&r[0],r[1]>>24&255,r[1]>>16&255,r[1]>>8&255,255&r[1],r[2]>>24&255,r[2]>>16&255,r[2]>>8&255,255&r[2],r[3]>>24&255,r[3]>>16&255,r[3]>>8&255,255&r[3],r[4]>>24&255,r[4]>>16&255,r[4]>>8&255,255&r[4]]}))},96431:(e,t,r)=>{var n=r(79068),i=r(18791),o=r(86018),s=o("Object.prototype.toString"),a=r(87936)(),c="undefined"==typeof globalThis?r.g:globalThis,u=i(),f=o("String.prototype.slice"),l={},h=r(26393),d=Object.getPrototypeOf;a&&h&&d&&n(u,(function(e){if("function"==typeof c[e]){var t=new c[e];if(Symbol.toStringTag in t){var r=d(t),n=h(r,Symbol.toStringTag);if(!n){var i=d(r);n=h(i,Symbol.toStringTag)}l[e]=n.get}}}));var p=r(81233);e.exports=function(e){return!!p(e)&&(a&&Symbol.toStringTag in e?function(e){var t=!1;return n(l,(function(r,n){if(!t)try{var i=r.call(e);i===n&&(t=i)}catch(e){}})),t}(e):f(s(e),8,-1))}},6630:e=>{e.exports=function(){for(var e={},r=0;r<arguments.length;r++){var n=arguments[r];for(var i in n)t.call(n,i)&&(e[i]=n[i])}return e};var t=Object.prototype.hasOwnProperty},98184:()=>{},11893:()=>{},46360:()=>{},13358:()=>{},36324:()=>{},8618:()=>{},26576:()=>{},10462:()=>{},56029:()=>{},99294:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getFloat16=function(e,t,...r){return(0,i.convertToNumber)((0,o.DataViewPrototypeGetUint16)(e,t,...(0,n.safeIfNeeded)(r)))},t.setFloat16=function(e,t,r,...s){return(0,o.DataViewPrototypeSetUint16)(e,t,(0,i.roundToFloat16Bits)(r),...(0,n.safeIfNeeded)(s))};var n=r(39700),i=r(9066),o=r(15933)},56822:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isFloat16Array=l;var n=r(39700),i=r(40426),o=r(9066),s=r(44305),a=r(38633),c=r(15933),u=r(45252);const f=new c.NativeWeakMap;function l(e){return(0,c.WeakMapPrototypeHas)(f,e)||!(0,c.ArrayBufferIsView)(e)&&(0,i.hasFloat16ArrayBrand)(e)}function h(e){if(!l(e))throw(0,c.NativeTypeError)(a.THIS_IS_NOT_A_FLOAT16ARRAY_OBJECT)}function d(e,t){const r=l(e),n=(0,s.isNativeTypedArray)(e);if(!r&&!n)throw(0,c.NativeTypeError)(a.SPECIES_CONSTRUCTOR_DIDNT_RETURN_TYPEDARRAY_OBJECT);if("number"==typeof t){let n;if(r){const t=p(e);n=(0,c.TypedArrayPrototypeGetLength)(t)}else n=(0,c.TypedArrayPrototypeGetLength)(e);if(n<t)throw(0,c.NativeTypeError)(a.DERIVED_CONSTRUCTOR_CREATED_TYPEDARRAY_OBJECT_WHICH_WAS_TOO_SMALL_LENGTH)}if((0,s.isNativeBigIntTypedArray)(e))throw(0,c.NativeTypeError)(a.CANNOT_MIX_BIGINT_AND_OTHER_TYPES)}function p(e){const t=(0,c.WeakMapPrototypeGet)(f,e);if(void 0!==t){const e=(0,c.TypedArrayPrototypeGetBuffer)(t);if((0,u.IsDetachedBuffer)(e))throw(0,c.NativeTypeError)(a.ATTEMPTING_TO_ACCESS_DETACHED_ARRAYBUFFER);return t}const r=e.buffer;if((0,u.IsDetachedBuffer)(r))throw(0,c.NativeTypeError)(a.ATTEMPTING_TO_ACCESS_DETACHED_ARRAYBUFFER);const n=(0,c.ReflectConstruct)(v,[r,e.byteOffset,e.length],e.constructor);return(0,c.WeakMapPrototypeGet)(f,n)}function b(e){const t=(0,c.TypedArrayPrototypeGetLength)(e),r=[];for(let n=0;n<t;++n)r[n]=(0,o.convertToNumber)(e[n]);return r}const y=new c.NativeWeakSet;for(const e of(0,c.ReflectOwnKeys)(c.TypedArrayPrototype)){if(e===c.SymbolToStringTag)continue;const t=(0,c.ReflectGetOwnPropertyDescriptor)(c.TypedArrayPrototype,e);(0,c.ObjectHasOwn)(t,"get")&&"function"==typeof t.get&&(0,c.WeakSetPrototypeAdd)(y,t.get)}const m=(0,c.ObjectFreeze)({get:(e,t,r)=>(0,s.isCanonicalIntegerIndexString)(t)&&(0,c.ObjectHasOwn)(e,t)?(0,o.convertToNumber)((0,c.ReflectGet)(e,t)):(0,c.WeakSetPrototypeHas)(y,(0,c.ObjectPrototype__lookupGetter__)(e,t))?(0,c.ReflectGet)(e,t):(0,c.ReflectGet)(e,t,r),set:(e,t,r,n)=>(0,s.isCanonicalIntegerIndexString)(t)&&(0,c.ObjectHasOwn)(e,t)?(0,c.ReflectSet)(e,t,(0,o.roundToFloat16Bits)(r)):(0,c.ReflectSet)(e,t,r,n),getOwnPropertyDescriptor(e,t){if((0,s.isCanonicalIntegerIndexString)(t)&&(0,c.ObjectHasOwn)(e,t)){const r=(0,c.ReflectGetOwnPropertyDescriptor)(e,t);return r.value=(0,o.convertToNumber)(r.value),r}return(0,c.ReflectGetOwnPropertyDescriptor)(e,t)},defineProperty:(e,t,r)=>(0,s.isCanonicalIntegerIndexString)(t)&&(0,c.ObjectHasOwn)(e,t)&&(0,c.ObjectHasOwn)(r,"value")?(r.value=(0,o.roundToFloat16Bits)(r.value),(0,c.ReflectDefineProperty)(e,t,r)):(0,c.ReflectDefineProperty)(e,t,r)});class v{constructor(e,t,r){let n;if(l(e))n=(0,c.ReflectConstruct)(c.NativeUint16Array,[p(e)],new.target);else if((0,s.isObject)(e)&&!(0,s.isArrayBuffer)(e)){let t,r;if((0,s.isNativeTypedArray)(e)){t=e,r=(0,c.TypedArrayPrototypeGetLength)(e);const i=(0,c.TypedArrayPrototypeGetBuffer)(e),o=(0,s.isSharedArrayBuffer)(i)?c.NativeArrayBuffer:(0,u.SpeciesConstructor)(i,c.NativeArrayBuffer);if((0,u.IsDetachedBuffer)(i))throw(0,c.NativeTypeError)(a.ATTEMPTING_TO_ACCESS_DETACHED_ARRAYBUFFER);if((0,s.isNativeBigIntTypedArray)(e))throw(0,c.NativeTypeError)(a.CANNOT_MIX_BIGINT_AND_OTHER_TYPES);const f=new o(2*r);n=(0,c.ReflectConstruct)(c.NativeUint16Array,[f],new.target)}else{const i=e[c.SymbolIterator];if(null!=i&&"function"!=typeof i)throw(0,c.NativeTypeError)(a.ITERATOR_PROPERTY_IS_NOT_CALLABLE);null!=i?(0,s.isOrdinaryArray)(e)?(t=e,r=e.length):(t=[...e],r=t.length):(t=e,r=(0,u.ToLength)(t.length)),n=(0,c.ReflectConstruct)(c.NativeUint16Array,[r],new.target)}for(let e=0;e<r;++e)n[e]=(0,o.roundToFloat16Bits)(t[e])}else n=(0,c.ReflectConstruct)(c.NativeUint16Array,arguments,new.target);const i=new c.NativeProxy(n,m);return(0,c.WeakMapPrototypeSet)(f,i,n),i}static from(e,...t){const r=this;if(!(0,c.ReflectHas)(r,i.brand))throw(0,c.NativeTypeError)(a.THIS_CONSTRUCTOR_IS_NOT_A_SUBCLASS_OF_FLOAT16ARRAY);if(r===v){if(l(e)&&0===t.length){const t=p(e),r=new c.NativeUint16Array((0,c.TypedArrayPrototypeGetBuffer)(t),(0,c.TypedArrayPrototypeGetByteOffset)(t),(0,c.TypedArrayPrototypeGetLength)(t));return new v((0,c.TypedArrayPrototypeGetBuffer)((0,c.TypedArrayPrototypeSlice)(r)))}if(0===t.length)return new v((0,c.TypedArrayPrototypeGetBuffer)((0,c.Uint16ArrayFrom)(e,o.roundToFloat16Bits)));const r=t[0],i=t[1];return new v((0,c.TypedArrayPrototypeGetBuffer)((0,c.Uint16ArrayFrom)(e,(function(e,...t){return(0,o.roundToFloat16Bits)((0,c.ReflectApply)(r,this,[e,...(0,n.safeIfNeeded)(t)]))}),i)))}let f,h;const d=e[c.SymbolIterator];if(null!=d&&"function"!=typeof d)throw(0,c.NativeTypeError)(a.ITERATOR_PROPERTY_IS_NOT_CALLABLE);if(null!=d)(0,s.isOrdinaryArray)(e)?(f=e,h=e.length):(0,s.isOrdinaryNativeTypedArray)(e)?(f=e,h=(0,c.TypedArrayPrototypeGetLength)(e)):(f=[...e],h=f.length);else{if(null==e)throw(0,c.NativeTypeError)(a.CANNOT_CONVERT_UNDEFINED_OR_NULL_TO_OBJECT);f=(0,c.NativeObject)(e),h=(0,u.ToLength)(f.length)}const b=new r(h);if(0===t.length)for(let e=0;e<h;++e)b[e]=f[e];else{const e=t[0],r=t[1];for(let t=0;t<h;++t)b[t]=(0,c.ReflectApply)(e,r,[f[t],t])}return b}static of(...e){const t=this;if(!(0,c.ReflectHas)(t,i.brand))throw(0,c.NativeTypeError)(a.THIS_CONSTRUCTOR_IS_NOT_A_SUBCLASS_OF_FLOAT16ARRAY);const r=e.length;if(t===v){const t=new v(r),n=p(t);for(let t=0;t<r;++t)n[t]=(0,o.roundToFloat16Bits)(e[t]);return t}const n=new t(r);for(let t=0;t<r;++t)n[t]=e[t];return n}keys(){h(this);const e=p(this);return(0,c.TypedArrayPrototypeKeys)(e)}values(){h(this);const e=p(this);return(0,n.wrap)(function*(){for(const t of(0,c.TypedArrayPrototypeValues)(e))yield(0,o.convertToNumber)(t)}())}entries(){h(this);const e=p(this);return(0,n.wrap)(function*(){for(const[t,r]of(0,c.TypedArrayPrototypeEntries)(e))yield[t,(0,o.convertToNumber)(r)]}())}at(e){h(this);const t=p(this),r=(0,c.TypedArrayPrototypeGetLength)(t),n=(0,u.ToIntegerOrInfinity)(e),i=n>=0?n:r+n;if(!(i<0||i>=r))return(0,o.convertToNumber)(t[i])}map(e,...t){h(this);const r=p(this),n=(0,c.TypedArrayPrototypeGetLength)(r),i=t[0],s=(0,u.SpeciesConstructor)(r,v);if(s===v){const t=new v(n),s=p(t);for(let t=0;t<n;++t){const n=(0,o.convertToNumber)(r[t]);s[t]=(0,o.roundToFloat16Bits)((0,c.ReflectApply)(e,i,[n,t,this]))}return t}const a=new s(n);d(a,n);for(let t=0;t<n;++t){const n=(0,o.convertToNumber)(r[t]);a[t]=(0,c.ReflectApply)(e,i,[n,t,this])}return a}filter(e,...t){h(this);const r=p(this),n=(0,c.TypedArrayPrototypeGetLength)(r),i=t[0],s=[];for(let t=0;t<n;++t){const n=(0,o.convertToNumber)(r[t]);(0,c.ReflectApply)(e,i,[n,t,this])&&(0,c.ArrayPrototypePush)(s,n)}const a=new((0,u.SpeciesConstructor)(r,v))(s);return d(a),a}reduce(e,...t){h(this);const r=p(this),n=(0,c.TypedArrayPrototypeGetLength)(r);if(0===n&&0===t.length)throw(0,c.NativeTypeError)(a.REDUCE_OF_EMPTY_ARRAY_WITH_NO_INITIAL_VALUE);let i,s;0===t.length?(i=(0,o.convertToNumber)(r[0]),s=1):(i=t[0],s=0);for(let t=s;t<n;++t)i=e(i,(0,o.convertToNumber)(r[t]),t,this);return i}reduceRight(e,...t){h(this);const r=p(this),n=(0,c.TypedArrayPrototypeGetLength)(r);if(0===n&&0===t.length)throw(0,c.NativeTypeError)(a.REDUCE_OF_EMPTY_ARRAY_WITH_NO_INITIAL_VALUE);let i,s;0===t.length?(i=(0,o.convertToNumber)(r[n-1]),s=n-2):(i=t[0],s=n-1);for(let t=s;t>=0;--t)i=e(i,(0,o.convertToNumber)(r[t]),t,this);return i}forEach(e,...t){h(this);const r=p(this),n=(0,c.TypedArrayPrototypeGetLength)(r),i=t[0];for(let t=0;t<n;++t)(0,c.ReflectApply)(e,i,[(0,o.convertToNumber)(r[t]),t,this])}find(e,...t){h(this);const r=p(this),n=(0,c.TypedArrayPrototypeGetLength)(r),i=t[0];for(let t=0;t<n;++t){const n=(0,o.convertToNumber)(r[t]);if((0,c.ReflectApply)(e,i,[n,t,this]))return n}}findIndex(e,...t){h(this);const r=p(this),n=(0,c.TypedArrayPrototypeGetLength)(r),i=t[0];for(let t=0;t<n;++t){const n=(0,o.convertToNumber)(r[t]);if((0,c.ReflectApply)(e,i,[n,t,this]))return t}return-1}findLast(e,...t){h(this);const r=p(this),n=(0,c.TypedArrayPrototypeGetLength)(r),i=t[0];for(let t=n-1;t>=0;--t){const n=(0,o.convertToNumber)(r[t]);if((0,c.ReflectApply)(e,i,[n,t,this]))return n}}findLastIndex(e,...t){h(this);const r=p(this),n=(0,c.TypedArrayPrototypeGetLength)(r),i=t[0];for(let t=n-1;t>=0;--t){const n=(0,o.convertToNumber)(r[t]);if((0,c.ReflectApply)(e,i,[n,t,this]))return t}return-1}every(e,...t){h(this);const r=p(this),n=(0,c.TypedArrayPrototypeGetLength)(r),i=t[0];for(let t=0;t<n;++t)if(!(0,c.ReflectApply)(e,i,[(0,o.convertToNumber)(r[t]),t,this]))return!1;return!0}some(e,...t){h(this);const r=p(this),n=(0,c.TypedArrayPrototypeGetLength)(r),i=t[0];for(let t=0;t<n;++t)if((0,c.ReflectApply)(e,i,[(0,o.convertToNumber)(r[t]),t,this]))return!0;return!1}set(e,...t){h(this);const r=p(this),n=(0,u.ToIntegerOrInfinity)(t[0]);if(n<0)throw(0,c.NativeRangeError)(a.OFFSET_IS_OUT_OF_BOUNDS);if(null==e)throw(0,c.NativeTypeError)(a.CANNOT_CONVERT_UNDEFINED_OR_NULL_TO_OBJECT);if((0,s.isNativeBigIntTypedArray)(e))throw(0,c.NativeTypeError)(a.CANNOT_MIX_BIGINT_AND_OTHER_TYPES);if(l(e))return(0,c.TypedArrayPrototypeSet)(p(this),p(e),n);if((0,s.isNativeTypedArray)(e)){const t=(0,c.TypedArrayPrototypeGetBuffer)(e);if((0,u.IsDetachedBuffer)(t))throw(0,c.NativeTypeError)(a.ATTEMPTING_TO_ACCESS_DETACHED_ARRAYBUFFER)}const i=(0,c.TypedArrayPrototypeGetLength)(r),f=(0,c.NativeObject)(e),d=(0,u.ToLength)(f.length);if(n===1/0||d+n>i)throw(0,c.NativeRangeError)(a.OFFSET_IS_OUT_OF_BOUNDS);for(let e=0;e<d;++e)r[e+n]=(0,o.roundToFloat16Bits)(f[e])}reverse(){h(this);const e=p(this);return(0,c.TypedArrayPrototypeReverse)(e),this}fill(e,...t){h(this);const r=p(this);return(0,c.TypedArrayPrototypeFill)(r,(0,o.roundToFloat16Bits)(e),...(0,n.safeIfNeeded)(t)),this}copyWithin(e,t,...r){h(this);const i=p(this);return(0,c.TypedArrayPrototypeCopyWithin)(i,e,t,...(0,n.safeIfNeeded)(r)),this}sort(e){h(this);const t=p(this),r=void 0!==e?e:u.defaultCompare;return(0,c.TypedArrayPrototypeSort)(t,((e,t)=>r((0,o.convertToNumber)(e),(0,o.convertToNumber)(t)))),this}slice(e,t){h(this);const r=p(this),n=(0,u.SpeciesConstructor)(r,v);if(n===v){const n=new c.NativeUint16Array((0,c.TypedArrayPrototypeGetBuffer)(r),(0,c.TypedArrayPrototypeGetByteOffset)(r),(0,c.TypedArrayPrototypeGetLength)(r));return new v((0,c.TypedArrayPrototypeGetBuffer)((0,c.TypedArrayPrototypeSlice)(n,e,t)))}const i=(0,c.TypedArrayPrototypeGetLength)(r),s=(0,u.ToIntegerOrInfinity)(e),f=void 0===t?i:(0,u.ToIntegerOrInfinity)(t);let l,b;l=s===-1/0?0:s<0?i+s>0?i+s:0:i<s?i:s,b=f===-1/0?0:f<0?i+f>0?i+f:0:i<f?i:f;const y=b-l>0?b-l:0,m=new n(y);if(d(m,y),0===y)return m;const g=(0,c.TypedArrayPrototypeGetBuffer)(r);if((0,u.IsDetachedBuffer)(g))throw(0,c.NativeTypeError)(a.ATTEMPTING_TO_ACCESS_DETACHED_ARRAYBUFFER);let w=0;for(;l<b;)m[w]=(0,o.convertToNumber)(r[l]),++l,++w;return m}subarray(e,t){h(this);const r=p(this),n=(0,u.SpeciesConstructor)(r,v),i=new c.NativeUint16Array((0,c.TypedArrayPrototypeGetBuffer)(r),(0,c.TypedArrayPrototypeGetByteOffset)(r),(0,c.TypedArrayPrototypeGetLength)(r)),o=(0,c.TypedArrayPrototypeSubarray)(i,e,t),s=new n((0,c.TypedArrayPrototypeGetBuffer)(o),(0,c.TypedArrayPrototypeGetByteOffset)(o),(0,c.TypedArrayPrototypeGetLength)(o));return d(s),s}indexOf(e,...t){h(this);const r=p(this),n=(0,c.TypedArrayPrototypeGetLength)(r);let i=(0,u.ToIntegerOrInfinity)(t[0]);if(i===1/0)return-1;i<0&&(i+=n,i<0&&(i=0));for(let t=i;t<n;++t)if((0,c.ObjectHasOwn)(r,t)&&(0,o.convertToNumber)(r[t])===e)return t;return-1}lastIndexOf(e,...t){h(this);const r=p(this),n=(0,c.TypedArrayPrototypeGetLength)(r);let i=t.length>=1?(0,u.ToIntegerOrInfinity)(t[0]):n-1;if(i===-1/0)return-1;i>=0?i=i<n-1?i:n-1:i+=n;for(let t=i;t>=0;--t)if((0,c.ObjectHasOwn)(r,t)&&(0,o.convertToNumber)(r[t])===e)return t;return-1}includes(e,...t){h(this);const r=p(this),n=(0,c.TypedArrayPrototypeGetLength)(r);let i=(0,u.ToIntegerOrInfinity)(t[0]);if(i===1/0)return!1;i<0&&(i+=n,i<0&&(i=0));const s=(0,c.NumberIsNaN)(e);for(let t=i;t<n;++t){const n=(0,o.convertToNumber)(r[t]);if(s&&(0,c.NumberIsNaN)(n))return!0;if(n===e)return!0}return!1}join(e){h(this);const t=b(p(this));return(0,c.ArrayPrototypeJoin)(t,e)}toLocaleString(...e){h(this);const t=b(p(this));return(0,c.ArrayPrototypeToLocaleString)(t,...(0,n.safeIfNeeded)(e))}get[c.SymbolToStringTag](){if(l(this))return"Float16Array"}}t.Float16Array=v,(0,c.ObjectDefineProperty)(v,"BYTES_PER_ELEMENT",{value:2}),(0,c.ObjectDefineProperty)(v,i.brand,{}),(0,c.ReflectSetPrototypeOf)(v,c.TypedArray);const g=v.prototype;(0,c.ObjectDefineProperty)(g,"BYTES_PER_ELEMENT",{value:2}),(0,c.ObjectDefineProperty)(g,c.SymbolIterator,{value:g.values,writable:!0,configurable:!0}),(0,c.ReflectSetPrototypeOf)(g,c.TypedArrayPrototype)},39700:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.safeIfNeeded=function(e){if(e[n.SymbolIterator]===n.NativeArrayPrototypeSymbolIterator)return e;const t=(0,n.ObjectCreate)(o);return(0,n.WeakMapPrototypeSet)(i,t,(0,n.ArrayPrototypeSymbolIterator)(e)),t},t.wrap=function(e){const t=(0,n.ObjectCreate)(a);return(0,n.WeakMapPrototypeSet)(s,t,e),t};var n=r(15933);const i=new n.NativeWeakMap,o=(0,n.ObjectCreate)(null,{next:{value:function(){const e=(0,n.WeakMapPrototypeGet)(i,this);return(0,n.ArrayIteratorPrototypeNext)(e)}},[n.SymbolIterator]:{value:function(){return this}}}),s=new n.NativeWeakMap,a=(0,n.ObjectCreate)(n.IteratorPrototype,{next:{value:function(){const e=(0,n.WeakMapPrototypeGet)(s,this);return(0,n.GeneratorPrototypeNext)(e)},writable:!0,configurable:!0}});for(const e of(0,n.ReflectOwnKeys)(n.ArrayIteratorPrototype))"next"!==e&&(0,n.ObjectDefineProperty)(a,e,(0,n.ReflectGetOwnPropertyDescriptor)(n.ArrayIteratorPrototype,e))},40426:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.hasFloat16ArrayBrand=function(e){if(!(0,n.isObjectLike)(e))return!1;const t=(0,o.ReflectGetPrototypeOf)(e);if(!(0,n.isObjectLike)(t))return!1;const r=t.constructor;if(void 0===r)return!1;if(!(0,n.isObject)(r))throw(0,o.NativeTypeError)(i.THE_CONSTRUCTOR_PROPERTY_VALUE_IS_NOT_AN_OBJECT);return(0,o.ReflectHas)(r,s)};var n=r(44305),i=r(38633),o=r(15933);const s=(0,o.SymbolFor)("__Float16Array__");t.brand=s},9066:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.convertToNumber=function(e){const t=e>>10;return s[0]=u[l[t]+(1023&e)]+f[t],o[0]},t.roundToFloat16Bits=function(e){o[0]=e;const t=s[0],r=t>>23&511;return a[r]+((8388607&t)>>c[r])};var n=r(15933);const i=new n.NativeArrayBuffer(4),o=new n.NativeFloat32Array(i),s=new n.NativeUint32Array(i),a=new n.NativeUint32Array(512),c=new n.NativeUint32Array(512);for(let e=0;e<256;++e){const t=e-127;t<-27?(a[e]=0,a[256|e]=32768,c[e]=24,c[256|e]=24):t<-14?(a[e]=1024>>-t-14,a[256|e]=1024>>-t-14|32768,c[e]=-t-1,c[256|e]=-t-1):t<=15?(a[e]=t+15<<10,a[256|e]=t+15<<10|32768,c[e]=13,c[256|e]=13):t<128?(a[e]=31744,a[256|e]=64512,c[e]=24,c[256|e]=24):(a[e]=31744,a[256|e]=64512,c[e]=13,c[256|e]=13)}const u=new n.NativeUint32Array(2048),f=new n.NativeUint32Array(64),l=new n.NativeUint32Array(64);for(let e=1;e<1024;++e){let t=e<<13,r=0;for(;0==(8388608&t);)t<<=1,r-=8388608;t&=-8388609,r+=947912704,u[e]=t|r}for(let e=1024;e<2048;++e)u[e]=939524096+(e-1024<<13);for(let e=1;e<31;++e)f[e]=e<<23;f[31]=1199570944,f[32]=2147483648;for(let e=33;e<63;++e)f[e]=2147483648+(e-32<<23);f[63]=3347054592;for(let e=1;e<64;++e)32!==e&&(l[e]=1024)},44305:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isArrayBuffer=function(e){try{return(0,n.ArrayBufferPrototypeGetByteLength)(e),!0}catch(e){return!1}},t.isCanonicalIntegerIndexString=function(e){if("string"!=typeof e)return!1;const t=+e;return e===t+""&&(!!(0,n.NumberIsFinite)(t)&&t===(0,n.MathTrunc)(t))},t.isNativeBigIntTypedArray=function(e){const t=(0,n.TypedArrayPrototypeGetSymbolToStringTag)(e);return"BigInt64Array"===t||"BigUint64Array"===t},t.isNativeTypedArray=i,t.isObject=function(e){return null!==e&&"object"==typeof e||"function"==typeof e},t.isObjectLike=function(e){return null!==e&&"object"==typeof e},t.isOrdinaryArray=function(e){return!!(0,n.ArrayIsArray)(e)&&(e[n.SymbolIterator]===n.NativeArrayPrototypeSymbolIterator||"Array Iterator"===e[n.SymbolIterator]()[n.SymbolToStringTag])},t.isOrdinaryNativeTypedArray=function(e){return!!i(e)&&(e[n.SymbolIterator]===n.NativeTypedArrayPrototypeSymbolIterator||"Array Iterator"===e[n.SymbolIterator]()[n.SymbolToStringTag])},t.isSharedArrayBuffer=function(e){if(null===n.NativeSharedArrayBuffer)return!1;try{return(0,n.SharedArrayBufferPrototypeGetByteLength)(e),!0}catch(e){return!1}};var n=r(15933);function i(e){return void 0!==(0,n.TypedArrayPrototypeGetSymbolToStringTag)(e)}},38633:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.THIS_IS_NOT_AN_OBJECT="This is not an object",t.THIS_IS_NOT_A_FLOAT16ARRAY_OBJECT="This is not a Float16Array object",t.THIS_CONSTRUCTOR_IS_NOT_A_SUBCLASS_OF_FLOAT16ARRAY="This constructor is not a subclass of Float16Array",t.THE_CONSTRUCTOR_PROPERTY_VALUE_IS_NOT_AN_OBJECT="The constructor property value is not an object",t.SPECIES_CONSTRUCTOR_DIDNT_RETURN_TYPEDARRAY_OBJECT="Species constructor didn't return TypedArray object",t.DERIVED_CONSTRUCTOR_CREATED_TYPEDARRAY_OBJECT_WHICH_WAS_TOO_SMALL_LENGTH="Derived constructor created TypedArray object which was too small length",t.ATTEMPTING_TO_ACCESS_DETACHED_ARRAYBUFFER="Attempting to access detached ArrayBuffer",t.CANNOT_CONVERT_UNDEFINED_OR_NULL_TO_OBJECT="Cannot convert undefined or null to object",t.CANNOT_MIX_BIGINT_AND_OTHER_TYPES="Cannot mix BigInt and other types, use explicit conversions",t.ITERATOR_PROPERTY_IS_NOT_CALLABLE="@@iterator property is not callable",t.REDUCE_OF_EMPTY_ARRAY_WITH_NO_INITIAL_VALUE="Reduce of empty array with no initial value",t.OFFSET_IS_OUT_OF_BOUNDS="Offset is out of bounds"},15933:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});var n=r(38633);function i(e){return(t,...r)=>s(e,t,r)}function o(e,t){return i(f(e,t).get)}const{apply:s,construct:a,defineProperty:c,get:u,getOwnPropertyDescriptor:f,getPrototypeOf:l,has:h,ownKeys:d,set:p,setPrototypeOf:b}=Reflect;t.ReflectSetPrototypeOf=b,t.ReflectSet=p,t.ReflectOwnKeys=d,t.ReflectHas=h,t.ReflectGetPrototypeOf=l,t.ReflectGetOwnPropertyDescriptor=f,t.ReflectGet=u,t.ReflectDefineProperty=c,t.ReflectConstruct=a,t.ReflectApply=s;const y=Proxy;t.NativeProxy=y;const{MAX_SAFE_INTEGER:m,isFinite:v,isNaN:g}=Number;t.NumberIsNaN=g,t.NumberIsFinite=v,t.MAX_SAFE_INTEGER=m;const{iterator:w,species:_,toStringTag:S,for:E}=Symbol;t.SymbolFor=E,t.SymbolToStringTag=S,t.SymbolSpecies=_,t.SymbolIterator=w;const O=Object;t.NativeObject=O;const{create:T,defineProperty:x,freeze:A,is:M}=O;t.ObjectIs=M,t.ObjectFreeze=A,t.ObjectDefineProperty=x,t.ObjectCreate=T;const P=O.prototype,j=P.__lookupGetter__?i(P.__lookupGetter__):(e,t)=>{if(null==e)throw Se(n.CANNOT_CONVERT_UNDEFINED_OR_NULL_TO_OBJECT);let r=O(e);do{const e=f(r,t);if(void 0!==e)return k(e,"get")?e.get:void 0}while(null!==(r=l(r)))};t.ObjectPrototype__lookupGetter__=j;const k=O.hasOwn||i(P.hasOwnProperty);t.ObjectHasOwn=k;const $=Array,C=$.isArray;t.ArrayIsArray=C;const I=$.prototype,R=i(I.join);t.ArrayPrototypeJoin=R;const N=i(I.push);t.ArrayPrototypePush=N;const L=i(I.toLocaleString);t.ArrayPrototypeToLocaleString=L;const D=I[w];t.NativeArrayPrototypeSymbolIterator=D;const F=i(D);t.ArrayPrototypeSymbolIterator=F;const B=Math.trunc;t.MathTrunc=B;const U=ArrayBuffer;t.NativeArrayBuffer=U;const q=U.isView;t.ArrayBufferIsView=q;const z=U.prototype,V=i(z.slice);t.ArrayBufferPrototypeSlice=V;const H=o(z,"byteLength");t.ArrayBufferPrototypeGetByteLength=H;const W="undefined"!=typeof SharedArrayBuffer?SharedArrayBuffer:null;t.NativeSharedArrayBuffer=W;const G=W&&o(W.prototype,"byteLength");t.SharedArrayBufferPrototypeGetByteLength=G;const K=l(Uint8Array);t.TypedArray=K;const J=K.from,Y=K.prototype;t.TypedArrayPrototype=Y;const X=Y[w];t.NativeTypedArrayPrototypeSymbolIterator=X;const Z=i(Y.keys);t.TypedArrayPrototypeKeys=Z;const Q=i(Y.values);t.TypedArrayPrototypeValues=Q;const ee=i(Y.entries);t.TypedArrayPrototypeEntries=ee;const te=i(Y.set);t.TypedArrayPrototypeSet=te;const re=i(Y.reverse);t.TypedArrayPrototypeReverse=re;const ne=i(Y.fill);t.TypedArrayPrototypeFill=ne;const ie=i(Y.copyWithin);t.TypedArrayPrototypeCopyWithin=ie;const oe=i(Y.sort);t.TypedArrayPrototypeSort=oe;const se=i(Y.slice);t.TypedArrayPrototypeSlice=se;const ae=i(Y.subarray);t.TypedArrayPrototypeSubarray=ae;const ce=o(Y,"buffer");t.TypedArrayPrototypeGetBuffer=ce;const ue=o(Y,"byteOffset");t.TypedArrayPrototypeGetByteOffset=ue;const fe=o(Y,"length");t.TypedArrayPrototypeGetLength=fe;const le=o(Y,S);t.TypedArrayPrototypeGetSymbolToStringTag=le;const he=Uint16Array;t.NativeUint16Array=he,t.Uint16ArrayFrom=(...e)=>s(J,he,e);const de=Uint32Array;t.NativeUint32Array=de;const pe=Float32Array;t.NativeFloat32Array=pe;const be=l([][w]());t.ArrayIteratorPrototype=be;const ye=i(be.next);t.ArrayIteratorPrototypeNext=ye;const me=i(function*(){}().next);t.GeneratorPrototypeNext=me;const ve=l(be);t.IteratorPrototype=ve;const ge=DataView.prototype,we=i(ge.getUint16);t.DataViewPrototypeGetUint16=we;const _e=i(ge.setUint16);t.DataViewPrototypeSetUint16=_e;const Se=TypeError;t.NativeTypeError=Se;const Ee=RangeError;t.NativeRangeError=Ee;const Oe=WeakSet;t.NativeWeakSet=Oe;const Te=Oe.prototype,xe=i(Te.add);t.WeakSetPrototypeAdd=xe;const Ae=i(Te.has);t.WeakSetPrototypeHas=Ae;const Me=WeakMap;t.NativeWeakMap=Me;const Pe=Me.prototype,je=i(Pe.get);t.WeakMapPrototypeGet=je;const ke=i(Pe.has);t.WeakMapPrototypeHas=ke;const $e=i(Pe.set);t.WeakMapPrototypeSet=$e},45252:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.IsDetachedBuffer=function(e){if((0,n.isSharedArrayBuffer)(e))return!1;try{return(0,o.ArrayBufferPrototypeSlice)(e,0,0),!1}catch(e){}return!0},t.SpeciesConstructor=function(e,t){if(!(0,n.isObject)(e))throw(0,o.NativeTypeError)(i.THIS_IS_NOT_AN_OBJECT);const r=e.constructor;if(void 0===r)return t;if(!(0,n.isObject)(r))throw(0,o.NativeTypeError)(i.THE_CONSTRUCTOR_PROPERTY_VALUE_IS_NOT_AN_OBJECT);const s=r[o.SymbolSpecies];return null==s?t:s},t.ToIntegerOrInfinity=s,t.ToLength=function(e){const t=s(e);return t<0?0:t<o.MAX_SAFE_INTEGER?t:o.MAX_SAFE_INTEGER},t.defaultCompare=function(e,t){const r=(0,o.NumberIsNaN)(e),n=(0,o.NumberIsNaN)(t);if(r&&n)return 0;if(r)return 1;if(n)return-1;if(e<t)return-1;if(e>t)return 1;if(0===e&&0===t){const r=(0,o.ObjectIs)(e,0),n=(0,o.ObjectIs)(t,0);if(!r&&n)return-1;if(r&&!n)return 1}return 0};var n=r(44305),i=r(38633),o=r(15933);function s(e){const t=+e;return(0,o.NumberIsNaN)(t)||0===t?0:(0,o.MathTrunc)(t)}},61809:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.hfround=function(e){const t=+e;if(!(0,i.NumberIsFinite)(t)||0===t)return t;const r=(0,n.roundToFloat16Bits)(t);return(0,n.convertToNumber)(r)};var n=r(9066),i=r(15933)},27772:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});var n=r(56822);t.Float16Array=n.Float16Array,t.isFloat16Array=n.isFloat16Array;var i=r(83387);t.isTypedArray=i.isTypedArray;var o=r(99294);t.getFloat16=o.getFloat16,t.setFloat16=o.setFloat16;var s=r(61809);t.hfround=s.hfround},83387:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isTypedArray=function(e){return(0,i.isNativeTypedArray)(e)||(0,n.isFloat16Array)(e)};var n=r(56822),i=r(44305)},18791:(e,t,r)=>{var n=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],i="undefined"==typeof globalThis?r.g:globalThis;e.exports=function(){for(var e=[],t=0;t<n.length;t++)"function"==typeof i[n[t]]&&(e[e.length]=n[t]);return e}},26393:(e,t,r)=>{var n=r(43681)("%Object.getOwnPropertyDescriptor%",!0);if(n)try{n([],"length")}catch(e){n=null}e.exports=n},20538:(e,t,r)=>{r.r(t),r.d(t,{ByteLengthQueuingStrategy:()=>Mr,CountQueuingStrategy:()=>$r,ReadableByteStreamController:()=>me,ReadableStream:()=>yr,ReadableStreamBYOBReader:()=>Ge,ReadableStreamBYOBRequest:()=>ye,ReadableStreamDefaultController:()=>Zt,ReadableStreamDefaultReader:()=>Q,TransformStream:()=>Dr,TransformStreamDefaultController:()=>zr,WritableStream:()=>at,WritableStreamDefaultController:()=>At,WritableStreamDefaultWriter:()=>wt});const n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol:e=>`Symbol(${e})`;function i(){}const o="undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:void 0;function s(e){return"object"==typeof e&&null!==e||"function"==typeof e}const a=i,c=Promise,u=Promise.prototype.then,f=Promise.resolve.bind(c),l=Promise.reject.bind(c);function h(e){return new c(e)}function d(e){return f(e)}function p(e){return l(e)}function b(e,t,r){return u.call(e,t,r)}function y(e,t,r){b(b(e,t,r),void 0,a)}function m(e,t){y(e,t)}function v(e,t){y(e,void 0,t)}function g(e,t,r){return b(e,t,r)}function w(e){b(e,void 0,a)}const _=(()=>{const e=o&&o.queueMicrotask;if("function"==typeof e)return e;const t=d(void 0);return e=>b(t,e)})();function S(e,t,r){if("function"!=typeof e)throw new TypeError("Argument is not a function");return Function.prototype.apply.call(e,t,r)}function E(e,t,r){try{return d(S(e,t,r))}catch(e){return p(e)}}class O{constructor(){this._cursor=0,this._size=0,this._front={_elements:[],_next:void 0},this._back=this._front,this._cursor=0,this._size=0}get length(){return this._size}push(e){const t=this._back;let r=t;16383===t._elements.length&&(r={_elements:[],_next:void 0}),t._elements.push(e),r!==t&&(this._back=r,t._next=r),++this._size}shift(){const e=this._front;let t=e;const r=this._cursor;let n=r+1;const i=e._elements,o=i[r];return 16384===n&&(t=e._next,n=0),--this._size,this._cursor=n,e!==t&&(this._front=t),i[r]=void 0,o}forEach(e){let t=this._cursor,r=this._front,n=r._elements;for(;!(t===n.length&&void 0===r._next||t===n.length&&(r=r._next,n=r._elements,t=0,0===n.length));)e(n[t]),++t}peek(){const e=this._front,t=this._cursor;return e._elements[t]}}function T(e,t){e._ownerReadableStream=t,t._reader=e,"readable"===t._state?P(e):"closed"===t._state?function(e){P(e),$(e)}(e):j(e,t._storedError)}function x(e,t){return Sr(e._ownerReadableStream,t)}function A(e){"readable"===e._ownerReadableStream._state?k(e,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):function(e,t){j(e,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness"))}(e),e._ownerReadableStream._reader=void 0,e._ownerReadableStream=void 0}function M(e){return new TypeError("Cannot "+e+" a stream using a released reader")}function P(e){e._closedPromise=h(((t,r)=>{e._closedPromise_resolve=t,e._closedPromise_reject=r}))}function j(e,t){P(e),k(e,t)}function k(e,t){void 0!==e._closedPromise_reject&&(w(e._closedPromise),e._closedPromise_reject(t),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0)}function $(e){void 0!==e._closedPromise_resolve&&(e._closedPromise_resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0)}const C=n("[[AbortSteps]]"),I=n("[[ErrorSteps]]"),R=n("[[CancelSteps]]"),N=n("[[PullSteps]]"),L=Number.isFinite||function(e){return"number"==typeof e&&isFinite(e)},D=Math.trunc||function(e){return e<0?Math.ceil(e):Math.floor(e)};function F(e,t){if(void 0!==e&&"object"!=typeof(r=e)&&"function"!=typeof r)throw new TypeError(`${t} is not an object.`);var r}function B(e,t){if("function"!=typeof e)throw new TypeError(`${t} is not a function.`)}function U(e,t){if(!function(e){return"object"==typeof e&&null!==e||"function"==typeof e}(e))throw new TypeError(`${t} is not an object.`)}function q(e,t,r){if(void 0===e)throw new TypeError(`Parameter ${t} is required in '${r}'.`)}function z(e,t,r){if(void 0===e)throw new TypeError(`${t} is required in '${r}'.`)}function V(e){return Number(e)}function H(e){return 0===e?0:e}function W(e,t){const r=Number.MAX_SAFE_INTEGER;let n=Number(e);if(n=H(n),!L(n))throw new TypeError(`${t} is not a finite number`);if(n=function(e){return H(D(e))}(n),n<0||n>r)throw new TypeError(`${t} is outside the accepted range of 0 to ${r}, inclusive`);return L(n)&&0!==n?n:0}function G(e,t){if(!wr(e))throw new TypeError(`${t} is not a ReadableStream.`)}function K(e){return new Q(e)}function J(e,t){e._reader._readRequests.push(t)}function Y(e,t,r){const n=e._reader._readRequests.shift();r?n._closeSteps():n._chunkSteps(t)}function X(e){return e._reader._readRequests.length}function Z(e){const t=e._reader;return void 0!==t&&!!ee(t)}class Q{constructor(e){if(q(e,1,"ReadableStreamDefaultReader"),G(e,"First parameter"),_r(e))throw new TypeError("This stream has already been locked for exclusive reading by another reader");T(this,e),this._readRequests=new O}get closed(){return ee(this)?this._closedPromise:p(re("closed"))}cancel(e){return ee(this)?void 0===this._ownerReadableStream?p(M("cancel")):x(this,e):p(re("cancel"))}read(){if(!ee(this))return p(re("read"));if(void 0===this._ownerReadableStream)return p(M("read from"));let e,t;const r=h(((r,n)=>{e=r,t=n}));return te(this,{_chunkSteps:t=>e({value:t,done:!1}),_closeSteps:()=>e({value:void 0,done:!0}),_errorSteps:e=>t(e)}),r}releaseLock(){if(!ee(this))throw re("releaseLock");if(void 0!==this._ownerReadableStream){if(this._readRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");A(this)}}}function ee(e){return!!s(e)&&!!Object.prototype.hasOwnProperty.call(e,"_readRequests")&&e instanceof Q}function te(e,t){const r=e._ownerReadableStream;r._disturbed=!0,"closed"===r._state?t._closeSteps():"errored"===r._state?t._errorSteps(r._storedError):r._readableStreamController[N](t)}function re(e){return new TypeError(`ReadableStreamDefaultReader.prototype.${e} can only be used on a ReadableStreamDefaultReader`)}Object.defineProperties(Q.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),"symbol"==typeof n.toStringTag&&Object.defineProperty(Q.prototype,n.toStringTag,{value:"ReadableStreamDefaultReader",configurable:!0});const ne=Object.getPrototypeOf(Object.getPrototypeOf((async function*(){})).prototype);class ie{constructor(e,t){this._ongoingPromise=void 0,this._isFinished=!1,this._reader=e,this._preventCancel=t}next(){const e=()=>this._nextSteps();return this._ongoingPromise=this._ongoingPromise?g(this._ongoingPromise,e,e):e(),this._ongoingPromise}return(e){const t=()=>this._returnSteps(e);return this._ongoingPromise?g(this._ongoingPromise,t,t):t()}_nextSteps(){if(this._isFinished)return Promise.resolve({value:void 0,done:!0});const e=this._reader;if(void 0===e._ownerReadableStream)return p(M("iterate"));let t,r;const n=h(((e,n)=>{t=e,r=n}));return te(e,{_chunkSteps:e=>{this._ongoingPromise=void 0,_((()=>t({value:e,done:!1})))},_closeSteps:()=>{this._ongoingPromise=void 0,this._isFinished=!0,A(e),t({value:void 0,done:!0})},_errorSteps:t=>{this._ongoingPromise=void 0,this._isFinished=!0,A(e),r(t)}}),n}_returnSteps(e){if(this._isFinished)return Promise.resolve({value:e,done:!0});this._isFinished=!0;const t=this._reader;if(void 0===t._ownerReadableStream)return p(M("finish iterating"));if(!this._preventCancel){const r=x(t,e);return A(t),g(r,(()=>({value:e,done:!0})))}return A(t),d({value:e,done:!0})}}const oe={next(){return se(this)?this._asyncIteratorImpl.next():p(ae("next"))},return(e){return se(this)?this._asyncIteratorImpl.return(e):p(ae("return"))}};function se(e){if(!s(e))return!1;if(!Object.prototype.hasOwnProperty.call(e,"_asyncIteratorImpl"))return!1;try{return e._asyncIteratorImpl instanceof ie}catch(e){return!1}}function ae(e){return new TypeError(`ReadableStreamAsyncIterator.${e} can only be used on a ReadableSteamAsyncIterator`)}void 0!==ne&&Object.setPrototypeOf(oe,ne);const ce=Number.isNaN||function(e){return e!=e};function ue(e){return e.slice()}function fe(e,t,r,n,i){new Uint8Array(e).set(new Uint8Array(r,n,i),t)}function le(e,t,r){if(e.slice)return e.slice(t,r);const n=r-t,i=new ArrayBuffer(n);return fe(i,0,e,t,n),i}function he(e){const t=le(e.buffer,e.byteOffset,e.byteOffset+e.byteLength);return new Uint8Array(t)}function de(e){const t=e._queue.shift();return e._queueTotalSize-=t.size,e._queueTotalSize<0&&(e._queueTotalSize=0),t.value}function pe(e,t,r){if("number"!=typeof(n=r)||ce(n)||n<0||r===1/0)throw new RangeError("Size must be a finite, non-NaN, non-negative number.");var n;e._queue.push({value:t,size:r}),e._queueTotalSize+=r}function be(e){e._queue=new O,e._queueTotalSize=0}class ye{constructor(){throw new TypeError("Illegal constructor")}get view(){if(!ge(this))throw Ue("view");return this._view}respond(e){if(!ge(this))throw Ue("respond");if(q(e,1,"respond"),e=W(e,"First parameter"),void 0===this._associatedReadableByteStreamController)throw new TypeError("This BYOB request has been invalidated");this._view.buffer,De(this._associatedReadableByteStreamController,e)}respondWithNewView(e){if(!ge(this))throw Ue("respondWithNewView");if(q(e,1,"respondWithNewView"),!ArrayBuffer.isView(e))throw new TypeError("You can only respond with array buffer views");if(void 0===this._associatedReadableByteStreamController)throw new TypeError("This BYOB request has been invalidated");e.buffer,Fe(this._associatedReadableByteStreamController,e)}}Object.defineProperties(ye.prototype,{respond:{enumerable:!0},respondWithNewView:{enumerable:!0},view:{enumerable:!0}}),"symbol"==typeof n.toStringTag&&Object.defineProperty(ye.prototype,n.toStringTag,{value:"ReadableStreamBYOBRequest",configurable:!0});class me{constructor(){throw new TypeError("Illegal constructor")}get byobRequest(){if(!ve(this))throw qe("byobRequest");return Ne(this)}get desiredSize(){if(!ve(this))throw qe("desiredSize");return Le(this)}close(){if(!ve(this))throw qe("close");if(this._closeRequested)throw new TypeError("The stream has already been closed; do not close it again!");const e=this._controlledReadableByteStream._state;if("readable"!==e)throw new TypeError(`The stream (in ${e} state) is not in the readable state and cannot be closed`);Ce(this)}enqueue(e){if(!ve(this))throw qe("enqueue");if(q(e,1,"enqueue"),!ArrayBuffer.isView(e))throw new TypeError("chunk must be an array buffer view");if(0===e.byteLength)throw new TypeError("chunk must have non-zero byteLength");if(0===e.buffer.byteLength)throw new TypeError("chunk's buffer must have non-zero byteLength");if(this._closeRequested)throw new TypeError("stream is closed or draining");const t=this._controlledReadableByteStream._state;if("readable"!==t)throw new TypeError(`The stream (in ${t} state) is not in the readable state and cannot be enqueued to`);Ie(this,e)}error(e){if(!ve(this))throw qe("error");Re(this,e)}[R](e){_e(this),be(this);const t=this._cancelAlgorithm(e);return $e(this),t}[N](e){const t=this._controlledReadableByteStream;if(this._queueTotalSize>0){const t=this._queue.shift();this._queueTotalSize-=t.byteLength,Ae(this);const r=new Uint8Array(t.buffer,t.byteOffset,t.byteLength);return void e._chunkSteps(r)}const r=this._autoAllocateChunkSize;if(void 0!==r){let t;try{t=new ArrayBuffer(r)}catch(t){return void e._errorSteps(t)}const n={buffer:t,bufferByteLength:r,byteOffset:0,byteLength:r,bytesFilled:0,elementSize:1,viewConstructor:Uint8Array,readerType:"default"};this._pendingPullIntos.push(n)}J(t,e),we(this)}}function ve(e){return!!s(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledReadableByteStream")&&e instanceof me}function ge(e){return!!s(e)&&!!Object.prototype.hasOwnProperty.call(e,"_associatedReadableByteStreamController")&&e instanceof ye}function we(e){const t=function(e){const t=e._controlledReadableByteStream;return"readable"===t._state&&(!e._closeRequested&&(!!e._started&&(!!(Z(t)&&X(t)>0)||(!!(We(t)&&He(t)>0)||Le(e)>0))))}(e);t&&(e._pulling?e._pullAgain=!0:(e._pulling=!0,y(e._pullAlgorithm(),(()=>{e._pulling=!1,e._pullAgain&&(e._pullAgain=!1,we(e))}),(t=>{Re(e,t)}))))}function _e(e){Me(e),e._pendingPullIntos=new O}function Se(e,t){let r=!1;"closed"===e._state&&(r=!0);const n=Ee(t);"default"===t.readerType?Y(e,n,r):function(e,t,r){const n=e._reader._readIntoRequests.shift();r?n._closeSteps(t):n._chunkSteps(t)}(e,n,r)}function Ee(e){const t=e.bytesFilled,r=e.elementSize;return new e.viewConstructor(e.buffer,e.byteOffset,t/r)}function Oe(e,t,r,n){e._queue.push({buffer:t,byteOffset:r,byteLength:n}),e._queueTotalSize+=n}function Te(e,t){const r=t.elementSize,n=t.bytesFilled-t.bytesFilled%r,i=Math.min(e._queueTotalSize,t.byteLength-t.bytesFilled),o=t.bytesFilled+i,s=o-o%r;let a=i,c=!1;s>n&&(a=s-t.bytesFilled,c=!0);const u=e._queue;for(;a>0;){const r=u.peek(),n=Math.min(a,r.byteLength),i=t.byteOffset+t.bytesFilled;fe(t.buffer,i,r.buffer,r.byteOffset,n),r.byteLength===n?u.shift():(r.byteOffset+=n,r.byteLength-=n),e._queueTotalSize-=n,xe(0,n,t),a-=n}return c}function xe(e,t,r){r.bytesFilled+=t}function Ae(e){0===e._queueTotalSize&&e._closeRequested?($e(e),Er(e._controlledReadableByteStream)):we(e)}function Me(e){null!==e._byobRequest&&(e._byobRequest._associatedReadableByteStreamController=void 0,e._byobRequest._view=null,e._byobRequest=null)}function Pe(e){for(;e._pendingPullIntos.length>0;){if(0===e._queueTotalSize)return;const t=e._pendingPullIntos.peek();Te(e,t)&&(ke(e),Se(e._controlledReadableByteStream,t))}}function je(e,t){const r=e._pendingPullIntos.peek();Me(e),"closed"===e._controlledReadableByteStream._state?function(e,t){const r=e._controlledReadableByteStream;if(We(r))for(;He(r)>0;)Se(r,ke(e))}(e):function(e,t,r){if(xe(0,t,r),r.bytesFilled<r.elementSize)return;ke(e);const n=r.bytesFilled%r.elementSize;if(n>0){const t=r.byteOffset+r.bytesFilled,i=le(r.buffer,t-n,t);Oe(e,i,0,i.byteLength)}r.bytesFilled-=n,Se(e._controlledReadableByteStream,r),Pe(e)}(e,t,r),we(e)}function ke(e){return e._pendingPullIntos.shift()}function $e(e){e._pullAlgorithm=void 0,e._cancelAlgorithm=void 0}function Ce(e){const t=e._controlledReadableByteStream;if(!e._closeRequested&&"readable"===t._state)if(e._queueTotalSize>0)e._closeRequested=!0;else{if(e._pendingPullIntos.length>0&&e._pendingPullIntos.peek().bytesFilled>0){const t=new TypeError("Insufficient bytes to fill elements in the given buffer");throw Re(e,t),t}$e(e),Er(t)}}function Ie(e,t){const r=e._controlledReadableByteStream;if(e._closeRequested||"readable"!==r._state)return;const n=t.buffer,i=t.byteOffset,o=t.byteLength,s=n;if(e._pendingPullIntos.length>0){const t=e._pendingPullIntos.peek();t.buffer,t.buffer=t.buffer}Me(e),Z(r)?0===X(r)?Oe(e,s,i,o):(e._pendingPullIntos.length>0&&ke(e),Y(r,new Uint8Array(s,i,o),!1)):We(r)?(Oe(e,s,i,o),Pe(e)):Oe(e,s,i,o),we(e)}function Re(e,t){const r=e._controlledReadableByteStream;"readable"===r._state&&(_e(e),be(e),$e(e),Or(r,t))}function Ne(e){if(null===e._byobRequest&&e._pendingPullIntos.length>0){const t=e._pendingPullIntos.peek(),r=new Uint8Array(t.buffer,t.byteOffset+t.bytesFilled,t.byteLength-t.bytesFilled),n=Object.create(ye.prototype);!function(e,t,r){e._associatedReadableByteStreamController=t,e._view=r}(n,e,r),e._byobRequest=n}return e._byobRequest}function Le(e){const t=e._controlledReadableByteStream._state;return"errored"===t?null:"closed"===t?0:e._strategyHWM-e._queueTotalSize}function De(e,t){const r=e._pendingPullIntos.peek();if("closed"===e._controlledReadableByteStream._state){if(0!==t)throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream")}else{if(0===t)throw new TypeError("bytesWritten must be greater than 0 when calling respond() on a readable stream");if(r.bytesFilled+t>r.byteLength)throw new RangeError("bytesWritten out of range")}r.buffer=r.buffer,je(e,t)}function Fe(e,t){const r=e._pendingPullIntos.peek();if("closed"===e._controlledReadableByteStream._state){if(0!==t.byteLength)throw new TypeError("The view's length must be 0 when calling respondWithNewView() on a closed stream")}else if(0===t.byteLength)throw new TypeError("The view's length must be greater than 0 when calling respondWithNewView() on a readable stream");if(r.byteOffset+r.bytesFilled!==t.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(r.bufferByteLength!==t.buffer.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");if(r.bytesFilled+t.byteLength>r.byteLength)throw new RangeError("The region specified by view is larger than byobRequest");const n=t.byteLength;r.buffer=t.buffer,je(e,n)}function Be(e,t,r,n,i,o,s){t._controlledReadableByteStream=e,t._pullAgain=!1,t._pulling=!1,t._byobRequest=null,t._queue=t._queueTotalSize=void 0,be(t),t._closeRequested=!1,t._started=!1,t._strategyHWM=o,t._pullAlgorithm=n,t._cancelAlgorithm=i,t._autoAllocateChunkSize=s,t._pendingPullIntos=new O,e._readableStreamController=t,y(d(r()),(()=>{t._started=!0,we(t)}),(e=>{Re(t,e)}))}function Ue(e){return new TypeError(`ReadableStreamBYOBRequest.prototype.${e} can only be used on a ReadableStreamBYOBRequest`)}function qe(e){return new TypeError(`ReadableByteStreamController.prototype.${e} can only be used on a ReadableByteStreamController`)}function ze(e){return new Ge(e)}function Ve(e,t){e._reader._readIntoRequests.push(t)}function He(e){return e._reader._readIntoRequests.length}function We(e){const t=e._reader;return void 0!==t&&!!Ke(t)}Object.defineProperties(me.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},byobRequest:{enumerable:!0},desiredSize:{enumerable:!0}}),"symbol"==typeof n.toStringTag&&Object.defineProperty(me.prototype,n.toStringTag,{value:"ReadableByteStreamController",configurable:!0});class Ge{constructor(e){if(q(e,1,"ReadableStreamBYOBReader"),G(e,"First parameter"),_r(e))throw new TypeError("This stream has already been locked for exclusive reading by another reader");if(!ve(e._readableStreamController))throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");T(this,e),this._readIntoRequests=new O}get closed(){return Ke(this)?this._closedPromise:p(Ye("closed"))}cancel(e){return Ke(this)?void 0===this._ownerReadableStream?p(M("cancel")):x(this,e):p(Ye("cancel"))}read(e){if(!Ke(this))return p(Ye("read"));if(!ArrayBuffer.isView(e))return p(new TypeError("view must be an array buffer view"));if(0===e.byteLength)return p(new TypeError("view must have non-zero byteLength"));if(0===e.buffer.byteLength)return p(new TypeError("view's buffer must have non-zero byteLength"));if(e.buffer,void 0===this._ownerReadableStream)return p(M("read from"));let t,r;const n=h(((e,n)=>{t=e,r=n}));return Je(this,e,{_chunkSteps:e=>t({value:e,done:!1}),_closeSteps:e=>t({value:e,done:!0}),_errorSteps:e=>r(e)}),n}releaseLock(){if(!Ke(this))throw Ye("releaseLock");if(void 0!==this._ownerReadableStream){if(this._readIntoRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");A(this)}}}function Ke(e){return!!s(e)&&!!Object.prototype.hasOwnProperty.call(e,"_readIntoRequests")&&e instanceof Ge}function Je(e,t,r){const n=e._ownerReadableStream;n._disturbed=!0,"errored"===n._state?r._errorSteps(n._storedError):function(e,t,r){const n=e._controlledReadableByteStream;let i=1;t.constructor!==DataView&&(i=t.constructor.BYTES_PER_ELEMENT);const o=t.constructor,s=t.buffer,a={buffer:s,bufferByteLength:s.byteLength,byteOffset:t.byteOffset,byteLength:t.byteLength,bytesFilled:0,elementSize:i,viewConstructor:o,readerType:"byob"};if(e._pendingPullIntos.length>0)return e._pendingPullIntos.push(a),void Ve(n,r);if("closed"!==n._state){if(e._queueTotalSize>0){if(Te(e,a)){const t=Ee(a);return Ae(e),void r._chunkSteps(t)}if(e._closeRequested){const t=new TypeError("Insufficient bytes to fill elements in the given buffer");return Re(e,t),void r._errorSteps(t)}}e._pendingPullIntos.push(a),Ve(n,r),we(e)}else{const e=new o(a.buffer,a.byteOffset,0);r._closeSteps(e)}}(n._readableStreamController,t,r)}function Ye(e){return new TypeError(`ReadableStreamBYOBReader.prototype.${e} can only be used on a ReadableStreamBYOBReader`)}function Xe(e,t){const{highWaterMark:r}=e;if(void 0===r)return t;if(ce(r)||r<0)throw new RangeError("Invalid highWaterMark");return r}function Ze(e){const{size:t}=e;return t||(()=>1)}function Qe(e,t){F(e,t);const r=null==e?void 0:e.highWaterMark,n=null==e?void 0:e.size;return{highWaterMark:void 0===r?void 0:V(r),size:void 0===n?void 0:et(n,`${t} has member 'size' that`)}}function et(e,t){return B(e,t),t=>V(e(t))}function tt(e,t,r){return B(e,r),r=>E(e,t,[r])}function rt(e,t,r){return B(e,r),()=>E(e,t,[])}function nt(e,t,r){return B(e,r),r=>S(e,t,[r])}function it(e,t,r){return B(e,r),(r,n)=>E(e,t,[r,n])}function ot(e,t){if(!ft(e))throw new TypeError(`${t} is not a WritableStream.`)}Object.defineProperties(Ge.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),"symbol"==typeof n.toStringTag&&Object.defineProperty(Ge.prototype,n.toStringTag,{value:"ReadableStreamBYOBReader",configurable:!0});const st="function"==typeof AbortController;class at{constructor(e={},t={}){void 0===e?e=null:U(e,"First parameter");const r=Qe(t,"Second parameter"),n=function(e,t){F(e,t);const r=null==e?void 0:e.abort,n=null==e?void 0:e.close,i=null==e?void 0:e.start,o=null==e?void 0:e.type,s=null==e?void 0:e.write;return{abort:void 0===r?void 0:tt(r,e,`${t} has member 'abort' that`),close:void 0===n?void 0:rt(n,e,`${t} has member 'close' that`),start:void 0===i?void 0:nt(i,e,`${t} has member 'start' that`),write:void 0===s?void 0:it(s,e,`${t} has member 'write' that`),type:o}}(e,"First parameter");if(ut(this),void 0!==n.type)throw new RangeError("Invalid type is specified");const i=Ze(r);!function(e,t,r,n){const i=Object.create(At.prototype);let o=()=>{},s=()=>d(void 0),a=()=>d(void 0),c=()=>d(void 0);void 0!==t.start&&(o=()=>t.start(i)),void 0!==t.write&&(s=e=>t.write(e,i)),void 0!==t.close&&(a=()=>t.close()),void 0!==t.abort&&(c=e=>t.abort(e)),Pt(e,i,o,s,a,c,r,n)}(this,n,Xe(r,1),i)}get locked(){if(!ft(this))throw Nt("locked");return lt(this)}abort(e){return ft(this)?lt(this)?p(new TypeError("Cannot abort a stream that already has a writer")):ht(this,e):p(Nt("abort"))}close(){return ft(this)?lt(this)?p(new TypeError("Cannot close a stream that already has a writer")):mt(this)?p(new TypeError("Cannot close an already-closing stream")):dt(this):p(Nt("close"))}getWriter(){if(!ft(this))throw Nt("getWriter");return ct(this)}}function ct(e){return new wt(e)}function ut(e){e._state="writable",e._storedError=void 0,e._writer=void 0,e._writableStreamController=void 0,e._writeRequests=new O,e._inFlightWriteRequest=void 0,e._closeRequest=void 0,e._inFlightCloseRequest=void 0,e._pendingAbortRequest=void 0,e._backpressure=!1}function ft(e){return!!s(e)&&!!Object.prototype.hasOwnProperty.call(e,"_writableStreamController")&&e instanceof at}function lt(e){return void 0!==e._writer}function ht(e,t){var r;if("closed"===e._state||"errored"===e._state)return d(void 0);e._writableStreamController._abortReason=t,null===(r=e._writableStreamController._abortController)||void 0===r||r.abort();const n=e._state;if("closed"===n||"errored"===n)return d(void 0);if(void 0!==e._pendingAbortRequest)return e._pendingAbortRequest._promise;let i=!1;"erroring"===n&&(i=!0,t=void 0);const o=h(((r,n)=>{e._pendingAbortRequest={_promise:void 0,_resolve:r,_reject:n,_reason:t,_wasAlreadyErroring:i}}));return e._pendingAbortRequest._promise=o,i||bt(e,t),o}function dt(e){const t=e._state;if("closed"===t||"errored"===t)return p(new TypeError(`The stream (in ${t} state) is not in the writable state and cannot be closed`));const r=h(((t,r)=>{const n={_resolve:t,_reject:r};e._closeRequest=n})),n=e._writer;var i;return void 0!==n&&e._backpressure&&"writable"===t&&Kt(n),pe(i=e._writableStreamController,xt,0),$t(i),r}function pt(e,t){"writable"!==e._state?yt(e):bt(e,t)}function bt(e,t){const r=e._writableStreamController;e._state="erroring",e._storedError=t;const n=e._writer;void 0!==n&&Et(n,t),!function(e){return void 0!==e._inFlightWriteRequest||void 0!==e._inFlightCloseRequest}(e)&&r._started&&yt(e)}function yt(e){e._state="errored",e._writableStreamController[I]();const t=e._storedError;if(e._writeRequests.forEach((e=>{e._reject(t)})),e._writeRequests=new O,void 0===e._pendingAbortRequest)return void vt(e);const r=e._pendingAbortRequest;if(e._pendingAbortRequest=void 0,r._wasAlreadyErroring)return r._reject(t),void vt(e);y(e._writableStreamController[C](r._reason),(()=>{r._resolve(),vt(e)}),(t=>{r._reject(t),vt(e)}))}function mt(e){return void 0!==e._closeRequest||void 0!==e._inFlightCloseRequest}function vt(e){void 0!==e._closeRequest&&(e._closeRequest._reject(e._storedError),e._closeRequest=void 0);const t=e._writer;void 0!==t&&qt(t,e._storedError)}function gt(e,t){const r=e._writer;void 0!==r&&t!==e._backpressure&&(t?function(e){Vt(e)}(r):Kt(r)),e._backpressure=t}Object.defineProperties(at.prototype,{abort:{enumerable:!0},close:{enumerable:!0},getWriter:{enumerable:!0},locked:{enumerable:!0}}),"symbol"==typeof n.toStringTag&&Object.defineProperty(at.prototype,n.toStringTag,{value:"WritableStream",configurable:!0});class wt{constructor(e){if(q(e,1,"WritableStreamDefaultWriter"),ot(e,"First parameter"),lt(e))throw new TypeError("This stream has already been locked for exclusive writing by another writer");this._ownerWritableStream=e,e._writer=this;const t=e._state;if("writable"===t)!mt(e)&&e._backpressure?Vt(this):Wt(this),Bt(this);else if("erroring"===t)Ht(this,e._storedError),Bt(this);else if("closed"===t)Wt(this),Bt(this),zt(this);else{const t=e._storedError;Ht(this,t),Ut(this,t)}}get closed(){return _t(this)?this._closedPromise:p(Dt("closed"))}get desiredSize(){if(!_t(this))throw Dt("desiredSize");if(void 0===this._ownerWritableStream)throw Ft("desiredSize");return function(e){const t=e._ownerWritableStream,r=t._state;return"errored"===r||"erroring"===r?null:"closed"===r?0:kt(t._writableStreamController)}(this)}get ready(){return _t(this)?this._readyPromise:p(Dt("ready"))}abort(e){return _t(this)?void 0===this._ownerWritableStream?p(Ft("abort")):function(e,t){return ht(e._ownerWritableStream,t)}(this,e):p(Dt("abort"))}close(){if(!_t(this))return p(Dt("close"));const e=this._ownerWritableStream;return void 0===e?p(Ft("close")):mt(e)?p(new TypeError("Cannot close an already-closing stream")):St(this)}releaseLock(){if(!_t(this))throw Dt("releaseLock");void 0!==this._ownerWritableStream&&Ot(this)}write(e){return _t(this)?void 0===this._ownerWritableStream?p(Ft("write to")):Tt(this,e):p(Dt("write"))}}function _t(e){return!!s(e)&&!!Object.prototype.hasOwnProperty.call(e,"_ownerWritableStream")&&e instanceof wt}function St(e){return dt(e._ownerWritableStream)}function Et(e,t){"pending"===e._readyPromiseState?Gt(e,t):function(e,t){Ht(e,t)}(e,t)}function Ot(e){const t=e._ownerWritableStream,r=new TypeError("Writer was released and can no longer be used to monitor the stream's closedness");Et(e,r),function(e,t){"pending"===e._closedPromiseState?qt(e,t):function(e,t){Ut(e,t)}(e,t)}(e,r),t._writer=void 0,e._ownerWritableStream=void 0}function Tt(e,t){const r=e._ownerWritableStream,n=r._writableStreamController,i=function(e,t){try{return e._strategySizeAlgorithm(t)}catch(t){return Ct(e,t),1}}(n,t);if(r!==e._ownerWritableStream)return p(Ft("write to"));const o=r._state;if("errored"===o)return p(r._storedError);if(mt(r)||"closed"===o)return p(new TypeError("The stream is closing or closed and cannot be written to"));if("erroring"===o)return p(r._storedError);const s=function(e){return h(((t,r)=>{const n={_resolve:t,_reject:r};e._writeRequests.push(n)}))}(r);return function(e,t,r){try{pe(e,t,r)}catch(t){return void Ct(e,t)}const n=e._controlledWritableStream;mt(n)||"writable"!==n._state||gt(n,It(e)),$t(e)}(n,t,i),s}Object.defineProperties(wt.prototype,{abort:{enumerable:!0},close:{enumerable:!0},releaseLock:{enumerable:!0},write:{enumerable:!0},closed:{enumerable:!0},desiredSize:{enumerable:!0},ready:{enumerable:!0}}),"symbol"==typeof n.toStringTag&&Object.defineProperty(wt.prototype,n.toStringTag,{value:"WritableStreamDefaultWriter",configurable:!0});const xt={};class At{constructor(){throw new TypeError("Illegal constructor")}get abortReason(){if(!Mt(this))throw Lt("abortReason");return this._abortReason}get signal(){if(!Mt(this))throw Lt("signal");if(void 0===this._abortController)throw new TypeError("WritableStreamDefaultController.prototype.signal is not supported");return this._abortController.signal}error(e){if(!Mt(this))throw Lt("error");"writable"===this._controlledWritableStream._state&&Rt(this,e)}[C](e){const t=this._abortAlgorithm(e);return jt(this),t}[I](){be(this)}}function Mt(e){return!!s(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledWritableStream")&&e instanceof At}function Pt(e,t,r,n,i,o,s,a){t._controlledWritableStream=e,e._writableStreamController=t,t._queue=void 0,t._queueTotalSize=void 0,be(t),t._abortReason=void 0,t._abortController=function(){if(st)return new AbortController}(),t._started=!1,t._strategySizeAlgorithm=a,t._strategyHWM=s,t._writeAlgorithm=n,t._closeAlgorithm=i,t._abortAlgorithm=o;const c=It(t);gt(e,c),y(d(r()),(()=>{t._started=!0,$t(t)}),(r=>{t._started=!0,pt(e,r)}))}function jt(e){e._writeAlgorithm=void 0,e._closeAlgorithm=void 0,e._abortAlgorithm=void 0,e._strategySizeAlgorithm=void 0}function kt(e){return e._strategyHWM-e._queueTotalSize}function $t(e){const t=e._controlledWritableStream;if(!e._started)return;if(void 0!==t._inFlightWriteRequest)return;if("erroring"===t._state)return void yt(t);if(0===e._queue.length)return;const r=e._queue.peek().value;r===xt?function(e){const t=e._controlledWritableStream;(function(e){e._inFlightCloseRequest=e._closeRequest,e._closeRequest=void 0})(t),de(e);const r=e._closeAlgorithm();jt(e),y(r,(()=>{!function(e){e._inFlightCloseRequest._resolve(void 0),e._inFlightCloseRequest=void 0,"erroring"===e._state&&(e._storedError=void 0,void 0!==e._pendingAbortRequest&&(e._pendingAbortRequest._resolve(),e._pendingAbortRequest=void 0)),e._state="closed";const t=e._writer;void 0!==t&&zt(t)}(t)}),(e=>{!function(e,t){e._inFlightCloseRequest._reject(t),e._inFlightCloseRequest=void 0,void 0!==e._pendingAbortRequest&&(e._pendingAbortRequest._reject(t),e._pendingAbortRequest=void 0),pt(e,t)}(t,e)}))}(e):function(e,t){const r=e._controlledWritableStream;!function(e){e._inFlightWriteRequest=e._writeRequests.shift()}(r),y(e._writeAlgorithm(t),(()=>{!function(e){e._inFlightWriteRequest._resolve(void 0),e._inFlightWriteRequest=void 0}(r);const t=r._state;if(de(e),!mt(r)&&"writable"===t){const t=It(e);gt(r,t)}$t(e)}),(t=>{"writable"===r._state&&jt(e),function(e,t){e._inFlightWriteRequest._reject(t),e._inFlightWriteRequest=void 0,pt(e,t)}(r,t)}))}(e,r)}function Ct(e,t){"writable"===e._controlledWritableStream._state&&Rt(e,t)}function It(e){return kt(e)<=0}function Rt(e,t){const r=e._controlledWritableStream;jt(e),bt(r,t)}function Nt(e){return new TypeError(`WritableStream.prototype.${e} can only be used on a WritableStream`)}function Lt(e){return new TypeError(`WritableStreamDefaultController.prototype.${e} can only be used on a WritableStreamDefaultController`)}function Dt(e){return new TypeError(`WritableStreamDefaultWriter.prototype.${e} can only be used on a WritableStreamDefaultWriter`)}function Ft(e){return new TypeError("Cannot "+e+" a stream using a released writer")}function Bt(e){e._closedPromise=h(((t,r)=>{e._closedPromise_resolve=t,e._closedPromise_reject=r,e._closedPromiseState="pending"}))}function Ut(e,t){Bt(e),qt(e,t)}function qt(e,t){void 0!==e._closedPromise_reject&&(w(e._closedPromise),e._closedPromise_reject(t),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="rejected")}function zt(e){void 0!==e._closedPromise_resolve&&(e._closedPromise_resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="resolved")}function Vt(e){e._readyPromise=h(((t,r)=>{e._readyPromise_resolve=t,e._readyPromise_reject=r})),e._readyPromiseState="pending"}function Ht(e,t){Vt(e),Gt(e,t)}function Wt(e){Vt(e),Kt(e)}function Gt(e,t){void 0!==e._readyPromise_reject&&(w(e._readyPromise),e._readyPromise_reject(t),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="rejected")}function Kt(e){void 0!==e._readyPromise_resolve&&(e._readyPromise_resolve(void 0),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="fulfilled")}Object.defineProperties(At.prototype,{abortReason:{enumerable:!0},signal:{enumerable:!0},error:{enumerable:!0}}),"symbol"==typeof n.toStringTag&&Object.defineProperty(At.prototype,n.toStringTag,{value:"WritableStreamDefaultController",configurable:!0});const Jt="undefined"!=typeof DOMException?DOMException:void 0,Yt=function(e){if("function"!=typeof e&&"object"!=typeof e)return!1;try{return new e,!0}catch(e){return!1}}(Jt)?Jt:function(){const e=function(e,t){this.message=e||"",this.name=t||"Error",Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)};return e.prototype=Object.create(Error.prototype),Object.defineProperty(e.prototype,"constructor",{value:e,writable:!0,configurable:!0}),e}();function Xt(e,t,r,n,o,s){const a=K(e),c=ct(t);e._disturbed=!0;let u=!1,f=d(void 0);return h(((l,g)=>{let _;if(void 0!==s){if(_=()=>{const r=new Yt("Aborted","AbortError"),i=[];n||i.push((()=>"writable"===t._state?ht(t,r):d(void 0))),o||i.push((()=>"readable"===e._state?Sr(e,r):d(void 0))),M((()=>Promise.all(i.map((e=>e())))),!0,r)},s.aborted)return void _();s.addEventListener("abort",_)}var S,E,O;if(x(e,a._closedPromise,(e=>{n?P(!0,e):M((()=>ht(t,e)),!0,e)})),x(t,c._closedPromise,(t=>{o?P(!0,t):M((()=>Sr(e,t)),!0,t)})),S=e,E=a._closedPromise,O=()=>{r?P():M((()=>function(e){const t=e._ownerWritableStream,r=t._state;return mt(t)||"closed"===r?d(void 0):"errored"===r?p(t._storedError):St(e)}(c)))},"closed"===S._state?O():m(E,O),mt(t)||"closed"===t._state){const t=new TypeError("the destination writable stream closed before all data could be piped to it");o?P(!0,t):M((()=>Sr(e,t)),!0,t)}function T(){const e=f;return b(f,(()=>e!==f?T():void 0))}function x(e,t,r){"errored"===e._state?r(e._storedError):v(t,r)}function M(e,r,n){function i(){y(e(),(()=>j(r,n)),(e=>j(!0,e)))}u||(u=!0,"writable"!==t._state||mt(t)?i():m(T(),i))}function P(e,r){u||(u=!0,"writable"!==t._state||mt(t)?j(e,r):m(T(),(()=>j(e,r))))}function j(e,t){Ot(c),A(a),void 0!==s&&s.removeEventListener("abort",_),e?g(t):l(void 0)}w(h(((e,t)=>{!function r(n){n?e():b(u?d(!0):b(c._readyPromise,(()=>h(((e,t)=>{te(a,{_chunkSteps:t=>{f=b(Tt(c,t),void 0,i),e(!1)},_closeSteps:()=>e(!0),_errorSteps:t})})))),r,t)}(!1)})))}))}class Zt{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!Qt(this))throw ur("desiredSize");return sr(this)}close(){if(!Qt(this))throw ur("close");if(!ar(this))throw new TypeError("The stream is not in a state that permits close");nr(this)}enqueue(e){if(!Qt(this))throw ur("enqueue");if(!ar(this))throw new TypeError("The stream is not in a state that permits enqueue");return ir(this,e)}error(e){if(!Qt(this))throw ur("error");or(this,e)}[R](e){be(this);const t=this._cancelAlgorithm(e);return rr(this),t}[N](e){const t=this._controlledReadableStream;if(this._queue.length>0){const r=de(this);this._closeRequested&&0===this._queue.length?(rr(this),Er(t)):er(this),e._chunkSteps(r)}else J(t,e),er(this)}}function Qt(e){return!!s(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledReadableStream")&&e instanceof Zt}function er(e){tr(e)&&(e._pulling?e._pullAgain=!0:(e._pulling=!0,y(e._pullAlgorithm(),(()=>{e._pulling=!1,e._pullAgain&&(e._pullAgain=!1,er(e))}),(t=>{or(e,t)}))))}function tr(e){const t=e._controlledReadableStream;return!!ar(e)&&(!!e._started&&(!!(_r(t)&&X(t)>0)||sr(e)>0))}function rr(e){e._pullAlgorithm=void 0,e._cancelAlgorithm=void 0,e._strategySizeAlgorithm=void 0}function nr(e){if(!ar(e))return;const t=e._controlledReadableStream;e._closeRequested=!0,0===e._queue.length&&(rr(e),Er(t))}function ir(e,t){if(!ar(e))return;const r=e._controlledReadableStream;if(_r(r)&&X(r)>0)Y(r,t,!1);else{let r;try{r=e._strategySizeAlgorithm(t)}catch(t){throw or(e,t),t}try{pe(e,t,r)}catch(t){throw or(e,t),t}}er(e)}function or(e,t){const r=e._controlledReadableStream;"readable"===r._state&&(be(e),rr(e),Or(r,t))}function sr(e){const t=e._controlledReadableStream._state;return"errored"===t?null:"closed"===t?0:e._strategyHWM-e._queueTotalSize}function ar(e){const t=e._controlledReadableStream._state;return!e._closeRequested&&"readable"===t}function cr(e,t,r,n,i,o,s){t._controlledReadableStream=e,t._queue=void 0,t._queueTotalSize=void 0,be(t),t._started=!1,t._closeRequested=!1,t._pullAgain=!1,t._pulling=!1,t._strategySizeAlgorithm=s,t._strategyHWM=o,t._pullAlgorithm=n,t._cancelAlgorithm=i,e._readableStreamController=t,y(d(r()),(()=>{t._started=!0,er(t)}),(e=>{or(t,e)}))}function ur(e){return new TypeError(`ReadableStreamDefaultController.prototype.${e} can only be used on a ReadableStreamDefaultController`)}function fr(e,t,r){return B(e,r),r=>E(e,t,[r])}function lr(e,t,r){return B(e,r),r=>E(e,t,[r])}function hr(e,t,r){return B(e,r),r=>S(e,t,[r])}function dr(e,t){if("bytes"!=(e=`${e}`))throw new TypeError(`${t} '${e}' is not a valid enumeration value for ReadableStreamType`);return e}function pr(e,t){if("byob"!=(e=`${e}`))throw new TypeError(`${t} '${e}' is not a valid enumeration value for ReadableStreamReaderMode`);return e}function br(e,t){F(e,t);const r=null==e?void 0:e.preventAbort,n=null==e?void 0:e.preventCancel,i=null==e?void 0:e.preventClose,o=null==e?void 0:e.signal;return void 0!==o&&function(e,t){if(!function(e){if("object"!=typeof e||null===e)return!1;try{return"boolean"==typeof e.aborted}catch(e){return!1}}(e))throw new TypeError(`${t} is not an AbortSignal.`)}(o,`${t} has member 'signal' that`),{preventAbort:Boolean(r),preventCancel:Boolean(n),preventClose:Boolean(i),signal:o}}Object.defineProperties(Zt.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},desiredSize:{enumerable:!0}}),"symbol"==typeof n.toStringTag&&Object.defineProperty(Zt.prototype,n.toStringTag,{value:"ReadableStreamDefaultController",configurable:!0});class yr{constructor(e={},t={}){void 0===e?e=null:U(e,"First parameter");const r=Qe(t,"Second parameter"),n=function(e,t){F(e,t);const r=e,n=null==r?void 0:r.autoAllocateChunkSize,i=null==r?void 0:r.cancel,o=null==r?void 0:r.pull,s=null==r?void 0:r.start,a=null==r?void 0:r.type;return{autoAllocateChunkSize:void 0===n?void 0:W(n,`${t} has member 'autoAllocateChunkSize' that`),cancel:void 0===i?void 0:fr(i,r,`${t} has member 'cancel' that`),pull:void 0===o?void 0:lr(o,r,`${t} has member 'pull' that`),start:void 0===s?void 0:hr(s,r,`${t} has member 'start' that`),type:void 0===a?void 0:dr(a,`${t} has member 'type' that`)}}(e,"First parameter");if(gr(this),"bytes"===n.type){if(void 0!==r.size)throw new RangeError("The strategy for a byte stream cannot have a size function");!function(e,t,r){const n=Object.create(me.prototype);let i=()=>{},o=()=>d(void 0),s=()=>d(void 0);void 0!==t.start&&(i=()=>t.start(n)),void 0!==t.pull&&(o=()=>t.pull(n)),void 0!==t.cancel&&(s=e=>t.cancel(e));const a=t.autoAllocateChunkSize;if(0===a)throw new TypeError("autoAllocateChunkSize must be greater than 0");Be(e,n,i,o,s,r,a)}(this,n,Xe(r,0))}else{const e=Ze(r);!function(e,t,r,n){const i=Object.create(Zt.prototype);let o=()=>{},s=()=>d(void 0),a=()=>d(void 0);void 0!==t.start&&(o=()=>t.start(i)),void 0!==t.pull&&(s=()=>t.pull(i)),void 0!==t.cancel&&(a=e=>t.cancel(e)),cr(e,i,o,s,a,r,n)}(this,n,Xe(r,1),e)}}get locked(){if(!wr(this))throw Tr("locked");return _r(this)}cancel(e){return wr(this)?_r(this)?p(new TypeError("Cannot cancel a stream that already has a reader")):Sr(this,e):p(Tr("cancel"))}getReader(e){if(!wr(this))throw Tr("getReader");return void 0===function(e,t){F(e,t);const r=null==e?void 0:e.mode;return{mode:void 0===r?void 0:pr(r,`${t} has member 'mode' that`)}}(e,"First parameter").mode?K(this):ze(this)}pipeThrough(e,t={}){if(!wr(this))throw Tr("pipeThrough");q(e,1,"pipeThrough");const r=function(e,t){F(e,t);const r=null==e?void 0:e.readable;z(r,"readable","ReadableWritablePair"),G(r,`${t} has member 'readable' that`);const n=null==e?void 0:e.writable;return z(n,"writable","ReadableWritablePair"),ot(n,`${t} has member 'writable' that`),{readable:r,writable:n}}(e,"First parameter"),n=br(t,"Second parameter");if(_r(this))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(lt(r.writable))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");return w(Xt(this,r.writable,n.preventClose,n.preventAbort,n.preventCancel,n.signal)),r.readable}pipeTo(e,t={}){if(!wr(this))return p(Tr("pipeTo"));if(void 0===e)return p("Parameter 1 is required in 'pipeTo'.");if(!ft(e))return p(new TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));let r;try{r=br(t,"Second parameter")}catch(e){return p(e)}return _r(this)?p(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):lt(e)?p(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):Xt(this,e,r.preventClose,r.preventAbort,r.preventCancel,r.signal)}tee(){if(!wr(this))throw Tr("tee");return ue(ve((e=this)._readableStreamController)?function(e){let t,r,n,i,o,s=K(e),a=!1,c=!1,u=!1,f=!1,l=!1;const p=h((e=>{o=e}));function b(e){v(e._closedPromise,(t=>{e===s&&(Re(n._readableStreamController,t),Re(i._readableStreamController,t),f&&l||o(void 0))}))}function y(){Ke(s)&&(A(s),s=K(e),b(s)),te(s,{_chunkSteps:t=>{_((()=>{c=!1,u=!1;const r=t;let s=t;if(!f&&!l)try{s=he(t)}catch(t){return Re(n._readableStreamController,t),Re(i._readableStreamController,t),void o(Sr(e,t))}f||Ie(n._readableStreamController,r),l||Ie(i._readableStreamController,s),a=!1,c?g():u&&w()}))},_closeSteps:()=>{a=!1,f||Ce(n._readableStreamController),l||Ce(i._readableStreamController),n._readableStreamController._pendingPullIntos.length>0&&De(n._readableStreamController,0),i._readableStreamController._pendingPullIntos.length>0&&De(i._readableStreamController,0),f&&l||o(void 0)},_errorSteps:()=>{a=!1}})}function m(t,r){ee(s)&&(A(s),s=ze(e),b(s));const h=r?i:n,d=r?n:i;Je(s,t,{_chunkSteps:t=>{_((()=>{c=!1,u=!1;const n=r?l:f;if(r?f:l)n||Fe(h._readableStreamController,t);else{let r;try{r=he(t)}catch(t){return Re(h._readableStreamController,t),Re(d._readableStreamController,t),void o(Sr(e,t))}n||Fe(h._readableStreamController,t),Ie(d._readableStreamController,r)}a=!1,c?g():u&&w()}))},_closeSteps:e=>{a=!1;const t=r?l:f,n=r?f:l;t||Ce(h._readableStreamController),n||Ce(d._readableStreamController),void 0!==e&&(t||Fe(h._readableStreamController,e),!n&&d._readableStreamController._pendingPullIntos.length>0&&De(d._readableStreamController,0)),t&&n||o(void 0)},_errorSteps:()=>{a=!1}})}function g(){if(a)return c=!0,d(void 0);a=!0;const e=Ne(n._readableStreamController);return null===e?y():m(e._view,!1),d(void 0)}function w(){if(a)return u=!0,d(void 0);a=!0;const e=Ne(i._readableStreamController);return null===e?y():m(e._view,!0),d(void 0)}function S(){}return n=vr(S,g,(function(n){if(f=!0,t=n,l){const n=ue([t,r]),i=Sr(e,n);o(i)}return p})),i=vr(S,w,(function(n){if(l=!0,r=n,f){const n=ue([t,r]),i=Sr(e,n);o(i)}return p})),b(s),[n,i]}(e):function(e,t){const r=K(e);let n,i,o,s,a,c=!1,u=!1,f=!1,l=!1;const p=h((e=>{a=e}));function b(){return c?(u=!0,d(void 0)):(c=!0,te(r,{_chunkSteps:e=>{_((()=>{u=!1;const t=e,r=e;f||ir(o._readableStreamController,t),l||ir(s._readableStreamController,r),c=!1,u&&b()}))},_closeSteps:()=>{c=!1,f||nr(o._readableStreamController),l||nr(s._readableStreamController),f&&l||a(void 0)},_errorSteps:()=>{c=!1}}),d(void 0))}function y(){}return o=mr(y,b,(function(t){if(f=!0,n=t,l){const t=ue([n,i]),r=Sr(e,t);a(r)}return p})),s=mr(y,b,(function(t){if(l=!0,i=t,f){const t=ue([n,i]),r=Sr(e,t);a(r)}return p})),v(r._closedPromise,(e=>{or(o._readableStreamController,e),or(s._readableStreamController,e),f&&l||a(void 0)})),[o,s]}(e));var e}values(e){if(!wr(this))throw Tr("values");return function(e,t){const r=K(e),n=new ie(r,t),i=Object.create(oe);return i._asyncIteratorImpl=n,i}(this,function(e,t){F(e,"First parameter");const r=null==e?void 0:e.preventCancel;return{preventCancel:Boolean(r)}}(e).preventCancel)}}function mr(e,t,r,n=1,i=(()=>1)){const o=Object.create(yr.prototype);return gr(o),cr(o,Object.create(Zt.prototype),e,t,r,n,i),o}function vr(e,t,r){const n=Object.create(yr.prototype);return gr(n),Be(n,Object.create(me.prototype),e,t,r,0,void 0),n}function gr(e){e._state="readable",e._reader=void 0,e._storedError=void 0,e._disturbed=!1}function wr(e){return!!s(e)&&!!Object.prototype.hasOwnProperty.call(e,"_readableStreamController")&&e instanceof yr}function _r(e){return void 0!==e._reader}function Sr(e,t){if(e._disturbed=!0,"closed"===e._state)return d(void 0);if("errored"===e._state)return p(e._storedError);Er(e);const r=e._reader;return void 0!==r&&Ke(r)&&(r._readIntoRequests.forEach((e=>{e._closeSteps(void 0)})),r._readIntoRequests=new O),g(e._readableStreamController[R](t),i)}function Er(e){e._state="closed";const t=e._reader;void 0!==t&&($(t),ee(t)&&(t._readRequests.forEach((e=>{e._closeSteps()})),t._readRequests=new O))}function Or(e,t){e._state="errored",e._storedError=t;const r=e._reader;void 0!==r&&(k(r,t),ee(r)?(r._readRequests.forEach((e=>{e._errorSteps(t)})),r._readRequests=new O):(r._readIntoRequests.forEach((e=>{e._errorSteps(t)})),r._readIntoRequests=new O))}function Tr(e){return new TypeError(`ReadableStream.prototype.${e} can only be used on a ReadableStream`)}function xr(e,t){F(e,t);const r=null==e?void 0:e.highWaterMark;return z(r,"highWaterMark","QueuingStrategyInit"),{highWaterMark:V(r)}}Object.defineProperties(yr.prototype,{cancel:{enumerable:!0},getReader:{enumerable:!0},pipeThrough:{enumerable:!0},pipeTo:{enumerable:!0},tee:{enumerable:!0},values:{enumerable:!0},locked:{enumerable:!0}}),"symbol"==typeof n.toStringTag&&Object.defineProperty(yr.prototype,n.toStringTag,{value:"ReadableStream",configurable:!0}),"symbol"==typeof n.asyncIterator&&Object.defineProperty(yr.prototype,n.asyncIterator,{value:yr.prototype.values,writable:!0,configurable:!0});const Ar=e=>e.byteLength;try{Object.defineProperty(Ar,"name",{value:"size",configurable:!0})}catch(e){}class Mr{constructor(e){q(e,1,"ByteLengthQueuingStrategy"),e=xr(e,"First parameter"),this._byteLengthQueuingStrategyHighWaterMark=e.highWaterMark}get highWaterMark(){if(!jr(this))throw Pr("highWaterMark");return this._byteLengthQueuingStrategyHighWaterMark}get size(){if(!jr(this))throw Pr("size");return Ar}}function Pr(e){return new TypeError(`ByteLengthQueuingStrategy.prototype.${e} can only be used on a ByteLengthQueuingStrategy`)}function jr(e){return!!s(e)&&!!Object.prototype.hasOwnProperty.call(e,"_byteLengthQueuingStrategyHighWaterMark")&&e instanceof Mr}Object.defineProperties(Mr.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),"symbol"==typeof n.toStringTag&&Object.defineProperty(Mr.prototype,n.toStringTag,{value:"ByteLengthQueuingStrategy",configurable:!0});const kr=()=>1;try{Object.defineProperty(kr,"name",{value:"size",configurable:!0})}catch(e){}class $r{constructor(e){q(e,1,"CountQueuingStrategy"),e=xr(e,"First parameter"),this._countQueuingStrategyHighWaterMark=e.highWaterMark}get highWaterMark(){if(!Ir(this))throw Cr("highWaterMark");return this._countQueuingStrategyHighWaterMark}get size(){if(!Ir(this))throw Cr("size");return kr}}function Cr(e){return new TypeError(`CountQueuingStrategy.prototype.${e} can only be used on a CountQueuingStrategy`)}function Ir(e){return!!s(e)&&!!Object.prototype.hasOwnProperty.call(e,"_countQueuingStrategyHighWaterMark")&&e instanceof $r}function Rr(e,t,r){return B(e,r),r=>E(e,t,[r])}function Nr(e,t,r){return B(e,r),r=>S(e,t,[r])}function Lr(e,t,r){return B(e,r),(r,n)=>E(e,t,[r,n])}Object.defineProperties($r.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),"symbol"==typeof n.toStringTag&&Object.defineProperty($r.prototype,n.toStringTag,{value:"CountQueuingStrategy",configurable:!0});class Dr{constructor(e={},t={},r={}){void 0===e&&(e=null);const n=Qe(t,"Second parameter"),i=Qe(r,"Third parameter"),o=function(e,t){F(e,t);const r=null==e?void 0:e.flush,n=null==e?void 0:e.readableType,i=null==e?void 0:e.start,o=null==e?void 0:e.transform,s=null==e?void 0:e.writableType;return{flush:void 0===r?void 0:Rr(r,e,`${t} has member 'flush' that`),readableType:n,start:void 0===i?void 0:Nr(i,e,`${t} has member 'start' that`),transform:void 0===o?void 0:Lr(o,e,`${t} has member 'transform' that`),writableType:s}}(e,"First parameter");if(void 0!==o.readableType)throw new RangeError("Invalid readableType specified");if(void 0!==o.writableType)throw new RangeError("Invalid writableType specified");const s=Xe(i,0),a=Ze(i),c=Xe(n,1),u=Ze(n);let f;!function(e,t,r,n,i,o){function s(){return t}e._writable=function(e,t,r,n,i=1,o=(()=>1)){const s=Object.create(at.prototype);return ut(s),Pt(s,Object.create(At.prototype),e,t,r,n,i,o),s}(s,(function(t){return function(e,t){const r=e._transformStreamController;return e._backpressure?g(e._backpressureChangePromise,(()=>{const n=e._writable;if("erroring"===n._state)throw n._storedError;return Gr(r,t)})):Gr(r,t)}(e,t)}),(function(){return function(e){const t=e._readable,r=e._transformStreamController,n=r._flushAlgorithm();return Hr(r),g(n,(()=>{if("errored"===t._state)throw t._storedError;nr(t._readableStreamController)}),(r=>{throw Br(e,r),t._storedError}))}(e)}),(function(t){return function(e,t){return Br(e,t),d(void 0)}(e,t)}),r,n),e._readable=mr(s,(function(){return function(e){return qr(e,!1),e._backpressureChangePromise}(e)}),(function(t){return Ur(e,t),d(void 0)}),i,o),e._backpressure=void 0,e._backpressureChangePromise=void 0,e._backpressureChangePromise_resolve=void 0,qr(e,!0),e._transformStreamController=void 0}(this,h((e=>{f=e})),c,u,s,a),function(e,t){const r=Object.create(zr.prototype);let n=e=>{try{return Wr(r,e),d(void 0)}catch(e){return p(e)}},i=()=>d(void 0);void 0!==t.transform&&(n=e=>t.transform(e,r)),void 0!==t.flush&&(i=()=>t.flush(r)),function(e,t,r,n){t._controlledTransformStream=e,e._transformStreamController=t,t._transformAlgorithm=r,t._flushAlgorithm=n}(e,r,n,i)}(this,o),void 0!==o.start?f(o.start(this._transformStreamController)):f(void 0)}get readable(){if(!Fr(this))throw Jr("readable");return this._readable}get writable(){if(!Fr(this))throw Jr("writable");return this._writable}}function Fr(e){return!!s(e)&&!!Object.prototype.hasOwnProperty.call(e,"_transformStreamController")&&e instanceof Dr}function Br(e,t){or(e._readable._readableStreamController,t),Ur(e,t)}function Ur(e,t){Hr(e._transformStreamController),Ct(e._writable._writableStreamController,t),e._backpressure&&qr(e,!1)}function qr(e,t){void 0!==e._backpressureChangePromise&&e._backpressureChangePromise_resolve(),e._backpressureChangePromise=h((t=>{e._backpressureChangePromise_resolve=t})),e._backpressure=t}Object.defineProperties(Dr.prototype,{readable:{enumerable:!0},writable:{enumerable:!0}}),"symbol"==typeof n.toStringTag&&Object.defineProperty(Dr.prototype,n.toStringTag,{value:"TransformStream",configurable:!0});class zr{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!Vr(this))throw Kr("desiredSize");return sr(this._controlledTransformStream._readable._readableStreamController)}enqueue(e){if(!Vr(this))throw Kr("enqueue");Wr(this,e)}error(e){if(!Vr(this))throw Kr("error");var t;t=e,Br(this._controlledTransformStream,t)}terminate(){if(!Vr(this))throw Kr("terminate");!function(e){const t=e._controlledTransformStream;nr(t._readable._readableStreamController);Ur(t,new TypeError("TransformStream terminated"))}(this)}}function Vr(e){return!!s(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledTransformStream")&&e instanceof zr}function Hr(e){e._transformAlgorithm=void 0,e._flushAlgorithm=void 0}function Wr(e,t){const r=e._controlledTransformStream,n=r._readable._readableStreamController;if(!ar(n))throw new TypeError("Readable side is not in a state that permits enqueue");try{ir(n,t)}catch(e){throw Ur(r,e),r._readable._storedError}const i=function(e){return!tr(e)}(n);i!==r._backpressure&&qr(r,!0)}function Gr(e,t){return g(e._transformAlgorithm(t),void 0,(t=>{throw Br(e._controlledTransformStream,t),t}))}function Kr(e){return new TypeError(`TransformStreamDefaultController.prototype.${e} can only be used on a TransformStreamDefaultController`)}function Jr(e){return new TypeError(`TransformStream.prototype.${e} can only be used on a TransformStream`)}Object.defineProperties(zr.prototype,{enqueue:{enumerable:!0},error:{enumerable:!0},terminate:{enumerable:!0},desiredSize:{enumerable:!0}}),"symbol"==typeof n.toStringTag&&Object.defineProperty(zr.prototype,n.toStringTag,{value:"TransformStreamDefaultController",configurable:!0})},77664:e=>{e.exports=JSON.parse('{"$id":"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#","description":"Meta-schema for $data reference (JSON AnySchema extension proposal)","type":"object","required":["$data"],"properties":{"$data":{"type":"string","anyOf":[{"format":"relative-json-pointer"},{"format":"json-pointer"}]}},"additionalProperties":false}')},21379:e=>{e.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-07/schema#","$id":"http://json-schema.org/draft-07/schema#","title":"Core schema meta-schema","definitions":{"schemaArray":{"type":"array","minItems":1,"items":{"$ref":"#"}},"nonNegativeInteger":{"type":"integer","minimum":0},"nonNegativeIntegerDefault0":{"allOf":[{"$ref":"#/definitions/nonNegativeInteger"},{"default":0}]},"simpleTypes":{"enum":["array","boolean","integer","null","number","object","string"]},"stringArray":{"type":"array","items":{"type":"string"},"uniqueItems":true,"default":[]}},"type":["object","boolean"],"properties":{"$id":{"type":"string","format":"uri-reference"},"$schema":{"type":"string","format":"uri"},"$ref":{"type":"string","format":"uri-reference"},"$comment":{"type":"string"},"title":{"type":"string"},"description":{"type":"string"},"default":true,"readOnly":{"type":"boolean","default":false},"examples":{"type":"array","items":true},"multipleOf":{"type":"number","exclusiveMinimum":0},"maximum":{"type":"number"},"exclusiveMaximum":{"type":"number"},"minimum":{"type":"number"},"exclusiveMinimum":{"type":"number"},"maxLength":{"$ref":"#/definitions/nonNegativeInteger"},"minLength":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"pattern":{"type":"string","format":"regex"},"additionalItems":{"$ref":"#"},"items":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/schemaArray"}],"default":true},"maxItems":{"$ref":"#/definitions/nonNegativeInteger"},"minItems":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"uniqueItems":{"type":"boolean","default":false},"contains":{"$ref":"#"},"maxProperties":{"$ref":"#/definitions/nonNegativeInteger"},"minProperties":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"required":{"$ref":"#/definitions/stringArray"},"additionalProperties":{"$ref":"#"},"definitions":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"properties":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"patternProperties":{"type":"object","additionalProperties":{"$ref":"#"},"propertyNames":{"format":"regex"},"default":{}},"dependencies":{"type":"object","additionalProperties":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/stringArray"}]}},"propertyNames":{"$ref":"#"},"const":true,"enum":{"type":"array","items":true,"minItems":1,"uniqueItems":true},"type":{"anyOf":[{"$ref":"#/definitions/simpleTypes"},{"type":"array","items":{"$ref":"#/definitions/simpleTypes"},"minItems":1,"uniqueItems":true}]},"format":{"type":"string"},"contentMediaType":{"type":"string"},"contentEncoding":{"type":"string"},"if":{"$ref":"#"},"then":{"$ref":"#"},"else":{"$ref":"#"},"allOf":{"$ref":"#/definitions/schemaArray"},"anyOf":{"$ref":"#/definitions/schemaArray"},"oneOf":{"$ref":"#/definitions/schemaArray"},"not":{"$ref":"#"}},"default":true}')},96497:e=>{e.exports=JSON.parse('{"aes-128-ecb":{"cipher":"AES","key":128,"iv":0,"mode":"ECB","type":"block"},"aes-192-ecb":{"cipher":"AES","key":192,"iv":0,"mode":"ECB","type":"block"},"aes-256-ecb":{"cipher":"AES","key":256,"iv":0,"mode":"ECB","type":"block"},"aes-128-cbc":{"cipher":"AES","key":128,"iv":16,"mode":"CBC","type":"block"},"aes-192-cbc":{"cipher":"AES","key":192,"iv":16,"mode":"CBC","type":"block"},"aes-256-cbc":{"cipher":"AES","key":256,"iv":16,"mode":"CBC","type":"block"},"aes128":{"cipher":"AES","key":128,"iv":16,"mode":"CBC","type":"block"},"aes192":{"cipher":"AES","key":192,"iv":16,"mode":"CBC","type":"block"},"aes256":{"cipher":"AES","key":256,"iv":16,"mode":"CBC","type":"block"},"aes-128-cfb":{"cipher":"AES","key":128,"iv":16,"mode":"CFB","type":"stream"},"aes-192-cfb":{"cipher":"AES","key":192,"iv":16,"mode":"CFB","type":"stream"},"aes-256-cfb":{"cipher":"AES","key":256,"iv":16,"mode":"CFB","type":"stream"},"aes-128-cfb8":{"cipher":"AES","key":128,"iv":16,"mode":"CFB8","type":"stream"},"aes-192-cfb8":{"cipher":"AES","key":192,"iv":16,"mode":"CFB8","type":"stream"},"aes-256-cfb8":{"cipher":"AES","key":256,"iv":16,"mode":"CFB8","type":"stream"},"aes-128-cfb1":{"cipher":"AES","key":128,"iv":16,"mode":"CFB1","type":"stream"},"aes-192-cfb1":{"cipher":"AES","key":192,"iv":16,"mode":"CFB1","type":"stream"},"aes-256-cfb1":{"cipher":"AES","key":256,"iv":16,"mode":"CFB1","type":"stream"},"aes-128-ofb":{"cipher":"AES","key":128,"iv":16,"mode":"OFB","type":"stream"},"aes-192-ofb":{"cipher":"AES","key":192,"iv":16,"mode":"OFB","type":"stream"},"aes-256-ofb":{"cipher":"AES","key":256,"iv":16,"mode":"OFB","type":"stream"},"aes-128-ctr":{"cipher":"AES","key":128,"iv":16,"mode":"CTR","type":"stream"},"aes-192-ctr":{"cipher":"AES","key":192,"iv":16,"mode":"CTR","type":"stream"},"aes-256-ctr":{"cipher":"AES","key":256,"iv":16,"mode":"CTR","type":"stream"},"aes-128-gcm":{"cipher":"AES","key":128,"iv":12,"mode":"GCM","type":"auth"},"aes-192-gcm":{"cipher":"AES","key":192,"iv":12,"mode":"GCM","type":"auth"},"aes-256-gcm":{"cipher":"AES","key":256,"iv":12,"mode":"GCM","type":"auth"}}')},18889:e=>{e.exports=JSON.parse('{"sha224WithRSAEncryption":{"sign":"rsa","hash":"sha224","id":"302d300d06096086480165030402040500041c"},"RSA-SHA224":{"sign":"ecdsa/rsa","hash":"sha224","id":"302d300d06096086480165030402040500041c"},"sha256WithRSAEncryption":{"sign":"rsa","hash":"sha256","id":"3031300d060960864801650304020105000420"},"RSA-SHA256":{"sign":"ecdsa/rsa","hash":"sha256","id":"3031300d060960864801650304020105000420"},"sha384WithRSAEncryption":{"sign":"rsa","hash":"sha384","id":"3041300d060960864801650304020205000430"},"RSA-SHA384":{"sign":"ecdsa/rsa","hash":"sha384","id":"3041300d060960864801650304020205000430"},"sha512WithRSAEncryption":{"sign":"rsa","hash":"sha512","id":"3051300d060960864801650304020305000440"},"RSA-SHA512":{"sign":"ecdsa/rsa","hash":"sha512","id":"3051300d060960864801650304020305000440"},"RSA-SHA1":{"sign":"rsa","hash":"sha1","id":"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{"sign":"ecdsa","hash":"sha1","id":""},"sha256":{"sign":"ecdsa","hash":"sha256","id":""},"sha224":{"sign":"ecdsa","hash":"sha224","id":""},"sha384":{"sign":"ecdsa","hash":"sha384","id":""},"sha512":{"sign":"ecdsa","hash":"sha512","id":""},"DSA-SHA":{"sign":"dsa","hash":"sha1","id":""},"DSA-SHA1":{"sign":"dsa","hash":"sha1","id":""},"DSA":{"sign":"dsa","hash":"sha1","id":""},"DSA-WITH-SHA224":{"sign":"dsa","hash":"sha224","id":""},"DSA-SHA224":{"sign":"dsa","hash":"sha224","id":""},"DSA-WITH-SHA256":{"sign":"dsa","hash":"sha256","id":""},"DSA-SHA256":{"sign":"dsa","hash":"sha256","id":""},"DSA-WITH-SHA384":{"sign":"dsa","hash":"sha384","id":""},"DSA-SHA384":{"sign":"dsa","hash":"sha384","id":""},"DSA-WITH-SHA512":{"sign":"dsa","hash":"sha512","id":""},"DSA-SHA512":{"sign":"dsa","hash":"sha512","id":""},"DSA-RIPEMD160":{"sign":"dsa","hash":"rmd160","id":""},"ripemd160WithRSA":{"sign":"rsa","hash":"rmd160","id":"3021300906052b2403020105000414"},"RSA-RIPEMD160":{"sign":"rsa","hash":"rmd160","id":"3021300906052b2403020105000414"},"md5WithRSAEncryption":{"sign":"rsa","hash":"md5","id":"3020300c06082a864886f70d020505000410"},"RSA-MD5":{"sign":"rsa","hash":"md5","id":"3020300c06082a864886f70d020505000410"}}')},17419:e=>{e.exports=JSON.parse('{"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}')},16662:e=>{e.exports=JSON.parse('{"modp1":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},"modp2":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},"modp5":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},"modp14":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},"modp15":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},"modp16":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},"modp17":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},"modp18":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}')},37327:e=>{e.exports={i8:"6.5.4"}},3679:e=>{e.exports=JSON.parse('{"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}')},4535:e=>{e.exports=JSON.parse('{"title":"Thing Description","version":"1.1-04-June-2021","description":"JSON Schema for validating TD instances against the TD information model. TD instances can be with or without terms that have default values","$schema ":"http://json-schema.org/draft-07/schema#","definitions":{"anyUri":{"type":"string","format":"iri-reference"},"description":{"type":"string"},"descriptions":{"type":"object","additionalProperties":{"type":"string"}},"title":{"type":"string"},"titles":{"type":"object","additionalProperties":{"type":"string"}},"security":{"oneOf":[{"type":"array","items":{"type":"string"}},{"type":"string"}]},"scopes":{"oneOf":[{"type":"array","items":{"type":"string"}},{"type":"string"}]},"subprotocol":{"type":"string","examples":["longpoll","websub","sse"]},"thing-context-w3c-uri":{"type":"string","enum":["https://www.w3.org/2019/wot/td/v1","http://www.w3.org/ns/td"]},"thing-context":{"oneOf":[{"type":"array","items":[{"$ref":"#/definitions/thing-context-w3c-uri"}],"additionalItems":{"anyOf":[{"$ref":"#/definitions/anyUri"},{"type":"object"}]}},{"$ref":"#/definitions/thing-context-w3c-uri"}]},"type_declaration":{"oneOf":[{"type":"string","not":{"const":"tm:ThingModel"}},{"type":"array","items":{"type":"string","not":{"const":"tm:ThingModel"}}}]},"dataSchema":{"type":"object","properties":{"@type":{"$ref":"#/definitions/type_declaration"},"description":{"$ref":"#/definitions/description"},"title":{"$ref":"#/definitions/title"},"descriptions":{"$ref":"#/definitions/descriptions"},"titles":{"$ref":"#/definitions/titles"},"writeOnly":{"type":"boolean"},"readOnly":{"type":"boolean"},"oneOf":{"type":"array","items":{"$ref":"#/definitions/dataSchema"}},"unit":{"type":"string"},"enum":{"type":"array","minItems":1,"uniqueItems":true},"format":{"type":"string"},"const":{},"contentEncoding":{"type":"string"},"contentMediaType":{"type":"string"},"type":{"type":"string","enum":["boolean","integer","number","string","object","array","null"]},"items":{"oneOf":[{"$ref":"#/definitions/dataSchema"},{"type":"array","items":{"$ref":"#/definitions/dataSchema"}}]},"maxItems":{"type":"integer","minimum":0},"minItems":{"type":"integer","minimum":0},"minimum":{"type":"number"},"maximum":{"type":"number"},"minLength":{"type":"integer","minimum":0},"maxLength":{"type":"integer","minimum":0},"multipleOf":{"$ref":"#/definitions/multipleOfDefinition"},"properties":{"additionalProperties":{"$ref":"#/definitions/dataSchema"}},"required":{"type":"array","items":{"type":"string"}}}},"additionalResponsesDefinition":{"type":"array","items":{"type":"object","properties":{"contentType":{"type":"string"},"schema":{"type":"string"},"success":{"type":"boolean"}}}},"multipleOfDefinition":{"anyOf":[{"type":"integer","exclusiveMinimum":0},{"type":"number","exclusiveMinimum":0}]},"form_element_property":{"type":"object","properties":{"op":{"oneOf":[{"type":"string","enum":["readproperty","writeproperty","observeproperty","unobserveproperty"]},{"type":"array","items":{"type":"string","enum":["readproperty","writeproperty","observeproperty","unobserveproperty"]}}]},"href":{"$ref":"#/definitions/anyUri"},"contentType":{"type":"string"},"contentCoding":{"type":"string"},"subprotocol":{"$ref":"#/definitions/subprotocol"},"security":{"$ref":"#/definitions/security"},"scopes":{"$ref":"#/definitions/scopes"},"response":{"type":"object","properties":{"contentType":{"type":"string"}}},"additionalResponses":{"$ref":"#/definitions/additionalResponsesDefinition"}},"required":["href"],"additionalProperties":true},"form_element_action":{"type":"object","properties":{"op":{"oneOf":[{"type":"string","enum":["invokeaction","queryaction","cancelaction"]},{"type":"array","items":{"type":"string","enum":["invokeaction","queryaction","cancelaction"]}}]},"href":{"$ref":"#/definitions/anyUri"},"contentType":{"type":"string"},"contentCoding":{"type":"string"},"subprotocol":{"$ref":"#/definitions/subprotocol"},"security":{"$ref":"#/definitions/security"},"scopes":{"$ref":"#/definitions/scopes"},"response":{"type":"object","properties":{"contentType":{"type":"string"}}},"additionalResponses":{"$ref":"#/definitions/additionalResponsesDefinition"}},"required":["href"],"additionalProperties":true},"form_element_event":{"type":"object","properties":{"op":{"oneOf":[{"type":"string","enum":["subscribeevent","unsubscribeevent"]},{"type":"array","items":{"type":"string","enum":["subscribeevent","unsubscribeevent"]}}]},"href":{"$ref":"#/definitions/anyUri"},"contentType":{"type":"string"},"contentCoding":{"type":"string"},"subprotocol":{"$ref":"#/definitions/subprotocol"},"security":{"$ref":"#/definitions/security"},"scopes":{"$ref":"#/definitions/scopes"},"response":{"type":"object","properties":{"contentType":{"type":"string"}}},"additionalResponses":{"$ref":"#/definitions/additionalResponsesDefinition"}},"required":["href"],"additionalProperties":true},"form_element_root":{"type":"object","properties":{"op":{"oneOf":[{"type":"string","enum":["readallproperties","writeallproperties","readmultipleproperties","writemultipleproperties","observeallproperties","unobserveallproperties","queryallactions","subscribeallevents","unsubscribeallevents"]},{"type":"array","items":{"type":"string","enum":["readallproperties","writeallproperties","readmultipleproperties","writemultipleproperties","observeallproperties","unobserveallproperties","queryallactions","subscribeallevents","unsubscribeallevents"]}}]},"href":{"$ref":"#/definitions/anyUri"},"contentType":{"type":"string"},"contentCoding":{"type":"string"},"subprotocol":{"$ref":"#/definitions/subprotocol"},"security":{"$ref":"#/definitions/security"},"scopes":{"$ref":"#/definitions/scopes"},"response":{"type":"object","properties":{"contentType":{"type":"string"}}},"additionalResponses":{"$ref":"#/definitions/additionalResponsesDefinition"}},"required":["href"],"additionalProperties":true},"property_element":{"type":"object","properties":{"@type":{"$ref":"#/definitions/type_declaration"},"description":{"$ref":"#/definitions/description"},"descriptions":{"$ref":"#/definitions/descriptions"},"title":{"$ref":"#/definitions/title"},"titles":{"$ref":"#/definitions/titles"},"forms":{"type":"array","minItems":1,"items":{"$ref":"#/definitions/form_element_property"}},"uriVariables":{"type":"object","additionalProperties":{"$ref":"#/definitions/dataSchema"}},"observable":{"type":"boolean"},"writeOnly":{"type":"boolean"},"readOnly":{"type":"boolean"},"oneOf":{"type":"array","items":{"$ref":"#/definitions/dataSchema"}},"unit":{"type":"string"},"enum":{"type":"array","minItems":1,"uniqueItems":true},"format":{"type":"string"},"const":{},"type":{"type":"string","enum":["boolean","integer","number","string","object","array","null"]},"items":{"oneOf":[{"$ref":"#/definitions/dataSchema"},{"type":"array","items":{"$ref":"#/definitions/dataSchema"}}]},"maxItems":{"type":"integer","minimum":0},"minItems":{"type":"integer","minimum":0},"minimum":{"type":"number"},"maximum":{"type":"number"},"minLength":{"type":"integer","minimum":0},"maxLength":{"type":"integer","minimum":0},"multipleOf":{"$ref":"#/definitions/multipleOfDefinition"},"properties":{"additionalProperties":{"$ref":"#/definitions/dataSchema"}},"required":{"type":"array","items":{"type":"string"}}},"required":["forms"],"additionalProperties":true},"action_element":{"type":"object","properties":{"@type":{"$ref":"#/definitions/type_declaration"},"description":{"$ref":"#/definitions/description"},"descriptions":{"$ref":"#/definitions/descriptions"},"title":{"$ref":"#/definitions/title"},"titles":{"$ref":"#/definitions/titles"},"forms":{"type":"array","minItems":1,"items":{"$ref":"#/definitions/form_element_action"}},"uriVariables":{"type":"object","additionalProperties":{"$ref":"#/definitions/dataSchema"}},"input":{"$ref":"#/definitions/dataSchema"},"output":{"$ref":"#/definitions/dataSchema"},"safe":{"type":"boolean"},"idempotent":{"type":"boolean"}},"required":["forms"],"additionalProperties":true},"event_element":{"type":"object","properties":{"@type":{"$ref":"#/definitions/type_declaration"},"description":{"$ref":"#/definitions/description"},"descriptions":{"$ref":"#/definitions/descriptions"},"title":{"$ref":"#/definitions/title"},"titles":{"$ref":"#/definitions/titles"},"forms":{"type":"array","minItems":1,"items":{"$ref":"#/definitions/form_element_event"}},"uriVariables":{"type":"object","additionalProperties":{"$ref":"#/definitions/dataSchema"}},"subscription":{"$ref":"#/definitions/dataSchema"},"data":{"$ref":"#/definitions/dataSchema"},"cancellation":{"$ref":"#/definitions/dataSchema"}},"required":["forms"],"additionalProperties":true},"base_link_element":{"type":"object","properties":{"href":{"$ref":"#/definitions/anyUri"},"type":{"type":"string"},"rel":{"type":"string"},"anchor":{"$ref":"#/definitions/anyUri"}},"required":["href"],"additionalProperties":true},"link_element":{"allOf":[{"$ref":"#/definitions/base_link_element"},{"not":{"description":"A basic link element should not contain sizes","type":"object","properties":{"sizes":{}},"required":["sizes"]}},{"not":{"description":"A basic link element should not contain icon or tm:extends","properties":{"rel":{"enum":["icon","tm:extends"]}},"required":["rel"]}}]},"icon_link_element":{"allOf":[{"$ref":"#/definitions/base_link_element"},{"properties":{"rel":{"const":"icon"},"sizes":{"type":"string","pattern":"[0-9]*x[0-9]+"}},"required":["rel"]}]},"securityScheme":{"oneOf":[{"type":"object","properties":{"@type":{"$ref":"#/definitions/type_declaration"},"description":{"$ref":"#/definitions/description"},"descriptions":{"$ref":"#/definitions/descriptions"},"proxy":{"$ref":"#/definitions/anyUri"},"scheme":{"type":"string","enum":["nosec"]}},"required":["scheme"]},{"type":"object","properties":{"@type":{"$ref":"#/definitions/type_declaration"},"description":{"$ref":"#/definitions/description"},"descriptions":{"$ref":"#/definitions/descriptions"},"proxy":{"$ref":"#/definitions/anyUri"},"scheme":{"type":"string","enum":["combo"]},"oneOf":{"type":"array","minItems":2,"items":{"type":"string"}}},"required":["scheme","oneOf"]},{"type":"object","properties":{"@type":{"$ref":"#/definitions/type_declaration"},"description":{"$ref":"#/definitions/description"},"descriptions":{"$ref":"#/definitions/descriptions"},"proxy":{"$ref":"#/definitions/anyUri"},"scheme":{"type":"string","enum":["combo"]},"allOf":{"type":"array","minItems":2,"items":{"type":"string"}}},"required":["scheme","allOf"]},{"type":"object","properties":{"@type":{"$ref":"#/definitions/type_declaration"},"description":{"$ref":"#/definitions/description"},"descriptions":{"$ref":"#/definitions/descriptions"},"proxy":{"$ref":"#/definitions/anyUri"},"scheme":{"type":"string","enum":["basic"]},"in":{"type":"string","enum":["header","query","body","cookie"]},"name":{"type":"string"}},"required":["scheme"]},{"type":"object","properties":{"@type":{"$ref":"#/definitions/type_declaration"},"description":{"$ref":"#/definitions/description"},"descriptions":{"$ref":"#/definitions/descriptions"},"proxy":{"$ref":"#/definitions/anyUri"},"scheme":{"type":"string","enum":["digest"]},"qop":{"type":"string","enum":["auth","auth-int"]},"in":{"type":"string","enum":["header","query","body","cookie"]},"name":{"type":"string"}},"required":["scheme"]},{"type":"object","properties":{"@type":{"$ref":"#/definitions/type_declaration"},"description":{"$ref":"#/definitions/description"},"descriptions":{"$ref":"#/definitions/descriptions"},"proxy":{"$ref":"#/definitions/anyUri"},"scheme":{"type":"string","enum":["apikey"]},"in":{"type":"string","enum":["header","query","body","cookie"]},"name":{"type":"string"}},"required":["scheme"]},{"type":"object","properties":{"@type":{"$ref":"#/definitions/type_declaration"},"description":{"$ref":"#/definitions/description"},"descriptions":{"$ref":"#/definitions/descriptions"},"proxy":{"$ref":"#/definitions/anyUri"},"scheme":{"type":"string","enum":["bearer"]},"authorization":{"$ref":"#/definitions/anyUri"},"alg":{"type":"string"},"format":{"type":"string"},"in":{"type":"string","enum":["header","query","body","cookie"]},"name":{"type":"string"}},"required":["scheme"]},{"type":"object","properties":{"@type":{"$ref":"#/definitions/type_declaration"},"description":{"$ref":"#/definitions/description"},"descriptions":{"$ref":"#/definitions/descriptions"},"proxy":{"$ref":"#/definitions/anyUri"},"scheme":{"type":"string","enum":["psk"]},"identity":{"type":"string"}},"required":["scheme"]},{"type":"object","properties":{"@type":{"$ref":"#/definitions/type_declaration"},"description":{"$ref":"#/definitions/description"},"descriptions":{"$ref":"#/definitions/descriptions"},"proxy":{"$ref":"#/definitions/anyUri"},"scheme":{"type":"string","enum":["oauth2"]},"authorization":{"$ref":"#/definitions/anyUri"},"token":{"$ref":"#/definitions/anyUri"},"refresh":{"$ref":"#/definitions/anyUri"},"scopes":{"oneOf":[{"type":"array","items":{"type":"string"}},{"type":"string"}]},"flow":{"type":"string","enum":["code"]}},"required":["scheme"]}]}},"type":"object","properties":{"id":{"type":"string","format":"uri"},"title":{"$ref":"#/definitions/title"},"titles":{"$ref":"#/definitions/titles"},"properties":{"type":"object","additionalProperties":{"$ref":"#/definitions/property_element"}},"actions":{"type":"object","additionalProperties":{"$ref":"#/definitions/action_element"}},"events":{"type":"object","additionalProperties":{"$ref":"#/definitions/event_element"}},"description":{"$ref":"#/definitions/description"},"descriptions":{"$ref":"#/definitions/descriptions"},"version":{"type":"object","properties":{"instance":{"type":"string"}},"required":["instance"]},"links":{"type":"array","items":{"oneOf":[{"$ref":"#/definitions/link_element"},{"$ref":"#/definitions/icon_link_element"}]}},"forms":{"type":"array","minItems":1,"items":{"$ref":"#/definitions/form_element_root"}},"base":{"$ref":"#/definitions/anyUri"},"securityDefinitions":{"type":"object","minProperties":1,"additionalProperties":{"$ref":"#/definitions/securityScheme"}},"schemaDefinitions":{"type":"object","minProperties":1,"additionalProperties":{"$ref":"#/definitions/dataSchema"}},"support":{"$ref":"#/definitions/anyUri"},"created":{"type":"string","format":"date-time"},"modified":{"type":"string","format":"date-time"},"security":{"oneOf":[{"type":"string"},{"type":"array","minItems":1,"items":{"type":"string"}}]},"@type":{"$ref":"#/definitions/type_declaration"},"@context":{"$ref":"#/definitions/thing-context"}},"required":["title","security","securityDefinitions","@context"],"additionalProperties":true}')},88766:e=>{e.exports=JSON.parse('{"title":"Thing Model","version":"1.1-29-December-2021","description":"JSON Schema for validating Thing Models. This is automatically generated from the WoT TD Schema.","$schema ":"http://json-schema.org/draft-07/schema#","definitions":{"anyUri":{"type":"string"},"description":{"type":"string"},"descriptions":{"type":"object","additionalProperties":{"type":"string"}},"title":{"type":"string"},"titles":{"type":"object","additionalProperties":{"type":"string"}},"security":{"oneOf":[{"type":"array","items":{"type":"string"}},{"type":"string"}]},"scopes":{"oneOf":[{"type":"array","items":{"type":"string"}},{"type":"string"}]},"subprotocol":{"type":"string","examples":["longpoll","websub","sse"]},"thing-context-w3c-uri":{"type":"string","enum":["https://www.w3.org/2019/wot/td/v1","http://www.w3.org/ns/td"]},"thing-context":{"oneOf":[{"type":"array","items":[{"$ref":"#/definitions/thing-context-w3c-uri"}],"additionalItems":{"anyOf":[{"$ref":"#/definitions/anyUri"},{"type":"object"}]}},{"$ref":"#/definitions/thing-context-w3c-uri"}]},"type_declaration":{"oneOf":[{"type":"string"},{"type":"array","items":{"type":"string"}}]},"dataSchema-type":{"oneOf":[{"type":"string","anyOf":[{"enum":["boolean","integer","number","string","object","array","null"]},{"type":"string","pattern":"^.*[{]{2}[ -~]+[}]{2}.*$"}]},{"type":"array","items":{"type":"string","anyOf":[{"enum":["boolean","integer","number","string","object","array","null"]},{"type":"string","pattern":"^.*[{]{2}[ -~]+[}]{2}.*$"}]}}]},"dataSchema":{"type":"object","properties":{"@type":{"$ref":"#/definitions/type_declaration"},"description":{"$ref":"#/definitions/description"},"title":{"$ref":"#/definitions/title"},"descriptions":{"$ref":"#/definitions/descriptions"},"titles":{"$ref":"#/definitions/titles"},"writeOnly":{"anyOf":[{"type":"boolean"},{"type":"string","pattern":"^.*[{]{2}[ -~]+[}]{2}.*$"}]},"readOnly":{"anyOf":[{"type":"boolean"},{"type":"string","pattern":"^.*[{]{2}[ -~]+[}]{2}.*$"}]},"oneOf":{"type":"array","items":{"$ref":"#/definitions/dataSchema"}},"unit":{"type":"string"},"enum":{"type":"array","minItems":1,"uniqueItems":true},"format":{"type":"string"},"const":{},"contentEncoding":{"type":"string"},"contentMediaType":{"type":"string"},"type":{"$ref":"#/definitions/dataSchema-type"},"items":{"oneOf":[{"$ref":"#/definitions/dataSchema"},{"type":"array","items":{"$ref":"#/definitions/dataSchema"}}]},"maxItems":{"anyOf":[{"type":"integer","minimum":0},{"type":"string","pattern":"^.*[{]{2}[ -~]+[}]{2}.*$"}]},"minItems":{"anyOf":[{"type":"integer","minimum":0},{"type":"string","pattern":"^.*[{]{2}[ -~]+[}]{2}.*$"}]},"minimum":{"anyOf":[{"type":"number"},{"type":"string","pattern":"^.*[{]{2}[ -~]+[}]{2}.*$"}]},"maximum":{"anyOf":[{"type":"number"},{"type":"string","pattern":"^.*[{]{2}[ -~]+[}]{2}.*$"}]},"minLength":{"anyOf":[{"type":"integer","minimum":0},{"type":"string","pattern":"^.*[{]{2}[ -~]+[}]{2}.*$"}]},"maxLength":{"anyOf":[{"type":"integer","minimum":0},{"type":"string","pattern":"^.*[{]{2}[ -~]+[}]{2}.*$"}]},"multipleOf":{"$ref":"#/definitions/multipleOfDefinition"},"properties":{"additionalProperties":{"$ref":"#/definitions/dataSchema"}},"required":{"type":"array","items":{"type":"string"}},"tm:ref":{"$ref":"#/definitions/tm_ref"}}},"additionalResponsesDefinition":{"type":"array","items":{"type":"object","properties":{"contentType":{"type":"string"},"schema":{"type":"string"},"success":{"type":"boolean"}}}},"multipleOfDefinition":{"anyOf":[{"type":["integer","number"],"exclusiveMinimum":0},{"type":"string","pattern":"^.*[{]{2}[ -~]+[}]{2}.*$"}]},"expectedResponse":{"type":"object","properties":{"contentType":{"type":"string"}}},"form_element_base":{"type":"object","properties":{"op":{"oneOf":[{"type":"string"},{"type":"array","items":{"type":"string"}}]},"href":{"$ref":"#/definitions/anyUri"},"contentType":{"type":"string"},"contentCoding":{"type":"string"},"subprotocol":{"$ref":"#/definitions/subprotocol"},"security":{"$ref":"#/definitions/security"},"scopes":{"$ref":"#/definitions/scopes"},"response":{"$ref":"#/definitions/expectedResponse"},"additionalResponses":{"$ref":"#/definitions/additionalResponsesDefinition"}},"additionalProperties":true},"form_element_property":{"allOf":[{"$ref":"#/definitions/form_element_base"}],"type":"object","properties":{"op":{"oneOf":[{"type":"string","anyOf":[{"enum":["readproperty","writeproperty","observeproperty","unobserveproperty"]},{"type":"string","pattern":"^.*[{]{2}[ -~]+[}]{2}.*$"}]},{"type":"array","items":{"type":"string","anyOf":[{"enum":["readproperty","writeproperty","observeproperty","unobserveproperty"]},{"type":"string","pattern":"^.*[{]{2}[ -~]+[}]{2}.*$"}]}}]},"tm:ref":{"$ref":"#/definitions/tm_ref"}},"additionalProperties":true},"form_element_action":{"allOf":[{"$ref":"#/definitions/form_element_base"}],"type":"object","properties":{"op":{"oneOf":[{"type":"string","anyOf":[{"enum":["invokeaction","queryaction","cancelaction"]},{"type":"string","pattern":"^.*[{]{2}[ -~]+[}]{2}.*$"}]},{"type":"array","items":{"type":"string","anyOf":[{"enum":["invokeaction","queryaction","cancelaction"]},{"type":"string","pattern":"^.*[{]{2}[ -~]+[}]{2}.*$"}]}}]},"tm:ref":{"$ref":"#/definitions/tm_ref"}},"additionalProperties":true},"form_element_event":{"allOf":[{"$ref":"#/definitions/form_element_base"}],"type":"object","properties":{"op":{"oneOf":[{"type":"string","anyOf":[{"enum":["subscribeevent","unsubscribeevent"]},{"type":"string","pattern":"^.*[{]{2}[ -~]+[}]{2}.*$"}]},{"type":"array","items":{"type":"string","anyOf":[{"enum":["subscribeevent","unsubscribeevent"]},{"type":"string","pattern":"^.*[{]{2}[ -~]+[}]{2}.*$"}]}}]},"tm:ref":{"$ref":"#/definitions/tm_ref"}},"additionalProperties":true},"form_element_root":{"allOf":[{"$ref":"#/definitions/form_element_base"}],"type":"object","properties":{"op":{"oneOf":[{"type":"string","anyOf":[{"enum":["readallproperties","writeallproperties","readmultipleproperties","writemultipleproperties","observeallproperties","unobserveallproperties","queryallactions","subscribeallevents","unsubscribeallevents"]},{"type":"string","pattern":"^.*[{]{2}[ -~]+[}]{2}.*$"}]},{"type":"array","items":{"type":"string","anyOf":[{"enum":["readallproperties","writeallproperties","readmultipleproperties","writemultipleproperties","observeallproperties","unobserveallproperties","queryallactions","subscribeallevents","unsubscribeallevents"]},{"type":"string","pattern":"^.*[{]{2}[ -~]+[}]{2}.*$"}]}}]},"tm:ref":{"$ref":"#/definitions/tm_ref"}},"additionalProperties":true},"form":{"$comment":"This is NOT for validation purposes but for automatic generation of TS types. For more info, please see: https://github.com/w3c/wot-thing-description/pull/1319#issuecomment-994950057","oneOf":[{"$ref":"#/definitions/form_element_property"},{"$ref":"#/definitions/form_element_action"},{"$ref":"#/definitions/form_element_event"},{"$ref":"#/definitions/form_element_root"}]},"property_element":{"type":"object","properties":{"@type":{"$ref":"#/definitions/type_declaration"},"description":{"$ref":"#/definitions/description"},"descriptions":{"$ref":"#/definitions/descriptions"},"title":{"$ref":"#/definitions/title"},"titles":{"$ref":"#/definitions/titles"},"forms":{"type":"array","minItems":1,"items":{"$ref":"#/definitions/form_element_property"}},"uriVariables":{"type":"object","additionalProperties":{"$ref":"#/definitions/dataSchema"}},"observable":{"anyOf":[{"type":"boolean"},{"type":"string","pattern":"^.*[{]{2}[ -~]+[}]{2}.*$"}]},"writeOnly":{"anyOf":[{"type":"boolean"},{"type":"string","pattern":"^.*[{]{2}[ -~]+[}]{2}.*$"}]},"readOnly":{"anyOf":[{"type":"boolean"},{"type":"string","pattern":"^.*[{]{2}[ -~]+[}]{2}.*$"}]},"oneOf":{"type":"array","items":{"$ref":"#/definitions/dataSchema"}},"unit":{"type":"string"},"enum":{"type":"array","minItems":1,"uniqueItems":true},"format":{"type":"string"},"const":{},"type":{"$ref":"#/definitions/dataSchema-type"},"items":{"oneOf":[{"$ref":"#/definitions/dataSchema"},{"type":"array","items":{"$ref":"#/definitions/dataSchema"}}]},"maxItems":{"anyOf":[{"type":"integer","minimum":0},{"type":"string","pattern":"^.*[{]{2}[ -~]+[}]{2}.*$"}]},"minItems":{"anyOf":[{"type":"integer","minimum":0},{"type":"string","pattern":"^.*[{]{2}[ -~]+[}]{2}.*$"}]},"minimum":{"anyOf":[{"type":"number"},{"type":"string","pattern":"^.*[{]{2}[ -~]+[}]{2}.*$"}]},"maximum":{"anyOf":[{"type":"number"},{"type":"string","pattern":"^.*[{]{2}[ -~]+[}]{2}.*$"}]},"minLength":{"anyOf":[{"type":"integer","minimum":0},{"type":"string","pattern":"^.*[{]{2}[ -~]+[}]{2}.*$"}]},"maxLength":{"anyOf":[{"type":"integer","minimum":0},{"type":"string","pattern":"^.*[{]{2}[ -~]+[}]{2}.*$"}]},"multipleOf":{"$ref":"#/definitions/multipleOfDefinition"},"properties":{"additionalProperties":{"$ref":"#/definitions/dataSchema"}},"required":{"type":"array","items":{"type":"string"}},"tm:ref":{"$ref":"#/definitions/tm_ref"}},"additionalProperties":true},"action_element":{"type":"object","properties":{"@type":{"$ref":"#/definitions/type_declaration"},"description":{"$ref":"#/definitions/description"},"descriptions":{"$ref":"#/definitions/descriptions"},"title":{"$ref":"#/definitions/title"},"titles":{"$ref":"#/definitions/titles"},"forms":{"type":"array","minItems":1,"items":{"$ref":"#/definitions/form_element_action"}},"uriVariables":{"type":"object","additionalProperties":{"$ref":"#/definitions/dataSchema"}},"input":{"$ref":"#/definitions/dataSchema"},"output":{"$ref":"#/definitions/dataSchema"},"safe":{"anyOf":[{"type":"boolean"},{"type":"string","pattern":"^.*[{]{2}[ -~]+[}]{2}.*$"}]},"idempotent":{"anyOf":[{"type":"boolean"},{"type":"string","pattern":"^.*[{]{2}[ -~]+[}]{2}.*$"}]},"tm:ref":{"$ref":"#/definitions/tm_ref"}},"additionalProperties":true},"event_element":{"type":"object","properties":{"@type":{"$ref":"#/definitions/type_declaration"},"description":{"$ref":"#/definitions/description"},"descriptions":{"$ref":"#/definitions/descriptions"},"title":{"$ref":"#/definitions/title"},"titles":{"$ref":"#/definitions/titles"},"forms":{"type":"array","minItems":1,"items":{"$ref":"#/definitions/form_element_event"}},"uriVariables":{"type":"object","additionalProperties":{"$ref":"#/definitions/dataSchema"}},"subscription":{"$ref":"#/definitions/dataSchema"},"data":{"$ref":"#/definitions/dataSchema"},"cancellation":{"$ref":"#/definitions/dataSchema"},"tm:ref":{"$ref":"#/definitions/tm_ref"}},"additionalProperties":true},"base_link_element":{"type":"object","properties":{"href":{"$ref":"#/definitions/anyUri"},"type":{"type":"string"},"rel":{"type":"string"},"anchor":{"$ref":"#/definitions/anyUri"}},"additionalProperties":true},"link_element":{"allOf":[{"$ref":"#/definitions/base_link_element"},{"not":{"description":"A basic link element should not contain sizes","type":"object","properties":{"sizes":{}},"required":["sizes"]}},{"not":{"description":"A basic link element should not contain icon","properties":{"rel":{"anyOf":[{"enum":["icon"]},{"type":"string","pattern":"^.*[{]{2}[ -~]+[}]{2}.*$"}]}},"required":["rel"]}}]},"icon_link_element":{"allOf":[{"$ref":"#/definitions/base_link_element"},{"properties":{"rel":{"const":"icon"},"sizes":{"type":"string","pattern":"[0-9]*x[0-9]+"}},"required":["rel"]}]},"noSecurityScheme":{"type":"object","properties":{"@type":{"$ref":"#/definitions/type_declaration"},"description":{"$ref":"#/definitions/description"},"descriptions":{"$ref":"#/definitions/descriptions"},"proxy":{"$ref":"#/definitions/anyUri"},"scheme":{"type":"string","anyOf":[{"enum":["nosec"]},{"type":"string","pattern":"^.*[{]{2}[ -~]+[}]{2}.*$"}]},"tm:ref":{"$ref":"#/definitions/tm_ref"}}},"comboSecurityScheme":{"oneOf":[{"type":"object","properties":{"@type":{"$ref":"#/definitions/type_declaration"},"description":{"$ref":"#/definitions/description"},"descriptions":{"$ref":"#/definitions/descriptions"},"proxy":{"$ref":"#/definitions/anyUri"},"scheme":{"type":"string","anyOf":[{"enum":["combo"]},{"type":"string","pattern":"^.*[{]{2}[ -~]+[}]{2}.*$"}]},"oneOf":{"type":"array","minItems":2,"items":{"type":"string"}},"tm:ref":{"$ref":"#/definitions/tm_ref"}}},{"type":"object","properties":{"@type":{"$ref":"#/definitions/type_declaration"},"description":{"$ref":"#/definitions/description"},"descriptions":{"$ref":"#/definitions/descriptions"},"proxy":{"$ref":"#/definitions/anyUri"},"scheme":{"type":"string","anyOf":[{"enum":["combo"]},{"type":"string","pattern":"^.*[{]{2}[ -~]+[}]{2}.*$"}]},"allOf":{"type":"array","minItems":2,"items":{"type":"string"}},"tm:ref":{"$ref":"#/definitions/tm_ref"}}}]},"basicSecurityScheme":{"type":"object","properties":{"@type":{"$ref":"#/definitions/type_declaration"},"description":{"$ref":"#/definitions/description"},"descriptions":{"$ref":"#/definitions/descriptions"},"proxy":{"$ref":"#/definitions/anyUri"},"scheme":{"type":"string","anyOf":[{"enum":["basic"]},{"type":"string","pattern":"^.*[{]{2}[ -~]+[}]{2}.*$"}]},"in":{"type":"string","anyOf":[{"enum":["header","query","body","cookie"]},{"type":"string","pattern":"^.*[{]{2}[ -~]+[}]{2}.*$"}]},"name":{"type":"string"},"tm:ref":{"$ref":"#/definitions/tm_ref"}}},"digestSecurityScheme":{"type":"object","properties":{"@type":{"$ref":"#/definitions/type_declaration"},"description":{"$ref":"#/definitions/description"},"descriptions":{"$ref":"#/definitions/descriptions"},"proxy":{"$ref":"#/definitions/anyUri"},"scheme":{"type":"string","anyOf":[{"enum":["digest"]},{"type":"string","pattern":"^.*[{]{2}[ -~]+[}]{2}.*$"}]},"qop":{"type":"string","anyOf":[{"enum":["auth","auth-int"]},{"type":"string","pattern":"^.*[{]{2}[ -~]+[}]{2}.*$"}]},"in":{"type":"string","anyOf":[{"enum":["header","query","body","cookie"]},{"type":"string","pattern":"^.*[{]{2}[ -~]+[}]{2}.*$"}]},"name":{"type":"string"},"tm:ref":{"$ref":"#/definitions/tm_ref"}}},"apiKeySecurityScheme":{"type":"object","properties":{"@type":{"$ref":"#/definitions/type_declaration"},"description":{"$ref":"#/definitions/description"},"descriptions":{"$ref":"#/definitions/descriptions"},"proxy":{"$ref":"#/definitions/anyUri"},"scheme":{"type":"string","anyOf":[{"enum":["apikey"]},{"type":"string","pattern":"^.*[{]{2}[ -~]+[}]{2}.*$"}]},"in":{"type":"string","anyOf":[{"enum":["header","query","body","cookie"]},{"type":"string","pattern":"^.*[{]{2}[ -~]+[}]{2}.*$"}]},"name":{"type":"string"},"tm:ref":{"$ref":"#/definitions/tm_ref"}}},"bearerSecurityScheme":{"type":"object","properties":{"@type":{"$ref":"#/definitions/type_declaration"},"description":{"$ref":"#/definitions/description"},"descriptions":{"$ref":"#/definitions/descriptions"},"proxy":{"$ref":"#/definitions/anyUri"},"scheme":{"type":"string","anyOf":[{"enum":["bearer"]},{"type":"string","pattern":"^.*[{]{2}[ -~]+[}]{2}.*$"}]},"authorization":{"$ref":"#/definitions/anyUri"},"alg":{"type":"string"},"format":{"type":"string"},"in":{"type":"string","anyOf":[{"enum":["header","query","body","cookie"]},{"type":"string","pattern":"^.*[{]{2}[ -~]+[}]{2}.*$"}]},"name":{"type":"string"},"tm:ref":{"$ref":"#/definitions/tm_ref"}}},"pskSecurityScheme":{"type":"object","properties":{"@type":{"$ref":"#/definitions/type_declaration"},"description":{"$ref":"#/definitions/description"},"descriptions":{"$ref":"#/definitions/descriptions"},"proxy":{"$ref":"#/definitions/anyUri"},"scheme":{"type":"string","anyOf":[{"enum":["psk"]},{"type":"string","pattern":"^.*[{]{2}[ -~]+[}]{2}.*$"}]},"identity":{"type":"string"},"tm:ref":{"$ref":"#/definitions/tm_ref"}}},"oAuth2SecurityScheme":{"type":"object","properties":{"@type":{"$ref":"#/definitions/type_declaration"},"description":{"$ref":"#/definitions/description"},"descriptions":{"$ref":"#/definitions/descriptions"},"proxy":{"$ref":"#/definitions/anyUri"},"scheme":{"type":"string","anyOf":[{"enum":["oauth2"]},{"type":"string","pattern":"^.*[{]{2}[ -~]+[}]{2}.*$"}]},"authorization":{"$ref":"#/definitions/anyUri"},"token":{"$ref":"#/definitions/anyUri"},"refresh":{"$ref":"#/definitions/anyUri"},"scopes":{"oneOf":[{"type":"array","items":{"type":"string"}},{"type":"string"}]},"flow":{"anyOf":[{"type":"string"},{"type":"string","anyOf":[{"enum":["code","client","device"]},{"type":"string","pattern":"^.*[{]{2}[ -~]+[}]{2}.*$"}]}]},"tm:ref":{"$ref":"#/definitions/tm_ref"}}},"securityScheme":{"anyOf":[{"$ref":"#/definitions/noSecurityScheme"},{"$ref":"#/definitions/comboSecurityScheme"},{"$ref":"#/definitions/basicSecurityScheme"},{"$ref":"#/definitions/digestSecurityScheme"},{"$ref":"#/definitions/apiKeySecurityScheme"},{"$ref":"#/definitions/bearerSecurityScheme"},{"$ref":"#/definitions/pskSecurityScheme"},{"$ref":"#/definitions/oAuth2SecurityScheme"}]},"tm_type_declaration":{"oneOf":[{"type":"string","const":"tm:ThingModel"},{"type":"array","items":{"type":"string"},"contains":{"const":"tm:ThingModel"}}]},"tm_required":{"type":"array","items":{"type":"string","format":"json-pointer"}},"tm_ref":{"type":"string","format":"uri-reference"}},"type":"object","properties":{"id":{"type":"string"},"title":{"$ref":"#/definitions/title"},"titles":{"$ref":"#/definitions/titles"},"properties":{"type":"object","additionalProperties":{"$ref":"#/definitions/property_element"}},"actions":{"type":"object","additionalProperties":{"$ref":"#/definitions/action_element"}},"events":{"type":"object","additionalProperties":{"$ref":"#/definitions/event_element"}},"description":{"$ref":"#/definitions/description"},"descriptions":{"$ref":"#/definitions/descriptions"},"version":{"type":"object","properties":{"instance":{"type":"string"}}},"links":{"type":"array","items":{"oneOf":[{"$ref":"#/definitions/link_element"},{"$ref":"#/definitions/icon_link_element"}]}},"forms":{"type":"array","minItems":1,"items":{"$ref":"#/definitions/form_element_root"}},"base":{"$ref":"#/definitions/anyUri"},"securityDefinitions":{"type":"object","minProperties":1,"additionalProperties":{"$ref":"#/definitions/securityScheme"}},"schemaDefinitions":{"type":"object","minProperties":1,"additionalProperties":{"$ref":"#/definitions/dataSchema"}},"support":{"$ref":"#/definitions/anyUri"},"created":{"type":"string"},"modified":{"type":"string"},"security":{"oneOf":[{"type":"string"},{"type":"array","minItems":1,"items":{"type":"string"}}]},"@type":{"$ref":"#/definitions/tm_type_declaration"},"@context":{"$ref":"#/definitions/thing-context"},"tm:required":{"$ref":"#/definitions/tm_required"}},"additionalProperties":true,"required":["@context","@type"]}')}},t={};function r(n){var i=t[n];if(void 0!==i)return i.exports;var o=t[n]={id:n,loaded:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.loaded=!0,o.exports}r.c=t,r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.nmd=e=>(e.paths=[],e.children||(e.children=[]),e);var n=r(r.s=14482),i=n.u,o=n.gz,s=n.Lx,a=n.$P;export{i as EddystoneHelpers,o as consumeThingDescription,s as createThing,a as getServient};
//# sourceMappingURL=blast.web.js.map