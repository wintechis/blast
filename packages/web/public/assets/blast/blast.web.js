/*! For license information please see blast.web.js.LICENSE.txt */
var e={81732:(e,t,r)=>{var n=r(40585),o=r(12695);t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const r="color: "+this.color;t.splice(1,0,r,"color: inherit");let n=0,o=0;t[0].replace(/%[a-zA-Z%]/g,(e=>{"%%"!==e&&(n++,"%c"===e&&(o=n))})),t.splice(o,0,r)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch(e){}return!e&&void 0!==o&&"env"in o&&(e=o.env.DEBUG),e},t.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},t.storage=function(){try{return localStorage}catch(e){}}(),t.destroy=(()=>{let e=!1;return()=>{e||(e=!0,n.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=n.debug||n.log||(()=>{}),e.exports=r(90778)(t);const{formatters:i}=e.exports;i.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}},90778:(e,t,r)=>{var n=r(40585);e.exports=function(e){function t(e){let r,n,i,s=null;function a(...e){if(!a.enabled)return;const n=a,o=Number(new Date),i=o-(r||o);n.diff=i,n.prev=r,n.curr=o,r=o,e[0]=t.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let s=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,((r,o)=>{if("%%"===r)return"%";s++;const i=t.formatters[o];if("function"==typeof i){const t=e[s];r=i.call(n,t),e.splice(s,1),s--}return r})),t.formatArgs.call(n,e),(n.log||t.log).apply(n,e)}return a.namespace=e,a.useColors=t.useColors(),a.color=t.selectColor(e),a.extend=o,a.destroy=t.destroy,Object.defineProperty(a,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==s?s:(n!==t.namespaces&&(n=t.namespaces,i=t.enabled(e)),i),set:e=>{s=e}}),"function"==typeof t.init&&t.init(a),a}function o(e,r){const n=t(this.namespace+(void 0===r?":":r)+e);return n.log=this.log,n}function i(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return t.debug=t,t.default=t,t.coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){const e=[...t.names.map(i),...t.skips.map(i).map((e=>"-"+e))].join(",");return t.enable(""),e},t.enable=function(e){let r;t.save(e),t.namespaces=e,t.names=[],t.skips=[];const n=("string"==typeof e?e:"").split(/[\s,]+/),o=n.length;for(r=0;r<o;r++)n[r]&&("-"===(e=n[r].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.slice(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){if("*"===e[e.length-1])return!0;let r,n;for(r=0,n=t.skips.length;r<n;r++)if(t.skips[r].test(e))return!1;for(r=0,n=t.names.length;r<n;r++)if(t.names[r].test(e))return!0;return!1},t.humanize=r(66117),t.destroy=function(){n.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach((r=>{t[r]=e[r]})),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){let r=0;for(let t=0;t<e.length;t++)r=(r<<5)-r+e.charCodeAt(t),r|=0;return t.colors[Math.abs(r)%t.colors.length]},t.enable(t.load()),t}},14482:(e,t,r)=>{r.d(t,{u:()=>j,L:()=>N});var n=r(64455),o=(r(54022),r(31379)),i=r(95751),s=r(97866).Buffer;const{ProtocolHelpers:a}=n,c=function(e){const t=new i.Readable;return t.push(e),t.push(null),a.toNodeStream(t)},{debug:u,error:l,warn:f}=(0,n.createLoggers)("binding-bluetooth","bluetooth-client");class h{bluetoothAdapter;constructor(e){u("created client"),this.bluetoothAdapter=e}toString(){return"[WebBluetoothClient]"}async readResource(e){const t=this.deconstructForm(e),r=await this.bluetoothAdapter.getCharacteristic(t.deviceId,t.serviceId,t.characteristicId);u(`invoking "readValue" on characteristic ${t.characteristicId}`);const n=await r.readValue(),o=new Uint8Array(n.buffer),i=c(o);return{type:e.contentType||"application/x.binary-data-stream",body:i}}async writeResource(e,t){const r=this.deconstructForm(e);let n;if(void 0!==t){const e=await async function(e){const t=[];for await(const r of e)t.push(r);return s.concat(t)}(t.body);n=e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength)}else n=new ArrayBuffer(1);const o=await this.bluetoothAdapter.getCharacteristic(r.deviceId,r.serviceId,r.characteristicId);switch(r.bleOperation){case"sbo:write-without-response":u(`invoking "writeValueWithoutResponse" on characteristic ${r.characteristicId}`),await o.writeValueWithoutResponse(new DataView(n));break;case"sbo:write":u(`invoking "writeValueWithResponse" on characteristic ${r.characteristicId}`),await o.writeValueWithResponse(new DataView(n));break;default:throw new Error(`unknown operation ${r["sbo:methodName"]}`)}}invokeResource(e,t){return this.writeResource(e,t).then((()=>({type:"text/plain",body:c("")})))}unlinkResource(e){throw new Error("not implemented")}async subscribeResource(e,t,r,n){const i=e.href.split("//")[1],s=e["wbt:id"],a=this.deconstructPath(i),{serviceId:l,characteristicId:f,operation:h}=a;if("subscribe"!==h)throw new Error(`operation ${h} is not supported`);u(`subscribing to characteristic with serviceId ${l} characteristicId ${f}`);const p=r=>{const n=r.target.value,o=new Uint8Array(n.buffer),i={type:e.contentType||"text/plain",body:c(o)};t(i)},d=await this.bluetoothAdapter.getCharacteristic(s,l,f);return d.addEventListener("characteristicvaluechanged",p),await d.startNotifications(),new o.w0((()=>{d.removeEventListener("characteristicvaluechanged",p),d.stopNotifications()}))}async start(){}async stop(){}setSecurity(e,t){return!1}deconstructPath(e){let t,r,n;const o=e.split("/");if(3===o.length)return[t,r,n]=o,{serviceId:t,characteristicId:r,operation:n};throw new Error("href is not valid")}deconstructForm=function(e){const t={};t.path=e.href.split("//")[1];const r=t.path.split("/");if(3!==r.length){const e=new RegExp("^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$");let n=r[0];for(let o=1;o<r.length;o++)!1===e.test(r[o])?n=n+"/"+r[o]:(o===r.length-2&&(t.serviceId=r[o]),o===r.length-1&&(t.characteristicId=r[o]));t.deviceId=n}else t.deviceId=r[0],t.serviceId=r[1],t.characteristicId=r[2];return t.operation=e.op?.toString()||"",t.bleOperation=e["sbo:methodName"],t}}var p=r(4310),d=r(97866).Buffer;class y{getMediaType(){return"application/x.binary-data-stream"}bytesToValue(e,t,r){let n,o,i=null;if(void 0!==t["bdo:pattern"]){const r=function(e,t){const r=e["bdo:pattern"],n=e["bdo:variables"],o=[],i=[],s=r.split("{");for(let e=0;e<s.length;e++){const t=s[e].split("}");0===e?o.push(t[0].length/2):(i.push(t[0]),o.push(t[1].length/2))}const a=[];let c=0+o[0];for(let e=0;e<i.length;e++){const r=n[i[e]]["bdo:bytelength"];a.push(t.subarray(c,c+r)),c+=r+o[e+1]}return[i,a]}(t,e);n=r[0],o=r[1];const s=[];for(let e=0;e<n.length;e++){const r=t["bdo:variables"][n[e]],a=o[e];switch(r.type){case"integer":case"number":s.push(b(r,a));break;case"string":s.push(g(r,a));break;case"object":s.push(w(0,a));break;default:throw new Error("Datatype not supported by codec")}i=s}}else switch(t.type){case"integer":case"number":i=b(t,e);break;case"string":i=g(t,e);break;case"object":i=w(0,e);break;default:throw new Error("Datatype not supported by codec")}return i}valueToBytes(e,t,r){let n,o=d.alloc(1);if(void 0!==t["bdo:pattern"])n=function(e,t){let r,n;for([r,n]of Object.entries(e["bdo:variables"]))if("integer"===n.type){const e=m(n,t[r]);t[r]=e.toString("hex")}return p.parse(e["bdo:pattern"]).expand(t)}(t,e),o=v(t,n);else switch(t.type){case"number":case"integer":o=m(t,e);break;case"string":o=v(t,e);break;case"object":o=function(e,t){const r=JSON.stringify(t);return d.from(r,"utf-8")}(0,e)}return o}}function b(e,t){const r=e["bdo:bytelength"]||t.byteLength,n=e["bdo:signed"]||!1,o=e["bdo:byteOrder"]||"little",i=e["bdo:scale"]||1,s=e["bdo:offset"]||0,a=e["bdo:precision"]||2;if(void 0===r)throw new Error("Not all parameters are provided!");let c=0;return"little"===o?c=n?t.readIntLE(s,r):t.readUIntLE(s,r):"big"===o&&(c=n?t.readIntBE(s,r):t.readUIntBE(s,r)),c*=i,c=+(Math.round(Number(c+"e+"+a))+"e-"+a),c}function m(e,t){const r=e["bdo:bytelength"],n=e["bdo:signed"]||!1,o=e["bdo:byteOrder"]||"little",i=e["bdo:scale"]||1,s=e["bdo:offset"]||0;if(void 0===r)throw new Error("Not all parameters are provided!");t*=i;const a=d.alloc(r);return"little"===o?n?a.writeIntLE(t,s,r):a.writeUIntLE(t,s,r):"big"===o&&(n?a.writeIntBE(t,s,r):a.writeUIntBE(t,s,r)),a}function v(e,t){let r;if(void 0===e.format)return r=d.from(t,"utf-8"),r;if("hex"===e.format)return r=d.from(t,"hex"),r;throw Error("String can not be converted to bytes, format not supported")}function g(e,t){let r;if(void 0===e.format?r=t.toString("utf-8"):"hex"===e.format&&(r=t.toString("hex")),void 0===r)throw Error("String can not be converted to bytes, format not supported");return r}function w(e,t){const r=t.toString("utf-8");return JSON.parse(r)}const{debug:_,error:S,warn:O}=(0,n.createLoggers)("binding-bluetooth","bluetooth-client-factory");class E{scheme="gatt";contentSerdes=n.ContentSerdes.get();adapter;constructor(e){this.contentSerdes.addCodec(new y),this.adapter=e}getClient(){return _(`Creating client for ${this.scheme}`),new h(this.adapter)}init=()=>!0;destroy=()=>!0}const{debug:T,error:x,warn:A}=(0,n.createLoggers)("binding-bluetooth","WebBluetoothAdapter");class P{async getCharacteristic(e,t,r){const n=(await navigator.bluetooth.getDevices()).find((t=>t.id===e));if(!n)throw new Error(`Device with id ${e} not found`);if(!n.gatt)throw new Error(`Device with id ${e} is not connected`);T(`connecting to decive ${n.id}`);const o=await n.gatt.connect();T(`Getting service ${t} of device ${n.id}`);const i=await o.getPrimaryService(t);return T(`Getting characteristic ${r} of service ${t} of device ${n.id}`),i.getCharacteristic(r)}}const $=function(e,t){const r=8*Math.pow(16,t-1),n=-1*Math.pow(16,t);return(parseInt(e,16)&r)>0?n+parseInt(e,16):parseInt(e,16)},j={EDDYSTONE_CONFIG_SERVICE:"a3c87500-8ed3-4bdf-8a39-a01bebede295",EDDYSTONE_CHARACTERISTICS:{"a3c87501-8ed3-4bdf-8a39-a01bebede295":"Capabilities","a3c87502-8ed3-4bdf-8a39-a01bebede295":"Active Slot","a3c87503-8ed3-4bdf-8a39-a01bebede295":"Advertising Interval","a3c87504-8ed3-4bdf-8a39-a01bebede295":"Radio Tx Power","a3c87505-8ed3-4bdf-8a39-a01bebede295":"Advertised Tx Power","a3c87506-8ed3-4bdf-8a39-a01bebede295":"Lock State","a3c87507-8ed3-4bdf-8a39-a01bebede295":"Unlock","a3c87508-8ed3-4bdf-8a39-a01bebede295":"Public ECDH Key","a3c87509-8ed3-4bdf-8a39-a01bebede295":"EID Identity Key","a3c8750a-8ed3-4bdf-8a39-a01bebede295":"Adv Slot Data","a3c8750b-8ed3-4bdf-8a39-a01bebede295":"Factory Reset"},parseCapabilities:function(e){const t=[];for(let r=0;r<e.length;r+=2)t.push($(e.substring(r,r+2),2));const r=[];for(let e=6;e<t.length;e++){const n=r[r.length-1];if(n&&n>=t[e])break;r.push(t[e])}return{specVersion:t[0],maxSlots:t[1],maxEidPerSlot:t[2],isVarriableAdvIntervalSupported:0!=(1&t[3]),isVariableTxPowerSupported:0!=(2&t[3]),isUidSupported:0!=(1&t[5]),isUrlSupported:0!=(2&t[5]),isTlmSupported:0!=(4&t[5]),isEidSupported:0!=(8&t[5]),supportedTxPowerLevels:r}},decodeAdvertisingData:function(e){const t=[];for(let r=0;r<e.length;r+=2)t.push(parseInt(e.substring(r,r+2),16));const r=new Uint8Array(t).reduce(((e,t)=>e+("0"+t.toString(16)).slice(-2)),"");let n;switch(r[0]+r[1]){case"00":return o=r,n={frameType:"UID",txPower:parseInt(o.substring(2,4),16),namespace:o.substring(4,24),instance:o.substring(25,37)},n.namespace+n.instance;case"10":return n=function(e){const t=parseInt(e.substring(2,4),16);let r="";switch(e.substring(4,6)){case"00":r="http://www.";break;case"01":r="https://www.";break;case"02":r="http://";break;case"03":r="https://";break;default:throw new Error("Eddystone URL scheme is not valid.")}const n=[".com/",".org/",".edu/",".net/",".info/",".biz/",".gov/",".com",".org",".edu",".net",".info",".biz",".gov"],o=e.substring(6,e.length);let i=r;for(let e=0;e<o.length;e+=2){const t=parseInt(o.substring(e,e+2),16);i+=t<n.length?n[t]:String.fromCharCode(t)}return{frameType:"URL",txPower:t,url:i}}(r),n.url;case"20":return n=function(e){return{frameType:"TLM",batteryVoltage:parseInt(e.substring(4,8),16),beaconTemperature:parseInt(e.substring(8,10),16)+parseInt(e.substring(10,12),16)/100,pduCount:parseInt(e.substring(12,20),16),timeSinceReboot:parseInt(e.substring(20,28),16)}}(r),n.beaconTemperature;case"30":throw new Error("EID frame type is not supported by blast.");default:throw new Error("Eddystone frame type is not valid.")}var o},encodeAdvertisingData:function(e,t){let r;switch(t){case"URL":case"UID":break;case"TLM":throw new Error("TLM frame type is not writable.");case"EID":throw new Error("EID frame type is not writable.");default:throw new Error('Unkown frame type. Known types are "UID", "URL", "TLM", or "EID".')}if("URL"===t)r=function(e){const t=["http://www.","https://www.","http://","https://"],r=[".com/",".org/",".edu/",".net/",".info/",".biz/",".gov/",".com",".org",".edu",".net",".info",".biz",".gov"],n=[];let o=0;const i=new TextEncoder;for(let r=0;r<t.length;r++)if(e.startsWith(t[r])){n.push(r),o=t[r].length;break}for(;o<e.length;){const t=o;for(let t=0;t<r.length;t++)if(e.startsWith(r[t],o)){n.push(t),o+=r[t].length;break}t===o&&(n.push(i.encode(e[o])[0]),o++)}if(n.length>18)throw new Error("URL is too long.");return n.splice(0,0,16),new Uint8Array(n)}(e);else{if("UID"!==t)throw new Error('Unsupported frametype! Only "URL and "UID" are writeable');if(!/^[0-9A-Fa-f]{32}$/.test(e))throw new Error("Eddystone UID must be 32 hexadecimal characters.");r="00"+e}return r}};let R,C;const I=function(e){if(!R){try{R=new n.Servient}catch(e){R=new Wot.Core.Servient}R.addClientFactory(new E(e))}return R},N=async function(e,t){return e=k(e,t),(await async function(e){return C||(C=await I(new P).start()),C}()).consume(e)},k=function(e,t){for(const r in e.properties)e.properties[r].forms&&e.properties[r].forms.forEach((e=>{e.href=e.href.replace("${MacOrWebBluetoothId}",t)}));for(const r in e.actions)e.actions[r].forms&&e.actions[r].forms.forEach((e=>{e.href=e.href.replace("${MacOrWebBluetoothId}",t)}));for(const r in e.events)e.events[r].forms&&e.events[r].forms.forEach((e=>{e.href=e.href.replace("${MacOrWebBluetoothId}",t),void 0!==e["wbt:id"]&&(e["wbt:id"]=e["wbt:id"]?.replace("${MacOrWebBluetoothId}",t))}));return e}},52605:(e,t,r)=>{var n=r(97866).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(e){this.subMediaType=e}getMediaType(){return this.subMediaType}bytesToValue(e,t,r){return e.toString("ascii")}valueToBytes(e,t,r){let o="";return void 0!==e&&(o=JSON.stringify(e)),n.from(o,"base64")}}},13996:(e,t,r)=>{var n=r(97866).Buffer;Object.defineProperty(t,"__esModule",{value:!0});const o=r(18326),i=r(41861),{debug:s}=(0,i.createLoggers)("core","json-codec");t.default=class{constructor(e){this.subMediaType=e||o.ContentSerdes.DEFAULT}getMediaType(){return this.subMediaType}bytesToValue(e,t,r){let n;s(`JsonCodec parsing '${e.toString()}'`);try{n=JSON.parse(e.toString())}catch(t){if(!(t instanceof SyntaxError))throw t;n=0===e.byteLength?void 0:e.toString()}return n}valueToBytes(e,t,r){s("JsonCodec serializing",e);let o="";return void 0!==e&&(o=JSON.stringify(e)),n.from(o)}}},33089:(e,t,r)=>{var n=r(97866).Buffer;Object.defineProperty(t,"__esModule",{value:!0});const o=r(41861),{debug:i}=(0,o.createLoggers)("core","netconf-codec");t.default=class{getMediaType(){return"application/netconf"}bytesToValue(e,t,r){let n;i(`NetconfCodec parsing '${e.toString()}'`);try{n=JSON.parse(e.toString())}catch(t){if(!(t instanceof SyntaxError))throw t;n=0===e.byteLength?void 0:e.toString()}return n}valueToBytes(e,t,r){i("NetconfCodec serializing",e);let o="";if(void 0!==e){const r={},n=this.getPayloadNamespaces(t,e,r,!1);o=JSON.stringify(n)}return n.from(o)}getPayloadNamespaces(e,t,r,n){if(!e)throw new Error('Missing "schema" field in TD');if(n){const n=e.properties;if(!n)throw new Error('Missing "properties" field in TD');let o,i=!1,s="";for(const e in n){const a=n[e];if(!t[e])throw new Error(`Payload is missing '${e}' field specified in TD`);if(!0===a["nc:attribute"]&&t[e]){const n=t[e];s=n.split(":")[n.split(":").length-1],r[s]=t[e],i=!0}else t[e]&&(o=t[e])}if(i)return{payload:s+"\\:"+o,NSs:r};throw new Error("Namespace not found in the payload")}if(e&&e.type&&"object"===e.type&&e.properties){let n;n=e.properties&&e["nc:container"]?this.getPayloadNamespaces(e,t,r,!0):this.getPayloadNamespaces(e.properties,t,r,!1),t=n.payload,r=Object.assign(Object.assign({},r),n.NSs)}for(const o in e)if(e[o].type&&"object"===e[o].type||n){let n=!1;e[o].properties&&e[o]["nc:container"]&&(n=!0);const i=this.getPayloadNamespaces(e[o],t[o],r,n);t[o]=i.payload,r=Object.assign(Object.assign({},r),i.NSs)}return{payload:t,NSs:r}}}},45629:(e,t,r)=>{var n=r(97866).Buffer;Object.defineProperty(t,"__esModule",{value:!0});const o=r(27772),i=r(41861),{debug:s,warn:a}=(0,i.createLoggers)("core","octetstream-codec");t.default=class{getMediaType(){return"application/octet-stream"}bytesToValue(e,t,r={}){var n;s(`OctetstreamCodec parsing '${e.toString()}'`);const i="littleendian"!==r.byteorder;let c="false"!==r.signed;if(r.length&&parseInt(r.length)!==e.length)throw new Error("Lengths do not match, required: "+r.length+" provided: "+e.length);let u=e.length,l=t?t.type:"undefined";if(/(short|(u)?int(8|16|32)?$|float(16|32|64)?|byte)/.test(l.toLowerCase())){const t=/(u)?(short|int|float|byte)(8|16|32|64)?/.exec(l.toLowerCase());t&&(c=void 0===t[1],l=t[2],u=null!==(n=+t[3]/8)&&void 0!==n?n:e.length)}switch(l){case"boolean":return!e.every((e=>0===e));case"byte":case"short":case"int":case"integer":switch(u){case 1:return c?e.readInt8(0):e.readUInt8(0);case 2:return i?c?e.readInt16BE(0):e.readUInt16BE(0):c?e.readInt16LE(0):e.readUInt16LE(0);case 4:return i?c?e.readInt32BE(0):e.readUInt32BE(0):c?e.readInt32LE(0):e.readUInt32LE(0);default:{let t,r=0;return i?(r=e.reduce(((e,t)=>e<<8+t)),t=e.readInt8(0)<0):(r=e.reduceRight(((e,t)=>e<<8+t)),t=e.readInt8(u-1)<0),c&&t&&(r-=1<<8*u),Number.isSafeInteger(r)||a("Result is not a safe integer"),r}}case"float":case"double":case"number":switch(u){case 2:return(0,o.getFloat16)(new DataView(e.buffer),e.byteOffset,!i);case 4:return i?e.readFloatBE(0):e.readFloatLE(0);case 8:return i?e.readDoubleBE(0):e.readDoubleLE(0);default:throw new Error("Wrong buffer length for type 'number', must be 2, 4, 8, or is "+u)}case"string":return e.toString(r.charset);case"array":case"object":throw new Error("Unable to handle dataType "+l);case"null":return null;default:throw new Error("Unable to handle dataType "+l)}}valueToBytes(e,t,r={}){var i;s(`OctetstreamCodec serializing '${e}'`),r.length||a("Missing 'length' parameter necessary for write. I'll do my best");const c="littleendian"!==r.byteorder;let u,l="false"!==r.signed,f=r.length?parseInt(r.length):void 0;if(void 0===e)throw new Error("Undefined value");let h=t?t.type:"undefined";if(/(short|(u)?int(8|16|32)?$|float(16|32|64)?|byte)/.test(h.toLowerCase())){const e=/(u)?(short|int|float|byte)(8|16|32|64)?/.exec(h.toLowerCase());e&&(l=void 0===e[1],h=e[2],f=null!==(i=+e[3]/8)&&void 0!==i?i:f)}switch(h){case"boolean":return n.alloc(null!=f?f:1,e?255:0);case"byte":case"short":case"int":case"integer":{if(f=null!=f?f:4,"number"!=typeof e)throw new Error("Value is not a number");Number.isSafeInteger(e)||a("Value is not a safe integer");const t=Math.pow(2,8*f)-1;if(l){if(e<-t||e>=t)throw new Error("Integer overflow when representing signed "+e+" in "+f+" byte(s)")}else if(e<0||e>=t)throw new Error("Integer overflow when representing unsigned "+e+" in "+f+" byte(s)");switch(u=n.alloc(f),f){case 1:l?u.writeInt8(e,0):u.writeUInt8(e,0);break;case 2:c?l?u.writeInt16BE(e,0):u.writeUInt16BE(e,0):l?u.writeInt16LE(e,0):u.writeUInt16LE(e,0);break;case 4:c?l?u.writeInt32BE(e,0):u.writeUInt32BE(e,0):l?u.writeInt32LE(e,0):u.writeUInt32LE(e,0);break;default:l&&e<0&&(e+=1<<8*f);for(let t=0;t<f;++t){const r=e%256;e/=256,u.writeInt8(r,c?f-t-1:t)}}return u}case"float":case"number":if("number"!=typeof e)throw new Error("Value is not a number");switch(f=null!=f?f:8,u=n.alloc(f),f){case 2:(0,o.setFloat16)(new DataView(u.buffer),0,e,!c);break;case 4:c?u.writeFloatBE(e,0):u.writeFloatLE(e,0);break;case 8:c?u.writeDoubleBE(e,0):u.writeDoubleLE(e,0);break;default:throw new Error("Wrong buffer length for type 'number', must be 4 or 8, is "+f)}return u;case"string":{const t=String(e);return n.from(t)}case"array":case"object":case"undefined":default:throw new Error("Unable to handle dataType "+h);case"null":return n.alloc(0)}}}},65355:(e,t,r)=>{var n=r(97866).Buffer;Object.defineProperty(t,"__esModule",{value:!0});const o=r(41861),{debug:i}=(0,o.createLoggers)("core","text-codec");t.default=class{constructor(e){this.subMediaType=e||"text/plain"}getMediaType(){return this.subMediaType}bytesToValue(e,t,r){return i(`TextCodec parsing '${e.toString()}'`),e.toString(null==r?void 0:r.charset)}valueToBytes(e,t,r){i(`TextCodec serializing '${e}'`);let o,s="";if(void 0!==e&&(s=JSON.stringify(e)),r&&r.charset)switch(r.charset){case"ascii":o="ascii";break;case"utf8":o="utf8";break;case"utf-8":o="utf-8";break;case"utf16le":o="utf16le";break;case"ucs2":o="ucs2";break;case"ucs-2":o="ucs-2";break;case"base64":o="base64";break;case"latin1":o="latin1";break;case"binary":o="binary";break;case"hex":o="hex"}return o?n.from(s,o):n.from(s)}}},1639:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t},s=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const c=i(r(54022)),u=a(r(71239)),l=a(r(18326)),f=r(4310),h=r(10407),p=r(41861),{debug:d,warn:y}=(0,p.createLoggers)("core","consumed-thing");var b;!function(e){e[e.PropertyAffordance=0]="PropertyAffordance",e[e.ActionAffordance=1]="ActionAffordance",e[e.EventAffordance=2]="EventAffordance"}(b||(b={}));class m extends c.ThingProperty{constructor(e,t){super(),this.getName=()=>e,this.getThing=()=>t}}class v extends c.ThingAction{constructor(e,t){super(),this.getName=()=>e,this.getThing=()=>t}}class g extends c.ThingEvent{constructor(e,t){super(),this.getName=()=>e,this.getThing=()=>t}}class w{constructor(e,t){this.thing=e,this.name=t,this.active=!0}}class _ extends w{constructor(e,t,r){var n;super(e,t),this.form=r,this.active=!1;const o=null===(n=this.thing.properties)||void 0===n?void 0:n[t].forms.indexOf(r);if(void 0===o||o<0)throw new Error(`Could not find form ${r.href} in property ${t}`);this.formIndex=o}stop(e){return s(this,void 0,void 0,(function*(){yield this.unobserveProperty(e),this.thing.observedProperties.delete(this.name)}))}unobserveProperty(e={}){return s(this,void 0,void 0,(function*(){const t=this.thing.properties[this.name];if(!t)throw new Error(`ConsumedThing '${this.thing.title}' does not have property ${this.name}`);e.formIndex||(e.formIndex=this.matchingUnsubscribeForm());const{client:r,form:n}=this.thing.getClientFor(t.forms,"unobserveproperty",b.PropertyAffordance,e);if(!n)throw new Error(`ConsumedThing '${this.thing.title}' did not get suitable form`);if(!r)throw new Error(`ConsumedThing '${this.thing.title}' did not get suitable client for ${n.href}`);d(`ConsumedThing '${this.thing.title}' unobserving to ${n.href}`),yield r.unlinkResource(n),this.active=!1}))}matchingUnsubscribeForm(){const e=this.thing.properties[this.name].forms[this.formIndex];if(Array.isArray(e.op)&&e.op.includes("unobserveproperty"))return this.formIndex;const t=this.findFormIndexWithScoring(this.formIndex,this.thing.properties[this.name].forms,"unobserveproperty");if(-1===t)throw new Error("Could not find matching form for unsubscribe");return t}findFormIndexWithScoring(e,t,r){const n=t[e];let o=0,i=-1;for(let e=0;e<t.length;e++){let s=0;const a=t[e];(a.op===r||Array.isArray(a.op)&&a.op.includes(r))&&(s+=1),new URL(a.href).origin===new URL(n.href).origin&&(s+=1),a.contentType===n.contentType&&(s+=1),s>o&&(o=s,i=e)}return i}}class S extends w{constructor(e,t,r){var n;super(e,t),this.form=r;const o=null===(n=this.thing.events)||void 0===n?void 0:n[t].forms.indexOf(r);if(void 0===o||o<0)throw new Error(`Could not find form ${r.href} in event ${t}`);this.formIndex=o}stop(e){return s(this,void 0,void 0,(function*(){yield this.unsubscribeEvent(e),this.thing.subscribedEvents.delete(this.name)}))}unsubscribeEvent(e={}){return s(this,void 0,void 0,(function*(){const t=this.thing.events[this.name];if(!t)throw new Error(`ConsumedThing '${this.thing.title}' does not have event ${this.name}`);e.formIndex||(e.formIndex=this.matchingUnsubscribeForm());const{client:r,form:n}=this.thing.getClientFor(t.forms,"unsubscribeevent",b.EventAffordance,e);if(!n)throw new Error(`ConsumedThing '${this.thing.title}' did not get suitable form`);if(!r)throw new Error(`ConsumedThing '${this.thing.title}' did not get suitable client for ${n.href}`);d(`ConsumedThing '${this.thing.title}' unsubscribing to ${n.href}`),r.unlinkResource(n),this.active=!1}))}matchingUnsubscribeForm(){const e=this.thing.events[this.name].forms[this.formIndex];if(!e.op||Array.isArray(e.op)&&e.op.includes("unsubscribeevent"))return this.formIndex;const t=function(e,t,r){const n=t[e];let o=0,i=-1;for(let e=0;e<t.length;e++){let s=0;const a=t[e];(a.op===r||Array.isArray(a.op)&&a.op.includes(r))&&(s+=1),new URL(a.href).origin===new URL(n.href).origin&&(s+=1),a.contentType===n.contentType&&(s+=1),s>o&&(o=s,i=e)}return i}(this.formIndex,this.thing.events[this.name].forms,"unsubscribeevent");if(-1===t)throw new Error("Could not find matching form for unsubscribe");return t}}class O extends c.Thing{constructor(e,t={}){super(),this.subscribedEvents=new Map,this.observedProperties=new Map,this.getServient=()=>e,this.getClients=(new class{constructor(){this.clients=new Map,this.getMap=()=>this.clients}}).getMap,this.properties={},this.actions={},this.events={};const r=JSON.parse(JSON.stringify(t));Object.assign(this,r),this.extendInteractions()}getThingDescription(){return JSON.parse(JSON.stringify(this))}emitEvent(e,t){y("not implemented")}extendInteractions(){for(const e in this.properties){const t=u.default.extend(this.properties[e],new m(e,this));this.properties[e]=t}for(const e in this.actions){const t=u.default.extend(this.actions[e],new v(e,this));this.actions[e]=t}for(const e in this.events){const t=u.default.extend(this.events[e],new g(e,this));this.events[e]=t}}findForm(e,t,r,n,o){let i;for(const s of e){let e="";if(void 0!==s.op)e=s.op;else switch(r){case b.PropertyAffordance:e=["readproperty","writeproperty"];break;case b.ActionAffordance:e="invokeaction";break;case b.EventAffordance:e="subscribeevent"}if(-1!==e.indexOf(t)&&-1!==s.href.indexOf(n[o]+":")){i=s;break}}return i}getSecuritySchemes(e){const t=[];for(const r of e){const e=this.securityDefinitions[r+""];e&&t.push(e)}return t}ensureClientSecurity(e,t){if(this.securityDefinitions){const r=()=>d(`ConsumedThing '${this.title}' setting credentials for ${e} based on thing security`);t&&Array.isArray(t.security)&&t.security.length>0?(r(),e.setSecurity(this.getSecuritySchemes(t.security),this.getServient().retrieveCredentials(this.id))):this.security&&Array.isArray(this.security)&&this.security.length>0&&(r(),e.setSecurity(this.getSecuritySchemes(this.security),this.getServient().getCredentials(this.id)))}}getClientFor(e,t,r,n){if(0===e.length)throw new Error(`ConsumedThing '${this.title}' has no links for this interaction`);let o,i;if(void 0!==(null==n?void 0:n.formIndex)){if(d(`ConsumedThing '${this.title}' asked to use formIndex '${n.formIndex}'`),!(n.formIndex>=0&&n.formIndex<e.length))throw new Error(`ConsumedThing '${this.title}' missing formIndex '${n.formIndex}'`);{o=e[n.formIndex];const t=u.default.extractScheme(o.href);if(!this.getServient().hasClientFor(t))throw new Error(`ConsumedThing '${this.title}' missing ClientFactory for '${t}'`);d(`ConsumedThing '${this.title}' got client for '${t}'`),i=this.getServient().getClientFor(t),this.getClients().get(t)||(this.ensureClientSecurity(i,o),this.getClients().set(t,i))}}else{const n=e.map((e=>u.default.extractScheme(e.href))),s=n.findIndex((e=>this.getClients().has(e)));if(-1!==s)d(`ConsumedThing '${this.title}' chose cached client for '${n[s]}'`),i=this.getClients().get(n[s]),o=this.findForm(e,t,r,n,s);else{d(`ConsumedThing '${this.title}' has no client in cache (${s})`);const a=n.findIndex((e=>this.getServient().hasClientFor(e)));if(-1===a)throw new Error(`ConsumedThing '${this.title}' missing ClientFactory for '${n}'`);i=this.getServient().getClientFor(n[a]),d(`ConsumedThing '${this.title}' got new client for '${n[a]}'`),this.getClients().set(n[a],i),o=this.findForm(e,t,r,n,a),this.ensureClientSecurity(i,o)}}return{client:i,form:o}}readProperty(e,t){return s(this,void 0,void 0,(function*(){const r=this.properties[e];if(!r)throw new Error(`ConsumedThing '${this.title}' does not have property ${e}`);let{client:n,form:o}=this.getClientFor(r.forms,"readproperty",b.PropertyAffordance,t);if(!o)throw new Error(`ConsumedThing '${this.title}' did not get suitable form`);if(!n)throw new Error(`ConsumedThing '${this.title}' did not get suitable client for ${o.href}`);d(`ConsumedThing '${this.title}' reading ${o.href}`),o=this.handleUriVariables(r,o,t);const i=yield n.readResource(o);return new h.InteractionOutput(i,o,r)}))}_readProperties(e){return s(this,void 0,void 0,(function*(){const t=[];for(const r of e)t.push(this.readProperty(r));const r=new Map;try{const n=yield Promise.all(t);let o=0;for(const t of e)r.set(t,n[o]),o++;return r}catch(t){throw new Error(`ConsumedThing '${this.title}', failed to read properties: ${e}.\n Error: ${t}`)}}))}readAllProperties(e){const t=[];for(const r in this.properties){const n=this.properties[r],{form:o}=this.getClientFor(n.forms,"readproperty",b.PropertyAffordance,e);o&&t.push(r)}return this._readProperties(t)}readMultipleProperties(e,t){return this._readProperties(e)}writeProperty(e,t,r){return s(this,void 0,void 0,(function*(){const n=this.properties[e];if(!n)throw new Error(`ConsumedThing '${this.title}' does not have property ${e}`);let{client:o,form:i}=this.getClientFor(n.forms,"writeproperty",b.PropertyAffordance,r);if(!i)throw new Error(`ConsumedThing '${this.title}' did not get suitable form`);if(!o)throw new Error(`ConsumedThing '${this.title}' did not get suitable client for ${i.href}`);d(`ConsumedThing '${this.title}' writing ${i.href} with '${t}'`);const s=l.default.valueToContent(t,n,i.contentType);i=this.handleUriVariables(n,i,r),yield o.writeResource(i,s)}))}writeMultipleProperties(e,t){return s(this,void 0,void 0,(function*(){const t=[];for(const r in e){const n=e.get(r);t.push(this.writeProperty(r,n))}try{yield Promise.all(t)}catch(t){throw new Error(`ConsumedThing '${this.title}', failed to write multiple propertes: ${e}\n Error: ${t}`)}}))}invokeAction(e,t,r){var n;return s(this,void 0,void 0,(function*(){const o=this.actions[e];if(!o)throw new Error(`ConsumedThing '${this.title}' does not have action ${e}`);let i,{client:s,form:a}=this.getClientFor(o.forms,"invokeaction",b.ActionAffordance,r);if(!a)throw new Error(`ConsumedThing '${this.title}' did not get suitable form`);if(!s)throw new Error(`ConsumedThing '${this.title}' did not get suitable client for ${a.href}`);d(`ConsumedThing '${this.title}' invoking ${a.href}${void 0!==t?" with '"+t+"'":""}`),void 0!==t&&(i=l.default.valueToContent(t,o.input,a.contentType)),a=this.handleUriVariables(o,a,r);const c=yield s.invokeResource(a,i);if(c.type||(c.type=null!==(n=a.contentType)&&void 0!==n?n:"application/json"),a.response&&c.type!==a.response.contentType)throw new Error("Unexpected type in response");try{return new h.InteractionOutput(c,a,o.output)}catch(e){throw new Error("Received invalid content from Thing")}}))}observeProperty(e,t,r,n){return s(this,void 0,void 0,(function*(){const o=this.properties[e];if(!o)throw new Error(`ConsumedThing '${this.title}' does not have property ${e}`);let{client:i,form:s}=this.getClientFor(o.forms,"observeproperty",b.PropertyAffordance,n);if(!s)throw new Error(`ConsumedThing '${this.title}' did not get suitable form`);if(!i)throw new Error(`ConsumedThing '${this.title}' did not get suitable client for ${s.href}`);if(this.observedProperties.has(e))throw new Error(`ConsumedThing '${this.title}' has already a function subscribed to ${e}. You can only observe once`);d(`ConsumedThing '${this.title}' observing to ${s.href}`),s=this.handleUriVariables(o,s,n),yield i.subscribeResource(s,(e=>{var r;e.type||(e.type=null!==(r=s.contentType)&&void 0!==r?r:"application/json");try{t(new h.InteractionOutput(e,s,o))}catch(e){y(`Error while processing observe event for ${o.title}`),y(e)}}),(e=>{null==r||r(e)}),(()=>{}));const a=new _(this,e,s);return this.observedProperties.set(e,a),a}))}subscribeEvent(e,t,r,n){return s(this,void 0,void 0,(function*(){const o=this.events[e];if(!o)throw new Error(`ConsumedThing '${this.title}' does not have event ${e}`);let{client:i,form:s}=this.getClientFor(o.forms,"subscribeevent",b.EventAffordance,n);if(!s)throw new Error(`ConsumedThing '${this.title}' did not get suitable form`);if(!i)throw new Error(`ConsumedThing '${this.title}' did not get suitable client for ${s.href}`);if(this.subscribedEvents.has(e))throw new Error(`ConsumedThing '${this.title}' has already a function subscribed to ${e}. You can only subscribe once`);d(`ConsumedThing '${this.title}' subscribing to ${s.href}`),s=this.handleUriVariables(o,s,n),yield i.subscribeResource(s,(e=>{var r;e.type||(e.type=null!==(r=s.contentType)&&void 0!==r?r:"application/json");try{t(new h.InteractionOutput(e,s,o.data))}catch(e){y(`Error while processing event for ${o.title}`),y(e)}}),(e=>{null==r||r(e)}),(()=>{}));const a=new S(this,e,s);return this.subscribedEvents.set(e,a),a}))}handleUriVariables(e,t,r){const n=f.parse(t.href),o=u.default.parseInteractionOptions(this,e,r).uriVariables,i=n.expand(null!=o?o:{});if(i!==t.href){const e=Object.assign({},t);e.href=i,t=e,d(`ConsumedThing '${this.title}' update form URI to ${t.href}`)}return t}}t.default=O},18326:function(e,t,r){var n=r(97866).Buffer,o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ContentSerdes=void 0;const i=o(r(13996)),s=o(r(65355)),a=o(r(52605)),c=o(r(45629)),u=r(95751),l=r(64455),f=r(20538),h=r(41861),{debug:p,warn:d}=(0,h.createLoggers)("core","content-serdes");class y{constructor(){this.codecs=new Map,this.offered=new Set}static get(){return this.instance||(this.instance=new y,this.instance.addCodec(new i.default,!0),this.instance.addCodec(new i.default("application/senml+json")),this.instance.addCodec(new s.default),this.instance.addCodec(new s.default("text/html")),this.instance.addCodec(new s.default("text/css")),this.instance.addCodec(new s.default("application/xml")),this.instance.addCodec(new s.default("application/xhtml+xml")),this.instance.addCodec(new s.default("image/svg+xml")),this.instance.addCodec(new a.default("image/png")),this.instance.addCodec(new a.default("image/gif")),this.instance.addCodec(new a.default("image/jpeg")),this.instance.addCodec(new c.default)),this.instance}static getMediaType(e){return e.split(";")[0].trim()}static getMediaTypeParameters(e){const t=e.split(";").slice(1),r={};return t.forEach((e=>{const t=e.indexOf("=");t>=0?r[e.substr(0,t).trim()]=e.substr(t+1).trim():r[e.trim()]=void 0})),r}addCodec(e,t=!1){y.get().codecs.set(e.getMediaType(),e),t&&y.get().offered.add(e.getMediaType())}getSupportedMediaTypes(){return Array.from(y.get().codecs.keys())}getOfferedMediaTypes(){return Array.from(y.get().offered)}isSupported(e){const t=y.getMediaType(e);return this.codecs.has(t)}contentToValue(e,t){if(void 0===e.type){if(!(e.body.byteLength>0))return;e.type=y.DEFAULT}const r=y.getMediaType(e.type),n=y.getMediaTypeParameters(e.type);return this.codecs.has(r)?(p(`ContentSerdes deserializing from ${e.type}`),this.codecs.get(r).bytesToValue(e.body,t,n)):(d(`ContentSerdes passthrough due to unsupported media type '${r}'`),e.body.toString())}valueToContent(e,t,r=y.DEFAULT){if(void 0===e&&d("ContentSerdes valueToContent got no value"),e instanceof f.ReadableStream)return{type:r,body:l.ProtocolHelpers.toNodeStream(e)};let o;const i=y.getMediaType(r),s=y.getMediaTypeParameters(r),a=this.codecs.get(i);return a?(p(`ContentSerdes serializing to ${r}`),o=a.valueToBytes(e,t,s)):(d(`ContentSerdes passthrough due to unsupported serialization format '${r}'`),o=n.from(null===e?"":e.toString())),{type:r,body:u.Readable.from([o])}}}t.ContentSerdes=y,y.DEFAULT="application/json",y.TD="application/td+json",y.JSON_LD="application/ld+json",t.default=y.get()},64455:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.createWarnLogger=t.createInfoLogger=t.createErrorLogger=t.createDebugLogger=t.createLoggers=t.ProtocolHelpers=t.Helpers=t.ExposedThing=t.ConsumedThing=t.NetconfCodec=t.NetconfOctetstreamCodecCodec=t.Base64Codec=t.TextCodec=t.JsonCodec=t.Servient=void 0;const s=i(r(15203));t.Servient=s.default,t.default=s.default,o(r(18326),t);var a=r(13996);Object.defineProperty(t,"JsonCodec",{enumerable:!0,get:function(){return i(a).default}});var c=r(65355);Object.defineProperty(t,"TextCodec",{enumerable:!0,get:function(){return i(c).default}});var u=r(52605);Object.defineProperty(t,"Base64Codec",{enumerable:!0,get:function(){return i(u).default}});var l=r(45629);Object.defineProperty(t,"NetconfOctetstreamCodecCodec",{enumerable:!0,get:function(){return i(l).default}});var f=r(33089);Object.defineProperty(t,"NetconfCodec",{enumerable:!0,get:function(){return i(f).default}}),o(r(80291),t);var h=r(1639);Object.defineProperty(t,"ConsumedThing",{enumerable:!0,get:function(){return i(h).default}});var p=r(34891);Object.defineProperty(t,"ExposedThing",{enumerable:!0,get:function(){return i(p).default}});var d=r(71239);Object.defineProperty(t,"Helpers",{enumerable:!0,get:function(){return i(d).default}});var y=r(83139);Object.defineProperty(t,"ProtocolHelpers",{enumerable:!0,get:function(){return i(y).default}});var b=r(41861);Object.defineProperty(t,"createLoggers",{enumerable:!0,get:function(){return b.createLoggers}}),Object.defineProperty(t,"createDebugLogger",{enumerable:!0,get:function(){return b.createDebugLogger}}),Object.defineProperty(t,"createErrorLogger",{enumerable:!0,get:function(){return b.createErrorLogger}}),Object.defineProperty(t,"createInfoLogger",{enumerable:!0,get:function(){return b.createInfoLogger}}),Object.defineProperty(t,"createWarnLogger",{enumerable:!0,get:function(){return b.createWarnLogger}})},61546:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DataSchemaError=t.NotSupportedError=t.NotReadableError=void 0;class r extends Error{constructor(e){super(e),Object.setPrototypeOf(this,r.prototype)}}t.NotReadableError=r;class n extends Error{constructor(e){super(e),Object.setPrototypeOf(this,n.prototype)}}t.NotSupportedError=n;class o extends Error{constructor(e,t){super(e),this.value=t,Object.setPrototypeOf(this,n.prototype)}}t.DataSchemaError=o},34891:function(e,t,r){var n=r(97866).Buffer,o=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&o(t,e,r);return i(t,e),t},a=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const u=r(31377),l=s(r(54022)),f=c(r(71239)),h=r(10407),p=r(95751),d=c(r(83139)),y=r(20538),b=c(r(18326)),m=c(r(8924)),v=r(41861),{debug:g}=(0,v.createLoggers)("core","exposed-thing");class w extends l.Thing{constructor(e,t={}){var r,n;super(),this.__propertyHandlers=new Map,this.__actionHandlers=new Map,this.__eventHandlers=new Map,this.__propertyListeners=new m.default,this.__eventListeners=new m.default,this.getServient=()=>e,this.getSubjectTD=(new class{constructor(){this.subjectTDChange=new u.Subject,this.getSubject=()=>this.subjectTDChange}}).getSubject,this.id=null!==(r=t.id)&&void 0!==r?r:"",this.title=null!==(n=t.title)&&void 0!==n?n:"",this.security="",this.securityDefinitions={},this.properties={},this.actions={},this.events={};const o=JSON.parse(JSON.stringify(t));Object.assign(this,o),l.setContextLanguage(this,l.DEFAULT_CONTEXT_LANGUAGE,!1)}getThingDescription(){return JSON.parse(l.serializeTD(this),((e,t)=>{if("__propertyHandlers"!==e&&"__actionHandlers"!==e&&"__eventHandlers"!==e&&"__propertyListeners"!==e&&"__eventListeners"!==e)return t}))}emitEvent(e,t){if(!this.events[e])throw new Error("NotFoundError for event '"+e+"'");{const r=this.events[e];this.__eventListeners.notify(r,t,r.data)}}emitPropertyChange(e){var t;return a(this,void 0,void 0,(function*(){if(!this.properties[e])throw new Error("NotFoundError for property '"+e+"'");{const r=this.properties[e],n=null===(t=this.__propertyHandlers.get(e))||void 0===t?void 0:t.readHandler;if(!n)throw new Error("Can't read property readHandler is not defined. Did you forget to register a readHandler?");const o=yield n();this.__propertyListeners.notify(r,o,r)}}))}expose(){return g(`ExposedThing '${this.title}' exposing all Interactions and TD`),new Promise(((e,t)=>{this.getServient().expose(this).then((()=>{this.getSubjectTD().next(this.getThingDescription()),e()})).catch((e=>t(e)))}))}destroy(){return a(this,void 0,void 0,(function*(){g(`ExposedThing '${this.title}' destroying the thing and its interactions`),yield this.getServient().destroyThing(this.id),this.__eventListeners.unregisterAll(),this.__propertyListeners.unregisterAll(),this.__eventHandlers.clear(),this.__propertyHandlers.clear(),this.__eventHandlers.clear(),this.getSubjectTD().next()}))}setPropertyReadHandler(e,t){if(g(`ExposedThing '${this.title}' setting read handler for '${e}'`),!this.properties[e])throw new Error(`ExposedThing '${this.title}' has no Property '${e}'`);if(this.properties[e].writeOnly)throw new Error(`ExposedThing '${this.title}' cannot set read handler for property '${e}' due to writeOnly flag`);{let r=this.__propertyHandlers.get(e);r?r.readHandler=t:r={readHandler:t},this.__propertyHandlers.set(e,r)}return this}setPropertyWriteHandler(e,t){if(g(`ExposedThing '${this.title}' setting write handler for '${e}'`),!this.properties[e])throw new Error(`ExposedThing '${this.title}' has no Property '${e}'`);if(this.properties[e].readOnly)throw new Error(`ExposedThing '${this.title}' cannot set write handler for property '${e}' due to readOnly flag`);{let r=this.__propertyHandlers.get(e);r?r.writeHandler=t:r={writeHandler:t},this.__propertyHandlers.set(e,r)}return this}setPropertyObserveHandler(e,t){if(g(`ExposedThing '${this.title}' setting property observe handler for '${e}'`),!this.properties[e])throw new Error(`ExposedThing '${this.title}' has no Property '${e}'`);if(!this.properties[e].observable)throw new Error(`ExposedThing '${this.title}' cannot set observe handler for property '${e}' since the observable flag is set to false`);{let r=this.__propertyHandlers.get(e);r?r.observeHandler=t:r={observeHandler:t},this.__propertyHandlers.set(e,r)}return this}setPropertyUnobserveHandler(e,t){if(g(`ExposedThing '${this.title}' setting property unobserve handler for '${e}'`),!this.properties[e])throw new Error(`ExposedThing '${this.title}' has no Property '${e}'`);if(!this.properties[e].observable)throw new Error(`ExposedThing '${this.title}' cannot set unobserve handler for property '${e}' due to missing observable flag`);{let r=this.__propertyHandlers.get(e);r?r.unobserveHandler=t:r={unobserveHandler:t},this.__propertyHandlers.set(e,r)}return this}setActionHandler(e,t){if(g(`ExposedThing '${this.title}' setting action handler for '${e}'`),!this.actions[e])throw new Error(`ExposedThing '${this.title}' has no Action '${e}'`);return this.__actionHandlers.set(e,t),this}setEventSubscribeHandler(e,t){if(g(`ExposedThing '${this.title}' setting event subscribe handler for '${e}'`),!this.events[e])throw new Error(`ExposedThing '${this.title}' has no Event '${e}'`);{let r=this.__eventHandlers.get(e);r?r.subscribe=t:r={subscribe:t},this.__eventHandlers.set(e,r)}return this}setEventUnsubscribeHandler(e,t){if(g(`ExposedThing '${this.title}' setting event unsubscribe handler for '${e}'`),!this.events[e])throw new Error(`ExposedThing '${this.title}' has no Event '${e}'`);{let r=this.__eventHandlers.get(e);r?r.unsubscribe=t:r={unsubscribe:t},this.__eventHandlers.set(e,r)}return this}setEventHandler(e,t){if(g(`ExposedThing '${this.title}' setting event handler for '${e}'`),!this.events[e])throw new Error(`ExposedThing '${this.title}' has no Event '${e}'`);{let r=this.__eventHandlers.get(e);r?r.handler=t:r={handler:t},this.__eventHandlers.set(e,r)}return this}handleInvokeAction(e,t,r){return a(this,void 0,void 0,(function*(){if(!this.actions[e])throw new Error(`ExposedThing '${this.title}', no action found for '${e}'`);{g(`ExposedThing '${this.title}' has Action state of '${e}'`);const n=this.__actionHandlers.get(e);if(null==n)throw new Error(`ExposedThing '${this.title}' has no handler for Action '${e}'`);{g(`ExposedThing '${this.title}' calls registered handler for Action '${e}'`),f.default.validateInteractionOptions(this,this.actions[e],r);const o=this.actions[e].forms?this.actions[e].forms[r.formIndex]:{contentType:"application/json"},i=yield n(new h.InteractionOutput(t,o,this.actions[e].input),r);if(i)return b.default.valueToContent(i,this.actions[e].output,o.contentType)}}}))}handleReadProperty(e,t){var r,n;return a(this,void 0,void 0,(function*(){if(this.properties[e]){g(`ExposedThing '${this.title}' has Action state of '${e}'`);const o=null===(r=this.__propertyHandlers.get(e))||void 0===r?void 0:r.readHandler;if(null!=o){g(`ExposedThing '${this.title}' calls registered readHandler for Property '${e}'`),f.default.validateInteractionOptions(this,this.properties[e],t);const r=yield o(t),i=this.properties[e].forms?this.properties[e].forms[t.formIndex]:{contentType:"application/json"};return b.default.valueToContent(r,this.properties[e],null!==(n=null==i?void 0:i.contentType)&&void 0!==n?n:"application/json")}throw new Error(`ExposedThing '${this.title}' has no readHandler for Property '${e}'`)}throw new Error(`ExposedThing '${this.title}', no property found for '${e}'`)}))}_handleReadProperties(e,t){return a(this,void 0,void 0,(function*(){const r=[];for(const n of e)this.properties[n].forms.find((e=>"application/json"===e.contentType||!e.contentType))&&r.push(this.handleReadProperty(n,t));try{const t=new Map,n=yield Promise.all(r);for(let r=0;r<n.length;r++)t.set(e[r],n[r]);return t}catch(t){throw new Error(`ConsumedThing '${this.title}', failed to read properties: ${e}.\n Error: ${t}`)}}))}handleReadAllProperties(e){return a(this,void 0,void 0,(function*(){const t=[];for(const e in this.properties)t.push(e);return yield this._handleReadProperties(t,e)}))}handleReadMultipleProperties(e,t){return a(this,void 0,void 0,(function*(){return yield this._handleReadProperties(e,t)}))}handleWriteProperty(e,t,r){var n;return a(this,void 0,void 0,(function*(){if(!this.properties[e])throw new Error(`ExposedThing '${this.title}', no property found for '${e}'`);{if(this.properties[e].readOnly&&!0===this.properties[e].readOnly)throw new Error(`ExposedThing '${this.title}', property '${e}' is readOnly`);f.default.validateInteractionOptions(this,this.properties[e],r);const o=null===(n=this.__propertyHandlers.get(e))||void 0===n?void 0:n.writeHandler,i=this.properties[e].forms?this.properties[e].forms[r.formIndex]:{};if(null==o)throw new Error(`ExposedThing '${this.title}' has no writeHandler for Property '${e}'`);yield o(new h.InteractionOutput(t,i,this.properties[e]),r)}}))}handleWriteMultipleProperties(e,t){return a(this,void 0,void 0,(function*(){const r=[];for(const n in e)this.properties[n].forms.find((e=>"application/json"===e.contentType||!e.contentType))&&r.push(this.handleWriteProperty(n,e.get(n),t));try{yield Promise.all(r)}catch(e){throw new Error(`ExposedThing '${this.title}', failed to write multiple properties. ${e.message}`)}}))}handleSubscribeEvent(e,t,r){var n;return a(this,void 0,void 0,(function*(){if(!this.events[e])throw new Error(`ExposedThing '${this.title}', no event found for '${e}'`);{f.default.validateInteractionOptions(this,this.events[e],r);const o=d.default.getFormIndexForOperation(this.events[e],"event","subscribeevent",r.formIndex);if(-1===o)throw new Error(`ExposedThing '${this.title}', no property listener from found for '${e}' with form index '${r.formIndex}'`);this.__eventListeners.register(this.events[e],o,t),g(`ExposedThing '${this.title}' subscribes to event '${e}'`);const i=null===(n=this.__eventHandlers.get(e))||void 0===n?void 0:n.subscribe;i&&(yield i(r)),g(`ExposedThing '${this.title}' subscribes to event '${e}'`)}}))}handleUnsubscribeEvent(e,t,r){var n;if(!this.events[e])throw new Error(`ExposedThing '${this.title}', no event found for '${e}'`);{f.default.validateInteractionOptions(this,this.events[e],r);const o=d.default.getFormIndexForOperation(this.events[e],"event","unsubscribeevent",r.formIndex);if(-1===o)throw new Error(`ExposedThing '${this.title}', no event listener from found for '${e}' with form index '${r.formIndex}'`);this.__eventListeners.unregister(this.events[e],o,t);const i=null===(n=this.__eventHandlers.get(e))||void 0===n?void 0:n.unsubscribe;i&&i(r),g(`ExposedThing '${this.title}' unsubscribes from event '${e}'`)}}handleObserveProperty(e,t,r){var n;return a(this,void 0,void 0,(function*(){if(!this.properties[e])throw new Error(`ExposedThing '${this.title}', no property found for '${e}'`);{f.default.validateInteractionOptions(this,this.properties[e],r);const o=d.default.getFormIndexForOperation(this.properties[e],"property","observeproperty",r.formIndex);if(-1===o)throw new Error(`ExposedThing '${this.title}', no property listener from found for '${e}' with form index '${r.formIndex}'`);this.__propertyListeners.register(this.properties[e],o,t),g(`ExposedThing '${this.title}' subscribes to property '${e}'`);const i=null===(n=this.__propertyHandlers.get(e))||void 0===n?void 0:n.observeHandler;i&&(yield i(r))}}))}handleUnobserveProperty(e,t,r){var n;if(!this.properties[e])throw new Error(`ExposedThing '${this.title}', no property found for '${e}'`);{f.default.validateInteractionOptions(this,this.properties[e],r);const o=d.default.getFormIndexForOperation(this.properties[e],"property","unobserveproperty",r.formIndex);if(-1===o)throw new Error(`ExposedThing '${this.title}', no property listener from found for '${e}' with form index '${r.formIndex}'`);this.__propertyListeners.unregister(this.properties[e],o,t);const i=null===(n=this.__propertyHandlers.get(e))||void 0===n?void 0:n.unobserveHandler;i&&i(r)}}static interactionInputToReadable(e){let t;return t="undefined"!=typeof ReadableStream&&e instanceof ReadableStream||e instanceof y.ReadableStream?d.default.toNodeStream(e):Array.isArray(e)||"object"==typeof e?p.Readable.from(n.from(JSON.stringify(e),"utf-8")):p.Readable.from(n.from(e.toString(),"utf-8")),t}}t.default=w},71239:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t},s=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const c=i(r(14068)),u=i(r(54022)),l=r(18326),f=r(64455),h=a(r(45982)),p=a(r(4535)),d=r(54022),y=r(41861),{debug:b,error:m,warn:v}=(0,y.createLoggers)("core","helpers"),g=p.default,w=new h.default({strict:!1}).addFormat("iri-reference",/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i).addFormat("uri",/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/).addFormat("date-time",/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/);class _{constructor(e){this.srv=e}static extractScheme(e){const t=new URL(e);if(b(t),null===t.protocol)throw new Error(`Protocol in url "${e}" must be valid`);const r=t.protocol.slice(0,-1);return b(`Helpers found scheme '${r}'`),r}static setStaticAddress(e){_.staticAddress=e}static getAddresses(){var e;const t=[];if(void 0!==_.staticAddress)return t.push(_.staticAddress),b(`AddressHelper uses static ${t}`),t;{const r=c.networkInterfaces();for(const n in r)null===(e=r[n])||void 0===e||e.forEach((e=>{b(`AddressHelper found ${e.address}`),!1===e.internal&&("IPv4"===e.family?t.push(e.address):0===e.scopeid&&t.push(_.toUriLiteral(e.address)))}));return 0===t.length&&t.push("localhost"),b(`AddressHelper identified ${t}`),t}}static toUriLiteral(e){return e?(-1!==e.indexOf(":")&&(e=`[${e}]`),e):(m(`AddressHelper received invalid address '${e}'`),"{invalid address}")}static generateUniqueName(e){const t=e.match(/.+_([0-9]+)$/);return null!==t?e.slice(0,-t[1].length)+(1+parseInt(t[1])):e+"_2"}static toStringArray(e){return e?"string"==typeof e?[e]:e:[]}fetch(e){return new Promise(((t,r)=>{const n=this.srv.getClientFor(_.extractScheme(e));b(`WoTImpl fetching TD from '${e}' with ${n}`),n.readResource(new u.Form(e,l.ContentSerdes.TD)).then((n=>s(this,void 0,void 0,(function*(){n.type!==l.ContentSerdes.TD&&n.type!==l.ContentSerdes.JSON_LD&&v(`WoTImpl received TD with media type '${n.type}' from ${e}`);const o=(yield f.ProtocolHelpers.readStreamFully(n.body)).toString("utf-8");try{const e=JSON.parse(o);t(e)}catch(t){r(new Error(`WoTImpl fetched invalid JSON from '${e}': ${t instanceof Error?t.message:t}`))}})))).then((e=>s(this,void 0,void 0,(function*(){return yield n.stop(),e})))).catch((e=>{r(e)}))}))}static extend(e,t){const r={};for(const t in e)r[t]=e[t];for(const e in t)Object.prototype.hasOwnProperty.call(r,e)||(r[e]=t[e]);return r}static parseInteractionOutput(e){return s(this,void 0,void 0,(function*(){try{return yield e.value()}catch(e){throw m("parseInteractionOutput low-level stream not implemented"),new Error("parseInteractionOutput low-level stream not implemented")}}))}static createExposeThingInitSchema(e){const t=JSON.parse(JSON.stringify(e));if(void 0!==t.required){const e=["title","@context","instance","forms","security","href","securityDefinitions"];if(Array.isArray(t.required)){const r=t.required;t.required=r.filter((t=>!e.includes(t)))}else"string"==typeof t.required&&-1!==e.indexOf(t.required)&&delete t.required}if(void 0!==t.definitions)for(const e in t.definitions)t.definitions[e]=this.createExposeThingInitSchema(t.definitions[e]);return t}static validateExposedThingInit(e){var t;if("tm:ThingModel"===e["@type"]||d.ThingModelHelpers.isThingModel(e))return{valid:!1,errors:"ThingModel declaration is not supported"};const r=_.tsSchemaValidator(e);let n;return r||(n=null===(t=_.tsSchemaValidator.errors)||void 0===t?void 0:t.map((e=>e.message)).join("\n")),{valid:r,errors:n}}static parseInteractionOptions(e,t,r){var n,o;if(!this.validateInteractionOptions(e,t,r))throw new Error(`CoreHelpers one or more uriVariables were not found under neither '${t.title}' Thing Interaction nor '${e.title}' Thing`);const i=null!==(n=t.uriVariables)&&void 0!==n?n:{},s=null!==(o=e.uriVariables)&&void 0!==o?o:{},a={};(null==r?void 0:r.uriVariables)?Object.entries(r.uriVariables).forEach((e=>{e[0]in i&&(a[e[0]]=e[1])})):r={uriVariables:{}};for(const e in s){const t=s[e];!(e in a)&&"default"in t&&(a[e]=t.default)}return r.uriVariables=a,r}static validateInteractionOptions(e,t,r){var n,o;const i=null!==(n=t.uriVariables)&&void 0!==n?n:{},s=null!==(o=e.uriVariables)&&void 0!==o?o:{};if(null==r?void 0:r.uriVariables){const e=Object.entries(r.uriVariables);for(let t=0;t<e.length;t++){const r=e[t];if(!(r[0]in i)&&!(r[0]in s))return!1}}return!0}static parseUrlParameters(e,t,r){const n={};if(null==e||!r&&!t)return n;const o=e.split("?")[1];return null==o||(-1!==o.indexOf("&")?o.split("&"):[o]).forEach((e=>{const o=e.split("="),i=decodeURIComponent(o[0]),s=decodeURIComponent(o.length>1?o[1]:"");r&&r[i]?"integer"===r[i].type||"number"===r[i].type?n[i]=+s:n[i]=s:t&&t[i]&&("integer"===t[i].type||"number"===t[i].type?n[i]=+s:n[i]=s)})),n}}t.default=_,_.tsSchemaValidator=w.compile(_.createExposeThingInitSchema(g)),_.staticAddress=void 0},10407:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t},s=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.InteractionOutput=void 0;const c=i(r(85130)),u=r(18326),l=r(64455),f=r(61546),h=a(r(45982)),p=r(41861),{debug:d}=(0,p.createLoggers)("core","interaction-output"),y=new h.default({strict:!1});t.InteractionOutput=class{constructor(e,t,r){this.content=e,this.form=t,this.schema=r,this.dataUsed=!1}get data(){if(this._stream)return this._stream;if(this.dataUsed)throw new Error("Can't read the stream once it has been already used");return this.dataUsed=!0,this._stream=l.ProtocolHelpers.toWoTStream(this.content.body)}arrayBuffer(){return s(this,void 0,void 0,(function*(){if(this.buffer)return this.buffer;if(this.dataUsed)throw new Error("Can't read the stream once it has been already used");const e=yield l.ProtocolHelpers.readStreamFully(this.content.body);return this.dataUsed=!0,this.buffer=e,e}))}value(){var e;return s(this,void 0,void 0,(function*(){if(this.parsedValue)return this.parsedValue;if(this.dataUsed)throw new Error("Can't read the stream once it has been already used");if(!this.form||!u.ContentSerdes.get().isSupported(this.content.type)){const e=this.form?`Content type ${this.content.type} not supported`:"Missing form";throw new f.NotSupportedError(e)}const t=yield l.ProtocolHelpers.readStreamFully(this.content.body);this.dataUsed=!0,this.buffer=t;const r=u.ContentSerdes.get().contentToValue({type:this.content.type,body:t},null!==(e=this.schema)&&void 0!==e?e:{});if(this.schema){const e=y.compile(this.schema);if(!e(r))throw d(`schema = ${c.inspect(this.schema,{depth:10,colors:!0})}`),d(`value: ${r}`),d(`Errror: ${e.errors}`),new f.DataSchemaError("Invalid value according to DataSchema",r)}return this.parsedValue=r,this.parsedValue}))}}},41861:function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.createLoggers=t.createErrorLogger=t.createWarnLogger=t.createDebugLogger=t.createInfoLogger=void 0;const o=n(r(81732));var i;function s(e,t){const r=["node-wot",...e,i[t]].join(":");return(0,o.default)(r)}function a(...e){return s(e,i.info)}function c(...e){return s(e,i.debug)}function u(...e){return s(e,i.warn)}function l(...e){return s(e,i.error)}!function(e){e[e.info=0]="info",e[e.debug=1]="debug",e[e.warn=2]="warn",e[e.error=3]="error"}(i||(i={})),t.createInfoLogger=a,t.createDebugLogger=c,t.createWarnLogger=u,t.createErrorLogger=l,t.createLoggers=function(...e){return{info:a(...e),debug:c(...e),warn:u(...e),error:l(...e)}}},83139:(e,t,r)=>{var n=r(97866).Buffer;Object.defineProperty(t,"__esModule",{value:!0});const o=r(95751),i=r(20538),s=r(41861),{debug:a}=(0,s.createLoggers)("core","protocol-helpers");function c(e){return class extends e{set nodeStream(e){this._nodeStream=e}get nodeStream(){if(!this._nodeStream)throw new Error("ManagedStream not correctly initialized nodeStream is undefined");return this._nodeStream}set wotStream(e){this._wotStream=e}get wotStream(){if(!this._wotStream)throw new Error("ManagedStream not correctly initialized wotStream is undefined");return this._wotStream}}}const u=c(o.Readable),l=c(i.ReadableStream);function f(e){return e instanceof l||e instanceof u}t.default=class{static updatePropertyFormWithTemplate(e,t){var r;for(const n of null!==(r=t.forms)&&void 0!==r?r:[])if(n.href,n.contentType)return void(e.contentType=n.contentType)}static updateActionFormWithTemplate(e,t){var r;for(const n of null!==(r=t.forms)&&void 0!==r?r:[])if(n.href,n.contentType)return void(e.contentType=n.contentType)}static updateEventFormWithTemplate(e,t){var r;for(const n of null!==(r=t.forms)&&void 0!==r?r:[])if(n.href,n.contentType)return void(e.contentType=n.contentType)}static getPropertyContentType(e,t,r){if(e&&t&&r&&e.properties&&e.properties[t]&&e.properties[t].forms&&Array.isArray(e.properties[t].forms))for(const n of e.properties[t].forms)if(n.href&&n.href.startsWith(r)&&n.contentType)return n.contentType}static getActionContentType(e,t,r){if(e&&t&&r&&e.actions&&e.actions[t]&&e.actions[t].forms&&Array.isArray(e.actions[t].forms))for(const n of e.actions[t].forms)if(n.href&&n.href.startsWith(r)&&n.contentType)return n.contentType}static getEventContentType(e,t,r){if(e&&t&&r&&e.events&&e.events[t]&&e.events[t].forms&&Array.isArray(e.events[t].forms))for(const n of e.events[t].forms)if(n.href&&n.href.startsWith(r)&&n.contentType)return n.contentType}static toWoTStream(e){if(f(e))return e.wotStream;const t=new l({start:t=>{e.on("data",(e=>t.enqueue(e))),e.on("error",(e=>t.error(e))),e.on("end",(()=>t.close()))},cancel:t=>{e instanceof o.Readable&&e.destroy(t)}});return e instanceof o.Readable?t.nodeStream=e:t.nodeStream=new o.Readable(e),t}static toNodeStream(e){if(f(e))return e.nodeStream;if(e instanceof o.Readable)return e;const t=e.getReader(),r=new u({read:e=>{t.read().then((e=>{r.push(e.value),e.done&&r.push(null)}))},destroy:(r,n)=>{t.releaseLock(),e.cancel(r).then((()=>n(r)))}});return r.wotStream=e,r.nodeStream=r,r}static readStreamFully(e){return new Promise(((t,r)=>{if(e){const o=[];e.on("data",(e=>o.push(e))),e.on("error",r),e.on("end",(()=>{o[0]&&(o[0]instanceof Array||o[0]instanceof n||o[0]instanceof Uint8Array)?t(n.concat(o)):o[0]&&"string"==typeof o[0]?t(n.from(o.join())):t(n.from(o))}))}else a("Protocol-Helper returns empty buffer for readStreamFully due to undefined stream"),t(n.alloc(0))}))}static findRequestMatchingFormIndex(e,t,r,n){if(void 0===e)return 0;let o=e.filter((e=>{const n=new URL(e.href.replace(/(\{[\S]*\})/,"")),o=void 0!==r?-1!==r.indexOf("?")?r.split("?")[0]:r:void 0;return n.protocol===t+":"&&(void 0===o||n.pathname===o)}));if(n){const e=o.filter((e=>e.contentType===n));e.length>0&&(o=e)}return o.length>0?e.indexOf(o[0]):0}static getFormIndexForOperation(e,t,r,n){var o;let i=-1,s=[];switch(t){case"property":if(e.readOnly&&"writeproperty"===r||e.writeOnly&&"readproperty"===r)return i;void 0!==e.readOnly&&e.readOnly||s.push("writeproperty"),void 0!==e.writeOnly&&e.writeOnly||s.push("readproperty");break;case"action":s=["invokeaction"];break;case"event":s=["subscribeevent","unsubscribeevent"]}if(-1!==s.indexOf(r)&&(r=void 0),void 0!==e.forms&&void 0!==n&&e.forms.length>n){const t=e.forms[n];t&&(void 0===r||(null===(o=t.op)||void 0===o?void 0:o.includes(r)))&&(i=n)}return void 0!==e.forms&&-1===i&&(void 0!==r?e.forms.every((t=>{var n;return(null===(n=t.op)||void 0===n?void 0:n.includes(r))&&(i=e.forms.indexOf(t)),-1===i})):e.forms.every((t=>(i=e.forms.indexOf(t),!1)))),i}}},80291:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0})},8924:function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(r(18326));class i{constructor(){this.listeners=new Map}register(e,t,r){if(!e.forms[t])throw new Error("Can't register the listener for affordance with formIndex. The affordance does not contain the form");let n=this.listeners.get(e);n||(n=new Map,this.listeners.set(e,n));let o=n.get(t);o||(o=[],n.set(t,o)),o.push(r)}unregister(e,t,r){const n=this.listeners.get(e);if(!n)throw new Error("Not found");const o=n.get(t);if(!o)throw new Error("Form not found");const i=o.indexOf(r);if(i<0)throw new Error("Form not found");o.splice(i,1)}unregisterAll(){this.listeners.clear()}notify(e,t,r,n){var s;const a=null!==(s=this.listeners.get(e))&&void 0!==s?s:i.EMPTY_MAP;if(void 0!==n){const i=a.get(n);if(i){const s=e.forms[n].contentType,a=o.default.valueToContent(t,r,s);return void i.forEach((e=>e(a)))}}for(const[n,i]of a){const s=e.forms[n].contentType,a=o.default.valueToContent(t,r,s);i.forEach((e=>e(a)))}}}t.default=i,i.EMPTY_MAP=new Map},15203:function(e,t,r){var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=o(r(92368)),s=o(r(18326)),a=r(15743),c=r(41861),{debug:u,warn:l}=(0,c.createLoggers)("core","servient");t.default=class{constructor(){this.servers=[],this.clientFactories=new Map,this.things=new Map,this.credentialStore=new Map}addMediaType(e,t=!1){s.default.addCodec(e,t)}expose(e){if(0===this.servers.length)return l("Servient has no servers to expose Things"),new Promise((e=>{e()}));u(`Servient exposing '${e.title}'`);const t=JSON.parse(JSON.stringify(e));e.forms=[];for(const t in e.properties)e.properties[t].forms=[];for(const t in e.actions)e.actions[t].forms=[];for(const t in e.events)e.events[t].forms=[];const r=[];return this.servers.forEach((n=>{r.push(n.expose(e,t))})),new Promise(((e,t)=>{Promise.all(r).then((()=>e())).catch((e=>t(e)))}))}addThing(e){return e.id||(e.id="urn:uuid:"+(0,a.v4)(),l(`Servient generating ID for '${e.title}': '${e.id}'`)),!this.things.has(e.id)&&(this.things.set(e.id,e),u(`Servient reset ID '${e.id}' with '${e.title}'`),!0)}destroyThing(e){return new Promise(((t,r)=>{if(this.things.has(e)){u(`Servient destroying thing with id '${e}'`),this.things.delete(e);const n=[];this.servers.forEach((t=>{n.push(t.destroy(e))})),Promise.all(n).then((()=>t(!0))).catch((e=>r(e)))}else l(`Servient was asked to destroy thing but failed to find thing with id '${e}'`),t(!1)}))}getThing(e){return this.things.has(e)?this.things.get(e):void 0}getThings(){u(`Servient getThings size == '${this.things.size}'`);const e={};return this.things.forEach(((t,r)=>{e[r]=t.getThingDescription()})),e}addServer(e){return this.things.forEach(((t,r)=>e.expose(t))),this.servers.push(e),!0}getServers(){return this.servers.slice(0)}addClientFactory(e){this.clientFactories.set(e.scheme,e)}hasClientFor(e){return u(`Servient checking for '${e}' scheme in ${this.clientFactories.size} ClientFactories`),this.clientFactories.has(e)}getClientFor(e){const t=this.clientFactories.get(e);if(t)return u(`Servient creating client for scheme '${e}'`),t.getClient();throw new Error(`Servient has no ClientFactory for scheme '${e}'`)}getClientSchemes(){return Array.from(this.clientFactories.keys())}addCredentials(e){if("object"==typeof e)for(const t in e){u(`Servient storing credentials for '${t}'`);let r=this.credentialStore.get(t);r||(r=[],this.credentialStore.set(t,r)),r.push(e[t])}}getCredentials(e){u(`Servient looking up credentials for '${e}' (@deprecated)`);const t=this.credentialStore.get(e);return t&&t.length>0?t[0]:void 0}retrieveCredentials(e){return u(`Servient looking up credentials for '${e}'`),this.credentialStore.get(e)}start(){return n(this,void 0,void 0,(function*(){const e=[];return this.servers.forEach((t=>e.push(t.start(this)))),this.clientFactories.forEach((e=>e.init())),yield Promise.all(e),new i.default(this)}))}shutdown(){return n(this,void 0,void 0,(function*(){this.clientFactories.forEach((e=>e.destroy()));const e=this.servers.map((e=>e.stop()));yield Promise.all(e)}))}}},92368:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t},s=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.DataType=t.DiscoveryMethod=t.ThingDiscoveryImpl=void 0;const c=i(r(54022)),u=a(r(34891)),l=a(r(1639)),f=a(r(71239)),h=r(41861),{debug:p}=(0,h.createLoggers)("core","wot-impl");class d{constructor(e){this.filter=e,this.active=!1,this.done=!1,this.error=new Error("not implemented")}start(){this.active=!0}next(){return new Promise(((e,t)=>{t(this.error)}))}stop(){this.active=!1,this.done=!1}}var y,b;t.ThingDiscoveryImpl=d,function(e){e[e.any=0]="any",e[e.local=1]="local",e[e.directory=2]="directory",e[e.multicast=3]="multicast"}(y=t.DiscoveryMethod||(t.DiscoveryMethod={})),t.default=class{constructor(e){this.srv=e,this.DiscoveryMethod=y}discover(e){return new d(e)}consume(e){return s(this,void 0,void 0,(function*(){try{const t=c.parseTD(JSON.stringify(e),!0),r=new l.default(this.srv,t);return p(`WoTImpl consuming TD ${r.id?"'"+r.id+"'":"without id"} to instantiate ConsumedThing '${r.title}'`),r}catch(e){throw new Error(`Cannot consume TD because ${e instanceof Error?e.message:e}`)}}))}produce(e){return new Promise(((t,r)=>{try{const r=f.default.validateExposedThingInit(e);if(!r.valid)throw new Error("Thing Description JSON schema validation failed:\n"+r.errors);const n=new u.default(this.srv,e);if(p(`WoTImpl producing new ExposedThing '${n.title}'`),!this.srv.addThing(n))throw new Error("Thing already exists: "+n.title);t(n)}catch(e){r(new Error(`Cannot produce ExposedThing because " + ${e instanceof Error?e.message:e}`))}}))}},(b=t.DataType||(t.DataType={})).boolean="boolean",b.number="number",b.integer="integer",b.string="string",b.object="object",b.array="array",b.null="null"},34677:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.setContextLanguage=t.findPort=t.findProtocol=void 0,t.findProtocol=function(e){const t=e.base,r=t.indexOf(":");return t.substring(0,r)},t.findPort=function(e){const t=e.base,r=t.indexOf(":",6),n=t.indexOf("/",r),o=t.substring(r+1,n);return parseInt(o)},t.setContextLanguage=function(e,t,r){if(Array.isArray(e["@context"])){const n=e["@context"];let o=!1;for(const e of n)"object"==typeof e&&void 0!==e["@language"]&&(r&&(e["@language"]=t),o=!0);o||n.push({"@language":t})}}},50170:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.serializeTD=t.parseTD=void 0;const a=i(r(7529)),c=i(r(34677)),u=r(55830),l=r(61263),f=s(r(81732)),h="node-wot:td-tools:td-parser",p=(0,f.default)(`${h}:debug`),d=(0,f.default)(`${h}:warn`);t.parseTD=function(e,t){p(`parseTD() parsing\n\`\`\`\n${e}\n\`\`\``);const r=JSON.parse(e.replace(/^\uFEFF/,""));if(void 0===r["@context"])r["@context"]=[a.DEFAULT_CONTEXT_V1,a.DEFAULT_CONTEXT_V11];else if(Array.isArray(r["@context"])){let e=r["@context"];const t=e.indexOf(a.DEFAULT_CONTEXT_V1),n=e.indexOf(a.DEFAULT_CONTEXT_V11);-1===t&&-1===n?(e.unshift(a.DEFAULT_CONTEXT_V11),e.unshift(a.DEFAULT_CONTEXT_V1)):(-1!==t&&-1!==n?(e=e.filter((function(e){return e!==a.DEFAULT_CONTEXT_V1})),e=e.filter((function(e){return e!==a.DEFAULT_CONTEXT_V11})),e.unshift(a.DEFAULT_CONTEXT_V11),e.unshift(a.DEFAULT_CONTEXT_V1)):(-1!==t&&0!==t&&(e=e.filter((function(e){return e!==a.DEFAULT_CONTEXT_V1})),e.unshift(a.DEFAULT_CONTEXT_V1)),-1!==n&&0!==n&&(e=e.filter((function(e){return e!==a.DEFAULT_CONTEXT_V11})),e.unshift(a.DEFAULT_CONTEXT_V11))),r["@context"]=e)}else if(r["@context"]!==a.DEFAULT_CONTEXT_V1&&r["@context"]!==a.DEFAULT_CONTEXT_V11){const e=r["@context"];r["@context"]=[a.DEFAULT_CONTEXT_V1,a.DEFAULT_CONTEXT_V11,e]}if(c.setContextLanguage(r,a.DEFAULT_CONTEXT_LANGUAGE,!1),void 0===r["@type"])r["@type"]=a.DEFAULT_THING_TYPE;else if(Array.isArray(r["@type"])){const e=r["@type"];-1===e.indexOf(a.DEFAULT_THING_TYPE)&&e.unshift(a.DEFAULT_THING_TYPE)}else if(r["@type"]!==a.DEFAULT_THING_TYPE){const e=r["@type"];r["@type"]=[a.DEFAULT_THING_TYPE,e]}if(void 0!==r.properties&&r.properties instanceof Object)for(const e in r.properties){const t=r.properties[e];void 0!==t.readOnly&&"boolean"==typeof t.readOnly||(t.readOnly=!1),void 0!==t.writeOnly&&"boolean"==typeof t.writeOnly||(t.writeOnly=!1),void 0!==t.observable&&"boolean"==typeof t.observable||(t.observable=!1)}if(void 0!==r.actions&&r.actions instanceof Object)for(const e in r.actions){const t=r.actions[e];void 0!==t.safe&&"boolean"==typeof t.safe||(t.safe=!1),void 0!==t.idempotent&&"boolean"==typeof t.idempotent||(t.idempotent=!1)}"object"==typeof r.properties&&null!==r.properties||(r.properties={}),"object"==typeof r.actions&&null!==r.actions||(r.actions={}),"object"==typeof r.events&&null!==r.events||(r.events={}),void 0===r.security&&d("parseTD() found no security metadata"),"string"==typeof r.security&&(r.security=[r.security]);const n=[];for(const e in r.properties){const t=r.properties[e];if(!t.forms)throw new Error(`Property '${e}' has no forms field`);for(const o of t.forms){if(!o.href)throw new Error(`Form of Property '${e}' has no href field`);if(!u(o.href)&&!r.base)throw new Error(`Form of Property '${e}' has relative URI while TD has no base field`);n.push(o)}}for(const e in r.actions){const t=r.actions[e];if(!t.forms)throw new Error(`Action '${e}' has no forms field`);for(const o of t.forms){if(!o.href)throw new Error(`Form of Action '${e}' has no href field`);if(!u(o.href)&&!r.base)throw new Error(`Form of Action '${e}' has relative URI while TD has no base field`);n.push(o)}}for(const e in r.events){const t=r.events[e];if(!t.forms)throw new Error(`Event '${e}' has no forms field`);for(const o of t.forms){if(!o.href)throw new Error(`Form of Event '${e}' has no href field`);if(!u(o.href)&&!r.base)throw new Error(`Form of Event '${e}' has relative URI while TD has no base field`);n.push(o)}}if(Object.prototype.hasOwnProperty.call(r,"base")&&(void 0===t||!0===t)){p("parseTD() normalizing 'base' into 'forms'");for(const e of n)e.href.match(/^([a-z0-9+-.]+:).+/i)||(p(`parseTDString() applying base '${r.base}' to '${e.href}'`),e.href=l.buildAbsoluteURL(r.base,e.href))}return r},t.serializeTD=function(e){const t=JSON.parse(JSON.stringify(e));if(t.security&&0!==t.security.length||(t.securityDefinitions={nosec_sc:{scheme:"nosec"}},t.security=["nosec_sc"]),t.forms&&0===t.forms.length&&delete t.forms,t.properties&&0===Object.keys(t.properties).length)delete t.properties;else if(t.properties)for(const e in t.properties){const r=t.properties[e];void 0!==r.readOnly&&"boolean"==typeof r.readOnly||(r.readOnly=!1),void 0!==r.writeOnly&&"boolean"==typeof r.writeOnly||(r.writeOnly=!1),void 0!==r.observable&&"boolean"==typeof r.observable||(r.observable=!1)}if(t.actions&&0===Object.keys(t.actions).length)delete t.actions;else if(t.actions)for(const e in t.actions){const r=t.actions[e];void 0!==r.idempotent&&"boolean"==typeof r.idempotent||(r.idempotent=!1),void 0!==r.safe&&"boolean"==typeof r.safe||(r.safe=!1)}return t.events&&0===Object.keys(t.events).length&&delete t.events,t.links&&0===t.links.length&&delete t.links,JSON.stringify(t)}},54022:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Thing=void 0;var s=r(7529);Object.defineProperty(t,"Thing",{enumerable:!0,get:function(){return i(s).default}}),o(r(7529),t),o(r(50170),t),o(r(34677),t),o(r(50495),t)},7529:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ThingEvent=t.ThingAction=t.ThingProperty=t.BaseSchema=t.Form=t.DEFAULT_THING_TYPE=t.DEFAULT_CONTEXT_LANGUAGE=t.DEFAULT_CONTEXT_V11=t.DEFAULT_CONTEXT_V1=void 0,t.DEFAULT_CONTEXT_V1="https://www.w3.org/2019/wot/td/v1",t.DEFAULT_CONTEXT_V11="https://www.w3.org/2022/wot/td/v1.1",t.DEFAULT_CONTEXT_LANGUAGE="en",t.DEFAULT_THING_TYPE="Thing",t.default=class{constructor(){this["@context"]=[t.DEFAULT_CONTEXT_V1,t.DEFAULT_CONTEXT_V11],this["@type"]=t.DEFAULT_THING_TYPE,this.title="",this.securityDefinitions={},this.security="",this.properties={},this.actions={},this.events={},this.links=[]}},t.Form=class{constructor(e,t){this.href=e,t&&(this.contentType=t)}};class r{}t.BaseSchema=r,t.ThingProperty=class extends r{},t.ThingAction=class{},t.ThingEvent=class{}},50495:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t},s=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ThingModelHelpers=void 0;const c=a(r(45982)),u=i(r(90449)),l=i(r(27065)),f=i(r(98184)),h=r(34261),p=a(r(88766)),d=a(r(81732)),y="node-wot:td-tools:thing-model-helpers",b=(0,d.default)(`${y}:debug`),m=(0,d.default)(`${y}:error`),v=p.default,g=new c.default({strict:!1}).addFormat("iri-reference",/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i).addFormat("uri-reference",/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i).addFormat("uri",/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/).addFormat("json-pointer",/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/).addFormat("date-time",/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/);class w{constructor(e){this.deps=[],this.resolver=void 0,e&&(this.resolver=e)}static isThingModel(e){if(null==e)return!1;if("object"!=typeof e||Array.isArray(e))return!1;const t=e;if(Array.isArray(t["@type"])){if(t["@type"].filter((e=>"tm:ThingModel"===e)).length>0)return!0}else if("tm:ThingModel"===t["@type"])return!0;return Object.keys(this.getThingModelRef(t)).length>0||(!!("links"in t&&Array.isArray(t.links)&&t.links.find((e=>"tm:extends"===e.rel)))||(!(void 0===t.properties||!this.isThingModel(t.properties))||!(void 0===t.actions||!this.isThingModel(t.actions))||!(void 0===t.events||!this.isThingModel(t.events))))}static getModelVersion(e){return"version"in e&&e.version&&"object"==typeof e.version&&"model"in e.version&&"string"==typeof e.version.model?e.version.model:void 0}static validateThingModel(e){var t;const r=w.tsSchemaValidator(e);let n;return r||(n=null===(t=w.tsSchemaValidator.errors)||void 0===t?void 0:t.map((e=>e.message)).join("\n")),{valid:r,errors:n}}getPartialTDs(e,t){return s(this,void 0,void 0,(function*(){return(yield this._getPartialTDs(e,t)).map((e=>{const t=e;return t["@type"]instanceof Array?t["@type"]=t["@type"].map((e=>"tm:ThingModel"===e?"Thing":e)):t["@type"]="Thing",t}))}))}fetchModel(e){return s(this,void 0,void 0,(function*(){let t;if(this.addDependency(e),t=this.resolver?yield this.resolver.fetch(e):yield this.localFetch(e),!w.isThingModel(t))throw new Error(`Data at ${e} is not a Thing Model`);return t}))}localFetch(e){switch(e.split("://")[0]){case"file":{const t=e.split("://")[1];return new Promise(((e,r)=>{f.readFile(t,{encoding:"utf-8"},(function(t,n){t?r(t):e(JSON.parse(n))}))}))}case"http":return new Promise(((t,r)=>{u.get(e,(e=>{e.setEncoding("utf8");let r="";e.on("data",(e=>{r+=e})),e.on("end",(()=>{try{const e=JSON.parse(r);b(`https fetched: ${e}`),t(e)}catch(e){m(e)}}))})).on("error",(e=>{r(e)}))}));case"https":return new Promise(((t,r)=>{l.get(e,(e=>{e.setEncoding("utf8");let r="";e.on("data",(e=>{r+=e})),e.on("end",(()=>{try{const e=JSON.parse(r);b(`https fetched: ${e}`),t(e)}catch(e){m(e)}}))})).on("error",(e=>{r(e)}))}))}return null}_getPartialTDs(e,t){return s(this,void 0,void 0,(function*(){if(!w.isThingModel(e))throw new Error(`${e} is not a Thing Model`);let r=w.validateThingModel(e);if(!1===r.valid||void 0!==r.errors)throw new Error(r.errors);if(r=this.checkPlaceholderMap(e,null==t?void 0:t.map),!1===r.valid||void 0!==r.errors)throw new Error(r.errors);const n=yield this.fetchAffordances(e);return yield this.composeModel(e,n,t)}))}fetchAffordances(e){var t;return s(this,void 0,void 0,(function*(){const r={},n=w.getThingModelLinks(e,"tm:extends");if(n.length>0){r.extends=[];for(const e of n){let t=yield this.fetchModel(e.href);[t]=yield this._getPartialTDs(t),r.extends.push(t)}}const o=["properties","actions","events"];r.imports=[];for(const n of o){const o=w.getThingModelRef(e[n]);if(Object.keys(o).length>0)for(const i in o){const s=o[i],a=this.parseTmRef(s);if(!a.uri)throw new Error(`Missing remote path in ${s}`);let c=yield this.fetchModel(a.uri);[c]=yield this._getPartialTDs(c),delete e[n][i]["tm:ref"];const u=null!==(t=this.getRefAffordance(a,c))&&void 0!==t?t:{};a.name=i,r.imports.push(Object.assign({affordance:u},a))}}const i=w.getThingModelLinks(e,"tm:submodel");if(i.length>0){r.submodel={};for(const e of i){const t=yield this.fetchModel(e.href);r.submodel[e.href]=t}}return r}))}composeModel(e,t,r){var n,o,i,a,c;return s(this,void 0,void 0,(function*(){let s=[];const u=(null!==(n=e.title)&&void 0!==n?n:"").replace(/ /g,"");r||(r={}),r.baseUrl||(r.baseUrl=".");const l=this.returnNewTMHref(r.baseUrl,u),f=this.returnNewTDHref(r.baseUrl,u);if("extends"in t){const r=null!==(o=t.extends)&&void 0!==o?o:[];for(const t of r)e=w.extendThingModel(t,e);e.links=null===(i=e.links)||void 0===i?void 0:i.filter((e=>"tm:extends"!==e.rel))}if("imports"in t){const r=null!==(a=t.imports)&&void 0!==a?a:[];for(const t of r)e=w.importAffordance(t.type,t.name,t.affordance,e)}if("submodel"in t){const n=t.submodel;for(const t in n){const o=n[t];if(r.selfComposition){if(!e.links)throw new Error("You used self composition but links are missing; they are needed to extract the instance name");const n=e.links.findIndex((e=>e.href===t)),i=e.links[n].instanceName;if(!i)throw new Error("Self composition is not possible without instance names");const[s]=yield this._getPartialTDs(o,r),a=["properties","actions","events"];for(const t of a)for(const r in s[t]){const n=`${i}_${r}`;t in e||(e[t]={}),e[t][n]=s[t][r]}}else{const n=(null!==(c=o.title)&&void 0!==c?c:"").replace(/ /g,""),i=this.returnNewTDHref(r.baseUrl,n);o.links||(o.links=[]),o.links.push({rel:"collection",href:f,type:"application/td+json"});const a=yield this._getPartialTDs(o,r);s.push(...a),e=w.formatSubmodelLink(e,t,i)}}}return e.links&&!r.selfComposition||(e.links=[]),e.links.push({rel:"type",href:l,type:"application/tm+json"}),"version"in e&&delete e.version,r.map&&(e=this.fillPlaceholder(e,r.map)),s.unshift(e),s=s.map((e=>this.fillPlaceholder(e,null==r?void 0:r.map))),this.deps.length>0&&this.removeDependency(),s}))}static getThingModelRef(e){const t={};if(!e)return t;for(const r in e)for(const n in e[r])"tm:ref"===n&&(t[r]=e[r]["tm:ref"]);return t}static getThingModelLinks(e,t){let r=[];return"links"in e&&Array.isArray(e.links)&&(r=e.links),r.filter((e=>e.rel===t))}static extendThingModel(e,t){let r={};const n=e.properties,o=e.actions,i=e.events;if(r=Object.assign(Object.assign({},e),t),n){r.properties||(r.properties={});for(const e in n)t.properties&&t.properties[e]?r.properties[e]=Object.assign(Object.assign({},n[e]),t.properties[e]):r.properties[e]=n[e]}if(o){r.actions||(r.actions={});for(const e in o)t.actions&&e in t.actions?r.actions[e]=Object.assign(Object.assign({},o[e]),t.actions[e]):r.actions[e]=o[e]}if(i){r.events||(r.events={});for(const e in i)t.events&&e in t.events?r.events[e]=Object.assign(Object.assign({},i[e]),t.events[e]):r.events[e]=i[e]}return r}static importAffordance(e,t,r,n){n[e]||(n[e]={});const o=n[e][t];n[e][t]=Object.assign(Object.assign({},r),o);for(const r in n[e][t])void 0===n[e][t][r]&&delete n[e][t][r];return n}static formatSubmodelLink(e,t,r){if(!e.links)throw new Error("Links are missing");const n=e.links.findIndex((e=>e.href===t));if(-1===n)throw new Error("Link not found");const o=e.links[n];return"instanceName"in o&&delete o.instanceName,e.links[n]=Object.assign(Object.assign({},o),{href:r,type:"application/td+json",rel:"item"}),e}parseTmRef(e){const t=e.split("#")[0],r=e.split("#")[1];return{uri:t,type:r.split("/")[1],name:r.split("/")[2]}}getRefAffordance(e,t){const r=e.type,n=e.name;if(!(r in t))return;const o=t[r];return n in o?o[n]:void 0}fillPlaceholder(e,t={}){const r=new h.JsonPlaceholderReplacer;return r.addVariableMap(t),r.replace(e)}checkPlaceholderMap(e,t={}){let r=JSON.stringify(e).match(new RegExp("{{.*?}}","g"))||[];r=r.map((e=>e.replace("{{","").replace("}}","")));let n,o=!0;return r&&r.length>0&&null==t?(o=!1,n=`No map provided for model ${e.title}`):r.length>0&&r.every((r=>r in t||(n=`Missing required fields in map for model ${e.title}`,o=!1,!1))),{valid:o,errors:n}}returnNewTMHref(e,t){return`${e}/${t}.tm.jsonld`}returnNewTDHref(e,t){return`${e}/${t}.td.jsonld`}addDependency(e){if(this.deps.indexOf(e)>-1)throw new Error(`Circular dependency found for ${e}`);this.deps.push(e)}removeDependency(e){e?this.deps=this.deps.filter((t=>t!==e)):this.deps.pop()}}t.ThingModelHelpers=w,w.tsSchemaValidator=g.compile(v)},44892:e=>{const{AbortController:t,AbortSignal:r}="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0;e.exports=t,e.exports.AbortSignal=r,e.exports.default=t},45982:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=void 0;const n=r(67640);t.KeywordCxt=n.default;var o=r(5648);Object.defineProperty(t,"_",{enumerable:!0,get:function(){return o._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return o.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return o.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return o.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return o.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return o.CodeGen}});const i=r(42877),s=r(25761),a=r(21379),c=["/properties"],u="http://json-schema.org/draft-07/schema";class l extends i.default{_addVocabularies(){super._addVocabularies(),s.default.forEach((e=>this.addVocabulary(e)))}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const e=this.opts.$data?this.$dataMetaSchema(a,c):a;this.addMetaSchema(e,u,!1),this.refs["http://json-schema.org/schema"]=u}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(u)?u:void 0)}}t.default=l},4501:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getProperty=t.safeStringify=t.stringify=t.strConcat=t.addCodeArg=t.str=t._=t.nil=t._Code=t.Name=t.IDENTIFIER=t._CodeOrName=void 0;class r{}t._CodeOrName=r,t.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class n extends r{constructor(e){if(super(),!t.IDENTIFIER.test(e))throw new Error("CodeGen: name must be a valid identifier");this.str=e}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}t.Name=n;class o extends r{constructor(e){super(),this._items="string"==typeof e?[e]:e}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const e=this._items[0];return""===e||'""'===e}get str(){var e;return null!==(e=this._str)&&void 0!==e?e:this._str=this._items.reduce(((e,t)=>`${e}${t}`),"")}get names(){var e;return null!==(e=this._names)&&void 0!==e?e:this._names=this._items.reduce(((e,t)=>(t instanceof n&&(e[t.str]=(e[t.str]||0)+1),e)),{})}}function i(e,...t){const r=[e[0]];let n=0;for(;n<t.length;)c(r,t[n]),r.push(e[++n]);return new o(r)}t._Code=o,t.nil=new o(""),t._=i;const s=new o("+");function a(e,...t){const r=[l(e[0])];let n=0;for(;n<t.length;)r.push(s),c(r,t[n]),r.push(s,l(e[++n]));return function(e){let t=1;for(;t<e.length-1;){if(e[t]===s){const r=u(e[t-1],e[t+1]);if(void 0!==r){e.splice(t-1,3,r);continue}e[t++]="+"}t++}}(r),new o(r)}function c(e,t){var r;t instanceof o?e.push(...t._items):t instanceof n?e.push(t):e.push("number"==typeof(r=t)||"boolean"==typeof r||null===r?r:l(Array.isArray(r)?r.join(","):r))}function u(e,t){if('""'===t)return e;if('""'===e)return t;if("string"==typeof e){if(t instanceof n||'"'!==e[e.length-1])return;return"string"!=typeof t?`${e.slice(0,-1)}${t}"`:'"'===t[0]?e.slice(0,-1)+t.slice(1):void 0}return"string"!=typeof t||'"'!==t[0]||e instanceof n?void 0:`"${e}${t.slice(1)}`}function l(e){return JSON.stringify(e).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}t.str=a,t.addCodeArg=c,t.strConcat=function(e,t){return t.emptyStr()?e:e.emptyStr()?t:a`${e}${t}`},t.stringify=function(e){return new o(l(e))},t.safeStringify=l,t.getProperty=function(e){return"string"==typeof e&&t.IDENTIFIER.test(e)?new o(`.${e}`):i`[${e}]`}},5648:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.or=t.and=t.not=t.CodeGen=t.operators=t.varKinds=t.ValueScopeName=t.ValueScope=t.Scope=t.Name=t.stringify=t.getProperty=t.nil=t.strConcat=t.str=t._=void 0;const n=r(4501),o=r(78227);var i=r(4501);Object.defineProperty(t,"_",{enumerable:!0,get:function(){return i._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return i.str}}),Object.defineProperty(t,"strConcat",{enumerable:!0,get:function(){return i.strConcat}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return i.nil}}),Object.defineProperty(t,"getProperty",{enumerable:!0,get:function(){return i.getProperty}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return i.stringify}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return i.Name}});var s=r(78227);Object.defineProperty(t,"Scope",{enumerable:!0,get:function(){return s.Scope}}),Object.defineProperty(t,"ValueScope",{enumerable:!0,get:function(){return s.ValueScope}}),Object.defineProperty(t,"ValueScopeName",{enumerable:!0,get:function(){return s.ValueScopeName}}),Object.defineProperty(t,"varKinds",{enumerable:!0,get:function(){return s.varKinds}}),t.operators={GT:new n._Code(">"),GTE:new n._Code(">="),LT:new n._Code("<"),LTE:new n._Code("<="),EQ:new n._Code("==="),NEQ:new n._Code("!=="),NOT:new n._Code("!"),OR:new n._Code("||"),AND:new n._Code("&&"),ADD:new n._Code("+")};class a{optimizeNodes(){return this}optimizeNames(e,t){return this}}class c extends a{constructor(e,t,r){super(),this.varKind=e,this.name=t,this.rhs=r}render({es5:e,_n:t}){const r=e?o.varKinds.var:this.varKind,n=void 0===this.rhs?"":` = ${this.rhs}`;return`${r} ${this.name}${n};`+t}optimizeNames(e,t){if(e[this.name.str])return this.rhs&&(this.rhs=R(this.rhs,e,t)),this}get names(){return this.rhs instanceof n._CodeOrName?this.rhs.names:{}}}class u extends a{constructor(e,t,r){super(),this.lhs=e,this.rhs=t,this.sideEffects=r}render({_n:e}){return`${this.lhs} = ${this.rhs};`+e}optimizeNames(e,t){if(!(this.lhs instanceof n.Name)||e[this.lhs.str]||this.sideEffects)return this.rhs=R(this.rhs,e,t),this}get names(){return j(this.lhs instanceof n.Name?{}:{...this.lhs.names},this.rhs)}}class l extends u{constructor(e,t,r,n){super(e,r,n),this.op=t}render({_n:e}){return`${this.lhs} ${this.op}= ${this.rhs};`+e}}class f extends a{constructor(e){super(),this.label=e,this.names={}}render({_n:e}){return`${this.label}:`+e}}class h extends a{constructor(e){super(),this.label=e,this.names={}}render({_n:e}){return`break${this.label?` ${this.label}`:""};`+e}}class p extends a{constructor(e){super(),this.error=e}render({_n:e}){return`throw ${this.error};`+e}get names(){return this.error.names}}class d extends a{constructor(e){super(),this.code=e}render({_n:e}){return`${this.code};`+e}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(e,t){return this.code=R(this.code,e,t),this}get names(){return this.code instanceof n._CodeOrName?this.code.names:{}}}class y extends a{constructor(e=[]){super(),this.nodes=e}render(e){return this.nodes.reduce(((t,r)=>t+r.render(e)),"")}optimizeNodes(){const{nodes:e}=this;let t=e.length;for(;t--;){const r=e[t].optimizeNodes();Array.isArray(r)?e.splice(t,1,...r):r?e[t]=r:e.splice(t,1)}return e.length>0?this:void 0}optimizeNames(e,t){const{nodes:r}=this;let n=r.length;for(;n--;){const o=r[n];o.optimizeNames(e,t)||(C(e,o.names),r.splice(n,1))}return r.length>0?this:void 0}get names(){return this.nodes.reduce(((e,t)=>$(e,t.names)),{})}}class b extends y{render(e){return"{"+e._n+super.render(e)+"}"+e._n}}class m extends y{}class v extends b{}v.kind="else";class g extends b{constructor(e,t){super(t),this.condition=e}render(e){let t=`if(${this.condition})`+super.render(e);return this.else&&(t+="else "+this.else.render(e)),t}optimizeNodes(){super.optimizeNodes();const e=this.condition;if(!0===e)return this.nodes;let t=this.else;if(t){const e=t.optimizeNodes();t=this.else=Array.isArray(e)?new v(e):e}return t?!1===e?t instanceof g?t:t.nodes:this.nodes.length?this:new g(I(e),t instanceof g?[t]:t.nodes):!1!==e&&this.nodes.length?this:void 0}optimizeNames(e,t){var r;if(this.else=null===(r=this.else)||void 0===r?void 0:r.optimizeNames(e,t),super.optimizeNames(e,t)||this.else)return this.condition=R(this.condition,e,t),this}get names(){const e=super.names;return j(e,this.condition),this.else&&$(e,this.else.names),e}}g.kind="if";class w extends b{}w.kind="for";class _ extends w{constructor(e){super(),this.iteration=e}render(e){return`for(${this.iteration})`+super.render(e)}optimizeNames(e,t){if(super.optimizeNames(e,t))return this.iteration=R(this.iteration,e,t),this}get names(){return $(super.names,this.iteration.names)}}class S extends w{constructor(e,t,r,n){super(),this.varKind=e,this.name=t,this.from=r,this.to=n}render(e){const t=e.es5?o.varKinds.var:this.varKind,{name:r,from:n,to:i}=this;return`for(${t} ${r}=${n}; ${r}<${i}; ${r}++)`+super.render(e)}get names(){const e=j(super.names,this.from);return j(e,this.to)}}class O extends w{constructor(e,t,r,n){super(),this.loop=e,this.varKind=t,this.name=r,this.iterable=n}render(e){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(e)}optimizeNames(e,t){if(super.optimizeNames(e,t))return this.iterable=R(this.iterable,e,t),this}get names(){return $(super.names,this.iterable.names)}}class E extends b{constructor(e,t,r){super(),this.name=e,this.args=t,this.async=r}render(e){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(e)}}E.kind="func";class T extends y{render(e){return"return "+super.render(e)}}T.kind="return";class x extends b{render(e){let t="try"+super.render(e);return this.catch&&(t+=this.catch.render(e)),this.finally&&(t+=this.finally.render(e)),t}optimizeNodes(){var e,t;return super.optimizeNodes(),null===(e=this.catch)||void 0===e||e.optimizeNodes(),null===(t=this.finally)||void 0===t||t.optimizeNodes(),this}optimizeNames(e,t){var r,n;return super.optimizeNames(e,t),null===(r=this.catch)||void 0===r||r.optimizeNames(e,t),null===(n=this.finally)||void 0===n||n.optimizeNames(e,t),this}get names(){const e=super.names;return this.catch&&$(e,this.catch.names),this.finally&&$(e,this.finally.names),e}}class A extends b{constructor(e){super(),this.error=e}render(e){return`catch(${this.error})`+super.render(e)}}A.kind="catch";class P extends b{render(e){return"finally"+super.render(e)}}function $(e,t){for(const r in t)e[r]=(e[r]||0)+(t[r]||0);return e}function j(e,t){return t instanceof n._CodeOrName?$(e,t.names):e}function R(e,t,r){return e instanceof n.Name?i(e):(o=e)instanceof n._Code&&o._items.some((e=>e instanceof n.Name&&1===t[e.str]&&void 0!==r[e.str]))?new n._Code(e._items.reduce(((e,t)=>(t instanceof n.Name&&(t=i(t)),t instanceof n._Code?e.push(...t._items):e.push(t),e)),[])):e;var o;function i(e){const n=r[e.str];return void 0===n||1!==t[e.str]?e:(delete t[e.str],n)}}function C(e,t){for(const r in t)e[r]=(e[r]||0)-(t[r]||0)}function I(e){return"boolean"==typeof e||"number"==typeof e||null===e?!e:n._`!${F(e)}`}P.kind="finally",t.CodeGen=class{constructor(e,t={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...t,_n:t.lines?"\n":""},this._extScope=e,this._scope=new o.Scope({parent:e}),this._nodes=[new m]}toString(){return this._root.render(this.opts)}name(e){return this._scope.name(e)}scopeName(e){return this._extScope.name(e)}scopeValue(e,t){const r=this._extScope.value(e,t);return(this._values[r.prefix]||(this._values[r.prefix]=new Set)).add(r),r}getScopeValue(e,t){return this._extScope.getValue(e,t)}scopeRefs(e){return this._extScope.scopeRefs(e,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(e,t,r,n){const o=this._scope.toName(t);return void 0!==r&&n&&(this._constants[o.str]=r),this._leafNode(new c(e,o,r)),o}const(e,t,r){return this._def(o.varKinds.const,e,t,r)}let(e,t,r){return this._def(o.varKinds.let,e,t,r)}var(e,t,r){return this._def(o.varKinds.var,e,t,r)}assign(e,t,r){return this._leafNode(new u(e,t,r))}add(e,r){return this._leafNode(new l(e,t.operators.ADD,r))}code(e){return"function"==typeof e?e():e!==n.nil&&this._leafNode(new d(e)),this}object(...e){const t=["{"];for(const[r,o]of e)t.length>1&&t.push(","),t.push(r),(r!==o||this.opts.es5)&&(t.push(":"),n.addCodeArg(t,o));return t.push("}"),new n._Code(t)}if(e,t,r){if(this._blockNode(new g(e)),t&&r)this.code(t).else().code(r).endIf();else if(t)this.code(t).endIf();else if(r)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(e){return this._elseNode(new g(e))}else(){return this._elseNode(new v)}endIf(){return this._endBlockNode(g,v)}_for(e,t){return this._blockNode(e),t&&this.code(t).endFor(),this}for(e,t){return this._for(new _(e),t)}forRange(e,t,r,n,i=(this.opts.es5?o.varKinds.var:o.varKinds.let)){const s=this._scope.toName(e);return this._for(new S(i,s,t,r),(()=>n(s)))}forOf(e,t,r,i=o.varKinds.const){const s=this._scope.toName(e);if(this.opts.es5){const e=t instanceof n.Name?t:this.var("_arr",t);return this.forRange("_i",0,n._`${e}.length`,(t=>{this.var(s,n._`${e}[${t}]`),r(s)}))}return this._for(new O("of",i,s,t),(()=>r(s)))}forIn(e,t,r,i=(this.opts.es5?o.varKinds.var:o.varKinds.const)){if(this.opts.ownProperties)return this.forOf(e,n._`Object.keys(${t})`,r);const s=this._scope.toName(e);return this._for(new O("in",i,s,t),(()=>r(s)))}endFor(){return this._endBlockNode(w)}label(e){return this._leafNode(new f(e))}break(e){return this._leafNode(new h(e))}return(e){const t=new T;if(this._blockNode(t),this.code(e),1!==t.nodes.length)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(T)}try(e,t,r){if(!t&&!r)throw new Error('CodeGen: "try" without "catch" and "finally"');const n=new x;if(this._blockNode(n),this.code(e),t){const e=this.name("e");this._currNode=n.catch=new A(e),t(e)}return r&&(this._currNode=n.finally=new P,this.code(r)),this._endBlockNode(A,P)}throw(e){return this._leafNode(new p(e))}block(e,t){return this._blockStarts.push(this._nodes.length),e&&this.code(e).endBlock(t),this}endBlock(e){const t=this._blockStarts.pop();if(void 0===t)throw new Error("CodeGen: not in self-balancing block");const r=this._nodes.length-t;if(r<0||void 0!==e&&r!==e)throw new Error(`CodeGen: wrong number of nodes: ${r} vs ${e} expected`);return this._nodes.length=t,this}func(e,t=n.nil,r,o){return this._blockNode(new E(e,t,r)),o&&this.code(o).endFunc(),this}endFunc(){return this._endBlockNode(E)}optimize(e=1){for(;e-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(e){return this._currNode.nodes.push(e),this}_blockNode(e){this._currNode.nodes.push(e),this._nodes.push(e)}_endBlockNode(e,t){const r=this._currNode;if(r instanceof e||t&&r instanceof t)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${t?`${e.kind}/${t.kind}`:e.kind}"`)}_elseNode(e){const t=this._currNode;if(!(t instanceof g))throw new Error('CodeGen: "else" without "if"');return this._currNode=t.else=e,this}get _root(){return this._nodes[0]}get _currNode(){const e=this._nodes;return e[e.length-1]}set _currNode(e){const t=this._nodes;t[t.length-1]=e}},t.not=I;const N=M(t.operators.AND);t.and=function(...e){return e.reduce(N)};const k=M(t.operators.OR);function M(e){return(t,r)=>t===n.nil?r:r===n.nil?t:n._`${F(t)} ${e} ${F(r)}`}function F(e){return e instanceof n.Name?e:n._`(${e})`}t.or=function(...e){return e.reduce(k)}},78227:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ValueScope=t.ValueScopeName=t.Scope=t.varKinds=t.UsedValueState=void 0;const n=r(4501);class o extends Error{constructor(e){super(`CodeGen: "code" for ${e} not defined`),this.value=e.value}}var i;!function(e){e[e.Started=0]="Started",e[e.Completed=1]="Completed"}(i=t.UsedValueState||(t.UsedValueState={})),t.varKinds={const:new n.Name("const"),let:new n.Name("let"),var:new n.Name("var")};class s{constructor({prefixes:e,parent:t}={}){this._names={},this._prefixes=e,this._parent=t}toName(e){return e instanceof n.Name?e:this.name(e)}name(e){return new n.Name(this._newName(e))}_newName(e){return`${e}${(this._names[e]||this._nameGroup(e)).index++}`}_nameGroup(e){var t,r;if((null===(r=null===(t=this._parent)||void 0===t?void 0:t._prefixes)||void 0===r?void 0:r.has(e))||this._prefixes&&!this._prefixes.has(e))throw new Error(`CodeGen: prefix "${e}" is not allowed in this scope`);return this._names[e]={prefix:e,index:0}}}t.Scope=s;class a extends n.Name{constructor(e,t){super(t),this.prefix=e}setValue(e,{property:t,itemIndex:r}){this.value=e,this.scopePath=n._`.${new n.Name(t)}[${r}]`}}t.ValueScopeName=a;const c=n._`\n`;t.ValueScope=class extends s{constructor(e){super(e),this._values={},this._scope=e.scope,this.opts={...e,_n:e.lines?c:n.nil}}get(){return this._scope}name(e){return new a(e,this._newName(e))}value(e,t){var r;if(void 0===t.ref)throw new Error("CodeGen: ref must be passed in value");const n=this.toName(e),{prefix:o}=n,i=null!==(r=t.key)&&void 0!==r?r:t.ref;let s=this._values[o];if(s){const e=s.get(i);if(e)return e}else s=this._values[o]=new Map;s.set(i,n);const a=this._scope[o]||(this._scope[o]=[]),c=a.length;return a[c]=t.ref,n.setValue(t,{property:o,itemIndex:c}),n}getValue(e,t){const r=this._values[e];if(r)return r.get(t)}scopeRefs(e,t=this._values){return this._reduceValues(t,(t=>{if(void 0===t.scopePath)throw new Error(`CodeGen: name "${t}" has no value`);return n._`${e}${t.scopePath}`}))}scopeCode(e=this._values,t,r){return this._reduceValues(e,(e=>{if(void 0===e.value)throw new Error(`CodeGen: name "${e}" has no value`);return e.value.code}),t,r)}_reduceValues(e,r,s={},a){let c=n.nil;for(const u in e){const l=e[u];if(!l)continue;const f=s[u]=s[u]||new Map;l.forEach((e=>{if(f.has(e))return;f.set(e,i.Started);let s=r(e);if(s){const r=this.opts.es5?t.varKinds.var:t.varKinds.const;c=n._`${c}${r} ${e} = ${s};${this.opts._n}`}else{if(!(s=null==a?void 0:a(e)))throw new o(e);c=n._`${c}${s}${this.opts._n}`}f.set(e,i.Completed)}))}return c}}},67640:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getData=void 0;const n=r(57553),o=r(43928),i=r(95495),s=r(5648),a=r(19522),c=r(91962);t.default=class{constructor(e,t,r){if(function({schema:e,opts:t,self:r},n,o){if(Array.isArray(n.keyword)?!n.keyword.includes(o):n.keyword!==o)throw new Error("ajv implementation error");const i=n.dependencies;if(null==i?void 0:i.some((t=>!Object.prototype.hasOwnProperty.call(e,t))))throw new Error(`parent schema must have dependencies of ${o}: ${i.join(",")}`);if(n.validateSchema&&!n.validateSchema(e[o])){const e="keyword value is invalid: "+r.errorsText(n.validateSchema.errors);if("log"!==t.validateSchema)throw new Error(e);r.logger.error(e)}}(e,t,r),this.gen=e.gen,this.allErrors=e.allErrors,this.keyword=r,this.data=e.data,this.schema=e.schema[r],this.$data=t.$data&&e.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=o.schemaRefOrVal(e,this.schema,r,this.$data),this.schemaType=t.schemaType,this.parentSchema=e.schema,this.params={},this.it=e,this.def=t,this.$data)this.schemaCode=e.gen.const("vSchema",f(this.$data,e));else if(this.schemaCode=this.schemaValue,!function(e,t,r=!1){return!t.length||t.some((t=>"array"===t?Array.isArray(e):"object"===t?e&&"object"==typeof e&&!Array.isArray(e):typeof e==t||r&&void 0===e))}(this.schema,t.schemaType,t.allowUndefined))throw new Error(`${r} value must be ${JSON.stringify(t.schemaType)}`);("code"in t?t.trackErrors:!1!==t.errors)&&(this.errsCount=e.gen.const("_errs",a.default.errors))}result(e,t,r){this.gen.if(s.not(e)),r?r():this.error(),t?(this.gen.else(),t(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(e,t){this.result(e,void 0,t)}fail(e){if(void 0===e)return this.error(),void(this.allErrors||this.gen.if(!1));this.gen.if(e),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(e){if(!this.$data)return this.fail(e);const{schemaCode:t}=this;this.fail(s._`${t} !== undefined && (${s.or(this.invalid$data(),e)})`)}error(e){(e?i.reportExtraError:i.reportError)(this,this.def.error)}$dataError(){i.reportError(this,this.def.$dataError||i.keyword$DataError)}reset(){if(void 0===this.errsCount)throw new Error('add "trackErrors" to keyword definition');i.resetErrorsCount(this.gen,this.errsCount)}ok(e){this.allErrors||this.gen.if(e)}setParams(e,t){t?Object.assign(this.params,e):this.params=e}block$data(e,t,r=s.nil){this.gen.block((()=>{this.check$data(e,r),t()}))}check$data(e=s.nil,t=s.nil){if(!this.$data)return;const{gen:r,schemaCode:n,schemaType:o,def:i}=this;r.if(s.or(s._`${n} === undefined`,t)),e!==s.nil&&r.assign(e,!0),(o.length||i.validateSchema)&&(r.elseIf(this.invalid$data()),this.$dataError(),e!==s.nil&&r.assign(e,!1)),r.else()}invalid$data(){const{gen:e,schemaCode:t,schemaType:r,def:o,it:i}=this;return s.or(function(){if(r.length){if(!(t instanceof s.Name))throw new Error("ajv implementation error");const e=Array.isArray(r)?r:[r];return s._`${n.checkDataTypes(e,t,i.opts.strict,n.DataType.Wrong)}`}return s.nil}(),function(){if(o.validateSchema){const r=e.scopeValue("validate$data",{ref:o.validateSchema});return s._`!${r}(${t})`}return s.nil}())}subschema(e,t){return c.applySubschema(this.it,e,t)}mergeEvaluated(e,t){const{it:r,gen:n}=this;r.opts.unevaluated&&(!0!==r.props&&void 0!==e.props&&(r.props=o.mergeEvaluated.props(n,e.props,r.props,t)),!0!==r.items&&void 0!==e.items&&(r.items=o.mergeEvaluated.items(n,e.items,r.items,t)))}mergeValidEvaluated(e,t){const{it:r,gen:n}=this;if(r.opts.unevaluated&&(!0!==r.props||!0!==r.items))return n.if(t,(()=>this.mergeEvaluated(e,s.Name))),!0}};const u=/^\/(?:[^~]|~0|~1)*$/,l=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function f(e,{dataLevel:t,dataNames:r,dataPathArr:n}){let i,c;if(""===e)return a.default.rootData;if("/"===e[0]){if(!u.test(e))throw new Error(`Invalid JSON-pointer: ${e}`);i=e,c=a.default.rootData}else{const o=l.exec(e);if(!o)throw new Error(`Invalid JSON-pointer: ${e}`);const s=+o[1];if(i=o[2],"#"===i){if(s>=t)throw new Error(p("property/index",s));return n[t-s]}if(s>t)throw new Error(p("data",s));if(c=r[t-s],!i)return c}let f=c;const h=i.split("/");for(const e of h)e&&(c=s._`${c}${s.getProperty(o.unescapeJsonPointer(e))}`,f=s._`${f} && ${c}`);return f;function p(e,r){return`Cannot access ${e} ${r} levels up, current level is ${t}`}}t.getData=f},63661:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.MissingRefError=t.ValidationError=void 0;const n=r(21044);class o extends Error{constructor(e){super("validation failed"),this.errors=e,this.ajv=this.validation=!0}}t.ValidationError=o;class i extends Error{constructor(e,t,r){super(r||`can't resolve reference ${t} from id ${e}`),this.missingRef=n.resolveUrl(e,t),this.missingSchema=n.normalizeId(n.getFullPath(this.missingRef))}}t.MissingRefError=i,e.exports={ValidationError:o,MissingRefError:i}},95495:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.extendErrors=t.resetErrorsCount=t.reportExtraError=t.reportError=t.keyword$DataError=t.keywordError=void 0;const n=r(5648),o=r(19522);function i(e,t){const r=e.const("err",t);e.if(n._`${o.default.vErrors} === null`,(()=>e.assign(o.default.vErrors,n._`[${r}]`)),n._`${o.default.vErrors}.push(${r})`),e.code(n._`${o.default.errors}++`)}function s(e,t){const{gen:r,validateName:o,schemaEnv:i}=e;i.$async?r.throw(n._`new ${e.ValidationError}(${t})`):(r.assign(n._`${o}.errors`,t),r.return(!1))}t.keywordError={message:({keyword:e})=>n.str`should pass "${e}" keyword validation`},t.keyword$DataError={message:({keyword:e,schemaType:t})=>t?n.str`"${e}" keyword must be ${t} ($data)`:n.str`"${e}" keyword is invalid ($data)`},t.reportError=function(e,r=t.keywordError,o){const{it:a}=e,{gen:u,compositeRule:l,allErrors:f}=a,h=c(e,r);(null!=o?o:l||f)?i(u,h):s(a,n._`[${h}]`)},t.reportExtraError=function(e,r=t.keywordError){const{it:n}=e,{gen:a,compositeRule:u,allErrors:l}=n;i(a,c(e,r)),u||l||s(n,o.default.vErrors)},t.resetErrorsCount=function(e,t){e.assign(o.default.errors,t),e.if(n._`${o.default.vErrors} !== null`,(()=>e.if(t,(()=>e.assign(n._`${o.default.vErrors}.length`,t)),(()=>e.assign(o.default.vErrors,null)))))},t.extendErrors=function({gen:e,keyword:t,schemaValue:r,data:i,errsCount:s,it:a}){if(void 0===s)throw new Error("ajv implementation error");const c=e.name("err");e.forRange("i",s,o.default.errors,(s=>{e.const(c,n._`${o.default.vErrors}[${s}]`),e.if(n._`${c}.dataPath === undefined`,(()=>e.assign(n._`${c}.dataPath`,n.strConcat(o.default.dataPath,a.errorPath)))),e.assign(n._`${c}.schemaPath`,n.str`${a.errSchemaPath}/${t}`),a.opts.verbose&&(e.assign(n._`${c}.schema`,r),e.assign(n._`${c}.data`,i))}))};const a={keyword:new n.Name("keyword"),schemaPath:new n.Name("schemaPath"),params:new n.Name("params"),propertyName:new n.Name("propertyName"),message:new n.Name("message"),schema:new n.Name("schema"),parentSchema:new n.Name("parentSchema"),instancePath:new n.Name("instancePath")};function c(e,t){const{createErrors:r,opts:o}=e.it;return!1===r?n._`{}`:(o.jtd&&!o.ajvErrors?u:l)(e,t)}function u(e,{message:t}){const{gen:r,keyword:i,it:s}=e,{errorPath:c,errSchemaPath:u,opts:l}=s,f=[[a.instancePath,n.strConcat(o.default.dataPath,c)],[a.schemaPath,n.str`${u}/${i}`]];return l.messages&&f.push([a.message,"function"==typeof t?t(e):t]),r.object(...f)}function l(e,t){const{gen:r,keyword:i,data:s,schemaValue:c,it:u}=e,{topSchemaRef:l,schemaPath:f,errorPath:h,errSchemaPath:p,propertyName:d,opts:y}=u,{params:b,message:m}=t,v=[[a.keyword,i],[o.default.dataPath,n.strConcat(o.default.dataPath,h)],[a.schemaPath,n.str`${p}/${i}`],[a.params,"function"==typeof b?b(e):b||n._`{}`]];return d&&v.push([a.propertyName,d]),y.messages&&v.push([a.message,"function"==typeof m?m(e):m]),y.verbose&&v.push([a.schema,c],[a.parentSchema,n._`${l}${f}`],[o.default.data,s]),r.object(...v)}},13248:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.resolveSchema=t.getCompilingSchema=t.resolveRef=t.compileSchema=t.SchemaEnv=void 0;const n=r(5648),o=r(63661),i=r(19522),s=r(21044),a=r(43928),c=r(14872),u=r(3654);class l{constructor(e){var t;let r;this.refs={},this.dynamicAnchors={},"object"==typeof e.schema&&(r=e.schema),this.schema=e.schema,this.root=e.root||this,this.baseId=null!==(t=e.baseId)&&void 0!==t?t:s.normalizeId(null==r?void 0:r.$id),this.localRefs=e.localRefs,this.meta=e.meta,this.$async=null==r?void 0:r.$async,this.refs={}}}function f(e){const t=p.call(this,e);if(t)return t;const r=s.getFullPath(e.root.baseId),{es5:a,lines:u}=this.opts.code,{ownProperties:l}=this.opts,f=new n.CodeGen(this.scope,{es5:a,lines:u,ownProperties:l});let h;e.$async&&(h=f.scopeValue("Error",{ref:o.ValidationError,code:n._`require("ajv/dist/compile/error_classes").ValidationError`}));const d=f.scopeName("validate");e.validateName=d;const y={gen:f,allErrors:this.opts.allErrors,data:i.default.data,parentData:i.default.parentData,parentDataProperty:i.default.parentDataProperty,dataNames:[i.default.data],dataPathArr:[n.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:f.scopeValue("schema",!0===this.opts.code.source?{ref:e.schema,code:n.stringify(e.schema)}:{ref:e.schema}),validateName:d,ValidationError:h,schema:e.schema,schemaEnv:e,rootId:r,baseId:e.baseId||r,schemaPath:n.nil,errSchemaPath:this.opts.jtd?"":"#",errorPath:n._`""`,opts:this.opts,self:this};let b;try{this._compilations.add(e),c.validateFunctionCode(y),f.optimize(this.opts.code.optimize);const t=f.toString();b=`${f.scopeRefs(i.default.scope)}return ${t}`,this.opts.code.process&&(b=this.opts.code.process(b,e));const r=new Function(`${i.default.self}`,`${i.default.scope}`,b)(this,this.scope.get());if(this.scope.value(d,{ref:r}),r.errors=null,r.schema=e.schema,r.schemaEnv=e,e.$async&&(r.$async=!0),!0===this.opts.code.source&&(r.source={validateName:d,validateCode:t,scopeValues:f._values}),this.opts.unevaluated){const{props:e,items:t}=y;r.evaluated={props:e instanceof n.Name?void 0:e,items:t instanceof n.Name?void 0:t,dynamicProps:e instanceof n.Name,dynamicItems:t instanceof n.Name},r.source&&(r.source.evaluated=n.stringify(r.evaluated))}return e.validate=r,e}catch(t){throw delete e.validate,delete e.validateName,b&&this.logger.error("Error compiling schema, function code:",b),t}finally{this._compilations.delete(e)}}function h(e){return s.inlineRef(e.schema,this.opts.inlineRefs)?e.schema:e.validate?e:f.call(this,e)}function p(e){for(const n of this._compilations)if(r=e,(t=n).schema===r.schema&&t.root===r.root&&t.baseId===r.baseId)return n;var t,r}function d(e,t){let r;for(;"string"==typeof(r=this.refs[t]);)t=r;return r||this.schemas[t]||y.call(this,e,t)}function y(e,t){const r=u.parse(t),n=s._getFullPath(r);let o=s.getFullPath(e.baseId);if(Object.keys(e.schema).length>0&&n===o)return m.call(this,r,e);const i=s.normalizeId(n),a=this.refs[i]||this.schemas[i];if("string"==typeof a){const t=y.call(this,e,a);if("object"!=typeof(null==t?void 0:t.schema))return;return m.call(this,r,t)}if("object"==typeof(null==a?void 0:a.schema)){if(a.validate||f.call(this,a),i===s.normalizeId(t)){const{schema:t}=a;return t.$id&&(o=s.resolveUrl(o,t.$id)),new l({schema:t,root:e,baseId:o})}return m.call(this,r,a)}}t.SchemaEnv=l,t.compileSchema=f,t.resolveRef=function(e,t,r){var n;r=s.resolveUrl(t,r);const o=e.refs[r];if(o)return o;let i=d.call(this,e,r);if(void 0===i){const o=null===(n=e.localRefs)||void 0===n?void 0:n[r];o&&(i=new l({schema:o,root:e,baseId:t}))}return void 0!==i?e.refs[r]=h.call(this,i):void 0},t.getCompilingSchema=p,t.resolveSchema=y;const b=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function m(e,{baseId:t,schema:r,root:n}){var o;if("/"!==(null===(o=e.fragment)||void 0===o?void 0:o[0]))return;for(const n of e.fragment.slice(1).split("/")){if("boolean"==typeof r)return;if(void 0===(r=r[a.unescapeFragment(n)]))return;!b.has(n)&&"object"==typeof r&&r.$id&&(t=s.resolveUrl(t,r.$id))}let i;if("boolean"!=typeof r&&r.$ref&&!a.schemaHasRulesButRef(r,this.RULES)){const e=s.resolveUrl(t,r.$ref);i=y.call(this,n,e)}return i=i||new l({schema:r,root:n,baseId:t}),i.schema!==i.root.schema?i:void 0}},19522:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(5648),o={data:new n.Name("data"),valCxt:new n.Name("valCxt"),dataPath:new n.Name("dataPath"),parentData:new n.Name("parentData"),parentDataProperty:new n.Name("parentDataProperty"),rootData:new n.Name("rootData"),dynamicAnchors:new n.Name("dynamicAnchors"),vErrors:new n.Name("vErrors"),errors:new n.Name("errors"),this:new n.Name("this"),self:new n.Name("self"),scope:new n.Name("scope"),json:new n.Name("json"),jsonPos:new n.Name("jsonPos"),jsonLen:new n.Name("jsonLen"),jsonPart:new n.Name("jsonPart")};t.default=o},21044:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getSchemaRefs=t.resolveUrl=t.normalizeId=t._getFullPath=t.getFullPath=t.inlineRef=void 0;const n=r(43928),o=r(89162),i=r(11150),s=r(3654),a=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);t.inlineRef=function(e,t=!0){return"boolean"==typeof e||(!0===t?!u(e):!!t&&l(e)<=t)};const c=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function u(e){for(const t in e){if(c.has(t))return!0;const r=e[t];if(Array.isArray(r)&&r.some(u))return!0;if("object"==typeof r&&u(r))return!0}return!1}function l(e){let t=0;for(const r in e){if("$ref"===r)return 1/0;if(t++,!a.has(r)&&("object"==typeof e[r]&&n.eachItem(e[r],(e=>t+=l(e))),t===1/0))return 1/0}return t}function f(e="",t){return!1!==t&&(e=d(e)),h(s.parse(e))}function h(e){return s.serialize(e).split("#")[0]+"#"}t.getFullPath=f,t._getFullPath=h;const p=/#\/?$/;function d(e){return e?e.replace(p,""):""}t.normalizeId=d,t.resolveUrl=function(e,t){return t=d(t),s.resolve(e,t)};const y=/^[a-z_][-a-z0-9._]*$/i;t.getSchemaRefs=function(e){if("boolean"==typeof e)return{};const t=d(e.$id),r={"":t},n=f(t,!1),a={},c=new Set;return i(e,{allKeys:!0},((e,t,o,i)=>{if(void 0===i)return;const f=n+t;let h=r[i];function p(t){if(t=d(h?s.resolve(h,t):t),c.has(t))throw l(t);c.add(t);let r=this.refs[t];return"string"==typeof r&&(r=this.refs[r]),"object"==typeof r?u(e,r.schema,t):t!==d(f)&&("#"===t[0]?(u(e,a[t],t),a[t]=e):this.refs[t]=f),t}function b(e){if("string"==typeof e){if(!y.test(e))throw new Error(`invalid anchor "${e}"`);p.call(this,`#${e}`)}}"string"==typeof e.$id&&(h=p.call(this,e.$id)),b.call(this,e.$anchor),b.call(this,e.$dynamicAnchor),r[t]=h})),a;function u(e,t,r){if(void 0!==t&&!o(e,t))throw l(r)}function l(e){return new Error(`reference "${e}" resolves to more than one schema`)}}},9358:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getRules=t.isJSONType=void 0;const r=new Set(["string","number","integer","boolean","null","object","array"]);t.isJSONType=function(e){return"string"==typeof e&&r.has(e)},t.getRules=function(){const e={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...e,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},e.number,e.string,e.array,e.object],post:{rules:[]},all:{},keywords:{}}}},91962:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.applySubschema=t.Type=void 0;const n=r(14872),o=r(43928),i=r(5648);var s;!function(e){e[e.Num=0]="Num",e[e.Str=1]="Str"}(s=t.Type||(t.Type={})),t.applySubschema=function(e,t,r){const a=function(e,{keyword:t,schemaProp:r,schema:n,schemaPath:s,errSchemaPath:a,topSchemaRef:c}){if(void 0!==t&&void 0!==n)throw new Error('both "keyword" and "schema" passed, only one allowed');if(void 0!==t){const n=e.schema[t];return void 0===r?{schema:n,schemaPath:i._`${e.schemaPath}${i.getProperty(t)}`,errSchemaPath:`${e.errSchemaPath}/${t}`}:{schema:n[r],schemaPath:i._`${e.schemaPath}${i.getProperty(t)}${i.getProperty(r)}`,errSchemaPath:`${e.errSchemaPath}/${t}/${o.escapeFragment(r)}`}}if(void 0!==n){if(void 0===s||void 0===a||void 0===c)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:n,schemaPath:s,topSchemaRef:c,errSchemaPath:a}}throw new Error('either "keyword" or "schema" must be passed')}(e,t);!function(e,t,{dataProp:r,dataPropType:n,data:a,dataTypes:c,propertyName:u}){if(void 0!==a&&void 0!==r)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:l}=t;if(void 0!==r){const{errorPath:a,dataPathArr:c,opts:u}=t;f(l.let("data",i._`${t.data}${i.getProperty(r)}`,!0)),e.errorPath=i.str`${a}${function(e,t,r){if(e instanceof i.Name){const n=t===s.Num;return r?n?i._`"[" + ${e} + "]"`:i._`"['" + ${e} + "']"`:n?i._`"/" + ${e}`:i._`"/" + ${e}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return r?i.getProperty(e).toString():"/"+o.escapeJsonPointer(e)}(r,n,u.jsPropertySyntax)}`,e.parentDataProperty=i._`${r}`,e.dataPathArr=[...c,e.parentDataProperty]}function f(r){e.data=r,e.dataLevel=t.dataLevel+1,e.dataTypes=[],t.definedProperties=new Set,e.parentData=t.data,e.dataNames=[...t.dataNames,r]}void 0!==a&&(f(a instanceof i.Name?a:l.let("data",a,!0)),void 0!==u&&(e.propertyName=u)),c&&(e.dataTypes=c)}(a,e,t),function(e,{jtdDiscriminator:t,jtdMetadata:r,compositeRule:n,createErrors:o,allErrors:i}){void 0!==n&&(e.compositeRule=n),void 0!==o&&(e.createErrors=o),void 0!==i&&(e.allErrors=i),e.jtdDiscriminator=t,e.jtdMetadata=r}(a,t);const c={...e,...a,items:void 0,props:void 0};return n.subschemaCode(c,r),c}},89185:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=e.length;let r,n=0,o=0;for(;o<t;)n++,r=e.charCodeAt(o++),r>=55296&&r<=56319&&o<t&&(r=e.charCodeAt(o),56320==(64512&r)&&o++);return n}},43928:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.func=t.setEvaluated=t.evaluatedPropsToName=t.mergeEvaluated=t.eachItem=t.unescapeJsonPointer=t.escapeJsonPointer=t.escapeFragment=t.unescapeFragment=t.schemaRefOrVal=t.schemaHasRulesButRef=t.schemaHasRules=t.checkUnknownRules=t.alwaysValidSchema=t.toHash=void 0;const n=r(5648),o=r(14872);function i(e,t=e.schema){const{opts:r,self:n}=e;if(!r.strict)return;if("boolean"==typeof t)return;const i=n.RULES.keywords;for(const r in t)i[r]||o.checkStrictMode(e,`unknown keyword: "${r}"`)}function s(e,t){if("boolean"==typeof e)return!e;for(const r in e)if(t[r])return!0;return!1}function a(e){return"number"==typeof e?`${e}`:e.replace(/~/g,"~0").replace(/\//g,"~1")}function c(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function u({mergeNames:e,mergeToName:t,mergeValues:r,resultToName:o}){return(i,s,a,c)=>{const u=void 0===a?s:a instanceof n.Name?(s instanceof n.Name?e(i,s,a):t(i,s,a),a):s instanceof n.Name?(t(i,a,s),s):r(s,a);return c!==n.Name||u instanceof n.Name?u:o(i,u)}}function l(e,t){if(!0===t)return e.var("props",!0);const r=e.var("props",n._`{}`);return void 0!==t&&f(e,r,t),r}function f(e,t,r){Object.keys(r).forEach((r=>e.assign(n._`${t}${n.getProperty(r)}`,!0)))}t.toHash=function(e){const t={};for(const r of e)t[r]=!0;return t},t.alwaysValidSchema=function(e,t){return"boolean"==typeof t?t:0===Object.keys(t).length||(i(e,t),!s(t,e.self.RULES.all))},t.checkUnknownRules=i,t.schemaHasRules=s,t.schemaHasRulesButRef=function(e,t){if("boolean"==typeof e)return!e;for(const r in e)if("$ref"!==r&&t.all[r])return!0;return!1},t.schemaRefOrVal=function({topSchemaRef:e,schemaPath:t},r,o,i){if(!i){if("number"==typeof r||"boolean"==typeof r)return r;if("string"==typeof r)return n._`${r}`}return n._`${e}${t}${n.getProperty(o)}`},t.unescapeFragment=function(e){return c(decodeURIComponent(e))},t.escapeFragment=function(e){return encodeURIComponent(a(e))},t.escapeJsonPointer=a,t.unescapeJsonPointer=c,t.eachItem=function(e,t){if(Array.isArray(e))for(const r of e)t(r);else t(e)},t.mergeEvaluated={props:u({mergeNames:(e,t,r)=>e.if(n._`${r} !== true && ${t} !== undefined`,(()=>{e.if(n._`${t} === true`,(()=>e.assign(r,!0)),(()=>e.assign(r,n._`${r} || {}`).code(n._`Object.assign(${r}, ${t})`)))})),mergeToName:(e,t,r)=>e.if(n._`${r} !== true`,(()=>{!0===t?e.assign(r,!0):(e.assign(r,n._`${r} || {}`),f(e,r,t))})),mergeValues:(e,t)=>!0===e||{...e,...t},resultToName:l}),items:u({mergeNames:(e,t,r)=>e.if(n._`${r} !== true && ${t} !== undefined`,(()=>e.assign(r,n._`${t} === true ? true : ${r} > ${t} ? ${r} : ${t}`))),mergeToName:(e,t,r)=>e.if(n._`${r} !== true`,(()=>e.assign(r,!0===t||n._`${r} > ${t} ? ${r} : ${t}`))),mergeValues:(e,t)=>!0===e||Math.max(e,t),resultToName:(e,t)=>e.var("items",t)})},t.evaluatedPropsToName=l,t.setEvaluated=f,t.func=function(e,t){return e.scopeValue("func",{ref:t,code:t.code})}},74420:(e,t)=>{function r(e,t){return t.rules.some((t=>n(e,t)))}function n(e,t){var r;return void 0!==e[t.keyword]||(null===(r=t.definition.implements)||void 0===r?void 0:r.some((t=>void 0!==e[t])))}Object.defineProperty(t,"__esModule",{value:!0}),t.shouldUseRule=t.shouldUseGroup=t.schemaHasRulesForType=void 0,t.schemaHasRulesForType=function({schema:e,self:t},n){const o=t.RULES.types[n];return o&&!0!==o&&r(e,o)},t.shouldUseGroup=r,t.shouldUseRule=n},60448:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.boolOrEmptySchema=t.topBoolOrEmptySchema=void 0;const n=r(95495),o=r(5648),i=r(19522),s={message:"boolean schema is false"};function a(e,t){const{gen:r,data:o}=e,i={gen:r,keyword:"false schema",data:o,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:e};n.reportError(i,s,t)}t.topBoolOrEmptySchema=function(e){const{gen:t,schema:r,validateName:n}=e;!1===r?a(e,!1):"object"==typeof r&&!0===r.$async?t.return(i.default.data):(t.assign(o._`${n}.errors`,null),t.return(!0))},t.boolOrEmptySchema=function(e,t){const{gen:r,schema:n}=e;!1===n?(r.var(t,!1),a(e)):r.var(t,!0)}},57553:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.reportTypeError=t.checkDataTypes=t.checkDataType=t.coerceAndCheckDataType=t.getJSONTypes=t.getSchemaTypes=t.DataType=void 0;const n=r(9358),o=r(74420),i=r(95495),s=r(5648),a=r(43928);var c;function u(e){const t=Array.isArray(e)?e:e?[e]:[];if(t.every(n.isJSONType))return t;throw new Error("type must be JSONType or JSONType[]: "+t.join(","))}!function(e){e[e.Correct=0]="Correct",e[e.Wrong=1]="Wrong"}(c=t.DataType||(t.DataType={})),t.getSchemaTypes=function(e){const t=u(e.type);if(t.includes("null")){if(!1===e.nullable)throw new Error("type: null contradicts nullable: false")}else{if(!t.length&&void 0!==e.nullable)throw new Error('"nullable" cannot be used without "type"');!0===e.nullable&&t.push("null")}return t},t.getJSONTypes=u,t.coerceAndCheckDataType=function(e,t){const{gen:r,data:n,opts:i}=e,a=function(e,t){return t?e.filter((e=>l.has(e)||"array"===t&&"array"===e)):[]}(t,i.coerceTypes),u=t.length>0&&!(0===a.length&&1===t.length&&o.schemaHasRulesForType(e,t[0]));if(u){const o=h(t,n,i.strict,c.Wrong);r.if(o,(()=>{a.length?function(e,t,r){const{gen:n,data:o,opts:i}=e,a=n.let("dataType",s._`typeof ${o}`),c=n.let("coerced",s._`undefined`);"array"===i.coerceTypes&&n.if(s._`${a} == 'object' && Array.isArray(${o}) && ${o}.length == 1`,(()=>n.assign(o,s._`${o}[0]`).assign(a,s._`typeof ${o}`).if(h(t,o,i.strict),(()=>n.assign(c,o))))),n.if(s._`${c} !== undefined`);for(const e of r)(l.has(e)||"array"===e&&"array"===i.coerceTypes)&&u(e);function u(e){switch(e){case"string":return void n.elseIf(s._`${a} == "number" || ${a} == "boolean"`).assign(c,s._`"" + ${o}`).elseIf(s._`${o} === null`).assign(c,s._`""`);case"number":return void n.elseIf(s._`${a} == "boolean" || ${o} === null
              || (${a} == "string" && ${o} && ${o} == +${o})`).assign(c,s._`+${o}`);case"integer":return void n.elseIf(s._`${a} === "boolean" || ${o} === null
              || (${a} === "string" && ${o} && ${o} == +${o} && !(${o} % 1))`).assign(c,s._`+${o}`);case"boolean":return void n.elseIf(s._`${o} === "false" || ${o} === 0 || ${o} === null`).assign(c,!1).elseIf(s._`${o} === "true" || ${o} === 1`).assign(c,!0);case"null":return n.elseIf(s._`${o} === "" || ${o} === 0 || ${o} === false`),void n.assign(c,null);case"array":n.elseIf(s._`${a} === "string" || ${a} === "number"
              || ${a} === "boolean" || ${o} === null`).assign(c,s._`[${o}]`)}}n.else(),d(e),n.endIf(),n.if(s._`${c} !== undefined`,(()=>{n.assign(o,c),function({gen:e,parentData:t,parentDataProperty:r},n){e.if(s._`${t} !== undefined`,(()=>e.assign(s._`${t}[${r}]`,n)))}(e,c)}))}(e,t,a):d(e)}))}return u};const l=new Set(["string","number","integer","boolean","null"]);function f(e,t,r,n=c.Correct){const o=n===c.Correct?s.operators.EQ:s.operators.NEQ;let i;switch(e){case"null":return s._`${t} ${o} null`;case"array":i=s._`Array.isArray(${t})`;break;case"object":i=s._`${t} && typeof ${t} == "object" && !Array.isArray(${t})`;break;case"integer":i=a(s._`!(${t} % 1) && !isNaN(${t})`);break;case"number":i=a();break;default:return s._`typeof ${t} ${o} ${e}`}return n===c.Correct?i:s.not(i);function a(e=s.nil){return s.and(s._`typeof ${t} == "number"`,e,r?s._`isFinite(${t})`:s.nil)}}function h(e,t,r,n){if(1===e.length)return f(e[0],t,r,n);let o;const i=a.toHash(e);if(i.array&&i.object){const e=s._`typeof ${t} != "object"`;o=i.null?e:s._`!${t} || ${e}`,delete i.null,delete i.array,delete i.object}else o=s.nil;i.number&&delete i.integer;for(const e in i)o=s.and(o,f(e,t,r,n));return o}t.checkDataType=f,t.checkDataTypes=h;const p={message:({schema:e})=>s.str`should be ${e}`,params:({schema:e,schemaValue:t})=>"string"==typeof e?s._`{type: ${e}}`:s._`{type: ${t}}`};function d(e){const t=function(e){const{gen:t,data:r,schema:n}=e,o=a.schemaRefOrVal(e,n,"type");return{gen:t,keyword:"type",data:r,schema:n.type,schemaCode:o,schemaValue:o,parentSchema:n,params:{},it:e}}(e);i.reportError(t,p)}t.reportTypeError=d},63254:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.assignDefaults=void 0;const n=r(5648),o=r(14872);function i(e,t,r){const{gen:i,compositeRule:s,data:a,opts:c}=e;if(void 0===r)return;const u=n._`${a}${n.getProperty(t)}`;if(s)return void o.checkStrictMode(e,`default is ignored for: ${u}`);let l=n._`${u} === undefined`;"empty"===c.useDefaults&&(l=n._`${l} || ${u} === null || ${u} === ""`),i.if(l,n._`${u} = ${n.stringify(r)}`)}t.assignDefaults=function(e,t){const{properties:r,items:n}=e.schema;if("object"===t&&r)for(const t in r)i(e,t,r[t].default);else"array"===t&&Array.isArray(n)&&n.forEach(((t,r)=>i(e,r,t.default)))}},14872:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.checkStrictMode=t.schemaCxtHasRules=t.subschemaCode=t.validateFunctionCode=void 0;const n=r(60448),o=r(57553),i=r(96790),s=r(5648),a=r(19522),c=r(21044),u=r(43928);function l({gen:e,validateName:t,schema:r,schemaEnv:n,opts:o},i){o.code.es5?e.func(t,s._`${a.default.data}, ${a.default.valCxt}`,n.$async,(()=>{e.code(s._`"use strict"; ${f(r,o)}`),function(e,t){e.if(a.default.valCxt,(()=>{e.var(a.default.dataPath,s._`${a.default.valCxt}.${a.default.dataPath}`),e.var(a.default.parentData,s._`${a.default.valCxt}.${a.default.parentData}`),e.var(a.default.parentDataProperty,s._`${a.default.valCxt}.${a.default.parentDataProperty}`),e.var(a.default.rootData,s._`${a.default.valCxt}.${a.default.rootData}`),t.dynamicRef&&e.var(a.default.dynamicAnchors,s._`${a.default.valCxt}.${a.default.dynamicAnchors}`)}),(()=>{e.var(a.default.dataPath,s._`""`),e.var(a.default.parentData,s._`undefined`),e.var(a.default.parentDataProperty,s._`undefined`),e.var(a.default.rootData,a.default.data),t.dynamicRef&&e.var(a.default.dynamicAnchors,s._`{}`)}))}(e,o),e.code(i)})):e.func(t,s._`${a.default.data}, ${function(e){return s._`{${a.default.dataPath}="", ${a.default.parentData}, ${a.default.parentDataProperty}, ${a.default.rootData}=${a.default.data}${e.dynamicRef?s._`, ${a.default.dynamicAnchors}={}`:s.nil}}={}`}(o)}`,n.$async,(()=>e.code(f(r,o)).code(i)))}function f(e,t){return"object"==typeof e&&e.$id&&(t.code.source||t.code.process)?s._`/*# sourceURL=${e.$id} */`:s.nil}function h({schema:e,self:t}){if("boolean"==typeof e)return!e;for(const r in e)if(t.RULES.all[r])return!0;return!1}function p(e){return"boolean"!=typeof e.schema}function d(e){u.checkUnknownRules(e),function(e){const{schema:t,errSchemaPath:r,opts:n,self:o}=e;t.$ref&&n.ignoreKeywordsWithRef&&u.schemaHasRulesButRef(t,o.RULES)&&o.logger.warn(`$ref: keywords ignored in schema at path "${r}"`)}(e)}function y(e,t){if(e.opts.jtd)return i.schemaKeywords(e,[],!1,t);const r=o.getSchemaTypes(e.schema),n=o.coerceAndCheckDataType(e,r);i.schemaKeywords(e,r,!n,t)}function b({gen:e,schemaEnv:t,schema:r,errSchemaPath:n,opts:o}){const i=r.$comment;if(!0===o.$comment)e.code(s._`${a.default.self}.logger.log(${i})`);else if("function"==typeof o.$comment){const r=s.str`${n}/$comment`,o=e.scopeValue("root",{ref:t.root});e.code(s._`${a.default.self}.opts.$comment(${i}, ${r}, ${o}.schema)`)}}function m(e,t,r=e.opts.strict){if(r){if(t=`strict mode: ${t}`,!0===r)throw new Error(t);e.self.logger.warn(t)}}t.validateFunctionCode=function(e){p(e)&&(d(e),h(e))?function(e){const{schema:t,opts:r,gen:n}=e;l(e,(()=>{r.$comment&&t.$comment&&b(e),function(e){const{schema:t,opts:r}=e;void 0!==t.default&&r.useDefaults&&r.strict&&m(e,"default is ignored in the schema root")}(e),n.let(a.default.vErrors,null),n.let(a.default.errors,0),r.unevaluated&&function(e){const{gen:t,validateName:r}=e;e.evaluated=t.const("evaluated",s._`${r}.evaluated`),t.if(s._`${e.evaluated}.dynamicProps`,(()=>t.assign(s._`${e.evaluated}.props`,s._`undefined`))),t.if(s._`${e.evaluated}.dynamicItems`,(()=>t.assign(s._`${e.evaluated}.items`,s._`undefined`)))}(e),y(e),function(e){const{gen:t,schemaEnv:r,validateName:n,ValidationError:o,opts:i}=e;r.$async?t.if(s._`${a.default.errors} === 0`,(()=>t.return(a.default.data)),(()=>t.throw(s._`new ${o}(${a.default.vErrors})`))):(t.assign(s._`${n}.errors`,a.default.vErrors),i.unevaluated&&function({gen:e,evaluated:t,props:r,items:n}){r instanceof s.Name&&e.assign(s._`${t}.props`,r),n instanceof s.Name&&e.assign(s._`${t}.items`,n)}(e),t.return(s._`${a.default.errors} === 0`))}(e)}))}(e):l(e,(()=>n.topBoolOrEmptySchema(e)))},t.subschemaCode=function(e,t){p(e)&&(d(e),h(e))?function(e,t){const{schema:r,gen:n,opts:o}=e;o.$comment&&r.$comment&&b(e),function(e){e.schema.$id&&(e.baseId=c.resolveUrl(e.baseId,e.schema.$id))}(e),function(e){if(e.schema.$async&&!e.schemaEnv.$async)throw new Error("async schema in sync schema")}(e);const i=n.const("_errs",a.default.errors);y(e,i),n.var(t,s._`${i} === ${a.default.errors}`)}(e,t):n.boolOrEmptySchema(e,t)},t.schemaCxtHasRules=h,t.checkStrictMode=m},96790:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.schemaKeywords=void 0;const n=r(74420),o=r(57553),i=r(63254),s=r(87976),a=r(43928),c=r(14872),u=r(5648),l=r(19522);function f(e,t){const{gen:r,schema:o,opts:{useDefaults:a}}=e;a&&i.assignDefaults(e,t.type),r.block((()=>{for(const r of t.rules)n.shouldUseRule(o,r)&&s.keywordCode(e,r.keyword,r.definition,t.type)}))}function h(e,t){return e.includes(t)||"integer"===t&&e.includes("number")}function p(e,t){t+=` at "${e.schemaEnv.baseId+e.errSchemaPath}" (strictTypes)`,c.checkStrictMode(e,t,e.opts.strictTypes)}t.schemaKeywords=function(e,t,r,i){const{gen:c,schema:d,data:y,allErrors:b,opts:m,self:v}=e,{RULES:g}=v;function w(s){n.shouldUseGroup(d,s)&&(s.type?(c.if(o.checkDataType(s.type,y,m.strict)),f(e,s),1===t.length&&t[0]===s.type&&r&&(c.else(),o.reportTypeError(e)),c.endIf()):f(e,s),b||c.if(u._`${l.default.errors} === ${i||0}`))}!d.$ref||!m.ignoreKeywordsWithRef&&a.schemaHasRulesButRef(d,g)?(m.jtd||function(e,t){!e.schemaEnv.meta&&e.opts.strictTypes&&(function(e,t){t.length&&(e.dataTypes.length?(t.forEach((t=>{h(e.dataTypes,t)||p(e,`type "${t}" not allowed by context "${e.dataTypes.join(",")}"`)})),e.dataTypes=e.dataTypes.filter((e=>h(t,e)))):e.dataTypes=t)}(e,t),e.opts.allowUnionTypes||function(e,t){t.length>1&&(2!==t.length||!t.includes("null"))&&p(e,"use allowUnionTypes to allow union type keyword")}(e,t),function(e,t){const r=e.self.RULES.all;for(const o in r){const i=r[o];if("object"==typeof i&&n.shouldUseRule(e.schema,i)){const{type:r}=i.definition;r.length&&!r.some((e=>{return n=e,(r=t).includes(n)||"number"===n&&r.includes("integer");var r,n}))&&p(e,`missing type "${r.join(",")}" for keyword "${o}"`)}}}(e,e.dataTypes))}(e,t),c.block((()=>{for(const e of g.rules)w(e);w(g.post)}))):c.block((()=>s.keywordCode(e,"$ref",g.all.$ref.definition)))}},87976:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.keywordCode=void 0;const n=r(67640),o=r(95495),i=r(34083),s=r(5648),a=r(19522);function c(e,t){var r;const{gen:n,keyword:c,schema:f,parentSchema:h,$data:p,it:d}=e;!function({schemaEnv:e},t){if(t.async&&!e.$async)throw new Error("async keyword in sync schema")}(d,t);const y=!p&&t.compile?t.compile.call(d.self,f,h,d):t.validate,b=l(n,c,y),m=n.let("valid");function v(r=(t.async?s._`await `:s.nil)){const o=d.opts.passContext?a.default.this:a.default.self,c=!("compile"in t&&!p||!1===t.schema);n.assign(m,s._`${r}${i.callValidateCode(e,b,o,c)}`,t.modifying)}function g(e){var r;n.if(s.not(null!==(r=t.valid)&&void 0!==r?r:m),e)}e.block$data(m,(function(){if(!1===t.errors)v(),t.modifying&&u(e),g((()=>e.error()));else{const r=t.async?function(){const e=n.let("ruleErrs",null);return n.try((()=>v(s._`await `)),(t=>n.assign(m,!1).if(s._`${t} instanceof ${d.ValidationError}`,(()=>n.assign(e,s._`${t}.errors`)),(()=>n.throw(t))))),e}():function(){const e=s._`${b}.errors`;return n.assign(e,null),v(s.nil),e}();t.modifying&&u(e),g((()=>function(e,t){const{gen:r}=e;r.if(s._`Array.isArray(${t})`,(()=>{r.assign(a.default.vErrors,s._`${a.default.vErrors} === null ? ${t} : ${a.default.vErrors}.concat(${t})`).assign(a.default.errors,s._`${a.default.vErrors}.length`),o.extendErrors(e)}),(()=>e.error()))}(e,r)))}})),e.ok(null!==(r=t.valid)&&void 0!==r?r:m)}function u(e){const{gen:t,data:r,it:n}=e;t.if(n.parentData,(()=>t.assign(r,s._`${n.parentData}[${n.parentDataProperty}]`)))}function l(e,t,r){if(void 0===r)throw new Error(`keyword "${t}" failed to compile`);return e.scopeValue("keyword","function"==typeof r?{ref:r}:{ref:r,code:s.stringify(r)})}t.keywordCode=function(e,t,r,o){const i=new n.default(e,r,t);"code"in r?r.code(i,o):i.$data&&r.validate?c(i,r):"macro"in r?function(e,t){const{gen:r,keyword:n,schema:o,parentSchema:i,it:a}=e,c=t.macro.call(a.self,o,i,a),u=l(r,n,c);!1!==a.opts.validateSchema&&a.self.validateSchema(c,!0);const f=r.name("valid");e.subschema({schema:c,schemaPath:s.nil,errSchemaPath:`${a.errSchemaPath}/${n}`,topSchemaRef:u,compositeRule:!0},f),e.pass(f,(()=>e.error(!0)))}(i,r):(r.compile||r.validate)&&c(i,r)}},42877:(e,t,r)=>{var n=r(40585);Object.defineProperty(t,"__esModule",{value:!0}),t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=void 0;const o=r(67640);t.KeywordCxt=o.default;var i=r(5648);Object.defineProperty(t,"_",{enumerable:!0,get:function(){return i._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return i.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return i.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return i.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return i.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return i.CodeGen}});const s=r(63661),a=r(9358),c=r(13248),u=r(5648),l=r(21044),f=r(57553),h=r(43928),p=r(77664),d=["removeAdditional","useDefaults","coerceTypes"],y=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),b={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",schemaId:"JSON Schema draft-04 is not supported in Ajv v7.",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",strictNumbers:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key."},m={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'};function v(e){var t,r,n,o,i,s,a,c,u,l,f,h;const p=null===(t=e.strict)||void 0===t||t,d=!!p&&"log",y=null===(r=e.code)||void 0===r?void 0:r.optimize,b=!0===y||void 0===y?1:y||0;return{strict:p,strictTypes:null!==(n=e.strictTypes)&&void 0!==n?n:d,strictTuples:null!==(o=e.strictTuples)&&void 0!==o?o:d,code:e.code?{...e.code,optimize:b}:{optimize:b},loopRequired:null!==(i=e.loopRequired)&&void 0!==i?i:1/0,loopEnum:null!==(s=e.loopEnum)&&void 0!==s?s:1/0,meta:null===(a=e.meta)||void 0===a||a,messages:null===(c=e.messages)||void 0===c||c,inlineRefs:null===(u=e.inlineRefs)||void 0===u||u,addUsedSchema:null===(l=e.addUsedSchema)||void 0===l||l,validateSchema:null===(f=e.validateSchema)||void 0===f||f,validateFormats:null===(h=e.validateFormats)||void 0===h||h}}class g{constructor(e={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,e=this.opts={...e,...v(e)};const{es5:t,lines:r}=this.opts.code;this.scope=new u.ValueScope({scope:{},prefixes:y,es5:t,lines:r}),this.logger=function(e){if(!1===e)return x;if(void 0===e)return n;if(e.log&&e.warn&&e.error)return e;throw new Error("logger must implement log, warn and error methods")}(e.logger);const o=e.validateFormats;e.validateFormats=!1,this.RULES=a.getRules(),w.call(this,b,e,"NOT SUPPORTED"),w.call(this,m,e,"DEPRECATED","warn"),this._metaOpts=T.call(this),e.formats&&O.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),e.keywords&&E.call(this,e.keywords),"object"==typeof e.meta&&this.addMetaSchema(e.meta),S.call(this),e.validateFormats=o}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:e,meta:t}=this.opts;t&&e&&this.addMetaSchema(p,p.$id,!1)}defaultMeta(){const{meta:e}=this.opts;return this.opts.defaultMeta="object"==typeof e?e.$id||e:void 0}validate(e,t){let r;if("string"==typeof e){if(r=this.getSchema(e),!r)throw new Error(`no schema with key or ref "${e}"`)}else r=this.compile(e);const n=r(t);return"$async"in r||(this.errors=r.errors),n}compile(e,t){const r=this._addSchema(e,t);return r.validate||this._compileSchemaEnv(r)}compileAsync(e,t){if("function"!=typeof this.opts.loadSchema)throw new Error("options.loadSchema should be a function");const{loadSchema:r}=this.opts;return n.call(this,e,t);async function n(e,t){await o.call(this,e.$schema);const r=this._addSchema(e,t);return r.validate||i.call(this,r)}async function o(e){e&&!this.getSchema(e)&&await n.call(this,{$ref:e},!0)}async function i(e){try{return this._compileSchemaEnv(e)}catch(t){if(!(t instanceof s.MissingRefError))throw t;return a.call(this,t),await c.call(this,t.missingSchema),i.call(this,e)}}function a({missingSchema:e,missingRef:t}){if(this.refs[e])throw new Error(`AnySchema ${e} is loaded but ${t} cannot be resolved`)}async function c(e){const r=await u.call(this,e);this.refs[e]||await o.call(this,r.$schema),this.refs[e]||this.addSchema(r,e,t)}async function u(e){const t=this._loading[e];if(t)return t;try{return await(this._loading[e]=r(e))}finally{delete this._loading[e]}}}addSchema(e,t,r,n=this.opts.validateSchema){if(Array.isArray(e)){for(const t of e)this.addSchema(t,void 0,r,n);return this}let o;if("object"==typeof e&&(o=e.$id,void 0!==o&&"string"!=typeof o))throw new Error("schema id must be string");return t=l.normalizeId(t||o),this._checkUnique(t),this.schemas[t]=this._addSchema(e,r,n,!0),this}addMetaSchema(e,t,r=this.opts.validateSchema){return this.addSchema(e,t,!0,r),this}validateSchema(e,t){if("boolean"==typeof e)return!0;let r;if(r=e.$schema,void 0!==r&&"string"!=typeof r)throw new Error("$schema must be a string");if(r=r||this.opts.defaultMeta||this.defaultMeta(),!r)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const n=this.validate(r,e);if(!n&&t){const e="schema is invalid: "+this.errorsText();if("log"!==this.opts.validateSchema)throw new Error(e);this.logger.error(e)}return n}getSchema(e){let t;for(;"string"==typeof(t=_.call(this,e));)e=t;if(void 0===t){const r=new c.SchemaEnv({schema:{}});if(t=c.resolveSchema.call(this,r,e),!t)return;this.refs[e]=t}return t.validate||this._compileSchemaEnv(t)}removeSchema(e){if(e instanceof RegExp)return this._removeAllSchemas(this.schemas,e),this._removeAllSchemas(this.refs,e),this;switch(typeof e){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const t=_.call(this,e);return"object"==typeof t&&this._cache.delete(t.schema),delete this.schemas[e],delete this.refs[e],this}case"object":{const t=e;this._cache.delete(t);let r=e.$id;return r&&(r=l.normalizeId(r),delete this.schemas[r],delete this.refs[r]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(e){for(const t of e)this.addKeyword(t);return this}addKeyword(e,t){let r;if("string"==typeof e)r=e,"object"==typeof t&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),t.keyword=r);else{if("object"!=typeof e||void 0!==t)throw new Error("invalid addKeywords parameters");if(r=(t=e).keyword,Array.isArray(r)&&!r.length)throw new Error("addKeywords: keyword must be string or non-empty array")}if(P.call(this,r,t),!t)return h.eachItem(r,(e=>$.call(this,e))),this;R.call(this,t);const n={...t,type:f.getJSONTypes(t.type),schemaType:f.getJSONTypes(t.schemaType)};return h.eachItem(r,0===n.type.length?e=>$.call(this,e,n):e=>n.type.forEach((t=>$.call(this,e,n,t)))),this}getKeyword(e){const t=this.RULES.all[e];return"object"==typeof t?t.definition:!!t}removeKeyword(e){const{RULES:t}=this;delete t.keywords[e],delete t.all[e];for(const r of t.rules){const t=r.rules.findIndex((t=>t.keyword===e));t>=0&&r.rules.splice(t,1)}return this}addFormat(e,t){return"string"==typeof t&&(t=new RegExp(t)),this.formats[e]=t,this}errorsText(e=this.errors,{separator:t=", ",dataVar:r="data"}={}){return e&&0!==e.length?e.map((e=>`${r}${e.dataPath} ${e.message}`)).reduce(((e,r)=>e+t+r)):"No errors"}$dataMetaSchema(e,t){const r=this.RULES.all;e=JSON.parse(JSON.stringify(e));for(const n of t){const t=n.split("/").slice(1);let o=e;for(const e of t)o=o[e];for(const e in r){const t=r[e];if("object"!=typeof t)continue;const{$data:n}=t.definition,i=o[e];n&&i&&(o[e]=I(i))}}return e}_removeAllSchemas(e,t){for(const r in e){const n=e[r];t&&!t.test(r)||("string"==typeof n?delete e[r]:n&&!n.meta&&(this._cache.delete(n.schema),delete e[r]))}}_addSchema(e,t,r=this.opts.validateSchema,n=this.opts.addUsedSchema){if("object"!=typeof e){if(this.opts.jtd)throw new Error("schema must be object");if("boolean"!=typeof e)throw new Error("schema must be object or boolean")}let o=this._cache.get(e);if(void 0!==o)return o;const i=l.getSchemaRefs.call(this,e);o=new c.SchemaEnv({schema:e,meta:t,localRefs:i}),this._cache.set(o.schema,o);const s=o.baseId;return n&&!s.startsWith("#")&&(s&&this._checkUnique(s),this.refs[s]=o),r&&this.validateSchema(e,!0),o}_checkUnique(e){if(this.schemas[e]||this.refs[e])throw new Error(`schema with key or id "${e}" already exists`)}_compileSchemaEnv(e){if(e.meta?this._compileMetaSchema(e):c.compileSchema.call(this,e),!e.validate)throw new Error("ajv implementation error");return e.validate}_compileMetaSchema(e){const t=this.opts;this.opts=this._metaOpts;try{c.compileSchema.call(this,e)}finally{this.opts=t}}}function w(e,t,r,n="error"){for(const o in e){const i=o;i in t&&this.logger[n](`${r}: option ${o}. ${e[i]}`)}}function _(e){return e=l.normalizeId(e),this.schemas[e]||this.refs[e]}function S(){const e=this.opts.schemas;if(e)if(Array.isArray(e))this.addSchema(e);else for(const t in e)this.addSchema(e[t],t)}function O(){for(const e in this.opts.formats){const t=this.opts.formats[e];t&&this.addFormat(e,t)}}function E(e){if(Array.isArray(e))this.addVocabulary(e);else{this.logger.warn("keywords option as map is deprecated, pass array");for(const t in e){const r=e[t];r.keyword||(r.keyword=t),this.addKeyword(r)}}}function T(){const e={...this.opts};for(const t of d)delete e[t];return e}t.default=g,g.ValidationError=s.ValidationError,g.MissingRefError=s.MissingRefError;const x={log(){},warn(){},error(){}},A=/^[a-z_$][a-z0-9_$:-]*$/i;function P(e,t){const{RULES:r}=this;if(h.eachItem(e,(e=>{if(r.keywords[e])throw new Error(`Keyword ${e} is already defined`);if(!A.test(e))throw new Error(`Keyword ${e} has invalid name`)})),t&&t.$data&&!("code"in t)&&!("validate"in t))throw new Error('$data keyword must have "code" or "validate" function')}function $(e,t,r){var n;const o=null==t?void 0:t.post;if(r&&o)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:i}=this;let s=o?i.post:i.rules.find((({type:e})=>e===r));if(s||(s={type:r,rules:[]},i.rules.push(s)),i.keywords[e]=!0,!t)return;const a={keyword:e,definition:{...t,type:f.getJSONTypes(t.type),schemaType:f.getJSONTypes(t.schemaType)}};t.before?j.call(this,s,a,t.before):s.rules.push(a),i.all[e]=a,null===(n=t.implements)||void 0===n||n.forEach((e=>this.addKeyword(e)))}function j(e,t,r){const n=e.rules.findIndex((e=>e.keyword===r));n>=0?e.rules.splice(n,0,t):(e.rules.push(t),this.logger.warn(`rule ${r} is not defined`))}function R(e){let{metaSchema:t}=e;void 0!==t&&(e.$data&&this.opts.$data&&(t=I(t)),e.validateSchema=this.compile(t,!0))}const C={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function I(e){return{anyOf:[e,C]}}},21390:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(5648),o=r(91962),i=r(43928),s=r(14872),a={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:{message:({params:{len:e}})=>n.str`should NOT have more than ${e} items`,params:({params:{len:e}})=>n._`{limit: ${e}}`},code(e){const{gen:t,schema:r,parentSchema:a,data:c,it:u}=e,{items:l}=a;if(!Array.isArray(l))return void s.checkStrictMode(u,'"additionalItems" is ignored when "items" is not an array of schemas');u.items=!0;const f=t.const("len",n._`${c}.length`);if(!1===r)e.setParams({len:l.length}),e.pass(n._`${f} <= ${l.length}`);else if("object"==typeof r&&!i.alwaysValidSchema(u,r)){const r=t.var("valid",n._`${f} <= ${l.length}`);t.if(n.not(r),(()=>function(r){t.forRange("i",l.length,f,(i=>{e.subschema({keyword:"additionalItems",dataProp:i,dataPropType:o.Type.Num},r),u.allErrors||t.if(n.not(r),(()=>t.break()))}))}(r))),e.ok(r)}}};t.default=a},56252:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(34083),o=r(5648),i=r(19522),s=r(91962),a=r(43928),c={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:{message:"should NOT have additional properties",params:({params:e})=>o._`{additionalProperty: ${e.additionalProperty}}`},code(e){const{gen:t,schema:r,parentSchema:c,data:u,errsCount:l,it:f}=e;if(!l)throw new Error("ajv implementation error");const{allErrors:h,opts:p}=f;if(f.props=!0,"all"!==p.removeAdditional&&a.alwaysValidSchema(f,r))return;const d=n.allSchemaProperties(c.properties),y=n.allSchemaProperties(c.patternProperties);function b(e){t.code(o._`delete ${u}[${e}]`)}function m(n){if("all"===p.removeAdditional||p.removeAdditional&&!1===r)b(n);else{if(!1===r)return e.setParams({additionalProperty:n}),e.error(),void(h||t.break());if("object"==typeof r&&!a.alwaysValidSchema(f,r)){const r=t.name("valid");"failing"===p.removeAdditional?(v(n,r,!1),t.if(o.not(r),(()=>{e.reset(),b(n)}))):(v(n,r),h||t.if(o.not(r),(()=>t.break())))}}}function v(t,r,n){const o={keyword:"additionalProperties",dataProp:t,dataPropType:s.Type.Str};!1===n&&Object.assign(o,{compositeRule:!0,createErrors:!1,allErrors:!1}),e.subschema(o,r)}t.forIn("key",u,(e=>{d.length||y.length?t.if(function(e){let r;if(d.length>8){const o=a.schemaRefOrVal(f,c.properties,"properties");r=n.isOwnProperty(t,o,e)}else r=d.length?o.or(...d.map((t=>o._`${e} === ${t}`))):o.nil;return y.length&&(r=o.or(r,...y.map((r=>o._`${n.usePattern(t,r)}.test(${e})`)))),o.not(r)}(e),(()=>m(e))):m(e)})),e.ok(o._`${l} === ${i.default.errors}`)}};t.default=c},8869:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(43928),o={keyword:"allOf",schemaType:"array",code(e){const{gen:t,schema:r,it:o}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");const i=t.name("valid");r.forEach(((t,r)=>{if(n.alwaysValidSchema(o,t))return;const s=e.subschema({keyword:"allOf",schemaProp:r},i);e.ok(i),e.mergeEvaluated(s)}))}};t.default=o},48840:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:r(34083).validateUnion,error:{message:"should match some schema in anyOf"}};t.default=n},10333:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(5648),o=r(91962),i=r(43928),s=r(14872),a={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:{message:({params:{min:e,max:t}})=>void 0===t?n.str`should contain at least ${e} valid item(s)`:n.str`should contain at least ${e} and no more than ${t} valid item(s)`,params:({params:{min:e,max:t}})=>void 0===t?n._`{minContains: ${e}}`:n._`{minContains: ${e}, maxContains: ${t}}`},code(e){const{gen:t,schema:r,parentSchema:a,data:c,it:u}=e;let l,f;const{minContains:h,maxContains:p}=a;u.opts.next?(l=void 0===h?1:h,f=p):l=1;const d=t.const("len",n._`${c}.length`);if(e.setParams({min:l,max:f}),void 0===f&&0===l)return void s.checkStrictMode(u,'"minContains" == 0 without "maxContains": "contains" keyword ignored');if(void 0!==f&&l>f)return s.checkStrictMode(u,'"minContains" > "maxContains" is always invalid'),void e.fail();if(i.alwaysValidSchema(u,r)){let t=n._`${d} >= ${l}`;return void 0!==f&&(t=n._`${t} && ${d} <= ${f}`),void e.pass(t)}u.items=!0;const y=t.name("valid");if(void 0===f&&1===l)b(y,(()=>t.if(y,(()=>t.break()))));else{t.let(y,!1);const e=t.name("_valid"),r=t.let("count",0);b(e,(()=>t.if(e,(()=>function(e){t.code(n._`${e}++`),void 0===f?t.if(n._`${e} >= ${l}`,(()=>t.assign(y,!0).break())):(t.if(n._`${e} > ${f}`,(()=>t.assign(y,!1).break())),1===l?t.assign(y,!0):t.if(n._`${e} >= ${l}`,(()=>t.assign(y,!0))))}(r)))))}function b(r,n){t.forRange("i",0,d,(t=>{e.subschema({keyword:"contains",dataProp:t,dataPropType:o.Type.Num,compositeRule:!0},r),n()}))}e.result(y,(()=>e.reset()))}};t.default=a},73083:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.validateSchemaDeps=t.validatePropertyDeps=t.error=void 0;const n=r(5648),o=r(43928),i=r(34083);t.error={message:({params:{property:e,depsCount:t,deps:r}})=>{const o=1===t?"property":"properties";return n.str`should have ${o} ${r} when property ${e} is present`},params:({params:{property:e,depsCount:t,deps:r,missingProperty:o}})=>n._`{property: ${e},
    missingProperty: ${o},
    depsCount: ${t},
    deps: ${r}}`};const s={keyword:"dependencies",type:"object",schemaType:"object",error:t.error,code(e){const[t,r]=function({schema:e}){const t={},r={};for(const n in e)"__proto__"!==n&&((Array.isArray(e[n])?t:r)[n]=e[n]);return[t,r]}(e);a(e,t),c(e,r)}};function a(e,t=e.schema){const{gen:r,data:o,it:s}=e;if(0===Object.keys(t).length)return;const a=r.let("missing");for(const c in t){const u=t[c];if(0===u.length)continue;const l=i.propertyInData(r,o,c,s.opts.ownProperties);e.setParams({property:c,depsCount:u.length,deps:u.join(", ")}),s.allErrors?r.if(l,(()=>{for(const t of u)i.checkReportMissingProp(e,t)})):(r.if(n._`${l} && (${i.checkMissingProp(e,u,a)})`),i.reportMissingProp(e,a),r.else())}}function c(e,t=e.schema){const{gen:r,data:n,keyword:s,it:a}=e,c=r.name("valid");for(const u in t)o.alwaysValidSchema(a,t[u])||(r.if(i.propertyInData(r,n,u,a.opts.ownProperties),(()=>{const t=e.subschema({keyword:s,schemaProp:u},c);e.mergeValidEvaluated(t,c)}),(()=>r.var(c,!0))),e.ok(c))}t.validatePropertyDeps=a,t.validateSchemaDeps=c,t.default=s},61721:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(5648),o=r(43928),i=r(14872),s={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:{message:({params:e})=>n.str`should match "${e.ifClause}" schema`,params:({params:e})=>n._`{failingKeyword: ${e.ifClause}}`},code(e){const{gen:t,parentSchema:r,it:o}=e;void 0===r.then&&void 0===r.else&&i.checkStrictMode(o,'"if" without "then" and "else" is ignored');const s=a(o,"then"),c=a(o,"else");if(!s&&!c)return;const u=t.let("valid",!0),l=t.name("_valid");if(function(){const t=e.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},l);e.mergeEvaluated(t)}(),e.reset(),s&&c){const r=t.let("ifClause");e.setParams({ifClause:r}),t.if(l,f("then",r),f("else",r))}else s?t.if(l,f("then")):t.if(n.not(l),f("else"));function f(r,o){return()=>{const i=e.subschema({keyword:r},l);t.assign(u,l),e.mergeValidEvaluated(i,u),o?t.assign(o,n._`${r}`):e.setParams({ifClause:r})}}e.pass(u,(()=>e.error(!0)))}};function a(e,t){const r=e.schema[t];return void 0!==r&&!o.alwaysValidSchema(e,r)}t.default=s},41207:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(21390),o=r(40645),i=r(10333),s=r(73083),a=r(28788),c=r(56252),u=r(55746),l=r(62465),f=r(12119),h=r(48840),p=r(79665),d=r(8869),y=r(61721),b=r(77411),m=[f.default,h.default,p.default,d.default,y.default,b.default,n.default,o.default,i.default,a.default,c.default,s.default,u.default,l.default];t.default=m},40645:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(5648),o=r(43928),i=r(14872),s=r(34083),a={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(e){const{gen:t,schema:r,it:a}=e;if(Array.isArray(r))a.opts.unevaluated&&r.length&&!0!==a.items&&(a.items=o.mergeEvaluated.items(t,r.length,a.items)),function(r){const{parentSchema:s,data:c}=e;if(a.opts.strictTuples&&!function(e,t){return e===t.minItems&&(e===t.maxItems||!1===t.additionalItems)}(r.length,s)){const e=`"items" is ${r.length}-tuple, but minItems or maxItems/additionalItems are not specified or different`;i.checkStrictMode(a,e,a.opts.strictTuples)}const u=t.name("valid"),l=t.const("len",n._`${c}.length`);r.forEach(((r,i)=>{o.alwaysValidSchema(a,r)||(t.if(n._`${l} > ${i}`,(()=>e.subschema({keyword:"items",schemaProp:i,dataProp:i},u))),e.ok(u))}))}(r);else{if(a.items=!0,o.alwaysValidSchema(a,r))return;e.ok(s.validateArray(e))}}};t.default=a},12119:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(43928),o={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(e){const{gen:t,schema:r,it:o}=e;if(n.alwaysValidSchema(o,r))return void e.fail();const i=t.name("valid");e.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},i),e.result(i,(()=>e.error()),(()=>e.reset()))},error:{message:"should NOT be valid"}};t.default=o},79665:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(5648),o=r(43928),i={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:{message:"should match exactly one schema in oneOf",params:({params:e})=>n._`{passingSchemas: ${e.passing}}`},code(e){const{gen:t,schema:r,it:i}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");const s=r,a=t.let("valid",!1),c=t.let("passing",null),u=t.name("_valid");e.setParams({passing:c}),t.block((function(){s.forEach(((r,s)=>{let l;o.alwaysValidSchema(i,r)?t.var(u,!0):l=e.subschema({keyword:"oneOf",schemaProp:s,compositeRule:!0},u),s>0&&t.if(n._`${u} && ${a}`).assign(a,!1).assign(c,n._`[${c}, ${s}]`).else(),t.if(u,(()=>{t.assign(a,!0),t.assign(c,s),l&&e.mergeEvaluated(l,n.Name)}))}))})),e.result(a,(()=>e.reset()),(()=>e.error(!0)))}};t.default=i},62465:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(34083),o=r(5648),i=r(91962),s=r(14872),a=r(43928),c={keyword:"patternProperties",type:"object",schemaType:"object",code(e){const{gen:t,schema:r,data:c,parentSchema:u,it:l}=e,{opts:f}=l,h=n.schemaProperties(l,r);if(0===h.length)return;const p=f.strict&&!f.allowMatchingProperties&&u.properties,d=t.name("valid");!0===l.props||l.props instanceof o.Name||(l.props=a.evaluatedPropsToName(t,l.props));const{props:y}=l;function b(e){for(const t in p)new RegExp(e).test(t)&&s.checkStrictMode(l,`property ${t} matches pattern ${e} (use allowMatchingProperties)`)}function m(r){t.forIn("key",c,(s=>{t.if(o._`${n.usePattern(t,r)}.test(${s})`,(()=>{e.subschema({keyword:"patternProperties",schemaProp:r,dataProp:s,dataPropType:i.Type.Str},d),l.opts.unevaluated&&!0!==y?t.assign(o._`${y}[${s}]`,!0):l.allErrors||t.if(o.not(d),(()=>t.break()))}))}))}!function(){for(const e of h)p&&b(e),l.allErrors?m(e):(t.var(d,!0),m(e),t.if(d))}()}};t.default=c},55746:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(67640),o=r(34083),i=r(43928),s=r(56252),a={keyword:"properties",type:"object",schemaType:"object",code(e){const{gen:t,schema:r,parentSchema:a,data:c,it:u}=e;"all"===u.opts.removeAdditional&&void 0===a.additionalProperties&&s.default.code(new n.default(u,s.default,"additionalProperties"));const l=o.allSchemaProperties(r);for(const e of l)u.definedProperties.add(e);u.opts.unevaluated&&l.length&&!0!==u.props&&(u.props=i.mergeEvaluated.props(t,i.toHash(l),u.props));const f=l.filter((e=>!i.alwaysValidSchema(u,r[e])));if(0===f.length)return;const h=t.name("valid");for(const r of f)p(r)?d(r):(t.if(o.propertyInData(t,c,r,u.opts.ownProperties)),d(r),u.allErrors||t.else().var(h,!0),t.endIf()),e.it.definedProperties.add(r),e.ok(h);function p(e){return u.opts.useDefaults&&!u.compositeRule&&void 0!==r[e].default}function d(t){e.subschema({keyword:"properties",schemaProp:t,dataProp:t},h)}}};t.default=a},28788:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(5648),o=r(43928),i={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:{message:({params:e})=>n.str`property name '${e.propertyName}' is invalid`,params:({params:e})=>n._`{propertyName: ${e.propertyName}}`},code(e){const{gen:t,schema:r,data:i,it:s}=e;if(o.alwaysValidSchema(s,r))return;const a=t.name("valid");t.forIn("key",i,(r=>{e.setParams({propertyName:r}),e.subschema({keyword:"propertyNames",data:r,dataTypes:["string"],propertyName:r,compositeRule:!0},a),t.if(n.not(a),(()=>{e.error(!0),s.allErrors||t.break()}))})),e.ok(a)}};t.default=i},77411:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(14872),o={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:e,parentSchema:t,it:r}){void 0===t.if&&n.checkStrictMode(r,`"${e}" without "if" is ignored`)}};t.default=o},34083:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.validateUnion=t.validateArray=t.usePattern=t.callValidateCode=t.schemaProperties=t.allSchemaProperties=t.noPropertyInData=t.propertyInData=t.isOwnProperty=t.hasPropFunc=t.reportMissingProp=t.checkMissingProp=t.checkReportMissingProp=void 0;const n=r(5648),o=r(43928),i=r(91962),s=r(19522);function a(e){return e.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:n._`Object.prototype.hasOwnProperty`})}function c(e,t,r){return n._`${a(e)}.call(${t}, ${r})`}function u(e,t,r,o){const i=n._`${t}${n.getProperty(r)} === undefined`;return o?n.or(i,n.not(c(e,t,r))):i}function l(e){return e?Object.keys(e).filter((e=>"__proto__"!==e)):[]}t.checkReportMissingProp=function(e,t){const{gen:r,data:o,it:i}=e;r.if(u(r,o,t,i.opts.ownProperties),(()=>{e.setParams({missingProperty:n._`${t}`},!0),e.error()}))},t.checkMissingProp=function({gen:e,data:t,it:{opts:r}},o,i){return n.or(...o.map((o=>n.and(u(e,t,o,r.ownProperties),n._`${i} = ${o}`))))},t.reportMissingProp=function(e,t){e.setParams({missingProperty:t},!0),e.error()},t.hasPropFunc=a,t.isOwnProperty=c,t.propertyInData=function(e,t,r,o){const i=n._`${t}${n.getProperty(r)} !== undefined`;return o?n._`${i} && ${c(e,t,r)}`:i},t.noPropertyInData=u,t.allSchemaProperties=l,t.schemaProperties=function(e,t){return l(t).filter((r=>!o.alwaysValidSchema(e,t[r])))},t.callValidateCode=function({schemaCode:e,data:t,it:{gen:r,topSchemaRef:o,schemaPath:i,errorPath:a},it:c},u,l,f){const h=f?n._`${e}, ${t}, ${o}${i}`:t,p=[[s.default.dataPath,n.strConcat(s.default.dataPath,a)],[s.default.parentData,c.parentData],[s.default.parentDataProperty,c.parentDataProperty],[s.default.rootData,s.default.rootData]];c.opts.dynamicRef&&p.push([s.default.dynamicAnchors,s.default.dynamicAnchors]);const d=n._`${h}, ${r.object(...p)}`;return l!==n.nil?n._`${u}.call(${l}, ${d})`:n._`${u}(${d})`},t.usePattern=function(e,t){return e.scopeValue("pattern",{key:t,ref:new RegExp(t,"u"),code:n._`new RegExp(${t}, "u")`})},t.validateArray=function(e){const{gen:t,data:r,keyword:o,it:s}=e,a=t.name("valid");if(s.allErrors){const e=t.let("valid",!0);return c((()=>t.assign(e,!1))),e}return t.var(a,!0),c((()=>t.break())),a;function c(s){const c=t.const("len",n._`${r}.length`);t.forRange("i",0,c,(r=>{e.subschema({keyword:o,dataProp:r,dataPropType:i.Type.Num},a),t.if(n.not(a),s)}))}},t.validateUnion=function(e){const{gen:t,schema:r,keyword:i,it:s}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(r.some((e=>o.alwaysValidSchema(s,e)))&&!s.opts.unevaluated)return;const a=t.let("valid",!1),c=t.name("_valid");t.block((()=>r.forEach(((r,o)=>{const s=e.subschema({keyword:i,schemaProp:o,compositeRule:!0},c);t.assign(a,n._`${a} || ${c}`),e.mergeValidEvaluated(s,c)||t.if(n.not(a))})))),e.result(a,(()=>e.reset()),(()=>e.error(!0)))}},69429:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});const r={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};t.default=r},47381:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(69429),o=r(92817),i=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",n.default,o.default];t.default=i},92817:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.callRef=t.getValidate=void 0;const n=r(63661),o=r(34083),i=r(5648),s=r(19522),a=r(13248),c=r(43928),u={keyword:"$ref",schemaType:"string",code(e){const{gen:t,schema:r,it:o}=e,{baseId:s,schemaEnv:c,validateName:u,opts:h,self:p}=o;if("#"===r||"#/"===r)return function(){if(c===c.root)return f(e,u,c,c.$async);const r=t.scopeValue("root",{ref:c.root});return f(e,i._`${r}.validate`,c.root,c.root.$async)}();const d=a.resolveRef.call(p,c.root,s,r);if(void 0===d)throw new n.MissingRefError(s,r);return d instanceof a.SchemaEnv?function(t){const r=l(e,t);f(e,r,t,t.$async)}(d):function(n){const o=t.scopeValue("schema",!0===h.code.source?{ref:n,code:i.stringify(n)}:{ref:n}),s=t.name("valid"),a=e.subschema({schema:n,dataTypes:[],schemaPath:i.nil,topSchemaRef:o,errSchemaPath:r},s);e.mergeEvaluated(a),e.ok(s)}(d)}};function l(e,t){const{gen:r}=e;return t.validate?r.scopeValue("validate",{ref:t.validate}):i._`${r.scopeValue("wrapper",{ref:t})}.validate`}function f(e,t,r,n){const{gen:a,it:u}=e,{allErrors:l,schemaEnv:f,opts:h}=u,p=h.passContext?s.default.this:i.nil;function d(e){const t=i._`${e}.errors`;a.assign(s.default.vErrors,i._`${s.default.vErrors} === null ? ${t} : ${s.default.vErrors}.concat(${t})`),a.assign(s.default.errors,i._`${s.default.vErrors}.length`)}function y(e){var t;if(!u.opts.unevaluated)return;const n=null===(t=null==r?void 0:r.validate)||void 0===t?void 0:t.evaluated;if(!0!==u.props)if(n&&!n.dynamicProps)void 0!==n.props&&(u.props=c.mergeEvaluated.props(a,n.props,u.props));else{const t=a.var("props",i._`${e}.evaluated.props`);u.props=c.mergeEvaluated.props(a,t,u.props,i.Name)}if(!0!==u.items)if(n&&!n.dynamicItems)void 0!==n.items&&(u.items=c.mergeEvaluated.items(a,n.items,u.items));else{const t=a.var("items",i._`${e}.evaluated.items`);u.items=c.mergeEvaluated.items(a,t,u.items,i.Name)}}n?function(){if(!f.$async)throw new Error("async schema referenced by sync schema");const r=a.let("valid");a.try((()=>{a.code(i._`await ${o.callValidateCode(e,t,p)}`),y(t),l||a.assign(r,!0)}),(e=>{a.if(i._`!(${e} instanceof ${u.ValidationError})`,(()=>a.throw(e))),d(e),l||a.assign(r,!1)})),e.ok(r)}():e.result(o.callValidateCode(e,t,p),(()=>y(t)),(()=>d(t)))}t.getValidate=l,t.callRef=f,t.default=u},25761:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(47381),o=r(98133),i=r(41207),s=r(51727),a=r(58812),c=[n.default,o.default,i.default,s.default,a.metadataVocabulary,a.contentVocabulary];t.default=c},37982:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(5648),o={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:{message:({schemaCode:e})=>n.str`should match format "${e}"`,params:({schemaCode:e})=>n._`{format: ${e}}`},code(e,t){const{gen:r,data:o,$data:i,schema:s,schemaCode:a,it:c}=e,{opts:u,errSchemaPath:l,schemaEnv:f,self:h}=c;u.validateFormats&&(i?function(){const i=r.scopeValue("formats",{ref:h.formats,code:u.code.formats}),s=r.const("fDef",n._`${i}[${a}]`),c=r.let("fType"),l=r.let("format");r.if(n._`typeof ${s} == "object" && !(${s} instanceof RegExp)`,(()=>r.assign(c,n._`${s}.type || "string"`).assign(l,n._`${s}.validate`)),(()=>r.assign(c,n._`"string"`).assign(l,s))),e.fail$data(n.or(!1===u.strict?n.nil:n._`${a} && !${l}`,function(){const e=f.$async?n._`(${s}.async ? await ${l}(${o}) : ${l}(${o}))`:n._`${l}(${o})`,r=n._`(typeof ${l} == "function" ? ${e} : ${l}.test(${o}))`;return n._`${l} && ${l} !== true && ${c} === ${t} && !${r}`}()))}():function(){const i=h.formats[s];if(!i)return void function(){if(!1!==u.strict)throw new Error(e());function e(){return`unknown format "${s}" ignored in schema at path "${l}"`}h.logger.warn(e())}();if(!0===i)return;const[a,c,p]=function(e){const t=r.scopeValue("formats",{key:s,ref:e,code:u.code.formats?n._`${u.code.formats}${n.getProperty(s)}`:void 0});return"object"!=typeof e||e instanceof RegExp?["string",e,t]:[e.type||"string",e.validate,n._`${t}.validate`]}(i);a===t&&e.pass(function(){if("object"==typeof i&&!(i instanceof RegExp)&&i.async){if(!f.$async)throw new Error("async format in sync schema");return n._`await ${p}(${o})`}return"function"==typeof c?n._`${p}(${o})`:n._`${p}.test(${o})`}())}())}};t.default=o},51727:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=[r(37982).default];t.default=n},58812:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.contentVocabulary=t.metadataVocabulary=void 0,t.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],t.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]},44723:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(5648),o=r(89162),i={keyword:"const",$data:!0,error:{message:"should be equal to constant",params:({schemaCode:e})=>n._`{allowedValue: ${e}}`},code(e){const t=e.gen.scopeValue("func",{ref:o,code:n._`require("ajv/dist/compile/equal")`});e.fail$data(n._`!${t}(${e.data}, ${e.schemaCode})`)}};t.default=i},7160:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(5648),o=r(89162),i={keyword:"enum",schemaType:"array",$data:!0,error:{message:"should be equal to one of the allowed values",params:({schemaCode:e})=>n._`{allowedValues: ${e}}`},code(e){const{gen:t,data:r,$data:i,schema:s,schemaCode:a,it:c}=e;if(!i&&0===s.length)throw new Error("enum must have non-empty array");const u=s.length>=c.opts.loopEnum,l=e.gen.scopeValue("func",{ref:o,code:n._`require("ajv/dist/compile/equal")`});let f;if(u||i)f=t.let("valid"),e.block$data(f,(function(){t.assign(f,!1),t.forOf("v",a,(e=>t.if(n._`${l}(${r}, ${e})`,(()=>t.assign(f,!0).break()))))}));else{if(!Array.isArray(s))throw new Error("ajv implementation error");const e=t.const("vSchema",a);f=n.or(...s.map(((t,o)=>function(e,t){const o=s[t];return o&&"object"==typeof o?n._`${l}(${r}, ${e}[${t}])`:n._`${r} === ${o}`}(e,o))))}e.pass(f)}};t.default=i},98133:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(45138),o=r(76684),i=r(37432),s=r(27897),a=r(26271),c=r(44891),u=r(6810),l=r(53828),f=r(44723),h=r(7160),p=[n.default,o.default,i.default,s.default,a.default,c.default,u.default,l.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},f.default,h.default];t.default=p},6810:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(5648),o={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:{message({keyword:e,schemaCode:t}){const r="maxItems"===e?"more":"fewer";return n.str`should NOT have ${r} than ${t} items`},params:({schemaCode:e})=>n._`{limit: ${e}}`},code(e){const{keyword:t,data:r,schemaCode:o}=e,i="maxItems"===t?n.operators.GT:n.operators.LT;e.fail$data(n._`${r}.length ${i} ${o}`)}};t.default=o},37432:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(5648),o=r(89185),i={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:{message({keyword:e,schemaCode:t}){const r="maxLength"===e?"more":"fewer";return n.str`should NOT have ${r} than ${t} characters`},params:({schemaCode:e})=>n._`{limit: ${e}}`},code(e){const{keyword:t,data:r,schemaCode:i,it:s}=e,a="maxLength"===t?n.operators.GT:n.operators.LT;let c;if(!1===s.opts.unicode)c=n._`${r}.length`;else{const t=e.gen.scopeValue("func",{ref:o.default,code:n._`require("ajv/dist/compile/ucs2length").default`});c=n._`${t}(${r})`}e.fail$data(n._`${c} ${a} ${i}`)}};t.default=i},45138:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(5648),o=n.operators,i={maximum:{okStr:"<=",ok:o.LTE,fail:o.GT},minimum:{okStr:">=",ok:o.GTE,fail:o.LT},exclusiveMaximum:{okStr:"<",ok:o.LT,fail:o.GTE},exclusiveMinimum:{okStr:">",ok:o.GT,fail:o.LTE}},s={message:({keyword:e,schemaCode:t})=>n.str`should be ${i[e].okStr} ${t}`,params:({keyword:e,schemaCode:t})=>n._`{comparison: ${i[e].okStr}, limit: ${t}}`},a={keyword:Object.keys(i),type:"number",schemaType:"number",$data:!0,error:s,code(e){const{keyword:t,data:r,schemaCode:o}=e;e.fail$data(n._`${r} ${i[t].fail} ${o} || isNaN(${r})`)}};t.default=a},26271:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(5648),o={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:{message({keyword:e,schemaCode:t}){const r="maxProperties"===e?"more":"fewer";return n.str`should NOT have ${r} than ${t} items`},params:({schemaCode:e})=>n._`{limit: ${e}}`},code(e){const{keyword:t,data:r,schemaCode:o}=e,i="maxProperties"===t?n.operators.GT:n.operators.LT;e.fail$data(n._`Object.keys(${r}).length ${i} ${o}`)}};t.default=o},76684:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(5648),o={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:{message:({schemaCode:e})=>n.str`should be multiple of ${e}`,params:({schemaCode:e})=>n._`{multipleOf: ${e}}`},code(e){const{gen:t,data:r,schemaCode:o,it:i}=e,s=i.opts.multipleOfPrecision,a=t.let("res"),c=s?n._`Math.abs(Math.round(${a}) - ${a}) > 1e-${s}`:n._`${a} !== parseInt(${a})`;e.fail$data(n._`(${o} === 0 || (${a} = ${r}/${o}, ${c}))`)}};t.default=o},27897:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(34083),o=r(5648),i={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:{message:({schemaCode:e})=>o.str`should match pattern "${e}"`,params:({schemaCode:e})=>o._`{pattern: ${e}}`},code(e){const{gen:t,data:r,$data:i,schema:s,schemaCode:a}=e,c=i?o._`(new RegExp(${a}, "u"))`:n.usePattern(t,s);e.fail$data(o._`!${c}.test(${r})`)}};t.default=i},44891:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(34083),o=r(5648),i=r(14872),s={keyword:"required",type:"object",schemaType:"array",$data:!0,error:{message:({params:{missingProperty:e}})=>o.str`should have required property '${e}'`,params:({params:{missingProperty:e}})=>o._`{missingProperty: ${e}}`},code(e){const{gen:t,schema:r,schemaCode:s,data:a,$data:c,it:u}=e,{opts:l}=u;if(!c&&0===r.length)return;const f=r.length>=l.loopRequired;if(u.allErrors?function(){if(f||c)e.block$data(o.nil,h);else for(const t of r)n.checkReportMissingProp(e,t)}():function(){const i=t.let("missing");if(f||c){const r=t.let("valid",!0);e.block$data(r,(()=>function(r,i){e.setParams({missingProperty:r}),t.forOf(r,s,(()=>{t.assign(i,n.propertyInData(t,a,r,l.ownProperties)),t.if(o.not(i),(()=>{e.error(),t.break()}))}),o.nil)}(i,r))),e.ok(r)}else t.if(n.checkMissingProp(e,r,i)),n.reportMissingProp(e,i),t.else()}(),l.strictRequired){const t=e.parentSchema.properties,{definedProperties:n}=e.it;for(const e of r)if(void 0===(null==t?void 0:t[e])&&!n.has(e)){const t=`required property "${e}" is not defined at "${u.schemaEnv.baseId+u.errSchemaPath}" (strictRequired)`;i.checkStrictMode(u,t,u.opts.strictRequired)}}function h(){t.forOf("prop",s,(r=>{e.setParams({missingProperty:r}),t.if(n.noPropertyInData(t,a,r,l.ownProperties),(()=>e.error()))}))}}};t.default=s},53828:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(57553),o=r(5648),i=r(89162),s={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:{message:({params:{i:e,j:t}})=>o.str`should NOT have duplicate items (items ## ${t} and ${e} are identical)`,params:({params:{i:e,j:t}})=>o._`{i: ${e}, j: ${t}}`},code(e){const{gen:t,data:r,$data:s,schema:a,parentSchema:c,schemaCode:u,it:l}=e;if(!s&&!a)return;const f=t.let("valid"),h=c.items?n.getSchemaTypes(c.items):[];function p(i,s){const a=t.name("item"),c=n.checkDataTypes(h,a,l.opts.strict,n.DataType.Wrong),u=t.const("indices",o._`{}`);t.for(o._`;${i}--;`,(()=>{t.let(a,o._`${r}[${i}]`),t.if(c,o._`continue`),h.length>1&&t.if(o._`typeof ${a} == "string"`,o._`${a} += "_"`),t.if(o._`typeof ${u}[${a}] == "number"`,(()=>{t.assign(s,o._`${u}[${a}]`),e.error(),t.assign(f,!1).break()})).code(o._`${u}[${a}] = ${i}`)}))}function d(n,s){const a=e.gen.scopeValue("func",{ref:i,code:o._`require("ajv/dist/compile/equal")`}),c=t.name("outer");t.label(c).for(o._`;${n}--;`,(()=>t.for(o._`${s} = ${n}; ${s}--;`,(()=>t.if(o._`${a}(${r}[${n}], ${r}[${s}])`,(()=>{e.error(),t.assign(f,!1).break(c)}))))))}e.block$data(f,(function(){const n=t.let("i",o._`${r}.length`),i=t.let("j");e.setParams({i:n,j:i}),t.assign(f,!0),t.if(o._`${n} > 1`,(()=>(h.length>0&&!h.some((e=>"object"===e||"array"===e))?p:d)(n,i)))}),o._`${u} === false`),e.ok(f)}};t.default=s},94343:(e,t,r)=>{var n=r(12695),o=r(40585);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}var s,a,c=r(88370).codes,u=c.ERR_AMBIGUOUS_ARGUMENT,l=c.ERR_INVALID_ARG_TYPE,f=c.ERR_INVALID_ARG_VALUE,h=c.ERR_INVALID_RETURN_VALUE,p=c.ERR_MISSING_ARGS,d=r(70669),y=r(85130).inspect,b=r(85130).types,m=b.isPromise,v=b.isRegExp,g=Object.assign?Object.assign:r(64401).assign,w=Object.is?Object.is:r(92369);function _(){var e=r(98195);s=e.isDeepEqual,a=e.isDeepStrictEqual}new Map;var S=!1,O=e.exports=A,E={};function T(e){if(e.message instanceof Error)throw e.message;throw new d(e)}function x(e,t,r,n){if(!r){var o=!1;if(0===t)o=!0,n="No value argument passed to `assert.ok()`";else if(n instanceof Error)throw n;var i=new d({actual:r,expected:!0,message:n,operator:"==",stackStartFn:e});throw i.generatedMessage=o,i}}function A(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];x.apply(void 0,[A,t.length].concat(t))}O.fail=function e(t,r,i,s,a){var c,u=arguments.length;if(0===u)c="Failed";else if(1===u)i=t,t=void 0;else{if(!1===S){S=!0;var l=n.emitWarning?n.emitWarning:o.warn.bind(o);l("assert.fail() with more than one argument is deprecated. Please use assert.strictEqual() instead or only pass a message.","DeprecationWarning","DEP0094")}2===u&&(s="!=")}if(i instanceof Error)throw i;var f={actual:t,expected:r,operator:void 0===s?"fail":s,stackStartFn:a||e};void 0!==i&&(f.message=i);var h=new d(f);throw c&&(h.message=c,h.generatedMessage=!0),h},O.AssertionError=d,O.ok=A,O.equal=function e(t,r,n){if(arguments.length<2)throw new p("actual","expected");t!=r&&T({actual:t,expected:r,message:n,operator:"==",stackStartFn:e})},O.notEqual=function e(t,r,n){if(arguments.length<2)throw new p("actual","expected");t==r&&T({actual:t,expected:r,message:n,operator:"!=",stackStartFn:e})},O.deepEqual=function e(t,r,n){if(arguments.length<2)throw new p("actual","expected");void 0===s&&_(),s(t,r)||T({actual:t,expected:r,message:n,operator:"deepEqual",stackStartFn:e})},O.notDeepEqual=function e(t,r,n){if(arguments.length<2)throw new p("actual","expected");void 0===s&&_(),s(t,r)&&T({actual:t,expected:r,message:n,operator:"notDeepEqual",stackStartFn:e})},O.deepStrictEqual=function e(t,r,n){if(arguments.length<2)throw new p("actual","expected");void 0===s&&_(),a(t,r)||T({actual:t,expected:r,message:n,operator:"deepStrictEqual",stackStartFn:e})},O.notDeepStrictEqual=function e(t,r,n){if(arguments.length<2)throw new p("actual","expected");void 0===s&&_(),a(t,r)&&T({actual:t,expected:r,message:n,operator:"notDeepStrictEqual",stackStartFn:e})},O.strictEqual=function e(t,r,n){if(arguments.length<2)throw new p("actual","expected");w(t,r)||T({actual:t,expected:r,message:n,operator:"strictEqual",stackStartFn:e})},O.notStrictEqual=function e(t,r,n){if(arguments.length<2)throw new p("actual","expected");w(t,r)&&T({actual:t,expected:r,message:n,operator:"notStrictEqual",stackStartFn:e})};var P=function e(t,r,n){var o=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),r.forEach((function(e){e in t&&(void 0!==n&&"string"==typeof n[e]&&v(t[e])&&t[e].test(n[e])?o[e]=n[e]:o[e]=t[e])}))};function $(e,t,r,n,o,i){if(!(r in e)||!a(e[r],t[r])){if(!n){var s=new P(e,o),c=new P(t,o,e),u=new d({actual:s,expected:c,operator:"deepStrictEqual",stackStartFn:i});throw u.actual=e,u.expected=t,u.operator=i.name,u}T({actual:e,expected:t,message:n,operator:i.name,stackStartFn:i})}}function j(e,t,r,n){if("function"!=typeof t){if(v(t))return t.test(e);if(2===arguments.length)throw new l("expected",["Function","RegExp"],t);if("object"!==i(e)||null===e){var o=new d({actual:e,expected:t,message:r,operator:"deepStrictEqual",stackStartFn:n});throw o.operator=n.name,o}var a=Object.keys(t);if(t instanceof Error)a.push("name","message");else if(0===a.length)throw new f("error",t,"may not be an empty object");return void 0===s&&_(),a.forEach((function(o){"string"==typeof e[o]&&v(t[o])&&t[o].test(e[o])||$(e,t,o,r,a,n)})),!0}return void 0!==t.prototype&&e instanceof t||!Error.isPrototypeOf(t)&&!0===t.call({},e)}function R(e){if("function"!=typeof e)throw new l("fn","Function",e);try{e()}catch(e){return e}return E}function C(e){return m(e)||null!==e&&"object"===i(e)&&"function"==typeof e.then&&"function"==typeof e.catch}function I(e){return Promise.resolve().then((function(){var t;if("function"==typeof e){if(!C(t=e()))throw new h("instance of Promise","promiseFn",t)}else{if(!C(e))throw new l("promiseFn",["Function","Promise"],e);t=e}return Promise.resolve().then((function(){return t})).then((function(){return E})).catch((function(e){return e}))}))}function N(e,t,r,n){if("string"==typeof r){if(4===arguments.length)throw new l("error",["Object","Error","Function","RegExp"],r);if("object"===i(t)&&null!==t){if(t.message===r)throw new u("error/message",'The error message "'.concat(t.message,'" is identical to the message.'))}else if(t===r)throw new u("error/message",'The error "'.concat(t,'" is identical to the message.'));n=r,r=void 0}else if(null!=r&&"object"!==i(r)&&"function"!=typeof r)throw new l("error",["Object","Error","Function","RegExp"],r);if(t===E){var o="";r&&r.name&&(o+=" (".concat(r.name,")")),o+=n?": ".concat(n):".";var s="rejects"===e.name?"rejection":"exception";T({actual:void 0,expected:r,operator:e.name,message:"Missing expected ".concat(s).concat(o),stackStartFn:e})}if(r&&!j(t,r,n,e))throw t}function k(e,t,r,n){if(t!==E){if("string"==typeof r&&(n=r,r=void 0),!r||j(t,r)){var o=n?": ".concat(n):".",i="doesNotReject"===e.name?"rejection":"exception";T({actual:t,expected:r,operator:e.name,message:"Got unwanted ".concat(i).concat(o,"\n")+'Actual message: "'.concat(t&&t.message,'"'),stackStartFn:e})}throw t}}function M(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];x.apply(void 0,[M,t.length].concat(t))}O.throws=function e(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];N.apply(void 0,[e,R(t)].concat(n))},O.rejects=function e(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];return I(t).then((function(t){return N.apply(void 0,[e,t].concat(n))}))},O.doesNotThrow=function e(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];k.apply(void 0,[e,R(t)].concat(n))},O.doesNotReject=function e(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];return I(t).then((function(t){return k.apply(void 0,[e,t].concat(n))}))},O.ifError=function e(t){if(null!=t){var r="ifError got unwanted exception: ";"object"===i(t)&&"string"==typeof t.message?0===t.message.length&&t.constructor?r+=t.constructor.name:r+=t.message:r+=y(t);var n=new d({actual:t,expected:null,operator:"ifError",message:r,stackStartFn:e}),o=t.stack;if("string"==typeof o){var s=o.split("\n");s.shift();for(var a=n.stack.split("\n"),c=0;c<s.length;c++){var u=a.indexOf(s[c]);if(-1!==u){a=a.slice(0,u);break}}n.stack="".concat(a.join("\n"),"\n").concat(s.join("\n"))}throw n}},O.strict=g(M,O,{equal:O.strictEqual,deepEqual:O.deepStrictEqual,notEqual:O.notStrictEqual,notDeepEqual:O.notDeepStrictEqual}),O.strict.strict=O.strict},70669:(e,t,r)=>{var n=r(12695);function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?a(e):t}function a(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e){var t="function"==typeof Map?new Map:void 0;return c=function(e){if(null===e||(r=e,-1===Function.toString.call(r).indexOf("[native code]")))return e;var r;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return l(e,arguments,h(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),f(n,e)},c(e)}function u(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function l(e,t,r){return l=u()?Reflect.construct:function(e,t,r){var n=[null];n.push.apply(n,t);var o=new(Function.bind.apply(e,n));return r&&f(o,r.prototype),o},l.apply(null,arguments)}function f(e,t){return f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},f(e,t)}function h(e){return h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},h(e)}function p(e){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p(e)}var d=r(85130).inspect,y=r(88370).codes.ERR_INVALID_ARG_TYPE;function b(e,t,r){return(void 0===r||r>e.length)&&(r=e.length),e.substring(r-t.length,r)===t}var m="",v="",g="",w="",_={deepStrictEqual:"Expected values to be strictly deep-equal:",strictEqual:"Expected values to be strictly equal:",strictEqualObject:'Expected "actual" to be reference-equal to "expected":',deepEqual:"Expected values to be loosely deep-equal:",equal:"Expected values to be loosely equal:",notDeepStrictEqual:'Expected "actual" not to be strictly deep-equal to:',notStrictEqual:'Expected "actual" to be strictly unequal to:',notStrictEqualObject:'Expected "actual" not to be reference-equal to "expected":',notDeepEqual:'Expected "actual" not to be loosely deep-equal to:',notEqual:'Expected "actual" to be loosely unequal to:',notIdentical:"Values identical but not reference-equal:"};function S(e){var t=Object.keys(e),r=Object.create(Object.getPrototypeOf(e));return t.forEach((function(t){r[t]=e[t]})),Object.defineProperty(r,"message",{value:e.message}),r}function O(e){return d(e,{compact:!1,customInspect:!1,depth:1e3,maxArrayLength:1/0,showHidden:!1,breakLength:1/0,showProxy:!1,sorted:!0,getters:!0})}var E=function(e){function t(e){var r;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),"object"!==p(e)||null===e)throw new y("options","Object",e);var o=e.message,i=e.operator,c=e.stackStartFn,u=e.actual,l=e.expected,f=Error.stackTraceLimit;if(Error.stackTraceLimit=0,null!=o)r=s(this,h(t).call(this,String(o)));else if(n.stderr&&n.stderr.isTTY&&(n.stderr&&n.stderr.getColorDepth&&1!==n.stderr.getColorDepth()?(m="[34m",v="[32m",w="[39m",g="[31m"):(m="",v="",w="",g="")),"object"===p(u)&&null!==u&&"object"===p(l)&&null!==l&&"stack"in u&&u instanceof Error&&"stack"in l&&l instanceof Error&&(u=S(u),l=S(l)),"deepStrictEqual"===i||"strictEqual"===i)r=s(this,h(t).call(this,function(e,t,r){var o="",i="",s=0,a="",c=!1,u=O(e),l=u.split("\n"),f=O(t).split("\n"),h=0,d="";if("strictEqual"===r&&"object"===p(e)&&"object"===p(t)&&null!==e&&null!==t&&(r="strictEqualObject"),1===l.length&&1===f.length&&l[0]!==f[0]){var y=l[0].length+f[0].length;if(y<=10){if(!("object"===p(e)&&null!==e||"object"===p(t)&&null!==t||0===e&&0===t))return"".concat(_[r],"\n\n")+"".concat(l[0]," !== ").concat(f[0],"\n")}else if("strictEqualObject"!==r&&y<(n.stderr&&n.stderr.isTTY?n.stderr.columns:80)){for(;l[0][h]===f[0][h];)h++;h>2&&(d="\n  ".concat(function(e,t){if(t=Math.floor(t),0==e.length||0==t)return"";var r=e.length*t;for(t=Math.floor(Math.log(t)/Math.log(2));t;)e+=e,t--;return e+e.substring(0,r-e.length)}(" ",h),"^"),h=0)}}for(var S=l[l.length-1],E=f[f.length-1];S===E&&(h++<2?a="\n  ".concat(S).concat(a):o=S,l.pop(),f.pop(),0!==l.length&&0!==f.length);)S=l[l.length-1],E=f[f.length-1];var T=Math.max(l.length,f.length);if(0===T){var x=u.split("\n");if(x.length>30)for(x[26]="".concat(m,"...").concat(w);x.length>27;)x.pop();return"".concat(_.notIdentical,"\n\n").concat(x.join("\n"),"\n")}h>3&&(a="\n".concat(m,"...").concat(w).concat(a),c=!0),""!==o&&(a="\n  ".concat(o).concat(a),o="");var A=0,P=_[r]+"\n".concat(v,"+ actual").concat(w," ").concat(g,"- expected").concat(w),$=" ".concat(m,"...").concat(w," Lines skipped");for(h=0;h<T;h++){var j=h-s;if(l.length<h+1)j>1&&h>2&&(j>4?(i+="\n".concat(m,"...").concat(w),c=!0):j>3&&(i+="\n  ".concat(f[h-2]),A++),i+="\n  ".concat(f[h-1]),A++),s=h,o+="\n".concat(g,"-").concat(w," ").concat(f[h]),A++;else if(f.length<h+1)j>1&&h>2&&(j>4?(i+="\n".concat(m,"...").concat(w),c=!0):j>3&&(i+="\n  ".concat(l[h-2]),A++),i+="\n  ".concat(l[h-1]),A++),s=h,i+="\n".concat(v,"+").concat(w," ").concat(l[h]),A++;else{var R=f[h],C=l[h],I=C!==R&&(!b(C,",")||C.slice(0,-1)!==R);I&&b(R,",")&&R.slice(0,-1)===C&&(I=!1,C+=","),I?(j>1&&h>2&&(j>4?(i+="\n".concat(m,"...").concat(w),c=!0):j>3&&(i+="\n  ".concat(l[h-2]),A++),i+="\n  ".concat(l[h-1]),A++),s=h,i+="\n".concat(v,"+").concat(w," ").concat(C),o+="\n".concat(g,"-").concat(w," ").concat(R),A+=2):(i+=o,o="",1!==j&&0!==h||(i+="\n  ".concat(C),A++))}if(A>20&&h<T-2)return"".concat(P).concat($,"\n").concat(i,"\n").concat(m,"...").concat(w).concat(o,"\n")+"".concat(m,"...").concat(w)}return"".concat(P).concat(c?$:"","\n").concat(i).concat(o).concat(a).concat(d)}(u,l,i)));else if("notDeepStrictEqual"===i||"notStrictEqual"===i){var d=_[i],E=O(u).split("\n");if("notStrictEqual"===i&&"object"===p(u)&&null!==u&&(d=_.notStrictEqualObject),E.length>30)for(E[26]="".concat(m,"...").concat(w);E.length>27;)E.pop();r=1===E.length?s(this,h(t).call(this,"".concat(d," ").concat(E[0]))):s(this,h(t).call(this,"".concat(d,"\n\n").concat(E.join("\n"),"\n")))}else{var T=O(u),x="",A=_[i];"notDeepEqual"===i||"notEqual"===i?(T="".concat(_[i],"\n\n").concat(T)).length>1024&&(T="".concat(T.slice(0,1021),"...")):(x="".concat(O(l)),T.length>512&&(T="".concat(T.slice(0,509),"...")),x.length>512&&(x="".concat(x.slice(0,509),"...")),"deepEqual"===i||"equal"===i?T="".concat(A,"\n\n").concat(T,"\n\nshould equal\n\n"):x=" ".concat(i," ").concat(x)),r=s(this,h(t).call(this,"".concat(T).concat(x)))}return Error.stackTraceLimit=f,r.generatedMessage=!o,Object.defineProperty(a(r),"name",{value:"AssertionError [ERR_ASSERTION]",enumerable:!1,writable:!0,configurable:!0}),r.code="ERR_ASSERTION",r.actual=u,r.expected=l,r.operator=i,Error.captureStackTrace&&Error.captureStackTrace(a(r),c),r.stack,r.name="AssertionError",s(r)}var r,c;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(t,e),r=t,c=[{key:"toString",value:function(){return"".concat(this.name," [").concat(this.code,"]: ").concat(this.message)}},{key:d.custom,value:function(e,t){return d(this,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){o(e,t,r[t])}))}return e}({},t,{customInspect:!1,depth:0}))}}],c&&i(r.prototype,c),t}(c(Error));e.exports=E},88370:(e,t,r)=>{function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(e){return o=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},o(e)}function i(e,t){return i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},i(e,t)}var s,a,c={};function u(e,t,r){r||(r=Error);var s=function(r){function s(r,i,a){var c;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),c=function(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}(this,o(s).call(this,function(e,r,n){return"string"==typeof t?t:t(e,r,n)}(r,i,a))),c.code=e,c}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(s,r),s}(r);c[e]=s}function l(e,t){if(Array.isArray(e)){var r=e.length;return e=e.map((function(e){return String(e)})),r>2?"one of ".concat(t," ").concat(e.slice(0,r-1).join(", "),", or ")+e[r-1]:2===r?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}return"of ".concat(t," ").concat(String(e))}u("ERR_AMBIGUOUS_ARGUMENT",'The "%s" argument is ambiguous. %s',TypeError),u("ERR_INVALID_ARG_TYPE",(function(e,t,o){var i,a,c,u,f;if(void 0===s&&(s=r(94343)),s("string"==typeof e,"'name' must be a string"),"string"==typeof t&&(a="not ",t.substr(0,a.length)===a)?(i="must not be",t=t.replace(/^not /,"")):i="must be",function(e,t,r){return(void 0===r||r>e.length)&&(r=e.length),e.substring(r-t.length,r)===t}(e," argument"))c="The ".concat(e," ").concat(i," ").concat(l(t,"type"));else{var h=("number"!=typeof f&&(f=0),f+".".length>(u=e).length||-1===u.indexOf(".",f)?"argument":"property");c='The "'.concat(e,'" ').concat(h," ").concat(i," ").concat(l(t,"type"))}return c+". Received type ".concat(n(o))}),TypeError),u("ERR_INVALID_ARG_VALUE",(function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"is invalid";void 0===a&&(a=r(85130));var o=a.inspect(t);return o.length>128&&(o="".concat(o.slice(0,128),"...")),"The argument '".concat(e,"' ").concat(n,". Received ").concat(o)}),TypeError,RangeError),u("ERR_INVALID_RETURN_VALUE",(function(e,t,r){var o;return o=r&&r.constructor&&r.constructor.name?"instance of ".concat(r.constructor.name):"type ".concat(n(r)),"Expected ".concat(e,' to be returned from the "').concat(t,'"')+" function but got ".concat(o,".")}),TypeError),u("ERR_MISSING_ARGS",(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];void 0===s&&(s=r(94343)),s(t.length>0,"At least one arg needs to be specified");var o="The ",i=t.length;switch(t=t.map((function(e){return'"'.concat(e,'"')})),i){case 1:o+="".concat(t[0]," argument");break;case 2:o+="".concat(t[0]," and ").concat(t[1]," arguments");break;default:o+=t.slice(0,i-1).join(", "),o+=", and ".concat(t[i-1]," arguments")}return"".concat(o," must be specified")}),TypeError),e.exports.codes=c},98195:(e,t,r)=>{function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=[],n=!0,o=!1,i=void 0;try{for(var s,a=e[Symbol.iterator]();!(n=(s=a.next()).done)&&(r.push(s.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==a.return||a.return()}finally{if(o)throw i}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}var i=void 0!==/a/g.flags,s=function(e){var t=[];return e.forEach((function(e){return t.push(e)})),t},a=function(e){var t=[];return e.forEach((function(e,r){return t.push([r,e])})),t},c=Object.is?Object.is:r(92369),u=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols:function(){return[]},l=Number.isNaN?Number.isNaN:r(61292);function f(e){return e.call.bind(e)}var h=f(Object.prototype.hasOwnProperty),p=f(Object.prototype.propertyIsEnumerable),d=f(Object.prototype.toString),y=r(85130).types,b=y.isAnyArrayBuffer,m=y.isArrayBufferView,v=y.isDate,g=y.isMap,w=y.isRegExp,_=y.isSet,S=y.isNativeError,O=y.isBoxedPrimitive,E=y.isNumberObject,T=y.isStringObject,x=y.isBooleanObject,A=y.isBigIntObject,P=y.isSymbolObject,$=y.isFloat32Array,j=y.isFloat64Array;function R(e){if(0===e.length||e.length>10)return!0;for(var t=0;t<e.length;t++){var r=e.charCodeAt(t);if(r<48||r>57)return!0}return 10===e.length&&e>=Math.pow(2,32)}function C(e){return Object.keys(e).filter(R).concat(u(e).filter(Object.prototype.propertyIsEnumerable.bind(e)))}function I(e,t){if(e===t)return 0;for(var r=e.length,n=t.length,o=0,i=Math.min(r,n);o<i;++o)if(e[o]!==t[o]){r=e[o],n=t[o];break}return r<n?-1:n<r?1:0}function N(e,t,r,n){if(e===t)return 0!==e||!r||c(e,t);if(r){if("object"!==o(e))return"number"==typeof e&&l(e)&&l(t);if("object"!==o(t)||null===e||null===t)return!1;if(Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1}else{if(null===e||"object"!==o(e))return(null===t||"object"!==o(t))&&e==t;if(null===t||"object"!==o(t))return!1}var s,a,u,f,h=d(e);if(h!==d(t))return!1;if(Array.isArray(e)){if(e.length!==t.length)return!1;var p=C(e),y=C(t);return p.length===y.length&&M(e,t,r,n,1,p)}if("[object Object]"===h&&(!g(e)&&g(t)||!_(e)&&_(t)))return!1;if(v(e)){if(!v(t)||Date.prototype.getTime.call(e)!==Date.prototype.getTime.call(t))return!1}else if(w(e)){if(!w(t)||(u=e,f=t,!(i?u.source===f.source&&u.flags===f.flags:RegExp.prototype.toString.call(u)===RegExp.prototype.toString.call(f))))return!1}else if(S(e)||e instanceof Error){if(e.message!==t.message||e.name!==t.name)return!1}else{if(m(e)){if(r||!$(e)&&!j(e)){if(!function(e,t){return e.byteLength===t.byteLength&&0===I(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),new Uint8Array(t.buffer,t.byteOffset,t.byteLength))}(e,t))return!1}else if(!function(e,t){if(e.byteLength!==t.byteLength)return!1;for(var r=0;r<e.byteLength;r++)if(e[r]!==t[r])return!1;return!0}(e,t))return!1;var R=C(e),N=C(t);return R.length===N.length&&M(e,t,r,n,0,R)}if(_(e))return!(!_(t)||e.size!==t.size)&&M(e,t,r,n,2);if(g(e))return!(!g(t)||e.size!==t.size)&&M(e,t,r,n,3);if(b(e)){if(a=t,(s=e).byteLength!==a.byteLength||0!==I(new Uint8Array(s),new Uint8Array(a)))return!1}else if(O(e)&&!function(e,t){return E(e)?E(t)&&c(Number.prototype.valueOf.call(e),Number.prototype.valueOf.call(t)):T(e)?T(t)&&String.prototype.valueOf.call(e)===String.prototype.valueOf.call(t):x(e)?x(t)&&Boolean.prototype.valueOf.call(e)===Boolean.prototype.valueOf.call(t):A(e)?A(t)&&BigInt.prototype.valueOf.call(e)===BigInt.prototype.valueOf.call(t):P(t)&&Symbol.prototype.valueOf.call(e)===Symbol.prototype.valueOf.call(t)}(e,t))return!1}return M(e,t,r,n,0)}function k(e,t){return t.filter((function(t){return p(e,t)}))}function M(e,t,r,n,o,i){if(5===arguments.length){i=Object.keys(e);var s=Object.keys(t);if(i.length!==s.length)return!1}for(var a=0;a<i.length;a++)if(!h(t,i[a]))return!1;if(r&&5===arguments.length){var c=u(e);if(0!==c.length){var l=0;for(a=0;a<c.length;a++){var f=c[a];if(p(e,f)){if(!p(t,f))return!1;i.push(f),l++}else if(p(t,f))return!1}var d=u(t);if(c.length!==d.length&&k(t,d).length!==l)return!1}else{var y=u(t);if(0!==y.length&&0!==k(t,y).length)return!1}}if(0===i.length&&(0===o||1===o&&0===e.length||0===e.size))return!0;if(void 0===n)n={val1:new Map,val2:new Map,position:0};else{var b=n.val1.get(e);if(void 0!==b){var m=n.val2.get(t);if(void 0!==m)return b===m}n.position++}n.val1.set(e,n.position),n.val2.set(t,n.position);var v=q(e,t,r,i,n,o);return n.val1.delete(e),n.val2.delete(t),v}function F(e,t,r,n){for(var o=s(e),i=0;i<o.length;i++){var a=o[i];if(N(t,a,r,n))return e.delete(a),!0}return!1}function L(e){switch(o(e)){case"undefined":return null;case"object":return;case"symbol":return!1;case"string":e=+e;case"number":if(l(e))return!1}return!0}function D(e,t,r){var n=L(r);return null!=n?n:t.has(n)&&!e.has(n)}function U(e,t,r,n,o){var i=L(r);if(null!=i)return i;var s=t.get(i);return!(void 0===s&&!t.has(i)||!N(n,s,!1,o))&&!e.has(i)&&N(n,s,!1,o)}function B(e,t,r,n,o,i){for(var a=s(e),c=0;c<a.length;c++){var u=a[c];if(N(r,u,o,i)&&N(n,t.get(u),o,i))return e.delete(u),!0}return!1}function q(e,t,r,i,c,u){var l=0;if(2===u){if(!function(e,t,r,n){for(var i=null,a=s(e),c=0;c<a.length;c++){var u=a[c];if("object"===o(u)&&null!==u)null===i&&(i=new Set),i.add(u);else if(!t.has(u)){if(r)return!1;if(!D(e,t,u))return!1;null===i&&(i=new Set),i.add(u)}}if(null!==i){for(var l=s(t),f=0;f<l.length;f++){var h=l[f];if("object"===o(h)&&null!==h){if(!F(i,h,r,n))return!1}else if(!r&&!e.has(h)&&!F(i,h,r,n))return!1}return 0===i.size}return!0}(e,t,r,c))return!1}else if(3===u){if(!function(e,t,r,i){for(var s=null,c=a(e),u=0;u<c.length;u++){var l=n(c[u],2),f=l[0],h=l[1];if("object"===o(f)&&null!==f)null===s&&(s=new Set),s.add(f);else{var p=t.get(f);if(void 0===p&&!t.has(f)||!N(h,p,r,i)){if(r)return!1;if(!U(e,t,f,h,i))return!1;null===s&&(s=new Set),s.add(f)}}}if(null!==s){for(var d=a(t),y=0;y<d.length;y++){var b=n(d[y],2),m=(f=b[0],b[1]);if("object"===o(f)&&null!==f){if(!B(s,e,f,m,r,i))return!1}else if(!(r||e.has(f)&&N(e.get(f),m,!1,i)||B(s,e,f,m,!1,i)))return!1}return 0===s.size}return!0}(e,t,r,c))return!1}else if(1===u)for(;l<e.length;l++){if(!h(e,l)){if(h(t,l))return!1;for(var f=Object.keys(e);l<f.length;l++){var p=f[l];if(!h(t,p)||!N(e[p],t[p],r,c))return!1}return f.length===Object.keys(t).length}if(!h(t,l)||!N(e[l],t[l],r,c))return!1}for(l=0;l<i.length;l++){var d=i[l];if(!N(e[d],t[d],r,c))return!1}return!0}e.exports={isDeepEqual:function(e,t){return N(e,t,!1)},isDeepStrictEqual:function(e,t){return N(e,t,!0)}}},16666:(e,t)=>{t.byteLength=function(e){var t=c(e),r=t[0],n=t[1];return 3*(r+n)/4-n},t.toByteArray=function(e){var t,r,i=c(e),s=i[0],a=i[1],u=new o(function(e,t,r){return 3*(t+r)/4-r}(0,s,a)),l=0,f=a>0?s-4:s;for(r=0;r<f;r+=4)t=n[e.charCodeAt(r)]<<18|n[e.charCodeAt(r+1)]<<12|n[e.charCodeAt(r+2)]<<6|n[e.charCodeAt(r+3)],u[l++]=t>>16&255,u[l++]=t>>8&255,u[l++]=255&t;return 2===a&&(t=n[e.charCodeAt(r)]<<2|n[e.charCodeAt(r+1)]>>4,u[l++]=255&t),1===a&&(t=n[e.charCodeAt(r)]<<10|n[e.charCodeAt(r+1)]<<4|n[e.charCodeAt(r+2)]>>2,u[l++]=t>>8&255,u[l++]=255&t),u},t.fromByteArray=function(e){for(var t,n=e.length,o=n%3,i=[],s=16383,a=0,c=n-o;a<c;a+=s)i.push(u(e,a,a+s>c?c:a+s));return 1===o?(t=e[n-1],i.push(r[t>>2]+r[t<<4&63]+"==")):2===o&&(t=(e[n-2]<<8)+e[n-1],i.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"=")),i.join("")};for(var r=[],n=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,a=i.length;s<a;++s)r[s]=i[s],n[i.charCodeAt(s)]=s;function c(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function u(e,t,n){for(var o,i,s=[],a=t;a<n;a+=3)o=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]),s.push(r[(i=o)>>18&63]+r[i>>12&63]+r[i>>6&63]+r[63&i]);return s.join("")}n["-".charCodeAt(0)]=62,n["_".charCodeAt(0)]=63},97866:(e,t,r)=>{var n=r(40585);const o=r(16666),i=r(59258),s="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=u,t.SlowBuffer=function(e){return+e!=e&&(e=0),u.alloc(+e)},t.INSPECT_MAX_BYTES=50;const a=2147483647;function c(e){if(e>a)throw new RangeError('The value "'+e+'" is invalid for option "size"');const t=new Uint8Array(e);return Object.setPrototypeOf(t,u.prototype),t}function u(e,t,r){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return h(e)}return l(e,t,r)}function l(e,t,r){if("string"==typeof e)return function(e,t){if("string"==typeof t&&""!==t||(t="utf8"),!u.isEncoding(t))throw new TypeError("Unknown encoding: "+t);const r=0|b(e,t);let n=c(r);const o=n.write(e,t);return o!==r&&(n=n.slice(0,o)),n}(e,t);if(ArrayBuffer.isView(e))return function(e){if(K(e,Uint8Array)){const t=new Uint8Array(e);return d(t.buffer,t.byteOffset,t.byteLength)}return p(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(K(e,ArrayBuffer)||e&&K(e.buffer,ArrayBuffer))return d(e,t,r);if("undefined"!=typeof SharedArrayBuffer&&(K(e,SharedArrayBuffer)||e&&K(e.buffer,SharedArrayBuffer)))return d(e,t,r);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');const n=e.valueOf&&e.valueOf();if(null!=n&&n!==e)return u.from(n,t,r);const o=function(e){if(u.isBuffer(e)){const t=0|y(e.length),r=c(t);return 0===r.length||e.copy(r,0,0,t),r}return void 0!==e.length?"number"!=typeof e.length||X(e.length)?c(0):p(e):"Buffer"===e.type&&Array.isArray(e.data)?p(e.data):void 0}(e);if(o)return o;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return u.from(e[Symbol.toPrimitive]("string"),t,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function f(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function h(e){return f(e),c(e<0?0:0|y(e))}function p(e){const t=e.length<0?0:0|y(e.length),r=c(t);for(let n=0;n<t;n+=1)r[n]=255&e[n];return r}function d(e,t,r){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw new RangeError('"length" is outside of buffer bounds');let n;return n=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),Object.setPrototypeOf(n,u.prototype),n}function y(e){if(e>=a)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a.toString(16)+" bytes");return 0|e}function b(e,t){if(u.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||K(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);const r=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;let o=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return G(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return Y(e).length;default:if(o)return n?-1:G(e).length;t=(""+t).toLowerCase(),o=!0}}function m(e,t,r){let n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return R(this,t,r);case"utf8":case"utf-8":return A(this,t,r);case"ascii":return $(this,t,r);case"latin1":case"binary":return j(this,t,r);case"base64":return x(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function v(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function g(e,t,r,n,o){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),X(r=+r)&&(r=o?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(o)return-1;r=e.length-1}else if(r<0){if(!o)return-1;r=0}if("string"==typeof t&&(t=u.from(t,n)),u.isBuffer(t))return 0===t.length?-1:w(e,t,r,n,o);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):w(e,[t],r,n,o);throw new TypeError("val must be string, number or Buffer")}function w(e,t,r,n,o){let i,s=1,a=e.length,c=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;s=2,a/=2,c/=2,r/=2}function u(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(o){let n=-1;for(i=r;i<a;i++)if(u(e,i)===u(t,-1===n?0:i-n)){if(-1===n&&(n=i),i-n+1===c)return n*s}else-1!==n&&(i-=i-n),n=-1}else for(r+c>a&&(r=a-c),i=r;i>=0;i--){let r=!0;for(let n=0;n<c;n++)if(u(e,i+n)!==u(t,n)){r=!1;break}if(r)return i}return-1}function _(e,t,r,n){r=Number(r)||0;const o=e.length-r;n?(n=Number(n))>o&&(n=o):n=o;const i=t.length;let s;for(n>i/2&&(n=i/2),s=0;s<n;++s){const n=parseInt(t.substr(2*s,2),16);if(X(n))return s;e[r+s]=n}return s}function S(e,t,r,n){return J(G(t,e.length-r),e,r,n)}function O(e,t,r,n){return J(function(e){const t=[];for(let r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function E(e,t,r,n){return J(Y(t),e,r,n)}function T(e,t,r,n){return J(function(e,t){let r,n,o;const i=[];for(let s=0;s<e.length&&!((t-=2)<0);++s)r=e.charCodeAt(s),n=r>>8,o=r%256,i.push(o),i.push(n);return i}(t,e.length-r),e,r,n)}function x(e,t,r){return 0===t&&r===e.length?o.fromByteArray(e):o.fromByteArray(e.slice(t,r))}function A(e,t,r){r=Math.min(e.length,r);const n=[];let o=t;for(;o<r;){const t=e[o];let i=null,s=t>239?4:t>223?3:t>191?2:1;if(o+s<=r){let r,n,a,c;switch(s){case 1:t<128&&(i=t);break;case 2:r=e[o+1],128==(192&r)&&(c=(31&t)<<6|63&r,c>127&&(i=c));break;case 3:r=e[o+1],n=e[o+2],128==(192&r)&&128==(192&n)&&(c=(15&t)<<12|(63&r)<<6|63&n,c>2047&&(c<55296||c>57343)&&(i=c));break;case 4:r=e[o+1],n=e[o+2],a=e[o+3],128==(192&r)&&128==(192&n)&&128==(192&a)&&(c=(15&t)<<18|(63&r)<<12|(63&n)<<6|63&a,c>65535&&c<1114112&&(i=c))}}null===i?(i=65533,s=1):i>65535&&(i-=65536,n.push(i>>>10&1023|55296),i=56320|1023&i),n.push(i),o+=s}return function(e){const t=e.length;if(t<=P)return String.fromCharCode.apply(String,e);let r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=P));return r}(n)}t.kMaxLength=a,u.TYPED_ARRAY_SUPPORT=function(){try{const e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),u.TYPED_ARRAY_SUPPORT||void 0===n||"function"!=typeof n.error||n.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.byteOffset}}),u.poolSize=8192,u.from=function(e,t,r){return l(e,t,r)},Object.setPrototypeOf(u.prototype,Uint8Array.prototype),Object.setPrototypeOf(u,Uint8Array),u.alloc=function(e,t,r){return function(e,t,r){return f(e),e<=0?c(e):void 0!==t?"string"==typeof r?c(e).fill(t,r):c(e).fill(t):c(e)}(e,t,r)},u.allocUnsafe=function(e){return h(e)},u.allocUnsafeSlow=function(e){return h(e)},u.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==u.prototype},u.compare=function(e,t){if(K(e,Uint8Array)&&(e=u.from(e,e.offset,e.byteLength)),K(t,Uint8Array)&&(t=u.from(t,t.offset,t.byteLength)),!u.isBuffer(e)||!u.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let r=e.length,n=t.length;for(let o=0,i=Math.min(r,n);o<i;++o)if(e[o]!==t[o]){r=e[o],n=t[o];break}return r<n?-1:n<r?1:0},u.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return u.alloc(0);let r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;const n=u.allocUnsafe(t);let o=0;for(r=0;r<e.length;++r){let t=e[r];if(K(t,Uint8Array))o+t.length>n.length?(u.isBuffer(t)||(t=u.from(t)),t.copy(n,o)):Uint8Array.prototype.set.call(n,t,o);else{if(!u.isBuffer(t))throw new TypeError('"list" argument must be an Array of Buffers');t.copy(n,o)}o+=t.length}return n},u.byteLength=b,u.prototype._isBuffer=!0,u.prototype.swap16=function(){const e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)v(this,t,t+1);return this},u.prototype.swap32=function(){const e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)v(this,t,t+3),v(this,t+1,t+2);return this},u.prototype.swap64=function(){const e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)v(this,t,t+7),v(this,t+1,t+6),v(this,t+2,t+5),v(this,t+3,t+4);return this},u.prototype.toString=function(){const e=this.length;return 0===e?"":0===arguments.length?A(this,0,e):m.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(e){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===u.compare(this,e)},u.prototype.inspect=function(){let e="";const r=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"},s&&(u.prototype[s]=u.prototype.inspect),u.prototype.compare=function(e,t,r,n,o){if(K(e,Uint8Array)&&(e=u.from(e,e.offset,e.byteLength)),!u.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===o&&(o=this.length),t<0||r>e.length||n<0||o>this.length)throw new RangeError("out of range index");if(n>=o&&t>=r)return 0;if(n>=o)return-1;if(t>=r)return 1;if(this===e)return 0;let i=(o>>>=0)-(n>>>=0),s=(r>>>=0)-(t>>>=0);const a=Math.min(i,s),c=this.slice(n,o),l=e.slice(t,r);for(let e=0;e<a;++e)if(c[e]!==l[e]){i=c[e],s=l[e];break}return i<s?-1:s<i?1:0},u.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},u.prototype.indexOf=function(e,t,r){return g(this,e,t,r,!0)},u.prototype.lastIndexOf=function(e,t,r){return g(this,e,t,r,!1)},u.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}const o=this.length-t;if((void 0===r||r>o)&&(r=o),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");let i=!1;for(;;)switch(n){case"hex":return _(this,e,t,r);case"utf8":case"utf-8":return S(this,e,t,r);case"ascii":case"latin1":case"binary":return O(this,e,t,r);case"base64":return E(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,e,t,r);default:if(i)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),i=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const P=4096;function $(e,t,r){let n="";r=Math.min(e.length,r);for(let o=t;o<r;++o)n+=String.fromCharCode(127&e[o]);return n}function j(e,t,r){let n="";r=Math.min(e.length,r);for(let o=t;o<r;++o)n+=String.fromCharCode(e[o]);return n}function R(e,t,r){const n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);let o="";for(let n=t;n<r;++n)o+=Q[e[n]];return o}function C(e,t,r){const n=e.slice(t,r);let o="";for(let e=0;e<n.length-1;e+=2)o+=String.fromCharCode(n[e]+256*n[e+1]);return o}function I(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function N(e,t,r,n,o,i){if(!u.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>o||t<i)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function k(e,t,r,n,o){V(t,n,o,e,r,7);let i=Number(t&BigInt(4294967295));e[r++]=i,i>>=8,e[r++]=i,i>>=8,e[r++]=i,i>>=8,e[r++]=i;let s=Number(t>>BigInt(32)&BigInt(4294967295));return e[r++]=s,s>>=8,e[r++]=s,s>>=8,e[r++]=s,s>>=8,e[r++]=s,r}function M(e,t,r,n,o){V(t,n,o,e,r,7);let i=Number(t&BigInt(4294967295));e[r+7]=i,i>>=8,e[r+6]=i,i>>=8,e[r+5]=i,i>>=8,e[r+4]=i;let s=Number(t>>BigInt(32)&BigInt(4294967295));return e[r+3]=s,s>>=8,e[r+2]=s,s>>=8,e[r+1]=s,s>>=8,e[r]=s,r+8}function F(e,t,r,n,o,i){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function L(e,t,r,n,o){return t=+t,r>>>=0,o||F(e,0,r,4),i.write(e,t,r,n,23,4),r+4}function D(e,t,r,n,o){return t=+t,r>>>=0,o||F(e,0,r,8),i.write(e,t,r,n,52,8),r+8}u.prototype.slice=function(e,t){const r=this.length;(e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);const n=this.subarray(e,t);return Object.setPrototypeOf(n,u.prototype),n},u.prototype.readUintLE=u.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||I(e,t,this.length);let n=this[e],o=1,i=0;for(;++i<t&&(o*=256);)n+=this[e+i]*o;return n},u.prototype.readUintBE=u.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||I(e,t,this.length);let n=this[e+--t],o=1;for(;t>0&&(o*=256);)n+=this[e+--t]*o;return n},u.prototype.readUint8=u.prototype.readUInt8=function(e,t){return e>>>=0,t||I(e,1,this.length),this[e]},u.prototype.readUint16LE=u.prototype.readUInt16LE=function(e,t){return e>>>=0,t||I(e,2,this.length),this[e]|this[e+1]<<8},u.prototype.readUint16BE=u.prototype.readUInt16BE=function(e,t){return e>>>=0,t||I(e,2,this.length),this[e]<<8|this[e+1]},u.prototype.readUint32LE=u.prototype.readUInt32LE=function(e,t){return e>>>=0,t||I(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},u.prototype.readUint32BE=u.prototype.readUInt32BE=function(e,t){return e>>>=0,t||I(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},u.prototype.readBigUInt64LE=Z((function(e){W(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||z(e,this.length-8);const n=t+256*this[++e]+65536*this[++e]+this[++e]*2**24,o=this[++e]+256*this[++e]+65536*this[++e]+r*2**24;return BigInt(n)+(BigInt(o)<<BigInt(32))})),u.prototype.readBigUInt64BE=Z((function(e){W(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||z(e,this.length-8);const n=t*2**24+65536*this[++e]+256*this[++e]+this[++e],o=this[++e]*2**24+65536*this[++e]+256*this[++e]+r;return(BigInt(n)<<BigInt(32))+BigInt(o)})),u.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||I(e,t,this.length);let n=this[e],o=1,i=0;for(;++i<t&&(o*=256);)n+=this[e+i]*o;return o*=128,n>=o&&(n-=Math.pow(2,8*t)),n},u.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||I(e,t,this.length);let n=t,o=1,i=this[e+--n];for(;n>0&&(o*=256);)i+=this[e+--n]*o;return o*=128,i>=o&&(i-=Math.pow(2,8*t)),i},u.prototype.readInt8=function(e,t){return e>>>=0,t||I(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},u.prototype.readInt16LE=function(e,t){e>>>=0,t||I(e,2,this.length);const r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt16BE=function(e,t){e>>>=0,t||I(e,2,this.length);const r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt32LE=function(e,t){return e>>>=0,t||I(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},u.prototype.readInt32BE=function(e,t){return e>>>=0,t||I(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},u.prototype.readBigInt64LE=Z((function(e){W(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||z(e,this.length-8);const n=this[e+4]+256*this[e+5]+65536*this[e+6]+(r<<24);return(BigInt(n)<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+this[++e]*2**24)})),u.prototype.readBigInt64BE=Z((function(e){W(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||z(e,this.length-8);const n=(t<<24)+65536*this[++e]+256*this[++e]+this[++e];return(BigInt(n)<<BigInt(32))+BigInt(this[++e]*2**24+65536*this[++e]+256*this[++e]+r)})),u.prototype.readFloatLE=function(e,t){return e>>>=0,t||I(e,4,this.length),i.read(this,e,!0,23,4)},u.prototype.readFloatBE=function(e,t){return e>>>=0,t||I(e,4,this.length),i.read(this,e,!1,23,4)},u.prototype.readDoubleLE=function(e,t){return e>>>=0,t||I(e,8,this.length),i.read(this,e,!0,52,8)},u.prototype.readDoubleBE=function(e,t){return e>>>=0,t||I(e,8,this.length),i.read(this,e,!1,52,8)},u.prototype.writeUintLE=u.prototype.writeUIntLE=function(e,t,r,n){e=+e,t>>>=0,r>>>=0,n||N(this,e,t,r,Math.pow(2,8*r)-1,0);let o=1,i=0;for(this[t]=255&e;++i<r&&(o*=256);)this[t+i]=e/o&255;return t+r},u.prototype.writeUintBE=u.prototype.writeUIntBE=function(e,t,r,n){e=+e,t>>>=0,r>>>=0,n||N(this,e,t,r,Math.pow(2,8*r)-1,0);let o=r-1,i=1;for(this[t+o]=255&e;--o>=0&&(i*=256);)this[t+o]=e/i&255;return t+r},u.prototype.writeUint8=u.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||N(this,e,t,1,255,0),this[t]=255&e,t+1},u.prototype.writeUint16LE=u.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||N(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},u.prototype.writeUint16BE=u.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||N(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},u.prototype.writeUint32LE=u.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||N(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},u.prototype.writeUint32BE=u.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||N(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},u.prototype.writeBigUInt64LE=Z((function(e,t=0){return k(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),u.prototype.writeBigUInt64BE=Z((function(e,t=0){return M(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),u.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t>>>=0,!n){const n=Math.pow(2,8*r-1);N(this,e,t,r,n-1,-n)}let o=0,i=1,s=0;for(this[t]=255&e;++o<r&&(i*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/i>>0)-s&255;return t+r},u.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t>>>=0,!n){const n=Math.pow(2,8*r-1);N(this,e,t,r,n-1,-n)}let o=r-1,i=1,s=0;for(this[t+o]=255&e;--o>=0&&(i*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/i>>0)-s&255;return t+r},u.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||N(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},u.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||N(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},u.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||N(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},u.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||N(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},u.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||N(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},u.prototype.writeBigInt64LE=Z((function(e,t=0){return k(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),u.prototype.writeBigInt64BE=Z((function(e,t=0){return M(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),u.prototype.writeFloatLE=function(e,t,r){return L(this,e,t,!0,r)},u.prototype.writeFloatBE=function(e,t,r){return L(this,e,t,!1,r)},u.prototype.writeDoubleLE=function(e,t,r){return D(this,e,t,!0,r)},u.prototype.writeDoubleBE=function(e,t,r){return D(this,e,t,!1,r)},u.prototype.copy=function(e,t,r,n){if(!u.isBuffer(e))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);const o=n-r;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,r,n):Uint8Array.prototype.set.call(e,this.subarray(r,n),t),o},u.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!u.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===e.length){const t=e.charCodeAt(0);("utf8"===n&&t<128||"latin1"===n)&&(e=t)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;let o;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(o=t;o<r;++o)this[o]=e;else{const i=u.isBuffer(e)?e:u.from(e,n),s=i.length;if(0===s)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<r-t;++o)this[o+t]=i[o%s]}return this};const U={};function B(e,t,r){U[e]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function q(e){let t="",r=e.length;const n="-"===e[0]?1:0;for(;r>=n+4;r-=3)t=`_${e.slice(r-3,r)}${t}`;return`${e.slice(0,r)}${t}`}function V(e,t,r,n,o,i){if(e>r||e<t){const n="bigint"==typeof t?"n":"";let o;throw o=i>3?0===t||t===BigInt(0)?`>= 0${n} and < 2${n} ** ${8*(i+1)}${n}`:`>= -(2${n} ** ${8*(i+1)-1}${n}) and < 2 ** ${8*(i+1)-1}${n}`:`>= ${t}${n} and <= ${r}${n}`,new U.ERR_OUT_OF_RANGE("value",o,e)}!function(e,t,r){W(t,"offset"),void 0!==e[t]&&void 0!==e[t+r]||z(t,e.length-(r+1))}(n,o,i)}function W(e,t){if("number"!=typeof e)throw new U.ERR_INVALID_ARG_TYPE(t,"number",e)}function z(e,t,r){if(Math.floor(e)!==e)throw W(e,r),new U.ERR_OUT_OF_RANGE(r||"offset","an integer",e);if(t<0)throw new U.ERR_BUFFER_OUT_OF_BOUNDS;throw new U.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${t}`,e)}B("ERR_BUFFER_OUT_OF_BOUNDS",(function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),B("ERR_INVALID_ARG_TYPE",(function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`}),TypeError),B("ERR_OUT_OF_RANGE",(function(e,t,r){let n=`The value of "${e}" is out of range.`,o=r;return Number.isInteger(r)&&Math.abs(r)>2**32?o=q(String(r)):"bigint"==typeof r&&(o=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(o=q(o)),o+="n"),n+=` It must be ${t}. Received ${o}`,n}),RangeError);const H=/[^+/0-9A-Za-z-_]/g;function G(e,t){let r;t=t||1/0;const n=e.length;let o=null;const i=[];for(let s=0;s<n;++s){if(r=e.charCodeAt(s),r>55295&&r<57344){if(!o){if(r>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(s+1===n){(t-=3)>-1&&i.push(239,191,189);continue}o=r;continue}if(r<56320){(t-=3)>-1&&i.push(239,191,189),o=r;continue}r=65536+(o-55296<<10|r-56320)}else o&&(t-=3)>-1&&i.push(239,191,189);if(o=null,r<128){if((t-=1)<0)break;i.push(r)}else if(r<2048){if((t-=2)<0)break;i.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;i.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return i}function Y(e){return o.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(H,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function J(e,t,r,n){let o;for(o=0;o<n&&!(o+r>=t.length||o>=e.length);++o)t[o+r]=e[o];return o}function K(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function X(e){return e!=e}const Q=function(){const e="0123456789abcdef",t=new Array(256);for(let r=0;r<16;++r){const n=16*r;for(let o=0;o<16;++o)t[n+o]=e[r]+e[o]}return t}();function Z(e){return"undefined"==typeof BigInt?ee:e}function ee(){throw new Error("BigInt not supported")}},19372:e=>{e.exports={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}},86018:(e,t,r)=>{var n=r(43681),o=r(37694),i=o(n("String.prototype.indexOf"));e.exports=function(e,t){var r=n(e,!!t);return"function"==typeof r&&i(e,".prototype.")>-1?o(r):r}},37694:(e,t,r)=>{var n=r(25654),o=r(43681),i=o("%Function.prototype.apply%"),s=o("%Function.prototype.call%"),a=o("%Reflect.apply%",!0)||n.call(s,i),c=o("%Object.getOwnPropertyDescriptor%",!0),u=o("%Object.defineProperty%",!0),l=o("%Math.max%");if(u)try{u({},"a",{value:1})}catch(e){u=null}e.exports=function(e){var t=a(n,s,arguments);if(c&&u){var r=c(t,"length");r.configurable&&u(t,"length",{value:1+l(0,e.length-(arguments.length-1))})}return t};var f=function(){return a(n,i,arguments)};u?u(e.exports,"apply",{value:f}):e.exports.apply=f},40585:(e,t,r)=>{var n=r(85130),o=r(94343);function i(){return(new Date).getTime()}var s,a=Array.prototype.slice,c={};s=void 0!==r.g&&r.g.console?r.g.console:"undefined"!=typeof window&&window.console?window.console:{};for(var u=[[function(){},"log"],[function(){s.log.apply(s,arguments)},"info"],[function(){s.log.apply(s,arguments)},"warn"],[function(){s.warn.apply(s,arguments)},"error"],[function(e){c[e]=i()},"time"],[function(e){var t=c[e];if(!t)throw new Error("No such label: "+e);delete c[e];var r=i()-t;s.log(e+": "+r+"ms")},"timeEnd"],[function(){var e=new Error;e.name="Trace",e.message=n.format.apply(null,arguments),s.error(e.stack)},"trace"],[function(e){s.log(n.inspect(e)+"\n")},"dir"],[function(e){if(!e){var t=a.call(arguments,1);o.ok(!1,n.format.apply(null,t))}},"assert"]],l=0;l<u.length;l++){var f=u[l],h=f[0],p=f[1];s[p]||(s[p]=h)}e.exports=s},96116:(e,t,r)=>{var n=r(89328),o="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),i=Object.prototype.toString,s=Array.prototype.concat,a=Object.defineProperty,c=r(61e3)(),u=a&&c,l=function(e,t,r,n){var o;(!(t in e)||"function"==typeof(o=n)&&"[object Function]"===i.call(o)&&n())&&(u?a(e,t,{configurable:!0,enumerable:!1,value:r,writable:!0}):e[t]=r)},f=function(e,t){var r=arguments.length>2?arguments[2]:{},i=n(t);o&&(i=s.call(i,Object.getOwnPropertySymbols(t)));for(var a=0;a<i.length;a+=1)l(e,i[a],t[i[a]],r[i[a]])};f.supportsDescriptors=!!u,e.exports=f},64401:e=>{function t(e,t){if(null==e)throw new TypeError("Cannot convert first argument to object");for(var r=Object(e),n=1;n<arguments.length;n++){var o=arguments[n];if(null!=o)for(var i=Object.keys(Object(o)),s=0,a=i.length;s<a;s++){var c=i[s],u=Object.getOwnPropertyDescriptor(o,c);void 0!==u&&u.enumerable&&(r[c]=o[c])}}return r}e.exports={assign:t,polyfill:function(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:t})}}},33346:(e,t,r)=>{var n,o=r(40585),i="object"==typeof Reflect?Reflect:null,s=i&&"function"==typeof i.apply?i.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)};n=i&&"function"==typeof i.ownKeys?i.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var a=Number.isNaN||function(e){return e!=e};function c(){c.init.call(this)}e.exports=c,e.exports.once=function(e,t){return new Promise((function(r,n){function o(r){e.removeListener(t,i),n(r)}function i(){"function"==typeof e.removeListener&&e.removeListener("error",o),r([].slice.call(arguments))}v(e,t,i,{once:!0}),"error"!==t&&function(e,t,r){"function"==typeof e.on&&v(e,"error",t,{once:!0})}(e,o)}))},c.EventEmitter=c,c.prototype._events=void 0,c.prototype._eventsCount=0,c.prototype._maxListeners=void 0;var u=10;function l(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function f(e){return void 0===e._maxListeners?c.defaultMaxListeners:e._maxListeners}function h(e,t,r,n){var i,s,a,c;if(l(r),void 0===(s=e._events)?(s=e._events=Object.create(null),e._eventsCount=0):(void 0!==s.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),s=e._events),a=s[t]),void 0===a)a=s[t]=r,++e._eventsCount;else if("function"==typeof a?a=s[t]=n?[r,a]:[a,r]:n?a.unshift(r):a.push(r),(i=f(e))>0&&a.length>i&&!a.warned){a.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=e,u.type=t,u.count=a.length,c=u,o&&o.warn&&o.warn(c)}return e}function p(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},o=p.bind(n);return o.listener=r,n.wrapFn=o,o}function y(e,t,r){var n=e._events;if(void 0===n)return[];var o=n[t];return void 0===o?[]:"function"==typeof o?r?[o.listener||o]:[o]:r?function(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}(o):m(o,o.length)}function b(e){var t=this._events;if(void 0!==t){var r=t[e];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function m(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}function v(e,t,r,n){if("function"==typeof e.on)n.once?e.once(t,r):e.on(t,r);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function o(i){n.once&&e.removeEventListener(t,o),r(i)}))}}Object.defineProperty(c,"defaultMaxListeners",{enumerable:!0,get:function(){return u},set:function(e){if("number"!=typeof e||e<0||a(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");u=e}}),c.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},c.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||a(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},c.prototype.getMaxListeners=function(){return f(this)},c.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var n="error"===e,o=this._events;if(void 0!==o)n=n&&void 0===o.error;else if(!n)return!1;if(n){var i;if(t.length>0&&(i=t[0]),i instanceof Error)throw i;var a=new Error("Unhandled error."+(i?" ("+i.message+")":""));throw a.context=i,a}var c=o[e];if(void 0===c)return!1;if("function"==typeof c)s(c,this,t);else{var u=c.length,l=m(c,u);for(r=0;r<u;++r)s(l[r],this,t)}return!0},c.prototype.addListener=function(e,t){return h(this,e,t,!1)},c.prototype.on=c.prototype.addListener,c.prototype.prependListener=function(e,t){return h(this,e,t,!0)},c.prototype.once=function(e,t){return l(t),this.on(e,d(this,e,t)),this},c.prototype.prependOnceListener=function(e,t){return l(t),this.prependListener(e,d(this,e,t)),this},c.prototype.removeListener=function(e,t){var r,n,o,i,s;if(l(t),void 0===(n=this._events))return this;if(void 0===(r=n[e]))return this;if(r===t||r.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!=typeof r){for(o=-1,i=r.length-1;i>=0;i--)if(r[i]===t||r[i].listener===t){s=r[i].listener,o=i;break}if(o<0)return this;0===o?r.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(r,o),1===r.length&&(n[e]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",e,s||t)}return this},c.prototype.off=c.prototype.removeListener,c.prototype.removeAllListeners=function(e){var t,r,n;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[e]),this;if(0===arguments.length){var o,i=Object.keys(r);for(n=0;n<i.length;++n)"removeListener"!==(o=i[n])&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=r[e]))this.removeListener(e,t);else if(void 0!==t)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this},c.prototype.listeners=function(e){return y(this,e,!0)},c.prototype.rawListeners=function(e){return y(this,e,!1)},c.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):b.call(e,t)},c.prototype.listenerCount=b,c.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]}},89162:e=>{e.exports=function e(t,r){if(t===r)return!0;if(t&&r&&"object"==typeof t&&"object"==typeof r){if(t.constructor!==r.constructor)return!1;var n,o,i;if(Array.isArray(t)){if((n=t.length)!=r.length)return!1;for(o=n;0!=o--;)if(!e(t[o],r[o]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if((n=(i=Object.keys(t)).length)!==Object.keys(r).length)return!1;for(o=n;0!=o--;)if(!Object.prototype.hasOwnProperty.call(r,i[o]))return!1;for(o=n;0!=o--;){var s=i[o];if(!e(t[s],r[s]))return!1}return!0}return t!=t&&r!=r}},79068:(e,t,r)=>{var n=r(48484),o=Object.prototype.toString,i=Object.prototype.hasOwnProperty,s=function(e,t,r){for(var n=0,o=e.length;n<o;n++)i.call(e,n)&&(null==r?t(e[n],n,e):t.call(r,e[n],n,e))},a=function(e,t,r){for(var n=0,o=e.length;n<o;n++)null==r?t(e.charAt(n),n,e):t.call(r,e.charAt(n),n,e)},c=function(e,t,r){for(var n in e)i.call(e,n)&&(null==r?t(e[n],n,e):t.call(r,e[n],n,e))};e.exports=function(e,t,r){if(!n(t))throw new TypeError("iterator must be a function");var i;arguments.length>=3&&(i=r),"[object Array]"===o.call(e)?s(e,t,i):"string"==typeof e?a(e,t,i):c(e,t,i)}},60225:e=>{var t="Function.prototype.bind called on incompatible ",r=Array.prototype.slice,n=Object.prototype.toString,o="[object Function]";e.exports=function(e){var i=this;if("function"!=typeof i||n.call(i)!==o)throw new TypeError(t+i);for(var s,a=r.call(arguments,1),c=function(){if(this instanceof s){var t=i.apply(this,a.concat(r.call(arguments)));return Object(t)===t?t:this}return i.apply(e,a.concat(r.call(arguments)))},u=Math.max(0,i.length-a.length),l=[],f=0;f<u;f++)l.push("$"+f);if(s=Function("binder","return function ("+l.join(",")+"){ return binder.apply(this,arguments); }")(c),i.prototype){var h=function(){};h.prototype=i.prototype,s.prototype=new h,h.prototype=null}return s}},25654:(e,t,r)=>{var n=r(60225);e.exports=Function.prototype.bind||n},43681:(e,t,r)=>{var n,o=SyntaxError,i=Function,s=TypeError,a=function(e){try{return i('"use strict"; return ('+e+").constructor;")()}catch(e){}},c=Object.getOwnPropertyDescriptor;if(c)try{c({},"")}catch(e){c=null}var u=function(){throw new s},l=c?function(){try{return u}catch(e){try{return c(arguments,"callee").get}catch(e){return u}}}():u,f=r(61658)(),h=Object.getPrototypeOf||function(e){return e.__proto__},p={},d="undefined"==typeof Uint8Array?n:h(Uint8Array),y={"%AggregateError%":"undefined"==typeof AggregateError?n:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?n:ArrayBuffer,"%ArrayIteratorPrototype%":f?h([][Symbol.iterator]()):n,"%AsyncFromSyncIteratorPrototype%":n,"%AsyncFunction%":p,"%AsyncGenerator%":p,"%AsyncGeneratorFunction%":p,"%AsyncIteratorPrototype%":p,"%Atomics%":"undefined"==typeof Atomics?n:Atomics,"%BigInt%":"undefined"==typeof BigInt?n:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?n:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?n:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?n:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?n:FinalizationRegistry,"%Function%":i,"%GeneratorFunction%":p,"%Int8Array%":"undefined"==typeof Int8Array?n:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?n:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?n:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":f?h(h([][Symbol.iterator]())):n,"%JSON%":"object"==typeof JSON?JSON:n,"%Map%":"undefined"==typeof Map?n:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&f?h((new Map)[Symbol.iterator]()):n,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?n:Promise,"%Proxy%":"undefined"==typeof Proxy?n:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?n:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?n:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&f?h((new Set)[Symbol.iterator]()):n,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?n:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":f?h(""[Symbol.iterator]()):n,"%Symbol%":f?Symbol:n,"%SyntaxError%":o,"%ThrowTypeError%":l,"%TypedArray%":d,"%TypeError%":s,"%Uint8Array%":"undefined"==typeof Uint8Array?n:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?n:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?n:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?n:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?n:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?n:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?n:WeakSet},b=function e(t){var r;if("%AsyncFunction%"===t)r=a("async function () {}");else if("%GeneratorFunction%"===t)r=a("function* () {}");else if("%AsyncGeneratorFunction%"===t)r=a("async function* () {}");else if("%AsyncGenerator%"===t){var n=e("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if("%AsyncIteratorPrototype%"===t){var o=e("%AsyncGenerator%");o&&(r=h(o.prototype))}return y[t]=r,r},m={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},v=r(25654),g=r(60126),w=v.call(Function.call,Array.prototype.concat),_=v.call(Function.apply,Array.prototype.splice),S=v.call(Function.call,String.prototype.replace),O=v.call(Function.call,String.prototype.slice),E=v.call(Function.call,RegExp.prototype.exec),T=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,x=/\\(\\)?/g,A=function(e){var t=O(e,0,1),r=O(e,-1);if("%"===t&&"%"!==r)throw new o("invalid intrinsic syntax, expected closing `%`");if("%"===r&&"%"!==t)throw new o("invalid intrinsic syntax, expected opening `%`");var n=[];return S(e,T,(function(e,t,r,o){n[n.length]=r?S(o,x,"$1"):t||e})),n},P=function(e,t){var r,n=e;if(g(m,n)&&(n="%"+(r=m[n])[0]+"%"),g(y,n)){var i=y[n];if(i===p&&(i=b(n)),void 0===i&&!t)throw new s("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:r,name:n,value:i}}throw new o("intrinsic "+e+" does not exist!")};e.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new s("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new s('"allowMissing" argument must be a boolean');if(null===E(/^%?[^%]*%?$/,e))throw new o("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=A(e),n=r.length>0?r[0]:"",i=P("%"+n+"%",t),a=i.name,u=i.value,l=!1,f=i.alias;f&&(n=f[0],_(r,w([0,1],f)));for(var h=1,p=!0;h<r.length;h+=1){var d=r[h],b=O(d,0,1),m=O(d,-1);if(('"'===b||"'"===b||"`"===b||'"'===m||"'"===m||"`"===m)&&b!==m)throw new o("property names with quotes must have matching quotes");if("constructor"!==d&&p||(l=!0),g(y,a="%"+(n+="."+d)+"%"))u=y[a];else if(null!=u){if(!(d in u)){if(!t)throw new s("base intrinsic for "+e+" exists, but the property is not available.");return}if(c&&h+1>=r.length){var v=c(u,d);u=(p=!!v)&&"get"in v&&!("originalValue"in v.get)?v.get:u[d]}else p=g(u,d),u=u[d];p&&!l&&(y[a]=u)}}return u}},60126:(e,t,r)=>{var n=r(25654);e.exports=n.call(Function.call,Object.prototype.hasOwnProperty)},61e3:(e,t,r)=>{var n=r(43681)("%Object.defineProperty%",!0),o=function(){if(n)try{return n({},"a",{value:1}),!0}catch(e){return!1}return!1};o.hasArrayLengthDefineBug=function(){if(!o())return null;try{return 1!==n([],"length",{value:1}).length}catch(e){return!0}},e.exports=o},61658:(e,t,r)=>{var n="undefined"!=typeof Symbol&&Symbol,o=r(85180);e.exports=function(){return"function"==typeof n&&"function"==typeof Symbol&&"symbol"==typeof n("foo")&&"symbol"==typeof Symbol("bar")&&o()}},85180:e=>{e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),r=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(r))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var n=Object.getOwnPropertySymbols(e);if(1!==n.length||n[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var o=Object.getOwnPropertyDescriptor(e,t);if(42!==o.value||!0!==o.enumerable)return!1}return!0}},87936:(e,t,r)=>{var n=r(85180);e.exports=function(){return n()&&!!Symbol.toStringTag}},27065:(e,t,r)=>{var n=r(90449),o=r(12155),i=e.exports;for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s]);function a(e){if("string"==typeof e&&(e=o.parse(e)),e.protocol||(e.protocol="https:"),"https:"!==e.protocol)throw new Error('Protocol "'+e.protocol+'" not supported. Expected "https:"');return e}i.request=function(e,t){return e=a(e),n.request.call(this,e,t)},i.get=function(e,t){return e=a(e),n.get.call(this,e,t)}},59258:(e,t)=>{t.read=function(e,t,r,n,o){var i,s,a=8*o-n-1,c=(1<<a)-1,u=c>>1,l=-7,f=r?o-1:0,h=r?-1:1,p=e[t+f];for(f+=h,i=p&(1<<-l)-1,p>>=-l,l+=a;l>0;i=256*i+e[t+f],f+=h,l-=8);for(s=i&(1<<-l)-1,i>>=-l,l+=n;l>0;s=256*s+e[t+f],f+=h,l-=8);if(0===i)i=1-u;else{if(i===c)return s?NaN:1/0*(p?-1:1);s+=Math.pow(2,n),i-=u}return(p?-1:1)*s*Math.pow(2,i-n)},t.write=function(e,t,r,n,o,i){var s,a,c,u=8*i-o-1,l=(1<<u)-1,f=l>>1,h=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:i-1,d=n?1:-1,y=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=l):(s=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-s))<1&&(s--,c*=2),(t+=s+f>=1?h/c:h*Math.pow(2,1-f))*c>=2&&(s++,c/=2),s+f>=l?(a=0,s=l):s+f>=1?(a=(t*c-1)*Math.pow(2,o),s+=f):(a=t*Math.pow(2,f-1)*Math.pow(2,o),s=0));o>=8;e[r+p]=255&a,p+=d,a/=256,o-=8);for(s=s<<o|a,u+=o;u>0;e[r+p]=255&s,p+=d,s/=256,u-=8);e[r+p-d]|=128*y}},23730:e=>{"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}},55830:e=>{e.exports=e=>{if("string"!=typeof e)throw new TypeError(`Expected a \`string\`, got \`${typeof e}\``);return!/^[a-zA-Z]:\\/.test(e)&&/^[a-zA-Z][a-zA-Z\d+\-.]*:/.test(e)}},32391:(e,t,r)=>{var n=r(87936)(),o=r(86018)("Object.prototype.toString"),i=function(e){return!(n&&e&&"object"==typeof e&&Symbol.toStringTag in e)&&"[object Arguments]"===o(e)},s=function(e){return!!i(e)||null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Array]"!==o(e)&&"[object Function]"===o(e.callee)},a=function(){return i(arguments)}();i.isLegacyArguments=s,e.exports=a?i:s},48484:e=>{var t,r,n=Function.prototype.toString,o="object"==typeof Reflect&&null!==Reflect&&Reflect.apply;if("function"==typeof o&&"function"==typeof Object.defineProperty)try{t=Object.defineProperty({},"length",{get:function(){throw r}}),r={},o((function(){throw 42}),null,t)}catch(e){e!==r&&(o=null)}else o=null;var i=/^\s*class\b/,s=function(e){try{var t=n.call(e);return i.test(t)}catch(e){return!1}},a=function(e){try{return!s(e)&&(n.call(e),!0)}catch(e){return!1}},c=Object.prototype.toString,u="function"==typeof Symbol&&!!Symbol.toStringTag,l=!(0 in[,]),f=function(){return!1};if("object"==typeof document){var h=document.all;c.call(h)===c.call(document.all)&&(f=function(e){if((l||!e)&&(void 0===e||"object"==typeof e))try{var t=c.call(e);return("[object HTMLAllCollection]"===t||"[object HTML document.all class]"===t||"[object HTMLCollection]"===t||"[object Object]"===t)&&null==e("")}catch(e){}return!1})}e.exports=o?function(e){if(f(e))return!0;if(!e)return!1;if("function"!=typeof e&&"object"!=typeof e)return!1;try{o(e,null,t)}catch(e){if(e!==r)return!1}return!s(e)&&a(e)}:function(e){if(f(e))return!0;if(!e)return!1;if("function"!=typeof e&&"object"!=typeof e)return!1;if(u)return a(e);if(s(e))return!1;var t=c.call(e);return!("[object Function]"!==t&&"[object GeneratorFunction]"!==t&&!/^\[object HTML/.test(t))&&a(e)}},21266:(e,t,r)=>{var n,o=Object.prototype.toString,i=Function.prototype.toString,s=/^\s*(?:function)?\*/,a=r(87936)(),c=Object.getPrototypeOf;e.exports=function(e){if("function"!=typeof e)return!1;if(s.test(i.call(e)))return!0;if(!a)return"[object GeneratorFunction]"===o.call(e);if(!c)return!1;if(void 0===n){var t=function(){if(!a)return!1;try{return Function("return function*() {}")()}catch(e){}}();n=!!t&&c(t)}return c(e)===n}},59007:e=>{e.exports=function(e){return e!=e}},61292:(e,t,r)=>{var n=r(37694),o=r(96116),i=r(59007),s=r(59294),a=r(21866),c=n(s(),Number);o(c,{getPolyfill:s,implementation:i,shim:a}),e.exports=c},59294:(e,t,r)=>{var n=r(59007);e.exports=function(){return Number.isNaN&&Number.isNaN(NaN)&&!Number.isNaN("a")?Number.isNaN:n}},21866:(e,t,r)=>{var n=r(96116),o=r(59294);e.exports=function(){var e=o();return n(Number,{isNaN:e},{isNaN:function(){return Number.isNaN!==e}}),e}},81233:(e,t,r)=>{var n=r(79068),o=r(18791),i=r(86018),s=i("Object.prototype.toString"),a=r(87936)(),c="undefined"==typeof globalThis?r.g:globalThis,u=o(),l=i("Array.prototype.indexOf",!0)||function(e,t){for(var r=0;r<e.length;r+=1)if(e[r]===t)return r;return-1},f=i("String.prototype.slice"),h={},p=r(26393),d=Object.getPrototypeOf;a&&p&&d&&n(u,(function(e){var t=new c[e];if(Symbol.toStringTag in t){var r=d(t),n=p(r,Symbol.toStringTag);if(!n){var o=d(r);n=p(o,Symbol.toStringTag)}h[e]=n.get}})),e.exports=function(e){if(!e||"object"!=typeof e)return!1;if(!a||!(Symbol.toStringTag in e)){var t=f(s(e),8,-1);return l(u,t)>-1}return!!p&&function(e){var t=!1;return n(h,(function(r,n){if(!t)try{t=r.call(e)===n}catch(e){}})),t}(e)}},34261:function(e,t,r){e=r.nmd(e);var n=r(12695),o=r(40585),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var s=r(46079);t.JsonPlaceholderReplacer=s.JsonPlaceholderReplacer;const a=r(46079),c=i(r(26576));if(r.c[r.s]===e){n.exitCode=n.argv.length;const e=new a.JsonPlaceholderReplacer;n.argv.filter(((e,t)=>t>2)).map((t=>e.addVariableMap(JSON.parse(c.readFileSync(t).toString()))));const t=c.readFileSync(n.argv[2]).toString(),r=e.replace(JSON.parse(t));o.log(JSON.stringify(r,null,4)),n.exitCode=0}},46079:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=[{begin:"{{",end:"}}"},{begin:"<<",end:">>"}];t.JsonPlaceholderReplacer=class{constructor(...e){this.variablesMap=[],0===e.length&&(e=r);const t=e=>e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&");this.delimiterTags=e.map((e=>Object.assign(Object.assign({},e),{escapedBeginning:t(e.begin),escapedEnding:t(e.end)})))}addVariableMap(e){return"string"==typeof e?this.variablesMap.push(JSON.parse(e)):this.variablesMap.push(e),this}replace(e){return this.replaceChildren(e)}replaceChildren(e){for(const t in e){const r=e[t];"object"==typeof r?e[t]=this.replaceChildren(r):void 0!==r&&(e[t]=this.replaceValue(r.toString()))}return e}replaceValue(e){const t=this.delimiterTags.map((e=>`^${e.begin}[^${e.end}]+${e.end}$`)).join("|"),r=!new RegExp(t).test(e),n=e=>t=>{const n=t.substr(e.begin.length,t.length-(e.begin.length+e.end.length)),o=this.checkInEveryMap(n);if(void 0===o)return t;if(!r)return o;const i=JSON.parse(o);return"object"==typeof i?JSON.stringify(i):i},o=this.delimiterTags.reduce(((e,t)=>{const r=new RegExp(`(${t.escapedBeginning}[^${t.escapedEnding}]+${t.escapedEnding})`,"g");return e.replace(r,n(t))}),e);try{return JSON.parse(o)}catch(e){return o}}checkInEveryMap(e){let t;return this.variablesMap.forEach((r=>t=this.navigateThroughMap(r,e))),t}navigateThroughMap(e,t){if(void 0===e)return;const r=e[t];if(void 0!==r)return JSON.stringify(r);let n=t.split(".");const o=n[0];return n.shift(),this.navigateThroughMap(e[o],n.join("."))}}},11150:e=>{var t=e.exports=function(e,t,n){"function"==typeof t&&(n=t,t={}),r(t,"function"==typeof(n=t.cb||n)?n:n.pre||function(){},n.post||function(){},e,"",e)};function r(e,n,o,i,s,a,c,u,l,f){if(i&&"object"==typeof i&&!Array.isArray(i)){for(var h in n(i,s,a,c,u,l,f),i){var p=i[h];if(Array.isArray(p)){if(h in t.arrayKeywords)for(var d=0;d<p.length;d++)r(e,n,o,p[d],s+"/"+h+"/"+d,a,s,h,i,d)}else if(h in t.propsKeywords){if(p&&"object"==typeof p)for(var y in p)r(e,n,o,p[y],s+"/"+h+"/"+y.replace(/~/g,"~0").replace(/\//g,"~1"),a,s,h,i,y)}else(h in t.keywords||e.allKeys&&!(h in t.skipKeywords))&&r(e,n,o,p,s+"/"+h,a,s,h,i)}o(i,s,a,c,u,l,f)}}t.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0},t.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},t.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},t.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0}},66117:e=>{var t=1e3,r=60*t,n=60*r,o=24*n;function i(e,t,r,n){var o=t>=1.5*r;return Math.round(e/r)+" "+n+(o?"s":"")}e.exports=function(e,s){s=s||{};var a,c,u=typeof e;if("string"===u&&e.length>0)return function(e){if(!((e=String(e)).length>100)){var i=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(i){var s=parseFloat(i[1]);switch((i[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*s;case"weeks":case"week":case"w":return 6048e5*s;case"days":case"day":case"d":return s*o;case"hours":case"hour":case"hrs":case"hr":case"h":return s*n;case"minutes":case"minute":case"mins":case"min":case"m":return s*r;case"seconds":case"second":case"secs":case"sec":case"s":return s*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s;default:return}}}}(e);if("number"===u&&isFinite(e))return s.long?(a=e,(c=Math.abs(a))>=o?i(a,c,o,"day"):c>=n?i(a,c,n,"hour"):c>=r?i(a,c,r,"minute"):c>=t?i(a,c,t,"second"):a+" ms"):function(e){var i=Math.abs(e);return i>=o?Math.round(e/o)+"d":i>=n?Math.round(e/n)+"h":i>=r?Math.round(e/r)+"m":i>=t?Math.round(e/t)+"s":e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},41275:e=>{var t=function(e){return e!=e};e.exports=function(e,r){return 0===e&&0===r?1/e==1/r:e===r||!(!t(e)||!t(r))}},92369:(e,t,r)=>{var n=r(96116),o=r(37694),i=r(41275),s=r(84382),a=r(13284),c=o(s(),Object);n(c,{getPolyfill:s,implementation:i,shim:a}),e.exports=c},84382:(e,t,r)=>{var n=r(41275);e.exports=function(){return"function"==typeof Object.is?Object.is:n}},13284:(e,t,r)=>{var n=r(84382),o=r(96116);e.exports=function(){var e=n();return o(Object,{is:e},{is:function(){return Object.is!==e}}),e}},99521:(e,t,r)=>{var n;if(!Object.keys){var o=Object.prototype.hasOwnProperty,i=Object.prototype.toString,s=r(70478),a=Object.prototype.propertyIsEnumerable,c=!a.call({toString:null},"toString"),u=a.call((function(){}),"prototype"),l=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],f=function(e){var t=e.constructor;return t&&t.prototype===e},h={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},p=function(){if("undefined"==typeof window)return!1;for(var e in window)try{if(!h["$"+e]&&o.call(window,e)&&null!==window[e]&&"object"==typeof window[e])try{f(window[e])}catch(e){return!0}}catch(e){return!0}return!1}();n=function(e){var t=null!==e&&"object"==typeof e,r="[object Function]"===i.call(e),n=s(e),a=t&&"[object String]"===i.call(e),h=[];if(!t&&!r&&!n)throw new TypeError("Object.keys called on a non-object");var d=u&&r;if(a&&e.length>0&&!o.call(e,0))for(var y=0;y<e.length;++y)h.push(String(y));if(n&&e.length>0)for(var b=0;b<e.length;++b)h.push(String(b));else for(var m in e)d&&"prototype"===m||!o.call(e,m)||h.push(String(m));if(c)for(var v=function(e){if("undefined"==typeof window||!p)return f(e);try{return f(e)}catch(e){return!1}}(e),g=0;g<l.length;++g)v&&"constructor"===l[g]||!o.call(e,l[g])||h.push(l[g]);return h}}e.exports=n},89328:(e,t,r)=>{var n=Array.prototype.slice,o=r(70478),i=Object.keys,s=i?function(e){return i(e)}:r(99521),a=Object.keys;s.shim=function(){if(Object.keys){var e=function(){var e=Object.keys(arguments);return e&&e.length===arguments.length}(1,2);e||(Object.keys=function(e){return o(e)?a(n.call(e)):a(e)})}else Object.keys=s;return Object.keys||s},e.exports=s},70478:e=>{var t=Object.prototype.toString;e.exports=function(e){var r=t.call(e),n="[object Arguments]"===r;return n||(n="[object Array]"!==r&&null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Function]"===t.call(e.callee)),n}},14068:(e,t)=>{t.endianness=function(){return"LE"},t.hostname=function(){return"undefined"!=typeof location?location.hostname:""},t.loadavg=function(){return[]},t.uptime=function(){return 0},t.freemem=function(){return Number.MAX_VALUE},t.totalmem=function(){return Number.MAX_VALUE},t.cpus=function(){return[]},t.type=function(){return"Browser"},t.release=function(){return"undefined"!=typeof navigator?navigator.appVersion:""},t.networkInterfaces=t.getNetworkInterfaces=function(){return{}},t.arch=function(){return"javascript"},t.platform=function(){return"browser"},t.tmpdir=t.tmpDir=function(){return"/tmp"},t.EOL="\n",t.homedir=function(){return"/"}},12695:e=>{var t,r,n=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function s(e){if(t===setTimeout)return setTimeout(e,0);if((t===o||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(r){try{return t.call(null,e,0)}catch(r){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:o}catch(e){t=o}try{r="function"==typeof clearTimeout?clearTimeout:i}catch(e){r=i}}();var a,c=[],u=!1,l=-1;function f(){u&&a&&(u=!1,a.length?c=a.concat(c):l=-1,c.length&&h())}function h(){if(!u){var e=s(f);u=!0;for(var t=c.length;t;){for(a=c,c=[];++l<t;)a&&a[l].run();l=-1,t=c.length}a=null,u=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===i||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function d(){}n.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];c.push(new p(e,t)),1!==c.length||u||s(h)},p.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=d,n.addListener=d,n.once=d,n.off=d,n.removeListener=d,n.removeAllListeners=d,n.emit=d,n.prependListener=d,n.prependOnceListener=d,n.listeners=function(e){return[]},n.binding=function(e){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(e){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},42233:function(e,t,r){var n;e=r.nmd(e),function(o){t&&t.nodeType,e&&e.nodeType;var i="object"==typeof r.g&&r.g;i.global!==i&&i.window!==i&&i.self;var s,a=2147483647,c=36,u=/^xn--/,l=/[^\x20-\x7E]/,f=/[\x2E\u3002\uFF0E\uFF61]/g,h={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},p=Math.floor,d=String.fromCharCode;function y(e){throw RangeError(h[e])}function b(e,t){for(var r=e.length,n=[];r--;)n[r]=t(e[r]);return n}function m(e,t){var r=e.split("@"),n="";return r.length>1&&(n=r[0]+"@",e=r[1]),n+b((e=e.replace(f,".")).split("."),t).join(".")}function v(e){for(var t,r,n=[],o=0,i=e.length;o<i;)(t=e.charCodeAt(o++))>=55296&&t<=56319&&o<i?56320==(64512&(r=e.charCodeAt(o++)))?n.push(((1023&t)<<10)+(1023&r)+65536):(n.push(t),o--):n.push(t);return n}function g(e){return b(e,(function(e){var t="";return e>65535&&(t+=d((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+d(e)})).join("")}function w(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function _(e,t,r){var n=0;for(e=r?p(e/700):e>>1,e+=p(e/t);e>455;n+=c)e=p(e/35);return p(n+36*e/(e+38))}function S(e){var t,r,n,o,i,s,u,l,f,h,d,b=[],m=e.length,v=0,w=128,S=72;for((r=e.lastIndexOf("-"))<0&&(r=0),n=0;n<r;++n)e.charCodeAt(n)>=128&&y("not-basic"),b.push(e.charCodeAt(n));for(o=r>0?r+1:0;o<m;){for(i=v,s=1,u=c;o>=m&&y("invalid-input"),((l=(d=e.charCodeAt(o++))-48<10?d-22:d-65<26?d-65:d-97<26?d-97:c)>=c||l>p((a-v)/s))&&y("overflow"),v+=l*s,!(l<(f=u<=S?1:u>=S+26?26:u-S));u+=c)s>p(a/(h=c-f))&&y("overflow"),s*=h;S=_(v-i,t=b.length+1,0==i),p(v/t)>a-w&&y("overflow"),w+=p(v/t),v%=t,b.splice(v++,0,w)}return g(b)}function O(e){var t,r,n,o,i,s,u,l,f,h,b,m,g,S,O,E=[];for(m=(e=v(e)).length,t=128,r=0,i=72,s=0;s<m;++s)(b=e[s])<128&&E.push(d(b));for(n=o=E.length,o&&E.push("-");n<m;){for(u=a,s=0;s<m;++s)(b=e[s])>=t&&b<u&&(u=b);for(u-t>p((a-r)/(g=n+1))&&y("overflow"),r+=(u-t)*g,t=u,s=0;s<m;++s)if((b=e[s])<t&&++r>a&&y("overflow"),b==t){for(l=r,f=c;!(l<(h=f<=i?1:f>=i+26?26:f-i));f+=c)O=l-h,S=c-h,E.push(d(w(h+O%S,0))),l=p(O/S);E.push(d(w(l,0))),i=_(r,g,n==o),r=0,++n}++r,++t}return E.join("")}s={version:"1.3.2",ucs2:{decode:v,encode:g},decode:S,encode:O,toASCII:function(e){return m(e,(function(e){return l.test(e)?"xn--"+O(e):e}))},toUnicode:function(e){return m(e,(function(e){return u.test(e)?S(e.slice(4).toLowerCase()):e}))}},void 0===(n=function(){return s}.call(t,r,t,e))||(e.exports=n)}()},7004:e=>{function t(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,r,n,o){r=r||"&",n=n||"=";var i={};if("string"!=typeof e||0===e.length)return i;var s=/\+/g;e=e.split(r);var a=1e3;o&&"number"==typeof o.maxKeys&&(a=o.maxKeys);var c=e.length;a>0&&c>a&&(c=a);for(var u=0;u<c;++u){var l,f,h,p,d=e[u].replace(s,"%20"),y=d.indexOf(n);y>=0?(l=d.substr(0,y),f=d.substr(y+1)):(l=d,f=""),h=decodeURIComponent(l),p=decodeURIComponent(f),t(i,h)?Array.isArray(i[h])?i[h].push(p):i[h]=[i[h],p]:i[h]=p}return i}},84399:e=>{var t=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,r,n,o){return r=r||"&",n=n||"=",null===e&&(e=void 0),"object"==typeof e?Object.keys(e).map((function(o){var i=encodeURIComponent(t(o))+n;return Array.isArray(e[o])?e[o].map((function(e){return i+encodeURIComponent(t(e))})).join(r):i+encodeURIComponent(t(e[o]))})).join(r):o?encodeURIComponent(t(o))+n+encodeURIComponent(t(e)):""}},9278:(e,t,r)=>{t.decode=t.parse=r(7004),t.encode=t.stringify=r(84399)},90553:e=>{var t={};function r(e,r,n){n||(n=Error);var o=function(e){var t,n;function o(t,n,o){return e.call(this,function(e,t,n){return"string"==typeof r?r:r(e,t,n)}(t,n,o))||this}return n=e,(t=o).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,o}(n);o.prototype.name=n.name,o.prototype.code=e,t[e]=o}function n(e,t){if(Array.isArray(e)){var r=e.length;return e=e.map((function(e){return String(e)})),r>2?"one of ".concat(t," ").concat(e.slice(0,r-1).join(", "),", or ")+e[r-1]:2===r?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}return"of ".concat(t," ").concat(String(e))}r("ERR_INVALID_OPT_VALUE",(function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'}),TypeError),r("ERR_INVALID_ARG_TYPE",(function(e,t,r){var o,i,s,a,c;if("string"==typeof t&&(i="not ",t.substr(0,i.length)===i)?(o="must not be",t=t.replace(/^not /,"")):o="must be",function(e,t,r){return(void 0===r||r>e.length)&&(r=e.length),e.substring(r-t.length,r)===t}(e," argument"))s="The ".concat(e," ").concat(o," ").concat(n(t,"type"));else{var u=("number"!=typeof c&&(c=0),c+".".length>(a=e).length||-1===a.indexOf(".",c)?"argument":"property");s='The "'.concat(e,'" ').concat(u," ").concat(o," ").concat(n(t,"type"))}return s+". Received type ".concat(typeof r)}),TypeError),r("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),r("ERR_METHOD_NOT_IMPLEMENTED",(function(e){return"The "+e+" method is not implemented"})),r("ERR_STREAM_PREMATURE_CLOSE","Premature close"),r("ERR_STREAM_DESTROYED",(function(e){return"Cannot call "+e+" after a stream was destroyed"})),r("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),r("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),r("ERR_STREAM_WRITE_AFTER_END","write after end"),r("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),r("ERR_UNKNOWN_ENCODING",(function(e){return"Unknown encoding: "+e}),TypeError),r("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),e.exports.q=t},70673:(e,t,r)=>{var n=r(12695),o=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};e.exports=l;var i=r(95006),s=r(98719);r(23730)(l,i);for(var a=o(s.prototype),c=0;c<a.length;c++){var u=a[c];l.prototype[u]||(l.prototype[u]=s.prototype[u])}function l(e){if(!(this instanceof l))return new l(e);i.call(this,e),s.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",f)))}function f(){this._writableState.ended||n.nextTick(h,this)}function h(e){e.end()}Object.defineProperty(l.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(l.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(l.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(l.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}})},24324:(e,t,r)=>{e.exports=o;var n=r(48597);function o(e){if(!(this instanceof o))return new o(e);n.call(this,e)}r(23730)(o,n),o.prototype._transform=function(e,t,r){r(null,e)}},95006:(e,t,r)=>{var n,o=r(12695);e.exports=T,T.ReadableState=E,r(33346).EventEmitter;var i,s=function(e,t){return e.listeners(t).length},a=r(48208),c=r(97866).Buffer,u=r.g.Uint8Array||function(){},l=r(56029);i=l&&l.debuglog?l.debuglog("stream"):function(){};var f,h,p,d=r(24506),y=r(33390),b=r(21111).getHighWaterMark,m=r(90553).q,v=m.ERR_INVALID_ARG_TYPE,g=m.ERR_STREAM_PUSH_AFTER_EOF,w=m.ERR_METHOD_NOT_IMPLEMENTED,_=m.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;r(23730)(T,a);var S=y.errorOrDestroy,O=["error","close","destroy","pause","resume"];function E(e,t,o){n=n||r(70673),e=e||{},"boolean"!=typeof o&&(o=t instanceof n),this.objectMode=!!e.objectMode,o&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=b(this,e,"readableHighWaterMark",o),this.buffer=new d,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(f||(f=r(37361).StringDecoder),this.decoder=new f(e.encoding),this.encoding=e.encoding)}function T(e){if(n=n||r(70673),!(this instanceof T))return new T(e);var t=this instanceof n;this._readableState=new E(e,this,t),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),a.call(this)}function x(e,t,r,n,o){i("readableAddChunk",t);var s,a=e._readableState;if(null===t)a.reading=!1,function(e,t){if(i("onEofChunk"),!t.ended){if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,t.sync?j(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,R(e)))}}(e,a);else if(o||(s=function(e,t){var r,n;return n=t,c.isBuffer(n)||n instanceof u||"string"==typeof t||void 0===t||e.objectMode||(r=new v("chunk",["string","Buffer","Uint8Array"],t)),r}(a,t)),s)S(e,s);else if(a.objectMode||t&&t.length>0)if("string"==typeof t||a.objectMode||Object.getPrototypeOf(t)===c.prototype||(t=function(e){return c.from(e)}(t)),n)a.endEmitted?S(e,new _):A(e,a,t,!0);else if(a.ended)S(e,new g);else{if(a.destroyed)return!1;a.reading=!1,a.decoder&&!r?(t=a.decoder.write(t),a.objectMode||0!==t.length?A(e,a,t,!1):C(e,a)):A(e,a,t,!1)}else n||(a.reading=!1,C(e,a));return!a.ended&&(a.length<a.highWaterMark||0===a.length)}function A(e,t,r,n){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",r)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&j(e)),C(e,t)}Object.defineProperty(T.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),T.prototype.destroy=y.destroy,T.prototype._undestroy=y.undestroy,T.prototype._destroy=function(e,t){t(e)},T.prototype.push=function(e,t){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof e&&((t=t||n.defaultEncoding)!==n.encoding&&(e=c.from(e,t),t=""),r=!0),x(this,e,t,!1,r)},T.prototype.unshift=function(e){return x(this,e,null,!0,!1)},T.prototype.isPaused=function(){return!1===this._readableState.flowing},T.prototype.setEncoding=function(e){f||(f=r(37361).StringDecoder);var t=new f(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var n=this._readableState.buffer.head,o="";null!==n;)o+=t.write(n.data),n=n.next;return this._readableState.buffer.clear(),""!==o&&this._readableState.buffer.push(o),this._readableState.length=o.length,this};var P=1073741824;function $(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=P?e=P:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function j(e){var t=e._readableState;i("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(i("emitReadable",t.flowing),t.emittedReadable=!0,o.nextTick(R,e))}function R(e){var t=e._readableState;i("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,F(e)}function C(e,t){t.readingMore||(t.readingMore=!0,o.nextTick(I,e,t))}function I(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var r=t.length;if(i("maybeReadMore read 0"),e.read(0),r===t.length)break}t.readingMore=!1}function N(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function k(e){i("readable nexttick read 0"),e.read(0)}function M(e,t){i("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),F(e),t.flowing&&!t.reading&&e.read(0)}function F(e){var t=e._readableState;for(i("flow",t.flowing);t.flowing&&null!==e.read(););}function L(e,t){return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):r=t.buffer.consume(e,t.decoder),r);var r}function D(e){var t=e._readableState;i("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,o.nextTick(U,t,e))}function U(e,t){if(i("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var r=t._writableState;(!r||r.autoDestroy&&r.finished)&&t.destroy()}}function B(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}T.prototype.read=function(e){i("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return i("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?D(this):j(this),null;if(0===(e=$(e,t))&&t.ended)return 0===t.length&&D(this),null;var n,o=t.needReadable;return i("need readable",o),(0===t.length||t.length-e<t.highWaterMark)&&i("length less than watermark",o=!0),t.ended||t.reading?i("reading or ended",o=!1):o&&(i("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=$(r,t))),null===(n=e>0?L(e,t):null)?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&D(this)),null!==n&&this.emit("data",n),n},T.prototype._read=function(e){S(this,new w("_read()"))},T.prototype.pipe=function(e,t){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=e;break;case 1:n.pipes=[n.pipes,e];break;default:n.pipes.push(e)}n.pipesCount+=1,i("pipe count=%d opts=%j",n.pipesCount,t);var a=t&&!1===t.end||e===o.stdout||e===o.stderr?y:c;function c(){i("onend"),e.end()}n.endEmitted?o.nextTick(a):r.once("end",a),e.on("unpipe",(function t(o,s){i("onunpipe"),o===r&&s&&!1===s.hasUnpiped&&(s.hasUnpiped=!0,i("cleanup"),e.removeListener("close",p),e.removeListener("finish",d),e.removeListener("drain",u),e.removeListener("error",h),e.removeListener("unpipe",t),r.removeListener("end",c),r.removeListener("end",y),r.removeListener("data",f),l=!0,!n.awaitDrain||e._writableState&&!e._writableState.needDrain||u())}));var u=function(e){return function(){var t=e._readableState;i("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&s(e,"data")&&(t.flowing=!0,F(e))}}(r);e.on("drain",u);var l=!1;function f(t){i("ondata");var o=e.write(t);i("dest.write",o),!1===o&&((1===n.pipesCount&&n.pipes===e||n.pipesCount>1&&-1!==B(n.pipes,e))&&!l&&(i("false write response, pause",n.awaitDrain),n.awaitDrain++),r.pause())}function h(t){i("onerror",t),y(),e.removeListener("error",h),0===s(e,"error")&&S(e,t)}function p(){e.removeListener("finish",d),y()}function d(){i("onfinish"),e.removeListener("close",p),y()}function y(){i("unpipe"),r.unpipe(e)}return r.on("data",f),function(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events.error?Array.isArray(e._events.error)?e._events.error.unshift(r):e._events.error=[r,e._events.error]:e.on(t,r)}(e,"error",h),e.once("close",p),e.once("finish",d),e.emit("pipe",r),n.flowing||(i("pipe resume"),r.resume()),e},T.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r)),this;if(!e){var n=t.pipes,o=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var i=0;i<o;i++)n[i].emit("unpipe",this,{hasUnpiped:!1});return this}var s=B(t.pipes,e);return-1===s||(t.pipes.splice(s,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r)),this},T.prototype.on=function(e,t){var r=a.prototype.on.call(this,e,t),n=this._readableState;return"data"===e?(n.readableListening=this.listenerCount("readable")>0,!1!==n.flowing&&this.resume()):"readable"===e&&(n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,i("on readable",n.length,n.reading),n.length?j(this):n.reading||o.nextTick(k,this))),r},T.prototype.addListener=T.prototype.on,T.prototype.removeListener=function(e,t){var r=a.prototype.removeListener.call(this,e,t);return"readable"===e&&o.nextTick(N,this),r},T.prototype.removeAllListeners=function(e){var t=a.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||o.nextTick(N,this),t},T.prototype.resume=function(){var e=this._readableState;return e.flowing||(i("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,o.nextTick(M,e,t))}(this,e)),e.paused=!1,this},T.prototype.pause=function(){return i("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(i("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},T.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;for(var o in e.on("end",(function(){if(i("wrapped end"),r.decoder&&!r.ended){var e=r.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(o){i("wrapped data"),r.decoder&&(o=r.decoder.write(o)),r.objectMode&&null==o||(r.objectMode||o&&o.length)&&(t.push(o)||(n=!0,e.pause()))})),e)void 0===this[o]&&"function"==typeof e[o]&&(this[o]=function(t){return function(){return e[t].apply(e,arguments)}}(o));for(var s=0;s<O.length;s++)e.on(O[s],this.emit.bind(this,O[s]));return this._read=function(t){i("wrapped _read",t),n&&(n=!1,e.resume())},this},"function"==typeof Symbol&&(T.prototype[Symbol.asyncIterator]=function(){return void 0===h&&(h=r(48187)),h(this)}),Object.defineProperty(T.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(T.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(T.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),T._fromList=L,Object.defineProperty(T.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(T.from=function(e,t){return void 0===p&&(p=r(83733)),p(T,e,t)})},48597:(e,t,r)=>{e.exports=l;var n=r(90553).q,o=n.ERR_METHOD_NOT_IMPLEMENTED,i=n.ERR_MULTIPLE_CALLBACK,s=n.ERR_TRANSFORM_ALREADY_TRANSFORMING,a=n.ERR_TRANSFORM_WITH_LENGTH_0,c=r(70673);function u(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(null===n)return this.emit("error",new i);r.writechunk=null,r.writecb=null,null!=t&&this.push(t),n(e);var o=this._readableState;o.reading=!1,(o.needReadable||o.length<o.highWaterMark)&&this._read(o.highWaterMark)}function l(e){if(!(this instanceof l))return new l(e);c.call(this,e),this._transformState={afterTransform:u.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",f)}function f(){var e=this;"function"!=typeof this._flush||this._readableState.destroyed?h(this,null,null):this._flush((function(t,r){h(e,t,r)}))}function h(e,t,r){if(t)return e.emit("error",t);if(null!=r&&e.push(r),e._writableState.length)throw new a;if(e._transformState.transforming)throw new s;return e.push(null)}r(23730)(l,c),l.prototype.push=function(e,t){return this._transformState.needTransform=!1,c.prototype.push.call(this,e,t)},l.prototype._transform=function(e,t,r){r(new o("_transform()"))},l.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var o=this._readableState;(n.needTransform||o.needReadable||o.length<o.highWaterMark)&&this._read(o.highWaterMark)}},l.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},l.prototype._destroy=function(e,t){c.prototype._destroy.call(this,e,(function(e){t(e)}))}},98719:(e,t,r)=>{var n,o=r(12695);function i(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,r){var n=e.entry;for(e.entry=null;n;){var o=n.callback;t.pendingcb--,o(undefined),n=n.next}t.corkedRequestsFree.next=e}(t,e)}}e.exports=T,T.WritableState=E;var s,a={deprecate:r(20072)},c=r(48208),u=r(97866).Buffer,l=r.g.Uint8Array||function(){},f=r(33390),h=r(21111).getHighWaterMark,p=r(90553).q,d=p.ERR_INVALID_ARG_TYPE,y=p.ERR_METHOD_NOT_IMPLEMENTED,b=p.ERR_MULTIPLE_CALLBACK,m=p.ERR_STREAM_CANNOT_PIPE,v=p.ERR_STREAM_DESTROYED,g=p.ERR_STREAM_NULL_VALUES,w=p.ERR_STREAM_WRITE_AFTER_END,_=p.ERR_UNKNOWN_ENCODING,S=f.errorOrDestroy;function O(){}function E(e,t,s){n=n||r(70673),e=e||{},"boolean"!=typeof s&&(s=t instanceof n),this.objectMode=!!e.objectMode,s&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=h(this,e,"writableHighWaterMark",s),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var a=!1===e.decodeStrings;this.decodeStrings=!a,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var r=e._writableState,n=r.sync,i=r.writecb;if("function"!=typeof i)throw new b;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(r),t)!function(e,t,r,n,i){--t.pendingcb,r?(o.nextTick(i,n),o.nextTick(R,e,t),e._writableState.errorEmitted=!0,S(e,n)):(i(n),e._writableState.errorEmitted=!0,S(e,n),R(e,t))}(e,r,n,t,i);else{var s=$(r)||e.destroyed;s||r.corked||r.bufferProcessing||!r.bufferedRequest||P(e,r),n?o.nextTick(A,e,r,s,i):A(e,r,s,i)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new i(this)}function T(e){var t=this instanceof(n=n||r(70673));if(!t&&!s.call(T,this))return new T(e);this._writableState=new E(e,this,t),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),c.call(this)}function x(e,t,r,n,o,i,s){t.writelen=n,t.writecb=s,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new v("write")):r?e._writev(o,t.onwrite):e._write(o,i,t.onwrite),t.sync=!1}function A(e,t,r,n){r||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,n(),R(e,t)}function P(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=t.bufferedRequestCount,o=new Array(n),s=t.corkedRequestsFree;s.entry=r;for(var a=0,c=!0;r;)o[a]=r,r.isBuf||(c=!1),r=r.next,a+=1;o.allBuffers=c,x(e,t,!0,t.length,o,"",s.finish),t.pendingcb++,t.lastBufferedRequest=null,s.next?(t.corkedRequestsFree=s.next,s.next=null):t.corkedRequestsFree=new i(t),t.bufferedRequestCount=0}else{for(;r;){var u=r.chunk,l=r.encoding,f=r.callback;if(x(e,t,!1,t.objectMode?1:u.length,u,l,f),r=r.next,t.bufferedRequestCount--,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}function $(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function j(e,t){e._final((function(r){t.pendingcb--,r&&S(e,r),t.prefinished=!0,e.emit("prefinish"),R(e,t)}))}function R(e,t){var r=$(t);if(r&&(function(e,t){t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,o.nextTick(j,e,t)))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var n=e._readableState;(!n||n.autoDestroy&&n.endEmitted)&&e.destroy()}return r}r(23730)(T,c),E.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(E.prototype,"buffer",{get:a.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(s=Function.prototype[Symbol.hasInstance],Object.defineProperty(T,Symbol.hasInstance,{value:function(e){return!!s.call(this,e)||this===T&&e&&e._writableState instanceof E}})):s=function(e){return e instanceof this},T.prototype.pipe=function(){S(this,new m)},T.prototype.write=function(e,t,r){var n,i=this._writableState,s=!1,a=!i.objectMode&&(n=e,u.isBuffer(n)||n instanceof l);return a&&!u.isBuffer(e)&&(e=function(e){return u.from(e)}(e)),"function"==typeof t&&(r=t,t=null),a?t="buffer":t||(t=i.defaultEncoding),"function"!=typeof r&&(r=O),i.ending?function(e,t){var r=new w;S(e,r),o.nextTick(t,r)}(this,r):(a||function(e,t,r,n){var i;return null===r?i=new g:"string"==typeof r||t.objectMode||(i=new d("chunk",["string","Buffer"],r)),!i||(S(e,i),o.nextTick(n,i),!1)}(this,i,e,r))&&(i.pendingcb++,s=function(e,t,r,n,o,i){if(!r){var s=function(e,t,r){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=u.from(t,r)),t}(t,n,o);n!==s&&(r=!0,o="buffer",n=s)}var a=t.objectMode?1:n.length;t.length+=a;var c=t.length<t.highWaterMark;if(c||(t.needDrain=!0),t.writing||t.corked){var l=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:o,isBuf:r,callback:i,next:null},l?l.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else x(e,t,!1,a,n,o,i);return c}(this,i,a,e,t,r)),s},T.prototype.cork=function(){this._writableState.corked++},T.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||P(this,e))},T.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new _(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(T.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(T.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),T.prototype._write=function(e,t,r){r(new y("_write()"))},T.prototype._writev=null,T.prototype.end=function(e,t,r){var n=this._writableState;return"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!=e&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),n.ending||function(e,t,r){t.ending=!0,R(e,t),r&&(t.finished?o.nextTick(r):e.once("finish",r)),t.ended=!0,e.writable=!1}(this,n,r),this},Object.defineProperty(T.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(T.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),T.prototype.destroy=f.destroy,T.prototype._undestroy=f.undestroy,T.prototype._destroy=function(e,t){t(e)}},48187:(e,t,r)=>{var n,o=r(12695);function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var s=r(2426),a=Symbol("lastResolve"),c=Symbol("lastReject"),u=Symbol("error"),l=Symbol("ended"),f=Symbol("lastPromise"),h=Symbol("handlePromise"),p=Symbol("stream");function d(e,t){return{value:e,done:t}}function y(e){var t=e[a];if(null!==t){var r=e[p].read();null!==r&&(e[f]=null,e[a]=null,e[c]=null,t(d(r,!1)))}}function b(e){o.nextTick(y,e)}var m=Object.getPrototypeOf((function(){})),v=Object.setPrototypeOf((i(n={get stream(){return this[p]},next:function(){var e=this,t=this[u];if(null!==t)return Promise.reject(t);if(this[l])return Promise.resolve(d(void 0,!0));if(this[p].destroyed)return new Promise((function(t,r){o.nextTick((function(){e[u]?r(e[u]):t(d(void 0,!0))}))}));var r,n=this[f];if(n)r=new Promise(function(e,t){return function(r,n){e.then((function(){t[l]?r(d(void 0,!0)):t[h](r,n)}),n)}}(n,this));else{var i=this[p].read();if(null!==i)return Promise.resolve(d(i,!1));r=new Promise(this[h])}return this[f]=r,r}},Symbol.asyncIterator,(function(){return this})),i(n,"return",(function(){var e=this;return new Promise((function(t,r){e[p].destroy(null,(function(e){e?r(e):t(d(void 0,!0))}))}))})),n),m);e.exports=function(e){var t,r=Object.create(v,(i(t={},p,{value:e,writable:!0}),i(t,a,{value:null,writable:!0}),i(t,c,{value:null,writable:!0}),i(t,u,{value:null,writable:!0}),i(t,l,{value:e._readableState.endEmitted,writable:!0}),i(t,h,{value:function(e,t){var n=r[p].read();n?(r[f]=null,r[a]=null,r[c]=null,e(d(n,!1))):(r[a]=e,r[c]=t)},writable:!0}),t));return r[f]=null,s(e,(function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=r[c];return null!==t&&(r[f]=null,r[a]=null,r[c]=null,t(e)),void(r[u]=e)}var n=r[a];null!==n&&(r[f]=null,r[a]=null,r[c]=null,n(d(void 0,!0))),r[l]=!0})),e.on("readable",b.bind(null,r)),r}},24506:(e,t,r)=>{function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var s=r(97866).Buffer,a=r(10462).inspect,c=a&&a.custom||"inspect";e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}var t,r;return t=e,r=[{key:"push",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r}},{key:"concat",value:function(e){if(0===this.length)return s.alloc(0);for(var t,r,n,o=s.allocUnsafe(e>>>0),i=this.head,a=0;i;)t=i.data,r=o,n=a,s.prototype.copy.call(t,r,n),a+=i.data.length,i=i.next;return o}},{key:"consume",value:function(e,t){var r;return e<this.head.data.length?(r=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):r=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),r}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,r=1,n=t.data;for(e-=n.length;t=t.next;){var o=t.data,i=e>o.length?o.length:e;if(i===o.length?n+=o:n+=o.slice(0,e),0==(e-=i)){i===o.length?(++r,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=o.slice(i));break}++r}return this.length-=r,n}},{key:"_getBuffer",value:function(e){var t=s.allocUnsafe(e),r=this.head,n=1;for(r.data.copy(t),e-=r.data.length;r=r.next;){var o=r.data,i=e>o.length?o.length:e;if(o.copy(t,t.length-e,0,i),0==(e-=i)){i===o.length?(++n,r.next?this.head=r.next:this.head=this.tail=null):(this.head=r,r.data=o.slice(i));break}++n}return this.length-=n,t}},{key:c,value:function(e,t){return a(this,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},t,{depth:0,customInspect:!1}))}}],r&&i(t.prototype,r),e}()},33390:(e,t,r)=>{var n=r(12695);function o(e,t){s(e,t),i(e)}function i(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function s(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var r=this,a=this._readableState&&this._readableState.destroyed,c=this._writableState&&this._writableState.destroyed;return a||c?(t?t(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,n.nextTick(s,this,e)):n.nextTick(s,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!t&&e?r._writableState?r._writableState.errorEmitted?n.nextTick(i,r):(r._writableState.errorEmitted=!0,n.nextTick(o,r,e)):n.nextTick(o,r,e):t?(n.nextTick(i,r),t(e)):n.nextTick(i,r)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(e,t){var r=e._readableState,n=e._writableState;r&&r.autoDestroy||n&&n.autoDestroy?e.destroy(t):e.emit("error",t)}}},2426:(e,t,r)=>{var n=r(90553).q.ERR_STREAM_PREMATURE_CLOSE;function o(){}e.exports=function e(t,r,i){if("function"==typeof r)return e(t,null,r);r||(r={}),i=function(e){var t=!1;return function(){if(!t){t=!0;for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];e.apply(this,n)}}}(i||o);var s=r.readable||!1!==r.readable&&t.readable,a=r.writable||!1!==r.writable&&t.writable,c=function(){t.writable||l()},u=t._writableState&&t._writableState.finished,l=function(){a=!1,u=!0,s||i.call(t)},f=t._readableState&&t._readableState.endEmitted,h=function(){s=!1,f=!0,a||i.call(t)},p=function(e){i.call(t,e)},d=function(){var e;return s&&!f?(t._readableState&&t._readableState.ended||(e=new n),i.call(t,e)):a&&!u?(t._writableState&&t._writableState.ended||(e=new n),i.call(t,e)):void 0},y=function(){t.req.on("finish",l)};return function(e){return e.setHeader&&"function"==typeof e.abort}(t)?(t.on("complete",l),t.on("abort",d),t.req?y():t.on("request",y)):a&&!t._writableState&&(t.on("end",c),t.on("close",c)),t.on("end",h),t.on("finish",l),!1!==r.error&&t.on("error",p),t.on("close",d),function(){t.removeListener("complete",l),t.removeListener("abort",d),t.removeListener("request",y),t.req&&t.req.removeListener("finish",l),t.removeListener("end",c),t.removeListener("close",c),t.removeListener("finish",l),t.removeListener("end",h),t.removeListener("error",p),t.removeListener("close",d)}}},83733:e=>{e.exports=function(){throw new Error("Readable.from is not available in the browser")}},22970:(e,t,r)=>{var n,o=r(90553).q,i=o.ERR_MISSING_ARGS,s=o.ERR_STREAM_DESTROYED;function a(e){if(e)throw e}function c(e,t,o,i){i=function(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}(i);var a=!1;e.on("close",(function(){a=!0})),void 0===n&&(n=r(2426)),n(e,{readable:t,writable:o},(function(e){if(e)return i(e);a=!0,i()}));var c=!1;return function(t){if(!a&&!c)return c=!0,function(e){return e.setHeader&&"function"==typeof e.abort}(e)?e.abort():"function"==typeof e.destroy?e.destroy():void i(t||new s("pipe"))}}function u(e){e()}function l(e,t){return e.pipe(t)}function f(e){return e.length?"function"!=typeof e[e.length-1]?a:e.pop():a}e.exports=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n,o=f(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new i("streams");var s=t.map((function(e,r){var i=r<t.length-1;return c(e,i,r>0,(function(e){n||(n=e),e&&s.forEach(u),i||(s.forEach(u),o(n))}))}));return t.reduce(l)}},21111:(e,t,r)=>{var n=r(90553).q.ERR_INVALID_OPT_VALUE;e.exports={getHighWaterMark:function(e,t,r,o){var i=function(e,t,r){return null!=e.highWaterMark?e.highWaterMark:t?e[r]:null}(t,o,r);if(null!=i){if(!isFinite(i)||Math.floor(i)!==i||i<0)throw new n(o?r:"highWaterMark",i);return Math.floor(i)}return e.objectMode?16:16384}}},48208:(e,t,r)=>{e.exports=r(33346).EventEmitter},29142:(e,t,r)=>{(t=e.exports=r(95006)).Stream=t,t.Readable=t,t.Writable=r(98719),t.Duplex=r(70673),t.Transform=r(48597),t.PassThrough=r(24324),t.finished=r(2426),t.pipeline=r(22970)},40543:(e,t,r)=>{const{AbortError:n,codes:o}=r(43696),i=r(53735),{ERR_INVALID_ARG_TYPE:s}=o;e.exports.addAbortSignal=function(t,r){if(((e,t)=>{if("object"!=typeof e||!("aborted"in e))throw new s("signal","AbortSignal",e)})(t),!(n=r)||"function"!=typeof n.pipe)throw new s("stream","stream.Stream",r);var n;return e.exports.addAbortSignalNoValidate(t,r)},e.exports.addAbortSignalNoValidate=function(e,t){if("object"!=typeof e||!("aborted"in e))return t;const r=()=>{t.destroy(new n(void 0,{cause:e.reason}))};return e.aborted?r():(e.addEventListener("abort",r),i(t,(()=>e.removeEventListener("abort",r)))),t}},71586:(e,t,r)=>{const{StringPrototypeSlice:n,SymbolIterator:o,TypedArrayPrototypeSet:i,Uint8Array:s}=r(8216),{Buffer:a}=r(97866),{inspect:c}=r(93878);e.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(e){const t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}unshift(e){const t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}shift(){if(0===this.length)return;const e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}clear(){this.head=this.tail=null,this.length=0}join(e){if(0===this.length)return"";let t=this.head,r=""+t.data;for(;null!==(t=t.next);)r+=e+t.data;return r}concat(e){if(0===this.length)return a.alloc(0);const t=a.allocUnsafe(e>>>0);let r=this.head,n=0;for(;r;)i(t,r.data,n),n+=r.data.length,r=r.next;return t}consume(e,t){const r=this.head.data;if(e<r.length){const t=r.slice(0,e);return this.head.data=r.slice(e),t}return e===r.length?this.shift():t?this._getString(e):this._getBuffer(e)}first(){return this.head.data}*[o](){for(let e=this.head;e;e=e.next)yield e.data}_getString(e){let t="",r=this.head,o=0;do{const i=r.data;if(!(e>i.length)){e===i.length?(t+=i,++o,r.next?this.head=r.next:this.head=this.tail=null):(t+=n(i,0,e),this.head=r,r.data=n(i,e));break}t+=i,e-=i.length,++o}while(null!==(r=r.next));return this.length-=o,t}_getBuffer(e){const t=a.allocUnsafe(e),r=e;let n=this.head,o=0;do{const a=n.data;if(!(e>a.length)){e===a.length?(i(t,a,r-e),++o,n.next?this.head=n.next:this.head=this.tail=null):(i(t,new s(a.buffer,a.byteOffset,e),r-e),this.head=n,n.data=a.slice(e));break}i(t,a,r-e),e-=a.length,++o}while(null!==(n=n.next));return this.length-=o,t}[Symbol.for("nodejs.util.inspect.custom")](e,t){return c(this,{...t,depth:0,customInspect:!1})}}},58626:(e,t,r)=>{const{pipeline:n}=r(21439),o=r(33325),{destroyer:i}=r(94351),{isNodeStream:s,isReadable:a,isWritable:c}=r(65300),{AbortError:u,codes:{ERR_INVALID_ARG_VALUE:l,ERR_MISSING_ARGS:f}}=r(43696);e.exports=function(...e){if(0===e.length)throw new f("streams");if(1===e.length)return o.from(e[0]);const t=[...e];if("function"==typeof e[0]&&(e[0]=o.from(e[0])),"function"==typeof e[e.length-1]){const t=e.length-1;e[t]=o.from(e[t])}for(let r=0;r<e.length;++r)if(s(e[r])){if(r<e.length-1&&!a(e[r]))throw new l(`streams[${r}]`,t[r],"must be readable");if(r>0&&!c(e[r]))throw new l(`streams[${r}]`,t[r],"must be writable")}let r,h,p,d,y;const b=e[0],m=n(e,(function(e){const t=d;d=null,t?t(e):e?y.destroy(e):g||v||y.destroy()})),v=!!c(b),g=!!a(m);return y=new o({writableObjectMode:!(null==b||!b.writableObjectMode),readableObjectMode:!(null==m||!m.writableObjectMode),writable:v,readable:g}),v&&(y._write=function(e,t,n){b.write(e,t)?n():r=n},y._final=function(e){b.end(),h=e},b.on("drain",(function(){if(r){const e=r;r=null,e()}})),m.on("finish",(function(){if(h){const e=h;h=null,e()}}))),g&&(m.on("readable",(function(){if(p){const e=p;p=null,e()}})),m.on("end",(function(){y.push(null)})),y._read=function(){for(;;){const e=m.read();if(null===e)return void(p=y._read);if(!y.push(e))return}}),y._destroy=function(e,t){e||null===d||(e=new u),p=null,r=null,h=null,null===d?t(e):(d=t,i(m,e))},y}},94351:(e,t,r)=>{const n=r(12695),{aggregateTwoErrors:o,codes:{ERR_MULTIPLE_CALLBACK:i},AbortError:s}=r(43696),{Symbol:a}=r(8216),{kDestroyed:c,isDestroyed:u,isFinished:l,isServerRequest:f}=r(65300),h=a("kDestroy"),p=a("kConstruct");function d(e,t,r){e&&(e.stack,t&&!t.errored&&(t.errored=e),r&&!r.errored&&(r.errored=e))}function y(e,t,r){let o=!1;function i(t){if(o)return;o=!0;const i=e._readableState,s=e._writableState;d(t,s,i),s&&(s.closed=!0),i&&(i.closed=!0),"function"==typeof r&&r(t),t?n.nextTick(b,e,t):n.nextTick(m,e)}try{e._destroy(t||null,i)}catch(t){i(t)}}function b(e,t){v(e,t),m(e)}function m(e){const t=e._readableState,r=e._writableState;r&&(r.closeEmitted=!0),t&&(t.closeEmitted=!0),(r&&r.emitClose||t&&t.emitClose)&&e.emit("close")}function v(e,t){const r=e._readableState,n=e._writableState;n&&n.errorEmitted||r&&r.errorEmitted||(n&&(n.errorEmitted=!0),r&&(r.errorEmitted=!0),e.emit("error",t))}function g(e,t,r){const o=e._readableState,i=e._writableState;if(i&&i.destroyed||o&&o.destroyed)return this;o&&o.autoDestroy||i&&i.autoDestroy?e.destroy(t):t&&(t.stack,i&&!i.errored&&(i.errored=t),o&&!o.errored&&(o.errored=t),r?n.nextTick(v,e,t):v(e,t))}function w(e){let t=!1;function r(r){if(t)return void g(e,null!=r?r:new i);t=!0;const o=e._readableState,s=e._writableState,a=s||o;o&&(o.constructed=!0),s&&(s.constructed=!0),a.destroyed?e.emit(h,r):r?g(e,r,!0):n.nextTick(_,e)}try{e._construct(r)}catch(e){r(e)}}function _(e){e.emit(p)}function S(e){return e&&e.setHeader&&"function"==typeof e.abort}function O(e){e.emit("close")}function E(e,t){e.emit("error",t),n.nextTick(O,e)}e.exports={construct:function(e,t){if("function"!=typeof e._construct)return;const r=e._readableState,o=e._writableState;r&&(r.constructed=!1),o&&(o.constructed=!1),e.once(p,t),e.listenerCount(p)>1||n.nextTick(w,e)},destroyer:function(e,t){e&&!u(e)&&(t||l(e)||(t=new s),f(e)?(e.socket=null,e.destroy(t)):S(e)?e.abort():S(e.req)?e.req.abort():"function"==typeof e.destroy?e.destroy(t):"function"==typeof e.close?e.close():t?n.nextTick(E,e,t):n.nextTick(O,e),e.destroyed||(e[c]=!0))},destroy:function(e,t){const r=this._readableState,n=this._writableState,i=n||r;return n&&n.destroyed||r&&r.destroyed?("function"==typeof t&&t(),this):(d(e,n,r),n&&(n.destroyed=!0),r&&(r.destroyed=!0),i.constructed?y(this,e,t):this.once(h,(function(r){y(this,o(r,e),t)})),this)},undestroy:function(){const e=this._readableState,t=this._writableState;e&&(e.constructed=!0,e.closed=!1,e.closeEmitted=!1,e.destroyed=!1,e.errored=null,e.errorEmitted=!1,e.reading=!1,e.ended=!1===e.readable,e.endEmitted=!1===e.readable),t&&(t.constructed=!0,t.destroyed=!1,t.closed=!1,t.closeEmitted=!1,t.errored=null,t.errorEmitted=!1,t.finalCalled=!1,t.prefinished=!1,t.ended=!1===t.writable,t.ending=!1===t.writable,t.finished=!1===t.writable)},errorOrDestroy:g}},33325:(e,t,r)=>{const{ObjectDefineProperties:n,ObjectGetOwnPropertyDescriptor:o,ObjectKeys:i,ObjectSetPrototypeOf:s}=r(8216);e.exports=u;const a=r(33728),c=r(79052);s(u.prototype,a.prototype),s(u,a);{const e=i(c.prototype);for(let t=0;t<e.length;t++){const r=e[t];u.prototype[r]||(u.prototype[r]=c.prototype[r])}}function u(e){if(!(this instanceof u))return new u(e);a.call(this,e),c.call(this,e),e?(this.allowHalfOpen=!1!==e.allowHalfOpen,!1===e.readable&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),!1===e.writable&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}let l,f;function h(){return void 0===l&&(l={}),l}n(u.prototype,{writable:{__proto__:null,...o(c.prototype,"writable")},writableHighWaterMark:{__proto__:null,...o(c.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...o(c.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...o(c.prototype,"writableBuffer")},writableLength:{__proto__:null,...o(c.prototype,"writableLength")},writableFinished:{__proto__:null,...o(c.prototype,"writableFinished")},writableCorked:{__proto__:null,...o(c.prototype,"writableCorked")},writableEnded:{__proto__:null,...o(c.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...o(c.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set(e){this._readableState&&this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}}),u.fromWeb=function(e,t){return h().newStreamDuplexFromReadableWritablePair(e,t)},u.toWeb=function(e){return h().newReadableWritablePairFromDuplex(e)},u.from=function(e){return f||(f=r(7455)),f(e,"body")}},7455:(e,t,r)=>{const n=r(12695),o=r(97866),{isReadable:i,isWritable:s,isIterable:a,isNodeStream:c,isReadableNodeStream:u,isWritableNodeStream:l,isDuplexNodeStream:f}=r(65300),h=r(53735),{AbortError:p,codes:{ERR_INVALID_ARG_TYPE:d,ERR_INVALID_RETURN_VALUE:y}}=r(43696),{destroyer:b}=r(94351),m=r(33325),v=r(33728),{createDeferredPromise:g}=r(93878),w=r(36680),_=globalThis.Blob||o.Blob,S=void 0!==_?function(e){return e instanceof _}:function(e){return!1},O=globalThis.AbortController||r(44892).AbortController,{FunctionPrototypeCall:E}=r(8216);class T extends m{constructor(e){super(e),!1===(null==e?void 0:e.readable)&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),!1===(null==e?void 0:e.writable)&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}}function x(e){const t=e.readable&&"function"!=typeof e.readable.read?v.wrap(e.readable):e.readable,r=e.writable;let n,o,a,c,u,l=!!i(t),f=!!s(r);function d(e){const t=c;c=null,t?t(e):e?u.destroy(e):l||f||u.destroy()}return u=new T({readableObjectMode:!(null==t||!t.readableObjectMode),writableObjectMode:!(null==r||!r.writableObjectMode),readable:l,writable:f}),f&&(h(r,(e=>{f=!1,e&&b(t,e),d(e)})),u._write=function(e,t,o){r.write(e,t)?o():n=o},u._final=function(e){r.end(),o=e},r.on("drain",(function(){if(n){const e=n;n=null,e()}})),r.on("finish",(function(){if(o){const e=o;o=null,e()}}))),l&&(h(t,(e=>{l=!1,e&&b(t,e),d(e)})),t.on("readable",(function(){if(a){const e=a;a=null,e()}})),t.on("end",(function(){u.push(null)})),u._read=function(){for(;;){const e=t.read();if(null===e)return void(a=u._read);if(!u.push(e))return}}),u._destroy=function(e,i){e||null===c||(e=new p),a=null,n=null,o=null,null===c?i(e):(c=i,b(r,e),b(t,e))},u}e.exports=function e(t,r){if(f(t))return t;if(u(t))return x({readable:t});if(l(t))return x({writable:t});if(c(t))return x({writable:!1,readable:!1});if("function"==typeof t){const{value:e,write:o,final:i,destroy:s}=function(e){let{promise:t,resolve:r}=g();const o=new O,i=o.signal;return{value:e(async function*(){for(;;){const e=t;t=null;const{chunk:o,done:s,cb:a}=await e;if(n.nextTick(a),s)return;if(i.aborted)throw new p(void 0,{cause:i.reason});({promise:t,resolve:r}=g()),yield o}}(),{signal:i}),write(e,t,n){const o=r;r=null,o({chunk:e,done:!1,cb:n})},final(e){const t=r;r=null,t({done:!0,cb:e})},destroy(e,t){o.abort(),t(e)}}}(t);if(a(e))return w(T,e,{objectMode:!0,write:o,final:i,destroy:s});const c=null==e?void 0:e.then;if("function"==typeof c){let t;const r=E(c,e,(e=>{if(null!=e)throw new y("nully","body",e)}),(e=>{b(t,e)}));return t=new T({objectMode:!0,readable:!1,write:o,final(e){i((async()=>{try{await r,n.nextTick(e,null)}catch(t){n.nextTick(e,t)}}))},destroy:s})}throw new y("Iterable, AsyncIterable or AsyncFunction",r,e)}if(S(t))return e(t.arrayBuffer());if(a(t))return w(T,t,{objectMode:!0,writable:!1});if("object"==typeof(null==t?void 0:t.writable)||"object"==typeof(null==t?void 0:t.readable))return x({readable:null!=t&&t.readable?u(null==t?void 0:t.readable)?null==t?void 0:t.readable:e(t.readable):void 0,writable:null!=t&&t.writable?l(null==t?void 0:t.writable)?null==t?void 0:t.writable:e(t.writable):void 0});const o=null==t?void 0:t.then;if("function"==typeof o){let e;return E(o,t,(t=>{null!=t&&e.push(t),e.push(null)}),(t=>{b(e,t)})),e=new T({objectMode:!0,writable:!1,read(){}})}throw new d(r,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],t)}},53735:(e,t,r)=>{const n=r(12695),{AbortError:o,codes:i}=r(43696),{ERR_INVALID_ARG_TYPE:s,ERR_STREAM_PREMATURE_CLOSE:a}=i,{kEmptyObject:c,once:u}=r(93878),{validateAbortSignal:l,validateFunction:f,validateObject:h}=r(81762),{Promise:p}=r(8216),{isClosed:d,isReadable:y,isReadableNodeStream:b,isReadableFinished:m,isReadableErrored:v,isWritable:g,isWritableNodeStream:w,isWritableFinished:_,isWritableErrored:S,isNodeStream:O,willEmitClose:E}=r(65300);function T(e){return e.setHeader&&"function"==typeof e.abort}const x=()=>{};function A(e,t,r){var i,p;2===arguments.length?(r=t,t=c):null==t?t=c:h(t,"options"),f(r,"callback"),l(t.signal,"options.signal"),r=u(r);const A=null!==(i=t.readable)&&void 0!==i?i:b(e),P=null!==(p=t.writable)&&void 0!==p?p:w(e);if(!O(e))throw new s("stream","Stream",e);const $=e._writableState,j=e._readableState,R=()=>{e.writable||N()};let C=E(e)&&b(e)===A&&w(e)===P,I=_(e,!1);const N=()=>{I=!0,e.destroyed&&(C=!1),(!C||e.readable&&!A)&&(A&&!k||r.call(e))};let k=m(e,!1);const M=()=>{k=!0,e.destroyed&&(C=!1),(!C||e.writable&&!P)&&(P&&!I||r.call(e))},F=t=>{r.call(e,t)};let L=d(e);const D=()=>{L=!0;const t=S(e)||v(e);return t&&"boolean"!=typeof t?r.call(e,t):A&&!k&&b(e,!0)&&!m(e,!1)?r.call(e,new a):!P||I||_(e,!1)?void r.call(e):r.call(e,new a)},U=()=>{e.req.on("finish",N)};T(e)?(e.on("complete",N),C||e.on("abort",D),e.req?U():e.on("request",U)):P&&!$&&(e.on("end",R),e.on("close",R)),C||"boolean"!=typeof e.aborted||e.on("aborted",D),e.on("end",M),e.on("finish",N),!1!==t.error&&e.on("error",F),e.on("close",D),L?n.nextTick(D):null!=$&&$.errorEmitted||null!=j&&j.errorEmitted?C||n.nextTick(D):(A||C&&!y(e)||!I&&!1!==g(e))&&(P||C&&!g(e)||!k&&!1!==y(e))?j&&e.req&&e.aborted&&n.nextTick(D):n.nextTick(D);const B=()=>{r=x,e.removeListener("aborted",D),e.removeListener("complete",N),e.removeListener("abort",D),e.removeListener("request",U),e.req&&e.req.removeListener("finish",N),e.removeListener("end",R),e.removeListener("close",R),e.removeListener("finish",N),e.removeListener("end",M),e.removeListener("error",F),e.removeListener("close",D)};if(t.signal&&!L){const i=()=>{const n=r;B(),n.call(e,new o(void 0,{cause:t.signal.reason}))};if(t.signal.aborted)n.nextTick(i);else{const n=r;r=u(((...r)=>{t.signal.removeEventListener("abort",i),n.apply(e,r)})),t.signal.addEventListener("abort",i)}}return B}e.exports=A,e.exports.finished=function(e,t){return new p(((r,n)=>{A(e,t,(e=>{e?n(e):r()}))}))}},36680:(e,t,r)=>{const n=r(12695),{PromisePrototypeThen:o,SymbolAsyncIterator:i,SymbolIterator:s}=r(8216),{Buffer:a}=r(97866),{ERR_INVALID_ARG_TYPE:c,ERR_STREAM_NULL_VALUES:u}=r(43696).codes;e.exports=function(e,t,r){let l,f;if("string"==typeof t||t instanceof a)return new e({objectMode:!0,...r,read(){this.push(t),this.push(null)}});if(t&&t[i])f=!0,l=t[i]();else{if(!t||!t[s])throw new c("iterable",["Iterable"],t);f=!1,l=t[s]()}const h=new e({objectMode:!0,highWaterMark:1,...r});let p=!1;return h._read=function(){p||(p=!0,async function(){for(;;){try{const{value:e,done:t}=f?await l.next():l.next();if(t)h.push(null);else{const t=e&&"function"==typeof e.then?await e:e;if(null===t)throw p=!1,new u;if(h.push(t))continue;p=!1}}catch(e){h.destroy(e)}break}}())},h._destroy=function(e,t){o(async function(e){const t=null!=e,r="function"==typeof l.throw;if(t&&r){const{value:t,done:r}=await l.throw(e);if(await t,r)return}if("function"==typeof l.return){const{value:e}=await l.return();await e}}(e),(()=>n.nextTick(t,e)),(r=>n.nextTick(t,r||e)))},h}},24272:(e,t,r)=>{const{ArrayIsArray:n,ObjectSetPrototypeOf:o}=r(8216),{EventEmitter:i}=r(33346);function s(e){i.call(this,e)}function a(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?n(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}o(s.prototype,i.prototype),o(s,i),s.prototype.pipe=function(e,t){const r=this;function n(t){e.writable&&!1===e.write(t)&&r.pause&&r.pause()}function o(){r.readable&&r.resume&&r.resume()}r.on("data",n),e.on("drain",o),e._isStdio||t&&!1===t.end||(r.on("end",c),r.on("close",u));let s=!1;function c(){s||(s=!0,e.end())}function u(){s||(s=!0,"function"==typeof e.destroy&&e.destroy())}function l(e){f(),0===i.listenerCount(this,"error")&&this.emit("error",e)}function f(){r.removeListener("data",n),e.removeListener("drain",o),r.removeListener("end",c),r.removeListener("close",u),r.removeListener("error",l),e.removeListener("error",l),r.removeListener("end",f),r.removeListener("close",f),e.removeListener("close",f)}return a(r,"error",l),a(e,"error",l),r.on("end",f),r.on("close",f),e.on("close",f),e.emit("pipe",r),e},e.exports={Stream:s,prependListener:a}},61074:(e,t,r)=>{const n=globalThis.AbortController||r(44892).AbortController,{codes:{ERR_INVALID_ARG_TYPE:o,ERR_MISSING_ARGS:i,ERR_OUT_OF_RANGE:s},AbortError:a}=r(43696),{validateAbortSignal:c,validateInteger:u,validateObject:l}=r(81762),f=r(8216).Symbol("kWeak"),{finished:h}=r(53735),{ArrayPrototypePush:p,MathFloor:d,Number:y,NumberIsNaN:b,Promise:m,PromiseReject:v,PromisePrototypeThen:g,Symbol:w}=r(8216),_=w("kEmpty"),S=w("kEof");function O(e,t){if("function"!=typeof e)throw new o("fn",["Function","AsyncFunction"],e);null!=t&&l(t,"options"),null!=(null==t?void 0:t.signal)&&c(t.signal,"options.signal");let r=1;return null!=(null==t?void 0:t.concurrency)&&(r=d(t.concurrency)),u(r,"concurrency",1),async function*(){var o,i;const s=new n,c=this,u=[],l=s.signal,f={signal:l},h=()=>s.abort();let p,d;null!=t&&null!==(o=t.signal)&&void 0!==o&&o.aborted&&h(),null==t||null===(i=t.signal)||void 0===i||i.addEventListener("abort",h);let y=!1;function b(){y=!0}!async function(){try{for await(let t of c){var n;if(y)return;if(l.aborted)throw new a;try{t=e(t,f)}catch(e){t=v(e)}t!==_&&("function"==typeof(null===(n=t)||void 0===n?void 0:n.catch)&&t.catch(b),u.push(t),p&&(p(),p=null),!y&&u.length&&u.length>=r&&await new m((e=>{d=e})))}u.push(S)}catch(e){const t=v(e);g(t,void 0,b),u.push(t)}finally{var o;y=!0,p&&(p(),p=null),null==t||null===(o=t.signal)||void 0===o||o.removeEventListener("abort",h)}}();try{for(;;){for(;u.length>0;){const e=await u[0];if(e===S)return;if(l.aborted)throw new a;e!==_&&(yield e),u.shift(),d&&(d(),d=null)}await new m((e=>{p=e}))}}finally{s.abort(),y=!0,d&&(d(),d=null)}}.call(this)}async function E(e,t){for await(const r of T.call(this,e,t))return!0;return!1}function T(e,t){if("function"!=typeof e)throw new o("fn",["Function","AsyncFunction"],e);return O.call(this,(async function(t,r){return await e(t,r)?t:_}),t)}class x extends i{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}}function A(e){if(e=y(e),b(e))return 0;if(e<0)throw new s("number",">= 0",e);return e}e.exports.streamReturningOperators={asIndexedPairs:function(e){return null!=e&&l(e,"options"),null!=(null==e?void 0:e.signal)&&c(e.signal,"options.signal"),async function*(){let t=0;for await(const n of this){var r;if(null!=e&&null!==(r=e.signal)&&void 0!==r&&r.aborted)throw new a({cause:e.signal.reason});yield[t++,n]}}.call(this)},drop:function(e,t){return null!=t&&l(t,"options"),null!=(null==t?void 0:t.signal)&&c(t.signal,"options.signal"),e=A(e),async function*(){var r;if(null!=t&&null!==(r=t.signal)&&void 0!==r&&r.aborted)throw new a;for await(const r of this){var n;if(null!=t&&null!==(n=t.signal)&&void 0!==n&&n.aborted)throw new a;e--<=0&&(yield r)}}.call(this)},filter:T,flatMap:function(e,t){const r=O.call(this,e,t);return async function*(){for await(const e of r)yield*e}.call(this)},map:O,take:function(e,t){return null!=t&&l(t,"options"),null!=(null==t?void 0:t.signal)&&c(t.signal,"options.signal"),e=A(e),async function*(){var r;if(null!=t&&null!==(r=t.signal)&&void 0!==r&&r.aborted)throw new a;for await(const r of this){var n;if(null!=t&&null!==(n=t.signal)&&void 0!==n&&n.aborted)throw new a;if(!(e-- >0))return;yield r}}.call(this)}},e.exports.promiseReturningOperators={every:async function(e,t){if("function"!=typeof e)throw new o("fn",["Function","AsyncFunction"],e);return!await E.call(this,(async(...t)=>!await e(...t)),t)},forEach:async function(e,t){if("function"!=typeof e)throw new o("fn",["Function","AsyncFunction"],e);for await(const r of O.call(this,(async function(t,r){return await e(t,r),_}),t));},reduce:async function(e,t,r){var i;if("function"!=typeof e)throw new o("reducer",["Function","AsyncFunction"],e);null!=r&&l(r,"options"),null!=(null==r?void 0:r.signal)&&c(r.signal,"options.signal");let s=arguments.length>1;if(null!=r&&null!==(i=r.signal)&&void 0!==i&&i.aborted){const e=new a(void 0,{cause:r.signal.reason});throw this.once("error",(()=>{})),await h(this.destroy(e)),e}const u=new n,p=u.signal;if(null!=r&&r.signal){const e={once:!0,[f]:this};r.signal.addEventListener("abort",(()=>u.abort()),e)}let d=!1;try{for await(const n of this){var y;if(d=!0,null!=r&&null!==(y=r.signal)&&void 0!==y&&y.aborted)throw new a;s?t=await e(t,n,{signal:p}):(t=n,s=!0)}if(!d&&!s)throw new x}finally{u.abort()}return t},toArray:async function(e){null!=e&&l(e,"options"),null!=(null==e?void 0:e.signal)&&c(e.signal,"options.signal");const t=[];for await(const n of this){var r;if(null!=e&&null!==(r=e.signal)&&void 0!==r&&r.aborted)throw new a(void 0,{cause:e.signal.reason});p(t,n)}return t},some:E,find:async function(e,t){for await(const r of T.call(this,e,t))return r}}},93592:(e,t,r)=>{const{ObjectSetPrototypeOf:n}=r(8216);e.exports=i;const o=r(21955);function i(e){if(!(this instanceof i))return new i(e);o.call(this,e)}n(i.prototype,o.prototype),n(i,o),i.prototype._transform=function(e,t,r){r(null,e)}},21439:(e,t,r)=>{const n=r(12695),{ArrayIsArray:o,Promise:i,SymbolAsyncIterator:s}=r(8216),a=r(53735),{once:c}=r(93878),u=r(94351),l=r(33325),{aggregateTwoErrors:f,codes:{ERR_INVALID_ARG_TYPE:h,ERR_INVALID_RETURN_VALUE:p,ERR_MISSING_ARGS:d,ERR_STREAM_DESTROYED:y,ERR_STREAM_PREMATURE_CLOSE:b},AbortError:m}=r(43696),{validateFunction:v,validateAbortSignal:g}=r(81762),{isIterable:w,isReadable:_,isReadableNodeStream:S,isNodeStream:O}=r(65300),E=globalThis.AbortController||r(44892).AbortController;let T,x;function A(e,t,r){let n=!1;return e.on("close",(()=>{n=!0})),{destroy:t=>{n||(n=!0,u.destroyer(e,t||new y("pipe")))},cleanup:a(e,{readable:t,writable:r},(e=>{n=!e}))}}function P(e){if(w(e))return e;if(S(e))return async function*(e){x||(x=r(33728)),yield*x.prototype[s].call(e)}(e);throw new h("val",["Readable","Iterable","AsyncIterable"],e)}async function $(e,t,r,{end:n}){let o,s=null;const c=e=>{if(e&&(o=e),s){const e=s;s=null,e()}},u=()=>new i(((e,t)=>{o?t(o):s=()=>{o?t(o):e()}}));t.on("drain",c);const l=a(t,{readable:!1},c);try{t.writableNeedDrain&&await u();for await(const r of e)t.write(r)||await u();n&&t.end(),await u(),r()}catch(e){r(o!==e?f(o,e):e)}finally{l(),t.off("drain",c)}}function j(e,t,i){if(1===e.length&&o(e[0])&&(e=e[0]),e.length<2)throw new d("streams");const s=new E,a=s.signal,c=null==i?void 0:i.signal,u=[];function f(){I(new m)}let y,b;g(c,"options.signal"),null==c||c.addEventListener("abort",f);const v=[];let x,j=0;function C(e){I(e,0==--j)}function I(e,r){if(!e||y&&"ERR_STREAM_PREMATURE_CLOSE"!==y.code||(y=e),y||r){for(;v.length;)v.shift()(y);null==c||c.removeEventListener("abort",f),s.abort(),r&&(y||u.forEach((e=>e())),n.nextTick(t,y,b))}}for(let M=0;M<e.length;M++){const F=e[M],L=M<e.length-1,D=M>0,U=L||!1!==(null==i?void 0:i.end),B=M===e.length-1;if(O(F)){if(U){const{destroy:q,cleanup:V}=A(F,L,D);v.push(q),_(F)&&B&&u.push(V)}function N(e){e&&"AbortError"!==e.name&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code&&C(e)}F.on("error",N),_(F)&&B&&u.push((()=>{F.removeListener("error",N)}))}if(0===M)if("function"==typeof F){if(x=F({signal:a}),!w(x))throw new p("Iterable, AsyncIterable or Stream","source",x)}else x=w(F)||S(F)?F:l.from(F);else if("function"==typeof F)if(x=P(x),x=F(x,{signal:a}),L){if(!w(x,!0))throw new p("AsyncIterable",`transform[${M-1}]`,x)}else{var k;T||(T=r(93592));const W=new T({objectMode:!0}),z=null===(k=x)||void 0===k?void 0:k.then;if("function"==typeof z)j++,z.call(x,(e=>{b=e,null!=e&&W.write(e),U&&W.end(),n.nextTick(C)}),(e=>{W.destroy(e),n.nextTick(C,e)}));else{if(!w(x,!0))throw new p("AsyncIterable or Promise","destination",x);j++,$(x,W,C,{end:U})}x=W;const{destroy:H,cleanup:G}=A(x,!1,!0);v.push(H),B&&u.push(G)}else if(O(F)){if(S(x)){j+=2;const Y=R(x,F,C,{end:U});_(F)&&B&&u.push(Y)}else{if(!w(x))throw new h("val",["Readable","Iterable","AsyncIterable"],x);j++,$(x,F,C,{end:U})}x=F}else x=l.from(F)}return(null!=a&&a.aborted||null!=c&&c.aborted)&&n.nextTick(f),x}function R(e,t,r,{end:n}){let o=!1;return t.on("close",(()=>{o||r(new b)})),e.pipe(t,{end:n}),n?e.once("end",(()=>{o=!0,t.end()})):r(),a(e,{readable:!0,writable:!1},(t=>{const n=e._readableState;t&&"ERR_STREAM_PREMATURE_CLOSE"===t.code&&n&&n.ended&&!n.errored&&!n.errorEmitted?e.once("end",r).once("error",r):r(t)})),a(t,{readable:!1,writable:!0},r)}e.exports={pipelineImpl:j,pipeline:function(...e){return j(e,c(function(e){return v(e[e.length-1],"streams[stream.length - 1]"),e.pop()}(e)))}}},33728:(e,t,r)=>{const n=r(12695),{ArrayPrototypeIndexOf:o,NumberIsInteger:i,NumberIsNaN:s,NumberParseInt:a,ObjectDefineProperties:c,ObjectKeys:u,ObjectSetPrototypeOf:l,Promise:f,SafeSet:h,SymbolAsyncIterator:p,Symbol:d}=r(8216);e.exports=D,D.ReadableState=L;const{EventEmitter:y}=r(33346),{Stream:b,prependListener:m}=r(24272),{Buffer:v}=r(97866),{addAbortSignal:g}=r(40543),w=r(53735);let _=r(93878).debuglog("stream",(e=>{_=e}));const S=r(71586),O=r(94351),{getHighWaterMark:E,getDefaultHighWaterMark:T}=r(46099),{aggregateTwoErrors:x,codes:{ERR_INVALID_ARG_TYPE:A,ERR_METHOD_NOT_IMPLEMENTED:P,ERR_OUT_OF_RANGE:$,ERR_STREAM_PUSH_AFTER_EOF:j,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:R}}=r(43696),{validateObject:C}=r(81762),I=d("kPaused"),{StringDecoder:N}=r(37361),k=r(36680);l(D.prototype,b.prototype),l(D,b);const M=()=>{},{errorOrDestroy:F}=O;function L(e,t,n){"boolean"!=typeof n&&(n=t instanceof r(33325)),this.objectMode=!(!e||!e.objectMode),n&&(this.objectMode=this.objectMode||!(!e||!e.readableObjectMode)),this.highWaterMark=e?E(this,e,"readableHighWaterMark",n):T(!1),this.buffer=new S,this.length=0,this.pipes=[],this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.constructed=!0,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this[I]=null,this.errorEmitted=!1,this.emitClose=!e||!1!==e.emitClose,this.autoDestroy=!e||!1!==e.autoDestroy,this.destroyed=!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this.defaultEncoding=e&&e.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.multiAwaitDrain=!1,this.readingMore=!1,this.dataEmitted=!1,this.decoder=null,this.encoding=null,e&&e.encoding&&(this.decoder=new N(e.encoding),this.encoding=e.encoding)}function D(e){if(!(this instanceof D))return new D(e);const t=this instanceof r(33325);this._readableState=new L(e,this,t),e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.construct&&(this._construct=e.construct),e.signal&&!t&&g(e.signal,this)),b.call(this,e),O.construct(this,(()=>{this._readableState.needReadable&&z(this,this._readableState)}))}function U(e,t,r,n){_("readableAddChunk",t);const o=e._readableState;let i;if(o.objectMode||("string"==typeof t?(r=r||o.defaultEncoding,o.encoding!==r&&(n&&o.encoding?t=v.from(t,r).toString(o.encoding):(t=v.from(t,r),r=""))):t instanceof v?r="":b._isUint8Array(t)?(t=b._uint8ArrayToBuffer(t),r=""):null!=t&&(i=new A("chunk",["string","Buffer","Uint8Array"],t))),i)F(e,i);else if(null===t)o.reading=!1,function(e,t){if(_("onEofChunk"),!t.ended){if(t.decoder){const e=t.decoder.end();e&&e.length&&(t.buffer.push(e),t.length+=t.objectMode?1:e.length)}t.ended=!0,t.sync?V(e):(t.needReadable=!1,t.emittedReadable=!0,W(e))}}(e,o);else if(o.objectMode||t&&t.length>0)if(n)if(o.endEmitted)F(e,new R);else{if(o.destroyed||o.errored)return!1;B(e,o,t,!0)}else if(o.ended)F(e,new j);else{if(o.destroyed||o.errored)return!1;o.reading=!1,o.decoder&&!r?(t=o.decoder.write(t),o.objectMode||0!==t.length?B(e,o,t,!1):z(e,o)):B(e,o,t,!1)}else n||(o.reading=!1,z(e,o));return!o.ended&&(o.length<o.highWaterMark||0===o.length)}function B(e,t,r,n){t.flowing&&0===t.length&&!t.sync&&e.listenerCount("data")>0?(t.multiAwaitDrain?t.awaitDrainWriters.clear():t.awaitDrainWriters=null,t.dataEmitted=!0,e.emit("data",r)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&V(e)),z(e,t)}function q(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:s(e)?t.flowing&&t.length?t.buffer.first().length:t.length:e<=t.length?e:t.ended?t.length:0}function V(e){const t=e._readableState;_("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(_("emitReadable",t.flowing),t.emittedReadable=!0,n.nextTick(W,e))}function W(e){const t=e._readableState;_("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||t.errored||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,K(e)}function z(e,t){!t.readingMore&&t.constructed&&(t.readingMore=!0,n.nextTick(H,e,t))}function H(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){const r=t.length;if(_("maybeReadMore read 0"),e.read(0),r===t.length)break}t.readingMore=!1}function G(e){const t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!1===t[I]?t.flowing=!0:e.listenerCount("data")>0?e.resume():t.readableListening||(t.flowing=null)}function Y(e){_("readable nexttick read 0"),e.read(0)}function J(e,t){_("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),K(e),t.flowing&&!t.reading&&e.read(0)}function K(e){const t=e._readableState;for(_("flow",t.flowing);t.flowing&&null!==e.read(););}function X(e,t){"function"!=typeof e.read&&(e=D.wrap(e,{objectMode:!0}));const r=async function*(e,t){let r,n=M;function o(t){this===e?(n(),n=M):n=t}e.on("readable",o);const i=w(e,{writable:!1},(e=>{r=e?x(r,e):null,n(),n=M}));try{for(;;){const t=e.destroyed?null:e.read();if(null!==t)yield t;else{if(r)throw r;if(null===r)return;await new f(o)}}}catch(e){throw r=x(r,e),r}finally{!r&&!1===(null==t?void 0:t.destroyOnReturn)||void 0!==r&&!e._readableState.autoDestroy?(e.off("readable",o),i()):O.destroyer(e,null)}}(e,t);return r.stream=e,r}function Q(e,t){if(0===t.length)return null;let r;return t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):r=t.buffer.consume(e,t.decoder),r}function Z(e){const t=e._readableState;_("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,n.nextTick(ee,t,e))}function ee(e,t){if(_("endReadableNT",e.endEmitted,e.length),!e.errored&&!e.closeEmitted&&!e.endEmitted&&0===e.length)if(e.endEmitted=!0,t.emit("end"),t.writable&&!1===t.allowHalfOpen)n.nextTick(te,t);else if(e.autoDestroy){const e=t._writableState;(!e||e.autoDestroy&&(e.finished||!1===e.writable))&&t.destroy()}}function te(e){e.writable&&!e.writableEnded&&!e.destroyed&&e.end()}let re;function ne(){return void 0===re&&(re={}),re}D.prototype.destroy=O.destroy,D.prototype._undestroy=O.undestroy,D.prototype._destroy=function(e,t){t(e)},D.prototype[y.captureRejectionSymbol]=function(e){this.destroy(e)},D.prototype.push=function(e,t){return U(this,e,t,!1)},D.prototype.unshift=function(e,t){return U(this,e,t,!0)},D.prototype.isPaused=function(){const e=this._readableState;return!0===e[I]||!1===e.flowing},D.prototype.setEncoding=function(e){const t=new N(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;const r=this._readableState.buffer;let n="";for(const e of r)n+=t.write(e);return r.clear(),""!==n&&r.push(n),this._readableState.length=n.length,this},D.prototype.read=function(e){_("read",e),void 0===e?e=NaN:i(e)||(e=a(e,10));const t=this._readableState,r=e;if(e>t.highWaterMark&&(t.highWaterMark=function(e){if(e>1073741824)throw new $("size","<= 1GiB",e);return e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,++e}(e)),0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return _("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?Z(this):V(this),null;if(0===(e=q(e,t))&&t.ended)return 0===t.length&&Z(this),null;let n,o=t.needReadable;if(_("need readable",o),(0===t.length||t.length-e<t.highWaterMark)&&(o=!0,_("length less than watermark",o)),t.ended||t.reading||t.destroyed||t.errored||!t.constructed)o=!1,_("reading, ended or constructing",o);else if(o){_("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0);try{this._read(t.highWaterMark)}catch(e){F(this,e)}t.sync=!1,t.reading||(e=q(r,t))}return n=e>0?Q(e,t):null,null===n?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.multiAwaitDrain?t.awaitDrainWriters.clear():t.awaitDrainWriters=null),0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&Z(this)),null===n||t.errorEmitted||t.closeEmitted||(t.dataEmitted=!0,this.emit("data",n)),n},D.prototype._read=function(e){throw new P("_read()")},D.prototype.pipe=function(e,t){const r=this,o=this._readableState;1===o.pipes.length&&(o.multiAwaitDrain||(o.multiAwaitDrain=!0,o.awaitDrainWriters=new h(o.awaitDrainWriters?[o.awaitDrainWriters]:[]))),o.pipes.push(e),_("pipe count=%d opts=%j",o.pipes.length,t);const i=t&&!1===t.end||e===n.stdout||e===n.stderr?y:s;function s(){_("onend"),e.end()}let a;o.endEmitted?n.nextTick(i):r.once("end",i),e.on("unpipe",(function t(n,i){_("onunpipe"),n===r&&i&&!1===i.hasUnpiped&&(i.hasUnpiped=!0,_("cleanup"),e.removeListener("close",p),e.removeListener("finish",d),a&&e.removeListener("drain",a),e.removeListener("error",f),e.removeListener("unpipe",t),r.removeListener("end",s),r.removeListener("end",y),r.removeListener("data",l),c=!0,a&&o.awaitDrainWriters&&(!e._writableState||e._writableState.needDrain)&&a())}));let c=!1;function u(){c||(1===o.pipes.length&&o.pipes[0]===e?(_("false write response, pause",0),o.awaitDrainWriters=e,o.multiAwaitDrain=!1):o.pipes.length>1&&o.pipes.includes(e)&&(_("false write response, pause",o.awaitDrainWriters.size),o.awaitDrainWriters.add(e)),r.pause()),a||(a=function(e,t){return function(){const r=e._readableState;r.awaitDrainWriters===t?(_("pipeOnDrain",1),r.awaitDrainWriters=null):r.multiAwaitDrain&&(_("pipeOnDrain",r.awaitDrainWriters.size),r.awaitDrainWriters.delete(t)),r.awaitDrainWriters&&0!==r.awaitDrainWriters.size||!e.listenerCount("data")||e.resume()}}(r,e),e.on("drain",a))}function l(t){_("ondata");const r=e.write(t);_("dest.write",r),!1===r&&u()}function f(t){if(_("onerror",t),y(),e.removeListener("error",f),0===e.listenerCount("error")){const r=e._writableState||e._readableState;r&&!r.errorEmitted?F(e,t):e.emit("error",t)}}function p(){e.removeListener("finish",d),y()}function d(){_("onfinish"),e.removeListener("close",p),y()}function y(){_("unpipe"),r.unpipe(e)}return r.on("data",l),m(e,"error",f),e.once("close",p),e.once("finish",d),e.emit("pipe",r),!0===e.writableNeedDrain?o.flowing&&u():o.flowing||(_("pipe resume"),r.resume()),e},D.prototype.unpipe=function(e){const t=this._readableState;if(0===t.pipes.length)return this;if(!e){const e=t.pipes;t.pipes=[],this.pause();for(let t=0;t<e.length;t++)e[t].emit("unpipe",this,{hasUnpiped:!1});return this}const r=o(t.pipes,e);return-1===r||(t.pipes.splice(r,1),0===t.pipes.length&&this.pause(),e.emit("unpipe",this,{hasUnpiped:!1})),this},D.prototype.on=function(e,t){const r=b.prototype.on.call(this,e,t),o=this._readableState;return"data"===e?(o.readableListening=this.listenerCount("readable")>0,!1!==o.flowing&&this.resume()):"readable"===e&&(o.endEmitted||o.readableListening||(o.readableListening=o.needReadable=!0,o.flowing=!1,o.emittedReadable=!1,_("on readable",o.length,o.reading),o.length?V(this):o.reading||n.nextTick(Y,this))),r},D.prototype.addListener=D.prototype.on,D.prototype.removeListener=function(e,t){const r=b.prototype.removeListener.call(this,e,t);return"readable"===e&&n.nextTick(G,this),r},D.prototype.off=D.prototype.removeListener,D.prototype.removeAllListeners=function(e){const t=b.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||n.nextTick(G,this),t},D.prototype.resume=function(){const e=this._readableState;return e.flowing||(_("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,n.nextTick(J,e,t))}(this,e)),e[I]=!1,this},D.prototype.pause=function(){return _("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(_("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[I]=!0,this},D.prototype.wrap=function(e){let t=!1;e.on("data",(r=>{!this.push(r)&&e.pause&&(t=!0,e.pause())})),e.on("end",(()=>{this.push(null)})),e.on("error",(e=>{F(this,e)})),e.on("close",(()=>{this.destroy()})),e.on("destroy",(()=>{this.destroy()})),this._read=()=>{t&&e.resume&&(t=!1,e.resume())};const r=u(e);for(let t=1;t<r.length;t++){const n=r[t];void 0===this[n]&&"function"==typeof e[n]&&(this[n]=e[n].bind(e))}return this},D.prototype[p]=function(){return X(this)},D.prototype.iterator=function(e){return void 0!==e&&C(e,"options"),X(this,e)},c(D.prototype,{readable:{__proto__:null,get(){const e=this._readableState;return!(!e||!1===e.readable||e.destroyed||e.errorEmitted||e.endEmitted)},set(e){this._readableState&&(this._readableState.readable=!!e)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!(!1===this._readableState.readable||!this._readableState.destroyed&&!this._readableState.errored||this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.objectMode}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return!!this._readableState&&this._readableState.closed}},destroyed:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.destroyed},set(e){this._readableState&&(this._readableState.destroyed=e)}},readableEnded:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.endEmitted}}}),c(L.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return!1!==this[I]},set(e){this[I]=!!e}}}),D._fromList=Q,D.from=function(e,t){return k(D,e,t)},D.fromWeb=function(e,t){return ne().newStreamReadableFromReadableStream(e,t)},D.toWeb=function(e,t){return ne().newReadableStreamFromStreamReadable(e,t)},D.wrap=function(e,t){var r,n;return new D({objectMode:null===(r=null!==(n=e.readableObjectMode)&&void 0!==n?n:e.objectMode)||void 0===r||r,...t,destroy(t,r){O.destroyer(e,t),r(t)}}).wrap(e)}},46099:(e,t,r)=>{const{MathFloor:n,NumberIsInteger:o}=r(8216),{ERR_INVALID_ARG_VALUE:i}=r(43696).codes;function s(e){return e?16:16384}e.exports={getHighWaterMark:function(e,t,r,a){const c=function(e,t,r){return null!=e.highWaterMark?e.highWaterMark:t?e[r]:null}(t,a,r);if(null!=c){if(!o(c)||c<0)throw new i(a?`options.${r}`:"options.highWaterMark",c);return n(c)}return s(e.objectMode)},getDefaultHighWaterMark:s}},21955:(e,t,r)=>{const{ObjectSetPrototypeOf:n,Symbol:o}=r(8216);e.exports=u;const{ERR_METHOD_NOT_IMPLEMENTED:i}=r(43696).codes,s=r(33325),{getHighWaterMark:a}=r(46099);n(u.prototype,s.prototype),n(u,s);const c=o("kCallback");function u(e){if(!(this instanceof u))return new u(e);const t=e?a(this,e,"readableHighWaterMark",!0):null;0===t&&(e={...e,highWaterMark:null,readableHighWaterMark:t,writableHighWaterMark:e.writableHighWaterMark||0}),s.call(this,e),this._readableState.sync=!1,this[c]=null,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",f)}function l(e){"function"!=typeof this._flush||this.destroyed?(this.push(null),e&&e()):this._flush(((t,r)=>{t?e?e(t):this.destroy(t):(null!=r&&this.push(r),this.push(null),e&&e())}))}function f(){this._final!==l&&l.call(this)}u.prototype._final=l,u.prototype._transform=function(e,t,r){throw new i("_transform()")},u.prototype._write=function(e,t,r){const n=this._readableState,o=this._writableState,i=n.length;this._transform(e,t,((e,t)=>{e?r(e):(null!=t&&this.push(t),o.ended||i===n.length||n.length<n.highWaterMark?r():this[c]=r)}))},u.prototype._read=function(){if(this[c]){const e=this[c];this[c]=null,e()}}},65300:(e,t,r)=>{const{Symbol:n,SymbolAsyncIterator:o,SymbolIterator:i}=r(8216),s=n("kDestroyed"),a=n("kIsErrored"),c=n("kIsReadable"),u=n("kIsDisturbed");function l(e,t=!1){var r;return!(!e||"function"!=typeof e.pipe||"function"!=typeof e.on||t&&("function"!=typeof e.pause||"function"!=typeof e.resume)||e._writableState&&!1===(null===(r=e._readableState)||void 0===r?void 0:r.readable)||e._writableState&&!e._readableState)}function f(e){var t;return!(!e||"function"!=typeof e.write||"function"!=typeof e.on||e._readableState&&!1===(null===(t=e._writableState)||void 0===t?void 0:t.writable))}function h(e){return e&&(e._readableState||e._writableState||"function"==typeof e.write&&"function"==typeof e.on||"function"==typeof e.pipe&&"function"==typeof e.on)}function p(e){if(!h(e))return null;const t=e._writableState,r=e._readableState,n=t||r;return!!(e.destroyed||e[s]||null!=n&&n.destroyed)}function d(e){if(!f(e))return null;if(!0===e.writableEnded)return!0;const t=e._writableState;return(null==t||!t.errored)&&("boolean"!=typeof(null==t?void 0:t.ended)?null:t.ended)}function y(e,t){if(!l(e))return null;const r=e._readableState;return(null==r||!r.errored)&&("boolean"!=typeof(null==r?void 0:r.endEmitted)?null:!!(r.endEmitted||!1===t&&!0===r.ended&&0===r.length))}function b(e){return e&&null!=e[c]?e[c]:"boolean"!=typeof(null==e?void 0:e.readable)?null:!p(e)&&l(e)&&e.readable&&!y(e)}function m(e){return"boolean"!=typeof(null==e?void 0:e.writable)?null:!p(e)&&f(e)&&e.writable&&!d(e)}function v(e){return"boolean"==typeof e._closed&&"boolean"==typeof e._defaultKeepAlive&&"boolean"==typeof e._removedConnection&&"boolean"==typeof e._removedContLen}function g(e){return"boolean"==typeof e._sent100&&v(e)}e.exports={kDestroyed:s,isDisturbed:function(e){var t;return!(!e||!(null!==(t=e[u])&&void 0!==t?t:e.readableDidRead||e.readableAborted))},kIsDisturbed:u,isErrored:function(e){var t,r,n,o,i,s,c,u,l,f;return!(!e||!(null!==(t=null!==(r=null!==(n=null!==(o=null!==(i=null!==(s=e[a])&&void 0!==s?s:e.readableErrored)&&void 0!==i?i:e.writableErrored)&&void 0!==o?o:null===(c=e._readableState)||void 0===c?void 0:c.errorEmitted)&&void 0!==n?n:null===(u=e._writableState)||void 0===u?void 0:u.errorEmitted)&&void 0!==r?r:null===(l=e._readableState)||void 0===l?void 0:l.errored)&&void 0!==t?t:null===(f=e._writableState)||void 0===f?void 0:f.errored))},kIsErrored:a,isReadable:b,kIsReadable:c,isClosed:function(e){if(!h(e))return null;if("boolean"==typeof e.closed)return e.closed;const t=e._writableState,r=e._readableState;return"boolean"==typeof(null==t?void 0:t.closed)||"boolean"==typeof(null==r?void 0:r.closed)?(null==t?void 0:t.closed)||(null==r?void 0:r.closed):"boolean"==typeof e._closed&&v(e)?e._closed:null},isDestroyed:p,isDuplexNodeStream:function(e){return!(!e||"function"!=typeof e.pipe||!e._readableState||"function"!=typeof e.on||"function"!=typeof e.write)},isFinished:function(e,t){return h(e)?!(!p(e)&&(!1!==(null==t?void 0:t.readable)&&b(e)||!1!==(null==t?void 0:t.writable)&&m(e))):null},isIterable:function(e,t){return null!=e&&(!0===t?"function"==typeof e[o]:!1===t?"function"==typeof e[i]:"function"==typeof e[o]||"function"==typeof e[i])},isReadableNodeStream:l,isReadableEnded:function(e){if(!l(e))return null;if(!0===e.readableEnded)return!0;const t=e._readableState;return!(!t||t.errored)&&("boolean"!=typeof(null==t?void 0:t.ended)?null:t.ended)},isReadableFinished:y,isReadableErrored:function(e){var t,r;return h(e)?e.readableErrored?e.readableErrored:null!==(t=null===(r=e._readableState)||void 0===r?void 0:r.errored)&&void 0!==t?t:null:null},isNodeStream:h,isWritable:m,isWritableNodeStream:f,isWritableEnded:d,isWritableFinished:function(e,t){if(!f(e))return null;if(!0===e.writableFinished)return!0;const r=e._writableState;return(null==r||!r.errored)&&("boolean"!=typeof(null==r?void 0:r.finished)?null:!!(r.finished||!1===t&&!0===r.ended&&0===r.length))},isWritableErrored:function(e){var t,r;return h(e)?e.writableErrored?e.writableErrored:null!==(t=null===(r=e._writableState)||void 0===r?void 0:r.errored)&&void 0!==t?t:null:null},isServerRequest:function(e){var t;return"boolean"==typeof e._consuming&&"boolean"==typeof e._dumped&&void 0===(null===(t=e.req)||void 0===t?void 0:t.upgradeOrConnect)},isServerResponse:g,willEmitClose:function(e){if(!h(e))return null;const t=e._writableState,r=e._readableState,n=t||r;return!n&&g(e)||!!(n&&n.autoDestroy&&n.emitClose&&!1===n.closed)}}},79052:(e,t,r)=>{const n=r(12695),{ArrayPrototypeSlice:o,Error:i,FunctionPrototypeSymbolHasInstance:s,ObjectDefineProperty:a,ObjectDefineProperties:c,ObjectSetPrototypeOf:u,StringPrototypeToLowerCase:l,Symbol:f,SymbolHasInstance:h}=r(8216);e.exports=N,N.WritableState=C;const{EventEmitter:p}=r(33346),d=r(24272).Stream,{Buffer:y}=r(97866),b=r(94351),{addAbortSignal:m}=r(40543),{getHighWaterMark:v,getDefaultHighWaterMark:g}=r(46099),{ERR_INVALID_ARG_TYPE:w,ERR_METHOD_NOT_IMPLEMENTED:_,ERR_MULTIPLE_CALLBACK:S,ERR_STREAM_CANNOT_PIPE:O,ERR_STREAM_DESTROYED:E,ERR_STREAM_ALREADY_FINISHED:T,ERR_STREAM_NULL_VALUES:x,ERR_STREAM_WRITE_AFTER_END:A,ERR_UNKNOWN_ENCODING:P}=r(43696).codes,{errorOrDestroy:$}=b;function j(){}u(N.prototype,d.prototype),u(N,d);const R=f("kOnFinished");function C(e,t,n){"boolean"!=typeof n&&(n=t instanceof r(33325)),this.objectMode=!(!e||!e.objectMode),n&&(this.objectMode=this.objectMode||!(!e||!e.writableObjectMode)),this.highWaterMark=e?v(this,e,"writableHighWaterMark",n):g(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;const o=!(!e||!1!==e.decodeStrings);this.decodeStrings=!o,this.defaultEncoding=e&&e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=L.bind(void 0,t),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,I(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!e||!1!==e.emitClose,this.autoDestroy=!e||!1!==e.autoDestroy,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[R]=[]}function I(e){e.buffered=[],e.bufferedIndex=0,e.allBuffers=!0,e.allNoop=!0}function N(e){const t=this instanceof r(33325);if(!t&&!s(N,this))return new N(e);this._writableState=new C(e,this,t),e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final),"function"==typeof e.construct&&(this._construct=e.construct),e.signal&&m(e.signal,this)),d.call(this,e),b.construct(this,(()=>{const e=this._writableState;e.writing||q(this,e),W(this,e)}))}function k(e,t,r,o){const i=e._writableState;if("function"==typeof r)o=r,r=i.defaultEncoding;else{if(r){if("buffer"!==r&&!y.isEncoding(r))throw new P(r)}else r=i.defaultEncoding;"function"!=typeof o&&(o=j)}if(null===t)throw new x;if(!i.objectMode)if("string"==typeof t)!1!==i.decodeStrings&&(t=y.from(t,r),r="buffer");else if(t instanceof y)r="buffer";else{if(!d._isUint8Array(t))throw new w("chunk",["string","Buffer","Uint8Array"],t);t=d._uint8ArrayToBuffer(t),r="buffer"}let s;return i.ending?s=new A:i.destroyed&&(s=new E("write")),s?(n.nextTick(o,s),$(e,s,!0),s):(i.pendingcb++,function(e,t,r,n,o){const i=t.objectMode?1:r.length;t.length+=i;const s=t.length<t.highWaterMark;return s||(t.needDrain=!0),t.writing||t.corked||t.errored||!t.constructed?(t.buffered.push({chunk:r,encoding:n,callback:o}),t.allBuffers&&"buffer"!==n&&(t.allBuffers=!1),t.allNoop&&o!==j&&(t.allNoop=!1)):(t.writelen=i,t.writecb=o,t.writing=!0,t.sync=!0,e._write(r,n,t.onwrite),t.sync=!1),s&&!t.errored&&!t.destroyed}(e,i,t,r,o))}function M(e,t,r,n,o,i,s){t.writelen=n,t.writecb=s,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new E("write")):r?e._writev(o,t.onwrite):e._write(o,i,t.onwrite),t.sync=!1}function F(e,t,r,n){--t.pendingcb,n(r),B(t),$(e,r)}function L(e,t){const r=e._writableState,o=r.sync,i=r.writecb;"function"==typeof i?(r.writing=!1,r.writecb=null,r.length-=r.writelen,r.writelen=0,t?(t.stack,r.errored||(r.errored=t),e._readableState&&!e._readableState.errored&&(e._readableState.errored=t),o?n.nextTick(F,e,r,t,i):F(e,r,t,i)):(r.buffered.length>r.bufferedIndex&&q(e,r),o?null!==r.afterWriteTickInfo&&r.afterWriteTickInfo.cb===i?r.afterWriteTickInfo.count++:(r.afterWriteTickInfo={count:1,cb:i,stream:e,state:r},n.nextTick(D,r.afterWriteTickInfo)):U(e,r,1,i))):$(e,new S)}function D({stream:e,state:t,count:r,cb:n}){return t.afterWriteTickInfo=null,U(e,t,r,n)}function U(e,t,r,n){for(!t.ending&&!e.destroyed&&0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"));r-- >0;)t.pendingcb--,n();t.destroyed&&B(t),W(e,t)}function B(e){if(e.writing)return;for(let r=e.bufferedIndex;r<e.buffered.length;++r){var t;const{chunk:n,callback:o}=e.buffered[r],i=e.objectMode?1:n.length;e.length-=i,o(null!==(t=e.errored)&&void 0!==t?t:new E("write"))}const r=e[R].splice(0);for(let t=0;t<r.length;t++){var n;r[t](null!==(n=e.errored)&&void 0!==n?n:new E("end"))}I(e)}function q(e,t){if(t.corked||t.bufferProcessing||t.destroyed||!t.constructed)return;const{buffered:r,bufferedIndex:n,objectMode:i}=t,s=r.length-n;if(!s)return;let a=n;if(t.bufferProcessing=!0,s>1&&e._writev){t.pendingcb-=s-1;const n=t.allNoop?j:e=>{for(let t=a;t<r.length;++t)r[t].callback(e)},i=t.allNoop&&0===a?r:o(r,a);i.allBuffers=t.allBuffers,M(e,t,!0,t.length,i,"",n),I(t)}else{do{const{chunk:n,encoding:o,callback:s}=r[a];r[a++]=null,M(e,t,!1,i?1:n.length,n,o,s)}while(a<r.length&&!t.writing);a===r.length?I(t):a>256?(r.splice(0,a),t.bufferedIndex=0):t.bufferedIndex=a}t.bufferProcessing=!1}function V(e){return e.ending&&!e.destroyed&&e.constructed&&0===e.length&&!e.errored&&0===e.buffered.length&&!e.finished&&!e.writing&&!e.errorEmitted&&!e.closeEmitted}function W(e,t,r){V(t)&&(function(e,t){t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.finalCalled=!0,function(e,t){let r=!1;function o(o){if(r)$(e,null!=o?o:S());else if(r=!0,t.pendingcb--,o){const r=t[R].splice(0);for(let e=0;e<r.length;e++)r[e](o);$(e,o,t.sync)}else V(t)&&(t.prefinished=!0,e.emit("prefinish"),t.pendingcb++,n.nextTick(z,e,t))}t.sync=!0,t.pendingcb++;try{e._final(o)}catch(e){o(e)}t.sync=!1}(e,t)))}(e,t),0===t.pendingcb&&(r?(t.pendingcb++,n.nextTick(((e,t)=>{V(t)?z(e,t):t.pendingcb--}),e,t)):V(t)&&(t.pendingcb++,z(e,t))))}function z(e,t){t.pendingcb--,t.finished=!0;const r=t[R].splice(0);for(let e=0;e<r.length;e++)r[e]();if(e.emit("finish"),t.autoDestroy){const t=e._readableState;(!t||t.autoDestroy&&(t.endEmitted||!1===t.readable))&&e.destroy()}}C.prototype.getBuffer=function(){return o(this.buffered,this.bufferedIndex)},a(C.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}}),a(N,h,{__proto__:null,value:function(e){return!!s(this,e)||this===N&&e&&e._writableState instanceof C}}),N.prototype.pipe=function(){$(this,new O)},N.prototype.write=function(e,t,r){return!0===k(this,e,t,r)},N.prototype.cork=function(){this._writableState.corked++},N.prototype.uncork=function(){const e=this._writableState;e.corked&&(e.corked--,e.writing||q(this,e))},N.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=l(e)),!y.isEncoding(e))throw new P(e);return this._writableState.defaultEncoding=e,this},N.prototype._write=function(e,t,r){if(!this._writev)throw new _("_write()");this._writev([{chunk:e,encoding:t}],r)},N.prototype._writev=null,N.prototype.end=function(e,t,r){const o=this._writableState;let s;if("function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!=e){const r=k(this,e,t);r instanceof i&&(s=r)}return o.corked&&(o.corked=1,this.uncork()),s||(o.errored||o.ending?o.finished?s=new T("end"):o.destroyed&&(s=new E("end")):(o.ending=!0,W(this,o,!0),o.ended=!0)),"function"==typeof r&&(s||o.finished?n.nextTick(r,s):o[R].push(r)),this},c(N.prototype,{closed:{__proto__:null,get(){return!!this._writableState&&this._writableState.closed}},destroyed:{__proto__:null,get(){return!!this._writableState&&this._writableState.destroyed},set(e){this._writableState&&(this._writableState.destroyed=e)}},writable:{__proto__:null,get(){const e=this._writableState;return!(!e||!1===e.writable||e.destroyed||e.errored||e.ending||e.ended)},set(e){this._writableState&&(this._writableState.writable=!!e)}},writableFinished:{__proto__:null,get(){return!!this._writableState&&this._writableState.finished}},writableObjectMode:{__proto__:null,get(){return!!this._writableState&&this._writableState.objectMode}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return!!this._writableState&&this._writableState.ending}},writableNeedDrain:{__proto__:null,get(){const e=this._writableState;return!!e&&!e.destroyed&&!e.ending&&e.needDrain}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!(!1===this._writableState.writable||!this._writableState.destroyed&&!this._writableState.errored||this._writableState.finished)}}});const H=b.destroy;let G;function Y(){return void 0===G&&(G={}),G}N.prototype.destroy=function(e,t){const r=this._writableState;return!r.destroyed&&(r.bufferedIndex<r.buffered.length||r[R].length)&&n.nextTick(B,r),H.call(this,e,t),this},N.prototype._undestroy=b.undestroy,N.prototype._destroy=function(e,t){t(e)},N.prototype[p.captureRejectionSymbol]=function(e){this.destroy(e)},N.fromWeb=function(e,t){return Y().newStreamWritableFromWritableStream(e,t)},N.toWeb=function(e){return Y().newWritableStreamFromStreamWritable(e)}},81762:(e,t,r)=>{const{ArrayIsArray:n,ArrayPrototypeIncludes:o,ArrayPrototypeJoin:i,ArrayPrototypeMap:s,NumberIsInteger:a,NumberIsNaN:c,NumberMAX_SAFE_INTEGER:u,NumberMIN_SAFE_INTEGER:l,NumberParseInt:f,ObjectPrototypeHasOwnProperty:h,RegExpPrototypeExec:p,String:d,StringPrototypeToUpperCase:y,StringPrototypeTrim:b}=r(8216),{hideStackFrames:m,codes:{ERR_SOCKET_BAD_PORT:v,ERR_INVALID_ARG_TYPE:g,ERR_INVALID_ARG_VALUE:w,ERR_OUT_OF_RANGE:_,ERR_UNKNOWN_SIGNAL:S}}=r(43696),{normalizeEncoding:O}=r(93878),{isAsyncFunction:E,isArrayBufferView:T}=r(93878).types,x={},A=/^[0-7]+$/,P=m(((e,t,r=l,n=u)=>{if("number"!=typeof e)throw new g(t,"number",e);if(!a(e))throw new _(t,"an integer",e);if(e<r||e>n)throw new _(t,`>= ${r} && <= ${n}`,e)})),$=m(((e,t,r=-2147483648,n=2147483647)=>{if("number"!=typeof e)throw new g(t,"number",e);if(!a(e))throw new _(t,"an integer",e);if(e<r||e>n)throw new _(t,`>= ${r} && <= ${n}`,e)})),j=m(((e,t,r=!1)=>{if("number"!=typeof e)throw new g(t,"number",e);if(!a(e))throw new _(t,"an integer",e);const n=r?1:0,o=4294967295;if(e<n||e>o)throw new _(t,`>= ${n} && <= ${o}`,e)}));function R(e,t){if("string"!=typeof e)throw new g(t,"string",e)}const C=m(((e,t,r)=>{if(!o(r,e)){const n=i(s(r,(e=>"string"==typeof e?`'${e}'`:d(e))),", ");throw new w(t,e,"must be one of: "+n)}}));function I(e,t,r){return null!=e&&h(e,t)?e[t]:r}const N=m(((e,t,r=null)=>{const o=I(r,"allowArray",!1),i=I(r,"allowFunction",!1);if(!I(r,"nullable",!1)&&null===e||!o&&n(e)||"object"!=typeof e&&(!i||"function"!=typeof e))throw new g(t,"Object",e)})),k=m(((e,t,r=0)=>{if(!n(e))throw new g(t,"Array",e);if(e.length<r)throw new w(t,e,`must be longer than ${r}`)})),M=m(((e,t="buffer")=>{if(!T(e))throw new g(t,["Buffer","TypedArray","DataView"],e)})),F=m(((e,t)=>{if(void 0!==e&&(null===e||"object"!=typeof e||!("aborted"in e)))throw new g(t,"AbortSignal",e)})),L=m(((e,t)=>{if("function"!=typeof e)throw new g(t,"Function",e)})),D=m(((e,t)=>{if("function"!=typeof e||E(e))throw new g(t,"Function",e)})),U=m(((e,t)=>{if(void 0!==e)throw new g(t,"undefined",e)}));e.exports={isInt32:function(e){return e===(0|e)},isUint32:function(e){return e===e>>>0},parseFileMode:function(e,t,r){if(void 0===e&&(e=r),"string"==typeof e){if(null===p(A,e))throw new w(t,e,"must be a 32-bit unsigned integer or an octal string");e=f(e,8)}return j(e,t),e},validateArray:k,validateBoolean:function(e,t){if("boolean"!=typeof e)throw new g(t,"boolean",e)},validateBuffer:M,validateEncoding:function(e,t){const r=O(t),n=e.length;if("hex"===r&&n%2!=0)throw new w("encoding",t,`is invalid for data of length ${n}`)},validateFunction:L,validateInt32:$,validateInteger:P,validateNumber:function(e,t,r,n){if("number"!=typeof e)throw new g(t,"number",e);if(null!=r&&e<r||null!=n&&e>n||(null!=r||null!=n)&&c(e))throw new _(t,`${null!=r?`>= ${r}`:""}${null!=r&&null!=n?" && ":""}${null!=n?`<= ${n}`:""}`,e)},validateObject:N,validateOneOf:C,validatePlainFunction:D,validatePort:function(e,t="Port",r=!0){if("number"!=typeof e&&"string"!=typeof e||"string"==typeof e&&0===b(e).length||+e!=+e>>>0||e>65535||0===e&&!r)throw new v(t,e,r);return 0|e},validateSignalName:function(e,t="signal"){if(R(e,t),void 0===x[e]){if(void 0!==x[y(e)])throw new S(e+" (signals must use all capital letters)");throw new S(e)}},validateString:R,validateUint32:j,validateUndefined:U,validateUnion:function(e,t,r){if(!o(r,e))throw new g(t,`('${i(r,"|")}')`,e)},validateAbortSignal:F}},43696:(e,t,r)=>{const{format:n,inspect:o,AggregateError:i}=r(93878),s=globalThis.AggregateError||i,a=Symbol("kIsNodeError"),c=["string","function","number","object","Function","Object","boolean","bigint","symbol"],u=/^([A-Z][a-z0-9]*)+$/,l={};function f(e,t){if(!e)throw new l.ERR_INTERNAL_ASSERTION(t)}function h(e){let t="",r=e.length;const n="-"===e[0]?1:0;for(;r>=n+4;r-=3)t=`_${e.slice(r-3,r)}${t}`;return`${e.slice(0,r)}${t}`}function p(e,t,r){r||(r=Error);class o extends r{constructor(...r){super(function(e,t,r){if("function"==typeof t)return f(t.length<=r.length,`Code: ${e}; The provided arguments length (${r.length}) does not match the required ones (${t.length}).`),t(...r);const o=(t.match(/%[dfijoOs]/g)||[]).length;return f(o===r.length,`Code: ${e}; The provided arguments length (${r.length}) does not match the required ones (${o}).`),0===r.length?t:n(t,...r)}(e,t,r))}toString(){return`${this.name} [${e}]: ${this.message}`}}Object.defineProperties(o.prototype,{name:{value:r.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${e}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),o.prototype.code=e,o.prototype[a]=!0,l[e]=o}function d(e){const t="__node_internal_"+e.name;return Object.defineProperty(e,"name",{value:t}),e}class y extends Error{constructor(e="The operation was aborted",t){if(void 0!==t&&"object"!=typeof t)throw new l.ERR_INVALID_ARG_TYPE("options","Object",t);super(e,t),this.code="ABORT_ERR",this.name="AbortError"}}p("ERR_ASSERTION","%s",Error),p("ERR_INVALID_ARG_TYPE",((e,t,r)=>{f("string"==typeof e,"'name' must be a string"),Array.isArray(t)||(t=[t]);let n="The ";e.endsWith(" argument")?n+=`${e} `:n+=`"${e}" ${e.includes(".")?"property":"argument"} `,n+="must be ";const i=[],s=[],a=[];for(const e of t)f("string"==typeof e,"All expected entries have to be of type string"),c.includes(e)?i.push(e.toLowerCase()):u.test(e)?s.push(e):(f("object"!==e,'The value "object" should be written as "Object"'),a.push(e));if(s.length>0){const e=i.indexOf("object");-1!==e&&(i.splice(i,e,1),s.push("Object"))}if(i.length>0){switch(i.length){case 1:n+=`of type ${i[0]}`;break;case 2:n+=`one of type ${i[0]} or ${i[1]}`;break;default:{const e=i.pop();n+=`one of type ${i.join(", ")}, or ${e}`}}(s.length>0||a.length>0)&&(n+=" or ")}if(s.length>0){switch(s.length){case 1:n+=`an instance of ${s[0]}`;break;case 2:n+=`an instance of ${s[0]} or ${s[1]}`;break;default:{const e=s.pop();n+=`an instance of ${s.join(", ")}, or ${e}`}}a.length>0&&(n+=" or ")}switch(a.length){case 0:break;case 1:a[0].toLowerCase()!==a[0]&&(n+="an "),n+=`${a[0]}`;break;case 2:n+=`one of ${a[0]} or ${a[1]}`;break;default:{const e=a.pop();n+=`one of ${a.join(", ")}, or ${e}`}}if(null==r)n+=`. Received ${r}`;else if("function"==typeof r&&r.name)n+=`. Received function ${r.name}`;else if("object"==typeof r){var l;null!==(l=r.constructor)&&void 0!==l&&l.name?n+=`. Received an instance of ${r.constructor.name}`:n+=`. Received ${o(r,{depth:-1})}`}else{let e=o(r,{colors:!1});e.length>25&&(e=`${e.slice(0,25)}...`),n+=`. Received type ${typeof r} (${e})`}return n}),TypeError),p("ERR_INVALID_ARG_VALUE",((e,t,r="is invalid")=>{let n=o(t);return n.length>128&&(n=n.slice(0,128)+"..."),`The ${e.includes(".")?"property":"argument"} '${e}' ${r}. Received ${n}`}),TypeError),p("ERR_INVALID_RETURN_VALUE",((e,t,r)=>{var n;return`Expected ${e} to be returned from the "${t}" function but got ${null!=r&&null!==(n=r.constructor)&&void 0!==n&&n.name?`instance of ${r.constructor.name}`:"type "+typeof r}.`}),TypeError),p("ERR_MISSING_ARGS",((...e)=>{let t;f(e.length>0,"At least one arg needs to be specified");const r=e.length;switch(e=(Array.isArray(e)?e:[e]).map((e=>`"${e}"`)).join(" or "),r){case 1:t+=`The ${e[0]} argument`;break;case 2:t+=`The ${e[0]} and ${e[1]} arguments`;break;default:{const r=e.pop();t+=`The ${e.join(", ")}, and ${r} arguments`}}return`${t} must be specified`}),TypeError),p("ERR_OUT_OF_RANGE",((e,t,r)=>{let n;return f(t,'Missing "range" argument'),Number.isInteger(r)&&Math.abs(r)>2**32?n=h(String(r)):"bigint"==typeof r?(n=String(r),(r>2n**32n||r<-(2n**32n))&&(n=h(n)),n+="n"):n=o(r),`The value of "${e}" is out of range. It must be ${t}. Received ${n}`}),RangeError),p("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),p("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),p("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),p("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),p("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),p("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),p("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),p("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),p("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),p("ERR_STREAM_WRITE_AFTER_END","write after end",Error),p("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),e.exports={AbortError:y,aggregateTwoErrors:d((function(e,t){if(e&&t&&e!==t){if(Array.isArray(t.errors))return t.errors.push(e),t;const r=new s([t,e],t.message);return r.code=t.code,r}return e||t})),hideStackFrames:d,codes:l}},8216:e=>{e.exports={ArrayIsArray:e=>Array.isArray(e),ArrayPrototypeIncludes:(e,t)=>e.includes(t),ArrayPrototypeIndexOf:(e,t)=>e.indexOf(t),ArrayPrototypeJoin:(e,t)=>e.join(t),ArrayPrototypeMap:(e,t)=>e.map(t),ArrayPrototypePop:(e,t)=>e.pop(t),ArrayPrototypePush:(e,t)=>e.push(t),ArrayPrototypeSlice:(e,t,r)=>e.slice(t,r),Error,FunctionPrototypeCall:(e,t,...r)=>e.call(t,...r),FunctionPrototypeSymbolHasInstance:(e,t)=>Function.prototype[Symbol.hasInstance].call(e,t),MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties:(e,t)=>Object.defineProperties(e,t),ObjectDefineProperty:(e,t,r)=>Object.defineProperty(e,t,r),ObjectGetOwnPropertyDescriptor:(e,t)=>Object.getOwnPropertyDescriptor(e,t),ObjectKeys:e=>Object.keys(e),ObjectSetPrototypeOf:(e,t)=>Object.setPrototypeOf(e,t),Promise,PromisePrototypeCatch:(e,t)=>e.catch(t),PromisePrototypeThen:(e,t,r)=>e.then(t,r),PromiseReject:e=>Promise.reject(e),ReflectApply:Reflect.apply,RegExpPrototypeTest:(e,t)=>e.test(t),SafeSet:Set,String,StringPrototypeSlice:(e,t,r)=>e.slice(t,r),StringPrototypeToLowerCase:e=>e.toLowerCase(),StringPrototypeToUpperCase:e=>e.toUpperCase(),StringPrototypeTrim:e=>e.trim(),Symbol,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,TypedArrayPrototypeSet:(e,t,r)=>e.set(t,r),Uint8Array}},93878:(e,t,r)=>{const n=r(97866),o=Object.getPrototypeOf((async function(){})).constructor,i=globalThis.Blob||n.Blob,s=void 0!==i?function(e){return e instanceof i}:function(e){return!1};class a extends Error{constructor(e){if(!Array.isArray(e))throw new TypeError("Expected input to be an Array, got "+typeof e);let t="";for(let r=0;r<e.length;r++)t+=`    ${e[r].stack}\n`;super(t),this.name="AggregateError",this.errors=e}}e.exports={AggregateError:a,kEmptyObject:Object.freeze({}),once(e){let t=!1;return function(...r){t||(t=!0,e.apply(this,r))}},createDeferredPromise:function(){let e,t;return{promise:new Promise(((r,n)=>{e=r,t=n})),resolve:e,reject:t}},promisify:e=>new Promise(((t,r)=>{e(((e,...n)=>e?r(e):t(...n)))})),debuglog:()=>function(){},format:(e,...t)=>e.replace(/%([sdifj])/g,(function(...[e,r]){const n=t.shift();return"f"===r?n.toFixed(6):"j"===r?JSON.stringify(n):"s"===r&&"object"==typeof n?`${n.constructor!==Object?n.constructor.name:""} {}`.trim():n.toString()})),inspect(e){switch(typeof e){case"string":if(e.includes("'")){if(!e.includes('"'))return`"${e}"`;if(!e.includes("`")&&!e.includes("${"))return`\`${e}\``}return`'${e}'`;case"number":return isNaN(e)?"NaN":Object.is(e,-0)?String(e):e;case"bigint":return`${String(e)}n`;case"boolean":case"undefined":return String(e);case"object":return"{}"}},types:{isAsyncFunction:e=>e instanceof o,isArrayBufferView:e=>ArrayBuffer.isView(e)},isBlob:s},e.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")},95751:(e,t,r)=>{const{Buffer:n}=r(97866),{ObjectDefineProperty:o,ObjectKeys:i,ReflectApply:s}=r(8216),{promisify:{custom:a}}=r(93878),{streamReturningOperators:c,promiseReturningOperators:u}=r(61074),{codes:{ERR_ILLEGAL_CONSTRUCTOR:l}}=r(43696),f=r(58626),{pipeline:h}=r(21439),{destroyer:p}=r(94351),d=r(53735),y=r(73411),b=r(65300),m=e.exports=r(24272).Stream;m.isDisturbed=b.isDisturbed,m.isErrored=b.isErrored,m.isReadable=b.isReadable,m.Readable=r(33728);for(const w of i(c)){const _=c[w];function v(...e){if(new.target)throw l();return m.Readable.from(s(_,this,e))}o(v,"name",{__proto__:null,value:_.name}),o(v,"length",{__proto__:null,value:_.length}),o(m.Readable.prototype,w,{__proto__:null,value:v,enumerable:!1,configurable:!0,writable:!0})}for(const S of i(u)){const O=u[S];function v(...e){if(new.target)throw l();return s(O,this,e)}o(v,"name",{__proto__:null,value:O.name}),o(v,"length",{__proto__:null,value:O.length}),o(m.Readable.prototype,S,{__proto__:null,value:v,enumerable:!1,configurable:!0,writable:!0})}m.Writable=r(79052),m.Duplex=r(33325),m.Transform=r(21955),m.PassThrough=r(93592),m.pipeline=h;const{addAbortSignal:g}=r(40543);m.addAbortSignal=g,m.finished=d,m.destroy=p,m.compose=f,o(m,"promises",{__proto__:null,configurable:!0,enumerable:!0,get:()=>y}),o(h,a,{__proto__:null,enumerable:!0,get:()=>y.pipeline}),o(d,a,{__proto__:null,enumerable:!0,get:()=>y.finished}),m.Stream=m,m._isUint8Array=function(e){return e instanceof Uint8Array},m._uint8ArrayToBuffer=function(e){return n.from(e.buffer,e.byteOffset,e.byteLength)}},73411:(e,t,r)=>{const{ArrayPrototypePop:n,Promise:o}=r(8216),{isIterable:i,isNodeStream:s}=r(65300),{pipelineImpl:a}=r(21439),{finished:c}=r(53735);e.exports={finished:c,pipeline:function(...e){return new o(((t,r)=>{let o,c;const u=e[e.length-1];if(u&&"object"==typeof u&&!s(u)&&!i(u)){const t=n(e);o=t.signal,c=t.end}a(e,((e,n)=>{e?r(e):t(n)}),{signal:o,end:c})}))}}},85859:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=r(31377),i=r(84469),s=function(e){function t(){e.apply(this,arguments),this.value=null,this.hasNext=!1,this.hasCompleted=!1}return n(t,e),t.prototype._subscribe=function(t){return this.hasError?(t.error(this.thrownError),i.Subscription.EMPTY):this.hasCompleted&&this.hasNext?(t.next(this.value),t.complete(),i.Subscription.EMPTY):e.prototype._subscribe.call(this,t)},t.prototype.next=function(e){this.hasCompleted||(this.value=e,this.hasNext=!0)},t.prototype.error=function(t){this.hasCompleted||e.prototype.error.call(this,t)},t.prototype.complete=function(){this.hasCompleted=!0,this.hasNext&&e.prototype.next.call(this,this.value),e.prototype.complete.call(this)},t}(o.Subject);t.AsyncSubject=s},91033:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=r(31377),i=r(34901),s=function(e){function t(t){e.call(this),this._value=t}return n(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),t.prototype._subscribe=function(t){var r=e.prototype._subscribe.call(this,t);return r&&!r.closed&&t.next(this._value),r},t.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new i.ObjectUnsubscribedError;return this._value},t.prototype.next=function(t){e.prototype.next.call(this,this._value=t)},t}(o.Subject);t.BehaviorSubject=s},1403:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=function(e){function t(t,r,n){e.call(this),this.parent=t,this.outerValue=r,this.outerIndex=n,this.index=0}return n(t,e),t.prototype._next=function(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)},t.prototype._error=function(e){this.parent.notifyError(e,this),this.unsubscribe()},t.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},t}(r(71975).Subscriber);t.InnerSubscriber=o},53926:(e,t,r)=>{var n=r(16561),o=function(){function e(e,t,r){this.kind=e,this.value=t,this.error=r,this.hasValue="N"===e}return e.prototype.observe=function(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}},e.prototype.do=function(e,t,r){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return r&&r()}},e.prototype.accept=function(e,t,r){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,r)},e.prototype.toObservable=function(){switch(this.kind){case"N":return n.Observable.of(this.value);case"E":return n.Observable.throw(this.error);case"C":return n.Observable.empty()}throw new Error("unexpected notification kind value")},e.createNext=function(t){return void 0!==t?new e("N",t):e.undefinedValueNotification},e.createError=function(t){return new e("E",void 0,t)},e.createComplete=function(){return e.completeNotification},e.completeNotification=new e("C"),e.undefinedValueNotification=new e("N",void 0),e}();t.Notification=o},16561:(e,t,r)=>{var n=r(21613),o=r(74119),i=r(62086),s=r(92611),a=function(){function e(e){this._isScalar=!1,e&&(this._subscribe=e)}return e.prototype.lift=function(t){var r=new e;return r.source=this,r.operator=t,r},e.prototype.subscribe=function(e,t,r){var n=this.operator,i=o.toSubscriber(e,t,r);if(n?n.call(i,this.source):i.add(this.source||!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.syncErrorThrown=!0,e.syncErrorValue=t,e.error(t)}},e.prototype.forEach=function(e,t){var r=this;if(t||(n.root.Rx&&n.root.Rx.config&&n.root.Rx.config.Promise?t=n.root.Rx.config.Promise:n.root.Promise&&(t=n.root.Promise)),!t)throw new Error("no Promise impl found");return new t((function(t,n){var o;o=r.subscribe((function(t){if(o)try{e(t)}catch(e){n(e),o.unsubscribe()}else e(t)}),n,t)}))},e.prototype._subscribe=function(e){return this.source.subscribe(e)},e.prototype[i.observable]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return 0===e.length?this:s.pipeFromArray(e)(this)},e.prototype.toPromise=function(e){var t=this;if(e||(n.root.Rx&&n.root.Rx.config&&n.root.Rx.config.Promise?e=n.root.Rx.config.Promise:n.root.Promise&&(e=n.root.Promise)),!e)throw new Error("no Promise impl found");return new e((function(e,r){var n;t.subscribe((function(e){return n=e}),(function(e){return r(e)}),(function(){return e(n)}))}))},e.create=function(t){return new e(t)},e}();t.Observable=a},83847:(e,t)=>{t.empty={closed:!0,next:function(e){},error:function(e){throw e},complete:function(){}}},62392:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=function(e){function t(){e.apply(this,arguments)}return n(t,e),t.prototype.notifyNext=function(e,t,r,n,o){this.destination.next(t)},t.prototype.notifyError=function(e,t){this.destination.error(e)},t.prototype.notifyComplete=function(e){this.destination.complete()},t}(r(71975).Subscriber);t.OuterSubscriber=o},48885:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=r(31377),i=r(49700),s=r(84469),a=r(10074),c=r(34901),u=r(7367),l=function(e){function t(t,r,n){void 0===t&&(t=Number.POSITIVE_INFINITY),void 0===r&&(r=Number.POSITIVE_INFINITY),e.call(this),this.scheduler=n,this._events=[],this._bufferSize=t<1?1:t,this._windowTime=r<1?1:r}return n(t,e),t.prototype.next=function(t){var r=this._getNow();this._events.push(new f(r,t)),this._trimBufferThenGetEvents(),e.prototype.next.call(this,t)},t.prototype._subscribe=function(e){var t,r=this._trimBufferThenGetEvents(),n=this.scheduler;if(this.closed)throw new c.ObjectUnsubscribedError;this.hasError||this.isStopped?t=s.Subscription.EMPTY:(this.observers.push(e),t=new u.SubjectSubscription(this,e)),n&&e.add(e=new a.ObserveOnSubscriber(e,n));for(var o=r.length,i=0;i<o&&!e.closed;i++)e.next(r[i].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),t},t.prototype._getNow=function(){return(this.scheduler||i.queue).now()},t.prototype._trimBufferThenGetEvents=function(){for(var e=this._getNow(),t=this._bufferSize,r=this._windowTime,n=this._events,o=n.length,i=0;i<o&&!(e-n[i].time<r);)i++;return o>t&&(i=Math.max(i,o-t)),i>0&&n.splice(0,i),n},t}(o.Subject);t.ReplaySubject=l;var f=function(e,t){this.time=e,this.value=t}},31379:(e,t,r)=>{var n=r(31377);n.Subject,n.AnonymousSubject,r(16561).Observable,r(59686),r(78749),r(53431),r(10535),r(96419),r(1926),r(23917),r(54068),r(45373),r(5740),r(63338),r(69090),r(63391),r(44058),r(94101),r(90772),r(16529),r(15395),r(87522),r(40629),r(52857),r(59024),r(31069),r(53568),r(55814),r(85169),r(95564),r(16965),r(95052),r(14473),r(61110),r(93510),r(58294),r(31309),r(91094),r(45327),r(64801),r(35553),r(11759),r(38273),r(47104),r(33586),r(19738),r(22726),r(22923),r(37638),r(16443),r(98654),r(69598),r(21743),r(66905),r(65335),r(17107),r(99223),r(79745),r(93774),r(36724),r(8671),r(70539),r(28516),r(73609),r(45869),r(22657),r(21369),r(68516),r(99198),r(66938),r(71691),r(39893),r(60933),r(52445),r(42221),r(8405),r(63008),r(93921),r(23392),r(2277),r(43152),r(69372),r(23094),r(82085),r(2403),r(9381),r(77970),r(35426),r(52430),r(97210),r(42363),r(30659),r(94931),r(18212),r(40088),r(29475),r(71198),r(56574),r(6747),r(9118),r(41361),r(60484),r(93746),r(83052),r(98720),r(89122),r(47419),r(57948),r(79996),r(6530),r(50503),r(89903),r(8269),r(90906),r(80866),r(10707),r(62340),r(76389),r(48946),r(97774),r(92162),r(27133),r(20864),r(4027),r(25221),r(70972),r(14862),r(43753),r(37332),r(6109),r(17973),r(87325);var o=r(84469);t.w0=o.Subscription,r(71975).Subscriber,r(85859).AsyncSubject,r(48885).ReplaySubject,r(91033).BehaviorSubject,r(72771).ConnectableObservable,r(53926).Notification,r(8294).EmptyError,r(55122).ArgumentOutOfRangeError,r(34901).ObjectUnsubscribedError,r(12505).TimeoutError,r(71928).UnsubscriptionError,r(691).TimeInterval,r(22655).Timestamp,r(92615).TestScheduler,r(81816).VirtualTimeScheduler;var i=r(58709);i.AjaxResponse,i.AjaxError,i.AjaxTimeoutError,r(92611).pipe;var s=r(24510),a=r(55488),c=r(49700),u=r(65971),l=r(98130),f=r(51474),h=r(62086);r(50878),s.asap,c.queue,u.animationFrame,a.async,l.rxSubscriber,h.observable,f.iterator},86593:(e,t)=>{var r=function(){function e(t,r){void 0===r&&(r=e.now),this.SchedulerAction=t,this.now=r}return e.prototype.schedule=function(e,t,r){return void 0===t&&(t=0),new this.SchedulerAction(this,e).schedule(r,t)},e.now=Date.now?Date.now:function(){return+new Date},e}();t.Scheduler=r},31377:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=r(16561),i=r(71975),s=r(84469),a=r(34901),c=r(7367),u=r(98130),l=function(e){function t(t){e.call(this,t),this.destination=t}return n(t,e),t}(i.Subscriber);t.SubjectSubscriber=l;var f=function(e){function t(){e.call(this),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}return n(t,e),t.prototype[u.rxSubscriber]=function(){return new l(this)},t.prototype.lift=function(e){var t=new h(this,this);return t.operator=e,t},t.prototype.next=function(e){if(this.closed)throw new a.ObjectUnsubscribedError;if(!this.isStopped)for(var t=this.observers,r=t.length,n=t.slice(),o=0;o<r;o++)n[o].next(e)},t.prototype.error=function(e){if(this.closed)throw new a.ObjectUnsubscribedError;this.hasError=!0,this.thrownError=e,this.isStopped=!0;for(var t=this.observers,r=t.length,n=t.slice(),o=0;o<r;o++)n[o].error(e);this.observers.length=0},t.prototype.complete=function(){if(this.closed)throw new a.ObjectUnsubscribedError;this.isStopped=!0;for(var e=this.observers,t=e.length,r=e.slice(),n=0;n<t;n++)r[n].complete();this.observers.length=0},t.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},t.prototype._trySubscribe=function(t){if(this.closed)throw new a.ObjectUnsubscribedError;return e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){if(this.closed)throw new a.ObjectUnsubscribedError;return this.hasError?(e.error(this.thrownError),s.Subscription.EMPTY):this.isStopped?(e.complete(),s.Subscription.EMPTY):(this.observers.push(e),new c.SubjectSubscription(this,e))},t.prototype.asObservable=function(){var e=new o.Observable;return e.source=this,e},t.create=function(e,t){return new h(e,t)},t}(o.Observable);t.Subject=f;var h=function(e){function t(t,r){e.call(this),this.destination=t,this.source=r}return n(t,e),t.prototype.next=function(e){var t=this.destination;t&&t.next&&t.next(e)},t.prototype.error=function(e){var t=this.destination;t&&t.error&&this.destination.error(e)},t.prototype.complete=function(){var e=this.destination;e&&e.complete&&this.destination.complete()},t.prototype._subscribe=function(e){return this.source?this.source.subscribe(e):s.Subscription.EMPTY},t}(f);t.AnonymousSubject=h},7367:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=function(e){function t(t,r){e.call(this),this.subject=t,this.subscriber=r,this.closed=!1}return n(t,e),t.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var e=this.subject,t=e.observers;if(this.subject=null,t&&0!==t.length&&!e.isStopped&&!e.closed){var r=t.indexOf(this.subscriber);-1!==r&&t.splice(r,1)}}},t}(r(84469).Subscription);t.SubjectSubscription=o},71975:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=r(78451),i=r(84469),s=r(83847),a=r(98130),c=function(e){function t(t,r,n){switch(e.call(this),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=s.empty;break;case 1:if(!t){this.destination=s.empty;break}if("object"==typeof t){if(l(t)){var o=t[a.rxSubscriber]();this.syncErrorThrowable=o.syncErrorThrowable,this.destination=o,o.add(this)}else this.syncErrorThrowable=!0,this.destination=new u(this,t);break}default:this.syncErrorThrowable=!0,this.destination=new u(this,t,r,n)}}return n(t,e),t.prototype[a.rxSubscriber]=function(){return this},t.create=function(e,r,n){var o=new t(e,r,n);return o.syncErrorThrowable=!1,o},t.prototype.next=function(e){this.isStopped||this._next(e)},t.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this))},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){this.destination.error(e),this.unsubscribe()},t.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},t.prototype._unsubscribeAndRecycle=function(){var e=this._parent,t=this._parents;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=e,this._parents=t,this},t}(i.Subscription);t.Subscriber=c;var u=function(e){function t(t,r,n,i){var a;e.call(this),this._parentSubscriber=t;var c=this;o.isFunction(r)?a=r:r&&(a=r.next,n=r.error,i=r.complete,r!==s.empty&&(c=Object.create(r),o.isFunction(c.unsubscribe)&&this.add(c.unsubscribe.bind(c)),c.unsubscribe=this.unsubscribe.bind(this))),this._context=c,this._next=a,this._error=n,this._complete=i}return n(t,e),t.prototype.next=function(e){if(!this.isStopped&&this._next){var t=this._parentSubscriber;t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}},t.prototype.error=function(e){if(!this.isStopped){var t=this._parentSubscriber;if(this._error)t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else{if(!t.syncErrorThrowable)throw this.unsubscribe(),e;t.syncErrorValue=e,t.syncErrorThrown=!0,this.unsubscribe()}}},t.prototype.complete=function(){var e=this;if(!this.isStopped){var t=this._parentSubscriber;if(this._complete){var r=function(){return e._complete.call(e._context)};t.syncErrorThrowable?(this.__tryOrSetError(t,r),this.unsubscribe()):(this.__tryOrUnsub(r),this.unsubscribe())}else this.unsubscribe()}},t.prototype.__tryOrUnsub=function(e,t){try{e.call(this._context,t)}catch(e){throw this.unsubscribe(),e}},t.prototype.__tryOrSetError=function(e,t,r){try{t.call(this._context,r)}catch(t){return e.syncErrorValue=t,e.syncErrorThrown=!0,!0}return!1},t.prototype._unsubscribe=function(){var e=this._parentSubscriber;this._context=null,this._parentSubscriber=null,e.unsubscribe()},t}(c);function l(e){return e instanceof c||"syncErrorThrowable"in e&&e[a.rxSubscriber]}},84469:(e,t,r)=>{var n=r(70002),o=r(84014),i=r(78451),s=r(27611),a=r(51491),c=r(71928),u=function(){function e(e){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,e&&(this._unsubscribe=e)}var t;return e.prototype.unsubscribe=function(){var e,t=!1;if(!this.closed){var r=this,u=r._parent,f=r._parents,h=r._unsubscribe,p=r._subscriptions;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;for(var d=-1,y=f?f.length:0;u;)u.remove(this),u=++d<y&&f[d]||null;if(i.isFunction(h)&&s.tryCatch(h).call(this)===a.errorObject&&(t=!0,e=e||(a.errorObject.e instanceof c.UnsubscriptionError?l(a.errorObject.e.errors):[a.errorObject.e])),n.isArray(p))for(d=-1,y=p.length;++d<y;){var b=p[d];if(o.isObject(b)&&s.tryCatch(b.unsubscribe).call(b)===a.errorObject){t=!0,e=e||[];var m=a.errorObject.e;m instanceof c.UnsubscriptionError?e=e.concat(l(m.errors)):e.push(m)}}if(t)throw new c.UnsubscriptionError(e)}},e.prototype.add=function(t){if(!t||t===e.EMPTY)return e.EMPTY;if(t===this)return this;var r=t;switch(typeof t){case"function":r=new e(t);case"object":if(r.closed||"function"!=typeof r.unsubscribe)return r;if(this.closed)return r.unsubscribe(),r;if("function"!=typeof r._addParent){var n=r;(r=new e)._subscriptions=[n]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}return(this._subscriptions||(this._subscriptions=[])).push(r),r._addParent(this),r},e.prototype.remove=function(e){var t=this._subscriptions;if(t){var r=t.indexOf(e);-1!==r&&t.splice(r,1)}},e.prototype._addParent=function(e){var t=this._parent,r=this._parents;t&&t!==e?r?-1===r.indexOf(e)&&r.push(e):this._parents=[e]:this._parent=e},e.EMPTY=((t=new e).closed=!0,t),e}();function l(e){return e.reduce((function(e,t){return e.concat(t instanceof c.UnsubscriptionError?t.errors:t)}),[])}t.Subscription=u},59686:(e,t,r)=>{var n=r(16561),o=r(85538);n.Observable.bindCallback=o.bindCallback},78749:(e,t,r)=>{var n=r(16561),o=r(32135);n.Observable.bindNodeCallback=o.bindNodeCallback},53431:(e,t,r)=>{var n=r(16561),o=r(7485);n.Observable.combineLatest=o.combineLatest},10535:(e,t,r)=>{var n=r(16561),o=r(77847);n.Observable.concat=o.concat},96419:(e,t,r)=>{var n=r(16561),o=r(64799);n.Observable.defer=o.defer},85169:(e,t,r)=>{var n=r(16561),o=r(90220);n.Observable.ajax=o.ajax},95564:(e,t,r)=>{var n=r(16561),o=r(80249);n.Observable.webSocket=o.webSocket},1926:(e,t,r)=>{var n=r(16561),o=r(48216);n.Observable.empty=o.empty},23917:(e,t,r)=>{var n=r(16561),o=r(70308);n.Observable.forkJoin=o.forkJoin},54068:(e,t,r)=>{var n=r(16561),o=r(4572);n.Observable.from=o.from},45373:(e,t,r)=>{var n=r(16561),o=r(81230);n.Observable.fromEvent=o.fromEvent},5740:(e,t,r)=>{var n=r(16561),o=r(46776);n.Observable.fromEventPattern=o.fromEventPattern},63338:(e,t,r)=>{var n=r(16561),o=r(46291);n.Observable.fromPromise=o.fromPromise},69090:(e,t,r)=>{var n=r(16561),o=r(77892);n.Observable.generate=o.generate},63391:(e,t,r)=>{var n=r(16561),o=r(16397);n.Observable.if=o._if},44058:(e,t,r)=>{var n=r(16561),o=r(34287);n.Observable.interval=o.interval},94101:(e,t,r)=>{var n=r(16561),o=r(20507);n.Observable.merge=o.merge},16529:(e,t,r)=>{var n=r(16561),o=r(72951);n.Observable.never=o.never},15395:(e,t,r)=>{var n=r(16561),o=r(56187);n.Observable.of=o.of},87522:(e,t,r)=>{var n=r(16561),o=r(89574);n.Observable.onErrorResumeNext=o.onErrorResumeNext},40629:(e,t,r)=>{var n=r(16561),o=r(14493);n.Observable.pairs=o.pairs},90772:(e,t,r)=>{var n=r(16561),o=r(82505);n.Observable.race=o.race},52857:(e,t,r)=>{var n=r(16561),o=r(49778);n.Observable.range=o.range},31069:(e,t,r)=>{var n=r(16561),o=r(30197);n.Observable.throw=o._throw},53568:(e,t,r)=>{var n=r(16561),o=r(86240);n.Observable.timer=o.timer},59024:(e,t,r)=>{var n=r(16561),o=r(49268);n.Observable.using=o.using},55814:(e,t,r)=>{var n=r(16561),o=r(76164);n.Observable.zip=o.zip},22657:(e,t,r)=>{var n=r(16561),o=r(1260);n.Observable.prototype.audit=o.audit},21369:(e,t,r)=>{var n=r(16561),o=r(16231);n.Observable.prototype.auditTime=o.auditTime},16965:(e,t,r)=>{var n=r(16561),o=r(19536);n.Observable.prototype.buffer=o.buffer},95052:(e,t,r)=>{var n=r(16561),o=r(69784);n.Observable.prototype.bufferCount=o.bufferCount},14473:(e,t,r)=>{var n=r(16561),o=r(9347);n.Observable.prototype.bufferTime=o.bufferTime},61110:(e,t,r)=>{var n=r(16561),o=r(6623);n.Observable.prototype.bufferToggle=o.bufferToggle},93510:(e,t,r)=>{var n=r(16561),o=r(2319);n.Observable.prototype.bufferWhen=o.bufferWhen},58294:(e,t,r)=>{var n=r(16561),o=r(65620);n.Observable.prototype.catch=o._catch,n.Observable.prototype._catch=o._catch},31309:(e,t,r)=>{var n=r(16561),o=r(55242);n.Observable.prototype.combineAll=o.combineAll},91094:(e,t,r)=>{var n=r(16561),o=r(77655);n.Observable.prototype.combineLatest=o.combineLatest},45327:(e,t,r)=>{var n=r(16561),o=r(50554);n.Observable.prototype.concat=o.concat},64801:(e,t,r)=>{var n=r(16561),o=r(31834);n.Observable.prototype.concatAll=o.concatAll},35553:(e,t,r)=>{var n=r(16561),o=r(46864);n.Observable.prototype.concatMap=o.concatMap},11759:(e,t,r)=>{var n=r(16561),o=r(48828);n.Observable.prototype.concatMapTo=o.concatMapTo},38273:(e,t,r)=>{var n=r(16561),o=r(17296);n.Observable.prototype.count=o.count},33586:(e,t,r)=>{var n=r(16561),o=r(29926);n.Observable.prototype.debounce=o.debounce},19738:(e,t,r)=>{var n=r(16561),o=r(79372);n.Observable.prototype.debounceTime=o.debounceTime},22726:(e,t,r)=>{var n=r(16561),o=r(68513);n.Observable.prototype.defaultIfEmpty=o.defaultIfEmpty},22923:(e,t,r)=>{var n=r(16561),o=r(29131);n.Observable.prototype.delay=o.delay},37638:(e,t,r)=>{var n=r(16561),o=r(83565);n.Observable.prototype.delayWhen=o.delayWhen},47104:(e,t,r)=>{var n=r(16561),o=r(96930);n.Observable.prototype.dematerialize=o.dematerialize},16443:(e,t,r)=>{var n=r(16561),o=r(57867);n.Observable.prototype.distinct=o.distinct},98654:(e,t,r)=>{var n=r(16561),o=r(8593);n.Observable.prototype.distinctUntilChanged=o.distinctUntilChanged},69598:(e,t,r)=>{var n=r(16561),o=r(20616);n.Observable.prototype.distinctUntilKeyChanged=o.distinctUntilKeyChanged},21743:(e,t,r)=>{var n=r(16561),o=r(67720);n.Observable.prototype.do=o._do,n.Observable.prototype._do=o._do},99223:(e,t,r)=>{var n=r(16561),o=r(17840);n.Observable.prototype.elementAt=o.elementAt},66938:(e,t,r)=>{var n=r(16561),o=r(53243);n.Observable.prototype.every=o.every},66905:(e,t,r)=>{var n=r(16561),o=r(73137);n.Observable.prototype.exhaust=o.exhaust},65335:(e,t,r)=>{var n=r(16561),o=r(62978);n.Observable.prototype.exhaustMap=o.exhaustMap},17107:(e,t,r)=>{var n=r(16561),o=r(53770);n.Observable.prototype.expand=o.expand},79745:(e,t,r)=>{var n=r(16561),o=r(80241);n.Observable.prototype.filter=o.filter},93774:(e,t,r)=>{var n=r(16561),o=r(15710);n.Observable.prototype.finally=o._finally,n.Observable.prototype._finally=o._finally},36724:(e,t,r)=>{var n=r(16561),o=r(9107);n.Observable.prototype.find=o.find},8671:(e,t,r)=>{var n=r(16561),o=r(99486);n.Observable.prototype.findIndex=o.findIndex},70539:(e,t,r)=>{var n=r(16561),o=r(45344);n.Observable.prototype.first=o.first},28516:(e,t,r)=>{var n=r(16561),o=r(2108);n.Observable.prototype.groupBy=o.groupBy},73609:(e,t,r)=>{var n=r(16561),o=r(72524);n.Observable.prototype.ignoreElements=o.ignoreElements},45869:(e,t,r)=>{var n=r(16561),o=r(68936);n.Observable.prototype.isEmpty=o.isEmpty},68516:(e,t,r)=>{var n=r(16561),o=r(78062);n.Observable.prototype.last=o.last},99198:(e,t,r)=>{var n=r(16561),o=r(93211);n.Observable.prototype.let=o.letProto,n.Observable.prototype.letBind=o.letProto},71691:(e,t,r)=>{var n=r(16561),o=r(50338);n.Observable.prototype.map=o.map},39893:(e,t,r)=>{var n=r(16561),o=r(78671);n.Observable.prototype.mapTo=o.mapTo},60933:(e,t,r)=>{var n=r(16561),o=r(87818);n.Observable.prototype.materialize=o.materialize},52445:(e,t,r)=>{var n=r(16561),o=r(83472);n.Observable.prototype.max=o.max},42221:(e,t,r)=>{var n=r(16561),o=r(60084);n.Observable.prototype.merge=o.merge},8405:(e,t,r)=>{var n=r(16561),o=r(18324);n.Observable.prototype.mergeAll=o.mergeAll},63008:(e,t,r)=>{var n=r(16561),o=r(4940);n.Observable.prototype.mergeMap=o.mergeMap,n.Observable.prototype.flatMap=o.mergeMap},93921:(e,t,r)=>{var n=r(16561),o=r(66499);n.Observable.prototype.flatMapTo=o.mergeMapTo,n.Observable.prototype.mergeMapTo=o.mergeMapTo},23392:(e,t,r)=>{var n=r(16561),o=r(72729);n.Observable.prototype.mergeScan=o.mergeScan},2277:(e,t,r)=>{var n=r(16561),o=r(62047);n.Observable.prototype.min=o.min},43152:(e,t,r)=>{var n=r(16561),o=r(46317);n.Observable.prototype.multicast=o.multicast},69372:(e,t,r)=>{var n=r(16561),o=r(4212);n.Observable.prototype.observeOn=o.observeOn},23094:(e,t,r)=>{var n=r(16561),o=r(39127);n.Observable.prototype.onErrorResumeNext=o.onErrorResumeNext},82085:(e,t,r)=>{var n=r(16561),o=r(48996);n.Observable.prototype.pairwise=o.pairwise},2403:(e,t,r)=>{var n=r(16561),o=r(12748);n.Observable.prototype.partition=o.partition},9381:(e,t,r)=>{var n=r(16561),o=r(45867);n.Observable.prototype.pluck=o.pluck},77970:(e,t,r)=>{var n=r(16561),o=r(59128);n.Observable.prototype.publish=o.publish},35426:(e,t,r)=>{var n=r(16561),o=r(89159);n.Observable.prototype.publishBehavior=o.publishBehavior},97210:(e,t,r)=>{var n=r(16561),o=r(60168);n.Observable.prototype.publishLast=o.publishLast},52430:(e,t,r)=>{var n=r(16561),o=r(22879);n.Observable.prototype.publishReplay=o.publishReplay},42363:(e,t,r)=>{var n=r(16561),o=r(503);n.Observable.prototype.race=o.race},30659:(e,t,r)=>{var n=r(16561),o=r(56727);n.Observable.prototype.reduce=o.reduce},94931:(e,t,r)=>{var n=r(16561),o=r(4797);n.Observable.prototype.repeat=o.repeat},18212:(e,t,r)=>{var n=r(16561),o=r(35452);n.Observable.prototype.repeatWhen=o.repeatWhen},40088:(e,t,r)=>{var n=r(16561),o=r(72472);n.Observable.prototype.retry=o.retry},29475:(e,t,r)=>{var n=r(16561),o=r(49807);n.Observable.prototype.retryWhen=o.retryWhen},71198:(e,t,r)=>{var n=r(16561),o=r(84020);n.Observable.prototype.sample=o.sample},56574:(e,t,r)=>{var n=r(16561),o=r(70822);n.Observable.prototype.sampleTime=o.sampleTime},6747:(e,t,r)=>{var n=r(16561),o=r(79447);n.Observable.prototype.scan=o.scan},9118:(e,t,r)=>{var n=r(16561),o=r(69727);n.Observable.prototype.sequenceEqual=o.sequenceEqual},41361:(e,t,r)=>{var n=r(16561),o=r(10183);n.Observable.prototype.share=o.share},60484:(e,t,r)=>{var n=r(16561),o=r(28598);n.Observable.prototype.shareReplay=o.shareReplay},93746:(e,t,r)=>{var n=r(16561),o=r(92505);n.Observable.prototype.single=o.single},83052:(e,t,r)=>{var n=r(16561),o=r(36980);n.Observable.prototype.skip=o.skip},98720:(e,t,r)=>{var n=r(16561),o=r(68609);n.Observable.prototype.skipLast=o.skipLast},89122:(e,t,r)=>{var n=r(16561),o=r(63577);n.Observable.prototype.skipUntil=o.skipUntil},47419:(e,t,r)=>{var n=r(16561),o=r(505);n.Observable.prototype.skipWhile=o.skipWhile},57948:(e,t,r)=>{var n=r(16561),o=r(17323);n.Observable.prototype.startWith=o.startWith},79996:(e,t,r)=>{var n=r(16561),o=r(38653);n.Observable.prototype.subscribeOn=o.subscribeOn},6530:(e,t,r)=>{var n=r(16561),o=r(11711);n.Observable.prototype.switch=o._switch,n.Observable.prototype._switch=o._switch},50503:(e,t,r)=>{var n=r(16561),o=r(40868);n.Observable.prototype.switchMap=o.switchMap},89903:(e,t,r)=>{var n=r(16561),o=r(62231);n.Observable.prototype.switchMapTo=o.switchMapTo},8269:(e,t,r)=>{var n=r(16561),o=r(34712);n.Observable.prototype.take=o.take},90906:(e,t,r)=>{var n=r(16561),o=r(9746);n.Observable.prototype.takeLast=o.takeLast},80866:(e,t,r)=>{var n=r(16561),o=r(63774);n.Observable.prototype.takeUntil=o.takeUntil},10707:(e,t,r)=>{var n=r(16561),o=r(75910);n.Observable.prototype.takeWhile=o.takeWhile},62340:(e,t,r)=>{var n=r(16561),o=r(29764);n.Observable.prototype.throttle=o.throttle},76389:(e,t,r)=>{var n=r(16561),o=r(18196);n.Observable.prototype.throttleTime=o.throttleTime},48946:(e,t,r)=>{var n=r(16561),o=r(691);n.Observable.prototype.timeInterval=o.timeInterval},97774:(e,t,r)=>{var n=r(16561),o=r(17971);n.Observable.prototype.timeout=o.timeout},92162:(e,t,r)=>{var n=r(16561),o=r(98760);n.Observable.prototype.timeoutWith=o.timeoutWith},27133:(e,t,r)=>{var n=r(16561),o=r(8471);n.Observable.prototype.timestamp=o.timestamp},20864:(e,t,r)=>{var n=r(16561),o=r(71773);n.Observable.prototype.toArray=o.toArray},4027:()=>{},25221:(e,t,r)=>{var n=r(16561),o=r(94451);n.Observable.prototype.window=o.window},70972:(e,t,r)=>{var n=r(16561),o=r(45263);n.Observable.prototype.windowCount=o.windowCount},14862:(e,t,r)=>{var n=r(16561),o=r(11641);n.Observable.prototype.windowTime=o.windowTime},43753:(e,t,r)=>{var n=r(16561),o=r(29838);n.Observable.prototype.windowToggle=o.windowToggle},37332:(e,t,r)=>{var n=r(16561),o=r(91900);n.Observable.prototype.windowWhen=o.windowWhen},6109:(e,t,r)=>{var n=r(16561),o=r(40590);n.Observable.prototype.withLatestFrom=o.withLatestFrom},17973:(e,t,r)=>{var n=r(16561),o=r(87349);n.Observable.prototype.zip=o.zipProto},87325:(e,t,r)=>{var n=r(16561),o=r(66219);n.Observable.prototype.zipAll=o.zipAll},61024:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=r(16561),i=r(70398),s=r(45700),a=function(e){function t(t,r){e.call(this),this.arrayLike=t,this.scheduler=r,r||1!==t.length||(this._isScalar=!0,this.value=t[0])}return n(t,e),t.create=function(e,r){var n=e.length;return 0===n?new s.EmptyObservable:1===n?new i.ScalarObservable(e[0],r):new t(e,r)},t.dispatch=function(e){var t=e.arrayLike,r=e.index,n=e.length,o=e.subscriber;o.closed||(r>=n?o.complete():(o.next(t[r]),e.index=r+1,this.schedule(e)))},t.prototype._subscribe=function(e){var r=this.arrayLike,n=this.scheduler,o=r.length;if(n)return n.schedule(t.dispatch,0,{arrayLike:r,index:0,length:o,subscriber:e});for(var i=0;i<o&&!e.closed;i++)e.next(r[i]);e.complete()},t}(o.Observable);t.ArrayLikeObservable=a},824:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=r(16561),i=r(70398),s=r(45700),a=r(24469),c=function(e){function t(t,r){e.call(this),this.array=t,this.scheduler=r,r||1!==t.length||(this._isScalar=!0,this.value=t[0])}return n(t,e),t.create=function(e,r){return new t(e,r)},t.of=function(){for(var e=[],r=0;r<arguments.length;r++)e[r-0]=arguments[r];var n=e[e.length-1];a.isScheduler(n)?e.pop():n=null;var o=e.length;return o>1?new t(e,n):1===o?new i.ScalarObservable(e[0],n):new s.EmptyObservable(n)},t.dispatch=function(e){var t=e.array,r=e.index,n=e.count,o=e.subscriber;r>=n?o.complete():(o.next(t[r]),o.closed||(e.index=r+1,this.schedule(e)))},t.prototype._subscribe=function(e){var r=this.array,n=r.length,o=this.scheduler;if(o)return o.schedule(t.dispatch,0,{array:r,index:0,count:n,subscriber:e});for(var i=0;i<n&&!e.closed;i++)e.next(r[i]);e.complete()},t}(o.Observable);t.ArrayObservable=c},85519:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=r(16561),i=r(27611),s=r(51491),a=r(85859),c=function(e){function t(t,r,n,o,i){e.call(this),this.callbackFunc=t,this.selector=r,this.args=n,this.context=o,this.scheduler=i}return n(t,e),t.create=function(e,r,n){return void 0===r&&(r=void 0),function(){for(var o=[],i=0;i<arguments.length;i++)o[i-0]=arguments[i];return new t(e,r,o,this,n)}},t.prototype._subscribe=function(e){var r=this.callbackFunc,n=this.args,o=this.scheduler,c=this.subject;if(o)return o.schedule(t.dispatch,0,{source:this,subscriber:e,context:this.context});if(!c){c=this.subject=new a.AsyncSubject;var u=function e(){for(var t=[],r=0;r<arguments.length;r++)t[r-0]=arguments[r];var n=e.source,o=n.selector,a=n.subject;if(o){var c=i.tryCatch(o).apply(this,t);c===s.errorObject?a.error(s.errorObject.e):(a.next(c),a.complete())}else a.next(t.length<=1?t[0]:t),a.complete()};u.source=this,i.tryCatch(r).apply(this.context,n.concat(u))===s.errorObject&&c.error(s.errorObject.e)}return c.subscribe(e)},t.dispatch=function(e){var t=this,r=e.source,n=e.subscriber,o=e.context,c=r.callbackFunc,f=r.args,h=r.scheduler,p=r.subject;if(!p){p=r.subject=new a.AsyncSubject;var d=function e(){for(var r=[],n=0;n<arguments.length;n++)r[n-0]=arguments[n];var o=e.source,a=o.selector,c=o.subject;if(a){var f=i.tryCatch(a).apply(this,r);f===s.errorObject?t.add(h.schedule(l,0,{err:s.errorObject.e,subject:c})):t.add(h.schedule(u,0,{value:f,subject:c}))}else{var p=r.length<=1?r[0]:r;t.add(h.schedule(u,0,{value:p,subject:c}))}};d.source=r,i.tryCatch(c).apply(o,f.concat(d))===s.errorObject&&p.error(s.errorObject.e)}t.add(p.subscribe(n))},t}(o.Observable);function u(e){var t=e.value,r=e.subject;r.next(t),r.complete()}function l(e){var t=e.err;e.subject.error(t)}t.BoundCallbackObservable=c},37e3:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=r(16561),i=r(27611),s=r(51491),a=r(85859),c=function(e){function t(t,r,n,o,i){e.call(this),this.callbackFunc=t,this.selector=r,this.args=n,this.context=o,this.scheduler=i}return n(t,e),t.create=function(e,r,n){return void 0===r&&(r=void 0),function(){for(var o=[],i=0;i<arguments.length;i++)o[i-0]=arguments[i];return new t(e,r,o,this,n)}},t.prototype._subscribe=function(e){var t=this.callbackFunc,r=this.args,n=this.scheduler,o=this.subject;if(n)return n.schedule(u,0,{source:this,subscriber:e,context:this.context});if(!o){o=this.subject=new a.AsyncSubject;var c=function e(){for(var t=[],r=0;r<arguments.length;r++)t[r-0]=arguments[r];var n=e.source,o=n.selector,a=n.subject,c=t.shift();if(c)a.error(c);else if(o){var u=i.tryCatch(o).apply(this,t);u===s.errorObject?a.error(s.errorObject.e):(a.next(u),a.complete())}else a.next(t.length<=1?t[0]:t),a.complete()};c.source=this,i.tryCatch(t).apply(this.context,r.concat(c))===s.errorObject&&o.error(s.errorObject.e)}return o.subscribe(e)},t}(o.Observable);function u(e){var t=this,r=e.source,n=e.subscriber,o=e.context,c=r,u=c.callbackFunc,h=c.args,p=c.scheduler,d=r.subject;if(!d){d=r.subject=new a.AsyncSubject;var y=function e(){for(var r=[],n=0;n<arguments.length;n++)r[n-0]=arguments[n];var o=e.source,a=o.selector,c=o.subject,u=r.shift();if(u)t.add(p.schedule(f,0,{err:u,subject:c}));else if(a){var h=i.tryCatch(a).apply(this,r);h===s.errorObject?t.add(p.schedule(f,0,{err:s.errorObject.e,subject:c})):t.add(p.schedule(l,0,{value:h,subject:c}))}else{var d=r.length<=1?r[0]:r;t.add(p.schedule(l,0,{value:d,subject:c}))}};y.source=r,i.tryCatch(u).apply(o,h.concat(y))===s.errorObject&&t.add(p.schedule(f,0,{err:s.errorObject.e,subject:d}))}t.add(d.subscribe(n))}function l(e){var t=e.value,r=e.subject;r.next(t),r.complete()}function f(e){var t=e.err;e.subject.error(t)}t.BoundNodeCallbackObservable=c},72771:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=r(31377),i=r(16561),s=r(71975),a=r(84469),c=r(26195),u=function(e){function t(t,r){e.call(this),this.source=t,this.subjectFactory=r,this._refCount=0,this._isComplete=!1}return n(t,e),t.prototype._subscribe=function(e){return this.getSubject().subscribe(e)},t.prototype.getSubject=function(){var e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject},t.prototype.connect=function(){var e=this._connection;return e||(this._isComplete=!1,(e=this._connection=new a.Subscription).add(this.source.subscribe(new f(this.getSubject(),this))),e.closed?(this._connection=null,e=a.Subscription.EMPTY):this._connection=e),e},t.prototype.refCount=function(){return c.refCount()(this)},t}(i.Observable);t.ConnectableObservable=u;var l=u.prototype;t.connectableObservableDescriptor={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:l._subscribe},_isComplete:{value:l._isComplete,writable:!0},getSubject:{value:l.getSubject},connect:{value:l.connect},refCount:{value:l.refCount}};var f=function(e){function t(t,r){e.call(this,t),this.connectable=r}return n(t,e),t.prototype._error=function(t){this._unsubscribe(),e.prototype._error.call(this,t)},t.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){var e=this.connectable;if(e){this.connectable=null;var t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}},t}(o.SubjectSubscriber);!function(e){function t(t,r){e.call(this,t),this.connectable=r}n(t,e),t.prototype._unsubscribe=function(){var e=this.connectable;if(e){this.connectable=null;var t=e._refCount;if(t<=0)this.connection=null;else if(e._refCount=t-1,t>1)this.connection=null;else{var r=this.connection,n=e._connection;this.connection=null,!n||r&&n!==r||n.unsubscribe()}}else this.connection=null}}(s.Subscriber)},83247:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=r(16561),i=r(51302),s=r(62392),a=function(e){function t(t){e.call(this),this.observableFactory=t}return n(t,e),t.create=function(e){return new t(e)},t.prototype._subscribe=function(e){return new c(e,this.observableFactory)},t}(o.Observable);t.DeferObservable=a;var c=function(e){function t(t,r){e.call(this,t),this.factory=r,this.tryDefer()}return n(t,e),t.prototype.tryDefer=function(){try{this._callFactory()}catch(e){this._error(e)}},t.prototype._callFactory=function(){var e=this.factory();e&&this.add(i.subscribeToResult(this,e))},t}(s.OuterSubscriber)},45700:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=function(e){function t(t){e.call(this),this.scheduler=t}return n(t,e),t.create=function(e){return new t(e)},t.dispatch=function(e){e.subscriber.complete()},t.prototype._subscribe=function(e){var r=this.scheduler;if(r)return r.schedule(t.dispatch,0,{subscriber:e});e.complete()},t}(r(16561).Observable);t.EmptyObservable=o},68029:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=function(e){function t(t,r){e.call(this),this.error=t,this.scheduler=r}return n(t,e),t.create=function(e,r){return new t(e,r)},t.dispatch=function(e){var t=e.error;e.subscriber.error(t)},t.prototype._subscribe=function(e){var r=this.error,n=this.scheduler;if(e.syncErrorThrowable=!0,n)return n.schedule(t.dispatch,0,{error:r,subscriber:e});e.error(r)},t}(r(16561).Observable);t.ErrorObservable=o},95639:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=r(16561),i=r(45700),s=r(70002),a=r(51302),c=r(62392),u=function(e){function t(t,r){e.call(this),this.sources=t,this.resultSelector=r}return n(t,e),t.create=function(){for(var e=[],r=0;r<arguments.length;r++)e[r-0]=arguments[r];if(null===e||0===arguments.length)return new i.EmptyObservable;var n=null;return"function"==typeof e[e.length-1]&&(n=e.pop()),1===e.length&&s.isArray(e[0])&&(e=e[0]),0===e.length?new i.EmptyObservable:new t(e,n)},t.prototype._subscribe=function(e){return new l(e,this.sources,this.resultSelector)},t}(o.Observable);t.ForkJoinObservable=u;var l=function(e){function t(t,r,n){e.call(this,t),this.sources=r,this.resultSelector=n,this.completed=0,this.haveValues=0;var o=r.length;this.total=o,this.values=new Array(o);for(var i=0;i<o;i++){var s=r[i],c=a.subscribeToResult(this,s,null,i);c&&(c.outerIndex=i,this.add(c))}}return n(t,e),t.prototype.notifyNext=function(e,t,r,n,o){this.values[r]=t,o._hasValue||(o._hasValue=!0,this.haveValues++)},t.prototype.notifyComplete=function(e){var t=this.destination,r=this,n=r.haveValues,o=r.resultSelector,i=r.values,s=i.length;if(e._hasValue){if(this.completed++,this.completed===s){if(n===s){var a=o?o.apply(this,i):i;t.next(a)}t.complete()}}else t.complete()},t}(c.OuterSubscriber)},7716:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=r(16561),i=r(27611),s=r(78451),a=r(51491),c=r(84469),u=Object.prototype.toString,l=function(e){function t(t,r,n,o){e.call(this),this.sourceObj=t,this.eventName=r,this.selector=n,this.options=o}return n(t,e),t.create=function(e,r,n,o){return s.isFunction(n)&&(o=n,n=void 0),new t(e,r,o,n)},t.setupSubscription=function(e,r,n,o,i){var s;if(function(e){return!!e&&"[object NodeList]"===u.call(e)}(e)||function(e){return!!e&&"[object HTMLCollection]"===u.call(e)}(e))for(var a=0,l=e.length;a<l;a++)t.setupSubscription(e[a],r,n,o,i);else if(function(e){return!!e&&"function"==typeof e.addEventListener&&"function"==typeof e.removeEventListener}(e)){var f=e;e.addEventListener(r,n,i),s=function(){return f.removeEventListener(r,n,i)}}else if(function(e){return!!e&&"function"==typeof e.on&&"function"==typeof e.off}(e)){var h=e;e.on(r,n),s=function(){return h.off(r,n)}}else{if(!function(e){return!!e&&"function"==typeof e.addListener&&"function"==typeof e.removeListener}(e))throw new TypeError("Invalid event target");var p=e;e.addListener(r,n),s=function(){return p.removeListener(r,n)}}o.add(new c.Subscription(s))},t.prototype._subscribe=function(e){var r=this.sourceObj,n=this.eventName,o=this.options,s=this.selector,c=s?function(){for(var t=[],r=0;r<arguments.length;r++)t[r-0]=arguments[r];var n=i.tryCatch(s).apply(void 0,t);n===a.errorObject?e.error(a.errorObject.e):e.next(n)}:function(t){return e.next(t)};t.setupSubscription(r,n,c,e,o)},t}(o.Observable);t.FromEventObservable=l},79075:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=r(78451),i=r(16561),s=r(84469),a=function(e){function t(t,r,n){e.call(this),this.addHandler=t,this.removeHandler=r,this.selector=n}return n(t,e),t.create=function(e,r,n){return new t(e,r,n)},t.prototype._subscribe=function(e){var t=this,r=this.removeHandler,n=this.selector?function(){for(var r=[],n=0;n<arguments.length;n++)r[n-0]=arguments[n];t._callSelector(e,r)}:function(t){e.next(t)},i=this._callAddHandler(n,e);o.isFunction(r)&&e.add(new s.Subscription((function(){r(n,i)})))},t.prototype._callSelector=function(e,t){try{var r=this.selector.apply(this,t);e.next(r)}catch(t){e.error(t)}},t.prototype._callAddHandler=function(e,t){try{return this.addHandler(e)||null}catch(e){t.error(e)}},t}(i.Observable);t.FromEventPatternObservable=a},41113:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=r(70002),i=r(79289),s=r(22808),a=r(18203),c=r(38215),u=r(824),l=r(61024),f=r(51474),h=r(16561),p=r(10074),d=r(62086),y=function(e){function t(t,r){e.call(this,null),this.ish=t,this.scheduler=r}return n(t,e),t.create=function(e,r){if(null!=e){if("function"==typeof e[d.observable])return e instanceof h.Observable&&!r?e:new t(e,r);if(o.isArray(e))return new u.ArrayObservable(e,r);if(s.isPromise(e))return new a.PromiseObservable(e,r);if("function"==typeof e[f.iterator]||"string"==typeof e)return new c.IteratorObservable(e,r);if(i.isArrayLike(e))return new l.ArrayLikeObservable(e,r)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")},t.prototype._subscribe=function(e){var t=this.ish,r=this.scheduler;return null==r?t[d.observable]().subscribe(e):t[d.observable]().subscribe(new p.ObserveOnSubscriber(e,r,0))},t}(h.Observable);t.FromObservable=y},31911:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=r(16561),i=r(24469),s=function(e){return e},a=function(e){function t(t,r,n,o,i){e.call(this),this.initialState=t,this.condition=r,this.iterate=n,this.resultSelector=o,this.scheduler=i}return n(t,e),t.create=function(e,r,n,o,a){return 1==arguments.length?new t(e.initialState,e.condition,e.iterate,e.resultSelector||s,e.scheduler):void 0===o||i.isScheduler(o)?new t(e,r,n,s,o):new t(e,r,n,o,a)},t.prototype._subscribe=function(e){var r=this.initialState;if(this.scheduler)return this.scheduler.schedule(t.dispatch,0,{subscriber:e,iterate:this.iterate,condition:this.condition,resultSelector:this.resultSelector,state:r});for(var n=this,o=n.condition,i=n.resultSelector,s=n.iterate;;){if(o){var a=void 0;try{a=o(r)}catch(t){return void e.error(t)}if(!a){e.complete();break}}var c=void 0;try{c=i(r)}catch(t){return void e.error(t)}if(e.next(c),e.closed)break;try{r=s(r)}catch(t){return void e.error(t)}}},t.dispatch=function(e){var t=e.subscriber,r=e.condition;if(!t.closed){if(e.needIterate)try{e.state=e.iterate(e.state)}catch(e){return void t.error(e)}else e.needIterate=!0;if(r){var n=void 0;try{n=r(e.state)}catch(e){return void t.error(e)}if(!n)return void t.complete();if(t.closed)return}var o;try{o=e.resultSelector(e.state)}catch(e){return void t.error(e)}if(!t.closed&&(t.next(o),!t.closed))return this.schedule(e)}},t}(o.Observable);t.GenerateObservable=a},48258:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=r(16561),i=r(51302),s=r(62392),a=function(e){function t(t,r,n){e.call(this),this.condition=t,this.thenSource=r,this.elseSource=n}return n(t,e),t.create=function(e,r,n){return new t(e,r,n)},t.prototype._subscribe=function(e){var t=this,r=t.condition,n=t.thenSource,o=t.elseSource;return new c(e,r,n,o)},t}(o.Observable);t.IfObservable=a;var c=function(e){function t(t,r,n,o){e.call(this,t),this.condition=r,this.thenSource=n,this.elseSource=o,this.tryIf()}return n(t,e),t.prototype.tryIf=function(){var e=this,t=e.condition,r=e.thenSource,n=e.elseSource;try{var o=t()?r:n;o?this.add(i.subscribeToResult(this,o)):this._complete()}catch(e){this._error(e)}},t}(s.OuterSubscriber)},54475:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=r(54137),i=r(16561),s=r(55488),a=function(e){function t(t,r){void 0===t&&(t=0),void 0===r&&(r=s.async),e.call(this),this.period=t,this.scheduler=r,(!o.isNumeric(t)||t<0)&&(this.period=0),r&&"function"==typeof r.schedule||(this.scheduler=s.async)}return n(t,e),t.create=function(e,r){return void 0===e&&(e=0),void 0===r&&(r=s.async),new t(e,r)},t.dispatch=function(e){var t=e.index,r=e.subscriber,n=e.period;r.next(t),r.closed||(e.index+=1,this.schedule(e,n))},t.prototype._subscribe=function(e){var r=this.period,n=this.scheduler;e.add(n.schedule(t.dispatch,r,{index:0,subscriber:e,period:r}))},t}(i.Observable);t.IntervalObservable=a},38215:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=r(21613),i=r(16561),s=r(51474),a=function(e){function t(t,r){if(e.call(this),this.scheduler=r,null==t)throw new Error("iterator cannot be null.");this.iterator=function(e){var t=e[s.iterator];if(!t&&"string"==typeof e)return new c(e);if(!t&&void 0!==e.length)return new u(e);if(!t)throw new TypeError("object is not iterable");return e[s.iterator]()}(t)}return n(t,e),t.create=function(e,r){return new t(e,r)},t.dispatch=function(e){var t=e.index,r=e.hasError,n=e.iterator,o=e.subscriber;if(r)o.error(e.error);else{var i=n.next();i.done?o.complete():(o.next(i.value),e.index=t+1,o.closed?"function"==typeof n.return&&n.return():this.schedule(e))}},t.prototype._subscribe=function(e){var r=this.iterator,n=this.scheduler;if(n)return n.schedule(t.dispatch,0,{index:0,iterator:r,subscriber:e});for(;;){var o=r.next();if(o.done){e.complete();break}if(e.next(o.value),e.closed){"function"==typeof r.return&&r.return();break}}},t}(i.Observable);t.IteratorObservable=a;var c=function(){function e(e,t,r){void 0===t&&(t=0),void 0===r&&(r=e.length),this.str=e,this.idx=t,this.len=r}return e.prototype[s.iterator]=function(){return this},e.prototype.next=function(){return this.idx<this.len?{done:!1,value:this.str.charAt(this.idx++)}:{done:!0,value:void 0}},e}(),u=function(){function e(e,t,r){void 0===t&&(t=0),void 0===r&&(r=function(e){var t,r=+e.length;return isNaN(r)?0:0!==r&&("number"==typeof(t=r)&&o.root.isFinite(t))?(r=function(e){var t=+e;return 0===t||isNaN(t)?t:t<0?-1:1}(r)*Math.floor(Math.abs(r)))<=0?0:r>l?l:r:r}(e)),this.arr=e,this.idx=t,this.len=r}return e.prototype[s.iterator]=function(){return this},e.prototype.next=function(){return this.idx<this.len?{done:!1,value:this.arr[this.idx++]}:{done:!0,value:void 0}},e}(),l=Math.pow(2,53)-1},33486:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=r(16561),i=r(40777),s=function(e){function t(){e.call(this)}return n(t,e),t.create=function(){return new t},t.prototype._subscribe=function(e){i.noop()},t}(o.Observable);t.NeverObservable=s},71317:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)};function o(e){var t=e.obj,r=e.keys,n=e.length,o=e.index,i=e.subscriber;if(o!==n){var s=r[o];i.next([s,t[s]]),e.index=o+1,this.schedule(e)}else i.complete()}var i=function(e){function t(t,r){e.call(this),this.obj=t,this.scheduler=r,this.keys=Object.keys(t)}return n(t,e),t.create=function(e,r){return new t(e,r)},t.prototype._subscribe=function(e){var t=this.keys,r=this.scheduler,n=t.length;if(r)return r.schedule(o,0,{obj:this.obj,keys:t,length:n,index:0,subscriber:e});for(var i=0;i<n;i++){var s=t[i];e.next([s,this.obj[s]])}e.complete()},t}(r(16561).Observable);t.PairsObservable=i},18203:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=r(21613),i=function(e){function t(t,r){e.call(this),this.promise=t,this.scheduler=r}return n(t,e),t.create=function(e,r){return new t(e,r)},t.prototype._subscribe=function(e){var t=this,r=this.promise,n=this.scheduler;if(null==n)this._isScalar?e.closed||(e.next(this.value),e.complete()):r.then((function(r){t.value=r,t._isScalar=!0,e.closed||(e.next(r),e.complete())}),(function(t){e.closed||e.error(t)})).then(null,(function(e){o.root.setTimeout((function(){throw e}))}));else if(this._isScalar){if(!e.closed)return n.schedule(s,0,{value:this.value,subscriber:e})}else r.then((function(r){t.value=r,t._isScalar=!0,e.closed||e.add(n.schedule(s,0,{value:r,subscriber:e}))}),(function(t){e.closed||e.add(n.schedule(a,0,{err:t,subscriber:e}))})).then(null,(function(e){o.root.setTimeout((function(){throw e}))}))},t}(r(16561).Observable);function s(e){var t=e.value,r=e.subscriber;r.closed||(r.next(t),r.complete())}function a(e){var t=e.err,r=e.subscriber;r.closed||r.error(t)}t.PromiseObservable=i},16374:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=function(e){function t(t,r,n){e.call(this),this.start=t,this._count=r,this.scheduler=n}return n(t,e),t.create=function(e,r,n){return void 0===e&&(e=0),void 0===r&&(r=0),new t(e,r,n)},t.dispatch=function(e){var t=e.start,r=e.index,n=e.count,o=e.subscriber;r>=n?o.complete():(o.next(t),o.closed||(e.index=r+1,e.start=t+1,this.schedule(e)))},t.prototype._subscribe=function(e){var r=0,n=this.start,o=this._count,i=this.scheduler;if(i)return i.schedule(t.dispatch,0,{index:r,count:o,start:n,subscriber:e});for(;;){if(r++>=o){e.complete();break}if(e.next(n++),e.closed)break}},t}(r(16561).Observable);t.RangeObservable=o},70398:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=function(e){function t(t,r){e.call(this),this.value=t,this.scheduler=r,this._isScalar=!0,r&&(this._isScalar=!1)}return n(t,e),t.create=function(e,r){return new t(e,r)},t.dispatch=function(e){var t=e.done,r=e.value,n=e.subscriber;t?n.complete():(n.next(r),n.closed||(e.done=!0,this.schedule(e)))},t.prototype._subscribe=function(e){var r=this.value,n=this.scheduler;if(n)return n.schedule(t.dispatch,0,{done:!1,value:r,subscriber:e});e.next(r),e.closed||e.complete()},t}(r(16561).Observable);t.ScalarObservable=o},19887:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=r(16561),i=r(24510),s=r(54137),a=function(e){function t(t,r,n){void 0===r&&(r=0),void 0===n&&(n=i.asap),e.call(this),this.source=t,this.delayTime=r,this.scheduler=n,(!s.isNumeric(r)||r<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=i.asap)}return n(t,e),t.create=function(e,r,n){return void 0===r&&(r=0),void 0===n&&(n=i.asap),new t(e,r,n)},t.dispatch=function(e){var t=e.source,r=e.subscriber;return this.add(t.subscribe(r))},t.prototype._subscribe=function(e){var r=this.delayTime,n=this.source;return this.scheduler.schedule(t.dispatch,r,{source:n,subscriber:e})},t}(o.Observable);t.SubscribeOnObservable=a},58353:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=r(54137),i=r(16561),s=r(55488),a=r(24469),c=r(28595),u=function(e){function t(t,r,n){void 0===t&&(t=0),e.call(this),this.period=-1,this.dueTime=0,o.isNumeric(r)?this.period=Number(r)<1?1:Number(r):a.isScheduler(r)&&(n=r),a.isScheduler(n)||(n=s.async),this.scheduler=n,this.dueTime=c.isDate(t)?+t-this.scheduler.now():t}return n(t,e),t.create=function(e,r,n){return void 0===e&&(e=0),new t(e,r,n)},t.dispatch=function(e){var t=e.index,r=e.period,n=e.subscriber;if(n.next(t),!n.closed){if(-1===r)return n.complete();e.index=t+1,this.schedule(e,r)}},t.prototype._subscribe=function(e){var r=this,n=r.period,o=r.dueTime;return r.scheduler.schedule(t.dispatch,o,{index:0,period:n,subscriber:e})},t}(i.Observable);t.TimerObservable=u},33521:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=r(16561),i=r(51302),s=r(62392),a=function(e){function t(t,r){e.call(this),this.resourceFactory=t,this.observableFactory=r}return n(t,e),t.create=function(e,r){return new t(e,r)},t.prototype._subscribe=function(e){var t,r=this.resourceFactory,n=this.observableFactory;try{return t=r(),new c(e,t,n)}catch(t){e.error(t)}},t}(o.Observable);t.UsingObservable=a;var c=function(e){function t(t,r,n){e.call(this,t),this.resource=r,this.observableFactory=n,t.add(r),this.tryUse()}return n(t,e),t.prototype.tryUse=function(){try{var e=this.observableFactory.call(this,this.resource);e&&this.add(i.subscribeToResult(this,e))}catch(e){this._error(e)}},t}(s.OuterSubscriber)},85538:(e,t,r)=>{var n=r(85519);t.bindCallback=n.BoundCallbackObservable.create},32135:(e,t,r)=>{var n=r(37e3);t.bindNodeCallback=n.BoundNodeCallbackObservable.create},7485:(e,t,r)=>{var n=r(24469),o=r(70002),i=r(824),s=r(52232);t.combineLatest=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];var r=null,a=null;return n.isScheduler(e[e.length-1])&&(a=e.pop()),"function"==typeof e[e.length-1]&&(r=e.pop()),1===e.length&&o.isArray(e[0])&&(e=e[0]),new i.ArrayObservable(e,a).lift(new s.CombineLatestOperator(r))}},77847:(e,t,r)=>{var n=r(24469),o=r(56187),i=r(4572),s=r(35515);t.concat=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return 1===e.length||2===e.length&&n.isScheduler(e[1])?i.from(e[0]):s.concatAll()(o.of.apply(void 0,e))}},64799:(e,t,r)=>{var n=r(83247);t.defer=n.DeferObservable.create},58709:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=r(21613),i=r(27611),s=r(51491),a=r(16561),c=r(71975),u=r(20027);function l(){if(o.root.XMLHttpRequest)return new o.root.XMLHttpRequest;if(o.root.XDomainRequest)return new o.root.XDomainRequest;throw new Error("CORS is not supported by your browser")}function f(e,t){return void 0===t&&(t=null),new v({method:"GET",url:e,headers:t})}function h(e,t,r){return new v({method:"POST",url:e,body:t,headers:r})}function p(e,t){return new v({method:"DELETE",url:e,headers:t})}function d(e,t,r){return new v({method:"PUT",url:e,body:t,headers:r})}function y(e,t,r){return new v({method:"PATCH",url:e,body:t,headers:r})}t.ajaxGet=f,t.ajaxPost=h,t.ajaxDelete=p,t.ajaxPut=d,t.ajaxPatch=y;var b=u.map((function(e,t){return e.response}));function m(e,t){return b(new v({method:"GET",url:e,responseType:"json",headers:t}))}t.ajaxGetJSON=m;var v=function(e){function t(t){e.call(this);var r={async:!0,createXHR:function(){return this.crossDomain?l.call(this):function(){if(o.root.XMLHttpRequest)return new o.root.XMLHttpRequest;var e=void 0;try{for(var t=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],r=0;r<3;r++)try{if(e=t[r],new o.root.ActiveXObject(e))break}catch(e){}return new o.root.ActiveXObject(e)}catch(e){throw new Error("XMLHttpRequest is not supported by your browser")}}()},crossDomain:!1,withCredentials:!1,headers:{},method:"GET",responseType:"json",timeout:0};if("string"==typeof t)r.url=t;else for(var n in t)t.hasOwnProperty(n)&&(r[n]=t[n]);this.request=r}var r;return n(t,e),t.prototype._subscribe=function(e){return new g(e,this.request)},t.create=((r=function(e){return new t(e)}).get=f,r.post=h,r.delete=p,r.put=d,r.patch=y,r.getJSON=m,r),t}(a.Observable);t.AjaxObservable=v;var g=function(e){function t(t,r){e.call(this,t),this.request=r,this.done=!1;var n=r.headers=r.headers||{};r.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest"),"Content-Type"in n||o.root.FormData&&r.body instanceof o.root.FormData||void 0===r.body||(n["Content-Type"]="application/x-www-form-urlencoded; charset=UTF-8"),r.body=this.serializeBody(r.body,r.headers["Content-Type"]),this.send()}return n(t,e),t.prototype.next=function(e){this.done=!0;var t=this,r=t.xhr,n=t.request,o=t.destination,i=new w(e,r,n);o.next(i)},t.prototype.send=function(){var e=this.request,t=this.request,r=t.user,n=t.method,o=t.url,a=t.async,c=t.password,u=t.headers,l=t.body,f=e.createXHR,h=i.tryCatch(f).call(e);if(h===s.errorObject)this.error(s.errorObject.e);else{if(this.xhr=h,this.setupEvents(h,e),(r?i.tryCatch(h.open).call(h,n,o,a,r,c):i.tryCatch(h.open).call(h,n,o,a))===s.errorObject)return this.error(s.errorObject.e),null;if(a&&(h.timeout=e.timeout,h.responseType=e.responseType),"withCredentials"in h&&(h.withCredentials=!!e.withCredentials),this.setHeaders(h,u),(l?i.tryCatch(h.send).call(h,l):i.tryCatch(h.send).call(h))===s.errorObject)return this.error(s.errorObject.e),null}return h},t.prototype.serializeBody=function(e,t){if(!e||"string"==typeof e)return e;if(o.root.FormData&&e instanceof o.root.FormData)return e;if(t){var r=t.indexOf(";");-1!==r&&(t=t.substring(0,r))}switch(t){case"application/x-www-form-urlencoded":return Object.keys(e).map((function(t){return encodeURI(t)+"="+encodeURI(e[t])})).join("&");case"application/json":return JSON.stringify(e);default:return e}},t.prototype.setHeaders=function(e,t){for(var r in t)t.hasOwnProperty(r)&&e.setRequestHeader(r,t[r])},t.prototype.setupEvents=function(e,t){var r,n,i=t.progressSubscriber;function s(e){var t=s,r=t.subscriber,n=t.progressSubscriber,o=t.request;n&&n.error(e),r.error(new O(this,o))}(e.ontimeout=s,s.request=t,s.subscriber=this,s.progressSubscriber=i,e.upload&&"withCredentials"in e)&&(i&&(r=function(e){r.progressSubscriber.next(e)},o.root.XDomainRequest?e.onprogress=r:e.upload.onprogress=r,r.progressSubscriber=i),n=function(e){var t=n,r=t.progressSubscriber,o=t.subscriber,i=t.request;r&&r.error(e),o.error(new _("ajax error",this,i))},e.onerror=n,n.request=t,n.subscriber=this,n.progressSubscriber=i);function a(e){var t=a,r=t.subscriber,n=t.progressSubscriber,o=t.request;if(4===this.readyState){var i=1223===this.status?204:this.status,s="text"===this.responseType?this.response||this.responseText:this.response;0===i&&(i=s?200:0),200<=i&&i<300?(n&&n.complete(),r.next(e),r.complete()):(n&&n.error(e),r.error(new _("ajax error "+i,this,o)))}}e.onreadystatechange=a,a.subscriber=this,a.progressSubscriber=i,a.request=t},t.prototype.unsubscribe=function(){var t=this.done,r=this.xhr;!t&&r&&4!==r.readyState&&"function"==typeof r.abort&&r.abort(),e.prototype.unsubscribe.call(this)},t}(c.Subscriber);t.AjaxSubscriber=g;var w=function(e,t,r){this.originalEvent=e,this.xhr=t,this.request=r,this.status=t.status,this.responseType=t.responseType||r.responseType,this.response=S(this.responseType,t)};t.AjaxResponse=w;var _=function(e){function t(t,r,n){e.call(this,t),this.message=t,this.xhr=r,this.request=n,this.status=r.status,this.responseType=r.responseType||n.responseType,this.response=S(this.responseType,r)}return n(t,e),t}(Error);function S(e,t){switch(e){case"json":return"response"in t?t.responseType?t.response:JSON.parse(t.response||t.responseText||"null"):JSON.parse(t.responseText||"null");case"xml":return t.responseXML;default:return"response"in t?t.response:t.responseText}}t.AjaxError=_;var O=function(e){function t(t,r){e.call(this,"ajax timeout",t,r)}return n(t,e),t}(_);t.AjaxTimeoutError=O},25683:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=r(31377),i=r(71975),s=r(16561),a=r(84469),c=r(21613),u=r(48885),l=r(27611),f=r(51491),h=r(31124),p=function(e){function t(t,r){if(t instanceof s.Observable)e.call(this,r,t);else{if(e.call(this),this.WebSocketCtor=c.root.WebSocket,this._output=new o.Subject,"string"==typeof t?this.url=t:h.assign(this,t),!this.WebSocketCtor)throw new Error("no WebSocket constructor can be found");this.destination=new u.ReplaySubject}}return n(t,e),t.prototype.resultSelector=function(e){return JSON.parse(e.data)},t.create=function(e){return new t(e)},t.prototype.lift=function(e){var r=new t(this,this.destination);return r.operator=e,r},t.prototype._resetState=function(){this.socket=null,this.source||(this.destination=new u.ReplaySubject),this._output=new o.Subject},t.prototype.multiplex=function(e,t,r){var n=this;return new s.Observable((function(o){var i=l.tryCatch(e)();i===f.errorObject?o.error(f.errorObject.e):n.next(i);var s=n.subscribe((function(e){var t=l.tryCatch(r)(e);t===f.errorObject?o.error(f.errorObject.e):t&&o.next(e)}),(function(e){return o.error(e)}),(function(){return o.complete()}));return function(){var e=l.tryCatch(t)();e===f.errorObject?o.error(f.errorObject.e):n.next(e),s.unsubscribe()}}))},t.prototype._connectSocket=function(){var e=this,t=this.WebSocketCtor,r=this._output,n=null;try{n=this.protocol?new t(this.url,this.protocol):new t(this.url),this.socket=n,this.binaryType&&(this.socket.binaryType=this.binaryType)}catch(e){return void r.error(e)}var o=new a.Subscription((function(){e.socket=null,n&&1===n.readyState&&n.close()}));n.onopen=function(t){var s=e.openObserver;s&&s.next(t);var a=e.destination;e.destination=i.Subscriber.create((function(e){return 1===n.readyState&&n.send(e)}),(function(t){var o=e.closingObserver;o&&o.next(void 0),t&&t.code?n.close(t.code,t.reason):r.error(new TypeError("WebSocketSubject.error must be called with an object with an error code, and an optional reason: { code: number, reason: string }")),e._resetState()}),(function(){var t=e.closingObserver;t&&t.next(void 0),n.close(),e._resetState()})),a&&a instanceof u.ReplaySubject&&o.add(a.subscribe(e.destination))},n.onerror=function(t){e._resetState(),r.error(t)},n.onclose=function(t){e._resetState();var n=e.closeObserver;n&&n.next(t),t.wasClean?r.complete():r.error(t)},n.onmessage=function(t){var n=l.tryCatch(e.resultSelector)(t);n===f.errorObject?r.error(f.errorObject.e):r.next(n)}},t.prototype._subscribe=function(e){var t=this,r=this.source;if(r)return r.subscribe(e);this.socket||this._connectSocket();var n=new a.Subscription;return n.add(this._output.subscribe(e)),n.add((function(){var e=t.socket;0===t._output.observers.length&&(e&&1===e.readyState&&e.close(),t._resetState())})),n},t.prototype.unsubscribe=function(){var t=this.source,r=this.socket;r&&1===r.readyState&&(r.close(),this._resetState()),e.prototype.unsubscribe.call(this),t||(this.destination=new u.ReplaySubject)},t}(o.AnonymousSubject);t.WebSocketSubject=p},90220:(e,t,r)=>{var n=r(58709);t.ajax=n.AjaxObservable.create},80249:(e,t,r)=>{var n=r(25683);t.webSocket=n.WebSocketSubject.create},48216:(e,t,r)=>{var n=r(45700);t.empty=n.EmptyObservable.create},70308:(e,t,r)=>{var n=r(95639);t.forkJoin=n.ForkJoinObservable.create},4572:(e,t,r)=>{var n=r(41113);t.from=n.FromObservable.create},81230:(e,t,r)=>{var n=r(7716);t.fromEvent=n.FromEventObservable.create},46776:(e,t,r)=>{var n=r(79075);t.fromEventPattern=n.FromEventPatternObservable.create},46291:(e,t,r)=>{var n=r(18203);t.fromPromise=n.PromiseObservable.create},77892:(e,t,r)=>{var n=r(31911);t.generate=n.GenerateObservable.create},16397:(e,t,r)=>{var n=r(48258);t._if=n.IfObservable.create},34287:(e,t,r)=>{var n=r(54475);t.interval=n.IntervalObservable.create},20507:(e,t,r)=>{var n=r(16561),o=r(824),i=r(24469),s=r(75675);t.merge=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];var r=Number.POSITIVE_INFINITY,a=null,c=e[e.length-1];return i.isScheduler(c)?(a=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(r=e.pop())):"number"==typeof c&&(r=e.pop()),null===a&&1===e.length&&e[0]instanceof n.Observable?e[0]:s.mergeAll(r)(new o.ArrayObservable(e,a))}},72951:(e,t,r)=>{var n=r(33486);t.never=n.NeverObservable.create},56187:(e,t,r)=>{var n=r(824);t.of=n.ArrayObservable.of},89574:(e,t,r)=>{var n=r(66520);t.onErrorResumeNext=n.onErrorResumeNextStatic},14493:(e,t,r)=>{var n=r(71317);t.pairs=n.PairsObservable.create},82505:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=r(70002),i=r(824),s=r(62392),a=r(51302);t.race=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];if(1===e.length){if(!o.isArray(e[0]))return e[0];e=e[0]}return new i.ArrayObservable(e).lift(new c)};var c=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new u(e))},e}();t.RaceOperator=c;var u=function(e){function t(t){e.call(this,t),this.hasFirst=!1,this.observables=[],this.subscriptions=[]}return n(t,e),t.prototype._next=function(e){this.observables.push(e)},t.prototype._complete=function(){var e=this.observables,t=e.length;if(0===t)this.destination.complete();else{for(var r=0;r<t&&!this.hasFirst;r++){var n=e[r],o=a.subscribeToResult(this,n,n,r);this.subscriptions&&this.subscriptions.push(o),this.add(o)}this.observables=null}},t.prototype.notifyNext=function(e,t,r,n,o){if(!this.hasFirst){this.hasFirst=!0;for(var i=0;i<this.subscriptions.length;i++)if(i!==r){var s=this.subscriptions[i];s.unsubscribe(),this.remove(s)}this.subscriptions=null}this.destination.next(t)},t}(s.OuterSubscriber);t.RaceSubscriber=u},49778:(e,t,r)=>{var n=r(16374);t.range=n.RangeObservable.create},30197:(e,t,r)=>{var n=r(68029);t._throw=n.ErrorObservable.create},86240:(e,t,r)=>{var n=r(58353);t.timer=n.TimerObservable.create},49268:(e,t,r)=>{var n=r(33521);t.using=n.UsingObservable.create},76164:(e,t,r)=>{var n=r(47817);t.zip=n.zipStatic},1260:(e,t,r)=>{var n=r(11010);t.audit=function(e){return n.audit(e)(this)}},16231:(e,t,r)=>{var n=r(55488),o=r(10436);t.auditTime=function(e,t){return void 0===t&&(t=n.async),o.auditTime(e,t)(this)}},19536:(e,t,r)=>{var n=r(43911);t.buffer=function(e){return n.buffer(e)(this)}},69784:(e,t,r)=>{var n=r(10445);t.bufferCount=function(e,t){return void 0===t&&(t=null),n.bufferCount(e,t)(this)}},9347:(e,t,r)=>{var n=r(55488),o=r(24469),i=r(95037);t.bufferTime=function(e){var t=arguments.length,r=n.async;o.isScheduler(arguments[arguments.length-1])&&(r=arguments[arguments.length-1],t--);var s=null;t>=2&&(s=arguments[1]);var a=Number.POSITIVE_INFINITY;return t>=3&&(a=arguments[2]),i.bufferTime(e,s,a,r)(this)}},6623:(e,t,r)=>{var n=r(66724);t.bufferToggle=function(e,t){return n.bufferToggle(e,t)(this)}},2319:(e,t,r)=>{var n=r(16438);t.bufferWhen=function(e){return n.bufferWhen(e)(this)}},65620:(e,t,r)=>{var n=r(51242);t._catch=function(e){return n.catchError(e)(this)}},55242:(e,t,r)=>{var n=r(84059);t.combineAll=function(e){return n.combineAll(e)(this)}},77655:(e,t,r)=>{var n=r(52232);t.combineLatest=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return n.combineLatest.apply(void 0,e)(this)}},50554:(e,t,r)=>{var n=r(70130),o=r(77847);t.concatStatic=o.concat,t.concat=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return n.concat.apply(void 0,e)(this)}},31834:(e,t,r)=>{var n=r(35515);t.concatAll=function(){return n.concatAll()(this)}},46864:(e,t,r)=>{var n=r(8803);t.concatMap=function(e,t){return n.concatMap(e,t)(this)}},48828:(e,t,r)=>{var n=r(74451);t.concatMapTo=function(e,t){return n.concatMapTo(e,t)(this)}},17296:(e,t,r)=>{var n=r(72634);t.count=function(e){return n.count(e)(this)}},29926:(e,t,r)=>{var n=r(61134);t.debounce=function(e){return n.debounce(e)(this)}},79372:(e,t,r)=>{var n=r(55488),o=r(24607);t.debounceTime=function(e,t){return void 0===t&&(t=n.async),o.debounceTime(e,t)(this)}},68513:(e,t,r)=>{var n=r(12298);t.defaultIfEmpty=function(e){return void 0===e&&(e=null),n.defaultIfEmpty(e)(this)}},29131:(e,t,r)=>{var n=r(55488),o=r(58722);t.delay=function(e,t){return void 0===t&&(t=n.async),o.delay(e,t)(this)}},83565:(e,t,r)=>{var n=r(30741);t.delayWhen=function(e,t){return n.delayWhen(e,t)(this)}},96930:(e,t,r)=>{var n=r(24653);t.dematerialize=function(){return n.dematerialize()(this)}},57867:(e,t,r)=>{var n=r(30585);t.distinct=function(e,t){return n.distinct(e,t)(this)}},8593:(e,t,r)=>{var n=r(61151);t.distinctUntilChanged=function(e,t){return n.distinctUntilChanged(e,t)(this)}},20616:(e,t,r)=>{var n=r(81311);t.distinctUntilKeyChanged=function(e,t){return n.distinctUntilKeyChanged(e,t)(this)}},67720:(e,t,r)=>{var n=r(53979);t._do=function(e,t,r){return n.tap(e,t,r)(this)}},17840:(e,t,r)=>{var n=r(29981);t.elementAt=function(e,t){return n.elementAt(e,t)(this)}},53243:(e,t,r)=>{var n=r(69031);t.every=function(e,t){return n.every(e,t)(this)}},73137:(e,t,r)=>{var n=r(87100);t.exhaust=function(){return n.exhaust()(this)}},62978:(e,t,r)=>{var n=r(76220);t.exhaustMap=function(e,t){return n.exhaustMap(e,t)(this)}},53770:(e,t,r)=>{var n=r(77558);t.expand=function(e,t,r){return void 0===t&&(t=Number.POSITIVE_INFINITY),void 0===r&&(r=void 0),t=(t||0)<1?Number.POSITIVE_INFINITY:t,n.expand(e,t,r)(this)}},80241:(e,t,r)=>{var n=r(6909);t.filter=function(e,t){return n.filter(e,t)(this)}},15710:(e,t,r)=>{var n=r(48050);t._finally=function(e){return n.finalize(e)(this)}},9107:(e,t,r)=>{var n=r(22210);t.find=function(e,t){return n.find(e,t)(this)}},99486:(e,t,r)=>{var n=r(3037);t.findIndex=function(e,t){return n.findIndex(e,t)(this)}},45344:(e,t,r)=>{var n=r(80028);t.first=function(e,t,r){return n.first(e,t,r)(this)}},2108:(e,t,r)=>{var n=r(69383);t.GroupedObservable=n.GroupedObservable,t.groupBy=function(e,t,r,o){return n.groupBy(e,t,r,o)(this)}},72524:(e,t,r)=>{var n=r(65714);t.ignoreElements=function(){return n.ignoreElements()(this)}},68936:(e,t,r)=>{var n=r(18318);t.isEmpty=function(){return n.isEmpty()(this)}},78062:(e,t,r)=>{var n=r(79460);t.last=function(e,t,r){return n.last(e,t,r)(this)}},93211:(e,t)=>{t.letProto=function(e){return e(this)}},50338:(e,t,r)=>{var n=r(20027);t.map=function(e,t){return n.map(e,t)(this)}},78671:(e,t,r)=>{var n=r(78937);t.mapTo=function(e){return n.mapTo(e)(this)}},87818:(e,t,r)=>{var n=r(32362);t.materialize=function(){return n.materialize()(this)}},83472:(e,t,r)=>{var n=r(96224);t.max=function(e){return n.max(e)(this)}},60084:(e,t,r)=>{var n=r(57643),o=r(20507);t.mergeStatic=o.merge,t.merge=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return n.merge.apply(void 0,e)(this)}},18324:(e,t,r)=>{var n=r(75675);t.mergeAll=function(e){return void 0===e&&(e=Number.POSITIVE_INFINITY),n.mergeAll(e)(this)}},4940:(e,t,r)=>{var n=r(91041);t.mergeMap=function(e,t,r){return void 0===r&&(r=Number.POSITIVE_INFINITY),n.mergeMap(e,t,r)(this)}},66499:(e,t,r)=>{var n=r(6547);t.mergeMapTo=function(e,t,r){return void 0===r&&(r=Number.POSITIVE_INFINITY),n.mergeMapTo(e,t,r)(this)}},72729:(e,t,r)=>{var n=r(6478);t.mergeScan=function(e,t,r){return void 0===r&&(r=Number.POSITIVE_INFINITY),n.mergeScan(e,t,r)(this)}},62047:(e,t,r)=>{var n=r(7289);t.min=function(e){return n.min(e)(this)}},46317:(e,t,r)=>{var n=r(57202);t.multicast=function(e,t){return n.multicast(e,t)(this)}},4212:(e,t,r)=>{var n=r(10074);t.observeOn=function(e,t){return void 0===t&&(t=0),n.observeOn(e,t)(this)}},39127:(e,t,r)=>{var n=r(66520);t.onErrorResumeNext=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return n.onErrorResumeNext.apply(void 0,e)(this)}},48996:(e,t,r)=>{var n=r(27843);t.pairwise=function(){return n.pairwise()(this)}},12748:(e,t,r)=>{var n=r(45242);t.partition=function(e,t){return n.partition(e,t)(this)}},45867:(e,t,r)=>{var n=r(80946);t.pluck=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return n.pluck.apply(void 0,e)(this)}},59128:(e,t,r)=>{var n=r(28686);t.publish=function(e){return n.publish(e)(this)}},89159:(e,t,r)=>{var n=r(57395);t.publishBehavior=function(e){return n.publishBehavior(e)(this)}},60168:(e,t,r)=>{var n=r(16321);t.publishLast=function(){return n.publishLast()(this)}},22879:(e,t,r)=>{var n=r(73158);t.publishReplay=function(e,t,r,o){return n.publishReplay(e,t,r,o)(this)}},503:(e,t,r)=>{var n=r(45735),o=r(82505);t.raceStatic=o.race,t.race=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return n.race.apply(void 0,e)(this)}},56727:(e,t,r)=>{var n=r(22304);t.reduce=function(e,t){return arguments.length>=2?n.reduce(e,t)(this):n.reduce(e)(this)}},4797:(e,t,r)=>{var n=r(98090);t.repeat=function(e){return void 0===e&&(e=-1),n.repeat(e)(this)}},35452:(e,t,r)=>{var n=r(24389);t.repeatWhen=function(e){return n.repeatWhen(e)(this)}},72472:(e,t,r)=>{var n=r(22257);t.retry=function(e){return void 0===e&&(e=-1),n.retry(e)(this)}},49807:(e,t,r)=>{var n=r(51452);t.retryWhen=function(e){return n.retryWhen(e)(this)}},84020:(e,t,r)=>{var n=r(99636);t.sample=function(e){return n.sample(e)(this)}},70822:(e,t,r)=>{var n=r(55488),o=r(10636);t.sampleTime=function(e,t){return void 0===t&&(t=n.async),o.sampleTime(e,t)(this)}},79447:(e,t,r)=>{var n=r(27706);t.scan=function(e,t){return arguments.length>=2?n.scan(e,t)(this):n.scan(e)(this)}},69727:(e,t,r)=>{var n=r(48170);t.sequenceEqual=function(e,t){return n.sequenceEqual(e,t)(this)}},10183:(e,t,r)=>{var n=r(19992);t.share=function(){return n.share()(this)}},28598:(e,t,r)=>{var n=r(23257);t.shareReplay=function(e,t,r){return n.shareReplay(e,t,r)(this)}},92505:(e,t,r)=>{var n=r(14024);t.single=function(e){return n.single(e)(this)}},36980:(e,t,r)=>{var n=r(82764);t.skip=function(e){return n.skip(e)(this)}},68609:(e,t,r)=>{var n=r(72984);t.skipLast=function(e){return n.skipLast(e)(this)}},63577:(e,t,r)=>{var n=r(53942);t.skipUntil=function(e){return n.skipUntil(e)(this)}},505:(e,t,r)=>{var n=r(96051);t.skipWhile=function(e){return n.skipWhile(e)(this)}},17323:(e,t,r)=>{var n=r(62591);t.startWith=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return n.startWith.apply(void 0,e)(this)}},38653:(e,t,r)=>{var n=r(96296);t.subscribeOn=function(e,t){return void 0===t&&(t=0),n.subscribeOn(e,t)(this)}},11711:(e,t,r)=>{var n=r(64158);t._switch=function(){return n.switchAll()(this)}},40868:(e,t,r)=>{var n=r(57439);t.switchMap=function(e,t){return n.switchMap(e,t)(this)}},62231:(e,t,r)=>{var n=r(40210);t.switchMapTo=function(e,t){return n.switchMapTo(e,t)(this)}},34712:(e,t,r)=>{var n=r(41892);t.take=function(e){return n.take(e)(this)}},9746:(e,t,r)=>{var n=r(76382);t.takeLast=function(e){return n.takeLast(e)(this)}},63774:(e,t,r)=>{var n=r(69084);t.takeUntil=function(e){return n.takeUntil(e)(this)}},75910:(e,t,r)=>{var n=r(52064);t.takeWhile=function(e){return n.takeWhile(e)(this)}},29764:(e,t,r)=>{var n=r(70811);t.throttle=function(e,t){return void 0===t&&(t=n.defaultThrottleConfig),n.throttle(e,t)(this)}},18196:(e,t,r)=>{var n=r(55488),o=r(70811),i=r(89503);t.throttleTime=function(e,t,r){return void 0===t&&(t=n.async),void 0===r&&(r=o.defaultThrottleConfig),i.throttleTime(e,t,r)(this)}},691:(e,t,r)=>{var n=r(55488),o=r(68457);t.TimeInterval=o.TimeInterval,t.timeInterval=function(e){return void 0===e&&(e=n.async),o.timeInterval(e)(this)}},17971:(e,t,r)=>{var n=r(55488),o=r(57347);t.timeout=function(e,t){return void 0===t&&(t=n.async),o.timeout(e,t)(this)}},98760:(e,t,r)=>{var n=r(55488),o=r(85374);t.timeoutWith=function(e,t,r){return void 0===r&&(r=n.async),o.timeoutWith(e,t,r)(this)}},8471:(e,t,r)=>{var n=r(55488),o=r(22655);t.timestamp=function(e){return void 0===e&&(e=n.async),o.timestamp(e)(this)}},71773:(e,t,r)=>{var n=r(95396);t.toArray=function(){return n.toArray()(this)}},94451:(e,t,r)=>{var n=r(947);t.window=function(e){return n.window(e)(this)}},45263:(e,t,r)=>{var n=r(41380);t.windowCount=function(e,t){return void 0===t&&(t=0),n.windowCount(e,t)(this)}},11641:(e,t,r)=>{var n=r(55488),o=r(54137),i=r(24469),s=r(52666);t.windowTime=function(e){var t=n.async,r=null,a=Number.POSITIVE_INFINITY;return i.isScheduler(arguments[3])&&(t=arguments[3]),i.isScheduler(arguments[2])?t=arguments[2]:o.isNumeric(arguments[2])&&(a=arguments[2]),i.isScheduler(arguments[1])?t=arguments[1]:o.isNumeric(arguments[1])&&(r=arguments[1]),s.windowTime(e,r,a,t)(this)}},29838:(e,t,r)=>{var n=r(89164);t.windowToggle=function(e,t){return n.windowToggle(e,t)(this)}},91900:(e,t,r)=>{var n=r(63566);t.windowWhen=function(e){return n.windowWhen(e)(this)}},40590:(e,t,r)=>{var n=r(56245);t.withLatestFrom=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return n.withLatestFrom.apply(void 0,e)(this)}},87349:(e,t,r)=>{var n=r(47817);t.zipProto=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return n.zip.apply(void 0,e)(this)}},66219:(e,t,r)=>{var n=r(59150);t.zipAll=function(e){return n.zipAll(e)(this)}},50878:(e,t,r)=>{var n=r(11010);t.audit=n.audit;var o=r(10436);t.auditTime=o.auditTime;var i=r(43911);t.buffer=i.buffer;var s=r(10445);t.bufferCount=s.bufferCount;var a=r(95037);t.bufferTime=a.bufferTime;var c=r(66724);t.bufferToggle=c.bufferToggle;var u=r(16438);t.bufferWhen=u.bufferWhen;var l=r(51242);t.catchError=l.catchError;var f=r(84059);t.combineAll=f.combineAll;var h=r(52232);t.combineLatest=h.combineLatest;var p=r(70130);t.concat=p.concat;var d=r(35515);t.concatAll=d.concatAll;var y=r(8803);t.concatMap=y.concatMap;var b=r(74451);t.concatMapTo=b.concatMapTo;var m=r(72634);t.count=m.count;var v=r(61134);t.debounce=v.debounce;var g=r(24607);t.debounceTime=g.debounceTime;var w=r(12298);t.defaultIfEmpty=w.defaultIfEmpty;var _=r(58722);t.delay=_.delay;var S=r(30741);t.delayWhen=S.delayWhen;var O=r(24653);t.dematerialize=O.dematerialize;var E=r(30585);t.distinct=E.distinct;var T=r(61151);t.distinctUntilChanged=T.distinctUntilChanged;var x=r(81311);t.distinctUntilKeyChanged=x.distinctUntilKeyChanged;var A=r(29981);t.elementAt=A.elementAt;var P=r(69031);t.every=P.every;var $=r(87100);t.exhaust=$.exhaust;var j=r(76220);t.exhaustMap=j.exhaustMap;var R=r(77558);t.expand=R.expand;var C=r(6909);t.filter=C.filter;var I=r(48050);t.finalize=I.finalize;var N=r(22210);t.find=N.find;var k=r(3037);t.findIndex=k.findIndex;var M=r(80028);t.first=M.first;var F=r(69383);t.groupBy=F.groupBy;var L=r(65714);t.ignoreElements=L.ignoreElements;var D=r(18318);t.isEmpty=D.isEmpty;var U=r(79460);t.last=U.last;var B=r(20027);t.map=B.map;var q=r(78937);t.mapTo=q.mapTo;var V=r(32362);t.materialize=V.materialize;var W=r(96224);t.max=W.max;var z=r(57643);t.merge=z.merge;var H=r(75675);t.mergeAll=H.mergeAll;var G=r(91041);t.mergeMap=G.mergeMap;var Y=r(91041);t.flatMap=Y.mergeMap;var J=r(6547);t.mergeMapTo=J.mergeMapTo;var K=r(6478);t.mergeScan=K.mergeScan;var X=r(7289);t.min=X.min;var Q=r(57202);t.multicast=Q.multicast;var Z=r(10074);t.observeOn=Z.observeOn;var ee=r(66520);t.onErrorResumeNext=ee.onErrorResumeNext;var te=r(27843);t.pairwise=te.pairwise;var re=r(45242);t.partition=re.partition;var ne=r(80946);t.pluck=ne.pluck;var oe=r(28686);t.publish=oe.publish;var ie=r(57395);t.publishBehavior=ie.publishBehavior;var se=r(16321);t.publishLast=se.publishLast;var ae=r(73158);t.publishReplay=ae.publishReplay;var ce=r(45735);t.race=ce.race;var ue=r(22304);t.reduce=ue.reduce;var le=r(98090);t.repeat=le.repeat;var fe=r(24389);t.repeatWhen=fe.repeatWhen;var he=r(22257);t.retry=he.retry;var pe=r(51452);t.retryWhen=pe.retryWhen;var de=r(26195);t.refCount=de.refCount;var ye=r(99636);t.sample=ye.sample;var be=r(10636);t.sampleTime=be.sampleTime;var me=r(27706);t.scan=me.scan;var ve=r(48170);t.sequenceEqual=ve.sequenceEqual;var ge=r(19992);t.share=ge.share;var we=r(23257);t.shareReplay=we.shareReplay;var _e=r(14024);t.single=_e.single;var Se=r(82764);t.skip=Se.skip;var Oe=r(72984);t.skipLast=Oe.skipLast;var Ee=r(53942);t.skipUntil=Ee.skipUntil;var Te=r(96051);t.skipWhile=Te.skipWhile;var xe=r(62591);t.startWith=xe.startWith;var Ae=r(64158);t.switchAll=Ae.switchAll;var Pe=r(57439);t.switchMap=Pe.switchMap;var $e=r(40210);t.switchMapTo=$e.switchMapTo;var je=r(41892);t.take=je.take;var Re=r(76382);t.takeLast=Re.takeLast;var Ce=r(69084);t.takeUntil=Ce.takeUntil;var Ie=r(52064);t.takeWhile=Ie.takeWhile;var Ne=r(53979);t.tap=Ne.tap;var ke=r(70811);t.throttle=ke.throttle;var Me=r(89503);t.throttleTime=Me.throttleTime;var Fe=r(68457);t.timeInterval=Fe.timeInterval;var Le=r(57347);t.timeout=Le.timeout;var De=r(85374);t.timeoutWith=De.timeoutWith;var Ue=r(22655);t.timestamp=Ue.timestamp;var Be=r(95396);t.toArray=Be.toArray;var qe=r(947);t.window=qe.window;var Ve=r(41380);t.windowCount=Ve.windowCount;var We=r(52666);t.windowTime=We.windowTime;var ze=r(89164);t.windowToggle=ze.windowToggle;var He=r(63566);t.windowWhen=He.windowWhen;var Ge=r(56245);t.withLatestFrom=Ge.withLatestFrom;var Ye=r(47817);t.zip=Ye.zip;var Je=r(59150);t.zipAll=Je.zipAll},11010:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=r(27611),i=r(51491),s=r(62392),a=r(51302);t.audit=function(e){return function(t){return t.lift(new c(e))}};var c=function(){function e(e){this.durationSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.durationSelector))},e}(),u=function(e){function t(t,r){e.call(this,t),this.durationSelector=r,this.hasValue=!1}return n(t,e),t.prototype._next=function(e){if(this.value=e,this.hasValue=!0,!this.throttled){var t=o.tryCatch(this.durationSelector)(e);if(t===i.errorObject)this.destination.error(i.errorObject.e);else{var r=a.subscribeToResult(this,t);r.closed?this.clearThrottle():this.add(this.throttled=r)}}},t.prototype.clearThrottle=function(){var e=this,t=e.value,r=e.hasValue,n=e.throttled;n&&(this.remove(n),this.throttled=null,n.unsubscribe()),r&&(this.value=null,this.hasValue=!1,this.destination.next(t))},t.prototype.notifyNext=function(e,t,r,n){this.clearThrottle()},t.prototype.notifyComplete=function(){this.clearThrottle()},t}(s.OuterSubscriber)},10436:(e,t,r)=>{var n=r(55488),o=r(11010),i=r(86240);t.auditTime=function(e,t){return void 0===t&&(t=n.async),o.audit((function(){return i.timer(e,t)}))}},43911:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=r(62392),i=r(51302);t.buffer=function(e){return function(t){return t.lift(new s(e))}};var s=function(){function e(e){this.closingNotifier=e}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.closingNotifier))},e}(),a=function(e){function t(t,r){e.call(this,t),this.buffer=[],this.add(i.subscribeToResult(this,r))}return n(t,e),t.prototype._next=function(e){this.buffer.push(e)},t.prototype.notifyNext=function(e,t,r,n,o){var i=this.buffer;this.buffer=[],this.destination.next(i)},t}(o.OuterSubscriber)},10445:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=r(71975);t.bufferCount=function(e,t){return void 0===t&&(t=null),function(r){return r.lift(new i(e,t))}};var i=function(){function e(e,t){this.bufferSize=e,this.startBufferEvery=t,this.subscriberClass=t&&e!==t?a:s}return e.prototype.call=function(e,t){return t.subscribe(new this.subscriberClass(e,this.bufferSize,this.startBufferEvery))},e}(),s=function(e){function t(t,r){e.call(this,t),this.bufferSize=r,this.buffer=[]}return n(t,e),t.prototype._next=function(e){var t=this.buffer;t.push(e),t.length==this.bufferSize&&(this.destination.next(t),this.buffer=[])},t.prototype._complete=function(){var t=this.buffer;t.length>0&&this.destination.next(t),e.prototype._complete.call(this)},t}(o.Subscriber),a=function(e){function t(t,r,n){e.call(this,t),this.bufferSize=r,this.startBufferEvery=n,this.buffers=[],this.count=0}return n(t,e),t.prototype._next=function(e){var t=this,r=t.bufferSize,n=t.startBufferEvery,o=t.buffers,i=t.count;this.count++,i%n==0&&o.push([]);for(var s=o.length;s--;){var a=o[s];a.push(e),a.length===r&&(o.splice(s,1),this.destination.next(a))}},t.prototype._complete=function(){for(var t=this.buffers,r=this.destination;t.length>0;){var n=t.shift();n.length>0&&r.next(n)}e.prototype._complete.call(this)},t}(o.Subscriber)},95037:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=r(55488),i=r(71975),s=r(24469);t.bufferTime=function(e){var t=arguments.length,r=o.async;s.isScheduler(arguments[arguments.length-1])&&(r=arguments[arguments.length-1],t--);var n=null;t>=2&&(n=arguments[1]);var i=Number.POSITIVE_INFINITY;return t>=3&&(i=arguments[2]),function(t){return t.lift(new a(e,n,i,r))}};var a=function(){function e(e,t,r,n){this.bufferTimeSpan=e,this.bufferCreationInterval=t,this.maxBufferSize=r,this.scheduler=n}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.bufferTimeSpan,this.bufferCreationInterval,this.maxBufferSize,this.scheduler))},e}(),c=function(){this.buffer=[]},u=function(e){function t(t,r,n,o,i){e.call(this,t),this.bufferTimeSpan=r,this.bufferCreationInterval=n,this.maxBufferSize=o,this.scheduler=i,this.contexts=[];var s=this.openContext();if(this.timespanOnly=null==n||n<0,this.timespanOnly){var a={subscriber:this,context:s,bufferTimeSpan:r};this.add(s.closeAction=i.schedule(l,r,a))}else{var c={subscriber:this,context:s},u={bufferTimeSpan:r,bufferCreationInterval:n,subscriber:this,scheduler:i};this.add(s.closeAction=i.schedule(h,r,c)),this.add(i.schedule(f,n,u))}}return n(t,e),t.prototype._next=function(e){for(var t,r=this.contexts,n=r.length,o=0;o<n;o++){var i=r[o],s=i.buffer;s.push(e),s.length==this.maxBufferSize&&(t=i)}t&&this.onBufferFull(t)},t.prototype._error=function(t){this.contexts.length=0,e.prototype._error.call(this,t)},t.prototype._complete=function(){for(var t=this.contexts,r=this.destination;t.length>0;){var n=t.shift();r.next(n.buffer)}e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){this.contexts=null},t.prototype.onBufferFull=function(e){this.closeContext(e);var t=e.closeAction;if(t.unsubscribe(),this.remove(t),!this.closed&&this.timespanOnly){e=this.openContext();var r=this.bufferTimeSpan,n={subscriber:this,context:e,bufferTimeSpan:r};this.add(e.closeAction=this.scheduler.schedule(l,r,n))}},t.prototype.openContext=function(){var e=new c;return this.contexts.push(e),e},t.prototype.closeContext=function(e){this.destination.next(e.buffer);var t=this.contexts;(t?t.indexOf(e):-1)>=0&&t.splice(t.indexOf(e),1)},t}(i.Subscriber);function l(e){var t=e.subscriber,r=e.context;r&&t.closeContext(r),t.closed||(e.context=t.openContext(),e.context.closeAction=this.schedule(e,e.bufferTimeSpan))}function f(e){var t=e.bufferCreationInterval,r=e.bufferTimeSpan,n=e.subscriber,o=e.scheduler,i=n.openContext();n.closed||(n.add(i.closeAction=o.schedule(h,r,{subscriber:n,context:i})),this.schedule(e,t))}function h(e){var t=e.subscriber,r=e.context;t.closeContext(r)}},66724:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=r(84469),i=r(51302),s=r(62392);t.bufferToggle=function(e,t){return function(r){return r.lift(new a(e,t))}};var a=function(){function e(e,t){this.openings=e,this.closingSelector=t}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.openings,this.closingSelector))},e}(),c=function(e){function t(t,r,n){e.call(this,t),this.openings=r,this.closingSelector=n,this.contexts=[],this.add(i.subscribeToResult(this,r))}return n(t,e),t.prototype._next=function(e){for(var t=this.contexts,r=t.length,n=0;n<r;n++)t[n].buffer.push(e)},t.prototype._error=function(t){for(var r=this.contexts;r.length>0;){var n=r.shift();n.subscription.unsubscribe(),n.buffer=null,n.subscription=null}this.contexts=null,e.prototype._error.call(this,t)},t.prototype._complete=function(){for(var t=this.contexts;t.length>0;){var r=t.shift();this.destination.next(r.buffer),r.subscription.unsubscribe(),r.buffer=null,r.subscription=null}this.contexts=null,e.prototype._complete.call(this)},t.prototype.notifyNext=function(e,t,r,n,o){e?this.closeBuffer(e):this.openBuffer(t)},t.prototype.notifyComplete=function(e){this.closeBuffer(e.context)},t.prototype.openBuffer=function(e){try{var t=this.closingSelector.call(this,e);t&&this.trySubscribe(t)}catch(e){this._error(e)}},t.prototype.closeBuffer=function(e){var t=this.contexts;if(t&&e){var r=e.buffer,n=e.subscription;this.destination.next(r),t.splice(t.indexOf(e),1),this.remove(n),n.unsubscribe()}},t.prototype.trySubscribe=function(e){var t=this.contexts,r=new o.Subscription,n={buffer:[],subscription:r};t.push(n);var s=i.subscribeToResult(this,e,n);!s||s.closed?this.closeBuffer(n):(s.context=n,this.add(s),r.add(s))},t}(s.OuterSubscriber)},16438:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=r(84469),i=r(27611),s=r(51491),a=r(62392),c=r(51302);t.bufferWhen=function(e){return function(t){return t.lift(new u(e))}};var u=function(){function e(e){this.closingSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new l(e,this.closingSelector))},e}(),l=function(e){function t(t,r){e.call(this,t),this.closingSelector=r,this.subscribing=!1,this.openBuffer()}return n(t,e),t.prototype._next=function(e){this.buffer.push(e)},t.prototype._complete=function(){var t=this.buffer;t&&this.destination.next(t),e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){this.buffer=null,this.subscribing=!1},t.prototype.notifyNext=function(e,t,r,n,o){this.openBuffer()},t.prototype.notifyComplete=function(){this.subscribing?this.complete():this.openBuffer()},t.prototype.openBuffer=function(){var e=this.closingSubscription;e&&(this.remove(e),e.unsubscribe());var t=this.buffer;this.buffer&&this.destination.next(t),this.buffer=[];var r=i.tryCatch(this.closingSelector)();r===s.errorObject?this.error(s.errorObject.e):(e=new o.Subscription,this.closingSubscription=e,this.add(e),this.subscribing=!0,e.add(c.subscribeToResult(this,r)),this.subscribing=!1)},t}(a.OuterSubscriber)},51242:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=r(62392),i=r(51302);t.catchError=function(e){return function(t){var r=new s(e),n=t.lift(r);return r.caught=n}};var s=function(){function e(e){this.selector=e}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.selector,this.caught))},e}(),a=function(e){function t(t,r,n){e.call(this,t),this.selector=r,this.caught=n}return n(t,e),t.prototype.error=function(t){if(!this.isStopped){var r=void 0;try{r=this.selector(t,this.caught)}catch(t){return void e.prototype.error.call(this,t)}this._unsubscribeAndRecycle(),this.add(i.subscribeToResult(this,r))}},t}(o.OuterSubscriber)},84059:(e,t,r)=>{var n=r(52232);t.combineAll=function(e){return function(t){return t.lift(new n.CombineLatestOperator(e))}}},52232:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=r(824),i=r(70002),s=r(62392),a=r(51302),c={};t.combineLatest=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];var r=null;return"function"==typeof e[e.length-1]&&(r=e.pop()),1===e.length&&i.isArray(e[0])&&(e=e[0].slice()),function(t){return t.lift.call(new o.ArrayObservable([t].concat(e)),new u(r))}};var u=function(){function e(e){this.project=e}return e.prototype.call=function(e,t){return t.subscribe(new l(e,this.project))},e}();t.CombineLatestOperator=u;var l=function(e){function t(t,r){e.call(this,t),this.project=r,this.active=0,this.values=[],this.observables=[]}return n(t,e),t.prototype._next=function(e){this.values.push(c),this.observables.push(e)},t.prototype._complete=function(){var e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(var r=0;r<t;r++){var n=e[r];this.add(a.subscribeToResult(this,n,n,r))}}},t.prototype.notifyComplete=function(e){0==(this.active-=1)&&this.destination.complete()},t.prototype.notifyNext=function(e,t,r,n,o){var i=this.values,s=i[r],a=this.toRespond?s===c?--this.toRespond:this.toRespond:0;i[r]=t,0===a&&(this.project?this._tryProject(i):this.destination.next(i.slice()))},t.prototype._tryProject=function(e){var t;try{t=this.project.apply(this,e)}catch(e){return void this.destination.error(e)}this.destination.next(t)},t}(s.OuterSubscriber);t.CombineLatestSubscriber=l},70130:(e,t,r)=>{var n=r(77847),o=r(77847);t.concatStatic=o.concat,t.concat=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return function(t){return t.lift.call(n.concat.apply(void 0,[t].concat(e)))}}},35515:(e,t,r)=>{var n=r(75675);t.concatAll=function(){return n.mergeAll(1)}},8803:(e,t,r)=>{var n=r(91041);t.concatMap=function(e,t){return n.mergeMap(e,t,1)}},74451:(e,t,r)=>{var n=r(8803);t.concatMapTo=function(e,t){return n.concatMap((function(){return e}),t)}},72634:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=r(71975);t.count=function(e){return function(t){return t.lift(new i(e,t))}};var i=function(){function e(e,t){this.predicate=e,this.source=t}return e.prototype.call=function(e,t){return t.subscribe(new s(e,this.predicate,this.source))},e}(),s=function(e){function t(t,r,n){e.call(this,t),this.predicate=r,this.source=n,this.count=0,this.index=0}return n(t,e),t.prototype._next=function(e){this.predicate?this._tryPredicate(e):this.count++},t.prototype._tryPredicate=function(e){var t;try{t=this.predicate(e,this.index++,this.source)}catch(e){return void this.destination.error(e)}t&&this.count++},t.prototype._complete=function(){this.destination.next(this.count),this.destination.complete()},t}(o.Subscriber)},61134:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=r(62392),i=r(51302);t.debounce=function(e){return function(t){return t.lift(new s(e))}};var s=function(){function e(e){this.durationSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.durationSelector))},e}(),a=function(e){function t(t,r){e.call(this,t),this.durationSelector=r,this.hasValue=!1,this.durationSubscription=null}return n(t,e),t.prototype._next=function(e){try{var t=this.durationSelector.call(this,e);t&&this._tryNext(e,t)}catch(e){this.destination.error(e)}},t.prototype._complete=function(){this.emitValue(),this.destination.complete()},t.prototype._tryNext=function(e,t){var r=this.durationSubscription;this.value=e,this.hasValue=!0,r&&(r.unsubscribe(),this.remove(r)),(r=i.subscribeToResult(this,t)).closed||this.add(this.durationSubscription=r)},t.prototype.notifyNext=function(e,t,r,n,o){this.emitValue()},t.prototype.notifyComplete=function(){this.emitValue()},t.prototype.emitValue=function(){if(this.hasValue){var t=this.value,r=this.durationSubscription;r&&(this.durationSubscription=null,r.unsubscribe(),this.remove(r)),this.value=null,this.hasValue=!1,e.prototype._next.call(this,t)}},t}(o.OuterSubscriber)},24607:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=r(71975),i=r(55488);t.debounceTime=function(e,t){return void 0===t&&(t=i.async),function(r){return r.lift(new s(e,t))}};var s=function(){function e(e,t){this.dueTime=e,this.scheduler=t}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.dueTime,this.scheduler))},e}(),a=function(e){function t(t,r,n){e.call(this,t),this.dueTime=r,this.scheduler=n,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}return n(t,e),t.prototype._next=function(e){this.clearDebounce(),this.lastValue=e,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(c,this.dueTime,this))},t.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},t.prototype.debouncedNext=function(){this.clearDebounce(),this.hasValue&&(this.destination.next(this.lastValue),this.lastValue=null,this.hasValue=!1)},t.prototype.clearDebounce=function(){var e=this.debouncedSubscription;null!==e&&(this.remove(e),e.unsubscribe(),this.debouncedSubscription=null)},t}(o.Subscriber);function c(e){e.debouncedNext()}},12298:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=r(71975);t.defaultIfEmpty=function(e){return void 0===e&&(e=null),function(t){return t.lift(new i(e))}};var i=function(){function e(e){this.defaultValue=e}return e.prototype.call=function(e,t){return t.subscribe(new s(e,this.defaultValue))},e}(),s=function(e){function t(t,r){e.call(this,t),this.defaultValue=r,this.isEmpty=!0}return n(t,e),t.prototype._next=function(e){this.isEmpty=!1,this.destination.next(e)},t.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},t}(o.Subscriber)},58722:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=r(55488),i=r(28595),s=r(71975),a=r(53926);t.delay=function(e,t){void 0===t&&(t=o.async);var r=i.isDate(e)?+e-t.now():Math.abs(e);return function(e){return e.lift(new c(r,t))}};var c=function(){function e(e,t){this.delay=e,this.scheduler=t}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.delay,this.scheduler))},e}(),u=function(e){function t(t,r,n){e.call(this,t),this.delay=r,this.scheduler=n,this.queue=[],this.active=!1,this.errored=!1}return n(t,e),t.dispatch=function(e){for(var t=e.source,r=t.queue,n=e.scheduler,o=e.destination;r.length>0&&r[0].time-n.now()<=0;)r.shift().notification.observe(o);if(r.length>0){var i=Math.max(0,r[0].time-n.now());this.schedule(e,i)}else this.unsubscribe(),t.active=!1},t.prototype._schedule=function(e){this.active=!0,this.add(e.schedule(t.dispatch,this.delay,{source:this,destination:this.destination,scheduler:e}))},t.prototype.scheduleNotification=function(e){if(!0!==this.errored){var t=this.scheduler,r=new l(t.now()+this.delay,e);this.queue.push(r),!1===this.active&&this._schedule(t)}},t.prototype._next=function(e){this.scheduleNotification(a.Notification.createNext(e))},t.prototype._error=function(e){this.errored=!0,this.queue=[],this.destination.error(e)},t.prototype._complete=function(){this.scheduleNotification(a.Notification.createComplete())},t}(s.Subscriber),l=function(e,t){this.time=e,this.notification=t}},30741:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=r(71975),i=r(16561),s=r(62392),a=r(51302);t.delayWhen=function(e,t){return t?function(r){return new l(r,t).lift(new c(e))}:function(t){return t.lift(new c(e))}};var c=function(){function e(e){this.delayDurationSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.delayDurationSelector))},e}(),u=function(e){function t(t,r){e.call(this,t),this.delayDurationSelector=r,this.completed=!1,this.delayNotifierSubscriptions=[],this.values=[]}return n(t,e),t.prototype.notifyNext=function(e,t,r,n,o){this.destination.next(e),this.removeSubscription(o),this.tryComplete()},t.prototype.notifyError=function(e,t){this._error(e)},t.prototype.notifyComplete=function(e){var t=this.removeSubscription(e);t&&this.destination.next(t),this.tryComplete()},t.prototype._next=function(e){try{var t=this.delayDurationSelector(e);t&&this.tryDelay(t,e)}catch(e){this.destination.error(e)}},t.prototype._complete=function(){this.completed=!0,this.tryComplete()},t.prototype.removeSubscription=function(e){e.unsubscribe();var t=this.delayNotifierSubscriptions.indexOf(e),r=null;return-1!==t&&(r=this.values[t],this.delayNotifierSubscriptions.splice(t,1),this.values.splice(t,1)),r},t.prototype.tryDelay=function(e,t){var r=a.subscribeToResult(this,e,t);r&&!r.closed&&(this.add(r),this.delayNotifierSubscriptions.push(r)),this.values.push(t)},t.prototype.tryComplete=function(){this.completed&&0===this.delayNotifierSubscriptions.length&&this.destination.complete()},t}(s.OuterSubscriber),l=function(e){function t(t,r){e.call(this),this.source=t,this.subscriptionDelay=r}return n(t,e),t.prototype._subscribe=function(e){this.subscriptionDelay.subscribe(new f(e,this.source))},t}(i.Observable),f=function(e){function t(t,r){e.call(this),this.parent=t,this.source=r,this.sourceSubscribed=!1}return n(t,e),t.prototype._next=function(e){this.subscribeToSource()},t.prototype._error=function(e){this.unsubscribe(),this.parent.error(e)},t.prototype._complete=function(){this.subscribeToSource()},t.prototype.subscribeToSource=function(){this.sourceSubscribed||(this.sourceSubscribed=!0,this.unsubscribe(),this.source.subscribe(this.parent))},t}(o.Subscriber)},24653:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=r(71975);t.dematerialize=function(){return function(e){return e.lift(new i)}};var i=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new s(e))},e}(),s=function(e){function t(t){e.call(this,t)}return n(t,e),t.prototype._next=function(e){e.observe(this.destination)},t}(o.Subscriber)},30585:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=r(62392),i=r(51302),s=r(46422);t.distinct=function(e,t){return function(r){return r.lift(new a(e,t))}};var a=function(){function e(e,t){this.keySelector=e,this.flushes=t}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.keySelector,this.flushes))},e}(),c=function(e){function t(t,r,n){e.call(this,t),this.keySelector=r,this.values=new s.Set,n&&this.add(i.subscribeToResult(this,n))}return n(t,e),t.prototype.notifyNext=function(e,t,r,n,o){this.values.clear()},t.prototype.notifyError=function(e,t){this._error(e)},t.prototype._next=function(e){this.keySelector?this._useKeySelector(e):this._finalizeNext(e,e)},t.prototype._useKeySelector=function(e){var t,r=this.destination;try{t=this.keySelector(e)}catch(e){return void r.error(e)}this._finalizeNext(t,e)},t.prototype._finalizeNext=function(e,t){var r=this.values;r.has(e)||(r.add(e),this.destination.next(t))},t}(o.OuterSubscriber);t.DistinctSubscriber=c},61151:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=r(71975),i=r(27611),s=r(51491);t.distinctUntilChanged=function(e,t){return function(r){return r.lift(new a(e,t))}};var a=function(){function e(e,t){this.compare=e,this.keySelector=t}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.compare,this.keySelector))},e}(),c=function(e){function t(t,r,n){e.call(this,t),this.keySelector=n,this.hasKey=!1,"function"==typeof r&&(this.compare=r)}return n(t,e),t.prototype.compare=function(e,t){return e===t},t.prototype._next=function(e){var t=e;if(this.keySelector&&(t=i.tryCatch(this.keySelector)(e))===s.errorObject)return this.destination.error(s.errorObject.e);var r=!1;if(this.hasKey){if((r=i.tryCatch(this.compare)(this.key,t))===s.errorObject)return this.destination.error(s.errorObject.e)}else this.hasKey=!0;!1===Boolean(r)&&(this.key=t,this.destination.next(e))},t}(o.Subscriber)},81311:(e,t,r)=>{var n=r(61151);t.distinctUntilKeyChanged=function(e,t){return n.distinctUntilChanged((function(r,n){return t?t(r[e],n[e]):r[e]===n[e]}))}},29981:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=r(71975),i=r(55122);t.elementAt=function(e,t){return function(r){return r.lift(new s(e,t))}};var s=function(){function e(e,t){if(this.index=e,this.defaultValue=t,e<0)throw new i.ArgumentOutOfRangeError}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.index,this.defaultValue))},e}(),a=function(e){function t(t,r,n){e.call(this,t),this.index=r,this.defaultValue=n}return n(t,e),t.prototype._next=function(e){0==this.index--&&(this.destination.next(e),this.destination.complete())},t.prototype._complete=function(){var e=this.destination;this.index>=0&&(void 0!==this.defaultValue?e.next(this.defaultValue):e.error(new i.ArgumentOutOfRangeError)),e.complete()},t}(o.Subscriber)},69031:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=r(71975);t.every=function(e,t){return function(r){return r.lift(new i(e,t,r))}};var i=function(){function e(e,t,r){this.predicate=e,this.thisArg=t,this.source=r}return e.prototype.call=function(e,t){return t.subscribe(new s(e,this.predicate,this.thisArg,this.source))},e}(),s=function(e){function t(t,r,n,o){e.call(this,t),this.predicate=r,this.thisArg=n,this.source=o,this.index=0,this.thisArg=n||this}return n(t,e),t.prototype.notifyComplete=function(e){this.destination.next(e),this.destination.complete()},t.prototype._next=function(e){var t=!1;try{t=this.predicate.call(this.thisArg,e,this.index++,this.source)}catch(e){return void this.destination.error(e)}t||this.notifyComplete(!1)},t.prototype._complete=function(){this.notifyComplete(!0)},t}(o.Subscriber)},87100:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=r(62392),i=r(51302);t.exhaust=function(){return function(e){return e.lift(new s)}};var s=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new a(e))},e}(),a=function(e){function t(t){e.call(this,t),this.hasCompleted=!1,this.hasSubscription=!1}return n(t,e),t.prototype._next=function(e){this.hasSubscription||(this.hasSubscription=!0,this.add(i.subscribeToResult(this,e)))},t.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()},t.prototype.notifyComplete=function(e){this.remove(e),this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},t}(o.OuterSubscriber)},76220:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=r(62392),i=r(51302);t.exhaustMap=function(e,t){return function(r){return r.lift(new s(e,t))}};var s=function(){function e(e,t){this.project=e,this.resultSelector=t}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.project,this.resultSelector))},e}(),a=function(e){function t(t,r,n){e.call(this,t),this.project=r,this.resultSelector=n,this.hasSubscription=!1,this.hasCompleted=!1,this.index=0}return n(t,e),t.prototype._next=function(e){this.hasSubscription||this.tryNext(e)},t.prototype.tryNext=function(e){var t=this.index++,r=this.destination;try{var n=this.project(e,t);this.hasSubscription=!0,this.add(i.subscribeToResult(this,n,e,t))}catch(e){r.error(e)}},t.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()},t.prototype.notifyNext=function(e,t,r,n,o){var i=this.resultSelector,s=this.destination;i?this.trySelectResult(e,t,r,n):s.next(t)},t.prototype.trySelectResult=function(e,t,r,n){var o=this.resultSelector,i=this.destination;try{var s=o(e,t,r,n);i.next(s)}catch(e){i.error(e)}},t.prototype.notifyError=function(e){this.destination.error(e)},t.prototype.notifyComplete=function(e){this.remove(e),this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},t}(o.OuterSubscriber)},77558:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=r(27611),i=r(51491),s=r(62392),a=r(51302);t.expand=function(e,t,r){return void 0===t&&(t=Number.POSITIVE_INFINITY),void 0===r&&(r=void 0),t=(t||0)<1?Number.POSITIVE_INFINITY:t,function(n){return n.lift(new c(e,t,r))}};var c=function(){function e(e,t,r){this.project=e,this.concurrent=t,this.scheduler=r}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.project,this.concurrent,this.scheduler))},e}();t.ExpandOperator=c;var u=function(e){function t(t,r,n,o){e.call(this,t),this.project=r,this.concurrent=n,this.scheduler=o,this.index=0,this.active=0,this.hasCompleted=!1,n<Number.POSITIVE_INFINITY&&(this.buffer=[])}return n(t,e),t.dispatch=function(e){var t=e.subscriber,r=e.result,n=e.value,o=e.index;t.subscribeToProjection(r,n,o)},t.prototype._next=function(e){var r=this.destination;if(r.closed)this._complete();else{var n=this.index++;if(this.active<this.concurrent){r.next(e);var s=o.tryCatch(this.project)(e,n);if(s===i.errorObject)r.error(i.errorObject.e);else if(this.scheduler){var a={subscriber:this,result:s,value:e,index:n};this.add(this.scheduler.schedule(t.dispatch,0,a))}else this.subscribeToProjection(s,e,n)}else this.buffer.push(e)}},t.prototype.subscribeToProjection=function(e,t,r){this.active++,this.add(a.subscribeToResult(this,e,t,r))},t.prototype._complete=function(){this.hasCompleted=!0,this.hasCompleted&&0===this.active&&this.destination.complete()},t.prototype.notifyNext=function(e,t,r,n,o){this._next(t)},t.prototype.notifyComplete=function(e){var t=this.buffer;this.remove(e),this.active--,t&&t.length>0&&this._next(t.shift()),this.hasCompleted&&0===this.active&&this.destination.complete()},t}(s.OuterSubscriber);t.ExpandSubscriber=u},6909:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=r(71975);t.filter=function(e,t){return function(r){return r.lift(new i(e,t))}};var i=function(){function e(e,t){this.predicate=e,this.thisArg=t}return e.prototype.call=function(e,t){return t.subscribe(new s(e,this.predicate,this.thisArg))},e}(),s=function(e){function t(t,r,n){e.call(this,t),this.predicate=r,this.thisArg=n,this.count=0}return n(t,e),t.prototype._next=function(e){var t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(e){return void this.destination.error(e)}t&&this.destination.next(e)},t}(o.Subscriber)},48050:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=r(71975),i=r(84469);t.finalize=function(e){return function(t){return t.lift(new s(e))}};var s=function(){function e(e){this.callback=e}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.callback))},e}(),a=function(e){function t(t,r){e.call(this,t),this.add(new i.Subscription(r))}return n(t,e),t}(o.Subscriber)},22210:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=r(71975);t.find=function(e,t){if("function"!=typeof e)throw new TypeError("predicate is not a function");return function(r){return r.lift(new i(e,r,!1,t))}};var i=function(){function e(e,t,r,n){this.predicate=e,this.source=t,this.yieldIndex=r,this.thisArg=n}return e.prototype.call=function(e,t){return t.subscribe(new s(e,this.predicate,this.source,this.yieldIndex,this.thisArg))},e}();t.FindValueOperator=i;var s=function(e){function t(t,r,n,o,i){e.call(this,t),this.predicate=r,this.source=n,this.yieldIndex=o,this.thisArg=i,this.index=0}return n(t,e),t.prototype.notifyComplete=function(e){var t=this.destination;t.next(e),t.complete()},t.prototype._next=function(e){var t=this.predicate,r=this.thisArg,n=this.index++;try{t.call(r||this,e,n,this.source)&&this.notifyComplete(this.yieldIndex?n:e)}catch(e){this.destination.error(e)}},t.prototype._complete=function(){this.notifyComplete(this.yieldIndex?-1:void 0)},t}(o.Subscriber);t.FindValueSubscriber=s},3037:(e,t,r)=>{var n=r(22210);t.findIndex=function(e,t){return function(r){return r.lift(new n.FindValueOperator(e,r,!0,t))}}},80028:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=r(71975),i=r(8294);t.first=function(e,t,r){return function(n){return n.lift(new s(e,t,r,n))}};var s=function(){function e(e,t,r,n){this.predicate=e,this.resultSelector=t,this.defaultValue=r,this.source=n}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.predicate,this.resultSelector,this.defaultValue,this.source))},e}(),a=function(e){function t(t,r,n,o,i){e.call(this,t),this.predicate=r,this.resultSelector=n,this.defaultValue=o,this.source=i,this.index=0,this.hasCompleted=!1,this._emitted=!1}return n(t,e),t.prototype._next=function(e){var t=this.index++;this.predicate?this._tryPredicate(e,t):this._emit(e,t)},t.prototype._tryPredicate=function(e,t){var r;try{r=this.predicate(e,t,this.source)}catch(e){return void this.destination.error(e)}r&&this._emit(e,t)},t.prototype._emit=function(e,t){this.resultSelector?this._tryResultSelector(e,t):this._emitFinal(e)},t.prototype._tryResultSelector=function(e,t){var r;try{r=this.resultSelector(e,t)}catch(e){return void this.destination.error(e)}this._emitFinal(r)},t.prototype._emitFinal=function(e){var t=this.destination;this._emitted||(this._emitted=!0,t.next(e),t.complete(),this.hasCompleted=!0)},t.prototype._complete=function(){var e=this.destination;this.hasCompleted||void 0===this.defaultValue?this.hasCompleted||e.error(new i.EmptyError):(e.next(this.defaultValue),e.complete())},t}(o.Subscriber)},69383:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=r(71975),i=r(84469),s=r(16561),a=r(31377),c=r(13333),u=r(95685);t.groupBy=function(e,t,r,n){return function(o){return o.lift(new l(e,t,r,n))}};var l=function(){function e(e,t,r,n){this.keySelector=e,this.elementSelector=t,this.durationSelector=r,this.subjectSelector=n}return e.prototype.call=function(e,t){return t.subscribe(new f(e,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))},e}(),f=function(e){function t(t,r,n,o,i){e.call(this,t),this.keySelector=r,this.elementSelector=n,this.durationSelector=o,this.subjectSelector=i,this.groups=null,this.attemptedToUnsubscribe=!1,this.count=0}return n(t,e),t.prototype._next=function(e){var t;try{t=this.keySelector(e)}catch(e){return void this.error(e)}this._group(e,t)},t.prototype._group=function(e,t){var r=this.groups;r||(r=this.groups="string"==typeof t?new u.FastMap:new c.Map);var n,o=r.get(t);if(this.elementSelector)try{n=this.elementSelector(e)}catch(e){this.error(e)}else n=e;if(!o){o=this.subjectSelector?this.subjectSelector():new a.Subject,r.set(t,o);var i=new p(t,o,this);if(this.destination.next(i),this.durationSelector){var s=void 0;try{s=this.durationSelector(new p(t,o))}catch(e){return void this.error(e)}this.add(s.subscribe(new h(t,o,this)))}}o.closed||o.next(n)},t.prototype._error=function(e){var t=this.groups;t&&(t.forEach((function(t,r){t.error(e)})),t.clear()),this.destination.error(e)},t.prototype._complete=function(){var e=this.groups;e&&(e.forEach((function(e,t){e.complete()})),e.clear()),this.destination.complete()},t.prototype.removeGroup=function(e){this.groups.delete(e)},t.prototype.unsubscribe=function(){this.closed||(this.attemptedToUnsubscribe=!0,0===this.count&&e.prototype.unsubscribe.call(this))},t}(o.Subscriber),h=function(e){function t(t,r,n){e.call(this,r),this.key=t,this.group=r,this.parent=n}return n(t,e),t.prototype._next=function(e){this.complete()},t.prototype._unsubscribe=function(){var e=this.parent,t=this.key;this.key=this.parent=null,e&&e.removeGroup(t)},t}(o.Subscriber),p=function(e){function t(t,r,n){e.call(this),this.key=t,this.groupSubject=r,this.refCountSubscription=n}return n(t,e),t.prototype._subscribe=function(e){var t=new i.Subscription,r=this.refCountSubscription,n=this.groupSubject;return r&&!r.closed&&t.add(new d(r)),t.add(n.subscribe(e)),t},t}(s.Observable);t.GroupedObservable=p;var d=function(e){function t(t){e.call(this),this.parent=t,t.count++}return n(t,e),t.prototype.unsubscribe=function(){var t=this.parent;t.closed||this.closed||(e.prototype.unsubscribe.call(this),t.count-=1,0===t.count&&t.attemptedToUnsubscribe&&t.unsubscribe())},t}(i.Subscription)},65714:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=r(71975),i=r(40777);t.ignoreElements=function(){return function(e){return e.lift(new s)}};var s=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new a(e))},e}(),a=function(e){function t(){e.apply(this,arguments)}return n(t,e),t.prototype._next=function(e){i.noop()},t}(o.Subscriber)},18318:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=r(71975);t.isEmpty=function(){return function(e){return e.lift(new i)}};var i=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new s(e))},e}(),s=function(e){function t(t){e.call(this,t)}return n(t,e),t.prototype.notifyComplete=function(e){var t=this.destination;t.next(e),t.complete()},t.prototype._next=function(e){this.notifyComplete(!1)},t.prototype._complete=function(){this.notifyComplete(!0)},t}(o.Subscriber)},79460:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=r(71975),i=r(8294);t.last=function(e,t,r){return function(n){return n.lift(new s(e,t,r,n))}};var s=function(){function e(e,t,r,n){this.predicate=e,this.resultSelector=t,this.defaultValue=r,this.source=n}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.predicate,this.resultSelector,this.defaultValue,this.source))},e}(),a=function(e){function t(t,r,n,o,i){e.call(this,t),this.predicate=r,this.resultSelector=n,this.defaultValue=o,this.source=i,this.hasValue=!1,this.index=0,void 0!==o&&(this.lastValue=o,this.hasValue=!0)}return n(t,e),t.prototype._next=function(e){var t=this.index++;if(this.predicate)this._tryPredicate(e,t);else{if(this.resultSelector)return void this._tryResultSelector(e,t);this.lastValue=e,this.hasValue=!0}},t.prototype._tryPredicate=function(e,t){var r;try{r=this.predicate(e,t,this.source)}catch(e){return void this.destination.error(e)}if(r){if(this.resultSelector)return void this._tryResultSelector(e,t);this.lastValue=e,this.hasValue=!0}},t.prototype._tryResultSelector=function(e,t){var r;try{r=this.resultSelector(e,t)}catch(e){return void this.destination.error(e)}this.lastValue=r,this.hasValue=!0},t.prototype._complete=function(){var e=this.destination;this.hasValue?(e.next(this.lastValue),e.complete()):e.error(new i.EmptyError)},t}(o.Subscriber)},20027:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=r(71975);t.map=function(e,t){return function(r){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return r.lift(new i(e,t))}};var i=function(){function e(e,t){this.project=e,this.thisArg=t}return e.prototype.call=function(e,t){return t.subscribe(new s(e,this.project,this.thisArg))},e}();t.MapOperator=i;var s=function(e){function t(t,r,n){e.call(this,t),this.project=r,this.count=0,this.thisArg=n||this}return n(t,e),t.prototype._next=function(e){var t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(e){return void this.destination.error(e)}this.destination.next(t)},t}(o.Subscriber)},78937:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=r(71975);t.mapTo=function(e){return function(t){return t.lift(new i(e))}};var i=function(){function e(e){this.value=e}return e.prototype.call=function(e,t){return t.subscribe(new s(e,this.value))},e}(),s=function(e){function t(t,r){e.call(this,t),this.value=r}return n(t,e),t.prototype._next=function(e){this.destination.next(this.value)},t}(o.Subscriber)},32362:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=r(71975),i=r(53926);t.materialize=function(){return function(e){return e.lift(new s)}};var s=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new a(e))},e}(),a=function(e){function t(t){e.call(this,t)}return n(t,e),t.prototype._next=function(e){this.destination.next(i.Notification.createNext(e))},t.prototype._error=function(e){var t=this.destination;t.next(i.Notification.createError(e)),t.complete()},t.prototype._complete=function(){var e=this.destination;e.next(i.Notification.createComplete()),e.complete()},t}(o.Subscriber)},96224:(e,t,r)=>{var n=r(22304);t.max=function(e){var t="function"==typeof e?function(t,r){return e(t,r)>0?t:r}:function(e,t){return e>t?e:t};return n.reduce(t)}},57643:(e,t,r)=>{var n=r(20507),o=r(20507);t.mergeStatic=o.merge,t.merge=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return function(t){return t.lift.call(n.merge.apply(void 0,[t].concat(e)))}}},75675:(e,t,r)=>{var n=r(91041),o=r(20642);t.mergeAll=function(e){return void 0===e&&(e=Number.POSITIVE_INFINITY),n.mergeMap(o.identity,null,e)}},91041:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=r(51302),i=r(62392);t.mergeMap=function(e,t,r){return void 0===r&&(r=Number.POSITIVE_INFINITY),function(n){return"number"==typeof t&&(r=t,t=null),n.lift(new s(e,t,r))}};var s=function(){function e(e,t,r){void 0===r&&(r=Number.POSITIVE_INFINITY),this.project=e,this.resultSelector=t,this.concurrent=r}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.project,this.resultSelector,this.concurrent))},e}();t.MergeMapOperator=s;var a=function(e){function t(t,r,n,o){void 0===o&&(o=Number.POSITIVE_INFINITY),e.call(this,t),this.project=r,this.resultSelector=n,this.concurrent=o,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}return n(t,e),t.prototype._next=function(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)},t.prototype._tryNext=function(e){var t,r=this.index++;try{t=this.project(e,r)}catch(e){return void this.destination.error(e)}this.active++,this._innerSub(t,e,r)},t.prototype._innerSub=function(e,t,r){this.add(o.subscribeToResult(this,e,t,r))},t.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete()},t.prototype.notifyNext=function(e,t,r,n,o){this.resultSelector?this._notifyResultSelector(e,t,r,n):this.destination.next(t)},t.prototype._notifyResultSelector=function(e,t,r,n){var o;try{o=this.resultSelector(e,t,r,n)}catch(e){return void this.destination.error(e)}this.destination.next(o)},t.prototype.notifyComplete=function(e){var t=this.buffer;this.remove(e),this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},t}(i.OuterSubscriber);t.MergeMapSubscriber=a},6547:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=r(62392),i=r(51302);t.mergeMapTo=function(e,t,r){return void 0===r&&(r=Number.POSITIVE_INFINITY),"number"==typeof t&&(r=t,t=null),function(n){return n.lift(new s(e,t,r))}};var s=function(){function e(e,t,r){void 0===r&&(r=Number.POSITIVE_INFINITY),this.ish=e,this.resultSelector=t,this.concurrent=r}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.ish,this.resultSelector,this.concurrent))},e}();t.MergeMapToOperator=s;var a=function(e){function t(t,r,n,o){void 0===o&&(o=Number.POSITIVE_INFINITY),e.call(this,t),this.ish=r,this.resultSelector=n,this.concurrent=o,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}return n(t,e),t.prototype._next=function(e){if(this.active<this.concurrent){var t=this.resultSelector,r=this.index++,n=this.ish,o=this.destination;this.active++,this._innerSub(n,o,t,e,r)}else this.buffer.push(e)},t.prototype._innerSub=function(e,t,r,n,o){this.add(i.subscribeToResult(this,e,n,o))},t.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete()},t.prototype.notifyNext=function(e,t,r,n,o){var i=this.resultSelector,s=this.destination;i?this.trySelectResult(e,t,r,n):s.next(t)},t.prototype.trySelectResult=function(e,t,r,n){var o,i=this.resultSelector,s=this.destination;try{o=i(e,t,r,n)}catch(e){return void s.error(e)}s.next(o)},t.prototype.notifyError=function(e){this.destination.error(e)},t.prototype.notifyComplete=function(e){var t=this.buffer;this.remove(e),this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},t}(o.OuterSubscriber);t.MergeMapToSubscriber=a},6478:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=r(27611),i=r(51491),s=r(51302),a=r(62392);t.mergeScan=function(e,t,r){return void 0===r&&(r=Number.POSITIVE_INFINITY),function(n){return n.lift(new c(e,t,r))}};var c=function(){function e(e,t,r){this.accumulator=e,this.seed=t,this.concurrent=r}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.accumulator,this.seed,this.concurrent))},e}();t.MergeScanOperator=c;var u=function(e){function t(t,r,n,o){e.call(this,t),this.accumulator=r,this.acc=n,this.concurrent=o,this.hasValue=!1,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}return n(t,e),t.prototype._next=function(e){if(this.active<this.concurrent){var t=this.index++,r=o.tryCatch(this.accumulator)(this.acc,e),n=this.destination;r===i.errorObject?n.error(i.errorObject.e):(this.active++,this._innerSub(r,e,t))}else this.buffer.push(e)},t.prototype._innerSub=function(e,t,r){this.add(s.subscribeToResult(this,e,t,r))},t.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&(!1===this.hasValue&&this.destination.next(this.acc),this.destination.complete())},t.prototype.notifyNext=function(e,t,r,n,o){var i=this.destination;this.acc=t,this.hasValue=!0,i.next(t)},t.prototype.notifyComplete=function(e){var t=this.buffer;this.remove(e),this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&(!1===this.hasValue&&this.destination.next(this.acc),this.destination.complete())},t}(a.OuterSubscriber);t.MergeScanSubscriber=u},7289:(e,t,r)=>{var n=r(22304);t.min=function(e){var t="function"==typeof e?function(t,r){return e(t,r)<0?t:r}:function(e,t){return e<t?e:t};return n.reduce(t)}},57202:(e,t,r)=>{var n=r(72771);t.multicast=function(e,t){return function(r){var i;if(i="function"==typeof e?e:function(){return e},"function"==typeof t)return r.lift(new o(i,t));var s=Object.create(r,n.connectableObservableDescriptor);return s.source=r,s.subjectFactory=i,s}};var o=function(){function e(e,t){this.subjectFactory=e,this.selector=t}return e.prototype.call=function(e,t){var r=this.selector,n=this.subjectFactory(),o=r(n).subscribe(e);return o.add(t.subscribe(n)),o},e}();t.MulticastOperator=o},10074:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=r(71975),i=r(53926);t.observeOn=function(e,t){return void 0===t&&(t=0),function(r){return r.lift(new s(e,t))}};var s=function(){function e(e,t){void 0===t&&(t=0),this.scheduler=e,this.delay=t}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.scheduler,this.delay))},e}();t.ObserveOnOperator=s;var a=function(e){function t(t,r,n){void 0===n&&(n=0),e.call(this,t),this.scheduler=r,this.delay=n}return n(t,e),t.dispatch=function(e){var t=e.notification,r=e.destination;t.observe(r),this.unsubscribe()},t.prototype.scheduleMessage=function(e){this.add(this.scheduler.schedule(t.dispatch,this.delay,new c(e,this.destination)))},t.prototype._next=function(e){this.scheduleMessage(i.Notification.createNext(e))},t.prototype._error=function(e){this.scheduleMessage(i.Notification.createError(e))},t.prototype._complete=function(){this.scheduleMessage(i.Notification.createComplete())},t}(o.Subscriber);t.ObserveOnSubscriber=a;var c=function(e,t){this.notification=e,this.destination=t};t.ObserveOnMessage=c},66520:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=r(41113),i=r(70002),s=r(62392),a=r(51302);t.onErrorResumeNext=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return 1===e.length&&i.isArray(e[0])&&(e=e[0]),function(t){return t.lift(new c(e))}},t.onErrorResumeNextStatic=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];var r=null;return 1===e.length&&i.isArray(e[0])&&(e=e[0]),r=e.shift(),new o.FromObservable(r,null).lift(new c(e))};var c=function(){function e(e){this.nextSources=e}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.nextSources))},e}(),u=function(e){function t(t,r){e.call(this,t),this.destination=t,this.nextSources=r}return n(t,e),t.prototype.notifyError=function(e,t){this.subscribeToNextSource()},t.prototype.notifyComplete=function(e){this.subscribeToNextSource()},t.prototype._error=function(e){this.subscribeToNextSource()},t.prototype._complete=function(){this.subscribeToNextSource()},t.prototype.subscribeToNextSource=function(){var e=this.nextSources.shift();e?this.add(a.subscribeToResult(this,e)):this.destination.complete()},t}(s.OuterSubscriber)},27843:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=r(71975);t.pairwise=function(){return function(e){return e.lift(new i)}};var i=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new s(e))},e}(),s=function(e){function t(t){e.call(this,t),this.hasPrev=!1}return n(t,e),t.prototype._next=function(e){this.hasPrev?this.destination.next([this.prev,e]):this.hasPrev=!0,this.prev=e},t}(o.Subscriber)},45242:(e,t,r)=>{var n=r(87005),o=r(6909);t.partition=function(e,t){return function(r){return[o.filter(e,t)(r),o.filter(n.not(e,t))(r)]}}},80946:(e,t,r)=>{var n=r(20027);function o(e,t){return function(r){for(var n=r,o=0;o<t;o++){var i=n[e[o]];if(void 0===i)return;n=i}return n}}t.pluck=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];var r=e.length;if(0===r)throw new Error("list of properties cannot be empty.");return function(t){return n.map(o(e,r))(t)}}},28686:(e,t,r)=>{var n=r(31377),o=r(57202);t.publish=function(e){return e?o.multicast((function(){return new n.Subject}),e):o.multicast(new n.Subject)}},57395:(e,t,r)=>{var n=r(91033),o=r(57202);t.publishBehavior=function(e){return function(t){return o.multicast(new n.BehaviorSubject(e))(t)}}},16321:(e,t,r)=>{var n=r(85859),o=r(57202);t.publishLast=function(){return function(e){return o.multicast(new n.AsyncSubject)(e)}}},73158:(e,t,r)=>{var n=r(48885),o=r(57202);t.publishReplay=function(e,t,r,i){r&&"function"!=typeof r&&(i=r);var s="function"==typeof r?r:void 0,a=new n.ReplaySubject(e,t,i);return function(e){return o.multicast((function(){return a}),s)(e)}}},45735:(e,t,r)=>{var n=r(70002),o=r(82505);t.race=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return function(t){return 1===e.length&&n.isArray(e[0])&&(e=e[0]),t.lift.call(o.race.apply(void 0,[t].concat(e)))}}},22304:(e,t,r)=>{var n=r(27706),o=r(76382),i=r(12298),s=r(92611);t.reduce=function(e,t){return arguments.length>=2?function(r){return s.pipe(n.scan(e,t),o.takeLast(1),i.defaultIfEmpty(t))(r)}:function(t){return s.pipe(n.scan((function(t,r,n){return e(t,r,n+1)})),o.takeLast(1))(t)}}},26195:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=r(71975);t.refCount=function(){return function(e){return e.lift(new i(e))}};var i=function(){function e(e){this.connectable=e}return e.prototype.call=function(e,t){var r=this.connectable;r._refCount++;var n=new s(e,r),o=t.subscribe(n);return n.closed||(n.connection=r.connect()),o},e}(),s=function(e){function t(t,r){e.call(this,t),this.connectable=r}return n(t,e),t.prototype._unsubscribe=function(){var e=this.connectable;if(e){this.connectable=null;var t=e._refCount;if(t<=0)this.connection=null;else if(e._refCount=t-1,t>1)this.connection=null;else{var r=this.connection,n=e._connection;this.connection=null,!n||r&&n!==r||n.unsubscribe()}}else this.connection=null},t}(o.Subscriber)},98090:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=r(71975),i=r(45700);t.repeat=function(e){return void 0===e&&(e=-1),function(t){return 0===e?new i.EmptyObservable:e<0?t.lift(new s(-1,t)):t.lift(new s(e-1,t))}};var s=function(){function e(e,t){this.count=e,this.source=t}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.count,this.source))},e}(),a=function(e){function t(t,r,n){e.call(this,t),this.count=r,this.source=n}return n(t,e),t.prototype.complete=function(){if(!this.isStopped){var t=this.source,r=this.count;if(0===r)return e.prototype.complete.call(this);r>-1&&(this.count=r-1),t.subscribe(this._unsubscribeAndRecycle())}},t}(o.Subscriber)},24389:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=r(31377),i=r(27611),s=r(51491),a=r(62392),c=r(51302);t.repeatWhen=function(e){return function(t){return t.lift(new u(e))}};var u=function(){function e(e){this.notifier=e}return e.prototype.call=function(e,t){return t.subscribe(new l(e,this.notifier,t))},e}(),l=function(e){function t(t,r,n){e.call(this,t),this.notifier=r,this.source=n,this.sourceIsBeingSubscribedTo=!0}return n(t,e),t.prototype.notifyNext=function(e,t,r,n,o){this.sourceIsBeingSubscribedTo=!0,this.source.subscribe(this)},t.prototype.notifyComplete=function(t){if(!1===this.sourceIsBeingSubscribedTo)return e.prototype.complete.call(this)},t.prototype.complete=function(){if(this.sourceIsBeingSubscribedTo=!1,!this.isStopped){if(this.retries||this.subscribeToRetries(),!this.retriesSubscription||this.retriesSubscription.closed)return e.prototype.complete.call(this);this._unsubscribeAndRecycle(),this.notifications.next()}},t.prototype._unsubscribe=function(){var e=this.notifications,t=this.retriesSubscription;e&&(e.unsubscribe(),this.notifications=null),t&&(t.unsubscribe(),this.retriesSubscription=null),this.retries=null},t.prototype._unsubscribeAndRecycle=function(){var t=this,r=t.notifications,n=t.retries,o=t.retriesSubscription;return this.notifications=null,this.retries=null,this.retriesSubscription=null,e.prototype._unsubscribeAndRecycle.call(this),this.notifications=r,this.retries=n,this.retriesSubscription=o,this},t.prototype.subscribeToRetries=function(){this.notifications=new o.Subject;var t=i.tryCatch(this.notifier)(this.notifications);if(t===s.errorObject)return e.prototype.complete.call(this);this.retries=t,this.retriesSubscription=c.subscribeToResult(this,t)},t}(a.OuterSubscriber)},22257:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=r(71975);t.retry=function(e){return void 0===e&&(e=-1),function(t){return t.lift(new i(e,t))}};var i=function(){function e(e,t){this.count=e,this.source=t}return e.prototype.call=function(e,t){return t.subscribe(new s(e,this.count,this.source))},e}(),s=function(e){function t(t,r,n){e.call(this,t),this.count=r,this.source=n}return n(t,e),t.prototype.error=function(t){if(!this.isStopped){var r=this.source,n=this.count;if(0===n)return e.prototype.error.call(this,t);n>-1&&(this.count=n-1),r.subscribe(this._unsubscribeAndRecycle())}},t}(o.Subscriber)},51452:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=r(31377),i=r(27611),s=r(51491),a=r(62392),c=r(51302);t.retryWhen=function(e){return function(t){return t.lift(new u(e,t))}};var u=function(){function e(e,t){this.notifier=e,this.source=t}return e.prototype.call=function(e,t){return t.subscribe(new l(e,this.notifier,this.source))},e}(),l=function(e){function t(t,r,n){e.call(this,t),this.notifier=r,this.source=n}return n(t,e),t.prototype.error=function(t){if(!this.isStopped){var r=this.errors,n=this.retries,a=this.retriesSubscription;if(n)this.errors=null,this.retriesSubscription=null;else{if(r=new o.Subject,(n=i.tryCatch(this.notifier)(r))===s.errorObject)return e.prototype.error.call(this,s.errorObject.e);a=c.subscribeToResult(this,n)}this._unsubscribeAndRecycle(),this.errors=r,this.retries=n,this.retriesSubscription=a,r.next(t)}},t.prototype._unsubscribe=function(){var e=this.errors,t=this.retriesSubscription;e&&(e.unsubscribe(),this.errors=null),t&&(t.unsubscribe(),this.retriesSubscription=null),this.retries=null},t.prototype.notifyNext=function(e,t,r,n,o){var i=this,s=i.errors,a=i.retries,c=i.retriesSubscription;this.errors=null,this.retries=null,this.retriesSubscription=null,this._unsubscribeAndRecycle(),this.errors=s,this.retries=a,this.retriesSubscription=c,this.source.subscribe(this)},t}(a.OuterSubscriber)},99636:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=r(62392),i=r(51302);t.sample=function(e){return function(t){return t.lift(new s(e))}};var s=function(){function e(e){this.notifier=e}return e.prototype.call=function(e,t){var r=new a(e),n=t.subscribe(r);return n.add(i.subscribeToResult(r,this.notifier)),n},e}(),a=function(e){function t(){e.apply(this,arguments),this.hasValue=!1}return n(t,e),t.prototype._next=function(e){this.value=e,this.hasValue=!0},t.prototype.notifyNext=function(e,t,r,n,o){this.emitValue()},t.prototype.notifyComplete=function(){this.emitValue()},t.prototype.emitValue=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.value))},t}(o.OuterSubscriber)},10636:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=r(71975),i=r(55488);t.sampleTime=function(e,t){return void 0===t&&(t=i.async),function(r){return r.lift(new s(e,t))}};var s=function(){function e(e,t){this.period=e,this.scheduler=t}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.period,this.scheduler))},e}(),a=function(e){function t(t,r,n){e.call(this,t),this.period=r,this.scheduler=n,this.hasValue=!1,this.add(n.schedule(c,r,{subscriber:this,period:r}))}return n(t,e),t.prototype._next=function(e){this.lastValue=e,this.hasValue=!0},t.prototype.notifyNext=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.lastValue))},t}(o.Subscriber);function c(e){var t=e.subscriber,r=e.period;t.notifyNext(),this.schedule(e,r)}},27706:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=r(71975);t.scan=function(e,t){var r=!1;return arguments.length>=2&&(r=!0),function(n){return n.lift(new i(e,t,r))}};var i=function(){function e(e,t,r){void 0===r&&(r=!1),this.accumulator=e,this.seed=t,this.hasSeed=r}return e.prototype.call=function(e,t){return t.subscribe(new s(e,this.accumulator,this.seed,this.hasSeed))},e}(),s=function(e){function t(t,r,n,o){e.call(this,t),this.accumulator=r,this._seed=n,this.hasSeed=o,this.index=0}return n(t,e),Object.defineProperty(t.prototype,"seed",{get:function(){return this._seed},set:function(e){this.hasSeed=!0,this._seed=e},enumerable:!0,configurable:!0}),t.prototype._next=function(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)},t.prototype._tryNext=function(e){var t,r=this.index++;try{t=this.accumulator(this.seed,e,r)}catch(e){this.destination.error(e)}this.seed=t,this.destination.next(t)},t}(o.Subscriber)},48170:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=r(71975),i=r(27611),s=r(51491);t.sequenceEqual=function(e,t){return function(r){return r.lift(new a(e,t))}};var a=function(){function e(e,t){this.compareTo=e,this.comparor=t}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.compareTo,this.comparor))},e}();t.SequenceEqualOperator=a;var c=function(e){function t(t,r,n){e.call(this,t),this.compareTo=r,this.comparor=n,this._a=[],this._b=[],this._oneComplete=!1,this.add(r.subscribe(new u(t,this)))}return n(t,e),t.prototype._next=function(e){this._oneComplete&&0===this._b.length?this.emit(!1):(this._a.push(e),this.checkValues())},t.prototype._complete=function(){this._oneComplete?this.emit(0===this._a.length&&0===this._b.length):this._oneComplete=!0},t.prototype.checkValues=function(){for(var e=this,t=e._a,r=e._b,n=e.comparor;t.length>0&&r.length>0;){var o=t.shift(),a=r.shift(),c=!1;n?(c=i.tryCatch(n)(o,a))===s.errorObject&&this.destination.error(s.errorObject.e):c=o===a,c||this.emit(!1)}},t.prototype.emit=function(e){var t=this.destination;t.next(e),t.complete()},t.prototype.nextB=function(e){this._oneComplete&&0===this._a.length?this.emit(!1):(this._b.push(e),this.checkValues())},t}(o.Subscriber);t.SequenceEqualSubscriber=c;var u=function(e){function t(t,r){e.call(this,t),this.parent=r}return n(t,e),t.prototype._next=function(e){this.parent.nextB(e)},t.prototype._error=function(e){this.parent.error(e)},t.prototype._complete=function(){this.parent._complete()},t}(o.Subscriber)},19992:(e,t,r)=>{var n=r(57202),o=r(26195),i=r(31377);function s(){return new i.Subject}t.share=function(){return function(e){return o.refCount()(n.multicast(s)(e))}}},23257:(e,t,r)=>{var n=r(48885);t.shareReplay=function(e,t,r){return function(o){return o.lift(function(e,t,r){var o,i,s=0,a=!1,c=!1;return function(u){s++,o&&!a||(a=!1,o=new n.ReplaySubject(e,t,r),i=u.subscribe({next:function(e){o.next(e)},error:function(e){a=!0,o.error(e)},complete:function(){c=!0,o.complete()}}));var l=o.subscribe(this);return function(){s--,l.unsubscribe(),i&&0===s&&c&&i.unsubscribe()}}}(e,t,r))}}},14024:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=r(71975),i=r(8294);t.single=function(e){return function(t){return t.lift(new s(e,t))}};var s=function(){function e(e,t){this.predicate=e,this.source=t}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.predicate,this.source))},e}(),a=function(e){function t(t,r,n){e.call(this,t),this.predicate=r,this.source=n,this.seenValue=!1,this.index=0}return n(t,e),t.prototype.applySingleValue=function(e){this.seenValue?this.destination.error("Sequence contains more than one element"):(this.seenValue=!0,this.singleValue=e)},t.prototype._next=function(e){var t=this.index++;this.predicate?this.tryNext(e,t):this.applySingleValue(e)},t.prototype.tryNext=function(e,t){try{this.predicate(e,t,this.source)&&this.applySingleValue(e)}catch(e){this.destination.error(e)}},t.prototype._complete=function(){var e=this.destination;this.index>0?(e.next(this.seenValue?this.singleValue:void 0),e.complete()):e.error(new i.EmptyError)},t}(o.Subscriber)},82764:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=r(71975);t.skip=function(e){return function(t){return t.lift(new i(e))}};var i=function(){function e(e){this.total=e}return e.prototype.call=function(e,t){return t.subscribe(new s(e,this.total))},e}(),s=function(e){function t(t,r){e.call(this,t),this.total=r,this.count=0}return n(t,e),t.prototype._next=function(e){++this.count>this.total&&this.destination.next(e)},t}(o.Subscriber)},72984:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=r(71975),i=r(55122);t.skipLast=function(e){return function(t){return t.lift(new s(e))}};var s=function(){function e(e){if(this._skipCount=e,this._skipCount<0)throw new i.ArgumentOutOfRangeError}return e.prototype.call=function(e,t){return 0===this._skipCount?t.subscribe(new o.Subscriber(e)):t.subscribe(new a(e,this._skipCount))},e}(),a=function(e){function t(t,r){e.call(this,t),this._skipCount=r,this._count=0,this._ring=new Array(r)}return n(t,e),t.prototype._next=function(e){var t=this._skipCount,r=this._count++;if(r<t)this._ring[r]=e;else{var n=r%t,o=this._ring,i=o[n];o[n]=e,this.destination.next(i)}},t}(o.Subscriber)},53942:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=r(62392),i=r(51302);t.skipUntil=function(e){return function(t){return t.lift(new s(e))}};var s=function(){function e(e){this.notifier=e}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.notifier))},e}(),a=function(e){function t(t,r){e.call(this,t),this.hasValue=!1,this.isInnerStopped=!1,this.add(i.subscribeToResult(this,r))}return n(t,e),t.prototype._next=function(t){this.hasValue&&e.prototype._next.call(this,t)},t.prototype._complete=function(){this.isInnerStopped?e.prototype._complete.call(this):this.unsubscribe()},t.prototype.notifyNext=function(e,t,r,n,o){this.hasValue=!0},t.prototype.notifyComplete=function(){this.isInnerStopped=!0,this.isStopped&&e.prototype._complete.call(this)},t}(o.OuterSubscriber)},96051:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=r(71975);t.skipWhile=function(e){return function(t){return t.lift(new i(e))}};var i=function(){function e(e){this.predicate=e}return e.prototype.call=function(e,t){return t.subscribe(new s(e,this.predicate))},e}(),s=function(e){function t(t,r){e.call(this,t),this.predicate=r,this.skipping=!0,this.index=0}return n(t,e),t.prototype._next=function(e){var t=this.destination;this.skipping&&this.tryCallPredicate(e),this.skipping||t.next(e)},t.prototype.tryCallPredicate=function(e){try{var t=this.predicate(e,this.index++);this.skipping=Boolean(t)}catch(e){this.destination.error(e)}},t}(o.Subscriber)},62591:(e,t,r)=>{var n=r(824),o=r(70398),i=r(45700),s=r(77847),a=r(24469);t.startWith=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return function(t){var r=e[e.length-1];a.isScheduler(r)?e.pop():r=null;var c=e.length;return 1===c?s.concat(new o.ScalarObservable(e[0],r),t):c>1?s.concat(new n.ArrayObservable(e,r),t):s.concat(new i.EmptyObservable(r),t)}}},96296:(e,t,r)=>{var n=r(19887);t.subscribeOn=function(e,t){return void 0===t&&(t=0),function(r){return r.lift(new o(e,t))}};var o=function(){function e(e,t){this.scheduler=e,this.delay=t}return e.prototype.call=function(e,t){return new n.SubscribeOnObservable(t,this.delay,this.scheduler).subscribe(e)},e}()},64158:(e,t,r)=>{var n=r(57439),o=r(20642);t.switchAll=function(){return n.switchMap(o.identity)}},57439:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=r(62392),i=r(51302);t.switchMap=function(e,t){return function(r){return r.lift(new s(e,t))}};var s=function(){function e(e,t){this.project=e,this.resultSelector=t}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.project,this.resultSelector))},e}(),a=function(e){function t(t,r,n){e.call(this,t),this.project=r,this.resultSelector=n,this.index=0}return n(t,e),t.prototype._next=function(e){var t,r=this.index++;try{t=this.project(e,r)}catch(e){return void this.destination.error(e)}this._innerSub(t,e,r)},t.prototype._innerSub=function(e,t,r){var n=this.innerSubscription;n&&n.unsubscribe(),this.add(this.innerSubscription=i.subscribeToResult(this,e,t,r))},t.prototype._complete=function(){var t=this.innerSubscription;t&&!t.closed||e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){this.innerSubscription=null},t.prototype.notifyComplete=function(t){this.remove(t),this.innerSubscription=null,this.isStopped&&e.prototype._complete.call(this)},t.prototype.notifyNext=function(e,t,r,n,o){this.resultSelector?this._tryNotifyNext(e,t,r,n):this.destination.next(t)},t.prototype._tryNotifyNext=function(e,t,r,n){var o;try{o=this.resultSelector(e,t,r,n)}catch(e){return void this.destination.error(e)}this.destination.next(o)},t}(o.OuterSubscriber)},40210:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=r(62392),i=r(51302);t.switchMapTo=function(e,t){return function(r){return r.lift(new s(e,t))}};var s=function(){function e(e,t){this.observable=e,this.resultSelector=t}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.observable,this.resultSelector))},e}(),a=function(e){function t(t,r,n){e.call(this,t),this.inner=r,this.resultSelector=n,this.index=0}return n(t,e),t.prototype._next=function(e){var t=this.innerSubscription;t&&t.unsubscribe(),this.add(this.innerSubscription=i.subscribeToResult(this,this.inner,e,this.index++))},t.prototype._complete=function(){var t=this.innerSubscription;t&&!t.closed||e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){this.innerSubscription=null},t.prototype.notifyComplete=function(t){this.remove(t),this.innerSubscription=null,this.isStopped&&e.prototype._complete.call(this)},t.prototype.notifyNext=function(e,t,r,n,o){var i=this.resultSelector,s=this.destination;i?this.tryResultSelector(e,t,r,n):s.next(t)},t.prototype.tryResultSelector=function(e,t,r,n){var o,i=this.resultSelector,s=this.destination;try{o=i(e,t,r,n)}catch(e){return void s.error(e)}s.next(o)},t}(o.OuterSubscriber)},41892:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=r(71975),i=r(55122),s=r(45700);t.take=function(e){return function(t){return 0===e?new s.EmptyObservable:t.lift(new a(e))}};var a=function(){function e(e){if(this.total=e,this.total<0)throw new i.ArgumentOutOfRangeError}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.total))},e}(),c=function(e){function t(t,r){e.call(this,t),this.total=r,this.count=0}return n(t,e),t.prototype._next=function(e){var t=this.total,r=++this.count;r<=t&&(this.destination.next(e),r===t&&(this.destination.complete(),this.unsubscribe()))},t}(o.Subscriber)},76382:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=r(71975),i=r(55122),s=r(45700);t.takeLast=function(e){return function(t){return 0===e?new s.EmptyObservable:t.lift(new a(e))}};var a=function(){function e(e){if(this.total=e,this.total<0)throw new i.ArgumentOutOfRangeError}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.total))},e}(),c=function(e){function t(t,r){e.call(this,t),this.total=r,this.ring=new Array,this.count=0}return n(t,e),t.prototype._next=function(e){var t=this.ring,r=this.total,n=this.count++;t.length<r?t.push(e):t[n%r]=e},t.prototype._complete=function(){var e=this.destination,t=this.count;if(t>0)for(var r=this.count>=this.total?this.total:this.count,n=this.ring,o=0;o<r;o++){var i=t++%r;e.next(n[i])}e.complete()},t}(o.Subscriber)},69084:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=r(62392),i=r(51302);t.takeUntil=function(e){return function(t){return t.lift(new s(e))}};var s=function(){function e(e){this.notifier=e}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.notifier))},e}(),a=function(e){function t(t,r){e.call(this,t),this.notifier=r,this.add(i.subscribeToResult(this,r))}return n(t,e),t.prototype.notifyNext=function(e,t,r,n,o){this.complete()},t.prototype.notifyComplete=function(){},t}(o.OuterSubscriber)},52064:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=r(71975);t.takeWhile=function(e){return function(t){return t.lift(new i(e))}};var i=function(){function e(e){this.predicate=e}return e.prototype.call=function(e,t){return t.subscribe(new s(e,this.predicate))},e}(),s=function(e){function t(t,r){e.call(this,t),this.predicate=r,this.index=0}return n(t,e),t.prototype._next=function(e){var t,r=this.destination;try{t=this.predicate(e,this.index++)}catch(e){return void r.error(e)}this.nextOrComplete(e,t)},t.prototype.nextOrComplete=function(e,t){var r=this.destination;Boolean(t)?r.next(e):r.complete()},t}(o.Subscriber)},53979:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=r(71975);t.tap=function(e,t,r){return function(n){return n.lift(new i(e,t,r))}};var i=function(){function e(e,t,r){this.nextOrObserver=e,this.error=t,this.complete=r}return e.prototype.call=function(e,t){return t.subscribe(new s(e,this.nextOrObserver,this.error,this.complete))},e}(),s=function(e){function t(t,r,n,i){e.call(this,t);var s=new o.Subscriber(r,n,i);s.syncErrorThrowable=!0,this.add(s),this.safeSubscriber=s}return n(t,e),t.prototype._next=function(e){var t=this.safeSubscriber;t.next(e),t.syncErrorThrown?this.destination.error(t.syncErrorValue):this.destination.next(e)},t.prototype._error=function(e){var t=this.safeSubscriber;t.error(e),t.syncErrorThrown?this.destination.error(t.syncErrorValue):this.destination.error(e)},t.prototype._complete=function(){var e=this.safeSubscriber;e.complete(),e.syncErrorThrown?this.destination.error(e.syncErrorValue):this.destination.complete()},t}(o.Subscriber)},70811:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=r(62392),i=r(51302);t.defaultThrottleConfig={leading:!0,trailing:!1},t.throttle=function(e,r){return void 0===r&&(r=t.defaultThrottleConfig),function(t){return t.lift(new s(e,r.leading,r.trailing))}};var s=function(){function e(e,t,r){this.durationSelector=e,this.leading=t,this.trailing=r}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.durationSelector,this.leading,this.trailing))},e}(),a=function(e){function t(t,r,n,o){e.call(this,t),this.destination=t,this.durationSelector=r,this._leading=n,this._trailing=o,this._hasTrailingValue=!1}return n(t,e),t.prototype._next=function(e){if(this.throttled)this._trailing&&(this._hasTrailingValue=!0,this._trailingValue=e);else{var t=this.tryDurationSelector(e);t&&this.add(this.throttled=i.subscribeToResult(this,t)),this._leading&&(this.destination.next(e),this._trailing&&(this._hasTrailingValue=!0,this._trailingValue=e))}},t.prototype.tryDurationSelector=function(e){try{return this.durationSelector(e)}catch(e){return this.destination.error(e),null}},t.prototype._unsubscribe=function(){var e=this,t=e.throttled;e._trailingValue,e._hasTrailingValue,e._trailing,this._trailingValue=null,this._hasTrailingValue=!1,t&&(this.remove(t),this.throttled=null,t.unsubscribe())},t.prototype._sendTrailing=function(){var e=this,t=e.destination,r=e.throttled,n=e._trailing,o=e._trailingValue,i=e._hasTrailingValue;r&&n&&i&&(t.next(o),this._trailingValue=null,this._hasTrailingValue=!1)},t.prototype.notifyNext=function(e,t,r,n,o){this._sendTrailing(),this._unsubscribe()},t.prototype.notifyComplete=function(){this._sendTrailing(),this._unsubscribe()},t}(o.OuterSubscriber)},89503:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=r(71975),i=r(55488),s=r(70811);t.throttleTime=function(e,t,r){return void 0===t&&(t=i.async),void 0===r&&(r=s.defaultThrottleConfig),function(n){return n.lift(new a(e,t,r.leading,r.trailing))}};var a=function(){function e(e,t,r,n){this.duration=e,this.scheduler=t,this.leading=r,this.trailing=n}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.duration,this.scheduler,this.leading,this.trailing))},e}(),c=function(e){function t(t,r,n,o,i){e.call(this,t),this.duration=r,this.scheduler=n,this.leading=o,this.trailing=i,this._hasTrailingValue=!1,this._trailingValue=null}return n(t,e),t.prototype._next=function(e){this.throttled?this.trailing&&(this._trailingValue=e,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(u,this.duration,{subscriber:this})),this.leading&&this.destination.next(e))},t.prototype.clearThrottle=function(){var e=this.throttled;e&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),e.unsubscribe(),this.remove(e),this.throttled=null)},t}(o.Subscriber);function u(e){e.subscriber.clearThrottle()}},68457:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=r(71975),i=r(55488);t.timeInterval=function(e){return void 0===e&&(e=i.async),function(t){return t.lift(new a(e))}};var s=function(e,t){this.value=e,this.interval=t};t.TimeInterval=s;var a=function(){function e(e){this.scheduler=e}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.scheduler))},e}(),c=function(e){function t(t,r){e.call(this,t),this.scheduler=r,this.lastTime=0,this.lastTime=r.now()}return n(t,e),t.prototype._next=function(e){var t=this.scheduler.now(),r=t-this.lastTime;this.lastTime=t,this.destination.next(new s(e,r))},t}(o.Subscriber)},57347:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=r(55488),i=r(28595),s=r(71975),a=r(12505);t.timeout=function(e,t){void 0===t&&(t=o.async);var r=i.isDate(e),n=r?+e-t.now():Math.abs(e);return function(e){return e.lift(new c(n,r,t,new a.TimeoutError))}};var c=function(){function e(e,t,r,n){this.waitFor=e,this.absoluteTimeout=t,this.scheduler=r,this.errorInstance=n}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.absoluteTimeout,this.waitFor,this.scheduler,this.errorInstance))},e}(),u=function(e){function t(t,r,n,o,i){e.call(this,t),this.absoluteTimeout=r,this.waitFor=n,this.scheduler=o,this.errorInstance=i,this.action=null,this.scheduleTimeout()}return n(t,e),t.dispatchTimeout=function(e){e.error(e.errorInstance)},t.prototype.scheduleTimeout=function(){var e=this.action;e?this.action=e.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(t.dispatchTimeout,this.waitFor,this))},t.prototype._next=function(t){this.absoluteTimeout||this.scheduleTimeout(),e.prototype._next.call(this,t)},t.prototype._unsubscribe=function(){this.action=null,this.scheduler=null,this.errorInstance=null},t}(s.Subscriber)},85374:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=r(55488),i=r(28595),s=r(62392),a=r(51302);t.timeoutWith=function(e,t,r){return void 0===r&&(r=o.async),function(n){var o=i.isDate(e),s=o?+e-r.now():Math.abs(e);return n.lift(new c(s,o,t,r))}};var c=function(){function e(e,t,r,n){this.waitFor=e,this.absoluteTimeout=t,this.withObservable=r,this.scheduler=n}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))},e}(),u=function(e){function t(t,r,n,o,i){e.call(this,t),this.absoluteTimeout=r,this.waitFor=n,this.withObservable=o,this.scheduler=i,this.action=null,this.scheduleTimeout()}return n(t,e),t.dispatchTimeout=function(e){var t=e.withObservable;e._unsubscribeAndRecycle(),e.add(a.subscribeToResult(e,t))},t.prototype.scheduleTimeout=function(){var e=this.action;e?this.action=e.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(t.dispatchTimeout,this.waitFor,this))},t.prototype._next=function(t){this.absoluteTimeout||this.scheduleTimeout(),e.prototype._next.call(this,t)},t.prototype._unsubscribe=function(){this.action=null,this.scheduler=null,this.withObservable=null},t}(s.OuterSubscriber)},22655:(e,t,r)=>{var n=r(55488),o=r(20027);t.timestamp=function(e){return void 0===e&&(e=n.async),o.map((function(t){return new i(t,e.now())}))};var i=function(e,t){this.value=e,this.timestamp=t};t.Timestamp=i},95396:(e,t,r)=>{var n=r(22304);function o(e,t,r){return 0===r?[t]:(e.push(t),e)}t.toArray=function(){return n.reduce(o,[])}},947:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=r(31377),i=r(62392),s=r(51302);t.window=function(e){return function(t){return t.lift(new a(e))}};var a=function(){function e(e){this.windowBoundaries=e}return e.prototype.call=function(e,t){var r=new c(e),n=t.subscribe(r);return n.closed||r.add(s.subscribeToResult(r,this.windowBoundaries)),n},e}(),c=function(e){function t(t){e.call(this,t),this.window=new o.Subject,t.next(this.window)}return n(t,e),t.prototype.notifyNext=function(e,t,r,n,o){this.openWindow()},t.prototype.notifyError=function(e,t){this._error(e)},t.prototype.notifyComplete=function(e){this._complete()},t.prototype._next=function(e){this.window.next(e)},t.prototype._error=function(e){this.window.error(e),this.destination.error(e)},t.prototype._complete=function(){this.window.complete(),this.destination.complete()},t.prototype._unsubscribe=function(){this.window=null},t.prototype.openWindow=function(){var e=this.window;e&&e.complete();var t=this.destination,r=this.window=new o.Subject;t.next(r)},t}(i.OuterSubscriber)},41380:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=r(71975),i=r(31377);t.windowCount=function(e,t){return void 0===t&&(t=0),function(r){return r.lift(new s(e,t))}};var s=function(){function e(e,t){this.windowSize=e,this.startWindowEvery=t}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.windowSize,this.startWindowEvery))},e}(),a=function(e){function t(t,r,n){e.call(this,t),this.destination=t,this.windowSize=r,this.startWindowEvery=n,this.windows=[new i.Subject],this.count=0,t.next(this.windows[0])}return n(t,e),t.prototype._next=function(e){for(var t=this.startWindowEvery>0?this.startWindowEvery:this.windowSize,r=this.destination,n=this.windowSize,o=this.windows,s=o.length,a=0;a<s&&!this.closed;a++)o[a].next(e);var c=this.count-n+1;if(c>=0&&c%t==0&&!this.closed&&o.shift().complete(),++this.count%t==0&&!this.closed){var u=new i.Subject;o.push(u),r.next(u)}},t.prototype._error=function(e){var t=this.windows;if(t)for(;t.length>0&&!this.closed;)t.shift().error(e);this.destination.error(e)},t.prototype._complete=function(){var e=this.windows;if(e)for(;e.length>0&&!this.closed;)e.shift().complete();this.destination.complete()},t.prototype._unsubscribe=function(){this.count=0,this.windows=null},t}(o.Subscriber)},52666:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=r(31377),i=r(55488),s=r(71975),a=r(54137),c=r(24469);t.windowTime=function(e){var t=i.async,r=null,n=Number.POSITIVE_INFINITY;return c.isScheduler(arguments[3])&&(t=arguments[3]),c.isScheduler(arguments[2])?t=arguments[2]:a.isNumeric(arguments[2])&&(n=arguments[2]),c.isScheduler(arguments[1])?t=arguments[1]:a.isNumeric(arguments[1])&&(r=arguments[1]),function(o){return o.lift(new u(e,r,n,t))}};var u=function(){function e(e,t,r,n){this.windowTimeSpan=e,this.windowCreationInterval=t,this.maxWindowSize=r,this.scheduler=n}return e.prototype.call=function(e,t){return t.subscribe(new f(e,this.windowTimeSpan,this.windowCreationInterval,this.maxWindowSize,this.scheduler))},e}(),l=function(e){function t(){e.apply(this,arguments),this._numberOfNextedValues=0}return n(t,e),t.prototype.next=function(t){this._numberOfNextedValues++,e.prototype.next.call(this,t)},Object.defineProperty(t.prototype,"numberOfNextedValues",{get:function(){return this._numberOfNextedValues},enumerable:!0,configurable:!0}),t}(o.Subject),f=function(e){function t(t,r,n,o,i){e.call(this,t),this.destination=t,this.windowTimeSpan=r,this.windowCreationInterval=n,this.maxWindowSize=o,this.scheduler=i,this.windows=[];var s=this.openWindow();if(null!==n&&n>=0){var a={subscriber:this,window:s,context:null},c={windowTimeSpan:r,windowCreationInterval:n,subscriber:this,scheduler:i};this.add(i.schedule(d,r,a)),this.add(i.schedule(p,n,c))}else{var u={subscriber:this,window:s,windowTimeSpan:r};this.add(i.schedule(h,r,u))}}return n(t,e),t.prototype._next=function(e){for(var t=this.windows,r=t.length,n=0;n<r;n++){var o=t[n];o.closed||(o.next(e),o.numberOfNextedValues>=this.maxWindowSize&&this.closeWindow(o))}},t.prototype._error=function(e){for(var t=this.windows;t.length>0;)t.shift().error(e);this.destination.error(e)},t.prototype._complete=function(){for(var e=this.windows;e.length>0;){var t=e.shift();t.closed||t.complete()}this.destination.complete()},t.prototype.openWindow=function(){var e=new l;return this.windows.push(e),this.destination.next(e),e},t.prototype.closeWindow=function(e){e.complete();var t=this.windows;t.splice(t.indexOf(e),1)},t}(s.Subscriber);function h(e){var t=e.subscriber,r=e.windowTimeSpan,n=e.window;n&&t.closeWindow(n),e.window=t.openWindow(),this.schedule(e,r)}function p(e){var t=e.windowTimeSpan,r=e.subscriber,n=e.scheduler,o=e.windowCreationInterval,i=r.openWindow(),s=this,a={action:s,subscription:null},c={subscriber:r,window:i,context:a};a.subscription=n.schedule(d,t,c),s.add(a.subscription),s.schedule(e,o)}function d(e){var t=e.subscriber,r=e.window,n=e.context;n&&n.action&&n.subscription&&n.action.remove(n.subscription),t.closeWindow(r)}},89164:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=r(31377),i=r(84469),s=r(27611),a=r(51491),c=r(62392),u=r(51302);t.windowToggle=function(e,t){return function(r){return r.lift(new l(e,t))}};var l=function(){function e(e,t){this.openings=e,this.closingSelector=t}return e.prototype.call=function(e,t){return t.subscribe(new f(e,this.openings,this.closingSelector))},e}(),f=function(e){function t(t,r,n){e.call(this,t),this.openings=r,this.closingSelector=n,this.contexts=[],this.add(this.openSubscription=u.subscribeToResult(this,r,r))}return n(t,e),t.prototype._next=function(e){var t=this.contexts;if(t)for(var r=t.length,n=0;n<r;n++)t[n].window.next(e)},t.prototype._error=function(t){var r=this.contexts;if(this.contexts=null,r)for(var n=r.length,o=-1;++o<n;){var i=r[o];i.window.error(t),i.subscription.unsubscribe()}e.prototype._error.call(this,t)},t.prototype._complete=function(){var t=this.contexts;if(this.contexts=null,t)for(var r=t.length,n=-1;++n<r;){var o=t[n];o.window.complete(),o.subscription.unsubscribe()}e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){var e=this.contexts;if(this.contexts=null,e)for(var t=e.length,r=-1;++r<t;){var n=e[r];n.window.unsubscribe(),n.subscription.unsubscribe()}},t.prototype.notifyNext=function(e,t,r,n,c){if(e===this.openings){var l=this.closingSelector,f=s.tryCatch(l)(t);if(f===a.errorObject)return this.error(a.errorObject.e);var h=new o.Subject,p=new i.Subscription,d={window:h,subscription:p};this.contexts.push(d);var y=u.subscribeToResult(this,f,d);y.closed?this.closeWindow(this.contexts.length-1):(y.context=d,p.add(y)),this.destination.next(h)}else this.closeWindow(this.contexts.indexOf(e))},t.prototype.notifyError=function(e){this.error(e)},t.prototype.notifyComplete=function(e){e!==this.openSubscription&&this.closeWindow(this.contexts.indexOf(e.context))},t.prototype.closeWindow=function(e){if(-1!==e){var t=this.contexts,r=t[e],n=r.window,o=r.subscription;t.splice(e,1),n.complete(),o.unsubscribe()}},t}(c.OuterSubscriber)},63566:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=r(31377),i=r(27611),s=r(51491),a=r(62392),c=r(51302);t.windowWhen=function(e){return function(t){return t.lift(new u(e))}};var u=function(){function e(e){this.closingSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new l(e,this.closingSelector))},e}(),l=function(e){function t(t,r){e.call(this,t),this.destination=t,this.closingSelector=r,this.openWindow()}return n(t,e),t.prototype.notifyNext=function(e,t,r,n,o){this.openWindow(o)},t.prototype.notifyError=function(e,t){this._error(e)},t.prototype.notifyComplete=function(e){this.openWindow(e)},t.prototype._next=function(e){this.window.next(e)},t.prototype._error=function(e){this.window.error(e),this.destination.error(e),this.unsubscribeClosingNotification()},t.prototype._complete=function(){this.window.complete(),this.destination.complete(),this.unsubscribeClosingNotification()},t.prototype.unsubscribeClosingNotification=function(){this.closingNotification&&this.closingNotification.unsubscribe()},t.prototype.openWindow=function(e){void 0===e&&(e=null),e&&(this.remove(e),e.unsubscribe());var t=this.window;t&&t.complete();var r=this.window=new o.Subject;this.destination.next(r);var n=i.tryCatch(this.closingSelector)();if(n===s.errorObject){var a=s.errorObject.e;this.destination.error(a),this.window.error(a)}else this.add(this.closingNotification=c.subscribeToResult(this,n))},t}(a.OuterSubscriber)},56245:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=r(62392),i=r(51302);t.withLatestFrom=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return function(t){var r;"function"==typeof e[e.length-1]&&(r=e.pop());var n=e;return t.lift(new s(n,r))}};var s=function(){function e(e,t){this.observables=e,this.project=t}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.observables,this.project))},e}(),a=function(e){function t(t,r,n){e.call(this,t),this.observables=r,this.project=n,this.toRespond=[];var o=r.length;this.values=new Array(o);for(var s=0;s<o;s++)this.toRespond.push(s);for(s=0;s<o;s++){var a=r[s];this.add(i.subscribeToResult(this,a,a,s))}}return n(t,e),t.prototype.notifyNext=function(e,t,r,n,o){this.values[r]=t;var i=this.toRespond;if(i.length>0){var s=i.indexOf(r);-1!==s&&i.splice(s,1)}},t.prototype.notifyComplete=function(){},t.prototype._next=function(e){if(0===this.toRespond.length){var t=[e].concat(this.values);this.project?this._tryProject(t):this.destination.next(t)}},t.prototype._tryProject=function(e){var t;try{t=this.project.apply(this,e)}catch(e){return void this.destination.error(e)}this.destination.next(t)},t}(o.OuterSubscriber)},47817:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=r(824),i=r(70002),s=r(71975),a=r(62392),c=r(51302),u=r(51474);function l(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];var r=e[e.length-1];return"function"==typeof r&&e.pop(),new o.ArrayObservable(e).lift(new f(r))}t.zip=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return function(t){return t.lift.call(l.apply(void 0,[t].concat(e)))}},t.zipStatic=l;var f=function(){function e(e){this.project=e}return e.prototype.call=function(e,t){return t.subscribe(new h(e,this.project))},e}();t.ZipOperator=f;var h=function(e){function t(t,r,n){void 0===n&&(n=Object.create(null)),e.call(this,t),this.iterators=[],this.active=0,this.project="function"==typeof r?r:null,this.values=n}return n(t,e),t.prototype._next=function(e){var t=this.iterators;i.isArray(e)?t.push(new d(e)):"function"==typeof e[u.iterator]?t.push(new p(e[u.iterator]())):t.push(new y(this.destination,this,e))},t.prototype._complete=function(){var e=this.iterators,t=e.length;if(0!==t){this.active=t;for(var r=0;r<t;r++){var n=e[r];n.stillUnsubscribed?this.add(n.subscribe(n,r)):this.active--}}else this.destination.complete()},t.prototype.notifyInactive=function(){this.active--,0===this.active&&this.destination.complete()},t.prototype.checkIterators=function(){for(var e=this.iterators,t=e.length,r=this.destination,n=0;n<t;n++)if("function"==typeof(s=e[n]).hasValue&&!s.hasValue())return;var o=!1,i=[];for(n=0;n<t;n++){var s,a=(s=e[n]).next();if(s.hasCompleted()&&(o=!0),a.done)return void r.complete();i.push(a.value)}this.project?this._tryProject(i):r.next(i),o&&r.complete()},t.prototype._tryProject=function(e){var t;try{t=this.project.apply(this,e)}catch(e){return void this.destination.error(e)}this.destination.next(t)},t}(s.Subscriber);t.ZipSubscriber=h;var p=function(){function e(e){this.iterator=e,this.nextResult=e.next()}return e.prototype.hasValue=function(){return!0},e.prototype.next=function(){var e=this.nextResult;return this.nextResult=this.iterator.next(),e},e.prototype.hasCompleted=function(){var e=this.nextResult;return e&&e.done},e}(),d=function(){function e(e){this.array=e,this.index=0,this.length=0,this.length=e.length}return e.prototype[u.iterator]=function(){return this},e.prototype.next=function(e){var t=this.index++,r=this.array;return t<this.length?{value:r[t],done:!1}:{value:null,done:!0}},e.prototype.hasValue=function(){return this.array.length>this.index},e.prototype.hasCompleted=function(){return this.array.length===this.index},e}(),y=function(e){function t(t,r,n){e.call(this,t),this.parent=r,this.observable=n,this.stillUnsubscribed=!0,this.buffer=[],this.isComplete=!1}return n(t,e),t.prototype[u.iterator]=function(){return this},t.prototype.next=function(){var e=this.buffer;return 0===e.length&&this.isComplete?{value:null,done:!0}:{value:e.shift(),done:!1}},t.prototype.hasValue=function(){return this.buffer.length>0},t.prototype.hasCompleted=function(){return 0===this.buffer.length&&this.isComplete},t.prototype.notifyComplete=function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},t.prototype.notifyNext=function(e,t,r,n,o){this.buffer.push(t),this.parent.checkIterators()},t.prototype.subscribe=function(e,t){return c.subscribeToResult(this,this.observable,this,t)},t}(a.OuterSubscriber)},59150:(e,t,r)=>{var n=r(47817);t.zipAll=function(e){return function(t){return t.lift(new n.ZipOperator(e))}}},18311:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=function(e){function t(t,r){e.call(this)}return n(t,e),t.prototype.schedule=function(e,t){return void 0===t&&(t=0),this},t}(r(84469).Subscription);t.Action=o},41755:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=r(37169),i=r(21810),s=function(e){function t(t,r){e.call(this,t,r),this.scheduler=t,this.work=r}return n(t,e),t.prototype.requestAsyncId=function(t,r,n){return void 0===n&&(n=0),null!==n&&n>0?e.prototype.requestAsyncId.call(this,t,r,n):(t.actions.push(this),t.scheduled||(t.scheduled=i.AnimationFrame.requestAnimationFrame(t.flush.bind(t,null))))},t.prototype.recycleAsyncId=function(t,r,n){if(void 0===n&&(n=0),null!==n&&n>0||null===n&&this.delay>0)return e.prototype.recycleAsyncId.call(this,t,r,n);0===t.actions.length&&(i.AnimationFrame.cancelAnimationFrame(r),t.scheduled=void 0)},t}(o.AsyncAction);t.AnimationFrameAction=s},64106:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=function(e){function t(){e.apply(this,arguments)}return n(t,e),t.prototype.flush=function(e){this.active=!0,this.scheduled=void 0;var t,r=this.actions,n=-1,o=r.length;e=e||r.shift();do{if(t=e.execute(e.state,e.delay))break}while(++n<o&&(e=r.shift()));if(this.active=!1,t){for(;++n<o&&(e=r.shift());)e.unsubscribe();throw t}},t}(r(41738).AsyncScheduler);t.AnimationFrameScheduler=o},87054:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=r(49629),i=function(e){function t(t,r){e.call(this,t,r),this.scheduler=t,this.work=r}return n(t,e),t.prototype.requestAsyncId=function(t,r,n){return void 0===n&&(n=0),null!==n&&n>0?e.prototype.requestAsyncId.call(this,t,r,n):(t.actions.push(this),t.scheduled||(t.scheduled=o.Immediate.setImmediate(t.flush.bind(t,null))))},t.prototype.recycleAsyncId=function(t,r,n){if(void 0===n&&(n=0),null!==n&&n>0||null===n&&this.delay>0)return e.prototype.recycleAsyncId.call(this,t,r,n);0===t.actions.length&&(o.Immediate.clearImmediate(r),t.scheduled=void 0)},t}(r(37169).AsyncAction);t.AsapAction=i},71822:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=function(e){function t(){e.apply(this,arguments)}return n(t,e),t.prototype.flush=function(e){this.active=!0,this.scheduled=void 0;var t,r=this.actions,n=-1,o=r.length;e=e||r.shift();do{if(t=e.execute(e.state,e.delay))break}while(++n<o&&(e=r.shift()));if(this.active=!1,t){for(;++n<o&&(e=r.shift());)e.unsubscribe();throw t}},t}(r(41738).AsyncScheduler);t.AsapScheduler=o},37169:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=r(21613),i=function(e){function t(t,r){e.call(this,t,r),this.scheduler=t,this.work=r,this.pending=!1}return n(t,e),t.prototype.schedule=function(e,t){if(void 0===t&&(t=0),this.closed)return this;this.state=e,this.pending=!0;var r=this.id,n=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(n,r,t)),this.delay=t,this.id=this.id||this.requestAsyncId(n,this.id,t),this},t.prototype.requestAsyncId=function(e,t,r){return void 0===r&&(r=0),o.root.setInterval(e.flush.bind(e,this),r)},t.prototype.recycleAsyncId=function(e,t,r){if(void 0===r&&(r=0),null!==r&&this.delay===r&&!1===this.pending)return t;o.root.clearInterval(t)},t.prototype.execute=function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(e,t){var r=!1,n=void 0;try{this.work(e)}catch(e){r=!0,n=!!e&&e||new Error(e)}if(r)return this.unsubscribe(),n},t.prototype._unsubscribe=function(){var e=this.id,t=this.scheduler,r=t.actions,n=r.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==n&&r.splice(n,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null},t}(r(18311).Action);t.AsyncAction=i},41738:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=function(e){function t(){e.apply(this,arguments),this.actions=[],this.active=!1,this.scheduled=void 0}return n(t,e),t.prototype.flush=function(e){var t=this.actions;if(this.active)t.push(e);else{var r;this.active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}},t}(r(86593).Scheduler);t.AsyncScheduler=o},53442:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=function(e){function t(t,r){e.call(this,t,r),this.scheduler=t,this.work=r}return n(t,e),t.prototype.schedule=function(t,r){return void 0===r&&(r=0),r>0?e.prototype.schedule.call(this,t,r):(this.delay=r,this.state=t,this.scheduler.flush(this),this)},t.prototype.execute=function(t,r){return r>0||this.closed?e.prototype.execute.call(this,t,r):this._execute(t,r)},t.prototype.requestAsyncId=function(t,r,n){return void 0===n&&(n=0),null!==n&&n>0||null===n&&this.delay>0?e.prototype.requestAsyncId.call(this,t,r,n):t.flush(this)},t}(r(37169).AsyncAction);t.QueueAction=o},99394:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=function(e){function t(){e.apply(this,arguments)}return n(t,e),t}(r(41738).AsyncScheduler);t.QueueScheduler=o},81816:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=r(37169),i=function(e){function t(t,r){var n=this;void 0===t&&(t=s),void 0===r&&(r=Number.POSITIVE_INFINITY),e.call(this,t,(function(){return n.frame})),this.maxFrames=r,this.frame=0,this.index=-1}return n(t,e),t.prototype.flush=function(){for(var e,t,r=this.actions,n=this.maxFrames;(t=r.shift())&&(this.frame=t.delay)<=n&&!(e=t.execute(t.state,t.delay)););if(e){for(;t=r.shift();)t.unsubscribe();throw e}},t.frameTimeFactor=10,t}(r(41738).AsyncScheduler);t.VirtualTimeScheduler=i;var s=function(e){function t(t,r,n){void 0===n&&(n=t.index+=1),e.call(this,t,r),this.scheduler=t,this.work=r,this.index=n,this.active=!0,this.index=t.index=n}return n(t,e),t.prototype.schedule=function(r,n){if(void 0===n&&(n=0),!this.id)return e.prototype.schedule.call(this,r,n);this.active=!1;var o=new t(this.scheduler,this.work);return this.add(o),o.schedule(r,n)},t.prototype.requestAsyncId=function(e,r,n){void 0===n&&(n=0),this.delay=e.frame+n;var o=e.actions;return o.push(this),o.sort(t.sortActions),!0},t.prototype.recycleAsyncId=function(e,t,r){void 0===r&&(r=0)},t.prototype._execute=function(t,r){if(!0===this.active)return e.prototype._execute.call(this,t,r)},t.sortActions=function(e,t){return e.delay===t.delay?e.index===t.index?0:e.index>t.index?1:-1:e.delay>t.delay?1:-1},t}(o.AsyncAction);t.VirtualAction=s},65971:(e,t,r)=>{var n=r(41755),o=r(64106);t.animationFrame=new o.AnimationFrameScheduler(n.AnimationFrameAction)},24510:(e,t,r)=>{var n=r(87054),o=r(71822);t.asap=new o.AsapScheduler(n.AsapAction)},55488:(e,t,r)=>{var n=r(37169),o=r(41738);t.async=new o.AsyncScheduler(n.AsyncAction)},49700:(e,t,r)=>{var n=r(53442),o=r(99394);t.queue=new o.QueueScheduler(n.QueueAction)},51474:(e,t,r)=>{var n=r(21613);function o(e){var t=e.Symbol;if("function"==typeof t)return t.iterator||(t.iterator=t("iterator polyfill")),t.iterator;var r=e.Set;if(r&&"function"==typeof(new r)["@@iterator"])return"@@iterator";var n=e.Map;if(n)for(var o=Object.getOwnPropertyNames(n.prototype),i=0;i<o.length;++i){var s=o[i];if("entries"!==s&&"size"!==s&&n.prototype[s]===n.prototype.entries)return s}return"@@iterator"}t.symbolIteratorPonyfill=o,t.iterator=o(n.root),t.$$iterator=t.iterator},62086:(e,t,r)=>{var n=r(21613);function o(e){var t,r=e.Symbol;return"function"==typeof r?r.observable?t=r.observable:(t=r("observable"),r.observable=t):t="@@observable",t}t.getSymbolObservable=o,t.observable=o(n.root),t.$$observable=t.observable},98130:(e,t,r)=>{var n=r(21613).root.Symbol;t.rxSubscriber="function"==typeof n&&"function"==typeof n.for?n.for("rxSubscriber"):"@@rxSubscriber",t.$$rxSubscriber=t.rxSubscriber},97302:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=r(16561),i=r(84469),s=r(86005),a=r(1774),c=function(e){function t(t,r){e.call(this,(function(e){var t=this,r=t.logSubscribedFrame();return e.add(new i.Subscription((function(){t.logUnsubscribedFrame(r)}))),t.scheduleMessages(e),e})),this.messages=t,this.subscriptions=[],this.scheduler=r}return n(t,e),t.prototype.scheduleMessages=function(e){for(var t=this.messages.length,r=0;r<t;r++){var n=this.messages[r];e.add(this.scheduler.schedule((function(e){var t=e.message,r=e.subscriber;t.notification.observe(r)}),n.frame,{message:n,subscriber:e}))}},t}(o.Observable);t.ColdObservable=c,a.applyMixins(c,[s.SubscriptionLoggable])},77481:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=r(31377),i=r(84469),s=r(86005),a=r(1774),c=function(e){function t(t,r){e.call(this),this.messages=t,this.subscriptions=[],this.scheduler=r}return n(t,e),t.prototype._subscribe=function(t){var r=this,n=r.logSubscribedFrame();return t.add(new i.Subscription((function(){r.logUnsubscribedFrame(n)}))),e.prototype._subscribe.call(this,t)},t.prototype.setup=function(){for(var e=this,t=e.messages.length,r=0;r<t;r++)!function(){var t=e.messages[r];e.scheduler.schedule((function(){t.notification.observe(e)}),t.frame)}()},t}(o.Subject);t.HotObservable=c,a.applyMixins(c,[s.SubscriptionLoggable])},70273:(e,t)=>{t.SubscriptionLog=function(e,t){void 0===t&&(t=Number.POSITIVE_INFINITY),this.subscribedFrame=e,this.unsubscribedFrame=t}},86005:(e,t,r)=>{var n=r(70273),o=function(){function e(){this.subscriptions=[]}return e.prototype.logSubscribedFrame=function(){return this.subscriptions.push(new n.SubscriptionLog(this.scheduler.now())),this.subscriptions.length-1},e.prototype.logUnsubscribedFrame=function(e){var t=this.subscriptions,r=t[e];t[e]=new n.SubscriptionLog(r.subscribedFrame,this.scheduler.now())},e}();t.SubscriptionLoggable=o},92615:function(e,t,r){var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=r(16561),i=r(53926),s=r(97302),a=r(77481),c=r(70273),u=r(81816),l=function(e){function t(t){e.call(this,u.VirtualAction,750),this.assertDeepEqual=t,this.hotObservables=[],this.coldObservables=[],this.flushTests=[]}return n(t,e),t.prototype.createTime=function(e){var r=e.indexOf("|");if(-1===r)throw new Error('marble diagram for time should have a completion marker "|"');return r*t.frameTimeFactor},t.prototype.createColdObservable=function(e,r,n){if(-1!==e.indexOf("^"))throw new Error('cold observable cannot have subscription offset "^"');if(-1!==e.indexOf("!"))throw new Error('cold observable cannot have unsubscription marker "!"');var o=t.parseMarbles(e,r,n),i=new s.ColdObservable(o,this);return this.coldObservables.push(i),i},t.prototype.createHotObservable=function(e,r,n){if(-1!==e.indexOf("!"))throw new Error('hot observable cannot have unsubscription marker "!"');var o=t.parseMarbles(e,r,n),i=new a.HotObservable(o,this);return this.hotObservables.push(i),i},t.prototype.materializeInnerObservable=function(e,t){var r=this,n=[];return e.subscribe((function(e){n.push({frame:r.frame-t,notification:i.Notification.createNext(e)})}),(function(e){n.push({frame:r.frame-t,notification:i.Notification.createError(e)})}),(function(){n.push({frame:r.frame-t,notification:i.Notification.createComplete()})})),n},t.prototype.expectObservable=function(e,r){var n=this;void 0===r&&(r=null);var s,a=[],c={actual:a,ready:!1},u=t.parseMarblesAsSubscriptions(r).unsubscribedFrame;return this.schedule((function(){s=e.subscribe((function(e){var t=e;e instanceof o.Observable&&(t=n.materializeInnerObservable(t,n.frame)),a.push({frame:n.frame,notification:i.Notification.createNext(t)})}),(function(e){a.push({frame:n.frame,notification:i.Notification.createError(e)})}),(function(){a.push({frame:n.frame,notification:i.Notification.createComplete()})}))}),0),u!==Number.POSITIVE_INFINITY&&this.schedule((function(){return s.unsubscribe()}),u),this.flushTests.push(c),{toBe:function(e,r,n){c.ready=!0,c.expected=t.parseMarbles(e,r,n,!0)}}},t.prototype.expectSubscriptions=function(e){var r={actual:e,ready:!1};return this.flushTests.push(r),{toBe:function(e){var n="string"==typeof e?[e]:e;r.ready=!0,r.expected=n.map((function(e){return t.parseMarblesAsSubscriptions(e)}))}}},t.prototype.flush=function(){for(var t=this.hotObservables;t.length>0;)t.shift().setup();e.prototype.flush.call(this);for(var r=this.flushTests.filter((function(e){return e.ready}));r.length>0;){var n=r.shift();this.assertDeepEqual(n.actual,n.expected)}},t.parseMarblesAsSubscriptions=function(e){if("string"!=typeof e)return new c.SubscriptionLog(Number.POSITIVE_INFINITY);for(var t=e.length,r=-1,n=Number.POSITIVE_INFINITY,o=Number.POSITIVE_INFINITY,i=0;i<t;i++){var s=i*this.frameTimeFactor,a=e[i];switch(a){case"-":case" ":break;case"(":r=s;break;case")":r=-1;break;case"^":if(n!==Number.POSITIVE_INFINITY)throw new Error("found a second subscription point '^' in a subscription marble diagram. There can only be one.");n=r>-1?r:s;break;case"!":if(o!==Number.POSITIVE_INFINITY)throw new Error("found a second subscription point '^' in a subscription marble diagram. There can only be one.");o=r>-1?r:s;break;default:throw new Error("there can only be '^' and '!' markers in a subscription marble diagram. Found instead '"+a+"'.")}}return o<0?new c.SubscriptionLog(n):new c.SubscriptionLog(n,o)},t.parseMarbles=function(e,t,r,n){if(void 0===n&&(n=!1),-1!==e.indexOf("!"))throw new Error('conventional marble diagrams cannot have the unsubscription marker "!"');for(var o=e.length,a=[],c=e.indexOf("^"),u=-1===c?0:c*-this.frameTimeFactor,l="object"!=typeof t?function(e){return e}:function(e){return n&&t[e]instanceof s.ColdObservable?t[e].messages:t[e]},f=-1,h=0;h<o;h++){var p=h*this.frameTimeFactor+u,d=void 0,y=e[h];switch(y){case"-":case" ":case"^":break;case"(":f=p;break;case")":f=-1;break;case"|":d=i.Notification.createComplete();break;case"#":d=i.Notification.createError(r||"error");break;default:d=i.Notification.createNext(l(y))}d&&a.push({frame:f>-1?f:p,notification:d})}return a},t}(u.VirtualTimeScheduler);t.TestScheduler=l},21810:(e,t,r)=>{var n=r(21613),o=function(e){e.requestAnimationFrame?(this.cancelAnimationFrame=e.cancelAnimationFrame.bind(e),this.requestAnimationFrame=e.requestAnimationFrame.bind(e)):e.mozRequestAnimationFrame?(this.cancelAnimationFrame=e.mozCancelAnimationFrame.bind(e),this.requestAnimationFrame=e.mozRequestAnimationFrame.bind(e)):e.webkitRequestAnimationFrame?(this.cancelAnimationFrame=e.webkitCancelAnimationFrame.bind(e),this.requestAnimationFrame=e.webkitRequestAnimationFrame.bind(e)):e.msRequestAnimationFrame?(this.cancelAnimationFrame=e.msCancelAnimationFrame.bind(e),this.requestAnimationFrame=e.msRequestAnimationFrame.bind(e)):e.oRequestAnimationFrame?(this.cancelAnimationFrame=e.oCancelAnimationFrame.bind(e),this.requestAnimationFrame=e.oRequestAnimationFrame.bind(e)):(this.cancelAnimationFrame=e.clearTimeout.bind(e),this.requestAnimationFrame=function(t){return e.setTimeout(t,1e3/60)})};t.RequestAnimationFrameDefinition=o,t.AnimationFrame=new o(n.root)},55122:function(e,t){var r=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},n=function(e){function t(){var t=e.call(this,"argument out of range");this.name=t.name="ArgumentOutOfRangeError",this.stack=t.stack,this.message=t.message}return r(t,e),t}(Error);t.ArgumentOutOfRangeError=n},8294:function(e,t){var r=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},n=function(e){function t(){var t=e.call(this,"no elements in sequence");this.name=t.name="EmptyError",this.stack=t.stack,this.message=t.message}return r(t,e),t}(Error);t.EmptyError=n},95685:(e,t)=>{var r=function(){function e(){this.values={}}return e.prototype.delete=function(e){return this.values[e]=null,!0},e.prototype.set=function(e,t){return this.values[e]=t,this},e.prototype.get=function(e){return this.values[e]},e.prototype.forEach=function(e,t){var r=this.values;for(var n in r)r.hasOwnProperty(n)&&null!==r[n]&&e.call(t,r[n],n)},e.prototype.clear=function(){this.values={}},e}();t.FastMap=r},49629:(e,t,r)=>{var n=r(21613),o=function(){function e(e){if(this.root=e,e.setImmediate&&"function"==typeof e.setImmediate)this.setImmediate=e.setImmediate.bind(e),this.clearImmediate=e.clearImmediate.bind(e);else{this.nextHandle=1,this.tasksByHandle={},this.currentlyRunningATask=!1,this.canUseProcessNextTick()?this.setImmediate=this.createProcessNextTickSetImmediate():this.canUsePostMessage()?this.setImmediate=this.createPostMessageSetImmediate():this.canUseMessageChannel()?this.setImmediate=this.createMessageChannelSetImmediate():this.canUseReadyStateChange()?this.setImmediate=this.createReadyStateChangeSetImmediate():this.setImmediate=this.createSetTimeoutSetImmediate();var t=function e(t){delete e.instance.tasksByHandle[t]};t.instance=this,this.clearImmediate=t}}return e.prototype.identify=function(e){return this.root.Object.prototype.toString.call(e)},e.prototype.canUseProcessNextTick=function(){return"[object process]"===this.identify(this.root.process)},e.prototype.canUseMessageChannel=function(){return Boolean(this.root.MessageChannel)},e.prototype.canUseReadyStateChange=function(){var e=this.root.document;return Boolean(e&&"onreadystatechange"in e.createElement("script"))},e.prototype.canUsePostMessage=function(){var e=this.root;if(e.postMessage&&!e.importScripts){var t=!0,r=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=r,t}return!1},e.prototype.partiallyApplied=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var n=function e(){var t=e.handler,r=e.args;"function"==typeof t?t.apply(void 0,r):new Function(""+t)()};return n.handler=e,n.args=t,n},e.prototype.addFromSetImmediateArguments=function(e){return this.tasksByHandle[this.nextHandle]=this.partiallyApplied.apply(void 0,e),this.nextHandle++},e.prototype.createProcessNextTickSetImmediate=function(){var e=function e(){var t=e.instance,r=t.addFromSetImmediateArguments(arguments);return t.root.process.nextTick(t.partiallyApplied(t.runIfPresent,r)),r};return e.instance=this,e},e.prototype.createPostMessageSetImmediate=function(){var e=this.root,t="setImmediate$"+e.Math.random()+"$",r=function r(n){var o=r.instance;n.source===e&&"string"==typeof n.data&&0===n.data.indexOf(t)&&o.runIfPresent(+n.data.slice(t.length))};r.instance=this,e.addEventListener("message",r,!1);var n=function e(){var t=e,r=t.messagePrefix,n=t.instance,o=n.addFromSetImmediateArguments(arguments);return n.root.postMessage(r+o,"*"),o};return n.instance=this,n.messagePrefix=t,n},e.prototype.runIfPresent=function(e){if(this.currentlyRunningATask)this.root.setTimeout(this.partiallyApplied(this.runIfPresent,e),0);else{var t=this.tasksByHandle[e];if(t){this.currentlyRunningATask=!0;try{t()}finally{this.clearImmediate(e),this.currentlyRunningATask=!1}}}},e.prototype.createMessageChannelSetImmediate=function(){var e=this,t=new this.root.MessageChannel;t.port1.onmessage=function(t){var r=t.data;e.runIfPresent(r)};var r=function e(){var t=e,r=t.channel,n=t.instance,o=n.addFromSetImmediateArguments(arguments);return r.port2.postMessage(o),o};return r.channel=t,r.instance=this,r},e.prototype.createReadyStateChangeSetImmediate=function(){var e=function e(){var t=e.instance,r=t.root,n=r.document,o=n.documentElement,i=t.addFromSetImmediateArguments(arguments),s=n.createElement("script");return s.onreadystatechange=function(){t.runIfPresent(i),s.onreadystatechange=null,o.removeChild(s),s=null},o.appendChild(s),i};return e.instance=this,e},e.prototype.createSetTimeoutSetImmediate=function(){var e=function e(){var t=e.instance,r=t.addFromSetImmediateArguments(arguments);return t.root.setTimeout(t.partiallyApplied(t.runIfPresent,r),0),r};return e.instance=this,e},e}();t.ImmediateDefinition=o,t.Immediate=new o(n.root)},13333:(e,t,r)=>{var n=r(21613),o=r(47086);t.Map=n.root.Map||o.MapPolyfill},47086:(e,t)=>{var r=function(){function e(){this.size=0,this._values=[],this._keys=[]}return e.prototype.get=function(e){var t=this._keys.indexOf(e);return-1===t?void 0:this._values[t]},e.prototype.set=function(e,t){var r=this._keys.indexOf(e);return-1===r?(this._keys.push(e),this._values.push(t),this.size++):this._values[r]=t,this},e.prototype.delete=function(e){var t=this._keys.indexOf(e);return-1!==t&&(this._values.splice(t,1),this._keys.splice(t,1),this.size--,!0)},e.prototype.clear=function(){this._keys.length=0,this._values.length=0,this.size=0},e.prototype.forEach=function(e,t){for(var r=0;r<this.size;r++)e.call(t,this._values[r],this._keys[r])},e}();t.MapPolyfill=r},34901:function(e,t){var r=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},n=function(e){function t(){var t=e.call(this,"object unsubscribed");this.name=t.name="ObjectUnsubscribedError",this.stack=t.stack,this.message=t.message}return r(t,e),t}(Error);t.ObjectUnsubscribedError=n},46422:(e,t,r)=>{var n=r(21613);function o(){return function(){function e(){this._values=[]}return e.prototype.add=function(e){this.has(e)||this._values.push(e)},e.prototype.has=function(e){return-1!==this._values.indexOf(e)},Object.defineProperty(e.prototype,"size",{get:function(){return this._values.length},enumerable:!0,configurable:!0}),e.prototype.clear=function(){this._values.length=0},e}()}t.minimalSetImpl=o,t.Set=n.root.Set||o()},12505:function(e,t){var r=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},n=function(e){function t(){var t=e.call(this,"Timeout has occurred");this.name=t.name="TimeoutError",this.stack=t.stack,this.message=t.message}return r(t,e),t}(Error);t.TimeoutError=n},71928:function(e,t){var r=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},n=function(e){function t(t){e.call(this),this.errors=t;var r=Error.call(this,t?t.length+" errors occurred during unsubscription:\n  "+t.map((function(e,t){return t+1+") "+e.toString()})).join("\n  "):"");this.name=r.name="UnsubscriptionError",this.stack=r.stack,this.message=r.message}return r(t,e),t}(Error);t.UnsubscriptionError=n},1774:(e,t)=>{t.applyMixins=function(e,t){for(var r=0,n=t.length;r<n;r++)for(var o=t[r],i=Object.getOwnPropertyNames(o.prototype),s=0,a=i.length;s<a;s++){var c=i[s];e.prototype[c]=o.prototype[c]}}},31124:(e,t,r)=>{var n=r(21613);function o(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];for(var n=t.length,o=0;o<n;o++){var i=t[o];for(var s in i)i.hasOwnProperty(s)&&(e[s]=i[s])}return e}function i(e){return e.Object.assign||o}t.assignImpl=o,t.getAssign=i,t.assign=i(n.root)},51491:(e,t)=>{t.errorObject={e:{}}},20642:(e,t)=>{t.identity=function(e){return e}},70002:(e,t)=>{t.isArray=Array.isArray||function(e){return e&&"number"==typeof e.length}},79289:(e,t)=>{t.isArrayLike=function(e){return e&&"number"==typeof e.length}},28595:(e,t)=>{t.isDate=function(e){return e instanceof Date&&!isNaN(+e)}},78451:(e,t)=>{t.isFunction=function(e){return"function"==typeof e}},54137:(e,t,r)=>{var n=r(70002);t.isNumeric=function(e){return!n.isArray(e)&&e-parseFloat(e)+1>=0}},84014:(e,t)=>{t.isObject=function(e){return null!=e&&"object"==typeof e}},22808:(e,t)=>{t.isPromise=function(e){return e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}},24469:(e,t)=>{t.isScheduler=function(e){return e&&"function"==typeof e.schedule}},40777:(e,t)=>{t.noop=function(){}},87005:(e,t)=>{t.not=function(e,t){function r(){return!r.pred.apply(r.thisArg,arguments)}return r.pred=e,r.thisArg=t,r}},92611:(e,t,r)=>{var n=r(40777);function o(e){return e?1===e.length?e[0]:function(t){return e.reduce((function(e,t){return t(e)}),t)}:n.noop}t.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return o(e)},t.pipeFromArray=o},21613:(e,t,r)=>{var n="undefined"!=typeof window&&window,o="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,i=void 0!==r.g&&r.g,s=n||i||o;t.root=s,function(){if(!s)throw new Error("RxJS could not find any global context (window, self, global)")}()},51302:(e,t,r)=>{var n=r(21613),o=r(79289),i=r(22808),s=r(84014),a=r(16561),c=r(51474),u=r(1403),l=r(62086);t.subscribeToResult=function(e,t,r,f){var h=new u.InnerSubscriber(e,r,f);if(h.closed)return null;if(t instanceof a.Observable)return t._isScalar?(h.next(t.value),h.complete(),null):(h.syncErrorThrowable=!0,t.subscribe(h));if(o.isArrayLike(t)){for(var p=0,d=t.length;p<d&&!h.closed;p++)h.next(t[p]);h.closed||h.complete()}else{if(i.isPromise(t))return t.then((function(e){h.closed||(h.next(e),h.complete())}),(function(e){return h.error(e)})).then(null,(function(e){n.root.setTimeout((function(){throw e}))})),h;if(t&&"function"==typeof t[c.iterator])for(var y=t[c.iterator]();;){var b=y.next();if(b.done){h.complete();break}if(h.next(b.value),h.closed)break}else if(t&&"function"==typeof t[l.observable]){var m=t[l.observable]();if("function"==typeof m.subscribe)return m.subscribe(new u.InnerSubscriber(e,r,f));h.error(new TypeError("Provided object does not correctly implement Symbol.observable"))}else{var v="You provided "+(s.isObject(t)?"an invalid object":"'"+t+"'")+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.";h.error(new TypeError(v))}}return null}},74119:(e,t,r)=>{var n=r(71975),o=r(98130),i=r(83847);t.toSubscriber=function(e,t,r){if(e){if(e instanceof n.Subscriber)return e;if(e[o.rxSubscriber])return e[o.rxSubscriber]()}return e||t||r?new n.Subscriber(e,t,r):new n.Subscriber(i.empty)}},27611:(e,t,r)=>{var n,o=r(51491);function i(){try{return n.apply(this,arguments)}catch(e){return o.errorObject.e=e,o.errorObject}}t.tryCatch=function(e){return n=e,i}},49685:(e,t,r)=>{var n=r(97866),o=n.Buffer;function i(e,t){for(var r in e)t[r]=e[r]}function s(e,t,r){return o(e,t,r)}o.from&&o.alloc&&o.allocUnsafe&&o.allocUnsafeSlow?e.exports=n:(i(n,t),t.Buffer=s),s.prototype=Object.create(o.prototype),i(o,s),s.from=function(e,t,r){if("number"==typeof e)throw new TypeError("Argument must not be a number");return o(e,t,r)},s.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError("Argument must be a number");var n=o(e);return void 0!==t?"string"==typeof r?n.fill(t,r):n.fill(t):n.fill(0),n},s.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return o(e)},s.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n.SlowBuffer(e)}},90449:(e,t,r)=>{var n=r(98931),o=r(67343),i=r(6630),s=r(19372),a=r(12155),c=t;c.request=function(e,t){e="string"==typeof e?a.parse(e):i(e);var o=-1===r.g.location.protocol.search(/^https?:$/)?"http:":"",s=e.protocol||o,c=e.hostname||e.host,u=e.port,l=e.path||"/";c&&-1!==c.indexOf(":")&&(c="["+c+"]"),e.url=(c?s+"//"+c:"")+(u?":"+u:"")+l,e.method=(e.method||"GET").toUpperCase(),e.headers=e.headers||{};var f=new n(e);return t&&f.on("response",t),f},c.get=function(e,t){var r=c.request(e,t);return r.end(),r},c.ClientRequest=n,c.IncomingMessage=o.IncomingMessage,c.Agent=function(){},c.Agent.defaultMaxSockets=4,c.globalAgent=new c.Agent,c.STATUS_CODES=s,c.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"]},56812:(e,t,r)=>{var n;function o(){if(void 0!==n)return n;if(r.g.XMLHttpRequest){n=new r.g.XMLHttpRequest;try{n.open("GET",r.g.XDomainRequest?"/":"https://example.com")}catch(e){n=null}}else n=null;return n}function i(e){var t=o();if(!t)return!1;try{return t.responseType=e,t.responseType===e}catch(e){}return!1}function s(e){return"function"==typeof e}t.fetch=s(r.g.fetch)&&s(r.g.ReadableStream),t.writableStream=s(r.g.WritableStream),t.abortController=s(r.g.AbortController),t.arraybuffer=t.fetch||i("arraybuffer"),t.msstream=!t.fetch&&i("ms-stream"),t.mozchunkedarraybuffer=!t.fetch&&i("moz-chunked-arraybuffer"),t.overrideMimeType=t.fetch||!!o()&&s(o().overrideMimeType),n=null},98931:(e,t,r)=>{var n=r(97866).Buffer,o=r(12695),i=r(56812),s=r(23730),a=r(67343),c=r(29142),u=a.IncomingMessage,l=a.readyStates,f=e.exports=function(e){var t,r=this;c.Writable.call(r),r._opts=e,r._body=[],r._headers={},e.auth&&r.setHeader("Authorization","Basic "+n.from(e.auth).toString("base64")),Object.keys(e.headers).forEach((function(t){r.setHeader(t,e.headers[t])}));var o=!0;if("disable-fetch"===e.mode||"requestTimeout"in e&&!i.abortController)o=!1,t=!0;else if("prefer-streaming"===e.mode)t=!1;else if("allow-wrong-content-type"===e.mode)t=!i.overrideMimeType;else{if(e.mode&&"default"!==e.mode&&"prefer-fast"!==e.mode)throw new Error("Invalid value for opts.mode");t=!0}r._mode=function(e,t){return i.fetch&&t?"fetch":i.mozchunkedarraybuffer?"moz-chunked-arraybuffer":i.msstream?"ms-stream":i.arraybuffer&&e?"arraybuffer":"text"}(t,o),r._fetchTimer=null,r._socketTimeout=null,r._socketTimer=null,r.on("finish",(function(){r._onFinish()}))};s(f,c.Writable),f.prototype.setHeader=function(e,t){var r=e.toLowerCase();-1===h.indexOf(r)&&(this._headers[r]={name:e,value:t})},f.prototype.getHeader=function(e){var t=this._headers[e.toLowerCase()];return t?t.value:null},f.prototype.removeHeader=function(e){delete this._headers[e.toLowerCase()]},f.prototype._onFinish=function(){var e=this;if(!e._destroyed){var t=e._opts;"timeout"in t&&0!==t.timeout&&e.setTimeout(t.timeout);var n=e._headers,s=null;"GET"!==t.method&&"HEAD"!==t.method&&(s=new Blob(e._body,{type:(n["content-type"]||{}).value||""}));var a=[];if(Object.keys(n).forEach((function(e){var t=n[e].name,r=n[e].value;Array.isArray(r)?r.forEach((function(e){a.push([t,e])})):a.push([t,r])})),"fetch"===e._mode){var c=null;if(i.abortController){var u=new AbortController;c=u.signal,e._fetchAbortController=u,"requestTimeout"in t&&0!==t.requestTimeout&&(e._fetchTimer=r.g.setTimeout((function(){e.emit("requestTimeout"),e._fetchAbortController&&e._fetchAbortController.abort()}),t.requestTimeout))}r.g.fetch(e._opts.url,{method:e._opts.method,headers:a,body:s||void 0,mode:"cors",credentials:t.withCredentials?"include":"same-origin",signal:c}).then((function(t){e._fetchResponse=t,e._resetTimers(!1),e._connect()}),(function(t){e._resetTimers(!0),e._destroyed||e.emit("error",t)}))}else{var f=e._xhr=new r.g.XMLHttpRequest;try{f.open(e._opts.method,e._opts.url,!0)}catch(t){return void o.nextTick((function(){e.emit("error",t)}))}"responseType"in f&&(f.responseType=e._mode),"withCredentials"in f&&(f.withCredentials=!!t.withCredentials),"text"===e._mode&&"overrideMimeType"in f&&f.overrideMimeType("text/plain; charset=x-user-defined"),"requestTimeout"in t&&(f.timeout=t.requestTimeout,f.ontimeout=function(){e.emit("requestTimeout")}),a.forEach((function(e){f.setRequestHeader(e[0],e[1])})),e._response=null,f.onreadystatechange=function(){switch(f.readyState){case l.LOADING:case l.DONE:e._onXHRProgress()}},"moz-chunked-arraybuffer"===e._mode&&(f.onprogress=function(){e._onXHRProgress()}),f.onerror=function(){e._destroyed||(e._resetTimers(!0),e.emit("error",new Error("XHR error")))};try{f.send(s)}catch(t){return void o.nextTick((function(){e.emit("error",t)}))}}}},f.prototype._onXHRProgress=function(){var e=this;e._resetTimers(!1),function(e){try{var t=e.status;return null!==t&&0!==t}catch(e){return!1}}(e._xhr)&&!e._destroyed&&(e._response||e._connect(),e._response._onXHRProgress(e._resetTimers.bind(e)))},f.prototype._connect=function(){var e=this;e._destroyed||(e._response=new u(e._xhr,e._fetchResponse,e._mode,e._resetTimers.bind(e)),e._response.on("error",(function(t){e.emit("error",t)})),e.emit("response",e._response))},f.prototype._write=function(e,t,r){this._body.push(e),r()},f.prototype._resetTimers=function(e){var t=this;r.g.clearTimeout(t._socketTimer),t._socketTimer=null,e?(r.g.clearTimeout(t._fetchTimer),t._fetchTimer=null):t._socketTimeout&&(t._socketTimer=r.g.setTimeout((function(){t.emit("timeout")}),t._socketTimeout))},f.prototype.abort=f.prototype.destroy=function(e){var t=this;t._destroyed=!0,t._resetTimers(!0),t._response&&(t._response._destroyed=!0),t._xhr?t._xhr.abort():t._fetchAbortController&&t._fetchAbortController.abort(),e&&t.emit("error",e)},f.prototype.end=function(e,t,r){"function"==typeof e&&(r=e,e=void 0),c.Writable.prototype.end.call(this,e,t,r)},f.prototype.setTimeout=function(e,t){var r=this;t&&r.once("timeout",t),r._socketTimeout=e,r._resetTimers(!1)},f.prototype.flushHeaders=function(){},f.prototype.setNoDelay=function(){},f.prototype.setSocketKeepAlive=function(){};var h=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"]},67343:(e,t,r)=>{var n=r(12695),o=r(97866).Buffer,i=r(56812),s=r(23730),a=r(29142),c=t.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},u=t.IncomingMessage=function(e,t,r,s){var c=this;if(a.Readable.call(c),c._mode=r,c.headers={},c.rawHeaders=[],c.trailers={},c.rawTrailers=[],c.on("end",(function(){n.nextTick((function(){c.emit("close")}))})),"fetch"===r){if(c._fetchResponse=t,c.url=t.url,c.statusCode=t.status,c.statusMessage=t.statusText,t.headers.forEach((function(e,t){c.headers[t.toLowerCase()]=e,c.rawHeaders.push(t,e)})),i.writableStream){var u=new WritableStream({write:function(e){return s(!1),new Promise((function(t,r){c._destroyed?r():c.push(o.from(e))?t():c._resumeFetch=t}))},close:function(){s(!0),c._destroyed||c.push(null)},abort:function(e){s(!0),c._destroyed||c.emit("error",e)}});try{return void t.body.pipeTo(u).catch((function(e){s(!0),c._destroyed||c.emit("error",e)}))}catch(e){}}var l=t.body.getReader();!function e(){l.read().then((function(t){c._destroyed||(s(t.done),t.done?c.push(null):(c.push(o.from(t.value)),e()))})).catch((function(e){s(!0),c._destroyed||c.emit("error",e)}))}()}else if(c._xhr=e,c._pos=0,c.url=e.responseURL,c.statusCode=e.status,c.statusMessage=e.statusText,e.getAllResponseHeaders().split(/\r?\n/).forEach((function(e){var t=e.match(/^([^:]+):\s*(.*)/);if(t){var r=t[1].toLowerCase();"set-cookie"===r?(void 0===c.headers[r]&&(c.headers[r]=[]),c.headers[r].push(t[2])):void 0!==c.headers[r]?c.headers[r]+=", "+t[2]:c.headers[r]=t[2],c.rawHeaders.push(t[1],t[2])}})),c._charset="x-user-defined",!i.overrideMimeType){var f=c.rawHeaders["mime-type"];if(f){var h=f.match(/;\s*charset=([^;])(;|$)/);h&&(c._charset=h[1].toLowerCase())}c._charset||(c._charset="utf-8")}};s(u,a.Readable),u.prototype._read=function(){var e=this._resumeFetch;e&&(this._resumeFetch=null,e())},u.prototype._onXHRProgress=function(e){var t=this,n=t._xhr,i=null;switch(t._mode){case"text":if((i=n.responseText).length>t._pos){var s=i.substr(t._pos);if("x-user-defined"===t._charset){for(var a=o.alloc(s.length),u=0;u<s.length;u++)a[u]=255&s.charCodeAt(u);t.push(a)}else t.push(s,t._charset);t._pos=i.length}break;case"arraybuffer":if(n.readyState!==c.DONE||!n.response)break;i=n.response,t.push(o.from(new Uint8Array(i)));break;case"moz-chunked-arraybuffer":if(i=n.response,n.readyState!==c.LOADING||!i)break;t.push(o.from(new Uint8Array(i)));break;case"ms-stream":if(i=n.response,n.readyState!==c.LOADING)break;var l=new r.g.MSStreamReader;l.onprogress=function(){l.result.byteLength>t._pos&&(t.push(o.from(new Uint8Array(l.result.slice(t._pos)))),t._pos=l.result.byteLength)},l.onload=function(){e(!0),t.push(null)},l.readAsArrayBuffer(i)}t._xhr.readyState===c.DONE&&"ms-stream"!==t._mode&&(e(!0),t.push(null))}},37361:(e,t,r)=>{var n=r(49685).Buffer,o=n.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function i(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(n.isEncoding===o||!o(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=c,this.end=u,t=4;break;case"utf8":this.fillLast=a,t=4;break;case"base64":this.text=l,this.end=f,t=3;break;default:return this.write=h,void(this.end=p)}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(t)}function s(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function a(e){var t=this.lastTotal-this.lastNeed,r=function(e,t,r){if(128!=(192&t[0]))return e.lastNeed=0,"�";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"�";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,"�"}}(this,e);return void 0!==r?r:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function c(e,t){if((e.length-t)%2==0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function u(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function l(e,t){var r=(e.length-t)%3;return 0===r?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function f(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function h(e){return e.toString(this.encoding)}function p(e){return e&&e.length?this.write(e):""}t.StringDecoder=i,i.prototype.write=function(e){if(0===e.length)return"";var t,r;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},i.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"�":t},i.prototype.text=function(e,t){var r=function(e,t,r){var n=t.length-1;if(n<r)return 0;var o=s(t[n]);return o>=0?(o>0&&(e.lastNeed=o-1),o):--n<r||-2===o?0:(o=s(t[n]))>=0?(o>0&&(e.lastNeed=o-2),o):--n<r||-2===o?0:(o=s(t[n]))>=0?(o>0&&(2===o?o=0:e.lastNeed=o-3),o):0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)},i.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},3654:function(e,t){!function(e){function t(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];if(t.length>1){t[0]=t[0].slice(0,-1);for(var n=t.length-1,o=1;o<n;++o)t[o]=t[o].slice(1,-1);return t[n]=t[n].slice(1),t.join("")}return t[0]}function r(e){return"(?:"+e+")"}function n(e){return void 0===e?"undefined":null===e?"null":Object.prototype.toString.call(e).split(" ").pop().split("]").shift().toLowerCase()}function o(e){return e.toUpperCase()}function i(e){var n="[A-Za-z]",o="[0-9]",i=t(o,"[A-Fa-f]"),s=r(r("%[EFef]"+i+"%"+i+i+"%"+i+i)+"|"+r("%[89A-Fa-f]"+i+"%"+i+i)+"|"+r("%"+i+i)),a="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",c=t("[\\:\\/\\?\\#\\[\\]\\@]",a),u=e?"[\\uE000-\\uF8FF]":"[]",l=t(n,o,"[\\-\\.\\_\\~]",e?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]"),f=r(n+t(n,o,"[\\+\\-\\.]")+"*"),h=r(r(s+"|"+t(l,a,"[\\:]"))+"*"),p=(r(r("25[0-5]")+"|"+r("2[0-4][0-9]")+"|"+r("1[0-9][0-9]")+"|"+r("[1-9][0-9]")+"|"+o),r(r("25[0-5]")+"|"+r("2[0-4][0-9]")+"|"+r("1[0-9][0-9]")+"|"+r("0?[1-9][0-9]")+"|0?0?"+o)),d=r(p+"\\."+p+"\\."+p+"\\."+p),y=r(i+"{1,4}"),b=r(r(y+"\\:"+y)+"|"+d),m=r(r(y+"\\:")+"{6}"+b),v=r("\\:\\:"+r(y+"\\:")+"{5}"+b),g=r(r(y)+"?\\:\\:"+r(y+"\\:")+"{4}"+b),w=r(r(r(y+"\\:")+"{0,1}"+y)+"?\\:\\:"+r(y+"\\:")+"{3}"+b),_=r(r(r(y+"\\:")+"{0,2}"+y)+"?\\:\\:"+r(y+"\\:")+"{2}"+b),S=r(r(r(y+"\\:")+"{0,3}"+y)+"?\\:\\:"+y+"\\:"+b),O=r(r(r(y+"\\:")+"{0,4}"+y)+"?\\:\\:"+b),E=r(r(r(y+"\\:")+"{0,5}"+y)+"?\\:\\:"+y),T=r(r(r(y+"\\:")+"{0,6}"+y)+"?\\:\\:"),x=r([m,v,g,w,_,S,O,E,T].join("|")),A=r(r(l+"|"+s)+"+"),P=(r(x+"\\%25"+A),r(x+r("\\%25|\\%(?!"+i+"{2})")+A)),$=r("[vV]"+i+"+\\."+t(l,a,"[\\:]")+"+"),j=r("\\["+r(P+"|"+x+"|"+$)+"\\]"),R=r(r(s+"|"+t(l,a))+"*"),C=r(j+"|"+d+"(?!"+R+")|"+R),I=r("[0-9]*"),N=r(r(h+"@")+"?"+C+r("\\:"+I)+"?"),k=r(s+"|"+t(l,a,"[\\:\\@]")),M=r(k+"*"),F=r(k+"+"),L=r(r(s+"|"+t(l,a,"[\\@]"))+"+"),D=r(r("\\/"+M)+"*"),U=r("\\/"+r(F+D)+"?"),B=r(L+D),q=r(F+D),V="(?!"+k+")",W=(r(D+"|"+U+"|"+B+"|"+q+"|"+V),r(r(k+"|"+t("[\\/\\?]",u))+"*")),z=r(r(k+"|[\\/\\?]")+"*"),H=r(r("\\/\\/"+N+D)+"|"+U+"|"+q+"|"+V),G=r(f+"\\:"+H+r("\\?"+W)+"?"+r("\\#"+z)+"?"),Y=r(r("\\/\\/"+N+D)+"|"+U+"|"+B+"|"+V),J=r(Y+r("\\?"+W)+"?"+r("\\#"+z)+"?");return r(G+"|"+J),r(f+"\\:"+H+r("\\?"+W)+"?"),r(r("\\/\\/("+r("("+h+")@")+"?("+C+")"+r("\\:("+I+")")+"?)")+"?("+D+"|"+U+"|"+q+"|"+V+")"),r("\\?("+W+")"),r("\\#("+z+")"),r(r("\\/\\/("+r("("+h+")@")+"?("+C+")"+r("\\:("+I+")")+"?)")+"?("+D+"|"+U+"|"+B+"|"+V+")"),r("\\?("+W+")"),r("\\#("+z+")"),r(r("\\/\\/("+r("("+h+")@")+"?("+C+")"+r("\\:("+I+")")+"?)")+"?("+D+"|"+U+"|"+q+"|"+V+")"),r("\\?("+W+")"),r("\\#("+z+")"),r("("+h+")@"),r("\\:("+I+")"),{NOT_SCHEME:new RegExp(t("[^]",n,o,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(t("[^\\%\\:]",l,a),"g"),NOT_HOST:new RegExp(t("[^\\%\\[\\]\\:]",l,a),"g"),NOT_PATH:new RegExp(t("[^\\%\\/\\:\\@]",l,a),"g"),NOT_PATH_NOSCHEME:new RegExp(t("[^\\%\\/\\@]",l,a),"g"),NOT_QUERY:new RegExp(t("[^\\%]",l,a,"[\\:\\@\\/\\?]",u),"g"),NOT_FRAGMENT:new RegExp(t("[^\\%]",l,a,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(t("[^]",l,a),"g"),UNRESERVED:new RegExp(l,"g"),OTHER_CHARS:new RegExp(t("[^\\%]",l,c),"g"),PCT_ENCODED:new RegExp(s,"g"),IPV4ADDRESS:new RegExp("^("+d+")$"),IPV6ADDRESS:new RegExp("^\\[?("+x+")"+r(r("\\%25|\\%(?!"+i+"{2})")+"("+A+")")+"?\\]?$")}}var s=i(!1),a=i(!0),c=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,o=!1,i=void 0;try{for(var s,a=e[Symbol.iterator]();!(n=(s=a.next()).done)&&(r.push(s.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{!n&&a.return&&a.return()}finally{if(o)throw i}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},u=2147483647,l=36,f=/^xn--/,h=/[^\0-\x7E]/,p=/[\x2E\u3002\uFF0E\uFF61]/g,d={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},y=Math.floor,b=String.fromCharCode;function m(e){throw new RangeError(d[e])}function v(e,t){var r=e.split("@"),n="";return r.length>1&&(n=r[0]+"@",e=r[1]),n+function(e,t){for(var r=[],n=e.length;n--;)r[n]=t(e[n]);return r}((e=e.replace(p,".")).split("."),t).join(".")}function g(e){for(var t=[],r=0,n=e.length;r<n;){var o=e.charCodeAt(r++);if(o>=55296&&o<=56319&&r<n){var i=e.charCodeAt(r++);56320==(64512&i)?t.push(((1023&o)<<10)+(1023&i)+65536):(t.push(o),r--)}else t.push(o)}return t}var w=function(e,t){return e+22+75*(e<26)-((0!=t)<<5)},_=function(e,t,r){var n=0;for(e=r?y(e/700):e>>1,e+=y(e/t);e>455;n+=l)e=y(e/35);return y(n+36*e/(e+38))},S=function(e){var t,r=[],n=e.length,o=0,i=128,s=72,a=e.lastIndexOf("-");a<0&&(a=0);for(var c=0;c<a;++c)e.charCodeAt(c)>=128&&m("not-basic"),r.push(e.charCodeAt(c));for(var f=a>0?a+1:0;f<n;){for(var h=o,p=1,d=l;;d+=l){f>=n&&m("invalid-input");var b=(t=e.charCodeAt(f++))-48<10?t-22:t-65<26?t-65:t-97<26?t-97:l;(b>=l||b>y((u-o)/p))&&m("overflow"),o+=b*p;var v=d<=s?1:d>=s+26?26:d-s;if(b<v)break;var g=l-v;p>y(u/g)&&m("overflow"),p*=g}var w=r.length+1;s=_(o-h,w,0==h),y(o/w)>u-i&&m("overflow"),i+=y(o/w),o%=w,r.splice(o++,0,i)}return String.fromCodePoint.apply(String,r)},O=function(e){var t=[],r=(e=g(e)).length,n=128,o=0,i=72,s=!0,a=!1,c=void 0;try{for(var f,h=e[Symbol.iterator]();!(s=(f=h.next()).done);s=!0){var p=f.value;p<128&&t.push(b(p))}}catch(e){a=!0,c=e}finally{try{!s&&h.return&&h.return()}finally{if(a)throw c}}var d=t.length,v=d;for(d&&t.push("-");v<r;){var S=u,O=!0,E=!1,T=void 0;try{for(var x,A=e[Symbol.iterator]();!(O=(x=A.next()).done);O=!0){var P=x.value;P>=n&&P<S&&(S=P)}}catch(e){E=!0,T=e}finally{try{!O&&A.return&&A.return()}finally{if(E)throw T}}var $=v+1;S-n>y((u-o)/$)&&m("overflow"),o+=(S-n)*$,n=S;var j=!0,R=!1,C=void 0;try{for(var I,N=e[Symbol.iterator]();!(j=(I=N.next()).done);j=!0){var k=I.value;if(k<n&&++o>u&&m("overflow"),k==n){for(var M=o,F=l;;F+=l){var L=F<=i?1:F>=i+26?26:F-i;if(M<L)break;var D=M-L,U=l-L;t.push(b(w(L+D%U,0))),M=y(D/U)}t.push(b(w(M,0))),i=_(o,$,v==d),o=0,++v}}}catch(e){R=!0,C=e}finally{try{!j&&N.return&&N.return()}finally{if(R)throw C}}++o,++n}return t.join("")},E=function(e){return v(e,(function(e){return h.test(e)?"xn--"+O(e):e}))},T=function(e){return v(e,(function(e){return f.test(e)?S(e.slice(4).toLowerCase()):e}))},x={};function A(e){var t=e.charCodeAt(0);return t<16?"%0"+t.toString(16).toUpperCase():t<128?"%"+t.toString(16).toUpperCase():t<2048?"%"+(t>>6|192).toString(16).toUpperCase()+"%"+(63&t|128).toString(16).toUpperCase():"%"+(t>>12|224).toString(16).toUpperCase()+"%"+(t>>6&63|128).toString(16).toUpperCase()+"%"+(63&t|128).toString(16).toUpperCase()}function P(e){for(var t="",r=0,n=e.length;r<n;){var o=parseInt(e.substr(r+1,2),16);if(o<128)t+=String.fromCharCode(o),r+=3;else if(o>=194&&o<224){if(n-r>=6){var i=parseInt(e.substr(r+4,2),16);t+=String.fromCharCode((31&o)<<6|63&i)}else t+=e.substr(r,6);r+=6}else if(o>=224){if(n-r>=9){var s=parseInt(e.substr(r+4,2),16),a=parseInt(e.substr(r+7,2),16);t+=String.fromCharCode((15&o)<<12|(63&s)<<6|63&a)}else t+=e.substr(r,9);r+=9}else t+=e.substr(r,3),r+=3}return t}function $(e,t){function r(e){var r=P(e);return r.match(t.UNRESERVED)?r:e}return e.scheme&&(e.scheme=String(e.scheme).replace(t.PCT_ENCODED,r).toLowerCase().replace(t.NOT_SCHEME,"")),void 0!==e.userinfo&&(e.userinfo=String(e.userinfo).replace(t.PCT_ENCODED,r).replace(t.NOT_USERINFO,A).replace(t.PCT_ENCODED,o)),void 0!==e.host&&(e.host=String(e.host).replace(t.PCT_ENCODED,r).toLowerCase().replace(t.NOT_HOST,A).replace(t.PCT_ENCODED,o)),void 0!==e.path&&(e.path=String(e.path).replace(t.PCT_ENCODED,r).replace(e.scheme?t.NOT_PATH:t.NOT_PATH_NOSCHEME,A).replace(t.PCT_ENCODED,o)),void 0!==e.query&&(e.query=String(e.query).replace(t.PCT_ENCODED,r).replace(t.NOT_QUERY,A).replace(t.PCT_ENCODED,o)),void 0!==e.fragment&&(e.fragment=String(e.fragment).replace(t.PCT_ENCODED,r).replace(t.NOT_FRAGMENT,A).replace(t.PCT_ENCODED,o)),e}function j(e){return e.replace(/^0*(.*)/,"$1")||"0"}function R(e,t){var r=e.match(t.IPV4ADDRESS)||[],n=c(r,2)[1];return n?n.split(".").map(j).join("."):e}function C(e,t){var r=e.match(t.IPV6ADDRESS)||[],n=c(r,3),o=n[1],i=n[2];if(o){for(var s=o.toLowerCase().split("::").reverse(),a=c(s,2),u=a[0],l=a[1],f=l?l.split(":").map(j):[],h=u.split(":").map(j),p=t.IPV4ADDRESS.test(h[h.length-1]),d=p?7:8,y=h.length-d,b=Array(d),m=0;m<d;++m)b[m]=f[m]||h[y+m]||"";p&&(b[d-1]=R(b[d-1],t));var v=b.reduce((function(e,t,r){if(!t||"0"===t){var n=e[e.length-1];n&&n.index+n.length===r?n.length++:e.push({index:r,length:1})}return e}),[]).sort((function(e,t){return t.length-e.length}))[0],g=void 0;if(v&&v.length>1){var w=b.slice(0,v.index),_=b.slice(v.index+v.length);g=w.join(":")+"::"+_.join(":")}else g=b.join(":");return i&&(g+="%"+i),g}return e}var I=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,N=void 0==="".match(/(){0}/)[1];function k(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r={},n=!1!==t.iri?a:s;"suffix"===t.reference&&(e=(t.scheme?t.scheme+":":"")+"//"+e);var o=e.match(I);if(o){N?(r.scheme=o[1],r.userinfo=o[3],r.host=o[4],r.port=parseInt(o[5],10),r.path=o[6]||"",r.query=o[7],r.fragment=o[8],isNaN(r.port)&&(r.port=o[5])):(r.scheme=o[1]||void 0,r.userinfo=-1!==e.indexOf("@")?o[3]:void 0,r.host=-1!==e.indexOf("//")?o[4]:void 0,r.port=parseInt(o[5],10),r.path=o[6]||"",r.query=-1!==e.indexOf("?")?o[7]:void 0,r.fragment=-1!==e.indexOf("#")?o[8]:void 0,isNaN(r.port)&&(r.port=e.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?o[4]:void 0)),r.host&&(r.host=C(R(r.host,n),n)),void 0!==r.scheme||void 0!==r.userinfo||void 0!==r.host||void 0!==r.port||r.path||void 0!==r.query?void 0===r.scheme?r.reference="relative":void 0===r.fragment?r.reference="absolute":r.reference="uri":r.reference="same-document",t.reference&&"suffix"!==t.reference&&t.reference!==r.reference&&(r.error=r.error||"URI is not a "+t.reference+" reference.");var i=x[(t.scheme||r.scheme||"").toLowerCase()];if(t.unicodeSupport||i&&i.unicodeSupport)$(r,n);else{if(r.host&&(t.domainHost||i&&i.domainHost))try{r.host=E(r.host.replace(n.PCT_ENCODED,P).toLowerCase())}catch(e){r.error=r.error||"Host's domain name can not be converted to ASCII via punycode: "+e}$(r,s)}i&&i.parse&&i.parse(r,t)}else r.error=r.error||"URI can not be parsed.";return r}function M(e,t){var r=!1!==t.iri?a:s,n=[];return void 0!==e.userinfo&&(n.push(e.userinfo),n.push("@")),void 0!==e.host&&n.push(C(R(String(e.host),r),r).replace(r.IPV6ADDRESS,(function(e,t,r){return"["+t+(r?"%25"+r:"")+"]"}))),"number"!=typeof e.port&&"string"!=typeof e.port||(n.push(":"),n.push(String(e.port))),n.length?n.join(""):void 0}var F=/^\.\.?\//,L=/^\/\.(\/|$)/,D=/^\/\.\.(\/|$)/,U=/^\/?(?:.|\n)*?(?=\/|$)/;function B(e){for(var t=[];e.length;)if(e.match(F))e=e.replace(F,"");else if(e.match(L))e=e.replace(L,"/");else if(e.match(D))e=e.replace(D,"/"),t.pop();else if("."===e||".."===e)e="";else{var r=e.match(U);if(!r)throw new Error("Unexpected dot segment condition");var n=r[0];e=e.slice(n.length),t.push(n)}return t.join("")}function q(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.iri?a:s,n=[],o=x[(t.scheme||e.scheme||"").toLowerCase()];if(o&&o.serialize&&o.serialize(e,t),e.host)if(r.IPV6ADDRESS.test(e.host));else if(t.domainHost||o&&o.domainHost)try{e.host=t.iri?T(e.host):E(e.host.replace(r.PCT_ENCODED,P).toLowerCase())}catch(r){e.error=e.error||"Host's domain name can not be converted to "+(t.iri?"Unicode":"ASCII")+" via punycode: "+r}$(e,r),"suffix"!==t.reference&&e.scheme&&(n.push(e.scheme),n.push(":"));var i=M(e,t);if(void 0!==i&&("suffix"!==t.reference&&n.push("//"),n.push(i),e.path&&"/"!==e.path.charAt(0)&&n.push("/")),void 0!==e.path){var c=e.path;t.absolutePath||o&&o.absolutePath||(c=B(c)),void 0===i&&(c=c.replace(/^\/\//,"/%2F")),n.push(c)}return void 0!==e.query&&(n.push("?"),n.push(e.query)),void 0!==e.fragment&&(n.push("#"),n.push(e.fragment)),n.join("")}function V(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n={};return arguments[3]||(e=k(q(e,r),r),t=k(q(t,r),r)),!(r=r||{}).tolerant&&t.scheme?(n.scheme=t.scheme,n.userinfo=t.userinfo,n.host=t.host,n.port=t.port,n.path=B(t.path||""),n.query=t.query):(void 0!==t.userinfo||void 0!==t.host||void 0!==t.port?(n.userinfo=t.userinfo,n.host=t.host,n.port=t.port,n.path=B(t.path||""),n.query=t.query):(t.path?("/"===t.path.charAt(0)?n.path=B(t.path):(void 0===e.userinfo&&void 0===e.host&&void 0===e.port||e.path?e.path?n.path=e.path.slice(0,e.path.lastIndexOf("/")+1)+t.path:n.path=t.path:n.path="/"+t.path,n.path=B(n.path)),n.query=t.query):(n.path=e.path,void 0!==t.query?n.query=t.query:n.query=e.query),n.userinfo=e.userinfo,n.host=e.host,n.port=e.port),n.scheme=e.scheme),n.fragment=t.fragment,n}function W(e,t){return e&&e.toString().replace(t&&t.iri?a.PCT_ENCODED:s.PCT_ENCODED,P)}var z={scheme:"http",domainHost:!0,parse:function(e,t){return e.host||(e.error=e.error||"HTTP URIs must have a host."),e},serialize:function(e,t){var r="https"===String(e.scheme).toLowerCase();return e.port!==(r?443:80)&&""!==e.port||(e.port=void 0),e.path||(e.path="/"),e}},H={scheme:"https",domainHost:z.domainHost,parse:z.parse,serialize:z.serialize};function G(e){return"boolean"==typeof e.secure?e.secure:"wss"===String(e.scheme).toLowerCase()}var Y={scheme:"ws",domainHost:!0,parse:function(e,t){var r=e;return r.secure=G(r),r.resourceName=(r.path||"/")+(r.query?"?"+r.query:""),r.path=void 0,r.query=void 0,r},serialize:function(e,t){if(e.port!==(G(e)?443:80)&&""!==e.port||(e.port=void 0),"boolean"==typeof e.secure&&(e.scheme=e.secure?"wss":"ws",e.secure=void 0),e.resourceName){var r=e.resourceName.split("?"),n=c(r,2),o=n[0],i=n[1];e.path=o&&"/"!==o?o:void 0,e.query=i,e.resourceName=void 0}return e.fragment=void 0,e}},J={scheme:"wss",domainHost:Y.domainHost,parse:Y.parse,serialize:Y.serialize},K={},X="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",Q="[0-9A-Fa-f]",Z=r(r("%[EFef][0-9A-Fa-f]%"+Q+Q+"%"+Q+Q)+"|"+r("%[89A-Fa-f][0-9A-Fa-f]%"+Q+Q)+"|"+r("%"+Q+Q)),ee=t("[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",'[\\"\\\\]'),te=new RegExp(X,"g"),re=new RegExp(Z,"g"),ne=new RegExp(t("[^]","[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]","[\\.]",'[\\"]',ee),"g"),oe=new RegExp(t("[^]",X,"[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]"),"g"),ie=oe;function se(e){var t=P(e);return t.match(te)?t:e}var ae={scheme:"mailto",parse:function(e,t){var r=e,n=r.to=r.path?r.path.split(","):[];if(r.path=void 0,r.query){for(var o=!1,i={},s=r.query.split("&"),a=0,c=s.length;a<c;++a){var u=s[a].split("=");switch(u[0]){case"to":for(var l=u[1].split(","),f=0,h=l.length;f<h;++f)n.push(l[f]);break;case"subject":r.subject=W(u[1],t);break;case"body":r.body=W(u[1],t);break;default:o=!0,i[W(u[0],t)]=W(u[1],t)}}o&&(r.headers=i)}r.query=void 0;for(var p=0,d=n.length;p<d;++p){var y=n[p].split("@");if(y[0]=W(y[0]),t.unicodeSupport)y[1]=W(y[1],t).toLowerCase();else try{y[1]=E(W(y[1],t).toLowerCase())}catch(e){r.error=r.error||"Email address's domain name can not be converted to ASCII via punycode: "+e}n[p]=y.join("@")}return r},serialize:function(e,t){var r,n=e,i=null!=(r=e.to)?r instanceof Array?r:"number"!=typeof r.length||r.split||r.setInterval||r.call?[r]:Array.prototype.slice.call(r):[];if(i){for(var s=0,a=i.length;s<a;++s){var c=String(i[s]),u=c.lastIndexOf("@"),l=c.slice(0,u).replace(re,se).replace(re,o).replace(ne,A),f=c.slice(u+1);try{f=t.iri?T(f):E(W(f,t).toLowerCase())}catch(e){n.error=n.error||"Email address's domain name can not be converted to "+(t.iri?"Unicode":"ASCII")+" via punycode: "+e}i[s]=l+"@"+f}n.path=i.join(",")}var h=e.headers=e.headers||{};e.subject&&(h.subject=e.subject),e.body&&(h.body=e.body);var p=[];for(var d in h)h[d]!==K[d]&&p.push(d.replace(re,se).replace(re,o).replace(oe,A)+"="+h[d].replace(re,se).replace(re,o).replace(ie,A));return p.length&&(n.query=p.join("&")),n}},ce=/^([^\:]+)\:(.*)/,ue={scheme:"urn",parse:function(e,t){var r=e.path&&e.path.match(ce),n=e;if(r){var o=t.scheme||n.scheme||"urn",i=r[1].toLowerCase(),s=r[2],a=o+":"+(t.nid||i),c=x[a];n.nid=i,n.nss=s,n.path=void 0,c&&(n=c.parse(n,t))}else n.error=n.error||"URN can not be parsed.";return n},serialize:function(e,t){var r=t.scheme||e.scheme||"urn",n=e.nid,o=r+":"+(t.nid||n),i=x[o];i&&(e=i.serialize(e,t));var s=e,a=e.nss;return s.path=(n||t.nid)+":"+a,s}},le=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,fe={scheme:"urn:uuid",parse:function(e,t){var r=e;return r.uuid=r.nss,r.nss=void 0,t.tolerant||r.uuid&&r.uuid.match(le)||(r.error=r.error||"UUID is not valid."),r},serialize:function(e,t){var r=e;return r.nss=(e.uuid||"").toLowerCase(),r}};x[z.scheme]=z,x[H.scheme]=H,x[Y.scheme]=Y,x[J.scheme]=J,x[ae.scheme]=ae,x[ue.scheme]=ue,x[fe.scheme]=fe,e.SCHEMES=x,e.pctEncChar=A,e.pctDecChars=P,e.parse=k,e.removeDotSegments=B,e.serialize=q,e.resolveComponents=V,e.resolve=function(e,t,r){var n=function(e,t){var r=e;if(t)for(var n in t)r[n]=t[n];return r}({scheme:"null"},r);return q(V(k(e,n),k(t,n),n,!0),n)},e.normalize=function(e,t){return"string"==typeof e?e=q(k(e,t),t):"object"===n(e)&&(e=k(q(e,t),t)),e},e.equal=function(e,t,r){return"string"==typeof e?e=q(k(e,r),r):"object"===n(e)&&(e=q(e,r)),"string"==typeof t?t=q(k(t,r),r):"object"===n(t)&&(t=q(t,r)),e===t},e.escapeComponent=function(e,t){return e&&e.toString().replace(t&&t.iri?a.ESCAPE:s.ESCAPE,A)},e.unescapeComponent=W,Object.defineProperty(e,"__esModule",{value:!0})}(t)},4310:e=>{!function(t){var r=function(){function e(e){this.options=e}return e.prototype.toString=function(){return JSON&&JSON.stringify?JSON.stringify(this.options):this.options},e}(),n={isArray:function(e){return"[object Array]"===Object.prototype.toString.apply(e)},isString:function(e){return"[object String]"===Object.prototype.toString.apply(e)},isNumber:function(e){return"[object Number]"===Object.prototype.toString.apply(e)},isBoolean:function(e){return"[object Boolean]"===Object.prototype.toString.apply(e)},join:function(e,t){var r,n="",o=!0;for(r=0;r<e.length;r+=1)o?o=!1:n+=t,n+=e[r];return n},map:function(e,t){for(var r=[],n=0;n<e.length;n+=1)r.push(t(e[n]));return r},filter:function(e,t){for(var r=[],n=0;n<e.length;n+=1)t(e[n])&&r.push(e[n]);return r},deepFreeze:function e(t){return"function"==typeof Object.freeze?function(t){if("object"!=typeof t||null===t)return t;var r,n;for(n in Object.freeze(t),t)t.hasOwnProperty(n)&&"object"==typeof(r=t[n])&&e(r);return t}(t):t}},o=function(){function e(e){return e>="0"&&e<="9"}return{isAlpha:function(e){return e>="a"&&e<="z"||e>="A"&&e<="Z"},isDigit:e,isHexDigit:function(t){return e(t)||t>="a"&&t<="f"||t>="A"&&t<="F"}}}(),i=function(){var e=function(e){return e<=127?1:194<=e&&e<=223?2:224<=e&&e<=239?3:240<=e&&e<=244?4:0},t=function(e){return 128<=e&&e<=191};function r(e,t){return"%"===e.charAt(t)&&o.isHexDigit(e.charAt(t+1))&&o.isHexDigit(e.charAt(t+2))}function n(e,t){return parseInt(e.substr(t,2),16)}return{encodeCharacter:function(e){var t,r,n="",o=function(e){return unescape(encodeURIComponent(e))}(e);for(r=0;r<o.length;r+=1)n+="%"+((t=o.charCodeAt(r))<16?"0":"")+t.toString(16).toUpperCase();return n},isPctEncoded:function(o){if(!r(o,0))return!1;var i=n(o,1),s=e(i);if(0===s)return!1;for(var a=1;a<s;a+=1)if(!r(o,3*a)||!t(n(o,3*a+1)))return!1;return!0},pctCharAt:function(o,i){var s=o.charAt(i);if(!r(o,i))return s;var a=n(o,i+1),c=e(a);if(0===c)return s;for(var u=1;u<c;u+=1)if(!r(o,i+3*u)||!t(n(o,i+3*u+1)))return s;return o.substr(i,3*c)}}}(),s=function(e){return o.isAlpha(e)||o.isDigit(e)||"_"===e||i.isPctEncoded(e)},a=function(e){return o.isAlpha(e)||o.isDigit(e)||"-"===e||"."===e||"_"===e||"~"===e},c=function(e){return":"===e||"/"===e||"?"===e||"#"===e||"["===e||"]"===e||"@"===e||"!"===e||"$"===e||"&"===e||"("===e||")"===e||"*"===e||"+"===e||","===e||";"===e||"="===e||"'"===e},u=function(){function e(e,t){var r,n="",o="";for("number"!=typeof e&&"boolean"!=typeof e||(e=e.toString()),r=0;r<e.length;r+=o.length)o=e.charAt(r),n+=a(o)||t&&c(o)?o:i.encodeCharacter(o);return n}return{encode:e,encodePassReserved:function(t){return e(t,!0)},encodeLiteral:function(e){var t,r="",n="";for(t=0;t<e.length;t+=n.length)(n=i.pctCharAt(e,t)).length>1?r+=n:r+=c(n)||a(n)?n:i.encodeCharacter(n);return r},encodeLiteralCharacter:function(e,t){var r=i.pctCharAt(e,t);return r.length>1||c(r)||a(r)?r:i.encodeCharacter(r)}}}(),l=function(){var e={};function t(t){e[t]={symbol:t,separator:"?"===t?"&":""===t||"+"===t||"#"===t?",":t,named:";"===t||"&"===t||"?"===t,ifEmpty:"&"===t||"?"===t?"=":"",first:"+"===t?"":t,encode:"+"===t||"#"===t?u.encodePassReserved:u.encode,toString:function(){return this.symbol}}}return t(""),t("+"),t("#"),t("."),t("/"),t(";"),t("?"),t("&"),{valueOf:function(t){return e[t]?e[t]:"=,!@|".indexOf(t)>=0?null:e[""]}}}();function f(e){var t;if(null==e)return!1;if(n.isArray(e))return e.length>0;if("string"==typeof e||"number"==typeof e||"boolean"==typeof e)return!0;for(t in e)if(e.hasOwnProperty(t)&&f(e[t]))return!0;return!1}var h=function(){function e(e){this.literal=u.encodeLiteral(e)}return e.prototype.expand=function(){return this.literal},e.prototype.toString=e.prototype.expand,e}(),p=function(){function e(e){var t,n,a=[],c=null,u=null,f=null,h="";function p(){var t=e.substring(u,n);if(0===t.length)throw new r({expressionText:e,message:"a varname must be specified",position:n});c={varname:t,exploded:!1,maxLength:null},u=null}function y(){if(f===n)throw new r({expressionText:e,message:"after a ':' you have to specify the length",position:n});c.maxLength=parseInt(e.substring(f,n),10),f=null}for(t=function(t){var o=l.valueOf(t);if(null===o)throw new r({expressionText:e,message:"illegal use of reserved operator",position:n,operator:t});return o}(e.charAt(0)),n=t.symbol.length,u=n;n<e.length;n+=h.length){if(h=i.pctCharAt(e,n),null!==u){if("."===h){if(u===n)throw new r({expressionText:e,message:"a varname MUST NOT start with a dot",position:n});continue}if(s(h))continue;p()}if(null!==f){if(n===f&&"0"===h)throw new r({expressionText:e,message:"A :prefix must not start with digit 0",position:n});if(o.isDigit(h)){if(n-f>=4)throw new r({expressionText:e,message:"A :prefix must have max 4 digits",position:n});continue}y()}if(":"!==h)if("*"!==h){if(","!==h)throw new r({expressionText:e,message:"illegal character",character:h,position:n});a.push(c),c=null,u=n+1}else{if(null===c)throw new r({expressionText:e,message:"exploded without varspec",position:n});if(c.exploded)throw new r({expressionText:e,message:"exploded twice",position:n});if(c.maxLength)throw new r({expressionText:e,message:"an explode (*) MUST NOT follow to a prefix",position:n});c.exploded=!0}else{if(null!==c.maxLength)throw new r({expressionText:e,message:"only one :maxLength is allowed per varspec",position:n});if(c.exploded)throw new r({expressionText:e,message:"an exploeded varspec MUST NOT be varspeced",position:n});f=n+1}}return null!==u&&p(),null!==f&&y(),a.push(c),new d(e,t,a)}return function(t){var n,o,i=[],s=null,a=0;for(n=0;n<t.length;n+=1)if(o=t.charAt(n),null===a){if(null===s)throw new Error("reached unreachable code");if("{"===o)throw new r({templateText:t,message:"brace already opened",position:n});if("}"===o){if(s+1===n)throw new r({templateText:t,message:"empty braces",position:s});try{i.push(e(t.substring(s+1,n)))}catch(e){if(e.prototype===r.prototype)throw new r({templateText:t,message:e.options.message,position:s+e.options.position,details:e.options});throw e}s=null,a=n+1}}else{if("}"===o)throw new r({templateText:t,message:"unopened brace closed",position:n});"{"===o&&(a<n&&i.push(new h(t.substring(a,n))),a=null,s=n)}if(null!==s)throw new r({templateText:t,message:"unclosed brace",position:s});return a<t.length&&i.push(new h(t.substr(a))),new y(t,i)}}(),d=function(){function e(e){return JSON&&JSON.stringify?JSON.stringify(e):e}function t(e){if(!f(e))return!0;if(n.isString(e))return""===e;if(n.isNumber(e)||n.isBoolean(e))return!1;if(n.isArray(e))return 0===e.length;for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}function r(e){var t,r=[];for(t in e)e.hasOwnProperty(t)&&r.push({name:t,value:e[t]});return r}function o(e,t,r){this.templateText=e,this.operator=t,this.varspecs=r}function i(e,t,r){var n="";if(r=r.toString(),t.named){if(n+=u.encodeLiteral(e.varname),""===r)return n+t.ifEmpty;n+="="}return null!==e.maxLength&&(r=r.substr(0,e.maxLength)),n+t.encode(r)}function s(e){return f(e.value)}function a(e,o,i){var a=[],c="";if(o.named){if(c+=u.encodeLiteral(e.varname),t(i))return c+o.ifEmpty;c+="="}return n.isArray(i)?(a=i,a=n.filter(a,f),a=n.map(a,o.encode),c+=n.join(a,",")):(a=r(i),a=n.filter(a,s),a=n.map(a,(function(e){return o.encode(e.name)+","+o.encode(e.value)})),c+=n.join(a,",")),c}function c(e,o,i){var a=[];return n.isArray(i)?(a=i,a=n.filter(a,f),a=n.map(a,(function(r){var n=u.encodeLiteral(e.varname);return t(r)?n+=o.ifEmpty:n+="="+o.encode(r),n}))):(a=r(i),a=n.filter(a,s),a=n.map(a,(function(e){var r=u.encodeLiteral(e.name);return t(e.value)?r+=o.ifEmpty:r+="="+o.encode(e.value),r}))),n.join(a,o.separator)}function l(e,t){var o=[],i="";return n.isArray(t)?(o=t,o=n.filter(o,f),o=n.map(o,e.encode),i+=n.join(o,e.separator)):(o=r(t),o=n.filter(o,(function(e){return f(e.value)})),o=n.map(o,(function(t){return e.encode(t.name)+"="+e.encode(t.value)})),i+=n.join(o,e.separator)),i}return o.prototype.toString=function(){return this.templateText},o.prototype.expand=function(r){var o,s,u,h=[],p=this.operator;for(o=0;o<this.varspecs.length;o+=1)if(null!=(u=r[(s=this.varspecs[o]).varname]))if(s.exploded,n.isArray(u),"string"==typeof u||"number"==typeof u||"boolean"==typeof u)h.push(i(s,p,u));else{if(s.maxLength&&f(u))throw new Error("Prefix modifiers are not applicable to variables that have composite values. You tried to expand "+this+" with "+e(u));s.exploded?f(u)&&(p.named?h.push(c(s,p,u)):h.push(l(p,u))):!p.named&&t(u)||h.push(a(s,p,u))}return 0===h.length?"":p.first+n.join(h,p.separator)},o}(),y=function(){function e(e,t){this.templateText=e,this.expressions=t,n.deepFreeze(this)}return e.prototype.toString=function(){return this.templateText},e.prototype.expand=function(e){var t,r="";for(t=0;t<this.expressions.length;t+=1)r+=this.expressions[t].expand(e);return r},e.parse=p,e.UriTemplateError=r,e}();!function(t){e.exports=t}(y)}()},12155:(e,t,r)=>{var n=r(42233),o=r(46854);function i(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}t.parse=g,t.resolve=function(e,t){return g(e,!1,!0).resolve(t)},t.resolveObject=function(e,t){return e?g(e,!1,!0).resolveObject(t):t},t.format=function(e){return o.isString(e)&&(e=g(e)),e instanceof i?e.format():i.prototype.format.call(e)},t.Url=i;var s=/^([a-z0-9.+-]+:)/i,a=/:[0-9]*$/,c=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,u=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),l=["'"].concat(u),f=["%","/","?",";","#"].concat(l),h=["/","?","#"],p=/^[+a-z0-9A-Z_-]{0,63}$/,d=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,y={javascript:!0,"javascript:":!0},b={javascript:!0,"javascript:":!0},m={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},v=r(9278);function g(e,t,r){if(e&&o.isObject(e)&&e instanceof i)return e;var n=new i;return n.parse(e,t,r),n}i.prototype.parse=function(e,t,r){if(!o.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var i=e.indexOf("?"),a=-1!==i&&i<e.indexOf("#")?"?":"#",u=e.split(a);u[0]=u[0].replace(/\\/g,"/");var g=e=u.join(a);if(g=g.trim(),!r&&1===e.split("#").length){var w=c.exec(g);if(w)return this.path=g,this.href=g,this.pathname=w[1],w[2]?(this.search=w[2],this.query=t?v.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var _=s.exec(g);if(_){var S=(_=_[0]).toLowerCase();this.protocol=S,g=g.substr(_.length)}if(r||_||g.match(/^\/\/[^@\/]+@[^@\/]+/)){var O="//"===g.substr(0,2);!O||_&&b[_]||(g=g.substr(2),this.slashes=!0)}if(!b[_]&&(O||_&&!m[_])){for(var E,T,x=-1,A=0;A<h.length;A++)-1!==(P=g.indexOf(h[A]))&&(-1===x||P<x)&&(x=P);for(-1!==(T=-1===x?g.lastIndexOf("@"):g.lastIndexOf("@",x))&&(E=g.slice(0,T),g=g.slice(T+1),this.auth=decodeURIComponent(E)),x=-1,A=0;A<f.length;A++){var P;-1!==(P=g.indexOf(f[A]))&&(-1===x||P<x)&&(x=P)}-1===x&&(x=g.length),this.host=g.slice(0,x),g=g.slice(x),this.parseHost(),this.hostname=this.hostname||"";var $="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!$)for(var j=this.hostname.split(/\./),R=(A=0,j.length);A<R;A++){var C=j[A];if(C&&!C.match(p)){for(var I="",N=0,k=C.length;N<k;N++)C.charCodeAt(N)>127?I+="x":I+=C[N];if(!I.match(p)){var M=j.slice(0,A),F=j.slice(A+1),L=C.match(d);L&&(M.push(L[1]),F.unshift(L[2])),F.length&&(g="/"+F.join(".")+g),this.hostname=M.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),$||(this.hostname=n.toASCII(this.hostname));var D=this.port?":"+this.port:"",U=this.hostname||"";this.host=U+D,this.href+=this.host,$&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==g[0]&&(g="/"+g))}if(!y[S])for(A=0,R=l.length;A<R;A++){var B=l[A];if(-1!==g.indexOf(B)){var q=encodeURIComponent(B);q===B&&(q=escape(B)),g=g.split(B).join(q)}}var V=g.indexOf("#");-1!==V&&(this.hash=g.substr(V),g=g.slice(0,V));var W=g.indexOf("?");if(-1!==W?(this.search=g.substr(W),this.query=g.substr(W+1),t&&(this.query=v.parse(this.query)),g=g.slice(0,W)):t&&(this.search="",this.query={}),g&&(this.pathname=g),m[S]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){D=this.pathname||"";var z=this.search||"";this.path=D+z}return this.href=this.format(),this},i.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",r=this.pathname||"",n=this.hash||"",i=!1,s="";this.host?i=e+this.host:this.hostname&&(i=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&o.isObject(this.query)&&Object.keys(this.query).length&&(s=v.stringify(this.query));var a=this.search||s&&"?"+s||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||m[t])&&!1!==i?(i="//"+(i||""),r&&"/"!==r.charAt(0)&&(r="/"+r)):i||(i=""),n&&"#"!==n.charAt(0)&&(n="#"+n),a&&"?"!==a.charAt(0)&&(a="?"+a),t+i+(r=r.replace(/[?#]/g,(function(e){return encodeURIComponent(e)})))+(a=a.replace("#","%23"))+n},i.prototype.resolve=function(e){return this.resolveObject(g(e,!1,!0)).format()},i.prototype.resolveObject=function(e){if(o.isString(e)){var t=new i;t.parse(e,!1,!0),e=t}for(var r=new i,n=Object.keys(this),s=0;s<n.length;s++){var a=n[s];r[a]=this[a]}if(r.hash=e.hash,""===e.href)return r.href=r.format(),r;if(e.slashes&&!e.protocol){for(var c=Object.keys(e),u=0;u<c.length;u++){var l=c[u];"protocol"!==l&&(r[l]=e[l])}return m[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r}if(e.protocol&&e.protocol!==r.protocol){if(!m[e.protocol]){for(var f=Object.keys(e),h=0;h<f.length;h++){var p=f[h];r[p]=e[p]}return r.href=r.format(),r}if(r.protocol=e.protocol,e.host||b[e.protocol])r.pathname=e.pathname;else{for(var d=(e.pathname||"").split("/");d.length&&!(e.host=d.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==d[0]&&d.unshift(""),d.length<2&&d.unshift(""),r.pathname=d.join("/")}if(r.search=e.search,r.query=e.query,r.host=e.host||"",r.auth=e.auth,r.hostname=e.hostname||e.host,r.port=e.port,r.pathname||r.search){var y=r.pathname||"",v=r.search||"";r.path=y+v}return r.slashes=r.slashes||e.slashes,r.href=r.format(),r}var g=r.pathname&&"/"===r.pathname.charAt(0),w=e.host||e.pathname&&"/"===e.pathname.charAt(0),_=w||g||r.host&&e.pathname,S=_,O=r.pathname&&r.pathname.split("/")||[],E=(d=e.pathname&&e.pathname.split("/")||[],r.protocol&&!m[r.protocol]);if(E&&(r.hostname="",r.port=null,r.host&&(""===O[0]?O[0]=r.host:O.unshift(r.host)),r.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===d[0]?d[0]=e.host:d.unshift(e.host)),e.host=null),_=_&&(""===d[0]||""===O[0])),w)r.host=e.host||""===e.host?e.host:r.host,r.hostname=e.hostname||""===e.hostname?e.hostname:r.hostname,r.search=e.search,r.query=e.query,O=d;else if(d.length)O||(O=[]),O.pop(),O=O.concat(d),r.search=e.search,r.query=e.query;else if(!o.isNullOrUndefined(e.search))return E&&(r.hostname=r.host=O.shift(),($=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=$.shift(),r.host=r.hostname=$.shift())),r.search=e.search,r.query=e.query,o.isNull(r.pathname)&&o.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r;if(!O.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var T=O.slice(-1)[0],x=(r.host||e.host||O.length>1)&&("."===T||".."===T)||""===T,A=0,P=O.length;P>=0;P--)"."===(T=O[P])?O.splice(P,1):".."===T?(O.splice(P,1),A++):A&&(O.splice(P,1),A--);if(!_&&!S)for(;A--;A)O.unshift("..");!_||""===O[0]||O[0]&&"/"===O[0].charAt(0)||O.unshift(""),x&&"/"!==O.join("/").substr(-1)&&O.push("");var $,j=""===O[0]||O[0]&&"/"===O[0].charAt(0);return E&&(r.hostname=r.host=j?"":O.length?O.shift():"",($=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=$.shift(),r.host=r.hostname=$.shift())),(_=_||r.host&&O.length)&&!j&&O.unshift(""),O.length?r.pathname=O.join("/"):(r.pathname=null,r.path=null),o.isNull(r.pathname)&&o.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=e.auth||r.auth,r.slashes=r.slashes||e.slashes,r.href=r.format(),r},i.prototype.parseHost=function(){var e=this.host,t=a.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},46854:e=>{e.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},61263:function(e){var t,r,n,o,i;t=/^((?:[a-zA-Z0-9+\-.]+:)?)(\/\/[^\/?#]*)?((?:[^\/\?#]*\/)*.*?)??(;.*?)?(\?.*?)?(#.*?)?$/,r=/^([^\/?#]*)(.*)$/,n=/(?:\/|^)\.(?=\/)/g,o=/(?:\/|^)\.\.\/(?!\.\.\/).*?(?=\/)/g,i={buildAbsoluteURL:function(e,t,n){if(n=n||{},e=e.trim(),!(t=t.trim())){if(!n.alwaysNormalize)return e;var o=i.parseURL(e);if(!o)throw new Error("Error trying to parse base URL.");return o.path=i.normalizePath(o.path),i.buildURLFromParts(o)}var s=i.parseURL(t);if(!s)throw new Error("Error trying to parse relative URL.");if(s.scheme)return n.alwaysNormalize?(s.path=i.normalizePath(s.path),i.buildURLFromParts(s)):t;var a=i.parseURL(e);if(!a)throw new Error("Error trying to parse base URL.");if(!a.netLoc&&a.path&&"/"!==a.path[0]){var c=r.exec(a.path);a.netLoc=c[1],a.path=c[2]}a.netLoc&&!a.path&&(a.path="/");var u={scheme:a.scheme,netLoc:s.netLoc,path:null,params:s.params,query:s.query,fragment:s.fragment};if(!s.netLoc&&(u.netLoc=a.netLoc,"/"!==s.path[0]))if(s.path){var l=a.path,f=l.substring(0,l.lastIndexOf("/")+1)+s.path;u.path=i.normalizePath(f)}else u.path=a.path,s.params||(u.params=a.params,s.query||(u.query=a.query));return null===u.path&&(u.path=n.alwaysNormalize?i.normalizePath(s.path):s.path),i.buildURLFromParts(u)},parseURL:function(e){var r=t.exec(e);return r?{scheme:r[1]||"",netLoc:r[2]||"",path:r[3]||"",params:r[4]||"",query:r[5]||"",fragment:r[6]||""}:null},normalizePath:function(e){for(e=e.split("").reverse().join("").replace(n,"");e.length!==(e=e.replace(o,"")).length;);return e.split("").reverse().join("")},buildURLFromParts:function(e){return e.scheme+e.netLoc+e.path+e.params+e.query+e.fragment}},e.exports=i},20072:(e,t,r)=>{var n=r(40585);function o(e){try{if(!r.g.localStorage)return!1}catch(e){return!1}var t=r.g.localStorage[e];return null!=t&&"true"===String(t).toLowerCase()}e.exports=function(e,t){if(o("noDeprecation"))return e;var r=!1;return function(){if(!r){if(o("throwDeprecation"))throw new Error(t);o("traceDeprecation")?n.trace(t):n.warn(t),r=!0}return e.apply(this,arguments)}}},96327:e=>{e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},39585:(e,t,r)=>{var n=r(32391),o=r(21266),i=r(96431),s=r(81233);function a(e){return e.call.bind(e)}var c="undefined"!=typeof BigInt,u="undefined"!=typeof Symbol,l=a(Object.prototype.toString),f=a(Number.prototype.valueOf),h=a(String.prototype.valueOf),p=a(Boolean.prototype.valueOf);if(c)var d=a(BigInt.prototype.valueOf);if(u)var y=a(Symbol.prototype.valueOf);function b(e,t){if("object"!=typeof e)return!1;try{return t(e),!0}catch(e){return!1}}function m(e){return"[object Map]"===l(e)}function v(e){return"[object Set]"===l(e)}function g(e){return"[object WeakMap]"===l(e)}function w(e){return"[object WeakSet]"===l(e)}function _(e){return"[object ArrayBuffer]"===l(e)}function S(e){return"undefined"!=typeof ArrayBuffer&&(_.working?_(e):e instanceof ArrayBuffer)}function O(e){return"[object DataView]"===l(e)}function E(e){return"undefined"!=typeof DataView&&(O.working?O(e):e instanceof DataView)}t.isArgumentsObject=n,t.isGeneratorFunction=o,t.isTypedArray=s,t.isPromise=function(e){return"undefined"!=typeof Promise&&e instanceof Promise||null!==e&&"object"==typeof e&&"function"==typeof e.then&&"function"==typeof e.catch},t.isArrayBufferView=function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):s(e)||E(e)},t.isUint8Array=function(e){return"Uint8Array"===i(e)},t.isUint8ClampedArray=function(e){return"Uint8ClampedArray"===i(e)},t.isUint16Array=function(e){return"Uint16Array"===i(e)},t.isUint32Array=function(e){return"Uint32Array"===i(e)},t.isInt8Array=function(e){return"Int8Array"===i(e)},t.isInt16Array=function(e){return"Int16Array"===i(e)},t.isInt32Array=function(e){return"Int32Array"===i(e)},t.isFloat32Array=function(e){return"Float32Array"===i(e)},t.isFloat64Array=function(e){return"Float64Array"===i(e)},t.isBigInt64Array=function(e){return"BigInt64Array"===i(e)},t.isBigUint64Array=function(e){return"BigUint64Array"===i(e)},m.working="undefined"!=typeof Map&&m(new Map),t.isMap=function(e){return"undefined"!=typeof Map&&(m.working?m(e):e instanceof Map)},v.working="undefined"!=typeof Set&&v(new Set),t.isSet=function(e){return"undefined"!=typeof Set&&(v.working?v(e):e instanceof Set)},g.working="undefined"!=typeof WeakMap&&g(new WeakMap),t.isWeakMap=function(e){return"undefined"!=typeof WeakMap&&(g.working?g(e):e instanceof WeakMap)},w.working="undefined"!=typeof WeakSet&&w(new WeakSet),t.isWeakSet=function(e){return w(e)},_.working="undefined"!=typeof ArrayBuffer&&_(new ArrayBuffer),t.isArrayBuffer=S,O.working="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView&&O(new DataView(new ArrayBuffer(1),0,1)),t.isDataView=E;var T="undefined"!=typeof SharedArrayBuffer?SharedArrayBuffer:void 0;function x(e){return"[object SharedArrayBuffer]"===l(e)}function A(e){return void 0!==T&&(void 0===x.working&&(x.working=x(new T)),x.working?x(e):e instanceof T)}function P(e){return b(e,f)}function $(e){return b(e,h)}function j(e){return b(e,p)}function R(e){return c&&b(e,d)}function C(e){return u&&b(e,y)}t.isSharedArrayBuffer=A,t.isAsyncFunction=function(e){return"[object AsyncFunction]"===l(e)},t.isMapIterator=function(e){return"[object Map Iterator]"===l(e)},t.isSetIterator=function(e){return"[object Set Iterator]"===l(e)},t.isGeneratorObject=function(e){return"[object Generator]"===l(e)},t.isWebAssemblyCompiledModule=function(e){return"[object WebAssembly.Module]"===l(e)},t.isNumberObject=P,t.isStringObject=$,t.isBooleanObject=j,t.isBigIntObject=R,t.isSymbolObject=C,t.isBoxedPrimitive=function(e){return P(e)||$(e)||j(e)||R(e)||C(e)},t.isAnyArrayBuffer=function(e){return"undefined"!=typeof Uint8Array&&(S(e)||A(e))},["isProxy","isExternal","isModuleNamespaceObject"].forEach((function(e){Object.defineProperty(t,e,{enumerable:!1,value:function(){throw new Error(e+" is not supported in userland")}})}))},85130:(e,t,r)=>{var n=r(12695),o=r(40585),i=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),r={},n=0;n<t.length;n++)r[t[n]]=Object.getOwnPropertyDescriptor(e,t[n]);return r},s=/%[sdj%]/g;t.format=function(e){if(!w(e)){for(var t=[],r=0;r<arguments.length;r++)t.push(l(arguments[r]));return t.join(" ")}r=1;for(var n=arguments,o=n.length,i=String(e).replace(s,(function(e){if("%%"===e)return"%";if(r>=o)return e;switch(e){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(e){return"[Circular]"}default:return e}})),a=n[r];r<o;a=n[++r])v(a)||!O(a)?i+=" "+a:i+=" "+l(a);return i},t.deprecate=function(e,r){if(void 0!==n&&!0===n.noDeprecation)return e;if(void 0===n)return function(){return t.deprecate(e,r).apply(this,arguments)};var i=!1;return function(){if(!i){if(n.throwDeprecation)throw new Error(r);n.traceDeprecation?o.trace(r):o.error(r),i=!0}return e.apply(this,arguments)}};var a={},c=/^$/;if(n.env.NODE_DEBUG){var u=n.env.NODE_DEBUG;u=u.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),c=new RegExp("^"+u+"$","i")}function l(e,r){var n={seen:[],stylize:h};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),m(r)?n.showHidden=r:r&&t._extend(n,r),_(n.showHidden)&&(n.showHidden=!1),_(n.depth)&&(n.depth=2),_(n.colors)&&(n.colors=!1),_(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=f),p(n,e,n.depth)}function f(e,t){var r=l.styles[t];return r?"["+l.colors[r][0]+"m"+e+"["+l.colors[r][1]+"m":e}function h(e,t){return e}function p(e,r,n){if(e.customInspect&&r&&x(r.inspect)&&r.inspect!==t.inspect&&(!r.constructor||r.constructor.prototype!==r)){var o=r.inspect(n,e);return w(o)||(o=p(e,o,n)),o}var i=function(e,t){if(_(t))return e.stylize("undefined","undefined");if(w(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}return g(t)?e.stylize(""+t,"number"):m(t)?e.stylize(""+t,"boolean"):v(t)?e.stylize("null","null"):void 0}(e,r);if(i)return i;var s=Object.keys(r),a=function(e){var t={};return e.forEach((function(e,r){t[e]=!0})),t}(s);if(e.showHidden&&(s=Object.getOwnPropertyNames(r)),T(r)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return d(r);if(0===s.length){if(x(r)){var c=r.name?": "+r.name:"";return e.stylize("[Function"+c+"]","special")}if(S(r))return e.stylize(RegExp.prototype.toString.call(r),"regexp");if(E(r))return e.stylize(Date.prototype.toString.call(r),"date");if(T(r))return d(r)}var u,l="",f=!1,h=["{","}"];return b(r)&&(f=!0,h=["[","]"]),x(r)&&(l=" [Function"+(r.name?": "+r.name:"")+"]"),S(r)&&(l=" "+RegExp.prototype.toString.call(r)),E(r)&&(l=" "+Date.prototype.toUTCString.call(r)),T(r)&&(l=" "+d(r)),0!==s.length||f&&0!=r.length?n<0?S(r)?e.stylize(RegExp.prototype.toString.call(r),"regexp"):e.stylize("[Object]","special"):(e.seen.push(r),u=f?function(e,t,r,n,o){for(var i=[],s=0,a=t.length;s<a;++s)R(t,String(s))?i.push(y(e,t,r,n,String(s),!0)):i.push("");return o.forEach((function(o){o.match(/^\d+$/)||i.push(y(e,t,r,n,o,!0))})),i}(e,r,n,a,s):s.map((function(t){return y(e,r,n,a,t,f)})),e.seen.pop(),function(e,t,r){return e.reduce((function(e,t){return t.indexOf("\n"),e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60?r[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+r[1]:r[0]+t+" "+e.join(", ")+" "+r[1]}(u,l,h)):h[0]+l+h[1]}function d(e){return"["+Error.prototype.toString.call(e)+"]"}function y(e,t,r,n,o,i){var s,a,c;if((c=Object.getOwnPropertyDescriptor(t,o)||{value:t[o]}).get?a=c.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):c.set&&(a=e.stylize("[Setter]","special")),R(n,o)||(s="["+o+"]"),a||(e.seen.indexOf(c.value)<0?(a=v(r)?p(e,c.value,null):p(e,c.value,r-1)).indexOf("\n")>-1&&(a=i?a.split("\n").map((function(e){return"  "+e})).join("\n").slice(2):"\n"+a.split("\n").map((function(e){return"   "+e})).join("\n")):a=e.stylize("[Circular]","special")),_(s)){if(i&&o.match(/^\d+$/))return a;(s=JSON.stringify(""+o)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.slice(1,-1),s=e.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=e.stylize(s,"string"))}return s+": "+a}function b(e){return Array.isArray(e)}function m(e){return"boolean"==typeof e}function v(e){return null===e}function g(e){return"number"==typeof e}function w(e){return"string"==typeof e}function _(e){return void 0===e}function S(e){return O(e)&&"[object RegExp]"===A(e)}function O(e){return"object"==typeof e&&null!==e}function E(e){return O(e)&&"[object Date]"===A(e)}function T(e){return O(e)&&("[object Error]"===A(e)||e instanceof Error)}function x(e){return"function"==typeof e}function A(e){return Object.prototype.toString.call(e)}function P(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(e){if(e=e.toUpperCase(),!a[e])if(c.test(e)){var r=n.pid;a[e]=function(){var n=t.format.apply(t,arguments);o.error("%s %d: %s",e,r,n)}}else a[e]=function(){};return a[e]},t.inspect=l,l.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},l.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.types=r(39585),t.isArray=b,t.isBoolean=m,t.isNull=v,t.isNullOrUndefined=function(e){return null==e},t.isNumber=g,t.isString=w,t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=_,t.isRegExp=S,t.types.isRegExp=S,t.isObject=O,t.isDate=E,t.types.isDate=E,t.isError=T,t.types.isNativeError=T,t.isFunction=x,t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=r(96327);var $=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function j(){var e=new Date,t=[P(e.getHours()),P(e.getMinutes()),P(e.getSeconds())].join(":");return[e.getDate(),$[e.getMonth()],t].join(" ")}function R(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){o.log("%s - %s",j(),t.format.apply(t,arguments))},t.inherits=r(23730),t._extend=function(e,t){if(!t||!O(t))return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e};var C="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function I(e,t){if(!e){var r=new Error("Promise was rejected with a falsy value");r.reason=e,e=r}return t(e)}t.promisify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');if(C&&e[C]){var t;if("function"!=typeof(t=e[C]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,C,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}function t(){for(var t,r,n=new Promise((function(e,n){t=e,r=n})),o=[],i=0;i<arguments.length;i++)o.push(arguments[i]);o.push((function(e,n){e?r(e):t(n)}));try{e.apply(this,o)}catch(e){r(e)}return n}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),C&&Object.defineProperty(t,C,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,i(e))},t.promisify.custom=C,t.callbackify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');function t(){for(var t=[],r=0;r<arguments.length;r++)t.push(arguments[r]);var o=t.pop();if("function"!=typeof o)throw new TypeError("The last argument must be of type Function");var i=this,s=function(){return o.apply(i,arguments)};e.apply(this,t).then((function(e){n.nextTick(s.bind(null,null,e))}),(function(e){n.nextTick(I.bind(null,e,s))}))}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),Object.defineProperties(t,i(e)),t}},15743:(e,t,r)=>{r.r(t),r.d(t,{v1:()=>p,v3:()=>_,v4:()=>S,v5:()=>T});var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),o=new Uint8Array(16);function i(){if(!n)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return n(o)}for(var s=[],a=0;a<256;++a)s[a]=(a+256).toString(16).substr(1);const c=function(e,t){var r=t||0,n=s;return[n[e[r++]],n[e[r++]],n[e[r++]],n[e[r++]],"-",n[e[r++]],n[e[r++]],"-",n[e[r++]],n[e[r++]],"-",n[e[r++]],n[e[r++]],"-",n[e[r++]],n[e[r++]],n[e[r++]],n[e[r++]],n[e[r++]],n[e[r++]]].join("")};var u,l,f=0,h=0;const p=function(e,t,r){var n=t&&r||0,o=t||[],s=(e=e||{}).node||u,a=void 0!==e.clockseq?e.clockseq:l;if(null==s||null==a){var p=e.random||(e.rng||i)();null==s&&(s=u=[1|p[0],p[1],p[2],p[3],p[4],p[5]]),null==a&&(a=l=16383&(p[6]<<8|p[7]))}var d=void 0!==e.msecs?e.msecs:(new Date).getTime(),y=void 0!==e.nsecs?e.nsecs:h+1,b=d-f+(y-h)/1e4;if(b<0&&void 0===e.clockseq&&(a=a+1&16383),(b<0||d>f)&&void 0===e.nsecs&&(y=0),y>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");f=d,h=y,l=a;var m=(1e4*(268435455&(d+=122192928e5))+y)%4294967296;o[n++]=m>>>24&255,o[n++]=m>>>16&255,o[n++]=m>>>8&255,o[n++]=255&m;var v=d/4294967296*1e4&268435455;o[n++]=v>>>8&255,o[n++]=255&v,o[n++]=v>>>24&15|16,o[n++]=v>>>16&255,o[n++]=a>>>8|128,o[n++]=255&a;for(var g=0;g<6;++g)o[n+g]=s[g];return t||c(o)};function d(e,t,r){var n=function(e,n,o,i){var s=o&&i||0;if("string"==typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));for(var t=new Array(e.length),r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(e)),"string"==typeof n&&(n=function(e){var t=[];return e.replace(/[a-fA-F0-9]{2}/g,(function(e){t.push(parseInt(e,16))})),t}(n)),!Array.isArray(e))throw TypeError("value must be an array of bytes");if(!Array.isArray(n)||16!==n.length)throw TypeError("namespace must be uuid string or an Array of 16 byte values");var a=r(n.concat(e));if(a[6]=15&a[6]|t,a[8]=63&a[8]|128,o)for(var u=0;u<16;++u)o[s+u]=a[u];return o||c(a)};try{n.name=e}catch(e){}return n.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",n.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",n}function y(e,t){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}function b(e,t,r,n,o,i){return y((s=y(y(t,e),y(n,i)))<<(a=o)|s>>>32-a,r);var s,a}function m(e,t,r,n,o,i,s){return b(t&r|~t&n,e,t,o,i,s)}function v(e,t,r,n,o,i,s){return b(t&n|r&~n,e,t,o,i,s)}function g(e,t,r,n,o,i,s){return b(t^r^n,e,t,o,i,s)}function w(e,t,r,n,o,i,s){return b(r^(t|~n),e,t,o,i,s)}const _=d("v3",48,(function(e){if("string"==typeof e){var t=unescape(encodeURIComponent(e));e=new Array(t.length);for(var r=0;r<t.length;r++)e[r]=t.charCodeAt(r)}return function(e){var t,r,n,o=[],i=32*e.length,s="0123456789abcdef";for(t=0;t<i;t+=8)r=e[t>>5]>>>t%32&255,n=parseInt(s.charAt(r>>>4&15)+s.charAt(15&r),16),o.push(n);return o}(function(e,t){var r,n,o,i,s;e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;var a=1732584193,c=-271733879,u=-1732584194,l=271733878;for(r=0;r<e.length;r+=16)n=a,o=c,i=u,s=l,a=m(a,c,u,l,e[r],7,-680876936),l=m(l,a,c,u,e[r+1],12,-389564586),u=m(u,l,a,c,e[r+2],17,606105819),c=m(c,u,l,a,e[r+3],22,-1044525330),a=m(a,c,u,l,e[r+4],7,-176418897),l=m(l,a,c,u,e[r+5],12,1200080426),u=m(u,l,a,c,e[r+6],17,-1473231341),c=m(c,u,l,a,e[r+7],22,-45705983),a=m(a,c,u,l,e[r+8],7,1770035416),l=m(l,a,c,u,e[r+9],12,-1958414417),u=m(u,l,a,c,e[r+10],17,-42063),c=m(c,u,l,a,e[r+11],22,-1990404162),a=m(a,c,u,l,e[r+12],7,1804603682),l=m(l,a,c,u,e[r+13],12,-40341101),u=m(u,l,a,c,e[r+14],17,-1502002290),a=v(a,c=m(c,u,l,a,e[r+15],22,1236535329),u,l,e[r+1],5,-165796510),l=v(l,a,c,u,e[r+6],9,-1069501632),u=v(u,l,a,c,e[r+11],14,643717713),c=v(c,u,l,a,e[r],20,-373897302),a=v(a,c,u,l,e[r+5],5,-701558691),l=v(l,a,c,u,e[r+10],9,38016083),u=v(u,l,a,c,e[r+15],14,-660478335),c=v(c,u,l,a,e[r+4],20,-405537848),a=v(a,c,u,l,e[r+9],5,568446438),l=v(l,a,c,u,e[r+14],9,-1019803690),u=v(u,l,a,c,e[r+3],14,-187363961),c=v(c,u,l,a,e[r+8],20,1163531501),a=v(a,c,u,l,e[r+13],5,-1444681467),l=v(l,a,c,u,e[r+2],9,-51403784),u=v(u,l,a,c,e[r+7],14,1735328473),a=g(a,c=v(c,u,l,a,e[r+12],20,-1926607734),u,l,e[r+5],4,-378558),l=g(l,a,c,u,e[r+8],11,-2022574463),u=g(u,l,a,c,e[r+11],16,1839030562),c=g(c,u,l,a,e[r+14],23,-35309556),a=g(a,c,u,l,e[r+1],4,-1530992060),l=g(l,a,c,u,e[r+4],11,1272893353),u=g(u,l,a,c,e[r+7],16,-155497632),c=g(c,u,l,a,e[r+10],23,-1094730640),a=g(a,c,u,l,e[r+13],4,681279174),l=g(l,a,c,u,e[r],11,-358537222),u=g(u,l,a,c,e[r+3],16,-722521979),c=g(c,u,l,a,e[r+6],23,76029189),a=g(a,c,u,l,e[r+9],4,-640364487),l=g(l,a,c,u,e[r+12],11,-421815835),u=g(u,l,a,c,e[r+15],16,530742520),a=w(a,c=g(c,u,l,a,e[r+2],23,-995338651),u,l,e[r],6,-198630844),l=w(l,a,c,u,e[r+7],10,1126891415),u=w(u,l,a,c,e[r+14],15,-1416354905),c=w(c,u,l,a,e[r+5],21,-57434055),a=w(a,c,u,l,e[r+12],6,1700485571),l=w(l,a,c,u,e[r+3],10,-1894986606),u=w(u,l,a,c,e[r+10],15,-1051523),c=w(c,u,l,a,e[r+1],21,-2054922799),a=w(a,c,u,l,e[r+8],6,1873313359),l=w(l,a,c,u,e[r+15],10,-30611744),u=w(u,l,a,c,e[r+6],15,-1560198380),c=w(c,u,l,a,e[r+13],21,1309151649),a=w(a,c,u,l,e[r+4],6,-145523070),l=w(l,a,c,u,e[r+11],10,-1120210379),u=w(u,l,a,c,e[r+2],15,718787259),c=w(c,u,l,a,e[r+9],21,-343485551),a=y(a,n),c=y(c,o),u=y(u,i),l=y(l,s);return[a,c,u,l]}(function(e){var t,r=[];for(r[(e.length>>2)-1]=void 0,t=0;t<r.length;t+=1)r[t]=0;var n=8*e.length;for(t=0;t<n;t+=8)r[t>>5]|=(255&e[t/8])<<t%32;return r}(e),8*e.length))})),S=function(e,t,r){var n=t&&r||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var o=(e=e||{}).random||(e.rng||i)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t)for(var s=0;s<16;++s)t[n+s]=o[s];return t||c(o)};function O(e,t,r,n){switch(e){case 0:return t&r^~t&n;case 1:case 3:return t^r^n;case 2:return t&r^t&n^r&n}}function E(e,t){return e<<t|e>>>32-t}const T=d("v5",80,(function(e){var t=[1518500249,1859775393,2400959708,3395469782],r=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof e){var n=unescape(encodeURIComponent(e));e=new Array(n.length);for(var o=0;o<n.length;o++)e[o]=n.charCodeAt(o)}e.push(128);var i=e.length/4+2,s=Math.ceil(i/16),a=new Array(s);for(o=0;o<s;o++){a[o]=new Array(16);for(var c=0;c<16;c++)a[o][c]=e[64*o+4*c]<<24|e[64*o+4*c+1]<<16|e[64*o+4*c+2]<<8|e[64*o+4*c+3]}for(a[s-1][14]=8*(e.length-1)/Math.pow(2,32),a[s-1][14]=Math.floor(a[s-1][14]),a[s-1][15]=8*(e.length-1)&4294967295,o=0;o<s;o++){for(var u=new Array(80),l=0;l<16;l++)u[l]=a[o][l];for(l=16;l<80;l++)u[l]=E(u[l-3]^u[l-8]^u[l-14]^u[l-16],1);var f=r[0],h=r[1],p=r[2],d=r[3],y=r[4];for(l=0;l<80;l++){var b=Math.floor(l/20),m=E(f,5)+O(b,h,p,d)+y+t[b]+u[l]>>>0;y=d,d=p,p=E(h,30)>>>0,h=f,f=m}r[0]=r[0]+f>>>0,r[1]=r[1]+h>>>0,r[2]=r[2]+p>>>0,r[3]=r[3]+d>>>0,r[4]=r[4]+y>>>0}return[r[0]>>24&255,r[0]>>16&255,r[0]>>8&255,255&r[0],r[1]>>24&255,r[1]>>16&255,r[1]>>8&255,255&r[1],r[2]>>24&255,r[2]>>16&255,r[2]>>8&255,255&r[2],r[3]>>24&255,r[3]>>16&255,r[3]>>8&255,255&r[3],r[4]>>24&255,r[4]>>16&255,r[4]>>8&255,255&r[4]]}))},96431:(e,t,r)=>{var n=r(79068),o=r(18791),i=r(86018),s=i("Object.prototype.toString"),a=r(87936)(),c="undefined"==typeof globalThis?r.g:globalThis,u=o(),l=i("String.prototype.slice"),f={},h=r(26393),p=Object.getPrototypeOf;a&&h&&p&&n(u,(function(e){if("function"==typeof c[e]){var t=new c[e];if(Symbol.toStringTag in t){var r=p(t),n=h(r,Symbol.toStringTag);if(!n){var o=p(r);n=h(o,Symbol.toStringTag)}f[e]=n.get}}}));var d=r(81233);e.exports=function(e){return!!d(e)&&(a&&Symbol.toStringTag in e?function(e){var t=!1;return n(f,(function(r,n){if(!t)try{var o=r.call(e);o===n&&(t=o)}catch(e){}})),t}(e):l(s(e),8,-1))}},6630:e=>{e.exports=function(){for(var e={},r=0;r<arguments.length;r++){var n=arguments[r];for(var o in n)t.call(n,o)&&(e[o]=n[o])}return e};var t=Object.prototype.hasOwnProperty},98184:()=>{},26576:()=>{},10462:()=>{},56029:()=>{},99294:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getFloat16=function(e,t,...r){return(0,o.convertToNumber)((0,i.DataViewPrototypeGetUint16)(e,t,...(0,n.safeIfNeeded)(r)))},t.setFloat16=function(e,t,r,...s){return(0,i.DataViewPrototypeSetUint16)(e,t,(0,o.roundToFloat16Bits)(r),...(0,n.safeIfNeeded)(s))};var n=r(39700),o=r(9066),i=r(15933)},56822:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isFloat16Array=f;var n=r(39700),o=r(40426),i=r(9066),s=r(44305),a=r(38633),c=r(15933),u=r(45252);const l=new c.NativeWeakMap;function f(e){return(0,c.WeakMapPrototypeHas)(l,e)||!(0,c.ArrayBufferIsView)(e)&&(0,o.hasFloat16ArrayBrand)(e)}function h(e){if(!f(e))throw(0,c.NativeTypeError)(a.THIS_IS_NOT_A_FLOAT16ARRAY_OBJECT)}function p(e,t){const r=f(e),n=(0,s.isNativeTypedArray)(e);if(!r&&!n)throw(0,c.NativeTypeError)(a.SPECIES_CONSTRUCTOR_DIDNT_RETURN_TYPEDARRAY_OBJECT);if("number"==typeof t){let n;if(r){const t=d(e);n=(0,c.TypedArrayPrototypeGetLength)(t)}else n=(0,c.TypedArrayPrototypeGetLength)(e);if(n<t)throw(0,c.NativeTypeError)(a.DERIVED_CONSTRUCTOR_CREATED_TYPEDARRAY_OBJECT_WHICH_WAS_TOO_SMALL_LENGTH)}if((0,s.isNativeBigIntTypedArray)(e))throw(0,c.NativeTypeError)(a.CANNOT_MIX_BIGINT_AND_OTHER_TYPES)}function d(e){const t=(0,c.WeakMapPrototypeGet)(l,e);if(void 0!==t){const e=(0,c.TypedArrayPrototypeGetBuffer)(t);if((0,u.IsDetachedBuffer)(e))throw(0,c.NativeTypeError)(a.ATTEMPTING_TO_ACCESS_DETACHED_ARRAYBUFFER);return t}const r=e.buffer;if((0,u.IsDetachedBuffer)(r))throw(0,c.NativeTypeError)(a.ATTEMPTING_TO_ACCESS_DETACHED_ARRAYBUFFER);const n=(0,c.ReflectConstruct)(v,[r,e.byteOffset,e.length],e.constructor);return(0,c.WeakMapPrototypeGet)(l,n)}function y(e){const t=(0,c.TypedArrayPrototypeGetLength)(e),r=[];for(let n=0;n<t;++n)r[n]=(0,i.convertToNumber)(e[n]);return r}const b=new c.NativeWeakSet;for(const e of(0,c.ReflectOwnKeys)(c.TypedArrayPrototype)){if(e===c.SymbolToStringTag)continue;const t=(0,c.ReflectGetOwnPropertyDescriptor)(c.TypedArrayPrototype,e);(0,c.ObjectHasOwn)(t,"get")&&"function"==typeof t.get&&(0,c.WeakSetPrototypeAdd)(b,t.get)}const m=(0,c.ObjectFreeze)({get:(e,t,r)=>(0,s.isCanonicalIntegerIndexString)(t)&&(0,c.ObjectHasOwn)(e,t)?(0,i.convertToNumber)((0,c.ReflectGet)(e,t)):(0,c.WeakSetPrototypeHas)(b,(0,c.ObjectPrototype__lookupGetter__)(e,t))?(0,c.ReflectGet)(e,t):(0,c.ReflectGet)(e,t,r),set:(e,t,r,n)=>(0,s.isCanonicalIntegerIndexString)(t)&&(0,c.ObjectHasOwn)(e,t)?(0,c.ReflectSet)(e,t,(0,i.roundToFloat16Bits)(r)):(0,c.ReflectSet)(e,t,r,n),getOwnPropertyDescriptor(e,t){if((0,s.isCanonicalIntegerIndexString)(t)&&(0,c.ObjectHasOwn)(e,t)){const r=(0,c.ReflectGetOwnPropertyDescriptor)(e,t);return r.value=(0,i.convertToNumber)(r.value),r}return(0,c.ReflectGetOwnPropertyDescriptor)(e,t)},defineProperty:(e,t,r)=>(0,s.isCanonicalIntegerIndexString)(t)&&(0,c.ObjectHasOwn)(e,t)&&(0,c.ObjectHasOwn)(r,"value")?(r.value=(0,i.roundToFloat16Bits)(r.value),(0,c.ReflectDefineProperty)(e,t,r)):(0,c.ReflectDefineProperty)(e,t,r)});class v{constructor(e,t,r){let n;if(f(e))n=(0,c.ReflectConstruct)(c.NativeUint16Array,[d(e)],new.target);else if((0,s.isObject)(e)&&!(0,s.isArrayBuffer)(e)){let t,r;if((0,s.isNativeTypedArray)(e)){t=e,r=(0,c.TypedArrayPrototypeGetLength)(e);const o=(0,c.TypedArrayPrototypeGetBuffer)(e),i=(0,s.isSharedArrayBuffer)(o)?c.NativeArrayBuffer:(0,u.SpeciesConstructor)(o,c.NativeArrayBuffer);if((0,u.IsDetachedBuffer)(o))throw(0,c.NativeTypeError)(a.ATTEMPTING_TO_ACCESS_DETACHED_ARRAYBUFFER);if((0,s.isNativeBigIntTypedArray)(e))throw(0,c.NativeTypeError)(a.CANNOT_MIX_BIGINT_AND_OTHER_TYPES);const l=new i(2*r);n=(0,c.ReflectConstruct)(c.NativeUint16Array,[l],new.target)}else{const o=e[c.SymbolIterator];if(null!=o&&"function"!=typeof o)throw(0,c.NativeTypeError)(a.ITERATOR_PROPERTY_IS_NOT_CALLABLE);null!=o?(0,s.isOrdinaryArray)(e)?(t=e,r=e.length):(t=[...e],r=t.length):(t=e,r=(0,u.ToLength)(t.length)),n=(0,c.ReflectConstruct)(c.NativeUint16Array,[r],new.target)}for(let e=0;e<r;++e)n[e]=(0,i.roundToFloat16Bits)(t[e])}else n=(0,c.ReflectConstruct)(c.NativeUint16Array,arguments,new.target);const o=new c.NativeProxy(n,m);return(0,c.WeakMapPrototypeSet)(l,o,n),o}static from(e,...t){const r=this;if(!(0,c.ReflectHas)(r,o.brand))throw(0,c.NativeTypeError)(a.THIS_CONSTRUCTOR_IS_NOT_A_SUBCLASS_OF_FLOAT16ARRAY);if(r===v){if(f(e)&&0===t.length){const t=d(e),r=new c.NativeUint16Array((0,c.TypedArrayPrototypeGetBuffer)(t),(0,c.TypedArrayPrototypeGetByteOffset)(t),(0,c.TypedArrayPrototypeGetLength)(t));return new v((0,c.TypedArrayPrototypeGetBuffer)((0,c.TypedArrayPrototypeSlice)(r)))}if(0===t.length)return new v((0,c.TypedArrayPrototypeGetBuffer)((0,c.Uint16ArrayFrom)(e,i.roundToFloat16Bits)));const r=t[0],o=t[1];return new v((0,c.TypedArrayPrototypeGetBuffer)((0,c.Uint16ArrayFrom)(e,(function(e,...t){return(0,i.roundToFloat16Bits)((0,c.ReflectApply)(r,this,[e,...(0,n.safeIfNeeded)(t)]))}),o)))}let l,h;const p=e[c.SymbolIterator];if(null!=p&&"function"!=typeof p)throw(0,c.NativeTypeError)(a.ITERATOR_PROPERTY_IS_NOT_CALLABLE);if(null!=p)(0,s.isOrdinaryArray)(e)?(l=e,h=e.length):(0,s.isOrdinaryNativeTypedArray)(e)?(l=e,h=(0,c.TypedArrayPrototypeGetLength)(e)):(l=[...e],h=l.length);else{if(null==e)throw(0,c.NativeTypeError)(a.CANNOT_CONVERT_UNDEFINED_OR_NULL_TO_OBJECT);l=(0,c.NativeObject)(e),h=(0,u.ToLength)(l.length)}const y=new r(h);if(0===t.length)for(let e=0;e<h;++e)y[e]=l[e];else{const e=t[0],r=t[1];for(let t=0;t<h;++t)y[t]=(0,c.ReflectApply)(e,r,[l[t],t])}return y}static of(...e){const t=this;if(!(0,c.ReflectHas)(t,o.brand))throw(0,c.NativeTypeError)(a.THIS_CONSTRUCTOR_IS_NOT_A_SUBCLASS_OF_FLOAT16ARRAY);const r=e.length;if(t===v){const t=new v(r),n=d(t);for(let t=0;t<r;++t)n[t]=(0,i.roundToFloat16Bits)(e[t]);return t}const n=new t(r);for(let t=0;t<r;++t)n[t]=e[t];return n}keys(){h(this);const e=d(this);return(0,c.TypedArrayPrototypeKeys)(e)}values(){h(this);const e=d(this);return(0,n.wrap)(function*(){for(const t of(0,c.TypedArrayPrototypeValues)(e))yield(0,i.convertToNumber)(t)}())}entries(){h(this);const e=d(this);return(0,n.wrap)(function*(){for(const[t,r]of(0,c.TypedArrayPrototypeEntries)(e))yield[t,(0,i.convertToNumber)(r)]}())}at(e){h(this);const t=d(this),r=(0,c.TypedArrayPrototypeGetLength)(t),n=(0,u.ToIntegerOrInfinity)(e),o=n>=0?n:r+n;if(!(o<0||o>=r))return(0,i.convertToNumber)(t[o])}map(e,...t){h(this);const r=d(this),n=(0,c.TypedArrayPrototypeGetLength)(r),o=t[0],s=(0,u.SpeciesConstructor)(r,v);if(s===v){const t=new v(n),s=d(t);for(let t=0;t<n;++t){const n=(0,i.convertToNumber)(r[t]);s[t]=(0,i.roundToFloat16Bits)((0,c.ReflectApply)(e,o,[n,t,this]))}return t}const a=new s(n);p(a,n);for(let t=0;t<n;++t){const n=(0,i.convertToNumber)(r[t]);a[t]=(0,c.ReflectApply)(e,o,[n,t,this])}return a}filter(e,...t){h(this);const r=d(this),n=(0,c.TypedArrayPrototypeGetLength)(r),o=t[0],s=[];for(let t=0;t<n;++t){const n=(0,i.convertToNumber)(r[t]);(0,c.ReflectApply)(e,o,[n,t,this])&&(0,c.ArrayPrototypePush)(s,n)}const a=new((0,u.SpeciesConstructor)(r,v))(s);return p(a),a}reduce(e,...t){h(this);const r=d(this),n=(0,c.TypedArrayPrototypeGetLength)(r);if(0===n&&0===t.length)throw(0,c.NativeTypeError)(a.REDUCE_OF_EMPTY_ARRAY_WITH_NO_INITIAL_VALUE);let o,s;0===t.length?(o=(0,i.convertToNumber)(r[0]),s=1):(o=t[0],s=0);for(let t=s;t<n;++t)o=e(o,(0,i.convertToNumber)(r[t]),t,this);return o}reduceRight(e,...t){h(this);const r=d(this),n=(0,c.TypedArrayPrototypeGetLength)(r);if(0===n&&0===t.length)throw(0,c.NativeTypeError)(a.REDUCE_OF_EMPTY_ARRAY_WITH_NO_INITIAL_VALUE);let o,s;0===t.length?(o=(0,i.convertToNumber)(r[n-1]),s=n-2):(o=t[0],s=n-1);for(let t=s;t>=0;--t)o=e(o,(0,i.convertToNumber)(r[t]),t,this);return o}forEach(e,...t){h(this);const r=d(this),n=(0,c.TypedArrayPrototypeGetLength)(r),o=t[0];for(let t=0;t<n;++t)(0,c.ReflectApply)(e,o,[(0,i.convertToNumber)(r[t]),t,this])}find(e,...t){h(this);const r=d(this),n=(0,c.TypedArrayPrototypeGetLength)(r),o=t[0];for(let t=0;t<n;++t){const n=(0,i.convertToNumber)(r[t]);if((0,c.ReflectApply)(e,o,[n,t,this]))return n}}findIndex(e,...t){h(this);const r=d(this),n=(0,c.TypedArrayPrototypeGetLength)(r),o=t[0];for(let t=0;t<n;++t){const n=(0,i.convertToNumber)(r[t]);if((0,c.ReflectApply)(e,o,[n,t,this]))return t}return-1}findLast(e,...t){h(this);const r=d(this),n=(0,c.TypedArrayPrototypeGetLength)(r),o=t[0];for(let t=n-1;t>=0;--t){const n=(0,i.convertToNumber)(r[t]);if((0,c.ReflectApply)(e,o,[n,t,this]))return n}}findLastIndex(e,...t){h(this);const r=d(this),n=(0,c.TypedArrayPrototypeGetLength)(r),o=t[0];for(let t=n-1;t>=0;--t){const n=(0,i.convertToNumber)(r[t]);if((0,c.ReflectApply)(e,o,[n,t,this]))return t}return-1}every(e,...t){h(this);const r=d(this),n=(0,c.TypedArrayPrototypeGetLength)(r),o=t[0];for(let t=0;t<n;++t)if(!(0,c.ReflectApply)(e,o,[(0,i.convertToNumber)(r[t]),t,this]))return!1;return!0}some(e,...t){h(this);const r=d(this),n=(0,c.TypedArrayPrototypeGetLength)(r),o=t[0];for(let t=0;t<n;++t)if((0,c.ReflectApply)(e,o,[(0,i.convertToNumber)(r[t]),t,this]))return!0;return!1}set(e,...t){h(this);const r=d(this),n=(0,u.ToIntegerOrInfinity)(t[0]);if(n<0)throw(0,c.NativeRangeError)(a.OFFSET_IS_OUT_OF_BOUNDS);if(null==e)throw(0,c.NativeTypeError)(a.CANNOT_CONVERT_UNDEFINED_OR_NULL_TO_OBJECT);if((0,s.isNativeBigIntTypedArray)(e))throw(0,c.NativeTypeError)(a.CANNOT_MIX_BIGINT_AND_OTHER_TYPES);if(f(e))return(0,c.TypedArrayPrototypeSet)(d(this),d(e),n);if((0,s.isNativeTypedArray)(e)){const t=(0,c.TypedArrayPrototypeGetBuffer)(e);if((0,u.IsDetachedBuffer)(t))throw(0,c.NativeTypeError)(a.ATTEMPTING_TO_ACCESS_DETACHED_ARRAYBUFFER)}const o=(0,c.TypedArrayPrototypeGetLength)(r),l=(0,c.NativeObject)(e),p=(0,u.ToLength)(l.length);if(n===1/0||p+n>o)throw(0,c.NativeRangeError)(a.OFFSET_IS_OUT_OF_BOUNDS);for(let e=0;e<p;++e)r[e+n]=(0,i.roundToFloat16Bits)(l[e])}reverse(){h(this);const e=d(this);return(0,c.TypedArrayPrototypeReverse)(e),this}fill(e,...t){h(this);const r=d(this);return(0,c.TypedArrayPrototypeFill)(r,(0,i.roundToFloat16Bits)(e),...(0,n.safeIfNeeded)(t)),this}copyWithin(e,t,...r){h(this);const o=d(this);return(0,c.TypedArrayPrototypeCopyWithin)(o,e,t,...(0,n.safeIfNeeded)(r)),this}sort(e){h(this);const t=d(this),r=void 0!==e?e:u.defaultCompare;return(0,c.TypedArrayPrototypeSort)(t,((e,t)=>r((0,i.convertToNumber)(e),(0,i.convertToNumber)(t)))),this}slice(e,t){h(this);const r=d(this),n=(0,u.SpeciesConstructor)(r,v);if(n===v){const n=new c.NativeUint16Array((0,c.TypedArrayPrototypeGetBuffer)(r),(0,c.TypedArrayPrototypeGetByteOffset)(r),(0,c.TypedArrayPrototypeGetLength)(r));return new v((0,c.TypedArrayPrototypeGetBuffer)((0,c.TypedArrayPrototypeSlice)(n,e,t)))}const o=(0,c.TypedArrayPrototypeGetLength)(r),s=(0,u.ToIntegerOrInfinity)(e),l=void 0===t?o:(0,u.ToIntegerOrInfinity)(t);let f,y;f=s===-1/0?0:s<0?o+s>0?o+s:0:o<s?o:s,y=l===-1/0?0:l<0?o+l>0?o+l:0:o<l?o:l;const b=y-f>0?y-f:0,m=new n(b);if(p(m,b),0===b)return m;const g=(0,c.TypedArrayPrototypeGetBuffer)(r);if((0,u.IsDetachedBuffer)(g))throw(0,c.NativeTypeError)(a.ATTEMPTING_TO_ACCESS_DETACHED_ARRAYBUFFER);let w=0;for(;f<y;)m[w]=(0,i.convertToNumber)(r[f]),++f,++w;return m}subarray(e,t){h(this);const r=d(this),n=(0,u.SpeciesConstructor)(r,v),o=new c.NativeUint16Array((0,c.TypedArrayPrototypeGetBuffer)(r),(0,c.TypedArrayPrototypeGetByteOffset)(r),(0,c.TypedArrayPrototypeGetLength)(r)),i=(0,c.TypedArrayPrototypeSubarray)(o,e,t),s=new n((0,c.TypedArrayPrototypeGetBuffer)(i),(0,c.TypedArrayPrototypeGetByteOffset)(i),(0,c.TypedArrayPrototypeGetLength)(i));return p(s),s}indexOf(e,...t){h(this);const r=d(this),n=(0,c.TypedArrayPrototypeGetLength)(r);let o=(0,u.ToIntegerOrInfinity)(t[0]);if(o===1/0)return-1;o<0&&(o+=n,o<0&&(o=0));for(let t=o;t<n;++t)if((0,c.ObjectHasOwn)(r,t)&&(0,i.convertToNumber)(r[t])===e)return t;return-1}lastIndexOf(e,...t){h(this);const r=d(this),n=(0,c.TypedArrayPrototypeGetLength)(r);let o=t.length>=1?(0,u.ToIntegerOrInfinity)(t[0]):n-1;if(o===-1/0)return-1;o>=0?o=o<n-1?o:n-1:o+=n;for(let t=o;t>=0;--t)if((0,c.ObjectHasOwn)(r,t)&&(0,i.convertToNumber)(r[t])===e)return t;return-1}includes(e,...t){h(this);const r=d(this),n=(0,c.TypedArrayPrototypeGetLength)(r);let o=(0,u.ToIntegerOrInfinity)(t[0]);if(o===1/0)return!1;o<0&&(o+=n,o<0&&(o=0));const s=(0,c.NumberIsNaN)(e);for(let t=o;t<n;++t){const n=(0,i.convertToNumber)(r[t]);if(s&&(0,c.NumberIsNaN)(n))return!0;if(n===e)return!0}return!1}join(e){h(this);const t=y(d(this));return(0,c.ArrayPrototypeJoin)(t,e)}toLocaleString(...e){h(this);const t=y(d(this));return(0,c.ArrayPrototypeToLocaleString)(t,...(0,n.safeIfNeeded)(e))}get[c.SymbolToStringTag](){if(f(this))return"Float16Array"}}t.Float16Array=v,(0,c.ObjectDefineProperty)(v,"BYTES_PER_ELEMENT",{value:2}),(0,c.ObjectDefineProperty)(v,o.brand,{}),(0,c.ReflectSetPrototypeOf)(v,c.TypedArray);const g=v.prototype;(0,c.ObjectDefineProperty)(g,"BYTES_PER_ELEMENT",{value:2}),(0,c.ObjectDefineProperty)(g,c.SymbolIterator,{value:g.values,writable:!0,configurable:!0}),(0,c.ReflectSetPrototypeOf)(g,c.TypedArrayPrototype)},39700:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.safeIfNeeded=function(e){if(e[n.SymbolIterator]===n.NativeArrayPrototypeSymbolIterator)return e;const t=(0,n.ObjectCreate)(i);return(0,n.WeakMapPrototypeSet)(o,t,(0,n.ArrayPrototypeSymbolIterator)(e)),t},t.wrap=function(e){const t=(0,n.ObjectCreate)(a);return(0,n.WeakMapPrototypeSet)(s,t,e),t};var n=r(15933);const o=new n.NativeWeakMap,i=(0,n.ObjectCreate)(null,{next:{value:function(){const e=(0,n.WeakMapPrototypeGet)(o,this);return(0,n.ArrayIteratorPrototypeNext)(e)}},[n.SymbolIterator]:{value:function(){return this}}}),s=new n.NativeWeakMap,a=(0,n.ObjectCreate)(n.IteratorPrototype,{next:{value:function(){const e=(0,n.WeakMapPrototypeGet)(s,this);return(0,n.GeneratorPrototypeNext)(e)},writable:!0,configurable:!0}});for(const e of(0,n.ReflectOwnKeys)(n.ArrayIteratorPrototype))"next"!==e&&(0,n.ObjectDefineProperty)(a,e,(0,n.ReflectGetOwnPropertyDescriptor)(n.ArrayIteratorPrototype,e))},40426:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.hasFloat16ArrayBrand=function(e){if(!(0,n.isObjectLike)(e))return!1;const t=(0,i.ReflectGetPrototypeOf)(e);if(!(0,n.isObjectLike)(t))return!1;const r=t.constructor;if(void 0===r)return!1;if(!(0,n.isObject)(r))throw(0,i.NativeTypeError)(o.THE_CONSTRUCTOR_PROPERTY_VALUE_IS_NOT_AN_OBJECT);return(0,i.ReflectHas)(r,s)};var n=r(44305),o=r(38633),i=r(15933);const s=(0,i.SymbolFor)("__Float16Array__");t.brand=s},9066:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.convertToNumber=function(e){const t=e>>10;return s[0]=u[f[t]+(1023&e)]+l[t],i[0]},t.roundToFloat16Bits=function(e){i[0]=e;const t=s[0],r=t>>23&511;return a[r]+((8388607&t)>>c[r])};var n=r(15933);const o=new n.NativeArrayBuffer(4),i=new n.NativeFloat32Array(o),s=new n.NativeUint32Array(o),a=new n.NativeUint32Array(512),c=new n.NativeUint32Array(512);for(let e=0;e<256;++e){const t=e-127;t<-27?(a[e]=0,a[256|e]=32768,c[e]=24,c[256|e]=24):t<-14?(a[e]=1024>>-t-14,a[256|e]=1024>>-t-14|32768,c[e]=-t-1,c[256|e]=-t-1):t<=15?(a[e]=t+15<<10,a[256|e]=t+15<<10|32768,c[e]=13,c[256|e]=13):t<128?(a[e]=31744,a[256|e]=64512,c[e]=24,c[256|e]=24):(a[e]=31744,a[256|e]=64512,c[e]=13,c[256|e]=13)}const u=new n.NativeUint32Array(2048),l=new n.NativeUint32Array(64),f=new n.NativeUint32Array(64);for(let e=1;e<1024;++e){let t=e<<13,r=0;for(;0==(8388608&t);)t<<=1,r-=8388608;t&=-8388609,r+=947912704,u[e]=t|r}for(let e=1024;e<2048;++e)u[e]=939524096+(e-1024<<13);for(let e=1;e<31;++e)l[e]=e<<23;l[31]=1199570944,l[32]=2147483648;for(let e=33;e<63;++e)l[e]=2147483648+(e-32<<23);l[63]=3347054592;for(let e=1;e<64;++e)32!==e&&(f[e]=1024)},44305:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isArrayBuffer=function(e){try{return(0,n.ArrayBufferPrototypeGetByteLength)(e),!0}catch(e){return!1}},t.isCanonicalIntegerIndexString=function(e){if("string"!=typeof e)return!1;const t=+e;return e===t+""&&(!!(0,n.NumberIsFinite)(t)&&t===(0,n.MathTrunc)(t))},t.isNativeBigIntTypedArray=function(e){const t=(0,n.TypedArrayPrototypeGetSymbolToStringTag)(e);return"BigInt64Array"===t||"BigUint64Array"===t},t.isNativeTypedArray=o,t.isObject=function(e){return null!==e&&"object"==typeof e||"function"==typeof e},t.isObjectLike=function(e){return null!==e&&"object"==typeof e},t.isOrdinaryArray=function(e){return!!(0,n.ArrayIsArray)(e)&&(e[n.SymbolIterator]===n.NativeArrayPrototypeSymbolIterator||"Array Iterator"===e[n.SymbolIterator]()[n.SymbolToStringTag])},t.isOrdinaryNativeTypedArray=function(e){return!!o(e)&&(e[n.SymbolIterator]===n.NativeTypedArrayPrototypeSymbolIterator||"Array Iterator"===e[n.SymbolIterator]()[n.SymbolToStringTag])},t.isSharedArrayBuffer=function(e){if(null===n.NativeSharedArrayBuffer)return!1;try{return(0,n.SharedArrayBufferPrototypeGetByteLength)(e),!0}catch(e){return!1}};var n=r(15933);function o(e){return void 0!==(0,n.TypedArrayPrototypeGetSymbolToStringTag)(e)}},38633:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.THIS_IS_NOT_AN_OBJECT="This is not an object",t.THIS_IS_NOT_A_FLOAT16ARRAY_OBJECT="This is not a Float16Array object",t.THIS_CONSTRUCTOR_IS_NOT_A_SUBCLASS_OF_FLOAT16ARRAY="This constructor is not a subclass of Float16Array",t.THE_CONSTRUCTOR_PROPERTY_VALUE_IS_NOT_AN_OBJECT="The constructor property value is not an object",t.SPECIES_CONSTRUCTOR_DIDNT_RETURN_TYPEDARRAY_OBJECT="Species constructor didn't return TypedArray object",t.DERIVED_CONSTRUCTOR_CREATED_TYPEDARRAY_OBJECT_WHICH_WAS_TOO_SMALL_LENGTH="Derived constructor created TypedArray object which was too small length",t.ATTEMPTING_TO_ACCESS_DETACHED_ARRAYBUFFER="Attempting to access detached ArrayBuffer",t.CANNOT_CONVERT_UNDEFINED_OR_NULL_TO_OBJECT="Cannot convert undefined or null to object",t.CANNOT_MIX_BIGINT_AND_OTHER_TYPES="Cannot mix BigInt and other types, use explicit conversions",t.ITERATOR_PROPERTY_IS_NOT_CALLABLE="@@iterator property is not callable",t.REDUCE_OF_EMPTY_ARRAY_WITH_NO_INITIAL_VALUE="Reduce of empty array with no initial value",t.OFFSET_IS_OUT_OF_BOUNDS="Offset is out of bounds"},15933:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});var n=r(38633);function o(e){return(t,...r)=>s(e,t,r)}function i(e,t){return o(l(e,t).get)}const{apply:s,construct:a,defineProperty:c,get:u,getOwnPropertyDescriptor:l,getPrototypeOf:f,has:h,ownKeys:p,set:d,setPrototypeOf:y}=Reflect;t.ReflectSetPrototypeOf=y,t.ReflectSet=d,t.ReflectOwnKeys=p,t.ReflectHas=h,t.ReflectGetPrototypeOf=f,t.ReflectGetOwnPropertyDescriptor=l,t.ReflectGet=u,t.ReflectDefineProperty=c,t.ReflectConstruct=a,t.ReflectApply=s;const b=Proxy;t.NativeProxy=b;const{MAX_SAFE_INTEGER:m,isFinite:v,isNaN:g}=Number;t.NumberIsNaN=g,t.NumberIsFinite=v,t.MAX_SAFE_INTEGER=m;const{iterator:w,species:_,toStringTag:S,for:O}=Symbol;t.SymbolFor=O,t.SymbolToStringTag=S,t.SymbolSpecies=_,t.SymbolIterator=w;const E=Object;t.NativeObject=E;const{create:T,defineProperty:x,freeze:A,is:P}=E;t.ObjectIs=P,t.ObjectFreeze=A,t.ObjectDefineProperty=x,t.ObjectCreate=T;const $=E.prototype,j=$.__lookupGetter__?o($.__lookupGetter__):(e,t)=>{if(null==e)throw Se(n.CANNOT_CONVERT_UNDEFINED_OR_NULL_TO_OBJECT);let r=E(e);do{const e=l(r,t);if(void 0!==e)return R(e,"get")?e.get:void 0}while(null!==(r=f(r)))};t.ObjectPrototype__lookupGetter__=j;const R=E.hasOwn||o($.hasOwnProperty);t.ObjectHasOwn=R;const C=Array,I=C.isArray;t.ArrayIsArray=I;const N=C.prototype,k=o(N.join);t.ArrayPrototypeJoin=k;const M=o(N.push);t.ArrayPrototypePush=M;const F=o(N.toLocaleString);t.ArrayPrototypeToLocaleString=F;const L=N[w];t.NativeArrayPrototypeSymbolIterator=L;const D=o(L);t.ArrayPrototypeSymbolIterator=D;const U=Math.trunc;t.MathTrunc=U;const B=ArrayBuffer;t.NativeArrayBuffer=B;const q=B.isView;t.ArrayBufferIsView=q;const V=B.prototype,W=o(V.slice);t.ArrayBufferPrototypeSlice=W;const z=i(V,"byteLength");t.ArrayBufferPrototypeGetByteLength=z;const H="undefined"!=typeof SharedArrayBuffer?SharedArrayBuffer:null;t.NativeSharedArrayBuffer=H;const G=H&&i(H.prototype,"byteLength");t.SharedArrayBufferPrototypeGetByteLength=G;const Y=f(Uint8Array);t.TypedArray=Y;const J=Y.from,K=Y.prototype;t.TypedArrayPrototype=K;const X=K[w];t.NativeTypedArrayPrototypeSymbolIterator=X;const Q=o(K.keys);t.TypedArrayPrototypeKeys=Q;const Z=o(K.values);t.TypedArrayPrototypeValues=Z;const ee=o(K.entries);t.TypedArrayPrototypeEntries=ee;const te=o(K.set);t.TypedArrayPrototypeSet=te;const re=o(K.reverse);t.TypedArrayPrototypeReverse=re;const ne=o(K.fill);t.TypedArrayPrototypeFill=ne;const oe=o(K.copyWithin);t.TypedArrayPrototypeCopyWithin=oe;const ie=o(K.sort);t.TypedArrayPrototypeSort=ie;const se=o(K.slice);t.TypedArrayPrototypeSlice=se;const ae=o(K.subarray);t.TypedArrayPrototypeSubarray=ae;const ce=i(K,"buffer");t.TypedArrayPrototypeGetBuffer=ce;const ue=i(K,"byteOffset");t.TypedArrayPrototypeGetByteOffset=ue;const le=i(K,"length");t.TypedArrayPrototypeGetLength=le;const fe=i(K,S);t.TypedArrayPrototypeGetSymbolToStringTag=fe;const he=Uint16Array;t.NativeUint16Array=he,t.Uint16ArrayFrom=(...e)=>s(J,he,e);const pe=Uint32Array;t.NativeUint32Array=pe;const de=Float32Array;t.NativeFloat32Array=de;const ye=f([][w]());t.ArrayIteratorPrototype=ye;const be=o(ye.next);t.ArrayIteratorPrototypeNext=be;const me=o(function*(){}().next);t.GeneratorPrototypeNext=me;const ve=f(ye);t.IteratorPrototype=ve;const ge=DataView.prototype,we=o(ge.getUint16);t.DataViewPrototypeGetUint16=we;const _e=o(ge.setUint16);t.DataViewPrototypeSetUint16=_e;const Se=TypeError;t.NativeTypeError=Se;const Oe=RangeError;t.NativeRangeError=Oe;const Ee=WeakSet;t.NativeWeakSet=Ee;const Te=Ee.prototype,xe=o(Te.add);t.WeakSetPrototypeAdd=xe;const Ae=o(Te.has);t.WeakSetPrototypeHas=Ae;const Pe=WeakMap;t.NativeWeakMap=Pe;const $e=Pe.prototype,je=o($e.get);t.WeakMapPrototypeGet=je;const Re=o($e.has);t.WeakMapPrototypeHas=Re;const Ce=o($e.set);t.WeakMapPrototypeSet=Ce},45252:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.IsDetachedBuffer=function(e){if((0,n.isSharedArrayBuffer)(e))return!1;try{return(0,i.ArrayBufferPrototypeSlice)(e,0,0),!1}catch(e){}return!0},t.SpeciesConstructor=function(e,t){if(!(0,n.isObject)(e))throw(0,i.NativeTypeError)(o.THIS_IS_NOT_AN_OBJECT);const r=e.constructor;if(void 0===r)return t;if(!(0,n.isObject)(r))throw(0,i.NativeTypeError)(o.THE_CONSTRUCTOR_PROPERTY_VALUE_IS_NOT_AN_OBJECT);const s=r[i.SymbolSpecies];return null==s?t:s},t.ToIntegerOrInfinity=s,t.ToLength=function(e){const t=s(e);return t<0?0:t<i.MAX_SAFE_INTEGER?t:i.MAX_SAFE_INTEGER},t.defaultCompare=function(e,t){const r=(0,i.NumberIsNaN)(e),n=(0,i.NumberIsNaN)(t);if(r&&n)return 0;if(r)return 1;if(n)return-1;if(e<t)return-1;if(e>t)return 1;if(0===e&&0===t){const r=(0,i.ObjectIs)(e,0),n=(0,i.ObjectIs)(t,0);if(!r&&n)return-1;if(r&&!n)return 1}return 0};var n=r(44305),o=r(38633),i=r(15933);function s(e){const t=+e;return(0,i.NumberIsNaN)(t)||0===t?0:(0,i.MathTrunc)(t)}},61809:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.hfround=function(e){const t=+e;if(!(0,o.NumberIsFinite)(t)||0===t)return t;const r=(0,n.roundToFloat16Bits)(t);return(0,n.convertToNumber)(r)};var n=r(9066),o=r(15933)},27772:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});var n=r(56822);t.Float16Array=n.Float16Array,t.isFloat16Array=n.isFloat16Array;var o=r(83387);t.isTypedArray=o.isTypedArray;var i=r(99294);t.getFloat16=i.getFloat16,t.setFloat16=i.setFloat16;var s=r(61809);t.hfround=s.hfround},83387:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isTypedArray=function(e){return(0,o.isNativeTypedArray)(e)||(0,n.isFloat16Array)(e)};var n=r(56822),o=r(44305)},18791:(e,t,r)=>{var n=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],o="undefined"==typeof globalThis?r.g:globalThis;e.exports=function(){for(var e=[],t=0;t<n.length;t++)"function"==typeof o[n[t]]&&(e[e.length]=n[t]);return e}},26393:(e,t,r)=>{var n=r(43681)("%Object.getOwnPropertyDescriptor%",!0);if(n)try{n([],"length")}catch(e){n=null}e.exports=n},20538:(e,t,r)=>{r.r(t),r.d(t,{ByteLengthQueuingStrategy:()=>Pr,CountQueuingStrategy:()=>Cr,ReadableByteStreamController:()=>me,ReadableStream:()=>br,ReadableStreamBYOBReader:()=>Ge,ReadableStreamBYOBRequest:()=>be,ReadableStreamDefaultController:()=>Qt,ReadableStreamDefaultReader:()=>Z,TransformStream:()=>Lr,TransformStreamDefaultController:()=>Vr,WritableStream:()=>at,WritableStreamDefaultController:()=>At,WritableStreamDefaultWriter:()=>wt});const n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol:e=>`Symbol(${e})`;function o(){}const i="undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:void 0;function s(e){return"object"==typeof e&&null!==e||"function"==typeof e}const a=o,c=Promise,u=Promise.prototype.then,l=Promise.resolve.bind(c),f=Promise.reject.bind(c);function h(e){return new c(e)}function p(e){return l(e)}function d(e){return f(e)}function y(e,t,r){return u.call(e,t,r)}function b(e,t,r){y(y(e,t,r),void 0,a)}function m(e,t){b(e,t)}function v(e,t){b(e,void 0,t)}function g(e,t,r){return y(e,t,r)}function w(e){y(e,void 0,a)}const _=(()=>{const e=i&&i.queueMicrotask;if("function"==typeof e)return e;const t=p(void 0);return e=>y(t,e)})();function S(e,t,r){if("function"!=typeof e)throw new TypeError("Argument is not a function");return Function.prototype.apply.call(e,t,r)}function O(e,t,r){try{return p(S(e,t,r))}catch(e){return d(e)}}class E{constructor(){this._cursor=0,this._size=0,this._front={_elements:[],_next:void 0},this._back=this._front,this._cursor=0,this._size=0}get length(){return this._size}push(e){const t=this._back;let r=t;16383===t._elements.length&&(r={_elements:[],_next:void 0}),t._elements.push(e),r!==t&&(this._back=r,t._next=r),++this._size}shift(){const e=this._front;let t=e;const r=this._cursor;let n=r+1;const o=e._elements,i=o[r];return 16384===n&&(t=e._next,n=0),--this._size,this._cursor=n,e!==t&&(this._front=t),o[r]=void 0,i}forEach(e){let t=this._cursor,r=this._front,n=r._elements;for(;!(t===n.length&&void 0===r._next||t===n.length&&(r=r._next,n=r._elements,t=0,0===n.length));)e(n[t]),++t}peek(){const e=this._front,t=this._cursor;return e._elements[t]}}function T(e,t){e._ownerReadableStream=t,t._reader=e,"readable"===t._state?$(e):"closed"===t._state?function(e){$(e),C(e)}(e):j(e,t._storedError)}function x(e,t){return Sr(e._ownerReadableStream,t)}function A(e){"readable"===e._ownerReadableStream._state?R(e,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):function(e,t){j(e,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness"))}(e),e._ownerReadableStream._reader=void 0,e._ownerReadableStream=void 0}function P(e){return new TypeError("Cannot "+e+" a stream using a released reader")}function $(e){e._closedPromise=h(((t,r)=>{e._closedPromise_resolve=t,e._closedPromise_reject=r}))}function j(e,t){$(e),R(e,t)}function R(e,t){void 0!==e._closedPromise_reject&&(w(e._closedPromise),e._closedPromise_reject(t),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0)}function C(e){void 0!==e._closedPromise_resolve&&(e._closedPromise_resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0)}const I=n("[[AbortSteps]]"),N=n("[[ErrorSteps]]"),k=n("[[CancelSteps]]"),M=n("[[PullSteps]]"),F=Number.isFinite||function(e){return"number"==typeof e&&isFinite(e)},L=Math.trunc||function(e){return e<0?Math.ceil(e):Math.floor(e)};function D(e,t){if(void 0!==e&&"object"!=typeof(r=e)&&"function"!=typeof r)throw new TypeError(`${t} is not an object.`);var r}function U(e,t){if("function"!=typeof e)throw new TypeError(`${t} is not a function.`)}function B(e,t){if(!function(e){return"object"==typeof e&&null!==e||"function"==typeof e}(e))throw new TypeError(`${t} is not an object.`)}function q(e,t,r){if(void 0===e)throw new TypeError(`Parameter ${t} is required in '${r}'.`)}function V(e,t,r){if(void 0===e)throw new TypeError(`${t} is required in '${r}'.`)}function W(e){return Number(e)}function z(e){return 0===e?0:e}function H(e,t){const r=Number.MAX_SAFE_INTEGER;let n=Number(e);if(n=z(n),!F(n))throw new TypeError(`${t} is not a finite number`);if(n=function(e){return z(L(e))}(n),n<0||n>r)throw new TypeError(`${t} is outside the accepted range of 0 to ${r}, inclusive`);return F(n)&&0!==n?n:0}function G(e,t){if(!wr(e))throw new TypeError(`${t} is not a ReadableStream.`)}function Y(e){return new Z(e)}function J(e,t){e._reader._readRequests.push(t)}function K(e,t,r){const n=e._reader._readRequests.shift();r?n._closeSteps():n._chunkSteps(t)}function X(e){return e._reader._readRequests.length}function Q(e){const t=e._reader;return void 0!==t&&!!ee(t)}class Z{constructor(e){if(q(e,1,"ReadableStreamDefaultReader"),G(e,"First parameter"),_r(e))throw new TypeError("This stream has already been locked for exclusive reading by another reader");T(this,e),this._readRequests=new E}get closed(){return ee(this)?this._closedPromise:d(re("closed"))}cancel(e){return ee(this)?void 0===this._ownerReadableStream?d(P("cancel")):x(this,e):d(re("cancel"))}read(){if(!ee(this))return d(re("read"));if(void 0===this._ownerReadableStream)return d(P("read from"));let e,t;const r=h(((r,n)=>{e=r,t=n}));return te(this,{_chunkSteps:t=>e({value:t,done:!1}),_closeSteps:()=>e({value:void 0,done:!0}),_errorSteps:e=>t(e)}),r}releaseLock(){if(!ee(this))throw re("releaseLock");if(void 0!==this._ownerReadableStream){if(this._readRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");A(this)}}}function ee(e){return!!s(e)&&!!Object.prototype.hasOwnProperty.call(e,"_readRequests")&&e instanceof Z}function te(e,t){const r=e._ownerReadableStream;r._disturbed=!0,"closed"===r._state?t._closeSteps():"errored"===r._state?t._errorSteps(r._storedError):r._readableStreamController[M](t)}function re(e){return new TypeError(`ReadableStreamDefaultReader.prototype.${e} can only be used on a ReadableStreamDefaultReader`)}Object.defineProperties(Z.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),"symbol"==typeof n.toStringTag&&Object.defineProperty(Z.prototype,n.toStringTag,{value:"ReadableStreamDefaultReader",configurable:!0});const ne=Object.getPrototypeOf(Object.getPrototypeOf((async function*(){})).prototype);class oe{constructor(e,t){this._ongoingPromise=void 0,this._isFinished=!1,this._reader=e,this._preventCancel=t}next(){const e=()=>this._nextSteps();return this._ongoingPromise=this._ongoingPromise?g(this._ongoingPromise,e,e):e(),this._ongoingPromise}return(e){const t=()=>this._returnSteps(e);return this._ongoingPromise?g(this._ongoingPromise,t,t):t()}_nextSteps(){if(this._isFinished)return Promise.resolve({value:void 0,done:!0});const e=this._reader;if(void 0===e._ownerReadableStream)return d(P("iterate"));let t,r;const n=h(((e,n)=>{t=e,r=n}));return te(e,{_chunkSteps:e=>{this._ongoingPromise=void 0,_((()=>t({value:e,done:!1})))},_closeSteps:()=>{this._ongoingPromise=void 0,this._isFinished=!0,A(e),t({value:void 0,done:!0})},_errorSteps:t=>{this._ongoingPromise=void 0,this._isFinished=!0,A(e),r(t)}}),n}_returnSteps(e){if(this._isFinished)return Promise.resolve({value:e,done:!0});this._isFinished=!0;const t=this._reader;if(void 0===t._ownerReadableStream)return d(P("finish iterating"));if(!this._preventCancel){const r=x(t,e);return A(t),g(r,(()=>({value:e,done:!0})))}return A(t),p({value:e,done:!0})}}const ie={next(){return se(this)?this._asyncIteratorImpl.next():d(ae("next"))},return(e){return se(this)?this._asyncIteratorImpl.return(e):d(ae("return"))}};function se(e){if(!s(e))return!1;if(!Object.prototype.hasOwnProperty.call(e,"_asyncIteratorImpl"))return!1;try{return e._asyncIteratorImpl instanceof oe}catch(e){return!1}}function ae(e){return new TypeError(`ReadableStreamAsyncIterator.${e} can only be used on a ReadableSteamAsyncIterator`)}void 0!==ne&&Object.setPrototypeOf(ie,ne);const ce=Number.isNaN||function(e){return e!=e};function ue(e){return e.slice()}function le(e,t,r,n,o){new Uint8Array(e).set(new Uint8Array(r,n,o),t)}function fe(e,t,r){if(e.slice)return e.slice(t,r);const n=r-t,o=new ArrayBuffer(n);return le(o,0,e,t,n),o}function he(e){const t=fe(e.buffer,e.byteOffset,e.byteOffset+e.byteLength);return new Uint8Array(t)}function pe(e){const t=e._queue.shift();return e._queueTotalSize-=t.size,e._queueTotalSize<0&&(e._queueTotalSize=0),t.value}function de(e,t,r){if("number"!=typeof(n=r)||ce(n)||n<0||r===1/0)throw new RangeError("Size must be a finite, non-NaN, non-negative number.");var n;e._queue.push({value:t,size:r}),e._queueTotalSize+=r}function ye(e){e._queue=new E,e._queueTotalSize=0}class be{constructor(){throw new TypeError("Illegal constructor")}get view(){if(!ge(this))throw Be("view");return this._view}respond(e){if(!ge(this))throw Be("respond");if(q(e,1,"respond"),e=H(e,"First parameter"),void 0===this._associatedReadableByteStreamController)throw new TypeError("This BYOB request has been invalidated");this._view.buffer,Le(this._associatedReadableByteStreamController,e)}respondWithNewView(e){if(!ge(this))throw Be("respondWithNewView");if(q(e,1,"respondWithNewView"),!ArrayBuffer.isView(e))throw new TypeError("You can only respond with array buffer views");if(void 0===this._associatedReadableByteStreamController)throw new TypeError("This BYOB request has been invalidated");e.buffer,De(this._associatedReadableByteStreamController,e)}}Object.defineProperties(be.prototype,{respond:{enumerable:!0},respondWithNewView:{enumerable:!0},view:{enumerable:!0}}),"symbol"==typeof n.toStringTag&&Object.defineProperty(be.prototype,n.toStringTag,{value:"ReadableStreamBYOBRequest",configurable:!0});class me{constructor(){throw new TypeError("Illegal constructor")}get byobRequest(){if(!ve(this))throw qe("byobRequest");return Me(this)}get desiredSize(){if(!ve(this))throw qe("desiredSize");return Fe(this)}close(){if(!ve(this))throw qe("close");if(this._closeRequested)throw new TypeError("The stream has already been closed; do not close it again!");const e=this._controlledReadableByteStream._state;if("readable"!==e)throw new TypeError(`The stream (in ${e} state) is not in the readable state and cannot be closed`);Ie(this)}enqueue(e){if(!ve(this))throw qe("enqueue");if(q(e,1,"enqueue"),!ArrayBuffer.isView(e))throw new TypeError("chunk must be an array buffer view");if(0===e.byteLength)throw new TypeError("chunk must have non-zero byteLength");if(0===e.buffer.byteLength)throw new TypeError("chunk's buffer must have non-zero byteLength");if(this._closeRequested)throw new TypeError("stream is closed or draining");const t=this._controlledReadableByteStream._state;if("readable"!==t)throw new TypeError(`The stream (in ${t} state) is not in the readable state and cannot be enqueued to`);Ne(this,e)}error(e){if(!ve(this))throw qe("error");ke(this,e)}[k](e){_e(this),ye(this);const t=this._cancelAlgorithm(e);return Ce(this),t}[M](e){const t=this._controlledReadableByteStream;if(this._queueTotalSize>0){const t=this._queue.shift();this._queueTotalSize-=t.byteLength,Ae(this);const r=new Uint8Array(t.buffer,t.byteOffset,t.byteLength);return void e._chunkSteps(r)}const r=this._autoAllocateChunkSize;if(void 0!==r){let t;try{t=new ArrayBuffer(r)}catch(t){return void e._errorSteps(t)}const n={buffer:t,bufferByteLength:r,byteOffset:0,byteLength:r,bytesFilled:0,elementSize:1,viewConstructor:Uint8Array,readerType:"default"};this._pendingPullIntos.push(n)}J(t,e),we(this)}}function ve(e){return!!s(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledReadableByteStream")&&e instanceof me}function ge(e){return!!s(e)&&!!Object.prototype.hasOwnProperty.call(e,"_associatedReadableByteStreamController")&&e instanceof be}function we(e){const t=function(e){const t=e._controlledReadableByteStream;return"readable"===t._state&&(!e._closeRequested&&(!!e._started&&(!!(Q(t)&&X(t)>0)||(!!(He(t)&&ze(t)>0)||Fe(e)>0))))}(e);t&&(e._pulling?e._pullAgain=!0:(e._pulling=!0,b(e._pullAlgorithm(),(()=>{e._pulling=!1,e._pullAgain&&(e._pullAgain=!1,we(e))}),(t=>{ke(e,t)}))))}function _e(e){Pe(e),e._pendingPullIntos=new E}function Se(e,t){let r=!1;"closed"===e._state&&(r=!0);const n=Oe(t);"default"===t.readerType?K(e,n,r):function(e,t,r){const n=e._reader._readIntoRequests.shift();r?n._closeSteps(t):n._chunkSteps(t)}(e,n,r)}function Oe(e){const t=e.bytesFilled,r=e.elementSize;return new e.viewConstructor(e.buffer,e.byteOffset,t/r)}function Ee(e,t,r,n){e._queue.push({buffer:t,byteOffset:r,byteLength:n}),e._queueTotalSize+=n}function Te(e,t){const r=t.elementSize,n=t.bytesFilled-t.bytesFilled%r,o=Math.min(e._queueTotalSize,t.byteLength-t.bytesFilled),i=t.bytesFilled+o,s=i-i%r;let a=o,c=!1;s>n&&(a=s-t.bytesFilled,c=!0);const u=e._queue;for(;a>0;){const r=u.peek(),n=Math.min(a,r.byteLength),o=t.byteOffset+t.bytesFilled;le(t.buffer,o,r.buffer,r.byteOffset,n),r.byteLength===n?u.shift():(r.byteOffset+=n,r.byteLength-=n),e._queueTotalSize-=n,xe(0,n,t),a-=n}return c}function xe(e,t,r){r.bytesFilled+=t}function Ae(e){0===e._queueTotalSize&&e._closeRequested?(Ce(e),Or(e._controlledReadableByteStream)):we(e)}function Pe(e){null!==e._byobRequest&&(e._byobRequest._associatedReadableByteStreamController=void 0,e._byobRequest._view=null,e._byobRequest=null)}function $e(e){for(;e._pendingPullIntos.length>0;){if(0===e._queueTotalSize)return;const t=e._pendingPullIntos.peek();Te(e,t)&&(Re(e),Se(e._controlledReadableByteStream,t))}}function je(e,t){const r=e._pendingPullIntos.peek();Pe(e),"closed"===e._controlledReadableByteStream._state?function(e,t){const r=e._controlledReadableByteStream;if(He(r))for(;ze(r)>0;)Se(r,Re(e))}(e):function(e,t,r){if(xe(0,t,r),r.bytesFilled<r.elementSize)return;Re(e);const n=r.bytesFilled%r.elementSize;if(n>0){const t=r.byteOffset+r.bytesFilled,o=fe(r.buffer,t-n,t);Ee(e,o,0,o.byteLength)}r.bytesFilled-=n,Se(e._controlledReadableByteStream,r),$e(e)}(e,t,r),we(e)}function Re(e){return e._pendingPullIntos.shift()}function Ce(e){e._pullAlgorithm=void 0,e._cancelAlgorithm=void 0}function Ie(e){const t=e._controlledReadableByteStream;if(!e._closeRequested&&"readable"===t._state)if(e._queueTotalSize>0)e._closeRequested=!0;else{if(e._pendingPullIntos.length>0&&e._pendingPullIntos.peek().bytesFilled>0){const t=new TypeError("Insufficient bytes to fill elements in the given buffer");throw ke(e,t),t}Ce(e),Or(t)}}function Ne(e,t){const r=e._controlledReadableByteStream;if(e._closeRequested||"readable"!==r._state)return;const n=t.buffer,o=t.byteOffset,i=t.byteLength,s=n;if(e._pendingPullIntos.length>0){const t=e._pendingPullIntos.peek();t.buffer,t.buffer=t.buffer}Pe(e),Q(r)?0===X(r)?Ee(e,s,o,i):(e._pendingPullIntos.length>0&&Re(e),K(r,new Uint8Array(s,o,i),!1)):He(r)?(Ee(e,s,o,i),$e(e)):Ee(e,s,o,i),we(e)}function ke(e,t){const r=e._controlledReadableByteStream;"readable"===r._state&&(_e(e),ye(e),Ce(e),Er(r,t))}function Me(e){if(null===e._byobRequest&&e._pendingPullIntos.length>0){const t=e._pendingPullIntos.peek(),r=new Uint8Array(t.buffer,t.byteOffset+t.bytesFilled,t.byteLength-t.bytesFilled),n=Object.create(be.prototype);!function(e,t,r){e._associatedReadableByteStreamController=t,e._view=r}(n,e,r),e._byobRequest=n}return e._byobRequest}function Fe(e){const t=e._controlledReadableByteStream._state;return"errored"===t?null:"closed"===t?0:e._strategyHWM-e._queueTotalSize}function Le(e,t){const r=e._pendingPullIntos.peek();if("closed"===e._controlledReadableByteStream._state){if(0!==t)throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream")}else{if(0===t)throw new TypeError("bytesWritten must be greater than 0 when calling respond() on a readable stream");if(r.bytesFilled+t>r.byteLength)throw new RangeError("bytesWritten out of range")}r.buffer=r.buffer,je(e,t)}function De(e,t){const r=e._pendingPullIntos.peek();if("closed"===e._controlledReadableByteStream._state){if(0!==t.byteLength)throw new TypeError("The view's length must be 0 when calling respondWithNewView() on a closed stream")}else if(0===t.byteLength)throw new TypeError("The view's length must be greater than 0 when calling respondWithNewView() on a readable stream");if(r.byteOffset+r.bytesFilled!==t.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(r.bufferByteLength!==t.buffer.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");if(r.bytesFilled+t.byteLength>r.byteLength)throw new RangeError("The region specified by view is larger than byobRequest");const n=t.byteLength;r.buffer=t.buffer,je(e,n)}function Ue(e,t,r,n,o,i,s){t._controlledReadableByteStream=e,t._pullAgain=!1,t._pulling=!1,t._byobRequest=null,t._queue=t._queueTotalSize=void 0,ye(t),t._closeRequested=!1,t._started=!1,t._strategyHWM=i,t._pullAlgorithm=n,t._cancelAlgorithm=o,t._autoAllocateChunkSize=s,t._pendingPullIntos=new E,e._readableStreamController=t,b(p(r()),(()=>{t._started=!0,we(t)}),(e=>{ke(t,e)}))}function Be(e){return new TypeError(`ReadableStreamBYOBRequest.prototype.${e} can only be used on a ReadableStreamBYOBRequest`)}function qe(e){return new TypeError(`ReadableByteStreamController.prototype.${e} can only be used on a ReadableByteStreamController`)}function Ve(e){return new Ge(e)}function We(e,t){e._reader._readIntoRequests.push(t)}function ze(e){return e._reader._readIntoRequests.length}function He(e){const t=e._reader;return void 0!==t&&!!Ye(t)}Object.defineProperties(me.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},byobRequest:{enumerable:!0},desiredSize:{enumerable:!0}}),"symbol"==typeof n.toStringTag&&Object.defineProperty(me.prototype,n.toStringTag,{value:"ReadableByteStreamController",configurable:!0});class Ge{constructor(e){if(q(e,1,"ReadableStreamBYOBReader"),G(e,"First parameter"),_r(e))throw new TypeError("This stream has already been locked for exclusive reading by another reader");if(!ve(e._readableStreamController))throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");T(this,e),this._readIntoRequests=new E}get closed(){return Ye(this)?this._closedPromise:d(Ke("closed"))}cancel(e){return Ye(this)?void 0===this._ownerReadableStream?d(P("cancel")):x(this,e):d(Ke("cancel"))}read(e){if(!Ye(this))return d(Ke("read"));if(!ArrayBuffer.isView(e))return d(new TypeError("view must be an array buffer view"));if(0===e.byteLength)return d(new TypeError("view must have non-zero byteLength"));if(0===e.buffer.byteLength)return d(new TypeError("view's buffer must have non-zero byteLength"));if(e.buffer,void 0===this._ownerReadableStream)return d(P("read from"));let t,r;const n=h(((e,n)=>{t=e,r=n}));return Je(this,e,{_chunkSteps:e=>t({value:e,done:!1}),_closeSteps:e=>t({value:e,done:!0}),_errorSteps:e=>r(e)}),n}releaseLock(){if(!Ye(this))throw Ke("releaseLock");if(void 0!==this._ownerReadableStream){if(this._readIntoRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");A(this)}}}function Ye(e){return!!s(e)&&!!Object.prototype.hasOwnProperty.call(e,"_readIntoRequests")&&e instanceof Ge}function Je(e,t,r){const n=e._ownerReadableStream;n._disturbed=!0,"errored"===n._state?r._errorSteps(n._storedError):function(e,t,r){const n=e._controlledReadableByteStream;let o=1;t.constructor!==DataView&&(o=t.constructor.BYTES_PER_ELEMENT);const i=t.constructor,s=t.buffer,a={buffer:s,bufferByteLength:s.byteLength,byteOffset:t.byteOffset,byteLength:t.byteLength,bytesFilled:0,elementSize:o,viewConstructor:i,readerType:"byob"};if(e._pendingPullIntos.length>0)return e._pendingPullIntos.push(a),void We(n,r);if("closed"!==n._state){if(e._queueTotalSize>0){if(Te(e,a)){const t=Oe(a);return Ae(e),void r._chunkSteps(t)}if(e._closeRequested){const t=new TypeError("Insufficient bytes to fill elements in the given buffer");return ke(e,t),void r._errorSteps(t)}}e._pendingPullIntos.push(a),We(n,r),we(e)}else{const e=new i(a.buffer,a.byteOffset,0);r._closeSteps(e)}}(n._readableStreamController,t,r)}function Ke(e){return new TypeError(`ReadableStreamBYOBReader.prototype.${e} can only be used on a ReadableStreamBYOBReader`)}function Xe(e,t){const{highWaterMark:r}=e;if(void 0===r)return t;if(ce(r)||r<0)throw new RangeError("Invalid highWaterMark");return r}function Qe(e){const{size:t}=e;return t||(()=>1)}function Ze(e,t){D(e,t);const r=null==e?void 0:e.highWaterMark,n=null==e?void 0:e.size;return{highWaterMark:void 0===r?void 0:W(r),size:void 0===n?void 0:et(n,`${t} has member 'size' that`)}}function et(e,t){return U(e,t),t=>W(e(t))}function tt(e,t,r){return U(e,r),r=>O(e,t,[r])}function rt(e,t,r){return U(e,r),()=>O(e,t,[])}function nt(e,t,r){return U(e,r),r=>S(e,t,[r])}function ot(e,t,r){return U(e,r),(r,n)=>O(e,t,[r,n])}function it(e,t){if(!lt(e))throw new TypeError(`${t} is not a WritableStream.`)}Object.defineProperties(Ge.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),"symbol"==typeof n.toStringTag&&Object.defineProperty(Ge.prototype,n.toStringTag,{value:"ReadableStreamBYOBReader",configurable:!0});const st="function"==typeof AbortController;class at{constructor(e={},t={}){void 0===e?e=null:B(e,"First parameter");const r=Ze(t,"Second parameter"),n=function(e,t){D(e,t);const r=null==e?void 0:e.abort,n=null==e?void 0:e.close,o=null==e?void 0:e.start,i=null==e?void 0:e.type,s=null==e?void 0:e.write;return{abort:void 0===r?void 0:tt(r,e,`${t} has member 'abort' that`),close:void 0===n?void 0:rt(n,e,`${t} has member 'close' that`),start:void 0===o?void 0:nt(o,e,`${t} has member 'start' that`),write:void 0===s?void 0:ot(s,e,`${t} has member 'write' that`),type:i}}(e,"First parameter");if(ut(this),void 0!==n.type)throw new RangeError("Invalid type is specified");const o=Qe(r);!function(e,t,r,n){const o=Object.create(At.prototype);let i=()=>{},s=()=>p(void 0),a=()=>p(void 0),c=()=>p(void 0);void 0!==t.start&&(i=()=>t.start(o)),void 0!==t.write&&(s=e=>t.write(e,o)),void 0!==t.close&&(a=()=>t.close()),void 0!==t.abort&&(c=e=>t.abort(e)),$t(e,o,i,s,a,c,r,n)}(this,n,Xe(r,1),o)}get locked(){if(!lt(this))throw Mt("locked");return ft(this)}abort(e){return lt(this)?ft(this)?d(new TypeError("Cannot abort a stream that already has a writer")):ht(this,e):d(Mt("abort"))}close(){return lt(this)?ft(this)?d(new TypeError("Cannot close a stream that already has a writer")):mt(this)?d(new TypeError("Cannot close an already-closing stream")):pt(this):d(Mt("close"))}getWriter(){if(!lt(this))throw Mt("getWriter");return ct(this)}}function ct(e){return new wt(e)}function ut(e){e._state="writable",e._storedError=void 0,e._writer=void 0,e._writableStreamController=void 0,e._writeRequests=new E,e._inFlightWriteRequest=void 0,e._closeRequest=void 0,e._inFlightCloseRequest=void 0,e._pendingAbortRequest=void 0,e._backpressure=!1}function lt(e){return!!s(e)&&!!Object.prototype.hasOwnProperty.call(e,"_writableStreamController")&&e instanceof at}function ft(e){return void 0!==e._writer}function ht(e,t){var r;if("closed"===e._state||"errored"===e._state)return p(void 0);e._writableStreamController._abortReason=t,null===(r=e._writableStreamController._abortController)||void 0===r||r.abort();const n=e._state;if("closed"===n||"errored"===n)return p(void 0);if(void 0!==e._pendingAbortRequest)return e._pendingAbortRequest._promise;let o=!1;"erroring"===n&&(o=!0,t=void 0);const i=h(((r,n)=>{e._pendingAbortRequest={_promise:void 0,_resolve:r,_reject:n,_reason:t,_wasAlreadyErroring:o}}));return e._pendingAbortRequest._promise=i,o||yt(e,t),i}function pt(e){const t=e._state;if("closed"===t||"errored"===t)return d(new TypeError(`The stream (in ${t} state) is not in the writable state and cannot be closed`));const r=h(((t,r)=>{const n={_resolve:t,_reject:r};e._closeRequest=n})),n=e._writer;var o;return void 0!==n&&e._backpressure&&"writable"===t&&Yt(n),de(o=e._writableStreamController,xt,0),Ct(o),r}function dt(e,t){"writable"!==e._state?bt(e):yt(e,t)}function yt(e,t){const r=e._writableStreamController;e._state="erroring",e._storedError=t;const n=e._writer;void 0!==n&&Ot(n,t),!function(e){return void 0!==e._inFlightWriteRequest||void 0!==e._inFlightCloseRequest}(e)&&r._started&&bt(e)}function bt(e){e._state="errored",e._writableStreamController[N]();const t=e._storedError;if(e._writeRequests.forEach((e=>{e._reject(t)})),e._writeRequests=new E,void 0===e._pendingAbortRequest)return void vt(e);const r=e._pendingAbortRequest;if(e._pendingAbortRequest=void 0,r._wasAlreadyErroring)return r._reject(t),void vt(e);b(e._writableStreamController[I](r._reason),(()=>{r._resolve(),vt(e)}),(t=>{r._reject(t),vt(e)}))}function mt(e){return void 0!==e._closeRequest||void 0!==e._inFlightCloseRequest}function vt(e){void 0!==e._closeRequest&&(e._closeRequest._reject(e._storedError),e._closeRequest=void 0);const t=e._writer;void 0!==t&&qt(t,e._storedError)}function gt(e,t){const r=e._writer;void 0!==r&&t!==e._backpressure&&(t?function(e){Wt(e)}(r):Yt(r)),e._backpressure=t}Object.defineProperties(at.prototype,{abort:{enumerable:!0},close:{enumerable:!0},getWriter:{enumerable:!0},locked:{enumerable:!0}}),"symbol"==typeof n.toStringTag&&Object.defineProperty(at.prototype,n.toStringTag,{value:"WritableStream",configurable:!0});class wt{constructor(e){if(q(e,1,"WritableStreamDefaultWriter"),it(e,"First parameter"),ft(e))throw new TypeError("This stream has already been locked for exclusive writing by another writer");this._ownerWritableStream=e,e._writer=this;const t=e._state;if("writable"===t)!mt(e)&&e._backpressure?Wt(this):Ht(this),Ut(this);else if("erroring"===t)zt(this,e._storedError),Ut(this);else if("closed"===t)Ht(this),Ut(this),Vt(this);else{const t=e._storedError;zt(this,t),Bt(this,t)}}get closed(){return _t(this)?this._closedPromise:d(Lt("closed"))}get desiredSize(){if(!_t(this))throw Lt("desiredSize");if(void 0===this._ownerWritableStream)throw Dt("desiredSize");return function(e){const t=e._ownerWritableStream,r=t._state;return"errored"===r||"erroring"===r?null:"closed"===r?0:Rt(t._writableStreamController)}(this)}get ready(){return _t(this)?this._readyPromise:d(Lt("ready"))}abort(e){return _t(this)?void 0===this._ownerWritableStream?d(Dt("abort")):function(e,t){return ht(e._ownerWritableStream,t)}(this,e):d(Lt("abort"))}close(){if(!_t(this))return d(Lt("close"));const e=this._ownerWritableStream;return void 0===e?d(Dt("close")):mt(e)?d(new TypeError("Cannot close an already-closing stream")):St(this)}releaseLock(){if(!_t(this))throw Lt("releaseLock");void 0!==this._ownerWritableStream&&Et(this)}write(e){return _t(this)?void 0===this._ownerWritableStream?d(Dt("write to")):Tt(this,e):d(Lt("write"))}}function _t(e){return!!s(e)&&!!Object.prototype.hasOwnProperty.call(e,"_ownerWritableStream")&&e instanceof wt}function St(e){return pt(e._ownerWritableStream)}function Ot(e,t){"pending"===e._readyPromiseState?Gt(e,t):function(e,t){zt(e,t)}(e,t)}function Et(e){const t=e._ownerWritableStream,r=new TypeError("Writer was released and can no longer be used to monitor the stream's closedness");Ot(e,r),function(e,t){"pending"===e._closedPromiseState?qt(e,t):function(e,t){Bt(e,t)}(e,t)}(e,r),t._writer=void 0,e._ownerWritableStream=void 0}function Tt(e,t){const r=e._ownerWritableStream,n=r._writableStreamController,o=function(e,t){try{return e._strategySizeAlgorithm(t)}catch(t){return It(e,t),1}}(n,t);if(r!==e._ownerWritableStream)return d(Dt("write to"));const i=r._state;if("errored"===i)return d(r._storedError);if(mt(r)||"closed"===i)return d(new TypeError("The stream is closing or closed and cannot be written to"));if("erroring"===i)return d(r._storedError);const s=function(e){return h(((t,r)=>{const n={_resolve:t,_reject:r};e._writeRequests.push(n)}))}(r);return function(e,t,r){try{de(e,t,r)}catch(t){return void It(e,t)}const n=e._controlledWritableStream;mt(n)||"writable"!==n._state||gt(n,Nt(e)),Ct(e)}(n,t,o),s}Object.defineProperties(wt.prototype,{abort:{enumerable:!0},close:{enumerable:!0},releaseLock:{enumerable:!0},write:{enumerable:!0},closed:{enumerable:!0},desiredSize:{enumerable:!0},ready:{enumerable:!0}}),"symbol"==typeof n.toStringTag&&Object.defineProperty(wt.prototype,n.toStringTag,{value:"WritableStreamDefaultWriter",configurable:!0});const xt={};class At{constructor(){throw new TypeError("Illegal constructor")}get abortReason(){if(!Pt(this))throw Ft("abortReason");return this._abortReason}get signal(){if(!Pt(this))throw Ft("signal");if(void 0===this._abortController)throw new TypeError("WritableStreamDefaultController.prototype.signal is not supported");return this._abortController.signal}error(e){if(!Pt(this))throw Ft("error");"writable"===this._controlledWritableStream._state&&kt(this,e)}[I](e){const t=this._abortAlgorithm(e);return jt(this),t}[N](){ye(this)}}function Pt(e){return!!s(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledWritableStream")&&e instanceof At}function $t(e,t,r,n,o,i,s,a){t._controlledWritableStream=e,e._writableStreamController=t,t._queue=void 0,t._queueTotalSize=void 0,ye(t),t._abortReason=void 0,t._abortController=function(){if(st)return new AbortController}(),t._started=!1,t._strategySizeAlgorithm=a,t._strategyHWM=s,t._writeAlgorithm=n,t._closeAlgorithm=o,t._abortAlgorithm=i;const c=Nt(t);gt(e,c),b(p(r()),(()=>{t._started=!0,Ct(t)}),(r=>{t._started=!0,dt(e,r)}))}function jt(e){e._writeAlgorithm=void 0,e._closeAlgorithm=void 0,e._abortAlgorithm=void 0,e._strategySizeAlgorithm=void 0}function Rt(e){return e._strategyHWM-e._queueTotalSize}function Ct(e){const t=e._controlledWritableStream;if(!e._started)return;if(void 0!==t._inFlightWriteRequest)return;if("erroring"===t._state)return void bt(t);if(0===e._queue.length)return;const r=e._queue.peek().value;r===xt?function(e){const t=e._controlledWritableStream;(function(e){e._inFlightCloseRequest=e._closeRequest,e._closeRequest=void 0})(t),pe(e);const r=e._closeAlgorithm();jt(e),b(r,(()=>{!function(e){e._inFlightCloseRequest._resolve(void 0),e._inFlightCloseRequest=void 0,"erroring"===e._state&&(e._storedError=void 0,void 0!==e._pendingAbortRequest&&(e._pendingAbortRequest._resolve(),e._pendingAbortRequest=void 0)),e._state="closed";const t=e._writer;void 0!==t&&Vt(t)}(t)}),(e=>{!function(e,t){e._inFlightCloseRequest._reject(t),e._inFlightCloseRequest=void 0,void 0!==e._pendingAbortRequest&&(e._pendingAbortRequest._reject(t),e._pendingAbortRequest=void 0),dt(e,t)}(t,e)}))}(e):function(e,t){const r=e._controlledWritableStream;!function(e){e._inFlightWriteRequest=e._writeRequests.shift()}(r),b(e._writeAlgorithm(t),(()=>{!function(e){e._inFlightWriteRequest._resolve(void 0),e._inFlightWriteRequest=void 0}(r);const t=r._state;if(pe(e),!mt(r)&&"writable"===t){const t=Nt(e);gt(r,t)}Ct(e)}),(t=>{"writable"===r._state&&jt(e),function(e,t){e._inFlightWriteRequest._reject(t),e._inFlightWriteRequest=void 0,dt(e,t)}(r,t)}))}(e,r)}function It(e,t){"writable"===e._controlledWritableStream._state&&kt(e,t)}function Nt(e){return Rt(e)<=0}function kt(e,t){const r=e._controlledWritableStream;jt(e),yt(r,t)}function Mt(e){return new TypeError(`WritableStream.prototype.${e} can only be used on a WritableStream`)}function Ft(e){return new TypeError(`WritableStreamDefaultController.prototype.${e} can only be used on a WritableStreamDefaultController`)}function Lt(e){return new TypeError(`WritableStreamDefaultWriter.prototype.${e} can only be used on a WritableStreamDefaultWriter`)}function Dt(e){return new TypeError("Cannot "+e+" a stream using a released writer")}function Ut(e){e._closedPromise=h(((t,r)=>{e._closedPromise_resolve=t,e._closedPromise_reject=r,e._closedPromiseState="pending"}))}function Bt(e,t){Ut(e),qt(e,t)}function qt(e,t){void 0!==e._closedPromise_reject&&(w(e._closedPromise),e._closedPromise_reject(t),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="rejected")}function Vt(e){void 0!==e._closedPromise_resolve&&(e._closedPromise_resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="resolved")}function Wt(e){e._readyPromise=h(((t,r)=>{e._readyPromise_resolve=t,e._readyPromise_reject=r})),e._readyPromiseState="pending"}function zt(e,t){Wt(e),Gt(e,t)}function Ht(e){Wt(e),Yt(e)}function Gt(e,t){void 0!==e._readyPromise_reject&&(w(e._readyPromise),e._readyPromise_reject(t),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="rejected")}function Yt(e){void 0!==e._readyPromise_resolve&&(e._readyPromise_resolve(void 0),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="fulfilled")}Object.defineProperties(At.prototype,{abortReason:{enumerable:!0},signal:{enumerable:!0},error:{enumerable:!0}}),"symbol"==typeof n.toStringTag&&Object.defineProperty(At.prototype,n.toStringTag,{value:"WritableStreamDefaultController",configurable:!0});const Jt="undefined"!=typeof DOMException?DOMException:void 0,Kt=function(e){if("function"!=typeof e&&"object"!=typeof e)return!1;try{return new e,!0}catch(e){return!1}}(Jt)?Jt:function(){const e=function(e,t){this.message=e||"",this.name=t||"Error",Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)};return e.prototype=Object.create(Error.prototype),Object.defineProperty(e.prototype,"constructor",{value:e,writable:!0,configurable:!0}),e}();function Xt(e,t,r,n,i,s){const a=Y(e),c=ct(t);e._disturbed=!0;let u=!1,l=p(void 0);return h(((f,g)=>{let _;if(void 0!==s){if(_=()=>{const r=new Kt("Aborted","AbortError"),o=[];n||o.push((()=>"writable"===t._state?ht(t,r):p(void 0))),i||o.push((()=>"readable"===e._state?Sr(e,r):p(void 0))),P((()=>Promise.all(o.map((e=>e())))),!0,r)},s.aborted)return void _();s.addEventListener("abort",_)}var S,O,E;if(x(e,a._closedPromise,(e=>{n?$(!0,e):P((()=>ht(t,e)),!0,e)})),x(t,c._closedPromise,(t=>{i?$(!0,t):P((()=>Sr(e,t)),!0,t)})),S=e,O=a._closedPromise,E=()=>{r?$():P((()=>function(e){const t=e._ownerWritableStream,r=t._state;return mt(t)||"closed"===r?p(void 0):"errored"===r?d(t._storedError):St(e)}(c)))},"closed"===S._state?E():m(O,E),mt(t)||"closed"===t._state){const t=new TypeError("the destination writable stream closed before all data could be piped to it");i?$(!0,t):P((()=>Sr(e,t)),!0,t)}function T(){const e=l;return y(l,(()=>e!==l?T():void 0))}function x(e,t,r){"errored"===e._state?r(e._storedError):v(t,r)}function P(e,r,n){function o(){b(e(),(()=>j(r,n)),(e=>j(!0,e)))}u||(u=!0,"writable"!==t._state||mt(t)?o():m(T(),o))}function $(e,r){u||(u=!0,"writable"!==t._state||mt(t)?j(e,r):m(T(),(()=>j(e,r))))}function j(e,t){Et(c),A(a),void 0!==s&&s.removeEventListener("abort",_),e?g(t):f(void 0)}w(h(((e,t)=>{!function r(n){n?e():y(u?p(!0):y(c._readyPromise,(()=>h(((e,t)=>{te(a,{_chunkSteps:t=>{l=y(Tt(c,t),void 0,o),e(!1)},_closeSteps:()=>e(!0),_errorSteps:t})})))),r,t)}(!1)})))}))}class Qt{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!Zt(this))throw ur("desiredSize");return sr(this)}close(){if(!Zt(this))throw ur("close");if(!ar(this))throw new TypeError("The stream is not in a state that permits close");nr(this)}enqueue(e){if(!Zt(this))throw ur("enqueue");if(!ar(this))throw new TypeError("The stream is not in a state that permits enqueue");return or(this,e)}error(e){if(!Zt(this))throw ur("error");ir(this,e)}[k](e){ye(this);const t=this._cancelAlgorithm(e);return rr(this),t}[M](e){const t=this._controlledReadableStream;if(this._queue.length>0){const r=pe(this);this._closeRequested&&0===this._queue.length?(rr(this),Or(t)):er(this),e._chunkSteps(r)}else J(t,e),er(this)}}function Zt(e){return!!s(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledReadableStream")&&e instanceof Qt}function er(e){tr(e)&&(e._pulling?e._pullAgain=!0:(e._pulling=!0,b(e._pullAlgorithm(),(()=>{e._pulling=!1,e._pullAgain&&(e._pullAgain=!1,er(e))}),(t=>{ir(e,t)}))))}function tr(e){const t=e._controlledReadableStream;return!!ar(e)&&(!!e._started&&(!!(_r(t)&&X(t)>0)||sr(e)>0))}function rr(e){e._pullAlgorithm=void 0,e._cancelAlgorithm=void 0,e._strategySizeAlgorithm=void 0}function nr(e){if(!ar(e))return;const t=e._controlledReadableStream;e._closeRequested=!0,0===e._queue.length&&(rr(e),Or(t))}function or(e,t){if(!ar(e))return;const r=e._controlledReadableStream;if(_r(r)&&X(r)>0)K(r,t,!1);else{let r;try{r=e._strategySizeAlgorithm(t)}catch(t){throw ir(e,t),t}try{de(e,t,r)}catch(t){throw ir(e,t),t}}er(e)}function ir(e,t){const r=e._controlledReadableStream;"readable"===r._state&&(ye(e),rr(e),Er(r,t))}function sr(e){const t=e._controlledReadableStream._state;return"errored"===t?null:"closed"===t?0:e._strategyHWM-e._queueTotalSize}function ar(e){const t=e._controlledReadableStream._state;return!e._closeRequested&&"readable"===t}function cr(e,t,r,n,o,i,s){t._controlledReadableStream=e,t._queue=void 0,t._queueTotalSize=void 0,ye(t),t._started=!1,t._closeRequested=!1,t._pullAgain=!1,t._pulling=!1,t._strategySizeAlgorithm=s,t._strategyHWM=i,t._pullAlgorithm=n,t._cancelAlgorithm=o,e._readableStreamController=t,b(p(r()),(()=>{t._started=!0,er(t)}),(e=>{ir(t,e)}))}function ur(e){return new TypeError(`ReadableStreamDefaultController.prototype.${e} can only be used on a ReadableStreamDefaultController`)}function lr(e,t,r){return U(e,r),r=>O(e,t,[r])}function fr(e,t,r){return U(e,r),r=>O(e,t,[r])}function hr(e,t,r){return U(e,r),r=>S(e,t,[r])}function pr(e,t){if("bytes"!=(e=`${e}`))throw new TypeError(`${t} '${e}' is not a valid enumeration value for ReadableStreamType`);return e}function dr(e,t){if("byob"!=(e=`${e}`))throw new TypeError(`${t} '${e}' is not a valid enumeration value for ReadableStreamReaderMode`);return e}function yr(e,t){D(e,t);const r=null==e?void 0:e.preventAbort,n=null==e?void 0:e.preventCancel,o=null==e?void 0:e.preventClose,i=null==e?void 0:e.signal;return void 0!==i&&function(e,t){if(!function(e){if("object"!=typeof e||null===e)return!1;try{return"boolean"==typeof e.aborted}catch(e){return!1}}(e))throw new TypeError(`${t} is not an AbortSignal.`)}(i,`${t} has member 'signal' that`),{preventAbort:Boolean(r),preventCancel:Boolean(n),preventClose:Boolean(o),signal:i}}Object.defineProperties(Qt.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},desiredSize:{enumerable:!0}}),"symbol"==typeof n.toStringTag&&Object.defineProperty(Qt.prototype,n.toStringTag,{value:"ReadableStreamDefaultController",configurable:!0});class br{constructor(e={},t={}){void 0===e?e=null:B(e,"First parameter");const r=Ze(t,"Second parameter"),n=function(e,t){D(e,t);const r=e,n=null==r?void 0:r.autoAllocateChunkSize,o=null==r?void 0:r.cancel,i=null==r?void 0:r.pull,s=null==r?void 0:r.start,a=null==r?void 0:r.type;return{autoAllocateChunkSize:void 0===n?void 0:H(n,`${t} has member 'autoAllocateChunkSize' that`),cancel:void 0===o?void 0:lr(o,r,`${t} has member 'cancel' that`),pull:void 0===i?void 0:fr(i,r,`${t} has member 'pull' that`),start:void 0===s?void 0:hr(s,r,`${t} has member 'start' that`),type:void 0===a?void 0:pr(a,`${t} has member 'type' that`)}}(e,"First parameter");if(gr(this),"bytes"===n.type){if(void 0!==r.size)throw new RangeError("The strategy for a byte stream cannot have a size function");!function(e,t,r){const n=Object.create(me.prototype);let o=()=>{},i=()=>p(void 0),s=()=>p(void 0);void 0!==t.start&&(o=()=>t.start(n)),void 0!==t.pull&&(i=()=>t.pull(n)),void 0!==t.cancel&&(s=e=>t.cancel(e));const a=t.autoAllocateChunkSize;if(0===a)throw new TypeError("autoAllocateChunkSize must be greater than 0");Ue(e,n,o,i,s,r,a)}(this,n,Xe(r,0))}else{const e=Qe(r);!function(e,t,r,n){const o=Object.create(Qt.prototype);let i=()=>{},s=()=>p(void 0),a=()=>p(void 0);void 0!==t.start&&(i=()=>t.start(o)),void 0!==t.pull&&(s=()=>t.pull(o)),void 0!==t.cancel&&(a=e=>t.cancel(e)),cr(e,o,i,s,a,r,n)}(this,n,Xe(r,1),e)}}get locked(){if(!wr(this))throw Tr("locked");return _r(this)}cancel(e){return wr(this)?_r(this)?d(new TypeError("Cannot cancel a stream that already has a reader")):Sr(this,e):d(Tr("cancel"))}getReader(e){if(!wr(this))throw Tr("getReader");return void 0===function(e,t){D(e,t);const r=null==e?void 0:e.mode;return{mode:void 0===r?void 0:dr(r,`${t} has member 'mode' that`)}}(e,"First parameter").mode?Y(this):Ve(this)}pipeThrough(e,t={}){if(!wr(this))throw Tr("pipeThrough");q(e,1,"pipeThrough");const r=function(e,t){D(e,t);const r=null==e?void 0:e.readable;V(r,"readable","ReadableWritablePair"),G(r,`${t} has member 'readable' that`);const n=null==e?void 0:e.writable;return V(n,"writable","ReadableWritablePair"),it(n,`${t} has member 'writable' that`),{readable:r,writable:n}}(e,"First parameter"),n=yr(t,"Second parameter");if(_r(this))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(ft(r.writable))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");return w(Xt(this,r.writable,n.preventClose,n.preventAbort,n.preventCancel,n.signal)),r.readable}pipeTo(e,t={}){if(!wr(this))return d(Tr("pipeTo"));if(void 0===e)return d("Parameter 1 is required in 'pipeTo'.");if(!lt(e))return d(new TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));let r;try{r=yr(t,"Second parameter")}catch(e){return d(e)}return _r(this)?d(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):ft(e)?d(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):Xt(this,e,r.preventClose,r.preventAbort,r.preventCancel,r.signal)}tee(){if(!wr(this))throw Tr("tee");return ue(ve((e=this)._readableStreamController)?function(e){let t,r,n,o,i,s=Y(e),a=!1,c=!1,u=!1,l=!1,f=!1;const d=h((e=>{i=e}));function y(e){v(e._closedPromise,(t=>{e===s&&(ke(n._readableStreamController,t),ke(o._readableStreamController,t),l&&f||i(void 0))}))}function b(){Ye(s)&&(A(s),s=Y(e),y(s)),te(s,{_chunkSteps:t=>{_((()=>{c=!1,u=!1;const r=t;let s=t;if(!l&&!f)try{s=he(t)}catch(t){return ke(n._readableStreamController,t),ke(o._readableStreamController,t),void i(Sr(e,t))}l||Ne(n._readableStreamController,r),f||Ne(o._readableStreamController,s),a=!1,c?g():u&&w()}))},_closeSteps:()=>{a=!1,l||Ie(n._readableStreamController),f||Ie(o._readableStreamController),n._readableStreamController._pendingPullIntos.length>0&&Le(n._readableStreamController,0),o._readableStreamController._pendingPullIntos.length>0&&Le(o._readableStreamController,0),l&&f||i(void 0)},_errorSteps:()=>{a=!1}})}function m(t,r){ee(s)&&(A(s),s=Ve(e),y(s));const h=r?o:n,p=r?n:o;Je(s,t,{_chunkSteps:t=>{_((()=>{c=!1,u=!1;const n=r?f:l;if(r?l:f)n||De(h._readableStreamController,t);else{let r;try{r=he(t)}catch(t){return ke(h._readableStreamController,t),ke(p._readableStreamController,t),void i(Sr(e,t))}n||De(h._readableStreamController,t),Ne(p._readableStreamController,r)}a=!1,c?g():u&&w()}))},_closeSteps:e=>{a=!1;const t=r?f:l,n=r?l:f;t||Ie(h._readableStreamController),n||Ie(p._readableStreamController),void 0!==e&&(t||De(h._readableStreamController,e),!n&&p._readableStreamController._pendingPullIntos.length>0&&Le(p._readableStreamController,0)),t&&n||i(void 0)},_errorSteps:()=>{a=!1}})}function g(){if(a)return c=!0,p(void 0);a=!0;const e=Me(n._readableStreamController);return null===e?b():m(e._view,!1),p(void 0)}function w(){if(a)return u=!0,p(void 0);a=!0;const e=Me(o._readableStreamController);return null===e?b():m(e._view,!0),p(void 0)}function S(){}return n=vr(S,g,(function(n){if(l=!0,t=n,f){const n=ue([t,r]),o=Sr(e,n);i(o)}return d})),o=vr(S,w,(function(n){if(f=!0,r=n,l){const n=ue([t,r]),o=Sr(e,n);i(o)}return d})),y(s),[n,o]}(e):function(e,t){const r=Y(e);let n,o,i,s,a,c=!1,u=!1,l=!1,f=!1;const d=h((e=>{a=e}));function y(){return c?(u=!0,p(void 0)):(c=!0,te(r,{_chunkSteps:e=>{_((()=>{u=!1;const t=e,r=e;l||or(i._readableStreamController,t),f||or(s._readableStreamController,r),c=!1,u&&y()}))},_closeSteps:()=>{c=!1,l||nr(i._readableStreamController),f||nr(s._readableStreamController),l&&f||a(void 0)},_errorSteps:()=>{c=!1}}),p(void 0))}function b(){}return i=mr(b,y,(function(t){if(l=!0,n=t,f){const t=ue([n,o]),r=Sr(e,t);a(r)}return d})),s=mr(b,y,(function(t){if(f=!0,o=t,l){const t=ue([n,o]),r=Sr(e,t);a(r)}return d})),v(r._closedPromise,(e=>{ir(i._readableStreamController,e),ir(s._readableStreamController,e),l&&f||a(void 0)})),[i,s]}(e));var e}values(e){if(!wr(this))throw Tr("values");return function(e,t){const r=Y(e),n=new oe(r,t),o=Object.create(ie);return o._asyncIteratorImpl=n,o}(this,function(e,t){D(e,"First parameter");const r=null==e?void 0:e.preventCancel;return{preventCancel:Boolean(r)}}(e).preventCancel)}}function mr(e,t,r,n=1,o=(()=>1)){const i=Object.create(br.prototype);return gr(i),cr(i,Object.create(Qt.prototype),e,t,r,n,o),i}function vr(e,t,r){const n=Object.create(br.prototype);return gr(n),Ue(n,Object.create(me.prototype),e,t,r,0,void 0),n}function gr(e){e._state="readable",e._reader=void 0,e._storedError=void 0,e._disturbed=!1}function wr(e){return!!s(e)&&!!Object.prototype.hasOwnProperty.call(e,"_readableStreamController")&&e instanceof br}function _r(e){return void 0!==e._reader}function Sr(e,t){if(e._disturbed=!0,"closed"===e._state)return p(void 0);if("errored"===e._state)return d(e._storedError);Or(e);const r=e._reader;return void 0!==r&&Ye(r)&&(r._readIntoRequests.forEach((e=>{e._closeSteps(void 0)})),r._readIntoRequests=new E),g(e._readableStreamController[k](t),o)}function Or(e){e._state="closed";const t=e._reader;void 0!==t&&(C(t),ee(t)&&(t._readRequests.forEach((e=>{e._closeSteps()})),t._readRequests=new E))}function Er(e,t){e._state="errored",e._storedError=t;const r=e._reader;void 0!==r&&(R(r,t),ee(r)?(r._readRequests.forEach((e=>{e._errorSteps(t)})),r._readRequests=new E):(r._readIntoRequests.forEach((e=>{e._errorSteps(t)})),r._readIntoRequests=new E))}function Tr(e){return new TypeError(`ReadableStream.prototype.${e} can only be used on a ReadableStream`)}function xr(e,t){D(e,t);const r=null==e?void 0:e.highWaterMark;return V(r,"highWaterMark","QueuingStrategyInit"),{highWaterMark:W(r)}}Object.defineProperties(br.prototype,{cancel:{enumerable:!0},getReader:{enumerable:!0},pipeThrough:{enumerable:!0},pipeTo:{enumerable:!0},tee:{enumerable:!0},values:{enumerable:!0},locked:{enumerable:!0}}),"symbol"==typeof n.toStringTag&&Object.defineProperty(br.prototype,n.toStringTag,{value:"ReadableStream",configurable:!0}),"symbol"==typeof n.asyncIterator&&Object.defineProperty(br.prototype,n.asyncIterator,{value:br.prototype.values,writable:!0,configurable:!0});const Ar=e=>e.byteLength;try{Object.defineProperty(Ar,"name",{value:"size",configurable:!0})}catch(e){}class Pr{constructor(e){q(e,1,"ByteLengthQueuingStrategy"),e=xr(e,"First parameter"),this._byteLengthQueuingStrategyHighWaterMark=e.highWaterMark}get highWaterMark(){if(!jr(this))throw $r("highWaterMark");return this._byteLengthQueuingStrategyHighWaterMark}get size(){if(!jr(this))throw $r("size");return Ar}}function $r(e){return new TypeError(`ByteLengthQueuingStrategy.prototype.${e} can only be used on a ByteLengthQueuingStrategy`)}function jr(e){return!!s(e)&&!!Object.prototype.hasOwnProperty.call(e,"_byteLengthQueuingStrategyHighWaterMark")&&e instanceof Pr}Object.defineProperties(Pr.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),"symbol"==typeof n.toStringTag&&Object.defineProperty(Pr.prototype,n.toStringTag,{value:"ByteLengthQueuingStrategy",configurable:!0});const Rr=()=>1;try{Object.defineProperty(Rr,"name",{value:"size",configurable:!0})}catch(e){}class Cr{constructor(e){q(e,1,"CountQueuingStrategy"),e=xr(e,"First parameter"),this._countQueuingStrategyHighWaterMark=e.highWaterMark}get highWaterMark(){if(!Nr(this))throw Ir("highWaterMark");return this._countQueuingStrategyHighWaterMark}get size(){if(!Nr(this))throw Ir("size");return Rr}}function Ir(e){return new TypeError(`CountQueuingStrategy.prototype.${e} can only be used on a CountQueuingStrategy`)}function Nr(e){return!!s(e)&&!!Object.prototype.hasOwnProperty.call(e,"_countQueuingStrategyHighWaterMark")&&e instanceof Cr}function kr(e,t,r){return U(e,r),r=>O(e,t,[r])}function Mr(e,t,r){return U(e,r),r=>S(e,t,[r])}function Fr(e,t,r){return U(e,r),(r,n)=>O(e,t,[r,n])}Object.defineProperties(Cr.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),"symbol"==typeof n.toStringTag&&Object.defineProperty(Cr.prototype,n.toStringTag,{value:"CountQueuingStrategy",configurable:!0});class Lr{constructor(e={},t={},r={}){void 0===e&&(e=null);const n=Ze(t,"Second parameter"),o=Ze(r,"Third parameter"),i=function(e,t){D(e,t);const r=null==e?void 0:e.flush,n=null==e?void 0:e.readableType,o=null==e?void 0:e.start,i=null==e?void 0:e.transform,s=null==e?void 0:e.writableType;return{flush:void 0===r?void 0:kr(r,e,`${t} has member 'flush' that`),readableType:n,start:void 0===o?void 0:Mr(o,e,`${t} has member 'start' that`),transform:void 0===i?void 0:Fr(i,e,`${t} has member 'transform' that`),writableType:s}}(e,"First parameter");if(void 0!==i.readableType)throw new RangeError("Invalid readableType specified");if(void 0!==i.writableType)throw new RangeError("Invalid writableType specified");const s=Xe(o,0),a=Qe(o),c=Xe(n,1),u=Qe(n);let l;!function(e,t,r,n,o,i){function s(){return t}e._writable=function(e,t,r,n,o=1,i=(()=>1)){const s=Object.create(at.prototype);return ut(s),$t(s,Object.create(At.prototype),e,t,r,n,o,i),s}(s,(function(t){return function(e,t){const r=e._transformStreamController;return e._backpressure?g(e._backpressureChangePromise,(()=>{const n=e._writable;if("erroring"===n._state)throw n._storedError;return Gr(r,t)})):Gr(r,t)}(e,t)}),(function(){return function(e){const t=e._readable,r=e._transformStreamController,n=r._flushAlgorithm();return zr(r),g(n,(()=>{if("errored"===t._state)throw t._storedError;nr(t._readableStreamController)}),(r=>{throw Ur(e,r),t._storedError}))}(e)}),(function(t){return function(e,t){return Ur(e,t),p(void 0)}(e,t)}),r,n),e._readable=mr(s,(function(){return function(e){return qr(e,!1),e._backpressureChangePromise}(e)}),(function(t){return Br(e,t),p(void 0)}),o,i),e._backpressure=void 0,e._backpressureChangePromise=void 0,e._backpressureChangePromise_resolve=void 0,qr(e,!0),e._transformStreamController=void 0}(this,h((e=>{l=e})),c,u,s,a),function(e,t){const r=Object.create(Vr.prototype);let n=e=>{try{return Hr(r,e),p(void 0)}catch(e){return d(e)}},o=()=>p(void 0);void 0!==t.transform&&(n=e=>t.transform(e,r)),void 0!==t.flush&&(o=()=>t.flush(r)),function(e,t,r,n){t._controlledTransformStream=e,e._transformStreamController=t,t._transformAlgorithm=r,t._flushAlgorithm=n}(e,r,n,o)}(this,i),void 0!==i.start?l(i.start(this._transformStreamController)):l(void 0)}get readable(){if(!Dr(this))throw Jr("readable");return this._readable}get writable(){if(!Dr(this))throw Jr("writable");return this._writable}}function Dr(e){return!!s(e)&&!!Object.prototype.hasOwnProperty.call(e,"_transformStreamController")&&e instanceof Lr}function Ur(e,t){ir(e._readable._readableStreamController,t),Br(e,t)}function Br(e,t){zr(e._transformStreamController),It(e._writable._writableStreamController,t),e._backpressure&&qr(e,!1)}function qr(e,t){void 0!==e._backpressureChangePromise&&e._backpressureChangePromise_resolve(),e._backpressureChangePromise=h((t=>{e._backpressureChangePromise_resolve=t})),e._backpressure=t}Object.defineProperties(Lr.prototype,{readable:{enumerable:!0},writable:{enumerable:!0}}),"symbol"==typeof n.toStringTag&&Object.defineProperty(Lr.prototype,n.toStringTag,{value:"TransformStream",configurable:!0});class Vr{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!Wr(this))throw Yr("desiredSize");return sr(this._controlledTransformStream._readable._readableStreamController)}enqueue(e){if(!Wr(this))throw Yr("enqueue");Hr(this,e)}error(e){if(!Wr(this))throw Yr("error");var t;t=e,Ur(this._controlledTransformStream,t)}terminate(){if(!Wr(this))throw Yr("terminate");!function(e){const t=e._controlledTransformStream;nr(t._readable._readableStreamController);Br(t,new TypeError("TransformStream terminated"))}(this)}}function Wr(e){return!!s(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledTransformStream")&&e instanceof Vr}function zr(e){e._transformAlgorithm=void 0,e._flushAlgorithm=void 0}function Hr(e,t){const r=e._controlledTransformStream,n=r._readable._readableStreamController;if(!ar(n))throw new TypeError("Readable side is not in a state that permits enqueue");try{or(n,t)}catch(e){throw Br(r,e),r._readable._storedError}const o=function(e){return!tr(e)}(n);o!==r._backpressure&&qr(r,!0)}function Gr(e,t){return g(e._transformAlgorithm(t),void 0,(t=>{throw Ur(e._controlledTransformStream,t),t}))}function Yr(e){return new TypeError(`TransformStreamDefaultController.prototype.${e} can only be used on a TransformStreamDefaultController`)}function Jr(e){return new TypeError(`TransformStream.prototype.${e} can only be used on a TransformStream`)}Object.defineProperties(Vr.prototype,{enqueue:{enumerable:!0},error:{enumerable:!0},terminate:{enumerable:!0},desiredSize:{enumerable:!0}}),"symbol"==typeof n.toStringTag&&Object.defineProperty(Vr.prototype,n.toStringTag,{value:"TransformStreamDefaultController",configurable:!0})},77664:e=>{e.exports=JSON.parse('{"$id":"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#","description":"Meta-schema for $data reference (JSON AnySchema extension proposal)","type":"object","required":["$data"],"properties":{"$data":{"type":"string","anyOf":[{"format":"relative-json-pointer"},{"format":"json-pointer"}]}},"additionalProperties":false}')},21379:e=>{e.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-07/schema#","$id":"http://json-schema.org/draft-07/schema#","title":"Core schema meta-schema","definitions":{"schemaArray":{"type":"array","minItems":1,"items":{"$ref":"#"}},"nonNegativeInteger":{"type":"integer","minimum":0},"nonNegativeIntegerDefault0":{"allOf":[{"$ref":"#/definitions/nonNegativeInteger"},{"default":0}]},"simpleTypes":{"enum":["array","boolean","integer","null","number","object","string"]},"stringArray":{"type":"array","items":{"type":"string"},"uniqueItems":true,"default":[]}},"type":["object","boolean"],"properties":{"$id":{"type":"string","format":"uri-reference"},"$schema":{"type":"string","format":"uri"},"$ref":{"type":"string","format":"uri-reference"},"$comment":{"type":"string"},"title":{"type":"string"},"description":{"type":"string"},"default":true,"readOnly":{"type":"boolean","default":false},"examples":{"type":"array","items":true},"multipleOf":{"type":"number","exclusiveMinimum":0},"maximum":{"type":"number"},"exclusiveMaximum":{"type":"number"},"minimum":{"type":"number"},"exclusiveMinimum":{"type":"number"},"maxLength":{"$ref":"#/definitions/nonNegativeInteger"},"minLength":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"pattern":{"type":"string","format":"regex"},"additionalItems":{"$ref":"#"},"items":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/schemaArray"}],"default":true},"maxItems":{"$ref":"#/definitions/nonNegativeInteger"},"minItems":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"uniqueItems":{"type":"boolean","default":false},"contains":{"$ref":"#"},"maxProperties":{"$ref":"#/definitions/nonNegativeInteger"},"minProperties":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"required":{"$ref":"#/definitions/stringArray"},"additionalProperties":{"$ref":"#"},"definitions":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"properties":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"patternProperties":{"type":"object","additionalProperties":{"$ref":"#"},"propertyNames":{"format":"regex"},"default":{}},"dependencies":{"type":"object","additionalProperties":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/stringArray"}]}},"propertyNames":{"$ref":"#"},"const":true,"enum":{"type":"array","items":true,"minItems":1,"uniqueItems":true},"type":{"anyOf":[{"$ref":"#/definitions/simpleTypes"},{"type":"array","items":{"$ref":"#/definitions/simpleTypes"},"minItems":1,"uniqueItems":true}]},"format":{"type":"string"},"contentMediaType":{"type":"string"},"contentEncoding":{"type":"string"},"if":{"$ref":"#"},"then":{"$ref":"#"},"else":{"$ref":"#"},"allOf":{"$ref":"#/definitions/schemaArray"},"anyOf":{"$ref":"#/definitions/schemaArray"},"oneOf":{"$ref":"#/definitions/schemaArray"},"not":{"$ref":"#"}},"default":true}')},4535:e=>{e.exports=JSON.parse('{"title":"Thing Description","version":"1.1-04-June-2021","description":"JSON Schema for validating TD instances against the TD information model. TD instances can be with or without terms that have default values","$schema ":"http://json-schema.org/draft-07/schema#","definitions":{"anyUri":{"type":"string","format":"iri-reference"},"description":{"type":"string"},"descriptions":{"type":"object","additionalProperties":{"type":"string"}},"title":{"type":"string"},"titles":{"type":"object","additionalProperties":{"type":"string"}},"security":{"oneOf":[{"type":"array","items":{"type":"string"}},{"type":"string"}]},"scopes":{"oneOf":[{"type":"array","items":{"type":"string"}},{"type":"string"}]},"subprotocol":{"type":"string","examples":["longpoll","websub","sse"]},"thing-context-w3c-uri":{"type":"string","enum":["https://www.w3.org/2019/wot/td/v1","http://www.w3.org/ns/td"]},"thing-context":{"oneOf":[{"type":"array","items":[{"$ref":"#/definitions/thing-context-w3c-uri"}],"additionalItems":{"anyOf":[{"$ref":"#/definitions/anyUri"},{"type":"object"}]}},{"$ref":"#/definitions/thing-context-w3c-uri"}]},"type_declaration":{"oneOf":[{"type":"string","not":{"const":"tm:ThingModel"}},{"type":"array","items":{"type":"string","not":{"const":"tm:ThingModel"}}}]},"dataSchema":{"type":"object","properties":{"@type":{"$ref":"#/definitions/type_declaration"},"description":{"$ref":"#/definitions/description"},"title":{"$ref":"#/definitions/title"},"descriptions":{"$ref":"#/definitions/descriptions"},"titles":{"$ref":"#/definitions/titles"},"writeOnly":{"type":"boolean"},"readOnly":{"type":"boolean"},"oneOf":{"type":"array","items":{"$ref":"#/definitions/dataSchema"}},"unit":{"type":"string"},"enum":{"type":"array","minItems":1,"uniqueItems":true},"format":{"type":"string"},"const":{},"contentEncoding":{"type":"string"},"contentMediaType":{"type":"string"},"type":{"type":"string","enum":["boolean","integer","number","string","object","array","null"]},"items":{"oneOf":[{"$ref":"#/definitions/dataSchema"},{"type":"array","items":{"$ref":"#/definitions/dataSchema"}}]},"maxItems":{"type":"integer","minimum":0},"minItems":{"type":"integer","minimum":0},"minimum":{"type":"number"},"maximum":{"type":"number"},"minLength":{"type":"integer","minimum":0},"maxLength":{"type":"integer","minimum":0},"multipleOf":{"$ref":"#/definitions/multipleOfDefinition"},"properties":{"additionalProperties":{"$ref":"#/definitions/dataSchema"}},"required":{"type":"array","items":{"type":"string"}}}},"additionalResponsesDefinition":{"type":"array","items":{"type":"object","properties":{"contentType":{"type":"string"},"schema":{"type":"string"},"success":{"type":"boolean"}}}},"multipleOfDefinition":{"anyOf":[{"type":"integer","exclusiveMinimum":0},{"type":"number","exclusiveMinimum":0}]},"form_element_property":{"type":"object","properties":{"op":{"oneOf":[{"type":"string","enum":["readproperty","writeproperty","observeproperty","unobserveproperty"]},{"type":"array","items":{"type":"string","enum":["readproperty","writeproperty","observeproperty","unobserveproperty"]}}]},"href":{"$ref":"#/definitions/anyUri"},"contentType":{"type":"string"},"contentCoding":{"type":"string"},"subprotocol":{"$ref":"#/definitions/subprotocol"},"security":{"$ref":"#/definitions/security"},"scopes":{"$ref":"#/definitions/scopes"},"response":{"type":"object","properties":{"contentType":{"type":"string"}}},"additionalResponses":{"$ref":"#/definitions/additionalResponsesDefinition"}},"required":["href"],"additionalProperties":true},"form_element_action":{"type":"object","properties":{"op":{"oneOf":[{"type":"string","enum":["invokeaction","queryaction","cancelaction"]},{"type":"array","items":{"type":"string","enum":["invokeaction","queryaction","cancelaction"]}}]},"href":{"$ref":"#/definitions/anyUri"},"contentType":{"type":"string"},"contentCoding":{"type":"string"},"subprotocol":{"$ref":"#/definitions/subprotocol"},"security":{"$ref":"#/definitions/security"},"scopes":{"$ref":"#/definitions/scopes"},"response":{"type":"object","properties":{"contentType":{"type":"string"}}},"additionalResponses":{"$ref":"#/definitions/additionalResponsesDefinition"}},"required":["href"],"additionalProperties":true},"form_element_event":{"type":"object","properties":{"op":{"oneOf":[{"type":"string","enum":["subscribeevent","unsubscribeevent"]},{"type":"array","items":{"type":"string","enum":["subscribeevent","unsubscribeevent"]}}]},"href":{"$ref":"#/definitions/anyUri"},"contentType":{"type":"string"},"contentCoding":{"type":"string"},"subprotocol":{"$ref":"#/definitions/subprotocol"},"security":{"$ref":"#/definitions/security"},"scopes":{"$ref":"#/definitions/scopes"},"response":{"type":"object","properties":{"contentType":{"type":"string"}}},"additionalResponses":{"$ref":"#/definitions/additionalResponsesDefinition"}},"required":["href"],"additionalProperties":true},"form_element_root":{"type":"object","properties":{"op":{"oneOf":[{"type":"string","enum":["readallproperties","writeallproperties","readmultipleproperties","writemultipleproperties","observeallproperties","unobserveallproperties","queryallactions","subscribeallevents","unsubscribeallevents"]},{"type":"array","items":{"type":"string","enum":["readallproperties","writeallproperties","readmultipleproperties","writemultipleproperties","observeallproperties","unobserveallproperties","queryallactions","subscribeallevents","unsubscribeallevents"]}}]},"href":{"$ref":"#/definitions/anyUri"},"contentType":{"type":"string"},"contentCoding":{"type":"string"},"subprotocol":{"$ref":"#/definitions/subprotocol"},"security":{"$ref":"#/definitions/security"},"scopes":{"$ref":"#/definitions/scopes"},"response":{"type":"object","properties":{"contentType":{"type":"string"}}},"additionalResponses":{"$ref":"#/definitions/additionalResponsesDefinition"}},"required":["href"],"additionalProperties":true},"property_element":{"type":"object","properties":{"@type":{"$ref":"#/definitions/type_declaration"},"description":{"$ref":"#/definitions/description"},"descriptions":{"$ref":"#/definitions/descriptions"},"title":{"$ref":"#/definitions/title"},"titles":{"$ref":"#/definitions/titles"},"forms":{"type":"array","minItems":1,"items":{"$ref":"#/definitions/form_element_property"}},"uriVariables":{"type":"object","additionalProperties":{"$ref":"#/definitions/dataSchema"}},"observable":{"type":"boolean"},"writeOnly":{"type":"boolean"},"readOnly":{"type":"boolean"},"oneOf":{"type":"array","items":{"$ref":"#/definitions/dataSchema"}},"unit":{"type":"string"},"enum":{"type":"array","minItems":1,"uniqueItems":true},"format":{"type":"string"},"const":{},"type":{"type":"string","enum":["boolean","integer","number","string","object","array","null"]},"items":{"oneOf":[{"$ref":"#/definitions/dataSchema"},{"type":"array","items":{"$ref":"#/definitions/dataSchema"}}]},"maxItems":{"type":"integer","minimum":0},"minItems":{"type":"integer","minimum":0},"minimum":{"type":"number"},"maximum":{"type":"number"},"minLength":{"type":"integer","minimum":0},"maxLength":{"type":"integer","minimum":0},"multipleOf":{"$ref":"#/definitions/multipleOfDefinition"},"properties":{"additionalProperties":{"$ref":"#/definitions/dataSchema"}},"required":{"type":"array","items":{"type":"string"}}},"required":["forms"],"additionalProperties":true},"action_element":{"type":"object","properties":{"@type":{"$ref":"#/definitions/type_declaration"},"description":{"$ref":"#/definitions/description"},"descriptions":{"$ref":"#/definitions/descriptions"},"title":{"$ref":"#/definitions/title"},"titles":{"$ref":"#/definitions/titles"},"forms":{"type":"array","minItems":1,"items":{"$ref":"#/definitions/form_element_action"}},"uriVariables":{"type":"object","additionalProperties":{"$ref":"#/definitions/dataSchema"}},"input":{"$ref":"#/definitions/dataSchema"},"output":{"$ref":"#/definitions/dataSchema"},"safe":{"type":"boolean"},"idempotent":{"type":"boolean"}},"required":["forms"],"additionalProperties":true},"event_element":{"type":"object","properties":{"@type":{"$ref":"#/definitions/type_declaration"},"description":{"$ref":"#/definitions/description"},"descriptions":{"$ref":"#/definitions/descriptions"},"title":{"$ref":"#/definitions/title"},"titles":{"$ref":"#/definitions/titles"},"forms":{"type":"array","minItems":1,"items":{"$ref":"#/definitions/form_element_event"}},"uriVariables":{"type":"object","additionalProperties":{"$ref":"#/definitions/dataSchema"}},"subscription":{"$ref":"#/definitions/dataSchema"},"data":{"$ref":"#/definitions/dataSchema"},"cancellation":{"$ref":"#/definitions/dataSchema"}},"required":["forms"],"additionalProperties":true},"base_link_element":{"type":"object","properties":{"href":{"$ref":"#/definitions/anyUri"},"type":{"type":"string"},"rel":{"type":"string"},"anchor":{"$ref":"#/definitions/anyUri"}},"required":["href"],"additionalProperties":true},"link_element":{"allOf":[{"$ref":"#/definitions/base_link_element"},{"not":{"description":"A basic link element should not contain sizes","type":"object","properties":{"sizes":{}},"required":["sizes"]}},{"not":{"description":"A basic link element should not contain icon or tm:extends","properties":{"rel":{"enum":["icon","tm:extends"]}},"required":["rel"]}}]},"icon_link_element":{"allOf":[{"$ref":"#/definitions/base_link_element"},{"properties":{"rel":{"const":"icon"},"sizes":{"type":"string","pattern":"[0-9]*x[0-9]+"}},"required":["rel"]}]},"securityScheme":{"oneOf":[{"type":"object","properties":{"@type":{"$ref":"#/definitions/type_declaration"},"description":{"$ref":"#/definitions/description"},"descriptions":{"$ref":"#/definitions/descriptions"},"proxy":{"$ref":"#/definitions/anyUri"},"scheme":{"type":"string","enum":["nosec"]}},"required":["scheme"]},{"type":"object","properties":{"@type":{"$ref":"#/definitions/type_declaration"},"description":{"$ref":"#/definitions/description"},"descriptions":{"$ref":"#/definitions/descriptions"},"proxy":{"$ref":"#/definitions/anyUri"},"scheme":{"type":"string","enum":["combo"]},"oneOf":{"type":"array","minItems":2,"items":{"type":"string"}}},"required":["scheme","oneOf"]},{"type":"object","properties":{"@type":{"$ref":"#/definitions/type_declaration"},"description":{"$ref":"#/definitions/description"},"descriptions":{"$ref":"#/definitions/descriptions"},"proxy":{"$ref":"#/definitions/anyUri"},"scheme":{"type":"string","enum":["combo"]},"allOf":{"type":"array","minItems":2,"items":{"type":"string"}}},"required":["scheme","allOf"]},{"type":"object","properties":{"@type":{"$ref":"#/definitions/type_declaration"},"description":{"$ref":"#/definitions/description"},"descriptions":{"$ref":"#/definitions/descriptions"},"proxy":{"$ref":"#/definitions/anyUri"},"scheme":{"type":"string","enum":["basic"]},"in":{"type":"string","enum":["header","query","body","cookie"]},"name":{"type":"string"}},"required":["scheme"]},{"type":"object","properties":{"@type":{"$ref":"#/definitions/type_declaration"},"description":{"$ref":"#/definitions/description"},"descriptions":{"$ref":"#/definitions/descriptions"},"proxy":{"$ref":"#/definitions/anyUri"},"scheme":{"type":"string","enum":["digest"]},"qop":{"type":"string","enum":["auth","auth-int"]},"in":{"type":"string","enum":["header","query","body","cookie"]},"name":{"type":"string"}},"required":["scheme"]},{"type":"object","properties":{"@type":{"$ref":"#/definitions/type_declaration"},"description":{"$ref":"#/definitions/description"},"descriptions":{"$ref":"#/definitions/descriptions"},"proxy":{"$ref":"#/definitions/anyUri"},"scheme":{"type":"string","enum":["apikey"]},"in":{"type":"string","enum":["header","query","body","cookie"]},"name":{"type":"string"}},"required":["scheme"]},{"type":"object","properties":{"@type":{"$ref":"#/definitions/type_declaration"},"description":{"$ref":"#/definitions/description"},"descriptions":{"$ref":"#/definitions/descriptions"},"proxy":{"$ref":"#/definitions/anyUri"},"scheme":{"type":"string","enum":["bearer"]},"authorization":{"$ref":"#/definitions/anyUri"},"alg":{"type":"string"},"format":{"type":"string"},"in":{"type":"string","enum":["header","query","body","cookie"]},"name":{"type":"string"}},"required":["scheme"]},{"type":"object","properties":{"@type":{"$ref":"#/definitions/type_declaration"},"description":{"$ref":"#/definitions/description"},"descriptions":{"$ref":"#/definitions/descriptions"},"proxy":{"$ref":"#/definitions/anyUri"},"scheme":{"type":"string","enum":["psk"]},"identity":{"type":"string"}},"required":["scheme"]},{"type":"object","properties":{"@type":{"$ref":"#/definitions/type_declaration"},"description":{"$ref":"#/definitions/description"},"descriptions":{"$ref":"#/definitions/descriptions"},"proxy":{"$ref":"#/definitions/anyUri"},"scheme":{"type":"string","enum":["oauth2"]},"authorization":{"$ref":"#/definitions/anyUri"},"token":{"$ref":"#/definitions/anyUri"},"refresh":{"$ref":"#/definitions/anyUri"},"scopes":{"oneOf":[{"type":"array","items":{"type":"string"}},{"type":"string"}]},"flow":{"type":"string","enum":["code"]}},"required":["scheme"]}]}},"type":"object","properties":{"id":{"type":"string","format":"uri"},"title":{"$ref":"#/definitions/title"},"titles":{"$ref":"#/definitions/titles"},"properties":{"type":"object","additionalProperties":{"$ref":"#/definitions/property_element"}},"actions":{"type":"object","additionalProperties":{"$ref":"#/definitions/action_element"}},"events":{"type":"object","additionalProperties":{"$ref":"#/definitions/event_element"}},"description":{"$ref":"#/definitions/description"},"descriptions":{"$ref":"#/definitions/descriptions"},"version":{"type":"object","properties":{"instance":{"type":"string"}},"required":["instance"]},"links":{"type":"array","items":{"oneOf":[{"$ref":"#/definitions/link_element"},{"$ref":"#/definitions/icon_link_element"}]}},"forms":{"type":"array","minItems":1,"items":{"$ref":"#/definitions/form_element_root"}},"base":{"$ref":"#/definitions/anyUri"},"securityDefinitions":{"type":"object","minProperties":1,"additionalProperties":{"$ref":"#/definitions/securityScheme"}},"schemaDefinitions":{"type":"object","minProperties":1,"additionalProperties":{"$ref":"#/definitions/dataSchema"}},"support":{"$ref":"#/definitions/anyUri"},"created":{"type":"string","format":"date-time"},"modified":{"type":"string","format":"date-time"},"security":{"oneOf":[{"type":"string"},{"type":"array","minItems":1,"items":{"type":"string"}}]},"@type":{"$ref":"#/definitions/type_declaration"},"@context":{"$ref":"#/definitions/thing-context"}},"required":["title","security","securityDefinitions","@context"],"additionalProperties":true}')},88766:e=>{e.exports=JSON.parse('{"title":"Thing Model","version":"1.1-29-December-2021","description":"JSON Schema for validating Thing Models. This is automatically generated from the WoT TD Schema.","$schema ":"http://json-schema.org/draft-07/schema#","definitions":{"anyUri":{"type":"string"},"description":{"type":"string"},"descriptions":{"type":"object","additionalProperties":{"type":"string"}},"title":{"type":"string"},"titles":{"type":"object","additionalProperties":{"type":"string"}},"security":{"oneOf":[{"type":"array","items":{"type":"string"}},{"type":"string"}]},"scopes":{"oneOf":[{"type":"array","items":{"type":"string"}},{"type":"string"}]},"subprotocol":{"type":"string","examples":["longpoll","websub","sse"]},"thing-context-w3c-uri":{"type":"string","enum":["https://www.w3.org/2019/wot/td/v1","http://www.w3.org/ns/td"]},"thing-context":{"oneOf":[{"type":"array","items":[{"$ref":"#/definitions/thing-context-w3c-uri"}],"additionalItems":{"anyOf":[{"$ref":"#/definitions/anyUri"},{"type":"object"}]}},{"$ref":"#/definitions/thing-context-w3c-uri"}]},"type_declaration":{"oneOf":[{"type":"string"},{"type":"array","items":{"type":"string"}}]},"dataSchema-type":{"oneOf":[{"type":"string","anyOf":[{"enum":["boolean","integer","number","string","object","array","null"]},{"type":"string","pattern":"^.*[{]{2}[ -~]+[}]{2}.*$"}]},{"type":"array","items":{"type":"string","anyOf":[{"enum":["boolean","integer","number","string","object","array","null"]},{"type":"string","pattern":"^.*[{]{2}[ -~]+[}]{2}.*$"}]}}]},"dataSchema":{"type":"object","properties":{"@type":{"$ref":"#/definitions/type_declaration"},"description":{"$ref":"#/definitions/description"},"title":{"$ref":"#/definitions/title"},"descriptions":{"$ref":"#/definitions/descriptions"},"titles":{"$ref":"#/definitions/titles"},"writeOnly":{"anyOf":[{"type":"boolean"},{"type":"string","pattern":"^.*[{]{2}[ -~]+[}]{2}.*$"}]},"readOnly":{"anyOf":[{"type":"boolean"},{"type":"string","pattern":"^.*[{]{2}[ -~]+[}]{2}.*$"}]},"oneOf":{"type":"array","items":{"$ref":"#/definitions/dataSchema"}},"unit":{"type":"string"},"enum":{"type":"array","minItems":1,"uniqueItems":true},"format":{"type":"string"},"const":{},"contentEncoding":{"type":"string"},"contentMediaType":{"type":"string"},"type":{"$ref":"#/definitions/dataSchema-type"},"items":{"oneOf":[{"$ref":"#/definitions/dataSchema"},{"type":"array","items":{"$ref":"#/definitions/dataSchema"}}]},"maxItems":{"anyOf":[{"type":"integer","minimum":0},{"type":"string","pattern":"^.*[{]{2}[ -~]+[}]{2}.*$"}]},"minItems":{"anyOf":[{"type":"integer","minimum":0},{"type":"string","pattern":"^.*[{]{2}[ -~]+[}]{2}.*$"}]},"minimum":{"anyOf":[{"type":"number"},{"type":"string","pattern":"^.*[{]{2}[ -~]+[}]{2}.*$"}]},"maximum":{"anyOf":[{"type":"number"},{"type":"string","pattern":"^.*[{]{2}[ -~]+[}]{2}.*$"}]},"minLength":{"anyOf":[{"type":"integer","minimum":0},{"type":"string","pattern":"^.*[{]{2}[ -~]+[}]{2}.*$"}]},"maxLength":{"anyOf":[{"type":"integer","minimum":0},{"type":"string","pattern":"^.*[{]{2}[ -~]+[}]{2}.*$"}]},"multipleOf":{"$ref":"#/definitions/multipleOfDefinition"},"properties":{"additionalProperties":{"$ref":"#/definitions/dataSchema"}},"required":{"type":"array","items":{"type":"string"}},"tm:ref":{"$ref":"#/definitions/tm_ref"}}},"additionalResponsesDefinition":{"type":"array","items":{"type":"object","properties":{"contentType":{"type":"string"},"schema":{"type":"string"},"success":{"type":"boolean"}}}},"multipleOfDefinition":{"anyOf":[{"type":["integer","number"],"exclusiveMinimum":0},{"type":"string","pattern":"^.*[{]{2}[ -~]+[}]{2}.*$"}]},"expectedResponse":{"type":"object","properties":{"contentType":{"type":"string"}}},"form_element_base":{"type":"object","properties":{"op":{"oneOf":[{"type":"string"},{"type":"array","items":{"type":"string"}}]},"href":{"$ref":"#/definitions/anyUri"},"contentType":{"type":"string"},"contentCoding":{"type":"string"},"subprotocol":{"$ref":"#/definitions/subprotocol"},"security":{"$ref":"#/definitions/security"},"scopes":{"$ref":"#/definitions/scopes"},"response":{"$ref":"#/definitions/expectedResponse"},"additionalResponses":{"$ref":"#/definitions/additionalResponsesDefinition"}},"additionalProperties":true},"form_element_property":{"allOf":[{"$ref":"#/definitions/form_element_base"}],"type":"object","properties":{"op":{"oneOf":[{"type":"string","anyOf":[{"enum":["readproperty","writeproperty","observeproperty","unobserveproperty"]},{"type":"string","pattern":"^.*[{]{2}[ -~]+[}]{2}.*$"}]},{"type":"array","items":{"type":"string","anyOf":[{"enum":["readproperty","writeproperty","observeproperty","unobserveproperty"]},{"type":"string","pattern":"^.*[{]{2}[ -~]+[}]{2}.*$"}]}}]},"tm:ref":{"$ref":"#/definitions/tm_ref"}},"additionalProperties":true},"form_element_action":{"allOf":[{"$ref":"#/definitions/form_element_base"}],"type":"object","properties":{"op":{"oneOf":[{"type":"string","anyOf":[{"enum":["invokeaction","queryaction","cancelaction"]},{"type":"string","pattern":"^.*[{]{2}[ -~]+[}]{2}.*$"}]},{"type":"array","items":{"type":"string","anyOf":[{"enum":["invokeaction","queryaction","cancelaction"]},{"type":"string","pattern":"^.*[{]{2}[ -~]+[}]{2}.*$"}]}}]},"tm:ref":{"$ref":"#/definitions/tm_ref"}},"additionalProperties":true},"form_element_event":{"allOf":[{"$ref":"#/definitions/form_element_base"}],"type":"object","properties":{"op":{"oneOf":[{"type":"string","anyOf":[{"enum":["subscribeevent","unsubscribeevent"]},{"type":"string","pattern":"^.*[{]{2}[ -~]+[}]{2}.*$"}]},{"type":"array","items":{"type":"string","anyOf":[{"enum":["subscribeevent","unsubscribeevent"]},{"type":"string","pattern":"^.*[{]{2}[ -~]+[}]{2}.*$"}]}}]},"tm:ref":{"$ref":"#/definitions/tm_ref"}},"additionalProperties":true},"form_element_root":{"allOf":[{"$ref":"#/definitions/form_element_base"}],"type":"object","properties":{"op":{"oneOf":[{"type":"string","anyOf":[{"enum":["readallproperties","writeallproperties","readmultipleproperties","writemultipleproperties","observeallproperties","unobserveallproperties","queryallactions","subscribeallevents","unsubscribeallevents"]},{"type":"string","pattern":"^.*[{]{2}[ -~]+[}]{2}.*$"}]},{"type":"array","items":{"type":"string","anyOf":[{"enum":["readallproperties","writeallproperties","readmultipleproperties","writemultipleproperties","observeallproperties","unobserveallproperties","queryallactions","subscribeallevents","unsubscribeallevents"]},{"type":"string","pattern":"^.*[{]{2}[ -~]+[}]{2}.*$"}]}}]},"tm:ref":{"$ref":"#/definitions/tm_ref"}},"additionalProperties":true},"form":{"$comment":"This is NOT for validation purposes but for automatic generation of TS types. For more info, please see: https://github.com/w3c/wot-thing-description/pull/1319#issuecomment-994950057","oneOf":[{"$ref":"#/definitions/form_element_property"},{"$ref":"#/definitions/form_element_action"},{"$ref":"#/definitions/form_element_event"},{"$ref":"#/definitions/form_element_root"}]},"property_element":{"type":"object","properties":{"@type":{"$ref":"#/definitions/type_declaration"},"description":{"$ref":"#/definitions/description"},"descriptions":{"$ref":"#/definitions/descriptions"},"title":{"$ref":"#/definitions/title"},"titles":{"$ref":"#/definitions/titles"},"forms":{"type":"array","minItems":1,"items":{"$ref":"#/definitions/form_element_property"}},"uriVariables":{"type":"object","additionalProperties":{"$ref":"#/definitions/dataSchema"}},"observable":{"anyOf":[{"type":"boolean"},{"type":"string","pattern":"^.*[{]{2}[ -~]+[}]{2}.*$"}]},"writeOnly":{"anyOf":[{"type":"boolean"},{"type":"string","pattern":"^.*[{]{2}[ -~]+[}]{2}.*$"}]},"readOnly":{"anyOf":[{"type":"boolean"},{"type":"string","pattern":"^.*[{]{2}[ -~]+[}]{2}.*$"}]},"oneOf":{"type":"array","items":{"$ref":"#/definitions/dataSchema"}},"unit":{"type":"string"},"enum":{"type":"array","minItems":1,"uniqueItems":true},"format":{"type":"string"},"const":{},"type":{"$ref":"#/definitions/dataSchema-type"},"items":{"oneOf":[{"$ref":"#/definitions/dataSchema"},{"type":"array","items":{"$ref":"#/definitions/dataSchema"}}]},"maxItems":{"anyOf":[{"type":"integer","minimum":0},{"type":"string","pattern":"^.*[{]{2}[ -~]+[}]{2}.*$"}]},"minItems":{"anyOf":[{"type":"integer","minimum":0},{"type":"string","pattern":"^.*[{]{2}[ -~]+[}]{2}.*$"}]},"minimum":{"anyOf":[{"type":"number"},{"type":"string","pattern":"^.*[{]{2}[ -~]+[}]{2}.*$"}]},"maximum":{"anyOf":[{"type":"number"},{"type":"string","pattern":"^.*[{]{2}[ -~]+[}]{2}.*$"}]},"minLength":{"anyOf":[{"type":"integer","minimum":0},{"type":"string","pattern":"^.*[{]{2}[ -~]+[}]{2}.*$"}]},"maxLength":{"anyOf":[{"type":"integer","minimum":0},{"type":"string","pattern":"^.*[{]{2}[ -~]+[}]{2}.*$"}]},"multipleOf":{"$ref":"#/definitions/multipleOfDefinition"},"properties":{"additionalProperties":{"$ref":"#/definitions/dataSchema"}},"required":{"type":"array","items":{"type":"string"}},"tm:ref":{"$ref":"#/definitions/tm_ref"}},"additionalProperties":true},"action_element":{"type":"object","properties":{"@type":{"$ref":"#/definitions/type_declaration"},"description":{"$ref":"#/definitions/description"},"descriptions":{"$ref":"#/definitions/descriptions"},"title":{"$ref":"#/definitions/title"},"titles":{"$ref":"#/definitions/titles"},"forms":{"type":"array","minItems":1,"items":{"$ref":"#/definitions/form_element_action"}},"uriVariables":{"type":"object","additionalProperties":{"$ref":"#/definitions/dataSchema"}},"input":{"$ref":"#/definitions/dataSchema"},"output":{"$ref":"#/definitions/dataSchema"},"safe":{"anyOf":[{"type":"boolean"},{"type":"string","pattern":"^.*[{]{2}[ -~]+[}]{2}.*$"}]},"idempotent":{"anyOf":[{"type":"boolean"},{"type":"string","pattern":"^.*[{]{2}[ -~]+[}]{2}.*$"}]},"tm:ref":{"$ref":"#/definitions/tm_ref"}},"additionalProperties":true},"event_element":{"type":"object","properties":{"@type":{"$ref":"#/definitions/type_declaration"},"description":{"$ref":"#/definitions/description"},"descriptions":{"$ref":"#/definitions/descriptions"},"title":{"$ref":"#/definitions/title"},"titles":{"$ref":"#/definitions/titles"},"forms":{"type":"array","minItems":1,"items":{"$ref":"#/definitions/form_element_event"}},"uriVariables":{"type":"object","additionalProperties":{"$ref":"#/definitions/dataSchema"}},"subscription":{"$ref":"#/definitions/dataSchema"},"data":{"$ref":"#/definitions/dataSchema"},"cancellation":{"$ref":"#/definitions/dataSchema"},"tm:ref":{"$ref":"#/definitions/tm_ref"}},"additionalProperties":true},"base_link_element":{"type":"object","properties":{"href":{"$ref":"#/definitions/anyUri"},"type":{"type":"string"},"rel":{"type":"string"},"anchor":{"$ref":"#/definitions/anyUri"}},"additionalProperties":true},"link_element":{"allOf":[{"$ref":"#/definitions/base_link_element"},{"not":{"description":"A basic link element should not contain sizes","type":"object","properties":{"sizes":{}},"required":["sizes"]}},{"not":{"description":"A basic link element should not contain icon","properties":{"rel":{"anyOf":[{"enum":["icon"]},{"type":"string","pattern":"^.*[{]{2}[ -~]+[}]{2}.*$"}]}},"required":["rel"]}}]},"icon_link_element":{"allOf":[{"$ref":"#/definitions/base_link_element"},{"properties":{"rel":{"const":"icon"},"sizes":{"type":"string","pattern":"[0-9]*x[0-9]+"}},"required":["rel"]}]},"noSecurityScheme":{"type":"object","properties":{"@type":{"$ref":"#/definitions/type_declaration"},"description":{"$ref":"#/definitions/description"},"descriptions":{"$ref":"#/definitions/descriptions"},"proxy":{"$ref":"#/definitions/anyUri"},"scheme":{"type":"string","anyOf":[{"enum":["nosec"]},{"type":"string","pattern":"^.*[{]{2}[ -~]+[}]{2}.*$"}]},"tm:ref":{"$ref":"#/definitions/tm_ref"}}},"comboSecurityScheme":{"oneOf":[{"type":"object","properties":{"@type":{"$ref":"#/definitions/type_declaration"},"description":{"$ref":"#/definitions/description"},"descriptions":{"$ref":"#/definitions/descriptions"},"proxy":{"$ref":"#/definitions/anyUri"},"scheme":{"type":"string","anyOf":[{"enum":["combo"]},{"type":"string","pattern":"^.*[{]{2}[ -~]+[}]{2}.*$"}]},"oneOf":{"type":"array","minItems":2,"items":{"type":"string"}},"tm:ref":{"$ref":"#/definitions/tm_ref"}}},{"type":"object","properties":{"@type":{"$ref":"#/definitions/type_declaration"},"description":{"$ref":"#/definitions/description"},"descriptions":{"$ref":"#/definitions/descriptions"},"proxy":{"$ref":"#/definitions/anyUri"},"scheme":{"type":"string","anyOf":[{"enum":["combo"]},{"type":"string","pattern":"^.*[{]{2}[ -~]+[}]{2}.*$"}]},"allOf":{"type":"array","minItems":2,"items":{"type":"string"}},"tm:ref":{"$ref":"#/definitions/tm_ref"}}}]},"basicSecurityScheme":{"type":"object","properties":{"@type":{"$ref":"#/definitions/type_declaration"},"description":{"$ref":"#/definitions/description"},"descriptions":{"$ref":"#/definitions/descriptions"},"proxy":{"$ref":"#/definitions/anyUri"},"scheme":{"type":"string","anyOf":[{"enum":["basic"]},{"type":"string","pattern":"^.*[{]{2}[ -~]+[}]{2}.*$"}]},"in":{"type":"string","anyOf":[{"enum":["header","query","body","cookie"]},{"type":"string","pattern":"^.*[{]{2}[ -~]+[}]{2}.*$"}]},"name":{"type":"string"},"tm:ref":{"$ref":"#/definitions/tm_ref"}}},"digestSecurityScheme":{"type":"object","properties":{"@type":{"$ref":"#/definitions/type_declaration"},"description":{"$ref":"#/definitions/description"},"descriptions":{"$ref":"#/definitions/descriptions"},"proxy":{"$ref":"#/definitions/anyUri"},"scheme":{"type":"string","anyOf":[{"enum":["digest"]},{"type":"string","pattern":"^.*[{]{2}[ -~]+[}]{2}.*$"}]},"qop":{"type":"string","anyOf":[{"enum":["auth","auth-int"]},{"type":"string","pattern":"^.*[{]{2}[ -~]+[}]{2}.*$"}]},"in":{"type":"string","anyOf":[{"enum":["header","query","body","cookie"]},{"type":"string","pattern":"^.*[{]{2}[ -~]+[}]{2}.*$"}]},"name":{"type":"string"},"tm:ref":{"$ref":"#/definitions/tm_ref"}}},"apiKeySecurityScheme":{"type":"object","properties":{"@type":{"$ref":"#/definitions/type_declaration"},"description":{"$ref":"#/definitions/description"},"descriptions":{"$ref":"#/definitions/descriptions"},"proxy":{"$ref":"#/definitions/anyUri"},"scheme":{"type":"string","anyOf":[{"enum":["apikey"]},{"type":"string","pattern":"^.*[{]{2}[ -~]+[}]{2}.*$"}]},"in":{"type":"string","anyOf":[{"enum":["header","query","body","cookie"]},{"type":"string","pattern":"^.*[{]{2}[ -~]+[}]{2}.*$"}]},"name":{"type":"string"},"tm:ref":{"$ref":"#/definitions/tm_ref"}}},"bearerSecurityScheme":{"type":"object","properties":{"@type":{"$ref":"#/definitions/type_declaration"},"description":{"$ref":"#/definitions/description"},"descriptions":{"$ref":"#/definitions/descriptions"},"proxy":{"$ref":"#/definitions/anyUri"},"scheme":{"type":"string","anyOf":[{"enum":["bearer"]},{"type":"string","pattern":"^.*[{]{2}[ -~]+[}]{2}.*$"}]},"authorization":{"$ref":"#/definitions/anyUri"},"alg":{"type":"string"},"format":{"type":"string"},"in":{"type":"string","anyOf":[{"enum":["header","query","body","cookie"]},{"type":"string","pattern":"^.*[{]{2}[ -~]+[}]{2}.*$"}]},"name":{"type":"string"},"tm:ref":{"$ref":"#/definitions/tm_ref"}}},"pskSecurityScheme":{"type":"object","properties":{"@type":{"$ref":"#/definitions/type_declaration"},"description":{"$ref":"#/definitions/description"},"descriptions":{"$ref":"#/definitions/descriptions"},"proxy":{"$ref":"#/definitions/anyUri"},"scheme":{"type":"string","anyOf":[{"enum":["psk"]},{"type":"string","pattern":"^.*[{]{2}[ -~]+[}]{2}.*$"}]},"identity":{"type":"string"},"tm:ref":{"$ref":"#/definitions/tm_ref"}}},"oAuth2SecurityScheme":{"type":"object","properties":{"@type":{"$ref":"#/definitions/type_declaration"},"description":{"$ref":"#/definitions/description"},"descriptions":{"$ref":"#/definitions/descriptions"},"proxy":{"$ref":"#/definitions/anyUri"},"scheme":{"type":"string","anyOf":[{"enum":["oauth2"]},{"type":"string","pattern":"^.*[{]{2}[ -~]+[}]{2}.*$"}]},"authorization":{"$ref":"#/definitions/anyUri"},"token":{"$ref":"#/definitions/anyUri"},"refresh":{"$ref":"#/definitions/anyUri"},"scopes":{"oneOf":[{"type":"array","items":{"type":"string"}},{"type":"string"}]},"flow":{"anyOf":[{"type":"string"},{"type":"string","anyOf":[{"enum":["code","client","device"]},{"type":"string","pattern":"^.*[{]{2}[ -~]+[}]{2}.*$"}]}]},"tm:ref":{"$ref":"#/definitions/tm_ref"}}},"securityScheme":{"anyOf":[{"$ref":"#/definitions/noSecurityScheme"},{"$ref":"#/definitions/comboSecurityScheme"},{"$ref":"#/definitions/basicSecurityScheme"},{"$ref":"#/definitions/digestSecurityScheme"},{"$ref":"#/definitions/apiKeySecurityScheme"},{"$ref":"#/definitions/bearerSecurityScheme"},{"$ref":"#/definitions/pskSecurityScheme"},{"$ref":"#/definitions/oAuth2SecurityScheme"}]},"tm_type_declaration":{"oneOf":[{"type":"string","const":"tm:ThingModel"},{"type":"array","items":{"type":"string"},"contains":{"const":"tm:ThingModel"}}]},"tm_required":{"type":"array","items":{"type":"string","format":"json-pointer"}},"tm_ref":{"type":"string","format":"uri-reference"}},"type":"object","properties":{"id":{"type":"string"},"title":{"$ref":"#/definitions/title"},"titles":{"$ref":"#/definitions/titles"},"properties":{"type":"object","additionalProperties":{"$ref":"#/definitions/property_element"}},"actions":{"type":"object","additionalProperties":{"$ref":"#/definitions/action_element"}},"events":{"type":"object","additionalProperties":{"$ref":"#/definitions/event_element"}},"description":{"$ref":"#/definitions/description"},"descriptions":{"$ref":"#/definitions/descriptions"},"version":{"type":"object","properties":{"instance":{"type":"string"}}},"links":{"type":"array","items":{"oneOf":[{"$ref":"#/definitions/link_element"},{"$ref":"#/definitions/icon_link_element"}]}},"forms":{"type":"array","minItems":1,"items":{"$ref":"#/definitions/form_element_root"}},"base":{"$ref":"#/definitions/anyUri"},"securityDefinitions":{"type":"object","minProperties":1,"additionalProperties":{"$ref":"#/definitions/securityScheme"}},"schemaDefinitions":{"type":"object","minProperties":1,"additionalProperties":{"$ref":"#/definitions/dataSchema"}},"support":{"$ref":"#/definitions/anyUri"},"created":{"type":"string"},"modified":{"type":"string"},"security":{"oneOf":[{"type":"string"},{"type":"array","minItems":1,"items":{"type":"string"}}]},"@type":{"$ref":"#/definitions/tm_type_declaration"},"@context":{"$ref":"#/definitions/thing-context"},"tm:required":{"$ref":"#/definitions/tm_required"}},"additionalProperties":true,"required":["@context","@type"]}')}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var i=t[n]={id:n,loaded:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.loaded=!0,i.exports}r.c=t,r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.nmd=e=>(e.paths=[],e.children||(e.children=[]),e);var n=r(r.s=14482),o=n.u,i=n.L;export{o as EddystoneHelpers,i as createThing};
//# sourceMappingURL=blast.web.js.map